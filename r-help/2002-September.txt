From nklepeis at uclink4.berkeley.edu  Sun Sep  1 19:41:38 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Sun, 01 Sep 2002 10:41:38 -0700
Subject: [R] Limit on Function Size
Message-ID: <3D725152.6040305@uclink4.berkeley.edu>

With R 1.5.1 (Linux/Intel), I noticed that one of my large functions 
(>3000 lines) can no longer be parsed.   Somewhere around 2800 lines, R 
will segfault when I `eval(parse(file="..."))' the function.

I can parse the lines after around line 2800 by themselves (i.e., cut 
and pasted).

Is there some new limit on the size of R functions?


-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,
Berkeley, CA USA.
-- 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep  1 19:58:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 1 Sep 2002 18:58:46 +0100 (BST)
Subject: [R] Limit on Function Size
In-Reply-To: <3D725152.6040305@uclink4.berkeley.edu>
Message-ID: <Pine.LNX.4.31.0209011853110.9781-100000@gannet.stats>

You have probably hit an old limit which was not checked until 1.6.0 (to
be).  The limit is on the amount of text source kept with a function, and
is 128Kb as I recall (sounds about right).  This does not apply to
functions read in from packages (by default).

Use options(keep.source=FALSE), or write shorter functions!

On Sun, 1 Sep 2002, Neil Klepeis wrote:

> With R 1.5.1 (Linux/Intel), I noticed that one of my large functions
> (>3000 lines) can no longer be parsed.   Somewhere around 2800 lines, R
> will segfault when I `eval(parse(file="..."))' the function.

Why not use source(...)?

> I can parse the lines after around line 2800 by themselves (i.e., cut
> and pasted).
>
> Is there some new limit on the size of R functions?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Sun Sep  1 21:35:29 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Sun, 01 Sep 2002 16:35:29 -0300
Subject: [R] Converting the columns of a data frame to numeric
Message-ID: <4.2.2.20020901162903.00a9f980@pop3.norton.antivirus>

Hello,

I have a data frame whose columns are factors with numeric levels and I 
want to convert the columns to numeric so that I can treat the data frame 
as a matrix.
I found a way of doing this but would like to know if there is an easier way.

My way is:

M <- matrix(ncol=ncol(df) , nrow=nrow(df) , as.numeric(as.matrix(df)))

where 'df' is the data frame.

I am wondering if there is a function, similar to as.numeric(), that 
converts each column of the matrix 'as.matrix(df)' to numeric.

Thanks
Daniel Mastropietro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Sep  1 22:18:32 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 01 Sep 2002 22:18:32 +0200
Subject: [R] Converting the columns of a data frame to numeric
References: <4.2.2.20020901162903.00a9f980@pop3.norton.antivirus>
Message-ID: <3D727618.B6865B9@statistik.uni-dortmund.de>

Daniel Mastropietro wrote:
> 
> Hello,
> 
> I have a data frame whose columns are factors with numeric levels and I
> want to convert the columns to numeric so that I can treat the data frame
> as a matrix.
> I found a way of doing this but would like to know if there is an easier way.
> 
> My way is:
> 
> M <- matrix(ncol=ncol(df) , nrow=nrow(df) , as.numeric(as.matrix(df)))
> 
> where 'df' is the data frame.
> 
> I am wondering if there is a function, similar to as.numeric(), that
> converts each column of the matrix 'as.matrix(df)' to numeric.

In your case
  apply(df, 2, as.numeric)
should work (coercing each column to numeric and the data.frame to a
matrix). 
Since it operates on vectors and not on the whole object, this way is
less efficient than the way you mentioned above. 

If you import the data.frame, you might want to tell R that the column
should be treated as numeric.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Mon Sep  2 00:20:56 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Sun, 1 Sep 2002 15:20:56 -0700 (PDT)
Subject: [R] memory storage explosion
In-Reply-To: <Pine.GSO.4.44.0208301514330.8187-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.GSO.4.44.0209011457580.22483-100000@flop.ENGR.ORST.EDU>

Hi all,

I am using R1.5.0 under unix.

I have 2 data.frames x and yx. both have the same number of rows. I wrote
a function abc to do the following:

abc <- function(x, zyx)
{
x[1] <- zyx   # zyx is a column of yx
rpart(x)
}

Then I wrote another function fgh:

fgh <- function()
{
yx <- ............... # yx created
x <- ................  # x created
lapply(yx, abc, x)
}

when I ran function fgh at the prompt, the program started running out of
memory and the process running R gets killed. The reason for
the memory running out is that with every call to the abc function in the
implicit loop lapply, the memory equivalent to that of x is allocated in the
variable storage (Vcells). The trouble is that the memory allocated is not
freed when the function abc is run by lapply for the next element of yx
i.e. in the next loop.

Since x takes up 25 MB of space and since yx has 126 columns, a lot of
memory space keeps getting allocated without being freed even when it is no
longer required.

I wonder if there are any options that I should set so that the memory
allocated within a function is freed when the function is exited. But I am
not sure how to do that or else how to free the memory by any other way.

Could someone tell me how I can avoid this memory explosion?

Thanks in advance,
-Saket.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Sep  2 01:43:28 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 1 Sep 2002 16:43:28 -0700 (PDT)
Subject: [R] memory storage explosion
In-Reply-To: <Pine.GSO.4.44.0209011457580.22483-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.GSO.4.10.10209011641380.11194-100000@quetelet.stat.ucla.edu>

You could make an explicit call to 'gc' to force a garbage collection
(although I don't think this would really make a difference, just
guessing).  Also, you might try using a 'for' loop instead of 'lapply' in 
your 'fgh' function.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 1 Sep 2002, Saket Joshi wrote:

> Hi all,
> 
> I am using R1.5.0 under unix.
> 
> I have 2 data.frames x and yx. both have the same number of rows. I wrote
> a function abc to do the following:
> 
> abc <- function(x, zyx)
> {
> x[1] <- zyx   # zyx is a column of yx
> rpart(x)
> }
> 
> Then I wrote another function fgh:
> 
> fgh <- function()
> {
> yx <- ............... # yx created
> x <- ................  # x created
> lapply(yx, abc, x)
> }
> 
> when I ran function fgh at the prompt, the program started running out of
> memory and the process running R gets killed. The reason for
> the memory running out is that with every call to the abc function in the
> implicit loop lapply, the memory equivalent to that of x is allocated in the
> variable storage (Vcells). The trouble is that the memory allocated is not
> freed when the function abc is run by lapply for the next element of yx
> i.e. in the next loop.
> 
> Since x takes up 25 MB of space and since yx has 126 columns, a lot of
> memory space keeps getting allocated without being freed even when it is no
> longer required.
> 
> I wonder if there are any options that I should set so that the memory
> allocated within a function is freed when the function is exited. But I am
> not sure how to do that or else how to free the memory by any other way.
> 
> Could someone tell me how I can avoid this memory explosion?
> 
> Thanks in advance,
> -Saket.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Edith.Hodgen at nzcer.org.nz  Mon Sep  2 01:44:43 2002
From: Edith.Hodgen at nzcer.org.nz (Edith Hodgen)
Date: Mon, 02 Sep 2002 11:44:43 +1200
Subject: [R] effect size
Message-ID: <sd734f3d.003@smtp.nzcer.org.nz>

Hi

Has anyone out there written functions (or whatever) to calculate effect sizes (that's the easy bit - not too worried about that), and more particularly confidence intervals for effect sizes (estimated iteratively and involves non-central t - worth looking for someone else's wheel, before designing own)?

Thanks



Edith Hodgen
Statistician and Data Manager
New Zealand Council for Educational Research
Phone: +64-4-384 7939 x 812
Fax:      +64-4-384 7933
edith.hodgen at nzcer.org.nz

           Web site http://www.nzcer.org.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep  2 05:26:54 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Sun, 01 Sep 2002 23:26:54 -0400
Subject: [R] density() returns a density function that does not add
 up	to 1
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC620@usrymx10.merck.com>

Note that Tony did say "crude".  For your second example, try

  ddd <- density(dd, n=2^16)

That, hopefully, gives you enough clue.

(What exactly are you trying to do, anyway?  If the kernel used is an actual
pdf, as is case with all the kernel types in density(), I think, then the
estimated density is guaranteed to be a true density, since it's just an
n-component mixture of the kernels.  There's no need to use crude numerical
method to check the integral.)

Andy


> -----Original Message-----
> From: Jonathan Li [mailto:jonqli at labs.agilent.com]
> Sent: Friday, August 30, 2002 4:29 PM
> To: rossini at u.washington.edu
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] density() returns a density function that 
> does not add
> up to 1
> 
> 
> Thank you for the message. It helps a lot. I see where my method was
> wrong.
> Now another case:
> 
> > dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1))
> > ddd <- density(dd)
> > sum( diff(ddd$x)*ddd$y)
> [1] 2.856715
> 
> If you add more extreme tails, the thing gets worse:
> 
> > dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 
> 1000,1), rnorm(5, 5000,1))
> > ddd <- density(dd)
> > sum( diff(ddd$x) * ddd$y)
> [1] 13.90902
> 
> I am not sure what is going on now?
> Thanks again!
> Jonathan
> 
> 
> "A.J. Rossini" wrote:
> > 
> > >>>>> "jonathan" == Jonathan Li <jonqli at labs.agilent.com> writes:
> > 
> >     jonathan> Dear R users,
> >     jonathan> I ran into this curious problem:
> > 
> >     >> d <- rnorm(100)
> >     >> d.density <- density(d)
> >     >> sum( d.density$x * d.density$y)
> >     jonathan> [1] 2.517502
> > 
> > whoops, you probably want something like:
> > 
> > > sum( diff(d.density$x) * d.density$y)
> > [1] 1.000950
> > 
> > instead, for a crude integration (and yes, it throws a warning).
> > 
> > --
> > A.J. Rossini                            Rsrch. Asst. Prof. 
> of Biostatistics
> > U. of Washington Biostatistics          rossini at u.washington.edu
> > FHCRC/SCHARP/HIV Vaccine Trials Net     rossini at scharp.org
> > -------------- http://software.biostat.washington.edu/ 
> ----------------
> > FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty 
> sketchy/use Email
> > UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of 
> phone to FAX
> > (my tuesday/wednesday/friday locations are completely 
> unpredictable.)
> 
> -- 
> Jonathan Q. Li, PhD
> Agilent Technologies Laboratory
> Palo Alto, California, USA
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dhaugh at coombs.anu.edu.au  Mon Sep  2 08:14:19 2002
From: dhaugh at coombs.anu.edu.au (David Haugh)
Date: Mon, 02 Sep 2002 16:14:19 +1000
Subject: [R] Re: Recursive AR
Message-ID: <5.1.0.14.0.20020902161230.009f7e20@mail.coombs.anu.edu.au>

I would like to estimate an AR recursively. Is the lm.fit.recursive command 
the correct one?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Mon Sep  2 08:41:25 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Mon, 2 Sep 2002 07:41:25 +0100
Subject: [R] RE: Counting elements in 2 rows of a matrix
Message-ID: <003201c2524b$c2905960$461401a3@stats.ox.ac.uk>

Try either this or crossprod() ...
> x%*%t(x)

     [,1] [,2] [,3] [,4]
[1,]    2    0    2    2
[2,]    0    2    0    1
[3,]    2    0    2    2
[4,]    2    1    2    4

The above is "like" distance matrix. eg B and D have only one "1" in common.
Notice the symmetry about the diagonal.
The diagonals are not so useful as they tell you how many "1"'s A, B, C, D
have in them.
  ----- Original Message -----
  From: To: r-help at stat.math.ethz.ch
  Sent: Saturday, August 31, 2002 6:22 AM
  Subject: [R] Counting elements in 2 rows of a matrix


  Dear R-users:

  Sorry to bother so late with this question, which surely has simple
answer. I'm working with matrices that contain either "1" or "0", for
example:

  [,1] [,2] [,3] [,4] [,5]
  A 1 0 1 0 0
  B 0 1 0 1 0
  C 1 0 1 0 0
  D 1 1 1 0 1

  I want to count the number of "1" common to, say, A and B, the number of
"1" that appear only in A and the number of "1" that appear only in B.
Please let me know if there's a simple way of doing this without the
complicated for...next loops that have come across my mind.

  Fredy Mej?a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From parrinel at med.unibs.it  Mon Sep  2 10:15:01 2002
From: parrinel at med.unibs.it (Giovanni Parrinello)
Date: Mon, 02 Sep 2002 10:15:01 +0200
Subject: [R] tests for equal CV
Message-ID: <5.0.2.1.1.20020902100242.028a4af0@pop.med.unibs.it>

Hi
Has anyone out there written functions to calculate test for equal 
coefficients of variation ( the modified Miller asymptotic test, the 
squared ranks test,..)?
TIA
Giovanni Parrinello
dr. Giovanni Parrinello
Medical Statistics Unit
Department of Medical Sciences
University of Brescia
Via Valsabbina, 19
25127 Brescia
Italy
tel.: +39303717528
fax:+39303701157
E-mail: parrinel at med.unibs.it
url: http://www.med.unibs.it/dip/stat/index.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep  2 15:16:22 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 2 Sep 2002 15:16:22 +0200
Subject: [R] 2 questions about cluster analysis
In-Reply-To: <DE586A82-B9D5-11D6-8CBB-000A27DCBAD6@mac.com>
References: <DE586A82-B9D5-11D6-8CBB-000A27DCBAD6@mac.com>
Message-ID: <15731.25766.509905.598764@gargle.gargle.HOWL>

>>>>> "Fredy" == Fredy Mej?a <fmejia at mac.com>
>>>>>     on Tue, 27 Aug 2002 09:58:46 -0600 writes:

Hola Fredy,

    Fredy> Hello everyone!  I have two questions regarding
    Fredy> cluster analysis with the package 'cluster' :

    Fredy> 1.  I have a dissimilarity matrix in csv format, 
you mean it's in a *file* in csv format ?
--> look at the help pages ?read.csv and maybe ?scan on how to
read the file.  
Maybe you'll want to apply as.matrix(.) on the result

    Fredy> and I would like to use it to generate a dendogram using
    Fredy>'hclust'.  How do I make that matrix compatible with
    Fredy> the function?  I think it has to be similar to the
    Fredy> objects generated by the 'dist' function.  Any ideas?

Yes (but this has nothing to do with the cluster package,
     both  hclust() and dist() are in package mva).
Have you looked at  help(dist) ?

Given the following question {and also in general}, I'd
recommend to use
   daisy()  instead of dist()   --> help(daisy)
and
   agnes()  instead of hclust()

    Fredy> 2.  Does anybody have a code for calculating a
    Fredy> similarity matrix using the Nei-Li index.  
Can you tell us what it is?

    Fredy> My data has either presence (1) or absence (0) for several
    Fredy> attributes in 73 individuals (specifically, I'm
    Fredy> trying to construct a dendogram with RFLP data)

This (binary or categorical variables; and missing values) is a
reason for using daisy() instead of dist() !

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep  2 15:36:00 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 2 Sep 2002 15:36:00 +0200
Subject: [R] Converting the columns of a data frame to numeric
In-Reply-To: <4.2.2.20020901162903.00a9f980@pop3.norton.antivirus>
References: <4.2.2.20020901162903.00a9f980@pop3.norton.antivirus>
Message-ID: <15731.26944.129347.338332@gargle.gargle.HOWL>

>>>>> "Daniel" == Daniel Mastropietro <mastropi at uwalumni.com>
>>>>>     on Sun, 01 Sep 2002 16:35:29 -0300 writes:

    Daniel> Hello, I have a data frame whose columns are factors
    Daniel> with numeric levels and I want to convert the
    Daniel> columns to numeric so that I can treat the data
    Daniel> frame as a matrix.  I found a way of doing this but
    Daniel> would like to know if there is an easier way.

    Daniel> My way is:

    Daniel> M <- matrix(ncol=ncol(df), nrow=nrow(df), as.numeric(as.matrix(df)))

    Daniel> where 'df' is the data frame.

Would
	M <- data.matrix(df)

solve your problem?  I think it is intended to.
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Mon Sep  2 15:42:07 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Mon, 2 Sep 2002 15:42:07 +0200
Subject: [R] formula for a mixed model ANOVA
Message-ID: <MABBLJDICACNFOLGIHJOAEAGCPAA.philippe.grosjean@ifremer.fr>

Hi,

I am not very familiar with complex ANOVA, so, I am not sure about the
formula to use with aov() in this particular case. Could someone help me?

Here is my data. I have an unbalanced plan with 4 factors: "Site", "Sex",
"Age" and "Individual". "Site" is a 5-level fixed factor; "Sex" is of course
a 2-levels fixed factor, as is "Age". "Individual" is a nested random
factor: we sampled 4 to 10 individuals for each combinations Site*Sex*Age.
150 replicate measurements were made on each sampled individual ("OTM",
toxicity test; % of broken DNA for randomly selected cells).

if the formula "OTM ~ (Site*Sex*Age)/Individual" correct?

The purpose of this study is to choose a statistic that best summarizes the
150 measurements (mean, median, quantile, % of counts above a certain
level,...) in order to simplify the analysis to "stat(OTM) ~ Site*Sex*Age"
(where stat(OTM) is the statitstic applied by individual), in such a way
that intergroup variance is highest.

Any help or advise is welcome.
Thanks,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Sep  2 16:34:03 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 2 Sep 2002 16:34:03 +0200
Subject: [R] ifelse behavior
Message-ID: <20020902163403.5f686b74.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear R-Users,

I cannot understand the behavior of ifelse.
I have a vector blah
> str(blah)
List of 14
 $ index.s   : num 100
 $ index.u   : num 100
 $ index.t   : num 100
 $ yabstand.s: num NA
 $ yabstand.u: num NA
 $ modal.s   : int 8
 $ modal.u   : int 71
 $ modal.t   : int 21
> 
> str(blah$index.s)
 num 100
> 
everything seems OK.
when I do a ifelse-check, something strange happens:
> ifelse(blah$index.s == 100 ,1,2)
[1] 2

When I replace the blah$index.s with 100 like the following line does
> blah$index.s <-  100
> str(blah$index.s)        
 num 100
it is a numeric value as well, but the result of the ifelse-check is
different!!
> ifelse(blah$index.s == 100 ,1,2)
[1] 1
that's the result which is correct!

Can anybody explain this behavior please ?!

thank you
- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9c3bbEg9SKhGUagkRAi3UAJ46mOt/FsDdwzyaZ7vrauarVLpEjgCdHUIp
K6XkXwhVxW65Sw1iiOlk9cE=
=roN2
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  2 16:43:11 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 2002 16:43:11 +0200
Subject: [R] ifelse behavior
In-Reply-To: <20020902163403.5f686b74.sholl@gmx.net>
References: <20020902163403.5f686b74.sholl@gmx.net>
Message-ID: <x21y8claf4.fsf@biostat.ku.dk>

Stephan Holl <sholl at gmx.net> writes:

> > str(blah$index.s)
>  num 100
> > 
> everything seems OK.
> when I do a ifelse-check, something strange happens:
> > ifelse(blah$index.s == 100 ,1,2)
> [1] 2
> 
> When I replace the blah$index.s with 100 like the following line does
> > blah$index.s <-  100
> > str(blah$index.s)        
>  num 100
> it is a numeric value as well, but the result of the ifelse-check is
> different!!
> > ifelse(blah$index.s == 100 ,1,2)
> [1] 1
> that's the result which is correct!
> 
> Can anybody explain this behavior please ?!

What happens if you say 

blah$index.s - 100 

in the two cases?
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  2 16:44:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 2 Sep 2002 15:44:05 +0100 (BST)
Subject: [R] formula for a mixed model ANOVA
In-Reply-To: <MABBLJDICACNFOLGIHJOAEAGCPAA.philippe.grosjean@ifremer.fr>
Message-ID: <Pine.LNX.4.31.0209021450230.16480-100000@gannet.stats>

I think lack of balance makes mixed-model AOV inappropriate.

As I understand it, Individual is a random effect. You may as well averge
the results for each individual rather than try a mixed-effect analysis
with Error(Individual).  You are not interested (I think) in the
components of variance, and on the individuals' means are in the stratum
with the factors of interest.

You will have a  5x2x2 factorial with unequal replication, that will
complicate model choice and interpretation.

On Mon, 2 Sep 2002, Philippe Grosjean wrote:

> Hi,
>
> I am not very familiar with complex ANOVA, so, I am not sure about the
> formula to use with aov() in this particular case. Could someone help me?
>
> Here is my data. I have an unbalanced plan with 4 factors: "Site", "Sex",
> "Age" and "Individual". "Site" is a 5-level fixed factor; "Sex" is of course
> a 2-levels fixed factor, as is "Age". "Individual" is a nested random
> factor: we sampled 4 to 10 individuals for each combinations Site*Sex*Age.
> 150 replicate measurements were made on each sampled individual ("OTM",
> toxicity test; % of broken DNA for randomly selected cells).
>
> if the formula "OTM ~ (Site*Sex*Age)/Individual" correct?
>
> The purpose of this study is to choose a statistic that best summarizes the
> 150 measurements (mean, median, quantile, % of counts above a certain
> level,...) in order to simplify the analysis to "stat(OTM) ~ Site*Sex*Age"
> (where stat(OTM) is the statitstic applied by individual), in such a way
> that intergroup variance is highest.

Well, AOV does that with mean anyway.  Surely you want the ratio of the
intergroup/intergroup variances to be highest?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Sep  2 16:47:25 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 2 Sep 2002 16:47:25 +0200
Subject: [R] ifelse behavior
In-Reply-To: <x21y8claf4.fsf@biostat.ku.dk>
References: <20020902163403.5f686b74.sholl@gmx.net>
	<x21y8claf4.fsf@biostat.ku.dk>
Message-ID: <20020902164725.4ae53b6c.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

At 02 Sep 2002 16:43:11 +0200 Peter Dalgaard BSA wrote:

Hello Peter

> Stephan Holl <sholl at gmx.net> writes:
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -> whats that ?!

> > Can anybody explain this behavior please ?!
> 
> What happens if you say 
> 
> blah$index.s - 100 
> 
> in the two cases?


 blah$index.s -100
[1] -1.421085e-14

cheers 
- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9c3n9Eg9SKhGUagkRAidAAJwJbsISZ+D6V4ZnuN6rhTv7QYwvBwCeM5NL
PHZOC+C7+hA7gv6cwYCXPvI=
=m8Qn
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  2 17:00:02 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 2002 17:00:02 +0200
Subject: [R] ifelse behavior
In-Reply-To: <20020902164725.4ae53b6c.sholl@gmx.net>
References: <20020902163403.5f686b74.sholl@gmx.net>
	<x21y8claf4.fsf@biostat.ku.dk> <20020902164725.4ae53b6c.sholl@gmx.net>
Message-ID: <x2vg5ojv2l.fsf@biostat.ku.dk>

Stephan Holl <sholl at gmx.net> writes:

> At 02 Sep 2002 16:43:11 +0200 Peter Dalgaard BSA wrote:
> 
> Hello Peter
> 
> > Stephan Holl <sholl at gmx.net> writes:
> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -> whats that ?!
> 
> > > Can anybody explain this behavior please ?!
> > 
> > What happens if you say 
> > 
> > blah$index.s - 100 
> > 
> > in the two cases?
> 
> 
>  blah$index.s -100
> [1] -1.421085e-14

I.e.: Never trust exact equality with floatingpoint numbers!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Sep  2 17:07:37 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 2 Sep 2002 17:07:37 +0200
Subject: [R] ifelse behavior[solved]
In-Reply-To: <x2vg5ojv2l.fsf@biostat.ku.dk>
References: <20020902163403.5f686b74.sholl@gmx.net>
	<x21y8claf4.fsf@biostat.ku.dk>
	<20020902164725.4ae53b6c.sholl@gmx.net>
	<x2vg5ojv2l.fsf@biostat.ku.dk>
Message-ID: <20020902170737.2a871146.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

At 02 Sep 2002 17:00:02 +0200 Peter Dalgaard BSA wrote:

Hello Peter

> >  blah$index.s -100
> > [1] -1.421085e-14
> 
> I.e.: Never trust exact equality with floatingpoint numbers!

I could solve the problem when I used the round() function. Then the
wanted result came out.

anyway,
thanks for your help

cheers
- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9c365Eg9SKhGUagkRAvELAJ4pkJLEQMGWBIfswKbvVqBoIvwxOQCbBxRv
vHKRTH9DmRGcc46jGwdxJUQ=
=F4jL
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Mon Sep  2 19:01:11 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Mon, 02 Sep 2002 10:01:11 -0700
Subject: [R] Limit on Function Size
References: <Pine.LNX.4.31.0209011853110.9781-100000@gannet.stats>
Message-ID: <3D739957.3090806@uclink4.berkeley.edu>

I do:

options(keep.source=F)
source(file="mybigRfunction.Rf")

and R 1.5.1 still segfaults.  R 1.5.0 and earlier did not.  R also 
crashes when trying to compile (R CMD check) the source package that 
this function resides in:

[...]
* checking examples ... ERROR
Running examples failed.

The odd thing is that the package has *no* examples.   I think it 
crashes when trying to the load the package (which the examples *.R 
script apparently tries to do), since:

I *can* install the package.  But loading it with:

library(PackageWithBigFunction)

also causes R to segfault.


ripley at stats.ox.ac.uk wrote:
> You have probably hit an old limit which was not checked until 1.6.0 (to
> be).  The limit is on the amount of text source kept with a function, and
> is 128Kb as I recall (sounds about right).  This does not apply to
> functions read in from packages (by default).
> 
> Use options(keep.source=FALSE), or write shorter functions!
> 
> On Sun, 1 Sep 2002, Neil Klepeis wrote:
> 
> 
>>With R 1.5.1 (Linux/Intel), I noticed that one of my large functions
>>(>3000 lines) can no longer be parsed.   Somewhere around 2800 lines, R
>>will segfault when I `eval(parse(file="..."))' the function.
> 
> 
> Why not use source(...)?
> 
> 
>>I can parse the lines after around line 2800 by themselves (i.e., cut
>>and pasted).
>>
>>Is there some new limit on the size of R functions?
> 
> 



-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,
Berkeley, CA USA.  Voice: 831-768-9510

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon Sep  2 19:19:43 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 02 Sep 2002 19:19:43 +0200
Subject: [R] Partitioning an nxp Time series matrix
References: <F2866zwIbtJFiRBSuaa00009854@hotmail.com>
Message-ID: <3D739DAF.7322F4C2@ci.tuwien.ac.at>

Neil Osborne wrote:
> 
> Hi,
> 
> I have an nxp data set of time series. For my final year project, I would
> like to partition this data set into a smaller number of units ( < n). Where
> each of the units contains time series that move closely together (i.e. in
> unison), and the "simmilarity" (in terms of occurence & amplitudes of peaks
> and troughs) between the segregated units is "low".
> 
> I know these are slightly "fuzzy" terms, but I want to get to the essence of
> what I'm trying to achieve (time series partitioning), without throwing in
> words like correlation or cointegration which are "trigger" words. I would
> like to know if anyone has done this kind of partitioning before ?

I haven't, only with univariate time series in a regression framework.
The next version of the package strucchange  will contain functions to
estimate breakpoints in regression relationships and thus for
partitioning univariate time series. This is mostly based on work of Bai
& Perron, (1998, 2001).

But maybe this functionality could be used in something like a
cointegration regression as well, although I haven't seen such an
application and I'm not entirely sure whether it would be sensible.
Hope that helps
Z


> Any tips or suggestions as to how to carry out such a partioning in R will
> be MOST welcome. Ideally, I would like to automate this partitioning through
> an R "script" since n will be approx 500, and it will not be feasible to do
> this manually.
> 
> Any pointers/help will be very much appreciated
> 
> Regards
> 
> _________________________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Mon Sep  2 19:35:59 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Mon, 2 Sep 2002 18:35:59 +0100
Subject: [R] Coplot graph manipulation
Message-ID: <002e01c252a7$338cb270$a81401a3@stats.ox.ac.uk>

I am currently plotting a graph with the function coplot() conditional on
two factors which gives me 36 sub-panels.
I have a few questions in general about changing the size of the graph. My
question follows :

a) I have a fair bit of text to put on the margin sides using mtext(). What
is the best way to shrink the whole graph to say 80 - 90% so that I can
include a bit more words.

b) Since I am conditioning on two variables, the plot also automatically
plots the words "Given : a" and "Given : a" on the top and right hand of the
plot. I do not require this and would like them to be removed. How do I do
that ?  (I have already set the option show.given = F)

and less importantly ...

c) How does one change the labels on the sub-axis (either x of y) to a given
vector.

d) How to rotate the axis label 45 degree counter clockwise. I tried
par(las=1.5) etc without much luck.

Many thanks in advance.

Regards, Adai.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  2 23:42:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 2002 23:42:43 +0200
Subject: [R] Limit on Function Size
In-Reply-To: <3D739957.3090806@uclink4.berkeley.edu>
References: <Pine.LNX.4.31.0209011853110.9781-100000@gannet.stats>
	<3D739957.3090806@uclink4.berkeley.edu>
Message-ID: <x2vg5oukz0.fsf@biostat.ku.dk>

Neil Klepeis <nklepeis at uclink4.berkeley.edu> writes:

> I do:
> 
> options(keep.source=F)
> source(file="mybigRfunction.Rf")
> 
> and R 1.5.1 still segfaults.  R 1.5.0 and earlier did not.

Hmm. It sounds like it might be worthwhile seeing if this happens with
R-1.6.0-to-be. Could you put the source somewhere where we can get to it?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Tue Sep  3 00:20:55 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Tue, 3 Sep 2002 10:20:55 +1200
Subject: [R] reshape()
Message-ID: <200209022220.g82MKt131956@r.hankin.sems.auckland.ac.nz>

Dear Helplist

I have a dataframe that holds the Southern Oscillation Index over the
last few years:

R> soi[1:3,]
  Year Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1 1993  -9 -10 -12 -24  -9 -18 -11 -18  -9 -15  -1   0
2 1994  -2  -1 -14 -26 -13 -12 -18 -20 -19 -16  -9 -15
3 1995  -4  -5   2 -19  -9  -3   4  -1   3  -2   0  -8


QUESTION: how do I coerce reshape() into giving me this:

   Year Month SOI
1  1993  Jan   -9
2  1993  Feb  -10
3  1993  Mar  -12
4  1993  Apr  -24
...
36 1995  Dec   -8

(or indeed, is there a better method than reshape()?).  I just can't
seem to find the right combination of times= and idvar= to work.

thanks in advance
rksh


R> dput(soi)
structure(list(Year = c(1993, 1994, 1995, 1996, 1997, 1998, 1999, 
2000, 2001, 2002), Jan = c(-9, -2, -4, 9, 5, -26, 17, 6, 10, 
3), Feb = c(-10, -1, -5, -1, 12, -22, 7, 12, 11, 6), Mar = c(-12, 
-14, 2, 5, -12, -35, 8, 8, 5, -8), Apr = c(-24, -26, -19, 9, 
-19, -28, 21, 19, 0, -5), May = c(-9, -13, -9, 1, -23, 0, 1, 
4, -9, -15), Jun = c(-18, -12, -3, 14, -27, 9, 0, -7, 1, -8), 
    Jul = c(-11, -18, 4, 7, -10, 15, 5, -4, -3, -8), Aug = c(-18, 
    -20, -1, 3, -23, 9, 1, 4, -11, NA), Sep = c(-9, -19, 3, 6, 
    -16, 11, -1, 9, 1, NA), Oct = c(-15, -16, -2, 3, -20, 10, 
    8, 9, -3, NA), Nov = c(-1, -9, 0, -1, -18, 12, 13, 23, 6, 
    NA), Dec = c(0, -15, -8, 6, -12, 13, 12, 7, -12, NA)), .Names = c("Year", 
"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", 
"Oct", "Nov", "Dec"), class = "data.frame", row.names = c("1", 
"2", "3", "4", "5", "6", "7", "8", "9", "10"))
R> 




-- 

Robin Hankin, Lecturer,
School of Geography and Environmental Science
Tamaki Campus
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Tue Sep  3 10:16:00 NZST 2002
This (linux) system up continuously for:  369 days, 16 hours, 58 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Tue Sep  3 01:29:04 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Mon, 02 Sep 2002 16:29:04 -0700
Subject: [R] Limit on Function Size
References: <Pine.LNX.4.31.0209011853110.9781-100000@gannet.stats>	<3D739957.3090806@uclink4.berkeley.edu> <x2vg5oukz0.fsf@biostat.ku.dk>
Message-ID: <3D73F440.2020903@uclink4.berkeley.edu>

Here is the function (3000+ lines), which source's OK on R 1.5.0 but not 
on R 1.5.1:

http://socrates.berkeley.edu/~nklepeis/heR/load.pteam.data.Rf

wc gives:
    3031   17943  219157 load.pteam.data.Rf


Peter Dalgaard BSA wrote:
> Neil Klepeis <nklepeis at uclink4.berkeley.edu> writes:
> 
> 
>>I do:
>>
>>options(keep.source=F)
>>source(file="mybigRfunction.Rf")
>>
>>and R 1.5.1 still segfaults.  R 1.5.0 and earlier did not.
> 
> 
> Hmm. It sounds like it might be worthwhile seeing if this happens with
> R-1.6.0-to-be. Could you put the source somewhere where we can get to it?
> 
> 



-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,
Berkeley, CA USA.  Voice: 831-768-9510

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Allyson.Williams at dpi.qld.gov.au  Tue Sep  3 02:19:54 2002
From: Allyson.Williams at dpi.qld.gov.au (Williams, Allyson)
Date: Tue, 3 Sep 2002 10:19:54 +1000
Subject: No subject
Message-ID: <03DC03917AD26444A980CD8D4BC9621604E0CA@decsrv001.dpi.qld.gov.au>

Hello,

I'm doing a pca analysis and get unrotated PCA results (using "pca").

I then used "varimax" to rotate the PCs, 

vload <- varimax(cproj,normalize=TRUE,eps=1e-5)  #cproj is the
"loadings" from "pca"


and calculate the score coefficients with:
coef <- solve(correlation matrix of original data) %*% (vload$loadings)


Then calculate the scores with:
scores <- (standardised original data) %*% coef 



My problem: I am not producing correct rotated results. (as shown by a
comparison of my rotated scores from those produced by the software
"Statistica").

The unrotated loadings and scores are correct.


What have I done wrong with "varimax"?


Many thanks.

Regards,
Allyson Williams

********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep  3 03:26:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 2 Sep 2002 18:26:01 -0700 (PDT)
Subject: [R] Limit on Function Size
In-Reply-To: <3D73F440.2020903@uclink4.berkeley.edu>
Message-ID: <Pine.A41.4.44.0209021823520.45220-100000@homer32.u.washington.edu>

On Mon, 2 Sep 2002, Neil Klepeis wrote:

> Here is the function (3000+ lines), which source's OK on R 1.5.0 but not
> on R 1.5.1:
>

Ok, it segfaults for me on 1.5.1 but not on r-devel, so it looks as if
this is fixed.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep  3 03:31:34 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 2 Sep 2002 18:31:34 -0700 (PDT)
Subject: [R] reshape()
In-Reply-To: <200209022220.g82MKt131956@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.A41.4.44.0209021830260.45220-100000@homer32.u.washington.edu>

On Tue, 3 Sep 2002, Robin Hankin wrote:

> Dear Helplist
>
> I have a dataframe that holds the Southern Oscillation Index over the
> last few years:
>
> R> soi[1:3,]
>   Year Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
> 1 1993  -9 -10 -12 -24  -9 -18 -11 -18  -9 -15  -1   0
> 2 1994  -2  -1 -14 -26 -13 -12 -18 -20 -19 -16  -9 -15
> 3 1995  -4  -5   2 -19  -9  -3   4  -1   3  -2   0  -8
>
>
> QUESTION: how do I coerce reshape() into giving me this:
>
>    Year Month SOI
> 1  1993  Jan   -9
> 2  1993  Feb  -10
> 3  1993  Mar  -12
> 4  1993  Apr  -24
> ...
> 36 1995  Dec   -8
>

months<-names(soi)[-1]
reshape(soi,timevar="Year",varying=list(months),times=months,direction="long")

This produces an unnecessary but harmless "id" variable as well.
	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at msn.com  Tue Sep  3 04:11:32 2002
From: hammour at msn.com (Ahmad Abu Hammour)
Date: Mon, 2 Sep 2002 22:11:32 -0400
Subject: [R] t(xmat)
Message-ID: <OE64A7xibFKyLRV8tLk00014940@hotmail.com>

Hi,
I have a matrix and time series "xmat". I have no problem executing any matrix functions except t(xmat) which gives the following error message. My question if "xmat" is a matrix why I can not execute this matrix function?? converting the time series and matrix into a data frame solves the problem
>dim(xmat)
[1] 98  7
> t(xmat)
Error in "tsp<-"(*tmp*, value = xtsp) : invalid time series parameters specified
> is.matrix(xmat)
[1] TRUE
> is.ts(xmat)
[1] TRUE
> is.data.frame(xmat)
[1] FALSE

Ahmad Abu Hammour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020902/31f45f7d/attachment.html

From joshi at engr.orst.edu  Tue Sep  3 04:30:42 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Mon, 2 Sep 2002 19:30:42 -0700 (PDT)
Subject: [R] memory storage explosion
In-Reply-To: <Pine.GSO.4.10.10209011641380.11194-100000@quetelet.stat.ucla.edu>
Message-ID: <Pine.GSO.4.44.0209021910350.1381-100000@flop.ENGR.ORST.EDU>

Hi,

I tried using 'for' loops and also tried explicit calls to gc() (infact
that is how I found out when and how much memory is being allocated and that it
is not getting freed).

Could this be a bug in R? If not so, the there must be a way to free this
memory used. Could you give me some idea as to how I can do that?

Thanks,
-Saket.


On Sun, 1 Sep 2002, Roger Peng wrote:

> You could make an explicit call to 'gc' to force a garbage collection
> (although I don't think this would really make a difference, just
> guessing).  Also, you might try using a 'for' loop instead of 'lapply' in
> your 'fgh' function.
>
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
>
> On Sun, 1 Sep 2002, Saket Joshi wrote:
>
> > Hi all,
> >
> > I am using R1.5.0 under unix.
> >
> > I have 2 data.frames x and yx. both have the same number of rows. I wrote
> > a function abc to do the following:
> >
> > abc <- function(x, zyx)
> > {
> > x[1] <- zyx   # zyx is a column of yx
> > rpart(x)
> > }
> >
> > Then I wrote another function fgh:
> >
> > fgh <- function()
> > {
> > yx <- ............... # yx created
> > x <- ................  # x created
> > lapply(yx, abc, x)
> > }
> >
> > when I ran function fgh at the prompt, the program started running out of
> > memory and the process running R gets killed. The reason for
> > the memory running out is that with every call to the abc function in the
> > implicit loop lapply, the memory equivalent to that of x is allocated in the
> > variable storage (Vcells). The trouble is that the memory allocated is not
> > freed when the function abc is run by lapply for the next element of yx
> > i.e. in the next loop.
> >
> > Since x takes up 25 MB of space and since yx has 126 columns, a lot of
> > memory space keeps getting allocated without being freed even when it is no
> > longer required.
> >
> > I wonder if there are any options that I should set so that the memory
> > allocated within a function is freed when the function is exited. But I am
> > not sure how to do that or else how to free the memory by any other way.
> >
> > Could someone tell me how I can avoid this memory explosion?
> >
> > Thanks in advance,
> > -Saket.
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Norman.Good at dpi.qld.gov.au  Tue Sep  3 05:03:57 2002
From: Norman.Good at dpi.qld.gov.au (Good, Norman)
Date: Tue, 3 Sep 2002 13:03:57 +1000
Subject: [R] RE: 
Message-ID: <03DC03917AD26444A980CD8D4BC96216043937@decsrv001.dpi.qld.gov.au>

It may depend on which decomposition method you are using, princomp uses
eigen whereas prcomp use svd. What does Statistica use?

-----Original Message-----
From: Williams, Allyson 
Sent: Tuesday, 3 September 2002 10:20 AM
To: r-help at stat.math.ethz.ch
Subject: 


Hello,

I'm doing a pca analysis and get unrotated PCA results (using "pca").

I then used "varimax" to rotate the PCs, 

vload <- varimax(cproj,normalize=TRUE,eps=1e-5)  #cproj is the
"loadings" from "pca"


and calculate the score coefficients with:
coef <- solve(correlation matrix of original data) %*% (vload$loadings)


Then calculate the scores with:
scores <- (standardised original data) %*% coef 



My problem: I am not producing correct rotated results. (as shown by a
comparison of my rotated scores from those produced by the software
"Statistica").

The unrotated loadings and scores are correct.


What have I done wrong with "varimax"?


Many thanks.

Regards,
Allyson Williams

********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  3 08:35:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 3 Sep 2002 07:35:48 +0100 (BST)
Subject: [R] Limit on Function Size
In-Reply-To: <Pine.A41.4.44.0209021823520.45220-100000@homer32.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0209030731030.29259-100000@gannet.stats>

On Mon, 2 Sep 2002, Thomas Lumley wrote:

> On Mon, 2 Sep 2002, Neil Klepeis wrote:
>
> > Here is the function (3000+ lines), which source's OK on R 1.5.0 but not
> > on R 1.5.1:
> >
>
> Ok, it segfaults for me on 1.5.1 but not on r-devel, so it looks as if
> this is fixed.

The issue was the one I mentioned, the unchecked limit on the kept source.
As it is now checked, the buffers are no longer overwritten.  My guess is
that it was chance that this worked in 1.5.0.

Unfortunately, it seems options(keep.source=FALSE) was (and is) not
stopping the source being kept, and I need to track down that bug. (It is
harmless in the current R-devel.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  3 09:05:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 2002 09:05:06 +0200
Subject: [R] memory storage explosion
In-Reply-To: <Pine.GSO.4.44.0209021910350.1381-100000@flop.ENGR.ORST.EDU>
References: <Pine.GSO.4.44.0209021910350.1381-100000@flop.ENGR.ORST.EDU>
Message-ID: <x2elcbr1st.fsf@biostat.ku.dk>

Saket Joshi <joshi at engr.orst.edu> writes:

> Hi,
> 
> I tried using 'for' loops and also tried explicit calls to gc() (infact
> that is how I found out when and how much memory is being allocated and that it
> is not getting freed).
> 
> Could this be a bug in R? If not so, the there must be a way to free this
> memory used. Could you give me some idea as to how I can do that?

I suspect R is just doing what you ask of it. You seem to be
collecting a large number of rpart objects (returned from abc()) and
saving them up in the return value from lapply(). Each rpart object
has a reference to the data it was calculated on (and these references
cannot point to the same storage since you modify the data frame
inside abc()), so you end up storing 126 objects the size of your
original 25MB dataset.


> On Sun, 1 Sep 2002, Roger Peng wrote:
> 
> > You could make an explicit call to 'gc' to force a garbage collection
> > (although I don't think this would really make a difference, just
> > guessing).  Also, you might try using a 'for' loop instead of 'lapply' in
> > your 'fgh' function.
> >
> > -roger
> > _______________________________
> > UCLA Department of Statistics
> > rpeng at stat.ucla.edu
> > http://www.stat.ucla.edu/~rpeng
> >
> > On Sun, 1 Sep 2002, Saket Joshi wrote:
> >
> > > Hi all,
> > >
> > > I am using R1.5.0 under unix.
> > >
> > > I have 2 data.frames x and yx. both have the same number of rows. I wrote
> > > a function abc to do the following:
> > >
> > > abc <- function(x, zyx)
> > > {
> > > x[1] <- zyx   # zyx is a column of yx
> > > rpart(x)
> > > }
> > >
> > > Then I wrote another function fgh:
> > >
> > > fgh <- function()
> > > {
> > > yx <- ............... # yx created
> > > x <- ................  # x created
> > > lapply(yx, abc, x)
> > > }
> > >
> > > when I ran function fgh at the prompt, the program started running out of
> > > memory and the process running R gets killed. The reason for
> > > the memory running out is that with every call to the abc function in the
> > > implicit loop lapply, the memory equivalent to that of x is allocated in the
> > > variable storage (Vcells). The trouble is that the memory allocated is not
> > > freed when the function abc is run by lapply for the next element of yx
> > > i.e. in the next loop.
> > >
> > > Since x takes up 25 MB of space and since yx has 126 columns, a lot of
> > > memory space keeps getting allocated without being freed even when it is no
> > > longer required.
> > >
> > > I wonder if there are any options that I should set so that the memory
> > > allocated within a function is freed when the function is exited. But I am
> > > not sure how to do that or else how to free the memory by any other way.
> > >
> > > Could someone tell me how I can avoid this memory explosion?
> > >
> > > Thanks in advance,
> > > -Saket.
> > >
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Sep  3 00:59:32 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 3 Sep 2002 10:59:32 +1200
Subject: [R] t(xmat)
In-Reply-To: <OE64A7xibFKyLRV8tLk00014940@hotmail.com>; from hammour@msn.com on Mon, Sep 02, 2002 at 10:11:32PM -0400
References: <OE64A7xibFKyLRV8tLk00014940@hotmail.com>
Message-ID: <20020903105932.A9889@camille.indigoindustrial.co.nz>

On Mon, Sep 02, 2002 at 10:11:32PM -0400, Ahmad Abu Hammour wrote:
> I have a matrix and time series "xmat". 

I take it that's a multivariate time series?
class(xmat) would tell you.

> I have no problem executing any matrix functions except 
> t(xmat) which gives the following error message. 

Not clear why you'd want to do this.  A time series is supposed
to have a start, end, and fixed sample time.  Each column is 
a series of observations of one variable.  

The transpose of a multivariate time series changes that to
a series of observations across variables, for a fixed time
for each.  Has its place, but not really in time series analysis.
This *does* make some sense for a data frame, but then
you've already noted that that's an easy conversion.

Further, a time series has a start and an end.  The observations
progress down the columns.  Assuming the transpose had some 
meaning to a time series, transposing it would require a 
modification of the start and end times.

If that's not what you meant, you probably don't need it to 
be a time series.

Note that this *does* work for a sqare time series....

xmat2 <- ts(matrix(rnorm(100),ncol=10))
t(xmat2)

gives an error-free answer (but I still maintain you'd likely
be doing something that wasn't time series analysis for this 
to be useful).

> My question if "xmat" is a matrix why I can not execute this 
> matrix function?? 

It's a matrix whose columns are time series.  It tells you,
correctly, that what you asked made no sense to its internal
time series book-keeping.

> converting the time series and matrix into a data frame solves the problem

Short answer:  Yup.  Same for ts to matrix conversion. ;-)  

Long answer:  By converting to a data frame or matrix, you've told 
R to stop worrying about the data as a time series (sequential 
observations etc., see above).  You've thrown away the start, end, 
deltat, etc.  xmat is now just a block of numbers, and transposes 
make sense once more.  

R stops caring about the time series details (which broke before, but 
that's hardly R's fault), and now treats it as a bunch of collected 
numbers.

If that sounds like a lot of finnicky extras, it is.  It just happens
that those finnicky extras are essential to easy time series 
manipulation.  Doing time series analysis without them is a serious
pain.  Transposes just don't make sense in time series analysis,
is all.

If you don't need the finnicky extras, it sounds like matricies
will suffice.  If you really, really need time series properties
for some functions (ccf() springs to mind), convert them on the 
fly, in the function call; ccf(ts(some.vector),ts(another.vector))

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Tue Sep  3 14:59:15 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Tue, 03 Sep 2002 14:59:15 +0200
Subject: [R] Problem with SJava sample "JavaRCall"
Message-ID: <3D74B223.9769FF9C@rcc.ch>

Hi,

I am trying to run the example "JavaRCall"  with SJava 0.65 and R1.5.1
under
Windows NT4.0. Although loadLibrary("RInterpreter") worked successfull,
the
following error occurs:

"Exception breakpoint occurred at line 65 of ROmegahatInterpreter.java.
java.lang.UnsatisfiedLinkError: boolean
org.omegahat.R.Java.ROmegahatInterpreter.initR(java.lang.String[])

boolean
org.omegahat.R.Java.ROmegahatInterpreter.initR(java.lang.String[])

  native code"


All paths (attached) are set up correctly, what is missing?

Thank you,
Heinz Grimm

My paths:
PATH:=d:\r-project\R-1.5.1\library\sjava\libs;d:\r-project\R-1.5.1\bin;d:\jdk1.3.1_01\jre\bin\hotspot

R_HOME=d:\r-project\R-1.5.1
CLASSPATH=d:\r-project\R-1.5.1\library\SJava;
d:\r-project\R-1.5.1\library\SJava\org\omegahat\Jars\antlr.jar;
d:\r-project\R-1.5.1\library\SJava\org\omegahat\Jars\Environment.jar;
d:\r-project\R-1.5.1\library\SJava\org\omegahat\Jars\jas.jar;
d:\r-project\r-1.5.1\library\SJava\org\omegahat\Jars\jhall.jar

-------------- next part --------------
A non-text attachment was scrubbed...
Name: grimm.heinz.vcf
Type: text/x-vcard
Size: 291 bytes
Desc: Card for Heinz Grimm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020903/8179af92/grimm.heinz.vcf

From Ted.Harding at nessie.mcc.ac.uk  Tue Sep  3 17:19:53 2002
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Tue, 03 Sep 2002 16:19:53 +0100 (BST)
Subject: [R] Getting all R packages
Message-ID: <XFMail.020903161953.Ted.Harding@nessie.mcc.ac.uk>

Rather than spend a tedious interactive session
picking several (in fact most) of the library
packages off the CRAN site one by one, it would
be handy to be able to grab the lot in one go
(they seem to add up to about 24MB, so it's not
a huge download).

Is there a way to do this?

Thanks for the help.
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 03-Sep-02                                       Time: 16:19:53
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kuonen at statoo.com  Tue Sep  3 18:00:36 2002
From: kuonen at statoo.com (Dr. Diego Kuonen)
Date: Tue, 03 Sep 2002 18:00:36 +0200
Subject: [R] Getting all R packages
References: <XFMail.020903161953.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <3D74DCA4.9E484AA@statoo.com>

"(Ted Harding)" wrote:
> 
> Rather than spend a tedious interactive session
> picking several (in fact most) of the library
> packages off the CRAN site one by one, it would
> be handy to be able to grab the lot in one go
...
> Is there a way to do this?

You may want to have a look at the help file of

  install.packages

Sth. like

  > install.packages(CRAN.packages()[,1])

will do the job. And then once a week, say,

  > update.packages()

Greets,

  Diego Kuonen


-- 
Dr. ?s sc. Diego Kuonen        CEO & Applied Statistician 
Statoo Consulting, PO Box 107, 1015 Lausanne, Switzerland
+ Have you ever been Statooed?   http://www.statoo.info +
+ Free Statooed newsletters:    http://lists.statoo.com +
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep  3 17:57:39 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 03 Sep 2002 17:57:39 +0200
Subject: [R] Getting all R packages
Message-ID: <3.0.32.20020903175739.0091c340@162.38.183.200>

At 16:19 03/09/02 +0100, you wrote:
>Rather than spend a tedious interactive session
>picking several (in fact most) of the library
>packages off the CRAN site one by one, it would
>be handy to be able to grab the lot in one go
>(they seem to add up to about 24MB, so it's not
>a huge download).
>
>Is there a way to do this?

Look at the help:

    ?update.packages

Several functions are documented there. It sounds that the command:

    download.packages(CRAN.packages()[, 1], destdir = "/dest/dir")

will do what you want (assuming that you just want to download the
packages, not install them), but I haven't tested it.

Hope this helps.

EP

>Thanks for the help.
>Ted.
>
>--------------------------------------------------------------------
>E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
>Fax-to-email: +44 (0)870 167 1972
>Date: 03-Sep-02                                       Time: 16:19:53
>------------------------------ XFMail ------------------------------
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep  3 18:00:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 3 Sep 2002 09:00:47 -0700 (PDT)
Subject: [R] Getting all R packages
In-Reply-To: <XFMail.020903161953.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <Pine.A41.4.44.0209030857550.16572-100000@homer09.u.washington.edu>

On Tue, 3 Sep 2002 Ted.Harding at nessie.mcc.ac.uk wrote:

> Rather than spend a tedious interactive session
> picking several (in fact most) of the library
> packages off the CRAN site one by one, it would
> be handy to be able to grab the lot in one go
> (they seem to add up to about 24MB, so it's not
> a huge download).
>

To start with, you can specify a vector of strings to the
install.packages() command: eg

 install.packages(c("acepack","adapt","agce","akima","ash"))

If you want all of them the function CRAN.packages() returns the names of
all the packages as the first column of its value, so you could pass that
to install.packages(), or edit it first if you didn't want quite
everything.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Tue Sep  3 18:14:33 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Tue, 3 Sep 2002 12:14:33 EDT
Subject: [R] Bindata package problems
Message-ID: <8c.1d93e215.2aa639e9@aol.com>

Dear list

I am having a couple of problems with the package 'bindata'.
Having installed it using install.packages("bindata"), I am finding that
when I load it up as a library I get the following errors:

> library(bindata)
Loading required package: e1071 
Loading required package: mvtnorm 
Warning messages: 
1: There is no package called `e1071' in: library(package, char = TRUE,
logical = TRUE, warn.conflicts = warn.conflicts,  
2: There is no package called `mvtnorm' in: library(package, char =
TRUE, logical = TRUE, warn.conflicts = warn.conflicts,  

This means that obviously it isn't running some of the commands within
the package.

Could anybody tell me why this is happening and what I can do to remedy
the situation?

Many thanks in advance
Laura

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020903/10625400/attachment.html

From ligges at statistik.uni-dortmund.de  Tue Sep  3 18:28:03 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 03 Sep 2002 18:28:03 +0200
Subject: [R] Bindata package problems
References: <8c.1d93e215.2aa639e9@aol.com>
Message-ID: <3D74E313.4FED7907@statistik.uni-dortmund.de>



Bayesianbay at aol.com wrote:
> 
> Dear list
> 
> I am having a couple of problems with the package 'bindata'.
> Having installed it using install.packages("bindata"), I am finding
> that
> when I load it up as a library I get the following errors:
> 
> > library(bindata)
> Loading required package: e1071
> Loading required package: mvtnorm
> Warning messages:
> 1: There is no package called `e1071' in: library(package, char =
> TRUE,
> logical = TRUE, warn.conflicts = warn.conflicts,
> 2: There is no package called `mvtnorm' in: library(package, char =
> TRUE, logical = TRUE, warn.conflicts = warn.conflicts,
> 
> This means that obviously it isn't running some of the commands within
> the package.
> 
> Could anybody tell me why this is happening and what I can do to
> remedy
> the situation?

Looks like some required packages (e1071 and mvtnorm) are missing on
your machine, to make use of bindata.
If you have Internet access, simply install them with

  install.packages(c("e1071", "mvtnorm"))


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Sep  3 18:30:01 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 3 Sep 2002 12:30:01 -0400
Subject: [R] Properly initializing a plot
Message-ID: <20020903123001.387de609.fharrell@virginia.edu>

I have many functions for high-level plotting that early on in their code do something like strwidth('string', units='inches') before plotting.  I do this before plot() to set the correct margins with par(mai=...), to leave room for wide text on the left or right margins.

If the plotting device is not opened strwidth( ) causes an error that plot.new() needs to be called.  I can sense the need for plot.new() in the code using if(length(dev.list()).  If using postscript( ) as the device instead of the screen (X11()) I need to issue plot.new even though dev.list() is non-null.  If I routinely call plot.new() I will get extra empty panels if the code in the calling environment included par(mfrow=c(#rows,#columns)).

Does anyone know of almost foolproof code for initializing a new plot inside a high-level plotting function but not unnecessarily doing so?  Thanks in advance.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Sep  3 20:35:45 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Sep 2002 14:35:45 -0400
Subject: [R] Partitioning an nxp Time series matrix
References: <F2866zwIbtJFiRBSuaa00009854@hotmail.com>
Message-ID: <3D750101.D48B01F8@bank-banque-canada.ca>

Neil 

There is some related work by Stock and Watson, Forni and Reichlin, and
Quah and Sargent (see below) which tries to extact "dynamic factors"
from large cross sections of time series. As far as I know, no one has
gone the second step of clustering the data, but their work might be a
good starting point. (Sounds like a pretty ambitious term project paper
though.)

As far as I know, no one has implemented any of this in R (but I would
be happy to hear otherwise). I am working on something that is
(marginally) related.

Paul Gilbert

Forni, M., and L. Reichlin 1996. "Dynamic Common Factors in Large
Cross-Sections" Empirical Economics 21: 27-42.

Quah, D., and T. J. Sargent 1994. "A dynamic index model for large cross
sections." in Business Cycles, Indicators, and Forecasting, J. Stock and
M. Watson (eds). NBER and Univ. Press Chicago.

Stock, J. H. and Watson, M. W. 1999 "Forecasting Inflation," Journal of
Monetary Economics 44: 293-335.


Neil Osborne wrote:
> 
> Hi,
> 
> I have an nxp data set of time series. For my final year project, I would
> like to partition this data set into a smaller number of units ( < n). Where
> each of the units contains time series that move closely together (i.e. in
> unison), and the "simmilarity" (in terms of occurence & amplitudes of peaks
> and troughs) between the segregated units is "low".
> 
> I know these are slightly "fuzzy" terms, but I want to get to the essence of
> what I'm trying to achieve (time series partitioning), without throwing in
> words like correlation or cointegration which are "trigger" words. I would
> like to know if anyone has done this kind of partitioning before ?
> 
> Any tips or suggestions as to how to carry out such a partioning in R will
> be MOST welcome. Ideally, I would like to automate this partitioning through
> an R "script" since n will be approx 500, and it will not be feasible to do
> this manually.
> 
> Any pointers/help will be very much appreciated
> 
> Regards
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Sep  3 20:58:47 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 3 Sep 2002 14:58:47 -0400
Subject: [R] Problem adding a class to a POSIX vector
Message-ID: <20020903145847.18e5e25b.fharrell@virginia.edu>

Under 

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                

I am having the following problem.

d <- Sys.time()
w <- data.frame(d)
class(w[['d']]) <- c('labelled',class(w[['d']]))
class(w[['d']])
[1] "POSIXt"  "POSIXct"

whereas the $ method works:

class(w$d) <- c('labelled',class(w$d))
class(w[['d']])
[1] "labelled" "POSIXt"   "POSIXct" 

Is this a bug?  Does anyone know of a workaround?  Thanks.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Sep  3 21:45:27 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 3 Sep 2002 16:45:27 -0300 (ADT)
Subject: [R] Version 1.5.1 failing make check.
Message-ID: <200209031945.QAA02847@gelfand.math.unb.ca>


I just tried to install R version 1.5.1, and it is failing
``make check'', as follows:

$ make check
`Makedeps' is up to date.
running code in 'base-Ex.R' ...*** Error code 1
make: Fatal error: Command failed for target `base-Ex.Rout'
Current working directory /home1/faculty/rolf/Traal/Rtmp/R-1.5.1/tests/Examples
*** Error code 1
make: Fatal error: Command failed for target `test-Examples'
Current working directory /home1/faculty/rolf/Traal/Rtmp/R-1.5.1/tests/Examples
*** Error code 1
make: Fatal error: Command failed for target `test-Examples'
Current working directory /home1/faculty/rolf/Traal/Rtmp/R-1.5.1/tests
*** Error code 1
make: Fatal error: Command failed for target `test-all-basics'
Current working directory /home1/faculty/rolf/Traal/Rtmp/R-1.5.1/tests
*** Error code 1
make: Fatal error: Command failed for target `check'

Amongst other things:

	(1) in tests/Examples/base-Ex.Rout.fail we find

		Error: !is.nan(var(1)) is not TRUE

	(2) in tests/ a diff of arith-true.Rout.fail and
	arith-true.Rout.save gives

			80c80
			< [1] FALSE
			---
			> [1] TRUE
			82c82
			< [1] FALSE
			---
			> [1] TRUE

	Looking in these files shows the difference to come from

		all(!is.nan(c(1,NA)))
	and
		all(c(F,T,F) == is.nan(list(1,NaN,NA)))

	I checked that in R version 1.4.1, which is currently running
	on our system, these give TRUE, in agreement with
	arith-true.Rout.save.  Likewise

		!is.nan(var(1))

	gives TRUE, as it apparently should, under 1.4.1.

	(So the problem would seem --- ??? --- to be with the new
	version rather than with our system.)

	There are a bunch of other errors as well.

Should I just ignore the fact that ``make check'' fails, and go ahead
and install 1.5.1?  (I ***really*** don't like the idea of doing
this!)  If not what, if anything, can I do to make it not fail?

Version information (when I fire up the new, but not installed,
version 1.5.1, by invoking bin/R:

platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R     

Thanks for any wisdom and insight that anyone can provide.

					cheers,

						Rolf Turner
						rolf at math.unb.ca

P. S.  I ***think*** that version 1.5.1 was made with a different
gcc than was 1.4.1.  Could this be the problem?  And if so, what
do I do about it?

						R. T.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  3 22:09:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 2002 22:09:40 +0200
Subject: [R] Version 1.5.1 failing make check.
In-Reply-To: <200209031945.QAA02847@gelfand.math.unb.ca>
References: <200209031945.QAA02847@gelfand.math.unb.ca>
Message-ID: <x23csqal8b.fsf@biostat.ku.dk>

Rolf Turner <rolf at math.unb.ca> writes:

> I just tried to install R version 1.5.1, and it is failing
> ``make check'', as follows:
....
> Amongst other things:
> 
> 	(1) in tests/Examples/base-Ex.Rout.fail we find
> 
> 		Error: !is.nan(var(1)) is not TRUE
...
> 
> Thanks for any wisdom and insight that anyone can provide.
> 
> 					cheers,
> 
> 						Rolf Turner
> 						rolf at math.unb.ca
> 
> P. S.  I ***think*** that version 1.5.1 was made with a different
> gcc than was 1.4.1.  Could this be the problem?  And if so, what
> do I do about it?

Didn't we just do that one and traced it to a compiler issue? You
might want to check the mailing list archives. It's certainly possible
to get R running properly on Sol.2.7 -- both Brian Ripley and I still
install on such systems.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep  3 22:15:17 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 3 Sep 2002 13:15:17 -0700 (PDT)
Subject: [R] Version 1.5.1 failing make check.
In-Reply-To: <200209031945.QAA02847@gelfand.math.unb.ca>
Message-ID: <Pine.A41.4.44.0209031257360.16572-100000@homer09.u.washington.edu>

On Tue, 3 Sep 2002, Rolf Turner wrote:

<snip> make: Fatal error: Command failed for target `check'
>
> Amongst other things:
>
> 	(1) in tests/Examples/base-Ex.Rout.fail we find
>
> 		Error: !is.nan(var(1)) is not TRUE
>
<snip>
> 	I checked that in R version 1.4.1, which is currently running
> 	on our system, these give TRUE, in agreement with
> 	arith-true.Rout.save.  Likewise
>
> 		!is.nan(var(1))
>
> 	gives TRUE, as it apparently should, under 1.4.1.
>
> 	(So the problem would seem --- ??? --- to be with the new
> 	version rather than with our system.)

Well, an interaction between them. Certainly make check works on a lot of
systems with R 1.5.1.  It wouldn't get released otherwise.


> 	There are a bunch of other errors as well.
>
> Should I just ignore the fact that ``make check'' fails, and go ahead
> and install 1.5.1?

No, that would be a really bad idea.

>			 (I ***really*** don't like the idea of doing
> this!)  If not what, if anything, can I do to make it not fail?
>
> Version information (when I fire up the new, but not installed,
> version 1.5.1, by invoking bin/R:
>
> platform sparc-sun-solaris2.7
> arch     sparc
> os       solaris2.7

<snip>
> P. S.  I ***think*** that version 1.5.1 was made with a different
> gcc than was 1.4.1.  Could this be the problem?  And if so, what
> do I do about it?

Looking at the forthcoming 1.6.0 I see that
   o   Workaround for optimization bugs on gcc 3.1/2 on 32-bit Solaris.
is listed in NEWS, so it might be worth either

a) reducing the optimisation level by editing CFLAGS in config.site
or
b) trying the pre1.6.0 code to see if the problem has gone away.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Sep  3 22:17:16 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 3 Sep 2002 16:17:16 -0400
Subject: [R] Problem adding a class to a POSIX vector
In-Reply-To: <20020903155734.B28782@jimmy.harvard.edu>
References: <20020903145847.18e5e25b.fharrell@virginia.edu>
	<20020903155734.B28782@jimmy.harvard.edu>
Message-ID: <20020903161716.0fba07a5.fharrell@virginia.edu>

Robert Gentleman put me on the track of looking at what's loaded at the time of the error.  I found that an old as.data.frame.labelled function which was needed in older versions of S-Plus was causing the problem.  I removed this function in the Hmisc library for R and all is well.  Thanks Robert  -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tkd at wombat.zaq.ne.jp  Wed Sep  4 00:45:21 2002
From: tkd at wombat.zaq.ne.jp (Jun Takeda)
Date: Wed, 04 Sep 2002 07:45:21 +0900
Subject: [R] gee, missing data 
Message-ID: <3D753B81.EB57F583@wombat.zaq.ne.jp>


Hello, 

does anyone know "gee" can be applied 
to longitudinal data with missing values?

And if it can, how "gee" deal with missing values?

Thanks in advance, 
Jun Takeda.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Wed Sep  4 01:57:55 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Tue, 3 Sep 2002 18:57:55 -0500 
Subject: [R] predict.lm with missing data
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23DABE@jupiter.arbitrade.com>

Dear R-Users,

Say I have a data frame 'data' with missing values and I fit
> data.lm <- lm(y~x, data=data, na.action=na.omit)

Now I want to compute predictions for each observation of 'data' (having NA
where the data was missing).

The straightforward predict(data.lm) is not good since it produces a vector
that is shorter than the number of rows in data (because of the missings).

Does anyone know how to do this?

Thanks, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Sep  4 02:42:08 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 3 Sep 2002 17:42:08 -0700 (PDT)
Subject: [R] predict.lm with missing data
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23DABE@jupiter.arbitrade.com>
Message-ID: <Pine.GSO.4.10.10209031741410.25689-100000@quetelet.stat.ucla.edu>

Try

data.lm <- lm(y ~ x, data = data, na.action = na.exclude)
predict(data.lm)

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 3 Sep 2002, Vadim Ogranovich wrote:

> Dear R-Users,
> 
> Say I have a data frame 'data' with missing values and I fit
> > data.lm <- lm(y~x, data=data, na.action=na.omit)
> 
> Now I want to compute predictions for each observation of 'data' (having NA
> where the data was missing).
> 
> The straightforward predict(data.lm) is not good since it produces a vector
> that is shorter than the number of rows in data (because of the missings).
> 
> Does anyone know how to do this?
> 
> Thanks, Vadim
> 
> -------------------------------------------------- 
> DISCLAIMER 
> This e-mail, and any attachments thereto, is intended only for use by the
> addressee(s) named herein and may contain legally privileged and/or
> confidential information.  If you are not the intended recipient of this
> e-mail, you are hereby notified that any dissemination, distribution or
> copying of this e-mail, and any attachments thereto, is strictly prohibited.
> If you have received this e-mail in error, please immediately notify me and
> permanently delete the original and any copy of any e-mail and any printout
> thereof. 
> 
> E-mail transmission cannot be guaranteed to be secure or error-free.  The
> sender therefore does not accept liability for any errors or omissions in
> the contents of this message which arise as a result of e-mail transmission.
> 
> NOTICE regarding privacy and confidentiality 
> 
> Knight Trading Group may, at its discretion, monitor and review the content
> of all e-mail communications. 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mark.Bravington at csiro.au  Wed Sep  4 05:19:47 2002
From: Mark.Bravington at csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 4 Sep 2002 13:19:47 +1000 
Subject: [R] strange things with eval and parent frames
Message-ID: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>

Dear mailing list,

I have found some strange behaviour which I think relates to parent frames
and eval. Can anyone explain what's going on here? 

First example:

> test.parent.funcs_ function() {
  outer.var_ 5
  subfunc1_ function() substitute( outer.var, envir=parent.frame())
  print( subfunc1())

  subfunc2b_ function() eval( quote( outer.var), envir=parent.frame())
  print( subfunc2b())
  
  subfunc2_ function() evalq( outer.var, envir=parent.frame()) 
  #print( subfunc2())
}

> test.parent.funcs()
[1] 5
[1] 5

If you try this without the hash before the 3rd print statement, it crashes,
complaining it can't find outer.var. But AFAICS, subfunc2 and subfunc2b
should return the same thing. So, at a minimum, evalq(...) doesn't seem to
be behaving the same as eval( quote(...)) as the documentation says it
should. But I think more fundamentally odd things are happening, as per
below.

Note BTW that this is NOT a classical scoping problem. Exactly the same
things happen if I define subfunc1 etc. outside the body of
test.parent.funcs.

Second example:
> test.parent.funcs2_ function() {
  subfunc3_ function() sys.call( -1)
  x_ subfunc3(); print( x)
  
  subfunc3a_ function() eval( quote( sys.call()), parent.frame())
  x_ subfunc3a(); print( x)
  
  subfunc3b_ function() evalq( sys.call(), parent.frame())
  x_ subfunc3b(); print( x)
}

> test.parent.funcs2()
test.parent.funcs2()
eval(expr, envir, enclos)
eval(expr, envir, enclos)

Hmmm. Again, I'd expect all three to do the same thing (have I
misunderstood?). What's even more odd, is that this time evalq and eval(
quote()) do coincide, but neither of them gives the answer I expected. I
thought that by doing the evaulation in the parent.frame, I could knock 1
level off the number of generations to go back in sys.call.

Why would anyone care? Well, the proximate reason for bothering to post this
is that I got very confused while using a debugger, which "manually"
evaluates expressions within the original frame (i.e. by calling eval). When
the functions I was debugging made calls to "parent.frame", everything went
very pear-shaped. However, I have a feeling that I've also hit this before
in another context. In the above cases, there happens to be a workaround,
but it's somewhat due to luck.

Some light can be shed on this by including some calls to sys.parents in the
sub-functions, but it's not easy to summarize the results. My best shot at a
short, comprehensible description is as follows. An environment can appear
several times in the list of active frames, albeit with different frame
numbers and different "parent frame numbers" each time. The environment is
IDENTICAL in each case-- you can get this from lapply( sys.frames(),
print)-- but it has a different "alias" (i.e. frame number each time).
Calling "sys.parent" seems to return the nominal parent of the LATEST
incarnation in the frame list. 

My suggestion (a hunch) is that everything would actually work fine if,
instead, sys.parent checked for the FIRST incarnation of the current frame,
and took the parent of that-- at least as a default option.

Incidentally, is there any way of testing whether two environments are
identical (e.g. between elements of the list returned by sys.frames())? The
operator == doesn't work, and nor does "all.equal". The only fudge I could
devise, was to print them via a textConnection, and compare the text
representations... ugh.

Can anyone shed any light on this?

cheers
Mark

*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington at csiro.au 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alistair at statsresearch.co.nz  Wed Sep  4 00:24:56 2002
From: alistair at statsresearch.co.nz (Alistair Gray)
Date: Wed, 04 Sep 2002 10:24:56 +1200
Subject: [R] test
Message-ID: <200209032224.g83MOut03844@localhost.localdomain>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  4 08:14:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2002 08:14:40 +0200
Subject: [R] strange things with eval and parent frames
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>
References: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>
Message-ID: <x24rd6gu27.fsf@biostat.ku.dk>

Mark.Bravington at csiro.au writes:

> Dear mailing list,
> 
> I have found some strange behaviour which I think relates to parent frames
> and eval. Can anyone explain what's going on here? 
> 
> First example:
> 
> > test.parent.funcs_ function() {
>   outer.var_ 5
>   subfunc1_ function() substitute( outer.var, envir=parent.frame())
>   print( subfunc1())
> 
>   subfunc2b_ function() eval( quote( outer.var), envir=parent.frame())
>   print( subfunc2b())
>   
>   subfunc2_ function() evalq( outer.var, envir=parent.frame()) 
>   #print( subfunc2())
> }
> 
> > test.parent.funcs()
> [1] 5
> [1] 5
> 
> If you try this without the hash before the 3rd print statement, it crashes,
> complaining it can't find outer.var. But AFAICS, subfunc2 and subfunc2b
> should return the same thing. So, at a minimum, evalq(...) doesn't seem to
> be behaving the same as eval( quote(...)) as the documentation says it
> should. But I think more fundamentally odd things are happening, as per
> below.
> 
> Note BTW that this is NOT a classical scoping problem. Exactly the same
> things happen if I define subfunc1 etc. outside the body of
> test.parent.funcs.

This is a bug, but not an easy one to fix: Internally, evalq does

eval.parent(substitute(eval(quote(expr), envir, enclos)))

which works for any envir except if the expression for it involves
parent.frame. The generic problem is that normally
eval.parent(substitute(x)) is equivalent to x but if there's an
examination of the call stack involved (using sys.call() or
parent.frame() etc.) they are not... 

You can work around it with

function() {p<-parent.frame();evalq( outer.var, envir=p) }


> Second example:
> > test.parent.funcs2_ function() {
>   subfunc3_ function() sys.call( -1)
>   x_ subfunc3(); print( x)
>   
>   subfunc3a_ function() eval( quote( sys.call()), parent.frame())
>   x_ subfunc3a(); print( x)
>   
>   subfunc3b_ function() evalq( sys.call(), parent.frame())
>   x_ subfunc3b(); print( x)
> }
> 
> > test.parent.funcs2()
> test.parent.funcs2()
> eval(expr, envir, enclos)
> eval(expr, envir, enclos)
> 
> Hmmm. Again, I'd expect all three to do the same thing (have I
> misunderstood?). What's even more odd, is that this time evalq and eval(
> quote()) do coincide, but neither of them gives the answer I expected. I
> thought that by doing the evaulation in the parent.frame, I could knock 1
> level off the number of generations to go back in sys.call.

This one is not a bug. There's just no way that you can make the
system pretend that the call to eval() or evalq() didn't happen. (And
sys.call() is independent of evaluation environment, so the
parent.frame() anomaly doesn't matter).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  4 08:56:31 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 4 Sep 2002 08:56:31 +0200
Subject: [R] Properly initializing a plot
In-Reply-To: <20020903123001.387de609.fharrell@virginia.edu>
References: <20020903123001.387de609.fharrell@virginia.edu>
Message-ID: <15733.44703.232350.822801@gargle.gargle.HOWL>

>>>>> "Frank" == Frank E Harrell <fharrell at virginia.edu>
>>>>>     on Tue, 3 Sep 2002 12:30:01 -0400 writes:

    Frank> I have many functions for high-level plotting that
    Frank> early on in their code do something like
    Frank> strwidth('string', units='inches') before plotting.
    Frank> I do this before plot() to set the correct margins
    Frank> with par(mai=...), to leave room for wide text on the
    Frank> left or right margins.  If the plotting device is not
    Frank> opened strwidth( ) causes an error that plot.new()
    Frank> needs to be called.  

yes.  

  > x11()
  > strwidth("a")
  Error in strwidth("a") : plot.new has not been called yet

As it says, it's  plot.new(), *not* a (new) graphics window
{and that should be opened automatically when needed by all R
 level plotting functions}.


    Frank> I can sense the need for
    Frank> plot.new() in the code using if(length(dev.list()).

I don't think so.  See the mini-example above
Typically, I think you should consider using  strwidth() and strheight()
only *after* a first plot() call which sets up the coordinate
system etc.

    Frank> If using postscript( ) as the device instead of the
    Frank> screen (X11()) I need to issue plot.new even though
    Frank> dev.list() is non-null.  If I routinely call
    Frank> plot.new() I will get extra empty panels if the code
    Frank> in the calling environment included
    Frank> par(mfrow=c(#rows,#columns)).

    Frank> Does anyone know of almost foolproof code for
    Frank> initializing a new plot inside a high-level plotting
    Frank> function but not unnecessarily doing so? 

I'm pretty sure you want something like

    if(!dev.interactive()) 
       get(getOption("device"))()

Note that  help(device)  has almost this as example :

     ## open the default screen device on this platform if no
     ## device is open
     if(dev.cur() == 1) get(getOption("device"))()


But again, this does not quite answer your initial question
about ``sensing when it's safe to use strwidth()'' !

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Sep  4 09:23:17 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 4 Sep 2002 09:23:17 +0200 (CEST)
Subject: [R] Properly initializing a plot
In-Reply-To: <15733.44703.232350.822801@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.44.0209040919290.5901-100000@reclus.nhh.no>

On Wed, 4 Sep 2002, Martin Maechler wrote:

> >>>>> "Frank" == Frank E Harrell <fharrell at virginia.edu>
> >>>>>     on Tue, 3 Sep 2002 12:30:01 -0400 writes:
> 
>     Frank> I have many functions for high-level plotting that
>     Frank> early on in their code do something like
>     Frank> strwidth('string', units='inches') before plotting.
>     Frank> I do this before plot() to set the correct margins
>     Frank> with par(mai=...), to leave room for wide text on the
>     Frank> left or right margins.  If the plotting device is not
>     Frank> opened strwidth( ) causes an error that plot.new()
>     Frank> needs to be called.  
> 
> yes.  
> 
>   > x11()
>   > strwidth("a")
>   Error in strwidth("a") : plot.new has not been called yet
> 
> As it says, it's  plot.new(), *not* a (new) graphics window
> {and that should be opened automatically when needed by all R
>  level plotting functions}.
> 
> 
>     Frank> I can sense the need for
>     Frank> plot.new() in the code using if(length(dev.list()).
> 
> I don't think so.  See the mini-example above
> Typically, I think you should consider using  strwidth() and strheight()
> only *after* a first plot() call which sets up the coordinate
> system etc.
> 
>     Frank> If using postscript( ) as the device instead of the
>     Frank> screen (X11()) I need to issue plot.new even though
>     Frank> dev.list() is non-null.  If I routinely call
>     Frank> plot.new() I will get extra empty panels if the code
>     Frank> in the calling environment included
>     Frank> par(mfrow=c(#rows,#columns)).
> 
>     Frank> Does anyone know of almost foolproof code for
>     Frank> initializing a new plot inside a high-level plotting
>     Frank> function but not unnecessarily doing so? 
> 
> I'm pretty sure you want something like
> 
>     if(!dev.interactive()) 
>        get(getOption("device"))()
> 
> Note that  help(device)  has almost this as example :
> 
>      ## open the default screen device on this platform if no
>      ## device is open
>      if(dev.cur() == 1) get(getOption("device"))()
> 
> 
> But again, this does not quite answer your initial question
> about ``sensing when it's safe to use strwidth()'' !
> 

Maybe:

> aa <- try(strwidth("a"))
Error in strwidth("a") : plot.new has not been called yet
> class(aa)
[1] "try-error"

or:

> options("show.error.messages"=FALSE)
> aa <- try(strwidth("a"))
> class(aa)
[1] "try-error"

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  4 09:37:39 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 4 Sep 2002 09:37:39 +0200
Subject: [R] strange things with eval and parent frames
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>
References: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>
Message-ID: <15733.47171.619210.262902@gargle.gargle.HOWL>

>>>>> "Mark" == Mark Bravington <Mark.Bravington at csiro.au>
>>>>>     on Wed, 4 Sep 2002 13:19:47 +1000  writes:

	  <.... ((much more)) ....>

    Mark> Incidentally, is there any way of testing whether two
    Mark> environments are identical (e.g. between elements of
    Mark> the list returned by sys.frames())? The operator ==
    Mark> doesn't work, and nor does "all.equal". The only fudge
    Mark> I could devise, was to print them via a
    Mark> textConnection, and compare the text
    Mark> representations... ugh.

"ooaeeh", indeed!

The proper solution is  identical(.,.)  which has been new only since 1.4.0,
(a John Chambers' feature of S4, hence also in newer versions of S-plus,)
e.g.,

      > identical(.GlobalEnv, environment())
      [1] TRUE

identical() has still been underused quite a bit,
probably even in base R code.   In many cases,
	 identical(x,y)	
is now preferable to
         all(x == y)

even when the latter does work.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  4 09:49:24 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 4 Sep 2002 09:49:24 +0200
Subject: [R] identical() vs all( . == .) [was "strange things..."]
In-Reply-To: <15733.47171.619210.262902@gargle.gargle.HOWL>
References: <A8877251964B294BAB5BA1FC58B43FED26DD8F@molly.tas.csiro.au>
	<15733.47171.619210.262902@gargle.gargle.HOWL>
Message-ID: <15733.47876.861975.163006@gargle.gargle.HOWL>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch>
>>>>>     on Wed, 4 Sep 2002 09:37:39 +0200 writes:

	     ...

    MM> identical() has still been underused quite a bit,
    MM> probably even in base R code.  In many cases,
    MM> identical(x,y) is now preferable to
    MM> all(x == y)

    MM> even when the latter does work.

I think I should add some caution:

Do not think of replacing  all(x == y) by identical(x,y) everywhere!

E.g.  1:3 == as.double(1:3) is all TRUE, but are not identical(.,.),
or also
   all(c(a="A", b="B") == c("A","B"))
is TRUE where identical() isn't and shouldn't be.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Wed Sep  4 10:29:18 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Wed, 04 Sep 2002 10:29:18 +0200
Subject: [R] logical and NA
Message-ID: <5.1.0.14.2.20020904102737.03f19fa0@mail.wsl.ch>

Hi there, (sorry Martin, ich habe den falschen Empfaenger erwischt :-(  )

Is there a function in the base package or elsewhere which returns TRUE and 
not NA, even if NA is involved: (I did not find in the help system :-(  )

if ( x==something & !is.na(something))

or

if ( x==something & !is.na(x==something))

If "something" is complicated, a function would be handy.

Thanks
--christian


Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Sep  4 11:08:00 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 4 Sep 2002 11:08:00 +0200
Subject: [R] y-axis in hist()
Message-ID: <20020904110800.169bd5c1.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear List, 
I have to plot some histograms with the hist()-function. My y-axis
describes the relative counts in percent, so every y-axis should be from
0-100.
My problem is, that the y-axis stops at the maximum value and does not
reach up to 100.
Is it possible to use a fixed y-axis for all my plots?

Thank you for your help

cheers
  Stephan

- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9dc1wEg9SKhGUagkRAj5zAJ0YuKHzePKVzUjgAPE7UJ9YKaswPgCeIH4r
PIYP1hIYOEoVVduN42eE848=
=yg2U
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Wed Sep  4 11:23:13 2002
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Wed, 4 Sep 2002 11:23:13 +0200
Subject: [R]Installing and updating libraries
Message-ID: <000901c253f4$c80399c0$2d0ffea9@oemcomputer>

Dear R-experts,

When I try to install a library from a zipfile (or update already installed libraries) I get the following (or simular):

####### 
install.packages("D:/Mina dokument/Download/R/survival.zip", .libPaths()[1], CRAN = NULL)
Error in zip.unpack(pkg, lib) : cannot open file D:/PROGRAM/R/RW1051/library/survival/libs/survival.dll
#######

Any help available?

R is 1.51 and system Windows 98SE

Sincerely Fredrik Lundgren

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mark.Bravington at csiro.au  Wed Sep  4 11:35:11 2002
From: Mark.Bravington at csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 4 Sep 2002 19:35:11 +1000 
Subject: [R] strange things with eval and parent frames
Message-ID: <A8877251964B294BAB5BA1FC58B43FED26DD92@molly.tas.csiro.au>

Thanks for the very quick and helpful explanation, Peter (and to Martin
Maechler for telling me about identical() ).

I'm still puzzled by the sys.call case. If I fake the issue by going one
level deeper, and then calling sys.call( sys.parent()) instead of
sys.call(), I do get what I expected to get (i.e. the call to the top-level
function). The example is:

test.parent.funcs3_ function() {
  subfunc3_ function() sys.call( -1) 
  x_ subfunc3(); print( x) # the top-level call
  
  subfunc3a_ function() eval( quote( sys.call()), parent.frame())
  x_ subfunc3a(); print( x) # I wanted the top level call, but the "eval"
gets intercepted
  
  subfunc3c_ function() eval( quote( { function() sys.call( sys.parent())
}() ), parent.frame())
  x_ subfunc3c(); print( x) # the top level call
}

> test.parent.funcs3()
test.parent.funcs3()
eval(expr, envir, enclos)
test.parent.funcs3()

The 3rd output line, which creates a temporary function and calls it,
"works" or at any rate is different from subfunc3a. The behaviour of
sys.call still seems inconsistent to me: if there's no way to pretend that
eval didn't happen, as you say, then isn't it a bug that you can fool the
system by going down a level and then up again? Actually I'd rather not have
the "fool" "bug" fixed, because it does give me a workround :), as follows:

my.sys.call_ function(which=0) {
  if( which==0)
    sys.call( sys.parent())
  else if( which<0)
    sys.call( which-1)
  else
    sys.call( which)
}

Note also:

test.parent.funcs4()_ function( ...) {
  subfunc1_ function() eval( quote( match.call()), envir=parent.frame())
  x_ subfunc1(); print( x)
}

> test.parent.funcs4()
test.parent.funcs4()

so that match.call works differently from sys.call here (it "ignores" the
call to eval).

cheers
Mark 

-----Original Message-----
From: Peter Dalgaard BSA
To: Mark.Bravington at csiro.au
Cc: r-help at stat.math.ethz.ch
Sent: 4/09/2002 4:14 PM
Subject: Re: [R] strange things with eval and parent frames

Mark.Bravington at csiro.au writes:

> Dear mailing list,
> 
> I have found some strange behaviour which I think relates to parent
frames
> and eval. Can anyone explain what's going on here? 
> 
<< deleted stuff >> 

> Second example:
> > test.parent.funcs2_ function() {
>   subfunc3_ function() sys.call( -1)
>   x_ subfunc3(); print( x)
>   
>   subfunc3a_ function() eval( quote( sys.call()), parent.frame())
>   x_ subfunc3a(); print( x)
>   
>   subfunc3b_ function() evalq( sys.call(), parent.frame())
>   x_ subfunc3b(); print( x)
> }
> 
> > test.parent.funcs2()
> test.parent.funcs2()
> eval(expr, envir, enclos)
> eval(expr, envir, enclos)
> 
> Hmmm. Again, I'd expect all three to do the same thing (have I
> misunderstood?). What's even more odd, is that this time evalq and
eval(
> quote()) do coincide, but neither of them gives the answer I expected.
I
> thought that by doing the evaulation in the parent.frame, I could
knock 1
> level off the number of generations to go back in sys.call.

This one is not a bug. There's just no way that you can make the
system pretend that the call to eval() or evalq() didn't happen. (And
sys.call() is independent of evaluation environment, so the
parent.frame() anomaly doesn't matter).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep  4 11:41:12 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 04 Sep 2002 11:41:12 +0200
Subject: [R]Installing and updating libraries
References: <000901c253f4$c80399c0$2d0ffea9@oemcomputer>
Message-ID: <3D75D538.BD00AD59@statistik.uni-dortmund.de>



Fredrik Lundgren wrote:
> 
> Dear R-experts,
> 
> When I try to install a library from a zipfile (or update already installed libraries) I get the following (or simular):
> 
> #######
> install.packages("D:/Mina dokument/Download/R/survival.zip", .libPaths()[1], CRAN = NULL)
> Error in zip.unpack(pkg, lib) : cannot open file D:/PROGRAM/R/RW1051/library/survival/libs/survival.dll
> #######
> 
> Any help available?
> 
> R is 1.51 and system Windows 98SE

I guess: The file is locked by your OS, because you have loaded the
package with library(survival) before.
Just start a without loading the package and try again.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep  4 11:42:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 04 Sep 2002 11:42:05 +0200
Subject: [R] y-axis in hist()
References: <20020904110800.169bd5c1.sholl@gmx.net>
Message-ID: <3D75D56D.2F2D6DC3@statistik.uni-dortmund.de>



Stephan Holl wrote:
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Dear List,
> I have to plot some histograms with the hist()-function. My y-axis
> describes the relative counts in percent, so every y-axis should be from
> 0-100.
> My problem is, that the y-axis stops at the maximum value and does not
> reach up to 100.
> Is it possible to use a fixed y-axis for all my plots?
> 
> Thank you for your help

  hist(..., ylim = c(0, 100))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.orme at ic.ac.uk  Wed Sep  4 11:54:11 2002
From: d.orme at ic.ac.uk (David Orme)
Date: Wed, 4 Sep 2002 10:54:11 +0100
Subject: [R] Intercept in model formulae.
Message-ID: <a05100300b99b880359ba@[129.31.3.212]>

Hi,

I'm trying to create a linear model for a dataset that has a breakpoint e.g.

# dummy dataset
x <- 1:20
y <- c(1:10,seq(10.5,15,0.5))
plot(x,y)

I've modelled this using the following formula:

temp <- lm(y ~ x*(x<=10)+x*(x>10)) # where 10 is the breakpoint

I want to be able to omit the intercept (i.e. force the line through 
zero) from the first of these segments (x<=10) so that I'm only 
estimating one intercept and two slopes. I've tried including -1 in 
the formula, folllowing the lm(y ~ x -1) syntax  to omit the 
intercept from lm(y ~x) but the linear model still returns an 
estimate of the intercept of the first segment. I can't work out what 
the syntax for the formula should be. Is it possible in one step or 
do I have to fit the two lines as separate models on subsets of the 
data?

Any suggestions?

Thanks in advance,

David Orme


>  R.version
          _
platform ppc-apple-macos
arch     ppc
os       MacOS
system   ppc, MacOS
status
major    1
minor    5.0
year     2002
month    04
day      29
language R 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Sep  4 11:57:21 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 4 Sep 2002 11:57:21 +0200
Subject: [R] y-axis in hist()
In-Reply-To: <3D75D56D.2F2D6DC3@statistik.uni-dortmund.de>
References: <20020904110800.169bd5c1.sholl@gmx.net>
	<3D75D56D.2F2D6DC3@statistik.uni-dortmund.de>
Message-ID: <20020904115721.6eaf406e.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

At Wed, 04 Sep 2002 11:42:05 +0200 Uwe Ligges wrote:

Hello Uwe

>   hist(..., ylim = c(0, 100))
thank you,
I just solved it myself with hist(..., ylim=range(0,100))

cheers
 Stephan


- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9ddkBEg9SKhGUagkRAh6VAJ9OTE/m0WDDci9gTmkN+8XN1x3p1gCfTsrp
Y2vnKzPTf+IMRNgOUPagwoA=
=lwnk
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ingo.von.otte at sdm.de  Wed Sep  4 13:32:09 2002
From: ingo.von.otte at sdm.de (von Otte, Ingo)
Date: Wed, 4 Sep 2002 13:32:09 +0200 
Subject: [R] SJava memory managment
Message-ID: <03F949B7EFB8D6119C110002A5FB76C10637D4@ratexch2.rat.sdm.de>

 
Hi everyone,
 
I am using the SJava library from the Omegahat project to call Java from R.
Recently I ran into trouble with the memory management in SJava. So I have
some questions:
 
1. What is the right way to release Java objects from R?
 
In the SJava documentation I have found no example on how to free Java
objects from R. After some research I have found a method "remove" in the
class "OmegaInterfaceManager", which seems to to what I want. Thus I tried
it to free Java objects the following way:
.Java("__Evaluator","remove",obj[[1]]), where obj[[1]] is the key of obj in
the reference database.
 
However, the following code indicates that this does not work:
 
x <- .JNew("Test")
for( i in 1:600 )
{
    print(i)
    y <- x$getLargeMap()
    print( y$size() )
    ok <- .Java( "__Evaluator", "remove", y[[1]] )
    stopifnot( ok )
}
 
The class Test is defined as follows:
 
public class Test
{
    public int[] getLargeArray()
    {
        return new int[256*1024];
    }
 
    public Map getLargeMap()
    {
        Map map = new HashMap();
        map.put( "key", getLargeArray() );
        return map;
    }
 
    public int getInt()
    {
        return 1;
    }
}
 
What happens is, that the loop fails in the 63 iteration. Since the returned
object is 1MB large, and the Java VM has a memory limit of 64 MB, my guess
is that the objects are not freed. In contrast to that, the call to "remove"
does return "TRUE". Am I doing anything wrong? Or is there a bug in SJava?
 
2. SJava looses memory when Java is called from R
 
The execution of the following code indicates, that each call to Java from R
causes the Java VM to loose memory, although it is not necessary:
 
x <- .JNew("Test")
for( i in 1:62 ) # allocate almost all memory
{
    print(i)
    y <- x$getLargeMap()
    stopifnot( !is.null(y) )
}
for( i in 1:1000000 ) # now loop without consuming memory
{
    y <- x$getInt()
    if( is.null(y) )
    {
        print(i)
        stop("out of memory!")
    }  
}
 
The second loop fails after 2242 iterations on my machine. Since no
parameters have to be passed to or from Java I would expect the second loop
to succeed.
 
3. Is it possible to specify the maximum memory usage of Java when it is
used inside R?
 
As I stated above, I observed that the Java VM has a maximum heap size of
64MB when it is started inside R. For my application it would be very useful
to configure the VM to use more memory, for example 256MB. So far, I have
found no way to configure the Java VM like this, since the only way to pass
configuration parameters seems to be javaConfig(), and javaConfig() does
only allow to specify the classpath and system parameters. 
 

I am willing to debug/fix the problem myself, but the SJava library is
shipped without the Java sources and without commented C sources. So, I
would appreciate any hint, what I am potentially doing wrong or how I can
obtain the full sources.
 
Ingo



-- 
Ingo von Otte               mailto:ingo.von.otte at sdm.de
<mailto:ingo.von.otte at sdm.de>  
sd&m AG                   http://www.sdm.de <http://www.sdm.de/>  
software design & management 
Am Schimmersfeld 7a, 40880 Ratingen, Germany 
Tel +49 2102 9957-967, Fax -50 

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sijikumar at cusat.ac.in  Wed Sep  4 13:46:52 2002
From: sijikumar at cusat.ac.in (S. Sijikumar)
Date: Wed, 4 Sep 2002 17:16:52 +0530 
Subject: [R] monte-carlo white noise test
Message-ID: <E5FA2384397ED3118DE90090278A76553EB7D1@MAIL>

Dear Sir,

Please tell me how to perform monte-carlo white noise test using R.

Thanking you

with regards

S.Sijikumar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep  4 14:34:45 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 4 Sep 2002 08:34:45 -0400 (EDT)
Subject: [R] monte-carlo white noise test
In-Reply-To: <E5FA2384397ED3118DE90090278A76553EB7D1@MAIL>
Message-ID: <Pine.LNX.4.44.0209040813380.2450-100000@bolker.zoo.ufl.edu>


  This is a pretty vague request ... can we have a little bit more
background?  There might be something in a package somewhere, but you will
probably have to "roll your own" (that's quite typical in R).  I would
suggest something like: (1) loading the ts (time series) library, (2)  
using spectrum() to compute the power series of your data, (3) some large
number of times, using sample() to permute your data and recomputing the
power series of your data (save the values of spectrum()$spec in a
matrix), (4) using apply and the quantile function to come up with
pointwise 95% confidence limits.
  There may well be more expert opinions out there; if you're lucky 
someone has already done this for themselves and will contribute code.
  (I would have suggested the help.search() command, but I tried 
help.search("white") [and help(package=ts)] and didn't see anything 
useful.)

  cheers,
    Ben Bolker


On Wed, 4 Sep 2002, S. Sijikumar wrote:

> Dear Sir,
> 
> Please tell me how to perform monte-carlo white noise test using R.
> 
> Thanking you
> 
> with regards
> 
> S.Sijikumar
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greg1stewart at hotmail.com  Wed Sep  4 15:17:41 2002
From: greg1stewart at hotmail.com (Greg Stewart)
Date: Wed, 4 Sep 2002 14:17:41 +0100
Subject: [R] Manipulation of plot data in export file or 'in memory'
Message-ID: <OE732PcSoN5gfUw3ZPp000159b9@hotmail.com>

I'm trying to provide some help to someone using R in conjunction with
Locfit who has v. little programming experience.

He would like to be able to do further manipulation of (contour) plot data
to measure such things as area, and ideally to export the plots into another
program for direct comparison with plot sets generated by other methods.

I suggested to him that it may be possible to export the plots in a file
who's structure I know so that I could write conversion code to generate
files that can be imported in another program. I also thought it might be
possible to get a handle on the plot data structure in R (unless it's kept
by Locfit) and work from there for analysis / export function (and possibly
doing this with a C routine bound into R).

I haven't found anything in the documentation that would help
manipulate/understand graph export format or find handles. Could anyone
provide advice? Any pointers would be much appreciated.

Kind regards,

Greg Stewart
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Sep  4 15:31:09 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 4 Sep 2002 09:31:09 -0400
Subject: [R] Properly initializing a plot
In-Reply-To: <Pine.LNX.4.44.0209040919290.5901-100000@reclus.nhh.no>
References: <15733.44703.232350.822801@gargle.gargle.HOWL>
	<Pine.LNX.4.44.0209040919290.5901-100000@reclus.nhh.no>
Message-ID: <20020904093109.65173664.fharrell@virginia.edu>

On Wed, 4 Sep 2002 09:23:17 +0200 (CEST)
Roger Bivand <Roger.Bivand at nhh.no> wrote:

> On Wed, 4 Sep 2002, Martin Maechler wrote:
> 
> > >>>>> "Frank" == Frank E Harrell <fharrell at virginia.edu>
> > >>>>>     on Tue, 3 Sep 2002 12:30:01 -0400 writes:
> > 
> >     Frank> I have many functions for high-level plotting that
> >     Frank> early on in their code do something like
> >     Frank> strwidth('string', units='inches') before plotting.
> >     Frank> I do this before plot() to set the correct margins
> >     Frank> with par(mai=...), to leave room for wide text on the
> >     Frank> left or right margins.  If the plotting device is not
> >     Frank> opened strwidth( ) causes an error that plot.new()
> >     Frank> needs to be called.  
> > 
> > yes.  
> > 
> >   > x11()
> >   > strwidth("a")
> >   Error in strwidth("a") : plot.new has not been called yet
> > 
> > As it says, it's  plot.new(), *not* a (new) graphics window
> > {and that should be opened automatically when needed by all R
> >  level plotting functions}.
> > 
> > 
> >     Frank> I can sense the need for
> >     Frank> plot.new() in the code using if(length(dev.list()).
> > 
> > I don't think so.  See the mini-example above
> > Typically, I think you should consider using  strwidth() and strheight()
> > only *after* a first plot() call which sets up the coordinate
> > system etc.
> > 
> >     Frank> If using postscript( ) as the device instead of the
> >     Frank> screen (X11()) I need to issue plot.new even though
> >     Frank> dev.list() is non-null.  If I routinely call
> >     Frank> plot.new() I will get extra empty panels if the code
> >     Frank> in the calling environment included
> >     Frank> par(mfrow=c(#rows,#columns)).
> > 
> >     Frank> Does anyone know of almost foolproof code for
> >     Frank> initializing a new plot inside a high-level plotting
> >     Frank> function but not unnecessarily doing so? 
> > 
> > I'm pretty sure you want something like
> > 
> >     if(!dev.interactive()) 
> >        get(getOption("device"))()
> > 
> > Note that  help(device)  has almost this as example :
> > 
> >      ## open the default screen device on this platform if no
> >      ## device is open
> >      if(dev.cur() == 1) get(getOption("device"))()
> > 
> > 
> > But again, this does not quite answer your initial question
> > about ``sensing when it's safe to use strwidth()'' !
> > 
> 
> Maybe:
> 
> > aa <- try(strwidth("a"))
> Error in strwidth("a") : plot.new has not been called yet
> > class(aa)
> [1] "try-error"
> 
> or:
> 
> > options("show.error.messages"=FALSE)
> > aa <- try(strwidth("a"))
> > class(aa)
> [1] "try-error"
> 
> Roger
> 
> -- 
> Roger Bivand
> Economic Geography Section, Department of Economics, Norwegian School of
> Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
> Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
> e-mail: Roger.Bivand at nhh.no
> and: Department of Geography and Regional Development, University of
> Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.
> 

Thanks very much for your responses Martin and Roger.  I'm still struggling with this because I can't invoke plot( ) before the margins are computed (unless I draw an empty plot I guess), and I'd lean against triggering an error even if the error can be covered up.  Perhaps a general solution is to, in a high-level function that needs to call strwidth before plot( ), always do the following:

plot.new()
strwidth(..., units='inches')
par(new=TRUE)
par(mai=...)
plot( ... )

Make sense?

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jesus.Frias at dit.ie  Wed Sep  4 16:08:05 2002
From: Jesus.Frias at dit.ie (Jesus Frias)
Date: Wed, 04 Sep 2002 15:08:05 +0100
Subject: [R] Intercept in model formulae.
In-Reply-To: <a05100300b99b880359ba@[129.31.3.212]>
Message-ID: <LGECJJCANFBOOHCMGPJEMEBFCBAA.Jesus.Frias@dit.ie>

Hi David,

	Linear models with breakpoints can be quite tricky. There is a whole
chapter (9) of "Nonlinear Regression" from Seber and Wild dedicated to it.

	One brute option you could use is optim or nls to estimate the parameters
in your model.

>y.t<-y+rnorm(0,sd=0.2) # problems of a nonlinear estimation algorithm with
artifical data):

>
temp.nls<-nls(y.t~x*a*(x<=10)+x*b*(x>10)+c*(x>10),start=list(a=1,b=0.5,c=5))
> temp.nls
Nonlinear regression model
  model:  y.t ~ x * a * (x <= 10) + x * b * (x > 10) + c * (x > 10)
   data:  parent.frame
        a         b         c
0.9891968 0.5200410 4.7873328
 residual sum-of-squares:  0.9848274



best regards,

IOsu

Lecturer Food Chemical Analysis
Dublin Institute of Technology
School of Food Science and Environmental Health
Cathal Bruha St., Dublin 1

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of David Orme
Sent: 04 September 2002 10:54
To: r-help at stat.math.ethz.ch
Subject: [R] Intercept in model formulae.


Hi,

I'm trying to create a linear model for a dataset that has a breakpoint e.g.

# dummy dataset
x <- 1:20
y <- c(1:10,seq(10.5,15,0.5))
plot(x,y)

I've modelled this using the following formula:

temp <- lm(y ~ x*(x<=10)+x*(x>10)) # where 10 is the breakpoint

I want to be able to omit the intercept (i.e. force the line through
zero) from the first of these segments (x<=10) so that I'm only
estimating one intercept and two slopes. I've tried including -1 in
the formula, folllowing the lm(y ~ x -1) syntax  to omit the
intercept from lm(y ~x) but the linear model still returns an
estimate of the intercept of the first segment. I can't work out what
the syntax for the formula should be. Is it possible in one step or
do I have to fit the two lines as separate models on subsets of the
data?

Any suggestions?

Thanks in advance,

David Orme


>  R.version
          _
platform ppc-apple-macos
arch     ppc
os       MacOS
system   ppc, MacOS
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

--
This message has been scanned for viruses by the DIT
Computer Centre MailScanner Service , and is
believed to be clean.


-- 
This message has been scanned for viruses by the DIT 
Computer Centre MailScanner Service , and is
believed to be clean.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  4 16:17:29 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2002 16:17:29 +0200
Subject: [R] strange things with eval and parent frames
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED26DD92@molly.tas.csiro.au>
References: <A8877251964B294BAB5BA1FC58B43FED26DD92@molly.tas.csiro.au>
Message-ID: <x2admx4z5y.fsf@biostat.ku.dk>

Mark.Bravington at csiro.au writes:

> Thanks for the very quick and helpful explanation, Peter (and to Martin
> Maechler for telling me about identical() ).
> 
> I'm still puzzled by the sys.call case. If I fake the issue by going one
> level deeper, and then calling sys.call( sys.parent()) instead of
> sys.call(), I do get what I expected to get (i.e. the call to the top-level
> function). The example is:
> 
> test.parent.funcs3_ function() {
>   subfunc3_ function() sys.call( -1) 
>   x_ subfunc3(); print( x) # the top-level call
>   
>   subfunc3a_ function() eval( quote( sys.call()), parent.frame())
>   x_ subfunc3a(); print( x) # I wanted the top level call, but the "eval"
> gets intercepted
>   
>   subfunc3c_ function() eval( quote( { function() sys.call( sys.parent())
> }() ), parent.frame())
>   x_ subfunc3c(); print( x) # the top level call
> }
> 
> > test.parent.funcs3()
> test.parent.funcs3()
> eval(expr, envir, enclos)
> test.parent.funcs3()

This stuff is fairly weird, and I definitely got something wrong:
parents are not the same as the "return addresses", as the examples in
help(sys.parents()) clearly show. (You might want to stick in a couple
of print(sys.status()) into your code to see what the system believes
that its state is).

There might in fact be a bug -- the logic of R_sysparent (in
context.c) does not look very robust against the case where several
elements on the context stack have the same cptr->cloenv (you
basically get the lowest numbered one in that case as far as I can
see). Or, then again, perhaps that is not a bug...; Robert Gentleman
is the expert on these matters.

(I'm not quite clear-headed enough today, but I think your 3c example
amounts to finding "the parent of my first incarnation" instead of "my
parent" by using the fact that "my first incarnation" is the parent of
my child....) 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Sep  4 16:20:26 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 4 Sep 2002 16:20:26 +0200 (MEST)
Subject: [R] Properly initializing a plot
In-Reply-To: <20020904093109.65173664.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.21.0209041613530.9112-100000@artemis>


> 
> Thanks very much for your responses Martin and Roger.  I'm still struggling with this because I can't invoke plot( ) before the margins are computed (unless I draw an empty plot I guess), and I'd lean against triggering an error even if the error can be covered up.  Perhaps a general solution is to, in a high-level function that needs to call strwidth before plot( ), always do the following:
> 
> plot.new()
> strwidth(..., units='inches')
> par(new=TRUE)
> par(mai=...)
> plot( ... )
> 
> Make sense?
> 

I had the same problem (see r-devel "strwidth" 3 weeks ago) and Brian
pointed to the following solution which is very close to your example
above: 

  # open a new device 
  plot.new()
  # get all possible parameters for `par' from the function call 
  args <- list(...)
  # check if the size of the axis needs to be set
  cex.axis <- args$cex.axis
  if (!is.null(cex.axis))
    par(cex.axis=cex.axis)
  # we need to determine the left margin depending on the size of the
  # characters in rownames(est) <- this is what I want to plot
  # save the old ones
  oldmai <- mymai <- par("mai")
  # determine the size needed for plotting
  ywidth <- max(strwidth(rownames(est), units="inches",
                         cex=par("cex.axis")))*1.2
  # if there is not enough room enlarge it 
  if (mymai[2] < ywidth)
   mymai[2] <- ywidth
  # tell par what we want 
  par(mai=mymai, new=TRUE)
  # set up an empty plot with appropriate coordinate system
  plot(rbind(c(crange[1], 1), c(crange[2], n)), type="n", axes=FALSE,
       xlab=xlab, ylab="", main=type, ...)
  # and do magic things ...
  axis(1, ...)
  axis(2, 1:n, rownames(est)[n:1], las=1, ...)
  ...
 
Torsten

> Frank
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Sep  4 16:43:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Sep 2002 07:43:14 -0700 (PDT)
Subject: [R] Intercept in model formulae.
In-Reply-To: <a05100300b99b880359ba@[129.31.3.212]>
Message-ID: <Pine.A41.4.44.0209040735080.146648-100000@homer40.u.washington.edu>

On Wed, 4 Sep 2002, David Orme wrote:

> Hi,
>
> I'm trying to create a linear model for a dataset that has a breakpoint e.g.
>
> # dummy dataset
> x <- 1:20
> y <- c(1:10,seq(10.5,15,0.5))
> plot(x,y)
>
> I've modelled this using the following formula:
>
> temp <- lm(y ~ x*(x<=10)+x*(x>10)) # where 10 is the breakpoint
>
> I want to be able to omit the intercept (i.e. force the line through
> zero) from the first of these segments (x<=10) so that I'm only
> estimating one intercept and two slopes. I've tried including -1 in
> the formula, folllowing the lm(y ~ x -1) syntax  to omit the
> intercept from lm(y ~x) but the linear model still returns an
> estimate of the intercept of the first segment. I can't work out what
> the syntax for the formula should be. Is it possible in one step or
> do I have to fit the two lines as separate models on subsets of the
> data?

I'm not completely clear on whether you want a breakpoint or just a change
in slope (your data just have a change in slope but your example model
doesn't enforce the two lines meeting at x=10))

Assuming you do just want a change in slope you can do

x10<-pmax(x,10)
lm(y~x+x10-1)

The coefficient of x is the slope for x<10, the *sum* of the two
coefficients is the slope for x>10.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Sep  4 16:46:55 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Sep 2002 07:46:55 -0700 (PDT)
Subject: [R] logical and NA
In-Reply-To: <5.1.0.14.2.20020904102737.03f19fa0@mail.wsl.ch>
Message-ID: <Pine.A41.4.44.0209040743500.146648-100000@homer40.u.washington.edu>

On Wed, 4 Sep 2002, Christian Hoffmann wrote:

> Hi there, (sorry Martin, ich habe den falschen Empfaenger erwischt :-(  )
>
> Is there a function in the base package or elsewhere which returns TRUE and
> not NA, even if NA is involved: (I did not find in the help system :-(  )
>
> if ( x==something & !is.na(something))
>
> or
>
> if ( x==something & !is.na(x==something))
>

x %in% something
is TRUE if x is an element of something and FALSE otherwise, so your first
example could be
   if (x %in% something)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From idimakos at upatras.gr  Wed Sep  4 16:44:11 2002
From: idimakos at upatras.gr (idimakos@upatras.gr)
Date: Wed, 4 Sep 2002 17:44:11 +0300 (EEST)
Subject: [R] classification table in logistic regression
Message-ID: <1444.150.140.128.179.1031150651.squirrel@nic.upatras.gr>

Friends,

Is there an option (or options) to produce a classification table when
running a logistic regression analysis?  Similar to the ctable option in
proc logistic in SAS?

TIA,

Ioannis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Sep  4 16:51:05 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 04 Sep 2002 10:51:05 -0400
Subject: [R] Intercept in model formulae.
Message-ID: <OF2B01A042.4CAFD409-ON85256C2A.0050F901@rtp.epa.gov>


try this:

ind1 <- as.numeric(x > 10) # to calculate the intercept for this part of
the line
temp <- lm(y ~ ind1 + x:(x <= 10) - 1)

> temp

Call:
lm(formula = y ~ ind1 + x:(x <= 10) - 1)

Coefficients:
          ind1  x:x <= 10FALSE   x:x <= 10TRUE
           5.0             0.5             1.0

In model formulae, "*" indicates that the model should include both the
main effects terms and the interactions.  The logical value (x <= 10) is
coerced to a factor (at least effectively).

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


|---------+------------------------------>
|         |           David Orme         |
|         |           <d.orme at ic.ac.uk>  |
|         |           Sent by:           |
|         |           owner-r-help at stat.m|
|         |           ath.ethz.ch        |
|         |                              |
|         |                              |
|         |           09/04/02 05:54 AM  |
|         |                              |
|---------+------------------------------>
  >---------------------------------------------------------------------------------------------------------------|
  |                                                                                                               |
  |       To:       r-help at stat.math.ethz.ch                                                                      |
  |       cc:                                                                                                     |
  |       Subject:  [R] Intercept in model formulae.                                                              |
  >---------------------------------------------------------------------------------------------------------------|




Hi,

I'm trying to create a linear model for a dataset that has a breakpoint
e.g.

# dummy dataset
x <- 1:20
y <- c(1:10,seq(10.5,15,0.5))
plot(x,y)

I've modelled this using the following formula:

temp <- lm(y ~ x*(x<=10)+x*(x>10)) # where 10 is the breakpoint

I want to be able to omit the intercept (i.e. force the line through
zero) from the first of these segments (x<=10) so that I'm only
estimating one intercept and two slopes. I've tried including -1 in
the formula, folllowing the lm(y ~ x -1) syntax  to omit the
intercept from lm(y ~x) but the linear model still returns an
estimate of the intercept of the first segment. I can't work out what
the syntax for the formula should be. Is it possible in one step or
do I have to fit the two lines as separate models on subsets of the
data?

Any suggestions?

Thanks in advance,

David Orme


>  R.version
          _
platform ppc-apple-macos
arch     ppc
os       MacOS
system   ppc, MacOS
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Sep  4 18:02:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Sep 2002 09:02:10 -0700 (PDT)
Subject: [R] classification table in logistic regression
In-Reply-To: <1444.150.140.128.179.1031150651.squirrel@nic.upatras.gr>
Message-ID: <Pine.A41.4.44.0209040859220.168364-100000@homer10.u.washington.edu>

On Wed, 4 Sep 2002 idimakos at upatras.gr wrote:

> Friends,
>
> Is there an option (or options) to produce a classification table when
> running a logistic regression analysis?  Similar to the ctable option in
> proc logistic in SAS?
>

If you have a binary outcome it's very simple
	table(model$y,fitted(model)>threshold)
where threshold is the threshold for deciding whether a fitted value
should go to 1 or 0.  One natural default is
	threshold<-mean(fitted(model))
which makes the overall observed and predicted numbers equal.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Sep  4 18:08:08 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 4 Sep 2002 12:08:08 -0400
Subject: [R] classification table in logistic regression
In-Reply-To: <1444.150.140.128.179.1031150651.squirrel@nic.upatras.gr>
References: <1444.150.140.128.179.1031150651.squirrel@nic.upatras.gr>
Message-ID: <20020904120808.4f2dd730.fharrell@virginia.edu>

There are many reasons not to derive a classification table.  Just to mention a few: the proportion classified correctly is highly arbitrary (depends on an arbitrary cutoff) and is an improper scoring rule (is not optimized when the model estimates the true probabilities of events); the proportion classified correctly can decrease when an important variable is added to the model.  It is also wasteful of statistical information.

When I wrote the CTABLE option for the old SAS PROC LOGIST in 1980 I later came to regret implementing it.

Frank Harrell

On Wed, 4 Sep 2002 17:44:11 +0300 (EEST)
idimakos at upatras.gr wrote:

> Friends,
> 
> Is there an option (or options) to produce a classification table when
> running a logistic regression analysis?  Similar to the ctable option in
> proc logistic in SAS?
> 
> TIA,
> 
> Ioannis
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Wed Sep  4 18:11:22 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed, 04 Sep 2002 10:11:22 -0600
Subject: [R] logical and NA
In-Reply-To: <5.1.0.14.2.20020904102737.03f19fa0@mail.wsl.ch>
Message-ID: <5.1.0.14.2.20020904100410.0461fe80@mailhost.blackmesacapital.com>

I sometimes use identical(T, boolean.expression) for this purpose, e.g.:

 > identical(T,3*4==12)
[1] TRUE
 > identical(T,3*4==11)
[1] FALSE
 > identical(T,3*NA==11)
[1] FALSE

However, this is not ideal because if your objects have names, identical 
will return false if the names don't match:

 > 3*4==c(a=12)
    a
TRUE
 > identical(T,3*4==c(a=12))
[1] FALSE
 > identical(c(a=TRUE),3*4==c(a=12))
[1] TRUE

You can get around this problem by wrapping the expression with as.logical 
(to strip names), but it's starting to get cumbersome (though the 
expression still only occurs once):

 > identical(TRUE,as.logical(3*4==c(a=12)))
[1] TRUE
 >

-- Tony Plate

At 10:29 AM 9/4/2002 +0200, Christian Hoffmann wrote:
>Hi there, (sorry Martin, ich habe den falschen Empfaenger erwischt :-(  )
>
>Is there a function in the base package or elsewhere which returns TRUE 
>and not NA, even if NA is involved: (I did not find in the help system :-(  )
>
>if ( x==something & !is.na(something))
>
>or
>
>if ( x==something & !is.na(x==something))
>
>If "something" is complicated, a function would be handy.
>
>Thanks
>--christian
>
>
>Dr.sc.math.Christian W. Hoffmann
>Mathematics and Statistical Computing
>Landscape Dynamics and Spatial Development
>Swiss Federal Research Institute WSL
>Zuercherstrasse 111
>CH-8903 Birmensdorf, Switzerland
>phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
>e-mail: christian.hoffmann at wsl.ch
>www: http://www.wsl.ch/staff/christian.hoffmann/
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oedic at cebc.cnrs.fr  Wed Sep  4 18:32:25 2002
From: oedic at cebc.cnrs.fr (Thomas de Cornulier)
Date: Wed, 04 Sep 2002 18:32:25 +0200
Subject: [R] scaling-centering a vector using an index
Message-ID: <3D763599.244CD11B@cebc.cnrs.fr>

dear all,
I would like to center and scale some columns of a data frame (these
include NAs) according to the levels of an index (list of factors from
the same data frame).
I tried to code it using for loops but gave up. I guess there is a
straightforward way to achieve this: any hint welcome!
thanks a lot
thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  4 19:57:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2002 19:57:09 +0200
Subject: [R] scaling-centering a vector using an index
In-Reply-To: <3D763599.244CD11B@cebc.cnrs.fr>
References: <3D763599.244CD11B@cebc.cnrs.fr>
Message-ID: <x24rd51vuy.fsf@biostat.ku.dk>

Thomas de Cornulier <oedic at cebc.cnrs.fr> writes:

> dear all,
> I would like to center and scale some columns of a data frame (these
> include NAs) according to the levels of an index (list of factors from
> the same data frame).
> I tried to code it using for loops but gave up. I guess there is a
> straightforward way to achieve this: any hint welcome!
> thanks a lot
> thomas

Erm, define "according to the levels of" or have a look at the
examples for split/unsplit and see whether you mean what I think you
mean....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From findatonight1573040c34 at yahoo.com  Thu Sep  5 16:42:29 2002
From: findatonight1573040c34 at yahoo.com (Get Your Date)
Date: Thu, 05 Sep 2002 05:42:29 -0900
Subject: [R] "This is the best escort service" 6704bFOK1-431ALP-15
Message-ID: <016b15d16e5b$4526d7d5$3da03ed1@fwdcef>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020905/a03546ba/attachment.html

From garry.kremer at convergys.com  Wed Sep  4 23:30:00 2002
From: garry.kremer at convergys.com (garry.kremer@convergys.com)
Date: Wed, 4 Sep 2002 17:30:00 -0400
Subject: [R] readline doesn't work even thou cled=TRUE
Message-ID: <OFA81B4032.29140199-ON85256C2A.00753E4C@cbis.com>

Can anyone offer suggestion about getting readline to work on Solaris?
(v1.5.1)

When I use the up arrow or ctrl-p to try to repeat the last command
my session just beeps.

It appears that the .Rhistory file that should appear in my startup
directory
is not being created.

Thanks!

The screen shot below shows cled=TRUE and no .Rhistory file created:

$  /apps/R-1.5.1/bin/R

R : Copyright 2002, The R Development Core Team
Version 1.5.1  (2002-06-17)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> capabilities("cled")
cledit
  TRUE
> ls()
character(0)
> q()
Save workspace image? [y/n/c]: y
$ ls -sal *hist*
*hist*: No such file or directory

--
"NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected."

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lingyun.Shi at fimat.com  Wed Sep  4 23:40:58 2002
From: Lingyun.Shi at fimat.com (Lingyun Shi)
Date: Wed, 4 Sep 2002 16:40:58 -0500
Subject: [R] Passing dynamic sql statement to RODBC functions
Message-ID: <OF5D3FC4FF.7BA8FD3B-ON86256C2A.007628FA@fimat.com>


Hi,

Does anyone know how to pass dynamic sql statement to RODBC function
"odbcQuery()" or "sqlQuery()"?
eg.: under R session, I did:
>library(RODBC)
>channel<-odbcConnect(...)
>data1<-2.5
>data2<-5.0
I want to construct the INSERT sql statement using variables "data1" and
"data2"  and pass this statement to odbcQuery() . Can I do this? what's the
syntax to construct this sql statement?

Thanks

Lingyun


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pgoodr1 at aol.com  Thu Sep  5 07:53:53 2002
From: Pgoodr1 at aol.com (Pgoodr1@aol.com)
Date: Thu, 05 Sep 2002 01:53:53 -0400
Subject: [R] data mining for R
Message-ID: <633BDAFC.4CC8826D.00194D84@aol.com>

I was wondering if R had a data mining componant and how i could get it. If not do you know anyone who is developing a datamining "plug in" for R
Phillip Goodreid
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at tirol.gv.at  Thu Sep  5 08:35:57 2002
From: H.RINNER at tirol.gv.at (RINNER Heinrich)
Date: Thu, 5 Sep 2002 08:35:57 +0200 
Subject: AW: [R] Passing dynamic sql statement to RODBC functions
Message-ID: <C4D44AB4CB62D311BA6500041202E886031EE111@xms1.tirol.gv.at>

You could construct your SQL statement as a character string using paste()
and pass this as an argument to sqlQuery.
Maybe something like this will work for you:

>data1<-2.5
>sql.statement <- paste("SELECT * FROM somewhere WHERE something=", data1,
";", sep="")
>library(RODBC)
>channel <- odbcConnect(...)
>sqlQuery(channel, query = sql.statement)
>odbcClose(channel)

-Heinrich.


> -----Urspr?ngliche Nachricht-----
> Von: Lingyun Shi [mailto:Lingyun.Shi at fimat.com] 
> Gesendet: Mittwoch, 04. September 2002 23:41
> An: r-help at stat.math.ethz.ch
> Betreff: [R] Passing dynamic sql statement to RODBC functions
> 
> 
> 
> Hi,
> 
> Does anyone know how to pass dynamic sql statement to RODBC function
> "odbcQuery()" or "sqlQuery()"?
> eg.: under R session, I did:
> >library(RODBC)
> >channel<-odbcConnect(...)
> >data1<-2.5
> >data2<-5.0
> I want to construct the INSERT sql statement using variables 
> "data1" and
> "data2"  and pass this statement to odbcQuery() . Can I do 
> this? what's the
> syntax to construct this sql statement?
> 
> Thanks
> 
> Lingyun
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Sep  5 08:40:10 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 05 Sep 2002 08:40:10 +0200
Subject: [R] logical and NA  -> %in%
In-Reply-To: <Pine.A41.4.44.0209040743500.146648-100000@homer40.u.washin
 gton.edu>
References: <5.1.0.14.2.20020904102737.03f19fa0@mail.wsl.ch>
Message-ID: <5.1.0.14.2.20020905080951.00f4bc18@mail.wsl.ch>

Hi Thomas, hi Tony

Thanks for the hint!  My motivation behind the question was to install all 
recommended packages:

install.packages(CRAN.packages()[CRAN.packages()[,3] %in% "recommended",1])

--christian

At 07:46 04.09.2002 -0700, you wrote:
>On Wed, 4 Sep 2002, Christian Hoffmann wrote:
>
> > Hi there, (sorry Martin, ich habe den falschen Empfaenger erwischt :-(  )
> >
> > Is there a function in the base package or elsewhere which returns TRUE and
> > not NA, even if NA is involved: (I did not find in the help system :-(  )
> >
> > if ( x==something & !is.na(something))
> >
> > or
> >
> > if ( x==something & !is.na(x==something))
> >
>
>x %in% something
>is TRUE if x is an element of something and FALSE otherwise, so your first
>example could be
>    if (x %in% something)
>
>         -thomas

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Thu Sep  5 08:50:12 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Thu, 5 Sep 2002 08:50:12 +0200
Subject: [R] Passing dynamic sql statement to RODBC functions
In-Reply-To: <OF5D3FC4FF.7BA8FD3B-ON86256C2A.007628FA@fimat.com>
References: <OF5D3FC4FF.7BA8FD3B-ON86256C2A.007628FA@fimat.com>
Message-ID: <20020905065011.GB9830@eckehaat.uft.uni-bremen.de>

Hi Lingyun


> Does anyone know how to pass dynamic sql statement to RODBC function
> "odbcQuery()" or "sqlQuery()"?
> eg.: under R session, I did:
> >library(RODBC)
> >channel<-odbcConnect(...)
> >data1<-2.5
> >data2<-5.0

I would try something like:

?paste
query <- paste("INSERT INTO xxx VALUES ('",data1,"','",data2,"')",sep="")
sqlQuery(channel,query)

Johannes Ranke

> I want to construct the INSERT sql statement using variables "data1" and
> "data2"  and pass this statement to odbcQuery() . Can I do this? what's the
> syntax to construct this sql statement?
> 
> Thanks
> 
> Lingyun
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Sep  5 09:03:34 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 5 Sep 2002 19:03:34 +1200
Subject: [R] data mining for R
References: <633BDAFC.4CC8826D.00194D84@aol.com>
Message-ID: <002101c254aa$5c5764c0$f73158db@kwan022>

What "exactly" are you looking for?

R has a package for neural network (nnet), and trees (rpart and/or tree).
And some others.  It really, I think, depend on what "component" you need.

Cheers,

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: <Pgoodr1 at aol.com>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, September 05, 2002 5:53 PM
Subject: [R] data mining for R


> I was wondering if R had a data mining componant and how i could get it.
If not do you know anyone who is developing a datamining "plug in" for R
> Phillip Goodreid
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kuonen at statoo.com  Thu Sep  5 09:09:04 2002
From: kuonen at statoo.com (Dr. Diego Kuonen)
Date: Thu, 05 Sep 2002 09:09:04 +0200
Subject: [R] data mining for R
References: <633BDAFC.4CC8826D.00194D84@aol.com>
Message-ID: <3D770310.F862E00F@statoo.com>

Pgoodr1 at aol.com wrote:
> 
> I was wondering if R had a data mining componant and how i could get it. 
> If not do you know anyone who is developing a datamining "plug in" for R

The best starting point would be to get a book on data mining
and to look for a sec./chap. on data mining techniques. You
should remark then that mainly all supervised and unsupervised 
techniques (except maybe association rules) are available in R 
by means of a corresponding R package. Saying this, you can see 
R as your wanted data mining "plug in". Why would you need a data
mining component if everything is there?

Sincerely,

  Diego Kuonen


-- 
Dr. ?s sc. Diego Kuonen        CEO & Applied Statistician 
Statoo Consulting, PO Box 107, 1015 Lausanne, Switzerland
+ Have you ever been Statooed?   http://www.statoo.info +
+ Free Statooed newsletters:    http://lists.statoo.com +
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep  5 09:33:40 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 5 Sep 2002 09:33:40 +0200
Subject: [R] readline doesn't work even thou cled=TRUE
In-Reply-To: <OFA81B4032.29140199-ON85256C2A.00753E4C@cbis.com>
References: <OFA81B4032.29140199-ON85256C2A.00753E4C@cbis.com>
Message-ID: <15735.2260.993112.1434@gargle.gargle.HOWL>

>>>>> "garry" == garry kremer <garry.kremer at convergys.com>
>>>>>     on Wed, 4 Sep 2002 17:30:00 -0400 writes:

    garry> Can anyone offer suggestion about getting readline to work on Solaris?
    garry> (v1.5.1)

It *does* work on many Solarises (including here), so probably this should mean

  ``suggestion about getting readline to work for __my__ Solaris setup''

Suggestions:  

1)  Could it be that someone installed a different version of readline
  than the one that was current when your R was built?
  {or your version of Solaris was upgraded ??}
  If this is the case, you should try to re-building R, starting
  with the    <sourcedirectory>/configure   command.

1b) You can return a favor to the R community by getting a
    snapshot of "R-devel", the "development version of R",
    (by rsync or FTP, see http://cran.r-project.org/sources.html)
    which will become the R 1.6.0 in early October.
    Build it and find if the problem is gone {and report to R-devel at ...}.
  
2) What kind of terminal did you try to use readline?
   Does it work in "xterm" at least?

3) Many of us almost never need the readline capabilities, since
   we work with ESS (Emacs Speaks Statistics) which has much
   more than readline could ever offer..

    garry> When I use the up arrow or ctrl-p to try to repeat the last command
    garry> my session just beeps.

    garry> It appears that the .Rhistory file that should appear in my startup
    garry> directory
    garry> is not being created.

    garry> Thanks!

    garry> The screen shot below shows cled=TRUE and no .Rhistory file created:

    garry> $  /apps/R-1.5.1/bin/R

    garry> R : Copyright 2002, The R Development Core Team
    garry> Version 1.5.1  (2002-06-17)
    ......

    >> capabilities("cled")
    garry> cledit
    garry> TRUE
    >> ls()
    garry> character(0)
    >> q()
    garry> Save workspace image? [y/n/c]: y
    garry> $ ls -sal *hist*
    garry> *hist*: No such file or directory

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From parrinel at med.unibs.it  Thu Sep  5 10:58:50 2002
From: parrinel at med.unibs.it (Giovanni Parrinello)
Date: Thu, 05 Sep 2002 10:58:50 +0200
Subject: [R] Cox model and irregulary observed time-dependent covariate
Message-ID: <5.0.2.1.1.20020905104453.027353f0@pop.med.unibs.it>

Dear All,
I am looking for a funtion to reshape my dataset from the longe form with a 
record for each patient with the informations ( times and values ) for the 
different covariate to the form adapt to the analysis in R.
TIA
Giovanni Parrinello


dr. Giovanni Parrinello
Medical Statistics Unit
Department of Medical Sciences
University of Brescia
Via Valsabbina, 19
25127 Brescia
Italy
tel.: +39303717528
fax:+39303701157
E-mail: parrinel at med.unibs.it
url: http://www.med.unibs.it/dip/stat/index.html 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020905/c9fcc5fe/attachment.html

From demolomb at ensam.inra.fr  Thu Sep  5 11:04:54 2002
From: demolomb at ensam.inra.fr (demolombe)
Date: Thu, 05 Sep 2002 11:04:54 +0200
Subject: [R] how to return indexes
Message-ID: <200209051103.g85B3T315164@ensam.inra.fr>

Hello,

I wonder how to retreive indexes of data (and not data themseleves)

example: a vector x<-c(10,20,30,40,50,60)
               a filter: f <- x>30 does retreive : 40,50,60
                          f <- x[x>30] retreive
false,false,false,true,true,true

i would retreive the indexes: 4,5,6  because the 4th, 5th and 6th values
were selected

(this easy with matlab, but with R I know only sort(..., index.return=TRUE)
 which does that

thank you for help

Vincent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Thu Sep  5 11:16:24 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 5 Sep 2002 11:16:24 +0200 (CEST)
Subject: [R] how to return indexes
In-Reply-To: <200209051103.g85B3T315164@ensam.inra.fr>
Message-ID: <Pine.LNX.4.44.0209051114490.7450-100000@reclus.nhh.no>

On Thu, 5 Sep 2002, demolombe wrote:

> Hello,
> 
> I wonder how to retreive indexes of data (and not data themseleves)
> 
> example: a vector x<-c(10,20,30,40,50,60)
>                a filter: f <- x>30 does retreive : 40,50,60
>                           f <- x[x>30] retreive
> false,false,false,true,true,true
> 
> i would retreive the indexes: 4,5,6  because the 4th, 5th and 6th values
> were selected
> 
> (this easy with matlab, but with R I know only sort(..., index.return=TRUE)
>  which does that
> 

which() ?

> x<-c(10,20,30,40,50,60)
> f <- x[x>30]
> f
[1] 40 50 60
> f <- which(x>30)
> f
[1] 4 5 6
> 

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Sep  5 11:35:07 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 05 Sep 2002 11:35:07 +0200
Subject: [R] rcorr in Hmisc
Message-ID: <3D77254B.6020508@science.uva.nl>

Dear list,

I get the following message when I use rcorr in library "Hmisc"

------------------------------------------------------
 > rcorr(lskPox0t30, type=c("spearman"))
Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
         matrix subscripts not allowed in replacement
------------------------------------------------------

I do not understand this message. Is it due to that I have missing values? 
Or is it an error in the function rcorr? What's a matrix subscript?

Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  5 12:09:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2002 12:09:51 +0200
Subject: [R] rcorr in Hmisc
In-Reply-To: <3D77254B.6020508@science.uva.nl>
References: <3D77254B.6020508@science.uva.nl>
Message-ID: <x2ptvs7no0.fsf@biostat.ku.dk>

Ulrich Leopold <uleopold at science.uva.nl> writes:

> Dear list,
> 
> I get the following message when I use rcorr in library "Hmisc"
> 
> ------------------------------------------------------
>  > rcorr(lskPox0t30, type=c("spearman"))
> Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
>          matrix subscripts not allowed in replacement
> ------------------------------------------------------
> 
> I do not understand this message. Is it due to that I have missing
> values? Or is it an error in the function rcorr? What's a matrix
> subscript?

I think the upshot is that lskPox0t30 needs to be a matrix, not a data
frame. 

A matrix subscript allows you to pick elements from a p dimensional
array by indexing with an n x p matrix, as in

(m <- matrix(1:9,3))
(i <- cbind(1:2,2:3))
m[i]

The thing that happens is the same as 

> data(airquality)
> airquality[is.na(airquality)] <- 99999
Error in "[<-.data.frame"(*tmp*, is.na(airquality), value = 99999) : 
        matrix subscripts not allowed in replacement

> airquality <- as.matrix(airquality)
> airquality[is.na(airquality)] <- 99999 #works


(The error message is slightly beside the point. is.na(airquality) is
a matrix in both cases, but since it has mode "logical", the
dimensions are ignored.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  5 12:32:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Sep 2002 11:32:54 +0100 (BST)
Subject: [R] Version 1.5.1 failing make check.
In-Reply-To: <Pine.A41.4.44.0209031257360.16572-100000@homer09.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0209051130210.22203-100000@toucan.stats>

On Solaris 7/8 with gcc 3.1 or later and a 64-bit kernel you need to
compile arithmetic.c without optimization.

It's a compiler bug.  There is a workaround in 1.6.0.  It does not occur
with a 32-bit kernel, nor with SunPro cc, nor with gcc 3.0.4.



On Tue, 3 Sep 2002, Thomas Lumley wrote:

> On Tue, 3 Sep 2002, Rolf Turner wrote:
>
> <snip> make: Fatal error: Command failed for target `check'
> >
> > Amongst other things:
> >
> > 	(1) in tests/Examples/base-Ex.Rout.fail we find
> >
> > 		Error: !is.nan(var(1)) is not TRUE
> >
> <snip>
> > 	I checked that in R version 1.4.1, which is currently running
> > 	on our system, these give TRUE, in agreement with
> > 	arith-true.Rout.save.  Likewise
> >
> > 		!is.nan(var(1))
> >
> > 	gives TRUE, as it apparently should, under 1.4.1.
> >
> > 	(So the problem would seem --- ??? --- to be with the new
> > 	version rather than with our system.)
>
> Well, an interaction between them. Certainly make check works on a lot of
> systems with R 1.5.1.  It wouldn't get released otherwise.
>
>
> > 	There are a bunch of other errors as well.
> >
> > Should I just ignore the fact that ``make check'' fails, and go ahead
> > and install 1.5.1?
>
> No, that would be a really bad idea.
>
> >			 (I ***really*** don't like the idea of doing
> > this!)  If not what, if anything, can I do to make it not fail?
> >
> > Version information (when I fire up the new, but not installed,
> > version 1.5.1, by invoking bin/R:
> >
> > platform sparc-sun-solaris2.7
> > arch     sparc
> > os       solaris2.7
>
> <snip>
> > P. S.  I ***think*** that version 1.5.1 was made with a different
> > gcc than was 1.4.1.  Could this be the problem?  And if so, what
> > do I do about it?
>
> Looking at the forthcoming 1.6.0 I see that
>    o   Workaround for optimization bugs on gcc 3.1/2 on 32-bit Solaris.
> is listed in NEWS, so it might be worth either
>
> a) reducing the optimisation level by editing CFLAGS in config.site
> or
> b) trying the pre1.6.0 code to see if the problem has gone away.
>
>
> 	-thomas
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  5 12:59:32 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Sep 2002 11:59:32 +0100 (BST)
Subject: [R] data mining for R
In-Reply-To: <633BDAFC.4CC8826D.00194D84@aol.com>
Message-ID: <Pine.GSO.4.31.0209051156440.22203-100000@toucan.stats>

Well, R does not have a `statistics' plug in either!

In the words of Witten & Franke's book, Data Mining is `statistics plus
marketing', and R can do a lot of data mining.

If you could be more specififc about what techniques you want to use, we
may be able to help you further.

On Thu, 5 Sep 2002 Pgoodr1 at aol.com wrote:

> I was wondering if R had a data mining componant and how i could get it. If not do you know anyone who is developing a datamining "plug in" for R
> Phillip Goodreid

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep  5 13:00:07 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 5 Sep 2002 13:00:07 +0200 (CEST)
Subject: [R] how to return indexes
In-Reply-To: <200209051103.g85B3T315164@ensam.inra.fr>
Message-ID: <Pine.LNX.4.44.0209051259110.3679-100000@tal.stat.umu.se>

On Thu, 5 Sep 2002, demolombe wrote:

> Hello,
>
> I wonder how to retreive indexes of data (and not data themseleves)
>
> example: a vector x<-c(10,20,30,40,50,60)
>                a filter: f <- x>30 does retreive : 40,50,60
>                           f <- x[x>30] retreive
> false,false,false,true,true,true
>
> i would retreive the indexes: 4,5,6  because the 4th, 5th and 6th values
> were selected
>
> (this easy with matlab, but with R I know only sort(..., index.return=TRUE)
>  which does that
>
> thank you for help
>
> Vincent

which(x > 30)
---
 G?ran Brostr?m                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume? University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbatobeme at yahoo.com  Thu Sep  5 14:09:24 2002
From: mbatobeme at yahoo.com (- -)
Date: Thu, 5 Sep 2002 05:09:24 -0700 (PDT)
Subject: [R] Help with perm.test please
Message-ID: <20020905120924.99425.qmail@web10501.mail.yahoo.com>

Sorry of this is a repeat-the original message didn't
seem to go through.....

I have two groups that I am trying to do a two sample
permutation test on (equality of means).

The x group has 6 elements and the y group has 703
elements. 

However, the data is counts and there are only a few
unique values:

> unique(x)
[1] 1 2
> unique(y)
 [1]  1  2  5  3 10  9  7  4  6 11  8 23 18 30 16 29
42

Now I understand that you don't need to be a
weatherman to see which way the wind is blowing here
and clearly you would reject the null of equality.

I thought that perm.test creates a rx2 contingency
table and then does a network algorithm ala stat exact
(or something like that). In this example it doesn't
seem that the contingency table would be that big. Any
suggestions or comments ?

Thanks,

Steve

But I get the following error:

> perm.test(x,y,exact=T)
Error in cperm(eq, m, paired) : N > 200 in cpermdistr2



__________________________________________________

Yahoo! Finance - Get real-time stock quotes

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  5 14:36:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2002 14:36:51 +0200
Subject: [R] data mining for R
In-Reply-To: <Pine.GSO.4.31.0209051156440.22203-100000@toucan.stats>
References: <Pine.GSO.4.31.0209051156440.22203-100000@toucan.stats>
Message-ID: <x27ki07gv0.fsf@biostat.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Well, R does not have a `statistics' plug in either!
> 
> In the words of Witten & Franke's book, Data Mining is `statistics plus
> marketing', and R can do a lot of data mining.
> 
> If you could be more specififc about what techniques you want to use, we
> may be able to help you further.
> 
> On Thu, 5 Sep 2002 Pgoodr1 at aol.com wrote:
> 
> > I was wondering if R had a data mining componant and how i could get it. If not do you know anyone who is developing a datamining "plug in" for R
> > Phillip Goodreid

Another possible definition is "statistics with massive amounts of
incidental data". A large part of the DM practices seems to be
"quarrying". The actual statistical methodology is only a part of a
complicated process of getting data out of databases on a, say, weekly
schedule, roughly preprocessed, then fed to a statistics engine, and
postprocessed to something that can end up on the manager's desk.

In my impression that is essentially what SPSS's Clementine product
does, using a GUI to draw arrows between pretty little hexagonal
cells. It is not at all unthinkable that something like that could be
coded up in R too. I think we have most of the pieces to do it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Thu Sep  5 14:59:43 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Thu, 05 Sep 2002 14:59:43 +0200
Subject: [R] Problem with SJava sample "JavaRCall"
References: <3D74B223.9769FF9C@rcc.ch>
Message-ID: <3D77553E.3C86442F@rcc.ch>


Heinz Grimm wrote:

>Hi,

>I am trying to run the example "JavaRCall"  with SJava 0.65 and R1.5.1
>under Windows NT4.0. Although loadLibrary("RInterpreter") worked successfull,
>the following error occurs:

>"Exception breakpoint occurred at line 65 of ROmegahatInterpreter.java.
>Ajava.lang.UnsatisfiedLinkError: boolean
>org.omegahat.R.Java.ROmegahatInterpreter.initR(java.lang.String[])

Meanwhile I have learned a lot about JNI and have fixed this one. I have added
'-Wl,--add-stdcall-alias' (see e.g. http://www.inonit.com/cygwin/jni/helloWorld/c.html)
to the gcc command that creates the library SJava.DLL

Unfortuantely I get now a new error (appended). Can anybody help?

Thank you,
Heinz Grimm

D:\JDev9i\jdev\mywork\R\JavaCallR\classes>java rcc.rTest.JavaCallR
Loading RInterpreter library
[search]

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION occurred at PC=0x8f3f3aa
Function name=R_SetMaxNSize
Library=d:\r-project\R-1.5.1\bin\R.dll

Current Java thread:
        at org.omegahat.R.Java.REvaluator.eval(Native Method)
        at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:86)
        at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:36)
        at rcc.rTest.JavaCallR.main(JavaCallR.java:20)

Dynamic libraries:
0x00400000 - 0x00405000         D:\jdk1.3.1_01\jre\bin\java.exe
0x77F70000 - 0x77FD0000         C:\WINNT\System32\ntdll.dll
0x77DC0000 - 0x77DFF000         C:\WINNT\system32\ADVAPI32.dll
0x77F00000 - 0x77F63000         C:\WINNT\system32\KERNEL32.dll
0x77E70000 - 0x77EC5000         C:\WINNT\system32\USER32.dll
0x77ED0000 - 0x77EFC000         C:\WINNT\system32\GDI32.dll
0x77E10000 - 0x77E67000         C:\WINNT\system32\RPCRT4.dll
0x78000000 - 0x78044000         C:\WINNT\system32\MSVCRT.dll
0x6D420000 - 0x6D4EE000         D:\jdk1.3.1_01\jre\bin\hotspot\jvm.dll
0x77FD0000 - 0x77FFB000         C:\WINNT\System32\WINMM.dll
0x6D220000 - 0x6D227000         D:\jdk1.3.1_01\jre\bin\hpi.dll
0x6D3B0000 - 0x6D3BD000         D:\jdk1.3.1_01\jre\bin\verify.dll
0x6D250000 - 0x6D266000         D:\jdk1.3.1_01\jre\bin\java.dll
0x6D3C0000 - 0x6D3CD000         D:\jdk1.3.1_01\jre\bin\zip.dll
0x08E90000 - 0x08EA5000         D:\r-project\R-1.5.1\library\SJava\libs\RInterpr
eter.dll
0x08EB0000 - 0x09069000         d:\r-project\R-1.5.1\bin\R.dll
0x09070000 - 0x0908B000         d:\r-project\R-1.5.1\bin\Rblas.dll
0x716F0000 - 0x7177A000         C:\WINNT\system32\COMCTL32.DLL
0x77D80000 - 0x77DB3000         C:\WINNT\system32\COMDLG32.DLL
0x77C40000 - 0x77D7F000         C:\WINNT\system32\SHELL32.dll
0x52180000 - 0x5218B000         C:\WINNT\system32\VERSION.dll
0x779B0000 - 0x779B8000         C:\WINNT\system32\LZ32.dll
0x090A0000 - 0x090B5000         D:\r-project\R-1.5.1\library\SJava\libs\SJava.dl
l
0x76AE0000 - 0x76AFD000         C:\WINNT\System32\imagehlp.dll
0x71DC0000 - 0x71DCA000         C:\WINNT\System32\PSAPI.DLL

Local Time = Thu Sep 05 14:45:12 2002
Elapsed Time = 1
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.3.1_01 mixed mode)
#
#
-------------- next part --------------
A non-text attachment was scrubbed...
Name: grimm.heinz.vcf
Type: text/x-vcard
Size: 291 bytes
Desc: Card for Heinz Grimm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020905/7f9f052a/grimm.heinz.vcf

From krcabrer at perseus.unalmed.edu.co  Thu Sep  5 15:03:51 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Thu, 05 Sep 2002 08:03:51 -0500
Subject: [R] QUEST algoritm in R?
References: <3E96F037.60105@arcriswell.com>
Message-ID: <3D775637.6040700@perseus.unalmed.edu.co>


Hello R users and developers:

I want to know if anybody have make any implementation of  
QUEST (Quick, Unbiased and Efficient Statistical Tree, Low and 
Vinichesetakul)
or CHAID (Chi-square Automatic Interaction Detector) in R.

Thank you for your help

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9351



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Sep  5 15:04:23 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 5 Sep 2002 15:04:23 +0200 (MEST)
Subject: [R] Help with perm.test please
In-Reply-To: <20020905120924.99425.qmail@web10501.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21.0209051455570.29248-100000@artemis>

> Now I understand that you don't need to be a
> weatherman to see which way the wind is blowing here
> and clearly you would reject the null of equality.
> 
> I thought that perm.test creates a rx2 contingency
> table and then does a network algorithm ala stat exact
> (or something like that). In this example it doesn't
> seem that the contingency table would be that big. Any
> suggestions or comments ?

no. perm.test uses another algorithm which basically builds a matrix where
the number of columns is the sum of all observations in the x and y
sample. However, if you have enough memory you can set 

#define PERM_MAX_N 200

to whatever you want in exactRankTests/src/permdist.c l.44 (710 in your
example :-)

I will think of something more flexible ...

Torsten

> 
> Thanks,
> 
> Steve
> 
> But I get the following error:
> 
> > perm.test(x,y,exact=T)
> Error in cperm(eq, m, paired) : N > 200 in cpermdistr2
> 
> 
> 
> __________________________________________________
> 
> Yahoo! Finance - Get real-time stock quotes
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Sep  5 15:34:32 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 05 Sep 2002 09:34:32 -0400
Subject: [R] QUEST algoritm in R?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC63B@usrymx10.merck.com>

AFAIK, the author(s) of QUEST have not made source code available.  Unless
someone does a parallel implementation, incorporation into R is not
possible.

I guess the situation is similar with CHAID?

Andy

> -----Original Message-----
> From: Kenneth Cabrera [mailto:krcabrer at perseus.unalmed.edu.co]
> Sent: Thursday, September 05, 2002 9:04 AM
> Cc: r-help at stat.math.ethz.ch
> Subject: [R] QUEST algoritm in R?
> 
> 
> 
> Hello R users and developers:
> 
> I want to know if anybody have make any implementation of  
> QUEST (Quick, Unbiased and Efficient Statistical Tree, Low and 
> Vinichesetakul)
> or CHAID (Chi-square Automatic Interaction Detector) in R.
> 
> Thank you for your help
> 
> -- 
> Kenneth Roy Cabrera Torres
> Unviersidad Nacional de Colombia, Sede Medell?n
> Instituto de Ciencias Naturales y Ecolog?a
> Escuela de Geociencias
> e-mail krcabrer at unalmed.edu.co
> Tel +57 (4) 430-9351
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneinc.org  Thu Sep  5 15:57:01 2002
From: stockton at neptuneinc.org (Thomas Stockton)
Date: Thu, 05 Sep 2002 07:57:01 -0600
Subject: [R] data mining for R
In-Reply-To: <633BDAFC.4CC8826D.00194D84@aol.com>
Message-ID: <4.2.2.20020905075029.00affc78@poseidon.neptuneinc.org>

rpart, MARS (in the mda package), MART, and randomForests(maybe?) could be 
used for Data Mining. I'm working on a Boosting algorithm based on rpart 
that isn't quite finished.

Tom Stockton

At 01:53 AM 9/5/2002 -0400, Pgoodr1 at aol.com wrote:
>I was wondering if R had a data mining componant and how i could get it. 
>If not do you know anyone who is developing a datamining "plug in" for R
>Phillip Goodreid
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Sep  5 16:16:37 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 5 Sep 2002 16:16:37 +0200
Subject: [R] data mining for R
In-Reply-To: <x27ki07gv0.fsf@biostat.ku.dk>
Message-ID: <MABBLJDICACNFOLGIHJOCECCCPAA.phgrosje@ulb.ac.be>

In the risk to be heavily critisized, one could mainly see data mining as a
pseudo-new concept invented to sell new (and sometimes, expensive) software
to industries. Data mining is nothing else than existing statistical
analyses optimized for speed in order to deal with millions of entries, or
even more, in a reasonable period of time. So, as it was suggested earlier
in this thread, methods probably exist already somewhere in R. On the
counterpart, R could not be optimized enough to deal with the huge dataset
usually manipulated by data mining software.
Best,

Philippe Grosjean

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Peter Dalgaard BSA
Envoye : jeudi 5 septembre 2002 14:37
A : Prof Brian Ripley
Cc : Pgoodr1 at aol.com; r-help at stat.math.ethz.ch
Objet : Re: [R] data mining for R


Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Well, R does not have a `statistics' plug in either!
>
> In the words of Witten & Franke's book, Data Mining is `statistics plus
> marketing', and R can do a lot of data mining.
>
> If you could be more specififc about what techniques you want to use, we
> may be able to help you further.
>
> On Thu, 5 Sep 2002 Pgoodr1 at aol.com wrote:
>
> > I was wondering if R had a data mining componant and how i could get it.
If not do you know anyone who is developing a datamining "plug in" for R
> > Phillip Goodreid

Another possible definition is "statistics with massive amounts of
incidental data". A large part of the DM practices seems to be
"quarrying". The actual statistical methodology is only a part of a
complicated process of getting data out of databases on a, say, weekly
schedule, roughly preprocessed, then fed to a statistics engine, and
postprocessed to something that can end up on the manager's desk.

In my impression that is essentially what SPSS's Clementine product
does, using a GUI to draw arrows between pretty little hexagonal
cells. It is not at all unthinkable that something like that could be
coded up in R too. I think we have most of the pieces to do it.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Thu Sep  5 16:19:51 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Thu, 5 Sep 2002 09:19:51 -0500 (CDT)
Subject: [R] QUEST algoritm in R?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC63B@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.21.0209050914150.23371-100000@ludwig.stat.wisc.edu>

> AFAIK, the author(s) of QUEST have not made source code available.  Unless
> someone does a parallel implementation, incorporation into R is not
> possible.
> 
> I guess the situation is similar with CHAID?

It would not be difficult to write an R interface to run the executables
through function system (at least on Unix/Linux), with configuration file
and input files prepared from within R. 

Jun Yan

Department of Statistics          Office: CSSC 4252
university of Wisconsin-Madison   Tel: (608)262-7478 
1210 W. Dayton St.                Email: jyan at stat.wisc.edu
Madison, WI 53706                 URL: http://www.stat.wisc.edu/~jyan





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Thu Sep  5 16:37:08 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 5 Sep 2002 16:37:08 +0200
Subject: [R] data mining for R
Message-ID: <200209051437.g85Eb8X01932@mailgate5.cinetic.de>

....in my humble opinion especially DecisionTrees, Rule-Extracting-Algorithms and Bayesian-Networks are the common methods  in advanced and practical Data-Mining. 

The first one is possible in R with (Rpart)  -
the second and third one i miss, too but i'm on process and be attempt develope a package 
for association-rules (market-basket-analysis), but didn't know when i'm finished
(hopefully end of the year with easy GUI's) ,because i jump between Java(Weka)
and R.

regards,Christian


I was wondering if R had a data mining componant and how i could get it. If not do you know anyone who is developing a datamining "plug in" for R
Phillip Goodreid
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Thu Sep  5 16:57:41 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Thu, 05 Sep 2002 16:57:41 +0200
Subject: [R] Problem with SJava sample "JavaRCall"
References: <3D74B223.9769FF9C@rcc.ch>
Message-ID: <3D7770E5.1E34D77D@rcc.ch>


Heinz Grimm wrote:

>Hi,

>I am trying to run the example "JavaRCall"  with SJava 0.65 and R1.5.1
>under Windows NT4.0. Although loadLibrary("RInterpreter") worked successfull,
>the following error occurs:

>"Exception breakpoint occurred at line 65 of ROmegahatInterpreter.java.
>Ajava.lang.UnsatisfiedLinkError: boolean
>org.omegahat.R.Java.ROmegahatInterpreter.initR(java.lang.String[])

Meanwhile I have learned a lot about JNI and have fixed this one. I have
added
'-Wl,--add-stdcall-alias' (see e.g.
http://www.inonit.com/cygwin/jni/helloWorld/c.html)
to the gcc command that creates the library SJava.DLL

Unfortuantely I get now a new error (appended). Can anybody help?

Thank you,
Heinz Grimm

D:\JDev9i\jdev\mywork\R\JavaCallR\classes>java rcc.rTest.JavaCallR
Loading RInterpreter library
[search]

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION occurred at PC=0x8f3f3aa
Function name=R_SetMaxNSize
Library=d:\r-project\R-1.5.1\bin\R.dll

Current Java thread:
        at org.omegahat.R.Java.REvaluator.eval(Native Method)
        at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:86)
        at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:36)
        at rcc.rTest.JavaCallR.main(JavaCallR.java:20)

Dynamic libraries:
0x00400000 - 0x00405000         D:\jdk1.3.1_01\jre\bin\java.exe
0x77F70000 - 0x77FD0000         C:\WINNT\System32\ntdll.dll
0x77DC0000 - 0x77DFF000         C:\WINNT\system32\ADVAPI32.dll
0x77F00000 - 0x77F63000         C:\WINNT\system32\KERNEL32.dll
0x77E70000 - 0x77EC5000         C:\WINNT\system32\USER32.dll
0x77ED0000 - 0x77EFC000         C:\WINNT\system32\GDI32.dll
0x77E10000 - 0x77E67000         C:\WINNT\system32\RPCRT4.dll
0x78000000 - 0x78044000         C:\WINNT\system32\MSVCRT.dll
0x6D420000 - 0x6D4EE000         D:\jdk1.3.1_01\jre\bin\hotspot\jvm.dll
0x77FD0000 - 0x77FFB000         C:\WINNT\System32\WINMM.dll
0x6D220000 - 0x6D227000         D:\jdk1.3.1_01\jre\bin\hpi.dll
0x6D3B0000 - 0x6D3BD000         D:\jdk1.3.1_01\jre\bin\verify.dll
0x6D250000 - 0x6D266000         D:\jdk1.3.1_01\jre\bin\java.dll
0x6D3C0000 - 0x6D3CD000         D:\jdk1.3.1_01\jre\bin\zip.dll
0x08E90000 - 0x08EA5000        
D:\r-project\R-1.5.1\library\SJava\libs\RInterpr
eter.dll
0x08EB0000 - 0x09069000         d:\r-project\R-1.5.1\bin\R.dll
0x09070000 - 0x0908B000         d:\r-project\R-1.5.1\bin\Rblas.dll
0x716F0000 - 0x7177A000         C:\WINNT\system32\COMCTL32.DLL
0x77D80000 - 0x77DB3000         C:\WINNT\system32\COMDLG32.DLL
0x77C40000 - 0x77D7F000         C:\WINNT\system32\SHELL32.dll
0x52180000 - 0x5218B000         C:\WINNT\system32\VERSION.dll
0x779B0000 - 0x779B8000         C:\WINNT\system32\LZ32.dll
0x090A0000 - 0x090B5000        
D:\r-project\R-1.5.1\library\SJava\libs\SJava.dl
l
0x76AE0000 - 0x76AFD000         C:\WINNT\System32\imagehlp.dll
0x71DC0000 - 0x71DCA000         C:\WINNT\System32\PSAPI.DLL

Local Time = Thu Sep 05 14:45:12 2002
Elapsed Time = 1
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.3.1_01 mixed mode)
#
#
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhx2 at mevik.net  Thu Sep  5 16:53:40 2002
From: bhx2 at mevik.net (=?iso-8859-1?q?Bj=F8rn-Helge?= Mevik)
Date: 05 Sep 2002 16:53:40 +0200
Subject: [R] Intercept in model formulae.
In-Reply-To: <Pine.A41.4.44.0209040735080.146648-100000@homer40.u.washington.edu>
References: <Pine.A41.4.44.0209040735080.146648-100000@homer40.u.washington.edu>
Message-ID: <7oadmwmqrv.fsf@foo.nemo-project.org>

Thomas Lumley <tlumley at u.washington.edu> writes:

> x10<-pmax(x,10)
> lm(y~x+x10-1)

I assume you meant lm(y~x+x10).

-- 
Bj?rn-Helge Mevik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  5 18:07:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2002 18:07:52 +0200
Subject: [R] Intercept in model formulae.
In-Reply-To: <7oadmwmqrv.fsf@foo.nemo-project.org>
References: <Pine.A41.4.44.0209040735080.146648-100000@homer40.u.washington.edu>
	<7oadmwmqrv.fsf@foo.nemo-project.org>
Message-ID: <x2y9ag5siv.fsf@biostat.ku.dk>

bhx2 at mevik.net (Bj?rn-Helge Mevik) writes:

> Thomas Lumley <tlumley at u.washington.edu> writes:
> 
> > x10<-pmax(x,10)
> > lm(y~x+x10-1)
> 
> I assume you meant lm(y~x+x10).

He didn't. Read the original question again.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Sep  5 17:40:44 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 05 Sep 2002 10:40:44 -0500
Subject: [R] Trouble installing packages in Gentoo Linux
Message-ID: <1031240444.5356.4.camel@tako.uchicago.edu>

I'm trying to install packages in Gentoo Linux using install.packages().
The packages download fine, but when it comes to installation, I get
this message:
WARNING: ignoring environment value of R_HOME
/var/tmp/portage/R-1.5.1/image//usr/lib/R/bin/Rcmd:
/var/tmp/portage/R-1.5.1/image//usr/lib/R/bin/Rcmd: No such file or
directory

I have the R_HOME set to the correct value (/usr/lib/R), but I don't
know why it's being ignored. It seems it's looking for Rcmd in the
directory that R was built in (which doesn't exist any more). Any help
here?
-- 
Stuart Luppescu -=- s-luppescu at uchicago.edu        
University of Chicago -=- CCSR 
$B:MJ8$HCRF`H~$NIc(B -=-    Kernel 2.4.19-xfs                
You want to know why I kept getting promoted? 
 Because my mouth knows more than my brain.  --
 W.G. 
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020905/1649f401/attachment.bin

From p.dalgaard at biostat.ku.dk  Thu Sep  5 18:36:55 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2002 18:36:55 +0200
Subject: [R] Trouble installing packages in Gentoo Linux
In-Reply-To: <1031240444.5356.4.camel@tako.uchicago.edu>
References: <1031240444.5356.4.camel@tako.uchicago.edu>
Message-ID: <x2ptvs5r6g.fsf@biostat.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> I'm trying to install packages in Gentoo Linux using install.packages().
> The packages download fine, but when it comes to installation, I get
> this message:
> WARNING: ignoring environment value of R_HOME
> /var/tmp/portage/R-1.5.1/image//usr/lib/R/bin/Rcmd:
> /var/tmp/portage/R-1.5.1/image//usr/lib/R/bin/Rcmd: No such file or
> directory
> 
> I have the R_HOME set to the correct value (/usr/lib/R), but I don't
> know why it's being ignored. It seems it's looking for Rcmd in the
> directory that R was built in (which doesn't exist any more). Any help
> here?

R_HOME should not be set. Your startup script (/usr/bin/R I assume) is
assumed to know the correct value but it would seem to have its
setting of R_HOME_DIR wrong.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oedic at cebc.cnrs.fr  Thu Sep  5 18:40:17 2002
From: oedic at cebc.cnrs.fr (Thomas de Cornulier)
Date: Thu, 05 Sep 2002 18:40:17 +0200
Subject: [R] scaling-centering a vector using an index
References: <3D763599.244CD11B@cebc.cnrs.fr> <x24rd51vuy.fsf@biostat.ku.dk>
Message-ID: <3D7788F1.FB1C68C9@cebc.cnrs.fr>

All right, my question was unclear... hope this is better
I wanted to apply scale to each cell of a vector, that is to each group of
values given by a unique combination of the levels of certain factors. The
result should be a vector.
split and unsplit do what I need, but I don't understand why the first call
is the example below doesn't work as the second do:

x<-rnorm(10,3)
f1<-rep(c("a","b"),5)
f2<-rep(c("c","d"),c(5,5))
unsplit(lapply(split(x,list(f1,f2)),scale),list(f1,f2)) ##first call
group<-paste(f1,f2)
unsplit(lapply(split(x,group),scale),group) ##second call

thanks a lot to Peter Dalgaard BSA and J.R. Lockwood for their quick reply

thomas


Peter Dalgaard BSA wrote:

> Thomas de Cornulier <oedic at cebc.cnrs.fr> writes:
>
> > dear all,
> > I would like to center and scale some columns of a data frame (these
> > include NAs) according to the levels of an index (list of factors from
> > the same data frame).
> > I tried to code it using for loops but gave up. I guess there is a
> > straightforward way to achieve this: any hint welcome!
> > thanks a lot
> > thomas
>
> Erm, define "according to the levels of" or have a look at the
> examples for split/unsplit and see whether you mean what I think you
> mean....
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Thu Sep  5 19:02:33 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu, 05 Sep 2002 11:02:33 -0600
Subject: [R] data mining for R
In-Reply-To: <MABBLJDICACNFOLGIHJOCECCCPAA.phgrosje@ulb.ac.be>
References: <x27ki07gv0.fsf@biostat.ku.dk>
Message-ID: <5.1.0.14.2.20020905101132.04650d30@mailhost.blackmesacapital.com>

At 04:16 PM 9/5/2002 +0200, "Philippe Grosjean" <phgrosje at ulb.ac.be> wrote:
>In the risk to be heavily critisized, one could mainly see data mining as a
>pseudo-new concept invented to sell new (and sometimes, expensive) software
>to industries. Data mining is nothing else than existing statistical
>analyses optimized for speed in order to deal with millions of entries, or
>even more, in a reasonable period of time.

Although not an unreasonable position, there are ways in which this is far 
from true.  One huge difference between data mining and statistical 
analysis is that in practice, most of the time and effort in data mining is 
spent getting the data into shape.  The sheer volume of data involved 
necessitates some sort of automated tools (which are sometimes based on 
statistics).  These tools are often custom built for the project.  The 
statistics is usually the easy part of data mining, and often the most 
appropriate statistical techniques are utterly-unnovel ones like linear 
regression.  (This is not to say that ensuring clean data is not an 
essential task in "traditional" statistical analysis, but the scale of the 
problem is usually quite different.)

This situation creates great opportunities for data-mining tools to 
help.  However, it is an extremely difficult problem because there are so 
many ways that raw data can be "wrong".  For example, most real-world large 
databases have some problems with ID's, which often makes matching 
assembling data records difficult and error prone (e.g., no unique id's 
available, people's names are misspelt, addresses change, different product 
id's used in different organizations, publicly-traded companies change 
their ticker symbols and die and merge and spinoff).  Dealing with these 
kinds of problems usually requires much domain knowledge -- I don't know of 
any general-purpose data-mining tools that can automatically fix ID-related 
problems.  Data value errors are another problem.  For example, the process 
of getting option prices into electronic databases sometimes involves a 
step where humans transcribe numbers manually, and humans are prone to 
transpose digits occasionally.  It's pretty easy to tell that in midst of 
$91 prices a price of "$19.31" is an error, but is a price of "$7.47" 
occurring in the midst of $7.70 prices a data error or large but true 
deviation?  Data value errors are generally easier to deal with the 
ID-related problems, but custom approaches are still often necessary to 
incorporate valuable domain knowledge.

-- Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  5 19:07:59 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2002 19:07:59 +0200
Subject: [R] scaling-centering a vector using an index
In-Reply-To: <3D7788F1.FB1C68C9@cebc.cnrs.fr>
References: <3D763599.244CD11B@cebc.cnrs.fr> <x24rd51vuy.fsf@biostat.ku.dk>
	<3D7788F1.FB1C68C9@cebc.cnrs.fr>
Message-ID: <x2heh45pqo.fsf@biostat.ku.dk>

Thomas de Cornulier <oedic at cebc.cnrs.fr> writes:

> split and unsplit do what I need, but I don't understand why the first call
> is the example below doesn't work as the second do:
> 
> x<-rnorm(10,3)
> f1<-rep(c("a","b"),5)
> f2<-rep(c("c","d"),c(5,5))
> unsplit(lapply(split(x,list(f1,f2)),scale),list(f1,f2)) ##first call

That was a dumb bug in unsplit that was fixed in the development
sources a while back:

> unsplit
function (value, f) 
{
    len <- length(if (is.list(f)) f[[1]] else f)
    x <- vector(mode = typeof(value[[1]]), length = len)
    split(x, f) <- value
    x
}

(the bug being that we used length(f) unconditionally in 1.5.1)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Thu Sep  5 19:29:50 2002
From: juli at ceam.es (juli g. pausas)
Date: Thu, 05 Sep 2002 19:29:50 +0200
Subject: [R] line thickness in plots
Message-ID: <3D77948E.9E675C60@ceam.es>

Hi all,,
Is it possible to set a thicker line for the box around the plots? (i.e.
for the four axes)
Something like lwd (lines) but for the box.

Thanks

juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep  5 19:59:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 05 Sep 2002 19:59:28 +0200
Subject: [R] line thickness in plots
References: <3D77948E.9E675C60@ceam.es>
Message-ID: <3D779B80.BFEEC063@statistik.uni-dortmund.de>



"juli g. pausas" wrote:
> 
> Hi all,,
> Is it possible to set a thicker line for the box around the plots? (i.e.
> for the four axes)
> Something like lwd (lines) but for the box.

What about
 your.plot.function(...)
 box(lwd = 2)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Sep  5 19:59:22 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 05 Sep 2002 13:59:22 -0400
Subject: [R] line thickness in plots
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC640@usrymx10.merck.com>

Try box(lwd=whatever).

However, for really large values of lwd (say 5, or even 15), the lines do
not extend to the outer edge, so you see "notches".  Don't know how to solve
that.

Andy

> -----Original Message-----
> From: juli g. pausas [mailto:juli at ceam.es]
> Sent: Thursday, September 05, 2002 1:30 PM
> To: r-help
> Subject: [R] line thickness in plots
> 
> 
> Hi all,,
> Is it possible to set a thicker line for the box around the 
> plots? (i.e.
> for the four axes)
> Something like lwd (lines) but for the box.
> 
> Thanks
> 
> juli
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Sep  5 20:02:04 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 05 Sep 2002 14:02:04 -0400
Subject: [R] line thickness in plots
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BDB3@usrymx04.merck.com>

Yes, if you use the box() command explicitly to make the box:

plot(whatever)
box(lwd = 4)

Hope this helps,

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 

-----Original Message-----
From: juli g. pausas [mailto:juli at ceam.es]
Sent: Thursday, September 05, 2002 1:30 PM
To: r-help
Subject: [R] line thickness in plots


Hi all,,
Is it possible to set a thicker line for the box around the plots? (i.e.
for the four axes)
Something like lwd (lines) but for the box.

Thanks

juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Thu Sep  5 20:31:42 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Thu, 5 Sep 2002 14:31:42 -0400 (EDT)
Subject: [R] scaling-centering a vector using an index
In-Reply-To: <3D7788F1.FB1C68C9@cebc.cnrs.fr>
Message-ID: <Pine.LNX.4.33.0209051428180.16856-100000@penguin.rand.org>


> x<-rnorm(10,3)
> f1<-rep(c("a","b"),5)
> f2<-rep(c("c","d"),c(5,5))
> unsplit(lapply(split(x,list(f1,f2)),scale),list(f1,f2)) ##first call
> group<-paste(f1,f2)
> unsplit(lapply(split(x,group),scale),group) ##second call

In your first call, the object

lapply(split(x,list(f1,f2)),scale)

is a list that knows nothing about "f1" and "f2"

thus you can't unsplit that list with respect to those factors.

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus_haag at gmx.at  Thu Sep  5 21:26:16 2002
From: markus_haag at gmx.at (Markus Haag)
Date: Thu, 5 Sep 2002 21:26:16 +0200
Subject: [R] Read.table question
Message-ID: <118051467.20020905212616@gmx.at>

Hi list members,

i've just started using R. i've just experimented with the functions
of R. Now I want to import data from an Excel spreadsheet (saved as
csv) in the following format

Date       AAA    AA     A
1.12002    20.5%  12%    3%
.
.
.

i used the following command: a <- read.scv2("file.csv", sep=";")
so the import worked fine.
the problem is that everything is stored in the variable a
now i want to extract each series (Date, AAA, AA) and store them into
their own variable. e.g. the values in the AAA column should be stored
into AAA
any ideas on how this shoul be done?
thanks in advance

cheers,

Markus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Thu Sep  5 21:54:34 2002
From: jday at csi-inc.com (John Day)
Date: Thu, 05 Sep 2002 15:54:34 -0400
Subject: [R] data mining for R
Message-ID: <4.3.2.7.0.20020905155420.0352c768@mail.csi-inc.com>

Philippe,

I think you have slightly misunderstood what data-mining is all about.

Data-miners tend to see themselves applying expertise from at least three 
areas: statistics, machine learning ("AI"), and database theory.

Most data-mining problems involve extracting or detecting useful 
information from huge or complex sources of data. In any case, a data-miner 
would certainly find S-Plus or R a valuable tool for investigating and 
solving data-mining problems.

But a data-miner might also use techniques like "reinforcement learning", 
"inductive logic", "natural language processing" or "relational theory" to 
discover concepts and relationships which characterize and solve the 
problem. These techniques may not be interesting to a "pure" statistician.

HTH,
John Day
Staff Scientist
Computer Science Innovations,
Melbourne, FL
http://www.csi-inc.com/~jday

At 04:16 PM 9/5/2002 +0200, Philippe wrote:
>In the risk to be heavily critisized, one could mainly see data mining as a
>pseudo-new concept invented to sell new (and sometimes, expensive) software
>to industries. Data mining is nothing else than existing statistical
>analyses optimized for speed in order to deal with millions of entries, or
>even more, in a reasonable period of time. So, as it was suggested earlier
>in this thread, methods probably exist already somewhere in R. On the
>counterpart, R could not be optimized enough to deal with the huge dataset
>usually manipulated by data mining software.
>Best,
>
>Philippe Grosjean
>
>-----Message d'origine-----
>De: owner-r-help at stat.math.ethz.ch
>[mailto:owner-r-help at stat.math.ethz.ch]De la part de Peter Dalgaard BSA
>Envoye: jeudi 5 septembre 2002 14:37
>A: Prof Brian Ripley
>Cc: Pgoodr1 at aol.com; r-help at stat.math.ethz.ch
>Objet: Re: [R] data mining for R
>
>
>Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
> > Well, R does not have a `statistics' plug in either!
> >
> > In the words of Witten & Franke's book, Data Mining is `statistics plus
> > marketing', and R can do a lot of data mining.
> >
> > If you could be more specififc about what techniques you want to use, we
> > may be able to help you further.
> >
> > On Thu, 5 Sep 2002 Pgoodr1 at aol.com wrote:
> >
> > > I was wondering if R had a data mining componant and how i could get it.
>If not do you know anyone who is developing a datamining "plug in" for R
> > > Phillip Goodreid
>
>Another possible definition is "statistics with massive amounts of
>incidental data". A large part of the DM practices seems to be
>"quarrying". The actual statistical methodology is only a part of a
>complicated process of getting data out of databases on a, say, weekly
>schedule, roughly preprocessed, then fed to a statistics engine, and
>postprocessed to something that can end up on the manager's desk.
>
>In my impression that is essentially what SPSS's Clementine product
>does, using a GUI to draw arrows between pretty little hexagonal
>cells. It is not at all unthinkable that something like that could be
>coded up in R too. I think we have most of the pieces to do it.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>_._
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Thu Sep  5 22:11:28 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Thu, 5 Sep 2002 17:11:28 -0300 (ADT)
Subject: [R] Version 1.5.1 STILL failing make check.
Message-ID: <200209052011.RAA05813@gelfand.math.unb.ca>


I tried setting CFLAGS="-g -O" in config.site and got the same errors
from running ``make check''.  Then I tried setting CC=cc in
config.site, and the damned thing failed again (but differently).
Now at least ``!is.nan(var(1))'' is TRUE, as it should be.  The
problem comes from lapack.  At the end of

	.../test/Examples/base-Ex.Rout.fail

we find:

	> loc <- cmdscale(eurodist)
	Error in La.eigen(-x/2, symmetric = TRUE) : 
		lapack routines cannot be loaded
	Execution halted

Which I guess I should've expected --- it couldn't be so simple as to
change compilers from gcc to cc, could it?  Have I done something
naive in making the change to config.site?  Should I have made some
other changes as well? In particular I left the Fortran compiler as
g77, rather than changing it to f77 --- is this the wrong thing to
do?

I notice that in config.log I get a lot of sequences of warning
messages the form

	/dev/null:0: malformed option `-A system=unix'
	/dev/null:0: malformed option `-A system=svr4'
	*Initialization*:1: warning: `__SIZE_TYPE__' redefined
	*Initialization*:1: warning: `__PTRDIFF_TYPE__' redefined
	*Initialization*:1: warning: `__WCHAR_TYPE__' redefined
	/dev/null:0: malformed option `-A cpu=sparc'
	/dev/null:0: malformed option `-A machine=sparc'

This does not encourage me, but I haven't a clue what's going on.

Why in hell won't our system build R???  I'm going nuts over this.

				cheers (but not very cheerfully),

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Fri Sep  6 00:11:54 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 05 Sep 2002 17:11:54 -0500
Subject: [R] Read.table question
References: <118051467.20020905212616@gmx.at>
Message-ID: <873csom6hh.fsf@lumen.indyrad.iupui.edu>

>>>>> "Markus" == Markus Haag <markus_haag at gmx.at> writes:

    > i used the following command: a <- read.scv2("file.csv",
    > sep=";") so the import worked fine.  the problem is that
    > everything is stored in the variable a now i want to
    > extract each series (Date, AAA, AA) and store them into
    > their own variable. e.g. the values in the AAA column
    > should be stored into AAA any ideas on how this shoul be
    > done?  thanks in advance

You can get individual components of you data frame by name.  For
example, a$AAA gives you the AAA column.  AAA <- a$AAA gives you
a separate variable for the AAA column.

A simpler way is to use 'attach'.  If you give the command
attach(a), you will be able to access the columns by name,
without the 'a$' part.

Mike

P.S.  There is a nice introduction to this and more at
http://cran.r-project.org/manuals.html.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Sep  6 01:03:27 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 06 Sep 2002 11:03:27 +1200
Subject: [R] line thickness in plots
References: <51F9C42DA15CD311BD220008C707D81906FFC640@usrymx10.merck.com>
Message-ID: <3D77E2BF.661CE0DA@stat.auckland.ac.nz>

Hi


"Liaw, Andy" wrote:
> 
> Try box(lwd=whatever).
> 
> However, for really large values of lwd (say 5, or even 15), the lines do
> not extend to the outer edge, so you see "notches".  Don't know how to solve
> that.


I _think_ what you are seeing there (the "notches") may be just the
choice of line-join style and/or line-cap style.  When lines get thick,
how to draw the end of a line (the cap) or how to draw joins between two
lines becomes an issue.  There are usually several options to choose
from and the one that R chooses (on the devices I've just looked at) is
to draw the ends and joins "rounded".  Possibly the best way to see this
is to look at the following output:

postscript()
plot(1:10)
box(lwd=10)
lines(c(2, 4), c(3, 3), lwd=10)
dev.off()

Notice that the ends of the line on its own are rounded and the corners
on the box around the outside are also rounded.  On screen this can look
less smooth just cos its dealing with pixels.  Hence the notches (I
think).

I'm afraid that's only an excuse rather than a solution :)

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Sep  6 01:20:45 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 6 Sep 2002 00:20:45 +0100
Subject: [R] graph and coplot manipulations
References: <51F9C42DA15CD311BD220008C707D81906FFC640@usrymx10.merck.com> <3D77E2BF.661CE0DA@stat.auckland.ac.nz>
Message-ID: <002201c25532$dce18c50$2a1401a3@stats.ox.ac.uk>

Dear all, I posted this a week ago without much success. I was hoping there
is a kind soul out there who can shed some light onto the following. I am
currently plotting a graph with the function coplot() conditional on two
factors which gives me 36 sub-panels. I have a few questions in general
about changing the size of the graph. My question follows :

a) I have a fair bit of text to put on the margin sides using mtext(). What
is the best way to shrink the whole graph to  say 80 - 90% so that I can
include a bit more words.

b) Since I am conditioning on two variables, the plot also automatically
plots the words "Given : a" and "Given : a" on the top and right hand of the
plot. I do not require this and would like them to be removed. How do I do
that ?  (I have already set the option show.given = F)

and less importantly ...

c) How does one change the labels on the sub-axis (either x of y) to a given
vector.

d) How to rotate the axis label 45 degree counter clockwise. I tried
par(las=1.5) etc without much luck.

Many thanks in advance.

Regards, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Sep  6 02:25:54 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 06 Sep 2002 12:25:54 +1200
Subject: [R] graph and coplot manipulations
References: <51F9C42DA15CD311BD220008C707D81906FFC640@usrymx10.merck.com> <3D77E2BF.661CE0DA@stat.auckland.ac.nz> <002201c25532$dce18c50$2a1401a3@stats.ox.ac.uk>
Message-ID: <3D77F612.6E3D2F8B@stat.auckland.ac.nz>

Hi


Adaikalavan Ramasamy wrote:
> 
> Dear all, I posted this a week ago without much success. I was hoping there
> is a kind soul out there who can shed some light onto the following. I am
> currently plotting a graph with the function coplot() conditional on two
> factors which gives me 36 sub-panels. I have a few questions in general
> about changing the size of the graph. My question follows :
>
> a) I have a fair bit of text to put on the margin sides using mtext(). What
> is the best way to shrink the whole graph to  say 80 - 90% so that I can
> include a bit more words.


You can control the size of the graph using par(pin), par(fin),
par(fig), par(mar), par(mai), par(oma), par(omi). 

You can use strwidth() to determine how much room you need (this will
work with a plot you don't plan on resizing anyway).

You can use layout().


> b) Since I am conditioning on two variables, the plot also automatically
> plots the words "Given : a" and "Given : a" on the top and right hand of the
> plot. I do not require this and would like them to be removed. How do I do
> that ?  (I have already set the option show.given = F)


Not sure.  May be a bug.  You may need to modify the code of coplot.


> and less importantly ...
>
> c) How does one change the labels on the sub-axis (either x of y) to a given
> vector.


Not sure what you mean there sorry.  


> d) How to rotate the axis label 45 degree counter clockwise. I tried
> par(las=1.5) etc without much luck.


Not possible currently via mtext().  You can do a kludge using text()
and trial-and-error to draw in the plot margins (you'll also need to set
par(xpd)).

Sorry I can't provide more detailed advice at the moment.  Lots on :)

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Sep  6 02:34:07 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 06 Sep 2002 12:34:07 +1200
Subject: [R] Manipulation of plot data in export file or 'in memory'
References: <OE732PcSoN5gfUw3ZPp000159b9@hotmail.com>
Message-ID: <3D77F7FF.C59279F3@stat.auckland.ac.nz>

Hi


Greg Stewart wrote:
> 
> I'm trying to provide some help to someone using R in conjunction with
> Locfit who has v. little programming experience.
> 
> He would like to be able to do further manipulation of (contour) plot data
> to measure such things as area, and ideally to export the plots into another
> program for direct comparison with plot sets generated by other methods.


There is a way to access the coordinates for the contour lines that R
produces, but it is still experimental.  Please contact me privately if
you would like to know more about that.


> I suggested to him that it may be possible to export the plots in a file
> who's structure I know so that I could write conversion code to generate
> files that can be imported in another program. I also thought it might be
> possible to get a handle on the plot data structure in R (unless it's kept
> by Locfit) and work from there for analysis / export function (and possibly
> doing this with a C routine bound into R).
>
> I haven't found anything in the documentation that would help
> manipulate/understand graph export format or find handles. Could anyone
> provide advice? Any pointers would be much appreciated.


Graphical output in R is mostly just to a device (screen or postscript
or pdf or ...).  See help(Devices) for a list of what's available on
your system.  If the other software can read one of those formats then
you might be ok.

A memory-resident record is kept of the last "page" of output, but this
is used internally for redrawing and is not designed for external
tampering.  You can tamper with it;  it's just there's lots of potential
for doing something horrible to it.

Sorry if that's a bit vague :)  If you could tell me more precisely what
you're trying to do I might be able to produce some more useful
information.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Sep  6 03:42:30 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 5 Sep 2002 20:42:30 -0500
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <002201c25532$dce18c50$2a1401a3@stats.ox.ac.uk>
Message-ID: <002301c25546$aa3ad810$0201a8c0@MARC>

Is anyone else having trouble accessing the main R Project and CRAN
sites?  I had not seen any other posts about it.

I noted the problem tonight when trying to update.packages(), though I
can access a couple of the mirror sites via browser.
 
Thanks,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jingw at cse.ucsc.edu  Fri Sep  6 04:57:47 2002
From: jingw at cse.ucsc.edu (Jing Wu)
Date: Thu, 5 Sep 2002 19:57:47 -0700 (PDT)
Subject: [R] R memory question (fwd)
Message-ID: <Pine.GSO.4.44.0209051957260.26461-100000@sundance.cse.ucsc.edu>

Dear all,

I am trying to use rlm in MASS to do an analysis on a 21632*12 matrix.
There are 4  factors A,D,V,G; A of level 6, D of level 2, V of level 2, G
of level 21632, and 21632*12 observations Y. The data format is
A D V G Y
1 1 1 1 0.1
1 1 1 2 0.2
...

The command I use is rlm(Y~A+D+V*G,data=data.dat)
 I got the same error message:
Error in rep(data, t1) : cannot allocate vector of length 467748756

I am using a unix machine of 4GM memory. I would like to know if R is
using all the available memory and/or how much memory R would use to
handle is data set.


Jing




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hagen.Schmoeller at iaew.rwth-aachen.de  Fri Sep  6 08:39:59 2002
From: Hagen.Schmoeller at iaew.rwth-aachen.de (Hagen =?ISO-8859-1?Q?Schm=F6ller?=)
Date: Fri, 06 Sep 2002 08:39:59 +0200
Subject: [R] Estimating parameters of a linear model
Message-ID: <3D784DBF.4050403@iaew.rwth-aachen.de>

Hi R-Community,

I have two correlated time series X[t] and Y[t]. X[t] can be modeled as

X[t] = a[1]X[t-1] + a[2]X[t-2] + e[t] + b[1]e[t-1] + b[2]e[t-2] + c[0]Y[t]

where e[t] is a white noise process. Is there a way to estimate the 
coefficients a[1], a[2], b[1], b[2] and c[0]?


Much thanks in advance,

Hagen Schm?ller

-- 
Dipl.-Ing. Hagen K. Schm?ller
Institut f?r Elektrische Anlagen und Energiewirtschaft, RWTH Aachen
Schinkelstra?e 6, D-52056 Aachen, Germany
Tel.: +49 (0)241 80-96734
Fax : +49 (0)241 80-92197
Hagen.Schmoeller at iaew.rwth-aachen.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Fri Sep  6 09:53:53 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Fri, 06 Sep 2002 09:53:53 +0200
Subject: [R] acutally a statistics question
Message-ID: <3D785F11.9000908@tuebingen.mpg.de>

hi,
knowing there are a lot of statistics guru's in the R-mailing list, i 
throw in a statistics question.

i have data that i do not know how to statistically test:

subjects are repeatedly asked to make a decision (e.g. left-right -> 
coded as 0 or 1). i have 20 subjects, each subject made 8 decisions.

i now want to analyse whether my experimental manipulation induced a 
systematic bias in subjects answers. if that wasn't true i expected a 
chance level of 0.5 (50% left, 50% right).

the way i am analysing my data right now is that i calculate the mean of 
the single trials for each subject (mean of (0,1,1,1,1,0,0,1) = 0.625).
now i have a vector of single subjects preferences.

assuming this distribution was normally distributed i could perform a 
one-sample t-test against a chance level (e.g. 0.5).
obviously my data are not normally distributed -> so i guess my question 
really is: which non-parametric test does test a distribution against a 
given theoretical value (and of course-> does it exist in R) ?

thanks for any help,
jan wiener

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mspeekenbrink at fmg.uva.nl  Fri Sep  6 10:04:24 2002
From: mspeekenbrink at fmg.uva.nl (Maarten Speekenbrink)
Date: Fri, 6 Sep 2002 10:04:24 +0200
Subject: [R] Using Anova Sums of Squares
Message-ID: <21F67EF0AFCF3F449AF94D739A0350352B4D61@rea05.fmg.uva.nl>

Dear all,

I'm trying to access the Sums of Squares resulting from a summary(aov(....)) so I can use them in a function. Is there an easy way to access these? 

The structure of a summary.aov object is something like this:

> str(summary(fhc.aov))
List of 5
 $ Error: PPNR        :List of 1
  ..$ :Classes anova  and `data.frame': 1 obs. of  5 variables:
  .. ..$ Df     : num 70
  .. ..$ Sum Sq : num 70.7
  .. ..$ Mean Sq: num 1.01
  .. ..$ F value: num NA
  .. ..$ Pr(>F) : num NA
  ..- attr(*, "class")= chr [1:2] "summary.aov" "listof"
 $ Error: PPNR:CONSENS:List of 1
  ..$ :Classes anova  and `data.frame': 2 obs. of  5 variables:
  .. ..$ Df     : num [1:2] 1 70
  .. ..$ Sum Sq : num [1:2]  0.254 70.746
  .. ..$ Mean Sq: num [1:2] 0.254 1.011
  .. ..$ F value: num [1:2] 0.251    NA
  .. ..$ Pr(>F) : num [1:2] 0.618    NA
  ..- attr(*, "class")= chr [1:2] "summary.aov" "listof"
 
...etc.

but calling summary(fhc.aov)[2]$"Sum Sq" or anything like it (i.e. summary(fhc.aov)[2][2] or summary(fhc.aov)[2][1][2]) results in a Na. The only way I've been able to get it is by unlist(summary(fhc.aov)[2]), which does result in a list with the right number of elements, but this is not very handy for indexing... Of course I could recompute the Sums of Squares, but since summary(aov(...)) already gives them, I would rather get them from there. Thanks for your help,

Maarten Speekenbrink

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Fri Sep  6 10:41:04 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Fri, 06 Sep 2002 10:41:04 +0200
Subject: [R] Problem with SJava sample "JavaRCall"
References: <3D74B223.9769FF9C@rcc.ch> <3D7770E5.1E34D77D@rcc.ch>
Message-ID: <3D786A20.94980CA6@rcc.ch>

Heinz Grimm wrote:

Heinz Grimm wrote:

>>Hi,

>>I am trying to run the example "JavaRCall"  with SJava 0.65 and R1.5.1
>>under Windows NT4.0. Although loadLibrary("RInterpreter") worked successfull,
>>the following error occurs:

>>"Exception breakpoint occurred at line 65 of ROmegahatInterpreter.java.
>>Ajava.lang.UnsatisfiedLinkError: boolean
>>org.omegahat.R.Java.ROmegahatInterpreter.initR(java.lang.String[])

>Meanwhile I have learned a lot about JNI and have fixed this one. I have
>added
>'-Wl,--add-stdcall-alias' (see e.g.
http://www.inonit.com/cygwin/jni/helloWorld/c.html)
>to the gcc command that creates the library SJava.DLL

>Unfortuantely I get now a new error (appended). Can anybody help?

Sorry, forget this new error, I put some code in comment braces and forgot it to
remove...

It's not completely working now (Fatal error: unable to open the base package), but
I hope
this is a simple one.

Heinz Grimm

-------------- next part --------------
A non-text attachment was scrubbed...
Name: grimm.heinz.vcf
Type: text/x-vcard
Size: 291 bytes
Desc: Card for Heinz Grimm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020906/f7005cf9/grimm.heinz.vcf

From p.dalgaard at biostat.ku.dk  Fri Sep  6 11:33:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2002 11:33:32 +0200
Subject: [R] acutally a statistics question
In-Reply-To: <3D785F11.9000908@tuebingen.mpg.de>
References: <3D785F11.9000908@tuebingen.mpg.de>
Message-ID: <x2k7lzo42b.fsf@biostat.ku.dk>

Jan Malte Wiener <jan.wiener at tuebingen.mpg.de> writes:

> hi,
> knowing there are a lot of statistics guru's in the R-mailing list, i
> throw in a statistics question.
> 
> i have data that i do not know how to statistically test:
> 
> subjects are repeatedly asked to make a decision (e.g. left-right ->
> coded as 0 or 1). i have 20 subjects, each subject made 8 decisions.
> 
> i now want to analyse whether my experimental manipulation induced a
> systematic bias in subjects answers. if that wasn't true i expected a
> chance level of 0.5 (50% left, 50% right).
> 
> the way i am analysing my data right now is that i calculate the mean
> of the single trials for each subject (mean of (0,1,1,1,1,0,0,1) =
> 0.625).
> now i have a vector of single subjects preferences.
> 
> assuming this distribution was normally distributed i could perform a
> one-sample t-test against a chance level (e.g. 0.5).
> obviously my data are not normally distributed -> so i guess my
> question really is: which non-parametric test does test a distribution
> against a given theoretical value (and of course-> does it exist in R)
> ?

The Wilcoxon signed-rank test.

(wilcox.test(x,mu=.5) where x is your vector of per-person means)

I wouldn't expect the distribution of individual means to be radically
different from a Normal distribution though, and in fact even in the
extreme case where all responses are either (0,...,0) or (1,...,1) --
but equally many of them under the null hypothesis -- the t-test
should have the correct distribution to quite high accuracy.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  6 11:39:08 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2002 11:39:08 +0200
Subject: [R] Using Anova Sums of Squares
In-Reply-To: <21F67EF0AFCF3F449AF94D739A0350352B4D61@rea05.fmg.uva.nl>
References: <21F67EF0AFCF3F449AF94D739A0350352B4D61@rea05.fmg.uva.nl>
Message-ID: <x2fzwno3sz.fsf@biostat.ku.dk>

"Maarten Speekenbrink" <mspeekenbrink at fmg.uva.nl> writes:


> but calling summary(fhc.aov)[2]$"Sum Sq" or anything like it (i.e.
> summary(fhc.aov)[2][2] or summary(fhc.aov)[2][1][2]) results in a
> Na. The only way I've been able to get it is by
> unlist(summary(fhc.aov)[2]), which does result in a list with the
> right number of elements, but this is not very handy for indexing...
> Of course I could recompute the Sums of Squares, but since
> summary(aov(...)) already gives them, I would rather get them from
> there. Thanks for your help,

You probably need [[..]] for indexing lists.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  6 11:48:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2002 11:48:25 +0200
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <002301c25546$aa3ad810$0201a8c0@MARC>
References: <002301c25546$aa3ad810$0201a8c0@MARC>
Message-ID: <x2bs7bo3di.fsf@biostat.ku.dk>

"Marc Schwartz" <mschwartz at medanalytics.com> writes:

> Is anyone else having trouble accessing the main R Project and CRAN
> sites?  I had not seen any other posts about it.
> 
> I noted the problem tonight when trying to update.packages(), though I
> can access a couple of the mirror sites via browser.

There was a network problem starting yesterday evening. It's back up
for me from here now.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Fri Sep  6 12:37:15 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Fri, 6 Sep 2002 12:37:15 +0200
Subject: [R] Estimating parameters of a linear model
References: <3D784DBF.4050403@iaew.rwth-aachen.de>
Message-ID: <005f01c25591$66da5a00$5c13070a@it.giustizia.it>

Roughly speaking you have (at least) two way in R:

library(ts)
arima(x, order=c(2,0,2), xreg=y)

library(nlme)
gls(x~y,correlation=corARMA(p=2,q=2))

However if you have just one serie, arima() is faster (in my experience).

Prof. J. Lindsey's libraries (repeated and friends) should allow much more
options (e.g. different distribution), but *as far as I know* these don't
allow immediately direct modelling of MA components. Am I wrong?
Follow the links in R home page

best,
vito



----- Original Message -----
From: "Hagen Schm?ller" <Hagen.Schmoeller at iaew.rwth-aachen.de>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, September 06, 2002 8:39 AM
Subject: [R] Estimating parameters of a linear model


Hi R-Community,

I have two correlated time series X[t] and Y[t]. X[t] can be modeled as

X[t] = a[1]X[t-1] + a[2]X[t-2] + e[t] + b[1]e[t-1] + b[2]e[t-2] + c[0]Y[t]

where e[t] is a white noise process. Is there a way to estimate the
coefficients a[1], a[2], b[1], b[2] and c[0]?


Much thanks in advance,

Hagen Schm?ller

--
Dipl.-Ing. Hagen K. Schm?ller
Institut f?r Elektrische Anlagen und Energiewirtschaft, RWTH Aachen
Schinkelstra?e 6, D-52056 Aachen, Germany
Tel.: +49 (0)241 80-96734
Fax : +49 (0)241 80-92197
Hagen.Schmoeller at iaew.rwth-aachen.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Fri Sep  6 11:54:51 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Fri, 6 Sep 2002 11:54:51 +0200
Subject: [R] Estimating parameters of a linear model
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADE57@ibfftce505.is.de.dresdnerkb.com>

you can use the function arima() in the 'ts'-package and include y[t] as
'xreg'.

-----Original Message-----
From: Hagen Schm?ller [mailto:Hagen.Schmoeller at iaew.rwth-aachen.de]
Sent: 06 September 2002 08:40
To: r-help at stat.math.ethz.ch
Subject: [R] Estimating parameters of a linear model


Hi R-Community,

I have two correlated time series X[t] and Y[t]. X[t] can be modeled as

X[t] = a[1]X[t-1] + a[2]X[t-2] + e[t] + b[1]e[t-1] + b[2]e[t-2] + c[0]Y[t]

where e[t] is a white noise process. Is there a way to estimate the
coefficients a[1], a[2], b[1], b[2] and c[0]?


Much thanks in advance,

Hagen Schm?ller

--
Dipl.-Ing. Hagen K. Schm?ller
Institut f?r Elektrische Anlagen und Energiewirtschaft, RWTH Aachen
Schinkelstra?e 6, D-52056 Aachen, Germany
Tel.: +49 (0)241 80-96734
Fax : +49 (0)241 80-92197
Hagen.Schmoeller at iaew.rwth-aachen.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Sep  6 12:54:07 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 6 Sep 2002 07:54:07 -0300 (ADT)
Subject: [R] Version 1.5.1 STILL failing make check.
Message-ID: <200209061054.HAA14260@gelfand.math.unb.ca>


Martin Maechler <maechler at stat.math.ethz.ch> wrote:

>  Hi Rolf, 
>  
>  I'm sorry to hear about your griefs.
>  
>  Note however, that in the last message you didn't even mention which
>  version of Unix you are talking about -- and you can't expect
>  R-help readers to remember what you said last time this topic
>  was brought up...

Arrrrgggghhh.  Sorry --- I was feeling so frazzled and frustrated I
completely forgot about providing version details.  Here they are:

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R 
===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

(If anyone has any suggestions as to what further details about
our system might be relevant, please let me know --- and I'll
try to find out. :-) )

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upton at mitre.org  Fri Sep  6 13:54:08 2002
From: upton at mitre.org (Stephen C. Upton)
Date: Fri, 06 Sep 2002 07:54:08 -0400
Subject: [R] Main R Project and CRAN sites down?
References: <002301c25546$aa3ad810$0201a8c0@MARC> <x2bs7bo3di.fsf@biostat.ku.dk>
Message-ID: <3D78975F.6A47DCCD@mitre.org>

Peter,

FYI - I'm not having any luck on either still --
(Florida, US - so I'm going back to the pool, uh, I mean work!  ;-)

steve


Peter Dalgaard BSA wrote:

> "Marc Schwartz" <mschwartz at medanalytics.com> writes:
>
> > Is anyone else having trouble accessing the main R Project and CRAN
> > sites?  I had not seen any other posts about it.
> >
> > I noted the problem tonight when trying to update.packages(), though I
> > can access a couple of the mirror sites via browser.
>
> There was a network problem starting yesterday evening. It's back up
> for me from here now.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Fri Sep  6 14:10:57 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Fri, 06 Sep 2002 15:10:57 +0300
Subject: [R] identical() vs all( . == .) [was "strange things..."] 
In-Reply-To: Message from Martin Maechler <maechler@stat.math.ethz.ch> 
   of "Wed, 04 Sep 2002 09:49:24 +0200." <15733.47876.861975.163006@gargle.gargle.HOWL> 
Message-ID: <200209061210.g86CAv421602@pc112145.oulu.fi>


maechler at stat.math.ethz.ch said:
>   identical() has still been underused quite a bit,
>   probably even in base R code.

Indeed, it seems to be at rank 841 among 1035  R/base commands (v1.5.1) with 12
occurrences. The most popular commands seem to be:

     1	   2835	if
     2	   1465	function
     3	   1160	length
     4	    972	c
     5	    719	stop
     6	    655	paste
     7	    622	is.null
     8	    464	.Internal
     9	    456	names
    10	    400	attr
    11	    358	missing
    12	    352	list
    13	    324	rep
    14	    300	any
    15	    290	cat
    16	    286	is.na
    17	    272	return
    18	    251	seq
    19	    202	for
    20	    193	par

If I didn't count them wrong.

cheers, jazza

And sorry for this useless message, but Martin Maechler's message about 
underuse of `identical' caused a strange Friday reaction.
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep  6 14:18:28 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 06 Sep 2002 08:18:28 -0400
Subject: [R] R memory question (fwd)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC642@usrymx10.merck.com>

Your numbers are a bit confusing.  You said the "matrix" (shouldn't it be a
data frame?) is 21632*12.  Does that mean you have 21632 rows and 12
columns?  Then how can Y also be 21632*12?  If G is really a factor with
21632 levels, and there are 21632 observations, then having G alone in the
model will give you perfect prediction, but quite useless.

Andy

> -----Original Message-----
> From: Jing Wu [mailto:jingw at cse.ucsc.edu]
> Sent: Thursday, September 05, 2002 10:58 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] R memory question (fwd)
> 
> 
> Dear all,
> 
> I am trying to use rlm in MASS to do an analysis on a 21632*12 matrix.
> There are 4  factors A,D,V,G; A of level 6, D of level 2, V 
> of level 2, G
> of level 21632, and 21632*12 observations Y. The data format is
> A D V G Y
> 1 1 1 1 0.1
> 1 1 1 2 0.2
> ...
> 
> The command I use is rlm(Y~A+D+V*G,data=data.dat)
>  I got the same error message:
> Error in rep(data, t1) : cannot allocate vector of length 467748756
> 
> I am using a unix machine of 4GM memory. I would like to know if R is
> using all the available memory and/or how much memory R would use to
> handle is data set.
> 
> 
> Jing
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Sep  6 14:25:43 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 6 Sep 2002 07:25:43 -0500
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <3D78975F.6A47DCCD@mitre.org>
Message-ID: <000001c255a0$86046b00$0201a8c0@MARC>

> -----Original Message-----
> From: Stephen C. Upton [mailto:upton at mitre.org]
> Sent: Friday, September 06, 2002 6:54 AM
> To: Peter Dalgaard BSA
> Cc: mschwartz at medanalytics.com; 'r-help'
> Subject: Re: [R] Main R Project and CRAN sites down?
> 
> Peter,
> 
> FYI - I'm not having any luck on either still --
> (Florida, US - so I'm going back to the pool, uh, I mean work!  ;-)
> 
> steve
> 
> 
> Peter Dalgaard BSA wrote:
> 
> > "Marc Schwartz" <mschwartz at medanalytics.com> writes:
> >
> > > Is anyone else having trouble accessing the main R Project and
CRAN
> > > sites?  I had not seen any other posts about it.
> > >
> > > I noted the problem tonight when trying to update.packages(),
though I
> > > can access a couple of the mirror sites via browser.
> >
> > There was a network problem starting yesterday evening. It's back up
> > for me from here now.

Peter et al,

I just tried here again this morning and still cannot get on. I tried
both from my WinXP and Linux configurations, just in case it was
something in Win.

We are just coming off our own power outage (bad storms) here in the
southwestern suburbs of Minneapolis, so I was just able to get back on
the net.

I can ping the main R Project and CRAN sites at 128.131.51.43.

I can still get to some of the mirrors this morning:

http://cran.us.r-project.org/
http://lib.stat.cmu.edu/R/CRAN/
http://www.stats.bris.ac.uk/R/
http://stat.ethz.ch/CRAN/

Though I cannot get to:

http://cran.stat.ucla.edu/
http://cran.at.r-project.org/
http://cran.au.r-project.org/
http://cran.br.r-project.org/
http://cran.ch.r-project.org/
http://cran.de.r-project.org/
http://cran.dk.r-project.org/
http://cran.hu.r-project.org/
http://cran.uk.r-project.org/
http://cran.za.r-project.org/
http://mirror.aarnet.edu.au/pub/CRAN

Hope that information might help.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  6 14:55:03 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2002 14:55:03 +0200
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <000001c255a0$86046b00$0201a8c0@MARC>
References: <000001c255a0$86046b00$0201a8c0@MARC>
Message-ID: <x2u1l3mg60.fsf@biostat.ku.dk>

"Marc Schwartz" <mschwartz at medanalytics.com> writes:

> Peter et al,
> 
> I just tried here again this morning and still cannot get on. I tried
> both from my WinXP and Linux configurations, just in case it was
> something in Win.
> 
> We are just coming off our own power outage (bad storms) here in the
> southwestern suburbs of Minneapolis, so I was just able to get back on
> the net.
> 
> I can ping the main R Project and CRAN sites at 128.131.51.43.

It works from my work machine but not my home machine (yes, I can
connect from one to the other...) so I suspect a router along the way
got wedged. 
 
> I can still get to some of the mirrors this morning:
> 
> http://cran.us.r-project.org/
> http://lib.stat.cmu.edu/R/CRAN/
> http://www.stats.bris.ac.uk/R/
> http://stat.ethz.ch/CRAN/
> 
> Though I cannot get to:
> 
> http://cran.stat.ucla.edu/
> http://cran.at.r-project.org/
> http://cran.au.r-project.org/
> http://cran.br.r-project.org/
> http://cran.ch.r-project.org/
> http://cran.de.r-project.org/
> http://cran.dk.r-project.org/
> http://cran.hu.r-project.org/
> http://cran.uk.r-project.org/
> http://cran.za.r-project.org/
> http://mirror.aarnet.edu.au/pub/CRAN
> 
> Hope that information might help.

I think these are likely separate issues.

One thing is odd: http://cran.dk.r-project.org/ is actually the same
machine as http://cran.us.r-project.org/ (that's a DNS configuration
error -- it should point to sunsite.dk....)

cran.stat.ucla.edu is Jan de Leeuws machine which has been a bit
unstable lately.



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Eder at neuro.gu.se  Fri Sep  6 14:58:33 2002
From: Derek.Eder at neuro.gu.se (Derek Eder)
Date: Fri, 06 Sep 2002 14:58:33 +0200
Subject: [R] Scope problems - passing an argument from one function to
	another (LME) within
Message-ID: <sd78c2b3.020@dss2.med.gu.se>

I am having trouble understanding what must be a quite simple rule of scope.

In the code example below, the argument to the main function, my.subset, would like to be passed to the function LME.  This does not happen however.  Curiously, the other argument (my.data) is passed to LME.

This problem goes away with this:  assign("my.subset", my.subset, env = sys.frame()).

It works, but it doesn't feel right.  How can I get LME to join the scope of the main function?


Thank you,

Derek Eder

   


my.function_function(my.data,my.subset="NORM")
{

##  call to function LME.  Problem:  the variable my.subset is not seen by LME  ##
  
# assign("my.subset", my.subset, env = sys.frame())     Now it works! #

my.result_lme( X ~ Y, random=~1|Z, data=my.data, subset= W==my.subset)

}

Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap
Klinisk Neurofysiologi
Sahlgrenska universitetssjukhuset SS/SU
Bl? straket 7, v?n 3
SE 413 45  G?teborg
Sverige
Tlf. +46 (031) 34  2-6139  (office)
Tlf. +46 (031) 34 2-1283  (laboratory)
Tlf. +46 0709 / 7 2-1283 (mobil)
Fax. +46 (031) 82 81 63 
derek.eder at neuro.gu.se


Gothenburg University
Institute of Clinical Neuroscience,
Department of Clinical Neurophysiology
Salhgrenska Hospital  SU/SS
SE 413 45  G?teborg
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Fri Sep  6 15:02:03 2002
From: jday at csi-inc.com (John Day)
Date: Fri, 06 Sep 2002 09:02:03 -0400
Subject: [R] Main R Project and CRAN sites down?
Message-ID: <4.3.2.7.0.20020906090152.01d1acf0@mail.csi-inc.com>

I am still having a problem accessing CRAN here in Florida (at 9:00 AM EST 
Friday morning):

+ install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)}
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
unable to connect to 'cran.r-project.org'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
         cannot open URL 
`http://cran.r-project.org/bin/windows/contrib/PACKAGES'

-jday

At 11:48 AM 9/6/2002 +0200, you wrote:
>"Marc Schwartz" <mschwartz at medanalytics.com> writes:
>
> > Is anyone else having trouble accessing the main R Project and CRAN
> > sites?  I had not seen any other posts about it.
> >
> > I noted the problem tonight when trying to update.packages(), though I
> > can access a couple of the mirror sites via browser.
>
>There was a network problem starting yesterday evening. It's back up
>for me from here now.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep  6 15:47:24 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 06 Sep 2002 09:47:24 -0400
Subject: [R] printing from windows() device when running R under ESS
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC645@usrymx10.merck.com>

Sorry for the cross-post: not sure whether it's Rterm or ESS (or something
else?)...

I'm running R (1.5.0 patched 2002-05-09, compiled from source on WinNT4)
under ESS 5.1.21 with XEmacs 21.4.6.  When I plotted a graph on the
windows() device, and then use the menu in the R graphics window to print
the graph, the printer selection dialog box does not show up until I go to
the *R* buffer and hit return there.  Anyone have any ideas?

Regards,
Andy

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY84-16            Rahway, NJ 07065
mailto:andy_liaw at merck.com



------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demolomb at ensam.inra.fr  Fri Sep  6 16:18:47 2002
From: demolomb at ensam.inra.fr (demolombe)
Date: Fri, 06 Sep 2002 16:18:47 +0200
Subject: [R] string manip
Message-ID: <200209061617.g86GHP314947@ensam.inra.fr>

Hello,

I need to split a string in elements but I cannot find how to.

I have a string:     s<-"Block Column ID"      for example
I would like to obtain a vector with 3 elements

Is there a function to do this?
Vincent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Sep  6 16:25:15 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 06 Sep 2002 16:25:15 +0200
Subject: [R] string manip
Message-ID: <3.0.32.20020906162514.00909450@162.38.183.200>

At 16:18 06/09/02 +0200, you wrote:
>Hello,
>
>I need to split a string in elements but I cannot find how to.
>
>I have a string:     s<-"Block Column ID"      for example
>I would like to obtain a vector with 3 elements
>
>Is there a function to do this?

Yes, the function strsplit returns a list, so in your example:

> s <- "Block Column ID"
> unlist(strsplit(s, " "))
[1] "Block"  "Column" "ID"


EP

>Vincent
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  6 16:37:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2002 16:37:43 +0200
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <000b01c255af$9f591b50$0201a8c0@MARC>
References: <000b01c255af$9f591b50$0201a8c0@MARC>
Message-ID: <x2ptvrmbew.fsf@biostat.ku.dk>

"Marc Schwartz" <mschwartz at medanalytics.com> writes:

> > > We are just coming off our own power outage (bad storms) here in the
> > > southwestern suburbs of Minneapolis, so I was just able to get back
> on
> > > the net.
> > 
> > So maybe this is the problem and some DNS Servers or internet
> > connections are not up again or broken?
> > Those CRAN servers are running...
> > 
> > Uwe
> 
> The power outage was localized here in a small geographic area and was
> only about two hours this morning.  I am not aware (yet) of any larger
> scale issues. I had the same access problems last night prior to the
> storm's effect and I have no other problems getting to my routine daily
> web sites. Stephen's problem in Florida would also suggest that the
> local problems here in Minneapolis are not the proximate cause.

Right.

> Peter, when I ping:
> 
> http://cran.dk.r-project.org/
> http://cran.au.r-project.org/
> http://cran.br.r-project.org/
> http://cran.us.r-project.org/
> http://cran.de.r-project.org/
> http://cran.uk.r-project.org/
> http://cran.za.r-project.org/
> 
> they resolve to the same IP address (128.105.174.95) with a domain of
> franz.stat.wisc.edu.  Is that correct?

I think yes. Franz does a URL rewrite and sends you to the relevant
site. They work for me from here (at least the 1st three).
 
> I cannot get a reply when pinging these sites. I presume that this is
> disabled to prevent DoS attacks.  I get the following with tracert:

Yes, that is normal.

Something weird is going on in Austria, though. Apparently some
subnets can ping the main CRAN site but not get through on any ports.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Sep  6 17:01:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 6 Sep 2002 08:01:22 -0700 (PDT)
Subject: [R] Scope problems - passing an argument from one function to
 another (LME) within
In-Reply-To: <sd78c2b3.020@dss2.med.gu.se>
Message-ID: <Pine.A41.4.44.0209060751260.18526-100000@homer05.u.washington.edu>

On Fri, 6 Sep 2002, Derek Eder wrote:

> I am having trouble understanding what must be a quite simple rule of
> scope.
>
> In the code example below, the argument to the main function, my.subset,
> would like to be passed to the function LME.  This does not happen
> however.  Curiously, the other argument (my.data) is passed to LME.

Yes.  Modelling and graphics functions with formulas all have slightly
different nonstandard evaluation rules, and it turns out that lme()
doesn't evaluate extra arguments like subset in the parent environment.

There's a description of the nonstandard evaluation rules on
developer.r-project.org, but I will have to rewrite it to include lme,
which I didn't know about.


> This problem goes away with this:  assign("my.subset", my.subset, env =
> sys.frame()).
>
> It works, but it doesn't feel right.  How can I get LME to join the
> scope of the main function?

You can't, not easily.  If you specify a data frame then lme() expects it
to contain all the variables, if you don't specify a data frame then it
looks in the local environment.  help(lme) is consistent with this, but if
you did't know you probably wouldn't interpret it that way.

It turns out that it always looks in the global environment as well, so
you only notice this inside a function

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Fri Sep  6 17:23:23 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Fri, 6 Sep 2002 17:23:23 +0200
Subject: [R] data mining for R
Message-ID: <200209061523.g86FNNX08696@mailgate5.cinetic.de>

Hi ,

..my intention is in main implement a fuzzy-Association-algorithms
which works better , when you have many cases on category threshold's i.e. like
age !

Open-Source apriori exist enough (use google for url) i.e. 
Apriori form Christian Borgelt 
ARTool (Java)  
Weka(Java)

You have a variable age which some categories, i.e. one is 19-29 years !
Now you search for high supports in your dataset (frequent Itemsets).

Now suppose in your data are many people with age 28 and 29 years.
Now the calculations for frequent Itemsets with the age category 30 to 39 years is
biased, because apriori counts not the people which are 28 and 29 years 
what's statistical correct but not a good interpretation of the associations 
between variables - and here works fuzzy !?

...like i'm mentioned i need until end of the year, because
i have several other normal boring jobs

regards,Christian






SK?LA_Zdenek <skala at incoma.cz> schrieb am 06.09.02 08:32:31:
> Could you kindly send me an info after your package will be available?
> Thanks!
> Zdenek Skala
> INCOMA Research
> skala at incoma.cz
> 
> -----Original Message-----
> From: chr.schulz at email.de [mailto:chr.schulz at email.de]
> 
> ... i'm on process and be attempt develope a package 
> for association-rules (market-basket-analysis), but didn't know when i'm finished
> (hopefully end of the year with easy GUI's) ,because i jump between Java(Weka)
> and R.
> 
> regards,Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  6 18:36:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 6 Sep 2002 17:36:28 +0100 (BST)
Subject: [R] Version 1.5.1 STILL failing make check.
In-Reply-To: <200209052011.RAA05813@gelfand.math.unb.ca>
Message-ID: <Pine.LNX.4.31.0209061733420.7269-100000@gannet.stats>

Rolf,

Let me repeat:

With gcc 3.1/2 on Solaris you need to compile arithmetic.c without
optimization.

-O asks for optimization.  What I suggest you do is

make clean
rm config.log
set config.site for gcc
make
cd src/main
rm arithmetic.o
make

and then repeat (copy-and-paste) the compilation of arithmetic.o *omitting
-O2*.

make

That should do it.

Brian

On Thu, 5 Sep 2002, Rolf Turner wrote:

>
> I tried setting CFLAGS="-g -O" in config.site and got the same errors
> from running ``make check''.  Then I tried setting CC=cc in
> config.site, and the damned thing failed again (but differently).
> Now at least ``!is.nan(var(1))'' is TRUE, as it should be.  The
> problem comes from lapack.  At the end of
>
> 	.../test/Examples/base-Ex.Rout.fail
>
> we find:
>
> 	> loc <- cmdscale(eurodist)
> 	Error in La.eigen(-x/2, symmetric = TRUE) :
> 		lapack routines cannot be loaded
> 	Execution halted
>
> Which I guess I should've expected --- it couldn't be so simple as to
> change compilers from gcc to cc, could it?  Have I done something
> naive in making the change to config.site?  Should I have made some
> other changes as well? In particular I left the Fortran compiler as
> g77, rather than changing it to f77 --- is this the wrong thing to
> do?
>
> I notice that in config.log I get a lot of sequences of warning
> messages the form
>
> 	/dev/null:0: malformed option `-A system=unix'
> 	/dev/null:0: malformed option `-A system=svr4'
> 	*Initialization*:1: warning: `__SIZE_TYPE__' redefined
> 	*Initialization*:1: warning: `__PTRDIFF_TYPE__' redefined
> 	*Initialization*:1: warning: `__WCHAR_TYPE__' redefined
> 	/dev/null:0: malformed option `-A cpu=sparc'
> 	/dev/null:0: malformed option `-A machine=sparc'
>
> This does not encourage me, but I haven't a clue what's going on.
>
> Why in hell won't our system build R???  I'm going nuts over this.
>
> 				cheers (but not very cheerfully),
>
> 					Rolf Turner
> 					rolf at math.unb.ca
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  6 19:22:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 6 Sep 2002 18:22:10 +0100 (BST)
Subject: [R] R memory question (fwd)
In-Reply-To: <Pine.GSO.4.44.0209051957260.26461-100000@sundance.cse.ucsc.edu>
Message-ID: <Pine.LNX.4.31.0209061816460.9981-100000@gannet.stats>

Sounds like the design matrix is 21632*12 by over 2*21632. That's 10
billion numbers.  You can't do that in 4Gb of memory, and doubt you
actually have 4GM bytes.

If this really makes statistical sense you will have to exploit the
special structure that makes it sensible.

On Thu, 5 Sep 2002, Jing Wu wrote:

> Dear all,
>
> I am trying to use rlm in MASS to do an analysis on a 21632*12 matrix.
> There are 4  factors A,D,V,G; A of level 6, D of level 2, V of level 2, G
> of level 21632, and 21632*12 observations Y. The data format is
> A D V G Y
> 1 1 1 1 0.1
> 1 1 1 2 0.2
> ...
>
> The command I use is rlm(Y~A+D+V*G,data=data.dat)
>  I got the same error message:
> Error in rep(data, t1) : cannot allocate vector of length 467748756
>
> I am using a unix machine of 4GM memory. I would like to know if R is
> using all the available memory and/or how much memory R would use to
> handle is data set.
>
>
> Jing
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  6 20:02:02 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 6 Sep 2002 19:02:02 +0100 (BST)
Subject: [R] Using Anova Sums of Squares
In-Reply-To: <21F67EF0AFCF3F449AF94D739A0350352B4D61@rea05.fmg.uva.nl>
Message-ID: <Pine.LNX.4.31.0209061859570.9981-100000@gannet.stats>

I believe this is a multistratum aov (that is, with an Error term)?
If so, you need to take a look at print.aovlist and summary.aovlist to
learn handle the object.

On Fri, 6 Sep 2002, Maarten Speekenbrink wrote:

> Dear all,
>
> I'm trying to access the Sums of Squares resulting from a summary(aov(....)) so I can use them in a function. Is there an easy way to access these?
>
> The structure of a summary.aov object is something like this:
>
> > str(summary(fhc.aov))
> List of 5
>  $ Error: PPNR        :List of 1
>   ..$ :Classes anova  and `data.frame': 1 obs. of  5 variables:
>   .. ..$ Df     : num 70
>   .. ..$ Sum Sq : num 70.7
>   .. ..$ Mean Sq: num 1.01
>   .. ..$ F value: num NA
>   .. ..$ Pr(>F) : num NA
>   ..- attr(*, "class")= chr [1:2] "summary.aov" "listof"
>  $ Error: PPNR:CONSENS:List of 1
>   ..$ :Classes anova  and `data.frame': 2 obs. of  5 variables:
>   .. ..$ Df     : num [1:2] 1 70
>   .. ..$ Sum Sq : num [1:2]  0.254 70.746
>   .. ..$ Mean Sq: num [1:2] 0.254 1.011
>   .. ..$ F value: num [1:2] 0.251    NA
>   .. ..$ Pr(>F) : num [1:2] 0.618    NA
>   ..- attr(*, "class")= chr [1:2] "summary.aov" "listof"
>
> ...etc.
>
> but calling summary(fhc.aov)[2]$"Sum Sq" or anything like it (i.e. summary(fhc.aov)[2][2] or summary(fhc.aov)[2][1][2]) results in a Na. The only way I've been able to get it is by unlist(summary(fhc.aov)[2]), which does result in a list with the right number of elements, but this is not very handy for indexing... Of course I could recompute the Sums of Squares, but since summary(aov(...)) already gives them, I would rather get them from there. Thanks for your help,
>
> Maarten Speekenbrink
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  6 20:16:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 6 Sep 2002 19:16:22 +0100 (BST)
Subject: [R] printing from windows() device when running R under ESS
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC645@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0209061910040.9981-100000@gannet.stats>

On Fri, 6 Sep 2002, Liaw, Andy wrote:

> Sorry for the cross-post: not sure whether it's Rterm or ESS (or something
> else?)...
>
> I'm running R (1.5.0 patched 2002-05-09, compiled from source on WinNT4)
> under ESS 5.1.21 with XEmacs 21.4.6.  When I plotted a graph on the
> windows() device, and then use the menu in the R graphics window to print
> the graph, the printer selection dialog box does not show up until I go to
> the *R* buffer and hit return there.  Anyone have any ideas?

Yes.  ESS runs Rterm at the end of a pipe, and that starves the main loop
(whereas interactive Rterm uses a separate thread that trickles the main
loop).

NTemacs (and I presume XEmacs) fudges the absence of pty's on Windows.
It's a wonder it works at all.  This could be solved if someone wants to
rewrite Rterm -ess to use a separate thread, but that's down to the
small community of emacs/ess/Windows/inferior-R-mode users to find a
volunteer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Fri Sep  6 20:30:40 2002
From: jday at csi-inc.com (John Day)
Date: Fri, 06 Sep 2002 14:30:40 -0400
Subject: [R] Histogram Ranking
Message-ID: <4.3.2.7.0.20020906141719.02f3fb10@mail.csi-inc.com>

Hello,

This is not exactly an R question, but I suspect that there is an R 
procedure that does what I am calling (for lack of a better name) 
"histogram ranking".

I'm trying to evaluate a set of regression features by segregating by 
target class and comparing the feature histograms. My idea is that if the 
histograms are the same for two different classes then there is no 
predictive power in those features. Conversely, if the histograms are 
different then there is probably some predictive "juice" that we can 
squeeze out of the features with regression.

The histograms are computing by partitioning  the features into equally 
spaced bins over their spans and counting the sample values in each bin 
that corresponds to that partition of feature space. This is done for each 
target class, so the resulting histograms are the features distributions 
conditioned by target class.

Since the histograms are numeric vectors, we can measure the "goodness" of 
a feature set by evaluating the "distance" between histograms. The bigger 
the better etc.

Now I'm no statistics expert. Have I re-invented some "wheel" here? What is 
the canonical name for this kind of analysis? Is this kind of analysis 
routinely done in R? [Is there a "better" way to do all this?]

Thanks,
John Day

I

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From skembel at ualberta.ca  Fri Sep  6 21:39:54 2002
From: skembel at ualberta.ca (Steve Kembel)
Date: 06 Sep 2002 13:39:54 -0600
Subject: [R] Installing splancs_2.01-9 on Red Hat Linux 7.3
Message-ID: <1031341194.1484.33.camel@bebop.biology.ualberta.ca>

Hi all,

I'm trying to install the splancs contributed package on a Redhat 7.3
system with R 1.5.1 installed. I've installed the readline41-4.1-10 RPM
which Redhat requires for R and it works great, thanks very much.

However, when I attempt to R CMD INSTALL splancs_2.01-9.tar.gz as root,
I get the following error message during the install:
[snip]
g77   -fPIC  -O2 -m486 -fno-strength-reduce -g -c weight.f -o weight.o
gcc -shared  -o splancs.so areapl.o cncvwt.o dokhat.o inpip.o ipippa.o
iplace.o k12hat.o kernel3d.o khvc.o khvmat.o krnnrm.o krnqne.o krnqrt.o
nndist.o plarea.o ptinpoly.o sekhat.o sort2.o sort.o stkhat.o stsecal.o
tribble.o twodimmse.o weight.o   -L/usr/local/lib
-L/usr/lib/gcc-lib/i386-redhat-linux/2.96
-L/usr/lib/gcc-lib/i386-redhat-linux/2.96/../../.. -lreadline -ldl
-lncurses -lg2c -lm -L/usr/lib/R/bin -lR
/usr/bin/ld: cannot find -lreadline
collect2: ld returned 1 exit status
make: *** [splancs.so] Error 1
ERROR: compilation failed for package 'splancs'

I'm using g77 0.5.26 and gcc 2.96 if that makes any difference. Anyone
else experience this problem with Redhat 7.x? I would greatly appreciate
any suggestions.

Cheers,
Steve




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Sep  6 22:45:34 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 6 Sep 2002 22:45:34 +0200 (CEST)
Subject: [R] Installing splancs_2.01-9 on Red Hat Linux 7.3
In-Reply-To: <1031341194.1484.33.camel@bebop.biology.ualberta.ca>
Message-ID: <Pine.LNX.4.44.0209062237250.8441-100000@reclus.nhh.no>

On 6 Sep 2002, Steve Kembel wrote:

> Hi all,
> 
> I'm trying to install the splancs contributed package on a Redhat 7.3
> system with R 1.5.1 installed. I've installed the readline41-4.1-10 RPM
> which Redhat requires for R and it works great, thanks very much.

Do you also have readline-devel installed? This has the headers and static 
libraries, etc., and it looks as though it is libreadline.a that is 
missing. It isn't needed by splancs, but is a standard library included in 
the linking phase of building any package with a compiles shared library, 
so installing any such package should give the same error, I think.

Splancs is maintained on an RH7.2 system with gcc-2.96-108.7.2 and 
gcc-g77-2.96-108.7.2, and no such problem has been encountered here.

> 
> However, when I attempt to R CMD INSTALL splancs_2.01-9.tar.gz as root,
> I get the following error message during the install:
> [snip]
> g77   -fPIC  -O2 -m486 -fno-strength-reduce -g -c weight.f -o weight.o
> gcc -shared  -o splancs.so areapl.o cncvwt.o dokhat.o inpip.o ipippa.o
> iplace.o k12hat.o kernel3d.o khvc.o khvmat.o krnnrm.o krnqne.o krnqrt.o
> nndist.o plarea.o ptinpoly.o sekhat.o sort2.o sort.o stkhat.o stsecal.o
> tribble.o twodimmse.o weight.o   -L/usr/local/lib
> -L/usr/lib/gcc-lib/i386-redhat-linux/2.96
> -L/usr/lib/gcc-lib/i386-redhat-linux/2.96/../../.. -lreadline -ldl
> -lncurses -lg2c -lm -L/usr/lib/R/bin -lR
> /usr/bin/ld: cannot find -lreadline
> collect2: ld returned 1 exit status
> make: *** [splancs.so] Error 1
> ERROR: compilation failed for package 'splancs'
> 
> I'm using g77 0.5.26 and gcc 2.96 if that makes any difference. Anyone
> else experience this problem with Redhat 7.x? I would greatly appreciate
> any suggestions.
> 

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Sep  7 01:06:55 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Sep 2002 18:06:55 -0500
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <x2u1l3mg60.fsf@biostat.ku.dk>
References: <000001c255a0$86046b00$0201a8c0@MARC>
	<x2u1l3mg60.fsf@biostat.ku.dk>
Message-ID: <6rd6rq7m5s.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> One thing is odd: http://cran.dk.r-project.org/ is actually the same
> machine as http://cran.us.r-project.org/ (that's a DNS configuration
> error -- it should point to sunsite.dk....)

It's not an error, it's a kludge. :-)

I set up many of the mirror sites to point to franz.stat.wisc.edu, the
machine that is cran.us.r-project.org, and within the apache
configuration on that machine do a redirect to the real mirror site.

The reason for the kludge is because I can change the apache
configuration on franz myself but I need to go through a couple of
levels of requests to get the DNS configuration for the r-project.org
domain changed.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sun Sep  8 00:31:20 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sat, 7 Sep 2002 17:31:20 -0500
Subject: [R] Main R Project and CRAN sites down?
In-Reply-To: <6rd6rq7m5s.fsf@franz.stat.wisc.edu>
Message-ID: <001601c256be$4b87ef50$0201a8c0@MARC>

All,

Just a quick update to let you know that I can now access the main R
Project site and the main CRAN site at this time.

I was not able to this morning (Saturday local time), so I am still
unsure as to the source of the problem and what may have transpired in
the intervening time frame.

If anyone hears of anything specific, I would be interested to know.

Best,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sun Sep  8 04:58:25 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Sun, 8 Sep 2002 11:58:25 +0900 (TAIDT)
Subject: [R] Error on "Load source file" of iESS
Message-ID: <200209080258.LAA15360@ibm.stat.ncku.edu.tw>

Dear R and ESS users,

I got the following error when trying to load a source file 
(smart.R in directory E:\R\)
into XEmacs through the menu iESS and "Load source file":

Error in file(file, "r") : unable to open connection
In addition: Warning message: 
cannot open file `E:Rsmart.R' 

It seems the slash "/" or "\" being missing, but I don't know how to fix that.
I just can't find this kind of problem being asked in the mail-list.

My environment is
  Win98, XEmacs 21.4.6 and ESS 5.1.24

Hope I am not the first, or the only, one having this kind of problem.
Your help will be highly appreciated.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun Sep  8 06:01:17 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Sep 2002 21:01:17 -0700
Subject: [R] Error on "Load source file" of iESS
In-Reply-To: <200209080258.LAA15360@ibm.stat.ncku.edu.tw>
References: <200209080258.LAA15360@ibm.stat.ncku.edu.tw>
Message-ID: <87ptvp5dv6.fsf@jeeves.blindglobe.net>


You would do better asking on the ESS list.

>>>>> "lu" == Lu Chi-Hsien Joseph <cjlu at ibm.stat.ncku.edu.tw> writes:

    lu> Dear R and ESS users,
    lu> I got the following error when trying to load a source file 
    lu> (smart.R in directory E:\R\)
    lu> into XEmacs through the menu iESS and "Load source file":

    lu> Error in file(file, "r") : unable to open connection
    lu> In addition: Warning message: 
    lu> cannot open file `E:Rsmart.R' 

    lu> It seems the slash "/" or "\" being missing, but I don't know how to fix that.
    lu> I just can't find this kind of problem being asked in the mail-list.

    lu> My environment is
    lu>   Win98, XEmacs 21.4.6 and ESS 5.1.24

    lu> Hope I am not the first, or the only, one having this kind of problem.
    lu> Your help will be highly appreciated.

    lu> Best regards,

    lu> C. Joseph Lu
    lu> Department of Statistics
    lu> National Cheng-Kung University
    lu> Tainan, Taiwan
 
    lu> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    lu> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    lu> Send "info", "help", or "[un]subscribe"
    lu> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    lu> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sun Sep  8 06:37:36 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Sun, 8 Sep 2002 13:37:36 +0900 (TAIDT)
Subject: [R] Error on "Load source file" of iESS
Message-ID: <200209080437.NAA10820@ibm.stat.ncku.edu.tw>

As kindly pointed out by Mr. Rossini,

"You would do better asking on the ESS list."

I am very sorry to bother R-users with this!

Please ignore my earlier post, since I don't know how to delete it. 

Best regards,

C. Joseph Lu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.co.nz  Mon Sep  9 05:46:53 2002
From: s.mcclatchie at niwa.co.nz (Sam McClatchie)
Date: Mon, 09 Sep 2002 15:46:53 +1200
Subject: [R] loading data from a specified directory
Message-ID: <3D7C19AD.2010309@niwa.cri.nz>

System info:
Linux slackware
R Version 1.5.1  (2002-06-17)
ESS 5.1.21
Emacs 21.2.1
-------------------
Colleagues

I have some text files in a certain directory and want to process them 
sequentially. So I want to pass the filename identifier into a function 
and loop through the processing of each file in turn.I've called the 
file identifier f in this code segment:

image.dvm <- function (horiz.slice.int=2, ping.int=3,
                        start.h=3, start.min=4,
                        max.z=800, f=350:372)
{
   ## Purpose: to display the whole echogram integrals for consecutive CREST
   ## files to illustrate patterns of diel vertical migration
   ## ----------------------------------------------------------------------
   ## Arguments:
   ## ----------------------------------------------------------------------
   ## Author: Sam McClatchie, Date:  6 Sep 2002, 12:02


   for (i in 1:length(f))
       paste("t.",f[1], sep="") 
<-read.table(paste("/home/smc/manuscripts/mesopelagic_fish/biomass_spectrum/we0000",f[1],sep=""), 
header=F)

-----------------
There is nothing wrong with the text files because I can read them 
correctly with:
 > t.350 <- read.table('we0000350', header=F)
 > t.350[1:5,1:4]
            V1         V2         V3          V4
1 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
2 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
3 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
4 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
5 8.71053e-05 4.2294e-05 3.6614e-05 6.68651e-05
 >
However, running the code segment above gives an error that has me a 
little bemused:

 > image.dvm()
Error in image.dvm() : Target of assignment expands to non-language object
 >

I guess I'm doing something illegal with the paste command?

   paste("t.",f[1], sep="") <- read.table....

Can you help, please?

Sam
-- 
Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz
Research home page <http://www.smcc.150m.com/>
                     /\
          >><xX(&>
                  /// \\\
                 //// \\\\
                ///  <%)Xx><<
               /////  \\\\\\
         ><(((@>
   ><(((%>     ..>><xX(?>O<?)Xx><<



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Sep  9 08:27:33 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 9 Sep 2002 08:27:33 +0200
Subject: [R] loading data from a specified directory
In-Reply-To: <3D7C19AD.2010309@niwa.cri.nz>
Message-ID: <KKEGJOGBELBHDIKPINBMCEIFCPAA.hb@maths.lth.se>

See ?assign

/Henrik Bengtsson

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Sam McClatchie
> Sent: Monday, September 09, 2002 5:47 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] loading data from a specified directory
>
>
> System info:
> Linux slackware
> R Version 1.5.1  (2002-06-17)
> ESS 5.1.21
> Emacs 21.2.1
> -------------------
> Colleagues
>
> I have some text files in a certain directory and want to process them
> sequentially. So I want to pass the filename identifier into a function
> and loop through the processing of each file in turn.I've called the
> file identifier f in this code segment:
>
> image.dvm <- function (horiz.slice.int=2, ping.int=3,
>                         start.h=3, start.min=4,
>                         max.z=800, f=350:372)
> {
>    ## Purpose: to display the whole echogram integrals for
> consecutive CREST
>    ## files to illustrate patterns of diel vertical migration
>    ##
> ----------------------------------------------------------------------
>    ## Arguments:
>    ##
> ----------------------------------------------------------------------
>    ## Author: Sam McClatchie, Date:  6 Sep 2002, 12:02
>
>
>    for (i in 1:length(f))
>        paste("t.",f[1], sep="")
> <-read.table(paste("/home/smc/manuscripts/mesopelagic_fish/biomass
> _spectrum/we0000",f[1],sep=""),
> header=F)
>
> -----------------
> There is nothing wrong with the text files because I can read them
> correctly with:
>  > t.350 <- read.table('we0000350', header=F)
>  > t.350[1:5,1:4]
>             V1         V2         V3          V4
> 1 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
> 2 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
> 3 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
> 4 0.00000e+00 0.0000e+00 0.0000e+00 0.00000e+00
> 5 8.71053e-05 4.2294e-05 3.6614e-05 6.68651e-05
>  >
> However, running the code segment above gives an error that has me a
> little bemused:
>
>  > image.dvm()
> Error in image.dvm() : Target of assignment expands to non-language object
>  >
>
> I guess I'm doing something illegal with the paste command?
>
>    paste("t.",f[1], sep="") <- read.table....
>
> Can you help, please?
>
> Sam
> --
> Sam McClatchie, Research scientist (fisheries acoustics))))))))))
> NIWA (National Institute of Water & Atmospheric Research Ltd)
> PO Box 14 901, Kilbirnie, Wellington, New Zealand
> s.mcclatchie at niwa.cri.nz
> Research home page <http://www.smcc.150m.com/>
>                      /\
>           >><xX(&>
>                   /// \\\
>                  //// \\\\
>                 ///  <%)Xx><<
>                /////  \\\\\\
>          ><(((@>
>    ><(((%>     ..>><xX(?>O<?)Xx><<
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rob.hyndman at buseco.monash.edu.au  Mon Sep  9 08:28:11 2002
From: rob.hyndman at buseco.monash.edu.au (Rob Hyndman)
Date: Mon, 09 Sep 2002 16:28:11 +1000
Subject: [R] Monotonic interpolation
Message-ID: <3D7C3F7B.D7512E8A@buseco.monash.edu.au>

Has anyone got a function for smooth monotonic interpolation of a
univariate function?  I'm after something like the NAG function PCHIM
which does monotonic Hermite interpolation. Alternatively, montononic
cubic spline interpolation.

Please reply directly.

Rob Hyndman 
___________________________________________________
Rob J Hyndman
Associate Professor & Director of Consulting
Department of Econometrics & Business Statistics
Monash University, VIC 3800, Australia.
http://www-personal.buseco.monash.edu.au/~hyndman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fboucays at wanadoo.fr  Mon Sep  9 09:15:29 2002
From: fboucays at wanadoo.fr (Fboucays)
Date: Mon, 9 Sep 2002 09:15:29 +0200
Subject: [R] Re: Biplot function of PCA
Message-ID: <15740.19089.804830.542912@gargle.gargle.HOWL>


		    [was sent a wrong R-help address; manually resent by MM]
Hello
I'am using the 'biplot' and 'biplot.pincomp' functions of the 'mva'
package for my studies.

The biplot represents both the observations and the variables of a
matrix of multivariate data on the same plot.

The observations are represented by their numbers (the line of the data
matrix), but I would need to change it.

I would like to have the possibility, to represent on a biplot, the
observations, by their name, or , by the group or the cluster they
belong.

For instance:
tab is a data.frame (4 variables x 52 obsevations)

pc.tab_princomp(tab,cor=TRUE)

biplot.princomp(pc.tab)

km_kmeans(tab,3,100)

cl_cutree(hclust(dist(tab)),k=3)

# I would like to obtain:

biplot.princomp(pc.tab, nomi=cl)

#or

biplot.princomp(pc.tab,nomi=km$cluster)

Like that I could see how the clusters are spread on the PCA.

So, my question is,

Shall I write myself this new function ?

Perhaps someone already done-it? But how could I know.

Thank you taking your time for my problem.

Best regards

Francois BOUCAYS
*************************
Assistant Hospitalier Universitaire
Facult? de Chirurgie Dentaire
Sciences Anatomiques (Sous-Section 58.03)
3, ch. des Mara?chers - 31062 Toulouse Cedex
----------------------------
Laboratoire de Chirurgie Cephalo-Rachidienne Assist?e par Ordinateur
Directeur: Pr F. Boutault
----------------------------
tel: 05.62.17.29.29 - fax: 05.61.25.47.19
port: 06.13.24.44.45 - emel: fboucays at wanadoo.fr
***************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Sep  9 09:55:07 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 9 Sep 2002 09:55:07 +0200 (CEST)
Subject: [R] loading data from a specified directory
In-Reply-To: <3D7C19AD.2010309@niwa.cri.nz>
Message-ID: <Pine.LNX.4.44.0209090952020.7904-100000@localhost.localdomain>

On Mon, 9 Sep 2002, Sam McClatchie wrote:
  |
  |I have some text files in a certain directory and want to process them 
  |sequentially. So I want to pass the filename identifier into a function 
  |and loop through the processing of each file in turn.I've called the 
  |file identifier f in this code segment:
  |
  |image.dvm <- function (horiz.slice.int=2, ping.int=3,
  |                        start.h=3, start.min=4,
  |                        max.z=800, f=350:372)
  |{

  |   for (i in 1:length(f))
  |       paste("t.",f[1], sep="") 
  |<-read.table(paste("/home/smc/manuscripts/mesopelagic_fish/biomass_spectrum/we0000",f[1],sep=""), 
  |header=F)

  |Error in image.dvm() : Target of assignment expands to non-language object
  | >
  |
  |I guess I'm doing something illegal with the paste command?
  |
  |   paste("t.",f[1], sep="") <- read.table....

Hi,

You must not use paste() in this context.  Paste cannot be used for
assigning variable name, you must use assign() instead.  Write something
like

assign(paste("t.", f[1], sep=""), read.table(...))

but check it.

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep  9 10:01:04 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 9 Sep 2002 10:01:04 +0200
Subject: [R] Re: [S] First max of a vector 
In-Reply-To: <200209080140.g881e1t30343@home.salter-point.com>
References: <aah1@ualberta.ca>
	<3.0.6.32.20020906175533.0094d790@pop.srv.ualberta.ca>
	<200209080140.g881e1t30343@home.salter-point.com>
Message-ID: <15740.21824.764898.519982@gargle.gargle.HOWL>

>>>>> "MikeM" == Michael M Meyer <mikem at salter-point.com>
>>>>>     on Sat, 07 Sep 2002 18:40:01 -0700 writes:

    MikeM> which(x==max(x)) will return the indices fo all
    MikeM> elements that are equal to the max.  So the first max
    MikeM> would be which(x==max(x))[1] (At least this works in
    MikeM> R, I assume it does in S-plus....?)  --Mike

yes, (of course).

However, the above solution is quite sub-optimal at least in
principle:
  1) run through all of x finding the *value* of the max()
  2) run through all of x comparing x[i] with the max(), returning
     a logical vector of TRUE/FALSE
  3) extract the TRUE indices

For this reason, and because it's such a common task, I had
introduced the functions

	   which.min()   and   which.max()

into R, a while ago [R 1.1.0 (June 15, 2000)].
Speed comparison when x is of length 10000,
shows a speedup of about a factor of 13 {varying between 9 & 20}.

S-plus is not yet compatible here.. :-) ;-)

    >> ***> Abdulkadir Hussein wrote (Fri, 06 Sep 2002 17:55:33
    >> MDT) Hi S-group, Is anyone aware of a function in S-plus
    >> which returns the index (position) of the first global
    >> max of a vector x? ... I would appreciate any
    >> suggestions..
    >> 
    >> Regards Abdul
    >> __________________________________________________________________
    >> Abdulkadir Ahmed Hussein Department of Mathematical
    >> Sciences University of Alberta Edmonton, Alberta Canada
    >> T6G 2G1 Office: CAB 664 Phone: (403)436-4943 W3:
    >> http://www.stat.ualberta.ca/~hussein
    >> ___________________________________________________________________

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  9 10:11:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Sep 2002 09:11:58 +0100 (GMT Daylight Time)
Subject: [R] Re: Biplot function of PCA
In-Reply-To: <15740.19089.804830.542912@gargle.gargle.HOWL>
Message-ID: <Pine.WNT.4.44.0209090910370.3776-100000@petrel>

On Mon, 9 Sep 2002, Fboucays wrote:

> I'am using the 'biplot' and 'biplot.pincomp' functions of the 'mva'
> package for my studies.
>
> The biplot represents both the observations and the variables of a
> matrix of multivariate data on the same plot.
>
> The observations are represented by their numbers (the line of the data
> matrix), but I would need to change it.

Did you try example(biplot.princomp)?  It uses names!

The functions use names if and only if the data are named.  All you need to
do is to add the names to your data frame.

> I would like to have the possibility, to represent on a biplot, the
> observations, by their name, or , by the group or the cluster they
> belong.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Mon Sep  9 10:35:52 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Mon, 09 Sep 2002 10:35:52 +0200
Subject: [R] help with rcorr in Hmisc
Message-ID: <3D7C5D68.209@science.uva.nl>

Hi,

I get the following error meassage:

--------------------------------------------------
rcorr(lskPox0t30[c(22,3:7)], type=c("spearman"))
Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
         matrix subscripts not allowed in replacement
--------------------------------------------------

But I do not know how to solve it? Another problem could be NAs in the data. 
How can I over come this problem if I would like to omit NAs like 
use="pairwise.complete.obs"?

Regards, Ulrich

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Sep  9 10:58:48 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 9 Sep 2002 09:58:48 +0100 (BST)
Subject: [R] Monotonic interpolation
In-Reply-To: <3D7C3F7B.D7512E8A@buseco.monash.edu.au>
Message-ID: <Pine.GSO.4.21.0209090952120.121-100000@dolphin>

> Has anyone got a function for smooth monotonic interpolation of a
> univariate function?  I'm after something like the NAG function PCHIM
> which does monotonic Hermite interpolation. Alternatively, montononic
> cubic spline interpolation.

cm.splinefun() pasted below fits an interpolating spline and filters the
coefficients for (co)monotonicity following Hyman's 1983 algorithm. It
works pretty much as base function cm.splinefun, from which it is
modified.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 



spl.coef.conv<-function(z)
# takes an object z containing equally lengthed arrays
# z$x, z$y, z$b, z$c, z$d defining a cubic spline interpolating 
# z$x, z$y and forces z$c and z$d to be consistent with z$y and
# z$b (gradient of spline). This is intended for use in conjunction
# with Hyman's monotonicity filter.
# Note that R's spline routine has s''(x)/2 as c and s'''(x)/6 as d.
# (c) Simon N. Wood 
{ n<-length(z$x)
  h<-z$x[2:n]-z$x[1:(n-1)]
  y0<-z$y[1:(n-1)];y1<-z$y[2:n]
  b0<-z$b[1:(n-1)];b1<-z$b[2:n]
  cc<- -(3*(y0-y1)+(2*b0+b1)*h)/h^2 
  c1<- (3*(y0[n-1]-y1[n-1])+(b0[n-1]+2*b1[n-1])*h[n-1])/h[n-1]^2
  dd<- (2*(y0-y1)/h+b0+b1)/h^2
  d1<-dd[n-1]
  z$c<-c(cc,c1);z$d<-c(dd,d1)
  z 
}


hyman.filter<-function(z) 
# Filters cubic spline function to yield co-monotonicity in accordance
# with Hyman (1983) SIAM J. Sci. Stat. Comput. 4(4):645-654, z$x is knot
# position z$y is value at knot z$b is gradient at knot. See also
# Dougherty, Edelman and Hyman 1989 Mathematics of Computation
# 52: 471-494. (c) Simon N. Wood
{ n<-length(z$x)
  ss<-(z$y[2:n]-z$y[1:(n-1)])/(z$x[2:n]-z$x[1:(n-1)])
  S0<-c(ss[1],ss)
  S1<-c(ss,ss[n-1])
  sig<-z$b
  ind<-(S0*S1>0)
  sig[ind]<-S1[ind]
  ind<-(sig>=0)
  if
(sum(ind)) z$b[ind]<-pmin(pmax(0,z$b[ind]),3*pmin(abs(S0[ind]),abs(S1[ind])))
  ind<-!ind
  if
(sum(ind)) z$b[ind]<-pmax(pmin(0,z$b[ind]),-3*pmin(abs(S0[ind]),abs(S1[ind])))
  z
}

cm.splinefun<-function(x, y = NULL, method = "fmm",gulim=0) 
# modification of base package splinefun to produce co-monotonic 
#interpolant by Hyman Filtering. if gulim!=0 then it is taken as the upper
#limit on the gradient, and intrpolant is gradient limited rather than 
# monotonic. Modifications from R base package splinefun() 
# (c) Simon N. Wood 2002 
{   x <- xy.coords(x, y)
    y <- x$y
    x <- x$x
    n <- length(x)
    method <- match(method, c("periodic", "natural", "fmm"))
    if (is.na(method)) 
        stop("splinefun: invalid interpolation method")
    if (any(diff(x) < 0)) {
        z <- order(x)
        x <- x[z]
        y <- y[z]
    }
    if (method == 1 && y[1] != y[n]) {
        warning("first and last y values differ in spline - using y[1] for
both")
        y[n] <- y[1]
    }
    z <- .C("spline_coef", method = as.integer(method), n = n, 
        x = as.double(x), y = as.double(y), b = double(n), c = double(n),
d = double(n), 
        e = double(if (method == 1) n else 0), PACKAGE = "base")
    
    z$y<-z$y-z$x*gulim # trick to impose upper
    z$b<-z$b-gulim     # limit on interpolator gradient
    
    z<-hyman.filter(z) # filter gradients for co-monotonicity
    
    z$y<-z$y+z$x*gulim # undo trick 
    z$b<-z$b+gulim     # transformation
    
    z<-spl.coef.conv(z) # force other coefficients to consistency
   
    rm(x, y, n, method)
    function(x) {
        .C("spline_eval", z$method, length(x), x = as.double(x), 
            y = double(length(x)), z$n, z$x, z$y, z$b, z$c, z$d, 
            PACKAGE = "base")$y
    }
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Mon Sep  9 13:40:17 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Mon, 09 Sep 2002 13:40:17 +0200
Subject: [R] help with rcorr in Hmisc
References: <3D7C5D68.209@science.uva.nl>
Message-ID: <3D7C88A1.60405@science.uva.nl>

sorry this was an unwanted post as I did post it already some days ago.

Ulrich

Ulrich Leopold wrote:
> Hi,
> 
> I get the following error meassage:
> 
> --------------------------------------------------
> rcorr(lskPox0t30[c(22,3:7)], type=c("spearman"))
> Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
>         matrix subscripts not allowed in replacement
> --------------------------------------------------
> 
> But I do not know how to solve it? Another problem could be NAs in the 
> data. How can I over come this problem if I would like to omit NAs like 
> use="pairwise.complete.obs"?
> 
> Regards, Ulrich
> 

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Sep  9 13:48:36 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 9 Sep 2002 07:48:36 -0400
Subject: [R] help with rcorr in Hmisc
In-Reply-To: <3D7C5D68.209@science.uva.nl>
References: <3D7C5D68.209@science.uva.nl>
Message-ID: <20020909074836.5a2a310e.fharrell@virginia.edu>

Did you not see the solution to this from someone else last week?
rcorr uses pairwise deletion of NAs.

Frank Harrell

On Mon, 09 Sep 2002 10:35:52 +0200
Ulrich Leopold <uleopold at science.uva.nl> wrote:

> Hi,
> 
> I get the following error meassage:
> 
> --------------------------------------------------
> rcorr(lskPox0t30[c(22,3:7)], type=c("spearman"))
> Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
>          matrix subscripts not allowed in replacement
> --------------------------------------------------
> 
> But I do not know how to solve it? Another problem could be NAs in the data. 
> How can I over come this problem if I would like to omit NAs like 
> use="pairwise.complete.obs"?
> 
> Regards, Ulrich
> 
> -- 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Sep  9 15:30:30 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 09 Sep 2002 09:30:30 -0400
Subject: [R] help with rcorr in Hmisc
In-Reply-To: <3D7C5D68.209@science.uva.nl>
Message-ID: <5.1.0.14.2.20020909092455.01da2288@mcmail.cis.mcmaster.ca>

Dear Ulrich,

At 10:35 AM 9/9/2002 +0200, Ulrich Leopold wrote:

>I get the following error meassage:
>
>--------------------------------------------------
>rcorr(lskPox0t30[c(22,3:7)], type=c("spearman"))
>Error in "[<-.data.frame"(*tmp*, is.na(x), value = 1e+30) :
>         matrix subscripts not allowed in replacement
>--------------------------------------------------
>
>But I do not know how to solve it? Another problem could be NAs in the 
>data. How can I over come this problem if I would like to omit NAs like 
>use="pairwise.complete.obs"?

It looks as if you omitted a comma after the row indices; 
rcorr(lskPox0t30[c(22,3:7),], type=c("spearman")) should do the trick. I 
believe that rcorr will give you pairwise-present observations by default.

John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Mon Sep  9 16:09:18 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Mon, 9 Sep 2002 10:09:18 -0400 
Subject: [R] multiple "keys" in Trellis plots?
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFD0@MSGBOS576NTS.fmr.com>

My xyplot has a number of panels, and I'd like a separate key for each
rather than a single key for the entire set. However, I cannot find a way to
pass multiple key definitions to xyplot's "key" argument.

Allow me to throw out a simple example:

require(methods)
require(lattice)

## define sample data
myFrame1 <- data.frame(a=1:100, b=rep(1:10,10), c=unlist(lapply(1:10, rep,
10)))
myFrame2 <- data.frame(a=50:1,  b=rep(1:10,5),  c=unlist(lapply(1:5, rep,
10)))
myFrame  <- cbind(rbind(myFrame1, myFrame2),
                  which=c(rep("Display for myFrame1", 100),
                    rep("Display for myFrame2", 50)))

## now send the data to a Trellis device
trellis.device()
print(xyplot(a ~ b | which, myFrame, groups=c,
             key=list(text=list(lab=paste("myFrame1 Line", 1:10))),
             panel="panel.superpose", t="l"))

What I really want here is two separate keys, one for the plot on the first
panel, representing the lines in myFrame1, and one for the plot on the
second, representing the lines in myFrame2.

Can anyone suggest a solution?

Thanks,

Kevin

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep  9 16:23:57 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Sep 2002 07:23:57 -0700 (PDT)
Subject: [R] loading data from a specified directory
In-Reply-To: <3D7C19AD.2010309@niwa.cri.nz>
Message-ID: <Pine.A41.4.44.0209090719210.65276-100000@homer31.u.washington.edu>

On Mon, 9 Sep 2002, Sam McClatchie wrote:
>    for (i in 1:length(f))
>        paste("t.",f[1], sep="")
> <-read.table(paste("/home/smc/manuscripts/mesopelagic_fish/biomass_spectrum/we0000",f[1],sep=""),
> header=F)

As has been pointed out, this isn't a problem with loading data from a
specified directory.  If you want to assign to a constructed variable name
you can do it with either assign() or by constructing an expression with
substitute() and evaluating it.

However, you typically don't want to do that -- it's usually easier to
stick all the things in a list.

datasets<-vector("list",length(f))
for (fi in f){
   datasets[[fi]]<-read.table(paste("/long/directory/name/",fi,sep=""))
}


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at localhost.localdomain  Mon Sep  9 18:04:14 2002
From: siim at localhost.localdomain (Ott Toomet)
Date: Mon, 9 Sep 2002 18:04:14 +0200
Subject: [R] lapply-related question
Message-ID: <200209091604.g89G4EX08235@localhost.localdomain>

Dear R-gurus,

I would like to use a lapply on a kind of "bivariate" problem.  I have
a vector and a list, components of which are vectors, e.g.

vec <- c(1,2,3)
lst <- list(1, c(2,3), c(4,5,6))

I want to apply a function to each component of the list, using the
corresponding component of the vector as a parameter.  E.g. I want a
list in the form

list(lst[[1]] + vec[1], lst[[2]] + vec[2], .... )

I think this can be achieved with a cycle and probably using lapply
with a function, storing the index in an outer environment as

i <- 1
lapply(lst, FUN=function(x) {x + vec[i]; i <<- i + 1})

but are there any more cleaner solution?

Best regards,

Ott
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  9 18:17:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Sep 2002 17:17:20 +0100 (BST)
Subject: [R] lapply-related question
In-Reply-To: <200209091604.g89G4EX08235@localhost.localdomain>
Message-ID: <Pine.GSO.4.44.0209091715390.21251-100000@auk.stats>

On Mon, 9 Sep 2002, Ott Toomet wrote:

> Dear R-gurus,
>
> I would like to use a lapply on a kind of "bivariate" problem.  I have
> a vector and a list, components of which are vectors, e.g.
>
> vec <- c(1,2,3)
> lst <- list(1, c(2,3), c(4,5,6))
>
> I want to apply a function to each component of the list, using the
> corresponding component of the vector as a parameter.  E.g. I want a
> list in the form
>
> list(lst[[1]] + vec[1], lst[[2]] + vec[2], .... )
>
> I think this can be achieved with a cycle and probably using lapply
> with a function, storing the index in an outer environment as
>
> i <- 1
> lapply(lst, FUN=function(x) {x + vec[i]; i <<- i + 1})
>
> but are there any more cleaner solution?

Use

lapply(seq(along=lst).  function(i, vec, lst){body}, vec=vec, lst=lst)

using the index i in the body.

Or just use a for loop.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Mon Sep  9 18:46:17 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Mon, 9 Sep 2002 12:46:17 -0400 (EDT)
Subject: [R] getting variable names into formulas
Message-ID: <Pine.LNX.4.33.0209091215450.29740-100000@penguin.rand.org>

Hello,

I have a dataframe with several hundred variables.  I would like to
explore updates of some baseline lme fit by including each of some
subset of these variables, one at a time.  For various reasons it is
inconvenient to rely on the positions of the numbered columns in the
dataframe.  Here is what I want to do:

mod.baseline<-lme(fixed=foo,data=dat,random=bar)
for(thisvar in vars){
  <collect stuff from update(mod.baseline, ~ . ~ + thisvar)>
}

I have tried defining "vars" to be a vector of character strings
giving the names of the variables I want to use, and then using
"as.name(thisvar)" in the formula argument to update().  This doesn't
work (and might be embarrasingly naive).  What does seem to work is

"update(mod.baseline,. ~ . + dat[,which(names(dat)==thisvar)])"

but is not elegant and of only limited use because of the lack of
association with the variable name.

My question is whether there is a better way to do this, either with
"vars" as defined above or through some more clever definition.

Thanks to all for your consideration.

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep  9 18:56:38 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 09 Sep 2002 18:56:38 +0200
Subject: [R] getting variable names into formulas
References: <Pine.LNX.4.33.0209091215450.29740-100000@penguin.rand.org>
Message-ID: <3D7CD2C6.89728AF@statistik.uni-dortmund.de>



"J.R. Lockwood" wrote:
> 
> Hello,
> 
> I have a dataframe with several hundred variables.  I would like to
> explore updates of some baseline lme fit by including each of some
> subset of these variables, one at a time.  For various reasons it is
> inconvenient to rely on the positions of the numbered columns in the
> dataframe.  Here is what I want to do:
> 
> mod.baseline<-lme(fixed=foo,data=dat,random=bar)
> for(thisvar in vars){
>   <collect stuff from update(mod.baseline, ~ . ~ + thisvar)>
> }
> 
> I have tried defining "vars" to be a vector of character strings
> giving the names of the variables I want to use, and then using
> "as.name(thisvar)" in the formula argument to update().  This doesn't
> work (and might be embarrasingly naive).  What does seem to work is
> 
> "update(mod.baseline,. ~ . + dat[,which(names(dat)==thisvar)])"
> 
> but is not elegant and of only limited use because of the lack of
> association with the variable name.
> 
> My question is whether there is a better way to do this, either with
> "vars" as defined above or through some more clever definition.
> 
> Thanks to all for your consideration.

You are looking for get().

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Mon Sep  9 19:02:06 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Mon, 9 Sep 2002 13:02:06 -0400 
Subject: [R] lapply-related question
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFD1@MSGBOS576NTS.fmr.com>

I would just use lapply on the indices, e.g.:

lapply(1:length(lst), function(i) lst[[i]] + vec[i])

...which is essentially what you've done, except that lapply keeps track of
your "i".

Good luck.

Kevin

-----Original Message-----
From: Ott Toomet [mailto:siim at localhost.localdomain] 
Sent: Monday, September 09, 2002 12:04 PM
To: r-help at stat.math.ethz.ch
Subject: [R] lapply-related question


Dear R-gurus,

I would like to use a lapply on a kind of "bivariate" problem.  I have
a vector and a list, components of which are vectors, e.g.

vec <- c(1,2,3)
lst <- list(1, c(2,3), c(4,5,6))

I want to apply a function to each component of the list, using the
corresponding component of the vector as a parameter.  E.g. I want a
list in the form

list(lst[[1]] + vec[1], lst[[2]] + vec[2], .... )

I think this can be achieved with a cycle and probably using lapply
with a function, storing the index in an outer environment as

i <- 1
lapply(lst, FUN=function(x) {x + vec[i]; i <<- i + 1})

but are there any more cleaner solution?

Best regards,

Ott
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep  9 19:26:24 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Sep 2002 10:26:24 -0700 (PDT)
Subject: [R] getting variable names into formulas
In-Reply-To: <3D7CD2C6.89728AF@statistik.uni-dortmund.de>
Message-ID: <Pine.A41.4.44.0209091022420.115238-100000@homer12.u.washington.edu>

On Mon, 9 Sep 2002, Uwe Ligges wrote:
> "J.R. Lockwood" wrote:
> >
> > I have a dataframe with several hundred variables.  I would like to
> > explore updates of some baseline lme fit by including each of some
> > subset of these variables, one at a time.  For various reasons it is
> > inconvenient to rely on the positions of the numbered columns in the
> > dataframe.  Here is what I want to do:
> >
> > mod.baseline<-lme(fixed=foo,data=dat,random=bar)
> > for(thisvar in vars){
> >   <collect stuff from update(mod.baseline, ~ . ~ + thisvar)>
> > }
> >
> > I have tried defining "vars" to be a vector of character strings
> > giving the names of the variables I want to use, and then using
> > "as.name(thisvar)" in the formula argument to update().  This doesn't
> > work (and might be embarrasingly naive).  What does seem to work is
<snip>
> You are looking for get().
>
> Uwe Ligges

No, he isn't.

Putting variable names into formulas is harder because of the nonstandard
evaluation rules for formulas.  This should work:

 mod.baseline<-lme(fixed=foo,data=dat,random=bar)
 for(thisvar in vars){
   ##<collect stuff from update(mod.baseline, ~ . ~ + thisvar)>
   expr<-substitute(update(mod.baseline, ~ . ~ + newvar),
				list(newvar=as.name(thisvar))
   newmodel<-eval(expr)
 }


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Mon Sep  9 19:59:13 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee J Law)
Date: Mon, 9 Sep 2002 10:59:13 -0700
Subject: [R] reshape
Message-ID: <OF166CA165.6E3B1B5C-ON88256C2F.00627A39@pe-c.com>

Hi,

I have a problem using the function 'reshape' for the following dataset:

input:
X    Y    Z    T.U.1     T.U.2     T.V.1      T.V.2
1.00 1.00 A    24.94     24.74     34.65      35.33
1.00 3.00 A    26.03     25.87     25.76      26.12
1.00 1.00 B    24.76     24.63     34.34      34.48
1.00 3.00 B    26.15     25.98     25.96      25.66
2.00 1.00 A    24.40     24.26     34.55      36.53
2.00 4.00 A    24.55     24.40     35.52      39.61
2.00 1.00 B    25.00     24.76     35.32      36.67
2.00 4.00 B    25.96     25.70     26.00      25.62

target output:
X    Y    Z    T    Time W
1.00 1.00 A    U    1    24.94
1.00 1.00 A    U    2    24.74
1.00 1.00 A    V    1    34.65
1.00 1.00 A    V    2    35.33
1.00 3.00 A    U    1    26.03
1.00 3.00 A    U    2    25.87
1.00 3.00 A    V    1    25.76
1.00 3.00 A    V    2    26.12
1.00 1.00 B    U    1    24.76
1.00 1.00 B    U    2    24.63
1.00 1.00 B    V    1    34.34
1.00 1.00 B    V    2    34.48
1.00 3.00 B    U    1    26.15
1.00 3.00 B    U    2    25.98
1.00 3.00 B    V    1    25.96
1.00 3.00 B    V    2    25.66
2.00 1.00 A    U    1    24.40
2.00 1.00 A    U    2    24.26
2.00 1.00 A    V    1    34.55
2.00 1.00 A    V    2    36.53
2.00 4.00 A    U    1    24.55
2.00 4.00 A    U    2    24.40
2.00 4.00 A    V    1    35.52
2.00 4.00 A    V    2    39.61
2.00 1.00 B    U    1    25.00
2.00 1.00 B    U    2    24.76
2.00 1.00 B    V    1    35.32
2.00 1.00 B    V    2    36.67
2.00 4.00 B    U    1    25.96
2.00 4.00 B    U    2    25.70
2.00 4.00 B    V    1    26.00
2.00 4.00 B    V    2    25.62


There are more than 1 varying for the idvar (X, Y, Z) and there are two
variables
for the varying option (U, V). Any ideas how to use reshape for this
problem?
Thanks!

Jackie







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at msn.com  Mon Sep  9 20:30:58 2002
From: hammour at msn.com (hammour)
Date: Mon, 9 Sep 2002 14:30:58 -0400
Subject: [R] impulse response function
Message-ID: <000201c25830$5db717f0$05fcc043@lawrence>

Hi,
Is there a function in any of R-packages that can produce and plot the
impulse response function for any model..

Thank you
Ahmad Abu Hammour

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep  9 20:26:38 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Sep 2002 11:26:38 -0700 (PDT)
Subject: [R] reshape
In-Reply-To: <OF166CA165.6E3B1B5C-ON88256C2F.00627A39@pe-c.com>
Message-ID: <Pine.A41.4.44.0209091121260.115238-100000@homer12.u.washington.edu>

On Mon, 9 Sep 2002, Ngayee J Law wrote:

> Hi,
>
> I have a problem using the function 'reshape' for the following dataset:
>
> input:
> X    Y    Z    T.U.1     T.U.2     T.V.1      T.V.2
> 1.00 1.00 A    24.94     24.74     34.65      35.33
> 1.00 3.00 A    26.03     25.87     25.76      26.12
> 1.00 1.00 B    24.76     24.63     34.34      34.48
> 1.00 3.00 B    26.15     25.98     25.96      25.66
> 2.00 1.00 A    24.40     24.26     34.55      36.53
> 2.00 4.00 A    24.55     24.40     35.52      39.61
> 2.00 1.00 B    25.00     24.76     35.32      36.67
> 2.00 4.00 B    25.96     25.70     26.00      25.62
>
> target output:
> X    Y    Z    T    Time W
> 1.00 1.00 A    U    1    24.94
> 1.00 1.00 A    U    2    24.74
> 1.00 1.00 A    V    1    34.65
> 1.00 1.00 A    V    2    35.33
> 1.00 3.00 A    U    1    26.03
> 1.00 3.00 A    U    2    25.87
> 1.00 3.00 A    V    1    25.76
> 1.00 3.00 A    V    2    26.12
> 1.00 1.00 B    U    1    24.76
> 1.00 1.00 B    U    2    24.63
> 1.00 1.00 B    V    1    34.34
> 1.00 1.00 B    V    2    34.48
> 1.00 3.00 B    U    1    26.15
> 1.00 3.00 B    U    2    25.98
> 1.00 3.00 B    V    1    25.96
> 1.00 3.00 B    V    2    25.66
> 2.00 1.00 A    U    1    24.40
> 2.00 1.00 A    U    2    24.26
> 2.00 1.00 A    V    1    34.55
> 2.00 1.00 A    V    2    36.53
> 2.00 4.00 A    U    1    24.55
> 2.00 4.00 A    U    2    24.40
> 2.00 4.00 A    V    1    35.52
> 2.00 4.00 A    V    2    39.61
> 2.00 1.00 B    U    1    25.00
> 2.00 1.00 B    U    2    24.76
> 2.00 1.00 B    V    1    35.32
> 2.00 1.00 B    V    2    36.67
> 2.00 4.00 B    U    1    25.96
> 2.00 4.00 B    U    2    25.70
> 2.00 4.00 B    V    1    26.00
> 2.00 4.00 B    V    2    25.62
>
>
> There are more than 1 varying for the idvar (X, Y, Z) and there are two
> variables
> for the varying option (U, V). Any ideas how to use reshape for this
> problem?

The simplest way is to do it in two steps
Suppose the data are in data frame `a'
    b<-reshape(a,direction="long",
		varying=list(c("T.U.1","T.U.2"), c("T.V.1","T.V.2")),
		v.names=c("U","V"))
looks like
    X Y Z time     U     V id
1.1 1 1 A    1 24.94 34.65  1
2.1 1 3 A    1 26.03 25.76  2
3.1 1 1 B    1 24.76 34.34  3
4.1 1 3 B    1 26.15 25.96  4
5.1 2 1 A    1 24.40 34.55  5
6.1 2 4 A    1 24.55 35.52  6
7.1 2 1 B    1 25.00 35.32  7
8.1 2 4 B    1 25.96 26.00  8
1.2 1 1 A    2 24.74 35.33  1
2.2 1 3 A    2 25.87 26.12  2
3.2 1 1 B    2 24.63 34.48  3
4.2 1 3 B    2 25.98 25.66  4
5.2 2 1 A    2 24.26 36.53  5
6.2 2 4 A    2 24.40 39.61  6
7.2 2 1 B    2 24.76 36.67  7
8.2 2 4 B    2 25.70 25.62  8

Now, you want to reshape again, but specify that the time variable is
called "T", with values "U" and "V". You also want to drop the id
variable.


reshape(b[,-7],direction="long",
        varying=list(c("U","V")), v.names="W",
 	times=c("U","V"), timevar="T")

Again, you probably want to drop the `id' variable and if you care
about the order of rows, sort on X and Y.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tmurph6 at po-box.mcgill.ca  Tue Sep 10 00:56:24 2002
From: tmurph6 at po-box.mcgill.ca (Tanya Murphy)
Date: Mon, 9 Sep 2002 18:56:24 -0400
Subject: [R] Plots by subject
Message-ID: <3DA12421@webmail.mcgill.ca>

Hello! I need some help with creating plots for each study subject. I have 
tried the 'for' command as described in 'An Introduction to R', but I wasn't 
successful.

Here's what I want to do:
-Create and save the following overlayed scatterplots for each subject (1 to 
n).
-The data frame is in the form of one line per visit per subject (so more than 
one line per subject). (I thought this may be why the 'split' and 'for' 
functions didn't do it for me.)

This works one subject:

pt <- ID == '1'
par(oma=c(0,2,0,3))
plot(VISITWK[pt], T4[pt], ylim=c(0,500), xlim=c(0,50), xlab='Visit week', 
type='b', ylab='CD4 count (cells/ul) [-o-]')
par(new=T)
plot(VISITWK[pt], LOG.BDUS[pt], ylim=c(1,6), xlim=c(0,50), pch='+', axes=F, 
ylab='', type='b', xlab='', main='Viral load and CD4 for ID=1')
axis(4)
mtext("Viral load (log10) [-+-]",4, outer=T)
savePlot(filename='ID_1', type=c('pdf'))

Is there something like a macro variable that I can use in the plot arguments 
and in the title and filename (or at least some way to save all the plots)?

A second minor thing: the headings in the HTML help and R web pages show up as 
strange characters - any advice?

Thanks for your time!

Tanya

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 10 02:09:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Sep 2002 17:09:43 -0700 (PDT)
Subject: [R] Plots by subject
In-Reply-To: <3DA12421@webmail.mcgill.ca>
Message-ID: <Pine.A41.4.44.0209091705020.115238-100000@homer12.u.washington.edu>

On Mon, 9 Sep 2002, Tanya Murphy wrote:

> Hello! I need some help with creating plots for each study subject. I have
> tried the 'for' command as described in 'An Introduction to R', but I wasn't
> successful.
>
> Here's what I want to do:
> -Create and save the following overlayed scatterplots for each subject (1 to
> n).
> -The data frame is in the form of one line per visit per subject (so more than
> one line per subject). (I thought this may be why the 'split' and 'for'
> functions didn't do it for me.)
>
> This works one subject:
>
> pt <- ID == '1'
> par(oma=c(0,2,0,3))
> plot(VISITWK[pt], T4[pt], ylim=c(0,500), xlim=c(0,50), xlab='Visit week',
> type='b', ylab='CD4 count (cells/ul) [-o-]')
> par(new=T)
> plot(VISITWK[pt], LOG.BDUS[pt], ylim=c(1,6), xlim=c(0,50), pch='+', axes=F,
> ylab='', type='b', xlab='', main='Viral load and CD4 for ID=1')
> axis(4)
> mtext("Viral load (log10) [-+-]",4, outer=T)
> savePlot(filename='ID_1', type=c('pdf'))
>
> Is there something like a macro variable that I can use in the plot arguments
> and in the title and filename (or at least some way to save all the plots)?
>

It should work with a for() loop. It seems that your id variable is a
character string rather than a number, which might have been the problem
Something like:

for (patient in as.character(1:n)){
  pt <- ID == patient
  par(oma=c(0,2,0,3))
  plot(VISITWK[pt], T4[pt], ylim=c(0,500), xlim=c(0,50), xlab='Visit week',
  type='b', ylab='CD4 count (cells/ul) [-o-]')
  par(new=T)
  plot(VISITWK[pt], LOG.BDUS[pt], ylim=c(1,6), xlim=c(0,50), pch='+', axes=F,
  ylab='', type='b', xlab='', main=paste("Viral load and CD4 for ID=",patient))
  axis(4)
  mtext("Viral load (log10) [-+-]",4, outer=T)
  savePlot(filename=paste("ID",patient,sep="_"), type=c('pdf'))
}


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrchen at temple.edu  Tue Sep 10 03:50:36 2002
From: jrchen at temple.edu (jrchen)
Date: Mon, 9 Sep 2002 21:50:36 -0400
Subject: [R] Inquiry about codes for Time Series
Message-ID: <3D7EB588@smaug.ocis.temple.edu>

Hello, everyone:

I am a new learner of R. I need to finish a project for a graduate-level
course in Time Series this semester. I wonder where I could find some sample
codes ( besides the codes on the R Mannual and Programmer Guide)?

Any suggestion is highly appreciated. Thanks in advance.

Jingru Chen

Department of Statistics
Temple University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Sep 10 04:25:03 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 10 Sep 2002 14:25:03 +1200
Subject: [R] Inquiry about codes for Time Series
References: <3D7EB588@smaug.ocis.temple.edu>
Message-ID: <001001c25871$47a83570$082558db@kwan022>

Hi,

----- Original Message -----
From: "jrchen" <jrchen at temple.edu>
To: <r-help at stat.math.ethz.ch>
Cc: <jrchen at temple.edu>
Sent: Tuesday, September 10, 2002 1:50 PM
Subject: [R] Inquiry about codes for Time Series


> Hello, everyone:
>
> I am a new learner of R. I need to finish a project for a graduate-level
> course in Time Series this semester. I wonder where I could find some
sample
> codes ( besides the codes on the R Mannual and Programmer Guide)?
>


"Modern Applied Statistics with S" (4th Ed), by Venables and Ripley, is a
good start.  It has a chapter on Time Series.  However it was published in
July this year so your library may not have it yet.  If that is the case,
try "Modern Applied Statistics with S-plus", which is the 3rd edition.

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dominik.grathwohl at rdls.nestle.com  Tue Sep 10 08:25:14 2002
From: dominik.grathwohl at rdls.nestle.com (Grathwohl,Dominik,LAUSANNE,NRC/NT)
Date: Tue, 10 Sep 2002 08:25:14 +0200
Subject: [R] Error messages of nlme 
Message-ID: <89466355CEFE7244AC3A013E45641C18949506@lsmail2.crn.nestrd.ch>

Hello, everyone,

I would like to know the meaning of the error messages of nlme
in order to get converging fits. The application is a simple 
non-linear model to a dataset of increasing Apo B. 
I use:

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R

The non-linear function:

mu2 <- function(k, A, B0, t) {
	c0 <- exp(B0)
	i  <- exp(k)
	c1 <- exp(A)
	c0 * exp(-i*t) + c1/i * (1-exp(-i*t))
}

For example this error message:

> m2e.1 <- nlme(y ~ mu2(k, A, B0, t), data=thelp, 
+ fixed = list(k + A + B0 ~ 1),
+ random = list(id = B0 ~ 1, f = B0 ~ 1),
+ start=c(k=-1.7, A=0.86, B0=1.44))
Error: Singularity in backsolve at level 0, block 1

or:

> m2e.15 <- update(m2e.13, corr = corExp())
Error in as.vector(dist(1:length(x))) : couldn't find function "dist"

What have I to do to get proper fits? Nevertheless, I get some nice fits 
with other models. From my experience with this models, they are relatively 
robust against the choose of starting values. 
Can somebody explain me the meaning of the error messages?

Kind regards,

Dominik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Mon Sep  9 18:40:16 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Mon, 9 Sep 2002 18:40:16 +0200
Subject: [R] Function: VECM (Johansen)
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADE60@ibfftce505.is.de.dresdnerkb.com>

	      [message bounced because of "octet-stream" attachment which
	       are not allowed in our mailing lists;
	       manually fixed and approved, MM]


Dear R-list,

R: 1.5.1
OS: Windows NT
additional packages needed: tseries

for those of you who are interested, pls. find attached a function for
estimating VECM's by employing the method of Johansen (see for example:
Hamilton, "Time Series Analysis, Chapter 21").

Arguments:

y:		data matrix
adf:		logical, indicating wether Augmented-Dickey-Fuller Tests
should be calculated or not.
dtt:		logical, wether the data matrix y is governed by a
deterministic trend, too.
graph:	logical, diagram of fits (level and first differences of the y
series and impulse response 			functions).
pvar:		integer, how many lags the underlying VAR should have. Note,
the number of lags in the VECM is one 		order smaller than the
VAR-order is.
ira:		integer, number of periods for the impulse response
function.


Output:

ALPHA:	vector of constants.
PSI0:		Error-Correction-Matrix
PSI:		Array of matrices for the lagged differences of y.
OMEGA:	Variance/Covariance matrix.
ENDOG:	Matrix of endogenous variables (1st differences).
FITTEDD:	Fitted values in 1st differences.
FITTEDL:	Fitted values in levels.
IRA:		Array of Impulse Responses

Note, this function runs only in interactive mode: the user has to supply
the number cointegrating vectors after the function returns the trace and
rank statistic.
Note, for Non-Windows users adjust the lines:

if (file.access("graph_y1_L.jpg")==0)
      {
        system(paste("cmd /c cd ", getwd(), " && del /q *.jpg", sep=""))
      }

accordingly to your OS.
Any comments are appreciated.

Bernhard




 <<johann.R>>


If you have received this e-mail in error or wish to read our e-mail disclaimer
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/
or contact the sender

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: johann.R
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020909/98ebb733/johann.pl

From ken_lee at tynesys.com  Tue Sep 10 08:47:12 2002
From: ken_lee at tynesys.com (Ken Lee)
Date: Tue, 10 Sep 2002 14:47:12 +0800
Subject: [R] one question about title
In-Reply-To: <001001c25871$47a83570$082558db@kwan022>
Message-ID: <FFEKIEFDONDECJDODGDJOEBBCBAA.ken_lee@tynesys.com>

Dear all,
       Can I have any method to predict the cex.main to put title in the drawing area.
like :  title(main=title1,cex.main=cex)  ==> cex=f(nchar(title1)) 

Regard

ken 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mclements at nchecr.unsw.edu.au  Tue Sep 10 09:20:00 2002
From: Mclements at nchecr.unsw.edu.au (Mark Clements)
Date: Tue, 10 Sep 2002 17:20:00 +1000
Subject: [R] Hat values for generalized additive models
Message-ID: <571291F24AA3D511A66C0008C7288E2A9A4CDF@mail-gate.nchecr.unsw.EDU.AU>

Would anyone be able to provide insight for the following question, please?

Setting: estimation of prediction intervals for age-period-cohort models
using GAMs (rate ~ s(age,period))
Method: bootstrap (Davison and Hinkley, 1997)
Issue: standardisation of the residuals for resampling requires an
adjustment using the diagonals of the hat matrix.

Is there a simple way to get the hat values out of a GAM object? 

Looking through the code, I couldn't see anywhere where the hat matrix is
constructed. I tried the appended patch (against mgcv_0.8-1.tar.gz). This
returns sensible hat values for normal errors, however the hat values using
Poisson data don't look as good:

require(mgcv)
x=seq(0,1,length=1001)
mu=x

y=rnorm(1001,mu)
plot(gam(y~s(x))$hat,hat(glm(y~x)$qr))

y=rpois(1001,exp(mu))
plot(gam(y~s(x),family=poisson)$hat,hat(glm(y~x,family=poisson)$qr))


I realise that I could use a GLM to get the hat values, however that would
be clumsy. Any help would be appreciated.

Regards, Mark Clements.

(Apologies in advance for formatting etc. This is my first posting.)

diff -ur c:/usr/temp/work/mgcv/R/mgcv.r ./R/mgcv.r
--- c:/usr/temp/work/mgcv/R/mgcv.r	2002-05-17 03:04:26.000000000 +1000
+++ ./R/mgcv.r	2002-09-10 14:22:06.000000000 +1000
@@ -437,6 +437,7 @@
   edf<-array(0,m)       # estimated degrees of freedom
   ddiag<-array(0,3*m)   # array for diagonostics
   idiag<-array(0,3)     # array for diagnostics
+  hat<-array(0,n)       # array for diagnostics
   Vp[1,1]<-1.0
   M$gcv.ubre<-1.0;
   direct.mesh<-100      # number of points for overall s.p. initial direct
search
@@ -448,7 +449,8 @@
 
as.integer(n),as.integer(q),as.integer(C.r),as.double(M$sig2),as.double(Vp),
 
as.double(edf),as.double(M$conv.tol),as.integer(M$max.half),as.double(ddiag)
,
 
as.integer(idiag),as.double(sdiag),as.integer(direct.mesh),as.double(M$min.e
df),
-
as.double(M$gcv.ubre),as.double(M$target.edf),PACKAGE="mgcv")
+                 as.double(M$gcv.ubre),as.double(M$target.edf),
+         as.double(hat),PACKAGE="mgcv")
    
   p<-matrix(oo[[6]],q,1);
   sig2<-oo[[14]]
@@ -459,6 +461,7 @@
   idiag<-oo[[20]]
   sdiag<-oo[[21]]
   M$gcv.ubre<-oo[[24]]
+  M$hat <- oo[[26]]
 
conv<-list(edf=sdiag[1:direct.mesh],score=sdiag[direct.mesh+1:direct.mesh],g
=ddiag[1:m],h=ddiag[(m+1):(2*m)],
 
e=ddiag[(2*m+1):(3*m)],iter=idiag[1],init.ok=as.logical(idiag[2]),step.fail=
as.logical(idiag[3]))
   # unpack results back to correct place in output (which includes fixed
d.f. and free d.f. terms)
@@ -1247,7 +1250,7 @@
         null.deviance = nulldev, iter = iter, weights = wt, prior.weights =
weights, 
         #df.residual = resdf, 
         df.null = nulldf, y = y, converged = conv,sig2=G$sig2,edf=G$edf,
-        boundary = boundary,sp =
G$sp,df=G$df,nsdf=G$nsdf,Vp=G$Vp,mgcv.conv=G$conv,gcv.ubre=G$gcv.ubre)
+        boundary = boundary,sp =
G$sp,df=G$df,nsdf=G$nsdf,Vp=G$Vp,mgcv.conv=G$conv,gcv.ubre=G$gcv.ubre,
hat=G$hat)
 }
 
 
diff -ur c:/usr/temp/work/mgcv/src/mgcv.c ./src/mgcv.c
--- c:/usr/temp/work/mgcv/src/mgcv.c	2002-05-17 02:51:22.000000000 +1000
+++ ./src/mgcv.c	2002-09-10 15:47:55.000000000 +1000
@@ -619,7 +619,8 @@
           double *pd, double *sp,int *offd,int *dimd,int *md,
           int *nd,int *qd,int *rd,double *sig2d,double *Vpd,double *edf,
           double *conv_tol,int *ms_max_half,double *ddiag, int
*idiag,double *sdiag,
-          int *direct_mesh,double *min_edf,double *gcvubre,double
*target_edf)
+          int *direct_mesh,double *min_edf,double *gcvubre,double
*target_edf,
+	  double *hat)
 
 
 /* Solves :
@@ -781,6 +782,13 @@
       for (j=0;j<X.r;j++) for (k=off[i];k<off[i]+S[i].r;k++) 
       edf[i]+=X.M[j][k]*L.M[k][j];
     }
+    for (i=0;i<L.c;i++) 
+      { 
+	hat[i]=0.0;
+	for (j=0;j<L.r;j++)
+	  hat[i]+=X.M[i][j]*L.M[j][i]; 
+	  }
+    /*hat[0]=L.r; hat[1]=L.c; hat[2]=X.r; hat[3]=X.c;*/
     /* multiply Vp by estimated scale parameter so that it is proper
covariance matrix estimate */
     for (i=0;i<Vp.r;i++) for (j=0;j<Vp.c;j++) Vp.M[i][j] *= *sig2d;
     freemat(L);
diff -ur c:/usr/temp/work/mgcv/src/mgcv.h ./src/mgcv.h
--- c:/usr/temp/work/mgcv/src/mgcv.h	2002-05-09 03:18:28.000000000 +1000
+++ ./src/mgcv.h	2002-09-10 14:09:08.000000000 +1000
@@ -1,7 +1,7 @@
 void mgcv(double *yd,double *Xd,double *Cd,double *wd,double *Sd,
      double *pd, double *sp,int *offd,int *dimd,int *md,
      int *nd,int *qd,int *rd,double *sig2d, double *Vpd, double *edf,
double *conv_tol, int *ms_max_half,
-	 double *ddiag,int *idiag,double *sdiag, int *direct_mesh,double
*min_edf,double *gcvubre,double *target_edf);
+	 double *ddiag,int *idiag,double *sdiag, int *direct_mesh,double
*min_edf,double *gcvubre,double *target_edf, double *hat);
 void RGAMsetup(double *Xd,double *Cd,double *Sd,double *UZd,double *Xud,int
*xu,double *xpd,
              int *offd,double *xd,int  *md,int  *nd,int *dfd,int *nsdfd,int
*dim,int *s_type, int *p_order,
              int *by_exists, double *byd,double *knots, int *n_knots);
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Tue Sep 10 10:18:49 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Tue, 10 Sep 2002 10:18:49 +0200
Subject: [R] impulse response function
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADE63@ibfftce505.is.de.dresdnerkb.com>

Hello Ahmad,

you can use 'ar.ols' from the package 'ts'. Save the residual matrix, do the
orthogonalization and calculate the impulse response matrices recursively as
an array. You can then easily retrieve the impulse responses and plot them:

VAR <- ar.ols('your data', aic=F,demean=F, intercept=T, order=4) 
res <- VAR$resid
res <- na.omit(res)
sig <- var(res)
A <- t(chol(sig))
I <- diag(3)
A <- lower.tri(A)*A+I
# performing Choleski decomp above and setting main diagnols to 1, i.e. unit
shocks
#
ID <- diag(K)
NM <- matrix(0,nrow=K,ncol=K*pvar)
B <- array(NA, c(K,K,ira))
# defining identity and null matrix for ira to calculate in for loop (K:
number of variables in var, ira: number of periods for ira, pvar: number of
lags in var
#
tmp <- cbind(ID,NM)[1:K,1:(K*pvar)]
for(i in 1:ira)
    {
      tmpB <- tmp%*%Dstack
      tmp <- cbind(tmpB,tmp)[1:K,1:(K*pvar)]
      B[,,i] <- tmpB%*%A
    }  
# Generating and saving the bar plots
#
for(i in 1:K)
      {
        for(j in 1:K)
          {
            jpeg(filename=paste("ira_y",i,"_on_y",j,".jpg",sep=""))
 
barplot(B[j,i,],col="seagreen",names.arg=c(1:ira),main="Orthogonal Impulse
Response",sub=paste("Unit shock in y",i," on y",j, sep="" ))
           dev.off()
         }
      }

See also my Email sent out yesterday concerning VECM and ira (subject:
Function: VECM (Johansen). 

Rgds,
Bernhard

-----Original Message-----
From: hammour [mailto:hammour at msn.com]
Sent: 09 September 2002 20:31
To: R-help at stat.math.ethz.ch
Subject: [R] impulse response function


Hi,
Is there a function in any of R-packages that can produce and plot the
impulse response function for any model..

Thank you
Ahmad Abu Hammour

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue Sep 10 11:18:03 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 10 Sep 2002 10:18:03 +0100 (BST)
Subject: [R] Hat values for generalized additive models
In-Reply-To: <571291F24AA3D511A66C0008C7288E2A9A4CDF@mail-gate.nchecr.unsw.EDU.AU>
Message-ID: <Pine.GSO.4.21.0209101014340.13119-100000@dolphin>

> Is there a simple way to get the hat values out of a GAM object? 
>
- No, but there ought to be and I'll get on to it.
 
> Looking through the code, I couldn't see anywhere where the hat matrix is
> constructed. I tried the appended patch (against mgcv_0.8-1.tar.gz). This
> returns sensible hat values for normal errors, however the hat values using
> Poisson data don't look as good:
- Your patch looks to be doing the right thing to me, but I've not tried
running it yet. I'll try it out some time today.

Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue Sep 10 12:11:05 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 10 Sep 2002 11:11:05 +0100 (BST)
Subject: [R] Hat values for generalized additive models
In-Reply-To: <571291F24AA3D511A66C0008C7288E2A9A4CDF@mail-gate.nchecr.unsw.EDU.AU>
Message-ID: <Pine.GSO.4.21.0209101051020.13119-100000@dolphin>

> Is there a simple way to get the hat values out of a GAM object? 
>
- I'll put out a patch release (0.8-3) which will provide these, soon.
 
> Looking through the code, I couldn't see anywhere where the hat matrix is
> constructed. I tried the appended patch (against mgcv_0.8-1.tar.gz). This
> returns sensible hat values for normal errors, however the hat values using
> Poisson data don't look as good:
- When I try this the hat values look fine to me. As the degree of
smoothing is relaxed in gam(), so that you move away from fitting a glm to
fitting a smooth, then the hat matrix becomes different to the hat matrix
for the glm. In the Poisson example given below, slightly more than 1
degree of freedom is often selected for the smooth, so you'd expect the
hat matrix elements to differ from those of a straight line fit to the
same data (from 0.8-2, you can set the smoothing parameters "by hand" to
examine this).

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


> require(mgcv)
> x=seq(0,1,length=1001)
> mu=x
> 
> y=rnorm(1001,mu)
> plot(gam(y~s(x))$hat,hat(glm(y~x)$qr))
> 
> y=rpois(1001,exp(mu))
> plot(gam(y~s(x),family=poisson)$hat,hat(glm(y~x,family=poisson)$qr))


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Tue Sep 10 14:35:15 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Tue, 10 Sep 2002 08:35:15 EDT
Subject: [R] Problems with rbind
Message-ID: <191.cea1782.2aaf4103@aol.com>

Dear list

I have a simple question that I have a mental block on:

Having used a loop (from i = 1 to n) to assign some numerical values to 
row.list[[i]]
e.g. row.list[[3]]= 0 1
I am wanting to combine the output into a simple matrix.

for example, if I combine the output from persons 1 to 3 into a matrix, I 
thought I could do :
h<-rbind(row.list[[1]]:row.list[[3]])

However, I get the errors:
1: Numerical expression has 2 elements: only the first used in: 
row.list[[1]]:row.list[[3]] 

Yet if I did this by using h<
-rbind(row.list[[1]],row.list[[2]],row.list[[3]]), this would work.

Could anybody explain how I can combine large values of the vectors (i.e. by 
using :) without resorting to having to write out each one in the command?

Many thanks 
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Tue Sep 10 14:53:50 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 10 Sep 2002 13:53:50 +0100
Subject: [R] Problems with rbind
References: <191.cea1782.2aaf4103@aol.com>
Message-ID: <3D7DEB5E.4B3EFC9E@durham.ac.uk>

Bayesianbay at aol.com wrote:
> 
> Dear list
> 
> I have a simple question that I have a mental block on:
> 
> Having used a loop (from i = 1 to n) to assign some numerical values to
> row.list[[i]]
> e.g. row.list[[3]]= 0 1
> I am wanting to combine the output into a simple matrix.
> 
> for example, if I combine the output from persons 1 to 3 into a matrix, I
> thought I could do :
> h<-rbind(row.list[[1]]:row.list[[3]])
> 
> However, I get the errors:
> 1: Numerical expression has 2 elements: only the first used in:
> row.list[[1]]:row.list[[3]]
> 
> Yet if I did this by using h<
> -rbind(row.list[[1]],row.list[[2]],row.list[[3]]), this would work.
> 
> Could anybody explain how I can combine large values of the vectors (i.e. by
> using :) without resorting to having to write out each one in the command?

I think you may want 

	do.call("rbind", row.list)

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Tue Sep 10 15:04:11 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Tue, 10 Sep 2002 15:04:11 +0200 (MEST)
Subject: [R] Problems with rbind
In-Reply-To: <191.cea1782.2aaf4103@aol.com>
Message-ID: <XFMail.020910150411.theis@statistik.uni-dortmund.de>

Dear Laura,

if all your vectors are of the same length, you can simply make a data.frame
from your list and then you can easily construct submatrices by the usual
subsetting methods. E.g.:

data <- as.data.frame(row.list) 
 # Here you have a data.frame with your rows as variables
h <- as.matrix(t(data[,1:3])) 
 # this should be the matrix you wanted in your example

But if you need your data as matrix, you might like to construct it straight
away:

mat <- matrix(nrow=n,ncol=k)
for(i in 1:n) mat[i,]<-rnorm(k)

Hope this helps,

Winfried

---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 10-Sep-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Tue Sep 10 15:45:29 2002
From: jday at csi-inc.com (John Day)
Date: Tue, 10 Sep 2002 09:45:29 -0400
Subject: [R] Histogram Ranking
In-Reply-To: <4.3.2.7.0.20020906141719.02f3fb10@mail.csi-inc.com>
Message-ID: <4.3.2.7.0.20020910091328.035ae088@mail.csi-inc.com>

Dear all,

I received no response to this, which indicates that perhaps I didn't 
express myself clearly. Let me be a little more formal and try again:

Let C be a classification problem where we are trying to classify a set of 
N features F=(f1,f2,...fN) into a small set of M classes T=(t1,t2,...,tM).

We want to learn the classification rules from the distributions of the 
values of F. Suppose we have a large number of labelled samples 
SF=(sf1,sf2,...sfN,t), where the sf's are feature values and t is the 
"ground truth" for that sample.

Then we can construct a sample histograms by class:
hk = (h1k, h2k, ... hNk) for t=1..M where hjk is count of feature j for class k

If the samples are random and unbiased then they constitute an 
approximation of the conditional probabliity distributions for each class. 
My idea is that these histograms can be viewed as points in a metric space 
and ranked by computing their euclidean distance from each other, after 
normalizing them so that each histogram has a probability of 1.

For example: let h1 and h2 be two histograms of feature counts for classes 
1 and 2 for a feature set with 6 features:
 > h1<-c(1,3,5,6,7,8)
 > h2<-c(4,6,4,6,7,9)

Normalize and compute the metric:
 > n1=h1/sum(h1)
 > n2=h2/sum(h2)
 > sqrt(sum((n1-n2)^2))

By adjusting the bin sizes we can probe how well the class concepts can be 
generalized. That is, if the metric is non-zero only when the binsize is 1, 
then the problem cannot be generalized. The size of the metric is roughly 
the "predictive juice" contained in the conditional distributions.

Yes, it's extremely simplistic, but I have found that this metric is useful 
for measuring how effectively features support a classification scheme.  Is 
this a well-known procedure? Is it sound assuming good samples? Are there 
procedures in R to support this kind of analysis?

Or is there a much better way to rank the "goodness" of a feature set?

Thanks,
John Day

At 02:30 PM 9/6/2002 -0400, I wrote:
>Hello,
>
>This is not exactly an R question, but I suspect that there is an R 
>procedure that does what I am calling (for lack of a better name) 
>"histogram ranking".
>
>I'm trying to evaluate a set of regression features by segregating by 
>target class and comparing the feature histograms. My idea is that if the 
>histograms are the same for two different classes then there is no 
>predictive power in those features. Conversely, if the histograms are 
>different then there is probably some predictive "juice" that we can 
>squeeze out of the features with regression.
>
>The histograms are computing by partitioning  the features into equally 
>spaced bins over their spans and counting the sample values in each bin 
>that corresponds to that partition of feature space. This is done for each 
>target class, so the resulting histograms are the features distributions 
>conditioned by target class.
>
>Since the histograms are numeric vectors, we can measure the "goodness" of 
>a feature set by evaluating the "distance" between histograms. The bigger 
>the better etc.
>
>Now I'm no statistics expert. Have I re-invented some "wheel" here? What 
>is the canonical name for this kind of analysis? Is this kind of analysis 
>routinely done in R? [Is there a "better" way to do all this?]
>
>Thanks,
>John Day




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laroche at odin.mdacc.tmc.edu  Tue Sep 10 16:08:18 2002
From: laroche at odin.mdacc.tmc.edu (Sylvain Laroche)
Date: Tue, 10 Sep 2002 09:08:18 -0500 (CDT)
Subject: [R] R on Jaguar?
Message-ID: <Pine.OSF.4.33.0209100902170.47410-100000@odin.mdacc.tmc.edu>

Hello,

   I am trying to use R on a Mac running Mac OS X 10.2 (Jaguar)
(installed from the Mac OS X/Darwin/X11 binaries on CRAN), but i get the
following errors when I start it:

dyld: /usr/local/lib/R/bin/R.bin Undefined symbols:
/sw/lib/libreadline.4.2.dylib undefined reference to _tgoto expected to be
defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tputs expected to be
defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetent expected to
be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetflag expected to
be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetnum expected to
be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetstr expected to
be defined in /usr/lib/libSystem.B.dylib
Trace/BPT trap

I suspect this is due to some change in the libraries Apple uses in 10.2,
but since i'm not a programmer, i have no clue what can be done.  Does
anyone have any suggestions for getting R to work on Jaguar, or know of
binaries that would be available?  I have tried fink, but it fails to get
the f2c, so the R install fails.

Thanks

Sylvain Laroche
Department of Biostatistics
M.D. Anderson Cancer Center
Houston, TX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demolomb at ensam.inra.fr  Tue Sep 10 16:21:08 2002
From: demolomb at ensam.inra.fr (demolombe)
Date: Tue, 10 Sep 2002 16:21:08 +0200
Subject: [R] adding a method to a class
Message-ID: <200209101619.g8AGJn326122@ensam.inra.fr>

Hello,

I don't see how to add a method to a class.
I can add "slots" (and retreive them by : myObject at slot1)
but not methods, for example accessor for these slots
and others functions.

I've read the "methods" library documentation but I can't figure out how to
do this.
Thanks for any help/tips
Vincent


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Sep 10 17:10:05 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 10 Sep 2002 12:10:05 -0300 (ADT)
Subject: [R] Readline problem.
Message-ID: <200209101510.MAA20735@gelfand.math.unb.ca>


This question relates, at least vaguely, to recent postings
from me concerning my attempts to build R-1.5.1 under Solaris 2.7.

I've more or less given up on this, and I and a colleague are
attempting to build R-1.5.1 on another machine in our Department,
and are getting a ***different*** problem.

Version details:
platform sparc-sun-solaris2.9
arch     sparc               
os       solaris2.9          
system   sparc, solaris2.9   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R

The ``other'' machine is relatively new and is running Solaris 2.9.
It has just had gcc version 3.2 installed on it.  It also has just
had the readline package installed on it.

But when we do ./configure, we get errors of the following form.
(These lines are copied and pasted from config.log):

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
configure:10914: checking for rl_callback_read_char in -lreadline
configure:10947: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lreadline  -ldl -ltermcap -lm  >&5
cc1: warning: changing search order for system directory "/usr/local/include"
cc1: warning:   as it has already been specified as a non-system directory
ld: fatal: symbol `__dso_handle' is multiply-defined:
        (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crtbegin.o and file /usr/local/lib/libreadline.so);
ld: fatal: symbol `_init' is multiply-defined:
        (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crti.o and file /usr/local/lib/libreadline.so);
ld: fatal: symbol `_start' is multiply-defined:
        (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crt1.o and file /usr/local/lib/libreadline.so);
ld: fatal: symbol `_fini' is multiply-defined:
        (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crti.o and file /usr/local/lib/libreadline.so);
ld: fatal: symbol `_lib_version' is multiply-defined:
        (file /usr/ccs/lib/values-Xa.o and file /usr/local/lib/libreadline.so);
ld: warning: symbol `_siguhandler' has differing sizes:
        (file /usr/local/lib/libreadline.so value=0xb8; file /usr/lib/libc.so value=0xbc);
        /usr/local/lib/libreadline.so definition taken
ld: fatal: File processing errors. No output written to conftest
collect2: ld returned 1 exit status
===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

If we proceed on to ``make'' and ``make check'' everything appears to
go OK, and R-1.5.1 gets made, except that command line editing is not
available.  Naturally, since the readline facility is not working.
(Since readline/command line editing is not available, savehistory()
doesn't work either.)

Can anyone give me any idea as to why we are getting these ``multiply
defined'' symbols, and what we can do about it?  Please be as
simplistic as you can!  The intricacies of compilers and ld are
pretty mysterious to us.

As far as we can discern, gcc and readline were installed in a
completely standard way, so we have no idea why these hiccups
are occurring.

Thanks for any advice/wisdom/insight that anyone can give.

				cheers,

					Rolf Turner
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Sep 10 17:23:02 2002
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 10 Sep 2002 11:23:02 -0400
Subject: [R] adding a method to a class
In-Reply-To: <200209101619.g8AGJn326122@ensam.inra.fr>; from demolomb@ensam.inra.fr on Tue, Sep 10, 2002 at 04:21:08PM +0200
References: <200209101619.g8AGJn326122@ensam.inra.fr>
Message-ID: <20020910112302.S28055@jimmy.harvard.edu>

On Tue, Sep 10, 2002 at 04:21:08PM +0200, demolombe wrote:
> Hello,
> 
> I don't see how to add a method to a class.
> I can add "slots" (and retreive them by : myObject at slot1)
> but not methods, for example accessor for these slots
> and others functions.

 You don't really add methods to a class. The system separates methods
 from classes. On the method side, you first define a generic function
 and then define some methods based on that.

 A simple example (a queue class)
setClass("xQueue",
   representation(env = "environment",
                  type = "character"))

##define a method for an existing generic
setMethod("initialize", "xQueue", function(.Object, type="fifo") {
     e1<-new.env(hash=TRUE)
     assign("stack", vector("list", length=0), env=e1)
     .Object at env=e1
     .Object at type=type
     .Object})

##define my own generic
setGeneric("push", function(object,value) standardGeneric("push"))

##define my method
setMethod("push", signature(object="xQueue", value="ANY"),
       function(object, value ) {
        st <- get("stack", env=object at env) 
        if (object at type=="fifo")
            assign("stack", c(st, value), env=object at env)
        else if (object at type=="lifo")
            assign("stack",  c(value, st), env=object at env)
        return(invisible(value))
       })

And, an example
> x<-new("xQueue")
> x
An object of class "xQueue"
Slot "env":
<environment: 0x8d712c0>

Slot "type":
[1] "fifo"

> push(x, "10")

--writing pop is simple, but left for the reader


> Thanks for any help/tips
> Vincent
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B20
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 10 17:32:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Sep 2002 17:32:06 +0200
Subject: [R] Readline problem.
In-Reply-To: <200209101510.MAA20735@gelfand.math.unb.ca>
References: <200209101510.MAA20735@gelfand.math.unb.ca>
Message-ID: <x2lm69uah5.fsf@biostat.ku.dk>

Rolf Turner <rolf at math.unb.ca> writes:

> This question relates, at least vaguely, to recent postings
> from me concerning my attempts to build R-1.5.1 under Solaris 2.7.
...
> But when we do ./configure, we get errors of the following form.
> (These lines are copied and pasted from config.log):
> 
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> configure:10914: checking for rl_callback_read_char in -lreadline
> configure:10947: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -lreadline  -ldl -ltermcap -lm  >&5
> cc1: warning: changing search order for system directory "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system directory
> ld: fatal: symbol `__dso_handle' is multiply-defined:
>         (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crtbegin.o and file /usr/local/lib/libreadline.so);
> ld: fatal: symbol `_init' is multiply-defined:
>         (file /usr/local/lib/gcc-lib/sparc-sun-solaris2.9/3.2/crti.o
> and file /usr/local/lib/libreadline.so);

Hm? I wouldn't expect to find those symbols in a dynamic library, and
readline hasn't come in dynamic form previously (I have only
libreadline.a). Where did you get it from?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Tue Sep 10 17:33:37 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue, 10 Sep 2002 08:33:37 -0700
Subject: [R] R on Jaguar?
In-Reply-To: <Pine.OSF.4.33.0209100902170.47410-100000@odin.mdacc.tmc.edu>
Message-ID: <ACEE8911-C4D2-11D6-8454-000393860F3C@stat.ucla.edu>

either reinstall readline from fink, or download libreadline from
ftp://gifi.stat.ucla.edu/pub and unpack it in /sw/lib (and perhaps
make a link "ls -s libreadline.4.3.dylib libreadline.4.2.dylib").

On Tuesday, September 10, 2002, at 07:08 AM, Sylvain Laroche wrote:

> Hello,
>
>    I am trying to use R on a Mac running Mac OS X 10.2 (Jaguar)
> (installed from the Mac OS X/Darwin/X11 binaries on CRAN), but i get  
> the
> following errors when I start it:
>
> dyld: /usr/local/lib/R/bin/R.bin Undefined symbols:
> /sw/lib/libreadline.4.2.dylib undefined reference to _tgoto expected  
> to be
> defined in /usr/lib/libSystem.B.dylib
> /sw/lib/libreadline.4.2.dylib undefined reference to _tputs expected  
> to be
> defined in /usr/lib/libSystem.B.dylib
> /sw/lib/libreadline.4.2.dylib undefined reference to _tgetent expected  
> to
> be defined in /usr/lib/libSystem.B.dylib
> /sw/lib/libreadline.4.2.dylib undefined reference to _tgetflag  
> expected to
> be defined in /usr/lib/libSystem.B.dylib
> /sw/lib/libreadline.4.2.dylib undefined reference to _tgetnum expected  
> to
> be defined in /usr/lib/libSystem.B.dylib
> /sw/lib/libreadline.4.2.dylib undefined reference to _tgetstr expected  
> to
> be defined in /usr/lib/libSystem.B.dylib
> Trace/BPT trap
>
> I suspect this is due to some change in the libraries Apple uses in  
> 10.2,
> but since i'm not a programmer, i have no clue what can be done.  Does
> anyone have any suggestions for getting R to work on Jaguar, or know of
> binaries that would be available?  I have tried fink, but it fails to  
> get
> the f2c, so the R install fails.
>
> Thanks
>
> Sylvain Laroche
> Department of Biostatistics
> M.D. Anderson Cancer Center
> Houston, TX
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-help mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From panichak at eden.rutgers.edu  Tue Sep 10 17:52:30 2002
From: panichak at eden.rutgers.edu (Karnchana Panichakarn)
Date: Tue, 10 Sep 2002 11:52:30 -0400 (EDT)
Subject: No subject
Message-ID: <Pine.SOL.4.44.0209101148260.19302-100000@er6.rutgers.edu>

Hi,

>From my understanding, "R" is an application on UNIX
but I'd like to run its Windows version instead.
I'd like to know exactly what kinds of machines I need
as a minimum to run "R". Could you please help me on
the specs?

Thank you very much for you kind assistance.

karnchana







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laroche at odin.mdacc.tmc.edu  Tue Sep 10 18:37:55 2002
From: laroche at odin.mdacc.tmc.edu (Sylvain Laroche)
Date: Tue, 10 Sep 2002 11:37:55 -0500 (CDT)
Subject: [R] R on Jaguar?
In-Reply-To: <ACEE8911-C4D2-11D6-8454-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.OSF.4.33.0209101114130.70186-100000@odin.mdacc.tmc.edu>

Thanks for your reply.  Unfortunately, doing "fink install readline"
fails also.  from the end part of the output (below), you can see that
it's complaining of some of the same things missing as when i try to run
R.  maybe the compiling options need to be different?

the gifi ftp server is not currently responding; i'll try again later.
is the readlib there compiled for Jaguar?

Here's the end part of the output from fink:

ld: Undefined symbols:
restFP
saveFP
_tgoto
_tputs
_tgetent
_tgetflag
_tgetnum
_tgetstr
/usr/bin/libtool: internal link edit command failed
make[1]: *** [libreadline.4.2.dylib] Error 1
make: [install] Error 2 (ignored)
...

###  failed, exit code 1
Failed: installing readline-shlibs-4.2a-4 failed


On Tue, 10 Sep 2002, Jan de Leeuw wrote:

> either reinstall readline from fink, or download libreadline from
> ftp://gifi.stat.ucla.edu/pub and unpack it in /sw/lib (and perhaps
> make a link "ls -s libreadline.4.3.dylib libreadline.4.2.dylib").
>
> On Tuesday, September 10, 2002, at 07:08 AM, Sylvain Laroche wrote:
>
> > Hello,
> >
> >    I am trying to use R on a Mac running Mac OS X 10.2 (Jaguar)
> > (installed from the Mac OS X/Darwin/X11 binaries on CRAN), but i get
> > the
> > following errors when I start it:
> >
> > dyld: /usr/local/lib/R/bin/R.bin Undefined symbols:
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tgoto expected
> > to be
> > defined in /usr/lib/libSystem.B.dylib
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tputs expected
> > to be
> > defined in /usr/lib/libSystem.B.dylib
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tgetent expected
> > to
> > be defined in /usr/lib/libSystem.B.dylib
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tgetflag
> > expected to
> > be defined in /usr/lib/libSystem.B.dylib
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tgetnum expected
> > to
> > be defined in /usr/lib/libSystem.B.dylib
> > /sw/lib/libreadline.4.2.dylib undefined reference to _tgetstr expected
> > to
> > be defined in /usr/lib/libSystem.B.dylib
> > Trace/BPT trap
> >
> > I suspect this is due to some change in the libraries Apple uses in
> > 10.2,
> > but since i'm not a programmer, i have no clue what can be done.  Does
> > anyone have any suggestions for getting R to work on Jaguar, or know of
> > binaries that would be available?  I have tried fink, but it fails to
> > get
> > the f2c, so the R install fails.
> >
> > Thanks
> >
> > Sylvain Laroche
> > Department of Biostatistics
> > M.D. Anderson Cancer Center
> > Houston, TX
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 10 19:53:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Sep 2002 10:53:56 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <Pine.SOL.4.44.0209101148260.19302-100000@er6.rutgers.edu>
Message-ID: <Pine.A41.4.44.0209101045070.101926-100000@homer23.u.washington.edu>

On Tue, 10 Sep 2002, Karnchana Panichakarn wrote:

> Hi,
>
> From my understanding, "R" is an application on UNIX
> but I'd like to run its Windows version instead.
> I'd like to know exactly what kinds of machines I need
> as a minimum to run "R". Could you please help me on
> the specs?

R will run on essentially any Windows machine you are likely to have
(there are people running it in 8Mb memory, though it works much better
with more than that), on Windows 95 or later. You don't need anything else
(though if you want to link it to Tcl/Tk you need Tcl/Tk).

It will run on MacOS 8.6 or later (including OS X). Again, you don't need
anything else.

You can compile it for essentially any Unix-like operating system. You
need C and Fortran compilers and Perl.

The best place to find this information is on CRAN (http://cran.r-project.org),
where you can download binaries and sources. You might also like to look
at the `R Administration and Installation Manual', under "Manual" on CRAN.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Sep 10 21:32:45 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 10 Sep 2002 14:32:45 -0500
Subject: [R] capturing the result of print in a variable?
Message-ID: <87elc1r676.fsf@lumen.indyrad.iupui.edu>

I'd like to capture the results of a print() command so that I
can put the results in a tktext widget.  I know I can redirect
the output to a file with sink.  I'm looking for something like
that, but where I can redirect the output into a variable.  Is
there a way to do that?

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 10 21:45:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Sep 2002 12:45:23 -0700 (PDT)
Subject: [R] capturing the result of print in a variable?
In-Reply-To: <87elc1r676.fsf@lumen.indyrad.iupui.edu>
Message-ID: <Pine.A41.4.44.0209101245020.101926-100000@homer23.u.washington.edu>

On 10 Sep 2002, Michael A. Miller wrote:

> I'd like to capture the results of a print() command so that I
> can put the results in a tktext widget.  I know I can redirect
> the output to a file with sink.  I'm looking for something like
> that, but where I can redirect the output into a variable.  Is
> there a way to do that?
>
Look at textConnection

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 10 22:30:42 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Sep 2002 22:30:42 +0200
Subject: [R] capturing the result of print in a variable?
In-Reply-To: <87elc1r676.fsf@lumen.indyrad.iupui.edu>
References: <87elc1r676.fsf@lumen.indyrad.iupui.edu>
Message-ID: <x2ofb5egel.fsf@biostat.ku.dk>

mmiller3 at iupui.edu (Michael A. Miller) writes:

> I'd like to capture the results of a print() command so that I
> can put the results in a tktext widget.  I know I can redirect
> the output to a file with sink.  I'm looking for something like
> that, but where I can redirect the output into a variable.  Is
> there a way to do that?

You can sink() to a textConnection. I might prefer just to use a
temporary file, though...

t<-textConnection("xxx","w")
sink(t)
ls("package:base")
sink()
library(tcltk)
tkpack(txt<-tktext(tt<-tktoplevel()))
tkinsert(txt, "end", (paste(xxx,"\n",collapse="")))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Sep 10 22:31:09 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 11 Sep 2002 08:31:09 +1200
Subject: [R] Re: 
References: <Pine.SOL.4.44.0209101148260.19302-100000@er6.rutgers.edu>
Message-ID: <004101c25909$006e6dd0$462758db@kwan022>


----- Original Message -----
From: "Karnchana Panichakarn" <panichak at eden.rutgers.edu>
To: <r-help at stat.math.ethz.ch>
Cc: <karnchana at rutcor.rutgers.edu>
Sent: Wednesday, September 11, 2002 3:52 AM


> Hi,
>
> From my understanding, "R" is an application on UNIX

A misunderstanding I think,  R exist on Windows, as well as Macs.

> but I'd like to run its Windows version instead.
> I'd like to know exactly what kinds of machines I need
> as a minimum to run "R". Could you please help me on
> the specs?

Have a look on http://cran.r-project.org/ . Click on the hyperlink that says
"Windows (95 and later)".  Then click on "base", and download SetupR.exe.

For a detailed explanations on R for Windows, please visit my homepage at
http://www.stat.auckland.ac.nz/~kwan022/rinfo.php

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Sep 10 23:05:54 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 10 Sep 2002 17:05:54 -0400
Subject: [R] capturing the result of print in a variable?
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CF27@groexmb02.pfizer.com>


Here are two small functions that I've been using lately.  They show how to
use textConnection to capture printed output:

texteval <- function( sourceText, collapse=NULL, echo=TRUE )
  {
    sourceConn <- textConnection(sourceText, open="r")
    resultConn <- textConnection("resultText", open="w")
    sink(resultConn)
    tmp <- source(file=sourceConn, local=FALSE, echo=echo, print.eval=TRUE)
    sink()
    close(resultConn)
    close(sourceConn)
    return( paste(c(resultText, collapse), collapse=collapse) )
    # the reason for c(result, collapse) is so that we get the line
    # terminator on the last line of output.  Otherwise, it just shows up
    # between the lines.
  }

printed <- function( sourceText, collapse=NULL )
  {
    return( texteval(sourceText, collapse, FALSE) )
  }


For example:

> printed(" x <- rnorm(100); y <- rnorm(100); print(summary( lm( y ~ x )))"
)
 [1] ""                                                            
 [2] "Call:"                                                       
 [3] "lm(formula = y ~ x)"                                         
 [4] ""                                                            
 [5] "Residuals:"                                                  
 [6] "    Min      1Q  Median      3Q     Max "                    
 [7] "-2.4206 -0.7519  0.1062  0.7153  2.3810 "                    
 [8] ""                                                            
 [9] "Coefficients:"                                               
[10] "            Estimate Std. Error t value Pr(>|t|)"            
[11] "(Intercept)  0.09799    0.10745   0.912    0.364"            
[12] "x           -0.00171    0.11397  -0.015    0.988"            
[13] ""                                                            
[14] "Residual standard error: 1.074 on 98 degrees of freedom"     
[15] "Multiple R-Squared: 2.298e-06,\tAdjusted R-squared: -0.0102 "
[16] "F-statistic: 0.0002252 on 1 and 98 DF,  p-value: 0.988 "     
[17] ""                                                            


-Greg




> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Tuesday, September 10, 2002 3:45 PM
> To: Michael A. Miller
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] capturing the result of print in a variable?
> 
> 
> On 10 Sep 2002, Michael A. Miller wrote:
> 
> > I'd like to capture the results of a print() command so that I
> > can put the results in a tktext widget.  I know I can redirect
> > the output to a file with sink.  I'm looking for something like
> > that, but where I can redirect the output into a variable.  Is
> > there a way to do that?
> >
> Look at textConnection
> 
> 	-thomas
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Sep 10 23:33:25 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 10 Sep 2002 23:33:25 +0200
Subject: [R] Get the value of 'save' from quit() in .Last()
Message-ID: <KKEGJOGBELBHDIKPINBMGEIOCPAA.hb@maths.lth.se>

Hi, is there a way to check the value of argument 'save' in quit() from
within .Last() in my package. I would like to be able to save() an
environment if quit("yes") was called and otherwise not.

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Tue Sep 10 23:50:30 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee J Law)
Date: Tue, 10 Sep 2002 14:50:30 -0700
Subject: [R] print
Message-ID: <OF698BA104.1B44C258-ON88256C30.00770B2D@pe-c.com>

Hi all,

Suppose I have a vector
Fruits <- c('Apple','Orange','Pear','Banana','Mango')

I want to print the statement
"The fruits in the basket are: Apple, Orange, Pear, Banana, Mango"

If I do:
print(paste('The fruits in the basket are:',Fruits))

The output is:
[1] "The fruits in the basket are: Apple"  "The fruits in the basket are:
Orange"
[3] "The fruits in the basket are: Pear"   "The fruits in the basket are:
Banana"
[5] "The fruits in the basket are: Mango"

Is there any easy ways to solve this problem? Thanks!

- Jackie


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From condit at ctfs.si.edu  Wed Sep 11 00:20:16 2002
From: condit at ctfs.si.edu (Richard Condit)
Date: Tue, 10 Sep 2002 17:20:16 -0500
Subject: [R] legend outside axes of image or other plot
Message-ID: <5.1.1.6.0.20020910171722.00ade978@ctfs.si.edu>

I have tried and tried unsuccessfully to place a legend outside the plot 
frame of a graph. This would allow me to draw a legend for an image() plot. 
But any legend I add is cut off outside the axes.

Is there a way of doing this? Thanks for any advice on how to make this 
work (I'm using R1.5.1 with Windows 2000).


Richard Condit
Smithsonian Tropical Research Institute
Unit 0948
APO AA 34002-0948

condit at ctfs.si.edu
conditctfs at yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Wed Sep 11 00:47:42 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Tue, 10 Sep 2002 12:47:42 -1000
Subject: [R] print
References: <OF698BA104.1B44C258-ON88256C30.00770B2D@pe-c.com>
Message-ID: <3D7E768E.3010209@honlab.nmfs.hawaii.edu>

Maybe not as easy as you wish, but this works:

 > print(paste('The fruits in the basket are:',paste(Fruits,collapse=" ")))
[1] "The fruits in the basket are: Apple Orange Pear Banana Mango"
 >

Cheers, Pierre


Ngayee J Law wrote:
> Hi all,
> 
> Suppose I have a vector
> Fruits <- c('Apple','Orange','Pear','Banana','Mango')
> 
> I want to print the statement
> "The fruits in the basket are: Apple, Orange, Pear, Banana, Mango"
> 
> If I do:
> print(paste('The fruits in the basket are:',Fruits))
> 
> The output is:
> [1] "The fruits in the basket are: Apple"  "The fruits in the basket are:
> Orange"
> [3] "The fruits in the basket are: Pear"   "The fruits in the basket are:
> Banana"
> [5] "The fruits in the basket are: Mango"
> 
> Is there any easy ways to solve this problem? Thanks!
> 
> - Jackie
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396
-----------------------------------------------------------------
  "God could have told Moses about galaxies and mitochondria and
   all.  But behold... It was good enough for government work."
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Wed Sep 11 01:18:59 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Tue, 10 Sep 2002 19:18:59 -0400
Subject: [R] print
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFD4@MSGBOS576NTS.fmr.com>

Hi. Have you tried this?

paste("The fruits in the basket are:", paste(Fruits, collapse=", "))

Good luck.

Kevin

-----Original Message-----
From: Ngayee J Law [mailto:Ngayee.Law at celeradiagnostics.com] 
Sent: Tuesday, September 10, 2002 5:51 PM
To: r-help at stat.math.ethz.ch
Subject: [R] print


Hi all,

Suppose I have a vector
Fruits <- c('Apple','Orange','Pear','Banana','Mango')

I want to print the statement
"The fruits in the basket are: Apple, Orange, Pear, Banana, Mango"

If I do:
print(paste('The fruits in the basket are:',Fruits))

The output is:
[1] "The fruits in the basket are: Apple"  "The fruits in the basket are:
Orange"
[3] "The fruits in the basket are: Pear"   "The fruits in the basket are:
Banana"
[5] "The fruits in the basket are: Mango"

Is there any easy ways to solve this problem? Thanks!

- Jackie


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Sep 11 01:25:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Sep 2002 16:25:01 -0700 (PDT)
Subject: [R] legend outside axes of image or other plot
In-Reply-To: <5.1.1.6.0.20020910171722.00ade978@ctfs.si.edu>
Message-ID: <Pine.A41.4.44.0209101624130.101926-100000@homer23.u.washington.edu>

On Tue, 10 Sep 2002, Richard Condit wrote:

> I have tried and tried unsuccessfully to place a legend outside the plot
> frame of a graph. This would allow me to draw a legend for an image() plot.
> But any legend I add is cut off outside the axes.
>
> Is there a way of doing this? Thanks for any advice on how to make this
> work (I'm using R1.5.1 with Windows 2000).

Look at whether filled.contour() does what you want.  If not, you can use
the same method that it uses: call layout() to create two subscreens, one
for the legend and one for the plot

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Sep 11 01:37:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Sep 2002 16:37:43 -0700 (PDT)
Subject: [R] Get the value of 'save' from quit() in .Last()
In-Reply-To: <KKEGJOGBELBHDIKPINBMGEIOCPAA.hb@maths.lth.se>
Message-ID: <Pine.A41.4.44.0209101635190.101926-100000@homer23.u.washington.edu>

On Tue, 10 Sep 2002, Henrik Bengtsson wrote:

> Hi, is there a way to check the value of argument 'save' in quit() from
> within .Last() in my package. I would like to be able to save() an
> environment if quit("yes") was called and otherwise not.
>

I think you're out of luck. This would be useful, but the information just
isn't accessible from .Last as far as I can see.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Sep 11 02:27:25 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 10 Sep 2002 17:27:25 -0700 (PDT)
Subject: [R] legend outside axes of image or other plot
In-Reply-To: <5.1.1.6.0.20020910171722.00ade978@ctfs.si.edu>
Message-ID: <Pine.GSO.4.10.10209101712280.19315-100000@quetelet.stat.ucla.edu>

You have two options that you more or less need to evaluate for yourself.
One is the 'image.plot' function in the 'fields' library.  This function
is useful and I've used it successfully a few times but you need to do
some careful calibration of the parameters to make the picture look good.
The other option is the 'filled.contour' function (in the base package)
which I think generally produces better pictures (but can be a lot
slower).  

I think both 'image.plot' and 'filled.contour' both split the plot device
into two separate regions (one for image and one for legend).  But
'filled.contour' uses kind of a hack-ish mechanism (via the plot.axes and
key.axes arguments) which gives you access to the coordinate systems of
the separate plot regions so that you can add text, labels, points, etc.  
This is really useful!  In general, I like 'filled.contour' better and try
to use it for these kinds of plots.

Unfortunately, 'filled.contour' uses 'layout' so cannot be used in
multiple panel displays.  'image.plot' can be used in such a situation.  

Hope this helps!

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 10 Sep 2002, Richard Condit wrote:

> I have tried and tried unsuccessfully to place a legend outside the plot 
> frame of a graph. This would allow me to draw a legend for an image() plot. 
> But any legend I add is cut off outside the axes.
> 
> Is there a way of doing this? Thanks for any advice on how to make this 
> work (I'm using R1.5.1 with Windows 2000).
> 
> 
> Richard Condit
> Smithsonian Tropical Research Institute
> Unit 0948
> APO AA 34002-0948
> 
> condit at ctfs.si.edu
> conditctfs at yahoo.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Wed Sep 11 03:24:17 2002
From: wss at ufla.br (washington santos da silva)
Date: Tue, 10 Sep 2002 22:24:17 -0300
Subject: [R] Question about spatial statistics
Message-ID: <3D7E9B41.A2332543@ufla.br>

I?m tryng  to use the SPDEP package in my research in the field of
population genetics. My data set
has the following format:

 -  x and y : coordinates,
-  Z: allelic frequency in  each loci (in a total of 8 locis) - this
variable can assume the values  0 ; 0.5 or 1.

 The objective is to verify if there is a possible spatial
autocorrelation structure of the allelic frequency in a population of
natives trees (copaifera langsdorffii).
I had some doubts about the package:

1)  Is the package suitable to analyze this kind of data?
2)  Are the spatial autocorrelation tests in the package suitable for
this analysis?
3)  If it is, what are the steps needed to carry out the Moran's I or
others tests ?

Any help will be welcome.
Regards and
Thank you very much.

Jo?o Marcos Louzada
Federal University of Lavras - Brasil

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020910/5ab32a21/attachment.html

From ken_lee at tynesys.com  Wed Sep 11 05:08:58 2002
From: ken_lee at tynesys.com (Ken Lee)
Date: Wed, 11 Sep 2002 11:08:58 +0800
Subject: [R] one question about title
In-Reply-To: <20020910204105.GB26757@hortresearch.co.nz>
Message-ID: <FFEKIEFDONDECJDODGDJAEBJCBAA.ken_lee@tynesys.com>

Dear,
       Thanks for your help. My question is the title can not completely show in the drawing area when the title is too long.
So, I need to change the value of cex.main each time. Could you help me to control the title display area?

Regrad,

ken 

 
-----Original Message-----
From: Patrick Connolly [mailto:p.connolly at hortresearch.co.nz]
Sent: Wednesday, September 11, 2002 4:41 AM
To: Ken Lee
Subject: Re: [R] one question about title


On Tue, 10-Sep-2002 at 02:47PM +0800, Ken Lee wrote:

|> Dear all,

|>        Can I have any method to predict the cex.main to put title
|> in the drawing area.  like : title(main=title1,cex.main=cex) ==>
|> cex=f(nchar(title1))

It's not clear to me just what your question is, but if my guess is
correct, it would be very simple to make an object, say

main.cex <- f(nchar(title1))
  then 
title(main = title1,cex.main = cexmain.)

If that's not what you need, be more specific and maybe we can help.

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbatobeme at yahoo.com  Thu Sep  5 06:42:15 2002
From: mbatobeme at yahoo.com (- -)
Date: Wed, 4 Sep 2002 21:42:15 -0700 (PDT)
Subject: [R] Help with perm.test please
Message-ID: <20020905044215.54927.qmail@web10506.mail.yahoo.com>

Hi All:

OK, this is probably a stupid thing to do but.......

Say I have 706 controls and 6 treatments, and want to
do a basic two-sample permutation test. I could do a
monte carlo approximation but instead want to use
perm.test.

Now it happens that my data is counts with
> unique(x)
[1] 1 2
> unique(y)
 [1]  1  2  5  3 10  9  7  4  6 11  8 23 18 30 16 29
42

so there aren't that many categories.

I thought perm.test makes this an Rx2 table and then
does some sort of network algorithm on it.

But I get the following error message:


> perm.test(x,y,exact=T)
Error in cperm(eq, m, paired) : N > 200 in cpermdistr2
> 

I understand this is a sample size error but it
doesn't seem to make sense to me since there aren't
that many unique categories for x and y. What am I
missing ?

Thanks,

Steve



__________________________________________________

Yahoo! Finance - Get real-time stock quotes

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Mon Sep  2 08:50:10 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Mon, 2 Sep 2002 07:50:10 +0100
Subject: [R] Coplot graph size manipulation
Message-ID: <007c01c2524c$fb54b560$461401a3@stats.ox.ac.uk>

I am currently plotting a graph with the function coplot() conditional
on two factors which gives me 36 sub-panels.
I have a few questions in general about changing the size of the graph.
My question follows :

a) I have a fair bit of text to put on the margin sides using mtext().
What is the best way to shrink the whole graph to say 80 - 90% so that I
can include a bit more words.
b) Since I am conditioning on two variables, the plot also automatically
plots the words "Given : a" and "Given : a" on the top and right hand of
the plot. I do not require this and would like them to be removed. How
do I do that ?  (I have already set the option show.given = F)

and less importantly ...

c) How does one change the labels on the sub-axis (either x of y) to a
given vector.
d) How to rotate the axis label 45 degree counter clockwise. I tried
par(las=1.5) etc without much luck.

Many thanks in advance.

Regards, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  2 08:47:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 2 Sep 2002 07:47:54 +0100 (BST)
Subject: [R] memory storage explosion
In-Reply-To: <Pine.GSO.4.44.0209011457580.22483-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.LNX.4.31.0209020744110.10499-100000@gannet.stats>

I guess this is becasuse you are returning a whole rpart fit, and so
really are using the memory.

Try just returning what you need from the rpart object.

On Sun, 1 Sep 2002, Saket Joshi wrote:

> Hi all,
>
> I am using R1.5.0 under unix.
>
> I have 2 data.frames x and yx. both have the same number of rows. I wrote
> a function abc to do the following:
>
> abc <- function(x, zyx)
> {
> x[1] <- zyx   # zyx is a column of yx
> rpart(x)
> }
>
> Then I wrote another function fgh:
>
> fgh <- function()
> {
> yx <- ............... # yx created
> x <- ................  # x created
> lapply(yx, abc, x)
> }
>
> when I ran function fgh at the prompt, the program started running out of
> memory and the process running R gets killed. The reason for
> the memory running out is that with every call to the abc function in the
> implicit loop lapply, the memory equivalent to that of x is allocated in the
> variable storage (Vcells). The trouble is that the memory allocated is not
> freed when the function abc is run by lapply for the next element of yx
> i.e. in the next loop.
>
> Since x takes up 25 MB of space and since yx has 126 columns, a lot of
> memory space keeps getting allocated without being freed even when it is no
> longer required.
>
> I wonder if there are any options that I should set so that the memory
> allocated within a function is freed when the function is exited. But I am
> not sure how to do that or else how to free the memory by any other way.
>
> Could someone tell me how I can avoid this memory explosion?

I think your diagnosis is an incorrect guess.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Sep 11 09:48:10 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 11 Sep 2002 09:48:10 +0200
Subject: [R] .Last.lib() not called when quit()-ing
Message-ID: <KKEGJOGBELBHDIKPINBMEEJDCPAA.hb@maths.lth.se>

This question is a spin-off from my previous one: "[R] Get the value of
'save' from quit() in .Last() [and .Last.lib()]".

I know that .Last.lib(libpath) is called when doing detach("package:MyPkg").
What worries me is that .Last.lib() is not called when exiting [R]. Should
I/we be able to expect that a package is detached when [R] quits?


Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 11 10:13:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2002 10:13:25 +0200
Subject: Mailer problem (Re: [R] memory storage explosion)
In-Reply-To: <Pine.LNX.4.31.0209020744110.10499-100000@gannet.stats>
References: <Pine.LNX.4.31.0209020744110.10499-100000@gannet.stats>
Message-ID: <x2hegxueoq.fsf@biostat.ku.dk>


Notice the date on this and a few other items. There seems to have
been a hiccup in the list server in Zurich, causing some old mails to
be resent.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep 11 10:25:20 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 11 Sep 2002 10:25:20 +0200
Subject: Mailer problem (Re: [R] memory storage explosion)
In-Reply-To: <x2hegxueoq.fsf@biostat.ku.dk>
References: <Pine.LNX.4.31.0209020744110.10499-100000@gannet.stats>
	<x2hegxueoq.fsf@biostat.ku.dk>
Message-ID: <15742.65008.882287.731446@gargle.gargle.HOWL>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
>>>>>     on 11 Sep 2002 10:13:25 +0200 writes:

    PD> Notice the date on this and a few other items. There seems to have
    PD> been a hiccup in the list server in Zurich, causing some old mails to
    PD> be resent.

Yes, indeed!
Apologies from our side.  For some reason we had a huge (> 1000) 
/var/spool/mqueue which is now back to normal.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Wed Sep 11 10:43:57 2002
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Wed, 11 Sep 2002 10:43:57 +0200
Subject: [R] Problem with leaps (long)
Message-ID: <200209110843.g8B8hvbK004170@agesi.bs.ehu.es>

I am generating a bunch of examples for my students and when I type

            R BATCH demo10.R

(file demo10.R reproduced below) I get an error:

------------- Error message ------
> plot(mods$size,mods$Cp,
+      main="Cp versus talla modelos",
+      xlab=expression(p),
+      ylab=expression(C[p]))
Error in plot.window(xlim, ylim, log, asp, ...) : 
	need finite ylim values
In addition: Warning messages: 
1: no finite arguments to min; returning Inf 
2: no finite arguments to max; returning -Inf 
Execution halted
----------------------------------

On looking at object "mods", I see that indeed mods$Cp is full of NaNs.

Exactly the same file worked last year. What is more strange, if I
type or paste the commands interactively, I get plausible Cp values in
mods$Cp. It is only in BATCH that the thing goes stray.

----------  File demo10.R up to the error point ---------
library(MASS)
data(UScrime) 
UScrime[1:3,]
attach(UScrime)                       

completo <- lm(y ~ . , data=UScrime)
summary(completo)

library(leaps)
X    <- as.matrix(UScrime[,-16])
y    <- UScrime[,16]
mods <- leaps(x=X,y=y,method="Cp") 

postscript(file="demo10.eps",
           horizontal=FALSE,
           width=5,height=9)
par(mfrow=c(2,1))
plot(mods$size,mods$Cp,
     main="Cp versus talla modelos",
     xlab=expression(p),
     ylab=expression(C[p]))
--------------------------------------------------

While on the same topic, the help on line advocates the use of function
regsubsets, which is said to improve on leaps on several ways. However,
I see no way to select different criteria (Cp, R2, adjR2) in said
function. 

I am using R 1.5.1 under Debian/Linux 3.0 (kernel 2.4.18, gcc -v
reports "gcc version 2.95.4 20011002", if that matters).

Many thanks for any help. 

ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed Sep 11 11:24:17 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 11 Sep 2002 11:24:17 +0200
Subject: [R] Intercept in model formulae.
References: <a05100305b993f4c42e9f@[129.31.3.212]>
Message-ID: <00dc01c25975$054440c0$5c13070a@it.giustizia.it>

For two-parameter model (only two slopes) use the following equation
> coef(lm(y ~ 0+x+pmax(x-10,0)))
              x pmax(x - 10, 0)
            1.0            -0.5
or lm(y ~ x+pmax(x-10,0)-1)).
coef(obj)["x"] is the left slope and
(coef(obj)["x"]+coef(obj)["pmax(x-10,0)"])
is the right slope.
Therefore you might test immediately for the existence of the breakpoint
through the coefficient pmax(x-10,0), the differece-in-slope parameter.

best,
vito

----- Original Message -----
From: "David Orme" <d.orme at ic.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, August 30, 2002 10:13 AM
Subject: [R] Intercept in model formulae.


> Hi,
>
> I'm trying to create a linear model for a dataset that has a breakpoint
e.g.
>
> # dummy dataset
> x <- 1:20
> y <- c(1:10,seq(10.5,15,0.5))
> plot(x,y)
>
> I've modelled this using the following formula:
>
> temp <- lm(y ~ x*(x<=10)+x*(x>10))
>
> I want to be able to omit the intercept (i.e. force the line through
> zero) from the first of these segments (x<=10) so that I'm only
> estimating one intercept and two slopes. I've tried including -1 in
> the formula, folllowing the lm(y ~ x -1) syntax  to omit the
> intercept from lm(y ~x) but the linear model still returns an
> estimate of the intercept of the first segment. I can't work out what
> the syntax for the formula should be. Is it possible in one step or
> do I have to fit the two lines as two models?
>
> Any suggestions?
>
> Thanks in advance,
>
> David Orme
>
> >  R.version
>           _
> platform ppc-apple-macos
> arch     ppc
> os       MacOS
> system   ppc, MacOS
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Wed Sep 11 11:32:52 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Wed, 11 Sep 2002 10:32:52 +0100
Subject: [R] Coplot graph size manipulation
References: <007c01c2524c$fb54b560$461401a3@stats.ox.ac.uk>
Message-ID: <000c01c25976$338bd410$a81401a3@stats.ox.ac.uk>

Dear all, please ignore this mail. I have already solved this few weeks ago.
Don't know why this mail popped up again on the list (I did not send it).
Thanks.

----- Original Message -----
From: "Adaikalavan Ramasamy" <ramasamy at stats.ox.ac.uk>
To: "'r-help at lists.r-project.org'" <r-help at stat.math.ethz.ch>
Sent: Monday, September 02, 2002 7:50 AM
Subject: [R] Coplot graph size manipulation


> I am currently plotting a graph with the function coplot() conditional
> on two factors which gives me 36 sub-panels.
> I have a few questions in general about changing the size of the graph.
> My question follows :
>
> a) I have a fair bit of text to put on the margin sides using mtext().
> What is the best way to shrink the whole graph to say 80 - 90% so that I
> can include a bit more words.
> b) Since I am conditioning on two variables, the plot also automatically
> plots the words "Given : a" and "Given : a" on the top and right hand of
> the plot. I do not require this and would like them to be removed. How
> do I do that ?  (I have already set the option show.given = F)
>
> and less importantly ...
>
> c) How does one change the labels on the sub-axis (either x of y) to a
> given vector.
> d) How to rotate the axis label 45 degree counter clockwise. I tried
> par(las=1.5) etc without much luck.
>
> Many thanks in advance.
>
> Regards, Adai.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plxmh at nottingham.ac.uk  Wed Sep 11 12:32:48 2002
From: plxmh at nottingham.ac.uk (Martin Hoyle)
Date: Wed, 11 Sep 2002 11:32:48 +0100
Subject: [R] Contrasts with interactions
Message-ID: <sd7f29e7.082@ccw0c3.nottingham.ac.uk>

Dear All,
I'm not sure of the interpretation of interactions with contrasts. Can anyone help?
I do an ANCOVA, dryweight is covariate, block and treatment are factors, c4 the response variable.

model<-aov(log(c4+1)~dryweight+treatment+block+treatment:block)

 summary(model);
                 Df  Sum Sq Mean Sq F value    Pr(>F)    
dryweight         1   3.947   3.947  6.6268   0.01076 *  
treatment        10  11.603   1.160  1.9483   0.04070 *  
block             5  16.656   3.331  5.5932 7.493e-05 ***
treatment:block  46  84.815   1.844  3.0959 2.294e-08 ***
Residuals       203 120.901   0.596    

I then set up the contrasts;

contrasts(treatment)<-c(1,1,1,1,1,1,-8/3,1,-8/3,1,-8/3)

summary.lm(model);
                    Estimate Std. Error t value Pr(>|t|)    
(Intercept)          1.30411    0.22355   5.834 2.11e-08 ***
dryweight            0.05445    0.02556   2.130 0.034358 *  
treatment1          -0.01390    0.10283  -0.135 0.892575    
treatment2          -0.25015    0.50841  -0.492 0.623230    
treatment3          -0.65174    0.50580  -1.289 0.199026    
treatment4           0.35105    0.42871   0.819 0.413838    
treatment5          -0.15977    0.46738  -0.342 0.732827    
treatment6          -0.06789    0.85831  -0.079 0.937036    
treatment7          -0.59955    0.54247  -1.105 0.270371    
treatment8           0.80747    0.85639   0.943 0.346863    
treatment9           0.10081    0.54320   0.186 0.852954    
treatment10          0.43933    0.53421   0.822 0.411823    
block2              -1.87242    0.66448  -2.818 0.005312 ** 
block3               0.10927    0.22670   0.482 0.630328    
block4              -1.45648    3.71684  -0.392 0.695574    
block5               0.25447    0.22033   1.155 0.249475    
block6              -0.32177    0.22269  -1.445 0.150021    
treatment1:block2   -0.38808    0.26398  -1.470 0.143073    
treatment2:block2  -16.54735    6.85505  -2.414 0.016671 *  
treatment3:block2    2.58861    0.75571   3.425 0.000743 ***
treatment4:block2    1.00025    0.71152   1.406 0.161319    
treatment5:block2    1.59292    0.77247   2.062 0.040471 *  
treatment6:block2    2.08051    0.96188   2.163 0.031713 *  
treatment7:block2    0.18981    0.83517   0.227 0.820445    
treatment8:block2   -0.43130    0.86371  -0.499 0.618064    
treatment1:block3    0.13110    0.13918   0.942 0.347340    
treatment2:block3    1.00565    0.74337   1.353 0.177616    
treatment3:block3   -0.11802    0.74240  -0.159 0.873850    
treatment4:block3   -0.62289    0.51752  -1.204 0.230141    
treatment5:block3    0.13423    0.61047   0.220 0.826187    
treatment6:block3   -0.65611    0.99262  -0.661 0.509370    
treatment7:block3   -0.55647    0.70297  -0.792 0.429522    
treatment8:block3   -0.82318    0.96933  -0.849 0.396755    
treatment9:block3   -0.17314    0.70350  -0.246 0.805844    
treatment10:block3  -0.06684    0.80860  -0.083 0.934199    
treatment1:block4   -0.50091    1.39380  -0.359 0.719680    
treatment2:block4  -10.81397   36.17529  -0.299 0.765297    
treatment3:block4    1.04731    3.59427   0.291 0.771056    
treatment4:block4    0.25464    3.58638   0.071 0.943467    
treatment5:block4    0.65697    3.59856   0.183 0.855322    
treatment6:block4    0.87754    0.81568   1.076 0.283275    
treatment7:block4    1.28524    3.61045   0.356 0.722227    
treatment8:block4    0.55858    0.81560   0.685 0.494205    
treatment9:block4    0.60868    3.61066   0.169 0.866296    
treatment1:block5   -0.27280    0.13005  -2.098 0.037169 *  
treatment2:block5    0.21978    0.73045   0.301 0.763812    
treatment3:block5    1.07421    0.59913   1.793 0.074472 .  
treatment4:block5    0.22082    0.53469   0.413 0.680058    
treatment5:block5   -0.06035    0.70125  -0.086 0.931503    
treatment6:block5   -0.04971    0.95158  -0.052 0.958389    
treatment7:block5    0.26473    0.66396   0.399 0.690524    
treatment8:block5   -1.17199    0.95209  -1.231 0.219758    
treatment9:block5   -0.31504    0.66396  -0.474 0.635662    
treatment10:block5  -0.23596    0.70137  -0.336 0.736901    
treatment1:block6    0.01779    0.13930   0.128 0.898505    
treatment2:block6    1.02432    0.62760   1.632 0.104206    
treatment3:block6    1.43013    0.65113   2.196 0.029197 *  
treatment4:block6    0.07100    0.55996   0.127 0.899231    
treatment5:block6   -0.99681    0.62097  -1.605 0.109995    
treatment6:block6    0.50794    1.02837   0.494 0.621891    
treatment7:block6    1.85963    0.70972   2.620 0.009451 ** 
treatment8:block6   -1.27599    0.94943  -1.344 0.180465    
treatment9:block6    1.13733    0.71061   1.600 0.111045    
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 0.7717 on 203 degrees of freedom
Multiple R-Squared: 0.4918,     Adjusted R-squared: 0.3366 
F-statistic: 3.169 on 62 and 203 DF,  p-value: 4.493e-010 

I know that treatment1 represents this contrast.
The term treatment1:block5 is significant.
Please can anyone tell me how I can interpret this?

Thanks for reading this far!
Martin.

Martin Hoyle,
School of Life and Environmental Sciences,
University of Nottingham,
University Park,
Nottingham,
NG7 2RD,
UK
Webpage: http://myprofile.cos.com/martinhoyle
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Sep 11 12:58:24 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 11 Sep 2002 06:58:24 -0400
Subject: [R] How would you do a logistic analysis
In-Reply-To: <F36ZvYx7ctUUzlIuqE70001e0f0@hotmail.com>; from chromatonus712@hotmail.com on Thu, Aug 29, 2002 at 07:36:59PM +0000
References: <F36ZvYx7ctUUzlIuqE70001e0f0@hotmail.com>
Message-ID: <20020911065824.A21348@cattell.psych.upenn.edu>

On 08/29/02 19:36, chromatonus 712 wrote:
>On two lists of data (in a matrix perhaps?) And may i also know where I can 
>find the complete documentation of how to use all the functions in R? Thank 
>you for your help!

I'm not sure what you mean about doing a logistic regression on
two lists of data.  Do you know that "list" is a type of data in
R?  Perhaps you mean two vectors, x1 and x2, with y as the
dependent variable (coded as 1/0, perhaps).  Then one answer is

summary(glm(y ~ x1 + x2,family=binomial))

You need to read a bit to get exactly what you want.

You can find documentation for functions in R in three places.
First, documentation of functions in the packages you have (base,
etc.)  comes with the functions.  You get them with help().
Second, see http://cran.r-project.org/doc/manuals/refman.pdf in
the "Manuals" section of www.r-project.org, for all functions,
whether you have them or not.  Third, I have these all on the web
at the URL below.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Sep 11 12:56:46 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 11 Sep 2002 12:56:46 +0200
Subject: [R] axis with negative values
Message-ID: <3D7F216E.5000401@science.uva.nl>

How can I extend the axis of truehist with negative values. I need to plot 
residuals from a stepwise regression.

Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep 11 13:45:31 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 11 Sep 2002 13:45:31 +0200
Subject: [R] axis with negative values
In-Reply-To: <3D7F216E.5000401@science.uva.nl>
References: <3D7F216E.5000401@science.uva.nl>
Message-ID: <15743.11483.801768.794701@gargle.gargle.HOWL>

>>>>> "Ulrich" == Ulrich Leopold <uleopold at science.uva.nl>
>>>>>     on Wed, 11 Sep 2002 12:56:46 +0200 writes:

    Ulrich> How can I extend the axis of truehist with negative
    Ulrich> values. I need to plot residuals from a stepwise
    Ulrich> regression.

If I understand your question I  think you don't want truehist()
{or hist()} in that case, rather something like

set.seed(123)
plot(round(rnorm(100),2), type = "h", lwd = 4)

    Ulrich> Ulrich
    Ulrich> -- 
    Ulrich> __________________________________________________

    Ulrich> Ulrich Leopold MSc.

        <.. much too long signature ..>

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Wed Sep 11 14:06:46 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Wed, 11 Sep 2002 14:06:46 +0200
Subject: [R] Intercept in model formulae.
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADE77@ibfftce505.is.de.dresdnerkb.com>

dealing more generally with deterministic structural shiftsmore in the
context of Classical Linear Regressions, you can define suitable dummy
variables and multiply them with the regressors (all or a subset). 'test1'
contains two separate slope coefficients, whereas in 'test2' the additional
increment in the second subperiod is estimated, hence you have to sum the
two estimates to get the overall effect for the second subperiod.  

x <- 1:20
y <- c(1:10,seq(10.5,15,0.5))
dum1 <- c(rep(1,10),rep(0,10))
dum2 <- c(rep(0,10),rep(1,10))
reg1 <- x*dum1
reg2 <- x*dum2
test1 <- lm(y~-1+reg1+reg2)
test2 <- lm(y~-1+x+reg2)
summary(test)


Bernhard    

-----Original Message-----
From: vito muggeo [mailto:vito.muggeo at giustizia.it]
Sent: 11 September 2002 11:24
To: r-help at stat.math.ethz.ch; David Orme
Subject: Re: [R] Intercept in model formulae.


For two-parameter model (only two slopes) use the following equation
> coef(lm(y ~ 0+x+pmax(x-10,0)))
              x pmax(x - 10, 0)
            1.0            -0.5
or lm(y ~ x+pmax(x-10,0)-1)).
coef(obj)["x"] is the left slope and
(coef(obj)["x"]+coef(obj)["pmax(x-10,0)"])
is the right slope.
Therefore you might test immediately for the existence of the breakpoint
through the coefficient pmax(x-10,0), the differece-in-slope parameter.

best,
vito

----- Original Message -----
From: "David Orme" <d.orme at ic.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, August 30, 2002 10:13 AM
Subject: [R] Intercept in model formulae.


> Hi,
>
> I'm trying to create a linear model for a dataset that has a breakpoint
e.g.
>
> # dummy dataset
> x <- 1:20
> y <- c(1:10,seq(10.5,15,0.5))
> plot(x,y)
>
> I've modelled this using the following formula:
>
> temp <- lm(y ~ x*(x<=10)+x*(x>10))
>
> I want to be able to omit the intercept (i.e. force the line through
> zero) from the first of these segments (x<=10) so that I'm only
> estimating one intercept and two slopes. I've tried including -1 in
> the formula, folllowing the lm(y ~ x -1) syntax  to omit the
> intercept from lm(y ~x) but the linear model still returns an
> estimate of the intercept of the first segment. I can't work out what
> the syntax for the formula should be. Is it possible in one step or
> do I have to fit the two lines as two models?
>
> Any suggestions?
>
> Thanks in advance,
>
> David Orme
>
> >  R.version
>           _
> platform ppc-apple-macos
> arch     ppc
> os       MacOS
> system   ppc, MacOS
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvirketis at hbk.com  Wed Sep 11 14:27:35 2002
From: pvirketis at hbk.com (Pijus Virketis)
Date: Wed, 11 Sep 2002 08:27:35 -0400
Subject: [R] print
Message-ID: <7C87D4C5FFAFD311B333009027D6036305ECC952@EXCHANGE>

>Suppose I have a vector
>Fruits <- c('Apple','Orange','Pear','Banana','Mango')
>I want to print the statement
>"The fruits in the basket are: Apple, Orange, Pear, Banana, Mango"

How about this: cat("The fruits in the basket are: ", paste(Fruits))

Cheers, 

Pijus


----
W: 212-588-7897
F: 212-446-1955 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johns2326 at hotmail.com  Wed Sep 11 15:02:59 2002
From: johns2326 at hotmail.com (John Smith)
Date: Wed, 11 Sep 2002 09:02:59 -0400
Subject: [R] R 1.5.0 on Jaguar?
Message-ID: <F73iC1h1jYhAOylhgnF000006c1@hotmail.com>

It seems that someone was having trouble compiling R under Mac OS X 10.2, 
but I'm wondering if anyone is running the version available from 
http://www.apple.com/downloads/macosx/math_science/rformacintosh.html under 
OS X 10.2. This is important because I'm about to take delivery of a new 
Power Mac running 10.2!

John Shonder
Oak Ridge National Laboratory



_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 11 15:21:27 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2002 15:21:27 +0200
Subject: [R] Intercept in model formulae.
In-Reply-To: <18D602BD42B7E24EB810D6454A58DB9001CADE77@ibfftce505.is.de.dresdnerkb.com>
References: <18D602BD42B7E24EB810D6454A58DB9001CADE77@ibfftce505.is.de.dresdnerkb.com>
Message-ID: <x2n0qou0fc.fsf@biostat.ku.dk>

"Pfaff, Bernhard" <Bernhard.Pfaff at drkw.com> writes:

> dealing more generally with deterministic structural shiftsmore in the
> context of Classical Linear Regressions, you can define suitable dummy
> variables and multiply them with the regressors (all or a subset). 'test1'
> contains two separate slope coefficients, whereas in 'test2' the additional
> increment in the second subperiod is estimated, hence you have to sum the
> two estimates to get the overall effect for the second subperiod.  
> 
> x <- 1:20
> y <- c(1:10,seq(10.5,15,0.5))
> dum1 <- c(rep(1,10),rep(0,10))
> dum2 <- c(rep(0,10),rep(1,10))
> reg1 <- x*dum1
> reg2 <- x*dum2
> test1 <- lm(y~-1+reg1+reg2)
> test2 <- lm(y~-1+x+reg2)
> summary(test)

Maybe my brain is just getting boiled in here, but I don't think these
correspond to a continuous model, but one that is pieced together from
two lines that both go through the origin.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Wed Sep 11 15:41:39 2002
From: jday at csi-inc.com (John Day)
Date: Wed, 11 Sep 2002 09:41:39 -0400
Subject: [R] Histogram Ranking
Message-ID: <4.3.2.7.0.20020911093400.02f41988@mail.csi-inc.com>

Dear all,

I received no response to this. Not sure if it was a glitch in the mailing 
list or maybe I didn't express myself clearly. Let me be a little more 
formal and try again:

I want to know if the algorithm described below is a well-known procedure? 
Is it sound assuming unbiased samples? Are there procedures in R to support 
this kind of analysis?

Or is there a much better way to rank the "goodness" of a feature set, 
which is really what I'm trying to do here?

Here's the "historanking" algorithm:
Let C be a classification problem where we are trying to classify a set of 
N features F=(f1,f2,...fN) into a small set of M classes T=(t1,t2,...,tM).

We want to learn the classification rules from the distributions of the 
values of F. Suppose we have a large number of labelled samples 
SF=(sf1,sf2,...sfN,tk), where the sf's are feature values and tk is the kth 
"ground truth" (out of 1..M) for that sample.

Then we can construct a sample histograms by class:
hk = (h1k, h2k, ... hNk) for t=1..M where hjk is count of feature j for class k

If the samples are random and unbiased then they constitute an 
approximation of the conditional probability distributions for each class. 
My idea is that these histograms can be viewed as points in a metric space 
and ranked by computing their euclidean distance from each other, after 
normalizing them so that each histogram has a probability of 1.

For example: let h1 and h2 be two histograms of feature counts for classes 
1 and 2 for a feature set with 6 features:
 > h1<-c(1,3,5,6,7,8)
 > h2<-c(4,6,4,6,7,9)

Normalize and compute the metric:
 > n1=h1/sum(h1)
 > n2=h2/sum(h2)
 > sqrt(sum((n1-n2)^2))

By adjusting the bin sizes we can probe how well the class concepts can be 
generalized. That is, if the metric is non-zero only when the binsize is 1, 
then the problem cannot be generalized. The size of the metric is roughly 
the "predictive juice" contained in the conditional distributions.

Yes, "historanking" is somewhat simplistic and perhaps statistically 
impaired, but I have found that this metric is useful for measuring how 
effectively features support a classification scheme.

Thanks,
John Day

At 02:30 PM 9/6/2002 -0400, I wrote:
>Hello,
>
>This is not exactly an R question, but I suspect that there is an R 
>procedure that does what I am calling (for lack of a better name) 
>"histogram ranking".
>
>I'm trying to evaluate a set of regression features by segregating by 
>target class and comparing the feature histograms. My idea is that if the 
>histograms are the same for two different classes then there is no 
>predictive power in those features. Conversely, if the histograms are 
>different then there is probably some predictive "juice" that we can 
>squeeze out of the features with regression.
>
>The histograms are computing by partitioning  the features into equally 
>spaced bins over their spans and counting the sample values in each bin 
>that corresponds to that partition of feature space. This is done for each 
>target class, so the resulting histograms are the features distributions 
>conditioned by target class.
>
>Since the histograms are numeric vectors, we can measure the "goodness" of 
>a feature set by evaluating the "distance" between histograms. The bigger 
>the better etc.
>
>Now I'm no statistics expert. Have I re-invented some "wheel" here? What 
>is the canonical name for this kind of analysis? Is this kind of analysis 
>routinely done in R? [Is there a "better" way to do all this?]
>
>Thanks,
>John Day




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Wed Sep 11 15:52:03 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Wed, 11 Sep 2002 09:52:03 -0400
Subject: [R] Import SAS dataset error
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BB3C@s2-edm-r1.nrn.nrcan.gc.ca>

Dear all;

	Using read.ssd, I tried to import a SAS dataset  from a network
drive; an error occurred:

> stemattr <- read.ssd("g:/olmn2/dyang/siteprod/datasasv8", "stemattr")
SAS failed.  SAS program at C:\DOCUME~1\dyang\LOCALS~1\Temp\file7785.sas 
a log and other error products should be in the vicinity
Warning messages: 
1: sas not found 
2: ls not found 
3: SAS return code was -1 in: read.ssd("g:/olmn2/dyang/siteprod/datasasv8",
"stemattr") 

	The sas dataset was created in Unix. I was able to see the target
file in the path using list.files(libname). I was puzzled by the warning
"sas not found".  In fact,  a SAS Ver. 8 is installed in the same directory
where I installed R 1.51. on Win2K. 

	What did I miss? Any help?

	TIK,

Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 11 16:09:30 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2002 16:09:30 +0200
Subject: [R] Import SAS dataset error
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BB3C@s2-edm-r1.nrn.nrcan.gc.ca>
References: <F0E0B899CB43D5118D220002A55113CF21BB3C@s2-edm-r1.nrn.nrcan.gc.ca>
Message-ID: <x2elc0ty79.fsf@biostat.ku.dk>

"Yang, Richard" <dyang at nrcan.gc.ca> writes:

> Dear all;
> 
> 	Using read.ssd, I tried to import a SAS dataset  from a network
> drive; an error occurred:
> 
> > stemattr <- read.ssd("g:/olmn2/dyang/siteprod/datasasv8", "stemattr")
> SAS failed.  SAS program at C:\DOCUME~1\dyang\LOCALS~1\Temp\file7785.sas 
> a log and other error products should be in the vicinity
> Warning messages: 
> 1: sas not found 
> 2: ls not found 
> 3: SAS return code was -1 in: read.ssd("g:/olmn2/dyang/siteprod/datasasv8",
> "stemattr") 
> 
> 	The sas dataset was created in Unix. I was able to see the target
> file in the path using list.files(libname). I was puzzled by the warning
> "sas not found".  In fact,  a SAS Ver. 8 is installed in the same directory
> where I installed R 1.51. on Win2K. 
> 
> 	What did I miss? Any help?

1) You'd need to figure out how to call sas as a command with a
   program argument in win2k. It's not going to be "sas file.sas", but
   I have heard rumors that it can be done.

2) The use of an "ls" command inside read.ssd suggests that it was
   never intended to be used outside of Unix.

3) SAS on Windows cannot read files from SAS on Unix anyway. (I kid
   you not!)

Basically, you need to write an export library and then you might as
well use read.xport.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Wed Sep 11 16:31:46 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Wed, 11 Sep 2002 10:31:46 -0400
Subject: [R] one question about title
In-Reply-To: <102214883@toto.iv>
Message-ID: <15743.21458.862972.216912@gargle.gargle.HOWL>

Ken Lee <ken_lee at tynesys.com> asked (I'm paraphrasing) how to set cex.main
automatically so that his title will fit on the page.

Here's a solution that uses strwidth():

title.fit <- function(main, frac=.9, cex=par("cex.main"), ...) {
  while ((r <- strwidth(main, "f", cex)/frac) > 1.05) cex <- cex / r
  title(main, cex.main=cex, ...)
}
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.corda at oncfs.gouv.fr  Wed Sep 11 17:00:22 2002
From: e.corda at oncfs.gouv.fr (E. Corda)
Date: Wed, 11 Sep 2002 17:00:22 +0200
Subject: [R] fitting a linear mixed effects model
Message-ID: <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1284 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020911/e68e2ecc/attachment.bin

From p.dalgaard at biostat.ku.dk  Wed Sep 11 17:14:21 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2002 17:14:21 +0200
Subject: [R] fitting a linear mixed effects model
In-Reply-To: <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
References: <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
Message-ID: <x21y80tv76.fsf@biostat.ku.dk>

"E. Corda" <e.corda at oncfs.gouv.fr> writes:

> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~ 1|transect/year)
> 
> I would like the TRANSECT factor to be nested in the ZONE factor. But
> if I estimate the model like this:
> 
> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~
> 1|zone/transect/year)

(shouldn't that be transect/zone/year?)

> zone is now a random effect.
> 
> Do you have any idea on this? Thanks a lot for any help.

Does random ~ 1|(zone:transect)/year work? Otherwise, you might need
something like random ~ 1|interaction(zone,transect)/year.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jstover at gcsu.edu  Wed Sep 11 18:15:17 2002
From: jstover at gcsu.edu (Jason H. Stover)
Date: Wed, 11 Sep 2002 12:15:17 -0400
Subject: [R] rational approximations to the normal cdf
Message-ID: <20020911161517.GA3382@orwell.gcsu.edu>

In the R source, nmath/pnorm.c contains the
code for a rational function approximation 
for the normal cdf. These constants are listed:

    const double a[5] = {
        2.2352520354606839287,
        161.02823106855587881,
        1067.6894854603709582,
        18154.981253343561249,
        0.065682337918207449113
    };
 
The source file cites a paper by Cody (1969)
and states that these constants are derived from
Cody's paper. I've checked the paper, and 
the constants do not agree, so I assume someone 
else derived slightly different constants. The source
also contains a reference to 1993 paper by Cody, 
but this paper describes software itself, not the 
derivation of the approximation used.

Does anyone know of another reference for these
and other constants used in pnorm.c? Is there a 
general reference detailing how to derive such 
approximations?

Thank-you,
Jason
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From condit at ctfs.si.edu  Wed Sep 11 18:34:42 2002
From: condit at ctfs.si.edu (Richard Condit)
Date: Wed, 11 Sep 2002 11:34:42 -0500
Subject: [R] legend outside axes of image or other plot
Message-ID: <5.1.1.6.0.20020911113250.00a8f6b0@ctfs.si.edu>

Thanks for a number of answers on how to place a legend outside a plot. 
There were several recommending using layout() for a plot and a separate 
legend. I will file these away for future reference.

The easy answer which works great is par(xpd=T).

Rick


Richard Condit
Smithsonian Tropical Research Institute
Unit 0948
APO AA 34002-0948

condit at ctfs.si.edu
conditctfs at yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 11 18:38:04 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2002 18:38:04 +0200
Subject: [R] rational approximations to the normal cdf
In-Reply-To: <20020911161517.GA3382@orwell.gcsu.edu>
References: <20020911161517.GA3382@orwell.gcsu.edu>
Message-ID: <x2wupsscr7.fsf@biostat.ku.dk>

"Jason H. Stover" <jstover at gcsu.edu> writes:

> In the R source, nmath/pnorm.c contains the
> code for a rational function approximation 
> for the normal cdf. These constants are listed:
> 
>     const double a[5] = {
>         2.2352520354606839287,
>         161.02823106855587881,
>         1067.6894854603709582,
>         18154.981253343561249,
>         0.065682337918207449113
>     };
>  
> The source file cites a paper by Cody (1969)
> and states that these constants are derived from
> Cody's paper. I've checked the paper, and 
> the constants do not agree, so I assume someone 
> else derived slightly different constants. The source
> also contains a reference to 1993 paper by Cody, 
> but this paper describes software itself, not the 
> derivation of the approximation used.
> 
> Does anyone know of another reference for these
> and other constants used in pnorm.c? Is there a 
> general reference detailing how to derive such 
> approximations?
> 
> Thank-you,
> Jason

pnorm.c is based on ANORM from http://www.netlib.org/toms/715, which
has the same constants and is by Cody himself. The exacts words there
are:

C   The main computation evaluates near-minimax approximations
C   derived from those in "Rational Chebyshev approximations for
C   the error function" by W. J. Cody, Math. Comp., 1969, 631-637.

Notice "derived from". My guess would be that he applied the same
methods but to give optimal approximations over different intervals
from the 1969 paper. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Wed Sep 11 18:43:24 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 11 Sep 2002 09:43:24 -0700
Subject: [R] R 1.5.0 on Jaguar?
In-Reply-To: <F73iC1h1jYhAOylhgnF000006c1@hotmail.com>
Message-ID: <96C46B2A-C5A5-11D6-92EC-000393860F3C@stat.ucla.edu>

There are no problems compiling R under Mac OS X 10.2. Both R-1.5.1 and  
R-1,6.0-beta are
available.

On Wednesday, September 11, 2002, at 06:02 AM, John Smith wrote:

> It seems that someone was having trouble compiling R under Mac OS X  
> 10.2, but I'm wondering if anyone is running the version available  
> from  
> http://www.apple.com/downloads/macosx/math_science/rformacintosh.html  
> under OS X 10.2. This is important because I'm about to take delivery  
> of a new Power Mac running 10.2!
>
> John Shonder
> Oak Ridge National Laboratory
>
>
>
> _________________________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-help mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrogers at cantatapharm.com  Wed Sep 11 18:49:46 2002
From: jrogers at cantatapharm.com (James Rogers)
Date: Wed, 11 Sep 2002 12:49:46 -0400
Subject: [R] .Renviron and Renviron.site (on Windows XP)
Message-ID: <99A12772DCDEEB458B996332957B0D530116A6@mercury.cantatapharm.com>

Hello, 

Could someone please tell me why the following doesn't work: 

I have a file C:\Program Files\R\rw1051\etc\Renviron.site, which
contains the line: 

R_LIBS= "C:/Jim/LocalR-Libraries/FromCran";
"C:/Jim/LocalR-Libraries/Cantata"

>From the documentation, I gather that I have put this file in the
default location, but to be safe I also explicitly set the R_ENVIRON
environment variable. Now I indeed have: 

R> Sys.getenv("R_ENVIRON")
                                    R_ENVIRON 
"C:\\Progra~1\\R\\rw1051\\etc\\Renviron.site" 

So, I can't figure out why the libraries indicated in my file don't end
up in the library path: 

> .libPaths()
[1] "C:/PROGRA~1/R/rw1051/library"

If I rename Renviron.site as .Renviron and put it in the directory
indicated by Sys.getenv("R_USER") it still does not work. 

If I name the file .Renviron and put it in the same directory as the R
executable, it works:

> .libPaths()
[1] "C:/Jim/LocalR-Libraries/FromCran" "
C:/Jim/LocalR-Libraries/Cantata"
[3] "C:/PROGRA~1/R/rw1051/library" 

but (as I would expect) only when launching R from that directory. Of
course, I want this configuration file to be read regardless of the
directory from which I start R. 

I've scrutinized the documentation for a while now and I can't figure
out what's going wrong. 

R> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R      


Thanks very much,
Jim 


James A. Rogers, rogers at cantatapharm.com
Statistical Scientist
Cantata Pharmaceuticals 

 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Wed Sep 11 19:09:43 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Wed, 11 Sep 2002 19:09:43 +0200
Subject: [R] subsetting an ordered factor
Message-ID: <20020911190943.15e6f30b.rjvbertin@hotmail.com>

[I hope all of you had some good holidays/vacation!]

My current flabbergaster:

## a dummy factor
> size<- rep( c('short', 'long'), 10 )
## take a subset:
> subset( size, size!='short')
 [1] "long" "long" "long" "long" "long" "long" "long" "long" "long" "long"
## take another subset, all elements that are not some value not actually found:
> subset( size, size!='small')
 [1] "short" "long"  "short" "long"  "short" "long"  "short" "long"  "short" "long"  "short" "long"  "short" "long"  "short" "long" 
[17] "short" "long"  "short" "long" 
## Now order the factor:
> size<-ordered( size, levels=c('short', 'long' ) )
## repeat that subset:
> subset( size, size!='small')
ordered(0)
Levels:  short < long 

So it appears to be invalid/illegal/undefined to ask for all elements in an *ordered* factor that are *not* some value that does *not* occur in that factor. Whereas it is perfectly legal to do so for the same, unordered factor?!

## however:
> size<-ordered( size, levels=c('short', 'long', 'small' ) )
> subset( size, size!='small')
 [1] short long  short long  short long  short long  short long  short long  short long  short long  short long  short long 
Levels:  short < long < small 

I have not seen anything in the manpage for subset nor ordered that suggests this behaviour.

Can someone explain the use of this peculiarity to me, or is this a bug that should be (has been) reported?

RenE Bertin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From forporphyry at hotmail.com  Wed Sep 11 19:48:58 2002
From: forporphyry at hotmail.com (graham lawrence)
Date: Wed, 11 Sep 2002 10:48:58 -0700
Subject: [R] accolade
Message-ID: <DAV56HnFrYXvF2UOfjr000152d1@hotmail.com>

I've been using R for several months now, in fact it was my intro to "real"
computer programming.  It used to frustrate me no end, but lately I've
noticed my reaction has changed.  Nowadays its much more like "wow, is that
cool, or what?".  So I guess I've gotten over the hump of the learning
curve.
Comparing what I now do with R to my previous hodge-podge of spreadsheets
and supporting programs leaves me open-mouthed at the improvement it has
wrought.  To all of you who have contributed to this R project, thank you so
much.  What you have created is far from being merely useful; it is a thing
of true beauty, a delight to work with.

graham lawrence
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Wed Sep 11 20:26:30 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Wed, 11 Sep 2002 20:26:30 +0200
Subject: [R] accolade
Message-ID: <3D7FA6F6.23353.2924DCD@localhost>

Hi all,

I am still on my learning curve, but I would like to agree Graham in 
every point! Thanks a lot for this great software.

Patrick Hausmann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yiping.fan at syngenta.com  Wed Sep 11 20:28:41 2002
From: yiping.fan at syngenta.com (yiping.fan@syngenta.com)
Date: Wed, 11 Sep 2002 14:28:41 -0400
Subject: [R] changepoint analysis
Message-ID: <AF84AD19B4A8D411B18500508BAF0E0E018B5647@se-excur01-uslj.nadi.uslj>

Hi, all,
    I'd like to find one or more  changepoints in a dataset
eg
for data like  
0.9  1  0.8   0.8  0.85  0.3  0.9  0.9 0.9 1.1

0.3 is unlikely a changepoint

but for data like
0.9  1  0.8   0.8  0.85  0.3  0.2 0.2 0.1 0.2 0.3
0.3 is a change point

  I am wondering is there any function can do changepoint analysis?  


Ying Fan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 11 20:35:27 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 11 Sep 2002 14:35:27 -0400 (EDT)
Subject: [R] accolade
In-Reply-To: <DAV56HnFrYXvF2UOfjr000152d1@hotmail.com>
Message-ID: <Pine.LNX.4.44.0209111432400.5727-100000@bolker.zoo.ufl.edu>


  That's great.  To some extent the learning curve is unavoidable, but are
there particular things you wish someone had told you early on, or
particular kinds of documentation that you would have found really useful?
What kinds of documentation did you read and find most useful?  (Intro to
R, MASS, on-line help, r-help list ...) The stage you are at is really
important; you've learned to use R and to see things from its point of
view, but (maybe) you haven't yet forgotten all of the details of what it
looked like when it was brand-new to you.

   Ben Bolker

On Wed, 11 Sep 2002, graham lawrence wrote:

> I've been using R for several months now, in fact it was my intro to "real"
> computer programming.  It used to frustrate me no end, but lately I've
> noticed my reaction has changed.  Nowadays its much more like "wow, is that
> cool, or what?".  So I guess I've gotten over the hump of the learning
> curve.
> Comparing what I now do with R to my previous hodge-podge of spreadsheets
> and supporting programs leaves me open-mouthed at the improvement it has
> wrought.  To all of you who have contributed to this R project, thank you so
> much.  What you have created is far from being merely useful; it is a thing
> of true beauty, a delight to work with.
> 
> graham lawrence
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Wed Sep 11 22:30:55 2002
From: wss at ufla.br (washington santos da silva)
Date: Wed, 11 Sep 2002 17:30:55 -0300
Subject: [R] StructTS questions
Message-ID: <3D7FA7FE.F3BEE5E9@ufla.br>

Dear All

I would like to use the StructTS function in the ts library to fit the '
BSM ' model.
I have some, probably basics, questions about the model and about the
function(s):

1) How can I check the statistical significance of the estimated
parameters(variances)?

2) Is there some way to find what component "dominate" the series?

3) Is there a function to produce out-of-sample forecasts from this
model?

Thanks a lot for any help.

Washington S. Silva

OS: Windows 98
R: 1.5.1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Wed Sep 11 22:35:52 2002
From: wss at ufla.br (washington santos da silva)
Date: Wed, 11 Sep 2002 17:35:52 -0300
Subject: [R] accolade
References: <3D7FA6F6.23353.2924DCD@localhost>
Message-ID: <3D7FA928.7AD3ABFF@ufla.br>

I would like to agree with both, Graham and Hausmann.
Hurrra!!! to The R Development Core Team

Patrick Hausmann wrote:

> Hi all,
>
> I am still on my learning curve, but I would like to agree Graham in
> every point! Thanks a lot for this great software.
>
> Patrick Hausmann
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Wed Sep 11 20:27:27 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Wed, 11 Sep 2002 20:27:27 +0200
Subject: [R] lme with/without varPower - can I use AIC?
Message-ID: <JLEPLGAANFCEAEDCAGJNMEPDCCAA.dieter.menne@menne-biomed.de>

I want to compare the following two models in AIC
(Treat, Spotter are categorial, p is pressure, Pain is 
continuous)

PainW.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat,
             weights=varPower(form=~Pain))
# AIC= -448

Pain.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat)
#AIC = -19.7

Note the huge differences in AIC, and the estimated power of 6.
A plot of the residual does not show an unusual patterns for
both models.

I do not trust the varPower result, but don't have any rationale
for it.

1) Can I use the AIC at all to compare two weightings?
2) Can I trust such a high power estimate? There is definitively 
some slight dependency of variance on Pain, but it is not extreme.
3) I tried fitted(.) instead of Pain, but it did no converge after
5 Minutes.

---- Detail ---
> PainW.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat,
+             weights=varPower(form=~Pain))
> summary(PainW.lme)
Linear mixed-effects model fit by REML
 Data: saw 
   AIC  BIC logLik
  -448 -413    234

Random effects:
 Formula: ~p | Pat
 Structure: General positive-definite, Log-Cholesky parametrization
            StdDev   Corr  
(Intercept) 6.48e-02 (Intr)
p           4.19e-06 0     
Residual    1.65e-01       

Variance function:
 Structure: Power of variance covariate
 Formula: ~Pain 
 Parameter estimates:

power 
 5.89 

Fixed effects: Pain ~ p + Treat * Spotter 
                     Value Std.Error  DF t-value p-value
(Intercept)          0.747   0.01753 214    42.6  <.0001
p                    0.000   0.00017 214     1.4   0.164
TreatXen            -0.003   0.00555 214    -0.5   0.587
SpotterSp+          -0.015   0.02492  29    -0.6   0.551
TreatXen:SpotterSp+  0.011   0.00847 214     1.4   0.177
 Correlation: 
                    (Intr) p      TretXn SpttS+
p                   -0.151                     
TreatXen            -0.163 -0.088              
SpotterSp+          -0.685 -0.020  0.125       
TreatXen:SpotterSp+  0.106  0.062 -0.655 -0.194

Standardized Within-Group Residuals:
   Min     Q1    Med     Q3    Max 
-2.473 -0.180  0.229  0.839  2.443 

Number of Observations: 248
Number of Groups: 31 

> Pain.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat)
> summary(Pain.lme)
Linear mixed-effects model fit by REML
 Data: saw 
    AIC  BIC logLik
  -19.7 11.8   18.8

Random effects:
 Formula: ~p | Pat
 Structure: General positive-definite, Log-Cholesky parametrization
            StdDev  Corr  
(Intercept) 0.00748 (Intr)
p           0.00746 0.144 
Residual    0.18544       

Fixed effects: Pain ~ p + Treat * Spotter 
                     Value Std.Error  DF t-value p-value
(Intercept)          0.751    0.0360 214   20.87  <.0001
p                    0.008    0.0017 214    4.62  <.0001
TreatXen            -0.047    0.0328 214   -1.45  0.1497
SpotterSp+           0.067    0.0489  29    1.36  0.1839
TreatXen:SpotterSp+ -0.119    0.0472 214   -2.51  0.0127
 Correlation: 
                    (Intr) p      TretXn SpttS+
p                   -0.358                     
TreatXen            -0.444 -0.007              
SpotterSp+          -0.637 -0.013  0.329       
TreatXen:SpotterSp+  0.305  0.017 -0.696 -0.490

Standardized Within-Group Residuals:
   Min     Q1    Med     Q3    Max 
-3.001 -0.586 -0.112  0.380  3.591 

Number of Observations: 248
Number of Groups: 31 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Sep 11 23:40:41 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Wed, 11 Sep 2002 23:40:41 +0200 (CEST)
Subject: [R] Blas routines not in load table
In-Reply-To: <Pine.A41.4.44.0209091022420.115238-100000@homer12.u.washington.edu>
Message-ID: <Pine.LNX.4.44.0209112332200.17441-100000@tal.stat.umu.se>

I'm building an  R  package, which uses  Fortran code, including a few
lapack routines, which I supply. They in turn use some blas routines,
which I thought  R  would supply. But

> is.loaded("dgemv_")
[1] FALSE

However (e.g.),

> is.loaded("dswap_")
[1] TRUE

although both  dgemv  and  dswap  are found in  'blas.f' in
scr/appl. What is wrong?

G?ran
---
 G?ran Brostr?m                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume? University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.cunliffe at auckland.ac.nz  Thu Sep 12 00:51:31 2002
From: r.cunliffe at auckland.ac.nz (Rachel Cunliffe)
Date: Thu, 12 Sep 2002 10:51:31 +1200
Subject: [R] lattice package syntax error
Message-ID: <KEEMIAHKLPCAIPGIMGIMCEGHDIAA.rachel@stat.auckland.ac.nz>

I just tried downloading the lattice package from CRAN but got a syntax
error when loading the library (see below).

> {a <- CRAN.packages()
+ install.packages(select.list(a[,1],,TRUE), .lib.loc[1], available=a)}
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 7505 bytes
opened URL
downloaded 7505 bytes

trying URL `http://cran.r-project.org/bin/windows/contrib/lattice.zip'
Content type `application/zip' length 351599 bytes
opened URL
downloaded 343Kb

Delete downloaded files (y/N)? y

updating HTML package descriptions
> library(lattice)
Error in parse(file, n, text, prompt) : syntax error on line 2022

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu Sep 12 05:52:00 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 11 Sep 2002 20:52:00 -0700 (PDT)
Subject: [R] multiple "keys" in Trellis plots?
In-Reply-To: <763C275E6A1C2248AFD475237AD6135BE7CFD0@MSGBOS576NTS.fmr.com>
Message-ID: <20020912035200.27409.qmail@web13907.mail.yahoo.com>


Hi,

If you need to do something on a per panel basis, you have to include that in
the panel function. keys can be drawn (in any grid viewport) with the draw.key
function. For example (with your data),


key <- list(key1 = list(text = list(paste("myFrame1", 1:3))),
            key2 = list(text = list(paste("myFrame2", 4:6))))
i <- 1
print(xyplot(a ~ b | which, myFrame, groups=c,
             panel = function(...) {
                 panel.superpose(...)
                 draw.key(key[[i]], draw = TRUE, vp = viewport(.6, .9))
                 i <<- i + 1
             },
             t="l"))


(I'm using an indexing variable i because the panel function isn't passed
information on which panel is being drawn. It wouldn't be necessary If your key
can be defined just in terms of the data passed to the panel function) 

Hope that helps.

Deepayan

--- "Bartz, Kevin" <Kevin.Bartz at FMR.COM> wrote:
> My xyplot has a number of panels, and I'd like a separate key for each
> rather than a single key for the entire set. However, I cannot find a way to
> pass multiple key definitions to xyplot's "key" argument.
> 
> Allow me to throw out a simple example:
> 
> require(methods)
> require(lattice)
> 
> ## define sample data
> myFrame1 <- data.frame(a=1:100, b=rep(1:10,10), c=unlist(lapply(1:10, rep,
> 10)))
> myFrame2 <- data.frame(a=50:1,  b=rep(1:10,5),  c=unlist(lapply(1:5, rep,
> 10)))
> myFrame  <- cbind(rbind(myFrame1, myFrame2),
>                   which=c(rep("Display for myFrame1", 100),
>                     rep("Display for myFrame2", 50)))
> 
> ## now send the data to a Trellis device
> trellis.device()
> print(xyplot(a ~ b | which, myFrame, groups=c,
>              key=list(text=list(lab=paste("myFrame1 Line", 1:10))),
>              panel="panel.superpose", t="l"))
> 
> What I really want here is two separate keys, one for the plot on the first
> panel, representing the lines in myFrame1, and one for the plot on the
> second, representing the lines in myFrame2.
> 
> Can anyone suggest a solution?
> 
> Thanks,
> 
> Kevin
> 
> > R.version
>          _                   
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    5.1                 
> year     2002                
> month    06                  
> day      17                  
> language R                   
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________

Yahoo! News - Today's headlines

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Sep 12 08:11:12 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 12 Sep 2002 08:11:12 +0200 (MET DST)
Subject: [R] changepoint analysis
In-Reply-To: <AF84AD19B4A8D411B18500508BAF0E0E018B5647@se-excur01-uslj.nadi.uslj> from "yiping.fan@syngenta.com" at Sep 11, 2002 02:28:41 PM
Message-ID: <200209120611.IAA13149@luc.ac.be>

> 
> Hi, all,
>     I'd like to find one or more  changepoints in a dataset
> eg
> for data like  
> 0.9  1  0.8   0.8  0.85  0.3  0.9  0.9 0.9 1.1
> 
> 0.3 is unlikely a changepoint
> 
> but for data like
> 0.9  1  0.8   0.8  0.85  0.3  0.2 0.2 0.1 0.2 0.3
> 0.3 is a change point
> 
>   I am wondering is there any function can do changepoint analysis?  

Two possible approaches are:
1. use a two-state hidden Markov model (for example, using the
function hidden in my repeated library) or
2. write a nonlinear regression function with the changepoint as a
parameter (using virtually any of the functions in any of my libraries
because almost all handle nonlinear regression) but, because of the
discontinuity, it is best to iterate through a series of possible
values of the changepoint and choose the best log likelihoods.
  libraries at www.luc.ac.be/~jlindsey/rcode.html
  Jim
> 
> 
> Ying Fan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 12 08:26:20 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 12 Sep 2002 08:26:20 +0200
Subject: [R] lattice package syntax error
References: <KEEMIAHKLPCAIPGIMGIMCEGHDIAA.rachel@stat.auckland.ac.nz>
Message-ID: <3D80338C.4E12F544@statistik.uni-dortmund.de>



Rachel Cunliffe wrote:
> 
> I just tried downloading the lattice package from CRAN but got a syntax
> error when loading the library (see below).
> 
> > {a <- CRAN.packages()
> + install.packages(select.list(a[,1],,TRUE), .lib.loc[1], available=a)}
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> Content type `text/plain; charset=iso-8859-1' length 7505 bytes
> opened URL
> downloaded 7505 bytes
> 
> trying URL `http://cran.r-project.org/bin/windows/contrib/lattice.zip'
> Content type `application/zip' length 351599 bytes
> opened URL
> downloaded 343Kb
> 
> Delete downloaded files (y/N)? y
> 
> updating HTML package descriptions
> > library(lattice)
> Error in parse(file, n, text, prompt) : syntax error on line 2022


Strange, if your versions of R and grid are recent, but you have neither
told that, nor anything about your OS (which seems to be a Windows) ...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.cunliffe at auckland.ac.nz  Thu Sep 12 08:52:01 2002
From: r.cunliffe at auckland.ac.nz (Rachel Cunliffe)
Date: Thu, 12 Sep 2002 08:52:01 +0200
Subject: [R] lattice package syntax error
Message-ID: <15744.14737.10064.869825@gargle.gargle.HOWL>


       [this accidentally was sent to owner-r-help@ ...
	a person who has now manually forwarded this to the
	mailing list. -- MM ]

I just tried downloading the lattice package from CRAN but got a syntax
error when loading the library (see below).

> {a <- CRAN.packages()
+ install.packages(select.list(a[,1],,TRUE), .lib.loc[1], available=a)}
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 7505 bytes
opened URL
downloaded 7505 bytes

trying URL `http://cran.r-project.org/bin/windows/contrib/lattice.zip'
Content type `application/zip' length 351599 bytes
opened URL
downloaded 343Kb

Delete downloaded files (y/N)? y

updating HTML package descriptions
> library(lattice)
Error in parse(file, n, text, prompt) : syntax error on line 2022

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Sep 12 09:36:28 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 12 Sep 2002 09:36:28 +0200
Subject: [R] changepoint analysis
References: <AF84AD19B4A8D411B18500508BAF0E0E018B5647@se-excur01-uslj.nadi.uslj>
Message-ID: <007301c25a2f$20d52ec0$5c13070a@it.giustizia.it>


See the strucchange package for testing problem.
The next version of this package is going to include estimation of
changepoints

best,
vito

----- Original Message -----
From: <yiping.fan at syngenta.com>
To: <r-help at stat.math.ethz.ch>
Sent: Wednesday, September 11, 2002 8:28 PM
Subject: [R] changepoint analysis


> Hi, all,
>     I'd like to find one or more  changepoints in a dataset
> eg
> for data like
> 0.9  1  0.8   0.8  0.85  0.3  0.9  0.9 0.9 1.1
>
> 0.3 is unlikely a changepoint
>
> but for data like
> 0.9  1  0.8   0.8  0.85  0.3  0.2 0.2 0.1 0.2 0.3
> 0.3 is a change point
>
>   I am wondering is there any function can do changepoint analysis?
>
>
> Ying Fan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep 12 10:04:07 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 12 Sep 2002 10:04:07 +0200
Subject: [R] .Renviron and Renviron.site (on Windows XP)
In-Reply-To: <99A12772DCDEEB458B996332957B0D530116A6@mercury.cantatapharm.com>
References: <99A12772DCDEEB458B996332957B0D530116A6@mercury.cantatapharm.com>
Message-ID: <15744.19063.91899.125981@gargle.gargle.HOWL>

>>>>> "JamesR" == James Rogers <jrogers at cantatapharm.com>
>>>>>     on Wed, 11 Sep 2002 12:49:46 -0400 writes:

    JamesR> Hello, 
    JamesR> Could someone please tell me why the following doesn't work: 

    JamesR> I have a file C:\Program Files\R\rw1051\etc\Renviron.site, which
    JamesR> contains the line: 

this may already be the problem:  
     You use a directory/file name with spaces in it
     (and the rw-faq and other notes tell you you shouldn't)...

But note that I don't really have much of a clue about Windows
installations.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep 12 10:31:21 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 12 Sep 2002 10:31:21 +0200 (CEST)
Subject: [R] Documentation of print methods missing
In-Reply-To: <Pine.LNX.4.44.0209112332200.17441-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.44.0209121023140.18563-100000@tal.stat.umu.se>

When I try

> ?print.glm

I get

Warning message:
Using non-linked HTML file: style sheet and hyperlinks may be incorrect
in: help("print.glm")

and "...all methods for class glm...", but not a word about printing.
Similarly for 'print.lm', 'print.coxph', but not, e.g., 'print.ts'.

Does the "Warning ..." imply that my installation is incomplete? I've
done the usual stuff ( configure; make; make install) with R-1.5.1 on
Linux/Debian.

G?ran
---
 G?ran Brostr?m                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume? University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Sep 12 11:15:41 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 12 Sep 2002 11:15:41 +0200
Subject: [R] changepoint analysis
References: <AF84AD19B4A8D411B18500508BAF0E0E018B5647@se-excur01-uslj.nadi.uslj> <007301c25a2f$20d52ec0$5c13070a@it.giustizia.it>
Message-ID: <3D805B3D.8E12E27B@ci.tuwien.ac.at>

vito muggeo wrote:
> 
> See the strucchange package for testing problem.
> The next version of this package is going to include estimation of
> changepoints

Yes, that's right. It could be used for this kind of problem. Contact me
privately if you're interested in a current strucchange snapshot.
The package maxstat also contains methods which might be helpful.
Best,
Z

> best,
> vito
> 
> ----- Original Message -----
> From: <yiping.fan at syngenta.com>
> To: <r-help at stat.math.ethz.ch>
> Sent: Wednesday, September 11, 2002 8:28 PM
> Subject: [R] changepoint analysis
> 
> > Hi, all,
> >     I'd like to find one or more  changepoints in a dataset
> > eg
> > for data like
> > 0.9  1  0.8   0.8  0.85  0.3  0.9  0.9 0.9 1.1
> >
> > 0.3 is unlikely a changepoint
> >
> > but for data like
> > 0.9  1  0.8   0.8  0.85  0.3  0.2 0.2 0.1 0.2 0.3
> > 0.3 is a change point
> >
> >   I am wondering is there any function can do changepoint analysis?
> >
> >
> > Ying Fan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From AlessandroSemeria at cramont.it  Thu Sep 12 12:35:22 2002
From: AlessandroSemeria at cramont.it (AlessandroSemeria@cramont.it)
Date: Thu, 12 Sep 2002 12:35:22 +0200
Subject: [R] data in legend
Message-ID: <OF9042C6F6.FFAEBEA2-ONC1256C32.003A06F3@tomware.it>

Hi!
I would print some element of a vector between a text inside a legend of a
plot(base),
someone could say me how to do it?
Thanks in advance!
A.Semeria


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Thu Sep 12 12:33:50 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Thu, 12 Sep 2002 06:33:50 EDT
Subject: [R] Problem with indexing
Message-ID: <10e.172b5a91.2ab1c78e@aol.com>

Dear List

I am having a bit of a problem getting a program to work.

For each of i=1 to n persons I have a matrix (different for each person) with 
m rows.

What I want to do, is create m new data sets such that the first is made up 
of the first row for each person from the original matrices, the second 
contains the second row for each person from the original matrices etc etc up 
to the mth new set containing the mth row from the original matrices for each 
person.

Say the original matrix for each person can be indexed by xfinal.list[[i]]

I want to extract for each person in turn, the jth row, i.e. 
xfinal.list[[i]][j,] then bind these n vectors into a new matrix.

I am a little confused as to how I can index the jth row from the ith person, 
obviously I will need a loop 

I thought I would be able to use something like:

for (j in 1:m) {
for (i in 1:n) {
vector.list[[i,j]]<-xfinal.list[[i]][j,]
} }

However I get the error that [[]] is an improper number of subscripts

Could anyone tell me how I can index it so that I can call up say the jth row 
for the ith person?

As a secondary question, when using 
do.call("rbind", args) is it possible to use indexing i.e do.call("rbind", 
vector.list[[i,j]]) so that the vector from row j for each person are 
combined into a new matrix?

Many thanks for any help
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Thu Sep 12 12:04:25 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 12 Sep 2002 12:04:25 +0200
Subject: [R] lme with/without varPower - can I use AIC?
In-Reply-To: <3D805F8F.F37D19A0@sentoo.sn>
Message-ID: <JLEPLGAANFCEAEDCAGJNMEPFCCAA.dieter.menne@menne-biomed.de>

Renaud,

> Obviously, from this definition, you won't get the same value for t.hat
> if you do:
> 
> PainW.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat,
>              weights=varPower(form=~Pain))
> 
> or
> 
> pain <- Pain / 10
> PainW.lme<-lme(Pain~p+Treat*Spotter,data=saw,random=~p|Pat,
>              weights=varPower(form=~pain))
> 

Well, I do get the same. Or at least "almost", there must be some problem
with the algorithm:

Factor for Pain     Power 
*0.001               5.9
*0.1                 5.9 
*1                   5.9  // Orignal data
*2                   5.78 // Don't ask me about this!!!
*3 and all larger    6.56 



Dieter


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Thu Sep 12 13:14:19 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Thu, 12 Sep 2002 12:14:19 +0100
Subject: [R] DBI / MySQL problems
Message-ID: <200209121214.19088.ltorgo@liacc.up.pt>

Hi.
I frequently use RMySQL package to interface R with MySQL databases. I was 
having a try with package DBI and I got the following error:

> library(RMySQL)
> library(DBI)
> drv <- dbDriver("MySQL")
> ch <- dbConnect(drv, dbname="mydb", user="myuser", password="mypasswd")
> ibm <- dbGetQuery(ch,"select * from table where field1='val'")
Error in dbGetQuery(ch, "select * from table where field1='val'") : 
	No direct or inherited method for function "dbGetQuery" for this call


Even other things like for instance:

> dbListTables(ch)
Error in dbListTables(ch) : No direct or inherited method for function 
"dbListTables" for this call

Produce the same kind of error...

I've already browsed through the documentation accompnying DBI but I have no 
clue on what am I doing wrong....

> R.version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R    

Thanks for any help,
luis

-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Sep 12 12:52:14 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 12 Sep 2002 12:52:14 +0200
Subject: [R] data in legend
Message-ID: <3.0.32.20020912125214.009156e0@162.38.183.200>

At 12:35 12/09/02 +0200, you wrote:
>Hi!
>I would print some element of a vector between a text inside a legend of a
>plot(base),
>someone could say me how to do it?
>Thanks in advance!
>A.Semeria

Perhaps something like this could help:

x <- 1:3
plot(x, pch = x)
legend(1, 3, legend = paste("pch =", x), pch = 1:3)


EP
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Thu Sep 12 13:17:03 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Thu, 12 Sep 2002 13:17:03 +0200
Subject: [R] data in legend
Message-ID: <3D8093CF.16613.1433AD@localhost>


> I would print some element of a vector between a text inside a legend of a 
> plot(base), someone could say me how to do it? 

Maybe something like this:

plot(1:10, type="l")
Test.ID <- c(1,2,3,4)
legend(2,10,paste("Test.ID[", Test.ID[3],"]",sep = ""),lty=c(1)) 

 Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 12 13:15:10 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 12 Sep 2002 13:15:10 +0200
Subject: [R] Problem with indexing
References: <10e.172b5a91.2ab1c78e@aol.com>
Message-ID: <3D80773E.37B9C1F1@statistik.uni-dortmund.de>

Bayesianbay at aol.com wrote:
> 
> Dear List
> 
> I am having a bit of a problem getting a program to work.
> 
> For each of i=1 to n persons I have a matrix (different for each person) with
> m rows.
> 
> What I want to do, is create m new data sets such that the first is made up
> of the first row for each person from the original matrices, the second
> contains the second row for each person from the original matrices etc etc up
> to the mth new set containing the mth row from the original matrices for each
> person.
> 
> Say the original matrix for each person can be indexed by xfinal.list[[i]]
> 
> I want to extract for each person in turn, the jth row, i.e.
> xfinal.list[[i]][j,] then bind these n vectors into a new matrix.
> 
> I am a little confused as to how I can index the jth row from the ith person,
> obviously I will need a loop
> 
> I thought I would be able to use something like:
> 
> for (j in 1:m) {
> for (i in 1:n) {
> vector.list[[i,j]]<-xfinal.list[[i]][j,]
> } }

Try:

  new.list <- vector(mode="list", length=m)
  for(j in 1:m){
    temp <- unlist(lapply(xfinal.list, function(x) x[j,])
    new.list[[j]] <- matrix(unlist(temp), nrow=n, byrow=TRUE)
  }
    

> However I get the error that [[]] is an improper number of subscripts
> 
> Could anyone tell me how I can index it so that I can call up say the jth row
> for the ith person?
> 
> As a secondary question, when using
> do.call("rbind", args) is it possible to use indexing i.e do.call("rbind",
> vector.list[[i,j]]) so that the vector from row j for each person are
> combined into a new matrix?

The double brackets are for list indexing - and that's one dimensional.
Two indexes are working for matrices/arrays in single brackets.

The do.call() explaination is left for its expert, Bill Venables.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 12 13:29:25 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 12 Sep 2002 13:29:25 +0200
Subject: [R] .Renviron and Renviron.site (on Windows XP)
References: <99A12772DCDEEB458B996332957B0D530116A6@mercury.cantatapharm.com> <15744.19063.91899.125981@gargle.gargle.HOWL>
Message-ID: <3D807A95.C0870618@statistik.uni-dortmund.de>

Martin Maechler wrote:
> 
> >>>>> "JamesR" == James Rogers <jrogers at cantatapharm.com>
> >>>>>     on Wed, 11 Sep 2002 12:49:46 -0400 writes:
> 
>     JamesR> Hello,
>     JamesR> Could someone please tell me why the following doesn't work:
> 
>     JamesR> I have a file C:\Program Files\R\rw1051\etc\Renviron.site, which
>     JamesR> contains the line:
> 
> this may already be the problem:
>      You use a directory/file name with spaces in it
>      (and the rw-faq and other notes tell you you shouldn't)...
> 
> But note that I don't really have much of a clue about Windows
> installations.

Well, doesn't work for me either. Seems to be a bug, I'll just file a
bug report.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Thu Sep 12 13:44:16 2002
From: dj at research.bell-labs.com (David James)
Date: Thu, 12 Sep 2002 07:44:16 -0400
Subject: [R] DBI / MySQL problems
In-Reply-To: <200209121214.19088.ltorgo@liacc.up.pt>; from ltorgo@liacc.up.pt on Thu, Sep 12, 2002 at 12:14:19PM +0100
References: <200209121214.19088.ltorgo@liacc.up.pt>
Message-ID: <20020912074416.B26694@jessie.research.bell-labs.com>

Luis Torgo wrote:
> Hi.
> I frequently use RMySQL package to interface R with MySQL databases. I was 
> having a try with package DBI and I got the following error:
> 

The version of RMySQL that you have is not DBI-compliant.  The new version
RMySQL 0.5-0 is.   With the very-soon release of R 1.6.0 there will be
DBI-compliant packages for Oracle, MySQL, and SQLite (they all will require
1.6.0).

I'd suggest to wait a couple of weeks, upgrade to 1.6.0 and try DBI/RMySQL again.

Regards,

--
David

> > library(RMySQL)
> > library(DBI)
> > drv <- dbDriver("MySQL")
> > ch <- dbConnect(drv, dbname="mydb", user="myuser", password="mypasswd")
> > ibm <- dbGetQuery(ch,"select * from table where field1='val'")
> Error in dbGetQuery(ch, "select * from table where field1='val'") : 
> 	No direct or inherited method for function "dbGetQuery" for this call
> 
> 
> Even other things like for instance:
> 
> > dbListTables(ch)
> Error in dbListTables(ch) : No direct or inherited method for function 
> "dbListTables" for this call
> 
> Produce the same kind of error...
> 
> I've already browsed through the documentation accompnying DBI but I have no 
> clue on what am I doing wrong....
> 
> > R.version
>          _                
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    5.1              
> year     2002             
> month    06               
> day      17               
> language R    
> 
> Thanks for any help,
> luis
> 
> -- 
> Luis Torgo
>     FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
>     Machine Learning Group           Fax   : (+351) 22 600 36 54
>     R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
>     4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.p.beckerman at stir.ac.uk  Thu Sep 12 14:55:15 2002
From: a.p.beckerman at stir.ac.uk (Andrew Beckerman)
Date: Thu, 12 Sep 2002 13:55:15 +0100
Subject: [R] dropterm, binomial.glm, F-test
Message-ID: <5.1.0.14.0.20020912134556.00abb170@falloch.stir.ac.uk>

Hi there -

I am using R1.5.1 on WinNT and the latest MASS (Venables and Ripley) library.

Running the following code:

 >minimod<-glm(miniSF~gtbt*f.batch+log(mxjd),data=gtbt,family="binomial")

 >summary(minimod,cor=F)
Coefficients:
                 Estimate Std. Error z value Pr(>|z|)
(Intercept)      0.91561    0.32655   2.804 0.005049 **
gtbtgt           0.47171    0.23614   1.998 0.045766 *
f.batch2         0.48332    0.31159   1.551 0.120866
log(mxjd)       -0.26675    0.06889  -3.872 0.000108 ***
gtbtgt:f.batch2 -0.92483    0.37244  -2.483 0.013023 *
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

(Dispersion parameter for binomial family taken to be 1)

     Null deviance: 4117.4  on 14  degrees of freedom
Residual deviance: 4053.1  on 10  degrees of freedom
AIC: 4131.3

 >anova(minimod,test="Chisq")
 >anova(minimod,test="F")
 >dropterm(minimod,test="Chisq")
 >dropterm(minimod,test="F")

produces the following, suggesting that the anova function does not deal 
with the F-test for quasibinomial family.... should it or is dropterm() 
doing something odd?

cheers,
andrew

 > anova(minimod,test="Chisq")
Analysis of Deviance Table

---
Terms added sequentially (first to last)


              Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                            14     4117.4
gtbt          1     40.3        13     4077.1 2.225e-10
f.batch       1      8.5        12     4068.6 3.541e-03
log(mxjd)     1      9.4        11     4059.3 2.217e-03
gtbt:f.batch  1      6.2        10     4053.1 1.301e-02
 > anova(minimod,test="F")

Analysis of Deviance Table
---
Terms added sequentially (first to last)


              Df Deviance Resid. Df Resid. Dev       F    Pr(>F)
NULL                            14     4117.4
gtbt          1     40.3        13     4077.1 40.2588 2.225e-10 ***
f.batch       1      8.5        12     4068.6  8.5053  0.003541 **
log(mxjd)     1      9.4        11     4059.3  9.3605  0.002217 **
gtbt:f.batch  1      6.2        10     4053.1  6.1678  0.013009 *
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
 > dropterm(minimod,test="Chisq")
Single term deletions

Model:
miniSF ~ gtbt * f.batch + log(mxjd)
              Df Deviance    AIC    LRT   Pr(Chi)
<none>            4053.1 4131.3
log(mxjd)     1   4068.0 4144.2   14.9 0.0001139 ***
gtbt:f.batch  1   4059.3 4135.4    6.2 0.0130093 *
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
 > dropterm(minimod,test="F")
Single term deletions

Model:
miniSF ~ gtbt * f.batch + log(mxjd)
              Df Deviance    AIC F value  Pr(F)
<none>            4053.1 4131.3
log(mxjd)     1   4068.0 4144.2  0.0367 0.8518
gtbt:f.batch  1   4059.3 4135.4  0.0152 0.9043
Warning message:
F test assumes quasibinomial family in: dropterm.glm(minimod, test = "F")
----------------------------------------------------------
Dr. Andrew Beckerman
Institute of Biological Science
University of Stirling
Stirling FK9 4LA
+44 (0)1786 then wk-467808 fx-464994
(APB is not responsible for anything below this)

-- 
The University of Stirling is a university established in Scotland by
charter at Stirling, FK9 4LA.  Privileged/Confidential Information may
be contained in this message.  If you are not the addressee indicated
in this message (or responsible for delivery of the message to such
person), you may not disclose, copy or deliver this message to anyone
and any action taken or omitted to be taken in reliance on it, is
prohibited and may be unlawful.  In such case, you should destroy this
message and kindly notify the sender by reply email.  Please advise
immediately if you or your employer do not consent to Internet email
for messages of this kind.  Opinions, conclusions and other
information in this message that do not relate to the official
business of the University of Stirling shall be understood as neither
given nor endorsed by it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Sep 12 16:58:52 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 12 Sep 2002 07:58:52 -0700 (PDT)
Subject: [R] Problem with leaps (long)
In-Reply-To: <200209110843.g8B8hvbK004170@agesi.bs.ehu.es>
Message-ID: <Pine.A41.4.44.0209120755140.155470-100000@homer34.u.washington.edu>

On Wed, 11 Sep 2002, F. Tusell wrote:

> On looking at object "mods", I see that indeed mods$Cp is full of NaNs.
>
> Exactly the same file worked last year. What is more strange, if I
> type or paste the commands interactively, I get plausible Cp values in
> mods$Cp. It is only in BATCH that the thing goes stray.

Strange. I'll look at this.

>
> While on the same topic, the help on line advocates the use of function
> regsubsets, which is said to improve on leaps on several ways. However,
> I see no way to select different criteria (Cp, R2, adjR2) in said
> function.

You don't need to select different criteria in fitting.  You always get
the best model(s) of each size, and within a model size the criteria are
all equivalent to the residual sum of squares.  The summary() method
computes all these criteria, so you can use whichever you like.

The leaps() function works the same way, it's just that it doesn't even
report the other criteria.  In the actual Fortran it's all just residual
sums of squares.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.p.beckerman at stir.ac.uk  Thu Sep 12 18:12:52 2002
From: a.p.beckerman at stir.ac.uk (Andrew Beckerman)
Date: Thu, 12 Sep 2002 17:12:52 +0100
Subject: [R] f-test, binomial, anova
In-Reply-To: <5.1.0.14.0.20020912134556.00abb170@falloch.stir.ac.uk>
Message-ID: <5.1.0.14.0.20020912171014.00ae13b0@falloch.stir.ac.uk>

Dear all - i think I answered my question:

If i had correctly specified glm(..., family = quasibinomial), anova() 
presents the F-test properly when requested.  Venables' and Ripley's MASS 
library dropterm() seems to be able to pass the F-test through to a model 
that was specified as glm(...,family=binomial), which is kind of nice.

cheers
andrew

At 13:55 12/09/02 +0100, Andrew Beckerman wrote:
>Hi there -
>
>I am using R1.5.1 on WinNT and the latest MASS (Venables and Ripley) library.
>
>Running the following code:
>
> >minimod<-glm(miniSF~gtbt*f.batch+log(mxjd),data=gtbt,family="binomial")
>
> >summary(minimod,cor=F)
>Coefficients:
>                 Estimate Std. Error z value Pr(>|z|)
>(Intercept)      0.91561    0.32655   2.804 0.005049 **
>gtbtgt           0.47171    0.23614   1.998 0.045766 *
>f.batch2         0.48332    0.31159   1.551 0.120866
>log(mxjd)       -0.26675    0.06889  -3.872 0.000108 ***
>gtbtgt:f.batch2 -0.92483    0.37244  -2.483 0.013023 *
>---
>Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
>(Dispersion parameter for binomial family taken to be 1)
>
>     Null deviance: 4117.4  on 14  degrees of freedom
>Residual deviance: 4053.1  on 10  degrees of freedom
>AIC: 4131.3
>
> >anova(minimod,test="Chisq")
> >anova(minimod,test="F")
> >dropterm(minimod,test="Chisq")
> >dropterm(minimod,test="F")
>
>produces the following, suggesting that the anova function does not deal 
>with the F-test for quasibinomial family.... should it or is dropterm() 
>doing something odd?
>
>cheers,
>andrew
>
> > anova(minimod,test="Chisq")
>Analysis of Deviance Table
>
>---
>Terms added sequentially (first to last)
>
>
>              Df Deviance Resid. Df Resid. Dev P(>|Chi|)
>NULL                            14     4117.4
>gtbt          1     40.3        13     4077.1 2.225e-10
>f.batch       1      8.5        12     4068.6 3.541e-03
>log(mxjd)     1      9.4        11     4059.3 2.217e-03
>gtbt:f.batch  1      6.2        10     4053.1 1.301e-02
> > anova(minimod,test="F")
>
>Analysis of Deviance Table
>---
>Terms added sequentially (first to last)
>
>
>              Df Deviance Resid. Df Resid. Dev       F    Pr(>F)
>NULL                            14     4117.4
>gtbt          1     40.3        13     4077.1 40.2588 2.225e-10 ***
>f.batch       1      8.5        12     4068.6  8.5053  0.003541 **
>log(mxjd)     1      9.4        11     4059.3  9.3605  0.002217 **
>gtbt:f.batch  1      6.2        10     4053.1  6.1678  0.013009 *
>---
>Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> > dropterm(minimod,test="Chisq")
>Single term deletions
>
>Model:
>miniSF ~ gtbt * f.batch + log(mxjd)
>              Df Deviance    AIC    LRT   Pr(Chi)
><none>            4053.1 4131.3
>log(mxjd)     1   4068.0 4144.2   14.9 0.0001139 ***
>gtbt:f.batch  1   4059.3 4135.4    6.2 0.0130093 *
>---
>Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> > dropterm(minimod,test="F")
>Single term deletions
>
>Model:
>miniSF ~ gtbt * f.batch + log(mxjd)
>              Df Deviance    AIC F value  Pr(F)
><none>            4053.1 4131.3
>log(mxjd)     1   4068.0 4144.2  0.0367 0.8518
>gtbt:f.batch  1   4059.3 4135.4  0.0152 0.9043
>Warning message:
>F test assumes quasibinomial family in: dropterm.glm(minimod, test = "F")
>----------------------------------------------------------
>Dr. Andrew Beckerman
>Institute of Biological Science
>University of Stirling
>Stirling FK9 4LA
>+44 (0)1786 then wk-467808 fx-464994
>(APB is not responsible for anything below this)
>
>--
>The University of Stirling is a university established in Scotland by
>charter at Stirling, FK9 4LA.  Privileged/Confidential Information may
>be contained in this message.  If you are not the addressee indicated
>in this message (or responsible for delivery of the message to such
>person), you may not disclose, copy or deliver this message to anyone
>and any action taken or omitted to be taken in reliance on it, is
>prohibited and may be unlawful.  In such case, you should destroy this
>message and kindly notify the sender by reply email.  Please advise
>immediately if you or your employer do not consent to Internet email
>for messages of this kind.  Opinions, conclusions and other
>information in this message that do not relate to the official
>business of the University of Stirling shall be understood as neither
>given nor endorsed by it.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------------------------------------------
Dr. Andrew Beckerman
Institute of Biological Science
University of Stirling
Stirling FK9 4LA
+44 (0)1786 then wk-467808 fx-464994
(APB is not responsible for anything below this)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Sep 12 18:59:03 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 12 Sep 2002 18:59:03 +0200
Subject: [R] normal score transform
Message-ID: <3D80C7D7.8070500@science.uva.nl>

Dear list,

could someone point me to the normal score transform and it's use in R?

I would like to transform my data with normal score transform, do some 
geostatsitical predictions and would like to transform the estimated values 
back including the estimation variance.

Any suggestions?

Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Thu Sep 12 22:03:27 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Thu, 12 Sep 2002 16:03:27 -0400
Subject: [R] Questions on Installing SJava0.65 to Windows 98
Message-ID: <OF19E4A9B9.A3FB256C-ON85256C32.006C982B@rtp.epa.gov>

To the Experts who have succefully installed SJava 0.65 to their
computers with windows 98 OS.

I tried to install SJava0.65 to my Win 98 computer. According to the
instructions from http://www.omegahat.org/RSJava/. We must use the
source codes of SJava0.65.  In the WIndows section, there are commands:

cd $RHOME/src/library
unzip SJava_0.65-0.zip
...................

Where do you download SJava_0.65-0.zip ? In that website, the download
file name for both Unix and Windows is SJava 0.65-0.tar.gz.  I actually
downloaded the file from the Windows link, and rename it to
SJava_0.65-0.zip. But could not unzip it.

I don't think that's the right way to do it. But how did you do it?

I use R1.5.1 and Windows 98 OS.

Thanks for any help you might offer.

BTW, can we still download R-1.3.1 somewhere? I was told SJava 0.62-8
only works in this R version.

Charlie Liu
INtern at EPA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Thu Sep 12 21:38:22 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Thu, 12 Sep 2002 21:38:22 +0200
Subject: [R] subsetting an ordered factor
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC665@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC665@usrymx10.merck.com>
Message-ID: <20020912213822.218d980e.rjvbertin@hotmail.com>

On Thu, 12 Sep 2002 09:08:12 -0400, "Liaw, Andy" <andy_liaw at merck.com> wrote regarding "RE: [R]
subsetting an ordered factor"

8-) Well, it sort of make sense to me.  An ordered factor has a more defined
8-) domain than an unordered factor.  "!=" for unordered factor simply compare
8-) the labels, but for ordered factor it should mean "<" or ">".  Thus it
8-) returns NAs because R doesn't know how to do the comparison.


True, I can see it sort of makes sense, but is it a lot of sense? Isn't what you call an ordered
factor in fact non-existant in the sense that factors are by default and implicitly sorted
alphabetically? I see the analogy with "== NaN", but I think there may be a "problem" with Inf? (I
mean: "!=" exists but either "<" or ">" is undefined -- to forget Inf == Inf! )
Besides: why should factors be treated as numbers; cf. what happens with characters:

> kk <- c('a', 'b', 'c')
> kk[1]
[1] "a"
> kk[1]< kk[2]
[1] TRUE
> kk[kk!='d']
[1] "a" "b" "c"
## and:
> kk <- c( 'b', 'a', 'c')
## smaller/greater comparison is not based on the index but inherent to the elements like with
## an ordered factor:
> kk[1]< kk[2]
[1] FALSE
> kk[kk!='d']
[1] "b" "a" "c"

8-) This behavior is at least compatible with Splus.

That's another argument :) Are you sure R crashes everywhere Splus does? >8- [= mean, lame joke]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Fri Sep 13 02:30:30 2002
From: jday at csi-inc.com (John Day)
Date: Thu, 12 Sep 2002 20:30:30 -0400
Subject: [R] Histogram Ranking
Message-ID: <4.3.2.7.0.20020912202858.02f1be48@mail.csi-inc.com>

[Note: I posted this Tuesday and re-sent it Wednesday and today, but it 
didn't show up in the list archive, so apparently got dropped on the floor 
somehow. I'll try again]

Dear All,

I received no response to this. Not sure if it was a glitch in the mailing 
list or maybe I didn't express myself clearly. Let me be a little more 
formal and try again:

I want to know if the algorithm described below is a well-known procedure? 
Is it sound assuming unbiased samples? Are there procedures in R to support 
this kind of analysis?

Or is there a much better way to rank the "goodness" of a feature set, 
which is really what I'm trying to do here?

Here's a description of the problem I'm trying to solve and the 
"historanking" algorithm:
Let C=(F,T) be a classification problem where we are trying to classify a 
set of N features F=(f1,f2,...fN) into a small set of M classes 
T=(t1,t2,...,tM).

We want to learn the classification rules from the distributions of the 
values of F. Suppose we have a large number of labelled samples 
SF=(sf1,sf2,...sfN,tk), where the sf's are feature values and tk is the kth 
"ground truth" (out of 1..M) for that sample.

Then we can construct a sample histograms by class:
hk = (h1k, h2k, ... hNk) for t=1..M where hjk is count of feature j for class k

If the samples are random and unbiased then they constitute an 
approximation of the conditional probability distributions for each class. 
My idea is that these histograms can be viewed as points in a metric space 
and ranked by computing their euclidean distance from each other, after 
normalizing them so that each histogram has a probability of 1.

For example: let h1 and h2 be two histograms of feature counts for classes 
1 and 2 for a feature set with 6 features:
 > h1<-c(1,3,5,6,7,8)
 > h2<-c(4,6,4,6,7,9)

Normalize and compute the metric:
 > n1=h1/sum(h1)
 > n2=h2/sum(h2)
 > sqrt(sum((n1-n2)^2))

By adjusting the bin sizes we can probe how well the class concepts can be 
generalized. That is, if the metric is non-zero only when the binsize is 1, 
then the problem cannot be generalized. The size of the metric is roughly 
the "predictive juice" contained in the conditional distributions.

Yes, "historanking" is somewhat simplistic and perhaps statistically 
impaired, but I have found that this metric is useful for measuring how 
effectively features support a classification scheme.

Thanks,
John Day

At 02:30 PM 9/6/2002 -0400, I wrote:
>Hello,
>
>This is not exactly an R question, but I suspect that there is an R 
>procedure that does what I am calling (for lack of a better name) 
>"histogram ranking".
>
>I'm trying to evaluate a set of regression features by segregating by 
>target class and comparing the feature histograms. My idea is that if the 
>histograms are the same for two different classes then there is no 
>predictive power in those features. Conversely, if the histograms are 
>different then there is probably some predictive "juice" that we can 
>squeeze out of the features with regression.
>
>The histograms are computing by partitioning  the features into equally 
>spaced bins over their spans and counting the sample values in each bin 
>that corresponds to that partition of feature space. This is done for each 
>target class, so the resulting histograms are the features distributions 
>conditioned by target class.
>
>Since the histograms are numeric vectors, we can measure the "goodness" of 
>a feature set by evaluating the "distance" between histograms. The bigger 
>the better etc.
>
>Now I'm no statistics expert. Have I re-invented some "wheel" here? What 
>is the canonical name for this kind of analysis? Is this kind of analysis 
>routinely done in R? [Is there a "better" way to do all this?]
>
>Thanks,
>John Day




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Fri Sep 13 03:17:04 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee J Law)
Date: Thu, 12 Sep 2002 18:17:04 -0700
Subject: [R] subset
Message-ID: <OFF7867393.FFC5DED2-ON88256C33.0006C86A@pe-c.com>

Dear list,

I have a simple question. If I need to run linear regression on a subset of
the dataset, will
the following two commands give the same output:

lm(y ~ as.factor(x1) + as.factor(x2), data, subset = z==Z[1])

and

lm(y ~ as.factor(x1) + as.factor(x2), data[data$z==Z[1],] )


I have got different results running the two commands. Am I missing
something here, or it
there a bug on the option subset?

Thanks for the help!

- Jackie




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rlee at fpcc.net  Fri Sep 13 06:22:15 2002
From: rlee at fpcc.net (Rob Lee)
Date: Thu, 12 Sep 2002 22:22:15 -0600 (MDT)
Subject: [R] rref() for R
Message-ID: <Pine.LNX.4.33.0209122207520.24712-100000@aberdeen.fpcc.net>

Has anyone coded a rref() in R/S?
rref() is MatLab's routine for producing a Row-Reduced Echelon Form of a 
matrix. 

-R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Fri Sep 13 08:03:47 2002
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Fri, 13 Sep 2002 08:03:47 +0200
Subject: [R] Problem with leaps (long)
In-Reply-To: 
	<Pine.A41.4.44.0209120755140.155470-100000@homer34.u.washington.edu>
	(tlumley@u.washington.edu)
References: <Pine.A41.4.44.0209120755140.155470-100000@homer34.u.washington.edu>
Message-ID: <200209130603.g8D63lfd001494@agesi.bs.ehu.es>

>  Date: Thu, 12 Sep 2002 07:58:52 -0700 (PDT)
>  From: Thomas Lumley <tlumley at u.washington.edu>
>  cc: r-help at stat.math.ethz.ch
>  
>  On Wed, 11 Sep 2002, F. Tusell wrote:
>  
>  > On looking at object "mods", I see that indeed mods$Cp is full of NaNs.
>  >
>  > Exactly the same file worked last year. What is more strange, if I
>  > type or paste the commands interactively, I get plausible Cp values in
>  > mods$Cp. It is only in BATCH that the thing goes stray.
>  
>  Strange. I'll look at this.
>  
>  >
>  > While on the same topic, the help on line advocates the use of function
>  > regsubsets, which is said to improve on leaps on several ways. However,
>  > I see no way to select different criteria (Cp, R2, adjR2) in said
>  > function.
>  
>  You don't need to select different criteria in fitting.  You always get
>  the best model(s) of each size, and within a model size the criteria are
>  all equivalent to the residual sum of squares.  The summary() method
>  computes all these criteria, so you can use whichever you like.
>  
>  The leaps() function works the same way, it's just that it doesn't even
>  report the other criteria.  In the actual Fortran it's all just residual
>  sums of squares.
>  
>  	-thomas
>  
   Thank  you very much.  Yes, within  a model  size all  criteria are
   equivalent  to RSS,  so for  all-subsets regression  this is  a non
   issue.  I  was rather thinking  in the stepwise algorithms  that do
   not compute all  models, but rather perform a  greedy search (and I
   understand regsubsets with  method="forward" or "backward" would do
   some of this).

   In that  case, the search  needs some criterion (in  some packages,
   one can  set an  F-to-enter or F-to-remove  value to decide  when a
   variable is worth adding or removing). I thought perhaps some other
   criterion like Cp might be used in regsubsets, hence my question.

   Perhaps  I  am  misunderstanding  something. Your  corrections  are
   welcomed, or else I will try  to understand the source and see what
   is being done.

   Best, ft.

-- 
Fernando TUSELL                                e-mail:
Departamento de Econometra y Estadstica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpiktas at delfi.lt  Fri Sep 13 10:31:17 2002
From: mpiktas at delfi.lt (Vaidotas Zemlys)
Date: Fri, 13 Sep 2002 09:31:17 +0100
Subject: [R] subset
References: <OFF7867393.FFC5DED2-ON88256C33.0006C86A@pe-c.com>
Message-ID: <3D81A255.7080504@delfi.lt>

Hi,

> I have a simple question. If I need to run linear regression on a subset of
> the dataset, will
> the following two commands give the same output:
> 
> lm(y ~ as.factor(x1) + as.factor(x2), data, subset = z==Z[1])
> 
> and
> 
> lm(y ~ as.factor(x1) + as.factor(x2), data[data$z==Z[1],] )
> 
> 
> I have got different results running the two commands. Am I missing
> something here, or it
> there a bug on the option subset?
> 

I tried the same thing  at my computer and everything works fine. Maybe 
you have variable z, which is not the same as in your data frame. That is

data$z!=z,

Try do something like

zz_z
rm(z)

and then repeat your two lm calls. Then I think the results should be 
the same.

Vaidotas Zemlys

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Fri Sep 13 10:10:23 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Fri, 13 Sep 2002 10:10:23 +0200
Subject: [R] normal score transform
References: <51F9C42DA15CD311BD220008C707D81906FFC671@usrymx10.merck.com>
Message-ID: <3D819D6F.5020107@science.uva.nl>

How would I do a backtransform of predicted values (derived from the given
data) AND the variance?

Ulrich

Liaw, Andy wrote:
 > The "normal scores" are just ranks of the data mapped onto the normal CDF,
 > so something like:
 >
 > qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
 >
 > should do what you want.  Another alternative (as calculated in qqnorm) is
 >
 > qnorm(ppoints(x))
 >
 > Andy
 >
 >
 >>-----Original Message-----
 >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
 >>Sent: Thursday, September 12, 2002 12:59 PM
 >>To: r-help at stat.math.ethz.ch
 >>Subject: [R] normal score transform
 >>
 >>
 >>Dear list,
 >>
 >>could someone point me to the normal score transform and it's
 >>use in R?
 >>
 >>I would like to transform my data with normal score
 >>transform, do some
 >>geostatsitical predictions and would like to transform the
 >>estimated values
 >>back including the estimation variance.
 >>
 >>Any suggestions?
 >>
 >>Ulrich
 >>--
 >>__________________________________________________
 >>
 >>Ulrich Leopold MSc.
 >>
 >>Department of Physical Geography
 >>Institute for Biodiversity and Ecosystem Dynamics
 >>Faculty of Science
 >>University of Amsterdam
 >>Nieuwe Achtergracht 166
 >>NL-1018WV Amsterdam
 >>
 >>Phone: +31-(0)20-525-7456 (7451 Secretary)
 >>Fax:   +31-(0)20-525-7431
 >>Email: uleopold at science.uva.nl
 >>http://www.frw.uva.nl/soil/Welcome.html
 >>
 >>Check us also out at:
 >>Netherlands Centre for Geo-ecological Research
 >>http://www.frw.uva.nl/icg
 >>
 >>
 >>
 >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >>-.-.-.-.-.-.-.-.-
 >>r-help mailing list -- Read
 >>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >>Send "info", "help", or "[un]subscribe"
 >>(in the "body", not the subject !)  To:
 >>r-help-request at stat.math.ethz.ch
 >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >>_._._._._._._._._
 >>
 >
 >
 >
 > 
------------------------------------------------------------------------------
 > Notice:  This e-mail message, together with any attachments, contains 
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that 
may be confidential, proprietary copyrighted and/or legally privileged, and 
is intended solely for the use of the individual or entity named in this 
message.  If you are not the intended recipient, and have received this 
message in error, please immediately return this by e-mail and then delete it.
 >
 > 
==============================================================================
 >

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Fri Sep 13 10:46:47 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Fri, 13 Sep 2002 10:46:47 +0200
Subject: [R] lattice: postscript with colors
Message-ID: <20020913104647.A2073@s1x.zimnet.ch>

[ R version 1.5.1 on Linux ]

When I output a lattice graphic to a postscript file
I receive black and white colors.

How can I set the lattice.theme$X11 or another colored theme
for a postscript file ?

Regards

Wolfram
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep 13 10:56:20 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 13 Sep 2002 10:56:20 +0200
Subject: [R] subset
References: <OFF7867393.FFC5DED2-ON88256C33.0006C86A@pe-c.com>
Message-ID: <3D81A834.320665C6@statistik.uni-dortmund.de>

Ngayee J Law wrote:
> 
> Dear list,
> 
> I have a simple question. If I need to run linear regression on a subset of
> the dataset, will
> the following two commands give the same output:
> 
> lm(y ~ as.factor(x1) + as.factor(x2), data, subset = z==Z[1])
> 
> and
> 
> lm(y ~ as.factor(x1) + as.factor(x2), data[data$z==Z[1],] )
> 
> I have got different results running the two commands. Am I missing
> something here, or it
> there a bug on the option subset?

Works for me on R-1.5.1, NT4.0.

Do you have z defined anywhere else?
If not and your version is recent: Can you provide an example?
Please, tell us your version of R and your OS as well. 

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awitney at sghms.ac.uk  Fri Sep 13 11:38:33 2002
From: awitney at sghms.ac.uk (Adam Witney)
Date: Fri, 13 Sep 2002 10:38:33 +0100
Subject: [R] R and database access
Message-ID: <B9A770A9.7884%a.witney@sghms.ac.uk>

Hi,

I am relatively new at R, but I would like to be able to directly access my
MySQL and PostgreSQL databases from R. I have been looking around CRAN and
searching through Google, however I am not sure what are the best options. I
have seen

DBI         - not sure how this works
Rdbi        - not sure how this works
Rdbi.PgSQL  - can install, but fails on trying to load
RODBC       - cannot connect (I cannot find any troubleshooting guides)
RPgSQL      - can install, but fails on trying to load
RMySQL      - installation fails

(System = Mac OSX 10.2)

Which is considered the most up to date way of achieving this connection?

Thanks for any help

adam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From parrinel at med.unibs.it  Fri Sep 13 11:54:05 2002
From: parrinel at med.unibs.it (Giovanni Parrinello)
Date: Fri, 13 Sep 2002 11:54:05 +0200
Subject: [R] Sample size for factorial clinical trials with survival
  endpoints
Message-ID: <5.0.2.1.1.20020913113204.02638ec0@pop.med.unibs.it>

Dear All,
I am looking an R version of the "Computer program for sample size and 
power calculations in the design of multi-arm and factorial clinical trials 
with survival endpoints".
Best regards,
Giovanni Parrinello
P.S.: in the meantime I am preparing a summary for my preceeding question 
about time-varying covariates in the Cox model and
I thank Frank  Harrell, Chuck Cleland, Patrick Connolly and Perperoglou A 
for their interesting answers.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csi-inc.com  Fri Sep 13 12:09:18 2002
From: jday at csi-inc.com (John Day)
Date: Fri, 13 Sep 2002 06:09:18 -0400
Subject: [R] Histogram Ranking [Apology]
In-Reply-To: <5.1.1.6.0.20020911113250.00a8f6b0@ctfs.si.edu>
Message-ID: <4.3.2.7.0.20020913055916.02f1be48@mail.csi-inc.com>

Dear List,

My apologies for the multiple postings, which apparently were received by 
everyone on the list.

For some reason the follow-ups were not echoing back to me, nor were they 
ever received by the archive 
(http://maths.newcastle.edu.au/~rking/R/help/02a/index.html) so I honestly 
assumed that no one was seeing them. (where did they go?)

I did receive my last follow-up (after I unsubscribed and then 
re-subscribed), so there might have been a problem with my email address, 
which was not the same one I originally subscribed under.

It was certainly not my intention to force anyone to respond to my questions.

Sorry again,
John Day

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep 13 14:08:32 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 13 Sep 2002 08:08:32 -0400
Subject: [R] normal score transform
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC673@usrymx10.merck.com>

I suppose you can use approx() to linearly interpolate.  For example:

> x <- rnorm(10, mean=100, sd=10)
> x
 [1]  92.46931  96.71141 103.82640 110.57520  88.30825 106.35602  90.60754
 [8] 102.29406  94.19188 107.28770
> z <- qnorm(ppoints(x))
> z
 [1] -1.5466353 -1.0004905 -0.6554235 -0.3754618 -0.1225808  0.1225808
 [7]  0.3754618  0.6554235  1.0004905  1.5466353
> z.test <- rnorm(10)  ## pretend these are the "predicted values"
> z.test
 [1]  1.1733989  1.3471282 -0.2409461  0.6951916 -0.6365362 -1.0181946
 [7] -0.5347734  2.2335172  0.4747204  0.4917223
> x.test <- approx(z, x, ztest)$y
> x.test
 [1] 100.35171  98.74701  94.90596 107.39995  98.42442  94.84765  91.54209
 [8] 106.87274        NA 103.25218

Note that approx() by default does not extrapolate (thus the NA), and the
alternative (rule=2) probably isn't appropriate for this application.

HTH,
Andy

> -----Original Message-----
> From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> Sent: Friday, September 13, 2002 4:10 AM
> To: r-help at stat.math.ethz.ch
> Subject: Re: [R] normal score transform
> 
> 
> How would I do a backtransform of predicted values (derived 
> from the given
> data) AND the variance?
> 
> Ulrich
> 
> Liaw, Andy wrote:
>  > The "normal scores" are just ranks of the data mapped onto 
> the normal CDF,
>  > so something like:
>  >
>  > qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
>  >
>  > should do what you want.  Another alternative (as 
> calculated in qqnorm) is
>  >
>  > qnorm(ppoints(x))
>  >
>  > Andy
>  >
>  >
>  >>-----Original Message-----
>  >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>  >>Sent: Thursday, September 12, 2002 12:59 PM
>  >>To: r-help at stat.math.ethz.ch
>  >>Subject: [R] normal score transform
>  >>
>  >>
>  >>Dear list,
>  >>
>  >>could someone point me to the normal score transform and it's
>  >>use in R?
>  >>
>  >>I would like to transform my data with normal score
>  >>transform, do some
>  >>geostatsitical predictions and would like to transform the
>  >>estimated values
>  >>back including the estimation variance.
>  >>
>  >>Any suggestions?
>  >>
>  >>Ulrich
>  >>--
>  >>__________________________________________________
>  >>
>  >>Ulrich Leopold MSc.
>  >>
>  >>Department of Physical Geography
>  >>Institute for Biodiversity and Ecosystem Dynamics
>  >>Faculty of Science
>  >>University of Amsterdam
>  >>Nieuwe Achtergracht 166
>  >>NL-1018WV Amsterdam
>  >>
>  >>Phone: +31-(0)20-525-7456 (7451 Secretary)
>  >>Fax:   +31-(0)20-525-7431
>  >>Email: uleopold at science.uva.nl
>  >>http://www.frw.uva.nl/soil/Welcome.html
>  >>
>  >>Check us also out at:
>  >>Netherlands Centre for Geo-ecological Research
>  >>http://www.frw.uva.nl/icg
>  >>
>  >>
>  >>
>  >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>  >>-.-.-.-.-.-.-.-.-
>  >>r-help mailing list -- Read
>  >>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>  >>Send "info", "help", or "[un]subscribe"
>  >>(in the "body", not the subject !)  To:
>  >>r-help-request at stat.math.ethz.ch
>  >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>  >>_._._._._._._._._
>  >>
>  >
>  >
>  >
>  > 
> --------------------------------------------------------------
> ----------------
>  > Notice:  This e-mail message, together with any 
> attachments, contains 
> information of Merck & Co., Inc. (Whitehouse Station, New 
> Jersey, USA) that 
> may be confidential, proprietary copyrighted and/or legally 
> privileged, and 
> is intended solely for the use of the individual or entity 
> named in this 
> message.  If you are not the intended recipient, and have 
> received this 
> message in error, please immediately return this by e-mail 
> and then delete it.
>  >
>  > 
> ==============================================================
> ================
>  >
> 
> -- 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Fri Sep 13 14:17:24 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Fri, 13 Sep 2002 15:17:24 +0300
Subject: [R] Multiple random effects inlme?
Message-ID: <3D81D754.DBCB7E36@helsinki.fi>

Moi!

I was helping to teach a course on mixed models this week, and we came
across a problem with coding more than one random effect in lme when
they aren't nested.

As an example, suppose we have an experiment where we sample moths from
several populations, and place the moths on different trees, and measure
a trait (in this case survival of offspring, but that's less
important).  We want to treat Population and Tree as random effects, as
that will tell us something about adaptation.  Naively, i would expect
to code the data in lme as something like:

lme(x ~ 1, random=~1|(Pop + Tree))

but this doesn't work, and I can't work see what to do (or where to look
to find out!).  Can anyone point me in the right direction?

Thanks in advance.

Bob

-- 
Bob O'Hara

Rolf Nevanlinna Institute
P.O. Box 4 (Yliopistonkatu 5)
FIN-00014 University of Helsinki
Finland
Telephone: +358-9-191 23743 
Mobile: +358 50 599 0540
Fax:  +358-9-191 22 779
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Fri Sep 13 14:24:29 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Fri, 13 Sep 2002 14:24:29 +0200
Subject: [R] normal score transform
References: <51F9C42DA15CD311BD220008C707D81906FFC673@usrymx10.merck.com>
Message-ID: <3D81D8FD.3000409@science.uva.nl>

But is it also possible to transform the prediction VARIANCE back to non 
normalized variances? I do not have these variances before hand. Or would be 
a solution to use the standard deviation as this will be within the range of 
the predictions? I'm not quite sure...

Ulrich

Liaw, Andy wrote:
> I suppose you can use approx() to linearly interpolate.  For example:
> 
> 
>>x <- rnorm(10, mean=100, sd=10)
>>x
> 
>  [1]  92.46931  96.71141 103.82640 110.57520  88.30825 106.35602  90.60754
>  [8] 102.29406  94.19188 107.28770
> 
>>z <- qnorm(ppoints(x))
>>z
> 
>  [1] -1.5466353 -1.0004905 -0.6554235 -0.3754618 -0.1225808  0.1225808
>  [7]  0.3754618  0.6554235  1.0004905  1.5466353
> 
>>z.test <- rnorm(10)  ## pretend these are the "predicted values"
>>z.test
> 
>  [1]  1.1733989  1.3471282 -0.2409461  0.6951916 -0.6365362 -1.0181946
>  [7] -0.5347734  2.2335172  0.4747204  0.4917223
> 
>>x.test <- approx(z, x, ztest)$y
>>x.test
> 
>  [1] 100.35171  98.74701  94.90596 107.39995  98.42442  94.84765  91.54209
>  [8] 106.87274        NA 103.25218
> 
> Note that approx() by default does not extrapolate (thus the NA), and the
> alternative (rule=2) probably isn't appropriate for this application.
> 
> HTH,
> Andy
> 
> 
>>-----Original Message-----
>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>>Sent: Friday, September 13, 2002 4:10 AM
>>To: r-help at stat.math.ethz.ch
>>Subject: Re: [R] normal score transform
>>
>>
>>How would I do a backtransform of predicted values (derived 
>>from the given
>>data) AND the variance?
>>
>>Ulrich
>>
>>Liaw, Andy wrote:
>> > The "normal scores" are just ranks of the data mapped onto 
>>the normal CDF,
>> > so something like:
>> >
>> > qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
>> >
>> > should do what you want.  Another alternative (as 
>>calculated in qqnorm) is
>> >
>> > qnorm(ppoints(x))
>> >
>> > Andy
>> >
>> >
>> >>-----Original Message-----
>> >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>> >>Sent: Thursday, September 12, 2002 12:59 PM
>> >>To: r-help at stat.math.ethz.ch
>> >>Subject: [R] normal score transform
>> >>
>> >>
>> >>Dear list,
>> >>
>> >>could someone point me to the normal score transform and it's
>> >>use in R?
>> >>
>> >>I would like to transform my data with normal score
>> >>transform, do some
>> >>geostatsitical predictions and would like to transform the
>> >>estimated values
>> >>back including the estimation variance.
>> >>
>> >>Any suggestions?
>> >>
>> >>Ulrich
>> >>--
>> >>__________________________________________________
>> >>
>> >>Ulrich Leopold MSc.
>> >>
>> >>Department of Physical Geography
>> >>Institute for Biodiversity and Ecosystem Dynamics
>> >>Faculty of Science
>> >>University of Amsterdam
>> >>Nieuwe Achtergracht 166
>> >>NL-1018WV Amsterdam
>> >>
>> >>Phone: +31-(0)20-525-7456 (7451 Secretary)
>> >>Fax:   +31-(0)20-525-7431
>> >>Email: uleopold at science.uva.nl
>> >>http://www.frw.uva.nl/soil/Welcome.html
>> >>
>> >>Check us also out at:
>> >>Netherlands Centre for Geo-ecological Research
>> >>http://www.frw.uva.nl/icg
>> >>
>> >>
>> >>
>> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> >>-.-.-.-.-.-.-.-.-
>> >>r-help mailing list -- Read
>> >>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> >>Send "info", "help", or "[un]subscribe"
>> >>(in the "body", not the subject !)  To:
>> >>r-help-request at stat.math.ethz.ch
>> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> >>_._._._._._._._._
>> >>
>> >
>> >
>> >
>> > 
>>--------------------------------------------------------------
>>----------------
>> > Notice:  This e-mail message, together with any 
>>attachments, contains 
>>information of Merck & Co., Inc. (Whitehouse Station, New 
>>Jersey, USA) that 
>>may be confidential, proprietary copyrighted and/or legally 
>>privileged, and 
>>is intended solely for the use of the individual or entity 
>>named in this 
>>message.  If you are not the intended recipient, and have 
>>received this 
>>message in error, please immediately return this by e-mail 
>>and then delete it.
>> >
>> > 
>>==============================================================
>>================
>> >
>>
>>-- 
>>__________________________________________________
>>
>>Ulrich Leopold MSc.
>>
>>Department of Physical Geography
>>Institute for Biodiversity and Ecosystem Dynamics
>>Faculty of Science
>>University of Amsterdam
>>Nieuwe Achtergracht 166
>>NL-1018WV Amsterdam
>>
>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>Fax:   +31-(0)20-525-7431
>>Email: uleopold at science.uva.nl
>>http://www.frw.uva.nl/soil/Welcome.html
>>
>>Check us also out at:
>>Netherlands Centre for Geo-ecological Research
>>http://www.frw.uva.nl/icg
>>
>>
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read 
> 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Sep 13 15:19:51 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 13 Sep 2002 09:19:51 -0400
Subject: [R] R and database access
In-Reply-To: <B9A770A9.7884%a.witney@sghms.ac.uk>; from awitney@sghms.ac.uk on Fri, Sep 13, 2002 at 10:38:33AM +0100
References: <B9A770A9.7884%a.witney@sghms.ac.uk>
Message-ID: <20020913091951.A12592@jessie.research.bell-labs.com>

Hi,

Adam Witney wrote:
> Hi,
> 
> I am relatively new at R, but I would like to be able to directly access my
> MySQL and PostgreSQL databases from R. I have been looking around CRAN and
> searching through Google, however I am not sure what are the best options. I
> have seen
> 
> DBI         - not sure how this works
> Rdbi        - not sure how this works
> Rdbi.PgSQL  - can install, but fails on trying to load
> RODBC       - cannot connect (I cannot find any troubleshooting guides)
> RPgSQL      - can install, but fails on trying to load
> RMySQL      - installation fails

Historically, each database package has had its own set of
function (API) for interfacing with the database.  This means
that the function names and methods used to connect through ODBC are
completely different than, say, to  mSQL, Oracle or PostgreSQL.
The problem was recognized and a special interest group on databases
(R-SIG-DB) was formed to come up with a common database interface
(DBI) similar in spirit to Java's JDBC, Perl's DBI/DBI, ODBC,
Python's DB, etc.  The database interface package "DBI" reflects
the current proposal, and it is based on Tim Keitt's Rdbi plus
input from others.

As of today, no package in CRAN is yet DBI-compliant, but this is
simply due to time constraints on package developers and maintainers
who have to migrate their packages from existing individual APIs
to the DBI.  

With the release of R version 1.6.0, there will be DBI-compliant
packages for Oracle, MySQL, and SQLite (for beta versions go to
ftp://ftp.cran.r-project.org/pub/R/src/contrib/1.6.0/Other
and there are plans to port others, time permitting.

> 
> (System = Mac OSX 10.2)
> 
> Which is considered the most up to date way of achieving this connection?
> 

Hmmm, some of these packages have been used quite extensively (PgSQL
in particular).  Also I see you're using Jaguar (Mac OS X, 10.2),
so it's possible that some of the problems you've experienced are
due to the changes in the operating system, C libraries, etc.,
but hopefully these will be identified and addressed soon. 

> Thanks for any help
> 
> adam
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gentili at obs-vlfr.fr  Fri Sep 13 15:31:15 2002
From: gentili at obs-vlfr.fr (Bernard GENTILI)
Date: Fri, 13 Sep 2002 15:31:15 METDST
Subject: [R] tcltk documentation
Message-ID: <200209131331.PAA07175@difool.obs-vlfr.fr>

Dear all,
I am looking for basic examples of the use of tcltk in R.
 Thank you in advance for any information, R-script, ...
--
Bernard GENTILI
LOV
BP 8, 06238 Villefranche-sur-mer cedex, France
Email : gentili at obs-vlfr.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep 13 15:34:18 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 13 Sep 2002 09:34:18 -0400
Subject: [R] normal score transform
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC675@usrymx10.merck.com>

I don't know of a good way to do this.  If the transformation has a nice
form, then one can use the good old delta method (Taylor expansion).  MASS
has coverage and code, in the context of parameter estimation.  However I
don't think that can be applied to the normal scores transformation (at
least I don't see how).

Excuse me for being nosy, but why would you need to do this?

Andy

> -----Original Message-----
> From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> Sent: Friday, September 13, 2002 8:24 AM
> To: r-help at stat.math.ethz.ch
> Subject: Re: [R] normal score transform
> 
> 
> But is it also possible to transform the prediction VARIANCE 
> back to non 
> normalized variances? I do not have these variances before 
> hand. Or would be 
> a solution to use the standard deviation as this will be 
> within the range of 
> the predictions? I'm not quite sure...
> 
> Ulrich
> 
> Liaw, Andy wrote:
> > I suppose you can use approx() to linearly interpolate.  
> For example:
> > 
> > 
> >>x <- rnorm(10, mean=100, sd=10)
> >>x
> > 
> >  [1]  92.46931  96.71141 103.82640 110.57520  88.30825 
> 106.35602  90.60754
> >  [8] 102.29406  94.19188 107.28770
> > 
> >>z <- qnorm(ppoints(x))
> >>z
> > 
> >  [1] -1.5466353 -1.0004905 -0.6554235 -0.3754618 -0.1225808 
>  0.1225808
> >  [7]  0.3754618  0.6554235  1.0004905  1.5466353
> > 
> >>z.test <- rnorm(10)  ## pretend these are the "predicted values"
> >>z.test
> > 
> >  [1]  1.1733989  1.3471282 -0.2409461  0.6951916 -0.6365362 
> -1.0181946
> >  [7] -0.5347734  2.2335172  0.4747204  0.4917223
> > 
> >>x.test <- approx(z, x, ztest)$y
> >>x.test
> > 
> >  [1] 100.35171  98.74701  94.90596 107.39995  98.42442  
> 94.84765  91.54209
> >  [8] 106.87274        NA 103.25218
> > 
> > Note that approx() by default does not extrapolate (thus 
> the NA), and the
> > alternative (rule=2) probably isn't appropriate for this 
> application.
> > 
> > HTH,
> > Andy
> > 
> > 
> >>-----Original Message-----
> >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> >>Sent: Friday, September 13, 2002 4:10 AM
> >>To: r-help at stat.math.ethz.ch
> >>Subject: Re: [R] normal score transform
> >>
> >>
> >>How would I do a backtransform of predicted values (derived 
> >>from the given
> >>data) AND the variance?
> >>
> >>Ulrich
> >>
> >>Liaw, Andy wrote:
> >> > The "normal scores" are just ranks of the data mapped onto 
> >>the normal CDF,
> >> > so something like:
> >> >
> >> > qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
> >> >
> >> > should do what you want.  Another alternative (as 
> >>calculated in qqnorm) is
> >> >
> >> > qnorm(ppoints(x))
> >> >
> >> > Andy
> >> >
> >> >
> >> >>-----Original Message-----
> >> >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> >> >>Sent: Thursday, September 12, 2002 12:59 PM
> >> >>To: r-help at stat.math.ethz.ch
> >> >>Subject: [R] normal score transform
> >> >>
> >> >>
> >> >>Dear list,
> >> >>
> >> >>could someone point me to the normal score transform and it's
> >> >>use in R?
> >> >>
> >> >>I would like to transform my data with normal score
> >> >>transform, do some
> >> >>geostatsitical predictions and would like to transform the
> >> >>estimated values
> >> >>back including the estimation variance.
> >> >>
> >> >>Any suggestions?
> >> >>
> >> >>Ulrich
> >> >>--
> >> >>__________________________________________________
> >> >>
> >> >>Ulrich Leopold MSc.
> >> >>
> >> >>Department of Physical Geography
> >> >>Institute for Biodiversity and Ecosystem Dynamics
> >> >>Faculty of Science
> >> >>University of Amsterdam
> >> >>Nieuwe Achtergracht 166
> >> >>NL-1018WV Amsterdam
> >> >>
> >> >>Phone: +31-(0)20-525-7456 (7451 Secretary)
> >> >>Fax:   +31-(0)20-525-7431
> >> >>Email: uleopold at science.uva.nl
> >> >>http://www.frw.uva.nl/soil/Welcome.html
> >> >>
> >> >>Check us also out at:
> >> >>Netherlands Centre for Geo-ecological Research
> >> >>http://www.frw.uva.nl/icg
> >> >>
> >> >>
> >> >>
> >> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >> >>-.-.-.-.-.-.-.-.-
> >> >>r-help mailing list -- Read
> >> >>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >> >>Send "info", "help", or "[un]subscribe"
> >> >>(in the "body", not the subject !)  To:
> >> >>r-help-request at stat.math.ethz.ch
> >> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> >> >>_._._._._._._._._
> >> >>
> >> >
> >> >
> >> >
> >> > 
> >>--------------------------------------------------------------
> >>----------------
> >> > Notice:  This e-mail message, together with any 
> >>attachments, contains 
> >>information of Merck & Co., Inc. (Whitehouse Station, New 
> >>Jersey, USA) that 
> >>may be confidential, proprietary copyrighted and/or legally 
> >>privileged, and 
> >>is intended solely for the use of the individual or entity 
> >>named in this 
> >>message.  If you are not the intended recipient, and have 
> >>received this 
> >>message in error, please immediately return this by e-mail 
> >>and then delete it.
> >> >
> >> > 
> >>==============================================================
> >>================
> >> >
> >>
> >>-- 
> >>__________________________________________________
> >>
> >>Ulrich Leopold MSc.
> >>
> >>Department of Physical Geography
> >>Institute for Biodiversity and Ecosystem Dynamics
> >>Faculty of Science
> >>University of Amsterdam
> >>Nieuwe Achtergracht 166
> >>NL-1018WV Amsterdam
> >>
> >>Phone: +31-(0)20-525-7456 (7451 Secretary)
> >>Fax:   +31-(0)20-525-7431
> >>Email: uleopold at science.uva.nl
> >>http://www.frw.uva.nl/soil/Welcome.html
> >>
> >>Check us also out at:
> >>Netherlands Centre for Geo-ecological Research
> >>http://www.frw.uva.nl/icg
> >>
> >>
> >>
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >>-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read 
> > 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> > _._
> > 
> > 
> --------------------------------------------------------------
> ----------------
> > Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> > 
> > 
> ==============================================================
> ================
> > 
> 
> -- 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep 13 15:43:08 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 13 Sep 2002 15:43:08 +0200
Subject: [R] tcltk documentation
In-Reply-To: <200209131331.PAA07175@difool.obs-vlfr.fr>
References: <200209131331.PAA07175@difool.obs-vlfr.fr>
Message-ID: <15745.60268.859146.771373@gargle.gargle.HOWL>

>>>>> "Bernard" == Bernard GENTILI <gentili at obs-vlfr.fr>
>>>>>     on Fri, 13 Sep 2002 15:31:15 METDST writes:

    Bernard> Dear all,
    Bernard> I am looking for basic examples of the use of tcltk in R.
    Bernard> Thank you in advance for any information, R-script, ...

Did you try the demos (and their sources)?
Type

  library(tcltk)

  demo(package = "tcltk") ## to get the list

  ## and then, e.g.,

  demo(tkcanvas)

--
Regards, Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Fri Sep 13 15:42:10 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Fri, 13 Sep 2002 15:42:10 +0200
Subject: [R] normal score transform
References: <51F9C42DA15CD311BD220008C707D81906FFC675@usrymx10.merck.com>
Message-ID: <3D81EB32.3070807@science.uva.nl>

When I interpolate my data values by kriging (geostatsitical interpolation 
method) I get for each estimated value a corresponding estimation variance. 
The interpolation is carried out in 2d space. I would like to map not only 
the estimated expected value but also the uncertainty and confidence 
intervals (e.g. 95%) for this method. Therefore I need to backtransform the 
so called estimation variance. See my prob?

But thanks very much so far.

Ulrich

Liaw, Andy wrote:
> I don't know of a good way to do this.  If the transformation has a nice
> form, then one can use the good old delta method (Taylor expansion).  MASS
> has coverage and code, in the context of parameter estimation.  However I
> don't think that can be applied to the normal scores transformation (at
> least I don't see how).
> 
> Excuse me for being nosy, but why would you need to do this?
> 
> Andy
> 
> 
>>-----Original Message-----
>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>>Sent: Friday, September 13, 2002 8:24 AM
>>To: r-help at stat.math.ethz.ch
>>Subject: Re: [R] normal score transform
>>
>>
>>But is it also possible to transform the prediction VARIANCE 
>>back to non 
>>normalized variances? I do not have these variances before 
>>hand. Or would be 
>>a solution to use the standard deviation as this will be 
>>within the range of 
>>the predictions? I'm not quite sure...
>>
>>Ulrich
>>
>>Liaw, Andy wrote:
>>
>>>I suppose you can use approx() to linearly interpolate.  
>>
>>For example:
>>
>>>
>>>>x <- rnorm(10, mean=100, sd=10)
>>>>x
>>>
>>> [1]  92.46931  96.71141 103.82640 110.57520  88.30825 
>>
>>106.35602  90.60754
>>
>>> [8] 102.29406  94.19188 107.28770
>>>
>>>
>>>>z <- qnorm(ppoints(x))
>>>>z
>>>
>>> [1] -1.5466353 -1.0004905 -0.6554235 -0.3754618 -0.1225808 
>>
>> 0.1225808
>>
>>> [7]  0.3754618  0.6554235  1.0004905  1.5466353
>>>
>>>
>>>>z.test <- rnorm(10)  ## pretend these are the "predicted values"
>>>>z.test
>>>
>>> [1]  1.1733989  1.3471282 -0.2409461  0.6951916 -0.6365362 
>>
>>-1.0181946
>>
>>> [7] -0.5347734  2.2335172  0.4747204  0.4917223
>>>
>>>
>>>>x.test <- approx(z, x, ztest)$y
>>>>x.test
>>>
>>> [1] 100.35171  98.74701  94.90596 107.39995  98.42442  
>>
>>94.84765  91.54209
>>
>>> [8] 106.87274        NA 103.25218
>>>
>>>Note that approx() by default does not extrapolate (thus 
>>
>>the NA), and the
>>
>>>alternative (rule=2) probably isn't appropriate for this 
>>
>>application.
>>
>>>HTH,
>>>Andy
>>>
>>>
>>>
>>>>-----Original Message-----
>>>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>>>>Sent: Friday, September 13, 2002 4:10 AM
>>>>To: r-help at stat.math.ethz.ch
>>>>Subject: Re: [R] normal score transform
>>>>
>>>>
>>>>How would I do a backtransform of predicted values (derived 
>>>
>>>>from the given
>>>
>>>>data) AND the variance?
>>>>
>>>>Ulrich
>>>>
>>>>Liaw, Andy wrote:
>>>>
>>>>>The "normal scores" are just ranks of the data mapped onto 
>>>>
>>>>the normal CDF,
>>>>
>>>>>so something like:
>>>>>
>>>>>qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
>>>>>
>>>>>should do what you want.  Another alternative (as 
>>>>
>>>>calculated in qqnorm) is
>>>>
>>>>>qnorm(ppoints(x))
>>>>>
>>>>>Andy
>>>>>
>>>>>
>>>>>
>>>>>>-----Original Message-----
>>>>>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
>>>>>>Sent: Thursday, September 12, 2002 12:59 PM
>>>>>>To: r-help at stat.math.ethz.ch
>>>>>>Subject: [R] normal score transform
>>>>>>
>>>>>>
>>>>>>Dear list,
>>>>>>
>>>>>>could someone point me to the normal score transform and it's
>>>>>>use in R?
>>>>>>
>>>>>>I would like to transform my data with normal score
>>>>>>transform, do some
>>>>>>geostatsitical predictions and would like to transform the
>>>>>>estimated values
>>>>>>back including the estimation variance.
>>>>>>
>>>>>>Any suggestions?
>>>>>>
>>>>>>Ulrich
>>>>>>--
>>>>>>__________________________________________________
>>>>>>
>>>>>>Ulrich Leopold MSc.
>>>>>>
>>>>>>Department of Physical Geography
>>>>>>Institute for Biodiversity and Ecosystem Dynamics
>>>>>>Faculty of Science
>>>>>>University of Amsterdam
>>>>>>Nieuwe Achtergracht 166
>>>>>>NL-1018WV Amsterdam
>>>>>>
>>>>>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>>>>>Fax:   +31-(0)20-525-7431
>>>>>>Email: uleopold at science.uva.nl
>>>>>>http://www.frw.uva.nl/soil/Welcome.html
>>>>>>
>>>>>>Check us also out at:
>>>>>>Netherlands Centre for Geo-ecological Research
>>>>>>http://www.frw.uva.nl/icg
>>>>>>
>>>>>>
>>>>>>
>>>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>>>>>-.-.-.-.-.-.-.-.-
>>>>>>r-help mailing list -- Read
>>>>>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>>>>Send "info", "help", or "[un]subscribe"
>>>>>>(in the "body", not the subject !)  To:
>>>>>>r-help-request at stat.math.ethz.ch
>>>>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>>>>>>_._._._._._._._._
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>--------------------------------------------------------------
>>>>----------------
>>>>
>>>>>Notice:  This e-mail message, together with any 
>>>>
>>>>attachments, contains 
>>>>information of Merck & Co., Inc. (Whitehouse Station, New 
>>>>Jersey, USA) that 
>>>>may be confidential, proprietary copyrighted and/or legally 
>>>>privileged, and 
>>>>is intended solely for the use of the individual or entity 
>>>>named in this 
>>>>message.  If you are not the intended recipient, and have 
>>>>received this 
>>>>message in error, please immediately return this by e-mail 
>>>>and then delete it.
>>>>
>>>>>
>>>>==============================================================
>>>>================
>>>>
>>>>-- 
>>>>__________________________________________________
>>>>
>>>>Ulrich Leopold MSc.
>>>>
>>>>Department of Physical Geography
>>>>Institute for Biodiversity and Ecosystem Dynamics
>>>>Faculty of Science
>>>>University of Amsterdam
>>>>Nieuwe Achtergracht 166
>>>>NL-1018WV Amsterdam
>>>>
>>>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>>>Fax:   +31-(0)20-525-7431
>>>>Email: uleopold at science.uva.nl
>>>>http://www.frw.uva.nl/soil/Welcome.html
>>>>
>>>>Check us also out at:
>>>>Netherlands Centre for Geo-ecological Research
>>>>http://www.frw.uva.nl/icg
>>>>
>>>>
>>>>
>>>>
>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>>>-.-.-.-.-.-.-.-.-
>>>>r-help mailing list -- Read 
>>>
>>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>Send "info", "help", or "[un]subscribe"
>>>(in the "body", not the subject !)  To: 
>>
>>r-help-request at stat.math.ethz.ch
>>
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>>_._._._._._._.
>>
>>>_._
>>>
>>>
>>
>>--------------------------------------------------------------
>>----------------
>>
>>>Notice: This e-mail message, together with any attachments, 
>>
>>contains information of Merck & Co., Inc. (Whitehouse 
>>Station, New Jersey, USA) that may be confidential, 
>>proprietary copyrighted and/or legally privileged, and is 
>>intended solely for the use of the individual or entity named 
>>on this message.  If you are not the intended recipient, and 
>>have received this message in error, please immediately 
>>return this by e-mail and then delete it.
>>
>>>
>>==============================================================
>>================
>>
>>-- 
>>__________________________________________________
>>
>>Ulrich Leopold MSc.
>>
>>Department of Physical Geography
>>Institute for Biodiversity and Ecosystem Dynamics
>>Faculty of Science
>>University of Amsterdam
>>Nieuwe Achtergracht 166
>>NL-1018WV Amsterdam
>>
>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>Fax:   +31-(0)20-525-7431
>>Email: uleopold at science.uva.nl
>>http://www.frw.uva.nl/soil/Welcome.html
>>
>>Check us also out at:
>>Netherlands Centre for Geo-ecological Research
>>http://www.frw.uva.nl/icg
>>
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read 
> 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 
> ------------------------------------------------------------------------------
> Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Sep 13 16:30:29 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 13 Sep 2002 09:30:29 -0500
Subject: [R] tcltk documentation
Message-ID: <E17prSn-0001Kt-00@sonny.eddelbuettel.com>


> Dear all,
> I am looking for basic examples of the use of tcltk in R.
>  Thank you in advance for any information, R-script, ...

Most of us started from the handful of examples you can see via
    demo("tcltk")

There are also some good examples in the mailing list archives
though some of the R to Tcl/Tk interfaces changed slightly in
recent releases.

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plxmh at nottingham.ac.uk  Fri Sep 13 16:42:23 2002
From: plxmh at nottingham.ac.uk (Martin Hoyle)
Date: Fri, 13 Sep 2002 15:42:23 +0100
Subject: [R] Contrasts in ANOVA table
Message-ID: <sd820764.072@ccw0c3.nottingham.ac.uk>

Hello All,
Is there a way of producing an ANOVA table split into contrasts, thus showing the contrasts sums of squares and associated p-values?

Thanks,
Martin.


Martin Hoyle,
School of Life and Environmental Sciences,
University of Nottingham,
University Park,
Nottingham,
NG7 2RD,
UK
Webpage: http://myprofile.cos.com/martinhoyle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep 13 16:50:43 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 13 Sep 2002 16:50:43 +0200
Subject: [R] lattice: postscript with colors
References: <20020913104647.A2073@s1x.zimnet.ch>
Message-ID: <3D81FB43.187D277D@statistik.uni-dortmund.de>

Wolfram Fischer wrote:
> 
> [ R version 1.5.1 on Linux ]
> 
> When I output a lattice graphic to a postscript file
> I receive black and white colors.
> 
> How can I set the lattice.theme$X11 or another colored theme
> for a postscript file ?

Two ways as examples: The first is simpler in a way, and "better" (white
background) for printing.

1.
 trellis.device("postscript", color=TRUE)
 xyplot(...)
 dev.off()

2.
 trellis.device("postscript")
 lset(canonical.theme("windows")) # or X11 on Linux ?
 xyplot(...)
 dev.off()


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Fri Sep 13 16:56:48 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 13 Sep 2002 09:56:48 -0500
Subject: [R] tcltk documentation
In-Reply-To: <200209131331.PAA07175@difool.obs-vlfr.fr>
References: <200209131331.PAA07175@difool.obs-vlfr.fr>
Message-ID: <87znum6iq7.fsf@lumen.indyrad.iupui.edu>

>>>>> "Bernard" == Bernard GENTILI <gentili at obs-vlfr.fr> writes:

    > Dear all, I am looking for basic examples of the use of
    > tcltk in R.  Thank you in advance for any information,
    > R-script, ...

There are some examples in an article in the R newsleter, vol
1/3, page 27, titled "A Primer on the R-Tcl/Tk Package".
(http://cran.r-project.org/doc/Rnews)

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Fri Sep 13 16:57:01 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Fri, 13 Sep 2002 10:57:01 EDT
Subject: [R] Sorting problem
Message-ID: <4c.117a3b81.2ab356bd@aol.com>

Dear list

I have a quick question which is probably very simple.

I have a data frame, and want to sort the data by putting one column in to 
ascending order 

i.e                becomes
A  B                A   B
1  0.5               3  0.4
2  0.9               1  0.5 
3  0.4               4  0.7 
4  0.7               2  0.9 

I can't seem to find anything in the help about sorting data frames.

Many thanks
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Fri Sep 13 17:05:48 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Fri, 13 Sep 2002 11:05:48 -0400 (EDT)
Subject: [R] tcltk documentation
Message-ID: <200209131505.LAA11108@blaise.dfci.harvard.edu>


>From: Bernard GENTILI <gentili at obs-vlfr.fr>
>Subject: [R] tcltk documentation
>To: r-help at stat.math.ethz.ch
>Date: Fri, 13 Sep 2002 15:31:15 METDST
>Mime-Version: 1.0
>
>Dear all,
>I am looking for basic examples of the use of tcltk in R.
> Thank you in advance for any information, R-script, ...

Have a look at R News Vol.1/3, September 2001

>--
>Bernard GENTILI
>LOV
>BP 8, 06238 Villefranche-sur-mer cedex, France
>Email : gentili at obs-vlfr.fr
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awitney at sghms.ac.uk  Fri Sep 13 15:30:29 2002
From: awitney at sghms.ac.uk (Adam Witney)
Date: Fri, 13 Sep 2002 14:30:29 +0100
Subject: [R] R and database access
In-Reply-To: <20020913091951.A12592@jessie.research.bell-labs.com>
Message-ID: <B9A7A705.78A9%a.witney@sghms.ac.uk>

Hi David,

Thanks for your reply. I have just managed to get the RODBC interface to
connect. Here is the problem with Rdbi.PgSQL

> library(Rdbi.PgSQL)
Loading required package: Rdbi
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library "/Users/adam/Projects/R
stuff/rlibs/Rdbi.PgSQL/libs/Rdbi.PgSQL.so":
  dlcompat: dyld: /sw/lib/R/bin/R.bin Undefined symbols:
_ERR_get_error
_ERR_reason_error_string
_SSL_CTX_new
_SSL_connect
_SSL_free
_SSL_library_init
_SSL_load_error_strings
_SSL_new
_SSL_read
_SSL_set_fd
_SSL_write
_SSLv23_method
Error in library(Rdbi.PgSQL) : .First.lib failed

Any ideas?

Thanks

adam


> Adam Witney wrote:
>> Hi,
>> 
>> I am relatively new at R, but I would like to be able to directly access my
>> MySQL and PostgreSQL databases from R. I have been looking around CRAN and
>> searching through Google, however I am not sure what are the best options. I
>> have seen
>> 
>> DBI         - not sure how this works
>> Rdbi        - not sure how this works
>> Rdbi.PgSQL  - can install, but fails on trying to load
>> RODBC       - cannot connect (I cannot find any troubleshooting guides)
>> RPgSQL      - can install, but fails on trying to load
>> RMySQL      - installation fails
> 
> Historically, each database package has had its own set of
> function (API) for interfacing with the database.  This means
> that the function names and methods used to connect through ODBC are
> completely different than, say, to  mSQL, Oracle or PostgreSQL.
> The problem was recognized and a special interest group on databases
> (R-SIG-DB) was formed to come up with a common database interface
> (DBI) similar in spirit to Java's JDBC, Perl's DBI/DBI, ODBC,
> Python's DB, etc.  The database interface package "DBI" reflects
> the current proposal, and it is based on Tim Keitt's Rdbi plus
> input from others.
> 
> As of today, no package in CRAN is yet DBI-compliant, but this is
> simply due to time constraints on package developers and maintainers
> who have to migrate their packages from existing individual APIs
> to the DBI.  
> 
> With the release of R version 1.6.0, there will be DBI-compliant
> packages for Oracle, MySQL, and SQLite (for beta versions go to
> ftp://ftp.cran.r-project.org/pub/R/src/contrib/1.6.0/Other
> and there are plans to port others, time permitting.
> 
>> 
>> (System = Mac OSX 10.2)
>> 
>> Which is considered the most up to date way of achieving this connection?
>> 
> 
> Hmmm, some of these packages have been used quite extensively (PgSQL
> in particular).  Also I see you're using Jaguar (Mac OS X, 10.2),
> so it's possible that some of the problems you've experienced are
> due to the changes in the operating system, C libraries, etc.,
> but hopefully these will be identified and addressed soon.
> 
>> Thanks for any help
>> 
>> adam
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> .-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> ._


-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Fri Sep 13 17:34:14 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Fri, 13 Sep 2002 17:34:14 +0200 (MET DST)
Subject: [R] Sorting problem
In-Reply-To: <4c.117a3b81.2ab356bd@aol.com>
Message-ID: <Pine.SO4.4.10.10209131732260.8089-100000@ufobi7.uni-forst.gwdg.de>

On Fri, 13 Sep 2002 Bayesianbay at aol.com wrote:

%Dear list
%
%I have a quick question which is probably very simple.
%
%I have a data frame, and want to sort the data by putting one column in to 
%ascending order 
%
%i.e                becomes
%A  B                A   B
%1  0.5               3  0.4
%2  0.9               1  0.5 
%3  0.4               4  0.7 
%4  0.7               2  0.9 
%
%I can't seem to find anything in the help about sorting data frames.

foo[order(foo[,"B"]),] ?

%
%Many thanks
%Laura
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Fri Sep 13 18:08:22 2002
From: wss at ufla.br (washington santos da silva)
Date: Fri, 13 Sep 2002 13:08:22 -0300
Subject: [R] StructTS questions
Message-ID: <3D820D76.158737BF@ufla.br>


Dear All

I would like to use the StructTS function in the ts library to fit the '
BSM ' model.
I have some, probably basics, questions about the model and about the
function(s):

1) How can I check the statistical significance of the estimated
parameters(variances)?

2) Is there some way to find what component "dominate" the series?

3) Is there a function to produce out-of-sample forecasts from this
model?

Thanks a lot for any help.

Washington S. Silva

OS: Windows 98
R: 1.5.1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Sep 13 18:06:00 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 13 Sep 2002 12:06:00 -0400
Subject: [R] Contrasts in ANOVA table
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CF4A@groexmb02.pfizer.com>

Hi Martin,

One or more of the functions 'contrast.lm', 'estimable', and 'glh.test' from
the package 'gregmisc' may accomplish what you need:

contrast.lm              Compute (and test) arbitrary contrasts for
                         regression objects
estimable                Compute and test estimable linear functions of
                         the fitted coefficients (including contrasts) of
                         regression objects
glh.test                 Test a General Linear Hypothesis for a
                         Regression Model


-Greg

> -----Original Message-----
> From: Martin Hoyle [mailto:plxmh at nottingham.ac.uk]
> Sent: Friday, September 13, 2002 10:42 AM
> To: R-help at stat.math.ethz.ch
> Subject: [R] Contrasts in ANOVA table
> 
> 
> Hello All,
> Is there a way of producing an ANOVA table split into 
> contrasts, thus showing the contrasts sums of squares and 
> associated p-values?
> 
> Thanks,
> Martin.
> 
> 
> Martin Hoyle,
> School of Life and Environmental Sciences,
> University of Nottingham,
> University Park,
> Nottingham,
> NG7 2RD,
> UK
> Webpage: http://myprofile.cos.com/martinhoyle
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Sep 13 18:50:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 13 Sep 2002 09:50:56 -0700 (PDT)
Subject: [R] Sorting problem
In-Reply-To: <4c.117a3b81.2ab356bd@aol.com>
Message-ID: <Pine.A41.4.44.0209130949340.120352-100000@homer07.u.washington.edu>

On Fri, 13 Sep 2002 Bayesianbay at aol.com wrote:

> Dear list
>
> I have a quick question which is probably very simple.
>
> I have a data frame, and want to sort the data by putting one column in to
> ascending order
>
>
> I can't seem to find anything in the help about sorting data frames.
>

You want order()

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Sep 13 19:09:59 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 13 Sep 2002 19:09:59 +0200 (CEST)
Subject: [R] Question about spatial statistics
In-Reply-To: <3D7E9B41.A2332543@ufla.br>
Message-ID: <Pine.LNX.4.44.0209131905580.21404-100000@reclus.nhh.no>

On Tue, 10 Sep 2002, washington santos da silva wrote:

> I?m tryng  to use the SPDEP package in my research in the field of
> population genetics. My data set
> has the following format:
> 
>  -  x and y : coordinates,
> -  Z: allelic frequency in  each loci (in a total of 8 locis) - this
> variable can assume the values  0 ; 0.5 or 1.
> 
>  The objective is to verify if there is a possible spatial
> autocorrelation structure of the allelic frequency in a population of
> natives trees (copaifera langsdorffii).
> I had some doubts about the package:
> 
> 1)  Is the package suitable to analyze this kind of data?
> 2)  Are the spatial autocorrelation tests in the package suitable for
> this analysis?
> 3)  If it is, what are the steps needed to carry out the Moran's I or
> others tests ?
> 
The package may or may not be what you need, depending on how you - as the 
person knowing the field data and the science - conceptualise the spatial 
process. I have code from Cliff & Ord 1981 for Moran's I for ordinal data 
(ordered factor) that I will include in the next release of the package, 
but - as in many spatial data analysis situations - you usually need to 
try several alternative approaches, of which mapping the data is often the 
key one.

> Any help will be welcome.
> Regards and
> Thank you very much.
> 
> Jo?o Marcos Louzada
> Federal University of Lavras - Brasil
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Fri Sep 13 20:07:21 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee J Law)
Date: Fri, 13 Sep 2002 11:07:21 -0700
Subject: [R] subset
Message-ID: <OF815DD052.FE23CD12-ON88256C33.00637888@pe-c.com>


I've found out that I have defined z elsewhere. If I remove z, the problem
is gone. Thanks!

- Jackie




                                                                                                                         
                    Uwe Ligges                                                                                           
                    <ligges at statistik.uni-do        To:     Ngayee J Law <Ngayee.Law at celeradiagnostics.com>              
                    rtmund.de>                      cc:     r-help at stat.math.ethz.ch                                     
                                                    Subject:     Re: [R] subset                                          
                    09/13/2002 01:56 AM                                                                                  
                                                                                                                         
                                                                                                                         




Ngayee J Law wrote:
>
> Dear list,
>
> I have a simple question. If I need to run linear regression on a subset
of
> the dataset, will
> the following two commands give the same output:
>
> lm(y ~ as.factor(x1) + as.factor(x2), data, subset = z==Z[1])
>
> and
>
> lm(y ~ as.factor(x1) + as.factor(x2), data[data$z==Z[1],] )
>
> I have got different results running the two commands. Am I missing
> something here, or it
> there a bug on the option subset?

Works for me on R-1.5.1, NT4.0.

Do you have z defined anywhere else?
If not and your version is recent: Can you provide an example?
Please, tell us your version of R and your OS as well.

Uwe Ligges




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Fri Sep 13 20:24:52 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Fri, 13 Sep 2002 20:24:52 +0200
Subject: [R] design package (plot problems)
Message-ID: <200209131824.g8DIOqX00344@mailgate5.cinetic.de>

Hi,
just making some experiments with
design library i get an error if 
i want plot(fit) - show below from 
onlineHelp !?

..perhaps is here another mask problem?, but
label from xtable which was my first problem
is now off !


Thanks for advance & regards,
Christian



$ n <- 1000    # define sample size
$ set.seed(17) # so can reproduce the results
$ age            <- rnorm(n, 50, 10)
$ blood.pressure <- rnorm(n, 120, 15)
$ cholesterol    <- rnorm(n, 200, 25)
$ sex            <- factor(sample(c('female','male'), n, T))
$ label(age)            <- 'Age' 
$ label(cholesterol)    <- 'Total Cholesterol'
$ label(blood.pressure) <- 'Systolic Blood Pressure'
$ label(sex)            <- 'Sex'
$ units(cholesterol)    <- 'mg/dl'   # uses units.default in Hmisc
$ units(blood.pressure) <- 'mmHg'
$ 
$ # Specify population model for log odds that Y=1
$ L <- .4*(sex=='male') + .045*(age-50) +
+         (log(cholesterol - 10)-5.2)*(-2*(sex=='female') + 2*(sex=='male'))
$ # Simulate binary y to have Prob(y=1) = 1/[1+exp(-L)]
$ y <- ifelse(runif(n) < plogis(L), 1, 0)
$ 
$ ddist <- datadist(age, blood.pressure, cholesterol, sex)
$ options(datadist='ddist')
$ 
$ fit <- lrm(y ~ blood.pressure + sex * (age + rcs(cholesterol,4)),x=T, y=T)
$ 
$ par(mfrow=c(2,2))
$ plot(fit)                # Plot effects of all 4 predictors
Error in "oldClass<-"(*tmp*, value = "keep") : 
        attempt to set an attribute on NULL
$ par(mfrow=c(1,2))
$ plot(fit, name=c('age','cholesterol'))   # Make 2 plots
Error in "oldClass<-"(*tmp*, value = "keep") : 
        attempt to set an attribute on NULL
$ par(mfrow=c(1,1))
$ plot(fit, age=seq(20,80,length=100), sex=NA, conf.int=F)
Error in "oldClass<-"(*tmp*, value = "keep") : 
        attempt to set an attribute on NULL



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wawatts at lbl.gov  Fri Sep 13 20:43:11 2002
From: wawatts at lbl.gov (William Watts)
Date: Fri, 13 Sep 2002 11:43:11 -0700
Subject: [R] Analyzing Mass Spectrometer data with R
Message-ID: <3D8231BF.A284658E@lbl.gov>

Is there anyone out there that has analyzed Mass Spec data with R.  Is there a
way to find the peaks?


Thanks,
William

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Fri Sep 13 21:31:02 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Fri, 13 Sep 2002 12:31:02 -0700 (PDT)
Subject: [R] lattice: postscript with colors
In-Reply-To: <3D81FB43.187D277D@statistik.uni-dortmund.de>
Message-ID: <20020913193102.2150.qmail@web13902.mail.yahoo.com>


--- Uwe Ligges <ligges at statistik.uni-dortmund.de> wrote:
> Wolfram Fischer wrote:
> > 
> > [ R version 1.5.1 on Linux ]
> > 
> > When I output a lattice graphic to a postscript file
> > I receive black and white colors.
> > 
> > How can I set the lattice.theme$X11 or another colored theme
> > for a postscript file ?
> 
> Two ways as examples: The first is simpler in a way, and "better" (white
> background) for printing.
> 
> 1.
>  trellis.device("postscript", color=TRUE)
>  xyplot(...)
>  dev.off()
> 
> 2.
>  trellis.device("postscript")
>  lset(canonical.theme("windows")) # or X11 on Linux ?

Alternately,
lset(col.whitebg())

>  xyplot(...)
>  dev.off()
> 
> 
> Uwe Ligges
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________

Yahoo! News - Today's headlines

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Sat Sep 14 00:00:06 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Sat, 14 Sep 2002 00:00:06 +0200
Subject: [R] design package (plot problems)
Message-ID: <200209132200.g8DM06X25190@mailgate5.cinetic.de>

....hmmm ok i use R1.5.1/Win2000 and should
really fast as possible migrate ;-)

Error in "oldClass<-"(*tmp*, value = "keep") : 
> >         attempt to set an attribute on NULL
..you understand this error-message ?

Thanks again,
Christian



Frank E Harrell Jr <fharrell at virginia.edu> schrieb am 13.09.02 23:19:28:
> It runs OK for me on Linux under R 1.5.1.  -Frank 
> 
> On Fri, 13 Sep 2002 20:24:52 +0200
> chr.schulz at email.de wrote:
> 
> > Hi,
> > just making some experiments with
> > design library i get an error if 
> > i want plot(fit) - show below from 
> > onlineHelp !?
> > 
> > ..perhaps is here another mask problem?, but
> > label from xtable which was my first problem
> > is now off !
> > 
> > 
> > Thanks for advance & regards,
> > Christian
> > 
> > 
> > 
> > $ n <- 1000    # define sample size
> > $ set.seed(17) # so can reproduce the results
> > $ age            <- rnorm(n, 50, 10)
> > $ blood.pressure <- rnorm(n, 120, 15)
> > $ cholesterol    <- rnorm(n, 200, 25)
> > $ sex            <- factor(sample(c('female','male'), n, T))
> > $ label(age)            <- 'Age' 
> > $ label(cholesterol)    <- 'Total Cholesterol'
> > $ label(blood.pressure) <- 'Systolic Blood Pressure'
> > $ label(sex)            <- 'Sex'
> > $ units(cholesterol)    <- 'mg/dl'   # uses units.default in Hmisc
> > $ units(blood.pressure) <- 'mmHg'
> > $ 
> > $ # Specify population model for log odds that Y=1
> > $ L <- .4*(sex=='male') + .045*(age-50) +
> > +         (log(cholesterol - 10)-5.2)*(-2*(sex=='female') + 2*(sex=='male'))
> > $ # Simulate binary y to have Prob(y=1) = 1/[1+exp(-L)]
> > $ y <- ifelse(runif(n) < plogis(L), 1, 0)
> > $ 
> > $ ddist <- datadist(age, blood.pressure, cholesterol, sex)
> > $ options(datadist='ddist')
> > $ 
> > $ fit <- lrm(y ~ blood.pressure + sex * (age + rcs(cholesterol,4)),x=T, y=T)
> > $ 
> > $ par(mfrow=c(2,2))
> > $ plot(fit)                # Plot effects of all 4 predictors
> > Error in "oldClass<-"(*tmp*, value = "keep") : 
> >         attempt to set an attribute on NULL
> > $ par(mfrow=c(1,2))
> > $ plot(fit, name=c('age','cholesterol'))   # Make 2 plots
> > Error in "oldClass<-"(*tmp*, value = "keep") : 
> >         attempt to set an attribute on NULL
> > $ par(mfrow=c(1,1))
> > $ plot(fit, age=seq(20,80,length=100), sex=NA, conf.int=F)
> > Error in "oldClass<-"(*tmp*, value = "keep") : 
> >         attempt to set an attribute on NULL
> > 
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbatobeme at yahoo.com  Sat Sep 14 04:28:57 2002
From: mbatobeme at yahoo.com (- -)
Date: Fri, 13 Sep 2002 19:28:57 -0700 (PDT)
Subject: [R] missing data dataset needed
Message-ID: <20020914022857.44250.qmail@web10506.mail.yahoo.com>

Not exactly an R question but..........

Does anyone have a dataset with a nice story behind it
that would be suitable for regression analysis but is
missing data in one or two covariates ? I am playing
around with different missing data routines and need a
nice dataset to play with.

Thanks,

Steve


__________________________________________________

Yahoo! News - Today's headlines

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Sat Sep 14 05:11:12 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 13 Sep 2002 23:11:12 -0400
Subject: [R] R-version of haplo.score uploaded to CRAN
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CF53@groexmb02.pfizer.com>


I've just uploaded an R version of Daniel Schaid's 'haplo.score' library
(from  http://www.mayo.edu/statgen/)  to CRAN.  

>From the DESCRIPTION file:

[haplo.score is a] suite of routines that can be used to compute score
statistics to test associations between haplotypes and a wide variety of
traits, including binary, ordinal, quantitative, and Poisson. These methods
assume that all subjects are unrelated and that haplotypes are ambiguous
(due to unknown linkage phase of the genetic markers). The methods provide
several different global and
haplotype-specific tests for association, as well as provide adjustment for
non-genetic covariates and computation of simulation p-values (which may be
needed for sparse data). 

Details on the background and theory of the score statistics can be found in
the following reference:
      Schaid DJ, Rowland CM, Tines DE, Jacobson RM, Poland GA. 
      Score tests for association of traits with haplotypes when
      linkage phase is ambiguous. American J Human Genetics, February,
       2002.

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gracedavid at weedmail.com  Sat Sep 14 20:33:17 2002
From: gracedavid at weedmail.com (MISS GRACE  DAVID  STEVEN)
Date: Sat, 14 Sep 2002 11:33:17 -0700
Subject: [R] GREETINGS
Message-ID: <E17qAG5-0005EL-00@bernie.ethz.ch>

Good Day,


With warm heart I offer my friendship, and my greetings, and I hope this
letter meets you in good time. 

It will be surprising  to you to receive this proposal from me since you do
not know me personally. However, I am sincerely seeking your confidence in
this transaction, which I propose with my free mind and I hope you will 
 open-heartedly read through and
give me your most needed support. I got your address from an internet
directory, in my search for a contact. I apologize if this is not acceptable
to you. The purpose of this letter is to seek your most needed assistance. 

My name is Miss  Grace David  Stevens, the daughter of Mr.
David Stevens, a very popular and rich farmer from Macheke, Zimbabwe. My
father was murdered in cold blood in my presence on 15 of April 2001, due to
the land dispute and political situation in my country, as a result of my
father's financial support for the MDC (Movement for Democratic Change), the
main opposition party to President Mugabe's party,  Zimbabwe African
National Union Patriotic Front (ZANU-PF) . For more information on my
father's murder, you may check the Amnesty International Country Report on
Zimbabwe for the year 2001.

When the pressure on white farmers started in Zimbabwe due to the support
given to the war veterans by President Mugabe to invade farms and force out
white farmers, my father for saw the danger ahead, he then closed his major
bank accounts, and together, we went to Accra  in Ghana to
deposit the sum of $14.5 million (Fourten million, five hundred thousand
USdollars), in a private security company, for safety. This money was
deposited in a box in his personal assitance's name, Mr Cole Razak and 
all the deposit doccuments and the photograph of the content of the boxes
 at the points of deposition with the security company
 were handed over to me by my father for safe keeping rather than with the
 master, for security reasons, as my father was being secretive with his
name, . The box is labeled as gemstones. My father had
planned to use this money  for the purchase of lands, new machines and
chemicals for establishment of new farms in Botswana. He has used this
company in the past to move money for the purchase of tractors and farm
equipment from Europe. My father is divorced by the wife he married after 
the death of my monther in 1985  and his wife Valerie, and only
child, Diana have relocated to Bradford, England for 9years now. 

I am currently in the Nigeria where I am schooling in one of their university, 
now in my final year having less than three months to graduate.
 I
Have now decided to transfer my  father;s money into an account for
security and safety reasons. This is why I am anxiously and humbly seeking
for your genuine assistance in transfering this money into an account
without the knowledge of my government who are bent on taking everything my
master left. You have to understand that this decision taken by me entrusts
so much to you.

If you accept to assist me, all I want you to do for me, is to make an
arrangements with the security company to clear the box containing the money
from their office here in the GHANA, or at the corresponding office in HOLLAND and then we will transfer the
money into an account. You may open a new account for this purpose. I have
noticefied the security company and my father's personal assistance  my plans 
To legally process the claim of the box, I will contact a lawyer to help me
prepare a change of ownership and letter of authority to enable them
recognise you as my representative, and deliver the box to you. I have with
me, the certificate used to deposit the box, and the photograph of the 
boxes showing it's content at the point of deposition which we will need for claiming
the box. 

For valuable assistance, I am offering you 18% of the total
money. I have also set aside 10% of this money for all kinds of
expenses that come our way in the process of this transaction, 10% for my father's master and
5%, will be given to Charity in my father's name I will give 15%
 to Valerie and Diana, I also intend to start up a business then. If you have knowledge
of farming business in your country, or other areas of possible business
investment that I may be interested in, please inform me, so that  some of
my share of the money can be invested for the time being.

Please, I want  you to maintain absolute secrecy for the purpose of this
transaction due to my safety and successful conclusion of the transaction. 

As soon as i hear from you, telling me your williness to work as a team with me,
 i will introduce you to my lawyer who will provide you with the neccessary details
 and further discussion in a proffesional and in comfidence for the succuessfull actualization of this project.

Please send me your full contact details including your phone numbers to enable me lawyer call you for a detailed discussion. 

I look forward to your reply and co-operation, and I am sure it will be nice
to extend ties with you.

Reply to gracedavid01 at weedmail.com


Yours sincerely,


Miss  Grace  David  Stevens.  



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbatobeme at yahoo.com  Sat Sep 14 15:45:31 2002
From: mbatobeme at yahoo.com (- -)
Date: Sat, 14 Sep 2002 06:45:31 -0700 (PDT)
Subject: [R] missing data data set needed
Message-ID: <20020914134531.55859.qmail@web10504.mail.yahoo.com>

Not exactly an R question but..........

Does anyone have a dataset with a nice story behind it
that would be suitable for regression analysis but is
missing data in one or two covariates ? I am playing
around with different missing data routines and need a
nice dataset to play with.

Thanks,

Steve



__________________________________________________

Yahoo! News - Today's headlines

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Sat Sep 14 18:14:31 2002
From: wss at ufla.br (washington santos da silva)
Date: Sat, 14 Sep 2002 13:14:31 -0300
Subject: [R] ts/structTS question
Message-ID: <3D836066.6DB88728@ufla.br>

Dear All

I would like to use the StructTS function in the ts library to fit the '

BSM ' model.
I have some, probably basics, questions about the model and about the
function(s):

1) How can I check the statistical significance of the estimated
parameters(variances)?

2) Is there some way to find what component "dominate" the series?

3) Is there a function to produce out-of-sample forecasts from this
model?

Thanks a lot for any help.

Washington S. Silva

OS: Windows 98
R: 1.5.1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Sep 14 19:08:48 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 14 Sep 2002 12:08:48 -0500
Subject: [R] ts/structTS question
In-Reply-To: <3D836066.6DB88728@ufla.br>
References: <3D836066.6DB88728@ufla.br>
Message-ID: <20020914170848.GA1247@sonny.eddelbuettel.com>

On Sat, Sep 14, 2002 at 01:14:31PM -0300, washington santos da silva wrote:
> I would like to use the StructTS function in the ts library to fit the '
> 
> BSM ' model.
> I have some, probably basics, questions about the model and about the
> function(s):

Yes, and you asked them three times in a fairly short space of time.  This
is not a paid-for support line, so you cannot expect to get answers. 

StructTS does give reference on its help page. Did you consider those?

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Sep 14 23:39:46 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sat, 14 Sep 2002 17:39:46 -0400
Subject: [R] missing data dataset needed
In-Reply-To: <20020914022857.44250.qmail@web10506.mail.yahoo.com>
References: <20020914022857.44250.qmail@web10506.mail.yahoo.com>
Message-ID: <20020914173946.6e5deb3f.fharrell@virginia.edu>

Look at the SUPPORT dataset at
http://hesweb1.med.virginia.edu/biostat/s/data

This is one of my favorite dataset for teaching because it has lots of predictors some of which have missing values and it has several types of response variables -

- binary (death in hospital)
- survival time
- ordinal (functional status at 2 months)
- continuous (hospital costs)

All see the titanic3 dataset which has missing values for some of the ages of the Titanic passengers.  I do multiple imputation for that variable in Regression Modeling Strategies (Springer, 2001).  The response is binary (surviving the disaster).

Frank Harrell

On Fri, 13 Sep 2002 19:28:57 -0700 (PDT)
- - <mbatobeme at yahoo.com> wrote:

> Not exactly an R question but..........
> 
> Does anyone have a dataset with a nice story behind it
> that would be suitable for regression analysis but is
> missing data in one or two covariates ? I am playing
> around with different missing data routines and need a
> nice dataset to play with.
> 
> Thanks,
> 
> Steve
> 
> 
> __________________________________________________
> 
> Yahoo! News - Today's headlines
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Sep 15 00:12:23 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 14 Sep 2002 15:12:23 -0700
Subject: [R] OT:  Compiling EMMIX
Message-ID: <5.1.1.5.2.20020914150459.00b6a170@pop4.attglobal.net>

Sorry for the off-topic post, but there is such a wealth of knowledge here 
that I thought someone might have suggestions.

Geoff MacLachlan and David Peel have a program - EMMIX - available for 
mixture modelling.  It is only available as FORTRAN source code and is 
"downloadable" from Geoff's site.  The code is reputed to run on Unix 
machines and is compilable according to instructions posted on the web site 
simply as:

f77 -o emmix emmix.f

I've downloaded the program onto my Linux (RedHat 7.3) box and tried to 
compile it.  I get hundreds of errors that result in f77 "giving up" in 
"confusion".  I have no idea whether the f77 that comes with RH Linux is 
the same as what we have on our "mainframe" (running Sun 0S 5.8), but I get 
the same cascade of errors on the big box as on my Linux workstation.

I emailed Geoff about this, but he's referred my question on to David 
Peel.  While I wait for David's answer, let me ask two questions of this group:

1)  has anyone here successfully compiled EMMIX from the source code 
supplied on MacLachlan's site?

2) is the f77 that comes with RH Linux the same as or significantly 
different from that on Unix boxes?

Thanks for your help.


Dr. Marc R. Feldesman
Professor and Chairman Emeritus
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Sep 15 06:04:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 14 Sep 2002 21:04:43 -0700 (PDT)
Subject: [R] OT:  Compiling EMMIX
In-Reply-To: <5.1.1.5.2.20020914150459.00b6a170@pop4.attglobal.net>
Message-ID: <Pine.A41.4.44.0209142051450.54928-100000@homer35.u.washington.edu>

On Sat, 14 Sep 2002, Marc R. Feldesman wrote:

> 2) is the f77 that comes with RH Linux the same as or significantly
> different from that on Unix boxes?
>

Yes. It's the GNU Fortran compiler. Unlike the GNU C compiler, which is
pretty competitive with commercial offerings, the Fortran compiler is a
bit more limited.

It supports just about all the ANSI Fortran 77 standard, but there are a
lot of programs out there that don't agree with the standard.  It's much
worse than C, where declaring main() as void is about the only really
common usage that conflicts with the standard.

The g77 manual has two sections that might be useful: 'Collected Fortran
Wisdom' and "Known Causes of Trouble with GNU Fortran"

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Sep 15 06:25:09 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 14 Sep 2002 21:25:09 -0700
Subject: [R] Congrats to Brian, Bill, and Peter
Message-ID: <5.1.0.14.2.20020914211846.00a9a728@pop4.attglobal.net>

Congratulations to Bill Venables and Brian Ripley for their latest "tour de 
force" - MASS 4, which just arrived in my mailbox last week.  As always, 
the book contains new pearls of wisdom to improve my statistical and 
programming skills.

Kudos also to Peter Dalgaard for his "Introduction to Statistics with 
R".  It is a delightful volume that I can recommend to all those students 
who simply want to use R for basic statistics but don't want/need to go 
into the subtle and sophisticated data management techniques offered by 
R.  The beauty of Peter's book is that it very subtly entices the good 
student into Bill and Brian's book(s), as well as the core teams 
well-written introductions.

I hope that our purchase of these books helps to demonstrate to the three 
of them how much we (I) genuinely appreciate the time and effort they have 
put into making R (and S-Plus) my (and my students) statistical software of 
choice.

Congratulations on a job well-done.




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Macrominichoerus - 1.3 GHz Latitude with Attitude

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Sep 15 09:10:45 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sun, 15 Sep 2002 09:10:45 +0200 (CEST)
Subject: [R] OT:  Compiling EMMIX
In-Reply-To: <5.1.1.5.2.20020914150459.00b6a170@pop4.attglobal.net>
Message-ID: <Pine.LNX.4.44.0209150906360.26485-100000@tal.stat.umu.se>

Marc, I did a web search and found EMMIX, downloaded it and compiled. The
last error message was:

EMMIX.f: In subroutine `hiercon':
EMMIX.f:2413:
          INCLUDE 'EMMIX.max'
          ^
Unable to open INCLUDE file `EMMIX.max' at (^)

so I went back and downloaded EMMIX.max. Then it compiled fine.

I guess you forgot to read the error message.

Best,

G?ran

On Sat, 14 Sep 2002, Marc R. Feldesman wrote:

> Sorry for the off-topic post, but there is such a wealth of knowledge here
> that I thought someone might have suggestions.
>
> Geoff MacLachlan and David Peel have a program - EMMIX - available for
> mixture modelling.  It is only available as FORTRAN source code and is
> "downloadable" from Geoff's site.  The code is reputed to run on Unix
> machines and is compilable according to instructions posted on the web site
> simply as:
>
> f77 -o emmix emmix.f
>
> I've downloaded the program onto my Linux (RedHat 7.3) box and tried to
> compile it.  I get hundreds of errors that result in f77 "giving up" in
> "confusion".  I have no idea whether the f77 that comes with RH Linux is
> the same as what we have on our "mainframe" (running Sun 0S 5.8), but I get
> the same cascade of errors on the big box as on my Linux workstation.
>
> I emailed Geoff about this, but he's referred my question on to David
> Peel.  While I wait for David's answer, let me ask two questions of this group:
>
> 1)  has anyone here successfully compiled EMMIX from the source code
> supplied on MacLachlan's site?
>
> 2) is the f77 that comes with RH Linux the same as or significantly
> different from that on Unix boxes?
>
> Thanks for your help.
>
>
> Dr. Marc R. Feldesman
> Professor and Chairman Emeritus
> Anthropology Department - Portland State University
> email:  feldesmanm at pdx.edu
> email:  feldesman at attglobal.net
> fax:    503-725-3905
>
>
> "Sometimes the lights are all shining on me, other times I can barely see,
> lately it's occurred to me, what a long strange trip it's been..."  Jerry &
> the boys
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

---
 G?ran Brostr?m                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume? University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Sun Sep 15 19:22:01 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Sun, 15 Sep 2002 18:22:01 +0100
Subject: [R] normal score transform
Message-ID: <3D84C1B9.B56383F3@lancs.ac.uk>

Dear Ulrich

One way to back-transform is by simulation.

Procedure 

1. Make 1000 simulation from a normal distribution with mean = predicted
mean, variance = prediction variance
2. back-transform the simulations
3. Calculate mean and variance of the simulations.

For the normal-score-transform you need to define what you mean by the
inverse of such transform 
[as a function taking any real number, not just one of your data
values].
That sounds odd to me, so why not use another transformation ? 

Box-Cox transformations are implemented in package geoR 
[and if I remember correctly, back-transformation by simulations is also
implemented]

Cheers Ole


> But is it also possible to transform the prediction VARIANCE back to non 
> normalized variances? I do not have these variances before hand. Or would be 
> a solution to use the standard deviation as this will be within the range of 
> the predictions? I'm not quite sure... 


-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Sep 15 19:34:34 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 15 Sep 2002 10:34:34 -0700
Subject: [R] Thanks for help on EMMIX
Message-ID: <5.1.1.5.2.20020915102804.016aefa0@pop4.attglobal.net>

Thanks to John Day, Tom Richards, Mike Prager, Thomas Lumley, and Goran 
Brostrom, for various helpful suggestions that finally allowed me to get 
EMMIX compiled on my Linux (and my Windows) machines.

The problem was a simple case-sensitivity issue concerning a single file, 
which I had correctly downloaded but named using the wrong case 
("emmix.max" instead of "EMMIX.max").  Both g77 (under MinG 2.0) and f77 
(under RH Linux 7.3) compile the program without problem.  I did discover 
an ancillary problem that took a bit of effort to sort out.  Under Windows 
XP, WinEdt does not capture the EMMIX.f (or EMMIX.max) source files in a 
standard ASCII text file format that g77 could use properly.  Once I saved 
the file using Notepad (making no changes to the files), the compilation 
went without a hitch.  I'm investigating to see what WinEdt does to the 
file that causes g77 to choke on it.





Dr. Marc R. Feldesman
Professor and Chairman Emeritus
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Sep 15 19:37:13 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sun, 15 Sep 2002 13:37:13 -0400
Subject: [R] lattice with print(..., more=) and multiple graphics files
Message-ID: <20020915133713.348942ec.fharrell@virginia.edu>

Under

platform i586-pc-linux-gnu
arch     i586             
os       linux-gnu        
system   i586, linux-gnu  
status                    
major    1                
minor    5.0              
year     2002             
month    04               
day      29               
language R                

(haven't updated to 1.5.1 because it's not available on Mandrake 8.1 which is on my home machine)

using lattice 0.5-4 and grid 0.6-1 I am having difficulty getting 3 pdf files produced.  The following code only produces 2 files, test1.pdf and test2.pdf:

trellis.device('pdf',file='test%d.pdf',onefile=FALSE)
p1 <- xyplot(runif(20) ~ runif(20))
p2 <- p1
for(i in 1:3) {
 print(p1,split=c(1,1,2,1),more=TRUE)
 print(p2,split=c(2,1,2,1),more=FALSE)
}
dev.off()

Thanks in advance for any help.

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdeke2 at comcast.net  Sun Sep 15 20:00:25 2002
From: jdeke2 at comcast.net (John Deke)
Date: Sun, 15 Sep 2002 14:00:25 -0400
Subject: [R] loess crash
Message-ID: <4.3.1.2.20020915135245.01e68e58@mail.comcast.net>

Hi,

I have a data frame with 6563 observations. I can run a regression with 
loess using four explanatory variables. If I add a fifth, R crashes. There 
are no missings in the data, and if I run a regression with any four of the 
five explanatory variables, it works. Its only when I go from four to five 
that it crashes.

This leads me to believe that it is not an obvious problem with the data, 
but rather a resource problem. But I've set the max memory option for R to 
512 M, so I wouldn't think that I'd be running out of RAM.

Is there some other memory option I need to set? Is there some limit on the 
size of problems that loess can handle regardless of system resources?

I'm running Windows 2000 and R 1.5.1. I've also run this with R 1.3. I've 
tried it on a Pentium IV and an Athlon.

If anybody knows of a solution to this problem, I would greatly appreciate it.

Thanks,

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 15 22:02:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 2002 22:02:32 +0200
Subject: [R] tcltk documentation
In-Reply-To: <200209131505.LAA11108@blaise.dfci.harvard.edu>
References: <200209131505.LAA11108@blaise.dfci.harvard.edu>
Message-ID: <x23csbvx5z.fsf@biostat.ku.dk>

John Zhang <jzhang at jimmy.harvard.edu> writes:

> >I am looking for basic examples of the use of tcltk in R.
> > Thank you in advance for any information, R-script, ...
> 
> Have a look at R News Vol.1/3, September 2001

...and look out for R News Vol.2/3, October 2002 (I hope...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Sun Sep 15 23:50:54 2002
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Sun, 15 Sep 2002 17:50:54 -0400 (EDT)
Subject: [R] printing graphics window on Mac OS 9.2
Message-ID: <200209152150.RAA12124@aeolus.geo.umass.edu>

I'm a long time user of R, but I'm not a regular Mac user.  I am now
teaching in a room with a dozen Macs and I'm having a problem printing
the graphics window.  I'm using R 1.5.1 precompiled for Mac OS on Blue
G3s with Mac OS 9.2.  When I have the macintosh graphics device
selected and use File, Print from the menu system, the OS attempts to
print, but the machine hangs after a few minutes.  The mouse and
keyboard freeze and the only means of proceeding is by a hardware
reset.  The printer does apparently receive some data judging by the
lights on its front panel, but nothing is printed.

Does printing the graphics window from the R menu system generally
work on the Macs or should I stick to using a postscript device?

The Mac documentation mentioned some problem with the Adobe type
manager, but I'm not sure how to check this on the Mac.  Is this
possible a problem with the type manager?

By the way, I can print text from the R console or other text windows
without problem.  And I can copy the graphics to Word and print from
there with no problem.

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdeke2 at comcast.net  Mon Sep 16 02:38:33 2002
From: jdeke2 at comcast.net (John Deke)
Date: Sun, 15 Sep 2002 20:38:33 -0400
Subject: [R] loess crash
In-Reply-To: <4.3.1.2.20020915135245.01e68e58@mail.comcast.net>
Message-ID: <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>

Hmm... if I reduce the number of observations to just 500, I still get the 
error.

I don't think its an issue of colinearity, because I've tried several 
different combinations of variables, all of which work just fine in an OLS 
or logistic regression.

I'm probably doing something stupid, but I'm not seeing it...

At 02:00 PM 9/15/2002, John Deke wrote:
>Hi,
>
>I have a data frame with 6563 observations. I can run a regression with 
>loess using four explanatory variables. If I add a fifth, R crashes. There 
>are no missings in the data, and if I run a regression with any four of 
>the five explanatory variables, it works. Its only when I go from four to 
>five that it crashes.
>
>This leads me to believe that it is not an obvious problem with the data, 
>but rather a resource problem. But I've set the max memory option for R to 
>512 M, so I wouldn't think that I'd be running out of RAM.
>
>Is there some other memory option I need to set? Is there some limit on 
>the size of problems that loess can handle regardless of system resources?
>
>I'm running Windows 2000 and R 1.5.1. I've also run this with R 1.3. I've 
>tried it on a Pentium IV and an Athlon.
>
>If anybody knows of a solution to this problem, I would greatly appreciate it.
>
>Thanks,
>
>John
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Mon Sep 16 03:46:59 2002
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Mon, 16 Sep 2002 11:46:59 +1000
Subject: [R] installing SEM package on macOS 9.x
Message-ID: <A8877251964B294BAB5BA1FC58B43FED4F7526@molly.tas.csiro.au>

>Hi,
>I was wondering if anyone  could tell me whether the SEM package can be
>installed on MacOS 9. I downloaded the tar.gz files and extracted them
>into the library directory but got the error "library contains no R code"
>when I used typed library(sem) at the prompt.
>
>I usually work in windows or Linux but was faced with trying to install the
>package for Mac. I did install other packages successfully so I am
confident
>that its not *totally* my fault. Any advice on how to get this running
would
>be fantastic.
>
>Regards
>
>Toby
>
>Toby Patterson
>Tropical and Pelagic Ecosystems Program
>CSIRO Marine Research,
>Castray Esplanade Hobart
>Tasmania, Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Sep 15 07:35:59 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 15 Sep 2002 01:35:59 -0400 (EDT)
Subject: [R] R CMD SHLIB ignores changes in header files
Message-ID: <Pine.LNX.4.44.0209150125050.13388-100000@Chrestomanci>


Dear People,

If I do

R CMD SHLIB foo.c

where foo.c includes a header file (foo.h, say) then if I change foo.h and
rerun R CMD SHLIB it does not recompile the shared library. I have to
touch foo.c before it will recompile. I am finding this increasingly
annoying. Is this a known issue, or am I missing something?

This clearly has to do with how the make process underlying RM CMD SHLIB,
therefore presumably the file /usr/lib/R/bin/SHLIB is the one to look at.
This behaviour appears to me to be a bug, but I'm not sure what the best
way to fix it would be. Perhaps make it possible to pass header file names
to R CMD SHLIB as arguments?

                                        Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Mon Sep 16 08:28:01 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Mon, 16 Sep 2002 08:28:01 +0200
Subject: [R] lattice with print(..., more=) and multiple graphics files
Message-ID: <JLEPLGAANFCEAEDCAGJNKEPLCCAA.dieter.menne@menne-biomed.de>

Frank Harrel wrote:

using lattice 0.5-4 and grid 0.6-1 I am having difficulty getting 3 pdf
files produced. The following code only produces 2 files, test1.pdf and
test2.pdf:

trellis.device('pdf',file='test%d.pdf',onefile=FALSE)
p1 <- xyplot(runif(20) ~ runif(20))
p2 <- p1
for(i in 1:3) {
 print(p1,split=c(1,1,2,1),more=TRUE)
 print(p2,split=c(2,1,2,1),more=FALSE)
}
dev.off()


------------
A similar, but less visible problem with
trellis.device('postscript',file='test%d.ps',onefile=FALSE)

Three file are generated, but only the first one is valid.
test2 and test3 have "%% of pages does not match..."

Dieter

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 16 09:38:10 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 2002 09:38:10 +0200
Subject: [R] loess crash
In-Reply-To: <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
References: <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
Message-ID: <x2vg56tme5.fsf@biostat.ku.dk>

John Deke <jdeke2 at comcast.net> writes:

> Hmm... if I reduce the number of observations to just 500, I still get
> the error.
> 
> I don't think its an issue of colinearity, because I've tried several
> different combinations of variables, all of which work just fine in an
> OLS or logistic regression.
> 
> I'm probably doing something stupid, but I'm not seeing it...
> 
> At 02:00 PM 9/15/2002, John Deke wrote:
> >Hi,
> >
> > I have a data frame with 6563 observations. I can run a regression
> > with loess using four explanatory variables. If I add a fifth, R
> > crashes. There are no missings in the data, and if I run a
> > regression with any four of the five explanatory variables, it
> > works. Its only when I go from four to five that it crashes.

Hmm... I wouldn't try loess with more than one or two descriptors. I
mean, it's a smoothing method and representing a smooth function of
many variables can be computationally demanding.

The Fortran source code for loess is one of the more obfuscated pieces
of R, but I can see that some structures inside of it are of fixed
size, which might explain it (BTW: Does R really crash, or just say
memory exhausted?).

Do you have a simple example that reproduces the crash (using random
numbers, e.g.)?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Mon Sep 16 11:56:32 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Mon, 16 Sep 2002 12:56:32 +0300
Subject: [R] Multiple random effects in lme?
References: <3D81D754.DBCB7E36@helsinki.fi>
Message-ID: <3D85AAD0.B48B4EE7@helsinki.fi>

Thanks to the people who replied to my quesry (my original message is
below).  It appears I'm not the only one to have had this problem, so
I'vwe taken the liberty of posting a summary.  Here they are:

>From In-Sun Nam:
You can use a crossed random effects structure; if that is the one that
you
are trying to say.
The syntax will be
random = pdBlocked(list(pdSymm(~Pop-1), pdSymm(~Tree-1)))
so that your random effect structure is represented by a block diagonal
variance-covariance matrix where diagonal blocks given by multiples of
general positive-definite matrices.

I think that -1 will be necessary as you would not like to have
intercept
values; otherwise you can take them out.

>From Rich Raubertas:
Check the archives for posts by Doug Bates on 21 Feb 2002 and 
18 Jul 2001.  He describes how to code non-nested random 
effects in lme.

To which I add:
The 21/2/02 message is at
<http://maths.newcastle.edu.au/~rking/R/help/02a/1399.html>, and is
answering what is essentially the same question.  Part of it is:

The answer to your question is not "extremely simple". It happens 
that the lme function is much better suited to nested random effects 
than to crossed random effects. To estimate crossed random effects 
you must create an awkward formulation with a grouping factor that has 
one level and the random effects model matrix based on the indicators 
for factor a and the indicators for factor b. These two sets of 
random effects each have variance-covariance matrices that are 
multiples of an identity and the are grouped together as a 
block-diagonal matrix. The whole formulation is 

 lme(response ~ 1, data = myData, 
     random = pdBlocked(list(pdIdent(~ a - 1), pdIdent(~ b - 1)))) 

and myData must be a groupedData object with a grouping factor that 
has only one level. 

This is followed by a worked example.  The other message gives pretty
much the same information.  

The difference between the two suggestions is that one uses pdSymm, and
the other uses pdIdent.  I assume they end up with the same answer -
I'll have to check later.

Anyway, many thanks for the responses, as always.  There is now another
message with the solution in the archives.

Bob

-- 
Bob O'Hara

Rolf Nevanlinna Institute
P.O. Box 4 (Yliopistonkatu 5)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 23743      mobile: +358 50 599 0540
fax: +358 9 191 22779    email: bob.ohara at helsinki.fi

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber



"Anon." wrote:
> 
> Moi!
> 
> I was helping to teach a course on mixed models this week, and we came
> across a problem with coding more than one random effect in lme when
> they aren't nested.
> 
> As an example, suppose we have an experiment where we sample moths from
> several populations, and place the moths on different trees, and measure
> a trait (in this case survival of offspring, but that's less
> important).  We want to treat Population and Tree as random effects, as
> that will tell us something about adaptation.  Naively, i would expect
> to code the data in lme as something like:
> 
> lme(x ~ 1, random=~1|(Pop + Tree))
> 
> but this doesn't work, and I can't work see what to do (or where to look
> to find out!).  Can anyone point me in the right direction?
> 
> Thanks in advance.
> 
> Bob
> 
> --
> Bob O'Hara
> 
> Rolf Nevanlinna Institute
> P.O. Box 4 (Yliopistonkatu 5)
> FIN-00014 University of Helsinki
> Finland
> Telephone: +358-9-191 23743
> Mobile: +358 50 599 0540
> Fax:  +358-9-191 22 779
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Sep 16 12:44:26 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 16 Sep 2002 06:44:26 -0400
Subject: [R] lattice with print(..., more=) and multiple graphics files
In-Reply-To: <JLEPLGAANFCEAEDCAGJNKEPLCCAA.dieter.menne@menne-biomed.de>
References: <JLEPLGAANFCEAEDCAGJNKEPLCCAA.dieter.menne@menne-biomed.de>
Message-ID: <20020916064426.6843c3f4.fharrell@virginia.edu>

On Mon, 16 Sep 2002 08:28:01 +0200
Dieter Menne <dieter.menne at menne-biomed.de> wrote:

> Frank Harrel wrote:
> 
> using lattice 0.5-4 and grid 0.6-1 I am having difficulty getting 3 pdf
> files produced. The following code only produces 2 files, test1.pdf and
> test2.pdf:
> 
> trellis.device('pdf',file='test%d.pdf',onefile=FALSE)
> p1 <- xyplot(runif(20) ~ runif(20))
> p2 <- p1
> for(i in 1:3) {
>  print(p1,split=c(1,1,2,1),more=TRUE)
>  print(p2,split=c(2,1,2,1),more=FALSE)
> }
> dev.off()
> 
> 
> ------------
> A similar, but less visible problem with
> trellis.device('postscript',file='test%d.ps',onefile=FALSE)
> 
> Three file are generated, but only the first one is valid.
> test2 and test3 have "%% of pages does not match..."
> 
> Dieter
> 
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> 
> ---------------------------------------
> Dr. Dieter Menne
> Biomed Software
> 72074 T?bingen
> Tel (49) (7071) 52176
> FAX (49) (7071) 55 10 46
> dieter.menne at menne-biomed.de
> www.menne-biomed.de
> 

Dieter - I don't know about the invalid pages with postscript( ) and trellis.device( ) but Paul Murrell reported to me that there is a bug in pdf( ) which prevents it from making more than 2 pages of output.  This bug is being fixed in R 1.6.

Frank Harrell
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.baxter at ru.ac.za  Mon Sep 16 12:48:43 2002
From: j.baxter at ru.ac.za (Jeremy Baxter)
Date: Mon, 16 Sep 2002 12:48:43 +0200
Subject: [R] Short Courses- Information??
Message-ID: <200209161248.43965.j.baxter@ru.ac.za>

Hi

I am quite keen to attend a "fundamentals" and an "intermediate" course on 
R/S-Plus. I need to apply for funding etc etc etc. Is it possible to ask for 
information on when, where, cost etc of courses that will be running next 
year? 

Is there a central web page for this? 

Please reply to me privately and I will compile all the responces into one 
message that i will mail to r-help and s-news lists.

Thank you.
Jeremy

 
_______________________________________________
Jeremy Baxter, Statistics Department, Rhodes University, South Africa.
Views expressed above, no matter how badly spelt, are my own... I think?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdeke2 at comcast.net  Mon Sep 16 13:36:27 2002
From: jdeke2 at comcast.net (John Deke)
Date: Mon, 16 Sep 2002 07:36:27 -0400
Subject: [R] loess crash
In-Reply-To: <x2vg56tme5.fsf@biostat.ku.dk>
References: <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
 <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
Message-ID: <4.3.1.2.20020916073111.01ece6a0@mail.comcast.net>

Here's a simple example that yields the crash:

library(modreg)
data1 <- array(runif(500*5),c(500,5))
colnames(data1) <- c("x1","x2","x3","x4","x5")
y <- 
3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"x5"]+rnorm(500)
data2 <- cbind(y,data1)
data2 <- as.data.frame(data2)
result1 <- loess(y~x1+x2+x3+x4,data2)

To get the crash, I just add x5--

result1 <- loess(y~x1+x2+x3+x4+x5,data2)

And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean 
really crashes -- the program is terminated, I get the little Windows 
dialogue saying that a log file is being generated -- the whole dramatic 
death scene.

I know its a computationally intensive thing, but the one that doesn't 
crash (with four explanatory variables) runs almost instantly. Its hard to 
see how adding a fifth could be so catastrophic. But I am somewhat new to 
this particular methodology....

John

At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
>John Deke <jdeke2 at comcast.net> writes:
>
> > Hmm... if I reduce the number of observations to just 500, I still get
> > the error.
> >
> > I don't think its an issue of colinearity, because I've tried several
> > different combinations of variables, all of which work just fine in an
> > OLS or logistic regression.
> >
> > I'm probably doing something stupid, but I'm not seeing it...
> >
> > At 02:00 PM 9/15/2002, John Deke wrote:
> > >Hi,
> > >
> > > I have a data frame with 6563 observations. I can run a regression
> > > with loess using four explanatory variables. If I add a fifth, R
> > > crashes. There are no missings in the data, and if I run a
> > > regression with any four of the five explanatory variables, it
> > > works. Its only when I go from four to five that it crashes.
>
>Hmm... I wouldn't try loess with more than one or two descriptors. I
>mean, it's a smoothing method and representing a smooth function of
>many variables can be computationally demanding.
>
>The Fortran source code for loess is one of the more obfuscated pieces
>of R, but I can see that some structures inside of it are of fixed
>size, which might explain it (BTW: Does R really crash, or just say
>memory exhausted?).
>
>Do you have a simple example that reproduces the crash (using random
>numbers, e.g.)?
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrogers at cantatapharm.com  Mon Sep 16 14:23:23 2002
From: jrogers at cantatapharm.com (James Rogers)
Date: Mon, 16 Sep 2002 08:23:23 -0400
Subject: [R] Multiple random effects inlme?
Message-ID: <99A12772DCDEEB458B996332957B0D530116AC@mercury.cantatapharm.com>

Bob, 
You need to make use of pdBlocked and pdIdent. There is a simple example
in Bates and Pinheiro's book (Mixed Effects Models in S an S+). I don't
have the book in front of me to get the page number, but I remember it
is an example using data contributed by Dave Lansky. A related s-news
thread (which is probably sufficient to answer your question) is: 
http://www.biostat.wustl.edu/mailinglists/s-news/200112/msg00126.html
Best,
Jim 

James A. Rogers <rogers at cantatapharm.com>
Statistical Scientist
Cantata Pharmaceuticals 

> Date: Fri, 13 Sep 2002 15:17:24 +0300
> From: "Anon." <bob.ohara at helsinki.fi>
> Subject: [R] Multiple random effects inlme?
> 
> Moi!
> 
> I was helping to teach a course on mixed models this week, and we came
> across a problem with coding more than one random effect in lme when
> they aren't nested.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarrod.hadfield at ic.ac.uk  Mon Sep 16 15:44:02 2002
From: jarrod.hadfield at ic.ac.uk (Jarrod Hadfield)
Date: Mon, 16 Sep 2002 13:44:02 +0000
Subject: [R] extracting intercepts from lme model summaries
Message-ID: <a05100303b9ab8d6503e0@[129.31.3.147]>


-- 
Using the function lme below,

summary(lme(clip~1,random=~1|Block/Nurse.Nest/Orig.Nest, data=ringy1)))

I get the summary:


Linear mixed-effects model fit by REML
   Data: ringy1
   Log-restricted-likelihood: -760.1605
   Fixed: clip ~ 1
(Intercept)
     16.8508

Random effects:
  Formula: ~1 | Block
         (Intercept)
StdDev:   0.1995932

  Formula: ~1 | Nurse.Nest %in% Block
         (Intercept)
StdDev:  0.00551305

  Formula: ~1 | Orig.Nest %in% Nurse.Nest %in% Block
         (Intercept)  Residual
StdDev:   0.3064555 0.5537723

Number of Observations: 803
Number of Groups:
                                Block                Nurse.Nest %in% Block
                                   51                                   99
Orig.Nest %in% Nurse.Nest %in% Block
                                  195

I can find an extract most values except the intercept value for the 
final formula; in this case 0.30694555.  Is there a way of doing this?

Yours,
Jarrod Hadfield
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 16 15:07:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 2002 15:07:36 +0200
Subject: [R] loess crash
In-Reply-To: <4.3.1.2.20020916073111.01ece6a0@mail.comcast.net>
References: <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
	<4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
	<4.3.1.2.20020916073111.01ece6a0@mail.comcast.net>
Message-ID: <x2u1kqw09z.fsf@biostat.ku.dk>

John Deke <jdeke2 at comcast.net> writes:

> Here's a simple example that yields the crash:
> 
> library(modreg)
> data1 <- array(runif(500*5),c(500,5))
> colnames(data1) <- c("x1","x2","x3","x4","x5")
> y <-
> 3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"x5"]+rnorm(500)
> data2 <- cbind(y,data1)
> data2 <- as.data.frame(data2)
> result1 <- loess(y~x1+x2+x3+x4,data2)
> 
> To get the crash, I just add x5--
> 
> result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> 
> And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I
> mean really crashes -- the program is terminated, I get the little
> Windows dialogue saying that a log file is being generated -- the
> whole dramatic death scene.
> 
> I know its a computationally intensive thing, but the one that doesn't
> crash (with four explanatory variables) runs almost instantly. Its
> hard to see how adding a fifth could be so catastrophic. But I am
> somewhat new to this particular methodology....

Ok, this is easily reproducible on Linux and with the debugger. It
looks pretty squarely like a memory overrun condition, specifically at
(in /src/library/modreg/src/loessf.f)

380           call dsvdc(u,15,k,k,sigma,g,u,15,e,15,work,21,info)

which is getting called with k=21, where the 15 is supposed to be the
leading dimension of u, and (k,k) are the actual dimensions. So dsvdc
starts writing into places where it shouldn't and things basically go
downhill from there, ending with a null pointer reference and a
corrupted stack.

So basically, you're not meant to do that... R could do with a safety
check there, though.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at estg.ipvc.pt  Mon Sep 16 15:14:02 2002
From: peter at estg.ipvc.pt (Peter Ho)
Date: Mon, 16 Sep 2002 14:14:02 +0100
Subject: [R]: Update on R GUI's ??
Message-ID: <3D85D91A.6070300@estg.ipvc.pt>

Awhile back there was a lengthy discussion regarding  R GUI's for 
teaching, etc. I was wondering if anyone has set up the web page which 
was to be dedicated to this issue. Philippe Grosjean had the idea of 
creating a R-GUI projects page. Also, is anyone using a "R-GUI" (for 
windows) for teaching basic statistics to students doing applied science 
degrees? Something based perhaps on Tcl/Tk. This is especially for 
students with limited computer experience (apart from using Excel) and 
they will use R only for 10 hours as part of a one semester course. What 
they need a simple way to enter data (as most have used Excel a 
spreadsheet is what I am looking for) and then easily menu driven access 
to functions (such as t-tests) and simple graphics (Histograms, line 
graphs (xy plots)). Of course, these students would still need to 
understand what they are doing and why they used particular methods, 
when assessing functions by the menu.




Peter
-------------------------------------------------------------
Peter Ho
Departamento de Ci?ncias de Engenharia e Tecnologia
Escola Superior de Tecnologia e Gest?o
Instituto Polit?nico de Viana do Castelo
Avenida do Atl?ntico- Apartado 574
4901-908 Viana do Castelo
Email: peter at estg.ipvc.pt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Sep 16 15:31:26 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 16 Sep 2002 09:31:26 -0400
Subject: [R] loess crash
In-Reply-To: <4.3.1.2.20020916073111.01ece6a0@mail.comcast.net>
References: <x2vg56tme5.fsf@biostat.ku.dk>
 <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
 <4.3.1.2.20020915203722.01ecf4a8@mail.comcast.net>
Message-ID: <5.1.0.14.2.20020916091721.01dad480@mcmail.cis.mcmaster.ca>

Dear John,

For curiosity, I tried your example under R 1.5.1 on an 800 MHz PC with 512 
Mb of memory running Windows 2000. The results were just as you described: 
The four-predictor problem ran essentially instantly, and the 
five-predictor problem crashed R, again instantly.

I also tried making the problem less computationally demanding by 
specifying locally linear, rather than quadratic, fits; this appears to work:

 > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
Call:
loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, degree = 1)

Number of Observations: 500
Equivalent Number of Parameters: 13.5
Residual Standard Error: 1.012
 >


Although something is obviously wrong here, I wonder whether it makes sense 
to fit a local regression with so many predictors (unless the object is to 
compare the general nonparametric fit with some more constrained model): 
how would you describe the five-dimensional surface that's produced?

John

At 07:36 AM 9/16/2002 -0400, John Deke wrote:
>Here's a simple example that yields the crash:
>
>library(modreg)
>data1 <- array(runif(500*5),c(500,5))
>colnames(data1) <- c("x1","x2","x3","x4","x5")
>y <- 
>3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"x5"]+rnorm(500)
>data2 <- cbind(y,data1)
>data2 <- as.data.frame(data2)
>result1 <- loess(y~x1+x2+x3+x4,data2)
>
>To get the crash, I just add x5--
>
>result1 <- loess(y~x1+x2+x3+x4+x5,data2)
>
>And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean 
>really crashes -- the program is terminated, I get the little Windows 
>dialogue saying that a log file is being generated -- the whole dramatic 
>death scene.
>
>I know its a computationally intensive thing, but the one that doesn't 
>crash (with four explanatory variables) runs almost instantly. Its hard to 
>see how adding a fifth could be so catastrophic. But I am somewhat new to 
>this particular methodology....
>
>John
>
>At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
>>John Deke <jdeke2 at comcast.net> writes:
>>
>> > Hmm... if I reduce the number of observations to just 500, I still get
>> > the error.
>> >
>> > I don't think its an issue of colinearity, because I've tried several
>> > different combinations of variables, all of which work just fine in an
>> > OLS or logistic regression.
>> >
>> > I'm probably doing something stupid, but I'm not seeing it...
>> >
>> > At 02:00 PM 9/15/2002, John Deke wrote:
>> > >Hi,
>> > >
>> > > I have a data frame with 6563 observations. I can run a regression
>> > > with loess using four explanatory variables. If I add a fifth, R
>> > > crashes. There are no missings in the data, and if I run a
>> > > regression with any four of the five explanatory variables, it
>> > > works. Its only when I go from four to five that it crashes.
>>
>>Hmm... I wouldn't try loess with more than one or two descriptors. I
>>mean, it's a smoothing method and representing a smooth function of
>>many variables can be computationally demanding.
>>
>>The Fortran source code for loess is one of the more obfuscated pieces
>>of R, but I can see that some structures inside of it are of fixed
>>size, which might explain it (BTW: Does R really crash, or just say
>>memory exhausted?).
>>
>>Do you have a simple example that reproduces the crash (using random
>>numbers, e.g.)?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JDeke at mathematica-mpr.com  Mon Sep 16 15:41:25 2002
From: JDeke at mathematica-mpr.com (John Deke)
Date: Mon, 16 Sep 2002 09:41:25 -0400
Subject: [R] loess crash
Message-ID: <897E2332A97AD311AEBB00508B116D540765BCF7@mpr1>

Thanks for looking into that, Peter. 

Maybe I'll try writing something to do local linear regressions...

John

-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
Sent: Monday, September 16, 2002 9:08 AM
To: John Deke
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] loess crash


John Deke <jdeke2 at comcast.net> writes:

> Here's a simple example that yields the crash:
> 
> library(modreg)
> data1 <- array(runif(500*5),c(500,5))
> colnames(data1) <- c("x1","x2","x3","x4","x5")
> y <-
>
3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"x
5"]+rnorm(500)
> data2 <- cbind(y,data1)
> data2 <- as.data.frame(data2)
> result1 <- loess(y~x1+x2+x3+x4,data2)
> 
> To get the crash, I just add x5--
> 
> result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> 
> And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I
> mean really crashes -- the program is terminated, I get the little
> Windows dialogue saying that a log file is being generated -- the
> whole dramatic death scene.
> 
> I know its a computationally intensive thing, but the one that doesn't
> crash (with four explanatory variables) runs almost instantly. Its
> hard to see how adding a fifth could be so catastrophic. But I am
> somewhat new to this particular methodology....

Ok, this is easily reproducible on Linux and with the debugger. It
looks pretty squarely like a memory overrun condition, specifically at
(in /src/library/modreg/src/loessf.f)

380           call dsvdc(u,15,k,k,sigma,g,u,15,e,15,work,21,info)

which is getting called with k=21, where the 15 is supposed to be the
leading dimension of u, and (k,k) are the actual dimensions. So dsvdc
starts writing into places where it shouldn't and things basically go
downhill from there, ending with a null pointer reference and a
corrupted stack.

So basically, you're not meant to do that... R could do with a safety
check there, though.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JDeke at mathematica-mpr.com  Mon Sep 16 15:51:36 2002
From: JDeke at mathematica-mpr.com (John Deke)
Date: Mon, 16 Sep 2002 09:51:36 -0400
Subject: [R] loess crash
Message-ID: <897E2332A97AD311AEBB00508B116D540765BCF8@mpr1>

Ah... I hadn't noticed that option! Thanks... that's a good idea. I'm quite
happy to use local linear regression.

To answer your question -- perhaps I'm off base, but my reason for wanting
to do this is that I have a set of explanatory variables that most likely
influence my dependent variable in ways that are difficult to model
parametrically. That is, I suspect that there are all sorts of complementary
relationships between these variables, and its not at all clear that there's
a satisfying theoretical model that would suggest a clear-cut parametric
relationship. So, rather than using parametric regression, I'd like to try
something non-parametric. 

My plan for summarizing the results is to find the average marginal effect
of each explanatory variable of interest, holding all else constant. Also, I
would calculate predicted outcomes for combinations of the explanatory
variables that are most likely to occur in "the real world". 

John

-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Monday, September 16, 2002 9:31 AM
To: John Deke
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] loess crash


Dear John,

For curiosity, I tried your example under R 1.5.1 on an 800 MHz PC with 512 
Mb of memory running Windows 2000. The results were just as you described: 
The four-predictor problem ran essentially instantly, and the 
five-predictor problem crashed R, again instantly.

I also tried making the problem less computationally demanding by 
specifying locally linear, rather than quadratic, fits; this appears to
work:

 > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
Call:
loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, degree = 1)

Number of Observations: 500
Equivalent Number of Parameters: 13.5
Residual Standard Error: 1.012
 >


Although something is obviously wrong here, I wonder whether it makes sense 
to fit a local regression with so many predictors (unless the object is to 
compare the general nonparametric fit with some more constrained model): 
how would you describe the five-dimensional surface that's produced?

John

At 07:36 AM 9/16/2002 -0400, John Deke wrote:
>Here's a simple example that yields the crash:
>
>library(modreg)
>data1 <- array(runif(500*5),c(500,5))
>colnames(data1) <- c("x1","x2","x3","x4","x5")
>y <- 
>3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"
x5"]+rnorm(500)
>data2 <- cbind(y,data1)
>data2 <- as.data.frame(data2)
>result1 <- loess(y~x1+x2+x3+x4,data2)
>
>To get the crash, I just add x5--
>
>result1 <- loess(y~x1+x2+x3+x4+x5,data2)
>
>And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean 
>really crashes -- the program is terminated, I get the little Windows 
>dialogue saying that a log file is being generated -- the whole dramatic 
>death scene.
>
>I know its a computationally intensive thing, but the one that doesn't 
>crash (with four explanatory variables) runs almost instantly. Its hard to 
>see how adding a fifth could be so catastrophic. But I am somewhat new to 
>this particular methodology....
>
>John
>
>At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
>>John Deke <jdeke2 at comcast.net> writes:
>>
>> > Hmm... if I reduce the number of observations to just 500, I still get
>> > the error.
>> >
>> > I don't think its an issue of colinearity, because I've tried several
>> > different combinations of variables, all of which work just fine in an
>> > OLS or logistic regression.
>> >
>> > I'm probably doing something stupid, but I'm not seeing it...
>> >
>> > At 02:00 PM 9/15/2002, John Deke wrote:
>> > >Hi,
>> > >
>> > > I have a data frame with 6563 observations. I can run a regression
>> > > with loess using four explanatory variables. If I add a fifth, R
>> > > crashes. There are no missings in the data, and if I run a
>> > > regression with any four of the five explanatory variables, it
>> > > works. Its only when I go from four to five that it crashes.
>>
>>Hmm... I wouldn't try loess with more than one or two descriptors. I
>>mean, it's a smoothing method and representing a smooth function of
>>many variables can be computationally demanding.
>>
>>The Fortran source code for loess is one of the more obfuscated pieces
>>of R, but I can see that some structures inside of it are of fixed
>>size, which might explain it (BTW: Does R really crash, or just say
>>memory exhausted?).
>>
>>Do you have a simple example that reproduces the crash (using random
>>numbers, e.g.)?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 16 15:51:30 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 16 Sep 2002 09:51:30 -0400
Subject: [R] loess crash
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC684@usrymx10.merck.com>

FWIW...

Running the example (with x5 added) on Linux and R-1.5.1 gave segmentation
fault.  Running it on a copy of R-1.5.0 compiled w/o optimization gives:

> result1 <- loess(y~x1+x2+x3+x4+x5,data2)
Warning messages: 
1: k>d2MAX in ehg136.  Need to recompile with increased dimensions. 
2: pseudoinverse used at 1.0256 1.017 1.0161 1.0371 1.036 
3: neighborhood radius 0 
4: reciprocal condition number  0 
5: There are other near singularities as well. 0 
> result1
Call:
loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2)

Number of Observations: 500 
Equivalent Number of Parameters: NaN 
Residual Standard Error: NaN 

Andy


> -----Original Message-----
> From: John Deke [mailto:jdeke2 at comcast.net]
> Sent: Monday, September 16, 2002 7:36 AM
> To: r-help at stat.math.ethz.ch
> Subject: Re: [R] loess crash
> 
> 
> Here's a simple example that yields the crash:
> 
> library(modreg)
> data1 <- array(runif(500*5),c(500,5))
> colnames(data1) <- c("x1","x2","x3","x4","x5")
> y <- 
> 3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"
> ]+14*data1[,"x5"]+rnorm(500)
> data2 <- cbind(y,data1)
> data2 <- as.data.frame(data2)
> result1 <- loess(y~x1+x2+x3+x4,data2)
> 
> To get the crash, I just add x5--
> 
> result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> 
> And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, 
> and I mean 
> really crashes -- the program is terminated, I get the little Windows 
> dialogue saying that a log file is being generated -- the 
> whole dramatic 
> death scene.
> 
> I know its a computationally intensive thing, but the one 
> that doesn't 
> crash (with four explanatory variables) runs almost 
> instantly. Its hard to 
> see how adding a fifth could be so catastrophic. But I am 
> somewhat new to 
> this particular methodology....
> 
> John
> 
> At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> >John Deke <jdeke2 at comcast.net> writes:
> >
> > > Hmm... if I reduce the number of observations to just 
> 500, I still get
> > > the error.
> > >
> > > I don't think its an issue of colinearity, because I've 
> tried several
> > > different combinations of variables, all of which work 
> just fine in an
> > > OLS or logistic regression.
> > >
> > > I'm probably doing something stupid, but I'm not seeing it...
> > >
> > > At 02:00 PM 9/15/2002, John Deke wrote:
> > > >Hi,
> > > >
> > > > I have a data frame with 6563 observations. I can run a 
> regression
> > > > with loess using four explanatory variables. If I add a fifth, R
> > > > crashes. There are no missings in the data, and if I run a
> > > > regression with any four of the five explanatory variables, it
> > > > works. Its only when I go from four to five that it crashes.
> >
> >Hmm... I wouldn't try loess with more than one or two descriptors. I
> >mean, it's a smoothing method and representing a smooth function of
> >many variables can be computationally demanding.
> >
> >The Fortran source code for loess is one of the more 
> obfuscated pieces
> >of R, but I can see that some structures inside of it are of fixed
> >size, which might explain it (BTW: Does R really crash, or just say
> >memory exhausted?).
> >
> >Do you have a simple example that reproduces the crash (using random
> >numbers, e.g.)?
> >
> >--
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> >~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._._._._._._ 
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Mon Sep 16 16:17:23 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Mon, 16 Sep 2002 10:17:23 -0400 (EDT)
Subject: [R] loess crash
In-Reply-To: <897E2332A97AD311AEBB00508B116D540765BCF8@mpr1>
Message-ID: <Pine.LNX.4.33.0209161013410.32541-100000@localhost.localdomain>

i would suggest looking at the package mgcv.
you can fit generalized additive models which are useful for what 
you desribe below. 

On Mon, 16 Sep 2002, John Deke wrote:

> Ah... I hadn't noticed that option! Thanks... that's a good idea. I'm quite
> happy to use local linear regression.
> 
> To answer your question -- perhaps I'm off base, but my reason for wanting
> to do this is that I have a set of explanatory variables that most likely
> influence my dependent variable in ways that are difficult to model
> parametrically. That is, I suspect that there are all sorts of complementary
> relationships between these variables, and its not at all clear that there's
> a satisfying theoretical model that would suggest a clear-cut parametric
> relationship. So, rather than using parametric regression, I'd like to try
> something non-parametric. 
> 
> My plan for summarizing the results is to find the average marginal effect
> of each explanatory variable of interest, holding all else constant. Also, I
> would calculate predicted outcomes for combinations of the explanatory
> variables that are most likely to occur in "the real world". 
> 
> John
> 
> -----Original Message-----
> From: John Fox [mailto:jfox at mcmaster.ca]
> Sent: Monday, September 16, 2002 9:31 AM
> To: John Deke
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] loess crash
> 
> 
> Dear John,
> 
> For curiosity, I tried your example under R 1.5.1 on an 800 MHz PC with 512 
> Mb of memory running Windows 2000. The results were just as you described: 
> The four-predictor problem ran essentially instantly, and the 
> five-predictor problem crashed R, again instantly.
> 
> I also tried making the problem less computationally demanding by 
> specifying locally linear, rather than quadratic, fits; this appears to
> work:
> 
>  > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
> Call:
> loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, degree = 1)
> 
> Number of Observations: 500
> Equivalent Number of Parameters: 13.5
> Residual Standard Error: 1.012
>  >
> 
> 
> Although something is obviously wrong here, I wonder whether it makes sense 
> to fit a local regression with so many predictors (unless the object is to 
> compare the general nonparametric fit with some more constrained model): 
> how would you describe the five-dimensional surface that's produced?
> 
> John
> 
> At 07:36 AM 9/16/2002 -0400, John Deke wrote:
> >Here's a simple example that yields the crash:
> >
> >library(modreg)
> >data1 <- array(runif(500*5),c(500,5))
> >colnames(data1) <- c("x1","x2","x3","x4","x5")
> >y <- 
> >3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"
> x5"]+rnorm(500)
> >data2 <- cbind(y,data1)
> >data2 <- as.data.frame(data2)
> >result1 <- loess(y~x1+x2+x3+x4,data2)
> >
> >To get the crash, I just add x5--
> >
> >result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> >
> >And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean 
> >really crashes -- the program is terminated, I get the little Windows 
> >dialogue saying that a log file is being generated -- the whole dramatic 
> >death scene.
> >
> >I know its a computationally intensive thing, but the one that doesn't 
> >crash (with four explanatory variables) runs almost instantly. Its hard to 
> >see how adding a fifth could be so catastrophic. But I am somewhat new to 
> >this particular methodology....
> >
> >John
> >
> >At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> >>John Deke <jdeke2 at comcast.net> writes:
> >>
> >> > Hmm... if I reduce the number of observations to just 500, I still get
> >> > the error.
> >> >
> >> > I don't think its an issue of colinearity, because I've tried several
> >> > different combinations of variables, all of which work just fine in an
> >> > OLS or logistic regression.
> >> >
> >> > I'm probably doing something stupid, but I'm not seeing it...
> >> >
> >> > At 02:00 PM 9/15/2002, John Deke wrote:
> >> > >Hi,
> >> > >
> >> > > I have a data frame with 6563 observations. I can run a regression
> >> > > with loess using four explanatory variables. If I add a fifth, R
> >> > > crashes. There are no missings in the data, and if I run a
> >> > > regression with any four of the five explanatory variables, it
> >> > > works. Its only when I go from four to five that it crashes.
> >>
> >>Hmm... I wouldn't try loess with more than one or two descriptors. I
> >>mean, it's a smoothing method and representing a smooth function of
> >>many variables can be computationally demanding.
> >>
> >>The Fortran source code for loess is one of the more obfuscated pieces
> >>of R, but I can see that some structures inside of it are of fixed
> >>size, which might explain it (BTW: Does R really crash, or just say
> >>memory exhausted?).
> >>
> >>Do you have a simple example that reproduces the crash (using random
> >>numbers, e.g.)?
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JDeke at mathematica-mpr.com  Mon Sep 16 16:45:09 2002
From: JDeke at mathematica-mpr.com (John Deke)
Date: Mon, 16 Sep 2002 10:45:09 -0400
Subject: [R] loess crash
Message-ID: <897E2332A97AD311AEBB00508B116D540765BD05@mpr1>

Thanks for the suggestion. I've only used splines for desnity estimation
before -- I've never used them for regression (although I'm aware that
people do). I'll look into it...


-----Original Message-----
From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
Sent: Monday, September 16, 2002 10:17 AM
To: jdeke2 at comcast.net
Cc: 'r-help at stat.math.ethz.ch'
Subject: RE: [R] loess crash


i would suggest looking at the package mgcv.
you can fit generalized additive models which are useful for what 
you desribe below. 

On Mon, 16 Sep 2002, John Deke wrote:

> Ah... I hadn't noticed that option! Thanks... that's a good idea. I'm
quite
> happy to use local linear regression.
> 
> To answer your question -- perhaps I'm off base, but my reason for wanting
> to do this is that I have a set of explanatory variables that most likely
> influence my dependent variable in ways that are difficult to model
> parametrically. That is, I suspect that there are all sorts of
complementary
> relationships between these variables, and its not at all clear that
there's
> a satisfying theoretical model that would suggest a clear-cut parametric
> relationship. So, rather than using parametric regression, I'd like to try
> something non-parametric. 
> 
> My plan for summarizing the results is to find the average marginal effect
> of each explanatory variable of interest, holding all else constant. Also,
I
> would calculate predicted outcomes for combinations of the explanatory
> variables that are most likely to occur in "the real world". 
> 
> John
> 
> -----Original Message-----
> From: John Fox [mailto:jfox at mcmaster.ca]
> Sent: Monday, September 16, 2002 9:31 AM
> To: John Deke
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] loess crash
> 
> 
> Dear John,
> 
> For curiosity, I tried your example under R 1.5.1 on an 800 MHz PC with
512 
> Mb of memory running Windows 2000. The results were just as you described:

> The four-predictor problem ran essentially instantly, and the 
> five-predictor problem crashed R, again instantly.
> 
> I also tried making the problem less computationally demanding by 
> specifying locally linear, rather than quadratic, fits; this appears to
> work:
> 
>  > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
> Call:
> loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, degree = 1)
> 
> Number of Observations: 500
> Equivalent Number of Parameters: 13.5
> Residual Standard Error: 1.012
>  >
> 
> 
> Although something is obviously wrong here, I wonder whether it makes
sense 
> to fit a local regression with so many predictors (unless the object is to

> compare the general nonparametric fit with some more constrained model): 
> how would you describe the five-dimensional surface that's produced?
> 
> John
> 
> At 07:36 AM 9/16/2002 -0400, John Deke wrote:
> >Here's a simple example that yields the crash:
> >
> >library(modreg)
> >data1 <- array(runif(500*5),c(500,5))
> >colnames(data1) <- c("x1","x2","x3","x4","x5")
> >y <- 
>
>3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"
> x5"]+rnorm(500)
> >data2 <- cbind(y,data1)
> >data2 <- as.data.frame(data2)
> >result1 <- loess(y~x1+x2+x3+x4,data2)
> >
> >To get the crash, I just add x5--
> >
> >result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> >
> >And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean 
> >really crashes -- the program is terminated, I get the little Windows 
> >dialogue saying that a log file is being generated -- the whole dramatic 
> >death scene.
> >
> >I know its a computationally intensive thing, but the one that doesn't 
> >crash (with four explanatory variables) runs almost instantly. Its hard
to 
> >see how adding a fifth could be so catastrophic. But I am somewhat new to

> >this particular methodology....
> >
> >John
> >
> >At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> >>John Deke <jdeke2 at comcast.net> writes:
> >>
> >> > Hmm... if I reduce the number of observations to just 500, I still
get
> >> > the error.
> >> >
> >> > I don't think its an issue of colinearity, because I've tried several
> >> > different combinations of variables, all of which work just fine in
an
> >> > OLS or logistic regression.
> >> >
> >> > I'm probably doing something stupid, but I'm not seeing it...
> >> >
> >> > At 02:00 PM 9/15/2002, John Deke wrote:
> >> > >Hi,
> >> > >
> >> > > I have a data frame with 6563 observations. I can run a regression
> >> > > with loess using four explanatory variables. If I add a fifth, R
> >> > > crashes. There are no missings in the data, and if I run a
> >> > > regression with any four of the five explanatory variables, it
> >> > > works. Its only when I go from four to five that it crashes.
> >>
> >>Hmm... I wouldn't try loess with more than one or two descriptors. I
> >>mean, it's a smoothing method and representing a smooth function of
> >>many variables can be computationally demanding.
> >>
> >>The Fortran source code for loess is one of the more obfuscated pieces
> >>of R, but I can see that some structures inside of it are of fixed
> >>size, which might explain it (BTW: Does R really crash, or just say
> >>memory exhausted?).
> >>
> >>Do you have a simple example that reproduces the crash (using random
> >>numbers, e.g.)?
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alessandro.valli at deexstg1.amd.com  Mon Sep 16 16:49:59 2002
From: alessandro.valli at deexstg1.amd.com (alessandro.valli@deexstg1.amd.com)
Date: Mon, 16 Sep 2002 16:49:59 +0200
Subject: [R] RMySQL trouble
Message-ID: <CF68733F59A5D611BBE70002A543401149092E@deexstg1.amd.com>

Hello,

I'm trying to use RMySQL (0.4-6) on Win2000 Server and I'm not able to pass
the authentication parameters via my.cnf.
Passing directly the authentication parameters to dbConnect works, but using

con <- dbConnect(mgr, group="MyGroup"),

where MyGroup is a section in C:\my.cnf, doesn't. 
If MyGroup exists the Rgui is disappearing !
In case not existing it simply connects to the localhost but not to a
specific database (as it should ...).

Thanks for any help,
Alessandro


> R.version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R          


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Mon Sep 16 17:05:07 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Mon, 16 Sep 2002 10:05:07 -0500 (CDT)
Subject: [R]: Update on R GUI's ??
In-Reply-To: <3D85D91A.6070300@estg.ipvc.pt>
Message-ID: <Pine.SOL.4.30.0209161002390.29549-100000@s.psych.uiuc.edu>

> What they need a simple way to enter data (as most have used Excel a
> spreadsheet is what I am looking for)

At least on some platforms, data.entry() will fulfill that purpose.

--
Wolfgang Viechtbauer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Mon Sep 16 17:14:14 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 16 Sep 2002 11:14:14 -0400
Subject: [R] normal score transform
References: <51F9C42DA15CD311BD220008C707D81906FFC675@usrymx10.merck.com> <3D81EB32.3070807@science.uva.nl>
Message-ID: <3D85F546.F0A56B0@umsanet.edu.bo>



Ulrich Leopold wrote:
> 
> When I interpolate my data values by kriging (geostatsitical interpolation
> method) I get for each estimated value a corresponding estimation variance.
> The interpolation is carried out in 2d space. I would like to map not only
> the estimated expected value but also the uncertainty and confidence
> intervals (e.g. 95%) for this method. 

So backtransform only the confidence limits and forget about the
variance.

Kjetil Halvorsen


Therefore I need to backtransform the
> so called estimation variance. See my prob?
> 
> But thanks very much so far.
> 
> Ulrich
> 
> Liaw, Andy wrote:
> > I don't know of a good way to do this.  If the transformation has a nice
> > form, then one can use the good old delta method (Taylor expansion).  MASS
> > has coverage and code, in the context of parameter estimation.  However I
> > don't think that can be applied to the normal scores transformation (at
> > least I don't see how).
> >
> > Excuse me for being nosy, but why would you need to do this?
> >
> > Andy
> >
> >
> >>-----Original Message-----
> >>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> >>Sent: Friday, September 13, 2002 8:24 AM
> >>To: r-help at stat.math.ethz.ch
> >>Subject: Re: [R] normal score transform
> >>
> >>
> >>But is it also possible to transform the prediction VARIANCE
> >>back to non
> >>normalized variances? I do not have these variances before
> >>hand. Or would be
> >>a solution to use the standard deviation as this will be
> >>within the range of
> >>the predictions? I'm not quite sure...
> >>
> >>Ulrich
> >>
> >>Liaw, Andy wrote:
> >>
> >>>I suppose you can use approx() to linearly interpolate.
> >>
> >>For example:
> >>
> >>>
> >>>>x <- rnorm(10, mean=100, sd=10)
> >>>>x
> >>>
> >>> [1]  92.46931  96.71141 103.82640 110.57520  88.30825
> >>
> >>106.35602  90.60754
> >>
> >>> [8] 102.29406  94.19188 107.28770
> >>>
> >>>
> >>>>z <- qnorm(ppoints(x))
> >>>>z
> >>>
> >>> [1] -1.5466353 -1.0004905 -0.6554235 -0.3754618 -0.1225808
> >>
> >> 0.1225808
> >>
> >>> [7]  0.3754618  0.6554235  1.0004905  1.5466353
> >>>
> >>>
> >>>>z.test <- rnorm(10)  ## pretend these are the "predicted values"
> >>>>z.test
> >>>
> >>> [1]  1.1733989  1.3471282 -0.2409461  0.6951916 -0.6365362
> >>
> >>-1.0181946
> >>
> >>> [7] -0.5347734  2.2335172  0.4747204  0.4917223
> >>>
> >>>
> >>>>x.test <- approx(z, x, ztest)$y
> >>>>x.test
> >>>
> >>> [1] 100.35171  98.74701  94.90596 107.39995  98.42442
> >>
> >>94.84765  91.54209
> >>
> >>> [8] 106.87274        NA 103.25218
> >>>
> >>>Note that approx() by default does not extrapolate (thus
> >>
> >>the NA), and the
> >>
> >>>alternative (rule=2) probably isn't appropriate for this
> >>
> >>application.
> >>
> >>>HTH,
> >>>Andy
> >>>
> >>>
> >>>
> >>>>-----Original Message-----
> >>>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> >>>>Sent: Friday, September 13, 2002 4:10 AM
> >>>>To: r-help at stat.math.ethz.ch
> >>>>Subject: Re: [R] normal score transform
> >>>>
> >>>>
> >>>>How would I do a backtransform of predicted values (derived
> >>>
> >>>>from the given
> >>>
> >>>>data) AND the variance?
> >>>>
> >>>>Ulrich
> >>>>
> >>>>Liaw, Andy wrote:
> >>>>
> >>>>>The "normal scores" are just ranks of the data mapped onto
> >>>>
> >>>>the normal CDF,
> >>>>
> >>>>>so something like:
> >>>>>
> >>>>>qnorm((rank(x) - 0.375)/(sum(!is.na(x)) + .25))
> >>>>>
> >>>>>should do what you want.  Another alternative (as
> >>>>
> >>>>calculated in qqnorm) is
> >>>>
> >>>>>qnorm(ppoints(x))
> >>>>>
> >>>>>Andy
> >>>>>
> >>>>>
> >>>>>
> >>>>>>-----Original Message-----
> >>>>>>From: Ulrich Leopold [mailto:uleopold at science.uva.nl]
> >>>>>>Sent: Thursday, September 12, 2002 12:59 PM
> >>>>>>To: r-help at stat.math.ethz.ch
> >>>>>>Subject: [R] normal score transform
> >>>>>>
> >>>>>>
> >>>>>>Dear list,
> >>>>>>
> >>>>>>could someone point me to the normal score transform and it's
> >>>>>>use in R?
> >>>>>>
> >>>>>>I would like to transform my data with normal score
> >>>>>>transform, do some
> >>>>>>geostatsitical predictions and would like to transform the
> >>>>>>estimated values
> >>>>>>back including the estimation variance.
> >>>>>>
> >>>>>>Any suggestions?
> >>>>>>
> >>>>>>Ulrich
> >>>>>>--
> >>>>>>__________________________________________________
> >>>>>>
> >>>>>>Ulrich Leopold MSc.
> >>>>>>
> >>>>>>Department of Physical Geography
> >>>>>>Institute for Biodiversity and Ecosystem Dynamics
> >>>>>>Faculty of Science
> >>>>>>University of Amsterdam
> >>>>>>Nieuwe Achtergracht 166
> >>>>>>NL-1018WV Amsterdam
> >>>>>>
> >>>>>>Phone: +31-(0)20-525-7456 (7451 Secretary)
> >>>>>>Fax:   +31-(0)20-525-7431
> >>>>>>Email: uleopold at science.uva.nl
> >>>>>>http://www.frw.uva.nl/soil/Welcome.html
> >>>>>>
> >>>>>>Check us also out at:
> >>>>>>Netherlands Centre for Geo-ecological Research
> >>>>>>http://www.frw.uva.nl/icg
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >>>>>>-.-.-.-.-.-.-.-.-
> >>>>>>r-help mailing list -- Read
> >>>>>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>>>>>Send "info", "help", or "[un]subscribe"
> >>>>>>(in the "body", not the subject !)  To:
> >>>>>>r-help-request at stat.math.ethz.ch
> >>>>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> >>>>>>_._._._._._._._._
> >>>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>--------------------------------------------------------------
> >>>>----------------
> >>>>
> >>>>>Notice:  This e-mail message, together with any
> >>>>
> >>>>attachments, contains
> >>>>information of Merck & Co., Inc. (Whitehouse Station, New
> >>>>Jersey, USA) that
> >>>>may be confidential, proprietary copyrighted and/or legally
> >>>>privileged, and
> >>>>is intended solely for the use of the individual or entity
> >>>>named in this
> >>>>message.  If you are not the intended recipient, and have
> >>>>received this
> >>>>message in error, please immediately return this by e-mail
> >>>>and then delete it.
> >>>>
> >>>>>
> >>>>==============================================================
> >>>>================
> >>>>
> >>>>--
> >>>>__________________________________________________
> >>>>
> >>>>Ulrich Leopold MSc.
> >>>>
> >>>>Department of Physical Geography
> >>>>Institute for Biodiversity and Ecosystem Dynamics
> >>>>Faculty of Science
> >>>>University of Amsterdam
> >>>>Nieuwe Achtergracht 166
> >>>>NL-1018WV Amsterdam
> >>>>
> >>>>Phone: +31-(0)20-525-7456 (7451 Secretary)
> >>>>Fax:   +31-(0)20-525-7431
> >>>>Email: uleopold at science.uva.nl
> >>>>http://www.frw.uva.nl/soil/Welcome.html
> >>>>
> >>>>Check us also out at:
> >>>>Netherlands Centre for Geo-ecological Research
> >>>>http://www.frw.uva.nl/icg
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >>>>-.-.-.-.-.-.-.-.-
> >>>>r-help mailing list -- Read
> >>>
> >>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>>Send "info", "help", or "[un]subscribe"
> >>>(in the "body", not the subject !)  To:
> >>
> >>r-help-request at stat.math.ethz.ch
> >>
> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> >>_._._._._._._.
> >>
> >>>_._
> >>>
> >>>
> >>
> >>--------------------------------------------------------------
> >>----------------
> >>
> >>>Notice: This e-mail message, together with any attachments,
> >>
> >>contains information of Merck & Co., Inc. (Whitehouse
> >>Station, New Jersey, USA) that may be confidential,
> >>proprietary copyrighted and/or legally privileged, and is
> >>intended solely for the use of the individual or entity named
> >>on this message.  If you are not the intended recipient, and
> >>have received this message in error, please immediately
> >>return this by e-mail and then delete it.
> >>
> >>>
> >>==============================================================
> >>================
> >>
> >>--
> >>__________________________________________________
> >>
> >>Ulrich Leopold MSc.
> >>
> >>Department of Physical Geography
> >>Institute for Biodiversity and Ecosystem Dynamics
> >>Faculty of Science
> >>University of Amsterdam
> >>Nieuwe Achtergracht 166
> >>NL-1018WV Amsterdam
> >>
> >>Phone: +31-(0)20-525-7456 (7451 Secretary)
> >>Fax:   +31-(0)20-525-7431
> >>Email: uleopold at science.uva.nl
> >>http://www.frw.uva.nl/soil/Welcome.html
> >>
> >>Check us also out at:
> >>Netherlands Centre for Geo-ecological Research
> >>http://www.frw.uva.nl/icg
> >>
> >>
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >>-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read
> >
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._
> >
> >
> > ------------------------------------------------------------------------------
> > Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> >
> > ==============================================================================
> >
> 
> --
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Sep 16 18:03:15 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 16 Sep 2002 12:03:15 -0400
Subject: [R] Interpolating variables into quoted strings
Message-ID: <15750.195.936330.303650@gargle.gargle.HOWL>

William M. Fitchen <William_Fitchen at oxy.com> wrote on 12/19/01:

> I am new to R and am coming from a Perl background. I have had trouble 
> figuring out from the documentation how to interpolate a variable into a 
> quoted string (if it's possible).... In perl I could write: 
>        $name = "John"; 
>        print STDOUT "Hi $name, how's it going"; 
> which would output the following: 
>        Hi John, how's it going? 

I just wrote such a function; here is its current form:

g.p <- function(..., esc="\\$", sep="", collapse=" ") {
  a <- lapply(list(...), as.character)
  n <- names(a);  if (is.null(n)) n <- rep("", length(a))
  s <- do.call("paste", c(a[n==""], sep=sep, collapse=collapse))
  for (i in which(n != "")) s <- gsub(paste(esc,n[i],sep=""), a[[i]], s)
  while ((r <- regexpr(paste(esc,"\\w*",sep=""), s)) > 0) {
    v <- substring(s, r+1, r+attr(r,"match.length")-1)
    s <- gsub(paste(esc,v,sep=""), as.character(eval(parse(text=v))), s)
  }
  s
}

It does three things:
1) Concatenates all unnamed arguments (with sep="" by default);
2) Uses any named arguments such as var1=7 to interpolate $var1 in the string;
3) Interpolates any remaining $var2 constructions using all visible variables.

Note I didn't allow "." in variable names, for consistency with Perl.

William's example can be accomplished with either:
 R> g.p("Hi $name, how's it going",  name="John")
or:
 R> name <- "John"
 R> g.p("Hi $name, how's it going")

Comments welcome!
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Sep 16 18:16:26 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Mon, 16 Sep 2002 18:16:26 +0200
Subject: [R]: Update on R GUI's ??
In-Reply-To: <3D85D91A.6070300@estg.ipvc.pt>
References: <3D85D91A.6070300@estg.ipvc.pt>
Message-ID: <15750.986.605686.770899@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 16 Sep 2002 14:14:02 +0100,
>>>>> Peter Ho (PH) wrote:

  > Awhile back there was a lengthy discussion regarding  R GUI's for 
  > teaching, etc. I was wondering if anyone has set up the web page which 
  > was to be dedicated to this issue. Philippe Grosjean had the idea of 
  > creating a R-GUI projects page. Also, is anyone using a "R-GUI" (for 
  > windows) for teaching basic statistics to students doing applied science 
  > degrees? Something based perhaps on Tcl/Tk. This is especially for 
  > students with limited computer experience (apart from using Excel) and 
  > they will use R only for 10 hours as part of a one semester course. What 
  > they need a simple way to enter data (as most have used Excel a 
  > spreadsheet is what I am looking for) and then easily menu driven access 
  > to functions (such as t-tests) and simple graphics (Histograms, line 
  > graphs (xy plots)). Of course, these students would still need to 
  > understand what they are doing and why they used particular methods, 
  > when assessing functions by the menu.

As primary maintainer of R's web pages: I'd be more than happy to
support an effort like this by providing webspace, i.e., if somebody
sets up a couple of web pages etc. I can easily integrate them into
www.R-project.org (or redirect to another site from us). But somebody
else has to write and administer the pages :-)

Best,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Sep 16 19:59:01 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 16 Sep 2002 13:59:01 -0400
Subject: [R] loess crash
In-Reply-To: <897E2332A97AD311AEBB00508B116D540765BD05@mpr1>
Message-ID: <5.0.2.1.0.20020916135022.00aee5b0@mcmail.cis.mcmaster.ca>

Dear John,

It's true that the gam function in mgcv fits with splines while loess uses 
local regression, but an even more fundamental difference is that gam fits 
additive models (though, with some care, you can include higher-dimensional 
terms). Given your description of what you plan to do with the fitted 
model, an additive model might be what you want.

More generally, a model that fits five-way interactions may be useful as a 
point of comparison for simpler models, but I doubt that it will provide a 
digestible description of the data.

I hope that this helps,
  John

At 10:45 AM 9/16/2002 -0400, you wrote:
>Thanks for the suggestion. I've only used splines for desnity estimation
>before -- I've never used them for regression (although I'm aware that
>people do). I'll look into it...
>
>
>-----Original Message-----
>From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
>Sent: Monday, September 16, 2002 10:17 AM
>To: jdeke2 at comcast.net
>Cc: 'r-help at stat.math.ethz.ch'
>Subject: RE: [R] loess crash
>
>
>i would suggest looking at the package mgcv.
>you can fit generalized additive models which are useful for what
>you desribe below.
>
>On Mon, 16 Sep 2002, John Deke wrote:
>
> > Ah... I hadn't noticed that option! Thanks... that's a good idea. I'm
>quite
> > happy to use local linear regression.
> >
> > To answer your question -- perhaps I'm off base, but my reason for wanting
> > to do this is that I have a set of explanatory variables that most likely
> > influence my dependent variable in ways that are difficult to model
> > parametrically. That is, I suspect that there are all sorts of
>complementary
> > relationships between these variables, and its not at all clear that
>there's
> > a satisfying theoretical model that would suggest a clear-cut parametric
> > relationship. So, rather than using parametric regression, I'd like to try
> > something non-parametric.
> >
> > My plan for summarizing the results is to find the average marginal effect
> > of each explanatory variable of interest, holding all else constant. Also,
>I
> > would calculate predicted outcomes for combinations of the explanatory
> > variables that are most likely to occur in "the real world".
> >
> > John
> >
> > -----Original Message-----
> > From: John Fox [mailto:jfox at mcmaster.ca]
> > Sent: Monday, September 16, 2002 9:31 AM
> > To: John Deke
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] loess crash
> >
> >
> > Dear John,
> >
> > For curiosity, I tried your example under R 1.5.1 on an 800 MHz PC with
>512
> > Mb of memory running Windows 2000. The results were just as you described:
>
> > The four-predictor problem ran essentially instantly, and the
> > five-predictor problem crashed R, again instantly.
> >
> > I also tried making the problem less computationally demanding by
> > specifying locally linear, rather than quadratic, fits; this appears to
> > work:
> >
> >  > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
> > Call:
> > loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, degree = 1)
> >
> > Number of Observations: 500
> > Equivalent Number of Parameters: 13.5
> > Residual Standard Error: 1.012
> >  >
> >
> >
> > Although something is obviously wrong here, I wonder whether it makes
>sense
> > to fit a local regression with so many predictors (unless the object is to
>
> > compare the general nonparametric fit with some more constrained model):
> > how would you describe the five-dimensional surface that's produced?
> >
> > John
> >
> > At 07:36 AM 9/16/2002 -0400, John Deke wrote:
> > >Here's a simple example that yields the crash:
> > >
> > >library(modreg)
> > >data1 <- array(runif(500*5),c(500,5))
> > >colnames(data1) <- c("x1","x2","x3","x4","x5")
> > >y <-
> >
> >3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4"]+14*data1[,"
> > x5"]+rnorm(500)
> > >data2 <- cbind(y,data1)
> > >data2 <- as.data.frame(data2)
> > >result1 <- loess(y~x1+x2+x3+x4,data2)
> > >
> > >To get the crash, I just add x5--
> > >
> > >result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> > >
> > >And bammo -- I'm dead. It doesn't even pause -- Rgui crashes, and I mean
> > >really crashes -- the program is terminated, I get the little Windows
> > >dialogue saying that a log file is being generated -- the whole dramatic
> > >death scene.
> > >
> > >I know its a computationally intensive thing, but the one that doesn't
> > >crash (with four explanatory variables) runs almost instantly. Its hard
>to
> > >see how adding a fifth could be so catastrophic. But I am somewhat new to
>
> > >this particular methodology....
> > >
> > >John
> > >
> > >At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> > >>John Deke <jdeke2 at comcast.net> writes:
> > >>
> > >> > Hmm... if I reduce the number of observations to just 500, I still
>get
> > >> > the error.
> > >> >
> > >> > I don't think its an issue of colinearity, because I've tried several
> > >> > different combinations of variables, all of which work just fine in
>an
> > >> > OLS or logistic regression.
> > >> >
> > >> > I'm probably doing something stupid, but I'm not seeing it...
> > >> >
> > >> > At 02:00 PM 9/15/2002, John Deke wrote:
> > >> > >Hi,
> > >> > >
> > >> > > I have a data frame with 6563 observations. I can run a regression
> > >> > > with loess using four explanatory variables. If I add a fifth, R
> > >> > > crashes. There are no missings in the data, and if I run a
> > >> > > regression with any four of the five explanatory variables, it
> > >> > > works. Its only when I go from four to five that it crashes.
> > >>
> > >>Hmm... I wouldn't try loess with more than one or two descriptors. I
> > >>mean, it's a smoothing method and representing a smooth function of
> > >>many variables can be computationally demanding.
> > >>
> > >>The Fortran source code for loess is one of the more obfuscated pieces
> > >>of R, but I can see that some structures inside of it are of fixed
> > >>size, which might explain it (BTW: Does R really crash, or just say
> > >>memory exhausted?).
> > >>
> > >>Do you have a simple example that reproduces the crash (using random
> > >>numbers, e.g.)?
> >
> > -----------------------------------------------------
> > John Fox

____________________________
John Fox
Department of Sociology
McMaster University
email: jfox at mcmaster.ca
web: http://www.socsci.mcmaster.ca/jfox
____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 16 22:16:49 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 16 Sep 2002 16:16:49 -0400
Subject: [R] loess crash
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC68A@usrymx10.merck.com>

I agree with John mostly.  For a model as complicated as you're trying to
fit with loess, you might  as well try things like ppr (in the `modreg'
package), MARS (in the 'mda' package) or neural nets (in the 'nnet'
package), or even randomForest...  Actually MARS might offer a bit more
interpretability than others, because of its hierarchical construction.

If you do care about `marginal effects' of the predictors, then aren't you
sort of assuming additivity?  In which case the additive model is more
appropriate.  If not, the `marginal effects' can be misleading.

In terms of comparing a loess with 5 terms with a less complicated model, I
think it needs to be pointed out that (AFAIK) it can only be done on a more
or less qualitative level, as the models are not nested.

Cheers,
Andy

> -----Original Message-----
> From: John Fox [mailto:jfox at mcmaster.ca]
> Sent: Monday, September 16, 2002 1:59 PM
> To: jdeke2 at comcast.net
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] loess crash
> 
> 
> Dear John,
> 
> It's true that the gam function in mgcv fits with splines 
> while loess uses 
> local regression, but an even more fundamental difference is 
> that gam fits 
> additive models (though, with some care, you can include 
> higher-dimensional 
> terms). Given your description of what you plan to do with the fitted 
> model, an additive model might be what you want.
> 
> More generally, a model that fits five-way interactions may 
> be useful as a 
> point of comparison for simpler models, but I doubt that it 
> will provide a 
> digestible description of the data.
> 
> I hope that this helps,
>   John
> 
> At 10:45 AM 9/16/2002 -0400, you wrote:
> >Thanks for the suggestion. I've only used splines for 
> desnity estimation
> >before -- I've never used them for regression (although I'm 
> aware that
> >people do). I'll look into it...
> >
> >
> >-----Original Message-----
> >From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
> >Sent: Monday, September 16, 2002 10:17 AM
> >To: jdeke2 at comcast.net
> >Cc: 'r-help at stat.math.ethz.ch'
> >Subject: RE: [R] loess crash
> >
> >
> >i would suggest looking at the package mgcv.
> >you can fit generalized additive models which are useful for what
> >you desribe below.
> >
> >On Mon, 16 Sep 2002, John Deke wrote:
> >
> > > Ah... I hadn't noticed that option! Thanks... that's a 
> good idea. I'm
> >quite
> > > happy to use local linear regression.
> > >
> > > To answer your question -- perhaps I'm off base, but my 
> reason for wanting
> > > to do this is that I have a set of explanatory variables 
> that most likely
> > > influence my dependent variable in ways that are 
> difficult to model
> > > parametrically. That is, I suspect that there are all sorts of
> >complementary
> > > relationships between these variables, and its not at all 
> clear that
> >there's
> > > a satisfying theoretical model that would suggest a 
> clear-cut parametric
> > > relationship. So, rather than using parametric 
> regression, I'd like to try
> > > something non-parametric.
> > >
> > > My plan for summarizing the results is to find the 
> average marginal effect
> > > of each explanatory variable of interest, holding all 
> else constant. Also,
> >I
> > > would calculate predicted outcomes for combinations of 
> the explanatory
> > > variables that are most likely to occur in "the real world".
> > >
> > > John
> > >
> > > -----Original Message-----
> > > From: John Fox [mailto:jfox at mcmaster.ca]
> > > Sent: Monday, September 16, 2002 9:31 AM
> > > To: John Deke
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: Re: [R] loess crash
> > >
> > >
> > > Dear John,
> > >
> > > For curiosity, I tried your example under R 1.5.1 on an 
> 800 MHz PC with
> >512
> > > Mb of memory running Windows 2000. The results were just 
> as you described:
> >
> > > The four-predictor problem ran essentially instantly, and the
> > > five-predictor problem crashed R, again instantly.
> > >
> > > I also tried making the problem less computationally demanding by
> > > specifying locally linear, rather than quadratic, fits; 
> this appears to
> > > work:
> > >
> > >  > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
> > > Call:
> > > loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, 
> degree = 1)
> > >
> > > Number of Observations: 500
> > > Equivalent Number of Parameters: 13.5
> > > Residual Standard Error: 1.012
> > >  >
> > >
> > >
> > > Although something is obviously wrong here, I wonder 
> whether it makes
> >sense
> > > to fit a local regression with so many predictors (unless 
> the object is to
> >
> > > compare the general nonparametric fit with some more 
> constrained model):
> > > how would you describe the five-dimensional surface 
> that's produced?
> > >
> > > John
> > >
> > > At 07:36 AM 9/16/2002 -0400, John Deke wrote:
> > > >Here's a simple example that yields the crash:
> > > >
> > > >library(modreg)
> > > >data1 <- array(runif(500*5),c(500,5))
> > > >colnames(data1) <- c("x1","x2","x3","x4","x5")
> > > >y <-
> > >
> > 
> >3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4
> "]+14*data1[,"
> > > x5"]+rnorm(500)
> > > >data2 <- cbind(y,data1)
> > > >data2 <- as.data.frame(data2)
> > > >result1 <- loess(y~x1+x2+x3+x4,data2)
> > > >
> > > >To get the crash, I just add x5--
> > > >
> > > >result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> > > >
> > > >And bammo -- I'm dead. It doesn't even pause -- Rgui 
> crashes, and I mean
> > > >really crashes -- the program is terminated, I get the 
> little Windows
> > > >dialogue saying that a log file is being generated -- 
> the whole dramatic
> > > >death scene.
> > > >
> > > >I know its a computationally intensive thing, but the 
> one that doesn't
> > > >crash (with four explanatory variables) runs almost 
> instantly. Its hard
> >to
> > > >see how adding a fifth could be so catastrophic. But I 
> am somewhat new to
> >
> > > >this particular methodology....
> > > >
> > > >John
> > > >
> > > >At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> > > >>John Deke <jdeke2 at comcast.net> writes:
> > > >>
> > > >> > Hmm... if I reduce the number of observations to 
> just 500, I still
> >get
> > > >> > the error.
> > > >> >
> > > >> > I don't think its an issue of colinearity, because 
> I've tried several
> > > >> > different combinations of variables, all of which 
> work just fine in
> >an
> > > >> > OLS or logistic regression.
> > > >> >
> > > >> > I'm probably doing something stupid, but I'm not seeing it...
> > > >> >
> > > >> > At 02:00 PM 9/15/2002, John Deke wrote:
> > > >> > >Hi,
> > > >> > >
> > > >> > > I have a data frame with 6563 observations. I can 
> run a regression
> > > >> > > with loess using four explanatory variables. If I 
> add a fifth, R
> > > >> > > crashes. There are no missings in the data, and if I run a
> > > >> > > regression with any four of the five explanatory 
> variables, it
> > > >> > > works. Its only when I go from four to five that 
> it crashes.
> > > >>
> > > >>Hmm... I wouldn't try loess with more than one or two 
> descriptors. I
> > > >>mean, it's a smoothing method and representing a smooth 
> function of
> > > >>many variables can be computationally demanding.
> > > >>
> > > >>The Fortran source code for loess is one of the more 
> obfuscated pieces
> > > >>of R, but I can see that some structures inside of it 
> are of fixed
> > > >>size, which might explain it (BTW: Does R really crash, 
> or just say
> > > >>memory exhausted?).
> > > >>
> > > >>Do you have a simple example that reproduces the crash 
> (using random
> > > >>numbers, e.g.)?
> > >
> > > -----------------------------------------------------
> > > John Fox
> 
> ____________________________
> John Fox
> Department of Sociology
> McMaster University
> email: jfox at mcmaster.ca
> web: http://www.socsci.mcmaster.ca/jfox
> ____________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Sep 16 22:23:39 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 16 Sep 2002 13:23:39 -0700 (PDT)
Subject: [R] printing graphics window on Mac OS 9.2
In-Reply-To: <200209152150.RAA12124@aeolus.geo.umass.edu>
Message-ID: <Pine.GSO.4.10.10209161322150.13297-100000@quetelet.stat.ucla.edu>

I generally either copy and paste the graphics window into another program
(like MS Word or Appleworks) or simply export the graphic to Postscript
and drag and drop the file onto the printer icon (assuming you have a
Postscript printer).  This might be your safest bet.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 15 Sep 2002, William D. McCoy wrote:

> I'm a long time user of R, but I'm not a regular Mac user.  I am now
> teaching in a room with a dozen Macs and I'm having a problem printing
> the graphics window.  I'm using R 1.5.1 precompiled for Mac OS on Blue
> G3s with Mac OS 9.2.  When I have the macintosh graphics device
> selected and use File, Print from the menu system, the OS attempts to
> print, but the machine hangs after a few minutes.  The mouse and
> keyboard freeze and the only means of proceeding is by a hardware
> reset.  The printer does apparently receive some data judging by the
> lights on its front panel, but nothing is printed.
> 
> Does printing the graphics window from the R menu system generally
> work on the Macs or should I stick to using a postscript device?
> 
> The Mac documentation mentioned some problem with the Adobe type
> manager, but I'm not sure how to check this on the Mac.  Is this
> possible a problem with the type manager?
> 
> By the way, I can print text from the R console or other text windows
> without problem.  And I can copy the graphics to Word and print from
> there with no problem.
> 
> -- 
> William D. McCoy
> Geosciences
> University of Massachusetts
> Amherst, MA  01003
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvirketis at hbk.com  Mon Sep 16 22:26:13 2002
From: pvirketis at hbk.com (Pijus Virketis)
Date: Mon, 16 Sep 2002 16:26:13 -0400
Subject: [R] how to fit just a fixed effects model?
Message-ID: <7C87D4C5FFAFD311B333009027D6036305ECC972@EXCHANGE>

Dear all,

How can one fit just a fixed effects model in R? lme() seems to require a random component, whereas I am just looking for something like STATA's "xtreg, fe" function. 

Thanks,

Pijus


----
W: 212-588-7897
F: 212-446-1955 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 16 23:08:13 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 2002 23:08:13 +0200
Subject: [R] how to fit just a fixed effects model?
In-Reply-To: <7C87D4C5FFAFD311B333009027D6036305ECC972@EXCHANGE>
References: <7C87D4C5FFAFD311B333009027D6036305ECC972@EXCHANGE>
Message-ID: <x2znuhlk1u.fsf@biostat.ku.dk>

"Pijus Virketis" <pvirketis at hbk.com> writes:

> Dear all,
> 
> How can one fit just a fixed effects model in R? lme() seems to
> require a random component, whereas I am just looking for something
> like STATA's "xtreg, fe" function.

Just lm() 

It *is* curious that you can't get lme() to come out with that special
case, though. You can, however, cheat it with code like

> z <- 1:nrow(Orthodont)
> fm2 <- lme(distance ~ age + Sex, data = Orthodont, random=~1|z)

This gives you


Random effects:
 Formula: ~1 | z
        (Intercept)  Residual
StdDev:    2.127071 0.7976516

although the terms are not really separately identifiable, only 
the residual error sqrt(2.127071^2+ 0.7976516^2)...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.co.nz  Tue Sep 17 02:50:04 2002
From: s.mcclatchie at niwa.co.nz (Sam McClatchie)
Date: Tue, 17 Sep 2002 12:50:04 +1200
Subject: [R] legend in image()
Message-ID: <3D867C3C.6080502@niwa.cri.nz>

System info:
Linux slackware
R Version 1.5.1  (2002-06-17)
ESS 5.1.21
Emacs 21.2.1
-------------------
Colleagues

Is there a way to add a legend to an image plot? I don't see any 
reference to legends in the documentation (so I suppose the answer is 
no?). Although the documentation says image takes plot() parameters, it 
isn't clear to me how the usual use of legend in a plot command would go 
for image(). Perhaps you need to specify 'breaks' and then use something 
like:

legend(x,y, breaks, c('label1', label2'...))
?

Here is my function call at the moment without a legend:

  image(time.h, z, -log10(t5),
         xlab='hours', ylab='depth m',
         col=rainbow(20),
         main = 'Chatham Rise DVM',
         yaxt='n', zlim=c(2,6.5), cex=0.5)

Thanks in advance,

Sam

-- 
Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz
Research home page <http://www.smcc.150m.com/>
                     /\
          >><xX(&>
                  /// \\\
                 //// \\\\
                ///  <%)Xx><<
               /////  \\\\\\
         ><(((@>
   ><(((%>     ..>><xX(?>O<?)Xx><<



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vincent.plagnol at ens.fr  Tue Sep 17 03:28:57 2002
From: vincent.plagnol at ens.fr (Vincent Plagnol)
Date: 16 Sep 2002 18:28:57 -0700
Subject: [R] write R scripts
Message-ID: <1032226138.767.47.camel@drb399.usc.edu>


Hi,

I've just started using R and my question is basic I think. Instead of
typing each time a lot of lines I'd like to write a script, which
basically takes as input a data file and outputs a graph.
Something like:

data2graph input.txt

I know the commands I need to type but I don't know how to write such a
script. Should I use a specific software? Thanks for your help

Vincent



-- 
Vincent Plagnol
University of Southern California, DRB 271
Phone: (213) 740 2398

Home: 345 South Alexandria #405
CA 90020, Los Angeles
Phone: (213) 386 3364

En France:
6 avenue Gambetta
78100 Saint Germain en Laye
Tel: (01) 30 61 21 89

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Sep 17 07:30:37 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 17 Sep 2002 07:30:37 +0200 (CEST)
Subject: [R] write R scripts
In-Reply-To: <1032226138.767.47.camel@drb399.usc.edu>
Message-ID: <Pine.LNX.4.44.0209170719250.8481-100000@localhost.localdomain>

Dear Vincent,

I think source() is what you are looking for.  The only "specific software"
is a text editor (gedit should do, you seem to be using GNOME), you have to
write exactly the same commands in a file and then say

> source("myfile.R")

if your script lies in the current directory.

A better way is to define a function.  You can write it with an editor as
before (read Introduction to R for how to define a function), source() the
file and run the function as e.g.

> data2graph("input.txt")

Probably the best way is using Emacs and ESS.  It does basically
source()-ing too, but it is much more easy to source an emacs buffer to R
with only couple of keystrokes.  And ESS offers much more than just that,
e.g. syntax coloring and completion of R objects.  But emacs needs some time
to be familiar with.

Perhaps it helps.

Ott



On 16 Sep 2002, Vincent Plagnol wrote:

  |
  |Hi,
  |
  |I've just started using R and my question is basic I think. Instead of
  |typing each time a lot of lines I'd like to write a script, which
  |basically takes as input a data file and outputs a graph.
  |Something like:
  |
  |data2graph input.txt
  |
  |I know the commands I need to type but I don't know how to write such a
  |script. Should I use a specific software? Thanks for your help
  |
  |Vincent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Sep 17 08:47:20 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Sep 2002 08:47:20 +0200
Subject: [R] write R scripts
References: <1032226138.767.47.camel@drb399.usc.edu>
Message-ID: <3D86CFF8.4FBCE27B@statistik.uni-dortmund.de>

Vincent Plagnol wrote:
> 
> Hi,
> 
> I've just started using R and my question is basic I think. Instead of
> typing each time a lot of lines I'd like to write a script, which
> basically takes as input a data file and outputs a graph.
> Something like:
> 
> data2graph input.txt
> 
> I know the commands I need to type but I don't know how to write such a
> script. Should I use a specific software? Thanks for your help

I guess you are going to write a --- function ?
You'll find how to write a function in the docs...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Sickel at nrpa.no  Tue Sep 17 10:13:00 2002
From: Morten.Sickel at nrpa.no (Morten Sickel)
Date: Tue, 17 Sep 2002 10:13:00 +0200
Subject: [R] grid.legend - lines
Message-ID: <54DE9A561AD20C4D9FF88B116965420E21E0D7@postix.nrpa.no>

I am testing out the grid-plots, but get into a problem making a legend. I
have a line plot and some points, following the model in
grid.plot.and.legend() i manage to get the points correctly in the legend,
but what do I do with the line? (Of cource, I can just draw a line at the
right location on the plot, but I would prefer to use legend)

Morten 

-- 
Morten Sickel
Norwegian Radiation Protection Authority 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcbroom at stats.ox.ac.uk  Tue Sep 17 10:41:05 2002
From: mcbroom at stats.ox.ac.uk (James McBroom)
Date: Tue, 17 Sep 2002 09:41:05 +0100
Subject: [R] how to fit just a fixed effects model?
References: <7C87D4C5FFAFD311B333009027D6036305ECC972@EXCHANGE>
Message-ID: <3D86EAA1.3080804@stats.ox.ac.uk>

Pijus,

The gls function in the nlme library allows you to fit a linear model 
under certain error assumptions (eg some types of correlation), which 
might line up with those you'd use xtreg for in Stata.

James.

Pijus Virketis wrote:

>Dear all,
>
>How can one fit just a fixed effects model in R? lme() seems to require a random component, whereas I am just looking for something like STATA's "xtreg, fe" function. 
>
>Thanks,
>
>Pijus
>
>
>----
>W: 212-588-7897
>F: 212-446-1955 
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>  
>

-- 
James McBroom
Department of Statistics,     web: http://www.stats.ox.ac.uk/~mcbroom 
University of Oxford,         
1 South Parks Road,            ph: +44 (0)1865 272879
Oxford OX1 3TG.               fax: +44 (0)1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Sep 17 11:30:21 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 17 Sep 2002 11:30:21 +0200
Subject: [R]: Update on R GUI's ??
In-Reply-To: <15750.986.605686.770899@galadriel.ci.tuwien.ac.at>
Message-ID: <MABBLJDICACNFOLGIHJOOEGBCPAA.phgrosje@ulb.ac.be>

Yes, this is true. I volonteer to set up and maintain a web site dedicated
to R GUIs. The prototype of this web site is currently accessible at
http://www.sciviews.org/_rgui. At the time this discussion was fired on
R-Help, I was pretty buzy, and it is still the case for the next two weeks.
After that, I will have some spare time to work on it, and also on my R GUI
;-). In the meantime, you can visit the (largely incomplete) site under
construction. Of course, your comments are welcome. If you know about a GUI
project for R that is not referred, please, tell me. When the site will be
finalized, I would happily consider to include it in CRAN, if this is
appropriate. Otherwise, a link from CRAN would do the job pretty well.
Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( ( 
 ) ) ) ) )      SciViews project coordinator (http://www.sciviews.org)
( ( ( ( (       e-mail: phgrosjean at sciviews.org
 ) ) ) ) ) 
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de
Friedrich.Leisch at ci.tuwien.ac.at
Envoye : lundi 16 septembre 2002 18:16
A : Peter Ho
Cc : R
Objet : Re: [R]: Update on R GUI's ??


>>>>> On Mon, 16 Sep 2002 14:14:02 +0100,
>>>>> Peter Ho (PH) wrote:

  > Awhile back there was a lengthy discussion regarding  R GUI's for 
  > teaching, etc. I was wondering if anyone has set up the web page which 
  > was to be dedicated to this issue. Philippe Grosjean had the idea of 
  > creating a R-GUI projects page. Also, is anyone using a "R-GUI" (for 
  > windows) for teaching basic statistics to students doing applied science 
  > degrees? Something based perhaps on Tcl/Tk. This is especially for 
  > students with limited computer experience (apart from using Excel) and 
  > they will use R only for 10 hours as part of a one semester course. What 
  > they need a simple way to enter data (as most have used Excel a 
  > spreadsheet is what I am looking for) and then easily menu driven access 
  > to functions (such as t-tests) and simple graphics (Histograms, line 
  > graphs (xy plots)). Of course, these students would still need to 
  > understand what they are doing and why they used particular methods, 
  > when assessing functions by the menu.

As primary maintainer of R's web pages: I'd be more than happy to
support an effort like this by providing webspace, i.e., if somebody
sets up a couple of web pages etc. I can easily integrate them into
www.R-project.org (or redirect to another site from us). But somebody
else has to write and administer the pages :-)

Best,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Sep 17 12:07:37 2002
From: juli at ceam.es (juli g. pausas)
Date: Tue, 17 Sep 2002 12:07:37 +0200
Subject: [R] barplot 
Message-ID: <3D86FEE9.5E53A97E@ceam.es>

Hi
Is it possible to display two barplots in a single graph? One positive
the other negative
My example (above and below -ground biomass):

tr <- c("C", "LS", "DS", "NP") # treatments
sp <- c("Pinus", "Quercus")    # species
#Quercus:
abq <- c(5.634, 10.561, 8.248, 6.378)
beq <- -c(9.276, 13.309, 11.221, 9.487) # negative, below ground
#Pinus:
abp <- c(15.205, 22.213, 17.163, 17.691)
bep <- -c(9.219, 9.036, 7.304, 7.803)

ab <- as.matrix(data.frame(abq, abp)) # above
be <- as.matrix(data.frame(beq, bep)) # below

r <- barplot(ab, names= sp, beside= T, ylab="Biomass (g)", ylim=c(-18,
24), col=gray(1:4/4) )
lines(r, be, type="h", lwd=5)  #### here,
### is it possible to include here a barplot, instead of vertical lines?



Thanks in advance

Juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Sep 17 00:29:27 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 17 Sep 2002 10:29:27 +1200
Subject: [R] legend in image()
In-Reply-To: <3D867C3C.6080502@niwa.cri.nz>; from s.mcclatchie@niwa.co.nz on Tue, Sep 17, 2002 at 12:50:04PM +1200
References: <3D867C3C.6080502@niwa.cri.nz>
Message-ID: <20020917102927.A5373@camille.indigoindustrial.co.nz>

On Tue, Sep 17, 2002 at 12:50:04PM +1200, Sam McClatchie wrote:
> Is there a way to add a legend to an image plot? 

Does "filled.contour()" do roughly what you want?

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue Sep 17 16:07:48 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 17 Sep 2002 11:07:48 -0300
Subject: [R] grid.legend - lines
In-Reply-To: <54DE9A561AD20C4D9FF88B116965420E21E0D7@postix.nrpa.no>
Message-ID: <4.2.2.20020917105855.00aae100@pop3.norton.antivirus>

Suppose you want to put 3 different point legends for points and one legend 
for a line, then a solution that I have been using is the following:

legend(locator(1) , legend=c("Point 1" , "Point 2" , "Point 3" , "Line 1") 
, pch=c(rep(1,3) , -1) , lty=c(rep(0,3) , 1))

The '-1' in the pch option is to avoid having a point in the one line 
legend, and the rep(0,3) in the lty option is to avoid having a line in the 
3 point legends.

Daniel Mastropietro

At 10:13 AM 17/9/2002 +0200, Morten Sickel wrote:
>I am testing out the grid-plots, but get into a problem making a legend. I
>have a line plot and some points, following the model in
>grid.plot.and.legend() i manage to get the points correctly in the legend,
>but what do I do with the line? (Of cource, I can just draw a line at the
>right location on the plot, but I would prefer to use legend)
>
>Morten
>
>--
>Morten Sickel
>Norwegian Radiation Protection Authority

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Tue Sep 17 16:39:16 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Tue, 17 Sep 2002 15:39:16 +0100
Subject: [R] ActiveTcl Version
Message-ID: <3D873E94.90103@esb.ucp.pt>

Dear Tcl/Tk users,

Will R work with the more recent version of  ActiveTcl 8.4.0.1 or should 
I use ActiveTcl 8.3.4.3?


Peter
---------------------------------------------------------------
Peter Ho
Departamento de Ci?ncias de Engenharia e Tecnologia
Escola Superior de Tecnologia e Gest?o
Instituto Polit?nico de Viana do Castelo
Avenida do Atl?ntico- Apartado 574
4901-908 Viana do Castelo
Email: peter at estg.ipvc.pt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Sep 17 14:21:18 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 17 Sep 2002 08:21:18 -0400
Subject: [R] loess crash
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC68F@usrymx10.merck.com>

Actually, I forgot there's the `locfit' package:

library(locfit)
> fit1 <- locfit(y~x1*x2*x3*x4*x5, data=data2)
> fit1
Call:
locfit(formula = y ~ x1 * x2 * x3 * x4 * x5, data = data2)

Number of observations:          500 
Family:  Gaussian 
Fitted Degrees of freedom:       32.179 
Residual scale:                  0.954 
> summary(fit1)
Estimation type: Local Regression 

Call:
locfit(formula = y ~ x1 * x2 * x3 * x4 * x5, data = data2)

Number of data points:  500 
Independent variables:  x1 x2 x3 x4 x5 
Evaluation structure: Rectangular Tree 
Number of evaluation points:  32 
Degree of fit:  2 
Fitted Degrees of Freedom:  32.179 

The default settings might be different from loess, though.

Andy


> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Monday, September 16, 2002 4:17 PM
> To: 'John Fox'; jdeke2 at comcast.net
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] loess crash
> 
> 
> I agree with John mostly.  For a model as complicated as 
> you're trying to
> fit with loess, you might  as well try things like ppr (in 
> the `modreg'
> package), MARS (in the 'mda' package) or neural nets (in the 'nnet'
> package), or even randomForest...  Actually MARS might offer 
> a bit more
> interpretability than others, because of its hierarchical 
> construction.
> 
> If you do care about `marginal effects' of the predictors, 
> then aren't you
> sort of assuming additivity?  In which case the additive model is more
> appropriate.  If not, the `marginal effects' can be misleading.
> 
> In terms of comparing a loess with 5 terms with a less 
> complicated model, I
> think it needs to be pointed out that (AFAIK) it can only be 
> done on a more
> or less qualitative level, as the models are not nested.
> 
> Cheers,
> Andy
> 
> > -----Original Message-----
> > From: John Fox [mailto:jfox at mcmaster.ca]
> > Sent: Monday, September 16, 2002 1:59 PM
> > To: jdeke2 at comcast.net
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] loess crash
> > 
> > 
> > Dear John,
> > 
> > It's true that the gam function in mgcv fits with splines 
> > while loess uses 
> > local regression, but an even more fundamental difference is 
> > that gam fits 
> > additive models (though, with some care, you can include 
> > higher-dimensional 
> > terms). Given your description of what you plan to do with 
> the fitted 
> > model, an additive model might be what you want.
> > 
> > More generally, a model that fits five-way interactions may 
> > be useful as a 
> > point of comparison for simpler models, but I doubt that it 
> > will provide a 
> > digestible description of the data.
> > 
> > I hope that this helps,
> >   John
> > 
> > At 10:45 AM 9/16/2002 -0400, you wrote:
> > >Thanks for the suggestion. I've only used splines for 
> > desnity estimation
> > >before -- I've never used them for regression (although I'm 
> > aware that
> > >people do). I'll look into it...
> > >
> > >
> > >-----Original Message-----
> > >From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
> > >Sent: Monday, September 16, 2002 10:17 AM
> > >To: jdeke2 at comcast.net
> > >Cc: 'r-help at stat.math.ethz.ch'
> > >Subject: RE: [R] loess crash
> > >
> > >
> > >i would suggest looking at the package mgcv.
> > >you can fit generalized additive models which are useful for what
> > >you desribe below.
> > >
> > >On Mon, 16 Sep 2002, John Deke wrote:
> > >
> > > > Ah... I hadn't noticed that option! Thanks... that's a 
> > good idea. I'm
> > >quite
> > > > happy to use local linear regression.
> > > >
> > > > To answer your question -- perhaps I'm off base, but my 
> > reason for wanting
> > > > to do this is that I have a set of explanatory variables 
> > that most likely
> > > > influence my dependent variable in ways that are 
> > difficult to model
> > > > parametrically. That is, I suspect that there are all sorts of
> > >complementary
> > > > relationships between these variables, and its not at all 
> > clear that
> > >there's
> > > > a satisfying theoretical model that would suggest a 
> > clear-cut parametric
> > > > relationship. So, rather than using parametric 
> > regression, I'd like to try
> > > > something non-parametric.
> > > >
> > > > My plan for summarizing the results is to find the 
> > average marginal effect
> > > > of each explanatory variable of interest, holding all 
> > else constant. Also,
> > >I
> > > > would calculate predicted outcomes for combinations of 
> > the explanatory
> > > > variables that are most likely to occur in "the real world".
> > > >
> > > > John
> > > >
> > > > -----Original Message-----
> > > > From: John Fox [mailto:jfox at mcmaster.ca]
> > > > Sent: Monday, September 16, 2002 9:31 AM
> > > > To: John Deke
> > > > Cc: r-help at stat.math.ethz.ch
> > > > Subject: Re: [R] loess crash
> > > >
> > > >
> > > > Dear John,
> > > >
> > > > For curiosity, I tried your example under R 1.5.1 on an 
> > 800 MHz PC with
> > >512
> > > > Mb of memory running Windows 2000. The results were just 
> > as you described:
> > >
> > > > The four-predictor problem ran essentially instantly, and the
> > > > five-predictor problem crashed R, again instantly.
> > > >
> > > > I also tried making the problem less computationally 
> demanding by
> > > > specifying locally linear, rather than quadratic, fits; 
> > this appears to
> > > > work:
> > > >
> > > >  > loess(y~x1+x2+x3+x4+x5, data2, degree=1)
> > > > Call:
> > > > loess(formula = y ~ x1 + x2 + x3 + x4 + x5, data = data2, 
> > degree = 1)
> > > >
> > > > Number of Observations: 500
> > > > Equivalent Number of Parameters: 13.5
> > > > Residual Standard Error: 1.012
> > > >  >
> > > >
> > > >
> > > > Although something is obviously wrong here, I wonder 
> > whether it makes
> > >sense
> > > > to fit a local regression with so many predictors (unless 
> > the object is to
> > >
> > > > compare the general nonparametric fit with some more 
> > constrained model):
> > > > how would you describe the five-dimensional surface 
> > that's produced?
> > > >
> > > > John
> > > >
> > > > At 07:36 AM 9/16/2002 -0400, John Deke wrote:
> > > > >Here's a simple example that yields the crash:
> > > > >
> > > > >library(modreg)
> > > > >data1 <- array(runif(500*5),c(500,5))
> > > > >colnames(data1) <- c("x1","x2","x3","x4","x5")
> > > > >y <-
> > > >
> > > 
> > >3+2*data1[,"x1"]+15*data1[,"x2"]+13*data1[,"x3"]-8*data1[,"x4
> > "]+14*data1[,"
> > > > x5"]+rnorm(500)
> > > > >data2 <- cbind(y,data1)
> > > > >data2 <- as.data.frame(data2)
> > > > >result1 <- loess(y~x1+x2+x3+x4,data2)
> > > > >
> > > > >To get the crash, I just add x5--
> > > > >
> > > > >result1 <- loess(y~x1+x2+x3+x4+x5,data2)
> > > > >
> > > > >And bammo -- I'm dead. It doesn't even pause -- Rgui 
> > crashes, and I mean
> > > > >really crashes -- the program is terminated, I get the 
> > little Windows
> > > > >dialogue saying that a log file is being generated -- 
> > the whole dramatic
> > > > >death scene.
> > > > >
> > > > >I know its a computationally intensive thing, but the 
> > one that doesn't
> > > > >crash (with four explanatory variables) runs almost 
> > instantly. Its hard
> > >to
> > > > >see how adding a fifth could be so catastrophic. But I 
> > am somewhat new to
> > >
> > > > >this particular methodology....
> > > > >
> > > > >John
> > > > >
> > > > >At 03:38 AM 9/16/2002, Peter Dalgaard BSA wrote:
> > > > >>John Deke <jdeke2 at comcast.net> writes:
> > > > >>
> > > > >> > Hmm... if I reduce the number of observations to 
> > just 500, I still
> > >get
> > > > >> > the error.
> > > > >> >
> > > > >> > I don't think its an issue of colinearity, because 
> > I've tried several
> > > > >> > different combinations of variables, all of which 
> > work just fine in
> > >an
> > > > >> > OLS or logistic regression.
> > > > >> >
> > > > >> > I'm probably doing something stupid, but I'm not 
> seeing it...
> > > > >> >
> > > > >> > At 02:00 PM 9/15/2002, John Deke wrote:
> > > > >> > >Hi,
> > > > >> > >
> > > > >> > > I have a data frame with 6563 observations. I can 
> > run a regression
> > > > >> > > with loess using four explanatory variables. If I 
> > add a fifth, R
> > > > >> > > crashes. There are no missings in the data, and 
> if I run a
> > > > >> > > regression with any four of the five explanatory 
> > variables, it
> > > > >> > > works. Its only when I go from four to five that 
> > it crashes.
> > > > >>
> > > > >>Hmm... I wouldn't try loess with more than one or two 
> > descriptors. I
> > > > >>mean, it's a smoothing method and representing a smooth 
> > function of
> > > > >>many variables can be computationally demanding.
> > > > >>
> > > > >>The Fortran source code for loess is one of the more 
> > obfuscated pieces
> > > > >>of R, but I can see that some structures inside of it 
> > are of fixed
> > > > >>size, which might explain it (BTW: Does R really crash, 
> > or just say
> > > > >>memory exhausted?).
> > > > >>
> > > > >>Do you have a simple example that reproduces the crash 
> > (using random
> > > > >>numbers, e.g.)?
> > > >
> > > > -----------------------------------------------------
> > > > John Fox
> > 
> > ____________________________
> > John Fox
> > Department of Sociology
> > McMaster University
> > email: jfox at mcmaster.ca
> > web: http://www.socsci.mcmaster.ca/jfox
> > ____________________________
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice:  This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> in this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


----------------------------------------------------------------------------
--
Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named in this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.corda at oncfs.gouv.fr  Tue Sep 17 17:44:37 2002
From: e.corda at oncfs.gouv.fr (E. Corda)
Date: Tue, 17 Sep 2002 17:44:37 +0200
Subject: [R] fitting a linear mixed effects model
In-Reply-To: <x21y80tv76.fsf@biostat.ku.dk>
References: <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
 <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
Message-ID: <3.0.1.32.20020917174437.006aef38@mail.sky.fr>

Dear all,

I still have the same question as before. You'll find below my original
question and Peter's answer, as well as additional elements.

A 17:14 11/09/02 +0200, vous avez ?crit :
>"E. Corda" <e.corda at oncfs.gouv.fr> writes:
>
>> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~ 1|transect/year)
>> 
>> I would like the TRANSECT factor to be nested in the ZONE factor. But
>> if I estimate the model like this:
>> 
>> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~
>> 1|zone/transect/year)
>
>(shouldn't that be transect/zone/year?)

No, one zone has several transects so TRANSECT is nested within ZONE.

>
>> zone is now a random effect.
>> 
>> Do you have any idea on this? Thanks a lot for any help.
>
>Does random ~ 1|(zone:transect)/year work? Otherwise, you might need
>something like random ~ 1|interaction(zone,transect)/year.
>
>-- 
>   O__  ---- Peter Dalgaard             Blegdamsvej 3  
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

The two commands indicated by Peter don't work on R. Moreover, I don't want
to estimate a model with ZONE*TRANSECT interaction, I'd rather want to
specify that the between transects variability must be taken into account
within each zone. The problem is that the way we write the model in lme
makes random effects be separated from fixed effects. So I can't see how I
could write the model I want. 

Thanks very much for any help,

Eve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 17 18:18:24 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Sep 2002 18:18:24 +0200
Subject: [R] fitting a linear mixed effects model
In-Reply-To: <3.0.1.32.20020917174437.006aef38@mail.sky.fr>
References: <3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
	<3.0.1.32.20020911170022.006eba2c@mail.sky.fr>
	<3.0.1.32.20020917174437.006aef38@mail.sky.fr>
Message-ID: <x2d6rcvbcf.fsf@biostat.ku.dk>

"E. Corda" <e.corda at oncfs.gouv.fr> writes:

> Dear all,
> 
> I still have the same question as before. You'll find below my original
> question and Peter's answer, as well as additional elements.
> 
> A 17:14 11/09/02 +0200, vous avez ?crit :
> >"E. Corda" <e.corda at oncfs.gouv.fr> writes:
> >
> >> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~ 1|transect/year)
> >> 
> >> I would like the TRANSECT factor to be nested in the ZONE factor. But
> >> if I estimate the model like this:
> >> 
> >> fm1fox <- lme(nbfox ~ zone*annee, data=fox, random ~
> >> 1|zone/transect/year)
> >
> >(shouldn't that be transect/zone/year?)
> 
> No, one zone has several transects so TRANSECT is nested within ZONE.

Sorry, I think I got the order confused by seeing year appearing last
(i.e. you really mean that year is nested within the others with no
effect of the same year in different places?)


> 
> >
> >> zone is now a random effect.
> >> 
> >> Do you have any idea on this? Thanks a lot for any help.
> >
> >Does random ~ 1|(zone:transect)/year work? Otherwise, you might need
> >something like random ~ 1|interaction(zone,transect)/year.

> The two commands indicated by Peter don't work on R. Moreover, I don't want
> to estimate a model with ZONE*TRANSECT interaction, I'd rather want to
> specify that the between transects variability must be taken into account
> within each zone. The problem is that the way we write the model in lme
> makes random effects be separated from fixed effects. So I can't see how I
> could write the model I want. 
> 
> Thanks very much for any help,

You may need to spell it out a bit more, but I contend that you *do*
want the interaction term. It's the main effects that you don't want,
so how about creating a random effect for each combination of zone and
transect like this:

z.by.t <- interaction(zone,transect)

lme(....,random=~ 1|z.by.t/year)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Sep 17 18:20:45 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 17 Sep 2002 09:20:45 -0700 (PDT)
Subject: [R] legend in image()
In-Reply-To: <3D867C3C.6080502@niwa.cri.nz>
Message-ID: <Pine.GSO.4.10.10209170919560.25106-100000@quetelet.stat.ucla.edu>

Check out `image.plot' in the `fields' package.  Also, `filled.contour'
may do what you want (and seems to produce nicer pictures).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 17 Sep 2002, Sam McClatchie wrote:

> System info:
> Linux slackware
> R Version 1.5.1  (2002-06-17)
> ESS 5.1.21
> Emacs 21.2.1
> -------------------
> Colleagues
> 
> Is there a way to add a legend to an image plot? I don't see any 
> reference to legends in the documentation (so I suppose the answer is 
> no?). Although the documentation says image takes plot() parameters, it 
> isn't clear to me how the usual use of legend in a plot command would go 
> for image(). Perhaps you need to specify 'breaks' and then use something 
> like:
> 
> legend(x,y, breaks, c('label1', label2'...))
> ?
> 
> Here is my function call at the moment without a legend:
> 
>   image(time.h, z, -log10(t5),
>          xlab='hours', ylab='depth m',
>          col=rainbow(20),
>          main = 'Chatham Rise DVM',
>          yaxt='n', zlim=c(2,6.5), cex=0.5)
> 
> Thanks in advance,
> 
> Sam
> 
> -- 
> Sam McClatchie, Research scientist (fisheries acoustics))))))))))
> NIWA (National Institute of Water & Atmospheric Research Ltd)
> PO Box 14 901, Kilbirnie, Wellington, New Zealand
> s.mcclatchie at niwa.cri.nz
> Research home page <http://www.smcc.150m.com/>
>                      /\
>           >><xX(&>
>                   /// \\\
>                  //// \\\\
>                 ///  <%)Xx><<
>                /////  \\\\\\
>          ><(((@>
>    ><(((%>     ..>><xX(?>O<?)Xx><<
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardogs at terra.com.br  Mon Sep 16 04:37:18 2002
From: ricardogs at terra.com.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves_Da-Silva?=)
Date: Sun, 15 Sep 2002 23:37:18 -0300
Subject: [R] TclTk
Message-ID: <000701c25d29$fdde1eb0$0100000a@casa1>

Dear Users
I know this problem has already been treated here, but I was unable to find
the answer.
When I try to load the tcltk I receive the message:

Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in library(pkg, character.only = TRUE) :
        .First.lib failed

How can I fix this bug?
R 1.5.1 for Windows running on a XP plat.
Thanks.
Ricardo Gon?alves Silva
Universidade de S?o Paulo-USP
Instituto de Ci?ncias Matem?ticas-ICMC
Departamento de Estat?stica
www.icmc.usp.br/~ricardo
www.macroeconometrics.hpg.com.br



---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rlee at fpcc.net  Tue Sep 17 18:47:19 2002
From: rlee at fpcc.net (Rob Lee)
Date: Tue, 17 Sep 2002 10:47:19 -0600 (MDT)
Subject: [R] Common R/S Idioms - Swapping Rows or Cols in a Matrix
Message-ID: <Pine.LNX.4.33.0209171036010.3189-100000@aberdeen.fpcc.net>


Is there an idiomatic way of swapping rows/cols in a Matrix?

The standard approach for swapping rows r and u:
tmpRow = A[r,]
A[r,] = A[u,]
A[u,] = tmpRow

Robin Hankin (R-Octave help sheet maintainer) says:

[I would implement your three line solution (which works!) as follows:

swap <- function(a,m,n) {
 tmp <- a[m]
 a[m] <- a[n]
 a[n] <- tmp
 return(a)
}

then use things like

x <- matrix(1:100,10,10)

x[ swap(1:10,5,6),]                #swaps rows  5&6
x[,swap(1:10,5,6) ]                #swaps cols  5&6
x[ swap(1:10,5,6),swap(1:10,5,6)]  #both together

]

Anybody?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Tue Sep 17 19:32:10 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Tue, 17 Sep 2002 13:32:10 -0400 (EDT)
Subject: [R] TclTk
Message-ID: <200209171732.NAA29647@blaise.dfci.harvard.edu>


>From: Ricardo Gon?alves Da-Silva <ricardogs at terra.com.br>
>To: <r-help at stat.math.ethz.ch>
>Subject: [R] TclTk
>Date: Sun, 15 Sep 2002 23:37:18 -0300
>MIME-Version: 1.0
>Content-Transfer-Encoding: 8bit
>X-Priority: 3
>X-MSMail-Priority: Normal
>X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
>
>Dear Users
>I know this problem has already been treated here, but I was unable to find
>the answer.
>When I try to load the tcltk I receive the message:
>
>Error in firstlib(which.lib.loc, package) :
>        TCL_LIBRARY is not set
>Error in library(pkg, character.only = TRUE) :
>        .First.lib failed
>
>How can I fix this bug?
>R 1.5.1 for Windows running on a XP plat.

You have to set your environmental variables. On Windows 2000, I go to 
start->Settings->Control Panel->System->Advanced->Environmental Variables and 
set the System variables to:

Path			C:\tcl\bin
TCL_LIBRARY		C:\tcl\lib\tcl8.3

Given that your have tcl8.3 installed in C:\tcl. I do not know how to do the 
equivalence in XP though.


>Thanks.
>Ricardo Gon?alves Silva
>Universidade de S?o Paulo-USP
>Instituto de Ci?ncias Matem?ticas-ICMC
>Departamento de Estat?stica
>www.icmc.usp.br/~ricardo
>www.macroeconometrics.hpg.com.br
>
>
>
>---
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardogs at terra.com.br  Mon Sep 16 06:40:47 2002
From: ricardogs at terra.com.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves_Da-Silva?=)
Date: Mon, 16 Sep 2002 01:40:47 -0300
Subject: [R] TclTk Again
Message-ID: <000701c25d3b$3db411a0$0100000a@casa1>

Dear All,
Following Zhang instructions I add the environmental variables, but now I
receive the following message:
> library(tcltk)
Error in firstlib(which.lib.loc, package) :
        Can't find a usable init.tcl in the following directories:
    { C:\tcl\lib\tcl8.3}

This probably means that Tcl wasn't installed properly.
Error in library(tcltk) : .First.lib failed

I'm using R Win 1.5.1 on a XP and Active Tcl 8.3.4.2

Thanks.
Ricardo Gon?alves Silva
Universidade de S?o Paulo-USP
Instituto de Ci?ncias Matem?ticas-ICMC
Departamento de Estat?stica
www.icmc.usp.br/~ricardo
www.macroeconometrics.hpg.com.br



---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 17 21:49:16 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Sep 2002 21:49:16 +0200
Subject: [R] TclTk Again
In-Reply-To: <000701c25d3b$3db411a0$0100000a@casa1>
References: <000701c25d3b$3db411a0$0100000a@casa1>
Message-ID: <x2znug8khv.fsf@biostat.ku.dk>

Ricardo Gon?alves Da-Silva <ricardogs at terra.com.br> writes:

> Dear All,
> Following Zhang instructions I add the environmental variables, but now I
> receive the following message:
> > library(tcltk)
> Error in firstlib(which.lib.loc, package) :
>         Can't find a usable init.tcl in the following directories:
>     { C:\tcl\lib\tcl8.3}
> 
> This probably means that Tcl wasn't installed properly.
> Error in library(tcltk) : .First.lib failed
> 
> I'm using R Win 1.5.1 on a XP and Active Tcl 8.3.4.2

I think that one means you didn't set the PATH, check the Windows FAQ,
Q3.6.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Sep 17 21:57:10 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Sep 2002 21:57:10 +0200
Subject: [R] Common R/S Idioms - Swapping Rows or Cols in a Matrix
References: <Pine.LNX.4.33.0209171036010.3189-100000@aberdeen.fpcc.net>
Message-ID: <3D878916.9639035B@statistik.uni-dortmund.de>

Rob Lee wrote:
> 
> Is there an idiomatic way of swapping rows/cols in a Matrix?
> 
> The standard approach for swapping rows r and u:
> tmpRow = A[r,]
> A[r,] = A[u,]
> A[u,] = tmpRow
> 
> Robin Hankin (R-Octave help sheet maintainer) says:
> 
> [I would implement your three line solution (which works!) as follows:
> 
> swap <- function(a,m,n) {
>  tmp <- a[m]
>  a[m] <- a[n]
>  a[n] <- tmp
>  return(a)
> }
> 
> then use things like
> 
> x <- matrix(1:100,10,10)
> 
> x[ swap(1:10,5,6),]                #swaps rows  5&6
> x[,swap(1:10,5,6) ]                #swaps cols  5&6
> x[ swap(1:10,5,6),swap(1:10,5,6)]  #both together
> 
> ]
> 
> Anybody?

What about vectorized indexing as common in S? For example swapping rows
m and n of a matrix A:  
  A[c(m, n), ] <- A [c(n, m), ]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Tue Sep 17 22:06:35 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Tue, 17 Sep 2002 16:06:35 -0400 (EDT)
Subject: [R] TclTk Again
Message-ID: <200209172006.QAA17482@blaise.dfci.harvard.edu>


>From: Ricardo Gon?alves Da-Silva <ricardogs at terra.com.br>
>To: <r-help at stat.math.ethz.ch>
>Subject: [R] TclTk Again
>Date: Mon, 16 Sep 2002 01:40:47 -0300
>MIME-Version: 1.0
>Content-Transfer-Encoding: 8bit
>X-Priority: 3
>X-MSMail-Priority: Normal
>X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
>
>Dear All,
>Following Zhang instructions I add the environmental variables, but now I
>receive the following message:
>> library(tcltk)
>Error in firstlib(which.lib.loc, package) :
>        Can't find a usable init.tcl in the following directories:
>    { C:\tcl\lib\tcl8.3}
>
>This probably means that Tcl wasn't installed properly.
>Error in library(tcltk) : .First.lib failed

init.tcl is in C:\tcl\lib\tcl8.3 on my system. You probably do not have the same 
path as mine. Go to the tcl folder and find out where inti.tcl is and point your 
TCL_LIBRARY to the correct path. That may do the trick. Good luck.

>
>I'm using R Win 1.5.1 on a XP and Active Tcl 8.3.4.2
>
>Thanks.
>Ricardo Gon?alves Silva
>Universidade de S?o Paulo-USP
>Instituto de Ci?ncias Matem?ticas-ICMC
>Departamento de Estat?stica
>www.icmc.usp.br/~ricardo
>www.macroeconometrics.hpg.com.br
>
>
>
>---
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Sep 18 00:27:34 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 17 Sep 2002 17:27:34 -0500 (CDT)
Subject: [R] Common R/S Idioms - Swapping Rows or Cols in a Matrix
In-Reply-To: <Pine.LNX.4.33.0209171036010.3189-100000@aberdeen.fpcc.net>
	(message from Rob Lee on Tue, 17 Sep 2002 10:47:19 -0600 (MDT))
References: <Pine.LNX.4.33.0209171036010.3189-100000@aberdeen.fpcc.net>
Message-ID: <200209172227.RAA23308@definetti.uark.edu>


I would try something like

> A[c(s,r),] <- A[c(r,s),]

Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]


> Is there an idiomatic way of swapping rows/cols in a Matrix?
> 
> The standard approach for swapping rows r and u:
> tmpRow = A[r,]
> A[r,] = A[u,]
> A[u,] = tmpRow
> 
> Robin Hankin (R-Octave help sheet maintainer) says:
> 
> [I would implement your three line solution (which works!) as follows:
> 
> swap <- function(a,m,n) {
>  tmp <- a[m]
>  a[m] <- a[n]
>  a[n] <- tmp
>  return(a)
> }
> 
> then use things like
> 
> x <- matrix(1:100,10,10)
> 
> x[ swap(1:10,5,6),]                #swaps rows  5&6
> x[,swap(1:10,5,6) ]                #swaps cols  5&6
> x[ swap(1:10,5,6),swap(1:10,5,6)]  #both together
> 
> ]
> 
> Anybody?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.co.nz  Wed Sep 18 00:45:38 2002
From: s.mcclatchie at niwa.co.nz (Sam McClatchie)
Date: Wed, 18 Sep 2002 10:45:38 +1200
Subject: [R] legend in image
Message-ID: <3D87B092.6060607@niwa.cri.nz>

System info:
Linux slackware
R Version 1.5.1  (2002-06-17)
ESS 5.1.21
Emacs 21.2.1
-------------------

Colleagues

Thanks very much for advice. I was not aware of the Fields package 
(although I've been using Geostat and Spatial). The image.plot() 
function in Fields does a lovely job, with an added bonus of fixing the 
problem I was having of balancing the number of colour levels with the 
xlim parameters.

  image.plot(time.h, z, -log10(t5),
         xlab='hours', ylab='depth m',
         col=topo.colors(64), nlevel=32,
         main = 'Chatham Rise DVM 12 kHz',
         yaxt='n',
         zlim=c(1,8),
         cex=0.5)

R and the community of users and developers certainly provide a splendid 
tool.

Sam
-- 
Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz
Research home page <http://www.smcc.150m.com/>
                     /\
          >><xX(&>
                  /// \\\
                 //// \\\\
                ///  <%)Xx><<
               /////  \\\\\\
         ><(((@>
   ><(((%>     ..>><xX(?>O<?)Xx><<



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tuliocb at terra.com.br  Wed Sep 18 05:22:17 2002
From: tuliocb at terra.com.br (Tulio C. Bender)
Date: Wed, 18 Sep 2002 00:22:17 -0300
Subject: [R] Call kmeans R function from MFC program
Message-ID: <3D87F169.40109@terra.com.br>

I'm trying to call the R k-means function from my MFC (VC++ 6.0) 
program. I have included the headers R.h and mva.h but I getting these 
compile errors :

- ...\VC98\INCLUDE\math.h(514) : error C2894: templates cannot be 
declared to have 'C' linkage
- ...\RW1051\SRC\INCLUDE\R_ext/RS.h(37) : warning C4005: 'ERROR' : macro 
redefinition
- ...\VC98\INCLUDE\wingdi.h(93) : see previous definition of 'ERROR'
- ...\RW1051\SRC\INCLUDE\Rinternals.h(821) : error C2244: '`global 
namespace'::AfxTrace' : unable to resolve function overload

Is there any workaround like some source code specific for VisualC ++ ?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Sep 18 05:46:01 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 18 Sep 2002 15:46:01 +1200 (NZST)
Subject: More on list to data frame (was: Re: [R] List to Data Frame
In-Reply-To: <20020823050237.GA206@hortresearch.co.nz>
Message-ID: <Pine.SOL.4.21.0209181542130.7712-100000@stat1.stat.auckland.ac.nz>

Hi,

Now suppose I have just one list called FOO, which has 25 objects, e.g.:
  [[1]]
  1 2 3 4 5
  [[2]]
  6 7 8 9 10
  .
  .
  .

And I want to do something like:
  FRED <- data.frame(cbind(unlist(FOO[[1]]),
                           unlist(FOO[[2]]),
                           # ... for all 25 subsets
                     ))

Is it possible to do this, without doing unlist(FOO[[i]]) 25 times?

Cheers,

Kevin


On Fri, 23 Aug 2002, Patrick Connolly wrote:

> Date: Fri, 23 Aug 2002 17:02:37 +1200
> From: Patrick Connolly <p.connolly at hortresearch.co.nz>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Subject: Re: [R] List to Data Frame
> 
> On Fri, 23-Aug-2002 at 01:35PM +1200, Ko-Kang Kevin Wang wrote:
> 
> |> Hi,
> |> 
> |> Suppose I have two lists.  The first list is called FOO while the second
> |> is called FRED.  
> |> 
> |> Say FOO looks (I've simplifed it) like:
> |>     [[1]]
> |>             [,1]
> |>   [1,] 1
> |>   [2,] 2
> |> 
> |>     [[2]]
> |>             [,1]
> |>   [1,] 3
> |>   [2,] 4
> |> while FRED looks like:
> |>     [[1]]
> |>             [,1]
> |>   [1,] 5
> |>   [2,] 6        
> |> 
> |>     [[2]]
> |>             [,1]
> |>   [1,] 7  
> |>   [2,] 8
> |> 
> |> Can I turn this list into a dataframe which looks like:
> |>              FOO  FRED 
> |>   theta1.1     1     5
> |>   theta2.1     2     6
> |>   theta1.2     3     7
> |>   theta2.2     4     8
> |> or something close to this form?
> 
> I think this would get you pretty close:
> 
> data.frame(FOO = unlist(FOO), FRED = unlist(FRED))
> 
> 
> best
> 
> 
> -- 
> Patrick Connolly
> HortResearch
> Mt Albert
> Auckland
> New Zealand 
> Ph: +64-9 815 4200 x 7188
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> I have the world`s largest collection of seashells. I keep it on all
> the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> 
> 
> ______________________________________________________
> The contents of this e-mail are privileged and/or confidential to the
> named recipient and are not to be used by any other person and/or
> organisation. If you have received this e-mail in error, please notify 
> the sender and delete all material pertaining to this e-mail.
> ______________________________________________________
> 

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Sep 18 06:24:55 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 18 Sep 2002 16:24:55 +1200 (NZST)
Subject: More on list to data frame (was: Re: [R] List to Data Frame
In-Reply-To: <Pine.SOL.4.21.0209181542130.7712-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.4.21.0209181624180.7712-100000@stat1.stat.auckland.ac.nz>

Hi,

I've solved the problem.  I unlisted the list into a matrix first.

For those who are interested, this is what I did:
FOO.mm <- matrix(rep(NA, length(unlist(FOO))),
                  nrow = 25, ncol = 23)
for(i in 1 : n) {
  FOO.mm[ ,i] <- unlist(FOO[[i]])
}
FRED <- as.data.frame(FOO.mm)


On Wed, 18 Sep 2002, Ko-Kang Kevin Wang wrote:

> Date: Wed, 18 Sep 2002 15:46:01 +1200 (NZST)
> From: Ko-Kang Kevin Wang <kwan022 at stat1.stat.auckland.ac.nz>
> To: R Help <r-help at stat.math.ethz.ch>
> Subject: More on list to data frame (was: Re: [R] List to Data Frame
> 
> Hi,
> 
> Now suppose I have just one list called FOO, which has 25 objects, e.g.:
>   [[1]]
>   1 2 3 4 5
>   [[2]]
>   6 7 8 9 10
>   .
>   .
>   .
> 
> And I want to do something like:
>   FRED <- data.frame(cbind(unlist(FOO[[1]]),
>                            unlist(FOO[[2]]),
>                            # ... for all 25 subsets
>                      ))
> 
> Is it possible to do this, without doing unlist(FOO[[i]]) 25 times?
> 
> Cheers,
> 
> Kevin
> 
> 
> On Fri, 23 Aug 2002, Patrick Connolly wrote:
> 
> > Date: Fri, 23 Aug 2002 17:02:37 +1200
> > From: Patrick Connolly <p.connolly at hortresearch.co.nz>
> > To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> > Subject: Re: [R] List to Data Frame
> > 
> > On Fri, 23-Aug-2002 at 01:35PM +1200, Ko-Kang Kevin Wang wrote:
> > 
> > |> Hi,
> > |> 
> > |> Suppose I have two lists.  The first list is called FOO while the second
> > |> is called FRED.  
> > |> 
> > |> Say FOO looks (I've simplifed it) like:
> > |>     [[1]]
> > |>             [,1]
> > |>   [1,] 1
> > |>   [2,] 2
> > |> 
> > |>     [[2]]
> > |>             [,1]
> > |>   [1,] 3
> > |>   [2,] 4
> > |> while FRED looks like:
> > |>     [[1]]
> > |>             [,1]
> > |>   [1,] 5
> > |>   [2,] 6        
> > |> 
> > |>     [[2]]
> > |>             [,1]
> > |>   [1,] 7  
> > |>   [2,] 8
> > |> 
> > |> Can I turn this list into a dataframe which looks like:
> > |>              FOO  FRED 
> > |>   theta1.1     1     5
> > |>   theta2.1     2     6
> > |>   theta1.2     3     7
> > |>   theta2.2     4     8
> > |> or something close to this form?
> > 
> > I think this would get you pretty close:
> > 
> > data.frame(FOO = unlist(FOO), FRED = unlist(FRED))
> > 
> > 
> > best
> > 
> > 
> > -- 
> > Patrick Connolly
> > HortResearch
> > Mt Albert
> > Auckland
> > New Zealand 
> > Ph: +64-9 815 4200 x 7188
> > ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> > I have the world`s largest collection of seashells. I keep it on all
> > the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
> > ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> > 
> > 
> > ______________________________________________________
> > The contents of this e-mail are privileged and/or confidential to the
> > named recipient and are not to be used by any other person and/or
> > organisation. If you have received this e-mail in error, please notify 
> > the sender and delete all material pertaining to this e-mail.
> > ______________________________________________________
> > 
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> 
> 

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 18 08:22:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 18 Sep 2002 08:22:14 +0200
Subject: More on list to data frame (was: Re: [R] List to Data Frame
References: <Pine.SOL.4.21.0209181624180.7712-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3D881B96.C1DFDE74@statistik.uni-dortmund.de>



Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> I've solved the problem.  I unlisted the list into a matrix first.
> 
> For those who are interested, this is what I did:
> FOO.mm <- matrix(rep(NA, length(unlist(FOO))),
>                   nrow = 25, ncol = 23)
> for(i in 1 : n) {
>   FOO.mm[ ,i] <- unlist(FOO[[i]])
> }
> FRED <- as.data.frame(FOO.mm)

It's not that hard. If you want to coerce to matrix using unlist() (and *not* to a data.frame, which I mentioned in a previous message):

 matrix(unlist(FOO), nrow = length(FOO[[1]]))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 18 08:17:09 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 18 Sep 2002 08:17:09 +0200
Subject: More on list to data frame (was: Re: [R] List to Data Frame
References: <Pine.SOL.4.21.0209181542130.7712-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3D881A65.618FF33F@statistik.uni-dortmund.de>



Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Now suppose I have just one list called FOO, which has 25 objects, e.g.:
>   [[1]]
>   1 2 3 4 5
>   [[2]]
>   6 7 8 9 10
>   .
>   .
>   .
> 
> And I want to do something like:
>   FRED <- data.frame(cbind(unlist(FOO[[1]]),
>                            unlist(FOO[[2]]),
>                            # ... for all 25 subsets
>                      ))
> 
> Is it possible to do this, without doing unlist(FOO[[i]]) 25 times?

If want to coerce a list with appropriate elements to a data.frame, as in your example, just use
 as.data.frame(FOO).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed Sep 18 11:49:52 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 18 Sep 2002 11:49:52 +0200
Subject: [R] problem in deparse(substitute())
Message-ID: <005f01c25ef8$c141a3c0$5c13070a@it.giustizia.it>

Hi all,
I am experiencing the following quite strange (at least in my knowledge)
problem in a simple function like the following:

fn<-function(y,v=2){
    n<-length(y)
    y<-y[(v+1):(n-v)]
 plot(y,type="l",lty=3,xlab="Time",ylab=deparse(substitute(y)))
    }

fn(rnorm(50)) #look at the plot!!!

The plot appears with numbers on the left side!
If I delete the deparse(substitute()) in the ylab argument in the plot()
function
or I omit the line "y<-y[(v+1):(n-v)]" everything works well.

I can not test whether this problem depends on my R system (R 1.5.1 Win Me),
but I have never had no problem before.

many thanks for your help,

bests,
vito

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Wed Sep 18 11:59:52 2002
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Wed, 18 Sep 2002 11:59:52 +0200
Subject: [R] anotating splitted plots
Message-ID: <200209181159.52297.v.moreno@ico.scs.es>

I fit a lm model and look at the diagnostic plots. To see all 4 at once I 
split the plot area in a 2x2 matrix. If I want to add a line to the first 
plot, I can change with par(mfg=c(1,1)) , but the axes are wrong, and 
correspond to the last plot. Example:

x<-rnorm(100)
y<-2*x+rnorm(100)
m<-lm(y~x)
par(mfrow=c(2,2))
plot(m)
par(mfg=c(1,1))
abline(h=1,col=2)
abline(h=0.01,col=3)

This also happens with other plots like plot.cox.zhp of the survival library.

Any solution?

-- 
Victor Moreno	V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer 
Institut Catala d'Oncologia
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812    fax +34 93260 7787

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 18 12:33:47 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2002 12:33:47 +0200
Subject: [R] problem in deparse(substitute())
In-Reply-To: <005f01c25ef8$c141a3c0$5c13070a@it.giustizia.it>
References: <005f01c25ef8$c141a3c0$5c13070a@it.giustizia.it>
Message-ID: <x2znuf8u44.fsf@biostat.ku.dk>

"vito muggeo" <vito.muggeo at giustizia.it> writes:

> Hi all,
> I am experiencing the following quite strange (at least in my knowledge)
> problem in a simple function like the following:
> 
> fn<-function(y,v=2){
>     n<-length(y)
>     y<-y[(v+1):(n-v)]
>  plot(y,type="l",lty=3,xlab="Time",ylab=deparse(substitute(y)))
>     }
> 
> fn(rnorm(50)) #look at the plot!!!
> 
> The plot appears with numbers on the left side!
> If I delete the deparse(substitute()) in the ylab argument in the plot()
> function
> or I omit the line "y<-y[(v+1):(n-v)]" everything works well.
> 
> I can not test whether this problem depends on my R system (R 1.5.1 Win Me),
> but I have never had no problem before.
> 
> many thanks for your help,

That's because you changed y before the substitute(). Once you have changed
it, it has no connection with the formal argument and is just a vector
of numbers, which when deparsed gives a label like
"c(34.159,45.6789,....)". 

You need something like

yl<-deparse(substitute(y))
y<-y[(v+1):(n-v)]
plot(y,type="l",lty=3,xlab="Time",ylab=yl)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Sep 18 15:35:20 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 18 Sep 2002 13:35:20 +0000
Subject: [R] comparing elements in a vector
Message-ID: <15752.33048.726502.208007@hugo.paed.uni-muenchen.de>

Hi all,

there is a vector d which contains three different valus: 0, 1 or 2. I
wrote a loop which gives me T, when the values in d changed from 1 to
2 or from 2 to 1, otherwise F:

for(i in 1:(length(d)-1)) {
   if(d[i] != d[i+1] & d[i] != 0 & d[i+1] != 0)
      change[i+1] <- T	    
    else	  
      change[i+1] <- F
}

This works, but I'm wondering if there is already a R function or an
easier way to avoid the for-loop.

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Sep 18 13:48:25 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 18 Sep 2002 13:48:25 +0200
Subject: [R] problem in deparse(substitute())
Message-ID: <3.0.32.20020918134825.00929db0@162.38.183.200>

At 11:49 18/09/02 +0200, you wrote:
>Hi all,
>I am experiencing the following quite strange (at least in my knowledge)
>problem in a simple function like the following:
>
>fn<-function(y,v=2){
>    n<-length(y)
>    y<-y[(v+1):(n-v)]
> plot(y,type="l",lty=3,xlab="Time",ylab=deparse(substitute(y)))
>    }
>
>fn(rnorm(50)) #look at the plot!!!
>
>The plot appears with numbers on the left side!
>If I delete the deparse(substitute()) in the ylab argument in the plot()
>function
>or I omit the line "y<-y[(v+1):(n-v)]" everything works well.

It seems that assigning this expression to an object called "y" gives some
trouble since "y" is used as an argument to the function too. Changing your
function to:

fn<-function(y,v=2){
    n<-length(y)
yb<-y[(v+1):(n-v)]
plot(yb,type="l",lty=3,xlab="Time",ylab=deparse(substitute(y)))
    }

sounds to give what you expect. It might be worth checking the R language
manual.

--
EP

>I can not test whether this problem depends on my R system (R 1.5.1 Win Me),
>but I have never had no problem before.
>
>many thanks for your help,
>
>bests,
>vito
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 18 14:21:47 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2002 14:21:47 +0200
Subject: [R] comparing elements in a vector
In-Reply-To: <15752.33048.726502.208007@hugo.paed.uni-muenchen.de>
References: <15752.33048.726502.208007@hugo.paed.uni-muenchen.de>
Message-ID: <x2n0qf8p44.fsf@biostat.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi all,
> 
> there is a vector d which contains three different valus: 0, 1 or 2. I
> wrote a loop which gives me T, when the values in d changed from 1 to
> 2 or from 2 to 1, otherwise F:
> 
> for(i in 1:(length(d)-1)) {
>    if(d[i] != d[i+1] & d[i] != 0 & d[i+1] != 0)
>       change[i+1] <- T	    
>     else	  
>       change[i+1] <- F
> }
> 
> This works, but I'm wondering if there is already a R function or an
> easier way to avoid the for-loop.

& and friends vectorize, so

# testdata:
d <- rbinom(30,2,.5)

N <- length(d)
d1 <- d[-N]
d2 <- d[-1]
change <- (d1 != d2) & d1 & d2
# and, just to print and check:
data.frame(d,change=c(NA,change))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 18 14:31:27 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 18 Sep 2002 14:31:27 +0200
Subject: [R] problem in deparse(substitute())
References: <005f01c25ef8$c141a3c0$5c13070a@it.giustizia.it>
Message-ID: <3D88721F.622D2134@statistik.uni-dortmund.de>

vito muggeo wrote:
> 
> Hi all,
> I am experiencing the following quite strange (at least in my knowledge)
> problem in a simple function like the following:
> 
> fn<-function(y,v=2){
>     n<-length(y)
>     y<-y[(v+1):(n-v)]
>  plot(y,type="l",lty=3,xlab="Time",ylab=deparse(substitute(y)))
>     }
> 
> fn(rnorm(50)) #look at the plot!!!
> 
> The plot appears with numbers on the left side!
> If I delete the deparse(substitute()) in the ylab argument in the plot()
> function
> or I omit the line "y<-y[(v+1):(n-v)]" everything works well.
> 
> I can not test whether this problem depends on my R system (R 1.5.1 Win Me),
> but I have never had no problem before.
> 
> many thanks for your help,


Read ?substitute completely and you will see that the solution is:

  fn <- function(y, v=2){
      dep.sub.y <- deparse(substitute(y))
      n <- length(y)
      y <- y[(v + 1):(n - v)]
      plot(y, type = "l", lty = 3, xlab = "Time", ylab = dep.sub.y)
  }

Note how wonderful readable the code above is.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JDeke at mathematica-mpr.com  Wed Sep 18 14:37:23 2002
From: JDeke at mathematica-mpr.com (John Deke)
Date: Wed, 18 Sep 2002 08:37:23 -0400
Subject: [R] comparing elements in a vector
Message-ID: <897E2332A97AD311AEBB00508B116D540765BD2F@mpr1>

How about --

d is a vector as you described it, then define

d1 <- d[1:(length(d)-1)]
d2 <- d[2:length(d)]
d3 <- d1!=0 & d2!=0 & (d1-d2)!=0

I think d3 is the final vector you wanted.

I didn't test it, so I'm not sure my logic is right, but I think this is
definitely a path you can take...

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Sven Garbade
Sent: Wednesday, September 18, 2002 9:35 AM
To: r-help at stat.math.ethz.ch
Subject: [R] comparing elements in a vector


Hi all,

there is a vector d which contains three different valus: 0, 1 or 2. I
wrote a loop which gives me T, when the values in d changed from 1 to
2 or from 2 to 1, otherwise F:

for(i in 1:(length(d)-1)) {
   if(d[i] != d[i+1] & d[i] != 0 & d[i+1] != 0)
      change[i+1] <- T	    
    else	  
      change[i+1] <- F
}

This works, but I'm wondering if there is already a R function or an
easier way to avoid the for-loop.

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hchen at utmem.edu  Wed Sep 18 14:48:26 2002
From: hchen at utmem.edu (Hao Chen)
Date: Wed, 18 Sep 2002 07:48:26 -0500
Subject: [R] newbie question: p.values in a column
Message-ID: <3D88761A.7050500@utmem.edu>

Hello,

I have a vector (v) with 6 columns and 2000 rows. I am trying to do one 
sample t.test for each row (I know this sounds crazy) and put the 
p.values into the 7th column.

I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I 
can do t.test on the row by apply(v, 1, t.test), but I just couldn't 
figure out how to fit them together.

I'd very appreciate your help!!

Hao Chen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Sep 18 15:37:28 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Wed, 18 Sep 2002 09:37:28 -0400
Subject: [R] All permutations
Message-ID: <004301c25f18$8874b940$c0101eac@newmicronpc>

Hi:

 I would like to obtain all permutations of size n containing the k distinct
objects. For example, for size n=3 and k=2 objects (1 and 2), I want the
following 8x3 matrix:

 1 1 1
 1 1 2
 1 2 1
 2 1 1
 1 2 2
 2 2 1
 2 1 2
 2 2 2

 Is there any R function to accomplish this?

 Thanks for the help,
 Ravi.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Sep 18 15:25:32 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 18 Sep 2002 09:25:32 -0400
Subject: [R] comparing elements in a vector
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC69A@usrymx10.merck.com>

If you are only interested in the 2-1 and 1-2 sequence, then the product of
the successive elements must be 2 (i.e., 1*2 = 2*1 = 2).  So try this:

change <- d[-length(d)] * d[-1] == 2

Andy

> -----Original Message-----
> From: Sven Garbade [mailto:garbade at psy.uni-muenchen.de]
> Sent: Wednesday, September 18, 2002 9:35 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] comparing elements in a vector
> 
> 
> Hi all,
> 
> there is a vector d which contains three different valus: 0, 1 or 2. I
> wrote a loop which gives me T, when the values in d changed from 1 to
> 2 or from 2 to 1, otherwise F:
> 
> for(i in 1:(length(d)-1)) {
>    if(d[i] != d[i+1] & d[i] != 0 & d[i+1] != 0)
>       change[i+1] <- T	    
>     else	  
>       change[i+1] <- F
> }
> 
> This works, but I'm wondering if there is already a R function or an
> easier way to avoid the for-loop.
> 
> Thanks, Sven
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Sep 18 03:32:23 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 18 Sep 2002 13:32:23 +1200
Subject: [R] comparing elements in a vector
In-Reply-To: <15752.33048.726502.208007@hugo.paed.uni-muenchen.de>; from garbade@psy.uni-muenchen.de on Wed, Sep 18, 2002 at 01:35:20PM +0000
References: <15752.33048.726502.208007@hugo.paed.uni-muenchen.de>
Message-ID: <20020918133223.A7515@camille.indigoindustrial.co.nz>

On Wed, Sep 18, 2002 at 01:35:20PM +0000, Sven Garbade wrote:
> Hi all,
> 
> there is a vector d which contains three different valus: 0, 1 or 2. I
> wrote a loop which gives me T, when the values in d changed from 1 to
> 2 or from 2 to 1, otherwise F:
> 
> for(i in 1:(length(d)-1)) {
>    if(d[i] != d[i+1] & d[i] != 0 & d[i+1] != 0)
>       change[i+1] <- T	    
>     else	  
>       change[i+1] <- F
> }
> 
> This works, but I'm wondering if there is already a R function or an
> easier way to avoid the for-loop.

diff()

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Shipley at Usherbrooke.ca  Wed Sep 18 18:36:16 2002
From: Bill.Shipley at Usherbrooke.ca (Bill Shipley)
Date: Wed, 18 Sep 2002 09:36:16 -0700
Subject: [R] how to do nested MANOVA?
Message-ID: <5.1.1.6.0.20020918093055.00a7ff18@courrier.usherbrooke.ca>

Hello.  I have checked the archives and have not found an answer.  I am 
doing a MANOVA used data with a nested design.  Can anyone explain how to 
specify different error structures in the manova function?  For 
completeness, I have a design consisting of 4 blocks with 4 treatments per 
block (unreplicated within blocks).  Each treatment is applied to a parcel 
from which a series of soil cores are taken.  24 different variables are 
measured on each core.  I want to test for a block effect, a treatment 
effect and for differences between cores within each parcel.
Any help or leads are appreciated.

Bill Shipley
Departement de biologie
Universite de Sherbrooke
Sherbrooke (Quebec) CANADA J1K 2R9
Bill.Shipley at USherbrooke.ca
http://callisto.si.usherb.ca:8080/bshipley/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Wed Sep 18 15:54:58 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Wed, 18 Sep 2002 09:54:58 -0400
Subject: [R] memory allocation 
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BB44@s2-edm-r1.nrn.nrcan.gc.ca>

Dear all;

	I  experienced a memory allocation error while running gnls:

> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb
In addition: Warning message: 
Reached total allocation of 256Mb: see help(memory.size) 

	Increased memory limit to 512, 640 M, the allocation error
persisted:

> memory.limit(512)
NULL
> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb
> memory.limit(640)
NULL
> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb

	I have 1.3 GB memory. The windows task manager indicates that I used
666,956K out of 1,749,592K real and virtual memory. Using memory.limit()
does not seem to solve the memory allocation issue. Any suggestion to solve
the allocation problem? I'm using R 1.5.1 on W2K.

	TIK,

Richard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Wed Sep 18 16:10:21 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Wed, 18 Sep 2002 10:10:21 -0400
Subject: [R] newbie question: p.values in a column
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFDA@MSGBOS576NTS.fmr.com>

Why not specify a function in your apply statement?

v[,7] <- apply(v, 1, function(row) t.test(row)[3]$p.value)

Good luck.

Kevin

-----Original Message-----
From: Hao Chen [mailto:hchen at utmem.edu] 
Sent: Wednesday, September 18, 2002 8:48 AM
To: r-help at stat.math.ethz.ch
Subject: [R] newbie question: p.values in a column


Hello,

I have a vector (v) with 6 columns and 2000 rows. I am trying to do one 
sample t.test for each row (I know this sounds crazy) and put the 
p.values into the 7th column.

I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I 
can do t.test on the row by apply(v, 1, t.test), but I just couldn't 
figure out how to fit them together.

I'd very appreciate your help!!

Hao Chen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Sep 18 16:53:35 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 18 Sep 2002 16:53:35 +0200
Subject: [R] newbie question: p.values in a column
Message-ID: <3.0.32.20020918165333.00926dd0@162.38.183.200>

At 07:48 18/09/02 -0500, Hao Chen wrote:
>Hello,
>
>I have a vector (v) with 6 columns and 2000 rows. I am trying to do one 

So v is a matrix (not a vector).

>sample t.test for each row (I know this sounds crazy) and put the 
>p.values into the 7th column.
>
>I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I 

The index `[3]' is useless here. You can use either `[3]' or `$p.value',
but there is a difference between them:

> str(t.test(1:10)[3])
List of 1
 $ p.value: num 0.000278
> str(t.test(1:10)$p.value)
 num 0.000278

>can do t.test on the row by apply(v, 1, t.test), but I just couldn't 
>figure out how to fit them together.

I guess there are several solutions. Here is mine.

N <- nrow(v)
PVAL <- numeric(N)
for (i in 1:N) PVAL[i] <- t.test(v[i, ])$p.value
v <- cbind(v, PVAL)


Hoping this helps.

EP

>I'd very appreciate your help!!
>
>Hao Chen
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 18 18:02:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 18 Sep 2002 18:02:46 +0200
Subject: [R] newbie question: p.values in a column
References: <3D88761A.7050500@utmem.edu>
Message-ID: <3D88A3A6.A65748D5@statistik.uni-dortmund.de>

Hao Chen wrote:
> 
> Hello,
> 
> I have a vector (v) with 6 columns and 2000 rows. I am trying to do one
> sample t.test for each row (I know this sounds crazy) and put the
> p.values into the 7th column.
> 
> I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I
> can do t.test on the row by apply(v, 1, t.test), but I just couldn't
> figure out how to fit them together.
> 
> I'd very appreciate your help!!

Whether it makes sense or not to perform a t.test() of your 6 numbers
...

I guess v is a matrix. In that case:

 # calculate the t.test() and extract p-values for each row:
 tt <- apply(v, 1, function(x) t.test(x)$p.value) 
 # put the tt values in a new column:
 v <- cbind(v, tt) 

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Remington.Richard at epamail.epa.gov  Wed Sep 18 17:55:14 2002
From: Remington.Richard at epamail.epa.gov (Remington.Richard@epamail.epa.gov)
Date: Wed, 18 Sep 2002 08:55:14 -0700
Subject: [R] newbie question: p.values in a column
Message-ID: 
 <OF1941E7C7.5CBDCFCC-ON88256C38.0056FFC7-88256C38.005773FE@rtp.epa.gov>



Hao

Using some fake data, here's a crude way to get the job done for 2 rows

temp <- matrix( runif(2*6, -2, 2), nrow=2)
out <- apply( temp, 1, t.test)
temp <- data.frame( temp, p.value=unlist(out)[ names( unlist( out))
== "p.value"])
temp


Richard Remington


Hao Chen wrote
>
> Hello,
>
> I have a vector (v) with 6 columns and 2000 rows. I am trying to do
one
> sample t.test for each row (I know this sounds crazy) and put the
> p.values into the 7th column.
>
> I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I

> can do t.test on the row by apply(v, 1, t.test), but I just couldn't
> figure out how to fit them together.
>
> I'd very appreciate your help!!
>
> Hao Chen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Sep 18 18:44:14 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 18 Sep 2002 09:44:14 -0700 (PDT)
Subject: [R] newbie question: p.values in a column
In-Reply-To: <3D88761A.7050500@utmem.edu>
Message-ID: <Pine.GSO.4.10.10209180941550.23402-100000@quetelet.stat.ucla.edu>

I assume v is a matrix (not a vector)?  If so, try

new.v <- cbind(v, apply(v, 1, function(x) t.test(x)$p.value))

This should produce a 2000 x 7 matrix with the p-values in the 7th column.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 18 Sep 2002, Hao Chen wrote:

> Hello,
> 
> I have a vector (v) with 6 columns and 2000 rows. I am trying to do one 
> sample t.test for each row (I know this sounds crazy) and put the 
> p.values into the 7th column.
> 
> I know I can access the p.value via t.test(v[i,])[3]$p.value; I know I 
> can do t.test on the row by apply(v, 1, t.test), but I just couldn't 
> figure out how to fit them together.
> 
> I'd very appreciate your help!!
> 
> Hao Chen
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Sep 18 18:46:43 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 18 Sep 2002 12:46:43 -0400
Subject: [R] memory allocation
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC12E@uswpmx11.merck.com>

I don't have an R on Windows but I think the memory limits are specified in
bytes, not megabytes. That's the case for mem.limits at least, as well as
the --max-vsize option.

Reid Huntsinger

-----Original Message-----
From: Yang, Richard [mailto:dyang at nrcan.gc.ca]
Sent: Wednesday, September 18, 2002 9:55 AM
To: R-Help (E-mail)
Subject: [R] memory allocation


Dear all;

	I  experienced a memory allocation error while running gnls:

> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb
In addition: Warning message: 
Reached total allocation of 256Mb: see help(memory.size) 

	Increased memory limit to 512, 640 M, the allocation error
persisted:

> memory.limit(512)
NULL
> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb
> memory.limit(640)
NULL
> wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
Error: cannot allocate vector of size 37950 Kb

	I have 1.3 GB memory. The windows task manager indicates that I used
666,956K out of 1,749,592K real and virtual memory. Using memory.limit()
does not seem to solve the memory allocation issue. Any suggestion to solve
the allocation problem? I'm using R 1.5.1 on W2K.

	TIK,

Richard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Wed Sep 18 19:24:18 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Wed, 18 Sep 2002 19:24:18 +0200
Subject: [R] All permutations
References: <004301c25f18$8874b940$c0101eac@newmicronpc>
Message-ID: <3D88B6C2.359FD4F4@ci.tuwien.ac.at>

v <- 1:2
expand.grid(v,v,v)

g.,
-d

Ravi Varadhan wrote:
> 
> Hi:
> 
>  I would like to obtain all permutations of size n containing the k distinct
> objects. For example, for size n=3 and k=2 objects (1 and 2), I want the
> following 8x3 matrix:
> 
>  1 1 1
>  1 1 2
>  1 2 1
>  2 1 1
>  1 2 2
>  2 2 1
>  2 1 2
>  2 2 2
> 
>  Is there any R function to accomplish this?
> 
>  Thanks for the help,
>  Ravi.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Sep 18 20:03:21 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 18 Sep 2002 14:03:21 -0400
Subject: [R] Rgui.exe crashed with update.packages()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC6A5@usrymx10.merck.com>

Dear R-help,

(Tried this on R-1.5.1 for Windows, pre-compiled binary from CRAN, on NT4,
PIII w/256MB ram.)

I'm running into a strange problem.  If I do the following:

library(tcltk)
detach()
update.packages()

Rgui would crash.  If I start Rgui fresh and run update.packages(), it works
just fine.  Has anyone experienced this?  Any ideas?

Regards,
Andy



------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brian.J.GREGOR at odot.state.or.us  Wed Sep 18 21:30:06 2002
From: Brian.J.GREGOR at odot.state.or.us (Brian.J.GREGOR@odot.state.or.us)
Date: Wed, 18 Sep 2002 12:30:06 -0700
Subject: [R] Use of Apply to Change Values in Dataframe
Message-ID: <372EFF9FE4E42E419C978E7A305DC5FE014E5102@EXSALEM5.highway.odot.state.or.us>

I have a question about how apply() works for changing data values.  I am
using it to change NA values to zero, but the question applies to other
value changing operations as well.  If I have a dataframe "Dat" with columns
"a", "b" and "c" and there are some NA values in every column:

If I do:
Dat$a[is.na(Dat$a)] <- 0
then all the NA values are changed to 0 in the vector.

But if I do:
Dat2 <- apply(Dat, 2, function(x) x[is.na(x)] <- 0)
then I get a vector of three zeros (one for each column), not the dataframe
with NAs replaced by zeros.

However, if I define a function:
change.na <- function(x){
x[is.na(x)] <- 0
x
}
and then do:
Dat2 <- apply(Dat, 2, change.na)
I get the result I want.

Why is this?

Brian Gregor, P.E.
Transportation Planning Analysis Unit
Oregon Department of Transportation
Brian.J.GREGOR at odot.state.or.us
(503) 986-4120
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From charles.rosa at gm.com  Wed Sep 18 22:18:10 2002
From: charles.rosa at gm.com (charles.rosa@gm.com)
Date: Wed, 18 Sep 2002 16:18:10 -0400
Subject: [R] Calling Java functions from R???
Message-ID: <OF576CE025.F31C7430-ON85256C38.006F750A@mail.gm.com>

To whom it may concern,
Does anyone know if there are plans to add functionality
to R that allows Java functions/methods to be called?

Thanks, Charlie
email: charles.h.rosa at gm.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rlee at fpcc.net  Wed Sep 18 23:38:20 2002
From: rlee at fpcc.net (Rob Lee)
Date: Wed, 18 Sep 2002 15:38:20 -0600 (MDT)
Subject: [R] attach()ing User-Defined Classes with Complex Structures
Message-ID: <Pine.LNX.4.33.0209181445120.5658-100000@aberdeen.fpcc.net>


How would you implement attach()ing to a user-defined class with multiple 
slots in R? 

A primary goal of my software is to hide the data representation from the 
user, 
allowing them to attach() to my program's complex classes and refer to 
their contents by name - THEREBY avoiding having to pass the classes to 
every function call.

Also, is it true that attaching to a to a sub-classed list only get()s you 
access to it's ".Data" slot and nothing else?

-R


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Sep 18 11:53:12 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 18 Sep 2002 21:53:12 +1200
Subject: [R] Use of Apply to Change Values in Dataframe
In-Reply-To: <372EFF9FE4E42E419C978E7A305DC5FE014E5102@EXSALEM5.highway.odot.state.or.us>; from Brian.J.GREGOR@odot.state.or.us on Wed, Sep 18, 2002 at 12:30:06PM -0700
References: <372EFF9FE4E42E419C978E7A305DC5FE014E5102@EXSALEM5.highway.odot.state.or.us>
Message-ID: <20020918215312.B7831@camille.indigoindustrial.co.nz>

On Wed, Sep 18, 2002 at 12:30:06PM -0700, Brian.J.GREGOR at odot.state.or.us wrote:
> I have a question about how apply() works for changing data values.  I am
> using it to change NA values to zero, but the question applies to other
> value changing operations as well.  If I have a dataframe "Dat" with columns
> "a", "b" and "c" and there are some NA values in every column:
> 
> If I do:
> Dat$a[is.na(Dat$a)] <- 0
> then all the NA values are changed to 0 in the vector.
> 
> But if I do:
> Dat2 <- apply(Dat, 2, function(x) x[is.na(x)] <- 0)
> then I get a vector of three zeros (one for each column), not the dataframe
> with NAs replaced by zeros.
> 
> However, if I define a function:
> change.na <- function(x){
> x[is.na(x)] <- 0
> x
> }
> and then do:
> Dat2 <- apply(Dat, 2, change.na)
> I get the result I want.
> 
> Why is this?

Because 0 is the last item evaluated in x[is.na(x)] <- 0.  In 
other words, the following give equivalent results:

function(x) {
	x[is.na(x)] <- 0
}

and

function(x) {
	x[is.na(x)] <- 0
	return(0)
}

Similar to your solution above, this also works:

apply(Dat,2,function(x){x[is.na(x)] <- 0 ; x})

since we've told the function we want the x, not the 0.

One day, I'm gonna buy a computer that does what I 
expect it to, not what I asked it to....   ;)


Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Sep 18 23:57:49 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 18 Sep 2002 14:57:49 -0700 (PDT)
Subject: [R] Use of Apply to Change Values in Dataframe
In-Reply-To: <372EFF9FE4E42E419C978E7A305DC5FE014E5102@EXSALEM5.highway.odot.state.or.us>
Message-ID: <Pine.GSO.4.10.10209181453400.10744-100000@quetelet.stat.ucla.edu>

In your second example, the function only returns the subset of 'x' that
was NA.  I think what you wanted was:

Dat2 <- apply(Dat, 2, function(x) { x[is.na(x)] <- 0; x })

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 18 Sep 2002, Brian.J.GREGOR at odot.state.or.us wrote:

> I have a question about how apply() works for changing data values.  I am
> using it to change NA values to zero, but the question applies to other
> value changing operations as well.  If I have a dataframe "Dat" with columns
> "a", "b" and "c" and there are some NA values in every column:
> 
> If I do:
> Dat$a[is.na(Dat$a)] <- 0
> then all the NA values are changed to 0 in the vector.
> 
> But if I do:
> Dat2 <- apply(Dat, 2, function(x) x[is.na(x)] <- 0)
> then I get a vector of three zeros (one for each column), not the dataframe
> with NAs replaced by zeros.
> 
> However, if I define a function:
> change.na <- function(x){
> x[is.na(x)] <- 0
> x
> }
> and then do:
> Dat2 <- apply(Dat, 2, change.na)
> I get the result I want.
> 
> Why is this?
> 
> Brian Gregor, P.E.
> Transportation Planning Analysis Unit
> Oregon Department of Transportation
> Brian.J.GREGOR at odot.state.or.us
> (503) 986-4120
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwills at ucsd.edu  Thu Sep 19 00:14:57 2002
From: cwills at ucsd.edu (Dr. Chris Wills)
Date: Wed, 18 Sep 2002 15:14:57 -0700
Subject: [R] Help on sorting
Message-ID: <p05111a1db9aeab40aef1@[132.239.144.132]>

To: r-help-request at lists.R-project.org
From: "Dr. Chris Wills" <cwills at ucsd.edu>
Subject: Questions about sorting and functions
Cc:
Bcc:
X-Attachments:
Dear Gang -
	Two questions for you:
	1)  I cannot figure out how to sort one column in an array, 
and drag the rest of the values that occupy the other columns along 
with the sorted values in the first column.  What I would like to end 
up with is an array that is the same size and dimensions as the first 
array.  When I try various configurations of sort, I keep getting 
vectors instead of the array I started with, and I have not found a 
way to make sort "bind" other values to the sorted values.
	2)  I used a PC version of R over the summer, and was able to 
use rowSum, colSum and similar functions.  These (and other things) 
do not seem to be enabled on the Mac OS9 version.  Are they enabled 
on the OS10 version?  If not, how can I enable them?  And how do I 
download the OS10 version?  My computer does not recognize the .gz 
files on the website http://cran.r-project.org/bin/macosx/atlas/.
	Many thanks,
	Chris Wills
-- 
Christopher Wills
Professor of Biology
Division of Biological Sciences
University of California, San Diego
La Jolla CA 92093

Phone 858-534-4113
Fax 858-534-7108
e-mail cwills at ucsd.edu
-- 
Christopher Wills
Professor of Biology
Division of Biological Sciences
University of California, San Diego
La Jolla CA 92093

Phone 858-534-4113
Fax 858-534-7108
e-mail cwills at ucsd.edu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020918/83cfa8f2/attachment.html

From rossini at blindglobe.net  Thu Sep 19 00:37:45 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 18 Sep 2002 15:37:45 -0700
Subject: [R] Calling Java functions from R???
In-Reply-To: <OF576CE025.F31C7430-ON85256C38.006F750A@mail.gm.com>
References: <OF576CE025.F31C7430-ON85256C38.006F750A@mail.gm.com>
Message-ID: <877khiapqe.fsf@jeeves.blindglobe.net>

>>>>> "charles" == charles rosa <charles.rosa at gm.com> writes:

    charles> To whom it may concern,
    charles> Does anyone know if there are plans to add functionality
    charles> to R that allows Java functions/methods to be called?

See the SJava package at www.omegahat.org.

For an example, look at the rorca interface to the orca statistical
dynamic visualization toolkit.

Links can be found at http://software.biostat.washington.edu/orca/

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Thu Sep 19 01:46:41 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Thu, 19 Sep 2002 09:46:41 +1000
Subject: [R] Help on sorting
In-Reply-To: <p05111a1db9aeab40aef1@[132.239.144.132]>
Message-ID: <5.0.0.25.1.20020919094222.03a894e0@pop.jcu.edu.au>

At 15:14 18/09/02 -0700, you wrote:
>To: r-help-request at lists.R-project.org
>
>From: "Dr. Chris Wills" <cwills at ucsd.edu>
>
>Subject: Questions about sorting and functions
>Cc:
>
>Bcc:
>
>X-Attachments:
>Dear Gang -
>         Two questions for you:
>         1)  I cannot figure out how to sort one column in an array, and 
> drag the rest of the values that occupy the other columns along with the 
> sorted values in the first column.  What I would like to end up with is 
> an array that is the same size and dimensions as the first array.  When I 
> try various configurations of sort, I keep getting vectors instead of the 
> array I started with, and I have not found a way to make sort "bind" 
> other values to the sorted values.

does
B<-A[,c(order(A[,2]))]
do what you want?

A <- rnorm(30)
dim(A) <- c(5,6)
A
            [,1]        [,2]       [,3]       [,4]        [,5]       [,6]
[1,] -0.1916292 -2.10928866 -0.6838013  0.9762713 -0.14361845  0.8096648
[2,] -1.5046755  0.45943149 -0.6618188 -0.6555499 -0.51070702  0.9314748
[3,]  0.4615919  2.65414221  0.2993706  0.7574201  0.13423111  0.9506057
[4,] -0.2145235  0.07009774  0.4364953  0.8839637  0.08211918 -0.1553977
[5,]  0.2170495  1.59428139 -0.5239767  0.3468852  0.31420369 -0.8838015

B <- A[c(order(A[,2])),]
B
            [,1]        [,2]       [,3]       [,4]        [,5]       [,6]
[1,] -0.1916292 -2.10928866 -0.6838013  0.9762713 -0.14361845  0.8096648
[2,] -0.2145235  0.07009774  0.4364953  0.8839637  0.08211918 -0.1553977
[3,] -1.5046755  0.45943149 -0.6618188 -0.6555499 -0.51070702  0.9314748
[4,]  0.2170495  1.59428139 -0.5239767  0.3468852  0.31420369 -0.8838015
[5,]  0.4615919  2.65414221  0.2993706  0.7574201  0.13423111  0.9506057


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Thu Sep 19 06:27:59 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Thu, 19 Sep 2002 14:27:59 +1000
Subject: [R] Help on sorting apologies
In-Reply-To: <5.0.0.25.1.20020919094222.03a894e0@pop.jcu.edu.au>
References: <p05111a1db9aeab40aef1@[132.239.144.132]>
Message-ID: <5.0.0.25.1.20020919142542.03097410@pop.jcu.edu.au>

At 09:46 19/09/02 +1000, you wrote:
>At 15:14 18/09/02 -0700, you wrote:
>>To: r-help-request at lists.R-project.org
>>
>>From: "Dr. Chris Wills" <cwills at ucsd.edu>
>>
>>Subject: Questions about sorting and functions
>>Cc:
>>
>>Bcc:
>>
>>X-Attachments:
>>Dear Gang -
>>         Two questions for you:
>>         1)  I cannot figure out how to sort one column in an array, and 
>> drag the rest of the values that occupy the other columns along with the 
>> sorted values in the first column.  What I would like to end up with is 
>> an array that is the same size and dimensions as the first array.  When 
>> I try various configurations of sort, I keep getting vectors instead of 
>> the array I started with, and I have not found a way to make sort "bind" 
>> other values to the sorted values.
>
>does
>B<-A[,c(order(A[,2]))]

B<-A[,c(order(A[,2]))] ERROR should have been B <- A[c(order(A[,2])),] as 
it was in the example (2 can be any column index)


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Sep 19 09:38:46 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Thu, 19 Sep 2002 19:38:46 +1200 (NZST)
Subject: [R] Rounding
Message-ID: <Pine.SOL.4.21.0209191935500.12533-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have:
  459
  1789
  23590
and I'd like to round them to:
  400
  1700
  24000

On the other hand, say if I have:
  232
  1234
  23120
that need to be rounded to:
  300
  1300
  24000

I tried the round(), floor() or ceiling() and can't get what I want.  Is
there any tricks I can use to achieve this goal?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 19 10:18:54 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 19 Sep 2002 10:18:54 +0200
Subject: [R] memory allocation
References: <2C23DE2983BE034CB1CB90DB6B813FD6028AC12E@uswpmx11.merck.com>
Message-ID: <3D89886E.C147A325@statistik.uni-dortmund.de>

"Huntsinger, Reid" wrote:
> 
> I don't have an R on Windows but I think the memory limits are specified in
> bytes, not megabytes. 

Not completely. In the call, you have to *specify* it in MegaBytes, it
*reports* in Bytes!


> That's the case for mem.limits at least, as well as
> the --max-vsize option.

--max-vsize is to limit the memory usage, there is no upper vsize limit
as a default.
Only the whole memory usage is limited, as mentioned in the docs. This
limit can be raised by 
starting R using the command line option --max.mem.size on windows, as
well mentioned in the docs, particularly the R for Windows FAQs.
 
Uwe Ligges


> Reid Huntsinger
> 
> -----Original Message-----
> From: Yang, Richard [mailto:dyang at nrcan.gc.ca]
> Sent: Wednesday, September 18, 2002 9:55 AM
> To: R-Help (E-mail)
> Subject: [R] memory allocation
> 
> Dear all;
> 
>         I  experienced a memory allocation error while running gnls:
> 
> > wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
> Error: cannot allocate vector of size 37950 Kb
> In addition: Warning message:
> Reached total allocation of 256Mb: see help(memory.size)
> 
>         Increased memory limit to 512, 640 M, the allocation error
> persisted:
> 
> > memory.limit(512)
> NULL
> > wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
> Error: cannot allocate vector of size 37950 Kb
> > memory.limit(640)
> NULL
> > wBlplfe.wc <- update(wBlplfe.w, corr=corAR1())
> Error: cannot allocate vector of size 37950 Kb
> 
>         I have 1.3 GB memory. The windows task manager indicates that I used
> 666,956K out of 1,749,592K real and virtual memory. Using memory.limit()
> does not seem to solve the memory allocation issue. Any suggestion to solve
> the allocation problem? I'm using R 1.5.1 on W2K.
> 
>         TIK,
> 
> Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 19 10:25:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2002 10:25:45 +0200
Subject: [R] Rounding
In-Reply-To: <Pine.SOL.4.21.0209191935500.12533-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0209191935500.12533-100000@stat1.stat.auckland.ac.nz>
Message-ID: <x2r8fqqtbq.fsf@biostat.ku.dk>

Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> writes:

> Hi,
> 
> Suppose I have:
>   459
>   1789
>   23590
> and I'd like to round them to:
>   400
>   1700
>   24000
> 
> On the other hand, say if I have:
>   232
>   1234
>   23120
> that need to be rounded to:
>   300
>   1300
>   24000
> 
> I tried the round(), floor() or ceiling() and can't get what I want.  Is
> there any tricks I can use to achieve this goal?

Not beyond brute force...

 myroundup <- function(x,d){e<-10^(floor(log10(x)-d));ceiling(x/e)*e}
 myroundup(c(232,1234,23120),1)

Notice that there are some obnoxious cases for exact powers of 10 that
you might want to fudge with, e.g.

> myroundup(10^25,1)
[1] 1.1e+25

but that seems to be the first positive power of 10 that gets in
trouble. For negative powers it's already at

> myroundup(1e-5,1)
[1] 1.1e-05


This suggests that you might want something like

myroundup <- function(x,d){e<-10^(floor(log10(x)-d));ceiling(x/e-1e-15)*e}

but you should maybe also watch out for the anomalies in

> floor(log10(10^(0:20)))
 [1]  0  1  2  2  4  5  5  7  8  8 10 11 11 12 14 14 16 17 17 19 20

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zlamal at ufi.fme.vutbr.cz  Thu Sep 19 10:36:51 2002
From: zlamal at ufi.fme.vutbr.cz (zlamal@ufi.fme.vutbr.cz)
Date: Thu, 19 Sep 2002 10:36:51 +0200
Subject: [R] Use of font with accents in graphs
Message-ID: <3D89A8C3.26380.5986510@localhost>

Hi,
   I was searching archives, manuals and web to solve usage of fonts 
with accents in R, but I was not succesfull.

  Had anybody solve problem with usage of fonts with accents 
(czech)?

Thanks for advice,
	
	Jakub Zlamal
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Sep 19 11:22:14 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Thu, 19 Sep 2002 21:22:14 +1200 (NZST)
Subject: [R] Rounding
In-Reply-To: <x2r8fqqtbq.fsf@biostat.ku.dk>
Message-ID: <Pine.SOL.4.21.0209192118030.21941-100000@stat1.stat.auckland.ac.nz>

Hi,

Thanks for the quick solution.  

However I'm just wondering what happens if I'd like to generalise it.  For
example I can do:
  x <- 459
  floor(x / 100) * 100
or
  ceiling(x / 100) * 100  

Now my questions is: how do I work out the number of digits x has?  For
example in this case I have 3 digits for x (4, 5, and 9), hence I can
divide it by 100 first, floor() or ceiling() the result, then times 100.  

If I have n digits for x, this means I want to divide by (n - 1).  

But I'm not sure how to find n :-(

On 19 Sep 2002, Peter Dalgaard BSA wrote:

> Date: 19 Sep 2002 10:25:45 +0200
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Rounding
> 
> Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> writes:
> 
> > Hi,
> > 
> > Suppose I have:
> >   459
> >   1789
> >   23590
> > and I'd like to round them to:
> >   400
> >   1700
> >   24000
> > 
> > On the other hand, say if I have:
> >   232
> >   1234
> >   23120
> > that need to be rounded to:
> >   300
> >   1300
> >   24000
> > 
> > I tried the round(), floor() or ceiling() and can't get what I want.  Is
> > there any tricks I can use to achieve this goal?
> 
> Not beyond brute force...
> 
>  myroundup <- function(x,d){e<-10^(floor(log10(x)-d));ceiling(x/e)*e}
>  myroundup(c(232,1234,23120),1)
> 
> Notice that there are some obnoxious cases for exact powers of 10 that
> you might want to fudge with, e.g.
> 
> > myroundup(10^25,1)
> [1] 1.1e+25
> 
> but that seems to be the first positive power of 10 that gets in
> trouble. For negative powers it's already at
> 
> > myroundup(1e-5,1)
> [1] 1.1e-05
> 
> 
> This suggests that you might want something like
> 
> myroundup <- function(x,d){e<-10^(floor(log10(x)-d));ceiling(x/e-1e-15)*e}
> 
> but you should maybe also watch out for the anomalies in
> 
> > floor(log10(10^(0:20)))
>  [1]  0  1  2  2  4  5  5  7  8  8 10 11 11 12 14 14 16 17 17 19 20
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Sep 19 11:31:35 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 19 Sep 2002 11:31:35 +0200
Subject: [R] Use of font with accents in graphs
Message-ID: <3.0.32.20020919113134.00932100@162.38.183.200>

At 10:36 19/09/02 +0200, you wrote:
>Hi,
>   I was searching archives, manuals and web to solve usage of fonts 
>with accents in R, but I was not succesfull.

http://www.R-project.org/nocvs/mail/r-help/2000/3474.html

>  Had anybody solve problem with usage of fonts with accents 
>(czech)?

You may have a look at the help of the postscript() function: this function
has an 'encoding' option, and the help page has a section on encodings.

Hope this helps.

--
EP

>Thanks for advice,
>	
>	Jakub Zlamal
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Sep 19 11:46:28 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 19 Sep 2002 11:46:28 +0200
Subject: [R] how to use if statement in function correctly
Message-ID: <3D89B914.25991.D37486@localhost>

Dear all

I try to persuade if statement in my function to work as I want (but I am not very 
successful:(

My question is why my function with if statement is evaluated correctly in case of 
atomic variables and incorrectly in case of vector variables.

Here is an example:

#function with if statement

fff <- function(otac,sklon)  
{
test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
if(test<65)
{otac/sklon * 141.76}
else
{otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon}
}

> fff(20,70)
[1] 40.50286
# correct

> fff(50,70)
[1] 80.42371
#correct

> fff(seq(20,50,5),70)
[1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
#wrong
-----------------------------------------------------------------------------------------------
It does not work because if statement is obviously evaluated as TRUE in all 
instances and computes wrongly some items in vector according to the first part 
of the fff function

# see direct computation
> seq(20,50,5)/70*141.76
[1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714

> seq(20,50,5) * 3.69683+286.6*(1/70)-0.03100345*seq(20,50,5)*70
[1] 34.62606 42.25900 49.89194 57.52488 65.15783 72.79077 80.42371

On the other hand ifelse works
******************************
fff <- function(otac,sklon)  
{
test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
ifelse(test<65, (otac/sklon * 141.76),  (otac * 3.69683+286.6*(1/sklon)-
0.03100345*otac*sklon))
}

> fff(seq(20,50,5),70)
[1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371
#correct

Can anybody help?

Thank you in advance
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From w.huber at dkfz-heidelberg.de  Thu Sep 19 12:53:06 2002
From: w.huber at dkfz-heidelberg.de (Wolfgang Huber)
Date: Thu, 19 Sep 2002 12:53:06 +0200
Subject: [R] Pixmap package for Windows
Message-ID: <AGEOLPCFGCEABFJOOAAMEEJBCAAA.w.huber@dkfz-heidelberg.de>

Hi,
I tried to install the "pixmap" package on R 1.5.1. running on Windows 2000,
but all I get are the following errors - could it be that something is wrong
with the build of this particular package? Installation of other packages (I
just tried with "pinktoe") seems to work fine.

---------------------------------------------------------------
### When trying to "Install Package from CRAN"
> {a <- CRAN.packages()
+ install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)}
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 7505 bytes
opened URL
downloaded 7505 bytes

trying URL `http://cran.r-project.org/bin/windows/contrib/pixmap.zip'
Content type `application/zip' length 62184 bytes
opened URL
downloaded 60Kb

Delete downloaded files (y/N)? N
The packages are in C:\DOKUME~1\whuber\LOCALS~1\Temp\Rinstdir19169
updating HTML package descriptions
Warning message:
error -1 in extracting from zip file


### When trying to "Install Package from local zip file"
### (which I downloaded today from CRAN)
> install.packages("D:/temp/pixmap.zip", .libPaths()[1], CRAN = NULL)
updating HTML package descriptions
Warning message:
error -1 in extracting from zip file

------------------------------------------------------------

Dr. Wolfgang Huber
http://www.dkfz.de/abt0840/whuber
Tel +49-6221-424709
Fax +49-6221-42524709
DKFZ
Division of Molecular Genome Analysis
69120 Heidelberg
Germany

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Thu Sep 19 12:55:17 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 19 Sep 2002 12:55:17 +0200
Subject: [R] tools-Sweave reference?
Message-ID: <200209191055.g8JAtFX01430@mailgate5.cinetic.de>

Hi ,
now using the Report-Series No.69
"Sweave: Dynamic Generation of Statistical
Reports Using Literate Data analysis"
i ask me exist anyway a reference list of the
special sweave commands ?

...in which folder i have to put
the fancyhbr.sty in my texmf\tex\latex???

thanks & regards,
Christian 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Sep 19 13:08:05 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2002 07:08:05 -0400
Subject: [R] how to use if statement in function correctly
In-Reply-To: <3D89B914.25991.D37486@localhost>
Message-ID: <5.1.0.14.2.20020919070336.01da1140@mcmail.cis.mcmaster.ca>

Dear Petr,

The test in if isn't vectorized: When the condition is a vector, the first 
element controls the result. That's why ifelse exists -- to provide a 
vectorized conditional.

John

At 11:46 AM 9/19/2002 +0200, Petr Pikal wrote:
>Dear all
>
>I try to persuade if statement in my function to work as I want (but I am 
>not very
>successful:(
>
>My question is why my function with if statement is evaluated correctly in 
>case of
>atomic variables and incorrectly in case of vector variables.
>
>Here is an example:
>
>#function with if statement
>
>fff <- function(otac,sklon)
>{
>test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
>if(test<65)
>{otac/sklon * 141.76}
>else
>{otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon}
>}
>
> > fff(20,70)
>[1] 40.50286
># correct
>
> > fff(50,70)
>[1] 80.42371
>#correct
>
> > fff(seq(20,50,5),70)
>[1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
>#wrong
>-----------------------------------------------------------------------------------------------
>It does not work because if statement is obviously evaluated as TRUE in all
>instances and computes wrongly some items in vector according to the first 
>part
>of the fff function
>
># see direct computation
> > seq(20,50,5)/70*141.76
>[1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
>
> > seq(20,50,5) * 3.69683+286.6*(1/70)-0.03100345*seq(20,50,5)*70
>[1] 34.62606 42.25900 49.89194 57.52488 65.15783 72.79077 80.42371
>
>On the other hand ifelse works
>******************************
>fff <- function(otac,sklon)
>{
>test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
>ifelse(test<65, (otac/sklon * 141.76),  (otac * 3.69683+286.6*(1/sklon)-
>0.03100345*otac*sklon))
>}
>
> > fff(seq(20,50,5),70)
>[1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371
>#correct
>
>Can anybody help?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Sep 19 13:38:06 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 19 Sep 2002 13:38:06 +0200
Subject: [R] Rounding
In-Reply-To: <Pine.SOL.4.21.0209192118030.21941-100000@stat1.stat.auckland.ac.nz>
References: <x2r8fqqtbq.fsf@biostat.ku.dk>
Message-ID: <3D89D33E.26280.139ABF5@localhost>



On 19 Sep 2002 at 21:22, Ko-Kang Kevin Wang wrote:

> Hi,
> 
> Thanks for the quick solution.  
> 
> However I'm just wondering what happens if I'd like to generalise it. 
> For example I can do:
>   x <- 459
>   floor(x / 100) * 100
> or
>   ceiling(x / 100) * 100  
> 
> Now my questions is: how do I work out the number of digits x has? 
> For example in this case I have 3 digits for x (4, 5, and 9), hence I
> can divide it by 100 first, floor() or ceiling() the result, then
> times 100.  
> 
> If I have n digits for x, this means I want to divide by (n - 1).  
> 
> But I'm not sure how to find n :-(

for instance

nchar(as.character(x))

>x<-456
> length(as.character(x))
[1] 1
> nchar(as.character(x))
[1] 3

Best regardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Sep 19 14:19:22 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 19 Sep 2002 08:19:22 -0400
Subject: [R] how to use if statement in function correctly
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC6AD@usrymx10.merck.com>

You need the vectorized version of if() ... else..., which is ifelse().
Try:

fff <- function(otac,sklon)  
{
  test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
  ifelse(test<65, otac/sklon * 141.76,
         otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
}

which gives:
> fff(seq(20,50,5),70)
[1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371

Andy

> From: Petr Pikal [mailto:petr.pikal at precheza.cz]
> 
> Dear all
> 
> I try to persuade if statement in my function to work as I 
> want (but I am not very 
> successful:(
> 
> My question is why my function with if statement is evaluated 
> correctly in case of 
> atomic variables and incorrectly in case of vector variables.
> 
> Here is an example:
> 
> #function with if statement
> 
> fff <- function(otac,sklon)  
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> if(test<65)
> {otac/sklon * 141.76}
> else
> {otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon}
> }
> 
> > fff(20,70)
> [1] 40.50286
> # correct
> 
> > fff(50,70)
> [1] 80.42371
> #correct
> 
> > fff(seq(20,50,5),70)
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  
> 91.13143 101.25714
> #wrong
> --------------------------------------------------------------
> ---------------------------------
> It does not work because if statement is obviously evaluated 
> as TRUE in all 
> instances and computes wrongly some items in vector according 
> to the first part 
> of the fff function
> 
> # see direct computation
> > seq(20,50,5)/70*141.76
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  
> 91.13143 101.25714
> 
> > seq(20,50,5) * 3.69683+286.6*(1/70)-0.03100345*seq(20,50,5)*70
> [1] 34.62606 42.25900 49.89194 57.52488 65.15783 72.79077 80.42371
> 
> On the other hand ifelse works
> ******************************
> fff <- function(otac,sklon)  
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> ifelse(test<65, (otac/sklon * 141.76),  (otac * 
> 3.69683+286.6*(1/sklon)-
> 0.03100345*otac*sklon))
> }
> 
> > fff(seq(20,50,5),70)
> [1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371
> #correct
> 
> Can anybody help?
> 
> Thank you in advance
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 19 14:38:57 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 19 Sep 2002 14:38:57 +0200
Subject: [R] how to use if statement in function correctly
References: <3D89B914.25991.D37486@localhost>
Message-ID: <3D89C561.D25BA4A8@statistik.uni-dortmund.de>



Petr Pikal wrote:
> 
> Dear all
> 
> I try to persuade if statement in my function to work as I want (but I am not very
> successful:(
> 
> My question is why my function with if statement is evaluated correctly in case of
> atomic variables and incorrectly in case of vector variables.
> 
> Here is an example:
> 
> #function with if statement
> 
> fff <- function(otac,sklon)
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> if(test<65)
> {otac/sklon * 141.76}
> else
> {otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon}
> }
> 
> > fff(20,70)
> [1] 40.50286
> # correct
> 
> > fff(50,70)
> [1] 80.42371
> #correct
> 
> > fff(seq(20,50,5),70)
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
> #wrong
> -----------------------------------------------------------------------------------------------
> It does not work because if statement is obviously evaluated as TRUE in all
> instances and computes wrongly some items in vector according to the first part
> of the fff function
> 
> # see direct computation
> > seq(20,50,5)/70*141.76
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
> 
> > seq(20,50,5) * 3.69683+286.6*(1/70)-0.03100345*seq(20,50,5)*70
> [1] 34.62606 42.25900 49.89194 57.52488 65.15783 72.79077 80.42371
> 
> On the other hand ifelse works
> ******************************
> fff <- function(otac,sklon)
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> ifelse(test<65, (otac/sklon * 141.76),  (otac * 3.69683+286.6*(1/sklon)-
> 0.03100345*otac*sklon))
> }
> 
> > fff(seq(20,50,5),70)
> [1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371
> #correct
> 
> Can anybody help?

For the if(){} else{} behaviour see the manual "R Language Definition",
section 3.2.1:

if(stat1){stat2} else{stat3} is expected to use only  eval(stat1)[1]  to
decide whether  stat2  or  stat3  should be evaluated next, while
ifelse() is expected to work vectorized.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Sep 19 14:57:08 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 19 Sep 2002 14:57:08 +0200
Subject: [R] SUMMARY how to use if statement in function correctly
In-Reply-To: <3D89C561.D25BA4A8@statistik.uni-dortmund.de>
Message-ID: <3D89E5C4.1520.1820456@localhost>

Thanks to all for prompt responses (all of them same or similar). 

The difference is between vectorised 
ifelse() form
and non vectorised
if() form of statement.

Therefore the problem was on my improper usage if instead of 
ifelse.

Thanks again
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lefebvre at cephb.fr  Thu Sep 19 15:00:23 2002
From: lefebvre at cephb.fr (Celine Lefebvre)
Date: Thu, 19 Sep 2002 15:00:23 +0200
Subject: [R] problem with CAIV
Message-ID: <3D89CA67.50FE02BF@cephb.fr>

I am trying to use the function CAIV from the package CoCoAn
I have a matrix with dimension 43x67 with positive values >=0
When I use CAIV,  I get the error:
"Error : column total=0"
Does someone know why?
Thanks
Celine


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Thu Sep 19 15:41:56 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Thu, 19 Sep 2002 10:41:56 -0300
Subject: [R] Rounding
In-Reply-To: <Pine.SOL.4.21.0209192118030.21941-100000@stat1.stat.auckla
 nd.ac.nz>
References: <x2r8fqqtbq.fsf@biostat.ku.dk>
Message-ID: <4.2.2.20020919102801.00aa8ce0@pop3.norton.antivirus>

You could find the number of digits by doing a while loop:

ndigits <- function(x)
{
         n <- 0;
         rounding <- 1;
         while (rounding > 0)
         {
             rounding <- floor(abs(x)/10^n) * 10^n;
             n <- n + 1;
         }
         return(n-1)
}


Daniel Mastropietro

At 09:22 PM 19/9/2002 +1200, Ko-Kang Kevin Wang wrote:
>Hi,
>
>Thanks for the quick solution.
>
>However I'm just wondering what happens if I'd like to generalise it.  For
>example I can do:
>   x <- 459
>   floor(x / 100) * 100
>or
>   ceiling(x / 100) * 100
>
>Now my questions is: how do I work out the number of digits x has?  For
>example in this case I have 3 digits for x (4, 5, and 9), hence I can
>divide it by 100 first, floor() or ceiling() the result, then times 100.
>
>If I have n digits for x, this means I want to divide by (n - 1).
>
>But I'm not sure how to find n :-(

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 19 15:52:34 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 19 Sep 2002 09:52:34 -0400
Subject: [R] how to use if statement in function correctly
References: <3D89B914.25991.D37486@localhost>
Message-ID: <3D89D6A2.AEDB2185@umsanet.edu.bo>

if is not vectorized, it is for control flow in functions. Called with a
vector of truth values , it only chooses  "if" part or "else" part
according to first value in vectos:

> x <- -1:1
> x
[1] -1  0  1
> if (x < 0) "A" else "B"
[1] "A"


For vectorized computations, you need ifelse, as you have found out.

I be,.leave all this is in the help pages.

Kjetil Halvorsen


Petr Pikal wrote:
> 
> Dear all
> 
> I try to persuade if statement in my function to work as I want (but I am not very
> successful:(
> 
> My question is why my function with if statement is evaluated correctly in case of
> atomic variables and incorrectly in case of vector variables.
> 
> Here is an example:
> 
> #function with if statement
> 
> fff <- function(otac,sklon)
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> if(test<65)
> {otac/sklon * 141.76}
> else
> {otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon}
> }
> 
> > fff(20,70)
> [1] 40.50286
> # correct
> 
> > fff(50,70)
> [1] 80.42371
> #correct
> 
> > fff(seq(20,50,5),70)
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
> #wrong
> -----------------------------------------------------------------------------------------------
> It does not work because if statement is obviously evaluated as TRUE in all
> instances and computes wrongly some items in vector according to the first part
> of the fff function
> 
> # see direct computation
> > seq(20,50,5)/70*141.76
> [1]  40.50286  50.62857  60.75429  70.88000  81.00571  91.13143 101.25714
> 
> > seq(20,50,5) * 3.69683+286.6*(1/70)-0.03100345*seq(20,50,5)*70
> [1] 34.62606 42.25900 49.89194 57.52488 65.15783 72.79077 80.42371
> 
> On the other hand ifelse works
> ******************************
> fff <- function(otac,sklon)
> {
> test <- (otac * 3.69683+286.6*(1/sklon)-0.03100345*otac*sklon)
> ifelse(test<65, (otac/sklon * 141.76),  (otac * 3.69683+286.6*(1/sklon)-
> 0.03100345*otac*sklon))
> }
> 
> > fff(seq(20,50,5),70)
> [1] 40.50286 50.62857 60.75429 70.88000 65.15783 72.79077 80.42371
> #correct
> 
> Can anybody help?
> 
> Thank you in advance
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Thu Sep 19 16:59:59 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu, 19 Sep 2002 08:59:59 -0600
Subject: [R] Rounding
In-Reply-To: <Pine.SOL.4.21.0209192118030.21941-100000@stat1.stat.auckla
 nd.ac.nz>
References: <x2r8fqqtbq.fsf@biostat.ku.dk>
Message-ID: <5.1.0.14.2.20020919081504.00b18db8@mailhost.blackmesacapital.com>

At 09:22 PM 9/19/2002 +1200, you wrote:

>Now my questions is: how do I work out the number of digits x has?


If you're working with decimal digits (as most people do) that would be
   ceiling(log10(abs(x)))
for most cases.  The problem cases are round powers of 10, such as 1000, 
for which the above expression returns 3.  You'll have to work out whether 
or not that is appropriate for your task.

Another more indirect method is:
   nchar(formatC(floor(abs(x)), format="f", digits=0))
which will tell you number of digits before the decimal point in an 
infinite precision decimal rendition of x.  E.g., it will return 4 for 
1000, and 3 for 999.999999.  The latter may or may not be what you want, 
since 999.999999 usually prints as 1000 (because of rounding implicit in 
printing).

-- Tony Plate

PS.  If you do need to treat round powers of 10 as special cases, be sure 
to test on many examples to make sure your arithmetic behaves correctly 
when implemented with binary floating point arithmetic; here's a table 
illustrating the challenges:

 > cbind(i=i,"=="=log10(10**i)==i,"<"=log10(10**i)<i,">"=log10(10**i)>i)
        i == < >
  [1,] -6  0 0 1
  [2,] -5  1 0 0
  [3,] -4  0 0 1
  [4,] -3  0 0 1
  [5,] -2  0 0 1
  [6,] -1  0 0 1
  [7,]  0  1 0 0
  [8,]  1  1 0 0
  [9,]  2  1 0 0
[10,]  3  0 1 0
[11,]  4  1 0 0
[12,]  5  1 0 0
[13,]  6  0 1 0
[14,]  7  1 0 0
[15,]  8  1 0 0
[16,]  9  0 1 0
[17,] 10  1 0 0
[18,] 11  1 0 0
[19,] 12  0 1 0
[20,] 13  0 1 0
[21,] 14  1 0 0
[22,] 15  0 1 0
[23,] 16  1 0 0
[24,] 17  1 0 0
[25,] 18  0 1 0
[26,] 19  1 0 0
[27,] 20  1 0 0
[28,] 21  0 1 0
[29,] 22  1 0 0
[30,] 23  0 1 0
[31,] 24  0 1 0
 >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fatimartins at psifactor.pt  Thu Sep 19 17:06:02 2002
From: fatimartins at psifactor.pt (=?iso-8859-1?Q?F=E1tima_Martins?=)
Date: Thu, 19 Sep 2002 16:06:02 +0100
Subject: [R] rotation promax
Message-ID: <NOELKGJILFMJDAJNFOBPMEIFCCAA.fatimartins@psifactor.pt>

Hi
I want to know when I shoud use promax rotation instead of varmix rotation.
thanks
Fatima Martins
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From davidnj at net.hr  Thu Sep 19 17:19:40 2002
From: davidnj at net.hr (David Damiric)
Date: Thu, 19 Sep 2002 17:19:40 +0200
Subject: [R] DXF-Format
Message-ID: <3d89eb0c.ac5.0@net.hr>

Has anybody experience with reading dxf-files (AutoCAD) into R? 

--
Besplatni e-mail - http://webmail.iskon.hr/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lingyun.Shi at fimat.com  Thu Sep 19 21:02:21 2002
From: Lingyun.Shi at fimat.com (Lingyun Shi)
Date: Thu, 19 Sep 2002 14:02:21 -0500
Subject: [R] How to call stored procedure from RODBC?
Message-ID: <OF1C1A744A.233671B0-ON86256C39.00687DC0@fimat.com>


Hi,

Does anyone know how to call stored procedure from RODBC? Thanks.

Lingyun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Thu Sep 19 21:39:07 2002
From: jarioksa at sun3.oulu.fi (jarioksa@sun3.oulu.fi)
Date: Thu, 19 Sep 2002 22:39:07 +0300
Subject: [R] problem with CAIV
In-Reply-To: <3D89CA67.50FE02BF@cephb.fr>
References: <3D89CA67.50FE02BF@cephb.fr>
Message-ID: <1032464347.3d8a27dbc371c@webmail.oulu.fi>

Quoting Celine Lefebvre <lefebvre at cephb.fr>:

> I am trying to use the function CAIV from the package CoCoAn
> I have a matrix with dimension 43x67 with positive values >=0
> When I use CAIV,  I get the error:
> "Error : column total=0"
> Does someone know why?

I guess you have a column total of 0. That is, you have a species with no 
presences in your matrix. All kinds of CA (including CCA) need >0 column and 
row totals.

Assuming your data matrix is called `x', use `apply(x, 2, sum)' to see the 
column totals and spot the missing species.

Cheers, jari oksanen
--
Jari Oksanen, Department of Natural Resources
Utah State University, Logan UT


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Thu Sep 19 22:44:21 2002
From: jmc at research.bell-labs.com (John Chambers)
Date: Thu, 19 Sep 2002 16:44:21 -0400
Subject: [R] Re: attach()ing User-Defined Classes with Complex Structures
References: <Pine.LNX.4.33.0209181445120.5658-100000@aberdeen.fpcc.net>
Message-ID: <3D8A3725.C6D591F3@research.bell-labs.com>

Rob Lee wrote:
> 
> How would you implement attach()ing to a user-defined class with multiple
> slots in R?
> 
> A primary goal of my software is to hide the data representation from the
> user,
> allowing them to attach() to my program's complex classes and refer to
> their contents by name - THEREBY avoiding having to pass the classes to
> every function call.
> 
> Also, is it true that attaching to a to a sub-classed list only get()s you
> access to it's ".Data" slot and nothing else?
> 
> -R


This doesn't sound much like the S language.

Data representation is hidden by defining methods for the relevant
functions that behave differently for the different classes in an
application.

You pass objects, not classes, to functions.

And lists don't have slots, they have elements that can be accessed by
name if the list has names.  Classes define slots and objects from those
classes have the specified slots.

If, as it sounds, you're trying to override particular names, you might
use R environments that contain the definitions you want.  Environments
you can "attach", but not general objects.

If you have some example code, you could send it to me, but preferably
without copying it to all of r-help.

Regards,
 John Chambers

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Fri Sep 20 15:10:47 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Fri, 20 Sep 2002 15:10:47 +0200
Subject: [R] How to call stored procedure from RODBC?
Message-ID: <200209201310.g8KD8HX16320@mailgate5.cinetic.de>


(1) Set a new entry in your system-dsn for your odbc data source.

library(RODBC)
channel <- odbcConnect("dsn_name","","")
sqlFetch(channel, "table_name", errors = TRUE, as.is = FALSE, as = "data frame",
         colnames = FALSE, rownames = FALSE, nullstring = "NA", na.strings = "NA")

....perhaps there are more appropriate functions for you ?
Try
help(RODBC)

regards,Christian

Lingyun Shi schrieb:

Hi,

Does anyone know how to call stored procedure from RODBC? Thanks.

Lingyun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Sep 20 20:27:50 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 20 Sep 2002 15:27:50 -0300
Subject: [R] warning in binomial analysis
Message-ID: <200209201527.50674.chrysopa@insecta.ufv.br>

Hi,
I have make an analise with presence and absence, y=(1 e 0).
I have a area continuous data and a sp data with 25 levels. I have 300 points.
When I make

glm((presenca/peso)~area,weights=peso,family=binomial,maxit=1000)

where 

presenca is 0 or 1.

peso is the unit = 1.

area is the continuous data.

The analysis is OK.

When I put the sp and interactions in analysis this warning appear.

glm((presenca/peso)~area*sp,weights=peso,family=binomial,maxit=1000) 

Warning message:  

fitted probabilities numerically 0 or 1 occurred 

in: (if (is.empty.model(mt)) glm.fit.null else 

glm.fit)(x = X, y = Y,

Some ideas???

Thanks
Ronaldo

-- 
A person who has nothing looks at all there is and wants something.
A person who has something looks at all there is and wants all the rest.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Gnu/Debian Woody D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demolomb at ensam.inra.fr  Sat Sep 21 13:48:56 2002
From: demolomb at ensam.inra.fr (demolombe)
Date: Sat, 21 Sep 2002 13:48:56 +0200
Subject: [R] need help for eval()
Message-ID: <200209211347.g8LDln324834@ensam.inra.fr>

Hello,

I need help, after hours trying to do it myself,
to do the following:

    I have an object, named, say,  F1   from a class "fichier"  that I buildt.
    this F1 has a slot named datas   ,which is a vector, so I can access to
: F1 at datas[1], F1 at datas[2], ...

    Now I have a string s="F1 at datas[1]" and need to retreive the real
content of F1 at datas[1] using s.

    Is there a way to do this, as it is in Matlab?

Thanks you for any help
Vincent 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Sep 21 16:21:39 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 21 Sep 2002 16:21:39 +0200
Subject: [R] need help for eval()
References: <200209211347.g8LDln324834@ensam.inra.fr>
Message-ID: <3D8C8073.F05DD512@statistik.uni-dortmund.de>

demolombe wrote:
> 
> Hello,
> 
> I need help, after hours trying to do it myself,
> to do the following:
> 
>     I have an object, named, say,  F1   from a class "fichier"  that I buildt.
>     this F1 has a slot named datas   ,which is a vector, so I can access to
> : F1 at datas[1], F1 at datas[2], ...
> 
>     Now I have a string s="F1 at datas[1]" and need to retreive the real
> content of F1 at datas[1] using s.
> 
>     Is there a way to do this, as it is in Matlab?


E.g., you'll get the value by 
1) coercing the string to an expression, and
2) evaluating that one.

 eval(parse(text = s))

You can get access to particular slots by slot(), but that's another
topic, since your character string describes much more than that.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Sep 21 17:55:25 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 21 Sep 2002 17:55:25 +0200
Subject: [R] need help for eval()
In-Reply-To: <200209211347.g8LDln324834@ensam.inra.fr>
References: <200209211347.g8LDln324834@ensam.inra.fr>
Message-ID: <20020921155525.GA3260@giraffa.cbs.dtu.dk>

On Sat, Sep 21, 2002 at 01:48:56PM +0200, demolombe wrote:
> Hello,
> 
> I need help, after hours trying to do it myself,
> to do the following:
> 
>     I have an object, named, say,  F1   from a class "fichier"  that I buildt.
>     this F1 has a slot named datas   ,which is a vector, so I can access to
> : F1 at datas[1], F1 at datas[2], ...
> 
>     Now I have a string s="F1 at datas[1]" and need to retreive the real
> content of F1 at datas[1] using s.
> 
>     Is there a way to do this, as it is in Matlab?


I do not know luch of MATLAB, but the following should do it:

get(s)


Hopin' it helps


L.

> 
> Thanks you for any help
> Vincent 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Sep 21 18:15:24 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 21 Sep 2002 18:15:24 +0200
Subject: [R] need help for eval()
In-Reply-To: <3D8C8073.F05DD512@statistik.uni-dortmund.de>
References: <200209211347.g8LDln324834@ensam.inra.fr> <3D8C8073.F05DD512@statistik.uni-dortmund.de>
Message-ID: <20020921161524.GA3546@giraffa.cbs.dtu.dk>

On Sat, Sep 21, 2002 at 04:21:39PM +0200, Uwe Ligges wrote:
> demolombe wrote:
> > 
> > Hello,
> > 
> > I need help, after hours trying to do it myself,
> > to do the following:
> > 
> >     I have an object, named, say,  F1   from a class "fichier"  that I buildt.
> >     this F1 has a slot named datas   ,which is a vector, so I can access to
> > : F1 at datas[1], F1 at datas[2], ...
> > 
> >     Now I have a string s="F1 at datas[1]" and need to retreive the real
> > content of F1 at datas[1] using s.
> > 
> >     Is there a way to do this, as it is in Matlab?
> 
> 
> E.g., you'll get the value by 
> 1) coercing the string to an expression, and
> 2) evaluating that one.
> 
>  eval(parse(text = s))



I just realized I should have sit on my hands and count to 7 before
touching the 'return' key... one more time...

By luck the *right* answer was sent before I even had to send a
correction to mine.

Sorry for the mistake.



> 
> You can get access to particular slots by slot(), but that's another
> topic, since your character string describes much more than that.
> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Sun Sep 22 05:33:01 2002
From: arc at arcriswell.com (Andrew Criswell)
Date: Sun, 22 Sep 2002 10:33:01 +0700
Subject: [R] Daglaard's book
Message-ID: <003701c261e8$c2fb6f00$e2d994cb@andrewvhowclyz>

Hello all:

Have any of you succeeded in getting hold of Peter Daglaard's book,
"Introductory Statistics with R"?  I have placed an order some weeks ago
with AMAZON.CO.UK and it appears I must wait another 6 weeks before
delivery.

ANDREW


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sat Sep 21 18:23:56 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sat, 21 Sep 2002 11:23:56 -0500
Subject: [R] Daglaard's book
In-Reply-To: <003701c261e8$c2fb6f00$e2d994cb@andrewvhowclyz>
Message-ID: <000a01c2618b$49770340$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of Andrew Criswell
> Sent: Saturday, September 21, 2002 10:33 PM
> To: r-help at r-project.org
> Subject: [R] Daglaard's book
> 
> Hello all:
> 
> Have any of you succeeded in getting hold of Peter Daglaard's book,
> "Introductory Statistics with R"?  I have placed an order some weeks
ago
> with AMAZON.CO.UK and it appears I must wait another 6 weeks before
> delivery.
> 
> ANDREW

Andrew,

I initially ordered it and MASS 4 from Amazon U.S.  I gave up after a
couple of weeks of e-mails indicating long delays in delivery.

I order both via Springer and got them in a matter of days.  Go directly
to the publisher at http:www.springer-ny.com.

The URL for Peter's book is:

http://www.springer-ny.com/detail.tpl?isbn=0387954759

HTH.

Not sure why, but Amazon seems to be having problems with these books of
late.  I had two other new books published by Wiley (i.e. Agresti 2nd
Edition) that I wanted and had similar delay problems with Amazon.  I
ended up ordering from Wiley directly and they came within days.

Hat's off to Peter and V&R for two great additions!

Marc



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 21 18:57:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Sep 2002 18:57:26 +0200
Subject: [R] Daglaard's book
In-Reply-To: <003701c261e8$c2fb6f00$e2d994cb@andrewvhowclyz>
References: <003701c261e8$c2fb6f00$e2d994cb@andrewvhowclyz>
Message-ID: <x2bs6r5lhl.fsf@biostat.ku.dk>

"Andrew Criswell" <arc at arcriswell.com> writes:

> Hello all:
> 
> Have any of you succeeded in getting hold of Peter Daglaard's book,
> "Introductory Statistics with R"?  I have placed an order some weeks ago
> with AMAZON.CO.UK and it appears I must wait another 6 weeks before
> delivery.
> 
> ANDREW

I probably shouldn't worry about my Sales Rank there just yet, then...
The author's copies arrived Wednesday, so a little more patience would
seem to be required. It has been shipping from amazon.com for a few
weeks. At least Roger Peng would seem to have received one from that
source ;-)

I almost suggested that you'd try Springer Heidelberg, but it has
fallen off their site, and is now only listed under forthcoming titles
there ("due September"). It had a page before and they'll be pushing
the book quite a bit with a promotional bookmark and favourable price,
so it is a bit odd, but I suppose that they too want to receive their
shipment before trying too hard to sell it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Sep 20 09:32:46 2002
From: wolski at molgen.mpg.de (wolski)
Date: Fri, 20 Sep 2002 09:32:46 +0200
Subject: [R] Trouble in running Rcmd --check on Windows 2000.
References: <200209191533040006.05CFD18B@harry.molgen.mpg.de>
 <200209191535180329.05D1DE3E@harry.molgen.mpg.de>
Message-ID: <200209200932460098.09AC5097@harry.molgen.mpg.de>

Hi!
My Platform:
Windows 2000
R version >1.5
Active Perl 5.6
Rtools at the start of the PATH.

I am trying to build a package. The functions are written only in R (no C code). I am trying to proceed as described in R-exts.pdf

But instead to get a build package i am getting (see below). At first glance it seems to me that i understand the output. At something similar i am looking most of my time. But it does not help to get the package checked and installed. Is there anyone out who can help me? Please help!


D:\home\wolski\Rproject>Rcmd check --no-latex --library=D:\home\wolski\Rproject\temp D:\home\wolski\Rproject\mscalib
* using log directory 'D:/home/wolski/Rproject/mscalib.Rcheck'


make: Entering directory `/cygdrive/d/prog/R/rw1051/src/gnuwin32'
make DLLNM= FLIBS="-lg2c -lRblas" \
  -C D:/home/wolski/Rproject/mscalib PKG=mscalib RHOME=d:/prog/R/rw1051 RLIB=D:/home/wolski/Rproject/temp \
  -f d:/prog/R/rw1051/src/gnuwin32/MakePkg
make: /bin/sh.exe: Command not found
make: *** [pkg-mscalib] Error 127
make: Leaving directory `/cygdrive/d/prog/R/rw1051/src/gnuwin32'
*** Installation of mscalib failed ***


* checking for file 'mscalib/DESCRIPTION' ... OK
* checking package directory ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking DESCRIPTION Depends field ... OK
* checking R files for syntax errors ...C:\WINNT\Profiles\wolski\LOCALS~1\Temp/Rutils179273815: cannot open C:WINNTProfileswolskiLOCALS~1Temp/Rin17928
0029: no such file
 OK
* checking R files for library.dynam ...Error: cannot open file 'D:/home/wolski/Rproject/temp/mscalib/R/mscalib' for reading at d:\prog\R\rw1051/bin/c
heck line 523.

 
Sincerely Eryk.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020920/a40a0abf/attachment.html

From arc at arcriswell.com  Sun Sep 22 08:44:12 2002
From: arc at arcriswell.com (Andrew Criswell)
Date: Sun, 22 Sep 2002 13:44:12 +0700
Subject: [R] Dalgaard's book
Message-ID: <007501c26203$7982e2c0$e2d994cb@andrewvhowclyz>

Hello all:

Why arbitrage rarely works.

Peter Dalgaard's "Introductory Statistics with R" sells on AMAZON U.S.
website at USD 44.95 and on AMAZON U.K at GBP 21.00.  At the current
exchange rate, the U.K. price translates to USD 32.68, a 27% savings BUT for
delivery:  the U.S. AMAZON promises 6-10 days whereas in the U.K. 4-6 weeks
is promised.

At Springer http://www.springer.de the book can't be found at all, but on
http://www.springer-ny.com/ it is located at USD 44.95 but international
shipping rates are left unspecified.

ANDREW


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bulawa511 at mailcity.com  Sat Sep 21 22:44:32 2002
From: bulawa511 at mailcity.com (bulawa mulete jr)
Date: Sat, 21 Sep 2002 22:44:32
Subject: [R] mutual business
Message-ID: <200209212044.g8LKiLjv017905@stat.math.ethz.ch>

ATTN SIR/MA,

 I am bulawa Mulete JR. the son of Mr.
  STEVE MBEKI MULETE from Zimbabwe. I am sorry this mail
 may surprise you, though we do not know,
  Due to the current war against white farmers in
  Zimbabwe and the support of President Robert Mugabe to
  Claim all white owned farms in our country to gain
  Favor for re-election.

  All white farmers were asked to
  Surrender their farms to the government for
  Re-distribution and infact to his political party
  Members and my father though black was the treasury
  of the farmers association and a strong member of an
  Opposition party that did not support the president
  Idea. He then ordered his party members and the police
  Under his pay row to invade my father's farm and burn
  Down everything in the farm. They killed my
  Father and took away a lot of items from his farm.
  After the death of my father, our local pastor and a
  Close friend of my father handed us over will
  Documents with instructions from my father that we
  Should leave Zimbabwe incase anything happen to him. The will
  Documents has a certificate of deposit, confirming a deposit
  Kept in custody for us in a security company unknown
  To the company that the content is money hence it was
  deposited as
  Personal belongings and ensure that we do not remain here as
  we could
  Easily be found by his enemies. The total amount is
  US$21.5M.We are therefore soliciting for
 Your assistance to help us move the fund out of
  Zimbabwe, as our fate and future is far from
  reality, hence this mail to you. The president's present ban
  of
  International Press into Zimbabwe and the drop from office of
  the
  Finance Minister to avoid giving white farmers fund Transfer
  Clearance above US$1M is just a few of the
  Unthinkable things he is committing in my Country.  I have
  tried to reach my father's close friend Mr.
  John Casahans from Australia also a farmer who was
  Leaving in Zimbabwe with us but left with his family
  Late last year following this ugly development to no>  Avail.
  Should you be interested to help us, contact me
  Immediately via email for easy communication and I
  Will furnish you with the time frame and modalities of
  The transaction. We have concluded a wonderful plan of
  Caring out the transfer within two weeks. Please note that
  This transaction is100% confidential and risk free and will
  Not endanger you or us in any way. We have resolved to give
  you 20%
  Of the total sum upon confirmation of the fund in any
  Account of your choice were the incident of taxation
  will not take much tool on the money and we look
  Forward to coming over to your country to invest our
  Share and settle there. I will a private
  Phone so that our conversation can be
  100% confidential.


  NOTE: PLEASE REPLY  TO bulawa2000 at netscape.net

  God bless you indeed as you help yourself and us.
  
Mr.bulawa Mulete jr


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Sep 21 23:42:00 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 21 Sep 2002 17:42:00 -0400
Subject: [R] Trouble in running Rcmd --check on Windows 2000.
In-Reply-To: <200209200932460098.09AC5097@harry.molgen.mpg.de>
References: <200209191533040006.05CFD18B@harry.molgen.mpg.de>
 <200209191535180329.05D1DE3E@harry.molgen.mpg.de>
Message-ID: <5.1.0.14.2.20020921173239.01d994b0@mcmail.cis.mcmaster.ca>

Dear Eryk,

At 09:32 AM 9/20/2002 +0200, wolski wrote:
>Hi!
>My Platform:
>Windows 2000
>R version >1.5
>Active Perl 5.6
>Rtools at the start of the PATH.
>
>I am trying to build a package. The functions are written only in R (no C 
>code). I am trying to proceed as described in R-exts.pdf
>
>But instead to get a build package i am getting (see below). At first 
>glance it seems to me that i understand the output. At something similar i 
>am looking most of my time. But it does not help to get the package 
>checked and installed. Is there anyone out who can help me? Please help!
>
>
>D:\home\wolski\Rproject>Rcmd check --no-latex 
>--library=D:\home\wolski\Rproject\temp D:\home\wolski\Rproject\mscalib
>* using log directory 'D:/home/wolski/Rproject/mscalib.Rcheck'
>
>
>make: Entering directory `/cygdrive/d/prog/R/rw1051/src/gnuwin32'
>make DLLNM= FLIBS="-lg2c -lRblas" \
>   -C D:/home/wolski/Rproject/mscalib PKG=mscalib RHOME=d:/prog/R/rw1051 
> RLIB=D:/home/wolski/Rproject/temp \
>   -f d:/prog/R/rw1051/src/gnuwin32/MakePkg
>make: /bin/sh.exe: Command not found

Try copying sh.exe to \bin\sh.exe on the current drive (D: in your case?).

>make: *** [pkg-mscalib] Error 127
>make: Leaving directory `/cygdrive/d/prog/R/rw1051/src/gnuwin32'
>*** Installation of mscalib failed ***
>
>
>* checking for file 'mscalib/DESCRIPTION' ... OK
>* checking package directory ... OK
>* checking DESCRIPTION Package field ... OK
>* checking DESCRIPTION Version field ... OK
>* checking DESCRIPTION License field ... OK
>* checking DESCRIPTION Description field ... OK
>* checking DESCRIPTION Title field ... OK
>* checking DESCRIPTION Author field ... OK
>* checking DESCRIPTION Maintainer field ... OK
>* checking DESCRIPTION Depends field ... OK
>* checking R files for syntax errors 
>...C:\WINNT\Profiles\wolski\LOCALS~1\Temp/Rutils179273815: cannot open 
>C:WINNTProfileswolskiLOCALS~1Temp/Rin17928
>0029: no such file
>  OK
>* checking R files for library.dynam ...Error: cannot open file 
>'D:/home/wolski/Rproject/temp/mscalib/R/mscalib' for reading at 
>d:\prog\R\rw1051/bin/c
>heck line 523.
>

I believe that this error is a consequence of the previous one.

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
----------------------------------------------------- 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020921/aec5d4fa/attachment.html

From v.samak at verizon.net  Sun Sep 22 03:22:29 2002
From: v.samak at verizon.net (Vele Samak)
Date: Sat, 21 Sep 2002 21:22:29 -0400
Subject: [R] Kudos for R team
In-Reply-To: <Pine.LNX.4.31.0208230625310.19835-100000@gannet.stats>
Message-ID: <000401c261d6$84c7fdf0$6501a8c0@prilep>

Hi,

I just wanted to give kudos to the R team for building a performance
oriented software for statistics. As someone who deals regularly with
tons of data speed in analysis is a priority. I'll mention one example
where the implementation of R and Splus differs so much that leaves you
no choice but to go with R. 

I my line of work, quantitative investment research, we often need to
create lots of different but realistic portfolios for backtesting of our
models. One function that we developed takes an existing portfolio and
generates N various portfolios which are similar to the starting
portfolio and meet certain constraints. The function is all S code and
uses couple of sapplys, a while loop at the core and some calls to
runif. Nothing special. It returns a matrix S x N (S is number of stocks
in the starting portfolio). 

We ran this function on the latest Splus, W2000, pIII 1GZ, 512MB RAM,
with e 500-stock portfolio (vector) and asked it to give us 2000
portfolios. It took close to 1 hour. Same code, same machine no changes,
R 1.3.1 and R 1.5.1: under 1 minute!!!

This isn't geeky fast, fast for bragging rights fast, 10%, 20% or even
100% faster. This is an order of magnitude faster. All in the sapply and
the while loop implementations, probably some cbinds in there, but you
can speculate. At this point, you have to wonder what goes on in Splus.
This kind of result also settles the question once and for all: nor why
R, but why splus? No reason at all. It used to be that I had a variety
of reasons to use R over splus for the past 2 years, but this example
outweights all other. 

Lest I get fired, I can't show you the code of the function since it is
considered proprietary. Although, I doubt you need much time and tought
to replicate something like this in S. At this point we moved the core
into c and run such tests with all kinds of group constraints in mere
seconds. 

Maybe most of you knew about this, but I just wanted to put this out
there. Another side issue, in case there are other believers in Sun
workstations out there: R 1.3.1 compiled on Sun 4-cpu workstation with
4GB RAM, don't know the model, but sure it's no more than 2 years old,
late 2000 model: same code, same process, mostly lots of regressions,
minor I/O to disk: 7-times slower than same execution on the
abovementioned PC. Go figure!

P.S. Don't want to start flame wars, I but don't make these statements
lightly, this is what I get paid to do and every resource and every
second in execution counts.

Enjoy,
--
Vele Samak
http://www.velesamak.com 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Sep 22 14:11:30 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 22 Sep 2002 14:11:30 +0200
Subject: [R] Trouble in running Rcmd --check on Windows 2000.
References: <200209191533040006.05CFD18B@harry.molgen.mpg.de>
	 <200209191535180329.05D1DE3E@harry.molgen.mpg.de> <5.1.0.14.2.20020921173239.01d994b0@mcmail.cis.mcmaster.ca>
Message-ID: <3D8DB372.9B5969A3@statistik.uni-dortmund.de>



John Fox wrote:
> 
> Dear Eryk,
> 
> At 09:32 AM 9/20/2002 +0200, wolski wrote:
> 
> > Hi!
> > My Platform:
> > Windows 2000
> > R version >1.5
> > Active Perl 5.6
> > Rtools at the start of the PATH.
> >
> > I am trying to build a package. The functions are written only in R
> > (no C code). I am trying to proceed as described in R-exts.pdf
> >
> > But instead to get a build package i am getting (see below). At
> > first glance it seems to me that i understand the output. At
> > something similar i am looking most of my time. But it does not help
> > to get the package checked and installed. Is there anyone out who
> > can help me? Please help!
> >
> >
> > D:\home\wolski\Rproject>Rcmd check --no-latex
> > --library=D:\home\wolski\Rproject\temp
> > D:\home\wolski\Rproject\mscalib
> > * using log directory 'D:/home/wolski/Rproject/mscalib.Rcheck'
> >
> >
> > make: Entering directory `/cygdrive/d/prog/R/rw1051/src/gnuwin32'
> > make DLLNM= FLIBS="-lg2c -lRblas" \
> >   -C D:/home/wolski/Rproject/mscalib PKG=mscalib
> > RHOME=d:/prog/R/rw1051 RLIB=D:/home/wolski/Rproject/temp \
> >   -f d:/prog/R/rw1051/src/gnuwin32/MakePkg
> > make: /bin/sh.exe: Command not found
> 
> Try copying sh.exe to \bin\sh.exe on the current drive (D: in your
> case?).

[SNIP]

Or just get a recent copy of the tools. Brian Ripley fixed that problem
some weeks ago.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Sep 22 22:33:25 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 22 Sep 2002 13:33:25 -0700 (PDT)
Subject: [R] warning in binomial analysis
In-Reply-To: <200209201527.50674.chrysopa@insecta.ufv.br>
Message-ID: <Pine.A41.4.44.0209221329260.165600-100000@homer38.u.washington.edu>

On Fri, 20 Sep 2002, Ronaldo Reis Jr. wrote:

> Hi,
> I have make an analise with presence and absence, y=(1 e 0).
> I have a area continuous data and a sp data with 25 levels. I have 300 points.
> When I make
>
> glm((presenca/peso)~area,weights=peso,family=binomial,maxit=1000)
>
> where
>
> presenca is 0 or 1.
>
> peso is the unit = 1.
>
> area is the continuous data.
>
> The analysis is OK.
>
> When I put the sp and interactions in analysis this warning appear.
>
> glm((presenca/peso)~area*sp,weights=peso,family=binomial,maxit=1000)
>
> Warning message:
>
> fitted probabilities numerically 0 or 1 occurred
>
> in: (if (is.empty.model(mt)) glm.fit.null else
>
> glm.fit)(x = X, y = Y,
>
> Some ideas???

When you fit logistic regression models to fairly sparse data you can
often have a situation where for some combination of variables the
response variable is either all 0 or all 1.  In that case the maximum
likelihood estimates for at least some of the coefficients will be
infinite.  That's what R is telling you.

You should be able to tell which coefficients are infinite -- the
coefficients and their standard errors will be large.

When this happens the standard errors and the p-values reported by
summary.glm() for those variables are useless.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Mon Sep 23 01:05:52 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Mon, 23 Sep 2002 11:05:52 +1200
Subject: [R] binom.test()
Message-ID: <200209222305.g8MN5qd24817@r.hankin.sems.auckland.ac.nz>

Hello everybody.  

Does anyone else find the last test in the following sequence odd?  
Can anyone else reproduce it or is it just me?


> binom.test(100,200,0.13)$p.value
[1] 2.357325e-36
> binom.test(100,200,0.013)$p.value
[1] 6.146546e-131
> binom.test(100,200,0.0013)$p.value
[1] 1.973702e-230
> binom.test(100,200,0.00013)$p.value
[1] 0.9743334

(R 1.5.1, Linux RedHat 7.1)


-- 

Robin Hankin, Lecturer,
School of Geography and Environmental Science
Tamaki Campus
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Mon Sep 23 11:01:00 NZST 2002
This (linux) system up continuously for:  389 days, 17 hours, 43 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Mon Sep 23 02:19:46 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 23 Sep 2002 10:19:46 +1000
Subject: [R] warning in binomial analysis
In-Reply-To: 
 <Pine.A41.4.44.0209221329260.165600-100000@homer38.u.washington.edu>
References: 
 <Pine.A41.4.44.0209221329260.165600-100000@homer38.u.washington.edu>
Message-ID: <f05101011b9b4038cfa5a@[150.203.32.52]>

Surely any problem is with the fitted probabilities, not
with the coefficients.  The likely "problem" is that,
for one or more values eta(i) of the linear predictor,
pi(i) = exp(eta(i)/(1+exp(eta(i))) is calculated as 1.0,
with 1 - pi(i) the calculated as zero.  The problem can
be very substantially delayed by calculating

1 - pi(i) = 1/(1 + exp(eta(i)))

However, this will usually make no difference to the
answer that is obtained; the present "fix" has the
correct limiting behaviour that avoids the 0/0
calculation that would otherwise ensue. I suspect,
though that a discrete change in the deviance when
the present form of "fix" kicks in does sometimes
foul up the convergence test.  I'd be interested
to see an example of this, if someone thinks they
have one.  I suspect that it may have happened to
me in the past, but at the time I did not twig.

My guess is that the deviances and coefficients
are entirely ok.  I'd expect that problems in the
general area that Thomas mentions to reveal
themselves as a failure to converge.

The standard errors may well not be ok, but it is not
necessary to have fitted values that are (to within
machine precision) 0 or 1 to get meaningless SEs!
The asymptotic theory can start to creak well before
that point, and that is where the warnings are needed.

There are some further details in my article on
"Floating Point Arithmetic" in the Wiley Encyclopedia
of Biostatistics (2000).

Such occurrences are easy to induce when the cloglog
link is used.  Try:

p <- c(.45,.837,.977,.998,1,1)
x <- c(0,2,3,4,6,12)
n <- rep(1000,6)
glm(p~x, family=binomial(link=cloglog), weights=n)

Incidentally, I am happy to work on fixing this, but
I believe thewre is an issue about a major rewrite
of the glm engine - a discussion which is clearly
for R-devel.

John Maindonald

>On Fri, 20 Sep 2002, Ronaldo Reis Jr. wrote:
>
>>  Hi,
>>  I have make an analise with presence and absence, y=(1 e 0).
>>  I have a area continuous data and a sp data with 25 levels. I have 
>>300 points.
>>  When I make
>>
>>  glm((presenca/peso)~area,weights=peso,family=binomial,maxit=1000)
>>
>>  where
>>
>>  presenca is 0 or 1.
>>
>>  peso is the unit = 1.
>>
>>  area is the continuous data.
>>
>>  The analysis is OK.
>>
>>  When I put the sp and interactions in analysis this warning appear.
>>
>>  glm((presenca/peso)~area*sp,weights=peso,family=binomial,maxit=1000)
>>
>>  Warning message:
>>
>>  fitted probabilities numerically 0 or 1 occurred
>>
>>  in: (if (is.empty.model(mt)) glm.fit.null else
>>
>>  glm.fit)(x = X, y = Y,
>>
>>  Some ideas???
>
>When you fit logistic regression models to fairly sparse data you can
>often have a situation where for some combination of variables the
>response variable is either all 0 or all 1.  In that case the maximum
>likelihood estimates for at least some of the coefficients will be
>infinite.  That's what R is telling you.
>
>You should be able to tell which coefficients are infinite -- the
>coefficients and their standard errors will be large.
>
>When this happens the standard errors and the p-values reported by
>summary.glm() for those variables are useless.
>
>	-thomas
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Bioinformation Science, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 23 02:59:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 22 Sep 2002 17:59:50 -0700 (PDT)
Subject: [R] warning in binomial analysis
In-Reply-To: <f05101011b9b4038cfa5a@[150.203.32.52]>
Message-ID: <Pine.A41.4.44.0209221737390.184326-100000@homer04.u.washington.edu>

On Mon, 23 Sep 2002, John Maindonald wrote:

> Surely any problem is with the fitted probabilities, not
> with the coefficients.

Yes, but I think it's a symptom of a problem with the covariates.

If we were working in single precision there could well be other
explanations, but 1- exp(eta)/(1+exp(eta)) is only 3e-7 (and thus has
seven or eight accurate digits) for eta=15.  Even for eta=25 we are
nowhere near complete numerical breakdown.

You could  construct a situation where this warning would occur
even with finite MLEs, but I'd be surprised to see it happen in a case
where I would be happy with the fitted coefficients (the deviances are
another matter).  On the other hand, it happens quite often with sparse
design matrices when the MLEs are really infinite.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 23 04:31:42 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 22 Sep 2002 19:31:42 -0700 (PDT)
Subject: [R] binom.test()
In-Reply-To: <200209222305.g8MN5qd24817@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.A41.4.44.0209221916500.166638-100000@homer08.u.washington.edu>

On Mon, 23 Sep 2002, Robin Hankin wrote:

> Hello everybody.
>
> Does anyone else find the last test in the following sequence odd?
> Can anyone else reproduce it or is it just me?
>
>
> > binom.test(100,200,0.13)$p.value
> [1] 2.357325e-36
> > binom.test(100,200,0.013)$p.value
> [1] 6.146546e-131
> > binom.test(100,200,0.0013)$p.value
> [1] 1.973702e-230
> > binom.test(100,200,0.00013)$p.value
> [1] 0.9743334
>

Yes. The p-value is evaluated by adding up binomial probabilities, but it
leads to catastrophic rounding error.

One solution would be to use the incomplete beta function (pbeta) either
always or in extreme cases.  That's how the confidence limits are computed
and they don't break down in this case.

So eg
> pbeta(0.13,100,101)
[1] 2.357325e-36
> pbeta(0.013, 100, 101)
[1] 6.146546e-131
> pbeta(0.0013,100,101)
[1] 1.973702e-230
> pbeta(0.00013, 100, 101)
[1] 0
which agrees on the first three and is a lot closer on the last.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 23 04:42:53 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 22 Sep 2002 19:42:53 -0700 (PDT)
Subject: [R] binom.test()
In-Reply-To: <200209222305.g8MN5qd24817@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.A41.4.44.0209221940260.166638-100000@homer08.u.washington.edu>

On Mon, 23 Sep 2002, Robin Hankin wrote:

> Hello everybody.
>
> Does anyone else find the last test in the following sequence odd?
> Can anyone else reproduce it or is it just me?
>

Actually the previous explanation is completely bogus (I plead jet lag).
The problem is in handling 2-tailed p-values, which is done by looking for
the value in the opposite tail where the density is <= (1+1e-7) times the
observed density.  The problem is that the observed density is 0.

It should be possible just to change <= to <, possibly increasing the
fudge factor from 1e-7 but perhaps not.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Sep 23 05:34:26 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Mon, 23 Sep 2002 03:34:26 GMT
Subject: [R] Dalgaard's book
Message-ID: <E17tJzO-0004FV-00@grunt3.ihug.co.nz>

FWIW, Barnes & Noble Technical (who now run Fatbrain) told me a week and a half 
ago (12 Sep) my back-ordered copy was on its way.  It hasn't arrived yet, but I 
don't expect it for another week (NZ is far from anywhere, and I usually pick 
cheap shipping).  $44.95 + shipping

Jason

> Hello all:
> 
> Why arbitrage rarely works.
> 
> Peter Dalgaard's "Introductory Statistics with R" sells on AMAZON U.S.
> website at USD 44.95 and on AMAZON U.K at GBP 21.00.  At the current
> exchange rate, the U.K. price translates to USD 32.68, a 27% savings BUT for
> delivery:  the U.S. AMAZON promises 6-10 days whereas in the U.K. 4-6 weeks
> is promised.
> 
> At Springer http://www.springer.de the book can't be found at all, but on
> http://www.springer-ny.com/ it is located at USD 44.95 but international
> shipping rates are left unspecified.
> 
> ANDREW
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Mon Sep 23 05:50:09 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Mon, 23 Sep 2002 00:50:09 -0300
Subject: [R] binom.test()
In-Reply-To: <200209222305.g8MN5qd24817@r.hankin.sems.auckland.ac.nz>
Message-ID: <4.2.2.20020923004809.00a17100@pop3.norton.antivirus>

The same happened to me.
So far I found that the approximated breaking point for the p-value is the 
following number (given that x = 100 and n = 200):

0.000136737615520986

That is doing,

binom.test(x=100,n=200,p)

with p less than the above number, gives an incorrect p-value.

(I am using Windows Me)

Daniel

At 11:05 AM 23/9/2002 +1200, Robin Hankin wrote:
>Hello everybody.
>
>Does anyone else find the last test in the following sequence odd?
>Can anyone else reproduce it or is it just me?
>
>
> > binom.test(100,200,0.13)$p.value
>[1] 2.357325e-36
> > binom.test(100,200,0.013)$p.value
>[1] 6.146546e-131
> > binom.test(100,200,0.0013)$p.value
>[1] 1.973702e-230
> > binom.test(100,200,0.00013)$p.value
>[1] 0.9743334
>
>(R 1.5.1, Linux RedHat 7.1)
>
>
>--
>
>Robin Hankin, Lecturer,
>School of Geography and Environmental Science
>Tamaki Campus
>Private Bag 92019 Auckland
>New Zealand
>
>r.hankin at auckland.ac.nz
>tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Sep 23 05:57:32 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 23 Sep 2002 15:57:32 +1200 (NZST)
Subject: [R] Overall Title in par(mfrow)
Message-ID: <Pine.SOL.4.21.0209231555110.22209-100000@stat1.stat.auckland.ac.nz>

Hi,

Say I did something like:
  par(mfrow = c(1, 2))
  plot(1:10)
  plot(1:10)

and I'd like to have an overall title, i.e. a title that would appear,
centered, on the top of both plots, rather than the top of the last plot.

I tried:
  title("FOO", outer = T)
but it doesn't appear right.  Half of the FOO is outside the figure region
and can't be seen...

Is there another way to achieve this?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Sep 23 06:50:39 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 23 Sep 2002 16:50:39 +1200 (NZST)
Subject: [R] Change page in postscript()
Message-ID: <Pine.SOL.4.21.0209231645100.24740-100000@stat1.stat.auckland.ac.nz>

Hi,

Another question about graphics...

Suppose I have:
  par(mfrow = c(4, 6)) 
which will set up a figure region for 24 plots.  But, I actually only need
23 plots.  In fact I wrote a little function, foo.plot, which will draw
all the 23 plots at once with:
  foo.plot(x)
where x is a data frame.

Now, suppose I want to draw several set of these 23 plots, but want to put
them all in one postscript file. i.e.
  postscript("foo.ps, horiz = F)
  foo.plot(x)
  foo.plot(y)
where x and y are both data frames.

This is when I have this problem.  The first plot of foo.plot(y) will go
into the last empty space in the foo.plot(x) region.  This is expected as
I set up the par() above.  But is it possible to change this?  i.e. to
force foo.plot(y) to be draw on the next page?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gygax at ifi.unizh.ch  Mon Sep 23 08:16:00 2002
From: gygax at ifi.unizh.ch (Lorenz Gygax)
Date: 23 Sep 2002 08:16:00 +0200
Subject: [R] Change page in postscript()
In-Reply-To: <Pine.SOL.4.21.0209231645100.24740-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.WNT.4.44.0209230813250.1280-100000@GYG-63G37>


Hi Kevin,

> Another question about graphics...
>
> ...
>
> This is when I have this problem.  The first plot of foo.plot(y) will go
> into the last empty space in the foo.plot(x) region.  This is expected as
> I set up the par() above.  But is it possible to change this?  i.e. to
> force foo.plot(y) to be draw on the next page?

Have a look at the function frame () with which you can skip plotting
regions and which you could incorporate at the end of your function
foo.plot ().

Cheers, Lorenz
-- 
Lorenz Gygax, Dr. sc. nat.
Artificial Intelligence Lab, Department of Information Technology
University of Zurich-Irchel, +41-1-635 67 17,  gygax at ifi.unizh.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 23 09:43:41 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 23 Sep 2002 09:43:41 +0200
Subject: [R] Change page in postscript()
References: <Pine.SOL.4.21.0209231645100.24740-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3D8EC62D.C5934319@statistik.uni-dortmund.de>



Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Another question about graphics...
> 
> Suppose I have:
>   par(mfrow = c(4, 6))
> which will set up a figure region for 24 plots.  But, I actually only need
> 23 plots.  In fact I wrote a little function, foo.plot, which will draw
> all the 23 plots at once with:
>   foo.plot(x)
> where x is a data frame.
> 
> Now, suppose I want to draw several set of these 23 plots, but want to put
> them all in one postscript file. i.e.
>   postscript("foo.ps, horiz = F)
>   foo.plot(x)
>   foo.plot(y)
> where x and y are both data frames.
> 
> This is when I have this problem.  The first plot of foo.plot(y) will go
> into the last empty space in the foo.plot(x) region.  This is expected as
> I set up the par() above.  But is it possible to change this?  i.e. to
> force foo.plot(y) to be draw on the next page?
> 

Call plot.new() for each missing one.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Mon Sep 23 12:24:04 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Mon, 23 Sep 2002 12:24:04 +0200
Subject: [R] Problems with tcltk package
Message-ID: <000c01c262eb$57c59b80$1100a8c0@ico.scs.es>

Hello listers,

I have installed Tcl/Tk v8.4 on my system (Win XP, R 1.5.1). When I try to
load the Tcl/Tk package I get this error:

> library(tcltk)
Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in library(tcltk) : .First.lib failed

Can someone help me, please?

Thanks,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 23 12:37:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2002 12:37:43 +0200
Subject: [R] binom.test()
In-Reply-To: <Pine.A41.4.44.0209221940260.166638-100000@homer08.u.washington.edu>
References: <Pine.A41.4.44.0209221940260.166638-100000@homer08.u.washington.edu>
Message-ID: <x2vg4xj8js.fsf@biostat.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Mon, 23 Sep 2002, Robin Hankin wrote:
> 
> > Hello everybody.
> >
> > Does anyone else find the last test in the following sequence odd?
> > Can anyone else reproduce it or is it just me?
> >
> 
> Actually the previous explanation is completely bogus (I plead jet lag).
> The problem is in handling 2-tailed p-values, which is done by looking for
> the value in the opposite tail where the density is <= (1+1e-7) times the
> observed density.  The problem is that the observed density is 0.
> 
> It should be possible just to change <= to <, possibly increasing the
> fudge factor from 1e-7 but perhaps not.

That would create different problems, I suspect. The main issue seems
to be that this construct

                i <- seq(from = 0, to = x - 1)
                y <- sum(dbinom(i, n, p) <= d * relErr)
                pbinom(y - 1, n, p) + pbinom(x - 1, n, p, lower = FALSE)

is assumed to give y somewhere in the left tail, but in this case we
count some values in the right (i.e. wrong...) tail too. I'd expect
that using something like 

                i <- seq(from = 0, to = ceiling(n*p))

might work, but don't take my word for it...


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Sep 23 13:28:31 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 23 Sep 2002 07:28:31 -0400
Subject: [R] Overall Title in par(mfrow)
In-Reply-To: <Pine.SOL.4.21.0209231555110.22209-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <5.1.0.14.2.20020923072624.02dacd70@mcmail.cis.mcmaster.ca>

Dear Kevin,

At 03:57 PM 9/23/2002 +1200, Ko-Kang Kevin Wang wrote:
>Hi,
>
>Say I did something like:
>   par(mfrow = c(1, 2))
>   plot(1:10)
>   plot(1:10)
>
>and I'd like to have an overall title, i.e. a title that would appear,
>centered, on the top of both plots, rather than the top of the last plot.
>
>I tried:
>   title("FOO", outer = T)
>but it doesn't appear right.  Half of the FOO is outside the figure region
>and can't be seen...
>
>Is there another way to achieve this?

Here's one solution:

     par(mfrow = c(1, 2))
     plot(1:10)
     plot(1:10)
     text(locator(1), "FOO", cex=1.5, xpd=NA)

Click the mouse where you want the centre of the title.

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Mon Sep 23 14:28:37 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Mon, 23 Sep 2002 08:28:37 -0400 (EDT)
Subject: [R] Problems with tcltk package
Message-ID: <200209231228.IAA02855@blaise.dfci.harvard.edu>


>From: "Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es>
>To: "R-List" <>
>Subject: [R] Problems with tcltk package
>Date: Mon, 23 Sep 2002 12:24:04 +0200
>MIME-Version: 1.0
>Content-Transfer-Encoding: 7bit
>X-Priority: 3
>X-MSMail-Priority: Normal
>X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
>
>Hello listers,
>
>I have installed Tcl/Tk v8.4 on my system (Win XP, R 1.5.1). When I try to
>load the Tcl/Tk package I get this error:
>
>> library(tcltk)
>Error in firstlib(which.lib.loc, package) :
>        TCL_LIBRARY is not set
>Error in library(tcltk) : .First.lib failed
>
>Can someone help me, please?

Check the R help archives. There were discussions about this problem about a 
week ago.


>
>Thanks,
>
>Juan
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 23 14:46:38 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 23 Sep 2002 08:46:38 -0400
Subject: [R] Overall Title in par(mfrow)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC6C6@usrymx10.merck.com>

The outer margins are all 0's by default.  You need to increase it  for at
least side 3 (e.g., par(oma=c(0,0,2,0))).

Andy

> -----Original Message-----
> From: Ko-Kang Kevin Wang [mailto:kwan022 at stat.auckland.ac.nz]
> Sent: Sunday, September 22, 2002 11:58 PM
> To: R Help
> Subject: [R] Overall Title in par(mfrow)
> 
> 
> Hi,
> 
> Say I did something like:
>   par(mfrow = c(1, 2))
>   plot(1:10)
>   plot(1:10)
> 
> and I'd like to have an overall title, i.e. a title that would appear,
> centered, on the top of both plots, rather than the top of 
> the last plot.
> 
> I tried:
>   title("FOO", outer = T)
> but it doesn't appear right.  Half of the FOO is outside the 
> figure region
> and can't be seen...
> 
> Is there another way to achieve this?
> 
> Cheers,
> 
> Kevin
> 
> --------------------------------------------------------------
> ----------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Mon Sep 23 15:34:18 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Mon, 23 Sep 2002 09:34:18 -0400
Subject: [R] Problems with tcltk package
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFDD@MSGBOS576NTS.fmr.com>

You need to find Tcl's library directory on your system. Search for a file
named init.tcl; set its directory to your TCL_LIBRARY environment variable.
On my Windows system, its C:\Tcl\lib\tcl8.3, for instance.

Good luck.

Kevin

-----Original Message-----
From: Juan Ramon Gonzalez [mailto:jrgonzalez at ico.scs.es] 
Sent: Monday, September 23, 2002 6:24 AM
To: R-List
Subject: [R] Problems with tcltk package


Hello listers,

I have installed Tcl/Tk v8.4 on my system (Win XP, R 1.5.1). When I try to
load the Tcl/Tk package I get this error:

> library(tcltk)
Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in library(tcltk) : .First.lib failed

Can someone help me, please?

Thanks,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Mon Sep 23 15:51:34 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Mon, 23 Sep 2002 10:51:34 -0300
Subject: [R] Overall Title in par(mfrow)
In-Reply-To: <Pine.SOL.4.21.0209231555110.22209-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <4.2.2.20020923104343.00aad100@pop3.norton.antivirus>

One quick solution is to set par(mfrow=c(1,1)) before title("TITLE") 
(without the outer option).

A probably better one is to set the 'oma' option in par() right before 
title() (and after doing the plot), which sets the outer margins. Ex:

par(mfrow = c(1, 2))
plot(1:10)
plot(1:10)
par(oma=c(0,0,2,0))
title("TITLE" , outer=TRUE)

Daniel

At 03:57 PM 23/9/2002 +1200, Ko-Kang Kevin Wang wrote:
>Hi,
>
>Say I did something like:
>   par(mfrow = c(1, 2))
>   plot(1:10)
>   plot(1:10)
>
>and I'd like to have an overall title, i.e. a title that would appear,
>centered, on the top of both plots, rather than the top of the last plot.
>
>I tried:
>   title("FOO", outer = T)
>but it doesn't appear right.  Half of the FOO is outside the figure region
>and can't be seen...
>
>Is there another way to achieve this?
>
>Cheers,
>
>Kevin
>
>------------------------------------------------------------------------------
>Ko-Kang Kevin Wang
>Postgraduate PGDipSci Student
>Department of Statistics
>University of Auckland
>New Zealand
>Homepage: http://www.stat.auckland.ac.nz/~kwan022
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 23 16:40:55 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2002 16:40:55 +0200
Subject: [R] Problems with tcltk package
In-Reply-To: <000c01c262eb$57c59b80$1100a8c0@ico.scs.es>
References: <000c01c262eb$57c59b80$1100a8c0@ico.scs.es>
Message-ID: <x2r8fkkbuw.fsf@biostat.ku.dk>

"Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:

> Hello listers,
> 
> I have installed Tcl/Tk v8.4 on my system (Win XP, R 1.5.1). When I try to
> load the Tcl/Tk package I get this error:
> 
> > library(tcltk)
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in library(tcltk) : .First.lib failed
> 
> Can someone help me, please?

I believe that the Windows version has 8.3 hardcoded in a couple of
places, so downgrading might help... However, you still need to take
the hint and set TCL_LIBRARY, as outlined in the Windows FAQ, and
likely adjust your PATH too.

(The Tcl 8.4 release announcement was only last week, so as far as I
know there has been zero compatibility testing...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhespen at utk.edu  Mon Sep 23 16:54:12 2002
From: jhespen at utk.edu (Jennifer Hespen)
Date: Mon, 23 Sep 2002 10:54:12 -0400
Subject: [R] Running R in the background
Message-ID: <3D912355@webmail.utk.edu>

Hi,

I am running an R calculation on a Linux machine remotely. The calculations 
take about 5 hours to complete, and inevitably my connection gets reset before 
I finish my calculations. Someone told me that there is a way to invoke R in 
the background, but I have not been able to find out how. Is this possible, 
and if so how?

Thanks for your help,

Jennifer Hespen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Sickel at nrpa.no  Mon Sep 23 16:58:43 2002
From: Morten.Sickel at nrpa.no (Morten Sickel)
Date: Mon, 23 Sep 2002 16:58:43 +0200
Subject: [R] Newbie: Subsets of data frame
Message-ID: <54DE9A561AD20C4D9FF88B116965420E21E113@postix.nrpa.no>

I feel a bit embarassed by this, but I have not managed to find out how:

I have a data frame containing measurements over time for a number of
different locations:

> str(milk)
`data.frame':   845 obs. of  3 variables:
 $ date    : num  1987 1987 1987 1987 1987 ...
 $ value   : num  5 1 2 5 1 1 2 3 2 4 ...
 $ location: Factor w/ 36 levels "Alta","And?y",..: 1 1 1 1 1 1 1 1 1 1 ...

I assume there is some simpe way of extracting subsets of the data frame for
analysing the time series for just one of the location, but how? I have
tried using various variants of extract, [] and subset, but obiously, I have
missed something, for I have not managed to get out what I want. 

-- 
Morten Sickel
Norwegian Radiation Protection Authority 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dominik.grathwohl at rdls.nestle.com  Mon Sep 23 17:11:47 2002
From: dominik.grathwohl at rdls.nestle.com (Grathwohl,Dominik,LAUSANNE,NRC/NT)
Date: Mon, 23 Sep 2002 17:11:47 +0200
Subject: [R] R crash with internet2.dll
Message-ID: <89466355CEFE7244AC3A013E45641C18949529@lsmail2.crn.nestrd.ch>

Hi,

I'm using:

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              

and I would like to apply: 
> update.packages()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
unable to connect to 'vevprx21.nestec.ch'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open URL
`http://cran.r-project.org/bin/windows/contrib/PACKAGES'

This error is already described in the R-help archive.
One of several threads:
http://maths.newcastle.edu.au/~rking/R/help/01c/0950.html
Having a well working Internet Explorer 5 on my NT and it sounds as the
perfect solution 
for my problem to rename internet2.dll to internet.dll, to avoid the entire
proxy configuration. 
Doing so, R crashes!
What is wrong with internet2.dll?

Kind regards,

Dominik 


Dominik Grathwohl 
Biostatistician 
Nestl? Research Center 
PO Box 44, CH-1000 Lausanne 26 
Phone: + 41 21 785 8034 
Fax: + 41 21 785 8556 
e-mail: dominik.grathwohl at rdls.nestle.com 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JDeke at mathematica-mpr.com  Mon Sep 23 17:13:12 2002
From: JDeke at mathematica-mpr.com (John Deke)
Date: Mon, 23 Sep 2002 11:13:12 -0400
Subject: [R] Newbie: Subsets of data frame
Message-ID: <897E2332A97AD311AEBB00508B116D540765BDA0@mpr1>

Could you give some details on what commands you tried, what you hoped they
would do, and how they failed?

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Morten Sickel
Sent: Monday, September 23, 2002 10:59 AM
To: 'r-help'
Subject: [R] Newbie: Subsets of data frame


I feel a bit embarassed by this, but I have not managed to find out how:

I have a data frame containing measurements over time for a number of
different locations:

> str(milk)
`data.frame':   845 obs. of  3 variables:
 $ date    : num  1987 1987 1987 1987 1987 ...
 $ value   : num  5 1 2 5 1 1 2 3 2 4 ...
 $ location: Factor w/ 36 levels "Alta","Andoy",..: 1 1 1 1 1 1 1 1 1 1 ...

I assume there is some simpe way of extracting subsets of the data frame for
analysing the time series for just one of the location, but how? I have
tried using various variants of extract, [] and subset, but obiously, I have
missed something, for I have not managed to get out what I want. 

-- 
Morten Sickel
Norwegian Radiation Protection Authority 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep 23 17:20:43 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 23 Sep 2002 17:20:43 +0200
Subject: [R] Newbie: Subsets of data frame
In-Reply-To: <54DE9A561AD20C4D9FF88B116965420E21E113@postix.nrpa.no>
References: <54DE9A561AD20C4D9FF88B116965420E21E113@postix.nrpa.no>
Message-ID: <15759.12619.512234.798093@gargle.gargle.HOWL>

>>>>> "Morten" == Morten Sickel <Morten.Sickel at nrpa.no>
>>>>>     on Mon, 23 Sep 2002 16:58:43 +0200 writes:

    Morten> I feel a bit embarassed by this, but I have not
    Morten> managed to find out how: I have a data frame
    Morten> containing measurements over time for a number of
    Morten> different locations:

    >> str(milk)
    Morten> `data.frame':   845 obs. of  3 variables:
    Morten> $ date    : num  1987 1987 1987 1987 1987 ...
    Morten> $ value   : num  5 1 2 5 1 1 2 3 2 4 ...
    Morten> $ location: Factor w/ 36 levels "Alta","And?y",..: 1 1 1 1 1 1 1 1 1 1 ...

    Morten> I assume there is some simpe way of extracting
    Morten> subsets of the data frame for analysing the time
    Morten> series for just one of the location, but how? I have
    Morten> tried using various variants of extract, [] and
    Morten> subset, but obiously, I have missed something, for I
    Morten> have not managed to get out what I want.

  milkA <- milk[ milk$location == "Alta" , ]

or a bit more robustly,

  milkA <- subset(milk, location == "Alta")


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 23 17:23:28 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2002 17:23:28 +0200
Subject: [R] Newbie: Subsets of data frame
In-Reply-To: <54DE9A561AD20C4D9FF88B116965420E21E113@postix.nrpa.no>
References: <54DE9A561AD20C4D9FF88B116965420E21E113@postix.nrpa.no>
Message-ID: <x2n0q8k9vz.fsf@biostat.ku.dk>

Morten Sickel <Morten.Sickel at nrpa.no> writes:

> I feel a bit embarassed by this, but I have not managed to find out how:
> 
> I have a data frame containing measurements over time for a number of
> different locations:
> 
> > str(milk)
> `data.frame':   845 obs. of  3 variables:
>  $ date    : num  1987 1987 1987 1987 1987 ...
>  $ value   : num  5 1 2 5 1 1 2 3 2 4 ...
>  $ location: Factor w/ 36 levels "Alta","And?y",..: 1 1 1 1 1 1 1 1 1 1 ...
> 
> I assume there is some simpe way of extracting subsets of the data frame for
> analysing the time series for just one of the location, but how? I have
> tried using various variants of extract, [] and subset, but obiously, I have
> missed something, for I have not managed to get out what I want. 

Did you try

subset(milk,location=="And?y")

?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Mon Sep 23 17:26:27 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Mon, 23 Sep 2002 08:26:27 -0700
Subject: [R] calling a DLL/shared lib from R directly?
Message-ID: <003601c26315$96489f40$7c74c180@forestry.oregonstate.edu>

Is it possible to call a basic function/subroutine in a DLL/shared lib from
within R without having to build an R package?

 I have a function like:

 void __stdcall testfunc2(
   unsigned long a,
   double b,
   unsigned long c  )
 {
   return a * b * c;
 }

 or=20

  subroutine fortran_2002_bh_age (sp,site,total_age,bh_age)
  integer*2 sp
  real*4 site=20
  real*4 total_age
  integer*2 bh_age

  real*4 x

  bh_age =3D some_value

  end subroutine

 I have been able to make it happen from the "writing R extensions" docs. =
 It pretty important that this library be R independent.=20

 I only get the digest version, so if you answer, could you send a copy =
 to my email address please?

 Thanks,
 Jeff.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregor.gawron at rmf.ch  Mon Sep 23 17:39:40 2002
From: gregor.gawron at rmf.ch (Gregor Gawron)
Date: Mon, 23 Sep 2002 17:39:40 +0200
Subject: [R] Overall Title in par(mfrow)
Message-ID: <3635AAE6EA743844B05655F805CB3125D87F3B@titlis.rmf.ch>

 par(mfrow=c(2,2),oma=0.1+c(0,0,4,0))
...
...
...
mtext(MainLabel,line=2,outer=TRUE)



-----Original Message-----
From: Ko-Kang Kevin Wang [mailto:kwan022 at stat.auckland.ac.nz] 
Sent: Montag, 23. September 2002 05:58
To: R Help
Subject: [R] Overall Title in par(mfrow)


Hi,

Say I did something like:
  par(mfrow = c(1, 2))
  plot(1:10)
  plot(1:10)

and I'd like to have an overall title, i.e. a title that would appear,
centered, on the top of both plots, rather than the top of the last
plot.

I tried:
  title("FOO", outer = T)
but it doesn't appear right.  Half of the FOO is outside the figure
region and can't be seen...

Is there another way to achieve this?

Cheers,

Kevin

------------------------------------------------------------------------
------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 23 17:50:01 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2002 17:50:01 +0200
Subject: [R] binom.test()
In-Reply-To: <x2vg4xj8js.fsf@biostat.ku.dk>
References: <Pine.A41.4.44.0209221940260.166638-100000@homer08.u.washington.edu>
	<x2vg4xj8js.fsf@biostat.ku.dk>
Message-ID: <x2it0wk8nq.fsf@biostat.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> That would create different problems, I suspect. The main issue seems
> to be that this construct
> 
>                 i <- seq(from = 0, to = x - 1)
>                 y <- sum(dbinom(i, n, p) <= d * relErr)
>                 pbinom(y - 1, n, p) + pbinom(x - 1, n, p, lower = FALSE)
> 
> is assumed to give y somewhere in the left tail, but in this case we
> count some values in the right (i.e. wrong...) tail too. I'd expect
> that using something like 
> 
>                 i <- seq(from = 0, to = ceiling(n*p))
> 
> might work, but don't take my word for it...

This does seem to work:

                       else {
                           ## Do
                           ##   d <- dbinom(0 : n, n, p)
                           ##   sum(d[d <= dbinom(x, n, p)])
                           ## a bit more efficiently ...
                           ## Note that we need a little fuzz.
                           relErr <- 1 + 10 ^ (-7) 
                           d <- dbinom(x, n, p)
                           if(x / n < p) {
                               i <- seq(from = ceiling(n*p), to = n)
                               y <- sum(dbinom(i, n, p) <= d * relErr)
                               pbinom(x, n, p) +
                                   pbinom(n - y, n, p, lower = FALSE)
                           } else {
                               i <- seq(from = 0, to = floor(n*p))
                               y <- sum(dbinom(i, n, p) <= d * relErr)
                               pbinom(y - 1, n, p) +
                                   pbinom(x - 1, n, p, lower = FALSE)
                           }
                       }

If anyone can think of a reason why this might be wrong, please speak
up before I put this into R-1.6.0!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Mon Sep 23 18:32:33 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Mon, 23 Sep 2002 17:32:33 +0100
Subject: [R] Running R in the background
In-Reply-To: <3D912355@webmail.utk.edu>
References: <3D912355@webmail.utk.edu>
Message-ID: <200209231732.33325.ltorgo@liacc.up.pt>

On Monday 23 September 2002 15:54, Jennifer Hespen wrote:
> Hi,
>
> I am running an R calculation on a Linux machine remotely. The calculations
> take about 5 hours to complete, and inevitably my connection gets reset
> before I finish my calculations. Someone told me that there is a way to
> invoke R in the background, but I have not been able to find out how. Is
> this possible, and if so how?

You can do something like:

$> nohup /usr/bin/R --vanilla  < myCode.R &

This will create a file "nohup.out" with the output of your program. After 
running the above command you may logout your connection.



-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Mon Sep 23 19:14:09 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Mon, 23 Sep 2002 12:14:09 -0500
Subject: [R] R crash with internet2.dll
References: <89466355CEFE7244AC3A013E45641C18949529@lsmail2.crn.nestrd.ch>
Message-ID: <3D8F4BE1.7070207@perseus.unalmed.edu.co>

Dear Dominik:

You can read in the CHANGES file the way to use internet2, that is 
different from
version rw1040.
rw1040
======
internet2.dll (see changes for rw1030) must be selected by the
--internet2 flag.


Grathwohl,Dominik,LAUSANNE,NRC/NT wrote:

>Hi,
>
>I'm using:
>
>platform i386-pc-mingw32
>arch     i386           
>os       mingw32        
>system   i386, mingw32  
>status                  
>major    1              
>minor    5.1            
>year     2002           
>month    06             
>day      17             
>language R              
>
>and I would like to apply: 
>  
>
>>update.packages()
>>    
>>
>trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>unable to connect to 'vevprx21.nestec.ch'.
>Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
>        cannot open URL
>`http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>
>This error is already described in the R-help archive.
>One of several threads:
>http://maths.newcastle.edu.au/~rking/R/help/01c/0950.html
>Having a well working Internet Explorer 5 on my NT and it sounds as the
>perfect solution 
>for my problem to rename internet2.dll to internet.dll, to avoid the entire
>proxy configuration. 
>Doing so, R crashes!
>What is wrong with internet2.dll?
>
>Kind regards,
>
>Dominik 
>
>
>Dominik Grathwohl 
>Biostatistician 
>Nestl? Research Center 
>PO Box 44, CH-1000 Lausanne 26 
>Phone: + 41 21 785 8034 
>Fax: + 41 21 785 8556 
>e-mail: dominik.grathwohl at rdls.nestle.com 
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>  
>

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9351



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chinshan.chuang at stanfordalumni.org  Thu Sep 19 13:44:48 2002
From: chinshan.chuang at stanfordalumni.org (Chin-Shan Chuang)
Date: Thu, 19 Sep 2002 07:44:48 -0400
Subject: [R] Rounding
Message-ID: <200209191144.g8JBisjv018765@stat.math.ethz.ch>

Hi, would taking log base 10 of the number help?  For example, a number
that's >= 100 and < 1000 would have log base 10 >= 2 and < 3.  Use
floor on this.

Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> wrote:

Now my questions is: how do I work out the number of digits x has?  For
example in this case I have 3 digits for x (4, 5, and 9), hence I can
divide it by 100 first, floor() or ceiling() the result, then times 100.  

If I have n digits for x, this means I want to divide by (n - 1).  

But I'm not sure how to find n :-(


____________________________________________________________________
   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 23 19:23:29 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 23 Sep 2002 19:23:29 +0200
Subject: [R] Running R in the background
References: <3D912355@webmail.utk.edu>
Message-ID: <3D8F4E11.98DC7E0@statistik.uni-dortmund.de>

Jennifer Hespen wrote:
> 
> Hi,
> 
> I am running an R calculation on a Linux machine remotely. The calculations
> take about 5 hours to complete, and inevitably my connection gets reset before
> I finish my calculations. Someone told me that there is a way to invoke R in
> the background, but I have not been able to find out how. Is this possible,
> and if so how?

You can write your code into a file, say myfile.R . Then just start R in
its BATCH mode, an tell the process not to hang up if you are logged
off:

  nohup R BATCH myfile.R &

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 23 20:25:45 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 23 Sep 2002 11:25:45 -0700 (PDT)
Subject: [R] calling a DLL/shared lib from R directly?
In-Reply-To: <003601c26315$96489f40$7c74c180@forestry.oregonstate.edu>
Message-ID: <Pine.A41.4.44.0209231124290.146180-100000@homer40.u.washington.edu>

On Mon, 23 Sep 2002, Jeff D. Hamann wrote:

> Is it possible to call a basic function/subroutine in a DLL/shared lib from
> within R without having to build an R package?

Certainly. You can load the code with dyn.load and then call it with .C or
.Fortran.

At least under Unix it's usually easier to make a package.

	-thomas


>  I have a function like:
>
>  void __stdcall testfunc2(
>    unsigned long a,
>    double b,
>    unsigned long c  )
>  {
>    return a * b * c;
>  }
>
>  or=20
>
>   subroutine fortran_2002_bh_age (sp,site,total_age,bh_age)
>   integer*2 sp
>   real*4 site=20
>   real*4 total_age
>   integer*2 bh_age
>
>   real*4 x
>
>   bh_age =3D some_value
>
>   end subroutine
>
>  I have been able to make it happen from the "writing R extensions" docs. =
>  It pretty important that this library be R independent.=20
>
>  I only get the digest version, so if you answer, could you send a copy =
>  to my email address please?
>
>  Thanks,
>  Jeff.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Mon Sep 23 20:29:58 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Mon, 23 Sep 2002 13:29:58 -0500 (CDT)
Subject: [R] Running R in the background
In-Reply-To: <3D912355@webmail.utk.edu>
Message-ID: <Pine.LNX.4.21.0209231326450.21858-100000@ludwig.stat.wisc.edu>

You can have R (or other processes) run in the background through
nohup. At the shell prompt, do

nohup R BATCH --vanilla infile outfile &

You may logout and check your the output file after it finishes.

Jun

On Mon, 23 Sep 2002, Jennifer Hespen wrote:

> Hi,
> 
> I am running an R calculation on a Linux machine remotely. The calculations 
> take about 5 hours to complete, and inevitably my connection gets reset before 
> I finish my calculations. Someone told me that there is a way to invoke R in 
> the background, but I have not been able to find out how. Is this possible, 
> and if so how?
> 
> Thanks for your help,
> 
> Jennifer Hespen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Sep 23 22:00:33 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 23 Sep 2002 16:00:33 -0400
Subject: [R] RE: New version of gregmisc package
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CFAA@groexmb02.pfizer.com>


I forgot to note that Marc Schwartz contributed barplot2() and CrossTable().

-Greg

> -----Original Message-----
> From: Warnes, Gregory R 
> Sent: Monday, September 23, 2002 2:35 PM
> To: 'r-announce at lists.R-project.org'
> Subject: New version of gregmisc package
> 
> 
> 
> 
> Version 0.6.0 of the gregmisc package has just been released 
> on CRAN.   
> 
> 
> Description:
> ===========
> 
> Package: gregmisc
> Description: Misc Functions written/maintained by Gregory R. Warnes
> Title: Greg's Miscellaneous Functions
> Version: 0.6.0
> Date: 2002/09/23
> Maintainer: Gregory R. Warnes <Gregory_R_Warnes at groton.pfizer.com>
> Author: Gregory R. Warnes.  Includes code provided by Ben Bolker,
>         Bendix Carstensen, Don MacQueen, William Venables, and Marc
>         Schwartz
> License: GPL (version 2 or later)
> 
> Index:
> 
> CrossTable              Cross Tabulation with Tests for Factor 
>                         Independence
> aggregate.table         Create 2-Way Table of Summary Statistics
> bandplot                Plot x-y Points with Locally Smoothed Mean and
>                         Standard Deviation
> barplot2                Enhanced Bar Plots
> boxplot.n               Produce a Boxplot Annotated with the Number of
>                         Observations
> ci                      Compute Confidence Intervals
> combinations            Enumerate the Combinations or Permutations of
>                         the Elements of a Vector
> combine                 Combine R Objects With a Column Labeling the
>                         Source
> contrast.lm             Compute (and test) arbitrary contrasts for
>                         regression objects
> estimable               Compute and test estimable linear functions of
>                         the fitted coefficients (including contrasts)
>                         of regression objects
> factorial               Compute factorial function
> glh.test                Test a General Linear Hypothesis for a
>                         Regression Model 
> hist2d                  Compute and Plot a 2-Dimensional Histogram 
> interleave              Interleave Rows of Data Frames or Matrices 
> lowess                  Scatter Plot Smoothing
> nobs                    Compute the Number of Non-missing 
> Observations 
> plotCI                  Plot Error Bars
> plotmeans               Plot Group Means and Confidence Intervals
> quantcut                Create a Factor Variable Using the 
> Quantiles of
>                         a Continuous Variable
> rename.vars             Rename variables in a dataframe 
> reorder                 Reorder the Levels of a Factor
> running                 Apply a Function Over Adjacent Subsets of a
>                         Vector
> space                   Space points in an x-y plot so they don't
>                         overlap.
> undocumented            Undocumented functions
> wapply                  Compute the Value of a Function Over a Local
>                         Region Of An X-Y Plot
> 
> Changelog Since 0.5.5
> =====================
> 
> - Added barplot2():  
> 
>     barplot2 is an enhanced version of barplot that can add confidence
>     intervals for each bar, color plot region separately from the 
>     background area, draw "height" axis grid lines *behind* the bars,
>     and log-scale the data axis.  Contributed by Mark Schwartz
> 
> - Added CrossTable(): 
> 
> 	CrossTable is an implementation of a cross-tabulation function
>  	with output similar to S-Plus crosstabs() and SAS Proc Freq with
> 	Chi-square and Fisher tests of the independence of table factors
> 
> - Permit combinations() to be used when r>n provided   
>   repeat.allowed=TRUE
> 
> - Renamed 'concat' function to 'combine' to avoid name conflict with
>   an existing S-Plus function.
> 
> - Misc fixes to files for compatibility with R 1.6.0
> 
> - Correction of some documentation typos
> 
> 
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Mon Sep 23 21:59:22 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Mon, 23 Sep 2002 16:59:22 -0300 (ADT)
Subject: [R] arima() in package ts.
Message-ID: <200209231959.QAA29416@gelfand.math.unb.ca>


I've been trying to get comfy with arima() and associated functions
in the ts() package.  I'm thinking seriously about using this
package, and R generally, in a 4th year intro time series course that
I'm teaching this autumn.

I have a couple of questions about arima:

(1) The help file says that residuals component of the value returned
by arima() consists of the ``standardized'' residuals.  How
standardized?  I would have thought that standardized residuals would
equal

		(raw residuals) / sigma-hat

where sigma-hat is an estimate of the standard deviation of
the residuals.  But if I do

	flh <- arima(lh, order = c(3,0,0))
	var(flh$residuals)

I get 0.1824616, not (something close to) 1 as I would have expected.

And flh$sigma2 is 0.1786603 --- which is pretty close to the
foregoing value given by var().

Also I note that tsdiag.Arima creates

	rs <- object$resid
	stdres <- rs/sqrt(object$sigma2)

i.e. it undertakes ``standardization''.

So it looks to me as if the residuals component is NOT
``standardized''?  Am I correct?

(2) How is sigma2 calculated?  The help says that it is
the MLE of sigma-squared (the variance of the innovations).
Can it be computed directly from the residuals?  How?
(Since the whole MLE structure is very complicated, I'm
pretty sure the answer is ``No it can't'', but I'd like
a little more insight into what's going on here.)

(3) I tried

	x   <- rnorm(100)
	fx1 <- arima(x,c(1,0,0),c(1,0,0))
	fx2 <- arima(x,c(2,0,0))

Note that seasonality is not specified and so defaults to 1.

I would have thought that the coeficients of the second
model, say phi.21 and phi.22, would be related to the coefficients
of the first (``multiplicative'') model, say phi.1 and Phi.1,
by

	phi.21 = phi.1 + Phi.1
	phi.22 = -phi.1*Phi.1

(just multiplying out (1 - phi.1*x)(1 - Phi.1*x) and comparing
with 1 - phi.21*x - phi.22*x^2).

But I get

 > fx2$coef
        ar1         ar2   intercept 
 0.06465065  0.05896674 -0.10499616 
 > fx1$coef
        ar1        sar1   intercept 
 0.03339341  0.03339341 -0.10562032

so phi.1 + Phi.1 = 0.06678682 --- close but no cigar, and
-phi.1*Phi.1 = -0.001115120

What am I missing/misunderstanding?

Thanks for any insight.

				cheers,

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From knussear at biodiversity.unr.edu  Tue Sep 24 00:22:11 2002
From: knussear at biodiversity.unr.edu (Ken Nussear)
Date: Mon, 23 Sep 2002 15:22:11 -0700
Subject: [R] How do I change plot colors in bwplot
Message-ID: <E7D32337-CF42-11D6-A01C-0003939B3BBE@biodiversity.unr.edu>

Hello,

I'm using bwplot to make a few plots. The plots are exactly what I 
need, but are coming out with a grey background and turquoise boxes and 
whiskers.  I cannot figure out how to just get black and white to be 
the default. Can anyone help me with this?

Thanks


Kenneth E. Nussear                    Phone  775 784-1703
Ecology, Evolution and                  FAX 775 784-1369
Conservation Biology/314             knussear at biodiversity.unr.edu
Reno, Nevada   89557-0013         http://www.brrc.unr.edu/~knussear/
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 623 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020923/d234cd4f/attachment.bin

From kjetilh at umsanet.edu.bo  Tue Sep 24 02:08:32 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 23 Sep 2002 20:08:32 -0400
Subject: [R] Newbie: Subsets of data frame
References: <897E2332A97AD311AEBB00508B116D540765BDA0@mpr1>
Message-ID: <3D8FAD00.28254F97@umsanet.edu.bo>

What about 

milk[milk$location =="Alta"]


Kjetil Halvorsen

John Deke wrote:
> 
> Could you give some details on what commands you tried, what you hoped they
> would do, and how they failed?
> 
> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Morten Sickel
> Sent: Monday, September 23, 2002 10:59 AM
> To: 'r-help'
> Subject: [R] Newbie: Subsets of data frame
> 
> I feel a bit embarassed by this, but I have not managed to find out how:
> 
> I have a data frame containing measurements over time for a number of
> different locations:
> 
> > str(milk)
> `data.frame':   845 obs. of  3 variables:
>  $ date    : num  1987 1987 1987 1987 1987 ...
>  $ value   : num  5 1 2 5 1 1 2 3 2 4 ...
>  $ location: Factor w/ 36 levels "Alta","Andoy",..: 1 1 1 1 1 1 1 1 1 1 ...
> 
> I assume there is some simpe way of extracting subsets of the data frame for
> analysing the time series for just one of the location, but how? I have
> tried using various variants of extract, [] and subset, but obiously, I have
> missed something, for I have not managed to get out what I want.
> 
> --
> Morten Sickel
> Norwegian Radiation Protection Authority
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Tue Sep 24 03:17:37 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 24 Sep 2002 13:17:37 +1200
Subject: [R] How do I change plot colors in bwplot
Message-ID: <20020924011737.IHG21738.web2-rme.xtra.co.nz@[127.0.0.1]>

The default should be white, I think.

But you can try:
  par(bg = "white")
  plot(1:10)

This should set the background to white.

> From: Ken Nussear <knussear at biodiversity.unr.edu>
> Date: 2002/09/24 Tue AM 10:22:11 GMT+12:00
> To: r-help at stat.math.ethz.ch
> Subject: [R] How do I change plot colors in bwplot
> 
> Hello,
> 
> I'm using bwplot to make a few plots. The plots are exactly what I 
> need, but are coming out with a grey background and turquoise boxes and 
> whiskers.  I cannot figure out how to just get black and white to be 
> the default. Can anyone help me with this?
> 
> Thanks
> 
> 
> Kenneth E. Nussear                    Phone  775 784-1703
> Ecology, Evolution and                  FAX 775 784-1369
> Conservation Biology/314             knussear at biodiversity.unr.edu
> Reno, Nevada   89557-0013         http://www.brrc.unr.edu/~knussear/
> 
> Hello,
> 
> 
> I'm using bwplot to make a few plots. The plots are exactly what I
> need, but are coming out with a grey background and turquoise boxes
> and whiskers.  I cannot figure out how to just get black and white to
> be the default. Can anyone help me with this?
> 
> 
> Thanks
> 
> 
> 
> <fontfamily><param>Comic Sans MS</param>Kenneth E. Nussear                   
> Phone  775 784-1703      
> 
> Ecology, Evolution and                  FAX 775 784-1369         
> 
> Conservation Biology/314             knussear at biodiversity.unr.edu                            
> 
> Reno, Nevada   89557-0013         http://www.brrc.unr.edu/~knussear/
> 
> </fontfamily>
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Sep 24 03:19:55 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 23 Sep 2002 21:19:55 -0400
Subject: [R] How do I change plot colors in bwplot
References: <E7D32337-CF42-11D6-A01C-0003939B3BBE@biodiversity.unr.edu>
Message-ID: <3D8FBDBB.F5E2745E@umsanet.edu.bo>

bwplot is a lattice function. Before you use it, try

trellis.device(color=FALSE)
 lset(theme=col.whitebg())

but this seems only to change the background to white, the other colors
are as before.

Kjetil Halvorsen

Ken Nussear wrote:
> 
> Hello,
> 
> I'm using bwplot to make a few plots. The plots are exactly what I need, but are coming out with a grey background and turquoise boxes and whiskers. I cannot figure out how to just get black and white to be the default. Can anyone help me with this?
> 
> Thanks
> 
> Kenneth E. Nussear Phone 775 784-1703
> Ecology, Evolution and FAX 775 784-1369
> Conservation Biology/314 knussear at biodiversity.unr.edu
> Reno, Nevada 89557-0013 http://www.brrc.unr.edu/~knussear/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zzaward at fox.uq.net.au  Tue Sep 24 06:19:25 2002
From: zzaward at fox.uq.net.au (zzaward@fox.uq.net.au)
Date: Tue, 24 Sep 2002 00:19:25 -0400
Subject: [R] How do I change plot colors in bwplot
Message-ID: <191690-22002922441925815@M2W043.mail2web.com>

The following short script, from the S-PLUS newsgroup I think, changes the
strip colour to whatever you specify. The default here is white.

> trellis.strip <- function (b = 0, s = 0)
{
    s.b <- trellis.par.get("strip.background")
    s.b$col <- rep(b, length(s.b$col))
    trellis.par.set("strip.background", s.b)
    s.s <- trellis.par.get("strip.shingle")
    s.s$col <- rep(s, length(s.s$col))
    trellis.par.set("strip.shingle", s.s)
}


Regards,


Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

Original Message:
-----------------
From: kjetil halvorsen kjetilh at umsanet.edu.bo
Date: Mon, 23 Sep 2002 21:19:55 -0400
To: knussear at biodiversity.unr.edu, r-help at stat.math.ethz.ch
Subject: Re: [R] How do I change plot colors in bwplot


bwplot is a lattice function. Before you use it, try

trellis.device(color=FALSE)
 lset(theme=col.whitebg())

but this seems only to change the background to white, the other colors
are as before.

Kjetil Halvorsen

Ken Nussear wrote:
> 
> Hello,
> 
> I'm using bwplot to make a few plots. The plots are exactly what I need,
but are coming out with a grey background and turquoise boxes and whiskers.
I cannot figure out how to just get black and white to be the default. Can
anyone help me with this?
> 
> Thanks
> 
> Kenneth E. Nussear Phone 775 784-1703
> Ecology, Evolution and FAX 775 784-1369
> Conservation Biology/314 knussear at biodiversity.unr.edu
> Reno, Nevada 89557-0013 http://www.brrc.unr.edu/~knussear/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


--------------------------------------------------------------------
mail2web - Check your email from the web at
http://mail2web.com/ .



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dominik.grathwohl at rdls.nestle.com  Tue Sep 24 08:44:05 2002
From: dominik.grathwohl at rdls.nestle.com (Grathwohl,Dominik,LAUSANNE,NRC/NT)
Date: Tue, 24 Sep 2002 08:44:05 +0200
Subject: [R] R crash with internet2.dll
Message-ID: <89466355CEFE7244AC3A013E45641C1894952B@lsmail2.crn.nestrd.ch>

Dear Kenneth,

this was the crucial hint!
calling R by: rgui.exe --internet2
then after the R prompt:

> update.packages()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 7505 bytes
opened URL
downloaded 7505 bytes

EMV :
 Version NA in N:/Clineval/Statistics/R/rw1051/library 
 Version 1.1 on CRAN
Update (y/N)?  y
PHYLOGR :
 Version NA in N:/Clineval/Statistics/R/rw1051/library 
 Version 1.0.1 on CRAN
Update (y/N)?  y
VLMC :
 Version NA in N:/Clineval/Statistics/R/rw1051/library 
 Version 1.3-3 on CRAN
Update (y/N)?  y
XML :
 Version NA in N:/Clineval/Statistics/R/rw1051/library 
 Version 0.9-1 on CRAN
Update (y/N)?  y
trying URL `http://cran.r-project.org/bin/windows/contrib/EMV.zip'
Content type `application/zip' length 29092 bytes
opened URL
downloaded 28Kb

trying URL `http://cran.r-project.org/bin/windows/contrib/PHYLOGR.zip'
Content type `application/zip' length 884055 bytes
opened URL
downloaded 863Kb

trying URL `http://cran.r-project.org/bin/windows/contrib/VLMC.zip'
Content type `application/zip' length 154404 bytes
opened URL
downloaded 150Kb

trying URL `http://cran.r-project.org/bin/windows/contrib/XML.zip'
Content type `application/zip' length 834873 bytes
opened URL
downloaded 815Kb


Delete downloaded files (y/N)? y

updating HTML package descriptions
There were 50 or more warnings (use warnings() to see the first 50)
> warnings()
Warning messages:
1: DESCRIPTION file of package ADAPT missing or broken in:
package.description(p, lib = lib, fields = c("Version", "Priority",   ...
2: DESCRIPTION file of package AGCE missing or broken in:
package.description(p, lib = lib, fields = c("Version", "Priority",   ...
3: DESCRIPTION file of package AKIMA missing or broken in:
package.description(p, lib = lib, fields = c("Version", "Priority",   ...
...

I got pretty more of this warning messages, what does this mean?
Is my system not able to update this libraries?
Can I reconfigure update.packages that it also updates Jim Lindsey's
(http://alpha.luc.ac.be/~lucp0753/rcode) libraries?

Thanks and kind regards,

Dominik

> -----Original Message-----
> From: Kenneth Cabrera [mailto:krcabrer at perseus.unalmed.edu.co]
> Sent: lundi, 23. septembre 2002 19:14
> To: Grathwohl,Dominik,LAUSANNE,NRC/NT
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] R crash with internet2.dll
> 
> 
> Dear Dominik:
> 
> You can read in the CHANGES file the way to use internet2, that is 
> different from
> version rw1040.
> rw1040
> ======
> internet2.dll (see changes for rw1030) must be selected by the
> --internet2 flag.
> 
> 
> Grathwohl,Dominik,LAUSANNE,NRC/NT wrote:
> 
> >Hi,
> >
> >I'm using:
> >
> >platform i386-pc-mingw32
> >arch     i386           
> >os       mingw32        
> >system   i386, mingw32  
> >status                  
> >major    1              
> >minor    5.1            
> >year     2002           
> >month    06             
> >day      17             
> >language R              
> >
> >and I would like to apply: 
> >  
> >
> >>update.packages()
> >>    
> >>
> >trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> >unable to connect to 'vevprx21.nestec.ch'.
> >Error in download.file(url = paste(contriburl, "PACKAGES", 
> sep = "/"),  : 
> >        cannot open URL
> >`http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> >
> >This error is already described in the R-help archive.
> >One of several threads:
> >http://maths.newcastle.edu.au/~rking/R/help/01c/0950.html
> >Having a well working Internet Explorer 5 on my NT and it 
> sounds as the
> >perfect solution 
> >for my problem to rename internet2.dll to internet.dll, to 
> avoid the entire
> >proxy configuration. 
> >Doing so, R crashes!
> >What is wrong with internet2.dll?
> >
> >Kind regards,
> >
> >Dominik 
> >
> >
> >Dominik Grathwohl 
> >Biostatistician 
> >Nestl? Research Center 
> >PO Box 44, CH-1000 Lausanne 26 
> >Phone: + 41 21 785 8034 
> >Fax: + 41 21 785 8556 
> >e-mail: dominik.grathwohl at rdls.nestle.com 
> >
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", 
> "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._._._._._._
> >
> >  
> >
> 
> -- 
> Kenneth Roy Cabrera Torres
> Unviersidad Nacional de Colombia, Sede Medell?n
> Instituto de Ciencias Naturales y Ecolog?a
> Escuela de Geociencias
> e-mail krcabrer at unalmed.edu.co
> Tel +57 (4) 430-9351
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Sep 24 10:30:07 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 24 Sep 2002 04:30:07 -0400
Subject: [R] extracting real parts of eigenvalues
Message-ID: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>

After calculating eigenvalues, I would like to extract only the real parts. 
I tried using as.real() but it gave me warnings that I would like to avoid 
generating. Any ideas?

Thank you in advance.

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Sep 24 00:19:46 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 24 Sep 2002 10:19:46 +1200
Subject: [R] extracting real parts of eigenvalues
In-Reply-To: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>; from HStevens@muohio.edu on Tue, Sep 24, 2002 at 04:30:07AM -0400
References: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
Message-ID: <20020924101946.A12114@camille.indigoindustrial.co.nz>

On Tue, Sep 24, 2002 at 04:30:07AM -0400, Martin Henry H. Stevens wrote:
> After calculating eigenvalues, I would like to extract only the real parts. 
> I tried using as.real() but it gave me warnings that I would like to avoid 
> generating. Any ideas?

Re(your.eigenvalues)

?Re has all the details.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Tue Sep 24 12:17:25 2002
From: sholl at gmx.net (Stephan Holl)
Date: Tue, 24 Sep 2002 12:17:25 +0200
Subject: [R] latex-signs in plots?
Message-ID: <20020924121725.7a02898d.sholl@gmx.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear List,
Is it possible to plot special signs related to latex?
For example \bar{x} for the standard deviation....

Thank you for your help.
- -- 
- --------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
- --------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9kDu1Eg9SKhGUagkRAhEIAKCxWTxPXvhNBghunTS9Gz6ga0TbIgCgmvLh
GWCrfGbaRqboVbpDA93m6lk=
=1Gpv
-----END PGP SIGNATURE-----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep 24 12:36:56 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 24 Sep 2002 12:36:56 +0200
Subject: [R] Rounding
In-Reply-To: <200209191144.g8JBisjv018765@stat.math.ethz.ch>
References: <200209191144.g8JBisjv018765@stat.math.ethz.ch>
Message-ID: <15760.16456.683103.964739@gargle.gargle.HOWL>

>>>>> "ChinShCh" == Chin-Shan Chuang <chinshan.chuang at stanfordalumni.org>
>>>>>     on Thu, 19 Sep 2002 07:44:48 -0400 writes:

    ChinShCh> Hi, would taking log base 10 of the number help?
    ChinShCh> For example, a number that's >= 100 and < 1000
    ChinShCh> would have log base 10 >= 2 and < 3.  Use floor on
    ChinShCh> this.

also, Peter Dalgaard's answer in this thread already answers the
question I think.

One thing not widely known you may be able to use is
format.info() :
It indicates how much space  format() would use
--> help(format.info)

    ChinShCh> Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> wrote:

    KKKW> Now my questions is: how do I work out the number
    KKKW> of digits x has?  For example in this case I have
    KKKW> 3 digits for x (4, 5, and 9), hence I can divide
    KKKW> it by 100 first, floor() or ceiling() the result,
    KKKW> then times 100.

    KKKW> If I have n digits for x, this means I want to divide by (n - 1).  
    KKKW> But I'm not sure how to find n :-(
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Sep 24 12:43:25 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 24 Sep 2002 12:43:25 +0200 (CEST)
Subject: [R] extracting real parts of eigenvalues
In-Reply-To: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
Message-ID: <Pine.LNX.4.44.0209241242480.9348-100000@localhost.localdomain>

Hi,

use is.real():

val <- eigen(mat)$values
val(is.real(val))

Cheers,

Ott


On Tue, 24 Sep 2002, Martin Henry H. Stevens wrote:

  |After calculating eigenvalues, I would like to extract only the real parts. 
  |I tried using as.real() but it gave me warnings that I would like to avoid 
  |generating. Any ideas?
  |
  |Thank you in advance.
  |
  |Martin Henry H. Stevens, Assistant Professor
  |338 Pearson Hall
  |Botany Department
  |Miami University
  |Oxford, OH 45056
  |
  |Office: (513) 529-4206
  |Lab: (513) 529-4262
  |FAX: (513) 529-4243
  |http://www.muohio.edu/~botcwis/bot/henry.html
  |
  |-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
  |r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
  |Send "info", "help", or "[un]subscribe"
  |(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
  |_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
  |

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Tue Sep 24 13:13:32 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Tue, 24 Sep 2002 13:13:32 +0200
Subject: [R] extracting real parts of eigenvalues
In-Reply-To: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
Message-ID: <LMEKLMMLPDKOJNOOEELEOELGDKAA.carlos.ortega@minorplanet.com>

Yes,

Please check Re().
The details of all the functions to handle complex arithmetic is under
"complex".

Regards,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Martin Henry H.
Stevens
Enviado el: martes, 24 de septiembre de 2002 10:30
Para: r-help at stat.math.ethz.ch
Asunto: [R] extracting real parts of eigenvalues


After calculating eigenvalues, I would like to extract only the real parts.
I tried using as.real() but it gave me warnings that I would like to avoid
generating. Any ideas?

Thank you in advance.

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Sep 24 13:12:25 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 24 Sep 2002 13:12:25 +0200
Subject: [R] latex-signs in plots?
References: <20020924121725.7a02898d.sholl@gmx.net>
Message-ID: <009c01c263bb$486359e0$5c13070a@it.giustizia.it>

Of course it is possible in R, e.g.:
plot(1:10, xlab=expression(G[2]-bar(x)+hat(alpha)))

Also if you are able to use latex, you could try the psfrag package.

best,
vito

----- Original Message -----
From: "Stephan Holl" <sholl at gmx.net>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, September 24, 2002 12:17 PM
Subject: [R] latex-signs in plots?


> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Dear List,
> Is it possible to plot special signs related to latex?
> For example \bar{x} for the standard deviation....
>
> Thank you for your help.
> - --
> - --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975
> - --------------------------------------
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.7 (GNU/Linux)
>
> iD8DBQE9kDu1Eg9SKhGUagkRAhEIAKCxWTxPXvhNBghunTS9Gz6ga0TbIgCgmvLh
> GWCrfGbaRqboVbpDA93m6lk=
> =1Gpv
> -----END PGP SIGNATURE-----
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Sep 24 13:34:05 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Tue, 24 Sep 2002 23:34:05 +1200 (NZST)
Subject: [R] print(), paste()
Message-ID: <Pine.SOL.4.21.0209242330090.23443-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have the following lines at the end of a function:
  answer <- c(2, 1, 0, 4, 5) # In fact, answer will be generate in my
                             # function
  print(answer) # Print the answer
  # Now, find the best fitted n degree polynomial
  print(paste("The best fit is with", which.min(answer) - 1,
              "-degree polynomial"))
this will return:
  [1] 2 1 0 4 5
  [1] "The best fit is with 2 -degree polynomial"  

Two questions:

1) How can I supress the [1] in the second line in the output?

2) The second line has ...with 2 -degree... , how can I make it display
...with 2-degree...?

In other words I'd like my output to look like:
  [1] 2 1 0 4 5
  "The best fit is with 2-degree polynomial"    


Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue Sep 24 13:35:42 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 24 Sep 2002 13:35:42 +0200 (CEST)
Subject: [R] extracting real parts of eigenvalues
In-Reply-To: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
Message-ID: <Pine.LNX.4.44.0209241334110.13287-100000@reclus.nhh.no>

On Tue, 24 Sep 2002, Martin Henry H. Stevens wrote:

> After calculating eigenvalues, I would like to extract only the real parts. 
> I tried using as.real() but it gave me warnings that I would like to avoid 
> generating. Any ideas?

Re(x) accesses the real part of a complex vector.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Sep 24 14:04:21 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 24 Sep 2002 07:04:21 -0500
Subject: [R] print(), paste()
In-Reply-To: <Pine.SOL.4.21.0209242330090.23443-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0209242330090.23443-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020924120421.GA3359@sonny.eddelbuettel.com>

On Tue, Sep 24, 2002 at 11:34:05PM +1200, Ko-Kang Kevin Wang wrote:
>   print(answer) # Print the answer
>   # Now, find the best fitted n degree polynomial
>   print(paste("The best fit is with", which.min(answer) - 1,
>               "-degree polynomial"))
[...]
> In other words I'd like my output to look like:
>   [1] 2 1 0 4 5
>   "The best fit is with 2-degree polynomial"    

You want cat() instead of print(), and sprintf() is one way to get finer
control over how things are printed:

> answer <- c(2,1,0,4,5)
> print(answer); cat(sprintf("The best fit is with %.0f-degree polynomial\n",
                              which.min(answer)-1))
[1] 2 1 0 4 5
The best fit is with 2-degree polynomial


Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pie at bu.edu  Tue Sep 24 14:03:54 2002
From: pie at bu.edu (Marcio Pie)
Date: Tue, 24 Sep 2002 08:03:54 -0400
Subject: [R] help with bootstrap
Message-ID: <B25B37CE-CFB5-11D6-8087-0003939F3570@bu.edu>


Hi there,

I'm stuck, but since I just started learning R, this might be a trivial 
problem. I need to do a bootstrap on the variance among the eigenvalues 
of a matrix. I can get this variance doing this:

 >var.eigenvalues=function(x)
 >var(eigen(cov(x), symmetric = T, only.values = T)$values)


but if I try to run:
 >matrix=read.table("matrix.txt", header=T)
 >boot(matrix, var.eigenvalues, 100)

I get: "Error in statistic(data, original, ...) : unused 
argument(s) ( ...)".

Any idea of what I might be doing wrong?

Any help with be really appreciated.

Marcio

p.s.: Since I'm not subscribed, please reply to my e-mail address: 
pie at bu.edu.spam (don't forget to remove the .spam from the address).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 742 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020924/4ae36f76/attachment.bin

From nolwenn.lemeur at nantes.inserm.fr  Tue Sep 24 14:27:58 2002
From: nolwenn.lemeur at nantes.inserm.fr (Nolwenn Le Meur)
Date: Tue, 24 Sep 2002 14:27:58 +0200
Subject: [R] Iterative data.frame
Message-ID: <LMEBLNBEKKODLAONNGJMKEFLCAAA.nolwenn.lemeur@nantes.inserm.fr>

Hi,
I would like to create data.frame and increment their name to finally merge
them.
Does anybody has a solution ?

Something like that ?

n<-6
for (i in 1:n) {
      m[i]<-data.frame(name,value)
	m<-merge(m[i]:m[n])
}


Nolwenn
********************************************
Nolwenn Le Meur
INSERM U533
Facult? de m?decine
1, rue Gaston Veil
44035 Nantes Cedex 1
France

Tel: (+33)-2-40-41-29-86 (office)
     (+33)-2-40-41-28-44 (secretary)
Fax: (+33)-2-40-41-29-50
mail: nolwenn.lemeur at nantes.inserm.fr
********************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From remigijus.lapinskas at maf.vu.lt  Tue Sep 24 14:52:31 2002
From: remigijus.lapinskas at maf.vu.lt (Remigijus Lapinskas)
Date: Tue, 24 Sep 2002 14:52:31 +0200
Subject: [R] order with NAs
Message-ID: <9619.020924@maf.vu.lt>

Dear All,

I have the test results in the following form

> test <- data.frame(Name=letters[1:5],Score=c(7,NA,5,NA,10))
> test
  Name Score
1    a     7
2    b    NA
3    c     5
4    d    NA
5    e    10

I want to rate Names by Score. However, NAs pop up to the
upper rows when doing

> data.frame(Rating=1:dim(test)[1],test[rev(order(test$Score)),])
  Rating Name Score
4      1    d    NA
2      2    b    NA
5      3    e    10
1      4    a     7
3      5    c     5

Is there an elegant way to place NAs in the lowest rows? And BTW how
can I remove the first column of 4, 2, 5 etc?

Best regards,
 Remigijus                          mailto:remigijus.lapinskas at maf.vu.lt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Tue Sep 24 15:36:19 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Tue, 24 Sep 2002 09:36:19 -0400
Subject: [R] print(), paste()
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFDF@MSGBOS576NTS.fmr.com>

1) Use "cat" instead of "print".

2) Use paste's "sep" argument. I find it particularly convenient to define:
"%&%" <- function(a, b) paste(a, b, sep="")

You can then write: cat("The best fit is with " %&% (which.min(answer) - 1)
%&% "-degree polynomial")

Good luck.

Kevin

-----Original Message-----
From: Ko-Kang Kevin Wang [mailto:kwan022 at stat.auckland.ac.nz] 
Sent: Tuesday, September 24, 2002 7:34 AM
To: R Help
Subject: [R] print(), paste()


Hi,

Suppose I have the following lines at the end of a function:
  answer <- c(2, 1, 0, 4, 5) # In fact, answer will be generate in my
                             # function
  print(answer) # Print the answer
  # Now, find the best fitted n degree polynomial
  print(paste("The best fit is with", which.min(answer) - 1,
              "-degree polynomial"))
this will return:
  [1] 2 1 0 4 5
  [1] "The best fit is with 2 -degree polynomial"  

Two questions:

1) How can I supress the [1] in the second line in the output?

2) The second line has ...with 2 -degree... , how can I make it display
...with 2-degree...?

In other words I'd like my output to look like:
  [1] 2 1 0 4 5
  "The best fit is with 2-degree polynomial"    


Cheers,

Kevin

----------------------------------------------------------------------------
--
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Sep 24 15:55:59 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 24 Sep 2002 15:55:59 +0200 (CEST)
Subject: [R] print(), paste()
In-Reply-To: <20020924120421.GA3359@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.44.0209241554230.9553-100000@localhost.localdomain>

On Tue, 24 Sep 2002, Dirk Eddelbuettel wrote:

  |On Tue, Sep 24, 2002 at 11:34:05PM +1200, Ko-Kang Kevin Wang wrote:

...

  |You want cat() instead of print(), and sprintf() is one way to get finer
  |control over how things are printed:
  |
  |> answer <- c(2,1,0,4,5)
  |> print(answer); cat(sprintf("The best fit is with %.0f-degree polynomial\n",
  |                              which.min(answer)-1))
  |[1] 2 1 0 4 5
  |The best fit is with 2-degree polynomial

Or just use cat(..., sep="")

cat("The best...", which.min(abwer)-1, sep="")


Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Sep 24 16:05:17 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 24 Sep 2002 16:05:17 +0200 (CEST)
Subject: [R] Iterative data.frame
In-Reply-To: <LMEBLNBEKKODLAONNGJMKEFLCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <Pine.LNX.4.44.0209241557180.9553-100000@localhost.localdomain>

Hi,

how do you generate your data frames?  By reading from file or combining
variables by data.frame()?  In the last case you can use args like
tag=value.  

I would use a list instead of auto-generating names:
m <- vector("list", 6)
for(i in 1:6) 
  m[[i]] <- data.frame(...)

If you really have to construct an unique name, use assign().

For merging, I would use either rbind() or cbind(), depending whether you
have the same variables or observations.

Perhaps it helps.

Ott


On Tue, 24 Sep 2002, Nolwenn Le Meur wrote:

  |Hi,
  |I would like to create data.frame and increment their name to finally merge
  |them.
  |Does anybody has a solution ?
  |
  |Something like that ?
  |
  |n<-6
  |for (i in 1:n) {
  |      m[i]<-data.frame(name,value)
  |	m<-merge(m[i]:m[n])
  |}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Tue Sep 24 16:04:30 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Tue, 24 Sep 2002 16:04:30 +0200
Subject: [R] Iterative data.frame
In-Reply-To: <LMEBLNBEKKODLAONNGJMKEFLCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <LMEKLMMLPDKOJNOOEELEAELMDKAA.carlos.ortega@minorplanet.com>

Hello,

You can use the following, based on rbind(), as a possible idea.

x.fin<-0
for (i in 1:10) {
	x.tmp<-rnorm(10)
	x.fin<-rbind(x.fin,x.tmp)
	}

Regards,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Nolwenn Le Meur
Enviado el: martes, 24 de septiembre de 2002 14:28
Para: R-help at stat.math.ethz.ch
Asunto: [R] Iterative data.frame


Hi,
I would like to create data.frame and increment their name to finally merge
them.
Does anybody has a solution ?

Something like that ?

n<-6
for (i in 1:n) {
      m[i]<-data.frame(name,value)
	m<-merge(m[i]:m[n])
}


Nolwenn
********************************************
Nolwenn Le Meur
INSERM U533
Facult? de m?decine
1, rue Gaston Veil
44035 Nantes Cedex 1
France

Tel: (+33)-2-40-41-29-86 (office)
     (+33)-2-40-41-28-44 (secretary)
Fax: (+33)-2-40-41-29-50
mail: nolwenn.lemeur at nantes.inserm.fr
********************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Tue Sep 24 17:04:24 2002
From: wolski at molgen.mpg.de (wolski)
Date: Tue, 24 Sep 2002 17:04:24 +0200
Subject: [R] R_Libs in .Renviron?
Message-ID: <200209241704240066.067095FD@harry.molgen.mpg.de>

Hi!
Where to set R_LIBS?
I have .Renviron with the line.
R_LIBS=/package/R/R-1.5.0/linux/lib/R/library/;/home/wolski/Rpack/
in my home directory
but cant access any library stored in the /home/wolski/Rpack/?

Eryk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Shipley at Usherbrooke.ca  Tue Sep 24 20:19:39 2002
From: Bill.Shipley at Usherbrooke.ca (Bill Shipley)
Date: Tue, 24 Sep 2002 11:19:39 -0700
Subject: [R] extracting elements from summary(aov object)
Message-ID: <5.1.1.6.0.20020924111438.00afdfe0@courrier.usherbrooke.ca>

Hello.  When one types "summary(fit)", where fit is an object from a call 
to aov(), one gets an ANOVA table.  I want to save just one element of this 
summary.  How does one extract this?

As an example, here is my output from a split plot ANOVA:

 > summary(out)$"Error: soil.cores$block:soil.cores$treatment"
                      Df  Sum Sq Mean Sq F value Pr(>F)
soil.cores$block      3 0.63626 0.21209  1.0557 0.4147
soil.cores$treatment  3 0.90276 0.30092  1.4978 0.2802
Residuals             9 1.80813 0.20090

I want to save only the F value of "soil.cores$treatment" .  In SPLUS one 
would do this by
summary(out)$"Error: soil.cores$block:soil.cores$treatment"$"F value"[2] 
but this doesn't seem to work.

Thanks.

Bill Shipley
Departement de biologie
Universite de Sherbrooke
Sherbrooke (Quebec) CANADA J1K 2R9
Bill.Shipley at USherbrooke.ca
http://callisto.si.usherb.ca:8080/bshipley/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Sep 24 18:29:09 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 24 Sep 2002 12:29:09 -0400
Subject: [R] order with NAs
References: <9619.020924@maf.vu.lt>
Message-ID: <3D9092D5.494286EB@umsanet.edu.bo>

You want argument na.last to order(). Since you use rev() aftervards,
you want na.last=FALSE.

Kjetil Halvorsen

Remigijus Lapinskas wrote:
> 
> Dear All,
> 
> I have the test results in the following form
> 
> > test <- data.frame(Name=letters[1:5],Score=c(7,NA,5,NA,10))
> > test
>   Name Score
> 1    a     7
> 2    b    NA
> 3    c     5
> 4    d    NA
> 5    e    10
> 
> I want to rate Names by Score. However, NAs pop up to the
> upper rows when doing
> 
> > data.frame(Rating=1:dim(test)[1],test[rev(order(test$Score)),])
>   Rating Name Score
> 4      1    d    NA
> 2      2    b    NA
> 5      3    e    10
> 1      4    a     7
> 3      5    c     5
> 
> Is there an elegant way to place NAs in the lowest rows? And BTW how
> can I remove the first column of 4, 2, 5 etc?
> 
> Best regards,
>  Remigijus                          mailto:remigijus.lapinskas at maf.vu.lt
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Tue Sep 24 19:04:57 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Tue, 24 Sep 2002 12:04:57 -0500 (CDT)
Subject: [R] latex-signs in plots?
In-Reply-To: <20020924121725.7a02898d.sholl@gmx.net>
Message-ID: <Pine.LNX.4.21.0209241204080.26006-100000@ludwig.stat.wisc.edu>

On Tue, 24 Sep 2002, Stephan Holl wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Dear List,
> Is it possible to plot special signs related to latex?
> For example \bar{x} for the standard deviation....
> 
> Thank you for your help.

You may look at

?plotmath

Jun Yan

Department of Statistics          Office: CSSC 4252
university of Wisconsin-Madison   Tel: (608)262-7478 
1210 W. Dayton St.                Email: jyan at stat.wisc.edu
Madison, WI 53706                 URL: http://www.stat.wisc.edu/~jyan





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nlwhitehouse at yahoo.com  Tue Sep 24 19:06:22 2002
From: nlwhitehouse at yahoo.com (nathan whitehouse)
Date: Tue, 24 Sep 2002 10:06:22 -0700 (PDT)
Subject: [R] Threaded R-Java
Message-ID: <20020924170622.59665.qmail@web12408.mail.yahoo.com>

Hello all,

  We currently have a java web utility that allows
multi-threaded data analysis using S+.

  We want to migrate it to R.  However, the guy who
preceded me here left some documentation indicating
that he couldn't implement it because R didn't support
threading.  Also, he noted that the R-Java
interface(org.omegahat.R.Java.REvaluator) wasn't
thread safe even if R was. 

  Can anybody who knows about this comment on it?  I'd
like to know if this is completed(his documentation
claimed it was a work in progress?)

  Thanks a bunch,

  Nathan Whitehouse
  Programmer
  Shaw/Shaulsky Lab
  Baylor College of Medicine
  Houston, TX, USA


__________________________________________________

New DSL Internet Access from SBC & Yahoo!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 24 19:11:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2002 19:11:57 +0200
Subject: [R] extracting elements from summary(aov object)
In-Reply-To: <5.1.1.6.0.20020924111438.00afdfe0@courrier.usherbrooke.ca>
References: <5.1.1.6.0.20020924111438.00afdfe0@courrier.usherbrooke.ca>
Message-ID: <x2d6r31fdu.fsf@biostat.ku.dk>

Bill Shipley <Bill.Shipley at Usherbrooke.ca> writes:

> Hello.  When one types "summary(fit)", where fit is an object from a
> call to aov(), one gets an ANOVA table.  I want to save just one
> element of this summary.  How does one extract this?
> 
> As an example, here is my output from a split plot ANOVA:
> 
>  > summary(out)$"Error: soil.cores$block:soil.cores$treatment"
>                       Df  Sum Sq Mean Sq F value Pr(>F)
> soil.cores$block      3 0.63626 0.21209  1.0557 0.4147
> soil.cores$treatment  3 0.90276 0.30092  1.4978 0.2802
> Residuals             9 1.80813 0.20090
> 
> I want to save only the F value of "soil.cores$treatment" .  In SPLUS
> one would do this by
> summary(out)$"Error: soil.cores$block:soil.cores$treatment"$"F
> value"[2] but this doesn't seem to work.

R seems to require an extra [[1]] bit before $"F value". Don't ask me
why...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Tue Sep 24 19:11:37 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Tue, 24 Sep 2002 12:11:37 -0500 (CDT)
Subject: [R] R_Libs in .Renviron?
In-Reply-To: <200209241704240066.067095FD@harry.molgen.mpg.de>
Message-ID: <Pine.LNX.4.21.0209241210190.26006-100000@ludwig.stat.wisc.edu>

On Tue, 24 Sep 2002, wolski wrote:

> Hi!
> Where to set R_LIBS?
> I have .Renviron with the line.
> R_LIBS=/package/R/R-1.5.0/linux/lib/R/library/;/home/wolski/Rpack/
> in my home directory
> but cant access any library stored in the /home/wolski/Rpack/?
> 
> Eryk

You need to replace ";" by ":", then it will work.

Jun Yan

Department of Statistics          Office: CSSC 4252
university of Wisconsin-Madison   Tel: (608)262-7478 
1210 W. Dayton St.                Email: jyan at stat.wisc.edu
Madison, WI 53706                 URL: http://www.stat.wisc.edu/~jyan





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Sep 24 12:32:45 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 24 Sep 2002 06:32:45 -0400
Subject: [R] extracting real parts of eigenvalues
In-Reply-To: <20020924101946.A12114@camille.indigoindustrial.co.nz>
References: <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
 <5.1.0.14.2.20020924042647.02beaae0@po.muohio.edu>
Message-ID: <5.1.0.14.2.20020924063154.02b8bc60@po.muohio.edu>

My thanks go to Jason for Re() and associated functions.

At 06:19 PM 9/23/2002, you wrote:
>On Tue, Sep 24, 2002 at 04:30:07AM -0400, Martin Henry H. Stevens wrote:
> > After calculating eigenvalues, I would like to extract only the real 
> parts.
> > I tried using as.real() but it gave me warnings that I would like to avoid
> > generating. Any ideas?
>
>Re(your.eigenvalues)
>
>?Re has all the details.
>
>Cheers
>
>Jason
>--
>Indigo Industrial Controls Ltd.
>64-21-343-545
>jasont at indigoindustrial.co.nz

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 24 20:29:33 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 24 Sep 2002 11:29:33 -0700 (PDT)
Subject: [R] order with NAs
In-Reply-To: <9619.020924@maf.vu.lt>
Message-ID: <Pine.A41.4.44.0209241128100.84228-100000@homer33.u.washington.edu>

On Tue, 24 Sep 2002, Remigijus Lapinskas wrote:
>
> I want to rate Names by Score. However, NAs pop up to the
> upper rows when doing
>
> > data.frame(Rating=1:dim(test)[1],test[rev(order(test$Score)),])
>   Rating Name Score
> 4      1    d    NA
> 2      2    b    NA
> 5      3    e    10
> 1      4    a     7
> 3      5    c     5
>
> Is there an elegant way to place NAs in the lowest rows? And BTW how
> can I remove the first column of 4, 2, 5 etc?

If you look at the help page for order() you will find the option to put
NAs at the end.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 24 20:34:54 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 24 Sep 2002 11:34:54 -0700 (PDT)
Subject: [R] extracting elements from summary(aov object)
In-Reply-To: <5.1.1.6.0.20020924111438.00afdfe0@courrier.usherbrooke.ca>
Message-ID: <Pine.A41.4.44.0209241133080.84228-100000@homer33.u.washington.edu>

On Tue, 24 Sep 2002, Bill Shipley wrote:

> Hello.  When one types "summary(fit)", where fit is an object from a call
> to aov(), one gets an ANOVA table.  I want to save just one element of this
> summary.  How does one extract this?
>
> As an example, here is my output from a split plot ANOVA:
>
>  > summary(out)$"Error: soil.cores$block:soil.cores$treatment"
>                       Df  Sum Sq Mean Sq F value Pr(>F)
> soil.cores$block      3 0.63626 0.21209  1.0557 0.4147
> soil.cores$treatment  3 0.90276 0.30092  1.4978 0.2802
> Residuals             9 1.80813 0.20090
>
> I want to save only the F value of "soil.cores$treatment" .  In SPLUS one
> would do this by
> summary(out)$"Error: soil.cores$block:soil.cores$treatment"$"F value"[2]
> but this doesn't seem to work.
>

It turns out that
   summary(out)$"Error: soil.cores$block:soil.cores$treatment"
is actually a list containing one data frame rather than a data frame, so
something like

aovtable<-summary(out)$"Error: soil.cores$block:soil.cores$treatment"[[1]]
aovtable[2,"F value"]

would work.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Sep 24 20:44:25 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 24 Sep 2002 14:44:25 -0400
Subject: [R] Threaded R-Java
In-Reply-To: <20020924170622.59665.qmail@web12408.mail.yahoo.com>; from nlwhitehouse@yahoo.com on Tue, Sep 24, 2002 at 10:06:22AM -0700
References: <20020924170622.59665.qmail@web12408.mail.yahoo.com>
Message-ID: <20020924144425.B24969@jessie.research.bell-labs.com>

nathan whitehouse wrote:
> Hello all,
> 
>   We currently have a java web utility that allows
> multi-threaded data analysis using S+.

Is the Java utility multi-threaded and talking to different S-Plus
processes? or are you talking to a single S-Plus process that is
itself multi-threaded?  If it is the latter, I am happily suprised;
but I very much doubt that S-Plus is entirely thread-safe at this
point or even supports threads.  If you are using threads within
S-Plus to execute S code, I would very much like to hear more about
it. Typically one just runs the same code in different S-Plus
processes and have them report back to the multi-threaded daemon that
manages the comunication from the client to the S-Plus server.

> 
>   We want to migrate it to R.  However, the guy who
> preceded me here left some documentation indicating
> that he couldn't implement it because R didn't support
> threading.  Also, he noted that the R-Java
> interface(org.omegahat.R.Java.REvaluator) wasn't
> thread safe even if R was. 

Without knowing the details of your system, my guess would be that R
and S-Plus provide the same level of support for a threaded
application; basically they don't. (There are a several ways to get
asynchronous events in either system, but not threading!)
So, I would imagine that your setup will work with R as well as
it does with S-Plus but there will be some practical
details to sort out.

The R-Java interface is basically thread safe. One can create
different instances of the REvaluator class and they will act
independently.  They can share objects, but will typically do so via
Databases and so will be synchronized correctly.

However, the guts of the REvaluator class is the collection of 
native routines that allow it to access the R evaluator.
Since the R evaluator is not thread-safe, the REvaluator
class must serialize access to the evaluator. So the REvaluator
code is basically thread-safe, but the underlying system is not.

Threads  and synchronization can be very tricky and require an
explicit model to work correctly.  


> 
>   Can anybody who knows about this comment on it?  I'd
> like to know if this is completed(his documentation
> claimed it was a work in progress?)
> 
>   Thanks a bunch,
> 
>   Nathan Whitehouse
>   Programmer
>   Shaw/Shaulsky Lab
>   Baylor College of Medicine
>   Houston, TX, USA
> 
> 
> __________________________________________________
> 
> New DSL Internet Access from SBC & Yahoo!
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkim at u.washington.edu  Tue Sep 24 21:45:41 2002
From: alkim at u.washington.edu (Albert Kim)
Date: Tue, 24 Sep 2002 12:45:41 -0700 (PDT)
Subject: [R] string concatenate across rows of a matrix??
In-Reply-To: <x2d6r31fdu.fsf@biostat.ku.dk>
Message-ID: <Pine.A41.4.44.0209241243330.40684-100000@homer13.u.washington.edu>


Is there a simple way to string-concatenate across the rows of a matrix or
data.frame into a vector of strings?  perhaps using paste() or
something like it?

That is, I want to map from something like x2 below:

	> x2 <- data.frame(C1 = letters[1:4], C3=1:4, C3=letters[11:14])
	> x2
	  C1 C3 C3
	1  a  1  k
	2  b  2  l
	3  c  3  m
	4  d  4  n

to something like:

	[1]  "a  1  k"
	[2]  "b  2  l"
	[3]  "c  3  m"
	[4]  "d  4  n"

Sincerely,
Al Kim
Research Scientist
Department of Psychology
University of Washington, Box 351525
Seattle, WA. 98195, USA
E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Sep 24 22:09:30 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 24 Sep 2002 13:09:30 -0700 (PDT)
Subject: [R] help with bootstrap
In-Reply-To: <B25B37CE-CFB5-11D6-8087-0003939F3570@bu.edu>
Message-ID: <Pine.GSO.4.10.10209241306290.9627-100000@fisher.stat.ucla.edu>

The `boot' library works differently from what you think.  For ordinary
bootstrapping you need to pass it a function which takes the data and a
vector of indices (it is in fact the indices that get resamples).  So
something like the following may work:

boot.func <- function(x, i) {
  var(eigen(cov(x[i,]), symmetric = T, only.values = T)$values)
}

The argument `i' represents the resampled indices.  Here I'm assuming you
want to resample rows.  Then,

> matrix <- read.table("matrix.txt", header=T)
> boot(matrix, boot.func, R = 100)

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 24 Sep 2002, Marcio Pie wrote:

> 
> Hi there,
> 
> I'm stuck, but since I just started learning R, this might be a trivial 
> problem. I need to do a bootstrap on the variance among the eigenvalues 
> of a matrix. I can get this variance doing this:
> 
>  >var.eigenvalues=function(x)
>  >var(eigen(cov(x), symmetric = T, only.values = T)$values)
> 
> 
> but if I try to run:
>  >matrix=read.table("matrix.txt", header=T)
>  >boot(matrix, var.eigenvalues, 100)
> 
> I get: "Error in statistic(data, original, ...) : unused 
> argument(s) ( ...)".
> 
> Any idea of what I might be doing wrong?
> 
> Any help with be really appreciated.
> 
> Marcio
> 
> p.s.: Since I'm not subscribed, please reply to my e-mail address: 
> pie at bu.edu.spam (don't forget to remove the .spam from the address).
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Tue Sep 24 22:13:25 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue, 24 Sep 2002 14:13:25 -0600
Subject: [R] string concatenate across rows of a matrix??
In-Reply-To: <Pine.A41.4.44.0209241243330.40684-100000@homer13.u.washing
 ton.edu>
References: <x2d6r31fdu.fsf@biostat.ku.dk>
Message-ID: <5.1.0.14.2.20020924141259.04740ea0@mailhost.blackmesacapital.com>

 > apply(format(x2), 1, paste, collapse=" ")
       1       2       3       4
"a 1 k" "b 2 l" "c 3 m" "d 4 n"


At 12:45 PM 9/24/2002 -0700, Albert Kim wrote:

>Is there a simple way to string-concatenate across the rows of a matrix or
>data.frame into a vector of strings?  perhaps using paste() or
>something like it?
>
>That is, I want to map from something like x2 below:
>
>         > x2 <- data.frame(C1 = letters[1:4], C3=1:4, C3=letters[11:14])
>         > x2
>           C1 C3 C3
>         1  a  1  k
>         2  b  2  l
>         3  c  3  m
>         4  d  4  n
>
>to something like:
>
>         [1]  "a  1  k"
>         [2]  "b  2  l"
>         [3]  "c  3  m"
>         [4]  "d  4  n"
>
>Sincerely,
>Al Kim
>Research Scientist
>Department of Psychology
>University of Washington, Box 351525
>Seattle, WA. 98195, USA
>E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 24 22:36:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2002 22:36:56 +0200
Subject: [R] string concatenate across rows of a matrix??
In-Reply-To: <5.1.0.14.2.20020924141259.04740ea0@mailhost.blackmesacapital.com>
References: <x2d6r31fdu.fsf@biostat.ku.dk>
	<5.1.0.14.2.20020924141259.04740ea0@mailhost.blackmesacapital.com>
Message-ID: <x24rcf15w7.fsf@biostat.ku.dk>

Tony Plate <tplate at blackmesacapital.com> writes:

>  > apply(format(x2), 1, paste, collapse=" ")
>        1       2       3       4
> "a 1 k" "b 2 l" "c 3 m" "d 4 n"

...or even (data frames only):

> do.call("paste",x2)
[1] "a 1 k" "b 2 l" "c 3 m" "d 4 n"

 
> 
> At 12:45 PM 9/24/2002 -0700, Albert Kim wrote:
> 
> >Is there a simple way to string-concatenate across the rows of a matrix or
> >data.frame into a vector of strings?  perhaps using paste() or
> >something like it?
> >
> >That is, I want to map from something like x2 below:
> >
> >         > x2 <- data.frame(C1 = letters[1:4], C3=1:4, C3=letters[11:14])
> >         > x2
> >           C1 C3 C3
> >         1  a  1  k
> >         2  b  2  l
> >         3  c  3  m
> >         4  d  4  n
> >
> >to something like:
> >
> >         [1]  "a  1  k"
> >         [2]  "b  2  l"
> >         [3]  "c  3  m"
> >         [4]  "d  4  n"
> >
> >Sincerely,
> >Al Kim
> >Research Scientist
> >Department of Psychology
> >University of Washington, Box 351525
> >Seattle, WA. 98195, USA
> >E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
> >
> >
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkim at u.washington.edu  Tue Sep 24 23:58:03 2002
From: alkim at u.washington.edu (Albert Kim)
Date: Tue, 24 Sep 2002 14:58:03 -0700 (PDT)
Subject: [R] string concatenate across rows of a matrix??
In-Reply-To: <x24rcf15w7.fsf@biostat.ku.dk>
Message-ID: <Pine.A41.4.44.0209241451580.40688-100000@homer13.u.washington.edu>


Dalgaard and Plate suggestions both work.  Thanks for the help.
I was tripped up by not realizing that the optional 'collapse' argument of
paste() must be specified.  Otherwise, it defaults to NULL,  which yields:

	> apply(x2, 1, paste)
	     1   2   3   4
	[1,] "a" "b" "c" "d"
	[2,] "1" "2" "3" "4"
	[3,] "k" "l" "m" "n"

-Al

On 24 Sep 2002, Peter Dalgaard BSA wrote:

> Tony Plate <tplate at blackmesacapital.com> writes:
>
> >  > apply(format(x2), 1, paste, collapse=" ")
> >        1       2       3       4
> > "a 1 k" "b 2 l" "c 3 m" "d 4 n"
>
> ...or even (data frames only):
>
> > do.call("paste",x2)
> [1] "a 1 k" "b 2 l" "c 3 m" "d 4 n"
>
>
> >
> > At 12:45 PM 9/24/2002 -0700, Albert Kim wrote:
> >
> > >Is there a simple way to string-concatenate across the rows of a matrix or
> > >data.frame into a vector of strings?  perhaps using paste() or
> > >something like it?
> > >
> > >That is, I want to map from something like x2 below:
> > >
> > >         > x2 <- data.frame(C1 = letters[1:4], C3=1:4, C3=letters[11:14])
> > >         > x2
> > >           C1 C3 C3
> > >         1  a  1  k
> > >         2  b  2  l
> > >         3  c  3  m
> > >         4  d  4  n
> > >
> > >to something like:
> > >
> > >         [1]  "a  1  k"
> > >         [2]  "b  2  l"
> > >         [3]  "c  3  m"
> > >         [4]  "d  4  n"
> > >
> > >Sincerely,
> > >Al Kim
> > >Research Scientist
> > >Department of Psychology
> > >University of Washington, Box 351525
> > >Seattle, WA. 98195, USA
> > >E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
> > >
> > >
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.samak at verizon.net  Wed Sep 25 00:12:39 2002
From: v.samak at verizon.net (Vele Samak)
Date: Tue, 24 Sep 2002 18:12:39 -0400
Subject: [R] Threaded R-Java
In-Reply-To: <20020924144425.B24969@jessie.research.bell-labs.com>
Message-ID: <000501c26417$7f3ced80$6501a8c0@prilep>

I was about to write a response until Duncan wrote my exact thoughts. As
he said, I'd be surprised if S-plus is thread-safe or has a threaded
execution capability of S code. This is not something trivial since my
group had similar ideas back in 2000 and tried to find shortcuts, but
basically there aren't any. In fact I corresponded with Duncan on this
for the tcltk package.

Instead, we managed to use a well-developed and highly-scalable
multi-threaded platform (aolserver) to manage access to, running and
synchronization of multiple R processes. The sharing of objects was via
xml and an Oracle database, and the access point was web-based. Lots of
patches and points for breakdown, but it worked very well and was robust
and fast enough to fix itself. 

We tried java as a backup. One way to do this is to reimplement the core
R functionality in java classes, similar to the way jackl is done (tcl
in java). This gives you a major headstart, maybe not in overall
performance, but in scalability and deployability. Or, you can go around
and put a multi-threaded layer over R and its memory management so that
every call to R is a separate thread. The core footprint is replicated
in each thread. Nothing to complicated on paper, but again, time and
multi-threaded experience is a must.

In the end, I'd be surprised if splus can do this since it would compete
with their statserver product even though it isn't multi-threaded.  And
if it's true, I'd love to hear about it.



--
Vele Samak
http://www.velesamak.com 

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Duncan Temple Lang
Sent: Tuesday, September 24, 2002 2:44 PM
To: nathan whitehouse
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Threaded R-Java


nathan whitehouse wrote:
> Hello all,
> 
>   We currently have a java web utility that allows multi-threaded data

> analysis using S+.

Is the Java utility multi-threaded and talking to different S-Plus
processes? or are you talking to a single S-Plus process that is itself
multi-threaded?  If it is the latter, I am happily suprised; but I very
much doubt that S-Plus is entirely thread-safe at this point or even
supports threads.  If you are using threads within S-Plus to execute S
code, I would very much like to hear more about it. Typically one just
runs the same code in different S-Plus processes and have them report
back to the multi-threaded daemon that manages the comunication from the
client to the S-Plus server.

> 
>   We want to migrate it to R.  However, the guy who
> preceded me here left some documentation indicating
> that he couldn't implement it because R didn't support threading.  
> Also, he noted that the R-Java
> interface(org.omegahat.R.Java.REvaluator) wasn't
> thread safe even if R was.

Without knowing the details of your system, my guess would be that R and
S-Plus provide the same level of support for a threaded application;
basically they don't. (There are a several ways to get asynchronous
events in either system, but not threading!) So, I would imagine that
your setup will work with R as well as it does with S-Plus but there
will be some practical details to sort out.

The R-Java interface is basically thread safe. One can create different
instances of the REvaluator class and they will act independently.  They
can share objects, but will typically do so via Databases and so will be
synchronized correctly.

However, the guts of the REvaluator class is the collection of 
native routines that allow it to access the R evaluator.
Since the R evaluator is not thread-safe, the REvaluator
class must serialize access to the evaluator. So the REvaluator code is
basically thread-safe, but the underlying system is not.

Threads  and synchronization can be very tricky and require an explicit
model to work correctly.  


> 
>   Can anybody who knows about this comment on it?  I'd
> like to know if this is completed(his documentation
> claimed it was a work in progress?)
> 
>   Thanks a bunch,
> 
>   Nathan Whitehouse
>   Programmer
>   Shaw/Shaulsky Lab
>   Baylor College of Medicine
>   Houston, TX, USA
> 
> 
> __________________________________________________
> 
> New DSL Internet Access from SBC & Yahoo!
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Sep 25 01:41:57 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 25 Sep 2002 11:41:57 +1200
Subject: [R] Vanishing tick marks using bwplot (lattice)
Message-ID: <20020924234156.GA3643@hortresearch.co.nz>

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R 

I've been using bwplot to plot a dataframe that has a structure like
this:

str(plot.df)
`data.frame':	5952 obs. of  4 variables:
 $ Year    : Factor w/ 16 levels "1986","1987",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Day     : num  1 2 3 4 5 6 7 8 9 10 ...
 $ Month   : Factor w/ 12 levels "Jan","Feb","Mar",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Rainfall: Named num  NA 64 388 433 121 NA NA 90 1 NA ...
  ..- attr(*, "names")= chr  "Jan1" "Jan2" "Jan3" "Jan4" ...

Everything works if I plot it this way:
bwplot(Year ~ Rainfall | Month, data = plot.df)

but if I try:
bwplot(Month ~ Rainfall | Year, data = plot.df)

the tick marks vanish from the top.  Not only that, about 55mm at the
top of the plotting region is not used, so that even if the ticks were
drawn, there'd still be 50mm unused.

The only differences I can see are the number of panels plotted (12 in
the one that work, and 16 in the one that doesn't) and the factor on
the y-axis that doesn't work is not in alphabetical order.  However, I
can't imagine how those differences could produce the effect.

Ideas?

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Wed Sep 25 03:59:07 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Wed, 25 Sep 2002 13:59:07 +1200
Subject: [R] rbind(NULL,NULL) and simplex()
Message-ID: <200209250159.g8P1x7N11910@r.hankin.sems.auckland.ac.nz>

Hello everybody.

I found out the other day something quite astonishing (which I guess
is not astonishing at all to those in the know): in d-dimensional
space, determining whether a given point is inside the convex hull of
a set of n points is elegantly and quickly solvable using linear
programming.

If the columns of matrix "ff" are the coordinates of the set of
points, then in d=2 dimensions with n=4 constraints you can test
whether point "candidate" is inside the convex hull by:

R> candidate <- c(0.2,0.2)
R> a  <- rep(1,4)
R> isin <- simplex(a=a, A3=ff, b3 = candidate)
R> #[ff is given below].

Here, simplex() finds the x which minimizes a%*%x subject to ff%*%x =
candidate [this works fine; candidate is inside the convex hull
generated by the origin and the four points specified by the columns
of ff because sum(isin$soln) <= 1].

However, sometimes (for d=27,n=2000) a feasible starting vector is
hard to find.  So, if the constraint is changed to an inequality,
everything should still work.  Here, we need to set A2 and b2 (rather
than A3 and b3):

R> simplex(a=a, A2=ff, b2 = candidate)

but then I get an error:

R>  simplex(a=rep(1,4),A2=ff,b2=candidate)
Error in rbind(iden(m1), zero(m2 + m3, m1)) : 
	attempt to set an attribute on NULL
R> 


What's going on here? surely switching A3 => A2 and b3 => b2 should
still work?  

simplex() seems to stop because "rbind(NULL,NULL)" returns an error
(but I can't quite work out if rbind() is reasonable or not, given
that c(NULL,NULL) is OK).



R> dput (ff)
structure(c(-0.282700887536384, -0.691284233263613, 3.07385122964501, 
1.63593735251412, -0.130733385680257, 0.290532564591650, -1.14808732324176, 
-0.338686094983058), .Dim = c(2, 4))
> 

-- 

Robin Hankin, Lecturer,
School of Geography and Environmental Science
Tamaki Campus
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Wed Sep 25 13:57:00 NZST 2002
This (linux) system up continuously for:  391 days, 20 hours, 39 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Sep 25 05:15:25 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 24 Sep 2002 20:15:25 -0700 (PDT)
Subject: [R] How do I change plot colors in bwplot
In-Reply-To: <E7D32337-CF42-11D6-A01C-0003939B3BBE@biodiversity.unr.edu>
Message-ID: <20020925031525.20058.qmail@web13902.mail.yahoo.com>


--- Ken Nussear <knussear at biodiversity.unr.edu> wrote:
> Hello,
> 
> I'm using bwplot to make a few plots. The plots are exactly what I 
> need, but are coming out with a grey background and turquoise boxes and 
> whiskers.  I cannot figure out how to just get black and white to be 
> the default. Can anyone help me with this?

Start the graphics device explicitly with 

trellis.device(color = FALSE)

Anything drawn on this device should be black and white (this is the default
for postscript, but not for others. The simplest only way you can make this
default behaviour is by redefining trellis.device).

> Thanks
> 
> 
> Kenneth E. Nussear                    Phone  775 784-1703
> Ecology, Evolution and                  FAX 775 784-1369
> Conservation Biology/314             knussear at biodiversity.unr.edu
> Reno, Nevada   89557-0013         http://www.brrc.unr.edu/~knussear/
> 


__________________________________________________

New DSL Internet Access from SBC & Yahoo!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Sep 25 07:28:53 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 25 Sep 2002 17:28:53 +1200
Subject: [R] Vanishing tick marks using bwplot (lattice)
In-Reply-To: <20020925032317.27125.qmail@web13908.mail.yahoo.com>
References: <20020924234156.GA3643@hortresearch.co.nz> <20020925032317.27125.qmail@web13908.mail.yahoo.com>
Message-ID: <20020925052853.GA3877@hortresearch.co.nz>

On Tue, 24-Sep-2002 at 08:23PM -0700, Deepayan Sarkar wrote:


|> Obviously a bug somewhere. Could you check if you have the latest version of
|> lattice (0.5-4) ? If it still doesn't work, could you send me the data frame
|> (or anything that reproduces the problem), preferably to 
|> deepayan at stat.wisc.edu ?

That made a difference.  In fact, I think the difference was that I
had unknowinly had a derelict lattice library in a different directory
that I was unaware of.  

Odd that it didn't show up in all the other things I've been doing....

best



-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Sep 24 21:41:05 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 24 Sep 2002 15:41:05 -0400
Subject: [R] help with bootstrap
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CFB7@groexmb02.pfizer.com>

If you read the boot help page, you will note that you need to use a wrapper
function:
 
      boot.var.eig <- function( x, ind)   var.eigenvalues(x[ind])
 
Then 
 
    boot(matrix, boot.var.eig, 100) 
 
should do the trick.
 
-Greg


 
 -----Original Message-----
From: Marcio Pie [mailto:pie at bu.edu]
Sent: Tuesday, September 24, 2002 8:04 AM
To: r-help at stat.math.ethz.ch
Subject: [R] help with bootstrap



Hi there, 


I'm stuck, but since I just started learning R, this might be a trivial
problem. I need to do a bootstrap on the variance among the eigenvalues of a
matrix. I can get this variance doing this: 


>var.eigenvalues=function(x) 

>var(eigen(cov(x), symmetric = T, only.values = T)$values) 



but if I try to run: 

>matrix=read.table("matrix.txt", header=T) 

>boot(matrix, var.eigenvalues, 100) 


I get: "Error in statistic(data, original, ...) : unused argument(s) (
...)". 


Any idea of what I might be doing wrong? 


Any help with be really appreciated. 


Marcio 


p.s.: Since I'm not subscribed, please reply to my e-mail address:
pie at bu.edu.spam (don't forget to remove the .spam from the address).



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Wed Sep 25 09:09:47 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Wed, 25 Sep 2002 09:09:47 +0200
Subject: [R] All permutations
References: <004301c25f18$8874b940$c0101eac@newmicronpc> <3D88B6C2.359FD4F4@ci.tuwien.ac.at>
Message-ID: <003201c26462$882fc5c0$1100a8c0@ico.scs.es>

Ravi,

Look at the gregmisc package and  "permutations" function

Juan

----- Original Message -----
From: "David Meyer" <david.meyer at ci.tuwien.ac.at>
To: "Ravi Varadhan" <rvaradha at jhsph.edu>
Cc: "R-Help (E-mail)" <r-help at stat.math.ethz.ch>
Sent: Wednesday, September 18, 2002 7:24 PM
Subject: Re: [R] All permutations


> v <- 1:2
> expand.grid(v,v,v)
>
> g.,
> -d
>
> Ravi Varadhan wrote:
> >
> > Hi:
> >
> >  I would like to obtain all permutations of size n containing the k
distinct
> > objects. For example, for size n=3 and k=2 objects (1 and 2), I want the
> > following 8x3 matrix:
> >
> >  1 1 1
> >  1 1 2
> >  1 2 1
> >  2 1 1
> >  1 2 2
> >  2 2 1
> >  2 1 2
> >  2 2 2
> >
> >  Is there any R function to accomplish this?
> >
> >  Thanks for the help,
> >  Ravi.
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
> --
> Mag. David Meyer Wiedner Hauptstrasse 8-10
> Vienna University of Technology A-1040 Vienna/AUSTRIA
>          Department of Tel.: (+431) 58801/10772
> Statistics and Probability Theory mail: david.meyer at ci.tuwien.ac.at
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Wed Sep 25 09:14:49 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Wed, 25 Sep 2002 09:14:49 +0200
Subject: [R] print(), paste()
In-Reply-To: <Pine.SOL.4.21.0209242330090.23443-100000@stat1.stat.auckland.ac.nz>
Message-ID: <LMEKLMMLPDKOJNOOEELEOELMDKAA.carlos.ortega@minorplanet.com>

Hello,

For the second question, use the option "sep" within the paste command.

paste("The best fit is with ", which.min(answer) - 1,"-degree polynomial",
sep="")

Regards,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Ko-Kang Kevin Wang
Enviado el: martes, 24 de septiembre de 2002 13:34
Para: R Help
Asunto: [R] print(), paste()


Hi,

Suppose I have the following lines at the end of a function:
  answer <- c(2, 1, 0, 4, 5) # In fact, answer will be generate in my
                             # function
  print(answer) # Print the answer
  # Now, find the best fitted n degree polynomial
  print(paste("The best fit is with", which.min(answer) - 1,
              "-degree polynomial"))
this will return:
  [1] 2 1 0 4 5
  [1] "The best fit is with 2 -degree polynomial"

Two questions:

1) How can I supress the [1] in the second line in the output?

2) The second line has ...with 2 -degree... , how can I make it display
...with 2-degree...?

In other words I'd like my output to look like:
  [1] 2 1 0 4 5
  "The best fit is with 2-degree polynomial"


Cheers,

Kevin

----------------------------------------------------------------------------
--
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajsmit at botzoo.uct.ac.za  Wed Sep 25 11:31:53 2002
From: ajsmit at botzoo.uct.ac.za (Smit, A, Albertus, Dr)
Date: Wed, 25 Sep 2002 11:31:53 +0200
Subject: [R] Re-ordering the order of lattice graphics panels
Message-ID: <3D919EAA.251.58B46F6@localhost>

Dear all

I have made some lattice graphs (bwplot(dead ~ treat | group,...). 
'group' is a factor with three levels (Artemia larvae, Abalone larvae 
and Abalone spat), and the result is a graph with three panels 
corresponding to the levels in 'group', ordered in alphabetical order 
from bottom to top, as expected.

How does one re-order the order in which the levels of 'group' in the 
graph? I want Abalone spat at the bottom, followed by Abalone larvae, 
and Artemia larvae at the top. I have read most of the help on 
bwplots, panel.functions etc., but I am sure there is something 
obvious and simple I have missed.

Any help appreciated.

Albertus




Dr. Albertus J. Smit
Department of Botany
University of Cape Town
Private Bag Rondebosch
7700
South Africa
Tel. +27 21 689 3032
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zlamal at ufi.fme.vutbr.cz  Wed Sep 25 13:15:51 2002
From: zlamal at ufi.fme.vutbr.cz (zlamal@ufi.fme.vutbr.cz)
Date: Wed, 25 Sep 2002 13:15:51 +0200
Subject: [R] Reading complicated data file
Message-ID: <3D91B707.29753.51BDE13@localhost>

Hi, I am new in R and I have problem with reading this data file

0 TITLE Title
 0 XLEGEND Legend
-1 LABEL x
1 1 12
1 2 30
1 3 34

I want to read only lines starting with 1 (it indicates 1st plotting line) 
and create data set from second and third value on this row.

Thank for advice
Jakub Zlamal
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.baxter at ru.ac.za  Wed Sep 25 13:44:11 2002
From: j.baxter at ru.ac.za (Jeremy Baxter)
Date: Wed, 25 Sep 2002 13:44:11 +0200
Subject: Summary [R] Short Courses- Information
Message-ID: <200209251344.11622.j.baxter@ru.ac.za>

Thank you to the following for their replies:
David Brahm, Elvis Miller, Kim Kelly, Tim Hesterberg


No one had specific information on courses for next year, 2003. However it was 
suggested that I watch the lists (R-help and S-News) for announcements and 
the following webpages:

Insightful Corp, (makers of S-Plus):
  <http://www.insightful.com/services/schedule.asp>

XLSolutions:
  <http://www.xlsolutions-corp.com/training.htm>

Jeremy

_______________________________________________
Jeremy Baxter, Statistics Department, Rhodes University, South Africa.
Views expressed above, no matter how badly spelt, are my own... I think?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stimm at usgs.gov  Wed Sep 25 14:16:14 2002
From: stimm at usgs.gov (Sarah A Timm)
Date: Wed, 25 Sep 2002 07:16:14 -0500
Subject: [R] manova random effects
Message-ID: <OFF78A3748.7109D396-ON86256C3F.00434334-86256C3F.0043A2BE@er.usgs.gov>

Hello all,

Just wondering if R has the capability of running a Manova with random
effects?

Any help would be appreciated.  Thanks in advance.

Sarah


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zlamal at ufi.fme.vutbr.cz  Wed Sep 25 14:23:27 2002
From: zlamal at ufi.fme.vutbr.cz (zlamal@ufi.fme.vutbr.cz)
Date: Wed, 25 Sep 2002 14:23:27 +0200
Subject: [R] Reading complicated data file
Message-ID: <3D91C6DF.20943.559C478@localhost>

My problem is little bit complicate because lines starting 0 or -1 can 
be everywhere in file (there are also lines starting with 2 or -2, etc...)
so structure of file can be

0 something
-1 something
1 1 3
2 1 5
-2 something
0 something
1 2 5
1 5 6

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Sep 25 14:30:08 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2002 08:30:08 -0400
Subject: [R] Re-ordering the order of lattice graphics panels
In-Reply-To: <3D919EAA.251.58B46F6@localhost>
Message-ID: <5.1.0.14.2.20020925082504.02daf668@mcmail.cis.mcmaster.ca>

Dear Albertus,

At 11:31 AM 9/25/2002 +0200, Smit, A, Albertus, Dr wrote:

>I have made some lattice graphs (bwplot(dead ~ treat | group,...).
>'group' is a factor with three levels (Artemia larvae, Abalone larvae
>and Abalone spat), and the result is a graph with three panels
>corresponding to the levels in 'group', ordered in alphabetical order
>from bottom to top, as expected.
>
>How does one re-order the order in which the levels of 'group' in the
>graph? I want Abalone spat at the bottom, followed by Abalone larvae,
>and Artemia larvae at the top. I have read most of the help on
>bwplots, panel.functions etc., but I am sure there is something
>obvious and simple I have missed.

You can specify the order of the levels of a factor using the levels 
argument to factor(); the default, as you mention, is to order the levels 
alphabetically. To change the order, group.2 <- factor(group, c("Abalone 
spat", "Abalone larvae", "Abalone spat")).

This should give you what you want.
   John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Sep 25 14:35:26 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 25 Sep 2002 14:35:26 +0200 (MET DST)
Subject: [R] Reading complicated data file
In-Reply-To: <3D91B707.29753.51BDE13@localhost>
Message-ID: <Pine.SO4.4.10.10209251433000.22913-100000@ufobi7.uni-forst.gwdg.de>

On Wed, 25 Sep 2002 zlamal at ufi.fme.vutbr.cz wrote:

%Hi, I am new in R and I have problem with reading this data file
%
%0 TITLE Title
% 0 XLEGEND Legend
%-1 LABEL x
%1 1 12
%1 2 30
%1 3 34
%
%I want to read only lines starting with 1 (it indicates 1st plotting line) 
%and create data set from second and third value on this row.

what about using read.table(....,skip=3) and later subsetting your
dataframe to the two desired columns?

%
%Thank for advice
%Jakub Zlamal
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%

***********************************************************************
Jens Nieschulze

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Sep 25 14:46:13 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 25 Sep 2002 14:46:13 +0200
Subject: [R] Reading complicated data file
Message-ID: <200209251246.g8PCkDX03441@mailgate5.cinetic.de>

..try  help(readLines) !?

hope this helps
regards,Christian


zlamal at ufi.fme.vutbr.cz schrieb am 25.09.02 14:16:06:
> Hi, I am new in R and I have problem with reading this data file
> 
> 0 TITLE Title
>  0 XLEGEND Legend
> -1 LABEL x
> 1 1 12
> 1 2 30
> 1 3 34
> 
> I want to read only lines starting with 1 (it indicates 1st plotting line) 
> and create data set from second and third value on this row.
> 
> Thank for advice
> Jakub Zlamal
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep 25 14:48:52 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Sep 2002 14:48:52 +0200
Subject: [R] rbind(NULL,NULL)
In-Reply-To: <200209250159.g8P1x7N11910@r.hankin.sems.auckland.ac.nz>
References: <200209250159.g8P1x7N11910@r.hankin.sems.auckland.ac.nz>
Message-ID: <15761.45236.509356.264148@gargle.gargle.HOWL>

>>>>> "Robin" == Robin Hankin <r.hankin at auckland.ac.nz>
>>>>>     on Wed, 25 Sep 2002 13:59:07 +1200 writes:

     ...........

    Robin> simplex() seems to stop because "rbind(NULL,NULL)" returns an error
    Robin> (but I can't quite work out if rbind() is reasonable or not, given
    Robin> that c(NULL,NULL) is OK).

rbind() isn't reasonable.
It's a bug introduced in the remote past (May 1998 around R version 0.62). 

1.6.0 (next week) will have the bug fixed.

Thank you for the report,
Martin

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Sep 25 14:50:17 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 25 Sep 2002 14:50:17 +0200
Subject: [R] Reading complicated data file
Message-ID: <200209251250.g8PCoHX11529@mailgate5.cinetic.de>

..i'm sorry, the function 
scan() should more approriate than readLines().

regards,Christian


zlamal at ufi.fme.vutbr.cz schrieb am 25.09.02 14:16:06:
> Hi, I am new in R and I have problem with reading this data file
> 
> 0 TITLE Title
>  0 XLEGEND Legend
> -1 LABEL x
> 1 1 12
> 1 2 30
> 1 3 34
> 
> I want to read only lines starting with 1 (it indicates 1st plotting line) 
> and create data set from second and third value on this row.
> 
> Thank for advice
> Jakub Zlamal
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Wed Sep 25 15:26:43 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Wed, 25 Sep 2002 15:26:43 +0200
Subject: [R] Reading complicated data file
In-Reply-To: <3D91B707.29753.51BDE13@localhost>
Message-ID: <LMEKLMMLPDKOJNOOEELEOEMJDKAA.carlos.ortega@minorplanet.com>

Hello,

If the lines starting with "1" are from the 3rd onwards, you can use
read.table(...,skip=3).
If not, you can pre-process the file with awk, sed, etc. which are also
available for Windows.

Regards,
Carlos.


-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de
zlamal at ufi.fme.vutbr.cz
Enviado el: miercoles, 25 de septiembre de 2002 13:16
Para: r-help at stat.math.ethz.ch
Asunto: [R] Reading complicated data file


Hi, I am new in R and I have problem with reading this data file

0 TITLE Title
 0 XLEGEND Legend
-1 LABEL x
1 1 12
1 2 30
1 3 34

I want to read only lines starting with 1 (it indicates 1st plotting line)
and create data set from second and third value on this row.

Thank for advice
Jakub Zlamal
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Sep 25 15:38:21 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2002 09:38:21 -0400
Subject: [R] Reading complicated data file
In-Reply-To: <3D91B707.29753.51BDE13@localhost>
Message-ID: <5.1.0.14.2.20020925093107.01da91e0@mcmail.cis.mcmaster.ca>

Dear Jakub,

At 01:15 PM 9/25/2002 +0200, zlamal at ufi.fme.vutbr.cz wrote:
>Hi, I am new in R and I have problem with reading this data file
>
>0 TITLE Title
>  0 XLEGEND Legend
>-1 LABEL x
>1 1 12
>1 2 30
>1 3 34

If you know in advance where the data starts (i.e., that you need to skip 
the first 3 rows), then you can read the data file with read.table in the 
usual manner, but specifying the argument skip=3. This also supposes that 
the lines to be skipped precede the data.

If the situation is more complicated -- e.g., you don't know in advance how 
many lines to skip, or the data and non-data lines are intermixed -- then 
there are several ways to proceed. One way would be to read the data in the 
usual manner, and then to select rows for which the first column is 1; with 
this approach, you would also have to handle converting columns two and 
three to numeric. Alternatively, you could read the file line-by-line (see 
?readLines).

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Wed Sep 25 16:13:53 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Wed, 25 Sep 2002 09:13:53 -0500 (CDT)
Subject: [R] Re-ordering the order of lattice graphics panels
In-Reply-To: <3D919EAA.251.58B46F6@localhost>
Message-ID: <Pine.LNX.4.21.0209250912200.31280-100000@ludwig.stat.wisc.edu>

Factor levels may be specified by argument levels in function factor. The
following is an illustration:

> dat <- data.frame(x=rnorm(12), y=rnorm(12), group=rep(c("Artemia
larvae", "Abalone larvae", "Abalone spat"), 4))
> dat$group <- factor(dat$group, levels=c("Abalone spat","Abalone
larvae", "Artemia larvae"))
> bwplot(y ~ x | group, data=dat, layout=c(1,3))

Jun

On Wed, 25 Sep 2002, Smit,
A, Albertus, Dr wrote:

> Dear all
> 
> I have made some lattice graphs (bwplot(dead ~ treat | group,...). 
> 'group' is a factor with three levels (Artemia larvae, Abalone larvae 
> and Abalone spat), and the result is a graph with three panels 
> corresponding to the levels in 'group', ordered in alphabetical order 
> from bottom to top, as expected.
> 
> How does one re-order the order in which the levels of 'group' in the 
> graph? I want Abalone spat at the bottom, followed by Abalone larvae, 
> and Artemia larvae at the top. I have read most of the help on 
> bwplots, panel.functions etc., but I am sure there is something 
> obvious and simple I have missed.
> 
> Any help appreciated.
> 
> Albertus
> 
> 
> 
> 
> Dr. Albertus J. Smit
> Department of Botany
> University of Cape Town
> Private Bag Rondebosch
> 7700
> South Africa
> Tel. +27 21 689 3032
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Sep 25 16:27:27 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 25 Sep 2002 07:27:27 -0700
Subject: [R] Reading complicated data file
In-Reply-To: <3D91B707.29753.51BDE13@localhost>
References: <3D91B707.29753.51BDE13@localhost>
Message-ID: <p05111a06b9b776ea6bd7@[128.115.153.6]>

Something like

tmpdat <- scan('filename',what=list(id=0,col1='',col2=''))
use <- tmpdat$id==1
dat <- data.frame(x=as.numeric(tmpdat$col1[use]),
                   y=as.numeric(tmpdat$col2[use])

should get you a dataframe with two columns corresponding to the
second and third values from each row. (caveat: I haven't tested it. 
Check the documentation for scan regarding delimiters. Also, I'm 
assuming every row in your data is complete, with exactly three 
values.)

-Don

At 1:15 PM +0200 9/25/02, zlamal at ufi.fme.vutbr.cz wrote:
>Hi, I am new in R and I have problem with reading this data file
>
>0 TITLE Title
>  0 XLEGEND Legend
>-1 LABEL x
>1 1 12
>1 2 30
>1 3 34
>
>I want to read only lines starting with 1 (it indicates 1st plotting line)
>and create data set from second and third value on this row.
>
>Thank for advice
>Jakub Zlamal
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Sep 25 16:41:42 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2002 10:41:42 -0400
Subject: [R] Reading complicated data file
In-Reply-To: <3D91C6DF.20943.559C478@localhost>
Message-ID: <5.1.0.14.2.20020925103356.02dc0de8@mcmail.cis.mcmaster.ca>

Dear Jakub,

At 02:23 PM 9/25/2002 +0200, zlamal at ufi.fme.vutbr.cz wrote:
>My problem is little bit complicate because lines starting 0 or -1 can
>be everywhere in file (there are also lines starting with 2 or -2, etc...)
>so structure of file can be
>
>0 something
>-1 something
>1 1 3
>2 1 5
>-2 something
>0 something
>1 2 5
>1 5 6

I think that I understand now what you want, and the alternative approach 
that I suggested in my original response should work. (Your original 
posting and my response are appended below.) If you want only the rows with 
1 in the first column, then test that column == 1 and use the result to 
subset rows (or, a bit more tediously, process the file one line at a time).

John


>At 01:15 PM 9/25/2002 +0200, zlamal at ufi.fme.vutbr.cz wrote:
>>Hi, I am new in R and I have problem with reading this data file
>>
>>0 TITLE Title
>>  0 XLEGEND Legend
>>-1 LABEL x
>>1 1 12
>>1 2 30
>>1 3 34
>>
>>
>>I want to read only lines starting with 1 (it indicates 1st plotting line)
>>and create data set from second and third value on this row.
>
>If you know in advance where the data starts (i.e., that you need to skip 
>the first 3 rows), then you can read the data file with read.table in the 
>usual manner, but specifying the argument skip=3. This also supposes that 
>the lines to be skipped precede the data.
>
>If the situation is more complicated -- e.g., you don't know in advance 
>how many lines to skip, or the data and non-data lines are intermixed -- 
>then there are several ways to proceed. One way would be to read the data 
>in the usual manner, and then to select rows for which the first column is 
>1; with this approach, you would also have to handle converting columns 
>two and three to numeric. Alternatively, you could read the file 
>line-by-line (see ?readLines).
>

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lsjensen at micron.com  Wed Sep 25 17:20:42 2002
From: lsjensen at micron.com (lsjensen)
Date: Wed, 25 Sep 2002 09:20:42 -0600
Subject: [R] image maps
Message-ID: <D7E178FC91F3D21186A90008C7B9A5B8100814E9@ntexchange09.micron.com>

Wondered if anyone has written code to create clickable image maps from R
graphs. Would need to build an html file which references the picture file
and includes image map information. Want to use this to make some of our
plots created in R more interactive from the web.

Thanks,
Landon Jensen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Wed Sep 25 17:08:58 2002
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Wed, 25 Sep 2002 11:08:58 -0400
Subject: [R] Reading complicated data file
Message-ID: <OF4ABBFBAB.E4F102FC-ON85256C3F.0052F793@cbis.com>


You can read the file in as a character vector, 'grep' the ones you want
and then use 'textConnection'; e.g.,

> x.1 <- scan('/tempxx.txt', what='', sep='\n')    # read file with '\n' as
separator
Read 6 items
> x.1
[1] "0 TITLE Title"     " 0 XLEGEND Legend" "-1 LABEL x"
[4] "1 1 12"            "1 2 30"            "1 3 34"
> x.match <- x.1[grep("^1", x.1)]  # match on leading '1'
> x.match
[1] "1 1 12" "1 2 30" "1 3 34"
> x.data <- read.table(textConnection(x.match))    # use textConnection to
'read' in the data
> x.data
  V1 V2 V3
1  1  1 12
2  1  2 30
3  1  3 34


At 1:15 PM +0200 9/25/02, zlamal at ufi.fme.vutbr.cz wrote:
>Hi, I am new in R and I have problem with reading this data file
>
>0 TITLE Title
>  0 XLEGEND Legend
>-1 LABEL x
>1 1 12
>1 2 30
>1 3 34
>
>I want to read only lines starting with 1 (it indicates 1st plotting line)
>and create data set from second and third value on this row.
>
>Thank for advice
>Jakub Zlamal
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
>r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




--
"NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected."

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jm at xmlworks.com  Wed Sep 25 18:52:20 2002
From: jm at xmlworks.com (Jim Michael)
Date: Wed, 25 Sep 2002 12:52:20 -0400
Subject: [R] Reading complicated data file
In-Reply-To: <3D91B707.29753.51BDE13@localhost>
References: <3D91B707.29753.51BDE13@localhost>
Message-ID: <200209251252.20422.jm@xmlworks.com>

On Wednesday 25 September 2002 07:15 am, zlamal at ufi.fme.vutbr.cz wrote:
> Hi, I am new in R and I have problem with reading this data file
>
> 0 TITLE Title
>  0 XLEGEND Legend
> -1 LABEL x
> 1 1 12
> 1 2 30
> 1 3 34
>
> I want to read only lines starting with 1 (it indicates 1st plotting line)
> and create data set from second and third value on this row.
>
> Thank for advice
> Jakub Zlamal

Is it practical for you to filter the file, e.g. with a perl script?

#!/usr/bin/perl -w
$file = shift;
open IN, $file or die $!;
while (<IN>) {
	print if /^1/;
}

Cheers,

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Sep 25 18:55:31 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 25 Sep 2002 12:55:31 -0400
Subject: [R] All permutations
References: <004301c25f18$8874b940$c0101eac@newmicronpc> <3D88B6C2.359FD4F4@ci.tuwien.ac.at> <003201c26462$882fc5c0$1100a8c0@ico.scs.es>
Message-ID: <3D91EA83.4C05CCCF@umsanet.edu.bo>

As frequently in R, when something can be done it can be done in more
ways. There is also the combinat package on CRAN. Here is a comparision:

> system.time(permn(1:5))
[1]   NA   NA 0.16   NA   NA
> system.time(permutations(5,5))
[1]   NA   NA 0.17   NA   NA
> system.time(permn(1:8))
[1]    NA    NA 52.68    NA    NA
> system.time(permutations(8,8))
[1]   NA   NA 71.5   NA   NA

so the permn function from combinat seemxs to be marginally faster.

This is a slow windows 98  machine.

Kjetil Halvorsen

Juan Ramon Gonzalez wrote:
> 
> Ravi,
> 
> Look at the gregmisc package and  "permutations" function
> 
> Juan
> 
> ----- Original Message -----
> From: "David Meyer" <david.meyer at ci.tuwien.ac.at>
> To: "Ravi Varadhan" <rvaradha at jhsph.edu>
> Cc: "R-Help (E-mail)" <r-help at stat.math.ethz.ch>
> Sent: Wednesday, September 18, 2002 7:24 PM
> Subject: Re: [R] All permutations
> 
> > v <- 1:2
> > expand.grid(v,v,v)
> >
> > g.,
> > -d
> >
> > Ravi Varadhan wrote:
> > >
> > > Hi:
> > >
> > >  I would like to obtain all permutations of size n containing the k
> distinct
> > > objects. For example, for size n=3 and k=2 objects (1 and 2), I want the
> > > following 8x3 matrix:
> > >
> > >  1 1 1
> > >  1 1 2
> > >  1 2 1
> > >  2 1 1
> > >  1 2 2
> > >  2 2 1
> > >  2 1 2
> > >  2 2 2
> > >
> > >  Is there any R function to accomplish this?
> > >
> > >  Thanks for the help,
> > >  Ravi.
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> > --
> > Mag. David Meyer Wiedner Hauptstrasse 8-10
> > Vienna University of Technology A-1040 Vienna/AUSTRIA
> >          Department of Tel.: (+431) 58801/10772
> > Statistics and Probability Theory mail: david.meyer at ci.tuwien.ac.at
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clayton.springer at pharma.novartis.com  Wed Sep 25 21:19:38 2002
From: clayton.springer at pharma.novartis.com (clayton.springer@pharma.novartis.com)
Date: Wed, 25 Sep 2002 15:19:38 -0400
Subject: [R] large data set issues
Message-ID: <OF50B9F1F6.35E88E73-ON85256C3E.00787C2A@is.chbs>

Dear R-help,

I am loading data sets of the size 509 x ~9000 integers. Which is a 10M
file on disk. The .Rdata is 18M. When I try to use rpart I get:

Error: protect(): stack overflow

Naturally, the same thing happens with randomForest too.

What can be done, or is this dataset really too big?

thanks advance,

Clayton

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew at stat.ucla.edu  Wed Sep 25 21:51:57 2002
From: andrew at stat.ucla.edu (Andrew Baek)
Date: Wed, 25 Sep 2002 12:51:57 -0700 (PDT)
Subject: [R] CART vs. Random Forest
Message-ID: <Pine.GSO.4.10.10209251223180.22526-100000@quetelet.stat.ucla.edu>

According to Dr. Breiman, the RF should be more accurate
method than a single tree. However, the performance of each 
method seems to depend on the proprotion of outcome variable 
in my case. My data set is a typical classification problem
(predict bad guys). When I ran both of them with different 
proportion of outcome variables(there's a criterion to measure 
the degree of bad behavior), I got very strange results. 

1. proportion of 1 to 0 = 1:4
err.rate of CART = 25.2%
err.rate of RF = 25.6%

2. 1:9 
err.rate of CART = 28.5%
err.rate of RF = 21.2%

3. 1:33
err.rate of CART = 28.2%
err.rate of RF = 12.1%

4. 1:99
err.rate of CART = 25.1%
err.rate of RF = 7.3%


In 3 & 4, RF looks superior to CART. But I'm afraid RF just
vote for "0" to reduce the error rate. Any suggestions? 
Thank you. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Wed Sep 25 22:33:36 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Wed, 25 Sep 2002 16:33:36 -0400
Subject: [R] Re: problem with tapply
References: <3D91B707.29753.51BDE13@localhost>
Message-ID: <3D921DA0.B0AE2822@mcgill.ca>

Hello, I defined a function funy to get means(sd)n for groups in a dataframe

  funy<-function(x) list(mean(x,na.rm=T),sd(x,na.rm=T),table(is.na(x))[1])
   aa<-tapply(y,list(g1,g2,g3),funy)

typing
aa
gives
, , G.Baie

     Admin  CBNE   Coulee Electr ExCuv Fluo ExpAnt
Non  List,3 List,3 List,3 List,3 NULL  NULL NULL
Ex   List,3 List,3 List,3 List,3 NULL  NULL NULL
Curr List,3 List,3 List,3 List,3 NULL  NULL NULL

, , Later

     Admin  CBNE   Coulee Electr ExCuv  Fluo   ExpAnt
Non  List,3 List,3 List,3 List,3 List,3 List,3 List,3
Ex   List,3 List,3 List,3 List,3 List,3 List,3 List,3
Curr List,3 List,3 List,3 List,3 List,3 NULL   List,3

, , Shawi

     Admin  CBNE   Coulee Electr ExCuv  Fluo ExpAnt
Non  List,3 List,3 List,3 List,3 List,3 NULL List,3
Ex   List,3 List,3 List,3 List,3 List,3 NULL List,3
Curr List,3 List,3 List,3 List,3 List,3 NULL List,3

but I want the componenets of the lists, so I do
   bb<-matrix(unlist(aa),nrow=3)
now typing
bb
gives me
          [,1]       [,2]      [,3]      [,4]      [,5]     [,6]     [,7]
[1,] 104.10811 103.363636 101.90909 102.02439 104.10000 97.69149 98.56522
[2,]  11.34995   9.564545  13.52372  14.40420  11.88250 13.63820 12.12370
[3,]  37.00000  22.000000  11.00000  82.00000  50.00000 94.00000 23.00000
         [,8]     [,9]    [,10]     [,11]    [,12]     [,13]     [,14]    [,15]
[1,] 98.31250 99.24138 99.96250 100.49020 97.27586 102.82759 107.33333 97.15385
[2,] 15.36975  9.25687 11.94761  13.93897 12.77870  12.53301  10.03026 14.12354
[3,] 16.00000 29.00000 80.00000  51.00000 87.00000  29.00000  12.00000 13.00000
         [,16]    [,17]    [,18]     [,19]     [,20]    [,21]     [,22]
[1,] 101.00000 97.85000 94.00000 96.333333 102.21429 95.50000 100.18033
[2,]  11.48291 14.70866 18.64806  9.232448  13.31961 15.88325  12.38616
[3,]  15.00000 20.00000 17.00000 15.000000  14.00000 10.00000  61.00000

i.e. the NULL lists are bypassed and I lose all relationship with the levels of the
by variables
Is there a way to have lists of 3 NA's in the place of the NULL lists
As always many thanks for any help.

--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Sep 25 22:47:46 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 25 Sep 2002 16:47:46 -0400
Subject: [R] RE: New version of gregmisc package
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CFC6@groexmb02.pfizer.com>


Shortly after the release of version 0.6.0 of the gregmisc package, several
bugs were located by users.  A new release, 0.7.0, is now available on CRAN.


This version corrects these bugs, and adds regression test code.  This
regression test code should to help to prevent introduction of bugs of this
sort in the future

Thanks to Matthew McDonald and Sven Garbade for the bug reports prompted
this re-release.

-Greg



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Sep 25 23:52:52 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Wed, 25 Sep 2002 14:52:52 -0700
Subject: [R] CART vs. Random Forest
In-Reply-To: <Pine.GSO.4.10.10209251223180.22526-100000@quetelet.stat.uc
 la.edu>
Message-ID: <5.1.1.5.2.20020925145127.018be300@pop4.attglobal.net>

At 12:51 PM 9/25/2002, Andrew Baek wrote:
 >According to Dr. Breiman, the RF should be more accurate
 >method than a single tree. However, the performance of each
 >method seems to depend on the proprotion of outcome variable
 >in my case. My data set is a typical classification problem
 >(predict bad guys). When I ran both of them with different
 >proportion of outcome variables(there's a criterion to measure
 >the degree of bad behavior), I got very strange results.
 >
 >1. proportion of 1 to 0 = 1:4
 >err.rate of CART = 25.2%
 >err.rate of RF = 25.6%
 >
 >2. 1:9
 >err.rate of CART = 28.5%
 >err.rate of RF = 21.2%
 >
 >3. 1:33
 >err.rate of CART = 28.2%
 >err.rate of RF = 12.1%
 >
 >4. 1:99
 >err.rate of CART = 25.1%
 >err.rate of RF = 7.3%
 >
 >
 >In 3 & 4, RF looks superior to CART. But I'm afraid RF just
 >vote for "0" to reduce the error rate. Any suggestions?

Where are you getting CART results in R?  CART is a trademark of Salford 
Systems and is not implemented AFAIK in R (or SPlus).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Wed Sep 25 21:40:37 2002
From: scholl at yubc.net (Brian Scholl)
Date: Wed, 25 Sep 2002 21:40:37 +0200
Subject: [R] Complex demodulation - Purely a time series question
Message-ID: <002b01c264de$200040c0$80a57cd4@brian>

Hi, this is purely a time series question if anyone has a hint.

I'm trying to complex demodulate a series at different frequencies. Say at
$\lambda$ = 1/100, 1/41 and 1/23.  (These correspond to various astronomical
forcing frequencies of ice ages, incidentally).

Now, following say Hasan (1982, Hand. of Stats) or Brillinger (1987, Fitting
Cosines), I do the following:
1. from y, form the series y(t)*exp(i*lambda*t)
2. take the log of the modulus of the new series
When I'm done, I should be able to plot the series as a function of time and
get a sense of the amplitude of the harmonic signal at the frequency I'm
interested in.

Well, I do this, but the plots for different frequencies are darn near
identical.  This does not seem reasonable because: the periodogram detects a
strong peak at 100kyrs, but not at 23 kyrs; and knowledge of the data
suggests the demodulated series should look different.  On the other side,
1/100 and 1/23 aren't hugely different - but then what's really the point of
isolating the frequency?

I know this is a cross listing, but any help would be appreciated.  Thanks.

Some code:

    t<-1:length(y)
    yt<-(y*exp(1i*(.01)*t))
#    yt=smoother(yt,5,t,1);
    demod100<-log(abs(yt));
    phase100<-Arg(yt);


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew at stat.ucla.edu  Thu Sep 26 00:14:39 2002
From: andrew at stat.ucla.edu (Andrew Baek)
Date: Wed, 25 Sep 2002 15:14:39 -0700 (PDT)
Subject: [R] CART vs. Random Forest
In-Reply-To: <5.1.1.5.2.20020925145127.018be300@pop4.attglobal.net>
Message-ID: <Pine.GSO.4.10.10209251511330.4250-100000@quetelet.stat.ucla.edu>

I used "rpart". I should have been more clear, sorry. 

On Wed, 25 Sep 2002, Marc R. Feldesman wrote:

> At 12:51 PM 9/25/2002, Andrew Baek wrote:
>  >According to Dr. Breiman, the RF should be more accurate
>  >method than a single tree. However, the performance of each
>  >method seems to depend on the proprotion of outcome variable
>  >in my case. My data set is a typical classification problem
>  >(predict bad guys). When I ran both of them with different
>  >proportion of outcome variables(there's a criterion to measure
>  >the degree of bad behavior), I got very strange results.
>  >
>  >1. proportion of 1 to 0 = 1:4
>  >err.rate of CART = 25.2%
>  >err.rate of RF = 25.6%
>  >
>  >2. 1:9
>  >err.rate of CART = 28.5%
>  >err.rate of RF = 21.2%
>  >
>  >3. 1:33
>  >err.rate of CART = 28.2%
>  >err.rate of RF = 12.1%
>  >
>  >4. 1:99
>  >err.rate of CART = 25.1%
>  >err.rate of RF = 7.3%
>  >
>  >
>  >In 3 & 4, RF looks superior to CART. But I'm afraid RF just
>  >vote for "0" to reduce the error rate. Any suggestions?
> 
> Where are you getting CART results in R?  CART is a trademark of Salford 
> Systems and is not implemented AFAIK in R (or SPlus).
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Sep 26 00:59:36 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 25 Sep 2002 17:59:36 -0500
Subject: [R] RE: New version of gregmisc package
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C20149CFC6@groexmb02.pfizer.com>
Message-ID: <000301c264e7$38bcb770$0201a8c0@MARC>

To all,

If I may just also add a personal and in this forum, a public note of
thanks to Greg for his assistance over the past few days in offering to
make available two functions (CrossTable and barplot2), that I posted
over the recent past to r-devel, in the gregmisc package.

I hope that these will be of value to the community and provide a level
of "payback" for the tremendous value and assistance that I have found
here over the past year of using R.

Best regards,

Marc Schwartz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nlpace at remi.med.utah.edu  Thu Sep 26 01:49:11 2002
From: nlpace at remi.med.utah.edu (Nathan Leon Pace, MD, MStat)
Date: Wed, 25 Sep 2002 17:49:11 -0600
Subject: [R] response surface
Message-ID: <3D924B77.3010905@bigpace.med.utah.edu>

I have a response surface model (z ~ x*y) which is displayed as a 
trellis wireframe plot.

I wish to cut the surface at various linear planes in the z axis (e.g. z 
= 50, etc.). Are there any packages which offer functions to do so?

Thanks,

Nathan

-- 
Nathan Leon Pace, MD, MStat  Work:nlpace at bigpace.med.utah.ed
Department of Anesthesiology Play:nlpaces at attbi.com
University of Utah           Voice Work:801.581.6393  Play:801.467.2925
Salt Lake City, Utah         Fax   Work:801.581.4367  Play:801.467.0555


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Sep 26 02:13:04 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 25 Sep 2002 17:13:04 -0700 (PDT)
Subject: [R] large data set issues
In-Reply-To: <OF50B9F1F6.35E88E73-ON85256C3E.00787C2A@is.chbs>
Message-ID: <Pine.A41.4.44.0209251710080.20076-100000@homer18.u.washington.edu>

On Wed, 25 Sep 2002 clayton.springer at pharma.novartis.com wrote:

> Dear R-help,
>
> I am loading data sets of the size 509 x ~9000 integers. Which is a 10M
> file on disk. The .Rdata is 18M. When I try to use rpart I get:
>
> Error: protect(): stack overflow
>
> Naturally, the same thing happens with randomForest too.
>
> What can be done, or is this dataset really too big?
>

You could try redefining R_PPSSIZE in Defn.h and recompiling, to get a
larger pointer protection stack.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From KKarty at affinnova.com  Thu Sep 26 02:43:44 2002
From: KKarty at affinnova.com (Kevin Karty)
Date: Wed, 25 Sep 2002 20:43:44 -0400
Subject: [R] Lists to vectors...
Message-ID: <90821ABF429A074DA88E56D1DF7A716101F441@afifs1.affinnova.com>



Hello, can anyone answer:

Is there a fast, vectorized way to convert a list of integer vectors, in
which each vector has different length, to a single vector that is
simply the concatenation of all the member vectors?  Or does one have to
loop over the list and concatenate everything?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Sep 25 14:57:29 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 26 Sep 2002 00:57:29 +1200
Subject: [R] response surface
In-Reply-To: <3D924B77.3010905@bigpace.med.utah.edu>; from nlpace@remi.med.utah.edu on Wed, Sep 25, 2002 at 05:49:11PM -0600
References: <3D924B77.3010905@bigpace.med.utah.edu>
Message-ID: <20020926005729.A14155@camille.indigoindustrial.co.nz>

On Wed, Sep 25, 2002 at 05:49:11PM -0600, Nathan Leon Pace, MD, MStat wrote:
> I have a response surface model (z ~ x*y) which is displayed as a 
> trellis wireframe plot.
> 
> I wish to cut the surface at various linear planes in the z axis (e.g. z 
> = 50, etc.). Are there any packages which offer functions to do so?

Would the subset argument to wireframe help?  e.g. 

wireframe(z ~ x*y, subset= (z > 50))

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Thu Sep 26 03:07:34 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 26 Sep 2002 13:07:34 +1200
Subject: [R] response surface
In-Reply-To: <3D924B77.3010905@bigpace.med.utah.edu>
References: <3D924B77.3010905@bigpace.med.utah.edu>
Message-ID: <20020926010734.GA7445@hortresearch.co.nz>

On Wed, 25-Sep-2002 at 05:49PM -0600, Nathan Leon Pace, MD, MStat wrote:

|> I have a response surface model (z ~ x*y) which is displayed as a 
|> trellis wireframe plot.
|> 
|> I wish to cut the surface at various linear planes in the z axis (e.g. z 
|> = 50, etc.). Are there any packages which offer functions to do so?

Sounds a lot like a job for contour to me.  Contours are more readable
than wireframes anyway.


-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MAILER-DAEMON at st-andrews.ac.uk  Thu Sep 26 03:26:51 2002
From: MAILER-DAEMON at st-andrews.ac.uk (Mail Delivery Subsystem)
Date: Thu, 26 Sep 2002 02:26:51 +0100 (BST)
Subject: [R] Warning: could not send message for past 4 hours
Message-ID: <200209260126.CAA18248@mailcheck.st-andrews.ac.uk>

An embedded message was scrubbed...
From: "Warnes, Gregory R" <gregory_r_warnes at groton.pfizer.com>
Subject: RE: New version of gregmisc package
Date: Wed, 25 Sep 2002 16:47:46 -0400
Size: 4239
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020926/c086e7f5/attachment.mht

From p.murrell at auckland.ac.nz  Thu Sep 26 04:18:48 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 26 Sep 2002 14:18:48 +1200
Subject: [R] grid.legend - lines
References: <54DE9A561AD20C4D9FF88B116965420E21E0D7@postix.nrpa.no>
Message-ID: <3D926E88.406210F8@stat.auckland.ac.nz>

Hi


Morten Sickel wrote:
> 
> I am testing out the grid-plots, but get into a problem making a legend. I
> have a line plot and some points, following the model in
> grid.plot.and.legend() i manage to get the points correctly in the legend,
> but what do I do with the line? (Of cource, I can just draw a line at the
> right location on the plot, but I would prefer to use legend)


Apologies for the very late reply (it's a busy teaching time:().

I'm afraid the grid.legend() function is only a little bit less of a
how-to demonstration than the grid.plot.and.legend() function.  However,
it is fairly straightforward to add line types to it.  The code below
defines a grid.legend2() function that allows you to specify lty as well
as pch.  Here are a couple of simple demonstrations of how it could be
used ...

grid.legend2(1:3, 1:3, 1:3)
grid.newpage()
grid.legend2(lty=1:3, labels=1:3)

... there is also a grid.plot.and.legend2() function given below which
does the same thing as grid.plot.and.legend(), but draws a legend using
lty instead of pch.  I hope this is of some help.  Please get back to me
if any of this is not clear.

Paul


############

grid.legend2 <- function (pch=NULL, lty=NULL,
                          labels, frame = TRUE,
                          hgap = unit(0.5, "lines"), 
                          vgap = unit(0.5, "lines"),
                          default.units = "lines",
                          gp = gpar(), 
                          draw = TRUE, vp = NULL) 
{
  labels <- as.character(labels)
  nkeys <- length(labels)
  if (!is.unit(hgap)) 
    hgap <- unit(hgap, default.units)
  if (length(hgap) != 1) 
    stop("hgap must be single unit")
  if (!is.unit(vgap)) 
    vgap <- unit(vgap, default.units)
  if (length(vgap) != 1) 
    stop("vgap must be single unit")
  legend.layout <-
    grid.layout(nkeys, 3,
                widths = unit.c(unit(2, "lines"),
                  max(unit(rep(1, nkeys), "strwidth",
                           as.list(labels))), 
                  hgap),
                heights = unit.pmax(unit(2, "lines"),
                  vgap + unit(rep(1, nkeys), "strheight",
                              as.list(labels))))
  gf <- grid.frame(layout = legend.layout, vp = vp, gp = gp, 
                   draw = FALSE)
  for (i in 1:nkeys) {
    if (!is.null(pch))
      grid.place(gf, grid.points(0.5, 0.5, pch = pch[i],
                                 draw = FALSE), 
                 col = 1, row = i, draw = FALSE)
    if (!is.null(lty))
      grid.place(gf, grid.lines(x=c(0.2, 0.8), y=0.5,
                                gp=gpar(lty=lty[i]),
                                draw=FALSE),
                 col = 1, row = i, draw=FALSE)
    grid.place(gf, grid.text(labels[i], x = 0, y = 0.5,
                             just = c("left", "centre"),
                             draw = FALSE),
               col = 2, row = i, draw = FALSE)
  }
  if (draw) 
    grid.draw(gf)
  gf
}

grid.plot.and.legend2 <- function () 
{
  grid.newpage()
  top.vp <- viewport(w = 0.8, h = 0.8)
  push.viewport(top.vp)
  x <- runif(10)
  y1 <- runif(10)
  y2 <- runif(10)
  lty <- 1:3
  labels <- c("Girls", "Boys", "Other")
  lf <- grid.frame(draw = TRUE)
  plot <- grid.collection(grid.rect(draw = FALSE),
                          grid.lines(x, y1, gp=gpar(lty = 1),
                                     draw = FALSE),
                          grid.lines(x, y2, gp=gpar(lty=2),
                                     draw = FALSE),
                          grid.xaxis(draw = FALSE), grid.yaxis(
                                       draw = FALSE), 
                          draw = FALSE)
  grid.pack(lf, plot)
  grid.pack(lf, grid.legend2(NULL, lty, labels, draw = FALSE),
            height = unit(1, "null"), side = "right")
  grid.draw(lf)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Sep 26 04:29:07 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 25 Sep 2002 21:29:07 -0500
Subject: [R] Lists to vectors...
In-Reply-To: <90821ABF429A074DA88E56D1DF7A716101F441@afifs1.affinnova.com>
Message-ID: <000f01c26504$7e4daed0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of Kevin Karty
> Sent: Wednesday, September 25, 2002 7:44 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Lists to vectors...
> 
> 
> 
> Hello, can anyone answer:
> 
> Is there a fast, vectorized way to convert a list of integer vectors,
in
> which each vector has different length, to a single vector that is
> simply the concatenation of all the member vectors?  Or does one have
to
> loop over the list and concatenate everything?

If your list is "x":

How about unlist(x, recursive = TRUE)

See ?unlist

Marc



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Thu Sep 26 06:09:54 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Wed, 25 Sep 2002 23:09:54 -0500 (CDT)
Subject: [R] Lists to vectors...
In-Reply-To: <90821ABF429A074DA88E56D1DF7A716101F441@afifs1.affinnova.com>
Message-ID: <Pine.LNX.4.21.0209252308070.7314-100000@istat02.stat.wisc.edu>

> Is there a fast, vectorized way to convert a list of integer vectors, in
> which each vector has different length, to a single vector that is
> simply the concatenation of all the member vectors?  Or does one have to
> loop over the list and concatenate everything?

You may try function unlist, which flattens a list to a vector.

Jun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwenn.lemeur at nantes.inserm.fr  Thu Sep 26 12:17:09 2002
From: nolwenn.lemeur at nantes.inserm.fr (Nolwenn Le Meur)
Date: Thu, 26 Sep 2002 12:17:09 +0200 (MET DST)
Subject: [R] Date: Thu, 26 Sep 2002 12:13:33 +0200
Message-ID: <LMEBLNBEKKODLAONNGJMOEFOCAAA.nolwenn.lemeur@nantes.inserm.fr>

How can I give the name of my data frame to the output file ?

exp:
mydata<-read.table(mydata,..)
...
...
write.table(x, file="c:/" mydata,...)

Nolwenn Le Meur

********************************************
Nolwenn Le Meur
INSERM U533
Facult? de m?decine
1, rue Gaston Veil
44035 Nantes Cedex 1
France

Tel: (+33)-2-40-41-29-86 (office)
     (+33)-2-40-41-28-44 (secretary)
Fax: (+33)-2-40-41-29-50
mail: nolwenn.lemeur at nantes.inserm.fr
********************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Thu Sep 26 14:26:28 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Thu, 26 Sep 2002 14:26:28 +0200 (MET DST)
Subject: [R] Date: Thu, 26 Sep 2002 12:13:33 +0200
In-Reply-To: <LMEBLNBEKKODLAONNGJMOEFOCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <Pine.SO4.4.10.10209261424110.26471-100000@ufobi7.uni-forst.gwdg.de>

On Thu, 26 Sep 2002, Nolwenn Le Meur wrote:

%How can I give the name of my data frame to the output file ?
%
%exp:
%mydata<-read.table(mydata,..)
%...
%...
%write.table(x, file="c:/" mydata,...)

write.tbale(x,file=paste("c:/",expression(mydata),sep=""))

	JN
%
%Nolwenn Le Meur
%
%********************************************
%Nolwenn Le Meur
%INSERM U533
%Facult de mdecine
%1, rue Gaston Veil
%44035 Nantes Cedex 1
%France
%
%Tel: (+33)-2-40-41-29-86 (office)
%     (+33)-2-40-41-28-44 (secretary)
%Fax: (+33)-2-40-41-29-50
%mail: nolwenn.lemeur at nantes.inserm.fr


***********************************************************************
Jens Nieschulze



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Sep 26 14:36:22 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 26 Sep 2002 14:36:22 +0200
Subject: [R] Date: Thu, 26 Sep 2002 12:13:33 +0200
Message-ID: <3.0.32.20020926143622.009007b0@162.38.183.200>

At 12:17 26/09/02 +0200, you wrote:
>How can I give the name of my data frame to the output file ?
>
>exp:
>mydata<-read.table(mydata,..)
>...
>...
>write.table(x, file="c:/" mydata,...)

This may do the trick:

write.table(x, file=paste("c:/", deparse(substitute(mydata)), sep = ""), ...)


EP

>Nolwenn Le Meur
>
>********************************************
>Nolwenn Le Meur
>INSERM U533
>Facult? de m?decine
>1, rue Gaston Veil
>44035 Nantes Cedex 1
>France
>
>Tel: (+33)-2-40-41-29-86 (office)
>     (+33)-2-40-41-28-44 (secretary)
>Fax: (+33)-2-40-41-29-50
>mail: nolwenn.lemeur at nantes.inserm.fr
>********************************************
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Sep 26 02:45:29 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 26 Sep 2002 12:45:29 +1200
Subject: [R] Date: Thu, 26 Sep 2002 12:13:33 +0200
In-Reply-To: <LMEBLNBEKKODLAONNGJMOEFOCAAA.nolwenn.lemeur@nantes.inserm.fr>; from nolwenn.lemeur@nantes.inserm.fr on Thu, Sep 26, 2002 at 12:17:09PM +0200
References: <LMEBLNBEKKODLAONNGJMOEFOCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <20020926124529.A14581@camille.indigoindustrial.co.nz>

On Thu, Sep 26, 2002 at 12:17:09PM +0200, Nolwenn Le Meur wrote:
> How can I give the name of my data frame to the output file ?
> 
> exp:
> mydata<-read.table(mydata,..)
> ...
> ...
> write.table(x, file="c:/" mydata,...)

write.table(x,file=paste(sep="","c:/",deparse(substitute(mydata))))

Check the help files on deparse(), substitute(), and paste()

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Sep 26 14:51:18 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 26 Sep 2002 08:51:18 -0400
Subject: [R] CART vs. Random Forest
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BDEE@usrymx04.merck.com>

If either method were just guessing 0 to reduce the error rate, shouldn't
they achieve a 1/34 ~ 3% or 1/100 = 1% error rate in the last two examples?
And for that matter 20% and 10%  in the first two?  It doesn't look like
that's what's going on.

One suggestion if making sure you find the 1's is more important than having
a low overall error rate:  in rpart, you can specify a loss matrix to say
that certain kinds of errors are more important than others.  In a random
forest, you can use different voting thresholds for "1-ness" and "0-ness" to
bias things -- that is, instead of just taking majority vote, you might
require (for example) 85% of the trees to agree for something to be declared
in class 0.

It's hard to say much more without knowing anything about your data.  But in
my experience random forests have substantially outperformed single trees in
many problems (and I haven't yet encountered one in which a single tree
outperformed a random forest).

Hope this helps,

Matthew Wiener
RY84-202
Applied Computer Science & Mathematics Dept.
Merck Research Labs
126 E. Lincoln Ave.
Rahway, NJ 07065
732-594-5303 

-----Original Message-----
From: Andrew Baek [mailto:andrew at stat.ucla.edu]
Sent: Wednesday, September 25, 2002 3:52 PM
To: r-help at stat.math.ethz.ch
Subject: [R] CART vs. Random Forest


According to Dr. Breiman, the RF should be more accurate
method than a single tree. However, the performance of each 
method seems to depend on the proprotion of outcome variable 
in my case. My data set is a typical classification problem
(predict bad guys). When I ran both of them with different 
proportion of outcome variables(there's a criterion to measure 
the degree of bad behavior), I got very strange results. 

1. proportion of 1 to 0 = 1:4
err.rate of CART = 25.2%
err.rate of RF = 25.6%

2. 1:9 
err.rate of CART = 28.5%
err.rate of RF = 21.2%

3. 1:33
err.rate of CART = 28.2%
err.rate of RF = 12.1%

4. 1:99
err.rate of CART = 25.1%
err.rate of RF = 7.3%


In 3 & 4, RF looks superior to CART. But I'm afraid RF just
vote for "0" to reduce the error rate. Any suggestions? 
Thank you. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 26 15:31:56 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 26 Sep 2002 09:31:56 -0400
Subject: [R] Lists to vectors...
References: <90821ABF429A074DA88E56D1DF7A716101F441@afifs1.affinnova.com>
Message-ID: <3D930C4C.5BC114F0@umsanet.edu.bo>

> test <- list(1:3, 5:9, 3:7)
> test
[[1]]
[1] 1 2 3

[[2]]
[1] 5 6 7 8 9

[[3]]
[1] 3 4 5 6 7

> do.call("c", test)
 [1] 1 2 3 5 6 7 8 9 3 4 5 6 7


Kjetil Halvorsen

Kevin Karty wrote:
> 
> Hello, can anyone answer:
> 
> Is there a fast, vectorized way to convert a list of integer vectors, in
> which each vector has different length, to a single vector that is
> simply the concatenation of all the member vectors?  Or does one have to
> loop over the list and concatenate everything?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Thu Sep 26 15:50:08 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Thu, 26 Sep 2002 15:50:08 +0200
Subject: [R] T-Value, ties and the wilcox.test()
Message-ID: <3D931090.9020709@tuebingen.mpg.de>

hi,
i am looking for a way to correct for ties in the wilcoxon signed rank 
test -> e.g. wilcox.test(x,mu=.5)

one way i have heard of is to look up the p value in a table that has 
been produced by Buck (1975). obviously i need to know the T-value to do 
  that -> how do i get the T-value from the wilcox.test() function.

is there any other (already implemented) way to correct for ties in R?

and: how can i at least read the R-code of a given function (e.g. the 
wilcox.test() function) ?


thanks for help,
jan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Sep 26 15:54:47 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 26 Sep 2002 15:54:47 +0200
Subject: [R] glm.fit() and binomial family
Message-ID: <00a001c26564$4c928180$5c13070a@it.giustizia.it>

Hi all,
I'm interested in updating glm using glm.fit() (of course my final output is
different, but the problem is in glm.fit()). Then my function is, say:

fn<-function(obj,z){
    X<-update(obj,x=T)$x
    X<-cbind(X,z)
    y<-obj$y
    fam<-family(obj)
    o<-obj$offset
    contr<-obj$control
    w<-obj$weights
    o<-glm.fit(x=X,y=y,offset=o,weights=w,family=fam,control=contr)
    o$coef}

Such function works with gaussian family, but I have some problems with
binomial one. To test it let use the Down-syndrome data in the boot library:

library(boot)
data(downs.bc)

o<-glm(r/m~age ,family=binomial,weight=m,data=downs.bc)

> fn(o,z=I(downs.bc$age^2))
 (Intercept)          age            z
-4.940844023 -0.250360022  0.006250743
Warning message:
non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)

but

> update(o,.~.+I(downs.bc$age^2))$coef
      (Intercept)               age I(downs.bc$age^2)
     -2.243578933      -0.414359607       0.008624326

Of course there is some problems, probably I'm missing something in
extracting the response, but I'm stuck and not able to solve my problem.
I would like use my function with *any* glm() (with any
family,link,offset,....).
Where have I to modify my code in order to use glm.fit()?


Also I would like to use "fn(o,z=I(age^2))" without specifying the dataframe
(i.e. "fn(o,z=I(downs.bc$age^2))"). That is fn() should search its argument
z in the environment of obj and then in the global environment. Where is the
trick?
Many thanks for your help!

best,
vito

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Sep 26 18:37:04 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 26 Sep 2002 18:37:04 +0200
Subject: [R] CART vs. Random Forest
In-Reply-To: <7C4F091F6140D411A29300508B5C73B908A2BDEE@usrymx04.merck.com>
Message-ID: <MABBLJDICACNFOLGIHJOOEHECPAA.phgrosje@ulb.ac.be>

I am currently working on zooplankton identification after image analysis. I
selected both random forest and double-bagging (rpart + lda combined, R
library Ipred) as the two methods for classification. I notice also that
performances of both methods are changing with the "quality" of the picture
and also the relative proportion of the 8 groups made (27 variables,
training set of around 2000 individuals). Double-bagging is more performant
with any sample that is very similar to the training set (proportions of
groups, contrast of the picture), but its performances fall down much faster
than random forest for less good quality pictures or different proportions.
By comparing results issued from both methods, it is possible to tag
'suspect' individuals, that is, items ranged into different categories by
both methods. If these suspect items are eliminated, the correct
identification remains surprisignly constant, around 80%. I still do not
understand everything of what happens. If someone has an idea? Anyway, this
could be something to try also on your data set.
Best,

Philippe Grosjean

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Wiener, Matthew
Sent: jeudi 26 septembre 2002 2:51
To: 'Andrew Baek'; r-help at stat.math.ethz.ch
Subject: RE: [R] CART vs. Random Forest


If either method were just guessing 0 to reduce the error rate, shouldn't
they achieve a 1/34 ~ 3% or 1/100 = 1% error rate in the last two examples?
And for that matter 20% and 10%  in the first two?  It doesn't look like
that's what's going on.

One suggestion if making sure you find the 1's is more important than having
a low overall error rate:  in rpart, you can specify a loss matrix to say
that certain kinds of errors are more important than others.  In a random
forest, you can use different voting thresholds for "1-ness" and "0-ness" to
bias things -- that is, instead of just taking majority vote, you might
require (for example) 85% of the trees to agree for something to be declared
in class 0.

It's hard to say much more without knowing anything about your data.  But in
my experience random forests have substantially outperformed single trees in
many problems (and I haven't yet encountered one in which a single tree
outperformed a random forest).

Hope this helps,

Matthew Wiener
RY84-202
Applied Computer Science & Mathematics Dept.
Merck Research Labs
126 E. Lincoln Ave.
Rahway, NJ 07065
732-594-5303

-----Original Message-----
From: Andrew Baek [mailto:andrew at stat.ucla.edu]
Sent: Wednesday, September 25, 2002 3:52 PM
To: r-help at stat.math.ethz.ch
Subject: [R] CART vs. Random Forest


According to Dr. Breiman, the RF should be more accurate
method than a single tree. However, the performance of each
method seems to depend on the proprotion of outcome variable
in my case. My data set is a typical classification problem
(predict bad guys). When I ran both of them with different
proportion of outcome variables(there's a criterion to measure
the degree of bad behavior), I got very strange results.

1. proportion of 1 to 0 = 1:4
err.rate of CART = 25.2%
err.rate of RF = 25.6%

2. 1:9
err.rate of CART = 28.5%
err.rate of RF = 21.2%

3. 1:33
err.rate of CART = 28.2%
err.rate of RF = 12.1%

4. 1:99
err.rate of CART = 25.1%
err.rate of RF = 7.3%


In 3 & 4, RF looks superior to CART. But I'm afraid RF just
vote for "0" to reduce the error rate. Any suggestions?
Thank you.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

----------------------------------------------------------------------------
--
Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message. If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 26 18:45:11 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 26 Sep 2002 12:45:11 -0400
Subject: [R] T-Value, ties and the wilcox.test()
References: <3D931090.9020709@tuebingen.mpg.de>
Message-ID: <3D933997.15D9A7AD@umsanet.edu.bo>

wilcox.exact in the CRAN package
exactRankTests

Kjetil Halvorsen

Jan Malte Wiener wrote:
> 
> hi,
> i am looking for a way to correct for ties in the wilcoxon signed rank
> test -> e.g. wilcox.test(x,mu=.5)
> 
> one way i have heard of is to look up the p value in a table that has
> been produced by Buck (1975). obviously i need to know the T-value to do
>   that -> how do i get the T-value from the wilcox.test() function.
> 
> is there any other (already implemented) way to correct for ties in R?
> 
> and: how can i at least read the R-code of a given function (e.g. the
> wilcox.test() function) ?
> 
> thanks for help,
> jan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Thu Sep 26 20:13:41 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Thu, 26 Sep 2002 18:13:41 +0000
Subject: [R] Lists to vectors...
References: <90821ABF429A074DA88E56D1DF7A716101F441@afifs1.affinnova.com> <3D930C4C.5BC114F0@umsanet.edu.bo>
Message-ID: <3D934E55.94633997@sentoo.sn>

or even

> unlist(list(1:3, 5:9, 3:7))
 [1] 1 2 3 5 6 7 8 9 3 4 5 6 7

Best,

Renaud

kjetil halvorsen wrote:
> 
> > test <- list(1:3, 5:9, 3:7)
> > test
> [[1]]
> [1] 1 2 3
> 
> [[2]]
> [1] 5 6 7 8 9
> 
> [[3]]
> [1] 3 4 5 6 7
> 
> > do.call("c", test)
>  [1] 1 2 3 5 6 7 8 9 3 4 5 6 7
> 
> Kjetil Halvorsen
> 
> Kevin Karty wrote:
> >
> > Hello, can anyone answer:
> >
> > Is there a fast, vectorized way to convert a list of integer vectors, in
> > which each vector has different length, to a single vector that is
> > simply the concatenation of all the member vectors?  Or does one have to
> > loop over the list and concatenate everything?
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    +221 832 49 02
BP 2057 Dakar-Hann              fax    +221 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew at stat.ucla.edu  Thu Sep 26 20:31:54 2002
From: andrew at stat.ucla.edu (Andrew Baek)
Date: Thu, 26 Sep 2002 11:31:54 -0700 (PDT)
Subject: [R] CART vs. Random Forest
In-Reply-To: <7C4F091F6140D411A29300508B5C73B908A2BDEE@usrymx04.merck.com>
Message-ID: <Pine.GSO.4.10.10209261128050.22154-100000@quetelet.stat.ucla.edu>

Well, I implemented "priors" in both packages. Note that 
"cost matrix" in "rpart" has some bugs. You should use
the transpose of the "real" cost matrix. Well, for my
problem, RF doesn't look superior to "rpart". I guess
it depends on the set. Thank you. 

Andrew

On Thu, 26 Sep 2002, Wiener, Matthew wrote:

> If either method were just guessing 0 to reduce the error rate, shouldn't
> they achieve a 1/34 ~ 3% or 1/100 = 1% error rate in the last two examples?
> And for that matter 20% and 10%  in the first two?  It doesn't look like
> that's what's going on.
> 
> One suggestion if making sure you find the 1's is more important than having
> a low overall error rate:  in rpart, you can specify a loss matrix to say
> that certain kinds of errors are more important than others.  In a random
> forest, you can use different voting thresholds for "1-ness" and "0-ness" to
> bias things -- that is, instead of just taking majority vote, you might
> require (for example) 85% of the trees to agree for something to be declared
> in class 0.
> 
> It's hard to say much more without knowing anything about your data.  But in
> my experience random forests have substantially outperformed single trees in
> many problems (and I haven't yet encountered one in which a single tree
> outperformed a random forest).
> 
> Hope this helps,
> 
> Matthew Wiener
> RY84-202
> Applied Computer Science & Mathematics Dept.
> Merck Research Labs
> 126 E. Lincoln Ave.
> Rahway, NJ 07065
> 732-594-5303 
> 
> -----Original Message-----
> From: Andrew Baek [mailto:andrew at stat.ucla.edu]
> Sent: Wednesday, September 25, 2002 3:52 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] CART vs. Random Forest
> 
> 
> According to Dr. Breiman, the RF should be more accurate
> method than a single tree. However, the performance of each 
> method seems to depend on the proprotion of outcome variable 
> in my case. My data set is a typical classification problem
> (predict bad guys). When I ran both of them with different 
> proportion of outcome variables(there's a criterion to measure 
> the degree of bad behavior), I got very strange results. 
> 
> 1. proportion of 1 to 0 = 1:4
> err.rate of CART = 25.2%
> err.rate of RF = 25.6%
> 
> 2. 1:9 
> err.rate of CART = 28.5%
> err.rate of RF = 21.2%
> 
> 3. 1:33
> err.rate of CART = 28.2%
> err.rate of RF = 12.1%
> 
> 4. 1:99
> err.rate of CART = 25.1%
> err.rate of RF = 7.3%
> 
> 
> In 3 & 4, RF looks superior to CART. But I'm afraid RF just
> vote for "0" to reduce the error rate. Any suggestions? 
> Thank you. 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Thu Sep 26 21:24:43 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 26 Sep 2002 21:24:43 +0200
Subject: [R] tcltk  - command=function()
Message-ID: <200209261924.g8QJOhX20539@mailgate5.cinetic.de>

hi,

just having the idea create a simple
tcl/tk gui-dialog for different data-file formats
i get starting problems and it would be nice
get some tips/tricks from experienced tcl/tk user in R !

tt <- tktoplevel()
label.widget  <- tklabel(tt,text="Decision Tree GUI")
button.widget <- tkbutton(tt,text="Select SPSSFile",
command=function()  read.spss("C:/Cummulative/data/wekaSpecial.sav",
use.value.label=T,to.data.frame=T))
tkpack(label.widget,button.widget)
tkdestroy(tt))


....how i have to use  command=function()  that this works like
cat command ( i get no error message but nothing happen),or better
how can i replace it with  tkgetOpenFile and do than an assignment 
to a read.table,read.delim or read.spss command ?

i experiment with deparse and substitute, but get no success !

really thanks for advance
and regards,Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew at stat.ucla.edu  Thu Sep 26 21:33:22 2002
From: andrew at stat.ucla.edu (Andrew Baek)
Date: Thu, 26 Sep 2002 12:33:22 -0700 (PDT)
Subject: [R] CART vs. Random Forest
In-Reply-To: <7C4F091F6140D411A29300508B5C73B908A2BDEE@usrymx04.merck.com>
Message-ID: <Pine.GSO.4.10.10209261222500.22154-100000@quetelet.stat.ucla.edu>

> One suggestion if making sure you find the 1's is more important than having
> a low overall error rate:  in rpart, you can specify a loss matrix to say
> that certain kinds of errors are more important than others.  In a random
> forest, you can use different voting thresholds for "1-ness" and "0-ness" to
> bias things -- that is, instead of just taking majority vote, you might
> require (for example) 85% of the trees to agree for something to be declared
> in class 0.

If I use loss matrix in "rpart" and different threshold in "RF", how 
can I compare two packages? Well, Andy Liaw told me "classwt" in RF does
not help much. But when I modified priors in rpart, I got totall new 
results. So I thought this should be applied to RF.

Also, I'll appreciate if you tell me how to change the voting threshold in
RF. I couldn't find it in the manual. Thank you.

Andrew


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Sep 26 21:54:06 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 26 Sep 2002 15:54:06 -0400
Subject: [R] CART vs. Random Forest
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BDF2@usrymx04.merck.com>

We haven't implemented different voting thresholds in the package itself,
but when you predict you can get out votes or probabilities rather than
classes if you want.  The argument type to predict.randomForest is "class"
by default, but can also be "vote" or "prob".  You can use the training set
to figure out what a good threshold is, and then check your results on a
test set.  Then you just use the threshold later.  

I suppose we could implement a threshold that could be supplied to predict,
but then we'd have to work something out for multi-class problems -- several
different cutpoints, I guess.  It's not a priority for Andy or me right now.
I actually like to take a look at the ROC curve anyway, to decide what
tradeoffs are worthwhile.

I'd compare the results by looking at the error rates -- if you can make the
(possibly weighted) error rate lower with one method or the other, that's
the method that ones.

Regards,

Matt

-----Original Message-----
From: Andrew Baek [mailto:andrew at stat.ucla.edu]
Sent: Thursday, September 26, 2002 3:33 PM
To: Wiener, Matthew
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] CART vs. Random Forest


> One suggestion if making sure you find the 1's is more important than
having
> a low overall error rate:  in rpart, you can specify a loss matrix to say
> that certain kinds of errors are more important than others.  In a random
> forest, you can use different voting thresholds for "1-ness" and "0-ness"
to
> bias things -- that is, instead of just taking majority vote, you might
> require (for example) 85% of the trees to agree for something to be
declared
> in class 0.

If I use loss matrix in "rpart" and different threshold in "RF", how 
can I compare two packages? Well, Andy Liaw told me "classwt" in RF does
not help much. But when I modified priors in rpart, I got totall new 
results. So I thought this should be applied to RF.

Also, I'll appreciate if you tell me how to change the voting threshold in
RF. I couldn't find it in the manual. Thank you.

Andrew



------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Thu Sep 26 22:06:58 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Thu, 26 Sep 2002 13:06:58 -0700 (PDT)
Subject: [R] Binary features
Message-ID: <20020926200658.34529.qmail@web21105.mail.yahoo.com>


Hello,

What are the best R methods for use to classify and visualize data.frames whose features are entirely binary-valued?

Thanks,

-jdagius



---------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020926/dee41309/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Sep 26 22:16:22 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2002 22:16:22 +0200
Subject: [R] tcltk  - command=function()
In-Reply-To: <200209261924.g8QJOhX20539@mailgate5.cinetic.de>
References: <200209261924.g8QJOhX20539@mailgate5.cinetic.de>
Message-ID: <x2adm4qzft.fsf@biostat.ku.dk>

<chr.schulz at email.de> writes:

> hi,
> 
> just having the idea create a simple
> tcl/tk gui-dialog for different data-file formats
> i get starting problems and it would be nice
> get some tips/tricks from experienced tcl/tk user in R !
> 
> tt <- tktoplevel()
> label.widget  <- tklabel(tt,text="Decision Tree GUI")
> button.widget <- tkbutton(tt,text="Select SPSSFile",
> command=function()  read.spss("C:/Cummulative/data/wekaSpecial.sav",
> use.value.label=T,to.data.frame=T))
> tkpack(label.widget,button.widget)
> tkdestroy(tt))
> 
> 
> ....how i have to use  command=function()  that this works like
> cat command ( i get no error message but nothing happen),or better
> how can i replace it with  tkgetOpenFile and do than an assignment 
> to a read.table,read.delim or read.spss command ?
> 
> i experiment with deparse and substitute, but get no success !

You'll need something a bit more elaborate, and possibly a little more
experience with R programming in general. I'd try omething like

getfile <- function() {
        name <- tclvalue(tkgetOpenFile(filetypes=
          "{{C files} {.c}} {{All files} *}"))
        if (name == "") return;
        zz <- read.spss(name, use.value.label=T, to.data.frame=T)
        assign("myData", zz, envir = .GlobalEnv)
}

button.widget <- tkbutton(tt,text="Select SPSSFile", command=getfile)

Obviously, you might want to extend this with a way to specify a
different name for the file, error checks, actual analyses, and so
forth. 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew at stat.ucla.edu  Thu Sep 26 22:35:52 2002
From: andrew at stat.ucla.edu (Andrew Baek)
Date: Thu, 26 Sep 2002 13:35:52 -0700 (PDT)
Subject: [R] CART vs. Random Forest
In-Reply-To: <7C4F091F6140D411A29300508B5C73B908A2BDF2@usrymx04.merck.com>
Message-ID: <Pine.GSO.4.10.10209261331280.22154-100000@quetelet.stat.ucla.edu>

Of course, the CART & RF are different method. But at least,
I have to consider that false negative is more serious than
false positive in my problem. For this purpose, I used "prior"
in rpart and "classwt" in RF. Then, should I modify priors and 
cut-off point at the same time? 

Andrew

On Thu, 26 Sep 2002, Wiener, Matthew wrote:

> We haven't implemented different voting thresholds in the package itself,
> but when you predict you can get out votes or probabilities rather than
> classes if you want.  The argument type to predict.randomForest is "class"
> by default, but can also be "vote" or "prob".  You can use the training set
> to figure out what a good threshold is, and then check your results on a
> test set.  Then you just use the threshold later.  
> 
> I suppose we could implement a threshold that could be supplied to predict,
> but then we'd have to work something out for multi-class problems -- several
> different cutpoints, I guess.  It's not a priority for Andy or me right now.
> I actually like to take a look at the ROC curve anyway, to decide what
> tradeoffs are worthwhile.
> 
> I'd compare the results by looking at the error rates -- if you can make the
> (possibly weighted) error rate lower with one method or the other, that's
> the method that ones.
> 
> Regards,
> 
> Matt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xianggui.Qu at pfizer.com  Thu Sep 26 22:50:56 2002
From: Xianggui.Qu at pfizer.com (Qu, Xianggui (Harvey))
Date: Thu, 26 Sep 2002 16:50:56 -0400
Subject: [R] download problem!
Message-ID: <86DD0CF62C7E65418ABD4099BE1598A702160B8A@anagrdexm04.research.aa.wl.com>

Hi,
I recently had trouble downloading R contributed packages, such as acepack.
When I saved acepack.zip to my R library,  extracted it and went back to R
and type "library(acepack)", I got the following warning

Package  `acepack' contains no R code in: library(acepack) 

Could you please tell me the reason?

Thank you very much!

Xianggui Qu.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clayton.springer at pharma.novartis.com  Thu Sep 26 23:01:46 2002
From: clayton.springer at pharma.novartis.com (clayton.springer@pharma.novartis.com)
Date: Thu, 26 Sep 2002 17:01:46 -0400
Subject: [R] rpart with large data sets.
Message-ID: <OFB458C1F2.65B6E3DE-ON85256C40.007340D8@is.chbs>

Hello all,

When I ran rpart on my large data set ~(500 x 9000). R said:

cannot allocate vector of size 319401Kb.

What controls can be applied to rpart to make it as memory efficient as
possible?
so far I only have:

 maxsurrogate=0

thanks in advance,

Clayton

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Thu Sep 26 23:08:00 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Thu, 26 Sep 2002 17:08:00 -0400 (EDT)
Subject: [R] tcltk  - command=function()
Message-ID: <200209262108.RAA23941@blaise.dfci.harvard.edu>


>Date: Thu, 26 Sep 2002 21:24:43 +0200
>MIME-Version: 1.0
>From: <chr.schulz at email.de>
>To: r-help at stat.math.ethz.ch
>Subject: [R] tcltk  - command=function()
>Content-Transfer-Encoding: 7bit
>
>hi,
>
>just having the idea create a simple
>tcl/tk gui-dialog for different data-file formats
>i get starting problems and it would be nice
>get some tips/tricks from experienced tcl/tk user in R !


Is this what you want?

anyName <- NULL
getFile <- function(){
    anyName <<- tkcmd("tk_getOpenFile")
}
tt <- tktoplevel()
label.widget  <- tklabel(tt,text="Decision Tree GUI")
button.widget <- tkbutton(tt,text="Select SPSSFile", command = getFile)
tkpack(label.widget,button.widget)

anyName will get what you selected from the tk_getOpenFile


>
>tt <- tktoplevel()
>label.widget  <- tklabel(tt,text="Decision Tree GUI")
>button.widget <- tkbutton(tt,text="Select SPSSFile",
>command=function()  read.spss("C:/Cummulative/data/wekaSpecial.sav",
>use.value.label=T,to.data.frame=T))
>tkpack(label.widget,button.widget)
>tkdestroy(tt))
>
>
>....how i have to use  command=function()  that this works like
>cat command ( i get no error message but nothing happen),or better
>how can i replace it with  tkgetOpenFile and do than an assignment 
>to a read.table,read.delim or read.spss command ?
>
>i experiment with deparse and substitute, but get no success !
>
>really thanks for advance
>and regards,Christian
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Thu Sep 26 23:16:17 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 26 Sep 2002 23:16:17 +0200
Subject: [R] tcltk  - command=function()
Message-ID: <200209262116.g8QLGHX12350@mailgate5.cinetic.de>

peter,

really thanks, that is  a big step - especially the tclvalue function 
and it works well - now i could extend as you mentioned ;-))

regard,christian


Peter Dalgaard BSA schrieb:

<chr.schulz at email.de> writes:

hi,

just having the idea create a simple
tcl/tk gui-dialog for different data-file formats
i get starting problems and it would be nice
get some tips/tricks from experienced tcl/tk user in R !

tt <- tktoplevel()
label.widget  <- tklabel(tt,text="Decision Tree GUI")
button.widget <- tkbutton(tt,text="Select SPSSFile",
command=function()  read.spss("C:/Cummulative/data/wekaSpecial.sav",
use.value.label=T,to.data.frame=T))
tkpack(label.widget,button.widget)
tkdestroy(tt))


....how i have to use  command=function()  that this works like
cat command ( i get no error message but nothing happen),or better
how can i replace it with  tkgetOpenFile and do than an assignment 
to a read.table,read.delim or read.spss command ?

i experiment with deparse and substitute, but get no success !


You'll need something a bit more elaborate, and possibly a little more
experience with R programming in general. I'd try omething like

getfile <- function() {
        name <- tclvalue(tkgetOpenFile(filetypes=
          "{{C files} {.c}} {{All files} *}"))
        if (name == "") return;
        zz <- read.spss(name, use.value.label=T, to.data.frame=T)
        assign("myData", zz, envir = .GlobalEnv)
}

button.widget <- tkbutton(tt,text="Select SPSSFile", command=getfile)

Obviously, you might want to extend this with a way to specify a
different name for the file, error checks, actual analyses, and so
forth. 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Sep 26 23:26:10 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 26 Sep 2002 17:26:10 -0400
Subject: [R] CART vs. Random Forest
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BDF5@usrymx04.merck.com>

I wouldn't bother modifying classwt -- that doesn't seem to have much effect
(as Breiman has mentioned to Andy Liaw).

I use the following function, "biased predict".  (Not specific to random
forests, which is why it's not in the package.)

biased.predict <-
function(object, newdata, thresh,
           which.test = "Bad", if.high = "Bad", if.low = "Good",
           pred.type = "prob"){
    probs <- predict(object, newdata = newdata, type = pred.type)
    levels <- dimnames(probs)[[2]]
    ans <- apply(probs, 1, function(x){
      ifelse(x[which.test] > thresh, if.high, if.low)})
    ans <- factor(ans, levels = levels)
  }

You can get the errors of different types -- the confusion matrix -- from
table(data.frame(true = true.vals, pred = pred.vals)), and then multiply
this by a weight matrix to get a weighted error score.  You can run
biased.predict for a number of different threshold values and check the
weighted error scores, choosing the threshold that gives you the lowest.
(Though running this over and over is inefficient -- better predict the
probabilities once and then do multiple cutoffs.)  Or you can choose your
threshold by saying that one type of error must be no larger than a certain
value (which is what I've usually done, precisely to limit false negatives,
as you want to). 

Once you've chosen a threshold, you can used biased.predict for new data.

I hope I'm making sense, and that this helps.

Matt


-----Original Message-----
From: Andrew Baek [mailto:andrew at stat.ucla.edu]
Sent: Thursday, September 26, 2002 4:36 PM
To: Wiener, Matthew
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] CART vs. Random Forest


Of course, the CART & RF are different method. But at least,
I have to consider that false negative is more serious than
false positive in my problem. For this purpose, I used "prior"
in rpart and "classwt" in RF. Then, should I modify priors and 
cut-off point at the same time? 

Andrew

On Thu, 26 Sep 2002, Wiener, Matthew wrote:

> We haven't implemented different voting thresholds in the package itself,
> but when you predict you can get out votes or probabilities rather than
> classes if you want.  The argument type to predict.randomForest is "class"
> by default, but can also be "vote" or "prob".  You can use the training
set
> to figure out what a good threshold is, and then check your results on a
> test set.  Then you just use the threshold later.  
> 
> I suppose we could implement a threshold that could be supplied to
predict,
> but then we'd have to work something out for multi-class problems --
several
> different cutpoints, I guess.  It's not a priority for Andy or me right
now.
> I actually like to take a look at the ROC curve anyway, to decide what
> tradeoffs are worthwhile.
> 
> I'd compare the results by looking at the error rates -- if you can make
the
> (possibly weighted) error rate lower with one method or the other, that's
> the method that ones.
> 
> Regards,
> 
> Matt


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From makram.talih at yale.edu  Fri Sep 27 00:55:19 2002
From: makram.talih at yale.edu (Makram Talih)
Date: Thu, 26 Sep 2002 18:55:19 -0400 (EDT)
Subject: [R] Discretized Gamma distribution?
Message-ID: <Pine.LNX.4.44.0209261843440.10530-100000@ajax.its.yale.edu>

Hello,

Did anyone on the list already write code for 'rgamma' or 'dgamma' when
the domain is restricted to the integers? Presumably this involves mapping
intervals of the form (3,4] onto 4, etc, and getting the appropriate
probabilities.

Thanks!

Makram Talih
Yale U. (Statistics)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Fri Sep 27 01:29:43 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 27 Sep 2002 11:29:43 +1200
Subject: [R] download problem!
Message-ID: <20020926232943.BPSB21738.web2-rme.xtra.co.nz@[127.0.0.1]>

Hi,

> From: "Qu, Xianggui (Harvey)" <Xianggui.Qu at pfizer.com>
> Date: 2002/09/27 Fri AM 08:50:56 GMT+12:00
> To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
> Subject: [R] download problem!
> 
> Hi,
> I recently had trouble downloading R contributed packages, such as acepack.
> When I saved acepack.zip to my R library,  extracted it and went back to R
> and type "library(acepack)", I got the following warning

I assume you are using Windows.

Try to install the package from within R itself.  WHen you are in Rgui, go to "Packages -> Install package from local zip file...".


-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep 27 01:48:42 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 26 Sep 2002 19:48:42 -0400
Subject: [R] CART vs. Random Forest
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC701@usrymx10.merck.com>

> I suppose we could implement a threshold that could be 
> supplied to predict,
> but then we'd have to work something out for multi-class 
> problems -- several
> different cutpoints, I guess.  It's not a priority for Andy 
> or me right now.

Leo has been working on this for his Version 4.  Thus I see no reason for me
to spend time on it now 8-).  From the alpha code that he sent me, he has
three different ways of thresholding.  They all work after the trees are
grown, so the OOB estimates do not reflect the threshold.  I don't see a
good way to deal with that so far.

Andy


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ddmagee at lbl.gov  Fri Sep 27 03:50:19 2002
From: ddmagee at lbl.gov (David Magee)
Date: Thu, 26 Sep 2002 18:50:19 -0700
Subject: [R] r-help search
Message-ID: <3D93B95B.AD44CCD4@lbl.gov>

I'd like to search the r-help archives.
Is there a way?
I want to find out how to impute missing values.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Fri Sep 27 04:19:52 2002
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 27 Sep 2002 14:19:52 +1200
Subject: [R] Longer synonym for R?
Message-ID: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>

[This message is not always serious, but it addresses a real problem.]

A problem with R's present name is that it is not very well suited to
search engines, although Google at least seems to cope as long as you have
sufficient other terms to filter out Toys R Us. Initials remain a problem.

I suppose "R" is just too culty to do away with, but perhaps we could come
up with a longer synonymous name. Meditating on this one day I came up with
a few lengthenings of the name:

RRVR

(inspired by another package and initials of some of the contributors) 

Rgnu

(Flanders & Swan: "I'm Rgnu")

openR

discovR

enviRon

Finally, and most boringly,  Rstat.


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hedderik at van-rijn.org  Fri Sep 27 04:39:27 2002
From: hedderik at van-rijn.org (Hedderik van Rijn)
Date: Thu, 26 Sep 2002 22:39:27 -0400
Subject: [R] r-help search
In-Reply-To: <3D93B95B.AD44CCD4@lbl.gov>
Message-ID: <57527FE2-D1C2-11D6-AF68-000393678426@van-rijn.org>

> I'd like to search the r-help archives.
> Is there a way?

Something that works well for me is googling with "site:r-project.org" 
added to the search query.

  - Hedderik.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Sep 27 05:15:09 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 26 Sep 2002 22:15:09 -0500
Subject: [R] r-help search
In-Reply-To: <3D93B95B.AD44CCD4@lbl.gov>
Message-ID: <004601c265d4$187247d0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of David Magee
> Sent: Thursday, September 26, 2002 8:50 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] r-help search
> 
> I'd like to search the r-help archives.
> Is there a way?
> I want to find out how to impute missing values.

>From the main R page at http://www.r-project.org/, look in the left hand
navigation frame.

You will note "Search" listed under the R Project heading.

Click on that link and there will be a full site search and two mail
archive search links on the page.

I just noted that Chen Huashan's archive search on Baidao.net seems to
be down.  I get an error message of "The specified module could not be
found.".  I have cc'd him here for his notation.

HTH.

Marc



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Watkins at foodscience.afisc.csiro.au  Fri Sep 27 05:25:40 2002
From: Peter.Watkins at foodscience.afisc.csiro.au (Peter.Watkins@foodscience.afisc.csiro.au)
Date: Fri, 27 Sep 2002 13:25:40 +1000
Subject: [R] Response surface methodology
Message-ID: <1F8EDF0AE0FFC643BC8FE577BC4919E624AE51@tomtom-wb.mel.foodscience.afisc.csiro.au>

Dear all,

I am attempting to use RSM in order to optimise the analysis of volatile
compounds. After changing two variables and performing a series of
measurements, I get the following:

    X1   X2   resp
1  -0.8 -1.0 1101039  
2  -0.8  0.0  809947   
3  -0.8  1.0  814664 
4   0.0 -1.4  759484  
5   0.0  0.0  665916  
6   0.0  0.0  654054  
7   0.0  0.0  641134
8   0.0  0.0  673143 
9   0.0  0.0  705040
10  0.0  1.4  793333
11  1.0 -1.0  650786
12  1.0  1.0  525182 

and analyse the data with 

resp.lm <- lm(resp ~ X1 + X2 + X1*X2+I(X1^2) + I(X2^2)) where X1 and X2 are
the encoded variables.

I'd like to see a plot of the data - could someone suggest how to do so? I
think I could use 'contour' but I'm not certain of the syntax for the
command.

TIA, Peter

Peter Watkins
Research Scientist

Food Science Australia
Private Bag 16
(671 Sneydes Road)
Werribee
Victoria 3030
Australia

Tel: +61-3-9731 3467   Fax: +61-3-9731 3250
E-mail: Peter.Watkins at foodscience.afisc.csiro.au
Web: www.foodscience.afisc.csiro.au

Food Science Australia is a joint venture of CSIRO and Afisc.
	


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Sep 27 05:52:07 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 27 Sep 2002 15:52:07 +1200
Subject: [R] r-help search
References: <3D93B95B.AD44CCD4@lbl.gov>
Message-ID: <001d01c265d9$41311700$f63158db@kwan022>

Try Frank Harrell's Design and Hmisc packages, which has a few imputation
methods. (http://hesweb1.med.virginia.edu/biostat/s/Hmisc.html)

norm or EMV packages also handles some imputation methods. (From CRAN)

MICE is another choice,
http://web.inter.nl.net/users/S.van.Buuren/mi/hmtl/mice.htm

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "David Magee" <ddmagee at lbl.gov>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, September 27, 2002 1:50 PM
Subject: [R] r-help search


> I'd like to search the r-help archives.
> Is there a way?
> I want to find out how to impute missing values.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zlamal at ufi.fme.vutbr.cz  Fri Sep 27 08:30:20 2002
From: zlamal at ufi.fme.vutbr.cz (zlamal@ufi.fme.vutbr.cz)
Date: Fri, 27 Sep 2002 08:30:20 +0200
Subject: [R] par() function problem
Message-ID: <3D94171C.30138.E638883@localhost>

Hi,
  I want to change line and marker type using par() function (my 
example is taken from bigger function)
 
oldpar<-par(no.readonly=TRUE)
par(type="b",lty=1)
  plot(x1,col=1)
par(type="b",lty=2)
  lines(x2,col=2)
par(oldpar)  # restore plotting parameters

First line is drawn only with circles (no line)
Second line is drawn only line but not circles.

Where is problem?

Jakub Zlamal
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Fri Sep 27 10:49:11 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Fri, 27 Sep 2002 10:49:11 +0200
Subject: [R] Longer synonym for R?
In-Reply-To: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>; from maj@waikato.ac.nz on Fri, Sep 27, 2002 at 02:19:52PM +1200
References: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>
Message-ID: <20020927104900.A5660@rzsrv2.rz.tu-bs.de>



RNS = "RNS ist not S"

...but this is too easy: 

`Hurd' stands for `Hird of Unix-Replacing Daemons'. 
And, then, `Hird' stands for `Hurd of
Interfaces Representing Depth'. 
We have here, to my knowledge, the first 
software to be named by a pair 
of mutually recursive acronyms. 

...so R should have at least 
three "mutually recursive acronyms" !

pm

On Fri, Sep 27, 2002 at 02:19:52PM +1200, Murray Jorgensen wrote:
<snip>


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From volker.franz at tuebingen.mpg.de  Fri Sep 27 11:33:55 2002
From: volker.franz at tuebingen.mpg.de (Volker Franz)
Date: Fri, 27 Sep 2002 11:33:55 +0200
Subject: [R] aov versus lme
Message-ID: <15764.9731.562980.968220@pimento.kyb.local>

Hi, 

to my understanding, lme from Pinheiro & Bates nlme-library should
produce similar results as aov for (standard) repeated measure designs
(or am I wrong here?). For example, if I analyse the machines data set
with aov and with lme, I obtain similar results:

library( nlme )
data( Machines )
summary(aov(score ~ Machine + Error(Worker/Machine),Machines))
anova(lme(score ~ Machine, data=Machines, random = ~ 1|Worker/Machine))

Well, the machines example contains only one factor. Now, if I try to
do something similar on a design with two factors, I have trouble
specifying the random factor. For example: 

data2 <- data.frame(sub=as.factor(c(1,1,1,1,1,1,2,2,2,2,2,2,
                      3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5)),
                    a=as.factor(c(0,0,0,1,1,1,0,0,0,1,1,1,0,0,
                      0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1)),
                    b=as.factor(c(1,2,3,1,2,3,1,2,3,1,2,3,1,2,
                      3,1,2,3,1,2,3,1,2,3,1,2,3,1,2,3)),
                    dv=c(60.4,60.8,59.8,56.3,65.3,57.1,39.1,
                      44.8,48.9,45.1,47.3,48.9,56.4,58.8,60.5,
                      58.6,58.9,61.2,58.0,60.1,64.3,57.3,59.8,
                      66.1,49.6,46.7,51.5,52.8,54.9,55.9))
summary(aov(dv ~ a * b + Error(sub/(a+b)),data2))
anova(lme( dv ~ a * b, data=data2, random = ~ 1 | sub/(a+b)))

The last line gives me an error. So --- how can I specify the random
effects for such a case? Do I have to use the pdMat class? I played a
bit with it --- but unfortunately without success.

Thanks for any help
Volker
-- 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri Sep 27 13:55:41 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 27 Sep 2002 23:55:41 +1200 (NZST)
Subject: [R] xtable()
Message-ID: <Pine.SOL.4.21.0209272352040.23483-100000@stat1.stat.auckland.ac.nz>

Hi,

Does anyone know how to manually configure the number of digits printed
out from xtable()?

For example, I'm exporting a data frame through xtable() into a LaTeX
table, I only have two columns in the data frame so by default I only get
two decimal places.  But I'd like at least 5 decimal places.

I had a look at ?xtable() but can't seem to find an example.


Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yoneda at econ.fukuoka-u.ac.jp  Fri Sep 27 14:40:15 2002
From: yoneda at econ.fukuoka-u.ac.jp (YONEDA Kiyoshi)
Date: Fri, 27 Sep 2002 21:40:15 +0900
Subject: [R] Undefined reference in R-1.5.1 under Mac OS X 10.2.1 Jaguar
Message-ID: <458DD393-D216-11D6-9F5F-0003938C433E@econ.fukuoka-u.ac.jp>

Hi

I installed R-1.5.1 on a Mac G4 under OS X 10.2.1 Jaguar, which 
requires X11.
Then I got this while trying to run XDarwin I downloaded from Fink:

---
[YonedaK-mac4:~] yoneda% startx -- -quartz
...
dyld: xterm Undefined symbols:
xterm undefined reference to _tgetent expected to be defined in 
/usr/lib/libSystem.B.dylib
xterm undefined reference to _tgetstr expected to be defined in 
/usr/lib/libSystem.B.dylib
dyld: xterm Undefined symbols:
xterm undefined reference to _tgetent expected to be defined in 
/usr/lib/libSystem.B.dylib
xterm undefined reference to _tgetstr expected to be defined in 
/usr/lib/libSystem.B.dylib
dyld: xterm Undefined symbols:
xterm undefined reference to _tgetent expected to be defined in 
/usr/lib/libSystem.B.dylib
xterm undefined reference to _tgetstr expected to be defined in 
/usr/lib/libSystem.B.dylib

waiting for X server to shut down Quitting XDarwin...

[YonedaK-mac4:~] yoneda% sudo otool -L /usr/X11R6/bin/xterm
Password:
/usr/X11R6/bin/xterm:
...
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
current version 55.0.0)
---

Now libSystem.B.dylib looks suspicious.
As with R itself I got similar errors:

---
[YonedaK-mac4:/usr/local/bin] yoneda% ./R
...
dyld: /usr/local/lib/R/bin/R.bin Undefined symbols:
/sw/lib/libreadline.4.2.dylib undefined reference to _tgoto expected to 
be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tputs expected to 
be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetent expected 
to be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetflag expected 
to be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetnum expected 
to be defined in /usr/lib/libSystem.B.dylib
/sw/lib/libreadline.4.2.dylib undefined reference to _tgetstr expected 
to be defined in /usr/lib/libSystem.B.dylib
Trace/BPT trap

[YonedaK-mac4:/usr/local/bin] yoneda% otool -L 
/usr/local/lib/R/bin/R.bin
/usr/local/lib/R/bin/R.bin:
...
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
current version 55.0.0)
...
---

Then I ran across this over the net, in which GHC is the Glasgow 
Haskell Compiler:

> From: Wolfgang Thaller <wolfgang.thaller at gmx.net>
> Date: Fre Aug 30, 2002  22:43:34 Europe/Graz
> To: GHC List <glasgow-haskell-users at haskell.org>
> Subject: GHC on Mac OS X 10.2 (Jaguar)
>
> The new Mac OS X 10.2 has arrived, and GHC has stopped working.
> I've compiled a new GHC binary that runs on 10.2 (but not anymore on
> 10.1).
> It is available at:
> http://www.uni-graz.at/imawww/haskell/JaguarGHC.tar.gz
>
> This archive contains just a new GHC binary, the rest of the binary
> release already has to be already installed.
>
> What happened: With Mac OS X 10.1, Apple had included a 'curses'
> library in it's main 'libSystem.dylib' library. For 10.2, they removed
> that, and instead added a separate ncurses library (which wasn't
> included in 10.1.). GHC relies on one of those libraries (via
> readline), but readline has to be recompiled to use the other library.
> GHC-compiled programs that don't explicitly link against readline are
> not affected by this problem.

So my question is: may I assume that
I just have to wait for a new R binary?
If I'm wrong, please let me know the way around.

Hoping this is not an FAQ

Kiyoshi

Kiyoshi YONEDA
mailto: yoneda at econ.fukuoka-u.ac.jp

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From f.calboli at ucl.ac.uk  Fri Sep 27 15:46:30 2002
From: f.calboli at ucl.ac.uk (Federico Calboli)
Date: Fri, 27 Sep 2002 14:46:30 +0100
Subject: [R] modifying GUI settings
Message-ID: <3.0.6.32.20020927144630.009fcd98@pop-server.ucl.ac.uk>

Dear all,

I am using R under Windows 2000 and I would like to modify GUI settings
(the colours of the background and text) permanently. I know how to modify
them using the toolbar at the top of the R window, but at the moment I have
to reset them every time I start using R. 

My thanks and congratulations to the developers team for for producing such
and excellent software.

Regards,

Federico Calboli 

=========================

Federico C.F. Calboli

Department of Biology
University College London
Room 327
Darwin Building
Gower Street
London
WClE 6BT

Tel: (+44) 020 7679 4395 
Fax (+44) 020 7679 7096
f.calboli at ucl.ac.uk

=========================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Fri Sep 27 16:58:08 2002
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Fri, 27 Sep 2002 15:58:08 +0100
Subject: [R] xtable()
In-Reply-To: <Pine.SOL.4.21.0209272352040.23483-100000@stat1.stat.auckland.ac.nz>
Message-ID: <NGBBKLJCOLPAFMJIEMHCAEBLCCAA.cdeclercq@nordnet.fr>

> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Ko-Kang Kevin Wang
> Envoy? : vendredi 27 septembre 2002 12:56
> ? : R Help
> Objet : [R] xtable()
>
>
> Hi,
>
> Does anyone know how to manually configure the number of digits printed
> out from xtable()?
>
> For example, I'm exporting a data frame through xtable() into a LaTeX
> table, I only have two columns in the data frame so by default I only get
> two decimal places.  But I'd like at least 5 decimal places.

>From ?xtable:

digits: Numeric vector of length equal to the number of columns of
          the resulting table indicating the number of digits to
          display in the corresponding columns. Since the row names are
          printed in the first column, the length of `align' is one
          greater than `ncol(x)' if `x' is a `data.frame'. Default
          depends of class of `x'.


For example

> library(xtable)
> mydf<-data.frame(id=1:6, x1=rnorm(6), x2=rnorm(6))
> xtable(mydf, digits=c(0, 0, 3, 5))

Christophe

--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Eder at neuro.gu.se  Fri Sep 27 16:05:51 2002
From: Derek.Eder at neuro.gu.se (Derek Eder)
Date: Fri, 27 Sep 2002 16:05:51 +0200
Subject: [R] ? Exact pattern matching in GREP ?
Message-ID: <sd948209.047@dss2.med.gu.se>

How is exact pattern matching achieved in GREP (and GREPlike) functions ? 

# Want: listing of all object names that end in *.lm
> objects(pattern="*.lm",pos=1)
#  ...  but get:  all objects that partially match *.lm, e.g., *.lme
[1] "j3.lm"  "J3.lme"  "j8.lm"  "J8.lme" 


#  Want:  position of string "4jan2002" in vector
> date.index <- grep("4jan2002", my.dates)
# .... but get:
> my.dates[date.index]
[1]  "4jan2002"  "24jan2002"   "14jan2002"   


Thank you.

Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap
Klinisk Neurofysiologi
Sahlgrenska universitetssjukhuset SS/SU
Bl? straket 7, v?n 3
SE 413 45  G?teborg
Sverige
Tlf. +46 (031) 34  244 14  (office)   NYT!
Tlf. +46 (031) 34 212 83  (laboratory)
Tlf. +46 0709 / 7 212 83 (mobil)
Fax. +46 (031) 82 81 63 
derek.eder at neuro.gu.se


Gothenburg University
Institute of Clinical Neuroscience,
Department of Clinical Neurophysiology
Salhgrenska Hospital  SU/SS
SE 413 45  G?teborg
Sweden



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmoffet at nwrc.ars.usda.gov  Fri Sep 27 16:19:22 2002
From: cmoffet at nwrc.ars.usda.gov (Corey Moffet)
Date: Fri, 27 Sep 2002 08:19:22 -0600
Subject: [R] xtable()
In-Reply-To: <Pine.SOL.4.21.0209272352040.23483-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <3.0.6.32.20020927081922.00c583f0@nwrc.ars.usda.gov>

Try the following:

library(xtable)
dat <- data.frame(a = c(1,2,3,4,5,6), b = c(2,4,6,8,10,12))
xtable(dat, digits = c(0,5,5))

You want to have a columns+1 vector of didgets since xtable will have
three columns.

At 11:55 PM 9/27/2002 +1200, Ko-Kang Kevin Wang wrote:
>Hi,
>
>Does anyone know how to manually configure the number of digits printed
>out from xtable()?
>
>For example, I'm exporting a data frame through xtable() into a LaTeX
>table, I only have two columns in the data frame so by default I only get
>two decimal places.  But I'd like at least 5 decimal places.
>
>I had a look at ?xtable() but can't seem to find an example.
>
>
>Cheers,
>
>Kevin
>
>---------------------------------------------------------------------------
---
>Ko-Kang Kevin Wang
>Postgraduate PGDipSci Student
>Department of Statistics
>University of Auckland
>New Zealand
>Homepage: http://www.stat.auckland.ac.nz/~kwan022
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Support Scientist

University of Idaho
Northwest Watershed Research Center
800 Park Blvd, Plaza IV, Suite 105
Boise, ID 83712-7716
(208) 422-0718
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Sep 27 16:49:11 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 27 Sep 2002 15:49:11 +0100
Subject: [R] Inverting polygon
Message-ID: <1033138151.390.11.camel@gandalf>

Hi

I'm using polygon to delimit an area on a plot. However my intention is
to "superpose" the outside area of the polygon (I want to cover an
extrapolation of contour(interp(...)).

Is there an easy way of doing it ?

Thanks

EJ



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Sep 27 16:39:49 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 27 Sep 2002 07:39:49 -0700 (PDT)
Subject: [R] xtable()
In-Reply-To: <Pine.SOL.4.21.0209272352040.23483-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.10.10209270738570.8315-100000@quetelet.stat.ucla.edu>

How about, print(xtable(x, digits = c(1, 5, 5))), where x is n x 2?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 27 Sep 2002, Ko-Kang Kevin Wang wrote:

> Hi,
> 
> Does anyone know how to manually configure the number of digits printed
> out from xtable()?
> 
> For example, I'm exporting a data frame through xtable() into a LaTeX
> table, I only have two columns in the data frame so by default I only get
> two decimal places.  But I'd like at least 5 decimal places.
> 
> I had a look at ?xtable() but can't seem to find an example.
> 
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hedderik at van-rijn.org  Fri Sep 27 17:04:59 2002
From: hedderik at van-rijn.org (Hedderik van Rijn)
Date: Fri, 27 Sep 2002 11:04:59 -0400
Subject: [R] ? Exact pattern matching in GREP ?
In-Reply-To: <sd948209.047@dss2.med.gu.se>
Message-ID: <7DF3B8AF-D22A-11D6-B2CD-000393678426@van-rijn.org>


> How is exact pattern matching achieved in GREP (and GREPlike) 
> functions ?

 From ?grep:

      The regular expressions used are those specified by POSIX 1003.2,
      either extended or basic, depending on the value of the `extended'
      argument.

On how to specify the expressions, see "man re_format" or Google for 
"POSIX 1003.2".

> # Want: listing of all object names that end in *.lm
>> objects(pattern="*.lm",pos=1)

 > grep("\\.lm$",c("test1.lm","test.lm.txt","testlm"))
[1] 1

> #  Want:  position of string "4jan2002" in vector
>> date.index <- grep("4jan2002", my.dates)
> # .... but get:
>> my.dates[date.index]
> [1]  "4jan2002"  "24jan2002"   "14jan2002"

 > grep("^4jan2002$",c("4jan2002","24jan2002","14jan2002b","4jan2002b"))
[1] 1

  - Hedderik.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgentry at jimmy.harvard.edu  Fri Sep 27 17:15:07 2002
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Fri, 27 Sep 2002 11:15:07 -0400 (EDT)
Subject: [R] ? Exact pattern matching in GREP ?
In-Reply-To: <sd948209.047@dss2.med.gu.se>
Message-ID: <Pine.SOL.4.20.0209271110380.18646-100000@santiam.dfci.harvard.edu>

> # Want: listing of all object names that end in *.lm
> > objects(pattern="*.lm",pos=1)
> #  ...  but get:  all objects that partially match *.lm, e.g., *.lme
> [1] "j3.lm"  "J3.lme"  "j8.lm"  "J8.lme" 

Use "$" at the end of your pattern to denote that this should be the exact
end of the string.  As help("grep") explains, the regexps are POSIX
based.  On my local system, a 'man grep' (ie the unix command, not the R
command) provides a section on the particulars for such regexps.

> a <- c("j3.lm","J3.lme","j8.lm","J8.lme")
> a
[1] "j3.lm"  "J3.lme" "j8.lm"  "J8.lme"
> a[grep(".lm$",a)]
[1] "j3.lm" "j8.lm"


> #  Want:  position of string "4jan2002" in vector
> # .... but get:
> > my.dates[date.index]
> [1]  "4jan2002"  "24jan2002"   "14jan2002"   
Here you want to use '^' at the start of the pattern to note that this is
the *start* of the string.  (Much like the '$' before):

> a <- c("4jan2002","24jan2002","14jan2002")
> a
[1] "4jan2002"  "24jan2002" "14jan2002"
> a[grep("^4jan2002",a)]
[1] "4jan2002"


-J

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernd.Christian at icon-brand-navigation.com  Fri Sep 27 17:40:46 2002
From: Bernd.Christian at icon-brand-navigation.com (Bernd.Christian@icon-brand-navigation.com)
Date: Fri, 27 Sep 2002 17:40:46 +0200
Subject: [R] Bernd Christian/Icon ist =?iso-8859-1?Q?au=DFer_Haus=2E?=
Message-ID: <OF36D8C16C.7D2D1D44-ONC1256C41.00562176-C1256C41.00562178@icon-brand-navigation.com>

Ich werde ab  27.09.2002 nicht im B?ro sein. Ich kehre zur?ck am
07.10.2002.

Ich werde Ihre Nachricht nach meiner R?ckkehr beantworten.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Fri Sep 27 17:46:48 2002
From: bojaniss at poczta.onet.pl (bojaniss)
Date: Fri, 27 Sep 2002 17:46:48 +0200
Subject: [R] modifying GUI settings
In-Reply-To: <3.0.6.32.20020927144630.009fcd98@pop-server.ucl.ac.uk>
References: <3.0.6.32.20020927144630.009fcd98@pop-server.ucl.ac.uk>
Message-ID: <1034244358.20020927174648@poczta.onet.pl>

Hello Federico,

Friday, September 27, 2002, 3:46:30 PM, you wrote:

FC> I am using R under Windows 2000 and I would like to modify GUI settings
FC> (the colours of the background and text) permanently. I know how to modify
FC> them using the toolbar at the top of the R window, but at the moment I have
FC> to reset them every time I start using R. 

Remember to SAVE the changes after you made them and APPLY them. You
can also edit the Rconsole file (in RHomeDir\etc) directly.

all the best

Michal

~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~`~,~

Michal Bojanowski
mbojanowski at samba.iss.uw.edu.pl
Polish General Social Survey
Institute for Social Studies
University of Warsaw
http://www.iss.uw.edu.pl/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at muj.biglobe.ne.jp  Fri Sep 27 18:20:06 2002
From: baba at muj.biglobe.ne.jp (baba@muj.biglobe.ne.jp)
Date: Sat, 28 Sep 2002 01:20:06 +0900
Subject: [R] How to apply SSfpl with binary data
Message-ID: <10209271620.AA00094@YOUR-J95YXTACB2.muj.biglobe.ne.jp>

Dear R-help subscribers

Would you tell me how to apply SSfpl with binary data as below?
Unfortunately, there is not the EXAMPLE in help(SSfpl) for binary data but for quantitative data(Chick). 

V1: dose 
V2: log-transformed dose
V3: response (rate)

      V1         V2        V3
1  0.775 -0.2548922 0.1666667
2  5.000  1.6094379 0.8148148
3 10.000  2.3025851 0.5000000
4 20.000  2.9957323 0.6428571

I also attach the error message in R 1.5.1 in following.

> targan
      V1         V2        V3
1  0.775 -0.2548922 0.1666667
2  5.000  1.6094379 0.8148148
3 10.000  2.3025851 0.5000000
4 20.000  2.9957323 0.6428571
> targan.1 <- nls(targan$V3 ~ SSlogis(targan$V2, Asym, xmid, scal), data = targan)
Error in solve.qr(a, b, tol) : singular matrix `a' in solve

Best and Kind Regards,
Baba

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From djbrown at montana.edu  Fri Sep 27 18:33:33 2002
From: djbrown at montana.edu (Brown, David)
Date: Fri, 27 Sep 2002 10:33:33 -0600
Subject: [R] Polymars
Message-ID: <95AC7052DE4A78488DCFB615F7A49EA4059D0CD5@jewels.msu.montana.edu>

I've seen references to "polymars", an R implementation of Friedman's MARS
algorithm.  Can anyone tell me where I might be able to find this (doesn't
seem to be in the contributed packages.

 Thanks,
 David
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep 27 18:45:04 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 27 Sep 2002 18:45:04 +0200
Subject: [R] modifying GUI settings
References: <3.0.6.32.20020927144630.009fcd98@pop-server.ucl.ac.uk>
Message-ID: <3D948B10.B73DD031@statistik.uni-dortmund.de>



Federico Calboli wrote:
> 
> Dear all,
> 
> I am using R under Windows 2000 and I would like to modify GUI settings
> (the colours of the background and text) permanently. I know how to modify
> them using the toolbar at the top of the R window, but at the moment I have
> to reset them every time I start using R.
> 
> My thanks and congratulations to the developers team for for producing such
> and excellent software.

Just click on "Save" to save the settings in the file Rconsole? It will
be read in on startup...
See the manuals and  ?Rconsole  for details.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Sep 27 19:19:41 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Sep 2002 10:19:41 -0700 (PDT)
Subject: [R] ? Exact pattern matching in GREP ?
In-Reply-To: <sd948209.047@dss2.med.gu.se>
Message-ID: <Pine.A41.4.44.0209271000540.96798-100000@homer41.u.washington.edu>

On Fri, 27 Sep 2002, Derek Eder wrote:

> How is exact pattern matching achieved in GREP (and GREPlike) functions ?

By choosing the right pattern :)

Regular expressions are designed to match substrings of a string, and can
do very complicated matching.  They have a different syntax from filename
wildcard expressions like *.lm, and don't automatically tie down the
beginning or end of a string.  Google for 'regular expressions' to find
some helpful descriptions.


> # Want: listing of all object names that end in *.lm
> > objects(pattern="*.lm",pos=1)
> #  ...  but get:  all objects that partially match *.lm, e.g., *.lme
> [1] "j3.lm"  "J3.lme"  "j8.lm"  "J8.lme"

The regular expression *.lm matches any string containing at least one
character followed by the "lm", so it matches all of your examples and
would also match "almost" and "calmly" but would not match, for example,
"lm" or "lme".

You appear to want a string ending in ".lm", for which the pattern is
"\\.lm$".  The "\\." matches a "." (where a "." pattern matches any
character), and the "$" matches the end of line.


>
> #  Want:  position of string "4jan2002" in vector
> > date.index <- grep("4jan2002", my.dates)
> # .... but get:
> > my.dates[date.index]
> [1]  "4jan2002"  "24jan2002"   "14jan2002"
>

If you want exact string equality the best approach is to use == rather
than grep, eg
  which(my.dates == "4jan2002")

It's possible to do this using grep(), but it's harder -- you are looking
for a string that starts "4jan2002" and then ends. The regular expression
for this is
    "^4jan2002$"


Filename wildcards translate like this:

	*.lm	 "\\.lm$"
     test.*	 "^test\\."
     test?.lm    "^test.\\.lm$"
     test.lm*	 "^test\\.lm"
     *.*	 "\\."


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at muj.biglobe.ne.jp  Fri Sep 27 20:25:37 2002
From: baba at muj.biglobe.ne.jp (baba@muj.biglobe.ne.jp)
Date: Sat, 28 Sep 2002 03:25:37 +0900
Subject: [R] How to apply SSfpl with binary data
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC70E@usrymx10.merck.com>
Message-ID: <10209271825.AA00096@YOUR-J95YXTACB2.muj.biglobe.ne.jp>

Dear Andy and all

Thank you very much for your quick reply.
I misunderstood that SSfpl is for not only numerical response but also binomial response.
You know that the below data includes binary data for four doses.
In fact, I would like to apply a three parameter logistic model with binary data.
I believe that glm is for the fitting to linear models with multiple link functions. 
Again, is that my misunderstanding for glm?

Thanks in Advance 
-Baba

Liaw, Andy wrote:
>Wouldn't you just use glm(..., family=binomial) for binary data?  SSfpl _is_
>for numerical response, where the upper and lower asymptotes need to be
>estimated.  Binary data won't need those as parameters--- they are 1 and 0
>automatically!
>
>V&R's MASS has an example, and a function `dose.p()' for estimating EC50.
>
>Andy
>
>> -----Original Message-----
>> From: baba at muj.biglobe.ne.jp [mailto:baba at muj.biglobe.ne.jp]
>> Sent: Friday, September 27, 2002 12:20 PM
>> To: r-help at stat.math.ethz.ch
>> Subject: [R] How to apply SSfpl with binary data
>>
>>
>> Dear R-help subscribers
>>
>> Would you tell me how to apply SSfpl with binary data as below?
>> Unfortunately, there is not the EXAMPLE in help(SSfpl) for
>> binary data but for quantitative data(Chick).
>>
>> V1: dose
>> V2: log-transformed dose
>> V3: response (rate)
>>
>>       V1         V2        V3
>> 1  0.775 -0.2548922 0.1666667
>> 2  5.000  1.6094379 0.8148148
>> 3 10.000  2.3025851 0.5000000
>> 4 20.000  2.9957323 0.6428571
>>
>> I also attach the error message in R 1.5.1 in following.
>>
>> > targan
>>       V1         V2        V3
>> 1  0.775 -0.2548922 0.1666667
>> 2  5.000  1.6094379 0.8148148
>> 3 10.000  2.3025851 0.5000000
>> 4 20.000  2.9957323 0.6428571
>> > targan.1 <- nls(targan$V3 ~ SSlogis(targan$V2, Asym, xmid,
>> scal), data = targan)
>> Error in solve.qr(a, b, tol) : singular matrix `a' in solve
>>
>> Best and Kind Regards,
>> Baba
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:
>> r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> _._._._._._._._._
>>
>
>------------------------------------------------------------------------------
>Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, 
New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for 
the use of the individual or entity named on this message. If you are not the intended recipient, and have received this 
message in error, please immediately return this by e-mail and then delete it.
>
>==============================================================================
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Sep 27 20:23:36 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 Sep 2002 13:23:36 -0500
Subject: [R] How to apply SSfpl with binary data
In-Reply-To: <10209271620.AA00094@YOUR-J95YXTACB2.muj.biglobe.ne.jp>
References: <10209271620.AA00094@YOUR-J95YXTACB2.muj.biglobe.ne.jp>
Message-ID: <6rfzvvl2af.fsf@bates3.stat.wisc.edu>

baba at muj.biglobe.ne.jp writes:

> Dear R-help subscribers
> 
> Would you tell me how to apply SSfpl with binary data as below?
> Unfortunately, there is not the EXAMPLE in help(SSfpl) for binary data but for quantitative data(Chick). 
> 
> V1: dose 
> V2: log-transformed dose
> V3: response (rate)
> 
>       V1         V2        V3
> 1  0.775 -0.2548922 0.1666667
> 2  5.000  1.6094379 0.8148148
> 3 10.000  2.3025851 0.5000000
> 4 20.000  2.9957323 0.6428571
> 
> I also attach the error message in R 1.5.1 in following.
> 
> > targan
>       V1         V2        V3
> 1  0.775 -0.2548922 0.1666667
> 2  5.000  1.6094379 0.8148148
> 3 10.000  2.3025851 0.5000000
> 4 20.000  2.9957323 0.6428571
> > targan.1 <- nls(targan$V3 ~ SSlogis(targan$V2, Asym, xmid, scal), data = targan)
> Error in solve.qr(a, b, tol) : singular matrix `a' in solve

I think you want to use glm, not nls with SSfpl.

You say you have binary data but your V3 is a rate.  Because you know
that you have response rate you would presumably want the predictions
at the different doses to be on the scale zero to unity.  In that case
you may want to fit a logistic regression model using glm, not a
four-parameter logistic nonlinear regression model.  For glm you will
need to give the number of trials at each dose and the corresponding
number of 'successes'.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From swisdom at deephavenfunds.com  Fri Sep 27 20:36:31 2002
From: swisdom at deephavenfunds.com (Steve Wisdom)
Date: Fri, 27 Sep 2002 13:36:31 -0500
Subject: [R] Bits of scientific notation in write.table() output
Message-ID: <7BB4C1D7A9B8D311A6D100C04F1FF97F042E18AE@mnmail.arbitrade.com>


What's the preferred method for avoiding `unexpected' bits of scientific
notation in write.table() output? I've found several inelegant workarounds,
but I'm sure I'm overlooking an obvious answer

A simple example.. . 

> df_data.frame(df=95000+1000*0:10); df 
       df
1   95000
2   96000
3   97000
4   98000
5   99000
6  100000
7  101000
8  102000
9  103000
10 104000
11 105000

> write.table(df,'c:\\df.txt',quote=F,sep='\t',row.names=F,col.names=F)

.. . creates a file with contents .. . 

95000
96000
97000
98000
99000
1e+05
101000
102000
103000
104000
105000

.. . 

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              

.. . 

Thank you
 
Steve Wisdom









-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri Sep 27 20:40:29 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Fri, 27 Sep 2002 08:40:29 -1000
Subject: [R] r-help search
References: <3D93B95B.AD44CCD4@lbl.gov>
Message-ID: <3D94A61D.50104@honlab.nmfs.hawaii.edu>

A good place to search not only the r-help archives, but also the
function documentation, manuals, etc., is provided by Jonathan Baron
at  http://finzi.psych.upenn.edu/search.html

Pierre

   David Magee wrote:
> I'd like to search the r-help archives.
> Is there a way?
> I want to find out how to impute missing values.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396
-----------------------------------------------------------------
  "God could have told Moses about galaxies and mitochondria and
   all.  But behold... It was good enough for government work."
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From leonardz at bioinfo.sickkids.on.ca  Fri Sep 27 21:00:11 2002
From: leonardz at bioinfo.sickkids.on.ca (Len F. Zaifman)
Date: Fri, 27 Sep 2002 15:00:11 -0400
Subject: [R] R1.5.1,tcltk,IRIX 
Message-ID: <3D94AABB.6144476A@bioinfo.sickkids.on.ca>

the built version of R (built using shared libraries) doesn't appear to
find tcl/tk:
Please help.

Details:

SGI configuration:
7.3.1.3m compilers from SGI
uname -aR = IRIX64 mendel 6.5 6.5.16f 04101930 IP35
	
We built R on an SGI system using the following configure script:

# explicitly choose vendor compilers for R rather than GNU
# optimise output to support highest level of performance for the
processors on OCGC
export CC="/usr/bin/cc -n32 -mips4 -r12000"
export CXX="/usr/bin/CC -n32 -mips4 -r12000"
export F77="/usr/bin/f77 -n32 -mips4 -r12000"
# these flags appear to be necessary to build with tcl/tk
export TCLTK_LIBS='-L/usr/local/lib32'
export TCLTK_CPPFLAGS='-I/usr/local/include/tcl -I/usr/local/include/tk'
# put /usr/local/bin first to get newer perl and also add path to javac
export PATH=/usr/local/bin:/usr/java/bin32:/usr/java/bin:$PATH
(date ; ./configure --prefix=/tools/Rstat1.5.1 --enable-R-shlib
--with-readline  --with-tcltk --with-x
--with-tcl-config=/usr/local/lib32/tclConfig.sh
--with-tk-config=/usr/local/lib32/tkConfig.sh ; date ) 2>&1 | tee
Configure.log

configure returned:

	
  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     yes


That and a clean compile and install meant it looked like tcl was built
in properly.

However, when I try to load it in the following happens:

	
> library(tcltk)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/tools/Rstat1.5.1/lib/R/library/tcltk/libs/tcltk.so":
  1243708:/tools/Rstat1.5.1/lib/R/bin/R.bin: rld: Fatal Error:
unresolvable symbol in
/tools/Rstat1.5.1/lib/R/library/tcltk/libs/tcltk.so: Tk_SafeInit
Error in library(tcltk) : .First.lib failed

when i run ldd on R.bin


-- ldd /tools/Rstat1.5.1/lib/R/bin/R.bin
        libblas.so  =>   /usr/lib32/libblas.so  
        libreadline.so.4  =>     /usr/freeware/lib32/libreadline.so.4   
        libdl.so  =>     /usr/lib32/libdl.so    
        libncurses.so.6  =>      /usr/freeware/lib32/libncurses.so.6    
        libm.so  =>      /usr/lib32/libm.so     
        libftn.so  =>    /usr/lib32/libftn.so   
        libbz2.so.1  =>  /usr/freeware/lib32/libbz2.so.1        
        libc.so.1  =>    /usr/lib32/libc.so.1   
        libcurses.so  =>         /usr/lib32/libcurses.so

So I can see that it didn't get loaded in R.bin, and similarly for:

ldd  /tools/Rstat1.5.1/library/tcltk/libs/tcltk.so
        libm.so  =>      /usr/lib32/libm.so     
        libR.so  =>      /tools/Rstat1.5.1/lib/R/bin/libR.so    
        libc.so.1  =>    /usr/lib32/libc.so.1   
        libblas.so  =>   /usr/lib32/libblas.so  
        libreadline.so.4  =>     /usr/freeware/lib32/libreadline.so.4   
        libdl.so  =>     /usr/lib32/libdl.so    
        libncurses.so.6  =>      /usr/freeware/lib32/libncurses.so.6    
        libftn.so  =>    /usr/lib32/libftn.so   
        libbz2.so.1  =>  /usr/freeware/lib32/libbz2.so.1        
        libcurses.so  =>         /usr/lib32/libcurses.so 
AND
ldd /tools/Rstat1.5.1/lib/R/bin/libR.so
        libblas.so  =>   /usr/lib32/libblas.so  
        libreadline.so.4  =>     /usr/freeware/lib32/libreadline.so.4   
        libdl.so  =>     /usr/lib32/libdl.so    
        libncurses.so.6  =>      /usr/freeware/lib32/libncurses.so.6    
        libm.so  =>      /usr/lib32/libm.so     
        libftn.so  =>    /usr/lib32/libftn.so   
        libbz2.so.1  =>  /usr/freeware/lib32/libbz2.so.1        
        libc.so.1  =>    /usr/lib32/libc.so.1   
        libcurses.so  =>         /usr/lib32/libcurses.so     

So the tcl & tk libraries do't seem to be loaded anywhere.

Any help would be appreciated.


Len Zaifman
Manager, Supercomputing Systems
Centre for Computational Biology
Hospital for Sick Children
Toronto,Ont.
(416)813-5513
leonardz at bioinfo.sickkids.on.ca
-------------- next part --------------
A non-text attachment was scrubbed...
Name: leonardz.vcf
Type: text/x-vcard
Size: 332 bytes
Desc: Card for Len F. Zaifman
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020927/7cb1e92c/leonardz.vcf

From keef9490 at uidaho.edu  Fri Sep 27 21:23:51 2002
From: keef9490 at uidaho.edu (Robert Keefe)
Date: Fri, 27 Sep 2002 12:23:51 -0700 (PDT)
Subject: [R] Retaining regularly used add-ons
Message-ID: <Pine.GHP.4.30.0209271205270.10213-100000@falcon.csrv.uidaho.edu>


Hi everyone,

How might I go about configuring R to keep
add-on packages loaded from session to session?

Is this undesireable for some reason?

At present, I keep a file called "pckgs.txt" in my
working directory with, e.g.,

library(gnlm)
library(Hmisc)
...

and then type source("add-ons.txt") every time I start
a new session. I suspect there's a more elegant way
to hold on to the packages I use regularly?

Thanks in advance for any suggestions or insight, and
a big thanks to all for creating and maintaining such
a powerful tool.

Regards,

Rob

____________

Rob Keefe
M.S. student
Department of Forest Resources
University of Idaho
PO Box 441133
Moscow, ID
83844-1133

Lab: (208) 885-5165
Home: (208) 882-9749



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 27 21:58:34 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Sep 2002 21:58:34 +0200
Subject: [R] R1.5.1,tcltk,IRIX
In-Reply-To: <3D94AABB.6144476A@bioinfo.sickkids.on.ca>
References: <3D94AABB.6144476A@bioinfo.sickkids.on.ca>
Message-ID: <x2fzvvyzkl.fsf@biostat.ku.dk>

"Len F. Zaifman" <leonardz at bioinfo.sickkids.on.ca> writes:

> the built version of R (built using shared libraries) doesn't appear to
> find tcl/tk:
> Please help.
> 
> Details:
> 
> SGI configuration:
> 7.3.1.3m compilers from SGI
> uname -aR = IRIX64 mendel 6.5 6.5.16f 04101930 IP35
> 	
> We built R on an SGI system using the following configure script:
> 

> export TCLTK_LIBS='-L/usr/local/lib32'

... Hmm, this doesn't look quite right. Could it be that you need to
add -ltcl -ltk or so? (Where are your tcl/tk libraries anyway?). 

A bit odd that configure doesn't barf though. 

BTW, you might want to try 1.6.0beta, also to help us bugfix it before
releasing. Available from

http://cran.us.r-project.org/src/base/

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarah_benson at nomoreaccent.com  Fri Sep 27 22:39:27 2002
From: sarah_benson at nomoreaccent.com (Sarah Benson)
Date: Fri, 27 Sep 2002 15:39:27 -0500
Subject: [R] Q: DOES YOUR FOREIGN ACCENT SIMPLY GET IN THE WAY?
Message-ID: <E17v1tg-0007nL-00@bernie.ethz.ch>

Q: " Would you like to Lose Your Accent ? " 

- DO YOU FIND OTHERS HAVE A HARD TIME UNDERSTANDING WHAT YOU ARE TRYING TO CONVEY?

- DO YOU FIND THE NEED TO REPEAT YOURSELF FOR OTHERS TO UNDERSTAND YOU CLEARLY?

- DO YOU FEEL EMBARRASSED OR LESS CONFIDENT WHEN TALKING TO WORK COLLEAUGES?

- DO YOU WISH TO COMMUNICATE YOUR THOUGHTS MORE EFFECTIVELY?

- DOES YOUR FOREIGN ACCENT SIMPLY GET IN THE WAY?

Introducing the Krieger Method, an innovative teaching system, designed to help you develop effective communication skills. 

Andy Krieger, inventor of this miracle product, originated this revolutionary idea whilst working with actors and their accents within the Hollywood film industry. 

Contact us to learn about the true benefits you can obtain to communicate with confidence!!

"Make your accent simply disappear!"

For Accent Reduction Empowerment, visit us on the web today at :- 

www.nomoreaccent.com

Thank you for your time and interest...

Sarah J. Benson
Marketing Co-ordinator

Andy Krieger Inc, never sends unsolicited email. If you feel this is email is not of interest to you, then we sincerely apologize and guarantee you will not receive another email from us, unless you otherwise wish.  

From cmoffet at nwrc.ars.usda.gov  Fri Sep 27 23:02:00 2002
From: cmoffet at nwrc.ars.usda.gov (Corey Moffet)
Date: Fri, 27 Sep 2002 15:02:00 -0600
Subject: [R] Retaining regularly used add-ons
In-Reply-To: <Pine.GHP.4.30.0209271205270.10213-100000@falcon.csrv.uidah
 o.edu>
Message-ID: <3.0.6.32.20020927150200.00b3b9c0@nwrc.ars.usda.gov>


?.First

At 12:23 PM 9/27/2002 -0700, Robert Keefe wrote:
>
>Hi everyone,
>
>How might I go about configuring R to keep
>add-on packages loaded from session to session?
>
>Is this undesireable for some reason?
>
>At present, I keep a file called "pckgs.txt" in my
>working directory with, e.g.,
>
>library(gnlm)
>library(Hmisc)
>...
>
>and then type source("add-ons.txt") every time I start
>a new session. I suspect there's a more elegant way
>to hold on to the packages I use regularly?
>
>Thanks in advance for any suggestions or insight, and
>a big thanks to all for creating and maintaining such
>a powerful tool.
>
>Regards,
>
>Rob
>
>____________
>
>Rob Keefe
>M.S. student
>Department of Forest Resources
>University of Idaho
>PO Box 441133
>Moscow, ID
>83844-1133
>
>Lab: (208) 885-5165
>Home: (208) 882-9749
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Support Scientist

University of Idaho
Northwest Watershed Research Center
800 Park Blvd, Plaza IV, Suite 105
Boise, ID 83712-7716
(208) 422-0718
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Sep 27 23:05:33 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 27 Sep 2002 14:05:33 -0700
Subject: [R] Retaining regularly used add-ons
In-Reply-To: <Pine.GHP.4.30.0209271205270.10213-100000@falcon.csrv.uidah
 o.edu>
Message-ID: <5.1.1.5.2.20020927140509.00b77230@pop4.attglobal.net>

? .First
? .Rprofile

At 12:23 PM 9/27/2002, Robert Keefe wrote:
 >
 >Hi everyone,
 >
 >How might I go about configuring R to keep
 >add-on packages loaded from session to session?
 >
 >Is this undesireable for some reason?
 >
 >At present, I keep a file called "pckgs.txt" in my
 >working directory with, e.g.,
 >
 >library(gnlm)
 >library(Hmisc)
 >...
 >
 >and then type source("add-ons.txt") every time I start
 >a new session. I suspect there's a more elegant way
 >to hold on to the packages I use regularly?
 >
 >Thanks in advance for any suggestions or insight, and
 >a big thanks to all for creating and maintaining such
 >a powerful tool.
 >
 >Regards,
 >
 >Rob
 >
 >____________
 >
 >Rob Keefe
 >M.S. student
 >Department of Forest Resources
 >University of Idaho
 >PO Box 441133
 >Moscow, ID
 >83844-1133
 >
 >Lab: (208) 885-5165
 >Home: (208) 882-9749
 >
 >
 >
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Marc R. Feldesman
Professor and Chairman Emeritus
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Sep 27 23:17:20 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 27 Sep 2002 17:17:20 -0400
Subject: [R] RE: new patched version of randomForest
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CFF6@groexmb02.pfizer.com>


The link from
http://cran.r-project.org/src/contrib/PACKAGES.html#randomForest seems to be
broken.   To get the file try 

	http://cran.r-project.org/src/contrib/randomForest_3.3-4.tar.gz

instead.

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Thursday, September 26, 2002 8:08 PM
> To: 'r-announce at stat.math.ethz.ch'
> Subject: new patched version of randomForest
> 
> 
> 
> There's now a new version of randomForest (3.3-4) on CRAN.  
> Changes from the
> last version include:
> 
> o  "Unsupervised learning" now works again.
> 
> o  Fixed a bug in the original Fortran: the mtry variables chosen 
>    to split each node are now sampled without replacement.
> 
> o  Variable importance for regression now works correctly (i.e.,
>    reproducible when random seed is set).  The problem was simply
>    un-initialized array.  The problem is also in the original
>    Fortran code, so users of that beware!
> 
> o  A new option keep.forest (default TRUE), which, when set to FALSE,
>    supresses the `forest' component of the returned object.  This
>    can reduce memory usage and execution time significantly, if
>    prediction of test set is not needed.
> 
> o  The default value of mtry is now set to sqrt(p) for classification
>    and p/3 for regression (where p is the number of predictors), 
>    consistent with Prof. Breiman's suggestion.
> 
> Questions/comments/bug-reports/patches welcomed!
> 
> Regards,
> Andy
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY84-16            Rahway, NJ 07065
> mailto:andy_liaw at merck.com
> 
> 
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice:  This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> in this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deanne.wright at pioneer.com  Fri Sep 27 23:43:09 2002
From: deanne.wright at pioneer.com (Wright, Deanne)
Date: Fri, 27 Sep 2002 16:43:09 -0500
Subject: [R] question regarding lm and logLik in R
Message-ID: <C71CB7425639D311A7A40008C7286AB00614D035@carina.phibred.com>

It appears that the degrees of freedom reported by logLik changed between R
1.4.1 and R 1.5.1.  Is this true?

Detail:

> I have been using the lm and logLik functions in R to develop code using
> version 1.4.1.  When I run it on version 1.5.1,  I'm getting different
> degrees of freedom with the logLik function.  Version 1.5.1 seems to give
> one extra degree of freedom than version 1.4.1.  As long as this is
> consistent, it is not a problem for me since I'm doing likelihood ratio
> tests, using differences in the degrees of freedom.  However, I wanted to
> make sure that the degrees of freedom will be correct before I proceed.
> 
> The data set I am using has 1000 observations.  Both version 1.4.1 and
> version 1.5.1 give 930 degrees of freedom for the residual using the anova
> function (which also agrees with SAS), but version 1.4.1 returns 70
> degrees of freedom with logLik, while version 1.5.1 returns 71 degrees of
> freedom.  All of the other output seems to be the same.
> 
One person suggested that version 1.5 might include estimation of the
residual variance into the model parameters.  Does anyone know if 
a) this is the only change or if there is somewhere I can read about how the
degrees of freedom are calculated?
b) the degrees of freedom in 1.5.1 are correct for using in differences for
LRTs?

> Thanks very much for you consideration,
> Deanne Wright
> Deanne.Wright at pioneer.com
> 
> 
> 


This communication is for use by the intended recipient and contains 
information that may be privileged, confidential or copyrighted under
applicable law.  If you are not the intended recipient, you are hereby
formally notified that any use, copying or distribution of this e-mail,
in whole or in part, is strictly prohibited.  Please notify the sender
by return e-mail and delete this e-mail from your system.  Unless
explicitly and conspicuously designated as "E-Contract Intended",
this e-mail does not constitute a contract offer, a contract amendment,
or an acceptance of a contract offer.  This e-mail does not constitute
a consent to the use of sender's contact information for direct marketing
purposes or for transfers of data to third parties.

 Francais Deutsch Italiano  Espanol  Portuges  Japanese  Chinese  Korean

            http://www.DuPont.com/corp/email_disclaimer.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hchen at utmem.edu  Sat Sep 28 00:13:59 2002
From: hchen at utmem.edu (hao chen)
Date: 27 Sep 2002 17:13:59 -0500
Subject: [R] r-help search
In-Reply-To: <3D94A61D.50104@honlab.nmfs.hawaii.edu>
References: <3D93B95B.AD44CCD4@lbl.gov> 
	<3D94A61D.50104@honlab.nmfs.hawaii.edu>
Message-ID: <1033164839.24706.1.camel@hchen.utmem.edu>

The way I do it is to use google. Type in google search box:

search terms site:www.r-project.org


In fact, you can use this for any site.


Hao



On Fri, 2002-09-27 at 13:40, Pierre Kleiber wrote:
> A good place to search not only the r-help archives, but also the
> function documentation, manuals, etc., is provided by Jonathan Baron
> at  http://finzi.psych.upenn.edu/search.html
> 
> Pierre
> 
>    David Magee wrote:
> > I'd like to search the r-help archives.
> > Is there a way?
> > I want to find out how to impute missing values.
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> 
> -- 
> -----------------------------------------------------------------
> Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
> Fishery Biologist                     Tel: 808 983-5399/737-7544
> NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
> 2570 Dole St., Honolulu, HI 96822-2396
> -----------------------------------------------------------------
>   "God could have told Moses about galaxies and mitochondria and
>    all.  But behold... It was good enough for government work."
> -----------------------------------------------------------------
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
:=:
:=: Hao Chen, Ph.D.
:=: Postdoc
:=: Department of Pharmacology
:=: University of Tennessee Health Science Center
:=: 115 Crowe Research Building
:=: 874 Union Ave.
:=: Memphis, TN, 38163
:=: Phone: 901 448 3201
:=: Fax: 901 448 7300
:=: Email: hchen at utmem.edu
:=:
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Sep 28 00:57:28 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 28 Sep 2002 10:57:28 +1200 (NZST)
Subject: [R] Subsetting Matrix
Message-ID: <Pine.SOL.4.21.0209281051200.19197-100000@stat1.stat.auckland.ac.nz>

Hi,

This is an easy question, however I cannot remember the exact command of
doing it :-(

Say I have a matrix:
  > ff
             [,1]      [,2]
   [1,] 0.1000000 116.76987
   [2,] 0.6444444 108.26811
   [3,] 1.1888889  95.00240
   [4,] 1.7333333 112.13647
   [5,] 2.2777778 107.39893
   [6,] 2.8222222 115.34615
   [7,] 3.3666667  97.81029
   [8,] 3.9111111 105.35119
   [9,] 4.4555556 105.50052
  [10,] 5.0000000 111.35761

And I'd like to display the number in the first column, where its
corresponding number is the minimum of the second column.

In other words, I'd like to be able to extract out 1.1888889 from column
1, as its correponding number in column 2 (95.00240) is the smallest in
the column.



Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Sep 28 02:48:00 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 27 Sep 2002 20:48:00 -0400
Subject: [R] Subsetting Matrix
In-Reply-To: <Pine.SOL.4.21.0209281051200.19197-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <5.1.0.14.2.20020927204613.01dafe78@mcmail.cis.mcmaster.ca>

Dear Kevin,

At 10:57 AM 9/28/2002 +1200, Ko-Kang Kevin Wang wrote:

>This is an easy question, however I cannot remember the exact command of
>doing it :-(
>
>Say I have a matrix:
>   > ff
>              [,1]      [,2]
>    [1,] 0.1000000 116.76987
>    [2,] 0.6444444 108.26811
>    [3,] 1.1888889  95.00240
>    [4,] 1.7333333 112.13647
>    [5,] 2.2777778 107.39893
>    [6,] 2.8222222 115.34615
>    [7,] 3.3666667  97.81029
>    [8,] 3.9111111 105.35119
>    [9,] 4.4555556 105.50052
>   [10,] 5.0000000 111.35761
>
>And I'd like to display the number in the first column, where its
>corresponding number is the minimum of the second column.
>
>In other words, I'd like to be able to extract out 1.1888889 from column
>1, as its correponding number in column 2 (95.00240) is the smallest in
>the column.

Try  ff[which.min(ff[,2]), 1].

John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcm at maths.uq.edu.au  Sat Sep 28 04:13:16 2002
From: jcm at maths.uq.edu.au (Jess Mar)
Date: Sat, 28 Sep 2002 12:13:16 +1000
Subject: [R] Getting .Python to Work Under Windows
Message-ID: <NCBBINOMKKMHAIKIJJODMEDHCIAA.jcm@maths.uq.edu.au>

Hi all,

I'm trying to call a function in a Python module (v2.2) from within R
(Windows, v1.5.0) but am not having any luck. I've installed
RSPython_0.4-0.zip and the following lines of code cause R to crash:

# R code
library(RSPython)
out <- .Python("samp1", .module="Sample")

# Python file: Sample.py
def samp1() :
	return 1

Obviously this is not the actual Python function I want to use, but it seems
R is crashing on any .Python call I'm making, and I can't even get it to
work on simple functions.

If any could please help, that would be terrific! Cheers, Jess.

______________________________________________________________

Jess Mar
Department of Mathematics		Phone: +617 3365 3964
University of Queensland Q 4072	Email: jcm at maths.uq.edu.au
Brisbane, AUSTRALIA
______________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.mar at pobox.com  Sat Sep 28 04:15:10 2002
From: j.mar at pobox.com (Jess Mar)
Date: Sat, 28 Sep 2002 12:15:10 +1000
Subject: [R] Getting .Python to Work Under Windows
Message-ID: <NCBBINOMKKMHAIKIJJODOEDHCIAA.j.mar@pobox.com>

Hi all,

I'm trying to call a function in a Python module (v2.2) from within R
(Windows, v1.5.0) but am not having any luck. I've installed
RSPython_0.4-0.zip and the following lines of code cause R to crash:

# R code
library(RSPython)
out <- .Python("samp1", .module="Sample")

# Python file: Sample.py
def samp1() :
	return 1

Obviously this is not the actual Python function I want to use, but it seems
R is crashing on any .Python call I'm making, and I can't even get it to
work on simple functions.

If any could please help, that would be terrific! Cheers, Jess.

______________________________________________________________

Jess Mar
Department of Mathematics		Phone: +617 3365 3964
University of Queensland Q 4072	Email: jcm at maths.uq.edu.au
Brisbane, AUSTRALIA
______________________________________________________________





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Sat Sep 28 15:24:12 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Sat, 28 Sep 2002 09:24:12 -0400
Subject: [R] Longer synonym for R?
References: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>
Message-ID: <3D95AD7C.C81C5220@umsanet.edu.bo>

Search engines have gotten better with this problem over time. I tyried
most with CRAN, not R. Other matches for CRAN are:

Canadian Romance Authors Network
Cristian Rural Aid Network


Kjetil Halvorsen

Murray Jorgensen wrote:
> 
> [This message is not always serious, but it addresses a real problem.]
> 
> A problem with R's present name is that it is not very well suited to
> search engines, although Google at least seems to cope as long as you have
> sufficient other terms to filter out Toys R Us. Initials remain a problem.
> 
> I suppose "R" is just too culty to do away with, but perhaps we could come
> up with a longer synonymous name. Meditating on this one day I came up with
> a few lengthenings of the name:
> 
> RRVR
> 
> (inspired by another package and initials of some of the contributors)
> 
> Rgnu
> 
> (Flanders & Swan: "I'm Rgnu")
> 
> openR
> 
> discovR
> 
> enviRon
> 
> Finally, and most boringly,  Rstat.
> 
> Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
> Department of Statistics, University of Waikato, Hamilton, New Zealand
> Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
> Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Sep 28 16:01:39 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 28 Sep 2002 16:01:39 +0200
Subject: [R] question regarding lm and logLik in R
In-Reply-To: <C71CB7425639D311A7A40008C7286AB00614D035@carina.phibred.com>
References: <C71CB7425639D311A7A40008C7286AB00614D035@carina.phibred.com>
Message-ID: <15765.46659.741783.519420@gargle.gargle.HOWL>

>>>>> "DeanneW" == Wright, Deanne <deanne.wright at pioneer.com>
>>>>>     on Fri, 27 Sep 2002 16:43:09 -0500 writes:

    DeanneW> It appears that the degrees of freedom reported by
    DeanneW> logLik changed between R 1.4.1 and R 1.5.1.  Is
    DeanneW> this true?

yes, a bug fix, see below.

    DeanneW> Detail:

    >> I have been using the lm and logLik functions in R to
    >> develop code using version 1.4.1.  When I run it on
    >> version 1.5.1, I'm getting different degrees of freedom
    >> with the logLik function.  Version 1.5.1 seems to give
    >> one extra degree of freedom than version 1.4.1.  As long
    >> as this is consistent, it is not a problem for me since
    >> I'm doing likelihood ratio tests, using differences in
    >> the degrees of freedom.  However, I wanted to make sure
    >> that the degrees of freedom will be correct before I
    >> proceed.
    >> 
    >> The data set I am using has 1000 observations.  Both
    >> version 1.4.1 and version 1.5.1 give 930 degrees of
    >> freedom for the residual using the anova function (which
    >> also agrees with SAS), but version 1.4.1 returns 70
    >> degrees of freedom with logLik, while version 1.5.1
    >> returns 71 degrees of freedom.  All of the other output
    >> seems to be the same.
    >> 
    DeanneW> One person suggested that version 1.5 might include
    DeanneW> estimation of the residual variance into the model
    DeanneW> parameters.  Does anyone know if a) this is the

this is at least the change that was in the release news for
1.5.0, i.e. also in the "NEWS" file under "BUG FIXES", 
and there, just below, is another one affecting glm()s only :

    o logLik.lm() now uses  "df = p + 1" again (`+ sigma'!).

    o logLik.glm() was incorrect for families with estimated
       dispersion.

    DeanneW> only change or if there is somewhere I can read
    DeanneW> about how the degrees of freedom are calculated?

    DeanneW> b) the degrees of freedom in 1.5.1 are correct for
    DeanneW> using in differences for LRTs?

yes, if you compare models that are "nested" 

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Sep 28 17:22:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 28 Sep 2002 08:22:16 -0700 (PDT)
Subject: [R] question regarding lm and logLik in R
In-Reply-To: <C71CB7425639D311A7A40008C7286AB00614D035@carina.phibred.com>
Message-ID: <Pine.A41.4.44.0209280818010.229962-100000@homer07.u.washington.edu>

On Fri, 27 Sep 2002, Wright, Deanne wrote:

> One person suggested that version 1.5 might include estimation of the
> residual variance into the model parameters.  Does anyone know if
> a) this is the only change or if there is somewhere I can read about how the
> degrees of freedom are calculated?
> b) the degrees of freedom in 1.5.1 are correct for using in differences for
> LRTs?

The degrees of freedom do include the residual variance -- this is clear
if you look at the code for logLik.glm, where an extra df is added for
families that have a scale parameter but not otherwise.

The only real place to find how the variance is calculated is in the
methods for the logLik function: logLik.lm, logLik.glm.

You should be able to rely on the df being right for likelihood ratio
tests, since that's the point of having them.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Sun Sep 29 02:53:05 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Sun, 29 Sep 2002 10:53:05 +1000
Subject: [R] Longer synonym for R?
In-Reply-To: <3D95AD7C.C81C5220@umsanet.edu.bo>
References: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>
Message-ID: <5.0.0.25.1.20020929104953.03913e10@pop.jcu.edu.au>

asking for r is a bit hard as (almost) every page will have lots of the 
them - r and statistics seems to work on the engines I use (I take my hats 
off to the designers of the indexers),

Richard Rowe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Sun Sep 29 09:07:38 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Sun, 29 Sep 2002 09:07:38 +0200
Subject: [R] Problem on minima
Message-ID: <3D96A6BA.7080809@econ.unito.it>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020929/7a4d62cc/attachment.html

From krcabrer at epm.net.co  Sun Sep 29 14:08:35 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sun, 29 Sep 2002 07:08:35 -0500
Subject: [R] Problem on minima
References: <3D96A6BA.7080809@econ.unito.it>
Message-ID: <3D96ED43.8010306@epm.net.co>


Have you think in use genetic algoritms? (gafit package)

E. D. Isaia wrote:

>Dear List, I wonder if there is a package that may help me in finding mimina of a specified function in 2 or more real variables.
>Until now I used the optim() function and/or the nlr() one, passing the function g() of interest and the initial guess for the parameters to be optimized over, but it is rather tricky as in my case the function g() may have one absolute minimum and several relative minima which I'm interested in.
>
>-- 
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>~ Ennio D. Isaia
>~ Dep. of Statistics & Mathematics, University of Torino
>~ Piazza Arbarello, 8 - 10128 Torino (Italy)
>~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>  
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", 
> or "[un]subscribe" (in the "body", not the subject !) To: 
> r-help-request at stat.math.ethz.ch 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 



-- 
Kenneth Roy Cabrera Torres
Celular +57 (315) 405 9339



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tkd at wombat.zaq.ne.jp  Sun Sep 29 16:38:25 2002
From: tkd at wombat.zaq.ne.jp (Jun Takeda)
Date: Sun, 29 Sep 2002 23:38:25 +0900
Subject: [R] Question on gee library
Message-ID: <3D971061.17E4D4B2@wombat.zaq.ne.jp>


Dear, 

I understand the method generalized estimating equation
only accept missing values as Missing Completely At Random  (MCAR). 
I would like to know more about the gee function in the gee library. 

Does the function gee in gee library accept NA?
How does the function gee treat NA?

Thanks in advance, 

Jun Takeda
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajr240 at nyu.edu  Sun Sep 29 18:58:45 2002
From: ajr240 at nyu.edu (Ari J Russo)
Date: Sun, 29 Sep 2002 12:58:45 -0400
Subject: [R] Runnin R prorams from a command line
Message-ID: <2c5b532c82ab.2c82ab2c5b53@homemail.nyu.edu>

Hello, I am a new R user, using version 1.5.1.  I am
attempting to run R programs from a dos command line
(in win2000) and am having problems. My goal is to
be able to use R from batch scripts in both windows
and also in Linux eventually later.
 
When I first ran "rcmd BATCH --help" it said that
perl was not found.  after installing perl and
running again, I received the following error:
 
C:\Program Files\R\rw1051\bin>rcmd BATCH -h
Can't locate R/Utils.pm in @INC (@INC contains:
C:\PROGRA~1\R\rw1051\share\per
C:/ActivePerl/Perl/lib C:/ActivePerl/Perl/site/lib
.) at C:\PROGRA~1\R\rw1051/
n/BATCH line 22.
BEGIN failed--compilation aborted at
C:\PROGRA~1\R\rw1051/bin/BATCH line 22.
 
Any help would be much appreciated...
ARI

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Sun Sep 29 19:57:28 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Sun, 29 Sep 2002 10:57:28 -0700 (PDT)
Subject: [R] Longer synonym for R?
In-Reply-To: <4.3.2.7.0.20020929095141.02432528@mail.csi-inc.com>
Message-ID: <20020929175728.79473.qmail@web21105.mail.yahoo.com>


Richard,
Many search engines, like Google, restrict matching to whole words. The word "R" does not occur nearly as frequently as the letter "R". 
In fact, if you perform a Google-search using "R" as a search parameter, the very first article returned is "The R Project for Statistical Computing"!
I can estimate the density of this "R" concept: The query "R" returned 137,000,000 articles. How many articles are stored in Google? I can estimate this by searching for the word 'the', which according to Zipf, should occur in roughly 1 out of 2 documents. The "the" query returns 2,860,000,000 articles. 
So, I estimate 5.72 giga-documents and the density of the word "R" (representing many concepts) is only 0.024 per document.
-jdagius
 
Richard Rowe wrote:
asking for r is a bit hard as (almost) every page will have lots of the 
them - r and statistics seems to work on the engines I use (I take my hats 
off to the designers of the indexers),




---------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020929/19388fbc/attachment.html

From jyan at stat.wisc.edu  Sun Sep 29 20:49:44 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Sun, 29 Sep 2002 13:49:44 -0500 (CDT)
Subject: [R] Question on gee library
In-Reply-To: <3D971061.17E4D4B2@wombat.zaq.ne.jp>
Message-ID: <Pine.LNX.4.21.0209291342590.17878-100000@ludwig.stat.wisc.edu>

On Sun, 29 Sep 2002, Jun Takeda wrote:
> I understand the method generalized estimating equation
> only accept missing values as Missing Completely At Random  (MCAR). 
> I would like to know more about the gee function in the gee library. 
> 
> Does the function gee in gee library accept NA?
> How does the function gee treat NA?

The following is from the function gee,

    if (!is.null(m$na.action) && m$na.action != "na.omit") {
        print("Warning: Only na.omit is implemented for gee")
        print("         continuing with na.action=na.omit")
        m$na.action <- as.name("na.omit")
    }

If the responses (and the covariates) are MCAR, na.omit removes the
observations with NA in either response or covariates, and the resulting
gee fit is valid for MCAR.


Jun Yan

Department of Statistics          Office: CSSC 4252
university of Wisconsin-Madison   Tel: (608)262-7478 
1210 W. Dayton St.                Email: jyan at stat.wisc.edu
Madison, WI 53706                 URL: http://www.stat.wisc.edu/~jyan





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Sep 29 21:04:41 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 29 Sep 2002 15:04:41 -0400
Subject: [R] Question on gee library
In-Reply-To: <3D971061.17E4D4B2@wombat.zaq.ne.jp>
Message-ID: <5.1.0.14.2.20020929150150.01daf788@mcmail.cis.mcmaster.ca>

Dear Jun,

At 11:38 PM 9/29/2002 +0900, Jun Takeda wrote:

>I understand the method generalized estimating equation
>only accept missing values as Missing Completely At Random  (MCAR).
>I would like to know more about the gee function in the gee library.
>
>Does the function gee in gee library accept NA?
>How does the function gee treat NA?

Statistical modeling functions in R, including gee, take a na.action 
argument that determines the way that they handle missing data. From the 
help for gee:

         na.action a function to filter missing data. For gee only na.omit 
should be used here.

na.omit, as the name implies, omits observations with any missing data, 
producing a complete-case analysis.

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Sep 29 21:17:56 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 29 Sep 2002 15:17:56 -0400
Subject: [R] Runnin R prorams from a command line
In-Reply-To: <2c5b532c82ab.2c82ab2c5b53@homemail.nyu.edu>
Message-ID: <5.1.0.14.2.20020929151357.01d9f6b0@mcmail.cis.mcmaster.ca>

Dear Ari,

At 12:58 PM 9/29/2002 -0400, Ari J Russo wrote:
>Hello, I am a new R user, using version 1.5.1.  I am
>attempting to run R programs from a dos command line
>(in win2000) and am having problems. My goal is to
>be able to use R from batch scripts in both windows
>and also in Linux eventually later.
>
>When I first ran "rcmd BATCH --help" it said that
>perl was not found.  after installing perl and
>running again, I received the following error:
>
>C:\Program Files\R\rw1051\bin>rcmd BATCH -h
>Can't locate R/Utils.pm in @INC (@INC contains:
>C:\PROGRA~1\R\rw1051\share\per
>C:/ActivePerl/Perl/lib C:/ActivePerl/Perl/site/lib
>.) at C:\PROGRA~1\R\rw1051/
>n/BATCH line 22.
>BEGIN failed--compilation aborted at
>C:\PROGRA~1\R\rw1051/bin/BATCH line 22.

The program to use is rterm.exe, not rcmd.exe. To run rterm with file 
input, enter
         Rterm.exe --no-restore --no-save < input-file > output-file
at the DOS prompt (where, of course, input-file and output-file represent 
the files with your input and to hold your output). For more information, 
see the README and README.Rterm files in the main R directory.

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Sun Sep 29 23:02:20 2002
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 30 Sep 2002 09:02:20 +1200
Subject: [R] Longer synonym for R?
In-Reply-To: <3D95AD7C.C81C5220@umsanet.edu.bo>
References: <E17ukos-0002qn-00@euler.math.waikato.ac.nz>
Message-ID: <E17vlIy-0003Vc-00@euler.math.waikato.ac.nz>

So you will pick up sentences like

"Using CRAN to fit nonlinear random coefficients models?"

Murray

At 09:24 28/09/02 -0400, kjetil halvorsen wrote:
>Search engines have gotten better with this problem over time. I tyried
>most with CRAN, not R. Other matches for CRAN are:
>
>Canadian Romance Authors Network
>Cristian Rural Aid Network
>
>
>Kjetil Halvorsen
>
>Murray Jorgensen wrote:
>> 
>> [This message is not always serious, but it addresses a real problem.]
>> 
>> A problem with R's present name is that it is not very well suited to
>> search engines, although Google at least seems to cope as long as you have
>> sufficient other terms to filter out Toys R Us. Initials remain a problem.
>> 
>> I suppose "R" is just too culty to do away with, but perhaps we could come
>> up with a longer synonymous name. Meditating on this one day I came up with
>> a few lengthenings of the name:
>> 
>> RRVR
>> 
>> (inspired by another package and initials of some of the contributors)
>> 
>> Rgnu
>> 
>> (Flanders & Swan: "I'm Rgnu")
>> 
>> openR
>> 
>> discovR
>> 
>> enviRon
>> 
>> Finally, and most boringly,  Rstat.
>> 
>> Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
>> Department of Statistics, University of Waikato, Hamilton, New Zealand
>> Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
>> Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862
>> 
>>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>  
Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From white.denis at epamail.epa.gov  Mon Sep 30 00:25:53 2002
From: white.denis at epamail.epa.gov (white.denis@epamail.epa.gov)
Date: Sun, 29 Sep 2002 15:25:53 -0700
Subject: [R] Inverting polygon
Message-ID: <OF1CEF3622.0736AF41-ON88256C43.007A75D8@rtp.epa.gov>

> Hi
>
> I'm using polygon to delimit an area on a plot. However my
> intention is to "superpose" the outside area of the polygon
> (I want to cover an extrapolation of contour(interp(...)).
>
> Is there an easy way of doing it ?
>
> Thanks
>
> EJ

Below is one way that may work.  The last call to lines is (a kludge) to
cover up the "retraced line" from the outer part of the polygon defined
by the range of the plot data to the inner part of the polygon defined
by your polygon of interest.

n <- 50 * 3
x <- runif (n)
y <- runif (n)
x[(seq(n) %% 3) == 0] <- NA
y[(seq(n) %% 3) == 0] <- NA

plot.new ()
range.x <- range (x, na.rm=TRUE)
range.y <- range (y, na.rm=TRUE)
plot.window (range.x, range.y, asp=1)
lines (x, y)

wind.x <- c(range.x, rev (range.x), range.x[1])
wind.y <- c(range.y[1], range.y, rev (range.y))
polygon (wind.x, wind.y)

poly.x <- wind.x / 2 + 0.25
poly.y <- wind.y / 2 + 0.25
polygon (poly.x, poly.y)

mask.x <- c(wind.x, poly.x)
mask.y <- c(wind.y, poly.y)
polygon (mask.x, mask.y, col="white")

lines (c(wind.x[1], poly.x[1]),
       c(wind.y[1], poly.y[1]), col="white")

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Sep 30 06:51:00 2002
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 30 Sep 2002 16:51:00 +1200
Subject: [R] Decompose numerical factor into orthog. poly parts
Message-ID: <E17vscV-00052S-00@euler.math.waikato.ac.nz>

Consider the following analysis of a class experiment done as a Latin Square:

> spinner <- gl(4,4,16,label=c("Murray","Angela","Shasha","Stephen"))
> order <- gl(4,1,16)
> treat <- scan()
1:  1 2 4 3
5:  4 3 1 2
9:  3 4 2 1
13:  2 1 3 4
17: 
Read 16 items
> coin <- factor(treat,label=c("5c","10c","20c","50c"))
> time <- scan()
1: 12.0 13.3 13.0 8.9
5: 9.7 7.2 7.3 8.6
9: 9.2 9.0 7.6 7.4
13: 10.1 5.7 7.5 8.9
17: 
Read 16 items
> diam <- c(19,24,28,33)
> treat
 [1] 1 2 4 3 4 3 1 2 3 4 2 1 2 1 3 4
> diam[treat]
 [1] 19 24 33 28 33 28 19 24 28 33 24 19 24 19 28 33
> d <- diam[treat]
> 
> lsmod <- lm(time ~ spinner + order + poly(d,3))
> anova(lsmod)
Analysis of Variance Table

Response: time
           Df Sum Sq Mean Sq F value   Pr(>F)   
spinner     3 39.367  13.122  9.9476 0.009594 **
order       3  7.587   2.529  1.9172 0.228001   
poly(d, 3)  3 14.208   4.736  3.5900 0.085602 . 
Residuals   6  7.915   1.319                    
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

I'm a bit disappointed: I thought that the poly(d,3) sum of squares would
be decomposed into its three parts. How would I do that?

(Usual apologies for mental laziness.)



Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Mon Sep 30 07:58:17 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 30 Sep 2002 15:58:17 +1000
Subject: [R] Decompose numerical factor into orthog. poly parts
In-Reply-To: <E17vscV-00052S-00@euler.math.waikato.ac.nz>
References: <E17vscV-00052S-00@euler.math.waikato.ac.nz>
Message-ID: <f0510101cb9bd9683d8b7@[150.203.32.52]>

The following perhaps ought to work:

d <- ordered(diam[treat])
lsmod <- lm(time ~ spinner + order + d)
anova(lsmod)

Unfortunately, it gives exactly the same result as before.
The following, which is inelegant, does split up the orthogonal
terms:

d <- ordered(diam[treat])
p3 <- model.matrix(~ -1 + d)
lsmod <- lm(time ~ spinner + order + p3[,1]+p3[,2]+p3[,3])
anova(lsmod)

Note that orthogonal polynomial contrasts are the default for
ordered factors.

John Maindonald

>Consider the following analysis of a class experiment done as a Latin Square:
>
>  > spinner <- gl(4,4,16,label=c("Murray","Angela","Shasha","Stephen"))
>>  order <- gl(4,1,16)
>>  treat <- scan()
>1:  1 2 4 3
>5:  4 3 1 2
>9:  3 4 2 1
>13:  2 1 3 4
>17:
>Read 16 items
>>  coin <- factor(treat,label=c("5c","10c","20c","50c"))
>>  time <- scan()
>1: 12.0 13.3 13.0 8.9
>5: 9.7 7.2 7.3 8.6
>9: 9.2 9.0 7.6 7.4
>13: 10.1 5.7 7.5 8.9
>17:
>Read 16 items
>>  diam <- c(19,24,28,33)
>>  treat
>  [1] 1 2 4 3 4 3 1 2 3 4 2 1 2 1 3 4
>>  diam[treat]
>  [1] 19 24 33 28 33 28 19 24 28 33 24 19 24 19 28 33
>>  d <- diam[treat]
>>
>>  lsmod <- lm(time ~ spinner + order + poly(d,3))
>  > anova(lsmod)
>Analysis of Variance Table
>
>Response: time
>            Df Sum Sq Mean Sq F value   Pr(>F)  
>spinner     3 39.367  13.122  9.9476 0.009594 **
>order       3  7.587   2.529  1.9172 0.228001  
>poly(d, 3)  3 14.208   4.736  3.5900 0.085602 .
>Residuals   6  7.915   1.319                   
>---
>Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
>I'm a bit disappointed: I thought that the poly(d,3) sum of squares would
>be decomposed into its three parts. How would I do that?
>
>(Usual apologies for mental laziness.)
>
>
>
>Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
>Department of Statistics, University of Waikato, Hamilton, New Zealand
>Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
>Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Bioinformation Science, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From takezawa at affrc.go.jp  Mon Sep 30 08:18:47 2002
From: takezawa at affrc.go.jp (Takezawa Kunio)
Date: Mon, 30 Sep 2002 15:18:47 +0900
Subject: [R] "Rcmd SHLIB" does not work
Message-ID: <200209300618.AA00059@takezawa175.affrc.go.jp>

R-users
E-mail: r-help at stat.math.ethz.ch

Hi!

   I would like to produce DLL files to be linked to
R objects on Windows98SE. The source files are 
written in Fortran77.

I input the command below on R console.

Rcmd SHLIB aaa.f

The result is:

Error: syntax error

Does this mean that "Rcmd SHLIB aaa.f" contains
symtax error, or "aaa.f" contains it?
   Or do I need to do something else before
this procedure? Is perl required for this?

    ********     E-mail: takezawa at affrc.go.jp     ********
***** http://cse.naro.affrc.go.jp/takezawa/patent-e.html *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 30 09:02:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 30 Sep 2002 09:02:28 +0200
Subject: [R] Runnin R prorams from a command line
References: <5.1.0.14.2.20020929151357.01d9f6b0@mcmail.cis.mcmaster.ca>
Message-ID: <3D97F704.7E2F2870@statistik.uni-dortmund.de>

John Fox wrote:
> 
> Dear Ari,
> 
> At 12:58 PM 9/29/2002 -0400, Ari J Russo wrote:
> >Hello, I am a new R user, using version 1.5.1.  I am
> >attempting to run R programs from a dos command line
> >(in win2000) and am having problems. My goal is to
> >be able to use R from batch scripts in both windows
> >and also in Linux eventually later.
> >
> >When I first ran "rcmd BATCH --help" it said that
> >perl was not found.  after installing perl and
> >running again, I received the following error:
> >
> >C:\Program Files\R\rw1051\bin>rcmd BATCH -h
> >Can't locate R/Utils.pm in @INC (@INC contains:
> >C:\PROGRA~1\R\rw1051\share\per
> >C:/ActivePerl/Perl/lib C:/ActivePerl/Perl/site/lib
> >.) at C:\PROGRA~1\R\rw1051/
> >n/BATCH line 22.
> >BEGIN failed--compilation aborted at
> >C:\PROGRA~1\R\rw1051/bin/BATCH line 22.
> 
> The program to use is rterm.exe, not rcmd.exe. To run rterm with file
> input, enter
>          Rterm.exe --no-restore --no-save < input-file > output-file
> at the DOS prompt (where, of course, input-file and output-file represent
> the files with your input and to hold your output). For more information,
> see the README and README.Rterm files in the main R directory.

Well, the "Rcmd BATCH" approach should work as well, if all required
utilities are installed.
Obviously te file ....\share\perl\R\Utils.pm  was not found.

I'd suggest to follow the instructions for building R on Windows to get
all required tools and all paths set correctly. It is important to have
the source part (from the Windows installer, if you haven't compile
yourself) of R installed on your machine.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Mon Sep 30 09:14:22 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Mon, 30 Sep 2002 03:14:22 EDT
Subject: [R] Memory problem
Message-ID: <14c.14f19665.2ac953ce@aol.com>

Dear list

I am running a data simulation, which is needed to simulate up to a million 
pieces of data.

I am getting the following memory error :

Error: cannot allocate vector of size 11 Kb
In addition: Warning message: 
Reached total allocation of 255Mb: see help(memory.size) 

I am running a PC with 256Mb RAM and R seems to be taking up the entire 
allocation and is still not able to do the simulation.
Could anybody tell me how much RAM is needed for this sort of process and if 
there is any way of allocating more memory to R.

Many thanks
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon Sep 30 09:26:47 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Mon, 30 Sep 2002 17:26:47 +1000
Subject: [R] Decompose numerical factor into orthog. poly parts
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A91654BA@Roper-CV.qld.cmis.csiro.au>

Multiple degrees of freedom terms can be split up in the anova table using

lsmod <- aov(time ~ spinner + order + d)  # using aov( ) makes things a bit
easier.
summary(lsmod, split = list(.....))

ie the splitting is done using summary.aov and the split= argument allows
the split to be controlled in an orderly way.  The details are just too long
to fit into this margin, though...

Bill Venables.

>  -----Original Message-----
> From: 	John Maindonald [mailto:john.maindonald at anu.edu.au] 
> Sent:	Monday, September 30, 2002 3:58 PM
> To:	Murray Jorgensen
> Cc:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] Decompose numerical factor into orthog. poly parts
> 
> The following perhaps ought to work:
> 
> d <- ordered(diam[treat])
> lsmod <- lm(time ~ spinner + order + d)
> anova(lsmod)
> 
> Unfortunately, it gives exactly the same result as before.
> The following, which is inelegant, does split up the orthogonal
> terms:
> 
> d <- ordered(diam[treat])
> p3 <- model.matrix(~ -1 + d)
> lsmod <- lm(time ~ spinner + order + p3[,1]+p3[,2]+p3[,3])
> anova(lsmod)
> 
> Note that orthogonal polynomial contrasts are the default for
> ordered factors.
> 
> John Maindonald
> 
> >Consider the following analysis of a class experiment done as a Latin
> Square:
> >
> >  > spinner <- gl(4,4,16,label=c("Murray","Angela","Shasha","Stephen"))
> >>  order <- gl(4,1,16)
> >>  treat <- scan()
> >1:  1 2 4 3
> >5:  4 3 1 2
> >9:  3 4 2 1
> >13:  2 1 3 4
> >17:
> >Read 16 items
> >>  coin <- factor(treat,label=c("5c","10c","20c","50c"))
> >>  time <- scan()
> >1: 12.0 13.3 13.0 8.9
> >5: 9.7 7.2 7.3 8.6
> >9: 9.2 9.0 7.6 7.4
> >13: 10.1 5.7 7.5 8.9
> >17:
> >Read 16 items
> >>  diam <- c(19,24,28,33)
> >>  treat
> >  [1] 1 2 4 3 4 3 1 2 3 4 2 1 2 1 3 4
> >>  diam[treat]
> >  [1] 19 24 33 28 33 28 19 24 28 33 24 19 24 19 28 33
> >>  d <- diam[treat]
> >>
> >>  lsmod <- lm(time ~ spinner + order + poly(d,3))
> >  > anova(lsmod)
> >Analysis of Variance Table
> >
> >Response: time
> >            Df Sum Sq Mean Sq F value   Pr(>F)  
> >spinner     3 39.367  13.122  9.9476 0.009594 **
> >order       3  7.587   2.529  1.9172 0.228001  
> >poly(d, 3)  3 14.208   4.736  3.5900 0.085602 .
> >Residuals   6  7.915   1.319                   
> >---
> >Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> >
> >I'm a bit disappointed: I thought that the poly(d,3) sum of squares would
> >be decomposed into its three parts. How would I do that?
> >
> >(Usual apologies for mental laziness.)
> >
> >
> >
> >Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
> >Department of Statistics, University of Waikato, Hamilton, New Zealand
> >Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
> >Phone  +64-7 838 4773 wk    +64 7 849 6486 home     Mobile 021 395 862
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> >r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
> 
> -- 
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Bioinformation Science, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Sep 30 10:06:16 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 30 Sep 2002 10:06:16 +0200
Subject: [R] par() function problem
In-Reply-To: <3D94171C.30138.E638883@localhost>
Message-ID: <3D982218.20723.81E0DD@localhost>



On 27 Sep 2002 at 8:30, zlamal at ufi.fme.vutbr.cz wrote:

> Hi,
>   I want to change line and marker type using par() function (my
> example is taken from bigger function)

What is your real intention?

> 
> oldpar<-par(no.readonly=TRUE)
> par(type="b",lty=1)
>   plot(x1,col=1)

you can use

plot(x1,type="b",lty=1,col=1)


> par(type="b",lty=2)
>   lines(x2,col=2)

lines(x2,col=2,lty=2)
points(x2,pch=1,col=2)

to get desired effect without bothering with par() setting, but it 
need not to suit your real intention.

> par(oldpar)  # restore plotting parameters
> 
> First line is drawn only with circles (no line)
> Second line is drawn only line but not circles.
> 
> Where is problem?
> 
> Jakub Zlamal

Regards
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 30 10:12:41 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 30 Sep 2002 10:12:41 +0200
Subject: [R] "Rcmd SHLIB" does not work
References: <200209300618.AA00059@takezawa175.affrc.go.jp>
Message-ID: <3D980779.D9B4505C@statistik.uni-dortmund.de>

Takezawa Kunio wrote:
> 
> R-users
> E-mail: r-help at stat.math.ethz.ch
> 
> Hi!
> 
>    I would like to produce DLL files to be linked to
> R objects on Windows98SE. The source files are
> written in Fortran77.
> 
> I input the command below on R console.
> 
> Rcmd SHLIB aaa.f
> 
> The result is:
> 
> Error: syntax error
> 
> Does this mean that "Rcmd SHLIB aaa.f" contains
> symtax error, or "aaa.f" contains it?
>    Or do I need to do something else before
> this procedure? 

The other way round: You have to type it in the windows shell, not in R.
The path  .../path-to-R/bin  has to be set.

> Is perl required for this?

Yes, as well as the compiler and tools mentioned in the help files (e.g.
.../src/gnuwin32/Install) that describe how to compile R for windows.
For details see also the Extension Writers Manual.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zlamal at ufi.fme.vutbr.cz  Mon Sep 30 10:39:03 2002
From: zlamal at ufi.fme.vutbr.cz (zlamal@ufi.fme.vutbr.cz)
Date: Mon, 30 Sep 2002 10:39:03 +0200
Subject: [R] par() function problem
In-Reply-To: <3D982218.20723.81E0DD@localhost>
References: <3D94171C.30138.E638883@localhost>
Message-ID: <3D9829C7.18680.63A5E3@localhost>

> What is your real intention?
Real intention to do this is to pass line type arguments to function 
which calls plot and lines as an argument, as shown bellow.

xx<-function(type){
	plot(c(1,2,3),c(3,4,5),type)
}
xx(c(type="b",lty=1))

This solution can not be used, but I can pass arguments to par 
function

par(type)


Jakub Zlamal


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Sep 30 10:45:47 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 30 Sep 2002 20:45:47 +1200
Subject: [R] "Rcmd SHLIB" does not work
References: <200209300618.AA00059@takezawa175.affrc.go.jp>
Message-ID: <004a01c2685d$e162c8f0$552558db@kwan022>

----- Original Message -----
From: "Takezawa Kunio" <takezawa at affrc.go.jp>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, September 30, 2002 6:18 PM
Subject: [R] "Rcmd SHLIB" does not work


> R-users
> E-mail: r-help at stat.math.ethz.ch
>
> Hi!
>
>    I would like to produce DLL files to be linked to
> R objects on Windows98SE. The source files are
> written in Fortran77.
>
> I input the command below on R console.
>
> Rcmd SHLIB aaa.f
>
> The result is:
>
> Error: syntax error

You don't do it within R.  You need to do it in, say, Command Prompt window.

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bayesianbay at aol.com  Mon Sep 30 10:57:22 2002
From: Bayesianbay at aol.com (Bayesianbay@aol.com)
Date: Mon, 30 Sep 2002 04:57:22 EDT
Subject: [R] Chi-Square Distribution Plots
Message-ID: <76.23465d52.2ac96bf2@aol.com>

Dear list

I have a vector of values that allegedly have a chi-squared distribution. I 
want to create a plot that shows the values I have obtained,  and the 
chi-squared distribution curve for the specified number of degrees of freedom 
to show what should have been obtained.

At the moment I am plotting the values I have obtained as a histogram and 
somehow want to put on to this plot the expected frequency curve. Is there a 
way of doing this in R?

Many thanks in davance
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 30 11:27:51 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 30 Sep 2002 11:27:51 +0200
Subject: [R] Memory problem
References: <14c.14f19665.2ac953ce@aol.com>
Message-ID: <3D981917.5C2072BC@statistik.uni-dortmund.de>

Bayesianbay at aol.com wrote:
> 
> Dear list
> 
> I am running a data simulation, which is needed to simulate up to a million
> pieces of data.
> 
> I am getting the following memory error :
> 
> Error: cannot allocate vector of size 11 Kb
> In addition: Warning message:
> Reached total allocation of 255Mb: see help(memory.size)
> 
> I am running a PC with 256Mb RAM and R seems to be taking up the entire
> allocation and is still not able to do the simulation.
> Could anybody tell me how much RAM is needed for this sort of process 

It highly depends on the function / data you are using ...

> and if there is any way of allocating more memory to R.

Looks like you are on windows. See ?Memory, particularly for the command
line option --max-mem-size.
But if you are going to use more memory for R than you have physically
in your PC, you machine will begin to swap memory around --- and that's
extremely slow!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kuehn at halle.ufz.de  Mon Sep 30 11:32:53 2002
From: kuehn at halle.ufz.de (Ingolf Kuehn)
Date: Mon, 30 Sep 2002 11:32:53 +0200
Subject: [R] resampling from matrix using multivariate probabilities
Message-ID: <3D983665.21544.B1546C@localhost>

Dear R-users,

I am an newbie to R and would like to do an ordinary resampling (like provided by the 
function "sample") but from a matrix instead of a vector and  with a probability 
provided by another matrix.

The first matrix contains several environmental conditions sampled at several 
locations:
location	cond1	cond2	cond3	cond4	...
A		10	5	8	3
B		2	4	2	5
C		6	2	7	3
D		9	4	5	2
E		15	8	3	5
...

The other matrix has the same format but providing probabilities (derived from a 
subset of the matrix). I would like to resample the matrix row-wise with the probabilty 
provided for each "cell" by the second matrix.

I cannot do it colum-wise as this would just recognize the probability for one condition 
per location and not all conditions per location at once.

Any suggestion is appreciated!

Many thanks

Ingolf 

================================================
Dr. Ingolf Kuehn
UFZ - Umweltforschungszentrum Leipzig-Halle GmbH
- Sektion Biozoenoseforschung -
UFZ - Centre for Environmental Research
- Department of Community Ecology -
Theodor-Lieser-Strasse 4
06120 Halle
Germany
Tel (+49)345 / 558 5311
Fax (+49)345 / 558 5329
email: kuehn at halle.ufz.de
http://www.ufz.de/spb/bioz/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Mon Sep 30 10:41:23 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Mon, 30 Sep 2002 10:41:23 +0200 (MEST)
Subject: [R] Longer synonym for R?
Message-ID: <14417.1033375283@www55.gmx.net>


The first hit of Googling for

  Using CRAN to fit nonlinear random coefficients models

gave me 

  http://cran.r-project.org/src/contrib/Descriptions/nlme.INDEX

which isn't too bad, is it?


Furthermore 

  Using R to fit nonlinear random coefficients models

gave me

  R: Linear and nonlinear mixed effects models
at
 
http://www.maths.lth.se/bioinformatics/software/R/library/nlme/html/00Index.html

not bad too.


Jens Oehlschl?gel

-- 
Werden Sie mit uns zum "OnlineStar 2002"! Jetzt GMX w?hlen -
und tolle Preise absahnen! http://www.onlinestar.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kaloytyn at cc.jyu.fi  Mon Sep 30 13:12:52 2002
From: kaloytyn at cc.jyu.fi (Katja Loytynoja)
Date: Mon, 30 Sep 2002 14:12:52 +0300 (EEST)
Subject: [R] results from loop as a vector
In-Reply-To: <14417.1033375283@www55.gmx.net>
Message-ID: <Pine.LNX.4.44.0209301359450.17639-100000@itu.st.jyu.fi>


Hello everyone,

could anyone tell me how to get results from a loop as a vector. I've 
tried

> d<-3; nro<-7; i<-0
> for(i in 1:d){ottonro<-ottonro+const; print(ottonro)}
[1] 13
[1] 19
[1] 25

and

> d<-3; nro<-7; i<-0
> for(i in 1:d){nro[i]<-nro+const; print(nro)}
[1] 13
[1] 13 19
[1] 13 19 19
Warning message: 
number of items to replace is not a multiple of replacement length 


but neither work. Any help would be much appreciated.

regards,
Katja L?ytynoja


-------------------------------------------------------------------
Katja L?ytynoja, Taitoniekantie 9 D 505, 40 740 Jyv?skyl?, Finland             
tel. +35850 336 0174, mail kaloytyn at jyu.fi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Steffen.Durinck at esat.kuleuven.ac.be  Mon Sep 30 14:20:49 2002
From: Steffen.Durinck at esat.kuleuven.ac.be (Steffen Durinck)
Date: Mon, 30 Sep 2002 14:20:49 +0200
Subject: [R] R installation on Linux
Message-ID: <3D9841A1.6090806@esat.kuleuven.ac.be>

Dear,

I'm new to both Linux and R. I've to build R from source code
and typed in the R-1.5.1 directory

./configure

the configuration starts but after a few lines the following error occurs:

checking for C compiler default output... configure: error: C compiler 
cannot create executables

what should i do?

Kind Regards,
Steffen Durinck



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 30 14:27:48 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 30 Sep 2002 08:27:48 -0400
Subject: [R] Problem on minima
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC715@usrymx10.merck.com>

... and optim() has simulated annealing.

Andy

> -----Original Message-----
> From: Kenneth Cabrera [mailto:krcabrer at epm.net.co]
> Sent: Sunday, September 29, 2002 8:09 AM
> To: E. D. Isaia
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Problem on minima
> 
> 
> 
> Have you think in use genetic algoritms? (gafit package)
> 
> E. D. Isaia wrote:
> 
> >Dear List, I wonder if there is a package that may help me 
> in finding mimina of a specified function in 2 or more real variables.
> >Until now I used the optim() function and/or the nlr() one, 
> passing the function g() of interest and the initial guess 
> for the parameters to be optimized over, but it is rather 
> tricky as in my case the function g() may have one absolute 
> minimum and several relative minima which I'm interested in.
> >
> >-- 
> >~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> >~ Ennio D. Isaia
> >~ Dep. of Statistics & Mathematics, University of Torino
> >~ Piazza Arbarello, 8 - 10128 Torino (Italy)
> >~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
> >~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> >  
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.- 
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send 
> "info", "help", 
> > or "[un]subscribe" (in the "body", not the subject !) To: 
> > r-help-request at stat.math.ethz.ch 
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._ 
> 
> 
> 
> -- 
> Kenneth Roy Cabrera Torres
> Celular +57 (315) 405 9339
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 30 14:25:20 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 30 Sep 2002 08:25:20 -0400
Subject: [R] Retaining regularly used add-ons
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC714@usrymx10.merck.com>

I'm a bit surprised that people haven't mentioned autoload().

The potential downside of loading to many packages or `large' packages
unnecessarily, I believe, is a bit slower response as R need to search
through a lot of names (in addition to taking up memory).

Cheers,
Andy

> -----Original Message-----
> From: Robert Keefe [mailto:keef9490 at uidaho.edu]
> Sent: Friday, September 27, 2002 3:24 PM
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] Retaining regularly used add-ons
> 
> 
> 
> Hi everyone,
> 
> How might I go about configuring R to keep
> add-on packages loaded from session to session?
> 
> Is this undesireable for some reason?
> 
> At present, I keep a file called "pckgs.txt" in my
> working directory with, e.g.,
> 
> library(gnlm)
> library(Hmisc)
> ...
> 
> and then type source("add-ons.txt") every time I start
> a new session. I suspect there's a more elegant way
> to hold on to the packages I use regularly?
> 
> Thanks in advance for any suggestions or insight, and
> a big thanks to all for creating and maintaining such
> a powerful tool.
> 
> Regards,
> 
> Rob
> 
> ____________
> 
> Rob Keefe
> M.S. student
> Department of Forest Resources
> University of Idaho
> PO Box 441133
> Moscow, ID
> 83844-1133
> 
> Lab: (208) 885-5165
> Home: (208) 882-9749
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Sep 30 14:30:31 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 30 Sep 2002 08:30:31 -0400
Subject: [R] Chi-Square Distribution Plots
In-Reply-To: <76.23465d52.2ac96bf2@aol.com>
Message-ID: <5.1.0.14.2.20020930081749.02dd8030@mcmail.cis.mcmaster.ca>

Dear Laura,

You can use the truehist function in the MASS package to draw a histogram 
with density scaling. Then calculate the chi-square densities, and add the 
density curve to the plot; something like:

     x <- seq(min(data), max(data), length=100)
     d <- dchisq(x, df)
     lines(x, d)

Of course, this requires that you know the degrees of freedom (replacing 
df). You may want to modify the range of plotted density values or change 
the range of the axes.

It is probably preferable to use a quantile-comparison plot rather than a 
histogram to visualize the fit of the data to the chi-square distribution. 
It's not hard to construct one yourself, but the qq.plot function in the 
car package makes this simple: qq.plot(data, 'chisq', df=df); the resulting 
plot includes a point-wise confidence envelope.

I hope that this helps,
  John

At 04:57 AM 9/30/2002 -0400, Bayesianbay at aol.com wrote:
>Dear list
>
>I have a vector of values that allegedly have a chi-squared distribution. I
>want to create a plot that shows the values I have obtained,  and the
>chi-squared distribution curve for the specified number of degrees of freedom
>to show what should have been obtained.
>
>At the moment I am plotting the values I have obtained as a histogram and
>somehow want to put on to this plot the expected frequency curve. Is there a
>way of doing this in R?
>
>Many thanks in davance
>Laura

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bfeldman at ibbotson.com  Mon Sep 30 22:54:54 2002
From: bfeldman at ibbotson.com (Barry Feldman)
Date: Mon, 30 Sep 2002 15:54:54 -0500
Subject: [R] using step function in functions
Message-ID: <86272E60FC09D51185490002A5070B1E0181ADFF@malthus.chicago.ibbotson.com>

Help!

I am a new R user.  It has been slow getting up to speed, but definitely 
rewarding.  I have come up against a problem I can't handle.  I would
very much appreciate any help.

I am writing a vector auto regression (VAR) function that utilizes existing
R statistical functions.  I would like to use the step function to do
step-wise elimination on each univariate time series model.  No matter
what I do, I can't get step() to work inside a function, although it seems
to work perfectly well through the GUI.  

I get an error such as the following when I try to run the function:

Error in eval(expr, envir, enclos) : Object "SP500" not found

In this case the object is the dependent variable.  In other cases it can
be one of the independent variables.  I've tried everying I can think of.
The code for the function follows.  It should work with any numeric
variables
and specified number of lags.

Thanks in advance,

Barry Feldman

Barry Feldman                (p) 312-616-9213
Ibbotson Associates          (f) 312-616-0404          
225 North Michigan Ave.
Chicago, IL 60601 U.S.A.

# Vector Auto Regression
VAR <- function(rData0,lagz) {

# build regression datasets
rData<-na.omit(rData0)
dimz<-dim(rData)
depDat<-rData[(lagz+1):dimz[1],]
print((dim(depDat))[1])
    for (i in 1:lagz)       {
        cDat<-rData[(lagz-i+1):(dimz[1]-i),]
        for (j in 1:dimz[2])        {
            names(cDat)[j]<-paste(names(cDat)[j],"xL", i,
sep="",collapse=NULL)
            }
        if (i==1) indDat<-cDat else indDat<-cbind(indDat,cDat)
        }

# build regression models
for (i in 1:dimz[2])    {
    subData<-cbind(depDat[[i]],indDat)
    names(subData)[1]<-names(rData)[i]
    
    # make model where first variable in frame is the dependent variable
    regOut00<-eval(substitute(lm( dV ~ . , data=subData),
                     list(dV = as.name(names(subData)[1]))
                ))
    regOut0<-step(regOut00)
    #regOut0<-eval(step(regOut00),envir=subData,enclos=parent.frame())
    
    regOut0<-list(regOut0)
    if (i>1) regOut<-c(regOut,regOut0) else regOut<-regOut0
    }
    #subData
    regOut
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Mon Sep 30 21:46:58 2002
From: wolski at molgen.mpg.de (wolski)
Date: Mon, 30 Sep 2002 21:46:58 +0200
Subject: [R] Problems installing Package with r 1.5.1
Message-ID: <200209302146580020.1226BD31@harry.molgen.mpg.de>

R : Copyright 2002, The R Development Core Team
Version 1.5.1  (2002-06-17)

> install.packages("O:/Rpack/mscalib.zip", .libPaths()[1], CRAN = NULL)
updating HTML package descriptions
Warning message: 
error -1 in extracting from zip file 
> install.packages("O:/Rpack/zzz.zip", .libPaths()[1], CRAN = NULL)
updating HTML package descriptions
Warning message: 
error -1 in extracting from zip file 

On the same machine the same file


R : Copyright 2002, The R Development Core Team
Version 1.4.1  (2002-01-30)
> install.packages("O:/Rpack/zzz.zip", .libPaths()[1], CRAN = NULL)
>



Sincerely Eryk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Mon Sep 30 17:22:32 2002
From: juli at ceam.es (juli g. pausas)
Date: Mon, 30 Sep 2002 17:22:32 +0200
Subject: [R] 2 plots sharing axis / combining factors
Message-ID: <3D986C37.9477428E@ceam.es>

Dear R users,

- Is it possible to produce a figure with 2 plots that they share one of
the axis, e.g., the y-axis?
I did not succeed by setting mai[4] <- 0. Is there a simple way?

- How could I convert 2 factor variables in a single factor variable
which is the combination of the other 2.
Example:
    lith: a factor 2 levels "ca", "ma"
    sp: a factor with 2 levels, "ph", "qi"
and I'd like to obtain:
    splith: a factor with 4 levels: phma, phca, qima, qica

on way is by using ifelse:

splith <- as.factor(ifelse(sp=="ph", ifelse(lith=="ma", "phma", "phca"),
ifelse(lith=="ma", "qima", "qica")))

which works fine, but I've got the feeling that it can be done in a more
efficient way, especially for other cases where factors have more than 2
levels.


Thanks in advance for any suggestion

Juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Sep 30 16:19:29 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 30 Sep 2002 09:19:29 -0500
Subject: [R] Chi-Square Distribution Plots
In-Reply-To: <76.23465d52.2ac96bf2@aol.com>
References: <76.23465d52.2ac96bf2@aol.com>
Message-ID: <1033395569.2942.4.camel@musuko.uchicago.edu>

On Mon, 2002-09-30 at 03:57, Bayesianbay at aol.com wrote:
> Dear list
> 
> I have a vector of values that allegedly have a chi-squared distribution. I 
> want to create a plot that shows the values I have obtained,  and the 
> chi-squared distribution curve for the specified number of degrees of freedom 
> to show what should have been obtained.
> 
> At the moment I am plotting the values I have obtained as a histogram and 
> somehow want to put on to this plot the expected frequency curve. Is there a 
> way of doing this in R?

Of course. I assume a qqplot is what you are looking for. Use something
like this line:

qqplot(qchisq(ppoints(375), df=9), actual.values)

This puts the expected distribution on the x-axis, and the empirical
distribution on the y-axix. Change the number of data points (375) and
the degrees of freedom (9) to values appropriate to your data.
-- 
Stuart Luppescu -=- s-luppescu at uchicago.edu        
University of Chicago -=- CCSR 
$B:MJ8$HCRF`H~$NIc(B -=-    Kernel 2.4.19-xfs-r1                
Somebody's terminal is dropping bits.  I found a
 pile of them over in the corner. 
 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020930/1af0527e/attachment.bin

From white.denis at epamail.epa.gov  Mon Sep 30 17:28:07 2002
From: white.denis at epamail.epa.gov (white.denis@epamail.epa.gov)
Date: Mon, 30 Sep 2002 08:28:07 -0700
Subject: [R] Inverting polygon
Message-ID: <OF54CE057A.343E257A-ON88256C44.0054DB53@rtp.epa.gov>

An even better solution, obviating the extra call to lines is:

n <- 50 * 3
x <- runif (n)
y <- runif (n)
x[(seq(n) %% 3) == 0] <- NA
y[(seq(n) %% 3) == 0] <- NA

plot.new ()
range.x <- range (x, na.rm=TRUE)
range.y <- range (y, na.rm=TRUE)
plot.window (range.x, range.y, asp=1)
lines (x, y)

wind.x <- c(range.x, rev (range.x), range.x[1])
wind.y <- c(range.y[1], range.y, rev (range.y))

# example polygon
poly.x <- wind.x / 2 + 0.25
poly.y <- wind.y / 2 + 0.25

mask.x <- c(wind.x, poly.x)
mask.y <- c(wind.y, poly.y)
polygon (mask.x, mask.y, col="white", border="white")

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Sep 30 16:16:47 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 30 Sep 2002 16:16:47 +0200
Subject: [R] results from loop as a vector
In-Reply-To: <Pine.LNX.4.44.0209301359450.17639-100000@itu.st.jyu.fi>
References: <14417.1033375283@www55.gmx.net>
Message-ID: <3D9878EF.1395.1D5159A@localhost>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020930/f2fd1e85/attachment.html

From kjetilh at umsanet.edu.bo  Mon Sep 30 16:16:18 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 30 Sep 2002 10:16:18 -0400
Subject: [R] Chi-Square Distribution Plots
References: <76.23465d52.2ac96bf2@aol.com>
Message-ID: <3D985CB2.397ED97E@umsanet.edu.bo>

Suppose your chi-squared values witrh, let us say, 5 degrees of freedom
are in x. You need to make the histogram with the argument
probability=TRUE first. Then:

> x <- rchisq(1000, 5)
> hist(x, prob=TRUE)
> plot( function(x) dchisq(x, df=5), from=0, to=35, add=TRUE)


Kjetil Halvorsen

Bayesianbay at aol.com wrote:
> 
> Dear list
> 
> I have a vector of values that allegedly have a chi-squared distribution. I
> want to create a plot that shows the values I have obtained,  and the
> chi-squared distribution curve for the specified number of degrees of freedom
> to show what should have been obtained.
> 
> At the moment I am plotting the values I have obtained as a histogram and
> somehow want to put on to this plot the expected frequency curve. Is there a
> way of doing this in R?
> 
> Many thanks in davance
> Laura
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Sep 30 15:24:40 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 30 Sep 2002 09:24:40 -0400 (EDT)
Subject: [R] Chi-Square Distribution Plots
In-Reply-To: <76.23465d52.2ac96bf2@aol.com>
Message-ID: <Pine.LNX.4.44.0209300923360.16971-100000@bolker.zoo.ufl.edu>



  How about something like (untested)

curve(dchisq(x,df=df),add=TRUE)

 [you'll need to make sure that you've plotted your histogram with 
freq=FALSE]

On Mon, 30 Sep 2002 Bayesianbay at aol.com wrote:

> Dear list
> 
> I have a vector of values that allegedly have a chi-squared distribution. I 
> want to create a plot that shows the values I have obtained,  and the 
> chi-squared distribution curve for the specified number of degrees of freedom 
> to show what should have been obtained.
> 
> At the moment I am plotting the values I have obtained as a histogram and 
> somehow want to put on to this plot the expected frequency curve. Is there a 
> way of doing this in R?
> 
> Many thanks in davance
> Laura
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbodily at att.net  Mon Sep 30 15:46:06 2002
From: cbodily at att.net (Chris Bodily)
Date: Mon, 30 Sep 2002 09:46:06 -0400
Subject: [R] split.screen problem
Message-ID: <004f01c26887$ba8f1c90$8217020a@RC02506>

It appears that when plotting in split screens, R does not remember the
range of the axes in the plots.  For example, split the screen and create a
plot in screen(1), say 'plot(1:10,1:10)'.  Then switch from screen(1) to
screen(2) and create another plot.  Now switching back to screen(1) and
attempting to add points with the 'points' command causes the points to plot
incorrectly.  It seems that the axes from the original plot are not
remembered.

A workaround seem to be re-issuing the original plot command with the
type="n" option:  'plot(1:10,1:10,type="n")'.

I found this by moving working code from S-Plus 2000 into R v1.5.1 and a
particular interactive plot I use began drawing incorrectly.

I took the following code directly from the 'split.screen' help page in R
and modified one line to highlight the problem I encountered.

Thanks,

Chris Bodily

#---------------------------------------------------------------------------
-----------


   if (interactive()) {
     par(bg = "white")           # default is likely to be transparent

     split.screen(c(2,1))        # split display into two screens
     split.screen(c(1,2),2)      # split bottom half in two

     plot(1:10)                  # screen 3 is active, draw plot
     erase.screen()              # forgot label, erase and redraw
     plot(1:10, ylab= "ylab 3")

     screen(1)                   # prepare screen 1 for output
     plot(1:10)

     screen(4)                   # prepare screen 4 for output
     plot(1:10, ylab="ylab 4")

     screen(1, FALSE)            # return to screen 1, but do not clear
#     plot(10:1,axes=FALSE, pch=2,col=5, lty=2, ylab="")  # overlay second
plot

## Problem here as the following points get plotted incorrectly ##
## it seems that the axes are reset                             ##
     points(rep(3,10),1:10,col=2,pch=2)  # add a few more points for a test

     axis(4)                     # add tic marks to right-hand axis
     title("Plot 1")
     close.screen(all = TRUE)    # exit split-screen mode
     }

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 30 14:54:22 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Sep 2002 14:54:22 +0200
Subject: [R] R installation on Linux
In-Reply-To: <3D9841A1.6090806@esat.kuleuven.ac.be>
References: <3D9841A1.6090806@esat.kuleuven.ac.be>
Message-ID: <x2bs6fskn5.fsf@biostat.ku.dk>

[Sorry, this got bounced because the original had "To:
r-help at hypatia.math.ethz.ch" (??)]

Steffen Durinck <Steffen.Durinck at esat.kuleuven.ac.be> writes:

> Dear,
> 
> I'm new to both Linux and R. I've to build R from source code
> and typed in the R-1.5.1 directory
> 
> ./configure
> 
> the configuration starts but after a few lines the following error occurs:
> 
> checking for C compiler default output... configure: error: C compiler
> cannot create executables
> 
> what should i do?

Install the C compiler? or possibly development libraries.

If you look in the file config.log, there should be some hints about
exactly what went wrong.

It might also be useful if you told us which Linux distribution we are
talking about.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Sep 30 15:00:00 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 30 Sep 2002 15:00:00 +0200
Subject: [R] Chi-Square Distribution Plots
In-Reply-To: <76.23465d52.2ac96bf2@aol.com>
Message-ID: <3D9866F0.19638.18ECA3C@localhost>

Hi

On 30 Sep 2002 at 4:57, Bayesianbay at aol.com wrote:

> Dear list
> 
> I have a vector of values that allegedly have a chi-squared
> distribution. I want to create a plot that shows the values I have
> obtained,  and the chi-squared distribution curve for the specified
> number of degrees of freedom to show what should have been obtained.
> 
> At the moment I am plotting the values I have obtained as a histogram
> and somehow want to put on to this plot the expected frequency curve.
> Is there a way of doing this in R?
after making histogram

something like

lines(density(rchisq(number,deg.f)))

could help, where number is number of generated points and deg.f is selected 
degrees of freedom

> 
> Many thanks in davance
> Laura
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

RegardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


