From phgrosje at ulb.ac.be  Sun Aug 12 18:41:37 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sun, 12 Aug 2001 18:41:37 +0200
Subject: [R] G-test
In-Reply-To: <3B4DBB1F.C359C976@cbs.dtu.dk>
Message-ID: <MABBLJDICACNFOLGIHJOAEHKCEAA.phgrosje@ulb.ac.be>

 > Do you refer to something related to the Getis statistics ? If so, you
may find helpfull things in the geoR package (which is btw described in the
exxxxcellent latest R-newsletter).

 I suspect it is rather the G-test, alias "log likelihood ratio test", a
test similar to Chi-2 but more robust (see: Sokal & Rholf, Biometry, 2nd Ed,
p. 696)... I am interested too. So, if someone has a suggestion?

Best regards,

Philippe Grosjean



...........]<(({?<...............<?}))><...............................
 ) ) ) ) )       __                      __
( ( ( ( (       |__)                    |  _
 ) ) ) ) )      |   hilippe             |__)rosjean
( ( ( ( (       Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )                               __
( ( ( ( (       |\  /|                  |__)
 ) ) ) ) )      | \/ |ariculture &      |__)iostatistic s
( ( ( ( (
 ) ) ) ) )      e-mail: phgrosje at ulb.ac.be
( ( ( ( (       SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )
......................................................................


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010812/866c2f19/attachment.html

From s195404 at student.uq.edu.au  Wed Aug  1 00:11:57 2001
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Wed, 01 Aug 2001 08:11:57 +1000 (EST)
Subject: [R] update.packages()
Message-ID: <996617517.3b672d2d2d920@my.uq.edu.au>


Dear R users,

I am using R Version 1.3.0 (2001-06-22) under Windows 2000 Professional (SP 2).

When I try "Packages"->"Update packages from CRAN"
the result is something like 
   trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
   unable to connect to 'cran.r-project.org'.
   Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'

Opening the same URL in Internet Explorer opens PACKAGES okay. I had the 
impression (perhaps fanciful) that R used the same settings as IE. I'm less 
than knowledgeable about (among other things) proxies and sockets etc, but 
would greatly value your advice on getting this very handy feature working.

Thank you very much!

Regards,

Andrew C. Ward

Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Aug  1 00:43:52 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 31 Jul 2001 15:43:52 -0700 (PDT)
Subject: [R] update.packages()
In-Reply-To: <996617517.3b672d2d2d920@my.uq.edu.au>
Message-ID: <Pine.A41.4.33.0107311539390.159766-100000@homer03.u.washington.edu>

On Wed, 1 Aug 2001, Andrew C. Ward wrote:

>
> Dear R users,
>
> I am using R Version 1.3.0 (2001-06-22) under Windows 2000 Professional (SP 2).
>
> When I try "Packages"->"Update packages from CRAN"
> the result is something like
>    trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>    unable to connect to 'cran.r-project.org'.
>    Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>
> Opening the same URL in Internet Explorer opens PACKAGES okay. I had the
> impression (perhaps fanciful) that R used the same settings as IE. I'm less
> than knowledgeable about (among other things) proxies and sockets etc, but
> would greatly value your advice on getting this very handy feature working.

The tolerance for timeouts may well be different -- I have been able to
(very slowly) load files in a browser that I can't load with
read.table(url()).

You would probably be better off using the Oz mirror of CRAN. Set
   options(CRAN="http://cran.au.r-project.org")


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Wed Aug  1 03:42:38 2001
From: tov at ece.cmu.edu (Thomas J Vogels)
Date: Tue, 31 Jul 2001 21:42:38 -0400
Subject: [R] inconsistency in options "error" and "show.error.messages"?
In-Reply-To: <Pine.A41.4.33.0107311539390.159766-100000@homer03.u.washington.edu>
Message-ID: <NFBBKIAHMMCHOBIBLMMPCEBOCAAA.tov@ece.cmu.edu>

Hello,

I'm slightly confused by the options "error" and "show.error.messages" and
how they are currently handled.  The following refers to R 1.3.0 (AIX:
2001-07-27 and Windows: 2001-06-22).

What I thought I could do to catch error messages and take over control over
their output is (along what I found on the try help page):

> sem<-getOption("show.error.messages") #store previous value
> options(show.error.messages=FALSE)    #don't show error messages
> msg<-try(log("a"))                    #do our calculation
> options(show.error.messages=sem)      #restore previous value of the
option
> unclass(msg)                          #peek at the error messages...
[1] "Error in log(x) : Non-numeric argument to mathematical function\n"

(Where I use log("a") and unclass(msg) to have some simple examples.)

Alas, afterwards all error messages continue to be suppressed, i.e. are not
shown.  This is simply because getOption("show.error.messages") is NULL
right at the start of my R session!

And this is where my confusion lies:

- Since error messages are always shown until I turn them off explicitly, I
would have expected getOption("show.error.messages") (and thus sem in the
code snippet above) to be TRUE after startup.

- On AIX/R patched I get the following options list:
> grep ("error", names(options()), value=TRUE)
[1] "error"
So there is no option "show.error.messages" set at all (and hence the NULL).

- On Windows/R release, I get the following options list:
> grep ("error", names(options()),value=TRUE)
[1] "error.messages"
What option is this?  It's neither "error" nor "show.error.messages" which
are the documented options.

Where did I go wrong?

Thanks,
  -tom

--
Email: vogels at cmu.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at maths.uwa.edu.au  Wed Aug  1 05:35:41 2001
From: adrian at maths.uwa.edu.au (Adrian Baddeley)
Date: Wed, 1 Aug 2001 11:35:41 +0800 (WST)
Subject: [R] glm() with non-integer responses
Message-ID: <200108010335.LAA10032@zootje.maths.uwa.edu.au>

A question about the inner workings of glm() and dpois():
Suppose I call

	glm(y ~ x, family=poisson, weights = w)

where y contains NON-INTEGER (but still nonnegative) values.

	(a) Does glm() still correctly maximise 
	the weighted Poisson loglikelihood ?

(i.e. the function given by the same formal expression as the 
weighted loglikelihood of independent Poisson variables Y_i 
except that the y_i are now nonnegative real numbers) 

	(b) is this likely to change in future versions of R?

In R version 1.3.0, glm() gives a warning that the responses are not integers.
This seems to originate from dpois() which is used to evaluate the deviance
of the fitted model. In R versions prior to 1.3 it seemed to work
without complaint. So ..

	(c) what is the recommended way to suppress the warning from
	dpois() that the responses are not integers ? 

Ideally I would like dpois() to accept noninteger responses and
evaluate using the gamma function..

thanks
----
Adrian Baddeley, Mathematics & Statistics, University of Western Australia
		<http://maths.uwa.edu.au/~adrian/>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Aug  1 06:43:05 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 1 Aug 2001 16:43:05 +1200
Subject: [R] update.packages()
In-Reply-To: <996617517.3b672d2d2d920@my.uq.edu.au>; from s195404@student.uq.edu.au on Wed, Aug 01, 2001 at 08:11:57AM +1000
References: <996617517.3b672d2d2d920@my.uq.edu.au>
Message-ID: <20010801164305.A30725@camille.indigoindustrial.co.nz>


> When I try "Packages"->"Update packages from CRAN"
> the result is something like 
>    trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>    unable to connect to 'cran.r-project.org'.
>    Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
>         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'

> Opening the same URL in Internet Explorer opens PACKAGES okay. I had the 
> impression (perhaps fanciful) that R used the same settings as IE.

IE is just another progam.  You have to set up any other program 
(Netscape, Opera, CuteFTP, etc) with all the local config info, no
matter how IE is set up.  This is overall a good thing, but an 
occasional PITA, as you're discovering.

Without knowing more about your system & network setup, it's hard to
say.   Two posibilities that spring to mind are:

1) firewall/proxy iterference.
2) a *really* slow local DNS server and proxy, which exceeded the
default 60 second timeout

If you are behind a proxy, here's the short story... 

install.packages() uses download.file().  
?download.file() will tell you how download.file() uses the 
environment variables ftp_proxy and http_proxy to get its
proxy info.

And this is where I stop talking -- I know nothing about how
to set environment variables under any of the Windows OS family.
Anyone?

> would greatly value your advice on getting this very handy feature working.

It is a *very* handy feature.  Kudos to those who wrote it.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 08:15:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Aug 2001 07:15:57 +0100 (BST)
Subject: [R] update.packages()
In-Reply-To: <996617517.3b672d2d2d920@my.uq.edu.au>
Message-ID: <Pine.GSO.4.31.0108010711070.8041-100000@auk.stats>

On Wed, 1 Aug 2001, Andrew C. Ward wrote:

>
> Dear R users,
>
> I am using R Version 1.3.0 (2001-06-22) under Windows 2000 Professional (SP 2).
>
> When I try "Packages"->"Update packages from CRAN"
> the result is something like
>    trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>    unable to connect to 'cran.r-project.org'.
>    Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>
> Opening the same URL in Internet Explorer opens PACKAGES okay. I had the
> impression (perhaps fanciful) that R used the same settings as IE. I'm less
> than knowledgeable about (among other things) proxies and sockets etc, but
> would greatly value your advice on getting this very handy feature working.

Try replacing modules/internet.dll by modules/internet2.dll.  Then it will
use the same settings as Internet Explorer.  (The docs for 1.3.0 did not
get updated.)  But what is there should work unless you need a proxy.

Do you need a proxy?  If so the correct info is

  Proxies can be specified via environment variables.
  Setting \code{"no_proxy"} stops any proxy being tried.
  Otherwise the setting of \code{"http_proxy"} or \code{"ftp_proxy"}
  (or failing that, the all upper-case version) is consulted and if
  non-empty used as a proxy site.  For FTP transfers, the username
  and password on the proxy can be specified by \code{"ftp_proxy_user"}
  and \code{"ftp_proxy_password"}.


Note that as I don't need a proxy, it is very hard for me to test that any
of this works as documented.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug  1 08:33:41 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 01 Aug 2001 08:33:41 +0200
Subject: [R] update.packages()
References: <996617517.3b672d2d2d920@my.uq.edu.au>
Message-ID: <3B67A2C5.4E6C9C95@statistik.uni-dortmund.de>

"Andrew C. Ward" wrote:
> 
> Dear R users,
> 
> I am using R Version 1.3.0 (2001-06-22) under Windows 2000 Professional (SP 2).
> 
> When I try "Packages"->"Update packages from CRAN"
> the result is something like
>    trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>    unable to connect to 'cran.r-project.org'.
>    Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> 
> Opening the same URL in Internet Explorer opens PACKAGES okay. I had the
> impression (perhaps fanciful) that R used the same settings as IE. I'm less
> than knowledgeable about (among other things) proxies and sockets etc, but
> would greatly value your advice on getting this very handy feature working.


The default for downloading files is "internal" since R-1.3.0.
For Windows 2000, you need to use the library 
 ...\rw1030\modules\internet2.dll 
instead of 
 ...\rw1030\modules\internet.dll. 
Simply rename the two files.

>From the CHANGES file:
"The default internet module modules\internet.dll is built using basic
WinSock calls.  There is an alternative modules\internet2.dll which uses
WinInet calls (and so needs Internet Explorer installed) which can be
used as a replacemnet."


If you have wget installed on your system, you can also use 
  update.packages(method="wget")


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 08:41:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Aug 2001 07:41:42 +0100 (BST)
Subject: [R] update.packages()
In-Reply-To: <3B67A2C5.4E6C9C95@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.31.0108010739040.8128-100000@auk.stats>

On Wed, 1 Aug 2001, Uwe Ligges wrote:

> "Andrew C. Ward" wrote:
> >
> > Dear R users,
> >
> > I am using R Version 1.3.0 (2001-06-22) under Windows 2000 Professional (SP 2).
> >
> > When I try "Packages"->"Update packages from CRAN"
> > the result is something like
> >    trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> >    unable to connect to 'cran.r-project.org'.
> >    Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
> >         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> >
> > Opening the same URL in Internet Explorer opens PACKAGES okay. I had the
> > impression (perhaps fanciful) that R used the same settings as IE. I'm less
> > than knowledgeable about (among other things) proxies and sockets etc, but
> > would greatly value your advice on getting this very handy feature working.
>
>
> The default for downloading files is "internal" since R-1.3.0.
> For Windows 2000, you need to use the library
>  ...\rw1030\modules\internet2.dll
> instead of
>  ...\rw1030\modules\internet.dll.
> Simply rename the two files.

I use internet.dll happily on both my Windows 2000 systems.

As ever with Windows, what works seems capricious, which is why there is an
alternative.  In my tests internet.dll was slightly more reliable than
internet2.dll.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 08:57:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Aug 2001 07:57:43 +0100 (BST)
Subject: [R] glm() with non-integer responses
In-Reply-To: <200108010335.LAA10032@zootje.maths.uwa.edu.au>
Message-ID: <Pine.GSO.4.31.0108010743170.8128-100000@auk.stats>

On Wed, 1 Aug 2001, Adrian Baddeley wrote:

> A question about the inner workings of glm() and dpois():
> Suppose I call
>
> 	glm(y ~ x, family=poisson, weights = w)
>
> where y contains NON-INTEGER (but still nonnegative) values.
>
> 	(a) Does glm() still correctly maximise
> 	the weighted Poisson loglikelihood ?
>
> (i.e. the function given by the same formal expression as the
> weighted loglikelihood of independent Poisson variables Y_i
> except that the y_i are now nonnegative real numbers)

Well, as that is not a loglikelihood, it's hard to be precise, but yes
it will locally maximize the appropriate weighted log quasi-likelihood.
(It's not clear to me that the log-concavity etc carry over.)

> 	(b) is this likely to change in future versions of R?

No.  Quite a few other things depend on this being really a Poisson
with variance = mean, and that's why these things were tightened up.

> In R version 1.3.0, glm() gives a warning that the responses are not integers.
> This seems to originate from dpois() which is used to evaluate the deviance
> of the fitted model. In R versions prior to 1.3 it seemed to work
> without complaint. So ..

It uses dpois() to evaluate the AIC, not the deviance.
The change was much earlier (1.2.1 I think, looking at NEWS).

> 	(c) what is the recommended way to suppress the warning from
> 	dpois() that the responses are not integers ?

Use a quasi- model.  That's a general conclusion if you want IWLS but not
the exact distributional assumptions of the standard families.  It this
particular case you could use quasipoisson() also, I think.

> Ideally I would like dpois() to accept noninteger responses and
> evaluate using the gamma function..

Then it would not be a probability mass function.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Aug  1 11:05:58 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 1 Aug 2001 11:05:58 +0200 (MET DST)
Subject: [R] Interacting with graphics: image
In-Reply-To: <NFBBKIAHMMCHOBIBLMMPCEBOCAAA.tov@ece.cmu.edu>
Message-ID: <Pine.OSF.3.96.1010801110150.19829F-100000@ija.csic.es>


After displaying a matrix x with image(x),
is there any way to check the x values with the
cursor? I've tried locator() and identify(), but does not seem
to be the way.

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 11:11:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Aug 2001 10:11:07 +0100 (BST)
Subject: [R] Interacting with graphics: image
In-Reply-To: <Pine.OSF.3.96.1010801110150.19829F-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.31.0108011006220.27326-100000@auk.stats>

On Wed, 1 Aug 2001, Agustin Lobo wrote:

> After displaying a matrix x with image(x),
> is there any way to check the x values with the
> cursor? I've tried locator() and identify(), but does not seem
> to be the way.

It is the way.  For example, from ?image:

     data(volcano)
     x <- 10*(1:nrow(volcano))
     y <- 10*(1:ncol(volcano))
     image(x, y, volcano, col = terrain.colors(100), axes = FALSE)

     clicked <- locator()
     volcano[cbind(round(clicked$x/10), round(clicked$y/10))]

(You will need to do the mapping to coordinates in a problem-specific way,
and indeed this will depend on exactly hoe image was called.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Wed Aug  1 11:16:28 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Wed, 1 Aug 2001 11:16:28 +0200 (MET DST)
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
In-Reply-To: <3B66E3E2.B47AE181@labs.agilent.com>
Message-ID: <Pine.GSO.3.95q.1010801110526.705A-100000@sun22.math.uni-hamburg.de>

On Tue, 31 Jul 2001, Jonathan Qiang Li wrote:

> Hi,
> 
> Has someone tried to use mclust package function emclust() to fit a
> mixture of gaussian model for a relatively large dataset?
> By "large", I specifically have in mind a data set with 50,000
> observations and 23 dimensions. My machine has 750M memory and 500M swap
> space. When I tried to use emclust on the dataset, I consistently get
> messages such as "Error: cannot allocate vector of size 1991669 Kb". In
> other words does this mean that R is trying to allocate almost 2000Mb
> space? Should this be considered abnormal?

No. I recently talked to A.E.Raftery, one of the designers of the Splus 
original, and he said that there are indeed problems with datasets of more
than, say, 10000 observations. He said that it is the number of observations
that matters, not the dimension. The main problem is, according to him, 
the hierarchical routine which leads to the initial partition. He suggests
to take a random subsample of size 100-1000 and to generate initial starting
parameters from the subsample. I cannot tell you the details, because I
have not tried this until now. But the principle is that you can tell
emclust/mclust somehow, how the starting values are generated and the default,
the memory intensive hierarchical clustering, must be replaced by some fixed
starting configuration obtained from a subsample. 

Another hint is that for high dimensions it is not advisable to calculate
the "VVV"-model because of the high probability for spurious local maxima of
the likelihood. 
 
Hope that helps,
Christian


***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed Aug  1 11:45:33 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 1 Aug 2001 11:45:33 +0200
Subject: [R] partial correlations
Message-ID: <p04330100b78d7f92457e@[134.76.136.114]>

Howdy!

I need to calculate partial correlations and I just can't find out how to
do that with R. Can anybody help?

Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Aug  1 12:36:05 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 1 Aug 2001 11:36:05 +0100
Subject: [R] detecting blanks in read.table()
In-Reply-To: <3B671A34.231A557B@alvie-mail.lanl.gov>
References: <3B671A34.231A557B@alvie-mail.lanl.gov>
Message-ID: <AxZ4EQAVu9Z7EwPN@myatt.demon.co.uk>

Laura Forsberg <toad at alvie-mail.lanl.gov> writes:
>Hi everyone,
>
>I am trying to read in a tab delimited data file to R that has outliers
>marked by blank spaces.  I would like to be able to tag those as "NA"
>when the data is read in.  I cannot figure out how to do this using the
>read.table() options.  Everything I have tried either puts all the NA on
>the end of the row when there are missing values instead of on their
>appropiate columns or won't read the data in at all.
>

I think you need to fiddle with the sep and na.strings parameters. Try:

        read.table("file", na.strings = " ", sep = "\t")

for a start.

Mark    


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Aug  1 12:45:42 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 1 Aug 2001 22:45:42 +1200
Subject: [R] partial correlations
In-Reply-To: <p04330100b78d7f92457e@[134.76.136.114]>
Message-ID: <GAELKJBFMIGCMOMAFDBHCELFCAAA.Ko-Kang@xtra.co.nz>

I got this from Associate Professor Brian McArdle's multivariate statistics course.  However I have not tested it yet...



parcor.test <- function( x, y, q=1, alternative = "two.sided" ) {
    if( is.matrix( x ) && ncol( x ) >= 2 ) {
        y <- x[, 2]
        x <- x[, 1]
    }
    if( length( x ) != length( y ) )
        stop( "x and y should be the same length " )
    n <- length( x )
    if( n <= 2 )
        stop( "x and y should effectively be longer than 2" )


# Pearson's product moment correlation:
        coef <- cor( x, y )
        if( is.na( coef ) )
            stop( "too small variance" )
        if( abs( coef ) > 0.999999 )
            stop( paste( "correlation is", coef ) )
        attr( coef, "names" ) <- "cor"
        stat <- coef * sqrt( ( n - 2-q )/( 1 - coef^2 ) )  # t-statistic
        attr( stat, "names" ) <- "t"

    p.value <- if( names( stat ) == "t" ) {
        switch( alternative,
                greater = 1 - pt( stat, n - 2 - q ),
                less = pt( stat, n - 2 - q ),
                two.sided = 2 * pt(  - abs( stat ), n - 2 - q ),
              )
    }

    attr( p.value, "Names" ) <- NULL    #a kludge for nicer output
    if( names( stat ) == "t" ) {
        pars <- n - 2 - q
        attr( pars, "names" ) <- "df"
    }
    else pars <- NULL
    null.value <- 0
    attr( null.value, "names" ) <- c( "coef" )
    z <- list( statistic = stat, parameters = pars, p.value =
        p.value, estimate = coef, null.value = null.value,
        alternative = alternative )
    z$data.name <- paste( deparse( substitute( x ) ), "and", deparse(
        substitute( y ) ) )
    attr( z, "class" ) <- "htest"
    return( z )
}






-------------------------------------------------------------------------------------------- 
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ragnar Beer
Sent: Wednesday, August 01, 2001 9:46 PM
To: r-help at stat.math.ethz.ch
Subject: [R] partial correlations


Howdy!

I need to calculate partial correlations and I just can't find out how to
do that with R. Can anybody help?

Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Aug  1 13:12:07 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 1 Aug 2001 07:12:07 -0400 (EDT)
Subject: [R] partial correlations
Message-ID: <200108011112.HAA03015@cattell.psych.upenn.edu>

There may well be a simple way to do partial correlations,
but I can't find it either.  Here are three ways:

1. Use the formula.  For r(xy,z),
xy <- cor(x,y)
xz <- cor(x,z)
yz <- cor(y,z)
(xy - xz*yz)/sqrt((1-xz^2)*(1-yz^2)

2. Correlate residuals.
cor(lm(x~z)$resid,lm(y~z)$resid)

The second method has the advantage that you can replace z with
many variables and partial them all.

3. From the coefficients of regressions.

a <- summary(lm(y ~ x + z))$coef[2,1]
b <- summary(lm(x ~ y + z))$coef[2,1]
sqrt(a*b)

The significance of the partial correlation should be the same as
the significance of the regression coefficient, e.g.,

summary(lm(y ~ x + z))
or
summary(lm(x ~ y + z))

and look at the first coefficient.

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Aug  1 13:32:34 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 1 Aug 2001 13:32:34 +0200 (MET DST)
Subject: [R] R CMD BATCH: & and nohup
In-Reply-To: <Pine.GSO.4.31.0108011006220.27326-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1010801132957.19829G-100000@ija.csic.es>


Hi!

I 've observed that, at least in my system, a non-interactive
R session requires &, i.e.:

R CMD BATCH commandfile.in logfile.out &

Is nohup also required to avoid that the R session be  halted
after logging out? i.e.

nohup R CMD BATCH commandfile.in logfile.out &

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 13:39:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Aug 2001 12:39:08 +0100 (BST)
Subject: [R] R CMD BATCH: & and nohup
In-Reply-To: <Pine.OSF.3.96.1010801132957.19829G-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0108011227320.15249-100000@gannet.stats>

On Wed, 1 Aug 2001, Agustin Lobo wrote:

> I 've observed that, at least in my system, a non-interactive
> R session requires &, i.e.:
>
> R CMD BATCH commandfile.in logfile.out &

Only if you want to run it in the background, which you might well not.
So this is intentional (and intentionally different from S-PLUS).

One common use of R CMD BATCH is to run a series of jobs in succession,
and that is harder to do with the S-PLUS form (you have to play with
wait).

> Is nohup also required to avoid that the R session be  halted
> after logging out? i.e.
>
> nohup R CMD BATCH commandfile.in logfile.out &

Depends on your unnamed system!  You are asking how your OS and shell
work, which is impossible for us to guess.  For example, csh has a builtin
command nohup, and on BSD and SVR4 systems nohup does different things.

In my experience the answer is probably no if you are using a windowing
system, probably yes if you are running R in the login shell directly.

[Since you have asked several questions with insufficient information, do
please think about supplying the basic details each time.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  1 13:49:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2001 13:49:56 +0200
Subject: [R] R CMD BATCH: & and nohup
In-Reply-To: Agustin Lobo's message of "Wed, 1 Aug 2001 13:32:34 +0200 (MET DST)"
References: <Pine.OSF.3.96.1010801132957.19829G-100000@ija.csic.es>
Message-ID: <x2zo9k6luj.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Hi!
> 
> I 've observed that, at least in my system, a non-interactive
> R session requires &, i.e.:
> 
> R CMD BATCH commandfile.in logfile.out &
> 
> Is nohup also required to avoid that the R session be  halted
> after logging out? i.e.
> 
> nohup R CMD BATCH commandfile.in logfile.out &

This might be system dependent, but the BATCH script does nothing to
trap HUP signals and neither does R itself, so I suspect the answer is
yes. Can't hurt, certainly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Aug  1 14:03:33 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 1 Aug 2001 14:03:33 +0200 (MET DST)
Subject: System details for Re: [R] R CMD BATCH: & and nohup
In-Reply-To: <Pine.LNX.4.31.0108011227320.15249-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010801135131.19829I-100000@ija.csic.es>


On Wed, 1 Aug 2001, Prof Brian Ripley wrote:

> > Is nohup also required to avoid that the R session be  halted
> > after logging out? i.e.
> >
> > nohup R CMD BATCH commandfile.in logfile.out &
> 
> Depends on your unnamed system!  You are asking how your OS and shell
> .../...
> [Since you have asked several questions with insufficient information, do
> please think about supplying the basic details each time.]

Sorry, did not know that nohup was system dependent.

I use a Linux Suse 7.4 system for the interactive sessions
and a Digital AlPHA server runing UNIX V4.0F  (Rev. 1229) only for
the BATCH sessions (with csh). I use the server by opening a remote xterm
from
the Linux box. I'm using the alpha server because it's up all the time
while I shutdown my linux machine every day.

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Aug  1 14:26:08 2001
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: Wed, 01 Aug 2001 08:26:08 -0400
Subject: [R] partial correlations
References: <p04330100b78d7f92457e@[134.76.136.114]>
Message-ID: <3B67F560.90505@keittlab.bio.sunysb.edu>

partial.correlation <- function(x, y=NULL, z=NULL, n=NULL,
                                keep.permutations=F) {
  if (!is.null(y)) x <- cbind(x, y)
  if (!is.null(z)) x <- cbind(x, z)
  c <- cor(x)
  out <- list()
  out$cxy <- c[1, 2]
  out$cxz <- c[1, 3]
  out$pcxy <- c[1, 2] - c[1, 3] * c[2, 3] /
    sqrt((1 - c[1, 3]^2) * (1 - c[2, 3]^2))
  out$pcxz <- c[1, 3] - c[1, 2] * c[2, 3] /
    sqrt((1 - c[1, 2]^2) * (1 - c[2, 3]^2))
  if (!is.null(n)) {
    perms <- matrix(nrow=n, ncol=4)
    for (i in 1:n) {
      x[,1] <- sample(x[,1])
      c <- partial.correlation(x)
      perms[i,] <- c(c$cxy, c$pcxy, c$cxz, c$pcxz)
    }
    out$p.cxy <- sum(perms[, 1] >= out$cxy) / n
    out$p.pcxy <- sum(perms[, 2] >= out$pcxy) / n
    out$p.cxz <- sum(perms[, 3] >= out$cxz) / n
    out$p.pcxz <- sum(perms[, 4] >= out$pcxz) / n
    if (keep.permutations) {
      out$cxy.perms <- perms[, 1]
      out$pcxy.perms <- perms[, 2]
      out$cxz.perms <- perms[, 3]
      out$pcxz.perms <- perms[, 4]
    }
  }
  return(out)
}


Ragnar Beer wrote:

> Howdy!
>
> I need to calculate partial correlations and I just can't find out how to
> do that with R. Can anybody help?
>
> Ragnar
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Aug  1 15:44:41 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 1 Aug 2001 15:44:41 +0200 (MET DST)
Subject: Re(2): [R] Interacting with graphics: image
In-Reply-To: <Pine.GSO.4.31.0108011006220.27326-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1010801143834.19829K-100000@ija.csic.es>


On Wed, 1 Aug 2001, Prof Brian D Ripley wrote:

> On Wed, 1 Aug 2001, Agustin Lobo wrote:
> 
> > After displaying a matrix x with image(x),
> > is there any way to check the x values with the
> > cursor? I've tried locator() and identify(), but does not seem
> > to be the way.
> 
> It is the way.  For example, from ?image:
> 
>      data(volcano)
>      x <- 10*(1:nrow(volcano))
>      y <- 10*(1:ncol(volcano))
>      image(x, y, volcano, col = terrain.colors(100), axes = FALSE)
> 
>      clicked <- locator()
>      volcano[cbind(round(clicked$x/10), round(clicked$y/10))]
> 
> (You will need to do the mapping to coordinates in a problem-specific way,
> and indeed this will depend on exactly hoe image was called.)

I had tried something similar, but this is non-interactive.
locator() collects n points and then outputs the result as a list. What
I'm
trying to do is to browse the image values on the screen, for which
I would need locator() to output the x,y coordinate after each
click with the mouse. If I use locator(n=1) I get the x,y coordinate,
but then the function ends. I think that an option to output one
coordinate at each click would be good in the future.

As a workaround, what I've done is the following function, ima.explore:

function (ima,n=5)    
{
        maxcol<-dim(ima)[2]
        maxlin<-dim(ima)[1]
        i <- 1
        for(i in 1:n) {
                xy <- locator(n=1)
                colu <- round(xy$x)
                lin <- maxlin - round(xy$y) + 1
                cat("Row: ",lin, "  Col: ",colu,"  Value: 
",ima[lin,colu]," \n")
                i <- i+1
        }
}

I use this function after
image(x=1:ncol(ima),y=1:nrow(ima),t(ima)[,nrow(ima):1],col=mircolors,axes=F)

which displays ima in the same way as it is printed and the output is
such:

Row:  1   Col:  1   Value:  1  
Row:  1   Col:  2   Value:  1

etc

(Note that for example:

> test.ref
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    1    1    1    1    1    1    2    3     3
 [2,]    1    1    1    1    1    1    2    2    2    96
 [3,]    1    1    1    1    1    1    2    2    2    96
 [4,]    1    1    1    1    1    2    2    2    2     2
 [5,]  141    1    1    1    5  142    2    2    2     2
 [6,]  141  142  142  142  142  142  142    2    2     2
 [7,]  142  142  142  142  142  142  142  142    2     2
 [8,]  206  142  142  142  142  142  142  142  142     2
 [9,]  206  206  142  142  142  142  142  142  142   142
[10,]  206  206  206  142  142  142  142  142  142    10

would be dispayed by (image(x=1:10,y=1:10,test.ref) in the
following order:

> t(test.ref)[10:1,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    3   96   96    2    2    2    2    2  142    10
 [2,]    3    2    2    2    2    2    2  142  142   142
 [3,]    2    2    2    2    2    2  142  142  142   142
 [4,]    1    2    2    2    2  142  142  142  142   142
 [5,]    1    1    1    2  142  142  142  142  142   142
 [6,]    1    1    1    1    5  142  142  142  142   142
 [7,]    1    1    1    1    1  142  142  142  142   142
 [8,]    1    1    1    1    1  142  142  142  142   206
 [9,]    1    1    1    1    1  142  142  142  206   206
[10,]    1    1    1    1  141  141  142  206  206   206

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 15:44:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Aug 2001 14:44:26 +0100 (BST)
Subject: Re(2): [R] Interacting with graphics: image
In-Reply-To: <Pine.OSF.3.96.1010801143834.19829K-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0108011441350.19087-100000@gannet.stats>

On Wed, 1 Aug 2001, Agustin Lobo wrote:

[...]

> I had tried something similar, but this is non-interactive.
> locator() collects n points and then outputs the result as a list. What
> I'm
> trying to do is to browse the image values on the screen, for which
> I would need locator() to output the x,y coordinate after each
> click with the mouse. If I use locator(n=1) I get the x,y coordinate,
> but then the function ends. I think that an option to output one
> coordinate at each click would be good in the future.

Impossible.  R is single-threaded, and so locator() has to end before
anything returned is accessible to any other code. You need to use a loop
(as you did).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.robinson at utoronto.ca  Wed Aug  1 17:05:34 2001
From: m.robinson at utoronto.ca (Mark Robinson)
Date: Wed, 01 Aug 2001 11:05:34 -0400
Subject: [R] clustering question ... hclust & kmeans
Message-ID: <3B681ABE.29391A9B@utoronto.ca>

I am using R 1.3.0 on Windows 2000.

For an experiment, I am wanting to find the most diverse 400 items to
study in a possible 3200 items.  Diversity here is based on a few
hundred attributes.  For this, I would like to do a clustering analysis
and find 400 clusters (i.e. different from each other in some way
hopefully).  From each of these 400 clusters, I will pick a
representative.  I expect many of these clusters will have just one
item.  I am planning to do this using a variety of different clustering
methods.

What I am wondering is if there is any way to retrieve from hclust the
cluster membership after I cut off the tree.  That is, if I cut the tree
to segregate into my 400 clusters, is there any way to find which item
goes into which cluster ... similar to the way kmeans returns "cluster"?

Many thanks,
M.

Mark Robinson (m.robinson at utoronto.ca), M.Sc.
Statistician, Best Institute, University of Toronto

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  1 17:14:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Aug 2001 16:14:27 +0100 (BST)
Subject: [R] clustering question ... hclust & kmeans
In-Reply-To: <3B681ABE.29391A9B@utoronto.ca>
Message-ID: <Pine.LNX.4.31.0108011610260.22876-100000@gannet.stats>

On Wed, 1 Aug 2001, Mark Robinson wrote:

> I am using R 1.3.0 on Windows 2000.
>
> For an experiment, I am wanting to find the most diverse 400 items to
> study in a possible 3200 items.  Diversity here is based on a few
> hundred attributes.  For this, I would like to do a clustering analysis
> and find 400 clusters (i.e. different from each other in some way
> hopefully).  From each of these 400 clusters, I will pick a
> representative.  I expect many of these clusters will have just one
> item.  I am planning to do this using a variety of different clustering
> methods.
>
> What I am wondering is if there is any way to retrieve from hclust the
> cluster membership after I cut off the tree.  That is, if I cut the tree
> to segregate into my 400 clusters, is there any way to find which item
> goes into which cluster ... similar to the way kmeans returns "cluster"?

Have you tried this?  Hierarchical clustering on 3200 items takes quite a
lot of memory, so I hope you have lots.

cutree will cut a tree into k(=400) clusters, and return a vector of group
membership just like kmeans.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.robinson at utoronto.ca  Wed Aug  1 17:44:50 2001
From: m.robinson at utoronto.ca (Mark Robinson)
Date: Wed, 1 Aug 2001 11:44:50 -0400
Subject: [R] clustering question ... hclust & kmeans
In-Reply-To: <Pine.LNX.4.31.0108011610260.22876-100000@gannet.stats>
Message-ID: <PEEFIKFPOKNLCPLHHPMLMECLCAAA.m.robinson@utoronto.ca>


> Have you tried this?  Hierarchical clustering on 3200 items takes quite a
> lot of memory, so I hope you have lots.

Windows doesn't like it much but the 512Mb RAM helps.

> cutree will cut a tree into k(=400) clusters, and return a vector of group
> membership just like kmeans.

Many Thanks.


I also want to be able to do this 400-cluster approach in kmeans.  I am
getting a message like the following, for even 40 clusters and 2000
iterations.

> xxx<-kmeans( gene.clus, 40, 2000 )
Error in switch(Z$ifault, stop("empty cluster: try a better set of initial
centers"),  :
        empty cluster: try a better set of initial centers

Perhaps doing kmeans in this way is a unreasonable.  I plan to make the
initial clusters as the 400 most representative clusters from "cutree"
above.  Maybe that'll help

I would also like to explore divisive clustering as well.  From my
understanding, this is not included in the R "cluster" library.  Anybody
written anything to do this?

M.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur67 at yahoo.com  Wed Aug  1 19:00:33 2001
From: sarthur67 at yahoo.com (Stephen Arthur)
Date: Wed, 1 Aug 2001 10:00:33 -0700 (PDT)
Subject: [R] Plotting question and Control Charts
Message-ID: <20010801170033.52068.qmail@web11102.mail.yahoo.com>

Hi,

In R, how does one make a plot 

plot(x,y)

where x and y are either continuous or discrete but
you want to plot point (and lines) separately on the
same graph for a third variable, I guess factor, z?

In SAS this could be done by doing:

plot x*y = z;

Any help out there.

Also, what are R's capabilities for producing 'control
charts' and 'pareto charts'.  I haven't really worked
with them before so I don't know what it entails.  

Thanks,

steve

__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Wed Aug  1 21:32:51 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 1 Aug 2001 15:32:51 -0400
Subject: [R] italics and not in main=
Message-ID: <016701c11ac0$c0eb3e90$c5093586@STEVENS>

R 1.3.0, windows
I've checked archives, and examples in text, mtext, and title.
I am trying to include italicized text in the main title of a figure:

....,
main = "[italics here] species name [italics stop] more plain text"

TIA,
Henry


*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  1 22:06:01 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2001 22:06:01 +0200
Subject: [R] italics and not in main=
In-Reply-To: "Martin Henry H. Stevens"'s message of "Wed, 1 Aug 2001 15:32:51 -0400"
References: <016701c11ac0$c0eb3e90$c5093586@STEVENS>
Message-ID: <x2ofpzr1ee.fsf@blueberry.kubism.ku.dk>

"Martin Henry H. Stevens" <hstevens at muohio.edu> writes:

> R 1.3.0, windows
> I've checked archives, and examples in text, mtext, and title.
> I am trying to include italicized text in the main title of a figure:
> 
> ....,
> main = "[italics here] species name [italics stop] more plain text"
> 
> TIA,
> Henry

You forgot to check plotmath:

main=expression(italic("species name")*" more plain text")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HIGGS_RICHARD_E_JR at lilly.com  Thu Aug  2 00:26:01 2001
From: HIGGS_RICHARD_E_JR at lilly.com (HIGGS_RICHARD_E_JR@lilly.com)
Date: Wed, 01 Aug 2001 17:26:01 -0500
Subject: [R] Calling rcmd.exe from a CGI
Message-ID: <OF13196418.FB944274-ON05256A9B.007919D2@d51.lilly.com>

I have a web cgi running on Win NT (version 4, service pack 5) that 
executes a perl program (call it foo.pl).
foo.pl reads and conditions some data files, creates a summary data file 
for R, and then forks rcmd.exe (version 1.2.2) in BATCH mode (all of this 
is taking place on an NT box). 
foo.pl works fine if run from a command line (i.e. there are no apparent 
bugs in foo.pl and my R program that foo.pl executes). 
If foo.pl is run from the cgi, rcmd.exe does not do anything (no batch 
output/error file is written, nothing in the R program is apparently 
executed).

I've interfaced Splus to cgi's in this way on UNIX and run into this same 
problem.
The problem was resolved by defining some required environment variables 
that Splus needed prior to forking off Splus in a batch mode.

I suspect that the same thing might be happening here - there are some 
environment variables that are not set when rcmd.exe is forked.
I have set the R_HOME environment variable in the cgi prior to executing 
foo.pl and I've verified that R_HOME is set in foo.pl when it forks 
rcmd.exe but that wasn't enough to resolve the problem.

Are there any other required environment variables for rcmd.exe?
I know there are other ways to interace R to a browser but I am currently 
restricted to the scheme described above.

Thanks in advance and I'll summarize any responses,
Rick Higgs
higgs at lilly.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010801/1c7bf18d/attachment.html

From jonqli at labs.agilent.com  Wed Aug  1 17:34:30 2001
From: jonqli at labs.agilent.com (Jonathan Qiang Li)
Date: Wed, 01 Aug 2001 08:34:30 -0700
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
References: <Pine.GSO.3.95q.1010801110526.705A-100000@sun22.math.uni-hamburg.de>
Message-ID: <3B682186.C44C5DD4@labs.agilent.com>

Thanks for help.

Rather than using emclust(), using me() directly with  kmeans-induced
initial starting parameters
seems to work better (not sure how much since to get results I have to
sample the data pretty aggressively). 

But I still found that when I have data with more than 10,000 obs,
it takes the routine painfully long time to converge. I understand that
the speed of 
convergence for EM algorithm is data-dependent and in general very slow.
But do people have some benchmark
estimate for the relationship between the sample size and the
computation time using R from their experience? Can also
some one point out some references/packages for speeding up EM,
especially when sample size and 
dimension are not trivial? (not exactly a R-related question, but I
thought people on this list would be interested in such problems).

Regards,
Jonathan

Christian Hennig wrote:
> 
> On Tue, 31 Jul 2001, Jonathan Qiang Li wrote:
> 


> > Hi,
> >
> > Has someone tried to use mclust package function emclust() to fit a
> > mixture of gaussian model for a relatively large dataset?
> > By "large", I specifically have in mind a data set with 50,000
> > observations and 23 dimensions. My machine has 750M memory and 500M swap
> > space. When I tried to use emclust on the dataset, I consistently get
> > messages such as "Error: cannot allocate vector of size 1991669 Kb". In
> > other words does this mean that R is trying to allocate almost 2000Mb
> > space? Should this be considered abnormal?
> 
> No. I recently talked to A.E.Raftery, one of the designers of the Splus
> original, and he said that there are indeed problems with datasets of more
> than, say, 10000 observations. He said that it is the number of observations
> that matters, not the dimension. The main problem is, according to him,
> the hierarchical routine which leads to the initial partition. He suggests
> to take a random subsample of size 100-1000 and to generate initial starting
> parameters from the subsample. I cannot tell you the details, because I
> have not tried this until now. But the principle is that you can tell
> emclust/mclust somehow, how the starting values are generated and the default,
> the memory intensive hierarchical clustering, must be replaced by some fixed
> starting configuration obtained from a subsample.
> 
> Another hint is that for high dimensions it is not advisable to calculate
> the "VVV"-model because of the high probability for spurious local maxima of
> the likelihood.
> 
> Hope that helps,
> Christian
> 
> ***********************************************************************
> Christian Hennig
> University of Hamburg, Faculty of Mathematics - SPST/ZMS
>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>  Zentrum fuer Modellierung und Simulation)
> Bundesstrasse 55, D-20146 Hamburg, Germany
> Tel: x40/42838 4907, privat x40/631 62 79
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.ridall at fsc.qut.edu.au  Thu Aug  2 03:42:55 2001
From: g.ridall at fsc.qut.edu.au (Gareth Ridall)
Date: Thu, 02 Aug 2001 11:42:55 +1000
Subject: [R] Nelder-Meade simplex algorithm
Message-ID: <4.3.2.20010802113955.0109ca70@einstein.math.sci.qut.edu.au>

I am looking for an implementation of the Nelder-Meade simplex algorithm 
for non-linear optimisation. Has anyone imported a program that will do 
this in R?.
Thanks for your help
Gareth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.rimmer at marketshare.com.au  Thu Aug  2 03:51:22 2001
From: james.rimmer at marketshare.com.au (James Rimmer)
Date: Thu, 2 Aug 2001 11:51:22 +1000 
Subject: [R] xdr real data read error
Message-ID: <0C2C49DCA9C8D311B2980000E20E9D55376AF8@SBSSERVER>

Hello all

I have received a message when attempting to load a workspace in R1.3, which
reads: 'an xdr real data read error occured'. Has anyone come across this
error message before?

With thanks
James Rimmer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Thu Aug  2 04:17:58 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Wed, 1 Aug 2001 22:17:58 -0400 (EDT)
Subject: [R] xdr real data read error
In-Reply-To: <0C2C49DCA9C8D311B2980000E20E9D55376AF8@SBSSERVER>
Message-ID: <Pine.LNX.4.21.0108012216550.29082-100000@ln.nimh.nih.gov>


I have received this error a few times.  It always seems to go away when I
try again (just relaunching), so I haven't been motivated to dig.

Matt


On Thu, 2 Aug 2001, James Rimmer wrote:

> Hello all
> 
> I have received a message when attempting to load a workspace in R1.3, which
> reads: 'an xdr real data read error occured'. Has anyone come across this
> error message before?
> 
> With thanks
> James Rimmer
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Aug  2 05:03:43 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 1 Aug 2001 20:03:43 -0700
Subject: [R] Is there a test for .Alias?
Message-ID: <KKEGJOGBELBHDIKPINBMOEOJCFAA.hb@maths.lth.se>

Is there a way to check if a variable is aliases to another? Example:

  x <- list(a=1, b=2, c=3)
  y <- .Alias(x)

Can one tell that 'y' is an alias to another object? By the way, is it a
correct statement to say that 'y' is aliased TO 'x', or is both 'x' and 'y'
said to be aliased to an internal object?

Example continued:

  y$a <- NULL  # Here 'y' becomes a shallow copy since the slot 'a' is
removed.
  y$a <- 1

Is there an is.Alias(y)? I could see how to do a is.AliasedTo(y, x) by
testing if a modification in 'y' is reflected in 'x'. The reason for using
.Alias is that I would like to use it because of memory and speed issues in
function calls etc.


Thanks to everyone

Henrik Bengtsson
Statistics Department
Lund University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Thu Aug  2 05:15:01 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Wed, 1 Aug 2001 21:15:01 -0600
Subject: [R] Nelder-Meade simplex algorithm
References: <4.3.2.20010802113955.0109ca70@einstein.math.sci.qut.edu.au>
Message-ID: <002d01c11b01$51afd680$1d57e43f@91qez>

The general purpose optimization function "optim" will apply the Nelder-Mead
algorithm by default. Type "?optim" for help.

-Bill

----- Original Message -----
From: "Gareth Ridall" <g.ridall at fsc.qut.edu.au>
To: <R-help at stat.math.ethz.ch>
Sent: Wednesday, August 01, 2001 7:42 PM
Subject: [R] Nelder-Meade simplex algorithm


> I am looking for an implementation of the Nelder-Meade simplex algorithm
> for non-linear optimisation. Has anyone imported a program that will do
> this in R?.
> Thanks for your help
> Gareth
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Aug  2 06:22:56 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 02 Aug 2001 16:22:56 +1200
Subject: [R] fitting mixture of gaussians using emclust() of mclust
  package
In-Reply-To: <3B682186.C44C5DD4@labs.agilent.com>
References: <Pine.GSO.3.95q.1010801110526.705A-100000@sun22.math.uni-hamburg.de>
Message-ID: <200108020423.QAA20616@gosset.stats.waikato.ac.nz>

Jonathan,

I have no direct experience with mclust, but I have used Multimix, a similar
program whose design I was involved in.

I believe that one way to speed up EM for mixtures is to allocate all
observations to clusters according to an unconverged set of parameters,
then to
re-start the algorithm using this as the initial clustering.

Another way might be to slip in a stochastic EM step, where observations are
allocated probabilistically to clusters using the current values of the
observation-specific cluster membership probabilities.

If clustering is your main purpose in fitting the mixture model then complete
convergence may not be all that important as clusters tend to stabilize
quite a
while before the parameter estimates.

Multimix is written in Fortran77 and also copes with categorical variables in
addition to gaussian. You may download it from my home page along with some
documentation. I would appreciate feedback on how well it copes with your data
if you use it. You will need to adjust some array bounds and recompile to tune
it to your data set.

Murray Jorgensen

At 08:34 AM 1-08-01 -0700, you wrote:
>Thanks for help.
>
>Rather than using emclust(), using me() directly with  kmeans-induced
>initial starting parameters
>seems to work better (not sure how much since to get results I have to
>sample the data pretty aggressively). 
>
>But I still found that when I have data with more than 10,000 obs,
>it takes the routine painfully long time to converge. I understand that
>the speed of 
>convergence for EM algorithm is data-dependent and in general very slow.
>But do people have some benchmark
>estimate for the relationship between the sample size and the
>computation time using R from their experience? Can also
>some one point out some references/packages for speeding up EM,
>especially when sample size and 
>dimension are not trivial? (not exactly a R-related question, but I
>thought people on this list would be interested in such problems).
>
>Regards,
>Jonathan
>
>Christian Hennig wrote:
>> 
>> On Tue, 31 Jul 2001, Jonathan Qiang Li wrote:
>> 
>
>
>> > Hi,
>> >
>> > Has someone tried to use mclust package function emclust() to fit a
>> > mixture of gaussian model for a relatively large dataset?
>> > By "large", I specifically have in mind a data set with 50,000
>> > observations and 23 dimensions. My machine has 750M memory and 500M swap
>> > space. When I tried to use emclust on the dataset, I consistently get
>> > messages such as "Error: cannot allocate vector of size 1991669 Kb". In
>> > other words does this mean that R is trying to allocate almost 2000Mb
>> > space? Should this be considered abnormal?
>> 
>> No. I recently talked to A.E.Raftery, one of the designers of the Splus
>> original, and he said that there are indeed problems with datasets of more
>> than, say, 10000 observations. He said that it is the number of
observations
>> that matters, not the dimension. The main problem is, according to him,
>> the hierarchical routine which leads to the initial partition. He suggests
>> to take a random subsample of size 100-1000 and to generate initial
starting
>> parameters from the subsample. I cannot tell you the details, because I
>> have not tried this until now. But the principle is that you can tell
>> emclust/mclust somehow, how the starting values are generated and the
default,
>> the memory intensive hierarchical clustering, must be replaced by some
fixed
>> starting configuration obtained from a subsample.
>> 
>> Another hint is that for high dimensions it is not advisable to calculate
>> the "VVV"-model because of the high probability for spurious local
maxima of
>> the likelihood.
>> 
>> Hope that helps,
>> Christian
>> 
>> ***********************************************************************
>> Christian Hennig
>> University of Hamburg, Faculty of Mathematics - SPST/ZMS
>>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>>  Zentrum fuer Modellierung und Simulation)
>> Bundesstrasse 55, D-20146 Hamburg, Germany
>> Tel: x40/42838 4907, privat x40/631 62 79
>> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
>> #######################################################################
>> ich empfehle www.boag.de
>
>-- 
>Jonathan Q. Li, PhD
>Agilent Technologies Laboratory
>Palo Alto, California, USA
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>  
Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  2 08:35:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Aug 2001 07:35:43 +0100 (BST)
Subject: [R] Nelder-Meade simplex algorithm
In-Reply-To: <4.3.2.20010802113955.0109ca70@einstein.math.sci.qut.edu.au>
Message-ID: <Pine.GSO.4.31.0108020734570.1699-100000@auk.stats>

1) He is Roger Mead, not Meade.

2) See ?optim.


On Thu, 2 Aug 2001, Gareth Ridall wrote:

> I am looking for an implementation of the Nelder-Meade simplex algorithm
> for non-linear optimisation. Has anyone imported a program that will do
> this in R?.
> Thanks for your help
> Gareth
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  2 08:44:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Aug 2001 07:44:41 +0100 (BST)
Subject: [R] xdr real data read error
In-Reply-To: <0C2C49DCA9C8D311B2980000E20E9D55376AF8@SBSSERVER>
Message-ID: <Pine.GSO.4.31.0108020742240.1699-100000@auk.stats>

On Thu, 2 Aug 2001, James Rimmer wrote:

> Hello all
>
> I have received a message when attempting to load a workspace in R1.3, which
> reads: 'an xdr real data read error occured'. Has anyone come across this
> error message before?

It means that either your file is corrupt or your file reading system is
corrupt.  We've seen it with large workspaces on networked file systems
when a switch was dropping packets (it transpired).

In short, look to your hardware, not R.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Aug  2 11:38:21 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 2 Aug 2001 11:38:21 +0200 (MET DST)
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
In-Reply-To: <3B682186.C44C5DD4@labs.agilent.com>
Message-ID: <Pine.GSO.3.95q.1010802113631.2056D-100000@sun22.math.uni-hamburg.de>

Dear Jonathan,

Chapter 12 of G. McLachlan, D. Peel "Finite Mixture Models", Wiley, NY 2000
is devoted to this topic and contains lots of further references.

Regards,
Christian

On Wed, 1 Aug 2001, Jonathan Qiang Li wrote:

> Thanks for help.
> 
> Rather than using emclust(), using me() directly with  kmeans-induced
> initial starting parameters
> seems to work better (not sure how much since to get results I have to
> sample the data pretty aggressively). 
> 
> But I still found that when I have data with more than 10,000 obs,
> it takes the routine painfully long time to converge. I understand that
> the speed of 
> convergence for EM algorithm is data-dependent and in general very slow.
> But do people have some benchmark
> estimate for the relationship between the sample size and the
> computation time using R from their experience? Can also
> some one point out some references/packages for speeding up EM,
> especially when sample size and 
> dimension are not trivial? (not exactly a R-related question, but I
> thought people on this list would be interested in such problems).
> 
> Regards,
> Jonathan


***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Thu Aug  2 16:52:21 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 2 Aug 2001 10:52:21 -0400
Subject: [R] italics and not in main=
References: <016701c11ac0$c0eb3e90$c5093586@STEVENS> <x2ofpzr1ee.fsf@blueberry.kubism.ku.dk>
Message-ID: <007501c11b62$bba03bf0$c5093586@STEVENS>

Thank you to Peter D. and Frank H. for info on italics in plots.

----- Original Message ----- 
From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
To: "Martin Henry H. Stevens" <hstevens at muohio.edu>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 01, 2001 4:06 PM
Subject: Re: [R] italics and not in main=


> "Martin Henry H. Stevens" <hstevens at muohio.edu> writes:
> 
> > R 1.3.0, windows
> > I've checked archives, and examples in text, mtext, and title.
> > I am trying to include italicized text in the main title of a figure:
> > 
> > ....,
> > main = "[italics here] species name [italics stop] more plain text"
> > 
> > TIA,
> > Henry
> 
> You forgot to check plotmath:
> 
> main=expression(italic("species name")*" more plain text")
> 
My favorite solution is to use the psfrag style in LaTeX.
You can get psfrag.sty from CTAN if your latex does not have it
already.  I have attached an example from S-Plus that 
with minor changes will work with R.  -Frank Harrell

"tex  <-  function(string, lref='c', psref='c', scale=1, srt=0) 
  paste('\\tex[',lref,'][',psref,'][',
        format(scale),'][',format(srt),']{',string,'}',sep='')

setps(psfrag, toplines=1)
x <- seq(0,15,length=100)
plot(x, dchisq(x, 5), xlab=tex('$x$'),
        ylab=tex('$f(x)$'), type='l')
title(tex('Density Function of the $\\chi_{5}^{2}$ Distribution'))
dev.off()    

The Hmisc setps function uses nice defaults for making small postscript
graphs for reports and books.

The LaTeX code to insert this graph can look like:

\documentclass{article}
\usepackage[scanall]{psfrag}
\begin{document}
\begin{figure}
\includegraphics{psfrag.ps}
\caption{This is the example}
\end{figure}
\end{document}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spoon at hilbert.maths.utas.edu.au  Thu Aug  2 17:18:14 2001
From: spoon at hilbert.maths.utas.edu.au (spoon)
Date: Fri, 3 Aug 2001 01:18:14 +1000 (EST)
Subject: [R] residuals from aov/Error
Message-ID: <200108021518.BAA09372@hilbert.maths.utas.edu.au>

Hi,
	Can I trouble someone for an explanation of residuals from a
call to aov with an Error term?  I must admit I really do not
understand this well at all and would be very thankful for any
explanations or even pointers to a good text.

Thanks

Simon


-- 
*****************************************************************
*  Simon Wotherspoon                               _--_|\       *
*  Maths Dept, University of Tasmania             /  Aus \      *
*  Tasmania, Australia                            \_.--._/      *
*  spoon at hilbert.maths.utas.edu.au                      v       *
*****************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  2 17:29:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 Aug 2001 08:29:21 -0700 (PDT)
Subject: [R] Is there a test for .Alias?
In-Reply-To: <KKEGJOGBELBHDIKPINBMOEOJCFAA.hb@maths.lth.se>
Message-ID: <Pine.A41.4.33.0108020827400.134422-100000@homer28.u.washington.edu>

On Wed, 1 Aug 2001, Henrik Bengtsson wrote:

> Is there a way to check if a variable is aliases to another? Example:
>
>   x <- list(a=1, b=2, c=3)
>   y <- .Alias(x)
>
> Can one tell that 'y' is an alias to another object? By the way, is it a
> correct statement to say that 'y' is aliased TO 'x', or is both 'x' and 'y'
> said to be aliased to an internal object?

The correct statement is that, since .Alias shouldn't be used, 'y' is not
aliased to 'x'.

You can't tell except in internal C code by checking that the objects are
pointers to the same place.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bigler at fowi.ethz.ch  Thu Aug  2 17:56:06 2001
From: bigler at fowi.ethz.ch (Christof Bigler)
Date: Thu, 2 Aug 2001 17:56:06 +0200
Subject: [R] sample()
Message-ID: <p05100314b78f25794baf@[129.132.201.31]>

Dear R users,

is there a way to extract directly rows instead of column vectors 
using the function sample()?
I have already tried to transpose and back-transpose my dataframe, 
but I couldn't manage to get rid off the levels in the resulting 
dataframe.

Macintosh G4 (Mac OS9.1), R Version 1.3.0

Any help is welcome!

Christof

-- 
Christof Bigler
Mountain Forest Ecology
ETH-Zentrum HG G21.4
CH-8092 Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From AHill at genetics.com  Thu Aug  2 17:59:56 2001
From: AHill at genetics.com (Andrew Hill)
Date: Thu, 02 Aug 2001 11:59:56 -0400
Subject: [R] problem in making R from sources on SGI IRIX
Message-ID: <sb6940e1.096@genetics.com>

Hello all,

I am trying to install R 1.3.0 on SGI IRIX.  I downloaded the .tar from CRAN, unpacked it and executed the following commands from the top level directory:

./configure
make

The ./configure completes OK, with the final summary output:
--------------------
R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

-----------------
Following that, the make appears to complete OK with some non-fatal linker warnings.  I then run "make check" and get the following error message:
---------------
22 gomez R-1.3.0> make check
creating tests/Makefile
creating tests/Examples/Makefile
don't know how to make ../../library/base/R/base (bu42).
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
------------------

At this point, if I try running R (i.e. the "R" script in the /bin directory) I get the following fatal error:
-----------------------------
25 gomez bin> R

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

Fatal error: unable to open the base package
----------------------------

Can anyone offer any advice on what my problem is?  I guess that the base package is not being made properly?  Any help would be appreciated.

Andrew Hill.
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  2 18:07:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 Aug 2001 09:07:48 -0700 (PDT)
Subject: [R] sample()
In-Reply-To: <p05100314b78f25794baf@[129.132.201.31]>
Message-ID: <Pine.A41.4.33.0108020904150.134422-100000@homer28.u.washington.edu>

On Thu, 2 Aug 2001, Christof Bigler wrote:

> Dear R users,
>
> is there a way to extract directly rows instead of column vectors
> using the function sample()?
> I have already tried to transpose and back-transpose my dataframe,
> but I couldn't manage to get rid off the levels in the resulting
> dataframe.
>

Sample from 1:n (or from the row names) and use this as an index to the
dataframe

eg
data(trees)
index<-seq(length=NROW(trees))
trees[sample(index,10),]

or
library(MASS)
data(hills)
hills[sample(rownames(hills),10),]


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu Aug  2 18:20:38 2001
From: york at noaa.gov (Anne York)
Date: Thu, 2 Aug 2001 09:20:38 -0700 (PDT)
Subject: [R] mathematical expressions in axes labels
Message-ID: <Pine.GSO.4.05.10108020902500.24837-100000@ofis450a.akctr.noaa.gov>

Here are two expressions that am using as axes labels:


deln15.lab <- expression(delta^15*N)
delc13.lab <- expression(delta^13*C)


#I was pleasantly surprised that the axes labels on the
#following 2 plots were the same. 

par(mfrow=c(2,2))
plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)
matplot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)

#The only difference in the plots (that I noticed) 
#was that matplot did not use
#the default plotting characters specified
#in my .First function.
#
#plot also appears to be able to use expressions in the title:

plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab, main =
	expression(alpha~~beta~~gamma~~delta))

#THis may be machine dependent -- this was run on R1.3.0 on Windows NT 4
#SP6.




~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Aug  2 18:35:58 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 2 Aug 2001 09:35:58 -0700
Subject: [R] Is there a test for .Alias?
In-Reply-To: <Pine.A41.4.33.0108020827400.134422-100000@homer28.u.washington.edu>
Message-ID: <KKEGJOGBELBHDIKPINBMMEOPCFAA.hb@maths.lth.se>

Thanks for your quick reply!

I know you have said it before (r-help list, March 23, 2001): .Alias "should
not be used", but... is it not even "allowed" in cases where you have a
function modifying one single element in a HUGE data frame? I know that you
know about this, but if you are not using .Alias and trying to do the
following on a small system you will run out of memory and/or it take a long
time:

foo <- function(x) {
  x$a[1] <- x$a[1] + 1
  x
}

bar <- function(x) {
  x <- .Alias(x)
  x$a[1] <- x$a[1] + 1
}

df <- data.frame(a=rep(0,1e6))
object.size(df)            # 20,000,356 bytes

gc()
m0 <- memory.size()
system.time(df <- foo(df)) # NA NA 29.45 NA NA
m1 <- memory.size()
m1-m0                      # 24,000,224 bytes (!!!)

gc()
m0 <- memory.size()
system.time(bar(df)) # NA NA 0 NA NA
m1 <- memory.size()
m1-m0                      # 72 bytes

I have seen on at least two different WinMe systems with default virtual
memory setup ("Lets Windows manage my virtual settings. (Recommended)") and
with clean [R] installations that the maximum memory limit for [R] is the
size of the RAM (the full, not the available). I believe this is what most
Windows are setup as. I am myself aware of this and my machine has a large
RAM so for me it is not a problem, but I am writing a package that will be
used by people with less computer skills and by experience I know that
people will just stop using something that gives an error and it doesn't
matter how great the package is.

This is why I am eager to use .Alias (or something else). However, if .Alias
is a "dead end" I wont use it. I can see different reasons for not using
.Alias, such as (1) strange behavior, (2) .Alias is not well defined, (3)
not compatible with S-Plus (?). I am also aware of thing like object.size(x)
will turn 'x' into a copy if 'x' was aliased.

Grateful for all help!

Henrik Bengtsson
Statistics Dept.
Lund University/UC Berkeley
hb at maths.lth.se

> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Thursday, August 02, 2001 8:29 AM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Is there a test for .Alias?
>
>
> On Wed, 1 Aug 2001, Henrik Bengtsson wrote:
>
> > Is there a way to check if a variable is aliases to another? Example:
> >
> >   x <- list(a=1, b=2, c=3)
> >   y <- .Alias(x)
> >
> > Can one tell that 'y' is an alias to another object? By the way, is it a
> > correct statement to say that 'y' is aliased TO 'x', or is both
> 'x' and 'y'
> > said to be aliased to an internal object?
>
> The correct statement is that, since .Alias shouldn't be used, 'y' is not
> aliased to 'x'.
>
> You can't tell except in internal C code by checking that the objects are
> pointers to the same place.
>
>
> 	-thomas
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Aug  2 19:06:26 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 02 Aug 2001 19:06:26 +0200
Subject: [R] mathematical expressions in axes labels
References: <Pine.GSO.4.05.10108020902500.24837-100000@ofis450a.akctr.noaa.gov>
Message-ID: <3B698892.A914BE4A@statistik.uni-dortmund.de>



Anne York wrote:
> 
> Here are two expressions that am using as axes labels:
> 
> deln15.lab <- expression(delta^15*N)
> delc13.lab <- expression(delta^13*C)
> 
> #I was pleasantly surprised that the axes labels on the
> #following 2 plots were the same.
> 
> par(mfrow=c(2,2))
> plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)
> matplot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)
> 
> #The only difference in the plots (that I noticed)
> #was that matplot did not use
> #the default plotting characters specified
> #in my .First function.
> #
> #plot also appears to be able to use expressions in the title:
> 
> plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab, main =
>         expression(alpha~~beta~~gamma~~delta))
> 
> #THis may be machine dependent -- this was run on R1.3.0 on Windows NT 4
> #SP6.


So your problem has nothing to do with the subject?

The behaviour of plotting symbols in matplot() is documented in the
help:

pch: character string or vector of 1-characters or integers for plotting
characters, see points. The first character is the plotting-character
for the first plot, the second for the second, etc. The default is the
digits (1 through 9, 0) then the letters.

So, what is your problem ???

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Thu Aug  2 12:18:30 2001
From: jonqli at labs.agilent.com (Jonathan Qiang Li)
Date: Thu, 02 Aug 2001 03:18:30 -0700
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
References: <Pine.GSO.3.95q.1010802113631.2056D-100000@sun22.math.uni-hamburg.de>
Message-ID: <3B6928F6.EB356527@labs.agilent.com>

Thanks for the pointer.
BTW, does your package implement some of these variations (such as
stochastic EM, restarting EM etc.)
or is a straight EM? 

Regards,
Jonathan

Christian Hennig wrote:
> 
> Dear Jonathan,
> 
> Chapter 12 of G. McLachlan, D. Peel "Finite Mixture Models", Wiley, NY 2000
> is devoted to this topic and contains lots of further references.
> 
> Regards,
> Christian
> 
> On Wed, 1 Aug 2001, Jonathan Qiang Li wrote:
> 
> > Thanks for help.
> >
> > Rather than using emclust(), using me() directly with  kmeans-induced
> > initial starting parameters
> > seems to work better (not sure how much since to get results I have to
> > sample the data pretty aggressively).
> >
> > But I still found that when I have data with more than 10,000 obs,
> > it takes the routine painfully long time to converge. I understand that
> > the speed of
> > convergence for EM algorithm is data-dependent and in general very slow.
> > But do people have some benchmark
> > estimate for the relationship between the sample size and the
> > computation time using R from their experience? Can also
> > some one point out some references/packages for speeding up EM,
> > especially when sample size and
> > dimension are not trivial? (not exactly a R-related question, but I
> > thought people on this list would be interested in such problems).
> >
> > Regards,
> > Jonathan
> 
> ***********************************************************************
> Christian Hennig
> University of Hamburg, Faculty of Mathematics - SPST/ZMS
>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>  Zentrum fuer Modellierung und Simulation)
> Bundesstrasse 55, D-20146 Hamburg, Germany
> Tel: x40/42838 4907, privat x40/631 62 79
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrik.waldmann at oulu.fi  Thu Aug  2 19:25:06 2001
From: patrik.waldmann at oulu.fi (Patrik Waldmann)
Date: Thu, 02 Aug 2001 20:25:06 +0300
Subject: [R] Function test
Message-ID: <3.0.6.32.20010802202506.009c6750@localhost>

Hello,

I have a time process that should follow the function y=1-exp(-t/N) where t
is time and N is sample size. I have know done some stochastic simulations
of a process that should follow the analytical function. What I would like
to know is how many simulations (or chains) I would need run before getting
an acceptable mean of the stochastic process. Any suggestions for
statistical methods that can handle this in R?

Best,


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Thu Aug  2 12:53:54 2001
From: jonqli at labs.agilent.com (Jonathan Qiang Li)
Date: Thu, 02 Aug 2001 03:53:54 -0700
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
References: <Pine.GSO.3.95q.1010802113631.2056D-100000@sun22.math.uni-hamburg.de>
Message-ID: <3B693142.DA5E7A61@labs.agilent.com>

Sorry Christian... The following question in my previous message is
meant for Murray Jorgensen. 

"BTW, does your package implement some of these variations (such as
stochastic EM, restarting EM etc.)
or is a straight EM? "




-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  2 20:08:12 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Aug 2001 20:08:12 +0200
Subject: [R] Is there a test for .Alias?
In-Reply-To: "Henrik Bengtsson"'s message of "Thu, 2 Aug 2001 09:35:58 -0700"
References: <KKEGJOGBELBHDIKPINBMMEOPCFAA.hb@maths.lth.se>
Message-ID: <x2y9p2l4hf.fsf@blueberry.kubism.ku.dk>

"Henrik Bengtsson" <hb at maths.lth.se> writes:

> Thanks for your quick reply!
> 
> I know you have said it before (r-help list, March 23, 2001): .Alias "should
> not be used", but... is it not even "allowed" in cases where you have a
> function modifying one single element in a HUGE data frame? I know that you
> know about this, but if you are not using .Alias and trying to do the
> following on a small system you will run out of memory and/or it take a long
> time:
> 
> foo <- function(x) {
>   x$a[1] <- x$a[1] + 1
>   x
> }
> 
> bar <- function(x) {
>   x <- .Alias(x)
>   x$a[1] <- x$a[1] + 1
> }

Not exactly in nice style, but

baz<-function(x)eval.parent(substitute(x$a[1] <- x$a[1] + 1))

is as fast as bar(), and at least it is well-defined what it should do

> system.time(baz(df))
[1] 0 0 0 0 0


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Aug  2 20:10:47 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 2 Aug 2001 12:10:47 -0600 (MDT)
Subject: [R] conversion of time
Message-ID: <Pine.GSO.4.05.10108021157110.27309-100000@virga.rap.ucar.edu>

Hi

I have integer values representing unix time, stored into a  simple
numeric vector, no POSIX* class inheritance of any kind. Something like 

crazylookingtimes_c(993340800.00, 993254400.00, 994809600.00)

I'd like to convert them into a format like YYDDMMHHMMSS but I cannot find
out how, at least not in the documentation on DateTimeClasses that I've
skimmed. 

Can anybody help, please?

thanks in advance

claudia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Thu Aug  2 20:43:53 2001
From: richards at upci.pitt.edu (Richards, Tom)
Date: Thu, 2 Aug 2001 14:43:53 -0400 
Subject: [R] mtext and srt
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A8D2592@mail.nsabp.pitt.edu>

Hello:

I am trying to get some text at an angle in the margins of a plot.  I was
accustomed under older versions of Splus to using srt in the mtext command,
but that seems not to work under R,

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R              

I see documented in ?mtext that one can use the las parameter to get text
either parallel to or perpendicular to the axis in question, but is there
any way to get other angles as well?  I want the two letter "X"'s to have
the same angle in the following:

plot(1:10,1:10)
text(5,5,"X",srt=30)
mtext("X",side=3,at=5,srt=30)

Can this be done in R?  Thanks for your response.

Tom Richards
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjain2 at lucent.com  Thu Aug  2 20:50:45 2001
From: rjain2 at lucent.com (Jain, Rahul (Rahul))
Date: Thu, 2 Aug 2001 14:50:45 -0400 
Subject: [R] pictex driver and bargraph shading
Message-ID: <5E96EBE0E01ED311A7490008C7071B9907757F95@NJ0319EXCH004U>

I'm trying to use the pictex driver for bargraphs, and the shading isn't
showing up. Is there any way to get some sort of shading in the plots? A
hatch or stipple would be fine, too; just some way to differentiate the
bars.

The postscript driver won't do, since I'm trying to embed this in a LaTeX
document which I'll use pdflatex on and \includegraphics for pdftex doesn't
support postscript. ps2pdf just rasterizes the ps, so it looks terrible.

I'm willing to do this another way, I just don't want to use rasterized
plots in my document.

Thanks,
-- 
Rahul Jain
rjain2 at lucent.com
908-559-6024

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  2 21:06:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 2 Aug 2001 20:06:52 +0100 (BST)
Subject: [R] Is there a test for .Alias?
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEOPCFAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.31.0108022006050.20793-100000@toucan.stats>

On Thu, 2 Aug 2001, Henrik Bengtsson wrote:

> Thanks for your quick reply!
>
> I know you have said it before (r-help list, March 23, 2001): .Alias "should
> not be used", but... is it not even "allowed" in cases where you have a
> function modifying one single element in a HUGE data frame? I know that you
> know about this, but if you are not using .Alias and trying to do the
> following on a small system you will run out of memory and/or it take a long
> time:
>
> foo <- function(x) {
>   x$a[1] <- x$a[1] + 1
>   x
> }
>
> bar <- function(x) {
>   x <- .Alias(x)
>   x$a[1] <- x$a[1] + 1
> }
>
> df <- data.frame(a=rep(0,1e6))
> object.size(df)            # 20,000,356 bytes
>
> gc()
> m0 <- memory.size()
> system.time(df <- foo(df)) # NA NA 29.45 NA NA
> m1 <- memory.size()
> m1-m0                      # 24,000,224 bytes (!!!)
>
> gc()
> m0 <- memory.size()
> system.time(bar(df)) # NA NA 0 NA NA
> m1 <- memory.size()
> m1-m0                      # 72 bytes
>
> I have seen on at least two different WinMe systems with default virtual
> memory setup ("Lets Windows manage my virtual settings. (Recommended)") and
> with clean [R] installations that the maximum memory limit for [R] is the
> size of the RAM (the full, not the available). I believe this is what most

It's the default, but you can change it: see ?Memory on Windows.

> Windows are setup as. I am myself aware of this and my machine has a large
> RAM so for me it is not a problem, but I am writing a package that will be
> used by people with less computer skills and by experience I know that
> people will just stop using something that gives an error and it doesn't
> matter how great the package is.
>
> This is why I am eager to use .Alias (or something else). However, if .Alias
> is a "dead end" I wont use it. I can see different reasons for not using
> .Alias, such as (1) strange behavior, (2) .Alias is not well defined, (3)
> not compatible with S-Plus (?). I am also aware of thing like object.size(x)
> will turn 'x' into a copy if 'x' was aliased.
>
> Grateful for all help!
>
> Henrik Bengtsson
> Statistics Dept.
> Lund University/UC Berkeley
> hb at maths.lth.se
>
> > -----Original Message-----
> > From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> > Sent: Thursday, August 02, 2001 8:29 AM
> > To: Henrik Bengtsson
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] Is there a test for .Alias?
> >
> >
> > On Wed, 1 Aug 2001, Henrik Bengtsson wrote:
> >
> > > Is there a way to check if a variable is aliases to another? Example:
> > >
> > >   x <- list(a=1, b=2, c=3)
> > >   y <- .Alias(x)
> > >
> > > Can one tell that 'y' is an alias to another object? By the way, is it a
> > > correct statement to say that 'y' is aliased TO 'x', or is both
> > 'x' and 'y'
> > > said to be aliased to an internal object?
> >
> > The correct statement is that, since .Alias shouldn't be used, 'y' is not
> > aliased to 'x'.
> >
> > You can't tell except in internal C code by checking that the objects are
> > pointers to the same place.
> >
> >
> > 	-thomas
> >
> > Thomas Lumley			Asst. Professor, Biostatistics
> > tlumley at u.washington.edu	University of Washington, Seattle
> >
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  2 21:13:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 2 Aug 2001 20:13:07 +0100 (BST)
Subject: [R] conversion of time
In-Reply-To: <Pine.GSO.4.05.10108021157110.27309-100000@virga.rap.ucar.edu>
Message-ID: <Pine.GSO.4.31.0108022009030.20793-100000@toucan.stats>

On Thu, 2 Aug 2001, Claudia Tebaldi wrote:

> Hi
>
> I have integer values representing unix time, stored into a  simple
> numeric vector, no POSIX* class inheritance of any kind. Something like
>
> crazylookingtimes_c(993340800.00, 993254400.00, 994809600.00)
>
> I'd like to convert them into a format like YYDDMMHHMMSS but I cannot find
> out how, at least not in the documentation on DateTimeClasses that I've
> skimmed.

Is

crazylookingtimes <- c(993340800.00, 993254400.00, 994809600.00)
class(crazylookingtimes) <- "POSIXct"
[1] "2001-06-24 01:00:00 BST" "2001-06-23 01:00:00 BST"
[3] "2001-07-11 01:00:00 BST"

what you wanted (probably not in that time zone)? Or

format(crazylookingtimes, "%y%d%m%H%M%S")
[1] "012406010000" "012306010000" "011107010000"

if you really want an illogical format like YYDDMMHHMMSS ....

See our article in the latest Rnews for more background details.
It would be pretty unusula to have raw Unix times.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  2 21:16:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 2 Aug 2001 20:16:01 +0100 (BST)
Subject: [R] pictex driver and bargraph shading
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F95@NJ0319EXCH004U>
Message-ID: <Pine.GSO.4.31.0108022013310.20793-100000@toucan.stats>

On Thu, 2 Aug 2001, Jain, Rahul (Rahul) wrote:

> I'm trying to use the pictex driver for bargraphs, and the shading isn't
> showing up. Is there any way to get some sort of shading in the plots? A
> hatch or stipple would be fine, too; just some way to differentiate the
> bars.

The pictex driver has very limited support.

> The postscript driver won't do, since I'm trying to embed this in a LaTeX
> document which I'll use pdflatex on and \includegraphics for pdftex doesn't
> support postscript. ps2pdf just rasterizes the ps, so it looks terrible.

What ps2pdf is that?  It shouldn't in a recent ghostscript.

> I'm willing to do this another way, I just don't want to use rasterized
> plots in my document.

What's wrong with using the pdf() driver if you want pdf?

Alternatively, use the xfig() driver and some suitable back-end.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Aug  2 21:47:39 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 2 Aug 2001 21:47:39 +0200 (MET DST)
Subject: [R] Package GSS for interpolation in more than 2D?
Message-ID: <Pine.OSF.4.30.0108022101060.11932-100000@alnair.uio.no>

Dear all,

There has been some time since I asked about interpolation in higher (>2)
dimensions, and I must admit I failed to write a function to do this
myself the last time, but eventually ended up doing it in MATLAB. I tried
to translate the MATLAB code, but MATLAB code is so much more opaque than
R (S) code, so I failed that too, mainly because I could only get one
MATLAB session, I would add... ;-)

I'm now reviewing the packages, and I was wondering whether gss could do
what I need? The data I have are not random (at least not very... ;-) ),
and I really don't need smoothing splines, but I figured, if smoothing
splines is an extension of normal splines, it might do the job. If it
can, may I then ask how?

My problem:
In the simplest case, I have two data.frames: For each of the data.frames
The three first coloumns make up a 3D grid (I'd like to go up to at least
5), and the fourth coloumn contains the values for the point specified in
the first three.

The smaller data.frame, may have been generated by e.g.
expand.grid(ntotalclouds=seq(1000000, 12000000, length=2),
                            EW=seq(8,25,length=3),
                            numberofbins=seq(100, 1000, length=3))
while the larger data.frame may look like
argsspacex50 <- expand.grid(ntotalclouds=seq(1000000, 12000000, length=6),
                            EW=seq(8,25,length=6),
                            numberofbins=seq(100, 1000, length=7))
what I want to do, is simply to interpolate the data in the smaller
data.frame so that I get a new data.frame where the three first coloumns
are identical to the larger data.frame and contains interpolated data at
the corresponding points.

Any advices?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Aug  2 23:02:57 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Thu, 2 Aug 2001 16:02:57 -0500
Subject: [R] Package GSS for interpolation in more than 2D?
In-Reply-To: <Pine.OSF.4.30.0108022101060.11932-100000@alnair.uio.no> (message
	from Kjetil Kjernsmo on Thu, 2 Aug 2001 21:47:39 +0200 (MET DST))
Message-ID: <200108022102.QAA98218@odds.stat.purdue.edu>


Try to use method="u" in ssanova and set varht to a very small number.
Never tried that so am not sure whether it would be numerically
stable.

Chong Gu


   Date: Thu, 2 Aug 2001 21:47:39 +0200 (MET DST)
   From: Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no>
   X-Sender:  <kjetikj at alnair.uio.no>
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Dear all,

   There has been some time since I asked about interpolation in higher (>2)
   dimensions, and I must admit I failed to write a function to do this
   myself the last time, but eventually ended up doing it in MATLAB. I tried
   to translate the MATLAB code, but MATLAB code is so much more opaque than
   R (S) code, so I failed that too, mainly because I could only get one
   MATLAB session, I would add... ;-)

   I'm now reviewing the packages, and I was wondering whether gss could do
   what I need? The data I have are not random (at least not very... ;-) ),
   and I really don't need smoothing splines, but I figured, if smoothing
   splines is an extension of normal splines, it might do the job. If it
   can, may I then ask how?

   My problem:
   In the simplest case, I have two data.frames: For each of the data.frames
   The three first coloumns make up a 3D grid (I'd like to go up to at least
   5), and the fourth coloumn contains the values for the point specified in
   the first three.

   The smaller data.frame, may have been generated by e.g.
   expand.grid(ntotalclouds=seq(1000000, 12000000, length=2),
			       EW=seq(8,25,length=3),
			       numberofbins=seq(100, 1000, length=3))
   while the larger data.frame may look like
   argsspacex50 <- expand.grid(ntotalclouds=seq(1000000, 12000000, length=6),
			       EW=seq(8,25,length=6),
			       numberofbins=seq(100, 1000, length=7))
   what I want to do, is simply to interpolate the data in the smaller
   data.frame so that I get a new data.frame where the three first coloumns
   are identical to the larger data.frame and contains interpolated data at
   the corresponding points.

   Any advices?

   Best,

   Kjetil
   -- 
   Kjetil Kjernsmo
   Graduate astronomy-student                    Problems worthy of attack
   University of Oslo, Norway            Prove their worth by hitting back
   E-mail: kjetikj at astro.uio.no                                - Piet Hein
   Homepage <URL:http://folk.uio.no/kjetikj/>
   Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC



   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjhealy at email.arizona.edu  Fri Aug  3 00:21:11 2001
From: kjhealy at email.arizona.edu (Kieran Healy)
Date: Thu, 02 Aug 2001 15:21:11 -0700
Subject: [R] gsub() and parenthesis symbols
Message-ID: <3B69D257.29D632B@email.arizona.edu>

Dear R-users --

I'm using R 1.3.0 on a PC running SuSE Linux 7.1. I'm confused by the
following behavior from the gsub() function. Am I doing something wrong?

## A string of characters
> string<-c("q","w","e","(",")","q","w","e")

## Use gsub to replace `q' with `A' 
> gsub("q","A",string)

[1] "A" "w" "e" "(" ")" "A" "w" "e" # Works fine

## Replace `(' [open-parenthesis symbol] with `A'
> gsub("(","A",string)

Error in gsub(pattern, replacement, x, ignore.case, extended) : 
	invalid regular expression

## But NB! -- Replace `)' [close parenthesis symbol] with `A'
> gsub(")","A",string)

[1] "q" "w" "e" "(" "A" "q" "w" "e" # Works fine!


## Further experimentation reveals the following:
## Replace open-paren with close-paren does not work 
> gsub("(",")",string)

Error in gsub(pattern, replacement, x, ignore.case, extended) : 
	invalid regular expression

## ... But replace close paren with open paren works fine!
> gsub(")","(",string)

[1] "q" "w" "e" "(" "(" "q" "w" "e"


My understanding is that parentheses are not special characters is
regexp syntax. And of course I don't understand at all why the open
paren symbol doesn't work but the close paren symbol does. It seems to
dislike it only when it appears as the first argument to the function.
Any help is much appreciated. 

Thanks,

Kieran

--
Kieran Healy, Assistant Professor,
Sociology Dept, University of Arizona.
kjhealy at u.arizona.edu :: (520) 621-3480
http://www.u.arizona.edu/~kjhealy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjhealy at email.arizona.edu  Fri Aug  3 00:25:15 2001
From: kjhealy at email.arizona.edu (Kieran Healy)
Date: Thu, 02 Aug 2001 15:25:15 -0700
Subject: [R] gsub() and parenthesis symbols -- solved
Message-ID: <3B69D34B.7B6D8C57@email.arizona.edu>

Hello again --

inevitably, I discovered the (documented) answer 30 seconds after
sending my question.

Using gsub(...,extended=FALSE) is the way to avoid this issue. 

Cheers,

Kieran

--
Kieran Healy, Assistant Professor,
Sociology Dept, University of Arizona.
kjhealy at u.arizona.edu :: (520) 621-3480
http://www.u.arizona.edu/~kjhealy
-------------- next part --------------
An embedded message was scrubbed...
From: Kieran Healy <kjhealy at email.arizona.edu>
Subject: gsub() and parenthesis symbols
Date: Thu, 02 Aug 2001 15:21:11 -0700
Size: 1968
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20010802/16666548/attachment.mht

From tlumley at u.washington.edu  Fri Aug  3 00:43:57 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 Aug 2001 15:43:57 -0700 (PDT)
Subject: [R] gsub() and parenthesis symbols
In-Reply-To: <3B69D257.29D632B@email.arizona.edu>
Message-ID: <Pine.A41.4.33.0108021534390.134422-100000@homer28.u.washington.edu>

On Thu, 2 Aug 2001, Kieran Healy wrote:

> Dear R-users --
>
> I'm using R 1.3.0 on a PC running SuSE Linux 7.1. I'm confused by the
> following behavior from the gsub() function. Am I doing something wrong?
>
> ## A string of characters
> > string<-c("q","w","e","(",")","q","w","e")
>
> ## Use gsub to replace `q' with `A'
> > gsub("q","A",string)
>
> [1] "A" "w" "e" "(" ")" "A" "w" "e" # Works fine
>
> ## Replace `(' [open-parenthesis symbol] with `A'
> > gsub("(","A",string)
>
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
> 	invalid regular expression
>
> ## But NB! -- Replace `)' [close parenthesis symbol] with `A'
> > gsub(")","A",string)
>
> [1] "q" "w" "e" "(" "A" "q" "w" "e" # Works fine!
>
>
> ## Further experimentation reveals the following:
> ## Replace open-paren with close-paren does not work
> > gsub("(",")",string)
>
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
> 	invalid regular expression
>
> ## ... But replace close paren with open paren works fine!
> > gsub(")","(",string)
>
> [1] "q" "w" "e" "(" "(" "q" "w" "e"
>
>
> My understanding is that parentheses are not special characters is
> regexp syntax. And of course I don't understand at all why the open
> paren symbol doesn't work but the close paren symbol does. It seems to
> dislike it only when it appears as the first argument to the function.

Parentheses *are* special characters in POSIX 1003.2 regexps and one of
the examples in help(gsub) uses them.
Also
 gsub("\\(","A",string)
does do want you want, as you would expect if ( were special. Close paren
OTOH is not special except after an unmatched open paren.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anne.york at noaa.gov  Fri Aug  3 01:32:27 2001
From: anne.york at noaa.gov (Anne York)
Date: Thu, 02 Aug 2001 16:32:27 -0700
Subject: [R] mathematical expressions in axes labels
References: <Pine.GSO.4.05.10108020902500.24837-100000@ofis450a.akctr.noaa.gov> <3B698892.A914BE4A@statistik.uni-dortmund.de>
Message-ID: <3B69E30B.C8B3AB46@noaa.gov>

I'm sorry, I mistakenly sent my message before I finished it. 

I was confused about the differences between plotmath() and plot() and
why plotmath was a separate function. It seems that the purpose of the
plotmath documentation is to tell us how to place mathematical
expressions on graphics.  Much of that documentation discusses the use
of expression() which is the guts of the process and furthermore, that
many of those tasks can be done with the ordinary plot function (as is
documented under plotmath).  I suggest that in the plotmath
documentation that there be a link to "expression".



Uwe Ligges wrote:
> 
> Anne York wrote:
> >
> > Here are two expressions that am using as axes labels:
> >
> > deln15.lab <- expression(delta^15*N)
> > delc13.lab <- expression(delta^13*C)
> >
> > #I was pleasantly surprised that the axes labels on the
> > #following 2 plots were the same.
> >
> > par(mfrow=c(2,2))
> > plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)
> > matplot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab)
> >
> > #The only difference in the plots (that I noticed)
> > #was that matplot did not use
> > #the default plotting characters specified
> > #in my .First function.
> > #
> > #plot also appears to be able to use expressions in the title:
> >
> > plot(1:10,1:10,xlab=deln15.lab, ylab=delc13.lab, main =
> >         expression(alpha~~beta~~gamma~~delta))
> >
> > #THis may be machine dependent -- this was run on R1.3.0 on Windows NT 4
> > #SP6.
> 
> So your problem has nothing to do with the subject?
> 
> The behaviour of plotting symbols in matplot() is documented in the
> help:
> 
> pch: character string or vector of 1-characters or integers for plotting
> characters, see points. The first character is the plotting-character
> for the first plot, the second for the second, etc. The default is the
> digits (1 through 9, 0) then the letters.
> 
> So, what is your problem ???
> 
> Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Aug  3 01:55:23 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 3 Aug 2001 11:55:23 +1200
Subject: [R] pictex driver and bargraph shading
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F95@NJ0319EXCH004U>; from rjain2@lucent.com on Thu, Aug 02, 2001 at 02:50:45PM -0400
References: <5E96EBE0E01ED311A7490008C7071B9907757F95@NJ0319EXCH004U>
Message-ID: <20010803115523.A17314@camille.indigoindustrial.co.nz>

[snip: pictex trouble]
> The postscript driver won't do, since I'm trying to embed this in a LaTeX
> document which I'll use pdflatex on and \includegraphics for pdftex doesn't
> support postscript. ps2pdf just rasterizes the ps, so it looks terrible.

Upgrade to 1.3, and use the pdf driver.

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Aug  3 02:22:13 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 2 Aug 2001 17:22:13 -0700
Subject: [R] pictex driver and bargraph shading
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F95@NJ0319EXCH004U>
Message-ID: <KKEGJOGBELBHDIKPINBMGEPECFAA.hb@maths.lth.se>

Which version of ghostscript are you using? Your ps2pdf is probably making
use of ghostscript. You can check the version with

  %gs -v

I don't remember by which version the pdf conversion was improved, but the
never versions (I have AFPL Ghostscript v 6.50) do a much better job. You
can always try the latest version by using the online ps2pdf converter at
http://www.ps2pdf.com.

When you say your trying to import postscript to LaTeX, I guess you mean
Encapsulated Postscript (eps). If not, you get eps files by adding the
'onefile = FALSE' argument to your postscript options. Example do (after you
made your plot):

  dev.print(postscript, "myfigure.eps", onefile = FALSE, horizontal = FALSE)

I don't know about 'pdftex'; I always use ps2pdf myself. A good reason for
using ps2pdf is the wonderful add-on to LaTeX called PSTricks with which you
easily create nice looking graphs etc. using LaTeX code. If you haven't seen
it, check it out. However it only works if you create postscript files so I
guess pdftex won't work. For PSTricks links and examples see
http://www.maths.lth.se/matstat/staff/hb/softhelp/.

Henrik Bengtsson
Lund University
Sweden

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Jain, Rahul (Rahul)
> Sent: Thursday, August 02, 2001 11:51 AM
> To: 'r-help at lists.r-project.org'
> Subject: [R] pictex driver and bargraph shading
>
>
> I'm trying to use the pictex driver for bargraphs, and the shading isn't
> showing up. Is there any way to get some sort of shading in the plots? A
> hatch or stipple would be fine, too; just some way to differentiate the
> bars.
>
> The postscript driver won't do, since I'm trying to embed this in a LaTeX
> document which I'll use pdflatex on and \includegraphics for
> pdftex doesn't
> support postscript. ps2pdf just rasterizes the ps, so it looks terrible.
>
> I'm willing to do this another way, I just don't want to use rasterized
> plots in my document.
>
> Thanks,
> --
> Rahul Jain
> rjain2 at lucent.com
> 908-559-6024
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sxc11 at health.state.ny.us  Thu Aug  2 21:20:10 2001
From: sxc11 at health.state.ny.us (Shuguang Chen)
Date: Thu, 2 Aug 2001 15:20:10 -0400
Subject: [R] Missing value in Rpart
Message-ID: <200108030214.EAA13812@stat.math.ethz.ch>

Hi, all

Our understanding of how classification trees in Rpart treat missing is
that if the variable is ordinal(continous), Rpart, by default, imputes a
value for missing.  How do we do the classification tree and tell Rpart not
to impute.  That is, what command is used to turn off the imputation.

Also, if we do get true missing, how does classification tree analysis in
Rpart treat missing when the variable is ordinal (after we tell Rpart not
to impute)?  I believe that when a variable is categorical, missing is
treated as just another category.  But if the variable is ordinal, for
example, if the question is, how satsified are you with such and such, and
the response goes on a 1-5 scale, is the missing treated as another 'value'
on the scale, as a categorical response independent of the 1-5 scale, or as
not part of the response at all, e.g., missing?

Thank you,

Shuguang Chen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Aug  3 04:13:30 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 02 Aug 2001 19:13:30 -0700
Subject: [R] boxplot question
In-Reply-To: <Pine.A41.4.33.0107271334380.125280-100000@homer38.u.washin
 gton.edu>
References: <5.1.0.14.2.20010727122617.00ab8150@127.0.0.1>
Message-ID: <5.1.0.14.2.20010802191024.00b1d5c0@127.0.0.1>

At 01:39 PM 7/27/01, Thomas Lumley wrote:
 >On Fri, 27 Jul 2001, Marc Feldesman wrote:
 >
 >> I'm graphing a series of boxplots of grouped data inside a function that
 >> passes the data.frame, the names vector, and a title vector.
 >>
 >> Because both the data subset changes with each successive pass through the
 >> function, occasionally the names vector turns up with only one group to
 >> plot.  This is an expected result.  However, when the names argument in
 >> boxplot has only a single name, it doesn't put in on the
 >> boxplot.  (Actually, this is true whether the names argument is present or
 >> not.  If the call to boxplot is in formula form (e.g. variable ~ group),
 >> the plot doesn't name the group if there is only one group.)
 >
 >Yes. In order to get around this you need to modify the bxp() function
 >that does the actual plotting.
 >
 >
 >My recommended change is to add a show.names argument:
 >
 >  function (z, notch = FALSE, width = NULL, varwidth = FALSE, notch.frac =
 >  0.5,  boxwex = 0.8, border = par("fg"), col = NULL, log = "", pars =
 >  NULL, frame.plot = axes, horizontal = FALSE, add = FALSE, at = NULL,
 >  show.names=NULL, ...)
 >
 >and then near the end of the function replace the if(axes) conditional
 >with
 >
 >    if (axes) {
 >        ax.pars <- pars[names(pars) %in% c("xaxt", "yaxt", "las")]
 >	if(is.null(show.names)) show.names<-(n>1)
 >        if (show.names)
 >            do.call("axis", c(list(side = 1 + horizontal, at = at,
 >                labels = z$names), ax.pars))
 >        do.call("axis", c(list(side = 2 - horizontal), ax.pars))
 >    }
 >
 >
 >Now the standard behaviour is the same but you can override it with
 >
 >  temp<-boxplot(y~g,plot=FALSE)
 >  bxp(temp,show.names=TRUE)
 >
 >or if you have multiple groups but don't want names for some strange
 >reason
 >  bxp(temp,show.names=FALSE)
 >

This is a handy solution that works well as long as one remembers to put 
parameters usually included in the boxplot() call in the call to bxp().

Any chance of making this a part of the next release of R?  It doesn't seem 
like it should/would break existing code.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Aug  3 04:19:00 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 02 Aug 2001 19:19:00 -0700
Subject: [R] Math symbols in email - not completely OT
Message-ID: <5.1.0.14.2.20010802191429.00b22be0@127.0.0.1>

What is the generally accepted way to put certain math symbols into plain 
text email?

For example, how does one convey the "is exactly equal to", "is 
approximately equal to", and "delta" symbols in a standard text-based (e.g. 
Courier) font?




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s195404 at student.uq.edu.au  Fri Aug  3 04:32:52 2001
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Fri, 03 Aug 2001 12:32:52 +1000 (EST)
Subject: [R] update.packages: Resolution
Message-ID: <996805972.3b6a0d54f408f@my.uq.edu.au>


Hello R users,

Thank you very much to those who responded so quickly and helpfully to my 
question about update.packages() and Windows 2000. I am grateful to Thomas 
Lumley, Jason Turner, Prof Brian D Ripley, Uwe Ligges and Andy Liaw (at least).

The solution was simply to use internet2.dll rather than internet.dll. I'm 
sorry I didn't spot this in the documentation. Thank you again. As already 
stated (by me and by others) this feature is very useful and the contributors 
deserve much congratulations.


Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lee.belbin at aad.gov.au  Fri Aug  3 05:17:20 2001
From: lee.belbin at aad.gov.au (Lee Belbin)
Date: Fri, 3 Aug 2001 13:17:20 +1000
Subject: [R] Position:Australian Antarctic Division - Exploratory Data Analyst / Data Miner
Message-ID: <NDBBICPDPDCBIKPNKBFNCEGKDFAA.lee.belbin@aad.gov.au>

EXPLORATORY DATA ANALYST - Australian Antarctic Division Band 6-7 (Research
Scientist). AUS$47563 - 63,922 pa

The Exploratory Data Analyst (Data Miner) will use exploratory data analysis
techniques to identify patterns in scientific data held in the Australian
Antarctic Data Centre and elsewhere. The position is statistical in nature with
an equal emphasis on the exploratory and confirmatory aspects. The Data Miner
will require a high-level of familiarity and skill with hypothesis generating
techniques. An important quality required of the position is advanced skills in
communicating with data custodians and scientists that may not necessarily have
good quantitative or statistical backgrounds. The Data Miner will be expected to
have advanced skills in statistical tools. The successful applicant will have a
Doctor of Philosophy or equivalent qualification, scientific research ability,
and a breadth and depth of scientific interests and the potential to vary those
scientific interests. Other mandatory and job specific criteria apply. The
estimated period of engagement in this non-ongoing task position is 3 years
Contact Officer for further information : Lee Belbin +61 0417 541 016 or Martin
Riddle on +61 (0)3 6232 3573. Applicants must frame their application to address
the specific selection criteria. These may be obtained by visiting our web site
at : http://www.antdiv.gov.au/employ/Current_Vacancies/dataan.asp or by
contacting the Human Resources Officer on 1800 030 755. Please send applications
to Human Resources Officer, Australian Antarctic Division, Channel Highway,
Kingston, TAS 7050 no later than 17 August 2001.

Note: Applications will not be acknowledged.

Lee Belbin?????????????????????????????????????! "I have never been lost,
Manager, Australian Antarctic Data Centre??????! but I will admit to being
Australian Antarctic Division??????????????????! confused for several weeks".
Channel Highway, Kingston, Tas, Australia 7050?!
E-mail Lee.Belbin at aad.gov.au                   ! - Daniel Boone
phone: +61 3 6232 3460??fax: +61 3 6232 3351
Web: http://www-aadc.aad.gov.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  3 07:56:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Aug 2001 06:56:21 +0100 (BST)
Subject: [R] Missing value in Rpart
In-Reply-To: <200108030214.EAA13812@stat.math.ethz.ch>
Message-ID: <Pine.GSO.4.31.0108030649290.4855-100000@auk.stats>

On Thu, 2 Aug 2001, Shuguang Chen wrote:

> Our understanding of how classification trees in Rpart treat missing is
> that if the variable is ordinal(continous), Rpart, by default, imputes a
> value for missing.  How do we do the classification tree and tell Rpart not
> to impute.  That is, what command is used to turn off the imputation.

Not true.  Please do read the technical report (included in rpart_2.x).
Like CART (the book and the program), rpart uses surrogate splits.
To turn that off (why?) see ?rpart.control.

> Also, if we do get true missing, how does classification tree analysis in
> Rpart treat missing when the variable is ordinal (after we tell Rpart not
> to impute)?  I believe that when a variable is categorical, missing is
> treated as just another category.  But if the variable is ordinal, for

Not true.

> example, if the question is, how satsified are you with such and such, and
> the response goes on a 1-5 scale, is the missing treated as another 'value'
> on the scale, as a categorical response independent of the 1-5 scale, or as
> not part of the response at all, e.g., missing?

You seem to be confusing rpart with something else (it looks like with
trees in S).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug  3 08:28:32 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 Aug 2001 08:28:32 +0200
Subject: [R] mtext and srt
References: <5B9B19C8A522D411A8EC00A0C99D6A9A8D2592@mail.nsabp.pitt.edu>
Message-ID: <3B6A4490.6EDD4240@statistik.uni-dortmund.de>

"Richards, Tom" wrote:
> 
> Hello:
> 
> I am trying to get some text at an angle in the margins of a plot.  I was
> accustomed under older versions of Splus to using srt in the mtext command,
> but that seems not to work under R,
> 
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> 
> I see documented in ?mtext that one can use the las parameter to get text
> either parallel to or perpendicular to the axis in question, but is there
> any way to get other angles as well?  I want the two letter "X"'s to have
> the same angle in the following:
> 
> plot(1:10,1:10)
> text(5,5,"X",srt=30)
> mtext("X",side=3,at=5,srt=30)
> 
> Can this be done in R?  Thanks for your response.

Use text() instead of mtext() as follows:

  text(5, par("usr")[4], "X", srt = 30, xpd = TRUE, pos = 3)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug  3 08:38:33 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 Aug 2001 08:38:33 +0200
Subject: [R] mathematical expressions in axes labels
References: <Pine.GSO.4.05.10108020902500.24837-100000@ofis450a.akctr.noaa.gov> <3B698892.A914BE4A@statistik.uni-dortmund.de> <3B69E30B.C8B3AB46@noaa.gov>
Message-ID: <3B6A46E9.61ACD8A6@statistik.uni-dortmund.de>

Anne York wrote:
> 
> I'm sorry, I mistakenly sent my message before I finished it.
> 
> I was confused about the differences between plotmath() and plot() and
> why plotmath was a separate function. 

plotmath() is not a function, is it?
In your last mail you have used matplot(), not plotmath() --- and this
leads to some confusion, I think.


> It seems that the purpose of the
> plotmath documentation is to tell us how to place mathematical
> expressions on graphics.  

That's right. 

?matplot looks very different, because it's designed for very different
purposes:
"Plot the columns of one matrix against the columns of another."


> Much of that documentation discusses the use
> of expression() which is the guts of the process and furthermore, that
> many of those tasks can be done with the ordinary plot function (as is
> documented under plotmath).  I suggest that in the plotmath
> documentation that there be a link to "expression".


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug  3 09:27:11 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 3 Aug 2001 09:27:11 +0200
Subject: [R] problem in making R from sources on SGI IRIX
In-Reply-To: <sb6940e1.096@genetics.com>
References: <sb6940e1.096@genetics.com>
Message-ID: <15210.21071.577568.672887@gargle.gargle.HOWL>

>>>>> "AH" == Andrew Hill <AHill at genetics.com> writes:

    AH> I am trying to install R 1.3.0 on SGI IRIX.  I downloaded the .tar
    AH> from CRAN, unpacked it and executed the following commands from the
    AH> top level directory:

    AH> ./configure
    AH> make

    AH> The ./configure completes OK, with the final summary output:
    AH> --------------------
    AH> R is now configured for mips-sgi-irix6.5

    AH> Source directory:          .
    AH> Installation directory:    /usr/local
    AH> C compiler:                gcc  -g -O2
    AH> C++ compiler:              c++  -g -O2
    AH> FORTRAN compiler:          g77  -g -O2

    AH> X11 support:               yes
    AH> Gnome support:             no
    AH> Tcl/Tk support:            no

    AH> R profiling support:       yes
    AH> R as a shared library:     no

    AH> -----------------

    AH> Following that, the make appears to complete OK with some non-fatal
    AH> linker warnings.

Funny. From what you show below,  "make" didn't
properly create the base package or did not at the proper place 
which from your toplevel is
      ./library/base/R/base  (a file with some 22000 lines, some 700k bytes)

(or you didn't give us the whole story above)

    AH>   I then run "make check" and get the following error message:

    AH> ---------------
    AH> 22 gomez R-1.3.0> make check
    AH> creating tests/Makefile
    AH> creating tests/Examples/Makefile
    AH> don't know how to make ../../library/base/R/base (bu42).
    AH> *** Error code 1 (bu21)
    AH> *** Error code 1 (bu21)
    AH> *** Error code 1 (bu21)
    AH> *** Error code 1 (bu21)
    AH> ------------------

    AH> At this point, if I try running R (i.e. the "R" script in the /bin directory) I get the following fatal error:
    AH> -----------------------------
    AH> 25 gomez bin> R

    AH> R : Copyright 2001, The R Development Core Team
    AH> Version 1.3.0  (2001-06-22)

    AH> R is free software and comes with ABSOLUTELY NO WARRANTY.
    AH> You are welcome to redistribute it under certain conditions.
    AH> Type `license()' or `licence()' for distribution details.

    AH> R is a collaborative project with many contributors.
    AH> Type `contributors()' for more information.

    AH> Type `demo()' for some demos, `help()' for on-line help, or
    AH> `help.start()' for a HTML browser interface to help.
    AH> Type `q()' to quit R.

    AH> Fatal error: unable to open the base package
    AH> ----------------------------

    AH> Can anyone offer any advice on what my problem is?  I guess that
    AH> the base package is not being made properly?  

yes; it should happen from 
 ./src/library/Makefile 
and
 ./src/library/base/Makefile 
You could manually say "make" inside these directories and "monitor" what
happens. 

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Fri Aug  3 10:18:29 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Fri, 3 Aug 2001 10:18:29 +0200 
Subject: [R] Text adjustment outside (0,1)
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95AF71@exdkba03.novo.dk>

Funnily enough, it seems that adjustment of text in the verical
direction is more flexible than in the horizontal. Horizontal
adjustment parameters, seem to be set to the closest of 0 and 1
if they fall outside (0,1). Try e.g.:

plot(0:1,0:1)
for (a in seq(-5,5,0.5) ) text(0.5, 0.5, "Y", adj=c(0,a), cex=2, col="red" )
for (a in seq(-5,5,0.5) ) text(0.5, 0.5, "X", adj=c(a,0), cex=2, col="blue"
)

Any particular reason for this restriction in the horizontal direction?

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  3 11:06:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 3 Aug 2001 10:06:37 +0100 (BST)
Subject: [R] Text adjustment outside (0,1)
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020E95AF71@exdkba03.novo.dk>
Message-ID: <Pine.LNX.4.31.0108030951400.6505-100000@gannet.stats>

On Fri, 3 Aug 2001, BXC (Bendix Carstensen) wrote:

> Funnily enough, it seems that adjustment of text in the verical
> direction is more flexible than in the horizontal. Horizontal
> adjustment parameters, seem to be set to the closest of 0 and 1
> if they fall outside (0,1). Try e.g.:
>
> plot(0:1,0:1)
> for (a in seq(-5,5,0.5) ) text(0.5, 0.5, "Y", adj=c(0,a), cex=2, col="red" )
> for (a in seq(-5,5,0.5) ) text(0.5, 0.5, "X", adj=c(a,0), cex=2, col="blue"
> )
>
> Any particular reason for this restriction in the horizontal direction?

Horizontal adjustment makes use of driver capabilities: vertical
adjustment does not.  So in fact it is driver-dependent, and the X11 and
postscript drivers do not have this restriction.  I assume you are on
Windows NT, although you did not say so ....

However, this is documented not to work, as ?text says

     adj: one or two values in [0,1] which specify the x (and
          optionally y) adjustment of the labels.

and that restriction is imposed for devices with dd->dp.canHAdj == 1.

So either we should be adding a new feature (and changing the
documentation accordingly), or imposing the restriction on all devices.

Note ?par says

     adj: The value of `adj' determines the way in which text strings
          are justified.  A value of `0' produces left-justified text,
          `0.5' centered text and `1' right-justified text.  Note that
          the `adj' argument of `text' also allows `adj = c(x,y)' for
          different adjustment in x- and y- direction.

which suggests only three values are allowed.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Fri Aug  3 11:55:27 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Fri, 3 Aug 2001 12:55:27 +0300 (EEST)
Subject: [R] step factor below minimum
Message-ID: <Pine.LNX.4.33.0108031247420.757-100000@localhost>

I am trying to fit the 4-parameter logistic model with SSfpl. The
estimation is terminated with a message "step factor 0.000488281 reduced
below 'minFactor' of 0.000976562". I tried to change the minFactor with
nls.control(minFactor=yy)  with no apparent success. A call of
nls.control() without arguments always shows the value of 0.000976562.
Also the estimation terminates as previously although I tried to use
control=nls.control(minFactor=yy) option. Is there a way to get around
this or does this mean that my model is not estimable with R?

I am running Debian unstable i386 and R 1.3.0.

Thanks,

Kari

----------------------------------------------
Kari Ruohonen
Finnish Game and Fisheries Research Institute
Socioeconomic and Aquaculture Research

Turku Game and Fisheries Research
It?inen Pitk?katu 3, 20520 Turku, Finland
tel. +358-20-5751681, +358-40-5238321 (mobile)
fax  +358-20-5751689

http://www.rktl.fi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Aug  3 11:05:46 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 3 Aug 2001 11:05:46 +0200
Subject: [R] problem in making R from sources on SGI IRIX
In-Reply-To: <sb6940e1.096@genetics.com>
References: <sb6940e1.096@genetics.com>
Message-ID: <15210.26986.401166.235307@mithrandir.hornik.net>

>>>>> Andrew Hill writes:

> Hello all,

> I am trying to install R 1.3.0 on SGI IRIX.  I downloaded the .tar
> from CRAN, unpacked it and executed the following commands from the
> top level directory:

> ./configure
> make

> The ./configure completes OK, with the final summary output:
> --------------------
> R is now configured for mips-sgi-irix6.5

>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -g -O2
>   C++ compiler:              c++  -g -O2
>   FORTRAN compiler:          g77  -g -O2

>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no

>   R profiling support:       yes
>   R as a shared library:     no

> -----------------
> Following that, the make appears to complete OK with some non-fatal linker warnings.  I then run "make check" and get the following error message:
> ---------------
> 22 gomez R-1.3.0> make check
> creating tests/Makefile
> creating tests/Examples/Makefile
> don't know how to make ../../library/base/R/base (bu42).
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> ------------------

> At this point, if I try running R (i.e. the "R" script in the /bin directory) I get the following fatal error:
> -----------------------------
> 25 gomez bin> R

> R : Copyright 2001, The R Development Core Team
> Version 1.3.0  (2001-06-22)

> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.

> R is a collaborative project with many contributors.
> Type `contributors()' for more information.

> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.

> Fatal error: unable to open the base package
> ----------------------------

> Can anyone offer any advice on what my problem is?  I guess that the
> base package is not being made properly?  Any help would be
> appreciated.

Seems that base was not built.  Hard to tell why, it might help to look
at what happened *after* building R.bin.

What happens if you do

	cd src/library/base; make

???

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Aug  3 13:22:51 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 3 Aug 2001 13:22:51 +0200
Subject: [R] Math symbols in email - not completely OT
Message-ID: <OFDBA79637.E1CB19A8-ONC1256A9D.003DCD07@eurotel.cz>


I prefer (La)TeX keywords/commands, probably without the $ sign,
like \equiv, \delta, etc... in mails/conferences dealing with
math, stat, TeX, and GNU/Linux.

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 8/3/01 5:53:33 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Math symbols in email - not completely OT

What is the generally accepted way to put certain math symbols into plain
text email?

For example, how does one convey the "is exactly equal to", "is
approximately equal to", and "delta" symbols in a standard text-based (e.g.
Courier) font?




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Fri Aug  3 16:26:30 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Fri, 03 Aug 2001 15:26:30 +0100
Subject: [R] GARCH
Message-ID: <3B6AB495.8B108FD9@di.fct.unl.pt>

I am working with R-1.2.1, package Time Series, under Linux. Please, is
it possible to require a Garch only at some specific lags, such as lags
9,10, 17 and 5?

(1) If it is possible, how do I specify the lags? The documentation does
not says how.

(2) It is impossible. I must change the code. Then, I should use another
package, such as MatLab or Rats.

Which (1) or (2) is true?

Thank you,

CJoseBento
UniNova Lisboa
Portugal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug  3 17:28:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 3 Aug 2001 08:28:14 -0700 (PDT)
Subject: [R] Math symbols in email - not completely OT
In-Reply-To: <5.1.0.14.2.20010802191429.00b22be0@127.0.0.1>
Message-ID: <Pine.A41.4.33.0108030819560.85764-100000@homer13.u.washington.edu>

On Thu, 2 Aug 2001, Marc R. Feldesman wrote:

> What is the generally accepted way to put certain math symbols into plain
> text email?
>
> For example, how does one convey the "is exactly equal to", "is
> approximately equal to", and "delta" symbols in a standard text-based (e.g.
> Courier) font?
>

I tend to use TeX symbols, so \approx and \delta.  The sci.math.
newsgroups seem to avoid the \ and so would write delta and either approx
or something like ~=.


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Fri Aug  3 18:06:11 2001
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Fri, 3 Aug 2001 12:06:11 -0400
Subject: [R] large address spaces in R
Message-ID: <OF4B7A6314.075F181D-ON85256A9D.0057BC9E@cbis.com>

I have been using SPLUS on UNIX to do performance analysis of our computers
and have some matrices that are about 15M rows with 8 columns.  These are
'integers' and therefore take up about 500M of memory.  I run on a system
with 2G of memory and will utilize over a 1G when processing this data.

I am considering using R and was wondering how large addresses spaces are
handled under WIN/2000.  I can get a server with 2G of memory and am
interested in experiences of running with data that will utilize this space
and if Windows will handle it.

Thanks
Jim

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  3 18:29:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Aug 2001 17:29:41 +0100 (GMT Daylight Time)
Subject: [R] large address spaces in R
In-Reply-To: <OF4B7A6314.075F181D-ON85256A9D.0057BC9E@cbis.com>
Message-ID: <Pine.WNT.4.31.0108031722230.1220-100000@gannet>

On Fri, 3 Aug 2001 james.holtman at convergys.com wrote:

> I have been using SPLUS on UNIX to do performance analysis of our computers
> and have some matrices that are about 15M rows with 8 columns.  These are
> 'integers' and therefore take up about 500M of memory.  I run on a system
> with 2G of memory and will utilize over a 1G when processing this data.
>
> I am considering using R and was wondering how large addresses spaces are
> handled under WIN/2000.  I can get a server with 2G of memory and am
> interested in experiences of running with data that will utilize this space
> and if Windows will handle it.

With some fragility.  Basically you would need to able to reserve a
contiguous chunk of 1Gb or more of space, and Windows 2000 may not manage
that. (The user address space is 2Gb on Professional, 3Gb on Server, it is
claimed.)  I would start up R aiming to allocate the space initially, via
--min-vsize, --min-nsize and --max-mem-size.

> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.

NOTICE: this reply is with ABSOLUTELY NO WARRANTY.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From AHill at genetics.com  Fri Aug  3 18:28:27 2001
From: AHill at genetics.com (Andrew Hill)
Date: Fri, 03 Aug 2001 12:28:27 -0400
Subject: [R] problem in making R from sources on SGI IRIX : resolved
Message-ID: <sb6a990e.093@genetics.com>

Hello all,

Many thanks to Kurt Hornik and Martin Maechler for their suggestions, which solved my problem.  For some reason the makefiles in ./src/library/ and ./src/library/base were not executed in my original make.  Running these makefiles manually built the base package, and now my R installation appears to be working fine.

Andrew Hill.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  3 18:40:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 3 Aug 2001 17:40:26 +0100 (BST)
Subject: [R] R and ATLAS on Windows
Message-ID: <Pine.LNX.4.31.0108031734480.2206-100000@gannet.stats>

A while ago there was some request for supporting the ATLAS BLAS libraries
on Windows.  I have finally succeeded in building the ATLAS libraries, and
made the necessary changes to the Makefiles.  This will be available
in R-patched as from tomorrow's snapshot: see src/gnuwin32/INSTALL for
how to use it.

You will need to build an ATLAS library for your precise chip.  This can
be a frustrating experience.  On my laptop (mobile PII) it took about an
hour.  On my desktop (dual 1GHz PIII) the first attempt failed after 2
hours and the second succeeded after four.  Because of the extreme chip
dependence, there is no way that we distribute ATLAS-equipped binaries.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Aug  3 22:53:25 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 3 Aug 2001 13:53:25 -0700
Subject: [R] Warning when building packages and update suggestion
Message-ID: <KKEGJOGBELBHDIKPINBMMEPLCFAA.hb@maths.lth.se>

I want to share this knowledge to save you the hours it took me to
troubleshoot the following problem. Maybe you already know about this, but I
certainly didn't. In the end I also suggest an update fix.

PROBLEM:
I have been building packages for a couple of months now without any
problems. However, a couple of hours ago I ran into a strange problem, which
I first couldn't understand or fix:

  >Rcmd build --binary R.base
  ...
  make[1]: *** [/tmp/Rbuild.468075/R.base/zzzz] Error 1
  make[1]: Leaving directory `/users/braju.com.R/public_html/R.base/R.base'
  make: *** [pkg-R.base] Error 2
  make: Leaving directory `/progs/R/rw1030/src/gnuwin32'
  *** Installation of R.base failed ***
  ...

REASON:
As usual you think that *you* didn't do anything different than usual.
However, yesterday I added a library(R.base) in my ~/R.profile file, i.e.
every time [R] starts the library R.base is automatically loaded. After
imitating the same make calls as 'Rcmd build --binary R.base' does and
looking into on of the temporary files created, I saw that during the build
process [R] was started. I turned out that [R] failed because it tried to
load the library I was currently building and from the previous build I did
an error was introduced. So, the installed R.base didn't work, which made
any try rebuild it to fail.

SOLUTION:
My solution was to remove ~/R.profile and everything worked as usual.


UPDATE SUGGESTION:
I don't know much about the package building process, but couldn't [R]
*always* be started with the options --no-site-file (Suppress reading of the
site-wide startup profile) and --no-init-file (Suppress reading of the
directory or user's .Rprofile file) when Rcmd build is used? I was trying to
look into the make files where this should be done, but I couldn't find it.


Henrik Bengtsson
Lund University/UC Berkeley

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug  4 08:11:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 4 Aug 2001 07:11:41 +0100 (BST)
Subject: [R] Warning when building packages and update suggestion
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEPLCFAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.31.0108040658470.10400-100000@auk.stats>

First, this is a comment on *one* way of building packages under *Windows*.
So it is hardly universal.  And you did not even mention the OS.

Second, is not R.base a confusing name?  There is already an R base
package, and the solution is already used for that!

Third, the sources are all there for you to investigate, and the
information is in the documentation.  R is run to create the time stamp.
Make your package by

make STAMP=NO pkg-R.base

to avoid this, or alter the line

        @echo  "cat('Built: R ', R.version[['major']], '.',
R.version[['minor']], ';  Win32;  ', format(Sys.time()), sep='')" |
$(RHOME)/bin/Rterm --slave >> ${DPKG}/DESCRIPTION

in src/gnuwin32/MakePkg as you wish.  I have added --vanilla.

BDR

On Fri, 3 Aug 2001, Henrik Bengtsson wrote:

> I want to share this knowledge to save you the hours it took me to
> troubleshoot the following problem. Maybe you already know about this, but I
> certainly didn't. In the end I also suggest an update fix.
>
> PROBLEM:
> I have been building packages for a couple of months now without any
> problems. However, a couple of hours ago I ran into a strange problem, which
> I first couldn't understand or fix:
>
>   >Rcmd build --binary R.base
>   ...
>   make[1]: *** [/tmp/Rbuild.468075/R.base/zzzz] Error 1
>   make[1]: Leaving directory `/users/braju.com.R/public_html/R.base/R.base'
>   make: *** [pkg-R.base] Error 2
>   make: Leaving directory `/progs/R/rw1030/src/gnuwin32'
>   *** Installation of R.base failed ***
>   ...
>
> REASON:
> As usual you think that *you* didn't do anything different than usual.
> However, yesterday I added a library(R.base) in my ~/R.profile file, i.e.
> every time [R] starts the library R.base is automatically loaded. After
> imitating the same make calls as 'Rcmd build --binary R.base' does and
> looking into on of the temporary files created, I saw that during the build
> process [R] was started. I turned out that [R] failed because it tried to
> load the library I was currently building and from the previous build I did
> an error was introduced. So, the installed R.base didn't work, which made
> any try rebuild it to fail.
>
> SOLUTION:
> My solution was to remove ~/R.profile and everything worked as usual.
>
>
> UPDATE SUGGESTION:
> I don't know much about the package building process, but couldn't [R]
> *always* be started with the options --no-site-file (Suppress reading of the
> site-wide startup profile) and --no-init-file (Suppress reading of the
> directory or user's .Rprofile file) when Rcmd build is used? I was trying to
> look into the make files where this should be done, but I couldn't find it.
>
>
> Henrik Bengtsson
> Lund University/UC Berkeley
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sat Aug  4 10:17:48 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sat, 4 Aug 2001 10:17:48 +0200 (MET DST)
Subject: [R] replacing elements in matrix: fastest method?
Message-ID: <Pine.OSF.3.96.1010804101628.24342A-100000@ija.csic.es>


Hi!

I replace some elements of a matrix a

> a
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
[4,]   10   11   12

according to a reclassification matrix such

> pares
     [,1] [,2]
[1,]    1    2
[2,]    5    6
[3,]    8    7

to get

> b
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
[4,]   10   11   12

As both a and pares can be very large, I'd like to know the
fastest way for this operation in R. I'm using:

a[which(a%in%pares[,1])]<-pares[,2]

and

replace(a,which(ima%in%pares[,1]),pares[,2])

Is there any preference in terms of speed
and/or R style? Is there another, better way?

Thanks

Agus




Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug  4 10:44:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 4 Aug 2001 09:44:33 +0100 (BST)
Subject: [R] replacing elements in matrix: fastest method?
In-Reply-To: <Pine.OSF.3.96.1010804101628.24342A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0108040926140.25428-100000@gannet.stats>

On Sat, 4 Aug 2001, Agustin Lobo wrote:

> I replace some elements of a matrix a
>
> > a
>      [,1] [,2] [,3]
> [1,]    1    2    3
> [2,]    4    5    6
> [3,]    7    8    9
> [4,]   10   11   12
>
> according to a reclassification matrix such
>
> > pares
>      [,1] [,2]
> [1,]    1    2
> [2,]    5    6
> [3,]    8    7
>
> to get
>
> > b
>      [,1] [,2] [,3]
> [1,]    1    2    3
> [2,]    4    5    6
> [3,]    7    8    9
> [4,]   10   11   12

Um, b <- a would be as fast as anything (since .Alias `does not exist').


> As both a and pares can be very large, I'd like to know the
> fastest way for this operation in R. I'm using:
>
> a[which(a%in%pares[,1])]<-pares[,2]
>
> and
>
> replace(a,which(ima%in%pares[,1]),pares[,2])

1) that throws away its result, and
2) a <- replace(a,which(ima%in%pares[,1]),pares[,2]) is a long-winded way
to do the first.


> Is there any preference in terms of speed
> and/or R style? Is there another, better way?

The preference is for correct solutions: a fast answer to the wrong
problem is of negliglible use.

I believe *both* of yours are erroneous.

I guess you wanted to replace the entries in `a' which match column 1 of
pares by the corresponding item in column 2.  But you didn't say: *please*
tell us what you are trying to do rather than ask for comments on
`solutions'.  Also, I will assume you want this for a numeric array.

However, your first solution will only work if each element of pares[,1]
occurs exactly once in `a' in the order specified (which happens to be
true for your example).  Rather, you need something like

m <- match(a, pares[, 1], 0)
a[m > 0] <- pares[m, 2]

If we knew what the problem really was, we might be able to solve it
efficiently, but for now we are only guessing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sat Aug  4 19:12:42 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sat, 4 Aug 2001 19:12:42 +0200 (MET DST)
Subject: Re(2): [R] replacing elements in matrix: fastest method?
In-Reply-To: <Pine.LNX.4.31.0108040926140.25428-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010804184731.23869A-100000@ija.csic.es>


On Sat, 4 Aug 2001, Prof Brian Ripley wrote:

> I believe *both* of yours are erroneous.
> 
> I guess you wanted to replace the entries in `a' which match column 1 of
> pares by the corresponding item in column 2.  But you didn't say: *please*
> tell us what you are trying to do rather than ask for comments on
> `solutions'.  Also, I will assume you want this for a numeric array.
> 
> However, your first solution will only work if each element of pares[,1]
> occurs exactly once in `a' in the order specified (which happens to be
> true for your example).  Rather, you need something like
> 
> m <- match(a, pares[, 1], 0)
> a[m > 0] <- pares[m, 2]
> 
> If we knew what the problem really was, we might be able to solve it
> efficiently, but for now we are only guessing.
> 

Your guess is correct. I clarify my question:
I want to replace values in a matrix (a) according to  
reclassification rules that are stated
in a 2-columns matrix (pares) in which the values to
be replaced are in the first column and the
replacing values are in the second column.

As B. Ripley notes, the 2 methods that I was trying

> a[which(a%in%pares[,1])]<-pares[,2]
>
> and
>
> replace(a,which(ima%in%pares[,1]),pares[,2])

work only if there are no repeated values
in a, as in the example. As the general
case implies repeated values in matrix a
(length(unique(a)) <= length(a)), the
method suggested by Prof. Ripley 

m <- match(a, pares[, 1], 0)
a[m > 0] <- pares[m, 2]

is great help. Thanks.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lou-Salkind at deshaw.com  Sat Aug  4 22:55:37 2001
From: Lou-Salkind at deshaw.com (Salkind, Lou)
Date: Sat, 4 Aug 2001 16:55:37 -0400 
Subject: [R] R hanging after loading tcltk
Message-ID: <6FFB1E3DAA3ED211A66300104B220D3A02B6D6D8@msnyc2.nyc.deshaw.com>

On R 1.3 / RH 7.1 / i386 (compiled with shared library support), I typed
* library(tcltk)
* help("some nonsensical string")

and R never returned a prompt (but not consuming any CPU cycles).  If  tcltk
is not loaded, I get the expected help error message, a prompt, and can
continue my session as expected.  
Any ideas?  I am running tcl 8.3.3.2.
I would assume this has something to do with event handlers...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug  5 00:14:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Aug 2001 00:14:35 +0200
Subject: [R] R hanging after loading tcltk
In-Reply-To: "Salkind, Lou"'s message of "Sat, 4 Aug 2001 16:55:37 -0400"
References: <6FFB1E3DAA3ED211A66300104B220D3A02B6D6D8@msnyc2.nyc.deshaw.com>
Message-ID: <x2y9oza2wk.fsf@blueberry.kubism.ku.dk>

"Salkind, Lou" <Lou-Salkind at deshaw.com> writes:

> On R 1.3 / RH 7.1 / i386 (compiled with shared library support), I typed
> * library(tcltk)
> * help("some nonsensical string")
> 
> and R never returned a prompt (but not consuming any CPU cycles).  If  tcltk
> is not loaded, I get the expected help error message, a prompt, and can
> continue my session as expected.  
> Any ideas?  I am running tcl 8.3.3.2.
> I would assume this has something to do with event handlers...

Not unlikely, but AFAICS RH 7.1 ships with tcl-8.3.1, so perhaps
something about your Tcl setup is confusing matters?

I cant seem to reproduce that effect with a stock RH7.1 and the most
recent r-patched:

$ bin/R -q --vanilla
> library(tcltk)
> help("nonsense stuff")
Error in help("nonsense stuff") : No documentation for `nonsense
stuff' in specified packages and libraries:
  you could try `help.search("nonsense stuff")'


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lou-Salkind at deshaw.com  Sun Aug  5 05:08:03 2001
From: Lou-Salkind at deshaw.com (Salkind, Lou)
Date: Sat, 4 Aug 2001 23:08:03 -0400 
Subject: [R] R hanging after loading tcltk
Message-ID: <6FFB1E3DAA3ED211A66300104B220D3A02B6D6DC@msnyc2.nyc.deshaw.com>

I'll try relinking R-patched with the RH version of tcl next week and let
you know if I still see the same problem.

 -----Original Message-----
From: 	Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk] 
Sent:	Saturday, August 04, 2001 3:15 PM
To:	Salkind, Lou
Cc:	'r-help-digest at stat.math.ethz.ch'
Subject:	Re: [R] R hanging after loading tcltk

"Salkind, Lou" <Lou-Salkind at deshaw.com> writes:

> On R 1.3 / RH 7.1 / i386 (compiled with shared library support), I typed
> * library(tcltk)
> * help("some nonsensical string")
> 
> and R never returned a prompt (but not consuming any CPU cycles).  If
tcltk
> is not loaded, I get the expected help error message, a prompt, and can
> continue my session as expected.  
> Any ideas?  I am running tcl 8.3.3.2.
> I would assume this has something to do with event handlers...

Not unlikely, but AFAICS RH 7.1 ships with tcl-8.3.1, so perhaps
something about your Tcl setup is confusing matters?

I cant seem to reproduce that effect with a stock RH7.1 and the most
recent r-patched:

$ bin/R -q --vanilla
> library(tcltk)
> help("nonsense stuff")
Error in help("nonsense stuff") : No documentation for `nonsense
stuff' in specified packages and libraries:
  you could try `help.search("nonsense stuff")'


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sun Aug  5 22:33:44 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sun, 05 Aug 2001 22:33:44 +0200
Subject: [R] Question about .Alias
Message-ID: <3B6DADA8.112C9D11@cbs.dtu.dk>

Dear all,

I have a silly question, but I could not find an answer in the R help
pages about this
(I may have missed it... just send me a pointer if I did so):
do I need to 'alias' an element of an object while I already manipulate
an alias of it ?

To be clear(er):

huge <- list(image1=huge.matrix,image2=huge.matrix)
## It may look strange, but I'd like to keep these 2 matrixes associated

light <- .Alias(huge)

## now I can give 'light' as a parameter to my functions fearless...
## what about light$image1 ? Is this passed, or the 'alias' nature of
'light' is somehow
## propagated ?



Thanking in advance anybody considering this worth his/her time,





Laurent






-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sun Aug  5 22:45:25 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sun, 05 Aug 2001 22:45:25 +0200
Subject: [R] Add: about .Alias
Message-ID: <3B6DB065.ED0A8CDA@cbs.dtu.dk>

uuuups...


I just saw there was a lot going on about .Alias no so long ago in the
r-help mailing list...


...and it seems I should not even think about using .Alias  (too
late...)

...no need to answer my previous post I guess...





Laurent





-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Aug  6 10:18:25 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 6 Aug 2001 10:18:25 +0200
Subject: [R] contour question
Message-ID: <3B6E6EF1.12649.7F7CF7@localhost>

Dear R users

I have some problem with contour() graphics. 

I know it can be used for creating contour plot over rectangular grid.

My data set is measured in polar coordinates (radius, angle) because 
of reaction vessel shape. 

Let say

radius <- c(530, 604, 650, 765, 850, 940, 1015, 1130, 1180, 1260)

and for any radius value I have an angle value set

	angle <- 360 * seq(0,168,4)/340

I have temperatures measured at each angle for all radius values and I 
can simply produce a contour plot

	contour(angle,radius,temp)

in case temp is a matrix with length(angle) rows and length(radius) 
columns, but there are not many people who can easily resolve such 
graphing in polar coordinates. Therefore I hoped I could convert it in 
more convenient rectangular (xy) coordinates.

I can compute xy coordinates for instance by

	radius.vec <- as.numeric(as.vector(gl(10,43,labels=radius)))
	angle.vec <- rep(angle,10)
and
	x_cos(angle.vec*pi/180)*radius.vec
	y_-sin(angle.vec*pi/180)*radius.vec

plotting

	temp.vec_as.vector(as.matrix(temp))
	plot(x, y, type="n")
	text(x, y, temp.vec, cex=.5)

gives a nice set of semicircles which map an inner part of reaction 
vessel temperatures over xy grid. But in that case x and y can not be 
expressed as regular sequence grid suitable for contour plotting (or 
am I wrong?).

I tried to interpolate it by loess

	fit 	<-loess(temp.vec ~ x + y, span = .08, control = 
loess.control("interpolate"))
	daf 	<- expand.grid(x = seq(-1260, 1260 ,20), y = seq(-1260 ,0 
,20))
	ppp 	<- predict(fit, daf)
	ppp.mat <- matrix(ppp, ncol=64)
	contour(seq(-1260, 1260, 20), seq(-1260, 0, 20), ppp.mat, 
nlevels=40, add=T, col=2)

which gave almost what I hoped for but the prediction was computed 
and contours were plotted also outside the outermost semicircle.

I expected that for not "correct" set of xy points (e.g. x = 1250, y = -
1250) predict.loess gives NA prediction and that contours will not be 
drawn outside the outermost semicircle, but obviously I am mistaken.

Please can somebody give me a hint how to keep contours "inside" 
the vessel or inside the intended region?

Thanks in advance. 
Petr Pikal
Precheza a.s.
Nabr.Dr.E.Benese 24
tel: 00420 641 25 2257
     +420 (0)724 008 364
     petr.pikal at precheza.cz
     p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Mon Aug  6 10:40:13 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Mon, 6 Aug 2001 10:40:13 +0200 
Subject: [R] plot.hclust
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D85210@arcss07.arcs.ac.at>

I want to plot only a part of a denrogramm, which was produced by hclust. In
S-Plus I used the function subtree, but I can not find this function or a
similar one in R.

Thank you for your help,
			Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Aug  6 12:18:22 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 6 Aug 2001 12:18:22 +0200
Subject: [R] Re: contour question
Message-ID: <3B6E8B0E.32678.ED50DD@localhost>

Sorry to all.

I have finally found (in Rnews) that an akima package does exactly 
what I want and I can make my contour graph without problems.

Thank for R and Rnews.


Petr Pikal
0641 25 2258
0724 008 364
petr.pikal at precheza.cz
p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hakan.Haggstrom at zoologi.su.se  Mon Aug  6 15:08:24 2001
From: Hakan.Haggstrom at zoologi.su.se (=?ISO-8859-1?Q?H=E5kan=20H=E4ggstr=F6m?=)
Date: Mon, 06 Aug 2001 15:08:24 +0200
Subject: [R] Summary and anova for glmm
Message-ID: <3B6E96C8.2010503@zoologi.su.se>

Dear all,

I have a couple of questions concerning glmm in the package repeated. 
After fitting a binomial glmm, summary(model) gives a very different 
result from anova(model, test="Chisq"). Why is that? Are both reliable 
for glmm, or is it something with my data/model? The anova call produces 
a warning message ("non-integer #successes in a binomial glm"). Also, 
what does the sd term represent? The calls and outputs follow below. (R 
1.2.1 on SuSE Linux 6.3, repeated 0.9, rmutil 0.9).

I would appreciate your help,

Hakan Haggstrom

 > ksvm2 #The data frame
  no yes Pop Prey Poptype
1  2 17   M  C    NoPA
2  8 11   S  C    NoPA
3 11  9   M PA    NoPA
4  9 10   S PA    NoPA
5 14  5   K  C      PA
6  8 10   V  C      PA
7 13 10   K PA      PA
8 10 10   V PA      PA
 >
 > ksvm2.glmm <- glmm(cbind(yes,no) ~ Prey*Poptype, nest=Pop, 
family=binomial, data=ksvm2)
 > summary(ksvm2.glmm)

Coefficients:
                  Estimate Std. Error z value Pr(>|z|)  
(Intercept)       1.03026    0.36810   2.799  0.00513 **
PreyPA           -1.08177    0.48806  -2.216  0.02666 *
PoptypePA        -1.41323    0.49769  -2.840  0.00452 **
sd                0.05281    0.16541   0.319  0.74952  
PreyPA:PoptypePA  1.32561    0.66631   1.989  0.04665 *


 > anova(ksvm2.glmm,test="Chisq")

Analysis of Deviance Table

             Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                             7    19.0232         
Prey        -71   1.5022        78    17.5210    1.0000
Poptype       1   4.6068        77    12.9143    0.0318
sd            1   0.0958        76    12.8185    0.7569
Prey:Poptype 73   3.9771         3     8.8414    1.0000
Warning messages:
1: non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)
2: non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)
3: non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjain2 at lucent.com  Mon Aug  6 15:28:12 2001
From: rjain2 at lucent.com (Jain, Rahul (Rahul))
Date: Mon, 6 Aug 2001 09:28:12 -0400 
Subject: [R] pictex driver and bargraph shading
Message-ID: <5E96EBE0E01ED311A7490008C7071B9907757F98@NJ0319EXCH004U>


> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Thursday, August 02, 2001 3:16 PM
> To: Jain, Rahul (Rahul)
> Cc: 'r-help at lists.r-project.org'
> Subject: Re: [R] pictex driver and bargraph shading
> 
> 
> On Thu, 2 Aug 2001, Jain, Rahul (Rahul) wrote:
> 
> > The postscript driver won't do, since I'm trying to embed 
> this in a LaTeX
> > document which I'll use pdflatex on and \includegraphics 
> for pdftex doesn't
> > support postscript. ps2pdf just rasterizes the ps, so it 
> looks terrible.
> 
> What ps2pdf is that?  It shouldn't in a recent ghostscript.

I figured out that the problem was that the font I chose wasn't a standard
pdf font. Changing it to helvetica makes a beautiful .pdf :)

> > I'm willing to do this another way, I just don't want to 
> use rasterized
> > plots in my document.
> 
> What's wrong with using the pdf() driver if you want pdf?

I just realized that debian woody (testing) doesn't have a recent R, so I
compiled the one in unstable, and after removing the test phase (many of the
tests reported failure even though they actually succeeded). But the pdf
driver makes a blank page...

> Alternatively, use the xfig() driver and some suitable back-end.
> 



-- 
Rahul Jain
rjain2 at lucent.com
908-559-6024
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug  6 16:19:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 6 Aug 2001 15:19:04 +0100 (BST)
Subject: [R] pictex driver and bargraph shading
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F98@NJ0319EXCH004U>
Message-ID: <Pine.LNX.4.31.0108061518140.1158-100000@gannet.stats>

On Mon, 6 Aug 2001, Jain, Rahul (Rahul) wrote:

>
> > -----Original Message-----
> > From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> > Sent: Thursday, August 02, 2001 3:16 PM
> > To: Jain, Rahul (Rahul)
> > Cc: 'r-help at lists.r-project.org'
> > Subject: Re: [R] pictex driver and bargraph shading
> >
> >
> > On Thu, 2 Aug 2001, Jain, Rahul (Rahul) wrote:
> >
> > > The postscript driver won't do, since I'm trying to embed
> > this in a LaTeX
> > > document which I'll use pdflatex on and \includegraphics
> > for pdftex doesn't
> > > support postscript. ps2pdf just rasterizes the ps, so it
> > looks terrible.
> >
> > What ps2pdf is that?  It shouldn't in a recent ghostscript.
>
> I figured out that the problem was that the font I chose wasn't a standard
> pdf font. Changing it to helvetica makes a beautiful .pdf :)
>
> > > I'm willing to do this another way, I just don't want to
> > use rasterized
> > > plots in my document.
> >
> > What's wrong with using the pdf() driver if you want pdf?
>
> I just realized that debian woody (testing) doesn't have a recent R, so I
> compiled the one in unstable, and after removing the test phase (many of the
> tests reported failure even though they actually succeeded). But the pdf
> driver makes a blank page...

Why not just compile R-1.3.0?  pdf() was introduced in that version, and
it definitely works.

It's hard for the rest of us to have to follow the mysteries of an OS
packager we do not use.  The standard R advice is to use the latest
released version (or r-patched), and not to expect help with obselete
versions.  And giving versions would have been rather useful....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Mon Aug  6 17:04:20 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Mon, 06 Aug 2001 08:04:20 -0700
Subject: [R] plot.hclust
Message-ID: <OFA6CE6497.E0915413-ON88256AA0.005291DF@rtp.epa.gov>


> I want to plot only a part of a denrogramm, which was produced by hclust.
In
> S-Plus I used the function subtree, but I can not find this function or a
> similar one in R.
>
> Thank you for your help,
> Thomas Pesl

See function prune.clust in contributed package maptree.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macosko at fas.harvard.edu  Mon Aug  6 23:30:08 2001
From: macosko at fas.harvard.edu (Evan Zane Macosko)
Date: Mon, 6 Aug 2001 17:30:08 -0400 (EDT)
Subject: [R] running R from Perl
Message-ID: <Pine.OSF.4.33.0108061728580.2071-100000@is03.fas.harvard.edu>

Hi everyone,


I'm interested in running R remotely from a Perl program--specifically I
want to plot some data in Perl and return the graph as an object to Perl.
Does anyone know if this is possible?

Thanks,
Evan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Mon Aug  6 18:56:54 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Mon, 6 Aug 2001 19:56:54 +0300 (EEST)
Subject: [R] panel user guide
Message-ID: <Pine.LNX.4.33.0108061953040.673-100000@localhost>

In the examples section of the package:panel function:panel it says

#See the accompanying document "A Users Guide to panel" for
#examples and code segments.

I tried to search this document from my help paths as well as from the
internet without success. Can anybody help?

Regards, Kari Ruohonen

----------------------------------------------
Kari Ruohonen
Finnish Game and Fisheries Research Institute
Socioeconomic and Aquaculture Research

Turku Game and Fisheries Research
It?inen Pitk?katu 3, 20520 Turku, Finland
tel. +358-20-5751681, +358-40-5238321 (mobile)
fax  +358-20-5751689

http://www.rktl.fi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  7 08:30:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 7 Aug 2001 07:30:15 +0100 (BST)
Subject: [R] panel user guide
In-Reply-To: <Pine.LNX.4.33.0108061953040.673-100000@localhost>
Message-ID: <Pine.GSO.4.31.0108070720500.7815-100000@auk.stats>

On Mon, 6 Aug 2001, Kari Ruohonen wrote:

> In the examples section of the package:panel function:panel it says
>
> #See the accompanying document "A Users Guide to panel" for
> #examples and code segments.
>
> I tried to search this document from my help paths as well as from the
> internet without success. Can anybody help?

The FAQ suggests you ask the author of a package directly.
In this case it looks as if it is the file panel/doc/documentation.tex
in the package sources, and perhaps the README needs to explain this.

General comment to package authors: documentation will not get installed
unless you provided a processed version in inst/doc. So having a PDF
version as  inst/doc/Panel-users-guide.pdf  (here) is a good idea.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Aug  7 08:44:41 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 7 Aug 2001 08:44:41 +0200 
Subject: [R] plot.hclust
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D8521B@arcss07.arcs.ac.at>

|See function prune.clust in contributed package maptree.
|

That is not the way I wanted. I would like to view e.g. the whole first
subtree of the plot. 
The problem is that I've ~700 cities, which I want to cluster, but on the
plot I can see nothing - obviously!!! I just want to zoom in on a part of
the tree

Thomas Pesl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Aug  7 08:54:48 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 7 Aug 2001 08:54:48 +0200
Subject: [R] multiple persp plots
Message-ID: <MABBLJDICACNFOLGIHJOCEOPCEAA.phgrosje@ulb.ac.be>

Hello,

I would like to plot two superposed surfaces (original data, and smoothed
models). Basically, I would like to create a usual persp plot with box, and
then superpose a second surface (without box and axes) on the top plane of
the box defined by the first graph. I don't know if it is clear :-(
Is it possible to draw such a second surface in an existing persp plot in R?

Another (related) question: once upon a time, it was a 'funfits' library in
CRAN. I don't find it on CRAN any more. Is it defunct? I installed an old
version 2.0.3 of this library. In the help files, there is a mention about
functions like persp.text, persp.points, persp.lines to add features in an
existing persp plot... but I don't find them. Do these functions exist
somewhere? Are they replaced by other functions?

Thanks,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Tue Aug  7 08:51:47 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Tue, 7 Aug 2001 09:51:47 +0300 (EEST)
Subject: [R] panel user guide
In-Reply-To: <Pine.GSO.4.31.0108070720500.7815-100000@auk.stats>
Message-ID: <Pine.LNX.4.33.0108070946420.656-100000@localhost>

On Tue, 7 Aug 2001, Prof Brian D Ripley wrote:

> The FAQ suggests you ask the author of a package directly.
> In this case it looks as if it is the file panel/doc/documentation.tex
> in the package sources, and perhaps the README needs to explain this.
>
> General comment to package authors: documentation will not get installed
> unless you provided a processed version in inst/doc. So having a PDF
> version as  inst/doc/Panel-users-guide.pdf  (here) is a good idea.

Thank you, I found it after downloading the sources from CRAN. In my case
there was a further problem (I think) because I had installed
package:panel from within R with install.packages() and presumably because
of this I did not have the source tree after accepting "delete downloaded
files" or something similar after the installation. If I am right a
warning could be useful?

Kari

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  7 09:27:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 7 Aug 2001 08:27:36 +0100 (BST)
Subject: [R] panel user guide
In-Reply-To: <Pine.LNX.4.33.0108070946420.656-100000@localhost>
Message-ID: <Pine.LNX.4.31.0108070826300.8793-100000@gannet.stats>

On Tue, 7 Aug 2001, Kari Ruohonen wrote:

> On Tue, 7 Aug 2001, Prof Brian D Ripley wrote:
>
> > The FAQ suggests you ask the author of a package directly.
> > In this case it looks as if it is the file panel/doc/documentation.tex
> > in the package sources, and perhaps the README needs to explain this.
> >
> > General comment to package authors: documentation will not get installed
> > unless you provided a processed version in inst/doc. So having a PDF
> > version as  inst/doc/Panel-users-guide.pdf  (here) is a good idea.
>
> Thank you, I found it after downloading the sources from CRAN. In my case
> there was a further problem (I think) because I had installed
> package:panel from within R with install.packages() and presumably because
> of this I did not have the source tree after accepting "delete downloaded
> files" or something similar after the installation. If I am right a
> warning could be useful?

A warning on what?  Package authors are supposed to install everything
needed from the sources, so binary distributions are possible.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  7 09:35:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 7 Aug 2001 08:35:13 +0100 (BST)
Subject: [R] multiple persp plots
In-Reply-To: <MABBLJDICACNFOLGIHJOCEOPCEAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.31.0108070828280.8793-100000@gannet.stats>

On Tue, 7 Aug 2001, Philippe Grosjean wrote:

> Hello,
>
> I would like to plot two superposed surfaces (original data, and smoothed
> models). Basically, I would like to create a usual persp plot with box, and
> then superpose a second surface (without box and axes) on the top plane of
> the box defined by the first graph. I don't know if it is clear :-(
> Is it possible to draw such a second surface in an existing persp plot in R?
>
> Another (related) question: once upon a time, it was a 'funfits' library in
> CRAN. I don't find it on CRAN any more. Is it defunct? I installed an old

Yes. It had been in Devel for a long time until a week or two ago.  There
were licensing issues with it.

> version 2.0.3 of this library. In the help files, there is a mention about
> functions like persp.text, persp.points, persp.lines to add features in an
> existing persp plot... but I don't find them. Do these functions exist
> somewhere? Are they replaced by other functions?

I think funfits has been superseded by fields on CRAN.
I believe the functions you mention were from the S original and not
operational in R.  R lacks the perspp function used with S's persp to add
to plots.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Aug  7 15:19:06 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 07 Aug 2001 09:19:06 -0400
Subject: [R] residuals from aov/Error
References: <200108021518.BAA09372@hilbert.maths.utas.edu.au>
Message-ID: <3B6FEACA.73B844D7@umsanet.edu.bo>

Hola, If i not remember wrong, this is discussed in the
V&R book.

Kjetil.

spoon wrote:
> 
> Hi,
>         Can I trouble someone for an explanation of residuals from a
> call to aov with an Error term?  I must admit I really do not
> understand this well at all and would be very thankful for any
> explanations or even pointers to a good text.
> 
> Thanks
> 
> Simon
> 
> --
> *****************************************************************
> *  Simon Wotherspoon                               _--_|\       *
> *  Maths Dept, University of Tasmania             /  Aus \      *
> *  Tasmania, Australia                            \_.--._/      *
> *  spoon at hilbert.maths.utas.edu.au                      v       *
> *****************************************************************
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at email.unc.edu  Tue Aug  7 15:38:34 2001
From: aperrin at email.unc.edu (Andrew Perrin)
Date: Tue, 7 Aug 2001 09:38:34 -0400 (EDT)
Subject: [R] running R from Perl
In-Reply-To: <Pine.OSF.4.33.0108061728580.2071-100000@is03.fas.harvard.edu>
Message-ID: <Pine.LNX.4.21.0108070935400.4754-100000@nujoma.perrins>

I'm certain it's possible, although I haven't tried it myself. The two
possibilities I can think of off the top of my head are:

1.) Use R's ability to read and write to/from sockets. Perl is happy to
open sockets (perldoc Socket), so you should be able to send data back and
forth that way. In R, see:

> apropos('socket')
[1]
"close.socket" "make.socket"  "print.socket" "read.socket"  "write.socket"


2.) Send the data to a temporary file from perl, then launch R with a
batch script to read the data and write the plot to a temporary file, then
read the temporary file from perl.

Hope this helps.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Mon, 6 Aug 2001, Evan Zane Macosko wrote:

> Hi everyone,
> 
> 
> I'm interested in running R remotely from a Perl program--specifically I
> want to plot some data in Perl and return the graph as an object to Perl.
> Does anyone know if this is possible?
> 
> Thanks,
> Evan
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Aug  7 16:11:26 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 07 Aug 2001 09:11:26 -0500
Subject: [R] pictex driver and bargraph shading
In-Reply-To: "Jain, Rahul's message of "Mon, 6 Aug 2001 09:28:12 -0400"
References: <5E96EBE0E01ED311A7490008C7071B9907757F98@NJ0319EXCH004U>
Message-ID: <87ofpsez8x.fsf@lumen.med.iupui.edu>

>>>>> "Jain," == Jain, Rahul (Rahul) <rjain2 at lucent.com> writes:

    > I just realized that debian woody (testing) doesn't have a
    > recent R, ...

Recent versions are available at CRAN, or by adding the following
to your apt sources:

deb http://cran.us.r-project.org/bin/linux/debian stable main

Mike

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moltchan at iiasa.ac.at  Tue Aug  7 17:04:56 2001
From: moltchan at iiasa.ac.at (Elena MOLTCHANOVA)
Date: Tue, 07 Aug 2001 17:04:56 +0200
Subject: [R] image() colors
Message-ID: <4.2.0.58.20010807165905.00abf130@mail>

Hi, everybody!

I am currently dealing with spatial estimation and thus writing some 
smoothing algorithms. My question concerns the graphical output. I would 
like my function to produce a picture of input data (X) and of estimation 
results(Y). Both, X and Y are categorical variables which can take values 
1,2,...,Cl. So, basically I write

foo<-function(){
....

image(X,...,col=terrain.colors(Cl))
image(Y,...,col=terrain.colors(Cl))
}

However, as a result of smoothing, some classes may disappear completely. 
For example:

	  X		  Y
	1 1 1		1 1 1
	1 0 1		1 1 1
	1 1 1		1 1 1

In output then graph for X would have green for 0 and yellow for 1, whereas 
the graph for Y would be all green. Thus the two pictures cannot be 
compared. Is there any way around this problem?

Thank you in advance for any help.

Best regards,

Elena MOLTCHANOVA
IIASA
International Institute for Applied Systems Analysis
A-2361 Laxenburg, Austria
E-Mail: moltchan at iiasa.ac.at
Phone : +43 2236 807-0
Fax   : +43 2236 71313

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  7 17:14:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 7 Aug 2001 16:14:25 +0100 (BST)
Subject: [R] image() colors
In-Reply-To: <4.2.0.58.20010807165905.00abf130@mail>
Message-ID: <Pine.LNX.4.31.0108071612560.3055-100000@gannet.stats>

On Tue, 7 Aug 2001, Elena MOLTCHANOVA wrote:

> Hi, everybody!
>
> I am currently dealing with spatial estimation and thus writing some
> smoothing algorithms. My question concerns the graphical output. I would
> like my function to produce a picture of input data (X) and of estimation
> results(Y). Both, X and Y are categorical variables which can take values
> 1,2,...,Cl. So, basically I write

(You have X = 0 in the example.)

> foo<-function(){
> ....
>
> image(X,...,col=terrain.colors(Cl))
> image(Y,...,col=terrain.colors(Cl))
> }
>
> However, as a result of smoothing, some classes may disappear completely.
> For example:
>
> 	  X		  Y
> 	1 1 1		1 1 1
> 	1 0 1		1 1 1
> 	1 1 1		1 1 1
>
> In output then graph for X would have green for 0 and yellow for 1, whereas
> the graph for Y would be all green. Thus the two pictures cannot be
> compared. Is there any way around this problem?

Set zlim = c(0.5, Cl+0.5) for values 1,2,...,Cl.

>
> Thank you in advance for any help.
>
> Best regards,
>
> Elena MOLTCHANOVA
> IIASA
> International Institute for Applied Systems Analysis
> A-2361 Laxenburg, Austria
> E-Mail: moltchan at iiasa.ac.at
> Phone : +43 2236 807-0
> Fax   : +43 2236 71313
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.mader at gsf.de  Tue Aug  7 17:37:32 2001
From: m.mader at gsf.de (Michael Mader)
Date: Tue, 07 Aug 2001 17:37:32 +0200
Subject: [R] running R from Perl
References: <Pine.LNX.4.21.0108070935400.4754-100000@nujoma.perrins>
Message-ID: <3B700B3C.55974047@gsf.de>

Andrew Perrin wrote:
> 

> 1.) Use R's ability to read and write to/from sockets. 
>...
> 2.) Send the data to a temporary file from perl, ...
> 
The second is the way Rweb et al. work. Have a look at Rweb and your Q
should be solved.

Cheers

Michael
-- 
Michael T. Mader
Institute for Bioinformatics/MIPS, GSF
0049-89-3187-3576
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Aug  7 18:42:32 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 07 Aug 2001 11:42:32 -0500
Subject: [R] question about combining data in two frames
In-Reply-To: mmiller3@iupui.edu's message of "07 Aug 2001 09:11:26 -0500"
Message-ID: <87vgjz95zb.fsf_-_@lumen.med.iupui.edu>

Dear R Experts,

I am still learning the subtleties or R programming and have a
question about the best (==most elegant) way to combine data in
two frames.  One frame is a table of measurements of sizes of
objects in multiple image fields and the other is a table of
areas for each field.  I want to calculate densities by dividing
total number of objects in each field by the appropriate area.  I
can do this like this:

sizes <- read.table("marked/combined.meas", header=T)
areas <- read.table("areas", header=T)

# Number of objects in each field
counts <- tapply( sizes$Diameter, factor(sizes$Field), length)

# Density in each field
for ( field in names(counts) ) {
  print( counts[field]/areas$Area[areas$Field==field] )
}

I'd like to get my densities as a vector though.  It feels like
there might be some way for me to use tapply (or some other R
idiom) to do the same thing as this for-loop, but I haven't been
able to hit upon it.  Can anyone offer suggestions?

Also, are there other ways to get my sums than the way I'm using
tapply above?

Thanks, Mike

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Tue Aug  7 19:11:43 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 7 Aug 2001 10:11:43 -0700 (PDT)
Subject: [R] image() colors
In-Reply-To: <4.2.0.58.20010807165905.00abf130@mail>
Message-ID: <20010807171143.77141.qmail@web13904.mail.yahoo.com>



You might want to use the `breaks=' argument. You
would have to decide on the breakpoints and the
associated colors beforehand, but that seems OK if you
know Cl:

breaks <- 0:Cl + 0.5 # assuming classes 1,2,...,Cl
col <- terrain.colors(Cl)

image(X,...,col=col, breaks=breaks)
image(Y,...,col=col, breaks=breaks)




--- Elena MOLTCHANOVA <moltchan at iiasa.ac.at> wrote:
> Hi, everybody!
> 
> I am currently dealing with spatial estimation and
> thus writing some 
> smoothing algorithms. My question concerns the
> graphical output. I would 
> like my function to produce a picture of input data
> (X) and of estimation 
> results(Y). Both, X and Y are categorical variables
> which can take values 
> 1,2,...,Cl. So, basically I write
> 
> foo<-function(){
> ....
> 
> image(X,...,col=terrain.colors(Cl))
> image(Y,...,col=terrain.colors(Cl))
> }
> 
> However, as a result of smoothing, some classes may
> disappear completely. 
> For example:
> 
> 	  X		  Y
> 	1 1 1		1 1 1
> 	1 0 1		1 1 1
> 	1 1 1		1 1 1
> 
> In output then graph for X would have green for 0
> and yellow for 1, whereas 
> the graph for Y would be all green. Thus the two
> pictures cannot be 
> compared. Is there any way around this problem?


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  7 19:30:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 7 Aug 2001 18:30:00 +0100 (BST)
Subject: [R] question about combining data in two frames
In-Reply-To: <87vgjz95zb.fsf_-_@lumen.med.iupui.edu>
Message-ID: <Pine.GSO.4.31.0108071816450.13622-100000@toucan.stats>

On 7 Aug 2001, Michael A. Miller wrote:

> Dear R Experts,
>
> I am still learning the subtleties or R programming and have a
> question about the best (==most elegant) way to combine data in
> two frames.  One frame is a table of measurements of sizes of
> objects in multiple image fields and the other is a table of
> areas for each field.  I want to calculate densities by dividing
> total number of objects in each field by the appropriate area.  I
> can do this like this:
>
> sizes <- read.table("marked/combined.meas", header=T)
> areas <- read.table("areas", header=T)
>
> # Number of objects in each field
> counts <- tapply( sizes$Diameter, factor(sizes$Field), length)
>
> # Density in each field
> for ( field in names(counts) ) {
>   print( counts[field]/areas$Area[areas$Field==field] )
> }
>
> I'd like to get my densities as a vector though.  It feels like
> there might be some way for me to use tapply (or some other R
> idiom) to do the same thing as this for-loop, but I haven't been
> able to hit upon it.  Can anyone offer suggestions?

>From what you have said, I think

counts / areas[match(names(counts), areas$Field), "Area"]

is what want.

> Also, are there other ways to get my sums than the way I'm using
> tapply above?

sapply(split(sizes$Diameter, sizes$Field), length)

is one.  However, I think table(sizes$Field) is all you need.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Aug  7 20:21:13 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 7 Aug 2001 11:21:13 -0700
Subject: [R] Packages: What expressions are allowed outside/before .First.lib?
Message-ID: <KKEGJOGBELBHDIKPINBMCEAKCGAA.hb@maths.lth.se>

Sorry for this long message. The two first questions asks for general coding
standard when creating packages, the third one asks if the .R files are
concatenated in lexical order or not, the fourth question is a "how-to"
question. All questions are related. If there is a reference where I can
read about this please tell me, because then I could repost a more
restricted set of questions.

Q1. When loading pakages, if exists, the .First.lib function will be called
in the end. Is it correct that it is only in .First.lib one should have
"executable" code? Is it also true that "outside" .First.lib, only function
declarations and objects assignments such as '.conflicts.OK <- TRUE' should
be used?

Q2. Is it considered ok to use attr() outside .First.lib? I would like set
an attribute 'modifiers' to all my functions as they are declared. I have
tried it and it work. This is an example of how one of my generated package
files looks like:

  callMe0 <- function(x)
    cat("hey\n")
  attr(callMe0, "modifiers") <- c("private")

  callMe <- function(x)
    callMe0(x)
  attr(callMe, "modifiers") <- c("public")

I know that I could put the attr() assignments in the .First.lib function,
but since I/we write code in (many) separated .R files, which are
concatenated when the library is build, it would be doomed to miss one or
have one to many. So, is the above code considered to be alright? (The
'private' and 'public' attributes are used to "hide" some of the functions
from the end user.)


Q3. After having used the attr() approach for a while, we wanted to add some
control of the assignment of 'modifiers'. I wrote a function "modifiers<-"
that assert that the values are valid before setting the attribute. Now the
code would look like

  callMe0 <- function(x)
    cat("hey\n")
  modifiers(callMe0) <- c("private")

  callMe <- function(x)
    callMe0(x)
  modifiers(callMe) <- c("public")

I think this code is a little bit more readable, but bullet-proof in the
sence that unknown modifiers can not be set. But, by doing this I know I am
in deep water; to load this library I rely on the fact that "modifiers<-" is
already declared. It looks like the library source file is created by
concatenation the .R files in lexical order and one can force the
declaration of "modifiers<-" to appear first by putting it in a file called
"000.R" (zeros). However, I don't know if one can rely on this?!


Q4. What I really want to do is to declare "modifiers<-" in another package,
lets call it, 'myrootlib', which all other libraries we write relies on.
Trying

  require(myrootlib)  # Declares "modifiers<-"

  callMe0 <- function(x)
    cat("hey\n")
  modifiers(callMe0) <- c("private")

  callMe <- function(x)
    callMe0(x)
  modifiers(callMe) <- c("public")

won't work! The reason for this seems to be that the package 'myrootlib' is
not loaded (evaluated) until afterwards. This brings up the issues asked in
Q1 and Q2. Is there another way to do it or do we have to go back to the
approaches explained in Q3, Q2 or even Q1?

Thank you so much!

Henrik Bengtsson

Lund University/UC Berkeley
hb at maths.lth.se

PS. Any questions I ever ask about [R] and possible improvements for it, is
to improve my (and hopefully others) understanding and never to complain. I
appreciate all the work done by all the contributors and testers. Thanks.
DS.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Aug  7 22:47:01 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 7 Aug 2001 13:47:01 -0700
Subject: [R] Packages: What expressions are allowed outside/before .First.lib?
In-Reply-To: <KKEGJOGBELBHDIKPINBMCEAKCGAA.hb@maths.lth.se>
Message-ID: <KKEGJOGBELBHDIKPINBMEEALCGAA.hb@maths.lth.se>

Follow up on my own message: I found autoload(), see under Q4 below:

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Henrik Bengtsson
> Sent: Tuesday, August 07, 2001 11:21 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Packages: What expressions are allowed outside/before
> .First.lib?
>
>
> Sorry for this long message. The two first questions asks for
> general coding
> standard when creating packages, the third one asks if the .R files are
> concatenated in lexical order or not, the fourth question is a "how-to"
> question. All questions are related. If there is a reference where I can
> read about this please tell me, because then I could repost a more
> restricted set of questions.
>
> Q1. When loading pakages, if exists, the .First.lib function will
> be called
> in the end. Is it correct that it is only in .First.lib one should have
> "executable" code? Is it also true that "outside" .First.lib,
> only function
> declarations and objects assignments such as '.conflicts.OK <-
> TRUE' should
> be used?
>
> Q2. Is it considered ok to use attr() outside .First.lib? I would like set
> an attribute 'modifiers' to all my functions as they are declared. I have
> tried it and it work. This is an example of how one of my
> generated package
> files looks like:
>
>   callMe0 <- function(x)
>     cat("hey\n")
>   attr(callMe0, "modifiers") <- c("private")
>
>   callMe <- function(x)
>     callMe0(x)
>   attr(callMe, "modifiers") <- c("public")
>
> I know that I could put the attr() assignments in the .First.lib function,
> but since I/we write code in (many) separated .R files, which are
> concatenated when the library is build, it would be doomed to miss one or
> have one to many. So, is the above code considered to be alright? (The
> 'private' and 'public' attributes are used to "hide" some of the functions
> from the end user.)
>
>
> Q3. After having used the attr() approach for a while, we wanted
> to add some
> control of the assignment of 'modifiers'. I wrote a function "modifiers<-"
> that assert that the values are valid before setting the
> attribute. Now the
> code would look like
>
>   callMe0 <- function(x)
>     cat("hey\n")
>   modifiers(callMe0) <- c("private")
>
>   callMe <- function(x)
>     callMe0(x)
>   modifiers(callMe) <- c("public")
>
> I think this code is a little bit more readable, but bullet-proof in the
> sence that unknown modifiers can not be set. But, by doing this I
> know I am
> in deep water; to load this library I rely on the fact that
> "modifiers<-" is
> already declared. It looks like the library source file is created by
> concatenation the .R files in lexical order and one can force the
> declaration of "modifiers<-" to appear first by putting it in a
> file called
> "000.R" (zeros). However, I don't know if one can rely on this?!
>
>
> Q4. What I really want to do is to declare "modifiers<-" in
> another package,
> lets call it, 'myrootlib', which all other libraries we write relies on.
> Trying
>
>   require(myrootlib)  # Declares "modifiers<-"
>
>   callMe0 <- function(x)
>     cat("hey\n")
>   modifiers(callMe0) <- c("private")
>
>   callMe <- function(x)
>     callMe0(x)
>   modifiers(callMe) <- c("public")
>
> won't work! The reason for this seems to be that the package
> 'myrootlib' is
> not loaded (evaluated) until afterwards. This brings up the
> issues asked in
> Q1 and Q2. Is there another way to do it or do we have to go back to the
> approaches explained in Q3, Q2 or even Q1?
>

Instead of 'require(myrootlib)' above, it looks like
'autoload("modifiers<-", "myrootlib")' would work. Is this a correct way to
use autoload?

> Thank you so much!
>
> Henrik Bengtsson
>
> Lund University/UC Berkeley
> hb at maths.lth.se
>
> PS. Any questions I ever ask about [R] and possible improvements
> for it, is
> to improve my (and hopefully others) understanding and never to
> complain. I
> appreciate all the work done by all the contributors and testers. Thanks.
> DS.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed Aug  8 02:23:05 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 8 Aug 2001 02:23:05 +0200 (MET DST)
Subject: [R] Strategy for creating a palette...?
Message-ID: <Pine.OSF.4.30.0108080214310.4212-100000@alnair.uio.no>

Dear all,

I'm generally not a big fan of GUIs, but I have just discovered one thing
where a GUI would be a nice thing: creating color palettes.

I'm creating an "image", for transparencies for a lecture I'm giving, so
this is going to look great... :-) What I'm out for, is to make green
tones and red tones, and a relatively sharp break between them. This break
will signify a rejection region for a test.

I've spent all evening, er, night trying to tune this, but it's still
ugly. My best shot so far is this:
greenred <- palette(rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0))
greenred2 <- greenred[c(1:160, 220:256)]
and use greenred2.

Any ideas...? Anybody got a pretty palette for this purpose? Also, I'd
like to tune the palette so that the break between green and red happens
at a value of e.g. 0.05. How would I do that?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Aug  8 09:11:53 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 8 Aug 2001 09:11:53 +0200
Subject: [R] "Transparent" background in graphics exported as metafiles
Message-ID: <MABBLJDICACNFOLGIHJOIEPFCEAA.phgrosje@ulb.ac.be>

Hi,

Under Windows, I am exporting graphs from R (in metafile -emf- format), and
want to combine them using a graphic package. It happens that the background
of the graph is represented by a filled rectangle (with the color given by
bg=...). This is to be expected. However, I find no options to disable this
and produce a graph with transparent background. Does such an option exist?
If not, then this could be a useful addition, because it is tricky to edit
the metafile, ungroup de elements, select the background rectangle, delete
it, regroup all the other elements and save the graph in a graphic pachage
just to get transparent background on the graph... This could be simply
bg=False.
Thanks,

Philippe Grosjean

P.S.: I really appreciate the changes made to exported graphs in R to
correct the bug in MS Word 2000 (some metafiles are not correctly displayed
on screen in Word 2000 for Windows). It is amazing that the R-team find a
workaround for this Micro$oft bug... and in the meanwhile, Micro$oft itself
does nothing. This is another example of the poor service of MS, comparing
to a community of volunteers creating a GPL software!!! Many, many thanks to
all guys that contributed to fix this.


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  8 09:57:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Aug 2001 08:57:55 +0100 (BST)
Subject: [R] "Transparent" background in graphics exported as metafiles
In-Reply-To: <MABBLJDICACNFOLGIHJOIEPFCEAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.31.0108080849040.7952-100000@gannet.stats>

On Wed, 8 Aug 2001, Philippe Grosjean wrote:

> Hi,
>
> Under Windows, I am exporting graphs from R (in metafile -emf- format), and
> want to combine them using a graphic package. It happens that the background
> of the graph is represented by a filled rectangle (with the color given by
> bg=...). This is to be expected. However, I find no options to disable this
> and produce a graph with transparent background. Does such an option exist?

No. Actually, I think you want no background in the EMF file, as I don't
know want `transparent background' means in EMF (but that could be my
ignorance).

`transparent' is not an R colour.  I guess ideally bg="transparent" would
suppress colouring the background on all devices.

> If not, then this could be a useful addition, because it is tricky to edit
> the metafile, ungroup de elements, select the background rectangle, delete
> it, regroup all the other elements and save the graph in a graphic pachage
> just to get transparent background on the graph... This could be simply
> bg=False.

Patches accepted....  It has been mentioned before in the context of png
and jpeg plots.


> Thanks,
>
> Philippe Grosjean
>
> P.S.: I really appreciate the changes made to exported graphs in R to
> correct the bug in MS Word 2000 (some metafiles are not correctly displayed
> on screen in Word 2000 for Windows). It is amazing that the R-team find a
> workaround for this Micro$oft bug... and in the meanwhile, Micro$oft itself
> does nothing. This is another example of the poor service of MS, comparing
> to a community of volunteers creating a GPL software!!! Many, many thanks to
> all guys that contributed to fix this.

The one accepts your thanks.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  8 11:47:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Aug 2001 11:47:31 +0200
Subject: [R] Strategy for creating a palette...?
In-Reply-To: <Pine.OSF.4.30.0108080214310.4212-100000@alnair.uio.no>
References: <Pine.OSF.4.30.0108080214310.4212-100000@alnair.uio.no>
Message-ID: <x2r8um2898.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> Dear all,
> 
> I'm generally not a big fan of GUIs, but I have just discovered one thing
> where a GUI would be a nice thing: creating color palettes.

Actually not. Just take a program which allows you to customize colors
graphically and try to match the selection to an existing color.

> I'm creating an "image", for transparencies for a lecture I'm giving, so
> this is going to look great... :-) What I'm out for, is to make green
> tones and red tones, and a relatively sharp break between them. This break
> will signify a rejection region for a test.
> 
> I've spent all evening, er, night trying to tune this, but it's still
> ugly. My best shot so far is this:
> greenred <- palette(rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0))

Um, that doesn't mean what I think you think it means.

Point 1: palette() returns the previous palette:

> greenred <- palette(rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0))
> greenred
[1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow" 
[8] "white"  

Point2: rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0) have equal amounts
of red and green, so is varying degrees of dirty yellow.

> Any ideas...? Anybody got a pretty palette for this purpose? Also, I'd
> like to tune the palette so that the break between green and red happens
> at a value of e.g. 0.05. How would I do that?

A code example that actually worked might have helped us...
Instinctively, I'd suggest you should play with hsv().


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed Aug  8 12:31:49 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 8 Aug 2001 12:31:49 +0200 (MET DST)
Subject: [R] Strategy for creating a palette...?
In-Reply-To: <x2r8um2898.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.4.30.0108081149110.4212-100000@alnair.uio.no>

On 8 Aug 2001, Peter Dalgaard BSA wrote:

>> I've spent all evening, er, night trying to tune this, but it's still
>> ugly. My best shot so far is this:
>> greenred <- palette(rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0))
>
>Um, that doesn't mean what I think you think it means.

Uh-oh. I just learnt something: If you're tired, don't even thing about
staying up to two o'clock trying to get things to work... :-)

Thanks a lot for replying anyway!

>Point 1: palette() returns the previous palette:

I remember reading that last night, but I guess I had a thick layer of
teflon on my brain at that time... :-) Sorry.
Now I understand, I wouldn't want to use palette at all, here.


>> greenred <- palette(rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0))
>> greenred
>[1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow"
>[8] "white"

So, this worked for me only because the previous palette I defined was the
example I meant to use...

>Point2: rgb(exp(-(0:255)/80), exp(-(0:255)/80), 0) have equal amounts
>of red and green, so is varying degrees of dirty yellow.

Yep, what I had on my screen was of course
rgb(exp(-(255:0)/80), exp(-(0:255)/80), 0)

>> Any ideas...? Anybody got a pretty palette for this purpose? Also, I'd
>> like to tune the palette so that the break between green and red happens
>> at a value of e.g. 0.05. How would I do that?
>
>A code example that actually worked might have helped us...

No doubt about that... :-)

>Instinctively, I'd suggest you should play with hsv().

I played with that too. The result was even worse... :-) Now I realize
that was partly because I didn't realize the H scale in GIMP was 0:360,
I thought it was 0:255.

OK, now I've deviced something that looks a lot better:
h <- c((120:70)/360, 45/360, 25/360, (22:0)/360)
s <- 1
v <- c(rep(90/100, 51), rep(95/100, 2), rep(1, 23))
hsv(h,s,v)

Can I make sure that a value e.g. 0.05 corresponds to the color with index
52?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Wed Aug  8 14:57:03 2001
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Wed, 08 Aug 2001 14:57:03 +0200
Subject: [R] Library hdarray
Message-ID: <3B71371F.9CD50EEC@pasteur.fr>

Dear everybody!

I m seeking the package named hdarray for the analysis of microarrays
data.
It must not included in the base packages.

Thanks in advance.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedro.aphalo at joensuu.fi  Wed Aug  8 15:52:34 2001
From: pedro.aphalo at joensuu.fi (Pedro J. Aphalo)
Date: Wed, 08 Aug 2001 16:52:34 +0300
Subject: [R] NLME augPred error
Message-ID: <3B714422.17A90F14@joensuu.fi>

Could someone explain the meaming of this error message from augPred:

> augPred(area3.pen.nlme, primary=~day)
Error in predict.nlme(object, value[1:(nrow(value)/nL), , drop =
FALSE],  : 
        Levels 1,2,3 not allowed for block
>

predict.nlme(area3.pen.nlme) does not produce an error.

area3.pen.nlme was created with:

> area3.pen.nlme <- nlme(area ~ SSlogis(day, Asym, xmid, scal),
+  data=area.pen.data,
+  fixed = Asym + xmid + scal ~ dose + block,
+  random = Asym + xmid + scal ~ 1|seedling,
+  weights = varPower(),
+  start = c(2887,0,0,0,10.7,0,0,0,2.29,0,0,0))
> 

area, day and dose are numeric
block and seedling are factors

area is the area in mm2 of one growing leaf for each seedling.

with 
  fixed = Asym + xmid + scal ~ dose
or
  fixed = Asym + xmid + scal ~ block
it works.
 
Thanks in advance for any help.

Pedro.


Windows 95

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R   

Package: nlme
Version: 3.1-15
Date: 2001/06/18
Built: R 1.3.0;  Win32;  2001-06-20 13:32:23

and

Package: nlme
Version: 3.1-16
Date: 2001/06/20
Built: R 1.3.0;  Win32;  2001-07-24 12:02:25

-- 

===============================================================
 Pedro J. Aphalo
 University of Joensuu
 Faculty of Forestry
 P.O. Box 111, FIN-80101 Joensuu, FINLAND
 mailto:pedro.aphalo at joensuu.fi
 http://cc.joensuu.fi/~aphalo/pedro.html
 fax: +358 13 251 4444
 tel: +358 13 251 4406                         ,,,^..^,,,
================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Aug  8 17:57:17 2001
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 8 Aug 2001 17:57:17 +0200 (MDT)
Subject: [R] Library hdarray
In-Reply-To: <3B71371F.9CD50EEC@pasteur.fr>
Message-ID: <Pine.SGI.3.95.1010808175023.97355438B-100000@genome.cbs.dtu.dk>


Dear Aboubakar,


Contributed packages can be downloaded from the R-CRAN website.
http://cran.r-project.org/
The 'hdarray' one is not listed in CRAN, so you may want to have a look at
http://genomics.biochem.uci.edu/genex/cybert/


Regards,


Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent



On Wed, 8 Aug 2001, Aboubakar Maitournam wrote:

> Dear everybody!
> 
> I m seeking the package named hdarray for the analysis of microarrays
> data.
> It must not included in the base packages.
> 
> Thanks in advance.
> 
> Aboubakar Maitournam.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Aug  8 18:04:28 2001
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 8 Aug 2001 18:04:28 +0200 (MDT)
Subject: [R] Library hdarray
In-Reply-To: <3B71371F.9CD50EEC@pasteur.fr>
Message-ID: <Pine.SGI.3.95.1010808180204.97355438C-100000@genome.cbs.dtu.dk>

...I should have sit on my hands and count up to 10 before hitting return
one more time... =)


...hdarray is told by the authors to be at CRAN... sorry...

...but I managed to find the R code somewhere

http://www.stat.wisc.edu/p/stat/yandell/public/statgen/R/hdarray/R/

... does anybody have the C code ?




Laurent



Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent


On Wed, 8 Aug 2001, Aboubakar Maitournam wrote:

> Dear everybody!
> 
> I m seeking the package named hdarray for the analysis of microarrays
> data.
> It must not included in the base packages.
> 
> Thanks in advance.
> 
> Aboubakar Maitournam.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Wed Aug  8 18:11:10 2001
From: mikem at salter-point.com (Michael M. Meyer)
Date: Wed, 08 Aug 2001 09:11:10 -0700
Subject: [R] Kudos to all (GC works really well)
Message-ID: <200108081611.f78GBBI12139@home.salter-point.com>

I am a lurker on the mailing list and a quiet but active user of R.  I
recently needed to do some exploration and modelling on a large set of
data.  In the past I would have been sceptical about how well R's
memory management and garbage collection would perform.  I fully
expected R or my operating system to grind to a crashing halt.
However I was delighted with the memory performance.  Garbage *was*
collected.  The memory footprint of the process did not explode.  I
got answers (and even the answers I wanted) in a remarkably short
amount of time.  I was able to do my work on a modestly configured
machine (Linux, but that is less important) with 256Mb of memory.  I
know that in the past these sames types of analyses would have played
havoc on a machine with 2Gb of memory.

So thank you to the people who have finally tamed the memory monster
(you know who you are, and I think I do too). 

Best Regards, --Mike

Mike Meyer, Salter Point Associates, Seattle WA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Aug  8 18:20:04 2001
From: pauljohn at ukans.edu (Paul Johnson)
Date: Wed, 08 Aug 2001 11:20:04 -0500
Subject: [R] box doesn't surround words in legend in printed output
Message-ID: <3B7166B4.98940845@ukans.edu>

I have made a plot with a legend and on the screen it looks fine, but
when I save as jpg or pdf, or print, the legend box is too small, it
cuts through the words on the right side.

I put an example here:
http://lark.cc.ukans.edu/~pauljohn/R/apdftest.pdf

Is there a work around? 

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  8 18:41:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Aug 2001 17:41:21 +0100 (BST)
Subject: [R] box doesn't surround words in legend in printed output
In-Reply-To: <3B7166B4.98940845@ukans.edu>
Message-ID: <Pine.LNX.4.31.0108081738100.21825-100000@gannet.stats>

On Wed, 8 Aug 2001, Paul Johnson wrote:

> I have made a plot with a legend and on the screen it looks fine, but
> when I save as jpg or pdf, or print, the legend box is too small, it
> cuts through the words on the right side.
>
> I put an example here:
> http://lark.cc.ukans.edu/~pauljohn/R/apdftest.pdf
>
> Is there a work around?

You need to tell us a lot more, like which OS, exactly how you saved
or printed, etc.

My guess though is that you copied from device to device.  Don't,
use plot directly on the device you wanted.  Copying plots does not
recalculate boxes for changed point sizes, for example.

If you really need to do this you will need to play with the pointsize on
the receiving device.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  8 18:44:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Aug 2001 18:44:10 +0200
Subject: [R] box doesn't surround words in legend in printed output
In-Reply-To: <3B7166B4.98940845@ukans.edu>
References: <3B7166B4.98940845@ukans.edu>
Message-ID: <x2wv4ezelh.fsf@blueberry.kubism.ku.dk>

Paul Johnson <pauljohn at ukans.edu> writes:

> I have made a plot with a legend and on the screen it looks fine, but
> when I save as jpg or pdf, or print, the legend box is too small, it
> cuts through the words on the right side.
> 
> I put an example here:
> http://lark.cc.ukans.edu/~pauljohn/R/apdftest.pdf
> 
> Is there a work around? 

Sort of. The key is that "replaying" graphics is not smart enough when
a graph is resized, and this effectively happens when you copy a graph
between devices. If your screen image has different (formal)
dimensions and pointsize, the stringwidths used for sizing the legend
box are not recalculated. You can either generate your plots directly
to the target device, or adjust your screen image size to fit the
target using the options to x11()/windows().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at uncc.edu  Wed Aug  8 19:37:58 2001
From: jkawczak at uncc.edu (Janusz Kawczak)
Date: Wed, 8 Aug 2001 13:37:58 -0400 (EDT)
Subject: [R] Package for variable clustering
In-Reply-To: <3B681ABE.29391A9B@utoronto.ca>
Message-ID: <Pine.SOL.4.33.0108081332220.16591-100000@is-sm1.uncc.edu>

Dear R users:

is there a package, similar to varclus in SAS or varclus in S, ported or
written for R? Also, is there any other package in R that was designed for
grouping the variables under different measures of distance (in cases
where data is non-Gaussian, autocorrelated, and so on).

Janusz.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at math.uncc.edu  Wed Aug  8 19:43:27 2001
From: jkawczak at math.uncc.edu (Janusz Kawczak)
Date: Wed, 08 Aug 2001 13:43:27 -0400
Subject: [R] Package for variable clustering
Message-ID: <3B717A3F.DAFCC96@math.uncc.edu>

Dear R users:

is there a package, similar to varclus in SAS or varclus in S, ported or

written for R? Also, is there any other package in R that was designed
for
grouping the variables under different measures of distance (in cases
where data is non-Gaussian, autocorrelated, and so on).

Janusz.


--
** Janusz Kawczak                                                       **
** UNC at Charlotte, Department of Mathematics, Room 350F               **
** Charlotte, NC, 28223-0001, U.S.A.                                    **
** Tel.: (704) 687-2566 (W) (704) 921-0273 (H) Fax.: (704) 510-6415     **



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjain2 at lucent.com  Wed Aug  8 21:37:31 2001
From: rjain2 at lucent.com (Jain, Rahul (Rahul))
Date: Wed, 8 Aug 2001 15:37:31 -0400 
Subject: [R] Plotting multiple series of data
Message-ID: <5E96EBE0E01ED311A7490008C7071B9907757F9C@NJ0319EXCH004U>

I'd like to plot data that's in the form of a table such as this:

	1	2	4	6	8	12
a	10	11	12	14	15	30
b	2	3	3	4	5	5
c	1	1	2	2	3	3

Where the row headers are the results for different series of tests, and the
column headers are the x-values.

I'd like to plot this as a set of lines, one each for "a", "b", and "c". I
can rearrange the data as needed, but I'm wondering if there's an easy way
to do this in R. I suppose I could just use gnuplot for this plot if it'll
be simpler, but I'd like to avoid changing the visual style of the graphs
just for this set.

Thanks,
-- 
Rahul Jain
rjain2 at lucent.com
908-559-6024

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Aug  8 21:36:10 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Wed, 08 Aug 2001 14:36:10 -0500
Subject: [R] box doesn't surround words in legend in printed output
References: <Pine.LNX.4.31.0108081738100.21825-100000@gannet.stats>
Message-ID: <3B7194AA.87ED4026@ukans.edu>

Prof Brian Ripley wrote:

> You need to tell us a lot more, like which OS, exactly how you saved
> or printed, etc.

I thought you knew me:)  I have: Linux, RH 7.1, R version 1.3 installed
from the RPM on R's homepage.

> My guess though is that you copied from device to device.  Don't,
> use plot directly on the device you wanted.  Copying plots does not
> recalculate boxes for changed point sizes, for example.

Yes, you are correct.  I was using dev.copy().  I notice now dev.print()
gives a better result, I should have remembered.

Perhaps one of you will tell me if there is a standard recommended way
to do this. I will eagerly follow any advice you have.  I'll even
document it(http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html#5.2).  

Here is the goal:
I have hundreds of datasets, DataCulture0, DataCulture1, etc, and I
cycle through them to try to find the one that has the pattern I'm
looking for. This does it:

run<-0
updateDataSet <- function(run)
  {
    aChar<-character(1)
    aChar<-as.character(run)
    dsname<-c(paste("DataCulture",aChar,sep=""))
    data<-read.table(dsname,header=T,as.is = TRUE)
}

buildGraph <-function(data)
{
tmp1<-plot(data$acquaint~data$T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",lty=1,pch=1,main="")
par("new"=TRUE)
tmp2<-plot(data$harmony~data$T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",lty=2,pch=1,main="")
par("new"=TRUE)
tmp3<-plot(data$identical~data$T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",lty=3,pch=1,main="")
par("new"=TRUE)
tmp4<-plot(data$totalEntropy~data$T,type='l',ylim=c(0,1),ylab="",xlab="",lty=4,pch=1,main="",
cex=10)

legend(max(data$T)/2,0.2,c("Acquaintance","Harmonious","Identical","Entropy"),lty=1:4,xjust=1,yjust=1)
#if you want to interact, do this:
#legend(locator(1),c("Acquaintance","Harmonious","Identical","Entropy"),lty=1:3)
}

new<-function()
{
  dsname<-updateDataSet(run)
  buildGraph(dsname)
  run <<- run+1
}

new()

Each time I type 
new()
it opens the next dataset and makes me a plot that I see on the screen.
When I see the one I want, then I need to save it. 

Perhaps I should make a function that turns on the pdf device, then
replots the figure, then turns the device off.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  8 22:14:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Aug 2001 21:14:51 +0100 (BST)
Subject: [R] Plotting multiple series of data
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F9C@NJ0319EXCH004U>
Message-ID: <Pine.LNX.4.31.0108082112270.21978-100000@gannet.stats>

On Wed, 8 Aug 2001, Jain, Rahul (Rahul) wrote:

> I'd like to plot data that's in the form of a table such as this:
>
> 	1	2	4	6	8	12
> a	10	11	12	14	15	30
> b	2	3	3	4	5	5
> c	1	1	2	2	3	3
>
> Where the row headers are the results for different series of tests, and the
> column headers are the x-values.
>
> I'd like to plot this as a set of lines, one each for "a", "b", and "c". I
> can rearrange the data as needed, but I'm wondering if there's an easy way
> to do this in R. I suppose I could just use gnuplot for this plot if it'll
> be simpler, but I'd like to avoid changing the visual style of the graphs
> just for this set.

matplot(t(table), type="l")

or something similar: you get the idea which is to use matplot to plot
columns.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  8 22:24:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Aug 2001 22:24:04 +0200
Subject: [R] Plotting multiple series of data
In-Reply-To: <5E96EBE0E01ED311A7490008C7071B9907757F9C@NJ0319EXCH004U>
References: <5E96EBE0E01ED311A7490008C7071B9907757F9C@NJ0319EXCH004U>
Message-ID: <x2zo9al2qj.fsf@blueberry.kubism.ku.dk>

"Jain, Rahul (Rahul)" <rjain2 at lucent.com> writes:

> I'd like to plot data that's in the form of a table such as this:
> 
> 	1	2	4	6	8	12
> a	10	11	12	14	15	30
> b	2	3	3	4	5	5
> c	1	1	2	2	3	3
> 
> Where the row headers are the results for different series of tests, and the
> column headers are the x-values.
> 
> I'd like to plot this as a set of lines, one each for "a", "b", and "c". I
> can rearrange the data as needed, but I'm wondering if there's an easy way
> to do this in R. I suppose I could just use gnuplot for this plot if it'll
> be simpler, but I'd like to avoid changing the visual style of the graphs
> just for this set.

Here's one way:

matplot(colnames(m),t(m),type="b")


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Aug  8 22:33:58 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 08 Aug 2001 16:33:58 -0400
Subject: [R] Plotting multiple series of data
Message-ID: <B9A894093554D511941700508B5C76DB23D020@uswpmx08.merck.com>

You can use the matplot function on the transpose of your table (without
header): 
matplot(t(table),type="l"). If you give the x-values (top row of your table)
as the first argument, they'll label the x-axis:
matplot(x,t(table),type="l"). Lots of control over colors, styles, etc is
available: see help(matplot).

ts.plot from the time series library also works.

Reid Huntsinger

-----Original Message-----
From: Jain, Rahul (Rahul) [mailto:rjain2 at lucent.com]
Sent: Wednesday, August 08, 2001 3:38 PM
To: 'r-help at lists.r-project.org'
Subject: [R] Plotting multiple series of data


I'd like to plot data that's in the form of a table such as this:

	1	2	4	6	8	12
a	10	11	12	14	15	30
b	2	3	3	4	5	5
c	1	1	2	2	3	3

Where the row headers are the results for different series of tests, and the
column headers are the x-values.

I'd like to plot this as a set of lines, one each for "a", "b", and "c". I
can rearrange the data as needed, but I'm wondering if there's an easy way
to do this in R. I suppose I could just use gnuplot for this plot if it'll
be simpler, but I'd like to avoid changing the visual style of the graphs
just for this set.

Thanks,
-- 
Rahul Jain
rjain2 at lucent.com
908-559-6024

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  8 22:36:11 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Aug 2001 22:36:11 +0200
Subject: [R] box doesn't surround words in legend in printed output
In-Reply-To: <3B7194AA.87ED4026@ukans.edu>
References: <Pine.LNX.4.31.0108081738100.21825-100000@gannet.stats>
	<3B7194AA.87ED4026@ukans.edu>
Message-ID: <x2vgjyl26c.fsf@blueberry.kubism.ku.dk>

Paul E Johnson <pauljohn at ukans.edu> writes:

> Each time I type 
> new()
> it opens the next dataset and makes me a plot that I see on the screen.
> When I see the one I want, then I need to save it. 
> 
> Perhaps I should make a function that turns on the pdf device, then
> replots the figure, then turns the device off.

That'll be effective, but would it not work to use

dev.copy(pdf, file="foo", height=7, width=7)

or conversely start the whole enchillada with

x11(height=6, width=6)

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjain2 at lucent.com  Wed Aug  8 23:56:04 2001
From: rjain2 at lucent.com (Jain, Rahul (Rahul))
Date: Wed, 8 Aug 2001 17:56:04 -0400 
Subject: [R] Plotting multiple series of data
Message-ID: <5E96EBE0E01ED311A7490008C7071B9907757F9D@NJ0319EXCH004U>

Thanks for the help, everyone. matplot was exactly what I needed.

-- 
Rahul Jain
rjain2 at lucent.com
908-559-6024


> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, August 08, 2001 4:15 PM
> To: Jain, Rahul (Rahul)
> Cc: 'r-help at lists.r-project.org'
> Subject: Re: [R] Plotting multiple series of data
> 
> 
> On Wed, 8 Aug 2001, Jain, Rahul (Rahul) wrote:
> 
> > I'd like to plot data that's in the form of a table such as this:
> >
> > 	1	2	4	6	8	12
> > a	10	11	12	14	15	30
> > b	2	3	3	4	5	5
> > c	1	1	2	2	3	3
> >
> > Where the row headers are the results for different series 
> of tests, and the
> > column headers are the x-values.
> >
> > I'd like to plot this as a set of lines, one each for "a", 
> "b", and "c". I
> > can rearrange the data as needed, but I'm wondering if 
> there's an easy way
> > to do this in R. I suppose I could just use gnuplot for 
> this plot if it'll
> > be simpler, but I'd like to avoid changing the visual style 
> of the graphs
> > just for this set.
> 
> matplot(t(table), type="l")
> 
> or something similar: you get the idea which is to use matplot to plot
> columns.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Thu Aug  9 13:47:10 2001
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: 9 Aug 2001 13:47:10 +0200
Subject: [R] converting BMDP 8V mixed model treatment to R ?
Message-ID: <9ktt7u$2go$1@yorikke.arb-phys.uni-dortmund.de>

I am trying to translate a given BMDP 8V problem treatment to something
approximately equivalent in nlme package (or base R, if sufficient).
(Of course, it is not my goal to end there. I want to get access to the
advanced flexibility of a more modern treatment.) Here is the problem
statement in BMDP control language:

/input  title='Augenbewegungen'.
        variables=4.
        file='latm.dat'.
        format='11x,f7.0,f7.0,f12.4,f10.0'.
/variables names=
llat,rlat,vg,diff.
/design
ndep = 4.
level=21,2,2,9,3.
names = pers,retest,direct,flicker,ground.
random = pers.
fixed = retest,ground,direct,flicker.
model = 'P,R,G,D,F'.
/end.
/finish.

I tried in R (some minor differences in variable naming):

latm <- read.table( "latm.dat" )
latm.aov <- aov( llat ~ direct * flicker *ground *retest +person
	+ Error( person : ( direct * flicker *ground *retest )))

Indeed, summary(latm.aov) gives the same F tests than BMDP8V for the 1st part
of the evaluation. But I don't get variance components from this.

So it looks as if I have to change to mle from nmle package. I did not succeed
to translate this model to mle yet.

Trial-and-error fails mostly, because
the problem thrashes my system (FreeBSD, K6-233, 64MB). This is particularly
astonishing, as BMDP8V does it's work without problems on an old 24MB uVAX VMS
system in mere 20 seconds CPU time. To run the above R partial solution
I have to wait for about an hour on a freshly loaded R, after making the
swapspace 3times as large as I use in normal work. There must be something
wrong, but I have no idea, how to advance.
-- 
Dipl.-Math. Wilhelm Bernhard Kloke
Institut fuer Arbeitsphysiologie an der Universitaet Dortmund
Ardeystrasse 67, D-44139 Dortmund, Tel. 0231-1084-257
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Thu Aug  9 14:26:56 2001
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Thu, 09 Aug 2001 05:26:56 -0700
Subject: [R] Mixed mode import problem
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E185787EF@icrafnttrain.icraf.cgiar.org>

First question:
I have an Excel file with both character and numeric variables that I want
to import to a data.frame, so I've saved the data to a tab-delimited text
file.

read.table :
*	Won't identify the mode of my character variables, as some of them
contain only numbers and none of them are surrounded by quotes,
*	Won't allow me to specify the mode of my variables,
*	Doesn't read the whole file, apparently because Excel has added tabs
beyond the end of some rows.

scan:
*	Allows me to specify the mode of my variables,
*	Reads the whole file correctly when I set flush=TRUE,
*	But gives me a list rather than a data.frame,
*	And doesn't allow me to specify row.names and col.names

When I use as.data.frame to convert my file to a data.frame, I lose the mode
of my variables. I tried to protect the mode using I, but if that's the
correct thing to do, I didn't get the syntax right.

Is there any way the I can define the mode of my variables after I have them
in my data frame? Or another solution to my problem.

Second question:
I have a large number of variables, not all of which I'd like to use in all
the analyses.  How do I select just those that I want for the next analysis?

I've worked through R for beginners, the import/export manual, an
introduction to R, and considerable chunks of the reference manual, as well
as a few other texts and I could do with some help.

-mikkel



Mikkel Grum
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group

m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Aug  9 02:04:52 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Wed, 08 Aug 2001 20:04:52 -0400
Subject: [R] Package for variable clustering
References: <3B717A3F.DAFCC96@math.uncc.edu>
Message-ID: <3B71D3A4.5E1672E3@virginia.edu>

The varclus function in the Hmisc library, soon to be available
in beta test for R, does variable clustering.  varclus uses
two similarity measures that are quite robust - Spearman rho^2
rank correlation coefficients and Hoeffding's D statistic, an
omnibus nonparametric test of association.  You can also use
Pearson r^2.  I will make an announcement on r-help when the
package is available.  varclus is not designed to handle
autocorrelation (neither is SAS VARCLUS).   -Frank Harrell

Janusz Kawczak wrote:
> 
> Dear R users:
> 
> is there a package, similar to varclus in SAS or varclus in S, ported or
> 
> written for R? Also, is there any other package in R that was designed
> for
> grouping the variables under different measures of distance (in cases
> where data is non-Gaussian, autocorrelated, and so on).
> 
> Janusz.
> 
> --
> ** Janusz Kawczak                                                       **
> ** UNC at Charlotte, Department of Mathematics, Room 350F               **
> ** Charlotte, NC, 28223-0001, U.S.A.                                    **
> ** Tel.: (704) 687-2566 (W) (704) 921-0273 (H) Fax.: (704) 510-6415     **
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Aug  9 16:26:11 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 9 Aug 2001 15:26:11 +0100
Subject: [R] Mixed mode import problem
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E185787EF@icrafnttrain.icraf.cgiar.org>
References: <A68A7C0BB344D511AA38005004AA9E185787EF@icrafnttrain.icraf.cgiar.org>
Message-ID: <dFJ$JEAD2pc7Ewna@myatt.demon.co.uk>

Grum, Mikkel <M.GRUM at CGIAR.ORG> writes:
>First question:
>I have an Excel file with both character and numeric variables that I want
>to import to a data.frame, so I've saved the data to a tab-delimited text
>file.
>
>read.table :
>*      Won't identify the mode of my character variables, as some of them
>contain only numbers and none of them are surrounded by quotes,
>*      Won't allow me to specify the mode of my variables,
>*      Doesn't read the whole file, apparently because Excel has added tabs
>beyond the end of some rows.
>
>scan:
>*      Allows me to specify the mode of my variables,
>*      Reads the whole file correctly when I set flush=TRUE,
>*      But gives me a list rather than a data.frame,
>*      And doesn't allow me to specify row.names and col.names
>
>When I use as.data.frame to convert my file to a data.frame, I lose the mode
>of my variables. I tried to protect the mode using I, but if that's the
>correct thing to do, I didn't get the syntax right.
>
>Is there any way the I can define the mode of my variables after I have them
>in my data frame? Or another solution to my problem.

Look at using the scan() functions and specify your variable types in
the 'what' parameter to scan().

>Second question:
>I have a large number of variables, not all of which I'd like to use in all
>the analyses.  How do I select just those that I want for the next analysis?
>
>I've worked through R for beginners, the import/export manual, an
>introduction to R, and considerable chunks of the reference manual, as well
>as a few other texts and I could do with some help.

Use cbind() to bind a set of vectors from the dataset toghether and then
use colnames() to give them names. Use rm() to get rid of the big
dataset.

I hope that helps,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Thu Aug  9 16:53:15 2001
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Thu, 09 Aug 2001 16:53:15 +0200
Subject: [R] converting a BMDP 8V mixed model to R / nlme
Message-ID: <3B72A3DB.95F7B99E@vestein.arb-phys.uni-dortmund.de>

[Sorry, In case this is repeating a message already sent to the list].

I am trying to move a project to R (base or nlme), for which I have a
partial
solution in BMDP 8V. Here is the 8V control language:

/input  title='Augenbewegungen'.
        variables=4.
        file='latm.dat'.
        format='11x,f7.0,f7.0,f12.4,f10.0'.
/variables names=
llat,rlat,vg,diff.
/design
ndep = 4.
level=21,2,2,9,3.
names = person,retest,direct,flicker,ground.
random = person.
fixed = retest,ground,direct,flicker.
model = 'P,R,G,D,F'.
/end.
/finish.

BMDP 8V calculates the anova and reports F-values for tests of all fixed
effect
interactions against the error from the interaction with person
variables.
Also estimates of variance components. (BMDP is used on uVAX3100 , 24MB,
VMS system, CPU time 20 s for this problem). I tried to translate the
setup
to R. The nearest equivalent I got was:

latm <- read.table("latm.dat" )
latm.aov <- aov( llat ~ person + retest * direct * flicker * ground
	+ Error ( person : ( retest * direct * flicker * ground )))

summary(latm.aov) at least reports the same F-values as 8V does. Though
the
R computations thrash my system (FreeBSD, K6-233, 64MB). I have to
triple the swapspace before starting, and I wait about an hour for
either rebooting the system or having a lucky outcome. There seems to be
something fundamentally wrong.

It seems I have to move to nmle to get variance components. I did not
manage to translate my problem to mle language yet.

Thanks for any help

-- 
Dipl.-Math. Wilhelm Bernhard Kloke
Institut fuer Arbeitsphysiologie an der Universitaet Dortmund
Ardeystrasse 67, D-44139 Dortmund, Tel. 0231-1084-257
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Anne_Yeh at hc-sc.gc.ca  Thu Aug  9 16:56:12 2001
From: Anne_Yeh at hc-sc.gc.ca (Anne_Yeh@hc-sc.gc.ca)
Date: Thu, 9 Aug 2001 10:56:12 -0400
Subject: [R] nls
Message-ID: <85256AA3.0052122A.00@smta00.hc-sc.gc.ca>



Hello,

I want to convert the following SAS code in S-plus script.
I'm using S-Plus 2000 in Windows 95.

PROC nlmixed data=dat cov df=39;
 PARMS A=-1.5 A1=0.5 B=1.1 C=.1 D=.7;
 IF SAMPLE="s" THEN I=0;
 ELSE I=1;
 Y=A+B*lconc + A1*I;
 F1=C+(D-C)/(1+EXP(-Y));
 MODEL OD ~ normal(F1,s2e);

Does anyone have any advice as to how to do this?

Any comments will be appreciated,

Anne


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  9 18:12:15 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Aug 2001 18:12:15 +0200
Subject: [R] converting a BMDP 8V mixed model to R / nlme
In-Reply-To: <3B72A3DB.95F7B99E@vestein.arb-phys.uni-dortmund.de>
References: <3B72A3DB.95F7B99E@vestein.arb-phys.uni-dortmund.de>
Message-ID: <x2ofppi55s.fsf@blueberry.kubism.ku.dk>

"Wilhelm B. Kloke" <wb at vestein.arb-phys.uni-dortmund.de> writes:

> latm <- read.table("latm.dat" )
> latm.aov <- aov( llat ~ person + retest * direct * flicker * ground
> 	+ Error ( person : ( retest * direct * flicker * ground )))
> 
> summary(latm.aov) at least reports the same F-values as 8V does. Though
> the
> R computations thrash my system (FreeBSD, K6-233, 64MB). I have to
> triple the swapspace before starting, and I wait about an hour for
> either rebooting the system or having a lucky outcome. There seems to be
> something fundamentally wrong.
> 
> It seems I have to move to nmle to get variance components. I did not
> manage to translate my problem to mle language yet.

(That's nlme/lme - (non-)linear mixed effect)

aov() does take rather a long time on problems of this size (2268
observations, 16 error strata). I tried it with simulated data and saw
the the memory footprint go to about 300MB for a while... 

The algorithm in R is not as good at taking advantage of balancedness
between error terms as programs like Genstat and does the orthogonal
decomposition by brute force, leading to linear problems with a huge
number of predictors. Of course, given sufficient knowledge of the
particular model, you can optimize very heavily and everything
reduces to means and sums of squares thereof. That is probably what
BMDP 8V does.

Variance components can be obtained from the estimated stratum error
terms by inverting the linear relation between them, which is a bit
tedious to work out, but I suspect you'll find it even more tedious to
set up the model in lme()... The latter involves explicitly setting up
the block diagonal covariance matrix of random effects, with each
block proportional to the identity matrix. Something like

random=list(person=pdBlocked(
   list(pdIdent(~retest-1),
        ...., 
        pdIdent(~retest:direct:flicker:ground-1))))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  9 19:06:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 9 Aug 2001 10:06:14 -0700 (PDT)
Subject: [R] Packages: What expressions are allowed outside/before
 .First.lib?
In-Reply-To: <kkegjogbelbhdikpinbmceakcgaa.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.33.0108091006140.9336@hymn07.u.washington.edu>

On Tue, 7 Aug 2001, Henrik Bengtsson wrote:


> 
> Q1. When loading pakages, if exists, the .First.lib function will be called
> in the end. Is it correct that it is only in .First.lib one should have
> "executable" code? Is it also true that "outside" .First.lib, only function
> declarations and objects assignments such as '.conflicts.OK <- TRUE' should
> be used?

I think it's fine to put any executable code in a package.  The RSMethods package does do some computation at install-time. There's some discussion of this and a mechanism to make it more efficient at
   http://developer.r-project.org/Install.html


> 
> Q3. After having used the attr() approach for a while, we wanted to add some
> control of the assignment of 'modifiers'. I wrote a function "modifiers<-"
> that assert that the values are valid before setting the attribute. Now the
> code would look like
> 
>   callMe0 <- function(x)
>     cat("hey\n")
>   modifiers(callMe0) <- c("private")
> 
>   callMe <- function(x)
>     callMe0(x)
>   modifiers(callMe) <- c("public")
> 
> I think this code is a little bit more readable, but bullet-proof in the
> sence that unknown modifiers can not be set. But, by doing this I know I am
> in deep water; to load this library I rely on the fact that "modifiers<-" is
> already declared. It looks like the library source file is created by
> concatenation the .R files in lexical order and one can force the
> declaration of "modifiers<-" to appear first by putting it in a file called
> "000.R" (zeros). However, I don't know if one can rely on this?!

It is not AFAICS documented, so we are not committed to it.  It is a consequence of the way Perl and/or the shell lists directories, so it is probably reliable. It also is the reason that .First.lib is typically put in a file called zzz.R

A simple, if inelegant, work-around is to concatenate the files yourself.
 
  -thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  9 19:13:20 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 9 Aug 2001 10:13:20 -0700 (PDT)
Subject: [R] Packages: What expressions are allowed outside/before
 .First.lib?
In-Reply-To: <kkegjogbelbhdikpinbmeealcgaa.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.33.0108091013200.9336@hymn07.u.washington.edu>

On Tue, 7 Aug 2001, Henrik Bengtsson wrote:

> Follow up on my own message: I found autoload(), see under Q4 below:
> 

> >
> > Q4. What I really want to do is to declare "modifiers<-" in
> > another package,
> > lets call it, 'myrootlib', which all other libraries we write relies on.
> > Trying
> >
> >   require(myrootlib)  # Declares "modifiers<-"
> >
> >   callMe0 <- function(x)
> >     cat("hey\n")
> >   modifiers(callMe0) <- c("private")
> >
> >   callMe <- function(x)
> >     callMe0(x)
> >   modifiers(callMe) <- c("public")
> >
> > won't work! The reason for this seems to be that the package
> > 'myrootlib' is
> > not loaded (evaluated) until afterwards. This brings up the
> > issues asked in
> > Q1 and Q2. Is there another way to do it or do we have to go back to the
> > approaches explained in Q3, Q2 or even Q1?
> >
> 
> Instead of 'require(myrootlib)' above, it looks like
> 'autoload("modifiers<-", "myrootlib")' would work. Is this a correct way to
> use autoload?
> 

Well, it's valid.  

The current autoload() is really a proof-of-concept and might well get replaced or removed by a more elegant mechanism at some point.  My guess is that the order in which the files are concatenated may actually be more reliable than autoload.

    -thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Thu Aug  9 20:06:43 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 09 Aug 2001 13:06:43 -0500
Subject: [R] question about combining data in two frames
In-Reply-To: Prof Brian Ripley's message of "Tue, 7 Aug 2001 18:30:00 +0100 (BST)"
References: <Pine.GSO.4.31.0108071816450.13622-100000@toucan.stats>
Message-ID: <87g0b1hzv0.fsf@lumen.med.iupui.edu>

>>>>> "Prof" == Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

    >> From what you have said, I think

    > counts / areas[match(names(counts), areas$Field), "Area"]

    > is what want.

That did it.  Thanks for the help.

Sincerely, Mike Miller

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  9 21:23:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Aug 2001 20:23:39 +0100 (BST)
Subject: [R] Packages: What expressions are allowed outside/before
 .First.lib?
In-Reply-To: <Pine.LNX.4.33.0108091006140.9336@hymn07.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0108092018410.3760-100000@auk.stats>

On Thu, 9 Aug 2001, Thomas Lumley wrote:

> On Tue, 7 Aug 2001, Henrik Bengtsson wrote:
>
>
> >
> > Q1. When loading pakages, if exists, the .First.lib function will be called
> > in the end. Is it correct that it is only in .First.lib one should have
> > "executable" code? Is it also true that "outside" .First.lib, only function
> > declarations and objects assignments such as '.conflicts.OK <- TRUE' should
> > be used?
>
> I think it's fine to put any executable code in a package.  The RSMethods package does do some computation at install-time. There's some discussion of this and a mechanism to make it more efficient at
>    http://developer.r-project.org/Install.html
>
>
> >
> > Q3. After having used the attr() approach for a while, we wanted to add some
> > control of the assignment of 'modifiers'. I wrote a function "modifiers<-"
> > that assert that the values are valid before setting the attribute. Now the
> > code would look like
> >
> >   callMe0 <- function(x)
> >     cat("hey\n")
> >   modifiers(callMe0) <- c("private")
> >
> >   callMe <- function(x)
> >     callMe0(x)
> >   modifiers(callMe) <- c("public")
> >
> > I think this code is a little bit more readable, but bullet-proof in the
> > sence that unknown modifiers can not be set. But, by doing this I know I am
> > in deep water; to load this library I rely on the fact that "modifiers<-" is
> > already declared. It looks like the library source file is created by
> > concatenation the .R files in lexical order and one can force the
> > declaration of "modifiers<-" to appear first by putting it in a file called
> > "000.R" (zeros). However, I don't know if one can rely on this?!
>
> It is not AFAICS documented, so we are not committed to it.  It is a consequence of the way Perl and/or the shell lists directories, so it is probably reliable. It also is the reason that .First.lib is typically put in a file called zzz.R

*We* rely on it, though, to ensure that New-Internals.Rd comes high up in
base.  There is a potential problem!  What happens is

 $(srcdir)/R/*.R $(srcdir)/R/unix/*.R >> $${f};

so that sorts files lexicographically *in the current locale*, whatever
sh thinks that is.  We (e.g. nlme. models) use AAA.R which is (sort
of) guaranteed to come above b-z, B-Z (but might come after a, and does
in en_US on Solaris).

> A simple, if inelegant, work-around is to concatenate the files yourself.

Agreed.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Fri Aug 10 01:06:42 2001
From: rachel at stat.auckland.ac.nz (Rachel Cunliffe)
Date: Fri, 10 Aug 2001 11:06:42 +1200
Subject: [R] Pulling columns out of a data.frame
Message-ID: <KEEMIAHKLPCAIPGIMGIMOEODCHAA.rachel@stat.auckland.ac.nz>

Hi there

Probably a very simple solution to this problem.

I have a character vector eg c("name1","name2","name3") and I want to pull
out these columns from a data.frame, converting each of these columns into
factors also.

Many thanks

Rachel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Fri Aug 10 02:16:35 2001
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 10 Aug 2001 0:16:35 +0000
Subject: [R] Pulling columns out of a data.frame
Message-ID: <20010810001843.GSYL1302914.mta1-rme.xtra.co.nz@[192.168.2.8]>

To pull out a column, say myColumn, you can do something like:
  myColumn["name1"]
or
  myColumn[c("name1", "name2")]

To convert to factor I believe you can use the factor() command.

Cheers,

Kevin
> 
> From: "Rachel Cunliffe" <rachel at stat.auckland.ac.nz>
> Date: Fri, 10 Aug 2001 11:06:42 +1200
> To: "[R]" <r-help at stat.math.ethz.ch>
> Subject: [R] Pulling columns out of a data.frame
> 
> Hi there
> 
> Probably a very simple solution to this problem.
> 
> I have a character vector eg c("name1","name2","name3") and I want to pull
> out these columns from a data.frame, converting each of these columns into
> factors also.
> 
> Many thanks
> 
> Rachel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Fri Aug 10 02:58:57 2001
From: rachel at stat.auckland.ac.nz (Rachel Cunliffe)
Date: Fri, 10 Aug 2001 12:58:57 +1200
Subject: [R] apply and factor
Message-ID: <KEEMIAHKLPCAIPGIMGIMIEOJCHAA.rachel@stat.auckland.ac.nz>

Hi again

Why does this occur?

> test <- apply(data,2,factor)  # where data is a data.frame 
> is.factor(test[,1])
[1] FALSE

Many thanks,

Rachel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 10 08:37:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 10 Aug 2001 07:37:53 +0100 (BST)
Subject: [R] apply and factor
In-Reply-To: <KEEMIAHKLPCAIPGIMGIMIEOJCHAA.rachel@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0108100725510.3891-100000@auk.stats>

On Fri, 10 Aug 2001, Rachel Cunliffe wrote:

> Hi again
>
> Why does this occur?
>
> > test <- apply(data,2,factor)  # where data is a data.frame
> > is.factor(test[,1])
> [1] FALSE

test is a *matrix*, see ?apply.  No factors in matrices!

Using `data' as a name is probably a bad idea in R: it's an important
function name.

Try this

df <- data.frame(x=1:10, y=11:20)
test <- apply(df,2,factor)
is.factor(test[,1])
mode(test)
is.matrix(test)

The following should work (and does in S, so is a bug in R):
test2 <- df
test2[] <- lapply(df, factor)  # fails in R

but we need

test3 <- as.data.frame(lapply(df, factor))

(The difference arises if we had row names or other attributes.

row.names(df) <- letters[1:10]
test3 <- as.data.frame(lapply(df, factor)) #no row names

test2 <- df
test2[] <- lapply(df, factor) # keep row names

)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 10 10:15:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Aug 2001 10:15:56 +0200
Subject: [R] apply and factor
In-Reply-To: <Pine.GSO.4.31.0108100725510.3891-100000@auk.stats>
References: <Pine.GSO.4.31.0108100725510.3891-100000@auk.stats>
Message-ID: <x2n1582uv7.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> The following should work (and does in S, so is a bug in R):
> test2 <- df
> test2[] <- lapply(df, factor)  # fails in R

Oho: We got this from Johns original data frame code in which a part of 
[<-.data.frame is this 

    else if (nA == 2) {
        value <- i
        i <- j <- NULL
        has.i <- has.j <- FALSE
    }

but R always passes "value" as a named argument in replacements. We
did this for a reason, but it escapes me at the moment. It does
arguably lead to neater code: The "value <- i" line shouldn't be there
in R since i will be missing and value already be set.

> but we need
> 
> test3 <- as.data.frame(lapply(df, factor))

Better:

test2[TRUE] <- lapply(df, factor)

or even (ouch...)

test2[,] <- lapply(df, factor)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Aug 10 10:42:35 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 10 Aug 2001 10:42:35 +0200
Subject: [R] apply and factor
References: <Pine.GSO.4.31.0108100725510.3891-100000@auk.stats>
Message-ID: <3B739E7B.F8BA791E@cbs.dtu.dk>

Prof Brian D Ripley wrote:
> 
> On Fri, 10 Aug 2001, Rachel Cunliffe wrote:
> 
> > Hi again
> >
> > Why does this occur?
> >
> > > test <- apply(data,2,factor)  # where data is a data.frame
> > > is.factor(test[,1])
> > [1] FALSE
> 
> test is a *matrix*, see ?apply.  No factors in matrices! 
> Using `data' as a name is probably a bad idea in R: it's an important
> function name.


As R extends, the number of important function names is likely to keep
growing.
(And I have seen Pr. Ripley mentionning more than once that one was
overriding an important funcion).
A good mannered user should check the existance of a function before
choosing to giving a name... that may be not what is done...
I was thinking of a switch to warn the user of function overriding (the
switch could be somewhere in the options() ). The disavantage of such a
thing might be a slowdown of the execution R scripts, and most likely
may require a lot of implementation efforts, to set this in the existing
code, for a rather minor improvement. An another, and may be less
general, mecanism would be to have a special status for the functions of
R-base. Their overriding would require an explicit statement...

...Does this that make any sense ?






Regards,





Laurent




-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at club.worldonline.be  Fri Aug 10 11:02:44 2001
From: mlennert at club.worldonline.be (Moritz Lennert)
Date: Fri, 10 Aug 2001 11:02:44 +0200
Subject: [R] weighted hierarchical clustering
Message-ID: <5.1.0.14.0.20010810105950.00a08ec0@pop3.worldonline.be>

I've posted this quite a while ago. Not having received any response, I'll 
just try my luck again ;-):

I'm trying to do a hierarchical cluster analysis on age structures in 
certain areas
of Belgium and France. For each spatial entity, I have the total number
of inhabitants and the percentages by age group. I would like to do the
analysis with the total number of inhabitants as the weight in distance
and new group center calculations. Is this possible ?

Moritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 10 11:04:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 10 Aug 2001 10:04:46 +0100 (BST)
Subject: [R] apply and factor
In-Reply-To: <3B739E7B.F8BA791E@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0108101000410.12847-100000@gannet.stats>

On Fri, 10 Aug 2001, Laurent Gautier wrote:

> Prof Brian D Ripley wrote:
> >
> > On Fri, 10 Aug 2001, Rachel Cunliffe wrote:
> >
> > > Hi again
> > >
> > > Why does this occur?
> > >
> > > > test <- apply(data,2,factor)  # where data is a data.frame
> > > > is.factor(test[,1])
> > > [1] FALSE
> >
> > test is a *matrix*, see ?apply.  No factors in matrices!
> > Using `data' as a name is probably a bad idea in R: it's an important
> > function name.
>
>
> As R extends, the number of important function names is likely to keep
> growing.
> (And I have seen Pr. Ripley mentionning more than once that one was
> overriding an important funcion).
> A good mannered user should check the existance of a function before
> choosing to giving a name... that may be not what is done...
> I was thinking of a switch to warn the user of function overriding (the
> switch could be somewhere in the options() ). The disavantage of such a
> thing might be a slowdown of the execution R scripts, and most likely
> may require a lot of implementation efforts, to set this in the existing
> code, for a rather minor improvement. An another, and may be less
> general, mecanism would be to have a special status for the functions of
> R-base. Their overriding would require an explicit statement...

There is a function conflicts() to do the checking.
Deliberate overrides are fairly common, for example when debugging,
and it is probably better to get into the habit of using conflicts()
if you get strange results.

I suspect the cost of checking would be too high.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Aug 10 13:26:02 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 10 Aug 2001 21:26:02 +1000
Subject: [R] Pulling columns out of a data.frame
Message-ID: <3B73C4CA.B758A048@ozemail.com.au>

Rachel Cunliffe wrote:
>
> ...I have a character vector eg c("name1","name2","name3") and I want to pull
> out these columns from a data.frame, converting each of these columns into
> factors also.

Assuming that the column in your data.frame is named "names", and the
data frame is named "mydat",

new.names<-as.factor(mydat["names"])

should give you the column of name types as a factor vector.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Aug 10 13:37:58 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 10 Aug 2001 21:37:58 +1000
Subject: [R] apply and factor
References: <Pine.LNX.4.31.0108101000410.12847-100000@gannet.stats>
Message-ID: <3B73C796.582D1CBC@ozemail.com.au>

Prof Brian Ripley wrote:
> 
> There is a function conflicts() to do the checking.
> Deliberate overrides are fairly common, for example when debugging,
> and it is probably better to get into the habit of using conflicts()
> if you get strange results.
> 
Martin Maechler kindly informed me of conflicts() after I had posted a
suggestion for dup.name(). However, conflicts() only tells you _after_
you have clobbered something, while dup.name() allows you to check
beforehand. I do agree that it is a time-consuming operation, as
dup.name() takes about 5 seconds to run. It's mostly useful to avoid
trashing a laboriously constructed data set in the working directory.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mangalam at home.com  Fri Aug 10 13:52:04 2001
From: mangalam at home.com (Harry Mangalam)
Date: Fri, 10 Aug 2001 08:52:04 -0300
Subject: [R] Library hdarray
References: <Pine.SGI.3.95.1010808175023.97355438B-100000@genome.cbs.dtu.dk>
Message-ID: <3B73CAE4.D9639637@home.com>

Hi All,

I'm one of the co-authors and maintainers for the hdarray lib and
associated web interface, CyberT.  The hdarray lib has not been packaged
as an R lib, but is included in the installation package of the GeneX
gene expression database system, along with some other analyses.

We've recently gotten quite a few requests to break it out of that
package into a separate set of analyses for large scale gene expression
experiments and I'll work on that as soon as I get back from vacation.  

In the meantime, for the latest version of the hdarray lib, please
download the GeneX packag:

http://genex.ncgr.org/genex/download/genex-server/GeneX-Server-1.0.4.tar.gz
, untar it and look in the CyberT-dist directory for the library. 
Installation of CyberT as a webbased analysis is unfortunately not
separable from GeneX, unless you want to do quite a bit of hand-editing,
but the library and all other source code is there.

Laurent Gautier wrote:
> 
> Dear Aboubakar,
> 
> Contributed packages can be downloaded from the R-CRAN website.
> http://cran.r-project.org/
> The 'hdarray' one is not listed in CRAN, so you may want to have a look at
> http://genomics.biochem.uci.edu/genex/cybert/
> 
> Regards,
> 
> Laurent Gautier                 CBS, Building 208, DTU
> PhD. Student                    D-2800 Lyngby,Denmark
> tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent
> 
> On Wed, 8 Aug 2001, Aboubakar Maitournam wrote:
> 
> > Dear everybody!
> >
> > I m seeking the package named hdarray for the analysis of microarrays
> > data.
> > It must not included in the base packages.
> >
> > Thanks in advance.
> >
> > Aboubakar Maitournam.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Aug 10 15:15:31 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 10 Aug 2001 15:15:31 +0200
Subject: [R] apply and factor
References: <Pine.LNX.4.31.0108101000410.12847-100000@gannet.stats> <3B73C796.582D1CBC@ozemail.com.au>
Message-ID: <3B73DE73.7EFABA49@cbs.dtu.dk>

Jim Lemon wrote:
> 
> Prof Brian Ripley wrote:
> >
> > There is a function conflicts() to do the checking.
> > Deliberate overrides are fairly common, for example when debugging,
> > and it is probably better to get into the habit of using conflicts()
> > if you get strange results.
> >
> Martin Maechler kindly informed me of conflicts() after I had posted a
> suggestion for dup.name(). However, conflicts() only tells you _after_
> you have clobbered something, while dup.name() allows you to check
> beforehand. I do agree that it is a time-consuming operation, as
> dup.name() takes about 5 seconds to run. It's mostly useful to avoid
> trashing a laboriously constructed data set in the working directory.
>


What about using exists()  ?
Then digging if something exists....



Regards,






Laurent






-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Fri Aug 10 17:09:34 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 10 Aug 2001 11:09:34 -0400
Subject: [R] An applied math question with solve()
Message-ID: <002601c121ae$7b220de0$40223586@STEVENS>

I have a math (and maybe an R) question.
I want to find equilibrium population density values for a system of linear
population growth equations (e.g., Pimm and Lawton 1977). The eventual goal
is to
perform stability analysis. I can find the partial differential equations
for the Jacobian matrix, but I get stuck trying finding the equilibriuym pop
densities (X*). Here is the (incorrect?) R code for for the X*:

# An attempt at stabiltiy analysis.
# Each pop growth equation -  (Not code)  is dXi/dt = Xi ( bi +
Sum(a[i,j]Xj) )
# Set dX/dt = 0, divide both sides by Xi and you get bi + sum(aijXj) = 0
# For three species this is represented by:

a[1,1] + a[1,2] + a[1,3] = 0
a[2,2] + a[2,1] + a[2,3] = 0
a[3,3] + a[3,1] + a[3,2] = 0

#select random coefficients that should result in positive X*'s
a <- matrix(-runif(9), nrow=3,ncol=3); diag(a) <- 1
a
solve(a,rep(0,3))
# This returns the trivial answer. How do I get the meaningful one???

Thanks for any help,
Henry


*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Fri Aug 10 18:04:01 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Fri, 10 Aug 2001 18:04:01 +0200 (MET DST)
Subject: [R] html command index
Message-ID: <Pine.GSO.3.95q.1010810175158.6413J-100000@sun23.math.uni-hamburg.de>

Dear list,

I use R 1.3.0 on Solaris. Today I realized that the html help search
engine does not work at the moment (this means that I always get
the search engine page again if I try to specify a search word, and
click "search" or one of the prespecified topics), presumably since the 
latest netscape update. 

Do you have an idea what can be wrong? Perhaps this must be fixed not by
the R help but by our system administrator, but...

Why is the alphabetical command index of the html help system removed?
If I had this index now, I could work around the search engine. This is
not the only case in which I prefer the index to the engine!!

Furthermore I do no longer find an online documentation on the R project 
website.

Haven't I searched good enough?

If I have, please note that there is somebody out there who would really like
to get back these vanished documentation items.

(I have the feeling that these topics are not for the first time on the list
but I was not able to find it in the 2001 archive.) 

Best,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 10 18:19:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 10 Aug 2001 09:19:35 -0700 (PDT)
Subject: [R] html command index
In-Reply-To: <Pine.GSO.3.95q.1010810175158.6413J-100000@sun23.math.uni-hamburg.de>
Message-ID: <Pine.A41.4.33.0108100915190.8708-100000@homer01.u.washington.edu>

On Fri, 10 Aug 2001, Christian Hennig wrote:
>
> Why is the alphabetical command index of the html help system removed?
> If I had this index now, I could work around the search engine. This is
> not the only case in which I prefer the index to the engine!!

There is a separate alphabetical index for each package, including base.
There isn't an overall index, but it's usually fairly easy to guess which
package is relevant. Look under "Packages".


> Furthermore I do no longer find an online documentation on the R project
> website.

The help pages are still there (and the search engine seems to work). Go
to http://www.r-project.org and select "Help Pages"

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Fri Aug 10 18:27:57 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Fri, 10 Aug 2001 18:27:57 +0200 (MET DST)
Subject: [R] html command index
In-Reply-To: <Pine.A41.4.33.0108100915190.8708-100000@homer01.u.washington.edu>
Message-ID: <Pine.GSO.3.95q.1010810182457.6413K-100000@sun23.math.uni-hamburg.de>

On Fri, 10 Aug 2001, Thomas Lumley wrote:

> There is a separate alphabetical index for each package, including base.
> There isn't an overall index, but it's usually fairly easy to guess which
> package is relevant. 

...not always...

> Look under "Packages".
> 
> 
> > Furthermore I do no longer find an online documentation on the R project
> > website.
> 
> The help pages are still there 

Oh sorry, I overlooked it.

> (and the search engine seems to work). 

Not for me... 

Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 10 18:27:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 10 Aug 2001 17:27:41 +0100 (BST)
Subject: [R] html command index
In-Reply-To: <Pine.A41.4.33.0108100915190.8708-100000@homer01.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0108101726520.28477-100000@toucan.stats>

On Fri, 10 Aug 2001, Thomas Lumley wrote:

> On Fri, 10 Aug 2001, Christian Hennig wrote:
> >
> > Why is the alphabetical command index of the html help system removed?
> > If I had this index now, I could work around the search engine. This is
> > not the only case in which I prefer the index to the engine!!
>
> There is a separate alphabetical index for each package, including base.
> There isn't an overall index, but it's usually fairly easy to guess which
> package is relevant. Look under "Packages".

And if not, help.search() provides an alternative search engine, not
dependent on having an operational Netscape.

> > Furthermore I do no longer find an online documentation on the R project
> > website.
>
> The help pages are still there (and the search engine seems to work). Go
> to http://www.r-project.org and select "Help Pages"
>
> 	-thomas
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agehr at mozart.depaul.edu  Fri Aug 10 20:23:53 2001
From: agehr at mozart.depaul.edu (Adam Gehr)
Date: Fri, 10 Aug 2001 13:23:53 -0500
Subject: [R] html command index
References: <Pine.GSO.3.95q.1010810175158.6413J-100000@sun23.math.uni-hamburg.de>
Message-ID: <3B7426B9.58152A90@mozart.fin.depaul.edu>

I've experienced the same problem with R 1.3.0 on Windows
98.
   Adam Gehr

Christian Hennig wrote:
> 
> Dear list,
> 
> I use R 1.3.0 on Solaris. Today I realized that the html help search
> engine does not work at the moment (this means that I always get
> the search engine page again if I try to specify a search word, and
> click "search" or one of the prespecified topics), presumably since the
> latest netscape update.
> 
> Do you have an idea what can be wrong? Perhaps this must be fixed not by
> the R help but by our system administrator, but...
> 
> Why is the alphabetical command index of the html help system removed?
> If I had this index now, I could work around the search engine. This is
> not the only case in which I prefer the index to the engine!!
> 
> Furthermore I do no longer find an online documentation on the R project
> website.
> 
> Haven't I searched good enough?
> 
> If I have, please note that there is somebody out there who would really like
> to get back these vanished documentation items.
> 
> (I have the feeling that these topics are not for the first time on the list
> but I was not able to find it in the 2001 archive.)
> 
> Best,
> Christian
> 
> ***********************************************************************
> Christian Hennig
> University of Hamburg, Faculty of Mathematics - SPST/ZMS
>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>  Zentrum fuer Modellierung und Simulation)
> Bundesstrasse 55, D-20146 Hamburg, Germany
> Tel: x40/42838 4907, privat x40/631 62 79
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hakan.Haggstrom at zoologi.su.se  Fri Aug 10 21:11:48 2001
From: Hakan.Haggstrom at zoologi.su.se (=?ISO-8859-1?Q?H=E5kan=20H=E4ggstr=F6m?=)
Date: Fri, 10 Aug 2001 21:11:48 +0200
Subject: [R] html command index
References: <Pine.GSO.3.95q.1010810182457.6413K-100000@sun23.math.uni-hamburg.de>
Message-ID: <3B7431F4.8070307@zoologi.su.se>

Christian Hennig wrote:

> On Fri, 10 Aug 2001, Thomas Lumley wrote:
> 
>> (and the search engine seems to work). 
> 
> 
> Not for me... 
> 

On my machine, (SuSE Linux 6.3) the search engine works with Netscape 
4.7 but not with Netscape 6.0. If anyone knows why, I'd be glad to know.

Hakan Haggstrom



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Aug 11 13:34:02 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 11 Aug 2001 21:34:02 +1000
Subject: [R] html command index
Message-ID: <3B75182A.BF058EEE@ozemail.com.au>

Since there appear to be a few people interested in the HTML command
index, as far as I know, it is written in Java and if you don't have
Java turned on in Netscape, it doesn't work. That was the reason I wrote
the Tcl/Tk alternative based on "grep".

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Sat Aug 11 23:57:36 2001
From: macq at llnl.gov (Don MacQueen)
Date: Sat, 11 Aug 2001 14:57:36 -0700
Subject: [R] apply and factor
In-Reply-To: <3B73DE73.7EFABA49@cbs.dtu.dk>
References: <Pine.LNX.4.31.0108101000410.12847-100000@gannet.stats>
 <3B73C796.582D1CBC@ozemail.com.au> <3B73DE73.7EFABA49@cbs.dtu.dk>
Message-ID: <p05100300b79b590a0c80@[128.115.153.6]>

Simpler still is to just type the name at the command line (without 
parentheses, in case it's a function, in order to avoid unwanted side 
effects).

If the name is already in use, it'll be obvious, equally obvious if it isn't.
Not suitable for use in a program, of course, and if the object 
exists and is big a lot of stuff will spew, which can be annoying.

-Don

At 3:15 PM +0200 8/10/01, Laurent Gautier wrote:
>Jim Lemon wrote:
>>
>>  Prof Brian Ripley wrote:
>>  >
>>  > There is a function conflicts() to do the checking.
>>  > Deliberate overrides are fairly common, for example when debugging,
>>  > and it is probably better to get into the habit of using conflicts()
>>  > if you get strange results.
>>  >
>>  Martin Maechler kindly informed me of conflicts() after I had posted a
>>  suggestion for dup.name(). However, conflicts() only tells you _after_
>>  you have clobbered something, while dup.name() allows you to check
>>  beforehand. I do agree that it is a time-consuming operation, as
>>  dup.name() takes about 5 seconds to run. It's mostly useful to avoid
>>  trashing a laboriously constructed data set in the working directory.
>>
>
>
>What about using exists()  ?
>Then digging if something exists....
>
>Regards,
>
>Laurent
>
>--
>Laurent Gautier			CBS, Building 208, DTU
>PhD. Student			D-2800 Lyngby,Denmark
>tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sun Aug 12 20:17:12 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 13 Aug 2001 06:17:12 +1200 (NZST)
Subject: [R] gam() and library( modreg )
Message-ID: <Pine.SOL.4.21.0108130615090.12559-100000@stat1.stat.auckland.ac.nz>

Hi,

I'm just wonder if there is an R equivalent function of gam() - which
exist in Splus.

Also does anyone know if the library( modreg ), which comes with the
installation file of R 1.3.0 (Windows version), exists in the previous
versions of R (again, Windows version)?  Or does one need to install the
library into the previous versions of R explicitly?

Thanks,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thilo.Engelskircher at gmx.de  Sun Aug 12 22:06:23 2001
From: Thilo.Engelskircher at gmx.de (Thilo Engelskircher)
Date: Sun, 12 Aug 2001 22:06:23 +0200 (MEST)
Subject: [R] R (D)COM automation server for windows, type mismatch?
Message-ID: <30108.997646783@www45.gmx.net>

Hello!

I just started experimenting with the (D)COM automation server for R
(server version 0.99, R 1.3.0, Win NT)

All the precompiled sample executables work.

When I write programms myself, in this case Visual Basic for Applications
within Excel, I can attach a graphics device but not a character device.


The controls I added to the form by means of the 'toolbox' both originate
from the client library (see below) and are named 
'Gfx1'    (of type StatConnectorGraphicsDevice) and 
'CharDev' (of type StatConnectorCharacterDevice)

The code fragment working with them is:

	Dim x As StatConnector
	Dim gfxdev As ISGFX

	Set x = New StatConnector
	x.Init ("R")

	Set gfxdev = Gfx1.GetGFX
	x.AddGraphicsDevice "dev1", gfxdev   ' <- this works

	x.SetCharacterOutputDevice CharDev   ' <- this does not

VBA stops with a type mismatch error.
Unfortunately this is consistent with what I can see in the object browser
tree:
The method SetCharacterOutputDevice requires an
IStatConnectorCharacterDevice but I only have an can get a StatConnectorCharacterDevice. (Where as for
AddGraphicsDevice I can get an ISGFX by means of the function GetGFX)


Where is the mistake?
Any hints?

Thanks, Thilo.

---

>From the Object Browser:
---------------------------------------------------------------

Library STATCONNECTORCLNTLib
...\rw1030\bin\StatConnectorClnt.dll

ISGFX:
    ...

StatConnectorCharacterDevice:
    Clear()
    WriteString(bstrLine As String)
    WriteStringLevel(bstrLine As String, lLevel As Long)

StatConnectorGraphicsDevice:
    BackColor As OLE_COLOR
    ...
*   GetGFX() As ISGFX
    
---------------------------------------------------------------

Library STATCONNECTORSRVLib
...\rw1030\bin\StatConnectorSrv.exe

ISGFX:
    ...

IStatConnectorCharacterDevice:
    Clear()
    WriteString(bstrLine As String)
    WriteStringLevel(bstrLine As String, lLevel As Long)

IStatConnectorUIAgent:
    ...

StatConnector:
    Init(bstrConnectorName As String)
*   AddGraphicsDevice(bstrName As String, pDevice As ISGFX)
*   SetCharacterOutputDevice(pCharDevice As IStatConnectorCharacterDevice)
    ...
    Close()
    

-- 
Aufgepasst - jetzt viele 1&1 New WebHosting Pakete ohne
Einrichtungsgebuehr + 1 Monat Grundgebuehrbefreiung!
http://puretec.de/index.html?ac=OM.PU.PU003K00736T0492a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 12 22:09:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 12 Aug 2001 21:09:59 +0100 (BST)
Subject: [R] gam() and library( modreg )
In-Reply-To: <Pine.SOL.4.21.0108130615090.12559-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0108122108520.10885-100000@gannet.stats>

On Mon, 13 Aug 2001, Ko-Kang Kevin Wang wrote:

> Hi,
>
> I'm just wonder if there is an R equivalent function of gam() - which
> exist in Splus.

See packge mgcv, and the latest Rnews.

> Also does anyone know if the library( modreg ), which comes with the
> installation file of R 1.3.0 (Windows version), exists in the previous
> versions of R (again, Windows version)?  Or does one need to install the
> library into the previous versions of R explicitly?

It's been there for at least 2.5 years.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcanet at ivia.es  Sun Aug 12 22:57:35 2001
From: rcanet at ivia.es (Rodolfo Canet-Castello)
Date: Sun, 12 Aug 2001 22:57:35 +0200
Subject: [R] cannot use add-ons packages
Message-ID: <3B76EDBF.8000108@ivia.es>

Hi all

After a trivial install on my Debian system (just gnome-games for my 
wife!), my R programs decided not to work, since the 'date' library 
wouldn't load. The message I got is:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library 
"/usr/lib/R/library/date/libs/date.so":
   /usr/lib/R/library/date/libs/date.so: undefined symbol: atexit
Error in library(date) : .First.lib failed

I've run out of ideas about what may have happened or changed. Do you 
have any idea or clue about where to find?

I use R-base 1.3.0.1, and 'date' is the only package I've installed 
myself (it has worked properly until today). The rest of packages work 
flawlessly.

I've not subscribed to the help list for just a doubt. I'd thus 
appreciate if you mail your ideas to my address. If that's not 
convenient, please let me know and I'll subscribe. Thanks for your help 
or feedback.
----
Rodolfo Canet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Aug 12 22:59:33 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 12 Aug 2001 13:59:33 -0700
Subject: [R] rpart 3.1.0 bug?
Message-ID: <5.1.0.14.2.20010812135429.00b2eaa0@pop4.attglobal.net>

I just updated rpart to the latest version (3.1.0).  There are a number of 
changes between this and previous versions, and some of the code I've been 
using with earlier versions (e.g. 3.0.2) no longer work.

Here is a simple illustration of a problem I'm having with xpred.rpart.

iris.test.rpart<-rpart(iris$Species~., data=iris[,1:4], 
parms=list(prior=c(0.5,0.25, 0.25)))
+ )
 > xpred.rpart(iris.test.rpart)
Error in as.double.default(fit$parms) : (list) object cannot be coerced to 
vector type 14
 >
The problem seems to be with the parms parameter in the call to rpart.  If 
I leave parms out of the fit statement, xpred.rpart works fine.

I can't deduce from the help files or the readme what has changed that 
causes this error (I also can't exactly figure out what the error is).  The 
example use of xpred.rpart works fine, but doesn't have a parms argument in 
the rpart function call.

Any help appreciated.


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Sun Aug 12 23:14:19 2001
From: ben at eno.princeton.edu (Ben Bolker)
Date: Sun, 12 Aug 2001 17:14:19 -0400 (EDT)
Subject: [R] An applied math question with solve()
In-Reply-To: <002601c121ae$7b220de0$40223586@STEVENS>
Message-ID: <Pine.GSO.4.33.0108121712170.25342-100000@eno.Princeton.EDU>


  I believe your problem is that you left out the source term (b must be
>0 to get a nontrivial answer).  If you think about the logistic equation,
you get b = r and a=-r/K.  The equation you want to solve is
sum(aijXj)=-bi, so add

b <- -runif(3)
solve(a,b)

below to get a positive set of answers.

  cheers,
    Ben Bolker

On Fri, 10 Aug 2001, Martin Henry H. Stevens wrote:

> I have a math (and maybe an R) question.
> I want to find equilibrium population density values for a system of linear
> population growth equations (e.g., Pimm and Lawton 1977). The eventual goal
> is to
> perform stability analysis. I can find the partial differential equations
> for the Jacobian matrix, but I get stuck trying finding the equilibriuym pop
> densities (X*). Here is the (incorrect?) R code for for the X*:
>
> # An attempt at stabiltiy analysis.
> # Each pop growth equation -  (Not code)  is dXi/dt = Xi ( bi +
> Sum(a[i,j]Xj) )
> # Set dX/dt = 0, divide both sides by Xi and you get bi + sum(aijXj) = 0
> # For three species this is represented by:
>
> a[1,1] + a[1,2] + a[1,3] = 0
> a[2,2] + a[2,1] + a[2,3] = 0
> a[3,3] + a[3,1] + a[3,2] = 0
>
> #select random coefficients that should result in positive X*'s
> a <- matrix(-runif(9), nrow=3,ncol=3); diag(a) <- 1
> a
> solve(a,rep(0,3))
> # This returns the trivial answer. How do I get the meaningful one???
>
> Thanks for any help,
> Henry
>
>
> *****************************
> Martin Henry H. Stevens
> HStevens at muohio.edu
> tel: (513) 529 - 4206
> FAX: (513) 529 - 4243
>
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Permanent address:
Zoology Department, University of Florida
bolker at zoo.ufl.edu
(352) 392-5697

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maneesh at www.chip.org  Sun Aug 12 23:49:09 2001
From: maneesh at www.chip.org (Maneesh)
Date: Sun, 12 Aug 2001 17:49:09 -0400 (EDT)
Subject: [R] stupid q re: gradient to nlm
In-Reply-To: <Pine.SOL.4.21.0108130615090.12559-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.33.0108121743190.23855-100000@www.chip.org>

Hi all,
I can't figure out why the following function when supplied to nlm, isn't
using the gradient function that I am providing, everything I read says to
attach "gradient" attribute to the return value...no?

atanE <- function(a) {

  gr <- function(a){
  g<-numeric()
  print("adsad")   #I never get this
  g[4]<-sum(2*(a[1]*atan((a[2]*x)-a[3])+a[4]-y))
  g[3]<-sum(g[4]*(-(a[1]/(1+((a[2]*x)-a[3])^2))))
  g[2]<-sum(g[3]*x)
  g[1]<-sum(g[4]*atan((a[2]*x)-a[3]))
  g
 }

 value<-sum( ((a[1]*atan((a[2]*x)-a[3])+a[4]) - y)^2 )
 attr(value, "gradient")<-gr
 value
}

Sorry for the bother,
Maneesh


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Aug 12 23:58:00 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 12 Aug 2001 14:58:00 -0700
Subject: [R] rpart 3.1.0 bug?
In-Reply-To: <5.1.0.14.2.20010812135429.00b2eaa0@pop4.attglobal.net>
Message-ID: <5.1.0.14.2.20010812145437.00b28350@pop4.attglobal.net>

Extra right paren got copied into the first message by mistake.  The 
original did not have the extra and the code below does not work.

Also, if you try to use xpred.rpart with "fit2" from the rpart help page, 
it gives the same error as below (i.e.
 >xfit <-xpred.rpart(fit2) )
 > Error in as.double.default(fit$parms) : (list) object cannot be coerced 
to vector type 14



 >iris.test.rpart<-rpart(iris$Species~., data=iris[,1:4], 
parms=list(prior=c(0.5,0.25, 0.25)))
 > xpred.rpart(iris.test.rpart)
 > Error in as.double.default(fit$parms) : (list) object cannot be coerced 
to vector type 14




At 01:59 PM 8/12/01, Marc R. Feldesman wrote:
 >I just updated rpart to the latest version (3.1.0).  There are a number of
 >changes between this and previous versions, and some of the code I've been
 >using with earlier versions (e.g. 3.0.2) no longer work.
 >
 >Here is a simple illustration of a problem I'm having with xpred.rpart.
 >
 >iris.test.rpart<-rpart(iris$Species~., data=iris[,1:4],
 >parms=list(prior=c(0.5,0.25, 0.25)))
 >+ )
 > > xpred.rpart(iris.test.rpart)
 >Error in as.double.default(fit$parms) : (list) object cannot be coerced to
 >vector type 14
 > >
 >The problem seems to be with the parms parameter in the call to rpart.  If
 >I leave parms out of the fit statement, xpred.rpart works fine.
 >
 >I can't deduce from the help files or the readme what has changed that
 >causes this error (I also can't exactly figure out what the error is).  The
 >example use of xpred.rpart works fine, but doesn't have a parms argument in
 >the rpart function call.
 >
 >Any help appreciated.
 >
 >
 >Dr. Marc R. Feldesman
 >email:  feldesmanm at pdx.edu
 >email:  feldesman at attglobal.net
 >fax:    503-725-3905
 >
 >"Don't know where I'm going.
 >Don't like where I've been.
 >There may be no exit.
 >But hell, I'm going in."  Jimmy Buffett
 >
 >Powered by Superchoerus - the 700 MHz Coppermine Box
 >
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 >


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Aug 13 00:03:40 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 13 Aug 2001 10:03:40 +1200
Subject: [R] gam() and library( modreg )
In-Reply-To: <Pine.SOL.4.21.0108130615090.12559-100000@stat1.stat.auckland.ac.nz>; from kwan022@stat.auckland.ac.nz on Mon, Aug 13, 2001 at 06:17:12AM +1200
References: <Pine.SOL.4.21.0108130615090.12559-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20010813100340.A20104@camille.indigoindustrial.co.nz>

> I'm just wonder if there is an R equivalent function of gam() - which
> exist in Splus.

library(mgcv)
help(gam)

Cheers
Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Mon Aug 13 01:27:44 2001
From: rachel at stat.auckland.ac.nz (Rachel Cunliffe)
Date: Mon, 13 Aug 2001 11:27:44 +1200
Subject: [R] Creating a Model Matrix - keeping NAs
Message-ID: <KEEMIAHKLPCAIPGIMGIMKEPMCHAA.rachel@stat.auckland.ac.nz>

I am wanting to create a model matrix and keep the NAs.

stratmat <- model.matrix(myformula,mydata)

Is there any way to do this?  model.matrix doesn't have na.action as a
parameter.  Elsewhere I have made use of na.keep <- function(x){x}.

Many thanks,

Rachel Cunliffe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Aug 13 03:33:53 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 12 Aug 2001 18:33:53 -0700
Subject: [R] rpart 3.1 bug followup
Message-ID: <5.1.0.14.2.20010812182741.00abe1b0@pop4.attglobal.net>

In rpart < 3.1, the rpart object has a component called parms, which was 
stored as a vector.  In rpart 3.1, the parms component is stored as a list, 
but xpred.rpart (3.1) is still expecting a vector.

 From 3.0.2:

  iris.rpart$parms
  [1] 0.3333333 0.3333333 0.3333333 0.0000000 1.0000000 1.0000000 1.0000000
  [8] 0.0000000 1.0000000 1.0000000 1.0000000 0.0000000 1.0000000

In 3.1.0

 > iris.rpart.310$parms
$prior
[1] 0.3333333 0.3333333 0.3333333

$loss
      [,1] [,2] [,3]
[1,]    0    1    1
[2,]    1    0    1
[3,]    1    1    0

$split
[1] 1

This structure is fairly obvious from reading the rpart help, but does not 
work with xpred.rpart as long as there is a non-default parms argument in 
the rpart object.





Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Aug 13 03:48:33 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 12 Aug 2001 18:48:33 -0700
Subject: [R] rpart 3.1.0 bug?
In-Reply-To: <5.1.0.14.2.20010812145437.00b28350@pop4.attglobal.net>
References: <5.1.0.14.2.20010812135429.00b2eaa0@pop4.attglobal.net>
Message-ID: <5.1.0.14.2.20010812184445.00b23c90@pop4.attglobal.net>

There seems to be a simple, if inelegant, fix for the xpred.rpart problem.

In the file xpred.rpart, I found that changing the following line fixed the 
bug:


costs <- fit$call$costs
     if (is.null(costs))
         costs <- rep(1, nvar)
         parms<-as.double(fit$parms)

Change last line to:
     parms <- as.vector(as.double(unlist(fit$parms)))

This works with all my test examples.  I have no idea how this ramifies to 
other areas of the code that I don't use.  YMMV.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 07:57:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 13 Aug 2001 06:57:33 +0100 (BST)
Subject: [R] rpart 3.1.0 bug?
In-Reply-To: <5.1.0.14.2.20010812184445.00b23c90@pop4.attglobal.net>
Message-ID: <Pine.GSO.4.31.0108130654370.1962-100000@auk.stats>

On Sun, 12 Aug 2001, Marc R. Feldesman wrote:

> There seems to be a simple, if inelegant, fix for the xpred.rpart problem.
>
> In the file xpred.rpart, I found that changing the following line fixed the
> bug:
>
>
> costs <- fit$call$costs
>      if (is.null(costs))
>          costs <- rep(1, nvar)
>          parms<-as.double(fit$parms)
>
> Change last line to:
>      parms <- as.vector(as.double(unlist(fit$parms)))
>
> This works with all my test examples.  I have no idea how this ramifies to
> other areas of the code that I don't use.  YMMV.

None, I expect, and as you pointed out, the test suite does not use it
either.  It's a change in the original S code from which I am porting.

I'll take a look when I have time.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 08:09:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 13 Aug 2001 07:09:53 +0100 (BST)
Subject: [R] Creating a Model Matrix - keeping NAs
In-Reply-To: <KEEMIAHKLPCAIPGIMGIMKEPMCHAA.rachel@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0108130706520.1979-100000@auk.stats>

On Mon, 13 Aug 2001, Rachel Cunliffe wrote:

> I am wanting to create a model matrix and keep the NAs.
>
> stratmat <- model.matrix(myformula,mydata)
>
> Is there any way to do this?  model.matrix doesn't have na.action as a
> parameter.  Elsewhere I have made use of na.keep <- function(x){x}.

Yes, but it uses options("na.action"), soyou could set that.
Better, call model.frame then model.matrix, something like

stratmat <- model.matrix(myformula, model.frame(myformula,mydata,
na.action=function(x)x))

?model.matrix does tell you the second argument should be the result of
model.frame, which is a pretty strong hint.

>
> Many thanks,
>
> Rachel Cunliffe
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Mon Aug 13 10:26:26 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Mon, 13 Aug 2001 10:26:26 +0200
Subject: [R] exe-files
Message-ID: <62ab768cd0.68cd062ab7@student.liu.se>

Hi!

I have written some R-tools that are of interest for people at my work. 
Is it possible to create an exe-file out of these tools so that people 
can use them without having to install R?

/Tomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 11:03:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 13 Aug 2001 10:03:35 +0100 (BST)
Subject: [R] exe-files
In-Reply-To: <62ab768cd0.68cd062ab7@student.liu.se>
Message-ID: <Pine.GSO.4.31.0108131002410.21229-100000@auk.stats>

On Mon, 13 Aug 2001 tomsv193 at student.liu.se wrote:

> Hi!
>
> I have written some R-tools that are of interest for people at my work.
> Is it possible to create an exe-file out of these tools so that people
> can use them without having to install R?

Yes, but it's hardly worth it as you will need a lot of R installed to
run any R code.  R is interpreted.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erdbruegge at statistik.uni-dortmund.de  Mon Aug 13 11:36:29 2001
From: erdbruegge at statistik.uni-dortmund.de (Martina =?iso-8859-1?Q?Erdbr=FCgge?=)
Date: Mon, 13 Aug 2001 11:36:29 +0200
Subject: [R] optimization on a circle
Message-ID: <3B779F9D.4F86C4BD@statistik.uni-dortmund.de>

Hi all,	

after conducting a central composite design, I would like to optimize
the estimated function on a circle (resp. globe) instead of a square
(resp. cube), since the optimum will be reached on the bounds. 
Is there a function in R which could be used for this purpose? I'm using
optim() with method = "L-BFGS-B" for the optimization on a square or
cube.

Thanks in advance for any hints,
Martina Erdbr?gge
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Aug 13 11:29:38 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 13 Aug 2001 11:29:38 +0200 (MEST)
Subject: [R] exe-files
In-Reply-To: <62ab768cd0.68cd062ab7@student.liu.se>
Message-ID: <Pine.LNX.4.21.0108131128180.3244-100000@artemis.imbe.med.uni-erlangen.de>


> Hi!
> 
> I have written some R-tools that are of interest for people at my work. 
> Is it possible to create an exe-file out of these tools so that people 
> can use them without having to install R?

No, but the R packaging system is beautiful for distributing code /
docs / examples / datasets whatsoever ... 

Torsten 

> 
> /Tomas
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 11:37:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Aug 2001 10:37:31 +0100 (BST)
Subject: [R] optimization on a circle
In-Reply-To: <3B779F9D.4F86C4BD@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0108131036580.11337-100000@gannet.stats>

On Mon, 13 Aug 2001, Martina [iso-8859-1] Erdbrgge wrote:

> Hi all,
>
> after conducting a central composite design, I would like to optimize
> the estimated function on a circle (resp. globe) instead of a square
> (resp. cube), since the optimum will be reached on the bounds.
> Is there a function in R which could be used for this purpose? I'm using
> optim() with method = "L-BFGS-B" for the optimization on a square or
> cube.

Use polar coordinates, then you will have a box region.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Lovison at statslab.cam.ac.uk  Mon Aug 13 13:19:45 2001
From: G.Lovison at statslab.cam.ac.uk (Gianfranco Lovison)
Date: Mon, 13 Aug 2001 13:19:45 +0200
Subject: [R] Problems with downloading R 1.3.0 
Message-ID: <5.0.0.25.2.20010813130005.009d8380@unipa.it>

I am trying to download R.1.3 for Windows , and I have troubles with some 
of the .zip files. I am working with a laptop
operating on Windows 98  and use Netscape 4.5 as a browser.
I have downloaded without problems  the following files:

rw1030b1.zip
rw1030ch.zip
rw1030d1.zip
rw1030d2.zip
rw1030sp.zip
  rw1030w.zip

but when I try to download

rw1030b2.zip
  rw1030h.zip
  rw1030l.zip

the download gets to some, variable percentage (usually around 95%) and
then stops, without any error warning, and without saving anything on my
hard disc.
I would like to add that I have never had  problems with dowloading with 
Netscape 4.5 on my
laptop, neither with previous versions of R nor with other files. Besides, 
I don't have problems
now with files other that those mentioned. So I suspect it is a problem 
with the file, not
with my computer.
Do you have any clou for me?

Thanks in advance

Gianfranco Lovison

Gianfranco Lovison
Professor of Statistics
Dipartimento di Scienze Statistiche e Matematiche "S.Vianelli"
Palermo - Italia
currently visiting
The Statistical Laboratory
Department of Pure Mathematics and Mathematical Statistics
University of Cambridge - UK

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 13 13:29:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Aug 2001 13:29:31 +0200
Subject: [R] Problems with downloading R 1.3.0
In-Reply-To: <5.0.0.25.2.20010813130005.009d8380@unipa.it>
References: <5.0.0.25.2.20010813130005.009d8380@unipa.it>
Message-ID: <x21ymgryec.fsf@blueberry.kubism.ku.dk>

Gianfranco Lovison <G.Lovison at statslab.cam.ac.uk> writes:

> I am trying to download R.1.3 for Windows , and I have troubles with
> some of the .zip files. I am working with a laptop
> operating on Windows 98  and use Netscape 4.5 as a browser.
> I have downloaded without problems  the following files:
> 
> rw1030b1.zip
> rw1030ch.zip
> rw1030d1.zip
> rw1030d2.zip
> rw1030sp.zip
>   rw1030w.zip
> 
> but when I try to download
> 
> rw1030b2.zip
>   rw1030h.zip
>   rw1030l.zip
> 
> the download gets to some, variable percentage (usually around 95%) and
> then stops, without any error warning, and without saving anything on my
> hard disc.
> I would like to add that I have never had  problems with dowloading
> with Netscape 4.5 on my
> laptop, neither with previous versions of R nor with other files.
> Besides, I don't have problems
> now with files other that those mentioned. So I suspect it is a
> problem with the file, not
> with my computer.
> Do you have any clou for me?

Not really, this'll be a matter with your network/browser/OS. I have
no trouble accessing those files from here. However, are you sure you
wouldn't rather just get SetupR.exe from the parent directory?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lena.Lindahl at sofi.su.se  Mon Aug 13 13:53:19 2001
From: Lena.Lindahl at sofi.su.se (Lena Lindahl)
Date: Mon, 13 Aug 2001 13:53:19 +0200
Subject: [R] export-problem
Message-ID: <4.3.2.7.2.20010813134751.00acfd80@mail.datakom.su.se>

Hello!
I am trying to export a data-file from SAS to R. It says in the R program 
that the SAS file should be in XPORT-format. I assume that the file should 
have and .xpt extension. But when I try to open the file in R I get only 
the message "compressed" written all over. So, probably I should 
un-compress the file in the R-program, the question is how?

Very greatful for quick help!

Best regards/ Lena Lindahl
============================
Swedish Institute for Social Research
Stockholm University
S-106 91 Stockholm
Sweden

Telephone:      +46 8-16 34 59
Fax:            +46 8 15 46 70
E-mail: Lena.Lindahl at sofi.su.se
http://www.sofi.su.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 14:04:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Aug 2001 13:04:50 +0100 (BST)
Subject: [R] Problems with downloading R 1.3.0 
In-Reply-To: <5.0.0.25.2.20010813130005.009d8380@unipa.it>
Message-ID: <Pine.LNX.4.31.0108131259130.11516-100000@gannet.stats>

You don't even tell us where you are downloading from!  The files are
correct on the Vienna node, but could be broken on a mirror.

You are on JANET, so behind a cache.  Make sure you get the cache flushed,
as I suspect that there are incomplete copies in the cache (and someone,
maybe even you, terminated a download prematurely).

The recommended download is SetupR.exe: you will need to get a lot more
pieces for a complete installation than those zip files (for example
the recommended packages).

You would do better to talk to your local sysadmins than ask R-help,
as they will know about the local conditions.

On Mon, 13 Aug 2001, Gianfranco Lovison wrote:

> I am trying to download R.1.3 for Windows , and I have troubles with some
> of the .zip files. I am working with a laptop
> operating on Windows 98  and use Netscape 4.5 as a browser.
> I have downloaded without problems  the following files:
>
> rw1030b1.zip
> rw1030ch.zip
> rw1030d1.zip
> rw1030d2.zip
> rw1030sp.zip
>   rw1030w.zip
>
> but when I try to download
>
> rw1030b2.zip
>   rw1030h.zip
>   rw1030l.zip
>
> the download gets to some, variable percentage (usually around 95%) and
> then stops, without any error warning, and without saving anything on my
> hard disc.
> I would like to add that I have never had  problems with dowloading with
> Netscape 4.5 on my
> laptop, neither with previous versions of R nor with other files. Besides,
> I don't have problems
> now with files other that those mentioned. So I suspect it is a problem
> with the file, not
> with my computer.
> Do you have any clou for me?
>
> Thanks in advance
>
> Gianfranco Lovison
>
> Gianfranco Lovison
> Professor of Statistics
> Dipartimento di Scienze Statistiche e Matematiche "S.Vianelli"
> Palermo - Italia
> currently visiting
> The Statistical Laboratory
> Department of Pure Mathematics and Mathematical Statistics
> University of Cambridge - UK
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Mon Aug 13 15:37:02 2001
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Mon, 13 Aug 2001 06:37:02 -0700
Subject: [R] subset syntax
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E1859AF5A@icrafnttrain.icraf.cgiar.org>

Can anyone tell me what's wrong with this command??

xx<-subset(x,LOCAL.NAME==c("Chifumbata","Chikota"),select=c(13,16,19,23,26,2
9,30,33:48))

Warning message: 
longer object length
        is not a multiple of shorter object length in: LOCAL.NAME ==
c("Chifumbata", "Chikota")

both of the following commands work fine
xx<-subset(x,LOCAL.NAME==c("Chikota"),select=c(13,16,19,23,26,29,30,33:48))
xx<-subset(x,LOCAL.NAME==c("Chifumbata"),select=c(13,16,19,23,26,29,30,33:48
))

but I want a file with both the Chifumbatas and the Chikotas and several
others.

Cheers,
Mikkel



Mikkel Grum
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peterca at ukgateway.net  Mon Aug 13 15:35:07 2001
From: peterca at ukgateway.net (Peter Cameron)
Date: Mon, 13 Aug 2001 14:35:07 +0100
Subject: [R] R binaries for IRIX, solaris 2.6, 7 and 8 and installating them anywhere
In-Reply-To: <5.0.0.25.2.20010813130005.009d8380@unipa.it>
References: <5.0.0.25.2.20010813130005.009d8380@unipa.it>
Message-ID: <01081314350700.01391@linux>

Hi,

I'm looking for the latest R binaries for IRIX and Solaris platforms. The SGI 
freeware site has a very old R binary available which is no good, and there's 
nothing on the Solaris freeware site.

We've developed a Java application that uses R and since we do not have 
access to all the platforms for which a Java VM exists, part of our 
installation procedure involves the configuration and compilation of the R 
source code (which in itself involves installing gcc).

Unfortunately, for various reasons we have been unable to get copies of 
compiled code from our clients. Can anyone help me here?


I've also been investigating the issues involved in taking a configured and 
compiled R distribution and assumming that it's not necessarily going to be 
installed in the default or --prefix-specified installation directory.

I found that for Linux and AIX, I could restrict a shipping R to just the 
lib/R/ directory and as long as the R_HOME environment variable is set (R is 
called from a Perl script), then it works. I ensured that no previously 
installed R distribution was being accessed. Will this strategy work for 
every UNIX platform?

My goal is to have the lib directory inside our Java application directory 
(which can be installed anywhere).

Cheers,
Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erap at eminidaytrading.com  Mon Aug 13 15:18:54 2001
From: erap at eminidaytrading.com (eminidaytrading)
Date: Mon, 13 Aug 2001 09:18:54 -0400
Subject: [R] erappin' - daily morning update 8-13-01
Message-ID: <NDBBJFBEOLILFEODKBCHAECGCOAA.erap@eminidaytrading.com>

erappin' - daily morning update


----------------------------------------------------------------------------
----

 BLEAK ECONOMIC PICTURE

      We got a mixed bag of reports by retailers at the end of last week. As
you know, retail sales are a key element to this economy's growth as
continued consumer spending is necessary to remain out of a recession.
Market analysts are hoping consumers will be spending part of their $40
billion tax refund in the coming months. Consumer spending is the only part
of this economy that is still stagnating without reflecting signs of this
slowing economy...for now. This week, we get several clues on the latest
economic condition, on top of the consumer spending reports that will give
the market a further indication how they are coping with the weakening job
market. Analysts are expecting today's Retail Sales report to come in -0.2%.

      Earlier last week, the Fed Beige Book, even though limited in its
number of anecdotes, showed a slowing factory sector, flat to falling bank
loan demand, and most importantly, retail sales below plan. Pretty much all
U.S. regions are presenting a picture of "slow growth or lateral movement in
economic activity" over the past few months. The economy keeps touching that
bottom without showing any improvements. On August 7, we had Chicago Fed
President Moskow citing that, "an underperforming economy may be rare, but
it is nothing new. What is different today are the mixed signals we see in
the marketplace. The combination of weaknesses and strengths and risks is
both unusual and challenging."


            Symbol Close High Low  Gain/Loss
            SPU01 1191.20 1197.50 1171.50  3.40
            ESU01 1191.25 1197.50 1172.00  3.50
            NDU01 1624.00 1652.50 1581.00  15.50
            NQU01 1624.00 1652.50 1582.50  15.50
            DOW 10416.25 10433.46 10197.32  117.69
            NASDAQ 1956.47 1967.03 1915.99  6.85
            SPX 1190.16 1193.33 1169.55  6.73
            SOX 593.05 595.63 572.29  7.16
            VIX 22.81 24.91 22.68  0.83


      TRADING

      We have seen this market trade in quite the range these past few
months (Nasdaq 2000-2300). Unless we are getting something different than
the clouded visibility companies are reporting, some economic data showing
signs of a bottom, we will not be trading outside that range. Going into the
weekend, we saw a technical rather than a fundamental-based rally. Traders
want more than just reports telling them there is no worry about inflation.
It is time for some reports saying there is no worry about this economy
slowing any further! For now, economic news is not showing signs of
stabilization so traders will remain anxious about the timing of the
economic turnaround hoping that the next data reports are giving them reason
to believe it is sooner rather than later.

      Curious to see how this week's earnings come in for Hewlett-Packard,
Applied Materials and Dell and of course how they see next quarter's
numbers. HWP is expecting a 91% drop in earnings per share, Applied
Materials a 97% drop while Dell sees a 27% step back in EPS.


      EUROPE'S SLOWING ECONOMY

      The European Central Bank (ECB) indicated in its August report that it
might need to cut interest rates again. So far, the ECB has been reluctant
to do so as they were experiencing troubles with rising inflation. Latest
economic reports are indicating a pause in inflationary pressures, which
introduces the possibility now of another 25 basis point rate cut as soon as
August 31st. Especially given Europe's largest economy, Germany, is
reporting weak industrial production, factory orders, and factory orders
besides its seventh consecutive rise in unemployment.

      It seems that central banks around the world are now in the race to
reverse direction on their slowing economies. Greenspan and company have cut
interest rates six times so far this year, with possibly another two coming
up later this quarter, the Bank of England has reduced them four times while
the Bank of Japan.... well they are still stuck with their zero interest
rate situation. Based on the economic data we have seen these past few
months, it does not look like Europe's economic bottom is in sight any time
soon either. Last week, the ECB released a statement saying, "there is an
increased uncertainty surrounding economic growth in the euro area in the
second half of 2001," and they might feel the effects of, "deteriorating
growth performances in several other regions of the world."

      On Friday, back on U.S. soil, the Chicago Board of Trade's Fed Fund
Futures are indicating a 100% chance of a 25 basis point rate cut to 3.50%
at the next FOMC meeting on August 21st and even a slight 18% probability of
a 50 bp cut at that time. Given a cut to 3.50% end of August, traders are
expecting with an 88% probability another 25 bp cut to 3.25% by year end.

      Have a great trading day -- and honor those stops !!


      If you would like to signup for a free trial of our interactive
trading room called the epit, where trading signals are posted in realtime
throughout the day, please fill out form at
http://www.eminidaytrading.com/eminisignup.html All questions regarding the
epit service, please email info at eminidaytrading.com . Erap service is not an
investment advisory service, nor a registered investment advisor or broker
and does not purport to tell or suggest which securities members should buy
or sell for themselves. Members should always check with their licensed
financial advisor and their tax advisor to determine the suitability of any
investment. You are currently subscribed to erap. To unsubscribe, please
send a blank email to erappers-unsubscribe-request at eminidaytrading.com

      Copyright 2001 by eminidaytrading Inc.
     Number 1
      08/13/2001

            Futures - The Basics
       Futures, the Basics - Are you a stock / option trader and have
considered trading futures but are constantly reminded how terribly risky
they are? If you are new to futures trading, then this session is a must as
emaster and emagine will cover the basics. What you need to know about
futures, how it differs from stocks & options trading and how to add them to
your trading arsenal.

            August 23rd and August 27th.


      Targets

      Both ES/NQ continue their downtrend. ES had a double bottom in the
1174-78 area which was briefly taken out, low 1172, before it bounced back.
However, until we make a clean break and close above 1235 level, we aren't
getting bullish. That area has been tested twice and failed. We have been
trading within this 1174-1233 range for over a month now. NQ has same story.
Even though it penetrated the upper trendline, it has resumed trend making a
new low of 1582.50. A break of this level could leave us testing 1550 and
1500 levels. We need a close above 1800 to get bullish.

            Intraday Epit Targets Hit
            ES  NQ
            1174.50  1604
            1188   1590
            1195.75   1619
            1631










-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010813/88826f56/attachment.html

From agehr at mozart.depaul.edu  Mon Aug 13 16:41:01 2001
From: agehr at mozart.depaul.edu (Adam Gehr)
Date: Mon, 13 Aug 2001 09:41:01 -0500 (CDT)
Subject: [R] Searching html help in 1.30
Message-ID: <Pine.GSO.4.05.10108130932040.4065-100000@mozart.depaul.edu>

In a previous post I noted a problem using the html help search in R 1.3
using Windows 98.  Further experimentation shows that search works fine in
Internet Explorer, but won't work in Netscape 4.7. When I attempt to
search in Netscape I just get a blink of the screen and then nothing. I've
noticed occasional problems in 4.7's interface with other Java programs so
this may be a Netscape problem rather than an R problem.

Adam Gehr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Mon Aug 13 17:09:55 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Mon, 13 Aug 2001 17:09:55 +0200 (MET DST)
Subject: [R] subset syntax
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E1859AF5A@icrafnttrain.icraf.cgiar.org>
Message-ID: <Pine.SO4.4.10.10108131645170.7429-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 13 Aug 2001, Grum, Mikkel wrote:


> Can anyone tell me what's wrong with this command??
> 
> xx<-subset(x,LOCAL.NAME==c("Chifumbata","Chikota"),select=c(13,16,19,23,26,2
> 9,30,33:48))
> 
> Warning message: 
> longer object length
>         is not a multiple of shorter object length in: LOCAL.NAME ==
> c("Chifumbata", "Chikota")
> 
> both of the following commands work fine
> xx<-subset(x,LOCAL.NAME==c("Chikota"),select=c(13,16,19,23,26,29,30,33:48))
> xx<-subset(x,LOCAL.NAME==c("Chifumbata"),select=c(13,16,19,23,26,29,30,33:48
> ))
> 
> but I want a file with both the Chifumbatas and the Chikotas and several
> others.
> 
> Cheers,
> Mikkel
> 

hmm lets have a look at the manual

Description

Binary operators which allow the comparison of values in vectors.
[snip]
x == y
x != y

Value

A vector of logicals indicating the result of the element by element
comparison. The elements of shorter vectors are recycled as necessary. 

#***********************
so length(xx$LOCAL.NAME) is uneven in your example, I assume; furthermore
c("Chifumbata","Chikota") as a two element vector is recycled to match
xx$LOCAL.NAME
and
c("Chifumbata","Chifumbata","Chikota","Chifumbata")==c("Chifumbata","Chikota") 
[1]  TRUE FALSE FALSE FALSE
so ...==c("Chifumbata","Chikota") would only find "Chikota" when it is an
entry with an even row number

I assume
subset(xx,LOCAL.NAME=="Chifumbata" | LOCAL.NAME=="Mososo",whatever-column)
 should do what you want

	J

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics 	Phone: ++49-551-39-12107
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 17:13:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Aug 2001 16:13:59 +0100 (BST)
Subject: [R] Searching html help in 1.30
In-Reply-To: <Pine.GSO.4.05.10108130932040.4065-100000@mozart.depaul.edu>
Message-ID: <Pine.LNX.4.31.0108131611180.11743-100000@gannet.stats>

On Mon, 13 Aug 2001, Adam Gehr wrote:

> In a previous post I noted a problem using the html help search in R 1.3
> using Windows 98.  Further experimentation shows that search works fine in
> Internet Explorer, but won't work in Netscape 4.7. When I attempt to
> search in Netscape I just get a blink of the screen and then nothing. I've
> noticed occasional problems in 4.7's interface with other Java programs so
> this may be a Netscape problem rather than an R problem.

Get the current Netscape, which is 4.77 I believe.  There are lots of
problems with 4.7 (which is the latest UK English version and someone put
up by mistake on my machine ...).  I also found help.start() followed by
help() failed in that version.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 13 18:02:39 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Aug 2001 18:02:39 +0200
Subject: [R] export-problem
In-Reply-To: <4.3.2.7.2.20010813134751.00acfd80@mail.datakom.su.se>
References: <4.3.2.7.2.20010813134751.00acfd80@mail.datakom.su.se>
Message-ID: <x2snewq76o.fsf@blueberry.kubism.ku.dk>

Lena Lindahl <Lena.Lindahl at sofi.su.se> writes:

> Hello!
> I am trying to export a data-file from SAS to R. It says in the R
> program that the SAS file should be in XPORT-format. I assume that the
> file should have and .xpt extension. But when I try to open the file
> in R I get only the message "compressed" written all over. So,
> probably I should un-compress the file in the R-program, the question
> is how?
> 
> Very greatful for quick help!

Like this:

-----------------------------------
libname peter xport "dataset.xpt";

DATA hej;
  input x y z;
  cards;
  1 2 3
  2 3 4
  5 6 7
  4 5 8
;

DATA peter.hej;
  SET hej;
--------------------------------------

(of course that could have been "DATA peter.hej;" directly, but you
might have the data set generated by other means.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 13 18:14:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Aug 2001 18:14:35 +0200
Subject: [R] subset syntax
In-Reply-To: <Pine.SO4.4.10.10108131645170.7429-100000@ufobi7.uni-forst.gwdg.de>
References: <Pine.SO4.4.10.10108131645170.7429-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <x2ofpkq6ms.fsf@blueberry.kubism.ku.dk>

Jens Nieschulze <jniesch at gwdg.de> writes:

> I assume
> subset(xx,LOCAL.NAME=="Chifumbata" | LOCAL.NAME=="Mososo",whatever-column)
>  should do what you want

The %in% operator is also handy in these cases:

subset(xx, LOCAL.NAME %in% c("Chifumbata", "Mososo"), ....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Mon Aug 13 18:28:14 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Mon, 13 Aug 2001 18:28:14 +0200 (MET DST)
Subject: [R] subset syntax
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E1859AF5A@icrafnttrain.icraf.cgiar.org>
Message-ID: <Pine.GSO.4.21.0108131819570.2866-100000@amadeus.statistik.uni-dortmund.de>

Hi Mikkel!
On Mon, 13 Aug 2001, Grum, Mikkel wrote:

> Can anyone tell me what's wrong with this command??
> 
> xx<-subset(x,LOCAL.NAME==c("Chifumbata","Chikota"),select=c(13,16,19,23,26,2
> 9,30,33:48))
> 
> Warning message: 
> longer object length
>         is not a multiple of shorter object length in: LOCAL.NAME ==
> c("Chifumbata", "Chikota")
I suppose you want to extract all elements of x where LOCAL.NAME matches
Chifumbata or Chikota. The operation == does an elementwise comparison of
the elements of two vectors. The operation you want here would be
"%in%" which compares every element in LOCAL.NAME with all elements in the
list c("Chifumbata", "Chikota") and if it finds a match gives true. 

so try:

xx<-subset(x,LOCAL.NAME %in% c("Chifumbata","Chikota"),select=c(13,16,19,23,26,2
 9,30,33:48))

Cheers,

Winfried 
> 
> both of the following commands work fine
> xx<-subset(x,LOCAL.NAME==c("Chikota"),select=c(13,16,19,23,26,29,30,33:48))
> xx<-subset(x,LOCAL.NAME==c("Chifumbata"),select=c(13,16,19,23,26,29,30,33:48
> ))
> 
> but I want a file with both the Chifumbatas and the Chikotas and several
> others.
> 
> Cheers,
> Mikkel
> 
> 
> 
> Mikkel Grum
> Genetic Diversity Scientist
> International Plant Genetic Resources Institute (IPGRI)
> Sub-Saharan Africa Group
> ***
> m.grum at cgiar.org
> ipgri-kenya at cgiar.org
> www.ipgri.cgiar.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

________________________________________________________________________
Dipl.-Math. Winfried Theis			   Tel:++49 231/755-5903
SFB 475, FB Statistik, Universit"at Dortmund, 44221 Dortmund
e-mail: theis at amadeus.statistik.uni-dortmund.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Mon Aug 13 18:24:21 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Mon, 13 Aug 2001 11:24:21 -0500
Subject: [R] process all files ending in *.dat
Message-ID: <3B77FF35.19136CC8@ukans.edu>

On Linux (RH7.1) with R installed from CRAN rpms:

I have many files with miscellaneous names *.dat. I would like to
successively open each one, run some functions on them, and then write
some output numbers to *.summary.  I have succeeded in doing this when I
type in each file name individually for the data input, but have not
found a way to search files in a directory and grab the *.dat.  If
somebody could tell me syntax or example of how to find the files, and
get the basename in order to create the new file name, I would be
grateful.
 
I tried
mydat<-system("ls *.dat")
but mydat does not catch the return.
Thanks for your many helps in the past...
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 13 18:39:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Aug 2001 18:39:03 +0200
Subject: [R] process all files ending in *.dat
In-Reply-To: <3B77FF35.19136CC8@ukans.edu>
References: <3B77FF35.19136CC8@ukans.edu>
Message-ID: <x2g0avrk2g.fsf@blueberry.kubism.ku.dk>

Paul E Johnson <pauljohn at ukans.edu> writes:

> I tried
> mydat<-system("ls *.dat")
> but mydat does not catch the return.
> Thanks for your many helps in the past...

You might want to read the help page for system() with some attention
to the "intern" argument...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Aug 13 18:41:47 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 13 Aug 2001 18:41:47 +0200
Subject: [R] jpeglib.h in a strange place
Message-ID: <3B78034B.91A0D06B@cbs.dtu.dk>

Dear All,



Would anybody have any advice to give on that:

The Facts:
- I installed (compiled) R on SGI IRIX (6.5)
- I am not root
- I discovered the jpeg device I need now badly doesn't work
(postscript is not so happy with 19 millions spots)
- after investigation, it appeared the jpeglib.h was detected not recent
enough at configure time
- the jpeglib.h in /usr/include is version 6a
- the jpeglib.h 6b is an exotic place (/usr/freeware/)

The Question:
How do I specify at configure (or compile ?) time where to find the
right include file an elegant way ?
(An RTFM answer is ok, but I just cannot make the flags in configure to
make it...)


Regards,


Laurent


-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 18:59:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Aug 2001 17:59:43 +0100 (BST)
Subject: [R] jpeglib.h in a strange place
In-Reply-To: <3B78034B.91A0D06B@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0108131757490.11829-100000@gannet.stats>

On Mon, 13 Aug 2001, Laurent Gautier wrote:

> Dear All,
>
>
>
> Would anybody have any advice to give on that:
>
> The Facts:
> - I installed (compiled) R on SGI IRIX (6.5)
> - I am not root
> - I discovered the jpeg device I need now badly doesn't work
> (postscript is not so happy with 19 millions spots)
> - after investigation, it appeared the jpeglib.h was detected not recent
> enough at configure time
> - the jpeglib.h in /usr/include is version 6a
> - the jpeglib.h 6b is an exotic place (/usr/freeware/)
>
> The Question:
> How do I specify at configure (or compile ?) time where to find the
> right include file an elegant way ?
> (An RTFM answer is ok, but I just cannot make the flags in configure to
> make it...)

You have to tell it how to find the include file.  Look in config.site:

# Header file search directory (`-IDIR') and any other miscellaneous
# options for the C preprocessor and compiler.
# If unset defaults to `-I/usr/local/include'.
# CPPFLAGS=

so I guess you want

CPPFLAGS="-I/usr/local/include -I/usr/freeware/"

zap config.cache and start again.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug 13 18:59:58 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 Aug 2001 09:59:58 -0700 (PDT)
Subject: [R] process all files ending in *.dat
In-Reply-To: <x2g0avrk2g.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0108130959300.82354-100000@homer35.u.washington.edu>

On 13 Aug 2001, Peter Dalgaard BSA wrote:

> Paul E Johnson <pauljohn at ukans.edu> writes:
>
> > I tried
> > mydat<-system("ls *.dat")
> > but mydat does not catch the return.
> > Thanks for your many helps in the past...
>
> You might want to read the help page for system() with some attention
> to the "intern" argument...

Or just use the list.files() function, which is portable across operating
systems.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Mon Aug 13 19:06:10 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 13 Aug 2001 19:06:10 +0200 (CEST)
Subject: [R] process all files ending in *.dat
In-Reply-To: <3B77FF35.19136CC8@ukans.edu>
Message-ID: <Pine.LNX.4.21.0108131904410.24084-100000@reclus.nhh.no>

On Mon, 13 Aug 2001, Paul E Johnson wrote:

> On Linux (RH7.1) with R installed from CRAN rpms:
> 
> I have many files with miscellaneous names *.dat. I would like to
> successively open each one, run some functions on them, and then write
> some output numbers to *.summary.  I have succeeded in doing this when I
> type in each file name individually for the data input, but have not
> found a way to search files in a directory and grab the *.dat.  If
> somebody could tell me syntax or example of how to find the files, and
> get the basename in order to create the new file name, I would be
> grateful.
>  
> I tried
> mydat<-system("ls *.dat")
> but mydat does not catch the return.
> Thanks for your many helps in the past...
> 
list.files(pattern="*.dat") may help?

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Mon Aug 13 19:50:21 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 13 Aug 2001 13:50:21 -0400
Subject: [R] is.numeric()
Message-ID: <3B78135D.8214F9E@umsanet.edu.bo>

Hola!

Is the following correct behaviour?

> is.numeric(NA)
[1] FALSE
> is.numeric(c(NA))
[1] FALSE
> is.numeric(c(1,2,3,NA))
[1] TRUE

This is R1.3.0, windows.

Kjetil.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug 13 20:07:23 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 Aug 2001 11:07:23 -0700 (PDT)
Subject: [R] is.numeric()
In-Reply-To: <3B78135D.8214F9E@umsanet.edu.bo>
Message-ID: <Pine.A41.4.33.0108131106050.82354-100000@homer35.u.washington.edu>

On Mon, 13 Aug 2001, kjetil halvorsen wrote:

> Hola!
>
> Is the following correct behaviour?
>
> > is.numeric(NA)
> [1] FALSE
> > is.numeric(c(NA))
> [1] FALSE
> > is.numeric(c(1,2,3,NA))
> [1] TRUE

Yes. NA is a logical constant unless it is coerced to some other type
(?is.na)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Mon Aug 13 20:51:27 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Mon, 13 Aug 2001 12:51:27 -0600 (MDT)
Subject: [R] printing lattice plots
Message-ID: <Pine.GSO.4.05.10108131235500.12312-100000@virga.rap.ucar.edu>

Hi

I'm trying to print several plots to a multi-page postscript file. 
Some plots are output of basic commands, some are produced by "trellis" 
commands (from the package lattice). 
Right now I'm not able to get a straightforward black and white color
scheme for the latter kind: when I open the postscript file the "trellis"
plots are invisible, or parts of them are (usually the bounding
box/axes/axes marks). 

Here is a sample set of lines:

postscript(file="pix1.ps")
par(mfrow=c(2,2))
plot(X,Y)
plot(X1,Y1)
plot(X2,Y2)

par(mfrow=c(1,1))

bwplot(cut(X)~Y)
bwplot(cut(X1)~Y1)

dev.off()

I've tried changing the trellis.settings$...$col items to "black"
or specifying trellis.device(color=FALSE,device="postscript"). No luck. 
On a related note, is there a way to have multiple trellis plots on a same
page? 

thanks in advance

c



-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 13 21:50:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 13 Aug 2001 20:50:35 +0100 (BST)
Subject: [R] printing lattice plots
In-Reply-To: <Pine.GSO.4.05.10108131235500.12312-100000@virga.rap.ucar.edu>
Message-ID: <Pine.GSO.4.31.0108132047060.17787-100000@auk.stats>

On Mon, 13 Aug 2001, Claudia Tebaldi wrote:

> Hi
>
> I'm trying to print several plots to a multi-page postscript file.
> Some plots are output of basic commands, some are produced by "trellis"
> commands (from the package lattice).

That is not a good idea, and not supported under S, so I doubt if it will
be under R.  Write the pages separately and combine.  Basically a
single postscript file is from a single device session, and you want to
mix sessions.

> Right now I'm not able to get a straightforward black and white color
> scheme for the latter kind: when I open the postscript file the "trellis"
> plots are invisible, or parts of them are (usually the bounding
> box/axes/axes marks).
>
> Here is a sample set of lines:
>
> postscript(file="pix1.ps")
> par(mfrow=c(2,2))
> plot(X,Y)
> plot(X1,Y1)
> plot(X2,Y2)
>
> par(mfrow=c(1,1))
>
> bwplot(cut(X)~Y)
> bwplot(cut(X1)~Y1)
>
> dev.off()
>
> I've tried changing the trellis.settings$...$col items to "black"
> or specifying trellis.device(color=FALSE,device="postscript"). No luck.

(Eventually that may work, sort of.)

> On a related note, is there a way to have multiple trellis plots on a same
> page?

?print.trellis has examples ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Aug 14 00:45:13 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Mon, 13 Aug 2001 17:45:13 -0500
Subject: [R] Processing all *.dat worked. Thanks
Message-ID: <3B785879.3E445D51@ukans.edu>

I got great, quick advice here earlier today.  One little hitch was that
the pattern in list.files wants a regular expression, and *.dat was
grabbing all files with .dat in them, not ones ending in .dat.  This
code creates a *.dat.summary file with the mean and std. deviation. of
the numeric variables for every *.dat file in the current directory.

myDat<-list.files(pattern="*.dat$")
createSummary <-function(dsName){
  data<-read.table(dsName,header=T,as.is = TRUE)
  indices<-1:dim(data)[2]
  indices<-na.omit(ifelse(indices*sapply(data,is.numeric),indices,NA))
  mean<-sapply(data[,indices],mean)
  sd<-sapply(data[,indices],sd)
  newOutput<-rbind(mean,sd)
  newOutput<-round(newOutput,digits=6)
  outputdsname<-c(paste(dsName,".summary",sep=""))
  write.table(t(newOutput),file=outputdsname,quote=FALSE,
sep="\t",col.names=FALSE)
}

processData <-function(dat){
  for (i in 1:length(dat))
  {
    createSummary(dat[[i]])
  }
}

processData(myDat)


-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Tue Aug 14 02:06:13 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Mon, 13 Aug 2001 17:06:13 -0700 (PDT)
Subject: [R] printing lattice plots
In-Reply-To: <Pine.GSO.4.05.10108131235500.12312-100000@virga.rap.ucar.edu>
Message-ID: <20010814000613.2190.qmail@web13902.mail.yahoo.com>


--- Claudia Tebaldi <tebaldi at rap.ucar.edu> wrote:
> Hi
> 
> I'm trying to print several plots to a multi-page
> postscript file. 
> Some plots are output of basic commands, some are
> produced by "trellis" 
> commands (from the package lattice). 
> Right now I'm not able to get a straightforward
> black and white color
> scheme for the latter kind: when I open the
> postscript file the "trellis"
> plots are invisible, or parts of them are (usually
> the bounding
> box/axes/axes marks). 
> 
> Here is a sample set of lines:
> 
> postscript(file="pix1.ps")
> par(mfrow=c(2,2))
> plot(X,Y)
> plot(X1,Y1)
> plot(X2,Y2)
> 
> par(mfrow=c(1,1))
> 
> bwplot(cut(X)~Y)
> bwplot(cut(X1)~Y1)
> 
> dev.off()


Mixing regular R graphics and grid/lattice graphics
are not fully supported yet (we hope to have some
support in the next release). There is a way though,
which is to use the grid functions grid.stop() and
grid.start(). You have to first start the device by
trellis.device()
(otherwise the trellis settings for that device might
not take effect). That will start grid graphics. You
might now use lattice calls. Call grid.stop() before
starting regular graphics calls and then grid.start()
again to return to lattice. For example, this should
give you what you want:


> ##postscript(file="pix1.ps")    replaced by:
> trellis.device(postscript, file="pix1.ps", 
+ color=F, bg="white")
> grid.stop()  # added
> par(mfrow=c(2,2))
> plot(X,Y)
> plot(X1,Y1)
> plot(X2,Y2)
> 
> par(mfrow=c(1,1))
> 
> grid.start() # added
> bwplot(cut(X)~Y)
> bwplot(cut(X1)~Y1)
> 
> dev.off()



> I've tried changing the trellis.settings$...$col
> items to "black"
> or specifying
> trellis.device(color=FALSE,device="postscript"). No
> luck. 
> On a related note, is there a way to have multiple
> trellis plots on a same
> page? 

print.trellis() with arguments position or split.


__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Aug 14 06:46:13 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Tue, 14 Aug 2001 16:46:13 +1200 (NZST)
Subject: [R] loess() v.s. lowess()
Message-ID: <Pine.SOL.4.21.0108141643360.1622-100000@stat1.stat.auckland.ac.nz>

Hi there,

Just out of curious, is there any difference between loess() and
lowess() in R (and Splus in fact).

Which one is more often used?

Thanks,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue Aug 14 08:03:19 2001
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Mon, 13 Aug 2001 23:03:19 -0700
Subject: [R] subset syntax
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E1859B06E@icrafnttrain.icraf.cgiar.org>

%in% worked wonders.

Thanks a lot!

Mikkel

 -----Original Message-----
From: 	Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk] 
Sent:	13 August 2001 19:15
To:	Jens Nieschulze
Cc:	Grum, Mikkel; R-help at stat.math.ethz.ch
Subject:	Re: [R] subset syntax

Jens Nieschulze <jniesch at gwdg.de> writes:

> I assume
> subset(xx,LOCAL.NAME=="Chifumbata" | LOCAL.NAME=="Mososo",whatever-column)
>  should do what you want

The %in% operator is also handy in these cases:

subset(xx, LOCAL.NAME %in% c("Chifumbata", "Mososo"), ....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 14 08:28:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Aug 2001 07:28:22 +0100 (BST)
Subject: [R] loess() v.s. lowess()
In-Reply-To: <Pine.SOL.4.21.0108141643360.1622-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0108140727030.16946-100000@auk.stats>

On Tue, 14 Aug 2001, Ko-Kang Kevin Wang wrote:

> Hi there,
>
> Just out of curious, is there any difference between loess() and
> lowess() in R (and Splus in fact).

Yes.

> Which one is more often used?

loess() is much more powerful.

See the white book (Chambers & Hastie ca 1992) and the respective help
pages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 14 08:48:48 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Aug 2001 08:48:48 +0200
Subject: [R] Regular Expressions {was Processing all *.dat worked..}
In-Reply-To: <3B785879.3E445D51@ukans.edu>
References: <3B785879.3E445D51@ukans.edu>
Message-ID: <15224.51664.755674.341496@gargle.gargle.HOWL>

>>>>> "PaulEJ" == Paul E Johnson <pauljohn at ukans.edu> writes:

    PaulEJ> I got great, quick advice here earlier today.  One little hitch
    PaulEJ> was that the pattern in list.files wants a regular expression,
    PaulEJ> and *.dat was grabbing all files with .dat in them, not ones
    PaulEJ> ending in .dat.  This code creates a *.dat.summary file with
    PaulEJ> the mean and std. deviation. of the numeric variables for every
    PaulEJ> *.dat file in the current directory.

    PaulEJ> myDat<-list.files(pattern="*.dat$")

(many of us would say  ``please use spaces around "<-" ''
 [recent versions of ESS do this automagically with the "_" key!])

    PaulEJ>  <.....>

You are right: Pattern should be a  *regular expression*

However, it was ``pure luck'' that your  "*.dat$"  worked fine.
Both "*" and "." don't mean what you think they mean;

  "."  means  ``any arbitrary character''
  "*"  means  ``the previous [thing] arbitrary many (0,1,...) times''
	      where [thing] is a single character (or something more general
						   for advanced usage)

The correct pattern would have been

    pattern = "\\.dat$"

which really is \.dat$ 
{ the "\\" (doubling) is necessary to specify a single "\" in an R string}

You can find a bit more about regular expression using R's help
  ?grep    and
  ?apropos

Regular Expressions (nicknamed "Regexp"s, "Regex"s or "RE"s) are a very
powerful concept from the early years of Unix; probably first used for the
"grep" (and "egrep") command; then, inside Emacs and lately Perl, Python,
etc.  All regexp implementations have quite a few things in common,
but slightly differ when it becomes complicated.  
It's worth spending an hour or so learning the basics.
A google search gives you tons of starting points.


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 14 08:58:35 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Aug 2001 08:58:35 +0200
Subject: [R] loess() v.s. lowess()
In-Reply-To: <Pine.GSO.4.31.0108140727030.16946-100000@auk.stats>
References: <Pine.SOL.4.21.0108141643360.1622-100000@stat1.stat.auckland.ac.nz>
	<Pine.GSO.4.31.0108140727030.16946-100000@auk.stats>
Message-ID: <15224.52251.296801.850157@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Tue, 14 Aug 2001, Ko-Kang Kevin Wang wrote:
    >> Hi there,
    >> 
    >> Just out of curious, is there any difference between loess() and
    >> lowess() in R (and Splus in fact).

    BDR> Yes.

    >> Which one is more often used?

    BDR> loess() is much more powerful.

    BDR> See the white book (Chambers & Hastie ca 1992) and the respective help
    BDR> pages.

One gotcha -- particularly if you were used to the fact that lowess() by
default is resistant to outliers {well, in many cases at least} :

lowess() per default has "iter = 3" which means it uses 3 ``robustifying''
	 (also called "huberizing" for Huber (1960)) iterations . 

loess() on the other hand has an argument  `family'  with possible values
	"gaussian" and "symmetric" (can be abbreviated) where the *first*
	one is the default (unfortunately, in my opinion). 

I.e., loess() by default is not resistant/robust where as lowess() is.
Note that this does not contradict anything Prof.Ripley said above.
I would however recommend using  loess(....., family = "sym") routinely.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Aug 14 09:07:52 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 14 Aug 2001 09:07:52 +0200
Subject: [R] Census II time-serie decomposition
Message-ID: <MABBLJDICACNFOLGIHJOIEAOCFAA.phgrosje@ulb.ac.be>

Does anyone knows if the Census II method of decomposition of a time-serie
(Shiskin, J. & H. Eisenpress, 1957. Seasonal adjustment by electronic
computer methods. J. Am. Stat. Assoc., 52:415-449) is already available
somewhere for R? If not, I'll do it ;-)

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistic
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Tue Aug 14 09:10:52 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Tue, 14 Aug 2001 09:10:52 +0200
Subject: [R] R (D)COM automation server for windows, type mismatch?
References: <30108.997646783@www45.gmx.net>
Message-ID: <3B78CEFC.52C0F6A9@univie.ac.at>

the interface is just undergoing some architectural changes.
what you are using is only experimental
and will be fully available int the next version.

the device of both character and graphics devices at the moment is
somewhat experimental
and will be documented much better in the next release.



Thilo Engelskircher wrote:
> 
> Hello!
> 
> I just started experimenting with the (D)COM automation server for R
> (server version 0.99, R 1.3.0, Win NT)
> 
> All the precompiled sample executables work.
> 
> When I write programms myself, in this case Visual Basic for Applications
> within Excel, I can attach a graphics device but not a character device.
> 
> The controls I added to the form by means of the 'toolbox' both originate
> from the client library (see below) and are named
> 'Gfx1'    (of type StatConnectorGraphicsDevice) and
> 'CharDev' (of type StatConnectorCharacterDevice)
> 
> The code fragment working with them is:
> 
>         Dim x As StatConnector
>         Dim gfxdev As ISGFX
> 
>         Set x = New StatConnector
>         x.Init ("R")
> 
>         Set gfxdev = Gfx1.GetGFX
>         x.AddGraphicsDevice "dev1", gfxdev   ' <- this works
> 
>         x.SetCharacterOutputDevice CharDev   ' <- this does not
> 
> VBA stops with a type mismatch error.
> Unfortunately this is consistent with what I can see in the object browser
> tree:
> The method SetCharacterOutputDevice requires an
> IStatConnectorCharacterDevice but I only have an can get a StatConnectorCharacterDevice. (Where as for
> AddGraphicsDevice I can get an ISGFX by means of the function GetGFX)
> 
> Where is the mistake?
> Any hints?
> 
> Thanks, Thilo.
> 
> ---
> 
> >From the Object Browser:
> ---------------------------------------------------------------
> 
> Library STATCONNECTORCLNTLib
> ...\rw1030\bin\StatConnectorClnt.dll
> 
> ISGFX:
>     ...
> 
> StatConnectorCharacterDevice:
>     Clear()
>     WriteString(bstrLine As String)
>     WriteStringLevel(bstrLine As String, lLevel As Long)
> 
> StatConnectorGraphicsDevice:
>     BackColor As OLE_COLOR
>     ...
> *   GetGFX() As ISGFX
> 
> ---------------------------------------------------------------
> 
> Library STATCONNECTORSRVLib
> ...\rw1030\bin\StatConnectorSrv.exe
> 
> ISGFX:
>     ...
> 
> IStatConnectorCharacterDevice:
>     Clear()
>     WriteString(bstrLine As String)
>     WriteStringLevel(bstrLine As String, lLevel As Long)
> 
> IStatConnectorUIAgent:
>     ...
> 
> StatConnector:
>     Init(bstrConnectorName As String)
> *   AddGraphicsDevice(bstrName As String, pDevice As ISGFX)
> *   SetCharacterOutputDevice(pCharDevice As IStatConnectorCharacterDevice)
>     ...
>     Close()
> 
> 
> --
> Aufgepasst - jetzt viele 1&1 New WebHosting Pakete ohne
> Einrichtungsgebuehr + 1 Monat Grundgebuehrbefreiung!
> http://puretec.de/index.html?ac=OM.PU.PU003K00736T0492a
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From racerdude911 at yahoo.com  Tue Aug 14 16:20:08 2001
From: racerdude911 at yahoo.com (jon do)
Date: Tue, 14 Aug 2001 07:20:08 -0700 (PDT)
Subject: [R] problems embedding R
Message-ID: <20010814142008.2447.qmail@web12304.mail.yahoo.com>

I have a problem with embedding R into perl.  I
downloaded the interface program/module from
omegahat.org, and I can't seem to understand how to
use it.  This is all done under Win NT 4.0.  If anyone
have any clue or any suggestions on how to interface R
into perl, I would be greatful.  Please email me with
comments at racerdude911 at yahoo.com
Thanks
Scott

__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Aug 14 16:40:43 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 14 Aug 2001 10:40:43 -0400
Subject: [R] problems embedding R
In-Reply-To: <20010814142008.2447.qmail@web12304.mail.yahoo.com>; from racerdude911@yahoo.com on Tue, Aug 14, 2001 at 07:20:08AM -0700
References: <20010814142008.2447.qmail@web12304.mail.yahoo.com>
Message-ID: <20010814104043.D11212@jessie.research.bell-labs.com>

jon do wrote:
> I have a problem with embedding R into perl.  I
> downloaded the interface program/module from
> omegahat.org, and I can't seem to understand how to
> use it.  This is all done under Win NT 4.0.  If anyone
> have any clue or any suggestions on how to interface R
> into perl, I would be greatful.  Please email me with
> comments at racerdude911 at yahoo.com
> Thanks
> Scott

I don't believe the package has ever been used under Windows.  It is
setup for Unix. The same infra-structure should work, but the
configuration/setup should be quite different.

I am not certain which version you have, and whether it even supports
running R inside Perl. The original package did things the other way
around - namely, Perl in R.  I am in the process of finishing off an
update to the package which provides support for running R inside
Perl, but this is not available in package form yet.  After that is
released, perhaps I or some interested party will explore the Windows
configuration setup.

 Hope that helps.

  D.

> 
> __________________________________________________
> Do You Yahoo!?
> Make international calls for as low as $.04/minute with Yahoo! Messenger
> http://phonecard.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 14 16:47:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 14 Aug 2001 15:47:10 +0100 (BST)
Subject: [R] problems embedding R
In-Reply-To: <20010814104043.D11212@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0108141545390.32133-100000@gannet.stats>

On Tue, 14 Aug 2001, Duncan Temple Lang wrote:

> jon do wrote:
> > I have a problem with embedding R into perl.  I
> > downloaded the interface program/module from
> > omegahat.org, and I can't seem to understand how to
> > use it.  This is all done under Win NT 4.0.  If anyone
> > have any clue or any suggestions on how to interface R
> > into perl, I would be greatful.  Please email me with
> > comments at racerdude911 at yahoo.com
> > Thanks
> > Scott
>
> I don't believe the package has ever been used under Windows.  It is

I tried and failed about 6 months' ago.

> setup for Unix. The same infra-structure should work, but the
> configuration/setup should be quite different.
>
> I am not certain which version you have, and whether it even supports
> running R inside Perl. The original package did things the other way
> around - namely, Perl in R.  I am in the process of finishing off an
> update to the package which provides support for running R inside
> Perl, but this is not available in package form yet.  After that is
> released, perhaps I or some interested party will explore the Windows
> configuration setup.

The obvious way to run R inside Perl on Windows is the DCOM interface on
CRAN: that has worked.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Tue Aug 14 17:06:09 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 14 Aug 2001 11:06:09 -0400
Subject: [R] safe data.restore
Message-ID: <001601c124d2$a6691080$c5093586@STEVENS>

(R 1.3.0, ESS, Emacs, Windows)
I would like to import a set of objects exported from S+ v. 6, beta2 using
data.dump, but I want to make sure that it does not overwrite current
objects I am using in R. How would I route the output of data.restore() to
ensure the safety of my current objects?

Thanks very much,
Henry

*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From didier at fmrib.ox.ac.uk  Tue Aug 14 17:04:37 2001
From: didier at fmrib.ox.ac.uk (Didier Leibovici)
Date: Tue, 14 Aug 2001 16:04:37 +0100
Subject: [R] another little problem embedding R
References: <20010814142008.2447.qmail@web12304.mail.yahoo.com>
Message-ID: <3B793E05.FE6EE90F@fmrib.ox.ac.uk>

I was using 
num <-scan("",numeric(0))
in a file to be ran in batch or with R --vanilla <bidon.R

but I don't know how to make it wait for the value ???
i.e. if you do the same typing

19 didier at mace $ R --vanilla

R : Copyright 2001, The R D

> source("bidon.R")
1: 1
2: 33
3: 999
4: 
Read 3 items
> num
[1]   1  33 999
> q()

the "batch" gave
20 didier at mace $ R --vanilla <bidon.R

R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04
> num <- scan("",numeric(0))
1: Read 0 items
> q()

and if you put source("bidon.R) in Runbidon.R
22 didier at mace $ R --vanilla <Runbidon.R
...
> source("bidon.R")
1: Read 0 items
> 
23 didier at mace $ 


Is there any options or variables to change to make it ...wait!
thanks
-- 
  Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
Image Analysis Group                          fax:+44 (0)1865 222 717
Oxford University, Centre For Functional Magnetic Resonance Imaging of
the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU,
U.K
http://www.fmrib.ox.ac.uk/~didier/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Tue Aug 14 17:16:01 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Tue, 14 Aug 2001 17:16:01 +0200
Subject: [R] RODBC connection - mixed data types
Message-ID: <3B795CD1.4076.209CA03@localhost>

Dear R users

I use R (1.3.0) Windows version usually with connection to Excel 
sheets via RODBC Version: 0.8-2. Everything is OK until I use mixed 
data types (numeric and character) in one column.

In that case I will get a particular column of data frame with NA's.

Example

vzorek   	lpas  	apas  
NA 	51.240 	20.26 
NA 	51.340 	20.42 
NA 	49.770 	22.05 
RB 12 	49.840 	19.30 
RB 12 	49.880 	19.32

But in actual Excel sheet instead of NA values were numbers 11 
(numeric). I can modify elevens in Excel as let say RB 11 or 
something like that, but if there are more such columns and many 
different values it can be quite complicated.

The values are either considered character, converted to factor and 
numeric values are changed to NA or numeric and character values 
are converted to NA.

> is.factor(pigment[,1])
[1] TRUE
> is.numeric(pigment[,2])
[1] TRUE
> is.numeric(pigment[,3])
[1] TRUE

I tried parameter as.is but it did not help and I did not find any clue 
other then I(....) but I can not resolve how to use it in that case.

Is there any possibility how to handle different data types in one Excel 
sheet column directly by using ODBC connection and keep all values 
in such column as they are when moving data from Excel to R?

Thank you.
Petr Pikal
Precheza a.s.
Nabr.Dr.E.Benese 24
tel: 00420 641 25 2257
     +420 (0)724 008 364
     petr.pikal at precheza.cz
     p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 14 17:33:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Aug 2001 17:33:19 +0200
Subject: [R] safe data.restore
In-Reply-To: <001601c124d2$a6691080$c5093586@STEVENS>
References: <001601c124d2$a6691080$c5093586@STEVENS>
Message-ID: <x2vgjq1wsg.fsf@blueberry.kubism.ku.dk>

"Martin Henry H. Stevens" <hstevens at muohio.edu> writes:

> (R 1.3.0, ESS, Emacs, Windows)
> I would like to import a set of objects exported from S+ v. 6, beta2 using
> data.dump, but I want to make sure that it does not overwrite current
> objects I am using in R. How would I route the output of data.restore() to
> ensure the safety of my current objects?

How about

sapply(local({
  data.restore("dumpdata", env=environment());
  ls()
}), exists)

(and maybe wrap an any() around that if there are many objects)

Or,

e <- new.env()
data.restore("dumpdata", env=e)
sapply(ls(env=e), exists)
rm(e)


(provided you have no variable called "e" of course...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 14 17:44:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Aug 2001 16:44:36 +0100 (GMT Daylight Time)
Subject: [R] scan in batch use (was another little problem embedding R)
In-Reply-To: <3B793E05.FE6EE90F@fmrib.ox.ac.uk>
Message-ID: <Pine.WNT.4.31.0108141642270.1252-100000@gannet>

On Tue, 14 Aug 2001, Didier Leibovici wrote:

> I was using
> num <-scan("",numeric(0))
> in a file to be ran in batch or with R --vanilla <bidon.R
>
> but I don't know how to make it wait for the value ???

Don't use "" (which is stdin in scan) in a batch script.  Read from some
other connection.

BTW, you don't seem to be embedding R.

> i.e. if you do the same typing
>
> 19 didier at mace $ R --vanilla
>
> R : Copyright 2001, The R D
>
> > source("bidon.R")
> 1: 1
> 2: 33
> 3: 999
> 4:
> Read 3 items
> > num
> [1]   1  33 999
> > q()
>
> the "batch" gave
> 20 didier at mace $ R --vanilla <bidon.R
>
> R : Copyright 2001, The R Development Core Team
> Version 1.2.3  (2001-04
> > num <- scan("",numeric(0))
> 1: Read 0 items
> > q()
>
> and if you put source("bidon.R) in Runbidon.R
> 22 didier at mace $ R --vanilla <Runbidon.R
> ...
> > source("bidon.R")
> 1: Read 0 items
> >
> 23 didier at mace $
>
>
> Is there any options or variables to change to make it ...wait!
> thanks
> --
>   Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
> Image Analysis Group                          fax:+44 (0)1865 222 717
> Oxford University, Centre For Functional Magnetic Resonance Imaging of
> the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU,
> U.K
> http://www.fmrib.ox.ac.uk/~didier/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 14 17:49:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Aug 2001 16:49:07 +0100 (GMT Daylight Time)
Subject: [R] RODBC connection - mixed data types
In-Reply-To: <3B795CD1.4076.209CA03@localhost>
Message-ID: <Pine.WNT.4.31.0108141645140.1252-100000@gannet>

On Tue, 14 Aug 2001, Petr Pikal wrote:

> Dear R users
>
> I use R (1.3.0) Windows version usually with connection to Excel
> sheets via RODBC Version: 0.8-2. Everything is OK until I use mixed
> data types (numeric and character) in one column.

You can't have different data types in one column of a data frame. You are
not telling us what you are doing (at all: not a single command you used),
but I suspect you need to know about as="matrix", which will import the
data as a character matrix for you.

> In that case I will get a particular column of data frame with NA's.
>
> Example
>
> vzorek   	lpas  	apas
> NA 	51.240 	20.26
> NA 	51.340 	20.42
> NA 	49.770 	22.05
> RB 12 	49.840 	19.30
> RB 12 	49.880 	19.32
>
> But in actual Excel sheet instead of NA values were numbers 11
> (numeric). I can modify elevens in Excel as let say RB 11 or
> something like that, but if there are more such columns and many
> different values it can be quite complicated.
>
> The values are either considered character, converted to factor and
> numeric values are changed to NA or numeric and character values
> are converted to NA.
>
> > is.factor(pigment[,1])
> [1] TRUE
> > is.numeric(pigment[,2])
> [1] TRUE
> > is.numeric(pigment[,3])
> [1] TRUE
>
> I tried parameter as.is but it did not help and I did not find any clue
> other then I(....) but I can not resolve how to use it in that case.
>
> Is there any possibility how to handle different data types in one Excel
> sheet column directly by using ODBC connection and keep all values
> in such column as they are when moving data from Excel to R?

Not as such.  Bu you can get them all as characters strings.

>
> Thank you.
> Petr Pikal
> Precheza a.s.
> Nabr.Dr.E.Benese 24
> tel: 00420 641 25 2257
>      +420 (0)724 008 364
>      petr.pikal at precheza.cz
>      p.pik at volny.cz
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macosko at fas.harvard.edu  Tue Aug 14 21:43:11 2001
From: macosko at fas.harvard.edu (Evan Zane Macosko)
Date: Tue, 14 Aug 2001 15:43:11 -0400 (EDT)
Subject: [R] using jpeg() in BATCH mode
Message-ID: <Pine.OSF.4.33.0108141541290.1575-100000@is07.fas.harvard.edu>

Hi everyone,


I'm trying to run R in batch mode, and I'm having trouble printing my
plots to any file type other than postscript.  I know R BATCH doesn't
support X11()--is there any way to use R BATCH and write jpeg files?

Also: I am running a cgi script to do this--alternatively to batch, is
there some kinds of R-CGI interface that might be easier?

Thanks!
evan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 14 22:13:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 14 Aug 2001 21:13:48 +0100 (BST)
Subject: [R] using jpeg() in BATCH mode
In-Reply-To: <Pine.OSF.4.33.0108141541290.1575-100000@is07.fas.harvard.edu>
Message-ID: <Pine.LNX.4.31.0108142111190.2264-100000@gannet.stats>

On Tue, 14 Aug 2001, Evan Zane Macosko wrote:

> I'm trying to run R in batch mode, and I'm having trouble printing my
> plots to any file type other than postscript.  I know R BATCH doesn't
> support X11()--is there any way to use R BATCH and write jpeg files?

Under Unix, to use jpeg() you need to start R with the X11 gui, and BATCH
does not.  bitmap() works though ...

> Also: I am running a cgi script to do this--alternatively to batch, is
> there some kinds of R-CGI interface that might be easier?

BATCH is just a very simple wrapper: you can write your own.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macosko at fas.harvard.edu  Tue Aug 14 22:57:53 2001
From: macosko at fas.harvard.edu (Evan Zane Macosko)
Date: Tue, 14 Aug 2001 16:57:53 -0400 (EDT)
Subject: [R] using jpeg() in BATCH mode
In-Reply-To: <Pine.LNX.4.31.0108142111190.2264-100000@gannet.stats>
Message-ID: <Pine.OSF.4.33.0108141656100.1575-100000@is07.fas.harvard.edu>


So I tried using the dev2bitmap function, and I get an empty file.  Here
is my batch script(simplified):

angles<-scan("tempout.txt");
hist(angles);
filename<-c("/var/www/html/histograph.png");
dev2bitmap(filename, type = "png256", height = 4, width = 4, res = 65,
pointsize = 10);


Any suggestions on why this doesn't work?

On Tue, 14 Aug 2001, Prof Brian Ripley wrote:

> On Tue, 14 Aug 2001, Evan Zane Macosko wrote:
>
> > I'm trying to run R in batch mode, and I'm having trouble printing my
> > plots to any file type other than postscript.  I know R BATCH doesn't
> > support X11()--is there any way to use R BATCH and write jpeg files?
>
> Under Unix, to use jpeg() you need to start R with the X11 gui, and BATCH
> does not.  bitmap() works though ...
>
> > Also: I am running a cgi script to do this--alternatively to batch, is
> > there some kinds of R-CGI interface that might be easier?
>
> BATCH is just a very simple wrapper: you can write your own.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 15 00:08:41 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Aug 2001 00:08:41 +0200
Subject: [R] using jpeg() in BATCH mode
In-Reply-To: <Pine.OSF.4.33.0108141656100.1575-100000@is07.fas.harvard.edu>
References: <Pine.OSF.4.33.0108141656100.1575-100000@is07.fas.harvard.edu>
Message-ID: <x2u1za70ra.fsf@blueberry.kubism.ku.dk>

Evan Zane Macosko <macosko at fas.harvard.edu> writes:

> So I tried using the dev2bitmap function, and I get an empty file.  Here
> is my batch script(simplified):
> 
> angles<-scan("tempout.txt");
> hist(angles);
> filename<-c("/var/www/html/histograph.png");
> dev2bitmap(filename, type = "png256", height = 4, width = 4, res = 65,
> pointsize = 10);
> 
> 
> Any suggestions on why this doesn't work?

You didn't read what Brian wrote:

> > Under Unix, to use jpeg() you need to start R with the X11 gui, and BATCH
> > does not.  bitmap() works though ...
               ^^^^^^^^
There's no "dev to bitmap" when you get there, try

angles<-scan("tempout.txt")
filename<-c("/var/www/html/histograph.png")
bitmap(filename, type = "png256", height = 4, width = 4, res = 65,
  pointsize = 10)
hist(angles)
dev.off()

BTW: This is R, not Perl or SAS. You don't need semicolon at end of
lines.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Aug 15 11:42:12 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 15 Aug 2001 11:42:12 +0200
Subject: [R] RegExp Question
Message-ID: <20010815114206.A8012@rzsrv2.rz.tu-bs.de>

I have to admit that I'm a bit ignorant about 
regular expressions...I have a problem with "gsub":

under unix I can :

> cat tmp.txt
F.123 F.123
F123 F123
sed 's/F\./d/g' tmp.txt
d123 d123
F123 F123

that is: replacing "F.", however under R:

gsub("F\.","d",c("F123","F.123"),extended=F)
[1] "d23"  "d123"

the problem is that the "F123" string is replaced (escaping "." 
does not work??). What can I do?

Thanks 
Peter







-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 15 11:52:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Aug 2001 11:52:07 +0200
Subject: [R] RegExp Question
In-Reply-To: <20010815114206.A8012@rzsrv2.rz.tu-bs.de>
References: <20010815114206.A8012@rzsrv2.rz.tu-bs.de>
Message-ID: <x266bp646w.fsf@blueberry.kubism.ku.dk>

Peter Malewski <peter.malewski at gmx.de> writes:

> gsub("F\.","d",c("F123","F.123"),extended=F)
> [1] "d23"  "d123"
> 
> the problem is that the "F123" string is replaced (escaping "." 
> does not work??). What can I do?

Escape more:

> gsub("F\\.","d",c("F123","F.123"),extended=F)
[1] "F123" "d123"

Notice that

> "F\."
[1] "F."



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Aug 15 11:57:56 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 15 Aug 2001 11:57:56 +0200
Subject: [R] RegExp Question
In-Reply-To: <x266bp646w.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Aug 15, 2001 at 11:52:07AM +0200
References: <20010815114206.A8012@rzsrv2.rz.tu-bs.de> <x266bp646w.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010815115755.B8012@rzsrv2.rz.tu-bs.de>

On Wed, Aug 15, 2001 at 11:52:07AM +0200, Peter Dalgaard BSA wrote:
> Peter Malewski <peter.malewski at gmx.de> writes:
> 
> > gsub("F\.","d",c("F123","F.123"),extended=F)
> > [1] "d23"  "d123"
> > 
> > the problem is that the "F123" string is replaced (escaping "." 
> > does not work??). What can I do?
> 
> Escape more:
> 
> > gsub("F\\.","d",c("F123","F.123"),extended=F)
> [1] "F123" "d123"
> 
> Notice that
> 
> > "F\."
> [1] "F."
> 

Thanks. 
P.

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Aug 15 13:04:11 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 15 Aug 2001 23:04:11 +1200 (NZST)
Subject: [R] FORTRAN in R
Message-ID: <Pine.SOL.4.21.0108152302010.25163-100000@stat1.stat.auckland.ac.nz>

Hi,

Can anyone tell me what might cause this error message?

Error in .Fortran("swallocate", as.double(mtx), as.double(wt),
as.integer(n),  :
        C/Fortran function name not in load table

This occurs when I copied the Splus stepwise() function into R.  I can
source into R fine, but when I need to call that function on some dataset,
I got the above error message.

Platform WindowsME.

Thanks a lot,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Aug 15 13:39:57 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 15 Aug 2001 23:39:57 +1200 (NZST)
Subject: [R] FORTRAN in R
In-Reply-To: <3B7A5EC3.4C06BF05@ozemail.com.au>
Message-ID: <Pine.SOL.4.21.0108152338310.2418-100000@stat1.stat.auckland.ac.nz>

In fact I'm wondering if there is a stepwise() function in R that works
just as it works in Splus...I tried the stepfun library but it wasn't
right, that is why I decided to copy the stepwise() function from Splus
into R and got this problem.

Cheers,

Ko-Kang

On Wed, 15 Aug 2001, Jim Lemon wrote:

> Date: Wed, 15 Aug 2001 21:36:35 +1000
> From: Jim Lemon <bitwrit at ozemail.com.au>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Subject: Re: [R] FORTRAN in R
> 
> Ko-Kang Kevin Wang wrote:
> > 
> > Hi,
> > 
> > Can anyone tell me what might cause this error message?
> > 
> > Error in .Fortran("swallocate", as.double(mtx), as.double(wt),
> > as.integer(n),  :
> >         C/Fortran function name not in load table
> > 
> 
> I'm grappling with the same problem in trying to port an S-PLUS package
> to R. S-PLUS has a number of preloaded functions that aren't available
> in R, and in some cases, aren't even visible until you call them and
> they aren't there.
> 
> Jim
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 15 13:50:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 15 Aug 2001 12:50:22 +0100 (BST)
Subject: [R] FORTRAN in R
In-Reply-To: <Pine.SOL.4.21.0108152338310.2418-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0108151245240.2885-100000@gannet.stats>

On Wed, 15 Aug 2001, Ko-Kang Kevin Wang wrote:

> In fact I'm wondering if there is a stepwise() function in R that works
> just as it works in Splus...I tried the stepfun library but it wasn't
> right, that is why I decided to copy the stepwise() function from Splus
> into R and got this problem.

No, there is nothing that works that poorly!  It has been superseded in
S-PLUS for at least ten years.

You have leaps() and friends in package leaps that uses better algorithms,
or step() which covers more general models (including those using th full
power of formulae), respects hierarchies and actually optimizes a
defensible criterion.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Aug 15 13:52:19 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 15 Aug 2001 13:52:19 +0200 (MEST)
Subject: [R] FORTRAN in R
In-Reply-To: <Pine.SOL.4.21.0108152302010.25163-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.21.0108151349080.13639-100000@artemis.imbe.med.uni-erlangen.de>


> Hi,
> 
> Can anyone tell me what might cause this error message?
> 
> Error in .Fortran("swallocate", as.double(mtx), as.double(wt),
> as.integer(n),  :
>         C/Fortran function name not in load table
> 
> This occurs when I copied the Splus stepwise() function into R.  I can
> source into R fine, but when I need to call that function on some dataset,
> I got the above error message.

try

.Fortran(symbol.For("swallocate"), as.double(mtx), as.double(wt), ...

which appends "_" to the symbol name. 

However, just copying sources from Splus may be a breach of copyright.

Torsten

> 
> Platform WindowsME.
> 
> Thanks a lot,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub (SDK)
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nooelmu11 at yahoo.com  Wed Aug 15 17:08:45 2001
From: nooelmu11 at yahoo.com (Noel M. Unciano)
Date: Wed, 15 Aug 2001 17:08:45 +0200
Subject: [R] graphical presentation
Message-ID: <15226.36989.617718.551700@gargle.gargle.HOWL>

This was ``accidentally'' sent to me rather than R-help ...
MM

------- start of forwarded message -------

Thank you very much for your email in downloading the
Rgui.

I am trying to construct two-line graphs with axis(),
but I am lost as to what argument to use to draw the
second line.  With the xyz.coords, could i use the
lty, col... arguments.  Please advise me as to what to
do with drawing lines from point coordinates, and
enhancing graphical quality for presentation.

Thank you very much for your most kind advice and
help.
Regards,

Very sincerely yours,

Noel M Unciano
Microbiology & Genetics Division
Industrial Technology Development Institute
Bicutan, Taguig, Metro Manila 1631
The Philippines

------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Aug 15 17:07:20 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 15 Aug 2001 17:07:20 +0200
Subject: [R] RegExp Question
In-Reply-To: <20010815115755.B8012@rzsrv2.rz.tu-bs.de>; from peter.malewski@gmx.de on Wed, Aug 15, 2001 at 11:57:56AM +0200
References: <20010815114206.A8012@rzsrv2.rz.tu-bs.de> <x266bp646w.fsf@blueberry.kubism.ku.dk> <20010815115755.B8012@rzsrv2.rz.tu-bs.de>
Message-ID: <20010815170719.B20961@rzsrv2.rz.tu-bs.de>


I've already a solution just the question: is this 

> gsub("[A-Z]","\#",c("1","2",NA,"B"))
[1] "1"  "2"  "##" "#" 
               ^^
               ^^
intended (handlings NA: yes I know that 

> is.na(c("a",NA)[2])
[1] TRUE
> is.character(c("a",NA)[2])
[1] TRUE

)?


PM

On Wed, Aug 15, 2001 at 11:57:56AM +0200, Peter Malewski wrote:
> On Wed, Aug 15, 2001 at 11:52:07AM +0200, Peter Dalgaard BSA wrote:
> > Peter Malewski <peter.malewski at gmx.de> writes:
> > 
> > > gsub("F\.","d",c("F123","F.123"),extended=F)
> > > [1] "d23"  "d123"
> > > 
> > > the problem is that the "F123" string is replaced (escaping "." 
> > > does not work??). What can I do?
> > 
> > Escape more:
> > 
> > > gsub("F\\.","d",c("F123","F.123"),extended=F)
> > [1] "F123" "d123"
> > 
> > Notice that
> > 
> > > "F\."
> > [1] "F."
> > 
> 
> Thanks. 
> P.
> 
> -- 
> P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
> At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
> P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Wed Aug 15 17:53:25 2001
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Wed, 15 Aug 2001 16:53:25 +0100
Subject: [R] Help plotting some data
Message-ID: <000001c125a2$6bed7ba0$4c202880@GSIMPSON>

Hi,

I am trying to draw a figure with a series of plots to show the results
of a k-means cluster analysis.

Following the example in the MASS book (pg 338-339), I was able to plot
the clusters in Principal Component space.

My first question is:

I want to emphasise the clusters using colour so I use:

>plot(chem.predict[, 1:2], type="n", xlab="First principal component",
ylab="Second principal component")
>text(chem.predict[,1:2], labels=km$cluster, cex=0.75, col=km$cluster)
>points(chem.centers[,1:2], pch=3, cex=4)

This works OK, but I would like to specify the colours used for each
cluster as the cyan doesn't show up very well when printed.  How do I do
this?

My second question is:
I want to plot the points 3 times, one for PC1:PC2, PC1:PC3, and
PC2:PC3.  Next to those plots I want to plot up the biplot arrows shown
for the relevant components.  So I end up with a 3x2 matrix of plots,
with the first column containing the plots for each dimension pair, and
the second column showing the biplot arrows for each dimension pair.

I am able to plot the points on different PC's but haven't worked out
how to generate a plot showing only the biplot arrows yet.

Version######
> R.version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R    

Windows2000

Many thanks for any suggestions

Gav

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 15 17:55:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 15 Aug 2001 16:55:41 +0100 (BST)
Subject: [R] RegExp Question
In-Reply-To: <20010815170719.B20961@rzsrv2.rz.tu-bs.de>
Message-ID: <Pine.LNX.4.31.0108151649500.3199-100000@gannet.stats>

On Wed, 15 Aug 2001, Peter Malewski wrote:

>
> I've already a solution just the question: is this
>
> > gsub("[A-Z]","\#",c("1","2",NA,"B"))
> [1] "1"  "2"  "##" "#"
>                ^^
>                ^^
> intended (handlings NA: yes I know that
>
> > is.na(c("a",NA)[2])
> [1] TRUE
> > is.character(c("a",NA)[2])
> [1] TRUE
>
> )?

I believe so. The argument is internally coerced to C-style character
strings, and indeed your string is printed as such:

> c("1","2",NA,"B")
[1] "1"  "2"  "NA" "B"

NA could have been handled exceptionally, but it was not.


>
>
> PM
>
> On Wed, Aug 15, 2001 at 11:57:56AM +0200, Peter Malewski wrote:
> > On Wed, Aug 15, 2001 at 11:52:07AM +0200, Peter Dalgaard BSA wrote:
> > > Peter Malewski <peter.malewski at gmx.de> writes:
> > >
> > > > gsub("F\.","d",c("F123","F.123"),extended=F)
> > > > [1] "d23"  "d123"
> > > >
> > > > the problem is that the "F123" string is replaced (escaping "."
> > > > does not work??). What can I do?
> > >
> > > Escape more:
> > >
> > > > gsub("F\\.","d",c("F123","F.123"),extended=F)
> > > [1] "F123" "d123"
> > >
> > > Notice that
> > >
> > > > "F\."
> > > [1] "F."
> > >
> >
> > Thanks.
> > P.
> >
> > --
> > P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
> > At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190,
> > P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
> At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190,
> P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug 15 21:41:42 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 15 Aug 2001 21:41:42 +0200
Subject: [R] graphical presentation
References: <15226.36989.617718.551700@gargle.gargle.HOWL>
Message-ID: <3B7AD076.7901AAD@statistik.uni-dortmund.de>

"Noel M. Unciano" wrote:
> 
> I am trying to construct two-line graphs with axis(),

I don't know what you mean with "two-line graphs", maybe we can help, if
you specify your request more precisely, after reading the docs. 

>From the help
 ?axis
   Adds an axis to the current plot, allowing the specification 
   of the side, position, labels, and other options.


> but I am lost as to what argument to use to draw the
> second line.  With the xyz.coords, could i use the
> lty, col... arguments.  

>From the help
 ?xyz.coords
   Utility for obtaining consistent x, y and z coordinates 
   and labels for three dimensional (3D) plots. 

This function is designed to be used inside 3D-Plot functions. 
Since you know about this function: Your version of R is >= 1.1.0?


> Please advise me as to what to
> do with drawing lines from point coordinates, and
> enhancing graphical quality for presentation.

Hmm. What about
 plot(..., type="l")
or adding some lines using
 lines(...)
or
 segments(...)

What you should do at first is reading  "An Introduction to R", "R FAQ"
and the help files for ?plot, ?par and friends.

I think graphical quality in R is very enhanced! What is your way of
printing / exporting the graphics? And what OS?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Sunderrajan.Krishnan at pnl.gov  Wed Aug 15 23:47:45 2001
From: Sunderrajan.Krishnan at pnl.gov (Krishnan, Sunderrajan)
Date: Wed, 15 Aug 2001 14:47:45 -0700
Subject: [R] Help with XGobi.
Message-ID: <1B1080D3ADDF8D4AB59832DE0A02C52A0E324E@pnlmse06.pnl.gov>

Hi,

I followed the following sequence of commands after installing 'XGobi':

>library(xgobi);
>data(ToothGrowth);
>xgobi(ToothGrowth);

I got the following warning message:

C:/R13 1.0/rw1030/library/xgobi/scripts/xgobi.bat -vtitle 'ToothGrowth' -std mmx
C:/DOCUME~1/h1452992/LOCALS 1/Temp/xgobi-TthGr5705 
Warning message: 
argument `pkg' is deprecated.  Use `package' instead. in: system.file("scripts",
"xgobi.bat", pkg = "xgobi") 

Can someone point out what mistake I am making here?

Thanks,
Sunder.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcanet at ivia.es  Wed Aug 15 23:55:16 2001
From: rcanet at ivia.es (Rodolfo Canet-Castello)
Date: Wed, 15 Aug 2001 23:55:16 +0200
Subject: [R] SOLVED: cannot use add-on packages
Message-ID: <3B7AEFC4.6060402@ivia.es>

A few days ago I asked for help to the list about this problem:

-------------
Hi all

After a trivial install on my Debian system (just gnome-games for my 
wife!), my R programs decided not to work, since the 'date' library 
wouldn't load. The message I got is:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library 
"/usr/lib/R/library/date/libs/date.so":
   /usr/lib/R/library/date/libs/date.so: undefined symbol: atexit
Error in library(date) : .First.lib failed

I've run out of ideas about what may have happened or changed. Do you 
have any idea or clue about where to find?

I use R-base 1.3.0.1, and 'date' is the only package I've installed 
myself (it has worked properly until today). The rest of packages work 
flawlessly.
-------------

Well, the problem was a flawed version or libc6 in Debian unstable. Once 
I've upgraded to the immediately released new version, all went back to 
normality. I let you know just in case someone of you ran into the same 
problem. Thanks a lot to all of you who helped me! Best regards

--------
Rodolfo Canet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Aug 16 00:51:19 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 15 Aug 2001 15:51:19 -0700
Subject: [R] Re: R: Mailing Lists
Message-ID: <200108152252.PAA36934@pine.frazmtn.com>

Is it true that append=T does not work in assignTable() in RMySQL ?

More specifically: I cannot append a data.frame to an existing table
in a MySQL database, although I can use the same data.frame to
create a new table.

Even more specifically:
 > assignTable(con,"employee",dita,append=T)
Error in execStatement.MySQLConnection(con, statement, ...) :
         RS-DBI driver: (could not run statement: Table 'employee' 
already exists)
[1] FALSE

===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boulter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pirot at cs.columbia.edu  Thu Aug 16 01:19:27 2001
From: pirot at cs.columbia.edu (Panagiotis G. Ipeirotis)
Date: Wed, 15 Aug 2001 19:19:27 -0400
Subject: [R] Newbie Question: Shifted Power Fit?
Message-ID: <00bc01c125e0$baf6c100$b6163b80@dbpc01>

Hi,

I am completely new to R and I feel kind of lost.
Although I can accomplish most of the basic taks,
I am very confused when I am trying to do the 
following:

I have multiple sets of 2D data that are coming from
distributions of the form:

y = A(x-C)^B     (Eq.1)

I am trying to estimate for each set the best values 
of A, B, and C so that Eq.1 will be the best fit for
the data. I guess that it should be easy to do, but
I lack the experience :(

I would appreciate any help on this.

Thanks,
Panagiotis



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcanet at ivia.es  Thu Aug 16 01:21:44 2001
From: rcanet at ivia.es (Rodolfo Canet-Castello)
Date: Wed, 15 Aug 2001 23:21:44 +0000 (UTC)
Subject: [R] SOLVED: cannot use add-on packages
Message-ID: <3B7AEFC4.6060402@ivia.es>

A few days ago I asked for help to the list about this problem:

-------------
Hi all

After a trivial install on my Debian system (just gnome-games for my 
wife!), my R programs decided not to work, since the 'date' library 
wouldn't load. The message I got is:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library 
"/usr/lib/R/library/date/libs/date.so":
   /usr/lib/R/library/date/libs/date.so: undefined symbol: atexit
Error in library(date) : .First.lib failed

I've run out of ideas about what may have happened or changed. Do you 
have any idea or clue about where to find?

I use R-base 1.3.0.1, and 'date' is the only package I've installed 
myself (it has worked properly until today). The rest of packages work 
flawlessly.
-------------

Well, the problem was a flawed version or libc6 in Debian unstable. Once 
I've upgraded to the immediately released new version, all went back to 
normality. I let you know just in case someone of you ran into the same 
problem. Thanks a lot to all of you who helped me! Best regards

--------
Rodolfo Canet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Sunderrajan.Krishnan at pnl.gov  Thu Aug 16 01:22:52 2001
From: Sunderrajan.Krishnan at pnl.gov (Krishnan, Sunderrajan)
Date: Wed, 15 Aug 2001 23:22:52 +0000 (UTC)
Subject: [R] Help with XGobi.
Message-ID: <1B1080D3ADDF8D4AB59832DE0A02C52A0E324E@pnlmse06.pnl.gov>

Hi,

I followed the following sequence of commands after installing 'XGobi':

>library(xgobi);
>data(ToothGrowth);
>xgobi(ToothGrowth);

I got the following warning message:

C:/R13 1.0/rw1030/library/xgobi/scripts/xgobi.bat -vtitle 'ToothGrowth' -std mmx
C:/DOCUME~1/h1452992/LOCALS 1/Temp/xgobi-TthGr5705 
Warning message: 
argument `pkg' is deprecated.  Use `package' instead. in: system.file("scripts",
"xgobi.bat", pkg = "xgobi") 

Can someone point out what mistake I am making here?

Thanks,
Sunder.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 16 01:37:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Aug 2001 01:37:53 +0200
Subject: [R] Newbie Question: Shifted Power Fit?
In-Reply-To: <00bc01c125e0$baf6c100$b6163b80@dbpc01>
References: <00bc01c125e0$baf6c100$b6163b80@dbpc01>
Message-ID: <x23d6sao8e.fsf@blueberry.kubism.ku.dk>

"Panagiotis G. Ipeirotis" <pirot at cs.columbia.edu> writes:

> Hi,
> 
> I am completely new to R and I feel kind of lost.
> Although I can accomplish most of the basic taks,
> I am very confused when I am trying to do the 
> following:
> 
> I have multiple sets of 2D data that are coming from
> distributions of the form:
  ^^^^^^^^^^^^^
relations? functions?

> y = A(x-C)^B     (Eq.1)
> 
> I am trying to estimate for each set the best values 
> of A, B, and C so that Eq.1 will be the best fit for
> the data. I guess that it should be easy to do, but
> I lack the experience :(
> 
> I would appreciate any help on this.

Sounds like nonlinear least squares might be used. Try

library(nls)
?nls

and have a look at the examples.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Aug 16 09:35:48 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 16 Aug 2001 09:35:48 +0200
Subject: [R] Help with XGobi.
In-Reply-To: <1B1080D3ADDF8D4AB59832DE0A02C52A0E324E@pnlmse06.pnl.gov>
References: <1B1080D3ADDF8D4AB59832DE0A02C52A0E324E@pnlmse06.pnl.gov>
Message-ID: <15227.30676.419859.860992@gargle.gargle.HOWL>


>>>>> "KrishS" == \"Krishnan, Sunderrajan\" <Sunderrajan.Krishnan at pnl.gov> writes:

 [why do you think you should send your message *twice* ? ]

    KrishS> I followed the following sequence of commands after installing
    KrishS> 'XGobi':

    >> library(xgobi); data(ToothGrowth); xgobi(ToothGrowth);

    KrishS> I got the following warning message:

    KrishS> C:/R13 1.0/rw1030/library/xgobi/scripts/xgobi.bat -vtitle
    KrishS> 'ToothGrowth' -std mmx C:/DOCUME~1/h1452992/LOCALS
    KrishS> 1/Temp/xgobi-TthGr5705 Warning message: argument `pkg' is
    KrishS> deprecated.  Use `package' instead. in: system.file("scripts",
    KrishS> "xgobi.bat", pkg = "xgobi")

which means you're using Windows which you should tell us explicitly.
As you see it's just a warning which will go away once the xgobi port
to Windows is updated.
Note however that xgobi will be deprecated itself in favor of ggobi,
in the not so distant future, probably rather sooner than later for
Windows.

Alternatively, you find the proper file in your xgobi package installation
and follow the above warning message by replacing

    system.file("scripts", "xgobi.bat", pkg = "xgobi")
with
    system.file("scripts", "xgobi.bat", package = "xgobi")

(and do the analogous with a corresponding "xgvis" line)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Aug 16 10:25:13 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 16 Aug 2001 09:25:13 +0100 (BST)
Subject: [R] Newbie Question: Shifted Power Fit?
In-Reply-To: <00bc01c125e0$baf6c100$b6163b80@dbpc01>
Message-ID: <Pine.LNX.4.10.10108160912250.5971-100000@localhost.localdomain>



> I have multiple sets of 2D data that are coming from
> distributions of the form:
> 
> y = A(x-C)^B     (Eq.1)
> 
> I am trying to estimate for each set the best values 
> of A, B, and C so that Eq.1 will be the best fit for
> the data. I guess that it should be easy to do, but
> I lack the experience :(
Do this:
 library(nls)
 ?nls
Here is an example
x<-3:13
y<-2*(x-3)^1.5  #fake perfect data
fit<-nls(y~a*(x-b)^c,start=list(a=2,b=3,c=1.5))

This gives:
Error in numericDeriv(form[[3]], names(ind), env) : 
        Missing value or an Infinity produced when evaluating the model
Maybe others here can say what is wrong.

I personally tend to use nlm() and minimize the sum of squared errors...

Once it works do summary(fit) to see the fit results.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gso680 at sp2.power.uni-essen.de  Thu Aug 16 10:27:52 2001
From: gso680 at sp2.power.uni-essen.de (Mark Trappmann)
Date: Thu, 16 Aug 2001 10:27:52 +0200
Subject: [R] new to R: question about nlme
Message-ID: <1.5.4.16.20010816102752.1137cfc2@sp2.power.uni-essen.de>

Hi all,
I am a PhD student in sociology, studying in Essen, Germany. I am doing an
empirical research with data on three (hierarchical) levels: Individuals
within schools within regions. The data are very sparse with a lot of
schools containing only one individual. In addition the dependent variable
is dichotomous, so that a logistic regression would be appropriate. There
are independent variables on all three levels. After studying the related
literature it seems to me that a (non-linear) random-effects model might be
most appropriate, there being not enough cases to do a more detailed model
(that distinguishes within- and between-cluster regression) like a
random-coefficients model. I also found out that this might be done with the
NLME-package in R. But having no one in my environment who is working on
similar models or with the R software in general and having no experience at
all in programming, calculating this model with R is more than I can handle
on my own. Has anyone got an idea how I could speed up the process? Are
there any workshops? Other people working on related topics for cooperation
or help with the model specification in R language?
Thanks in advance
Mark
-----------------------------
Mark Trappmann
mark.trappmann at uni-essen.de
www.trappmann.50g.com
tel 0201-183-2586 (Uni Essen)
    0203-663944   (Duisburg)
    0175-2532003  (mobil)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Thu Aug 16 11:20:52 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Thu, 16 Aug 2001 11:20:52 +0200 (MET DST)
Subject: [R] Re: R: Mailing Lists
In-Reply-To: <200108152252.PAA36934@pine.frazmtn.com>
Message-ID: <Pine.SO4.4.10.10108161055130.26690-100000@ufobi7.uni-forst.gwdg.de>

On Wed, 15 Aug 2001, Jan de Leeuw wrote:

> Is it true that append=T does not work in assignTable() in RMySQL ?
> More specifically: I cannot append a data.frame to an existing table
> in a MySQL database, although I can use the same data.frame to
> create a new table.
> Even more specifically:
>  > assignTable(con,"employee",dita,append=T)
> Error in execStatement.MySQLConnection(con, statement, ...) :
>          RS-DBI driver: (could not run statement: Table 'employee' 
> already exists)
> [1] FALSE
Well, appending is implemented in RMySQL_0.4-2.tar.gz
 but a look at
the Code
in R/All.R in that package line 701 revealed that it ALWAYS tries to
create a table
with name=<whatevername>

[snip] line 685:
  sql1 <- paste("create table ", name, "\n(\n\t", sep="")
  sql2 <- paste(paste(names(field.types), field.types), collapse=",\n\t")
  sql3 <- "\n)\n"
  sql <- paste(sql1, sql2, sql3, collapse="")
[.....] line 701:
  rs <- try(dbExecStatement(new.con, sql))
  if(inherits(rs, "Error") || inherits(rs,"try-error")){
    return(F)
  } else close(rs)
[snip]
so sql, which will try to create a new table, is tried, and MySQL
fails, because the tabel already exits

I put these lines 701-.. in an if-clause

 if(!append){
  rs <- try(dbExecStatement(new.con, sql))
  if(inherits(rs, "Error") || inherits(rs,"try-error")){
    return(F)
  } else close(rs)
}

and once I installed the RMySQL package
appending/overwriting a dataframe to existing tables workes for me

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R                


***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Aug 16 11:22:32 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 16 Aug 2001 11:22:32 +0200
Subject: [R] Newbie Question: Shifted Power Fit?
References: <Pine.LNX.4.10.10108160912250.5971-100000@localhost.localdomain>
Message-ID: <3B7B90D8.1020505@statistik.uni-dortmund.de>

Bill Simpson wrote:
> 
>>I have multiple sets of 2D data that are coming from
>>distributions of the form:
>>
>>y = A(x-C)^B     (Eq.1)
>>
>>I am trying to estimate for each set the best values 
>>of A, B, and C so that Eq.1 will be the best fit for
>>the data. I guess that it should be easy to do, but
>>I lack the experience :(
>>
> Do this:
>  library(nls)
>  ?nls
> Here is an example
> x<-3:13
> y<-2*(x-3)^1.5  #fake perfect data
> fit<-nls(y~a*(x-b)^c,start=list(a=2,b=3,c=1.5))
> 
> This gives:
> Error in numericDeriv(form[[3]], names(ind), env) : 
>         Missing value or an Infinity produced when evaluating the model
> Maybe others here can say what is wrong.
> 
> I personally tend to use nlm() and minimize the sum of squared errors...
> 
> Once it works do summary(fit) to see the fit results.
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Aug 16 12:33:32 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 16 Aug 2001 11:33:32 +0100 (BST)
Subject: [R] new to R: question about nlme
In-Reply-To: <1.5.4.16.20010816102752.1137cfc2@sp2.power.uni-essen.de>
Message-ID: <Pine.LNX.4.10.10108161123320.7075-100000@localhost.localdomain>

> I am a PhD student in sociology, studying in Essen, Germany. I am doing an
> empirical research with data on three (hierarchical) levels: Individuals
> within schools within regions. The data are very sparse with a lot of
> schools containing only one individual. In addition the dependent variable
> is dichotomous, so that a logistic regression would be appropriate. There
> are independent variables on all three levels. After studying the related
> literature it seems to me that a (non-linear) random-effects model might be
> most appropriate, there being not enough cases to do a more detailed model
> (that distinguishes within- and between-cluster regression) like a
> random-coefficients model. I also found out that this might be done with the
> NLME-package in R. But having no one in my environment who is working on
> similar models or with the R software in general and having no experience at
> all in programming, calculating this model with R is more than I can handle
> on my own. Has anyone got an idea how I could speed up the process? Are
> there any workshops? Other people working on related topics for cooperation
> or help with the model specification in R language?

1. It's your PhD supervisor's job to help you with the data analysis.
Get him to help you. If he won't help, you need a new supervisor.

2. Get the book and copy the example most similar to yours. You and your
supervisor can learn this together.
`Mixed-Effects Models in S and S-PLUS'
J. C. Pinheiro and D. M. Bates
Springer. ISBN 0-387-98957-9, 2000.

3. Another possibility is to use software from J. Lindsey: 
http://alpha.luc.ac.be/~lucp0753/rcode.html
He is at univ of  Liege--maybe he runs a course on this sort of modelling
and you can zip over there to sit in on it...

BTW the bit about your sparse data doesn't sound very promising. Your
supervisor can tell you what you need to do about it.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Aug 16 13:10:58 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 16 Aug 2001 13:10:58 +0200
Subject: [R] RODBC connection - mixed data types
In-Reply-To: <Pine.WNT.4.31.0108141645140.1252-100000@gannet>
References: <3B795CD1.4076.209CA03@localhost>
Message-ID: <3B7BC662.10321.1226FCB@localhost>



On 14 Aug 2001, at 16:49, Prof Brian D Ripley wrote:

> On Tue, 14 Aug 2001, Petr Pikal wrote:
> 
> > Dear R users
> >
> > I use R (1.3.0) Windows version usually with connection to Excel
> > sheets via RODBC Version: 0.8-2. Everything is OK until I use mixed
> > data types (numeric and character) in one column.
> 
> You can't have different data types in one column of a data frame. 
I know. I  have read the documentation. But I wonder if I can coerce 
transported data to stay same as they appear in Excel sheet, let say as 
a columns of characters.
You
> are not telling us what you are doing (at all: not a single command
> you used), but I suspect you need to know about as="matrix", which
> will import the data as a character matrix for you.

Here are the commands I use with some sample data
> 
> ppp_sqlQuery(con,"select * from [test$]")
> ppp
  vzor     x     y     z tep
1  110 51.24 20.26 11.87  ac
2  110 51.34 20.42 11.90  ab
3  110 49.77 22.05 11.42  NA
4   NA 49.84 19.30  7.43  ac
5   NA 49.88 19.32  7.50  ab
6   NA 49.76 18.11  4.49  NA
> ppp_sqlQuery(con,"select * from [test$]", as = "matrix")
> ppp
     vzor    x       y       z       tep 
[1,] "110.0" "51.24" "20.26" "11.87" "ac"
[2,] "110.0" "51.34" "20.42" "11.9"  "ab"
[3,] "110.0" "49.77" "22.05" "11.42" "NA"
[4,] "NA"    "49.84" "19.3"  "7.43"  "ac"
[5,] "NA"    "49.88" "19.32" "7.5"   "ab"
[6,] "NA"    "49.76" "18.11" "4.49"  "NA"

In Excel first column data was TP400 and in third column there was 
number 12 instead of NA. Adding as.is = TRUE doesn't make any 
difference. 

Most probably I will need to check consistency of my data directly in 
Excel before making a connection and transferring them to R.

Thanks

Petr Pikal
Precheza a.s.
Nabr.Dr.E.Benese 24
tel: 00420 641 25 2257
     +420 (0)724 008 364
     petr.pikal at precheza.cz
     p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu Aug 16 10:06:14 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 16 Aug 2001 10:06:14 +0200 (CEST)
Subject: [R] making a neat timetable
In-Reply-To: <KKEGJOGBELBHDIKPINBMGEPECFAA.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.33L2.0108160926090.1081-100000@localhost.localdomain>


Sorry for the very primitive question ...

R 1.3.0 on linux Mandrake 8.

I have been experimenting with a program called phpSched
which is quite handy in preparing complicated job schedules,
but unfortunately produces totally inadequate printed output.
The data are stored in a MySQL table, and I can read them
into R with RMySQL obtaining a MySQLResultSet object (which I
suppose is a data frame ?) which looks like this:

>prova
1	0    8	20   Sac_m    mil
2	0    8  20   reper    arc
3	3    14 21   Ch_PN_p  cal
4       2    20 32   N-Med_PN alz

etc. for about 70 rows.

prova[2] actually represents the weekday from Monday to Sunday
(0 to 6), prova[3] the hour at which the shift starts and [4]
ends (where 32 must be changed to 32-24 to give 8), prova[5] is
the type of shift and [6] the identifier of the one on duty.

My aim is to produce a neat output table with horizontal rows
corresponding to prova[5] (but with different labels, of course)
and in cases where more than one shift time is present for
prova[5] with an additional horizontal row for each shift time ...

e.g.
	Luned?	Marted?	Mercoled?

Sacile
8 - 14	   alz	   cal     bas

Sacile
14 - 20    nar     tro     fmg

Pordenone
int
8 - 14     arc             etc. etc.

Pordenone
int
14 - 20

Pordenone
int
20 - 8

vertical rows corresponding to the weekday prova[2] (again with
a human readable label). Some boxes will be empty as some shifts
are not present every day.

I thought this ought to be pretty straightforward but it isn't
(for me). My aim is to write a single function which will do
everything from reading in the MySQL table to printing the final
table (I can't expect the one who will be using this to learn R
... at most he'll switch on the printer and write R something).

I know I have to read a lot of documentation, any help will be
appreciated (at the moment I'm not even managing to order prova
by [2] and [3]).

-- 
Dr. Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Thu Aug 16 21:41:01 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Thu, 16 Aug 2001 15:41:01 -0400
Subject: [R] Windows metafiles in Linux
Message-ID: <01081615410102.02582@serc-vm.ico.scs.es>

Can windows metafiles be created on Linux version of R?
Is this device windows-dependent?

-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812                  fax +34 93260 7787
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Aug 16 16:04:39 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 17 Aug 2001 02:04:39 +1200 (NZST)
Subject: [R] FORTRAN in R
In-Reply-To: <Pine.LNX.4.31.0108151245240.2885-100000@gannet.stats>
Message-ID: <Pine.SOL.4.21.0108170158060.22461-100000@stat1.stat.auckland.ac.nz>

I have tried leaps and it kind of works.

However when I tried to make it displays the variables' names instead of
displaying 1 2 3 4..., I got some error messages.

Suppose I have a data frame called myData.  There are 5 variables (H, L,
S, W, M), where M is the response variable and all the others are
explanatory variables.

I extracted M out from myData, and call the new data frame (without M) X.

Then I tried:
 leaps( X, M, names=names(X) )
   Error in leaps(X, M, names = names(X)) : couldn't find function
   "col.names<-"

If I do
  leaps( X, M )
then it works but columns in $which is displayed as 1 2 3 4 instead of H L
S W.

I also tried to use names=list(names(X)) but it still doesn't work.

Helps will be appreciated ;-)

Cheers,

Ko-Kang Wang


On Wed, 15 Aug 2001, Prof Brian Ripley wrote:

> Date: Wed, 15 Aug 2001 12:50:22 +0100 (BST)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: Jim Lemon <bitwrit at ozemail.com.au>, R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] FORTRAN in R
> 
> On Wed, 15 Aug 2001, Ko-Kang Kevin Wang wrote:
> 
> > In fact I'm wondering if there is a stepwise() function in R that works
> > just as it works in Splus...I tried the stepfun library but it wasn't
> > right, that is why I decided to copy the stepwise() function from Splus
> > into R and got this problem.
> 
> No, there is nothing that works that poorly!  It has been superseded in
> S-PLUS for at least ten years.
> 
> You have leaps() and friends in package leaps that uses better algorithms,
> or step() which covers more general models (including those using th full
> power of formulae), respects hierarchies and actually optimizes a
> defensible criterion.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Aug 16 16:07:27 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 17 Aug 2001 02:07:27 +1200 (NZST)
Subject: [R] FORTRAN in R
In-Reply-To: <Pine.SOL.4.21.0108170158060.22461-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.4.21.0108170206500.22507-100000@stat1.stat.auckland.ac.nz>

Hi,

I forgot to mention that if I simply type:
  names( X )
then it returns H L S W as what I want.

Ko-Kang

On Fri, 17 Aug 2001, Ko-Kang Kevin Wang wrote:

> Date: Fri, 17 Aug 2001 02:04:39 +1200 (NZST)
> From: Ko-Kang Kevin Wang <kwan022 at stat1.stat.auckland.ac.nz>
> To: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Cc: Jim Lemon <bitwrit at ozemail.com.au>, R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] FORTRAN in R
> 
> I have tried leaps and it kind of works.
> 
> However when I tried to make it displays the variables' names instead of
> displaying 1 2 3 4..., I got some error messages.
> 
> Suppose I have a data frame called myData.  There are 5 variables (H, L,
> S, W, M), where M is the response variable and all the others are
> explanatory variables.
> 
> I extracted M out from myData, and call the new data frame (without M) X.
> 
> Then I tried:
>  leaps( X, M, names=names(X) )
>    Error in leaps(X, M, names = names(X)) : couldn't find function
>    "col.names<-"
> 
> If I do
>   leaps( X, M )
> then it works but columns in $which is displayed as 1 2 3 4 instead of H L
> S W.
> 
> I also tried to use names=list(names(X)) but it still doesn't work.
> 
> Helps will be appreciated ;-)
> 
> Cheers,
> 
> Ko-Kang Wang
> 
> 
> On Wed, 15 Aug 2001, Prof Brian Ripley wrote:
> 
> > Date: Wed, 15 Aug 2001 12:50:22 +0100 (BST)
> > From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> > To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> > Cc: Jim Lemon <bitwrit at ozemail.com.au>, R Help <r-help at stat.math.ethz.ch>
> > Subject: Re: [R] FORTRAN in R
> > 
> > On Wed, 15 Aug 2001, Ko-Kang Kevin Wang wrote:
> > 
> > > In fact I'm wondering if there is a stepwise() function in R that works
> > > just as it works in Splus...I tried the stepfun library but it wasn't
> > > right, that is why I decided to copy the stepwise() function from Splus
> > > into R and got this problem.
> > 
> > No, there is nothing that works that poorly!  It has been superseded in
> > S-PLUS for at least ten years.
> > 
> > You have leaps() and friends in package leaps that uses better algorithms,
> > or step() which covers more general models (including those using th full
> > power of formulae), respects hierarchies and actually optimizes a
> > defensible criterion.
> > 
> > -- 
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > 
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub (SDK)
> University of Auckland
> New Zealand
> 
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 16 16:17:53 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Aug 2001 09:17:53 -0500
Subject: [R] Newbie Question: Shifted Power Fit?
In-Reply-To: <Pine.LNX.4.10.10108160912250.5971-100000@localhost.localdomain>
References: <Pine.LNX.4.10.10108160912250.5971-100000@localhost.localdomain>
Message-ID: <6rsnesay26.fsf@franz.stat.wisc.edu>

Bill Simpson <wsi at gcal.ac.uk> writes:

> > I have multiple sets of 2D data that are coming from
> > distributions of the form:
> > 
> > y = A(x-C)^B     (Eq.1)
> > 
> > I am trying to estimate for each set the best values 
> > of A, B, and C so that Eq.1 will be the best fit for
> > the data. I guess that it should be easy to do, but
> > I lack the experience :(
> Do this:
>  library(nls)
>  ?nls
> Here is an example
> x<-3:13
> y<-2*(x-3)^1.5  #fake perfect data
> fit<-nls(y~a*(x-b)^c,start=list(a=2,b=3,c=1.5))
> 
> This gives:
> Error in numericDeriv(form[[3]], names(ind), env) : 
>         Missing value or an Infinity produced when evaluating the model
> Maybe others here can say what is wrong.

Trying to evaluate the exponential of a negative number?  Think of how
the expression (x-b)^c for non-integer c is evaluated when x = 3 and b
= 3 - eps. 

By the way, it is a very bad idea to use c as an identifier in R.

> I personally tend to use nlm() and minimize the sum of squared errors...
> 
> Once it works do summary(fit) to see the fit results.

A more realistic example would include noise in the observations and
not have the simulated value of b equal to (or greater than) one of
the x values. 

You can use the "plinear" algorithm in nls for this example because
the parameter a appears linearly in the model.

> x <- 4:13
> y <- 2*(x-3)^1.5 + rnorm(length(x), 0, 0.1)
> fm1 <- nls(y ~ (x - b)^pow, start = c(b = 2.5, pow = 1.0),
+    algorithm = "plinear", trace = TRUE)
362.419 : 2.500000 1.000000 5.153966 
20.87003 : 1.695023 1.671158 1.080315 
1.139375 : 3.251409 1.466385 2.252482 
0.07488055 : 3.018406 1.496594 2.022821 
0.07381498 : 3.012420 1.497047 2.018591 
0.07381497 : 3.012403 1.497049 2.018575 
> summary(fm1)

Formula: y ~ (x - b)^pow

Parameters:
     Estimate Std. Error t value Pr(>|t|)    
b     3.01240    0.04386   68.69 3.64e-11 ***
pow   1.49705    0.01180  126.88 4.98e-13 ***
.lin  2.01858    0.06621   30.49 1.05e-08 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 0.1027 on 7 degrees of freedom

Correlation of Parameter Estimates:
           b     pow
pow  -0.9482        
.lin  0.9704 -0.9963
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 16 16:24:59 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Aug 2001 09:24:59 -0500
Subject: [R] new to R: question about nlme
In-Reply-To: <Pine.LNX.4.10.10108161123320.7075-100000@localhost.localdomain>
References: <Pine.LNX.4.10.10108161123320.7075-100000@localhost.localdomain>
Message-ID: <6rn150axqc.fsf@franz.stat.wisc.edu>

Bill Simpson <wsi at gcal.ac.uk> writes:

> > I am a PhD student in sociology, studying in Essen, Germany. I am doing an
> > empirical research with data on three (hierarchical) levels: Individuals
> > within schools within regions. The data are very sparse with a lot of
> > schools containing only one individual. In addition the dependent variable
> > is dichotomous, so that a logistic regression would be appropriate. There
> > are independent variables on all three levels. After studying the related
> > literature it seems to me that a (non-linear) random-effects model might be
> > most appropriate, there being not enough cases to do a more detailed model
> > (that distinguishes within- and between-cluster regression) like a
> > random-coefficients model. I also found out that this might be done with the
> > NLME-package in R. But having no one in my environment who is working on
> > similar models or with the R software in general and having no experience at
> > all in programming, calculating this model with R is more than I can handle
> > on my own. Has anyone got an idea how I could speed up the process? Are
> > there any workshops? Other people working on related topics for cooperation
> > or help with the model specification in R language?
> 
> 1. It's your PhD supervisor's job to help you with the data analysis.
> Get him to help you. If he won't help, you need a new supervisor.
> 
> 2. Get the book and copy the example most similar to yours. You and your
> supervisor can learn this together.
> `Mixed-Effects Models in S and S-PLUS'
> J. C. Pinheiro and D. M. Bates
> Springer. ISBN 0-387-98957-9, 2000.

Mark,

As much as I appreciate Bill's recommendation that you buy our book, I
think you may be disappointed in trying to apply the methods described
there to your problem.  You say that the dependent variable is
dichotomous and a logistic regression would be appropriate.  The
combination of a logistic regression and random-effects (nested random
effects, in your case) is called a Generalized Linear Mixed Model or
GLMM.  The nlme package contains functions for fitting linear
mixed-effects models and nonlinear mixed-effects models but not
generalized linear mixed models.  There is another R package GLMMGibbs
that may be more suitable.

--
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 16 16:48:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 Aug 2001 15:48:37 +0100 (BST)
Subject: [R] Windows metafiles in Linux
In-Reply-To: <01081615410102.02582@serc-vm.ico.scs.es>
Message-ID: <Pine.GSO.4.31.0108161545210.28858-100000@auk.stats>

On Thu, 16 Aug 2001, Victor Moreno wrote:

> Can windows metafiles be created on Linux version of R?
> Is this device windows-dependent?

No, yes.

It's a frequently asked-for addition on Linux, but no one has managed to
contribute code to do it.  There's a world of difference between calling
Windows API functions and fathoming out how to write a file in an
ill-documented format.

BTW, S-PLUS 6 for Linux *can* do this, which reduces the motivation to
solve this in R for some of us.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 16 16:57:54 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Aug 2001 09:57:54 -0500
Subject: [R] Newbie Question: Shifted Power Fit?
In-Reply-To: <6rsnesay26.fsf@franz.stat.wisc.edu>
References: <Pine.LNX.4.10.10108160912250.5971-100000@localhost.localdomain>
	<6rsnesay26.fsf@franz.stat.wisc.edu>
Message-ID: <6rbslgaw7h.fsf@franz.stat.wisc.edu>

Douglas Bates <bates at cs.wisc.edu> writes:

> Trying to evaluate the exponential of a negative number?  Think of how
> the expression (x-b)^c for non-integer c is evaluated when x = 3 and b
> = 3 - eps. 
    ^^^^^^^  Should be 3 + eps.  

The error occurs when using finite differences to evaluate the partial
derivative with respect to b.  If b = 3 + eps and x = 3 then (x-b)
is negative and (x-b)^pow returns NA.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Aug 16 17:34:18 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 16 Aug 2001 11:34:18 -0400
Subject: [R] Windows metafiles in Linux
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC81B7@usrymx10.merck.com>

Just want to express MHO that the graphics produced by wmf.graph() in Splus
6 for Linux is only of barely acceptable quality (e.g., hallow circles were
drawn too thick, making the plot look rather awkward).

Andy

-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, August 16, 2001 10:49 AM
To: Victor Moreno
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Windows metafiles in Linux


On Thu, 16 Aug 2001, Victor Moreno wrote:

> Can windows metafiles be created on Linux version of R?
> Is this device windows-dependent?

No, yes.

It's a frequently asked-for addition on Linux, but no one has managed to
contribute code to do it.  There's a world of difference between calling
Windows API functions and fathoming out how to write a file in an
ill-documented format.

BTW, S-PLUS 6 for Linux *can* do this, which reduces the motivation to
solve this in R for some of us.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug 16 17:39:10 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 16 Aug 2001 08:39:10 -0700 (PDT)
Subject: [R] FORTRAN in R
In-Reply-To: <Pine.SOL.4.21.0108170158060.22461-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.A41.4.33.0108160836590.7266-100000@homer20.u.washington.edu>

On Fri, 17 Aug 2001, Ko-Kang Kevin Wang wrote:

> I have tried leaps and it kind of works.
>
> However when I tried to make it displays the variables' names instead of
> displaying 1 2 3 4..., I got some error messages.
>
> Suppose I have a data frame called myData.  There are 5 variables (H, L,
> S, W, M), where M is the response variable and all the others are
> explanatory variables.
>
> I extracted M out from myData, and call the new data frame (without M) X.
>
> Then I tried:
>  leaps( X, M, names=names(X) )
>    Error in leaps(X, M, names = names(X)) : couldn't find function
>    "col.names<-"
>
> If I do
>   leaps( X, M )
> then it works but columns in $which is displayed as 1 2 3 4 instead of H L
> S W.
>
> I also tried to use names=list(names(X)) but it still doesn't work.
>
> Helps will be appreciated ;-)
>

leaps() has an option 'strictly.compatible' that is by default TRUE and as
the help page says,
         With `strictly.compatible=T' the function will stop
        with an error if `x' is not of full rank or if it has
        more than 31 columns. It will ignore the column names
        of `x' even if `names==NULL' and will replace them with
        "0" to "9", "A" to "Z".

So you need to set strictly.compatible=FALSE to use the names= option.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 16 17:06:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Aug 2001 17:06:14 +0200
Subject: [R] Windows metafiles in Linux
In-Reply-To: <Pine.GSO.4.31.0108161545210.28858-100000@auk.stats>
References: <Pine.GSO.4.31.0108161545210.28858-100000@auk.stats>
Message-ID: <x2u1z859jt.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 16 Aug 2001, Victor Moreno wrote:
> 
> > Can windows metafiles be created on Linux version of R?
> > Is this device windows-dependent?
> 
> No, yes.
> 
> It's a frequently asked-for addition on Linux, but no one has managed to
> contribute code to do it.  There's a world of difference between calling
> Windows API functions and fathoming out how to write a file in an
> ill-documented format.
> 
> BTW, S-PLUS 6 for Linux *can* do this, which reduces the motivation to
> solve this in R for some of us.

Anyone interested in trying to tackle this might take off from the
xfig driver and the specs at

http://www.wotsit.org/download.asp?f=wmf

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Aug 16 19:55:03 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 16 Aug 2001 11:55:03 -0600 (MDT)
Subject: [R] leaps and col.names
Message-ID: <Pine.GSO.4.05.10108161153080.4544-100000@virga.rap.ucar.edu>

I had the same problem. To me it looks like a typo in the code: should be
"colnames" rather than "col.names": the function col.names doesn't exist,
at
least that I can find...
what I did was to make a local copy of the leaps function in my directory
and edit the line


c

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Thu Aug 16 20:10:40 2001
From: smcnary at charm.net (Scot W McNary)
Date: Thu, 16 Aug 2001 14:10:40 -0400 (EDT)
Subject: [R] Ordering x in boxplot
In-Reply-To: <x21ynibiu7.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.BSI.4.21.0108161345390.1201-100000@fellspt.charm.net>


Hi R-users,

I've managed to make a very nice set of boxplots borrowing some code in
example(boxplot).  I have data on age of first use for a variety of
substances for a group of people.  My graph is intended to show
side-by-side boxplots of the distribution of age of use for various
subgroups (here, gender) for each substance (there are 11).  Here is my
heavily borrowed code:

# uses example(boxplot) code to do m/f vs. age at first use
# first set of boxplots
bertha1<-boxplot(as.numeric(agestart) ~ drugname,
        # only for 1=Males; draw boxes at 1,2,...11 with a -.2 offset
        data=start, subset=gender==1, at= 1:11 -.2,    
        #set box width, fill color and suppress x axis         
        boxwex=.20, col="pink", xaxt = "n",                  
        # title        
        main="Male/Female vs. Age at First Use for Various Drugs",
        # axis labels        
        xlab="", ylab="Age at First Use", ylim=c(0,25))   
# second set of boxplots
bertha2<-boxplot(as.numeric(agestart) ~ drugname,
        # boxes at 1,2,..11 with a +.2 offset
        data=start, subset=gender==2, at= 1:11 +.2,      
        # add to previous plot but suppress axes (offset makes em messy)        
        boxwex=.20, col="gray", add=TRUE, axes=FALSE)          
# add legend to match        
legend(9.5, 5, c("Male", "Female"), fill=c("Pink", "Gray"))       
# add custom axis that makes names perpendicular
axis(1, labels=c(bertha1$names), at=1:11, las=2)          


I like the looks of this graph quite a lot, but there is one feature I'd
like to include but as of yet don't know how.  As can be seen in the
boxplot.formula, the 11 substances are displayed across the x axis by the
variable 'drugname' which is a character variable.  The default ordering
for the box printing appears to me to be alphabetical.  This works well,
however, this graph could be made even more interesting by ordering the x
axis differently.  I'd like to order it so that the overall earliest age
of use appears first on the left hand side, and the overall latest age of
use on the far right hand side.  Ordering in this way, I think, will show
both subgroup variation within substance and a nice left to right trend in
age of first use across the substances.

I have a numeric variable (drugnumber) I've already created that indexes
the character variable (drugname) from earliest to latest, so I suppose I
could substitute:

boxplot(as.numeric(agestart) ~ drugnumber, # vs. of char var. 'drugname'

and then supply my own tickmark labels.  But I was wondering how one might
reorder the x axis more generally?

My checks in the reference manual and help pages haven't yielded any fruit
on this particular feature, but I'll stipulate I may be looking where the
light is better.  Suggestions most appreciated.

Thanks,

Scot McNary 

         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R              
 




--
  Scot W. McNary  email:smcnary at charm.net   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcos_Sanches at gallup.com  Thu Aug 16 20:27:07 2001
From: Marcos_Sanches at gallup.com (Marcos_Sanches@gallup.com)
Date: Thu, 16 Aug 2001 15:27:07 -0300
Subject: [R] Pie Chart
Message-ID: <000801c12681$123849c0$b454a8c0@gallup.com.br>

I've just started using R and I would like to know how to do a pie
chart; The "pie" comand does not exist in the R I am using, why?
 
Thanks,
 
Marcos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010816/b44c5388/attachment.html

From ben at zoo.ufl.edu  Fri Aug 17 10:41:46 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 17 Aug 2001 04:41:46 -0400 (EDT)
Subject: [R] Pie Chart
In-Reply-To: <000801c12681$123849c0$b454a8c0@gallup.com.br>
Message-ID: <Pine.LNX.4.30.0108170440090.1229-100000@bolker.zoo.ufl.edu>


 Because it's "piechart".  ?piechart will tell you about it.

  help.search("pie") would have found it for you.

[Obligatory comment on what you *should* do, from the documentation:

  Note:

     Pie charts are a very bad way of displaying information. The eye
     is good at judging linear measures and bad at judging relative
     areas.

     A bar chart or dot chart is a preferable way of displaying this
     type of data.

]

  good luck,
   Ben Bolker

On Thu, 16 Aug 2001 Marcos_Sanches at gallup.com wrote:

> I've just started using R and I would like to know how to do a pie
> chart; The "pie" comand does not exist in the R I am using, why?
>
> Thanks,
>
> Marcos
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 16 20:51:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 Aug 2001 19:51:48 +0100 (BST)
Subject: [R] Ordering x in boxplot
In-Reply-To: <Pine.BSI.4.21.0108161345390.1201-100000@fellspt.charm.net>
Message-ID: <Pine.GSO.4.31.0108161948040.3958-100000@auk.stats>

>From ?boxplot

  x, ...: the data from which the boxplots are to be produced. The data
          can be specified as separate vectors, each corresponding to a
          component boxplot, or as a single list containing such
          vectors.  Alternatively a symbolic specification of the form
          `x ~ g' can be given, indicating that the observations in the
          vector `x' are to be grouped according to the levels of the
          `factor' `g'.  In this case the argument `data' can be used

Note, *factor* g.  So make `drugname' a factor, with the levels
ordered however you like, rather than relying on boxplot.formula to
repair your mistake (and using alphabetical order).  ?factor may help.

On Thu, 16 Aug 2001, Scot W McNary wrote:

> I've managed to make a very nice set of boxplots borrowing some code in
> example(boxplot).  I have data on age of first use for a variety of
> substances for a group of people.  My graph is intended to show
> side-by-side boxplots of the distribution of age of use for various
> subgroups (here, gender) for each substance (there are 11).  Here is my
> heavily borrowed code:
>
> # uses example(boxplot) code to do m/f vs. age at first use
> # first set of boxplots
> bertha1<-boxplot(as.numeric(agestart) ~ drugname,
>         # only for 1=Males; draw boxes at 1,2,...11 with a -.2 offset
>         data=start, subset=gender==1, at= 1:11 -.2,
>         #set box width, fill color and suppress x axis
>         boxwex=.20, col="pink", xaxt = "n",
>         # title
>         main="Male/Female vs. Age at First Use for Various Drugs",
>         # axis labels
>         xlab="", ylab="Age at First Use", ylim=c(0,25))
> # second set of boxplots
> bertha2<-boxplot(as.numeric(agestart) ~ drugname,
>         # boxes at 1,2,..11 with a +.2 offset
>         data=start, subset=gender==2, at= 1:11 +.2,
>         # add to previous plot but suppress axes (offset makes em messy)
>         boxwex=.20, col="gray", add=TRUE, axes=FALSE)
> # add legend to match
> legend(9.5, 5, c("Male", "Female"), fill=c("Pink", "Gray"))
> # add custom axis that makes names perpendicular
> axis(1, labels=c(bertha1$names), at=1:11, las=2)
>
>
> I like the looks of this graph quite a lot, but there is one feature I'd
> like to include but as of yet don't know how.  As can be seen in the
> boxplot.formula, the 11 substances are displayed across the x axis by the
> variable 'drugname' which is a character variable.  The default order
                               ^^^^^^^^^^^^^^^^^^^^
> for the box printing appears to me to be alphabetical.  This works well,
> however, this graph could be made even more interesting by ordering the x
> axis differently.  I'd like to order it so that the overall earliest age
> of use appears first on the left hand side, and the overall latest age of
> use on the far right hand side.  Ordering in this way, I think, will show
> both subgroup variation within substance and a nice left to right trend in
> age of first use across the substances.
>
> I have a numeric variable (drugnumber) I've already created that indexes
> the character variable (drugname) from earliest to latest, so I suppose I
> could substitute:
>
> boxplot(as.numeric(agestart) ~ drugnumber, # vs. of char var. 'drugname'
>
> and then supply my own tickmark labels.  But I was wondering how one might
> reorder the x axis more generally?
>
> My checks in the reference manual and help pages haven't yielded any fruit
> on this particular feature, but I'll stipulate I may be looking where the
> light is better.  Suggestions most appreciated.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur67 at yahoo.com  Thu Aug 16 21:54:25 2001
From: sarthur67 at yahoo.com (Stephen Arthur)
Date: Thu, 16 Aug 2001 12:54:25 -0700 (PDT)
Subject: [R] Logistic Regression
Message-ID: <20010816195425.78610.qmail@web11101.mail.yahoo.com>

Hi,

Does R support any of the 3 stepwise or 8 criteria
methods for logistic regression and multiple linear
regression that SAS supports?

If yes, could you give me some simple demostration
code.  

Thanks,

steve

__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Aug 17 04:53:04 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Thu, 16 Aug 2001 22:53:04 -0400
Subject: [R] Logistic Regression
References: <20010816195425.78610.qmail@web11101.mail.yahoo.com>
Message-ID: <3B7C8710.F2117035@virginia.edu>

Soon it will have the fast backward stepdown method
I put in SAS in 1978 which I believe is in PROC
LOGISTIC today.  This will be in the Design library's
fastbw function, which works with many models, is
very fast, approximate but surprisingly accurate.
It is based on approximate Wald statistics.

Do note all the usual warnings about all stepwise methods.
They have incredible risks.

Frank Harrell


Stephen Arthur wrote:
> 
> Hi,
> 
> Does R support any of the 3 stepwise or 8 criteria
> methods for logistic regression and multiple linear
> regression that SAS supports?
> 
> If yes, could you give me some simple demostration
> code.
> 
> Thanks,
> 
> steve
> 
> __________________________________________________
> Do You Yahoo!?
> Make international calls for as low as $.04/minute with Yahoo! Messenger
> http://phonecard.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Fri Aug 17 10:33:13 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Fri, 17 Aug 2001 10:33:13 +0200 (CEST)
Subject: [R] making a neat timetable
In-Reply-To: <200108162310.f7GNAtS32473@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.33L2.0108171024530.1555-100000@localhost.localdomain>

On Fri, 17 Aug 2001, Patrick Connolly wrote:

> |> The data are stored in a MySQL table, and I can read them
> |> into R with RMySQL obtaining a MySQLResultSet object (which I
> |> suppose is a data frame ?) which looks like this:
>
> No, it doesn't have any column names.  It would be a good idea to get
> it into one since dataframes are very good ways of manipulating this
> kind of data.

I've found out it does actually:

> str(prova)
`data.frame': 66 obs. of 5 variables:
$ weekday: int 1 2 3 4 5 6 1 0 0 0 ...
$ start  : num 21 21 21 21 8 21 20 21 21 ...
$ end    : num 32 32 32 32 32 20 32 32 32 ...
$ type   : chr "reper" "reper" reper" "reper" ...
$ user   : chr "stf" "cal" "bas" "pup" ...


> |> prova[2] actually represents the weekday from Monday to Sunday
>
> I think you mean prova[,2] which is the second column (i.e. once
> you've got it into a datframe form).

Yes of course.

> That's tricky.  It might be a good idea to get some experience with
> simpler tasks first.  Check out aggregate.data.frame which should get
> most of it sorted for you.  Then you'll need to get the hang of
> pasting various vectors together.

Thanks for the hint.

> The trickiest part is the last one you mention.  It's pointless to
> discuss it until you get the rest of it work.  I have a rather long
> function that you could use once you get things organised, but it's
> far too long to go into how that works here.

> |> vertical rows corresponding to the weekday prova[2] (again with
>
> By that, I take it you mean "columns"

Yes !

I'll let you know how I fare ... although work will be suspended as from
tomorrow for a week's holidays.

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Fri Aug 17 10:57:57 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Fri, 17 Aug 2001 01:57:57 -0700 (PDT)
Subject: [R] problem executing tree package
Message-ID: <20010817085757.10154.qmail@web20106.mail.yahoo.com>

Hi R-users,

   I am a  new user to R language for statistical
computing. I use a Windows 98 version. I downloaded
tree add-on package to the R base system( I verified
the local package submenu for the list of installed
packages).

   But when I executed the following sample code given
in the manual. I received an error "Couldn't find
function tree"

> data(iris)
> ir.tr<- tree(species~.,iris)

any comment or suggestion will be appreciated

srini


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 17 11:09:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 17 Aug 2001 10:09:59 +0100 (GMT Daylight Time)
Subject: [R] problem executing tree package
In-Reply-To: <20010817085757.10154.qmail@web20106.mail.yahoo.com>
Message-ID: <Pine.WNT.4.31.0108171009130.940-100000@gannet>

On Fri, 17 Aug 2001, srinivasa raghavan wrote:

> Hi R-users,
>
>    I am a  new user to R language for statistical
> computing. I use a Windows 98 version. I downloaded
> tree add-on package to the R base system( I verified
> the local package submenu for the list of installed
> packages).
>
>    But when I executed the following sample code given
> in the manual. I received an error "Couldn't find
> function tree"
>
> > data(iris)
> > ir.tr<- tree(species~.,iris)
>
> any comment or suggestion will be appreciated

You forgot library(tree), (or at least forgot to tell us you did it).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Fri Aug 17 13:20:22 2001
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Fri, 17 Aug 2001 12:20:22 +0100
Subject: [R] Solved: Help plotting some data
Message-ID: <000d01c1270e$9c762b60$4c202880@GSIMPSON>

Hi!

The other day I asked a couple of questions about plotting some data.

Firstly I wanted to specify the colours used for the text plotted using:
> text(chem.predict[,1:2], labels = km$cluster)

Matt Wiener suggested:
> col.vec <- c("black", "red", "blue")
> text(chem.predict[,1:2], labels = km$cluster, color =
col.vec[km$clusters])

Cheers Matt, that worked great.

Secondly I wanted to know how to plot just the loadings of a PCA as
biplot arrows, i.e. plot a biplot but without plotting the labels for
the scores.

I solved this by taking the biplot.default code and adding an option
pscores to the call.  This is FALSE by default.  I then put an if clause
before the bit of the code that plots the labels for the PCA scores, so
that they only get plotted if you specify pscores=TRUE.  My function for
doing this is copied below, with a couple of extra modifications so that
I can get the plot as I required.

Cheers for the help, and for such an excellent piece of software.  I'm a
R newbie and am constantly surprised how easy it is get R to do the
things you want to do with it.

Gav

my.biplot <- function (x, y, var.axes = TRUE, col, cex = c(1, 0.4), 
    xlabs = NULL, ylabs = NULL, expand = 1, xlim = NULL, ylim = NULL,
arrow.len = 0.1, 
    pscores = FALSE, xlab="", ylab="", ...) 
{
    labx <- xlab
    laby <- ylab
    n <- nrow(x)
    p <- nrow(y)
    if (missing(xlabs)) {
        xlabs <- dimnames(x)[[1]]
        if (is.null(xlabs)) 
            xlabs <- 1:n
    }
    xlabs <- as.character(xlabs)
    dimnames(x) <- list(xlabs, dimnames(x)[[2]])
    if (missing(ylabs)) {
        ylabs <- dimnames(y)[[1]]
        if (is.null(ylabs)) 
            ylabs <- paste("Var", 1:p)
    }
    ylabs <- as.character(ylabs)
    dimnames(y) <- list(ylabs, dimnames(y)[[2]])
    if (length(cex) == 1) 
        cex <- c(cex, cex)
    if (missing(col)) {
        col <- par("col")
        if (!is.numeric(col)) 
            col <- match(col, palette())
        col <- c(col, col + 1)
    }
    else if (length(col) == 1) 
        col <- c(col, col)
    unsigned.range <- function(x) c(-abs(min(x)), abs(max(x)))
    rangx1 <- unsigned.range(x[, 1])
    rangx2 <- unsigned.range(x[, 2])
    rangy1 <- unsigned.range(y[, 1])
    rangy2 <- unsigned.range(y[, 2])
    if (missing(xlim) && missing(ylim)) 
        xlim <- ylim <- rangx1 <- rangx2 <- range(rangx1, rangx2)
    else if (missing(xlim)) 
        xlim <- rangx1
    else ylim <- rangx2
    ratio <- max(rangy1/rangx1, rangy2/rangx2)/expand
    on.exit(par(oldpar))
    oldpar <- par(pty = "s")
    plot(x, type = "n", xlim = xlim, ylim = ylim, col = col[1],
xlab=labx, ylab=laby, ...)
    if (pscores)	
    	text(x, xlabs, cex = cex[1], col = col[1], ...)
    par(new = TRUE)
    plot(y, axes = FALSE, type = "n", xlim = xlim * ratio, ylim = ylim *

        ratio, xlab = "", ylab = "", col = col[1], ...)
    axis(3, col = col[2])
    axis(4, col = col[2])
    box(col = col[1])
    text(y, labels = ylabs, cex = cex[2], col = col[2], ...)
    if (var.axes) 
        arrows(0, 0, y[, 1] * 0.8, y[, 2] * 0.8, col = col[2], 
            length = arrow.len)
    invisible()
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 17 16:56:39 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 17 Aug 2001 07:56:39 -0700 (PDT)
Subject: [R] Logistic Regression
In-Reply-To: <3B7C8710.F2117035@virginia.edu>
Message-ID: <Pine.A41.4.33.0108170755230.63304-100000@homer40.u.washington.edu>

On Thu, 16 Aug 2001 fharrell at virginia.edu wrote:

> Soon it will have the fast backward stepdown method
> I put in SAS in 1978 which I believe is in PROC
> LOGISTIC today.  This will be in the Design library's
> fastbw function, which works with many models, is
> very fast, approximate but surprisingly accurate.
> It is based on approximate Wald statistics.

There is also stepAIC in MASS, based on actual AIC and obeying marginality
constraints, but of course being slower.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcos_Sanches at gallup.com  Fri Aug 17 19:19:35 2001
From: Marcos_Sanches at gallup.com (Marcos_Sanches@gallup.com)
Date: Fri, 17 Aug 2001 14:19:35 -0300
Subject: [R] Dominance Analysis
Message-ID: <000701c12740$c97283c0$b454a8c0@gallup.com.br>

	Does anyone know if there is some routine in R to perform "Dominance
Analysis"? It is an alternative way to derive relative importance scores for
explanatory variables in regression models. I guess this aproach was first
sugested by Budescu in 1993.

	Thanks,

Marcos
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Fri Aug 17 19:57:13 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Fri, 17 Aug 2001 19:57:13 +0200 (MET DST)
Subject: [R] lme: Specifying a formula
Message-ID: <Pine.GSO.3.95q.1010817194649.14863I-100000@sun28.math.uni-hamburg.de>

Dear list,

I am faced with the following model:

y=E+P+M+H+PxE+Error

y is a response, E and P are factors with fixed effects.
M is a random effect nested in P and H is a random effect nested in M.
PxE is interaction of P and E.

It seems that I should fit such a model with the lme function of library
nlme, but I was not able to figure out from the help page how to specify the
formula. In the nlme documentation, the term "nested" is always associated
with a "grouping", and I do not know what my grouping is here.

Can anybody tell me how this must be specified in a call of lme?

Thanks,
Christian


***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Aug 17 21:18:43 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Aug 2001 14:18:43 -0500
Subject: [R] lme: Specifying a formula
In-Reply-To: <Pine.GSO.3.95q.1010817194649.14863I-100000@sun28.math.uni-hamburg.de>
References: <Pine.GSO.3.95q.1010817194649.14863I-100000@sun28.math.uni-hamburg.de>
Message-ID: <6rae0yjy0c.fsf@franz.stat.wisc.edu>

Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

> I am faced with the following model:
> 
> y=E+P+M+H+PxE+Error
> 
> y is a response, E and P are factors with fixed effects.
> M is a random effect nested in P and H is a random effect nested in M.
> PxE is interaction of P and E.
> 
> It seems that I should fit such a model with the lme function of library
> nlme, but I was not able to figure out from the help page how to specify the
> formula. In the nlme documentation, the term "nested" is always associated
> with a "grouping", and I do not know what my grouping is here.

For a complicated model like this you may find it worthwhile looking
at the examples in
@Book{pinh:bate:2000,
  author =	 {Jos\'{e} C. Pinheiro and Douglas M. Bates},
  title = 	 {Mixed-Effects Models in \textsf{S} and \textsf{S-PLUS}},
  publisher = 	 {Springer},
  year = 	 2000,
  series =	 {Statistics and Computing}
}

The grouping refers to the groups in the data with which random
effects are associated.  If the levels of the M factor are distinct
for different levels of P then you can fit your model as

 lme(y ~ E * P, data = mydata, random = ~ 1 | M/H)

The last argument indicates that there will be an additive scalar
random effect for M and for H within M.

If you do not have distinct levels for M within P you can create a new
factor with 

 getGroups(~ 1 | P/M, data = mydata, level = 2)

and assign it as the grouping factor.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Sat Aug 18 01:12:11 2001
From: sway at tanox.com (Shawn Way)
Date: Fri, 17 Aug 2001 18:12:11 -0500
Subject: [R] Principle Component Analysis
Message-ID: <0565F48FC373D411BE4D00B0D049602628E53E@nt40hou1.tanox.com>

I have the manual for S+ 6 and I'm trying to use R for the Principle
Component Analysis example and I'm getting a few interesting answers...

The log is as follows:

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.


> library(mva)
> data <- read.table("h:/test.txt",header=T,sep="")
> data
   diffgeom complex algebra reals statistics
1        36      58      43    36         37
2        62      54      50    46         52
3        31      42      41    40         29
4        76      78      69    66         81
5        46      56      52    56         40
6        12      42      38    38         28
7        39      46      51    54         41
8        30      51      54    52         32
9        22      32      43    28         22
10        9      40      47    30         24
11       32      49      54    37         52
12       40      62      51    40         49
13       64      75      70    66         63
14       36      38      58    62         62
15       24      46      44    55         49
16       50      50      54    52         51
17       42      42      52    38         50
18        2      35      32    22         16
19       56      53      42    40         32
20       59      72      70    66         62
21       28      50      50    42         63
22       19      46      49    40         30
23       36      56      56    54         52
24       54      57      59    62         58
25       14      35      38    29         20
> summary(testscores.prc)
Importance of components:
                           Comp.1     Comp.2     Comp.3     Comp.4
Comp.5
Standard deviation     28.4896795 9.03547104 6.60095491 6.13358179
3.72335754
Proportion of Variance  0.8212222 0.08260135 0.04408584 0.03806395
0.01402668
Cumulative Proportion   0.8212222 0.90382353 0.94790936 0.98597332
1.00000000
> summary(testscores.prc,loadings=T)
Importance of components:
                           Comp.1     Comp.2     Comp.3     Comp.4
Comp.5
Standard deviation     28.4896795 9.03547104 6.60095491 6.13358179
3.72335754
Proportion of Variance  0.8212222 0.08260135 0.04408584 0.03806395
0.01402668
Cumulative Proportion   0.8212222 0.90382353 0.94790936 0.98597332
1.00000000

Loadings:
           Comp.1 Comp.2 Comp.3 Comp.4 Comp.5
diffgeom   -0.598 -0.675  0.185  0.386       
complex    -0.361 -0.245 -0.249 -0.829 -0.247
algebra    -0.302  0.214 -0.211 -0.135  0.894
reals      -0.389  0.338 -0.700  0.375 -0.321
statistics -0.519  0.570  0.607        -0.179
> print(testscores.prc,loadings=T)
Call:
princomp(x = data)

Standard deviations:
   Comp.1    Comp.2    Comp.3    Comp.4    Comp.5 
28.489680  9.035471  6.600955  6.133582  3.723358 

 5  variables and  25 observations.



Any thoughts as to what I'm doing wrong??
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010817/49bb93be/attachment.html

From kwan022 at stat.auckland.ac.nz  Sat Aug 18 12:17:28 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 18 Aug 2001 22:17:28 +1200 (NZST)
Subject: [R] gam() in Splus and R
Message-ID: <Pine.SOL.4.21.0108182214380.12392-100000@stat1.stat.auckland.ac.nz>

Hi,

Is there any difference in the gam() function in R and Splus?

I just tried to do an Ace Plot (plotting the result of the gam() ) on a
dataset.  R gave me four (the data set has one response and four
explanatory variables) ace plot with perfectly straight lines.  I kind of
felt that it is highly unlikely, so I tried it in Splus.  Using the exact
commands Splus gave me four completely different ace plots (in fact so
different that three of them suggested a quadratic polynomial
transformation).

Am I doing something wrong here?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 19 15:56:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 19 Aug 2001 14:56:41 +0100 (BST)
Subject: [R] Principle Component Analysis
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E53E@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0108191452480.16934-100000@gannet.stats>

You've omitted the command to create testscores.prc, so it's hard to tell.
However, R is not a *clone* of S-PLUS, and there are some differences.
In particular, the print and summary methods for princomp are different.

BTW, it's Principal CA.


On Fri, 17 Aug 2001, Shawn Way wrote:

> I have the manual for S+ 6 and I'm trying to use R for the Principle
> Component Analysis example and I'm getting a few interesting answers...
>
> The log is as follows:
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.0  (2001-06-22)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
>
> > library(mva)
> > data <- read.table("h:/test.txt",header=T,sep="")
> > data
>    diffgeom complex algebra reals statistics
> 1        36      58      43    36         37
> 2        62      54      50    46         52
> 3        31      42      41    40         29
> 4        76      78      69    66         81
> 5        46      56      52    56         40
> 6        12      42      38    38         28
> 7        39      46      51    54         41
> 8        30      51      54    52         32
> 9        22      32      43    28         22
> 10        9      40      47    30         24
> 11       32      49      54    37         52
> 12       40      62      51    40         49
> 13       64      75      70    66         63
> 14       36      38      58    62         62
> 15       24      46      44    55         49
> 16       50      50      54    52         51
> 17       42      42      52    38         50
> 18        2      35      32    22         16
> 19       56      53      42    40         32
> 20       59      72      70    66         62
> 21       28      50      50    42         63
> 22       19      46      49    40         30
> 23       36      56      56    54         52
> 24       54      57      59    62         58
> 25       14      35      38    29         20
> > summary(testscores.prc)
> Importance of components:
>                            Comp.1     Comp.2     Comp.3     Comp.4
> Comp.5
> Standard deviation     28.4896795 9.03547104 6.60095491 6.13358179
> 3.72335754
> Proportion of Variance  0.8212222 0.08260135 0.04408584 0.03806395
> 0.01402668
> Cumulative Proportion   0.8212222 0.90382353 0.94790936 0.98597332
> 1.00000000
> > summary(testscores.prc,loadings=T)
> Importance of components:
>                            Comp.1     Comp.2     Comp.3     Comp.4
> Comp.5
> Standard deviation     28.4896795 9.03547104 6.60095491 6.13358179
> 3.72335754
> Proportion of Variance  0.8212222 0.08260135 0.04408584 0.03806395
> 0.01402668
> Cumulative Proportion   0.8212222 0.90382353 0.94790936 0.98597332
> 1.00000000
>
> Loadings:
>            Comp.1 Comp.2 Comp.3 Comp.4 Comp.5
> diffgeom   -0.598 -0.675  0.185  0.386
> complex    -0.361 -0.245 -0.249 -0.829 -0.247
> algebra    -0.302  0.214 -0.211 -0.135  0.894
> reals      -0.389  0.338 -0.700  0.375 -0.321
> statistics -0.519  0.570  0.607        -0.179
> > print(testscores.prc,loadings=T)
> Call:
> princomp(x = data)
>
> Standard deviations:
>    Comp.1    Comp.2    Comp.3    Comp.4    Comp.5
> 28.489680  9.035471  6.600955  6.133582  3.723358
>
>  5  variables and  25 observations.
>
>
>
> Any thoughts as to what I'm doing wrong??
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 19 16:01:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 19 Aug 2001 15:01:53 +0100 (BST)
Subject: [R] gam() in Splus and R
In-Reply-To: <Pine.SOL.4.21.0108182214380.12392-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0108191457170.16934-100000@gannet.stats>

On Sat, 18 Aug 2001, Ko-Kang Kevin Wang wrote:

> Hi,
>
> Is there any difference in the gam() function in R and Splus?

See Q7.18 in the FAQ!   They are quite different: in particular that in
R's mgcv does model selection and that in S-PLUS does not.

> I just tried to do an Ace Plot (plotting the result of the gam() ) on a
> dataset.  R gave me four (the data set has one response and four
> explanatory variables) ace plot with perfectly straight lines.  I kind of
> felt that it is highly unlikely, so I tried it in Splus.  Using the exact
> commands Splus gave me four completely different ace plots (in fact so
> different that three of them suggested a quadratic polynomial
> transformation).
>
> Am I doing something wrong here?

Something different, anyway.  mgcv's gam() can choose a linear model.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Aug 20 00:06:53 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 20 Aug 2001 10:06:53 +1200
Subject: [R] Principle Component Analysis
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E53E@nt40hou1.tanox.com>
Message-ID: <200108192208.KAA16503@gosset.stats.waikato.ac.nz>

I'm interested in the source of the data. Is it a graduate school qualifying
examination? An admissions aptitude test?

Murray Jorgensen


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Mon Aug 20 11:19:07 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Mon, 20 Aug 2001 11:19:07 +0200
Subject: [R] lm
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D85265@arcss07.arcs.ac.at>

By error I used the function lm with arrays. Is this a legal action?
funtion call:
h.lm<-lm(h.0~h.9+h.8)
where all of the variables are arrays of dimension 722,6,10

Thank you for your help.

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Aug 20 14:27:08 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 20 Aug 2001 13:27:08 +0100 (BST)
Subject: [R] gam() in Splus and R
In-Reply-To: <Pine.SOL.4.21.0108182214380.12392-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.21.0108201313540.25955-100000@dolphin>

> Is there any difference in the gam() function in R and Splus?
- there are quite alot of differences: see latest issue of Rnews [Perhaps
I shouldn't have called it "gam()" - but this does describe what it does]. 

> 
> I just tried to do an Ace Plot (plotting the result of the gam() ) on a
> dataset.  R gave me four (the data set has one response and four
> explanatory variables) ace plot with perfectly straight lines.  I kind of
> felt that it is highly unlikely, so I tried it in Splus.  Using the exact
> commands Splus gave me four completely different ace plots (in fact so
> different that three of them suggested a quadratic polynomial
> transformation).

- As Brian Ripley pointed out, the difference here is that mgcv's gam() is
doing model selection for you. If you want something more like an Splus
GAM then you can fix the degrees of freedom for each the model terms -

e.g. 
> gam(y~s(x,5|f)) # fits 4 df regression spline

then you should find a closer correspondance between what you get from
R/mgcv and what you get from Splus. 

mgcv has a tendancy to select too many straight lines if your predictor
variables are highly correlated. I would check for this and try dropping
some terms (again, see current Rnews). 

Finally: how many data do you have? GCV will tend to suggest smoothing 
quite heavily if there are very few data.  

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gonin at genethon.fr  Mon Aug 20 16:58:55 2001
From: gonin at genethon.fr (Patrick Gonin)
Date: Mon, 20 Aug 2001 16:58:55 +0200
Subject: [R] Cave plots
Message-ID: <v04210100b7a6d5c2b010@[192.168.100.119]>

Hi all,

Is there a way to compare time series using cave plots with R ?

Thank you for your time.
---------------------
Patrick Gonin
Responsable D?partement Evaluation in vivo
GENETHON III- CNRS URA 1923
1 bis, rue de l'Internationale
BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin at genethon.fr
---------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug 20 19:29:03 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 20 Aug 2001 10:29:03 -0700 (PDT)
Subject: [R] lm
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB003D85265@arcss07.arcs.ac.at>
Message-ID: <Pine.A41.4.33.0108201021160.142352-100000@homer28.u.washington.edu>

On Mon, 20 Aug 2001, Pesl Thomas wrote:

> By error I used the function lm with arrays. Is this a legal action?
> funtion call:
> h.lm<-lm(h.0~h.9+h.8)
> where all of the variables are arrays of dimension 722,6,10
>

It's legal, but in this case won't have been what you wanted.

A matrix on the right-hand side of the formula means to use all the
columns of the matrix as predictors.  A matrix on the left-hand side means
a multiple linear model: fitting each column separately as the response
variable.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Mon Aug 20 19:40:49 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Mon, 20 Aug 2001 13:40:49 -0400
Subject: [R] using R to generate resizable real-time plots
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F3595@norcom2.norcom.net>

I am trying to use R to repeatedly plot data to an X11 device from a file
that is being updated every five minutes.  My initial strategy was to use a
loop in R that roughly looks like this

while (TRUE){
   system("sleep 10")
   plot(x,y)
}

However, this had an interesting side effect: when I try to resize the plot
window under X, R never processes the resize events like it would if I had
invoked R interactively and typed a command into the xterm I was running R
from.

I would like to get around this somehow so that R does not go to sleep like
this and stop processing X events.

My next attempt went like this.  I wrapped the R script in a bash script and
had the bash script go to sleep:

#!/bin/bash

( 
   while true; do
      sleep 10
      echo "plot(x,y)"
   done
) | R --no-save

This fared no better.  I then tried the same thing with a named pipe with no
more success.

Any ideas?

Chris Marshall
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug 20 20:06:45 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 20 Aug 2001 11:06:45 -0700 (PDT)
Subject: [R] using R to generate resizable real-time plots
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F3595@norcom2.norcom.net>
Message-ID: <Pine.A41.4.33.0108201059590.142352-100000@homer28.u.washington.edu>

On Mon, 20 Aug 2001, Chris Marshall wrote:

> I am trying to use R to repeatedly plot data to an X11 device from a file
> that is being updated every five minutes.  My initial strategy was to use a
> loop in R that roughly looks like this
>
> while (TRUE){
>    system("sleep 10")
>    plot(x,y)
> }
>
> However, this had an interesting side effect: when I try to resize the plot
> window under X, R never processes the resize events like it would if I had
> invoked R interactively and typed a command into the xterm I was running R
> from.
>
> I would like to get around this somehow so that R does not go to sleep like
> this and stop processing X events.
>
 Well, you did *ask* it to go to sleep ;-)

The Sys.sleep() function is designed for this. It waits without suspending
the event loop so the following should work

repeat({
   Sys.sleep(10)
   plot(x,y)
   })

(or use while(TRUE){} instead of repeat() if you prefer)

However, there appears to be a bug. On my machine (Debian Linux) does
works, but if you interrupt Sys.sleep() with CTRL-C and then rerun it
there is a segfault.

If you don't plan to interrupt the loop with CTRL-C you should be fine
(and you may be fine on other OSes).


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Mon Aug 20 20:15:26 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Mon, 20 Aug 2001 14:15:26 -0400
Subject: [R] using R to generate resizable real-time plots
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F3596@norcom2.norcom.net>

 Perfect!  Works like a charm!

Thank you so much.  I can't believe I got an answer in an hour.

R has to be one of the best supported tools in existance.

Chris Marshall

-----Original Message-----
From: Thomas Lumley
To: Chris Marshall
Cc: 'r-help at lists.R-project.org'
Sent: 8/20/01 2:06 PM
Subject: Re: [R] using R to generate resizable real-time plots

On Mon, 20 Aug 2001, Chris Marshall wrote:

> I am trying to use R to repeatedly plot data to an X11 device from a
file
> that is being updated every five minutes.  My initial strategy was to
use a
> loop in R that roughly looks like this
>
> while (TRUE){
>    system("sleep 10")
>    plot(x,y)
> }
>
> However, this had an interesting side effect: when I try to resize the
plot
> window under X, R never processes the resize events like it would if I
had
> invoked R interactively and typed a command into the xterm I was
running R
> from.
>
> I would like to get around this somehow so that R does not go to sleep
like
> this and stop processing X events.
>
 Well, you did *ask* it to go to sleep ;-)

The Sys.sleep() function is designed for this. It waits without
suspending
the event loop so the following should work

repeat({
   Sys.sleep(10)
   plot(x,y)
   })

(or use while(TRUE){} instead of repeat() if you prefer)

However, there appears to be a bug. On my machine (Debian Linux) does
works, but if you interrupt Sys.sleep() with CTRL-C and then rerun it
there is a segfault.

If you don't plan to interrupt the loop with CTRL-C you should be fine
(and you may be fine on other OSes).


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Mon Aug 20 22:37:19 2001
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Mon, 20 Aug 2001 16:37:19 -0400 (EDT)
Subject: [R] Rdconv.pm errors while installing R
Message-ID: <200108202037.QAA03721@aeolus.geo.umass.edu>

I have just compiled and installed R-patched on a Sparc 20 running
Solaris 2.5.1.  The compilation and installation went fine except for
the message:

Bare word found where operator expected at
/usr/src/R/R-patched/share/perl/R/Rdconv.pm line 1491, near "$txtout
txt_header"   (Missing operator before txt_header?)

I get similar messages for lines 1390, 1405, 1420, and 1448 in
Rdconv.pm.  I have Perl 5, but it's old (5.003) and maybe that's the
problem.

I get the same message when installing packages when their docs are
processed.  My question is whether anything is likely to be wrong with
the documentation produced this way.  As I run R and read the html
help pages, I don't see any obvious problem.

Have others had this problem?

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 20 22:58:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 20 Aug 2001 21:58:56 +0100 (BST)
Subject: [R] Rdconv.pm errors while installing R
In-Reply-To: <200108202037.QAA03721@aeolus.geo.umass.edu>
Message-ID: <Pine.LNX.4.31.0108202153180.22965-100000@gannet.stats>

On Mon, 20 Aug 2001, William D. McCoy wrote:

> I have just compiled and installed R-patched on a Sparc 20 running
> Solaris 2.5.1.  The compilation and installation went fine except for
> the message:
>
> Bare word found where operator expected at
> /usr/src/R/R-patched/share/perl/R/Rdconv.pm line 1491, near "$txtout
> txt_header"   (Missing operator before txt_header?)
>
> I get similar messages for lines 1390, 1405, 1420, and 1448 in
> Rdconv.pm.  I have Perl 5, but it's old (5.003) and maybe that's the
> problem.
>
> I get the same message when installing packages when their docs are
> processed.  My question is whether anything is likely to be wrong with
> the documentation produced this way.  As I run R and read the html
> help pages, I don't see any obvious problem.
>
> Have others had this problem?

Yes, they have.  It seems to be a bug in that version of perl. Try
making it &txt_header in those lines, until you time to get Perl upgraded.

As I don't have the ancient verion of perl, I can't say if the docs are
incorretlye processed, but it seems likely that they are.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MROBERTS at ers.usda.gov  Mon Aug 20 23:35:52 2001
From: MROBERTS at ers.usda.gov (Michael Roberts)
Date: Mon, 20 Aug 2001 17:35:52 -0400
Subject: [R] lm
Message-ID: <sb814a98.052@ers.usda.gov>

I have a question related to this one:

Is there a function that allows one to simultaneously estimate a 
variance-covariance matrix of the errors for a multiple linear
model?  It would be straightforward to do this in two steps,
estimating the covariance matrix using the residuals.  But is
there a canned function for a maximum likelihood estimates?

Thanks,
Mike Roberts


>>> Thomas Lumley <tlumley at u.washington.edu> 08/20 1:29 PM >>>
On Mon, 20 Aug 2001, Pesl Thomas wrote:

> By error I used the function lm with arrays. Is this a legal
action?
> funtion call:
> h.lm<-lm(h.0~h.9+h.8)
> where all of the variables are arrays of dimension 722,6,10
>

It's legal, but in this case won't have been what you wanted.

A matrix on the right-hand side of the formula means to use all the
columns of the matrix as predictors.  A matrix on the left-hand side
means
a multiple linear model: fitting each column separately as the
response
variable.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html

Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch

_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Aug 20 23:49:57 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 21 Aug 2001 09:49:57 +1200
Subject: [R] Generating data from an ANOVA model
Message-ID: <200108202151.JAA20175@gosset.stats.waikato.ac.nz>

In my teaching I like to try to get across the meaning of the linear models
assumed in ANOVA by generating artificial data from these models.

When using Minitab I would set up columns of indicator variables for the
factors and any interactions included and add random normal error to a
column of means formed as a linear combination of the indicator columns.

I now want to do something similar in R. I am not looking for the shortest
possible code to do this, but a solution that will make it as obvious as
possible to the students exactly what is going on.



Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at ucla.edu  Tue Aug 21 00:17:36 2001
From: yunda at ucla.edu (Yunda Huang)
Date: Mon, 20 Aug 2001 15:17:36 -0700
Subject: [R] variable selection in R using bootstrapping
Message-ID: <001d01c129c5$eb845920$991943a4@1encl>

Hi, all:

Is there anyone know about the variable selection procedure in R using bootstrapping? I tried to define the statistics function as following to find the best set of covariates in each bootstrap resample. My plan was to construct the final model based on the common covariates picked from every R=300 resamples. 
 
dat3.pred.fun <- function( data, i, formula )

{ d <- data[i,]

  d.glm.all <- glm(formula,family=binomial,data=d )

  d.fit<-step(d.glm.all)

  formula(d.fit) 

# or summary(d.fit)$coefficient[,1]

# .....

}

 And then I called the boot function as: 

r_300  # no of bootstrap samples

dat3.boot <- boot( dat3, dat3.pred.fun, R=r,sim="ordinary", formula=formula(dat3.glm.help))

However, R gave me message like " terms. formula(X, ...): object "d" not found". Anyone has any clue about it? 

Thank you very much for your time!

Sincerely,

Yunda

Department of Biostatistics 

University of California, Los Angeles








-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010820/8be2d322/attachment.html

From fharrell at virginia.edu  Tue Aug 21 02:15:27 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Mon, 20 Aug 2001 20:15:27 -0400
Subject: [R] variable selection in R using bootstrapping
References: <001d01c129c5$eb845920$991943a4@1encl>
Message-ID: <3B81A81F.7C3F52C1@virginia.edu>

Please use ordinary text e-mail.

Bootstrapping has no advantage for selecting variables,
only for studying the ill effects of such selection.
The major problem with using the bootstrap the way
you have outlined is that the selection frequency is
ruined by collinearity, i.e., collinearity makes the
selection of one variable over another about as
reliable as flipping a coin.  Besides, the selection frequency
is highly related to the P-value from the initial model,
if you were using backwards stepdown.  So the bootstrap
does not offer much new information anyway.  -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 21 08:22:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 21 Aug 2001 07:22:11 +0100 (BST)
Subject: [R] Generating data from an ANOVA model
In-Reply-To: <200108202151.JAA20175@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0108210718170.2140-100000@auk.stats>

On Tue, 21 Aug 2001, Murray Jorgensen wrote:

> In my teaching I like to try to get across the meaning of the linear models
> assumed in ANOVA by generating artificial data from these models.
>
> When using Minitab I would set up columns of indicator variables for the
> factors and any interactions included and add random normal error to a
> column of means formed as a linear combination of the indicator columns.
>
> I now want to do something similar in R. I am not looking for the shortest
> possible code to do this, but a solution that will make it as obvious as
> possible to the students exactly what is going on.

model.matrix sets up the design matrix, and the rest is straightforward.
E.g. for an n x n Latin square

latin <- expand.grid(rows=1:n, cols=1:n)
latin$treats <- your choice
coefs <- your choice
Y <- model.matrix(~ rows + cols + treats, data=latin) %*% coefs + rnorm(n*n)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue Aug 21 09:14:42 2001
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 21 Aug 2001 00:14:42 -0700
Subject: [R] looking for a smarter way
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E185BF044@icrafnttrain.icraf.cgiar.org>

I have two problems where I've come up with some code that will do the
analysis that I want, but it looks pretty clumsy.  In the first case, I
calculate the variance on five different columns for each of 14 clusters and
get them into one matrix.  I get the job done, but I would have thought that
it could be done in one or two lines, not six, and be generalized so that it
didn't matter how many columns I had.  Any suggestions?

xtap1<-tapply(xcmd[,1],xclu$clustering,var)
xtap2<-tapply(xcmd[,2],xclu$clustering,var)
xtap3<-tapply(xcmd[,3],xclu$clustering,var)
xtap4<-tapply(xcmd[,4],xclu$clustering,var)
xtap5<-tapply(xcmd[,5],xclu$clustering,var)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)


The next example is somewhat similar, but I'm trying to calculate a
Shannon-weaver information index for each cluster based on the proportion of
objects with each "local.name".  I start by tabulating the frequency of
presence of each local.name in each cluster.  The code does what I want, but
I have other examples where I have hundreds of clusters and I would prefer
not to have to type in a line for each cluster.  Again, there must be a way
and I would appreciate any suggestions:

xtab<-table(x$LOCAL.NAME,xclu$clustering)
xshw1<--sum((xtab[,1]+0.000001)/sum(xtab[,1])*(log((xtab[,1]+0.000001)/sum(x
tab[,1]))))
xshw2<--sum((xtab[,2]+0.000001)/sum(xtab[,2])*(log((xtab[,2]+0.000001)/sum(x
tab[,2]))))
xshw3<--sum((xtab[,3]+0.000001)/sum(xtab[,3])*(log((xtab[,3]+0.000001)/sum(x
tab[,3]))))
xshw4<--sum((xtab[,4]+0.000001)/sum(xtab[,4])*(log((xtab[,4]+0.000001)/sum(x
tab[,4]))))
xshw5<--sum((xtab[,5]+0.000001)/sum(xtab[,5])*(log((xtab[,5]+0.000001)/sum(x
tab[,5]))))
xshw6<--sum((xtab[,6]+0.000001)/sum(xtab[,6])*(log((xtab[,6]+0.000001)/sum(x
tab[,6]))))
xshw7<--sum((xtab[,7]+0.000001)/sum(xtab[,7])*(log((xtab[,7]+0.000001)/sum(x
tab[,7]))))
xshw8<--sum((xtab[,8]+0.000001)/sum(xtab[,8])*(log((xtab[,8]+0.000001)/sum(x
tab[,8]))))
xshw9<--sum((xtab[,9]+0.000001)/sum(xtab[,9])*(log((xtab[,9]+0.000001)/sum(x
tab[,9]))))
xshw10<--sum((xtab[,10]+0.000001)/sum(xtab[,10])*(log((xtab[,10]+0.000001)/s
um(xtab[,10]))))
xshw11<--sum((xtab[,11]+0.000001)/sum(xtab[,11])*(log((xtab[,11]+0.000001)/s
um(xtab[,11]))))
xshw12<--sum((xtab[,12]+0.000001)/sum(xtab[,12])*(log((xtab[,12]+0.000001)/s
um(xtab[,12]))))
xshw13<--sum((xtab[,13]+0.000001)/sum(xtab[,13])*(log((xtab[,13]+0.000001)/s
um(xtab[,13]))))
xshw14<--sum((xtab[,14]+0.000001)/sum(xtab[,14])*(log((xtab[,14]+0.000001)/s
um(xtab[,14]))))
xshw<-rbind(xshw1,xshw2,xshw3,xshw4,xshw5,xshw6,xshw7,xshw8,xshw9,xshw10,xsh
w11,xshw12,xshw13,xshw14)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5,(xtapx<-(xtap1+xtap2+xtap3+xtap4+x
tap5)),xshw)


Thanks a lot in advance!!

Mikkel






Mikkel Grum, PhD
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
c/o ICRAF
PO Box 30677 Nairobi, Kenya
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Aug 21 10:46:31 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 21 Aug 2001 20:46:31 +1200
Subject: [R] looking for a smarter way
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E185BF044@icrafnttrain.icraf.cgiar.org>
Message-ID: <GAELKJBFMIGCMOMAFDBHMENMCAAA.Ko-Kang@xtra.co.nz>

I think you can use a for loop.

Something like:
  for( i in 1:n ) {
    ...
  }
where n is whatever the number of iterations.

Cheers,

Ko-Kang

-------------------------------------------------------------------------------------------- 
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Grum, Mikkel
Sent: Tuesday, August 21, 2001 7:15 PM
To: R-help at lists.R-project.org
Subject: [R] looking for a smarter way


I have two problems where I've come up with some code that will do the
analysis that I want, but it looks pretty clumsy.  In the first case, I
calculate the variance on five different columns for each of 14 clusters and
get them into one matrix.  I get the job done, but I would have thought that
it could be done in one or two lines, not six, and be generalized so that it
didn't matter how many columns I had.  Any suggestions?

xtap1<-tapply(xcmd[,1],xclu$clustering,var)
xtap2<-tapply(xcmd[,2],xclu$clustering,var)
xtap3<-tapply(xcmd[,3],xclu$clustering,var)
xtap4<-tapply(xcmd[,4],xclu$clustering,var)
xtap5<-tapply(xcmd[,5],xclu$clustering,var)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)


The next example is somewhat similar, but I'm trying to calculate a
Shannon-weaver information index for each cluster based on the proportion of
objects with each "local.name".  I start by tabulating the frequency of
presence of each local.name in each cluster.  The code does what I want, but
I have other examples where I have hundreds of clusters and I would prefer
not to have to type in a line for each cluster.  Again, there must be a way
and I would appreciate any suggestions:

xtab<-table(x$LOCAL.NAME,xclu$clustering)
xshw1<--sum((xtab[,1]+0.000001)/sum(xtab[,1])*(log((xtab[,1]+0.000001)/sum(x
tab[,1]))))
xshw2<--sum((xtab[,2]+0.000001)/sum(xtab[,2])*(log((xtab[,2]+0.000001)/sum(x
tab[,2]))))
xshw3<--sum((xtab[,3]+0.000001)/sum(xtab[,3])*(log((xtab[,3]+0.000001)/sum(x
tab[,3]))))
xshw4<--sum((xtab[,4]+0.000001)/sum(xtab[,4])*(log((xtab[,4]+0.000001)/sum(x
tab[,4]))))
xshw5<--sum((xtab[,5]+0.000001)/sum(xtab[,5])*(log((xtab[,5]+0.000001)/sum(x
tab[,5]))))
xshw6<--sum((xtab[,6]+0.000001)/sum(xtab[,6])*(log((xtab[,6]+0.000001)/sum(x
tab[,6]))))
xshw7<--sum((xtab[,7]+0.000001)/sum(xtab[,7])*(log((xtab[,7]+0.000001)/sum(x
tab[,7]))))
xshw8<--sum((xtab[,8]+0.000001)/sum(xtab[,8])*(log((xtab[,8]+0.000001)/sum(x
tab[,8]))))
xshw9<--sum((xtab[,9]+0.000001)/sum(xtab[,9])*(log((xtab[,9]+0.000001)/sum(x
tab[,9]))))
xshw10<--sum((xtab[,10]+0.000001)/sum(xtab[,10])*(log((xtab[,10]+0.000001)/s
um(xtab[,10]))))
xshw11<--sum((xtab[,11]+0.000001)/sum(xtab[,11])*(log((xtab[,11]+0.000001)/s
um(xtab[,11]))))
xshw12<--sum((xtab[,12]+0.000001)/sum(xtab[,12])*(log((xtab[,12]+0.000001)/s
um(xtab[,12]))))
xshw13<--sum((xtab[,13]+0.000001)/sum(xtab[,13])*(log((xtab[,13]+0.000001)/s
um(xtab[,13]))))
xshw14<--sum((xtab[,14]+0.000001)/sum(xtab[,14])*(log((xtab[,14]+0.000001)/s
um(xtab[,14]))))
xshw<-rbind(xshw1,xshw2,xshw3,xshw4,xshw5,xshw6,xshw7,xshw8,xshw9,xshw10,xsh
w11,xshw12,xshw13,xshw14)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5,(xtapx<-(xtap1+xtap2+xtap3+xtap4+x
tap5)),xshw)


Thanks a lot in advance!!

Mikkel






Mikkel Grum, PhD
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
c/o ICRAF
PO Box 30677 Nairobi, Kenya
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clelancm at UMDNJ.EDU  Tue Aug 21 12:30:41 2001
From: clelancm at UMDNJ.EDU (Cleland)
Date: Tue, 21 Aug 2001 06:30:41 -0400 (EDT)
Subject: [R] looking for a smarter way
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E185BF044@icrafnttrain.icraf.cgiar.org>
Message-ID: <Pine.HPX.4.10.10108210629230.4365-100000@rwja.umdnj.edu>

"Grum, Mikkel" wrote:

I have two problems where I've come up with some code that will do the 
analysis that I want, but it looks pretty clumsy.  In the first case, I 
calculate the variance on five different columns for each of 14 clusters
and get them into one matrix.  I get the job done, but I would have
thought that it could be done in one or two lines, not six, and be
generalized so that it didn't matter how many columns I had.  Any
suggestions?

  xtap1<-tapply(xcmd[,1],xclu$clustering,var)
  xtap2<-tapply(xcmd[,2],xclu$clustering,var)
  xtap3<-tapply(xcmd[,3],xclu$clustering,var)
  xtap4<-tapply(xcmd[,4],xclu$clustering,var)
  xtap5<-tapply(xcmd[,5],xclu$clustering,var)
  xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)

Mikkel:

  I think you might be looking for something like this:

xtap <- apply(xcmd[,1:5], 2, function(x){tapply(x, list(xclu$clustering),
var)})

Hope this helps,

Chuck

-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
Chuck Cleland
Institute for the Study of Child Development
UMDNJ--Robert Wood Johnson Medical School
97 Paterson St.
New Brunswick, NJ 08903
phone: (732) 235-7699
  fax: (732) 235-6189
http://www2.umdnj.edu/iscdweb/
http://members.nbci.com/cmcleland
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Aug 21 14:08:10 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 21 Aug 2001 14:08:10 +0200
Subject: [R] looking for a smarter way
References: <GAELKJBFMIGCMOMAFDBHMENMCAAA.Ko-Kang@xtra.co.nz>
Message-ID: <3B824F2A.43DEAB68@cbs.dtu.dk>







----------------------
> I have two problems where I've come up with some code that will do the
> analysis that I want, but it looks pretty clumsy.  In the first case, I
> calculate the variance on five different columns for each of 14 clusters and
> get them into one matrix.  I get the job done, but I would have thought that
> it could be done in one or two lines, not six, and be generalized so that it
> didn't matter how many columns I had.  Any suggestions?
> 
> xtap1<-tapply(xcmd[,1],xclu$clustering,var)
> xtap2<-tapply(xcmd[,2],xclu$clustering,var)
> xtap3<-tapply(xcmd[,3],xclu$clustering,var)
> xtap4<-tapply(xcmd[,4],xclu$clustering,var)
> xtap5<-tapply(xcmd[,5],xclu$clustering,var)
> xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)







..got it in one line...

> apply(xcmd,2,function(x) {tapply(x,xclu$clustering,var)})


...the other one can be done this way too





regards,



Laurent






> The next example is somewhat similar, but I'm trying to calculate a
> Shannon-weaver information index for each cluster based on the proportion of
> objects with each "local.name".  I start by tabulating the frequency of
> presence of each local.name in each cluster.  The code does what I want, but
> I have other examples where I have hundreds of clusters and I would prefer
> not to have to type in a line for each cluster.  Again, there must be a way
> and I would appreciate any suggestions:
> 
> xtab<-table(x$LOCAL.NAME,xclu$clustering)
> xshw1<--sum((xtab[,1]+0.000001)/sum(xtab[,1])*(log((xtab[,1]+0.000001)/sum(x
> tab[,1]))))
> xshw2<--sum((xtab[,2]+0.000001)/sum(xtab[,2])*(log((xtab[,2]+0.000001)/sum(x
> tab[,2]))))
> xshw3<--sum((xtab[,3]+0.000001)/sum(xtab[,3])*(log((xtab[,3]+0.000001)/sum(x
> tab[,3]))))
> xshw4<--sum((xtab[,4]+0.000001)/sum(xtab[,4])*(log((xtab[,4]+0.000001)/sum(x
> tab[,4]))))
> xshw5<--sum((xtab[,5]+0.000001)/sum(xtab[,5])*(log((xtab[,5]+0.000001)/sum(x
> tab[,5]))))
> xshw6<--sum((xtab[,6]+0.000001)/sum(xtab[,6])*(log((xtab[,6]+0.000001)/sum(x
> tab[,6]))))
> xshw7<--sum((xtab[,7]+0.000001)/sum(xtab[,7])*(log((xtab[,7]+0.000001)/sum(x
> tab[,7]))))
> xshw8<--sum((xtab[,8]+0.000001)/sum(xtab[,8])*(log((xtab[,8]+0.000001)/sum(x
> tab[,8]))))
> xshw9<--sum((xtab[,9]+0.000001)/sum(xtab[,9])*(log((xtab[,9]+0.000001)/sum(x
> tab[,9]))))
> xshw10<--sum((xtab[,10]+0.000001)/sum(xtab[,10])*(log((xtab[,10]+0.000001)/s
> um(xtab[,10]))))
> xshw11<--sum((xtab[,11]+0.000001)/sum(xtab[,11])*(log((xtab[,11]+0.000001)/s
> um(xtab[,11]))))
> xshw12<--sum((xtab[,12]+0.000001)/sum(xtab[,12])*(log((xtab[,12]+0.000001)/s
> um(xtab[,12]))))
> xshw13<--sum((xtab[,13]+0.000001)/sum(xtab[,13])*(log((xtab[,13]+0.000001)/s
> um(xtab[,13]))))
> xshw14<--sum((xtab[,14]+0.000001)/sum(xtab[,14])*(log((xtab[,14]+0.000001)/s
> um(xtab[,14]))))
> xshw<-rbind(xshw1,xshw2,xshw3,xshw4,xshw5,xshw6,xshw7,xshw8,xshw9,xshw10,xsh
> w11,xshw12,xshw13,xshw14)
> xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5,(xtapx<-(xtap1+xtap2+xtap3+xtap4+x
> tap5)),xshw)
> 
> Thanks a lot in advance!!
> 
> Mikkel
> 
> Mikkel Grum, PhD
> Genetic Diversity Scientist
> International Plant Genetic Resources Institute (IPGRI)
> Sub-Saharan Africa Group
> ***
> c/o ICRAF
> PO Box 30677 Nairobi, Kenya
> m.grum at cgiar.org
> ipgri-kenya at cgiar.org
> www.ipgri.cgiar.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue Aug 21 13:58:13 2001
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 21 Aug 2001 04:58:13 -0700
Subject: [R] looking for a smarter way
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E185BF277@icrafnttrain.icraf.cgiar.org>

This works great and I was able to extend it to the other problem too!
Thanks a lot!!

Cheers,
Mikkel

 -----Original Message-----
From: 	Cleland [mailto:clelancm at UMDNJ.EDU] 
Sent:	21 August 2001 13:31
To:	Grum, Mikkel
Cc:	R-help at hypatia.math.ethz.ch
Subject:	Re: [R] looking for a smarter way

"Grum, Mikkel" wrote:
I have two problems where I've come up with some code that will do the
analysis that I want, but it looks pretty clumsy.  In the first case, I
calculate the variance on five different columns for each of 14 clusters and
get them into one matrix.  I get the job done, but I would have thought that
it could be done in one or two lines, not six, and be generalized so that it
didn't matter how many columns I had.  Any suggestions?
xtap1<-tapply(xcmd[,1],xclu$clustering,var)
xtap2<-tapply(xcmd[,2],xclu$clustering,var)
xtap3<-tapply(xcmd[,3],xclu$clustering,var)
xtap4<-tapply(xcmd[,4],xclu$clustering,var)
xtap5<-tapply(xcmd[,5],xclu$clustering,var)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)
Mikkel:
I think you might be looking for something like this:
xtap <- apply(xcmd[,1:5], 2, function(x){tapply(x, list(xclu$clustering),
var)})
Hope this helps,

Chuck

-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
Chuck Cleland
Institute for the Study of Child Development UMDNJ-Robert Wood Johnson
Medical School 97 Paterson St.
New Brunswick, NJ 08903
phone: (732) 235-7699
fax: (732) 235-6189
http://www2.umdnj.edu/iscdweb/
http://members.nbci.com/cmcleland
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.robinson at utoronto.ca  Tue Aug 21 16:09:27 2001
From: m.robinson at utoronto.ca (Mark Robinson)
Date: Tue, 21 Aug 2001 10:09:27 -0400
Subject: [R] difference between trees in R?
Message-ID: <3B826B97.DAD0B629@utoronto.ca>

Hi.

I am wondering if anybody has studied and/or written code in R to
calculate the distance between 2 "trees".  For example, if one does a
hierarchical agglomerative clustering and say, a hierachical divisive
clustering (represented as trees) and wishes to compute a metric on
them.  I am thinking of something like the symmetric difference as
mentioned in Margush and McMorris (1982).

My application is actually a bit different than that above so I'll
describe it.  I actually want to combine numerous k-means
classifications into 1.  Because subsequent runs of the the k-means
procedure are going to give different cluster memberships (because of
different starting points), I wanted to run it a bunch of times and
combine it into a consensus.  But to do that, I wanted to quantify how
different a consensus of , for example, 3 k-mean runs is from a
consensus of 4 k-mean runs (denoted here by d(3,4)).

Presumably, the sequence d(3,4), d(4,5), ..., d(p,p+1) would keep
decreasing and at some point I would be satisfied that no further k-mean
runs to add to the consensus would be necessary.

I thought I could represent a k-means run as a binary tree or do a
hierarchical agglomerative clustering of a matrix of cluster memberships
(1s and 0s) from p k-mean runs but maybe this isn't the best approach.

So, is there a metric on two consensuses of k-mean runs?  Or another
approach that I can implement in R.

Many thanks for your suggestions.

M.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Aug 21 16:19:26 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 21 Aug 2001 16:19:26 +0200
Subject: [R] Cave plots
References: <v04210100b7a6d5c2b010@[192.168.100.119]>
Message-ID: <3B826DEE.83653FD8@cbs.dtu.dk>

Dear Patrick,





The S-code at the following address should do the job

http://cm.bell-labs.com/cm/ms/departments/sia/project/misc/caveplot.html



Regards,



Laurent






Patrick Gonin wrote:
> 
> Hi all,
> 
> Is there a way to compare time series using cave plots with R ?
> 
> Thank you for your time.
> ---------------------
> Patrick Gonin
> Responsable D?partement Evaluation in vivo
> GENETHON III- CNRS URA 1923
> 1 bis, rue de l'Internationale
> BP 60
> 91002 EVRY CEDEX
> FRANCE
> Tel: 33-1-69-47-10-21
> Fax: 33-1-60-77-86-98
> gonin at genethon.fr
> ---------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Tue Aug 21 16:23:22 2001
From: isabelle.zabalza-mezghani at ifp.fr (Isabelle ZABALZA)
Date: Tue, 21 Aug 2001 16:23:22 +0200
Subject: [R] Problem using GLM in a loop
Message-ID: <3B826ED9.DCA1AC0B@ifp.fr>

Hello,

I am try to perform a modeling which is relevant in a strongly
heteroscedastic context.
So I perform a dual modeling (modeling of both mean and variance of a
response) in using the following loop:

jointmod <- function(formula, data, itercrit=10,devcrit=0.0001)
{
#
# Init step
#
init <- glm(formula=formula,family=gaussian, data=data)
response <- resid(init,type="response") + predict(init,type="response")
mu <- predict(init,type="response")
iter <- 1
dev <- init$deviance
if (dev != 0) vardev <- 1
else stop(message="Null deviance in initialisation step")
endformula_ strsplit(formula,"~")[[3]]
formulavar_paste("d","~")
formulavar_as.formula(paste(formulavar,endformula))
#
# Modeling loop
#
while ((iter <= itercrit)| (vardev > devcrit)) {
d_(response - mu)^2
modvar_glm(formula=formulavar,family=Gamma(link=log),data=data)
sig <- predict(modvar,type="response")
weights <- 1/sig
modesp <- glm(formula=formula,
family=gaussian,data=data,weights=weights)
mu <- predict(modesp,type="response")
devold <- dev
dev <- modesp$deviance
vardev <- (devold -dev)/devold
iter <- iter + 1
}

list(modesp=modesp, modvar=modvar, iter=iter, vardev=vardev)
}

This program evaluation always stops when evaluating the "modesp" line :

         modesp <- glm(formula=formula,
family=gaussian,data=data,weights=weights)
with the following error:
error in
model.frame(formula,rownames,variables,varnames,extras,extranames, :
           invalid variable type.

The same program without specifying weights runs.
I don't understand this behavior since when I execute the glm command
with weights out of the program, it runs.

I run R1.3.0 under Windows.

If someone can help me ...

Isabelle Zabalza-Mezghani






--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010821/ead5b473/attachment.html

From Friedrich.Leisch at ci.tuwien.ac.at  Tue Aug 21 16:35:22 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 21 Aug 2001 16:35:22 +0200
Subject: [R] difference between trees in R?
In-Reply-To: <3B826B97.DAD0B629@utoronto.ca>
References: <3B826B97.DAD0B629@utoronto.ca>
Message-ID: <15234.29098.629732.463162@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 21 Aug 2001 10:09:27 -0400,
>>>>> Mark Robinson (MR) wrote:

  > Hi.
  > I am wondering if anybody has studied and/or written code in R to
  > calculate the distance between 2 "trees".  For example, if one does a
  > hierarchical agglomerative clustering and say, a hierachical divisive
  > clustering (represented as trees) and wishes to compute a metric on
  > them.  I am thinking of something like the symmetric difference as
  > mentioned in Margush and McMorris (1982).

  > My application is actually a bit different than that above so I'll
  > describe it.  I actually want to combine numerous k-means
  > classifications into 1.  Because subsequent runs of the the k-means
  > procedure are going to give different cluster memberships (because of
  > different starting points), I wanted to run it a bunch of times and
  > combine it into a consensus.  But to do that, I wanted to quantify how
  > different a consensus of , for example, 3 k-mean runs is from a
  > consensus of 4 k-mean runs (denoted here by d(3,4)).

  > Presumably, the sequence d(3,4), d(4,5), ..., d(p,p+1) would keep
  > decreasing and at some point I would be satisfied that no further k-mean
  > runs to add to the consensus would be necessary.

  > I thought I could represent a k-means run as a binary tree or do a
  > hierarchical agglomerative clustering of a matrix of cluster memberships
  > (1s and 0s) from p k-mean runs but maybe this isn't the best approach.

  > So, is there a metric on two consensuses of k-mean runs?  Or another
  > approach that I can implement in R.

There are several measures of similarity between partitions in the
literature (which of course can easily be transformed to distance
measures). The most popular is probably the corrected Rand Index,
which can be found in the classAgreement() function of package e1071
(literature references are in the help page).

Don't know if any of these is a metric (in the mathematical sense) in
the space of subsets.

Hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.weale at ucl.ac.uk  Tue Aug 21 17:55:56 2001
From: m.weale at ucl.ac.uk (Mike Weale)
Date: Tue, 21 Aug 2001 16:55:56 +0100
Subject: [R] Exact Tests for RxC contingency tables
References: <A68A7C0BB344D511AA38005004AA9E185BF277@icrafnttrain.icraf.cgiar.org>
Message-ID: <00ae01c12a59$efb88db0$60502880@DOMHSCS>

I'm trying to perform exact tests on tables of approx. size 20x20, with
about half the cells empty.  fisher.test in the ctest package appears to
fall down with tables bigger than about 6x6.  Are there any other algorithms
for exact tests implemented in other R-packages, which work on larger
tables?

Many thanks,
Mike Weale

*******************************************************
Dr. Mike Weale
The Centre for Genetic Anthropology
Department of Biology
University College London
Darwin Bdg, Gower St, London WC1E 6BT
Office: (020) 7404 3040
Lab: (020) 7679 2654
Fax: (020) 7404 2083
*******************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Aug 21 18:11:59 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 21 Aug 2001 18:11:59 +0200
Subject: [R] Exact Tests for RxC contingency tables
In-Reply-To: <00ae01c12a59$efb88db0$60502880@DOMHSCS>
References: <A68A7C0BB344D511AA38005004AA9E185BF277@icrafnttrain.icraf.cgiar.org>
	<00ae01c12a59$efb88db0$60502880@DOMHSCS>
Message-ID: <15234.34895.389073.419908@mithrandir.hornik.net>

>>>>> Mike Weale writes:

> I'm trying to perform exact tests on tables of approx. size 20x20,
> with about half the cells empty.  fisher.test in the ctest package
> appears to fall down with tables bigger than about 6x6.  Are there any
> other algorithms for exact tests implemented in other R-packages,
> which work on larger tables?

You can increase the workspace for the network algorithm in fisher.test
using argument `workspace'.  But I would think that many empty cells
will give it a real hard time.  I would go for the hybrid version or the
bootstrapped version of the chi-squared.test via

	chisq.test(x, simulate.p.value = TRUE, B = 2000)

-k




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mattlin at jhu.edu  Tue Aug 21 18:42:11 2001
From: mattlin at jhu.edu (Matthew Lin)
Date: Tue, 21 Aug 2001 12:42:11 -0400
Subject: [R] Question about R
Message-ID: <001801c12a60$3a711100$2288dc80@wbmei.jhu.edu>

To whom it may concert,

        I have installed R-base -1.3.0-1.i386.rpm onto RedHat Linux 7.1. How can I start R on the system?



Sincerely,

Matthew Lin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010821/140da1a4/attachment.html

From elvis at xlsolutions-corp.com  Tue Aug 21 18:51:02 2001
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Tue, 21 Aug 2001 12:51:02 -0400
Subject: [R] COURSE: R Fundamentals and programming Denver, CO- Septemver 19-21, 2001
Message-ID: <200108211651.f7LGp2W00985@badass.hosting-network.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to
announce a three-day R course, "R Fundamentals and Programming
Techniques,"  in:

                     Denver, CO - September 19-21, 2001.

Cost for 3-day course

	Commercial $985
	Academic $875

(Includes course materials, 90 days Technical Support for R,
snacks and continental breakfast!) and

PARTICIPANTS TO OUR CLASSES ARE ALWAYS PROVIDED WITH A COMPUTER!

XLSolutions also offer customized private courses delivered by expert
trainers with a track teaching and training record in their fields.

==========================================================================

R is a freely available implementation of the S language and environment,
for statistical computing and graphics similar to the commercial S-PLUS.
You can download a copy of R software (Windows, Mac, Unix & Linux)
from http://cran.r-project.org.

This special three-day R course developped is designed for those who
want to learn to write R programs to accomplish typical data-processing tasks,
including creating graphics. The course will give beginners a strong
 foundation for becoming a versatile R programmer, and will expose experienced
users to skills that make a better R programmer.

Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the
essentials of data manipulation, graphical visualization and R
programming. We will explore statistical data analysis tools, including
graphics with data sets from areas such as Finance, Biopharm,
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.


Registration and more information:

Visit us: www.xlsolutions-corp.com/training.htm

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221



Course Format:

This course consists of a series of short lectures with demonstrations and
interactive sessions for the participants. Each student is provided with
bound copies of the notes and a CD-ROM containing all examples,
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.


================================================================================
==

Three-day R Fundamentals and Programming Techniques (Denver)

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

...............................................................

...............................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer

Sincerely

Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfield at molbiol.ox.ac.uk  Tue Aug 21 18:55:02 2001
From: dfield at molbiol.ox.ac.uk (Dawn Field)
Date: Tue, 21 Aug 2001 16:55:02 +0000
Subject: [R] read.table -unexpected truncation of rows
Message-ID: <a0501040bb7a83dea5574@[192.171.160.131]>

Hello,

Are there any 'unallowed' (meta)characters that can cause R to parse 
a file incorrectly when using read.table?
--Dawn




Here the background if it's needed:

I'm new to R, but have done some Perl.  I'm trying to read in a 
data.frame from a file using * as a record separator.

data <- read.table("all_genomes.data",header=T,sep="*")

This has been working great until now when I tried to parse my latest 
(biggest) file.  The file has been generated with the exact same 
script as other files that have imported correctly, but with 
different original data.
R reads the new file and complains that the rows aren't all the same length.

Here's some truncated output:
[409] 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11
[433] 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11
[457]  4 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11

...

[1201] 11 11 11 11 11 11
   Error in read.table("all_genomes.data", header = T, as.is = TRUE, 
sep = "*") :
           all rows must have the same length.
   Execution halted

In trying to figure out why it's reading four fields on line 457 
instead of the proper 11, I've
* looked manually at the lines that are too short..(they have 11)
* imported the file into excel to make sure the record separator is 
working as I expected The file imports perfectly into Excel using 
this separator with 11 fields for all entries.
* looked for funny metacharacters that could be confusing the parser


I still think there might be some characters in my original data that 
I parsed to make the data.frame in "all_genomes.data" that read.table 
doesn't like (my data is not all numeric), but I can't find them.

I've been looking at help(read.table) and tried to go through the 
archive and FAQ for some advice, but haven't found any yet.

Any suggestions would be greatly appreciated. I think R is great and 
I'm looking for all the tips I can get.
Dawn



-- 


Dawn Field
Molecular Evolution and Bioinformatics
CEH, Oxford
Mansfield Road
Oxford
OX1 3SR

Tel: *-44-(0)1865-281659 (direct)
Tel: *-44-(0)1865-281630 (reception to leave a message)
Fax: *-44-(0)1865-281696
http://www.nox.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Aug 21 18:58:27 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 21 Aug 2001 18:58:27 +0200
Subject: [R] Problem using GLM in a loop
Message-ID: <3.0.32.20010821185827.008f1eb0@162.38.183.200>

I have done something similar, following the method described in Aitkin
(1997, Applied Statistics, 36:332-339), and it worked fine. I am sending
you my code (privately, it is very untidy :-( ) hoping this will help.

Emmanuel Paradis


At 16:23 21/08/01 +0200, Isabelle ZABALZA
<isabelle.zabalza-mezghani at ifp.fr> wrote: 
>>>>
Hello, 

I am try to perform a modeling which is relevant in a strongly
heteroscedastic context. 
So I perform a dual modeling (modeling of both mean and variance of a
response) in using the following loop: 

jointmod <- function(formula, data, itercrit=10,devcrit=0.0001) 
{ 
# 
# Init step 
# 
init <- glm(formula=formula,family=gaussian, data=data) 
response <- resid(init,type="response") + predict(init,type="response") 
mu <- predict(init,type="response") 
iter <- 1 
dev <- init$deviance 
if (dev != 0) vardev <- 1 
else stop(message="Null deviance in initialisation step") 
endformula_ strsplit(formula,"~")[[3]] 
formulavar_paste("d","~") 
formulavar_as.formula(paste(formulavar,endformula)) 
# 
# Modeling loop 
# 
while ((iter <= itercrit)| (vardev > devcrit)) { 
d_(response - mu)^2 
modvar_glm(formula=formulavar,family=Gamma(link=log),data=data) 
sig <- predict(modvar,type="response") 
weights <- 1/sig 
modesp <- glm(formula=formula, family=gaussian,data=data,weights=weights) 
mu <- predict(modesp,type="response") 
devold <- dev 
dev <- modesp$deviance 
vardev <- (devold -dev)/devold 
iter <- iter + 1 
} 

list(modesp=modesp, modvar=modvar, iter=iter, vardev=vardev) 
} 

This program evaluation always stops when evaluating the "modesp" line : 
         modesp <- glm(formula=formula,
family=gaussian,data=data,weights=weights) 
with the following error: 
error in model.frame(formula,rownames,variables,varnames,extras,extranames, : 
           invalid variable type. 

The same program without specifying weights runs. 
I don't understand this behavior since when I execute the glm command with
weights out of the program, it runs. 

I run R1.3.0 under Windows. 

If someone can help me ... 

Isabelle Zabalza-Mezghani 
 
 
 
 
 --  Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99 Institut
Franais du Ptrole       E-mail : isabelle.zabalza-mezghani at ifp.fr 1-4 Av.
Bois Preau - Bat Lauriers 92852 Rueil Malmaison Cedex, France  



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Tue Aug 21 20:57:40 2001
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Tue, 21 Aug 2001 14:57:40 -0400 (EDT)
Subject: [R] Rdconv.pm errors while installing R
In-Reply-To: <Pine.LNX.4.31.0108202153180.22965-100000@gannet.stats>
References: <200108202037.QAA03721@aeolus.geo.umass.edu>
	<Pine.LNX.4.31.0108202153180.22965-100000@gannet.stats>
Message-ID: <200108211857.OAA10899@aeolus.geo.umass.edu>

Thanks to Brian Ripley for the quick response to my perl problem with
Rdconv.pm.  I took the easy way out for now and added the ampersand
prefix to the txt_header subroutine call and remade R and the
recommended packages without any errors or warnings.

The original problem description and Brian's response follow:


Prof Brian Ripley writes:
 > On Mon, 20 Aug 2001, William D. McCoy wrote:
 > 
 > > I have just compiled and installed R-patched on a Sparc 20 running
 > > Solaris 2.5.1.  The compilation and installation went fine except for
 > > the message:
 > >
 > > Bare word found where operator expected at
 > > /usr/src/R/R-patched/share/perl/R/Rdconv.pm line 1491, near "$txtout
 > > txt_header"   (Missing operator before txt_header?)
 > >
 > > I get similar messages for lines 1390, 1405, 1420, and 1448 in
 > > Rdconv.pm.  I have Perl 5, but it's old (5.003) and maybe that's the
 > > problem.
 > >
 > > I get the same message when installing packages when their docs are
 > > processed.  My question is whether anything is likely to be wrong with
 > > the documentation produced this way.  As I run R and read the html
 > > help pages, I don't see any obvious problem.
 > >
 > > Have others had this problem?
 > 
 > Yes, they have.  It seems to be a bug in that version of perl. Try
 > making it &txt_header in those lines, until you time to get Perl upgraded.
 > 
 > As I don't have the ancient verion of perl, I can't say if the docs are
 > incorretlye processed, but it seems likely that they are.
 > 
 > -- 
 > Brian D. Ripley,                  ripley at stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maneesh at www.chip.org  Tue Aug 21 21:16:57 2001
From: maneesh at www.chip.org (Maneesh)
Date: Tue, 21 Aug 2001 15:16:57 -0400 (EDT)
Subject: [R] read.table -unexpected truncation of rows
In-Reply-To: <a0501040bb7a83dea5574@[192.171.160.131]>
Message-ID: <Pine.LNX.4.33.0108211514500.17088-100000@www.chip.org>

Hi Dawn,
I had some similar problems, if I remember correctly I had apostrophe
characters like this:  '  in some text fields those and quotes " seem to
always be an issue when dealing with databases and table reading...


On Tue, 21 Aug 2001, Dawn Field wrote:

> Hello,
>
> Are there any 'unallowed' (meta)characters that can cause R to parse
> a file incorrectly when using read.table?
> --Dawn
>
>
>
>
> Here the background if it's needed:
>
> I'm new to R, but have done some Perl.  I'm trying to read in a
> data.frame from a file using * as a record separator.
>
> data <- read.table("all_genomes.data",header=T,sep="*")
>
> This has been working great until now when I tried to parse my latest
> (biggest) file.  The file has been generated with the exact same
> script as other files that have imported correctly, but with
> different original data.
> R reads the new file and complains that the rows aren't all the same length.
>
> Here's some truncated output:
> [409] 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11
> [433] 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11
> [457]  4 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11
>
> ...
>
> [1201] 11 11 11 11 11 11
>    Error in read.table("all_genomes.data", header = T, as.is = TRUE,
> sep = "*") :
>            all rows must have the same length.
>    Execution halted
>
> In trying to figure out why it's reading four fields on line 457
> instead of the proper 11, I've
> * looked manually at the lines that are too short..(they have 11)
> * imported the file into excel to make sure the record separator is
> working as I expected The file imports perfectly into Excel using
> this separator with 11 fields for all entries.
> * looked for funny metacharacters that could be confusing the parser
>
>
> I still think there might be some characters in my original data that
> I parsed to make the data.frame in "all_genomes.data" that read.table
> doesn't like (my data is not all numeric), but I can't find them.
>
> I've been looking at help(read.table) and tried to go through the
> archive and FAQ for some advice, but haven't found any yet.
>
> Any suggestions would be greatly appreciated. I think R is great and
> I'm looking for all the tips I can get.
> Dawn
>
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 21 21:22:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 21 Aug 2001 20:22:16 +0100 (BST)
Subject: [R] read.table -unexpected truncation of rows
In-Reply-To: <Pine.LNX.4.33.0108211514500.17088-100000@www.chip.org>
Message-ID: <Pine.LNX.4.31.0108212019590.12617-100000@gannet.stats>

On Tue, 21 Aug 2001, Maneesh wrote:

> Hi Dawn,
> I had some similar problems, if I remember correctly I had apostrophe
> characters like this:  '  in some text fields those and quotes " seem to
> always be an issue when dealing with databases and table reading...

Yes, Dawn has confirmed in a private exchange (ca 200m away) that was the
case.

Can I remind people of the R Data Import/Export Manual, which points to
quote="" in this case, as does ?read.table.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Wed Aug 22 15:21:35 2001
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Wed, 22 Aug 2001 09:21:35 -0400
Subject: [R] Problems with trying to print 'refman.pdf'
Message-ID: <OF96D8E4E4.9B26A56C-ON85256AB0.0047D6C9@cbis.com>

When I try to print out the refman.pdf file of version 1.3.0 to an HP
LaserJet 8000 PS printer, I get the error message "Error occurred while
downloading a font. This document might not print correctly".  The document
does not print correctly.  The index page looks fine on the monitor, but
appear to print with a "Courier" type font that is squeezed to be
proportitional.

Has anyone else had this type of problem?

Jim Holtman

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brunels at free.fr  Wed Aug 22 15:16:46 2001
From: brunels at free.fr (brunels@free.fr)
Date: Wed, 22 Aug 2001 15:16:46 +0200 (MEST)
Subject: [R] Huge workspace cannot be opened
Message-ID: <998486206.3b83b0be465f4@imp.free.fr>

Hi everyone,

I have a problem that some people may have already encountered but i did not 
find the solution yet.
As I use R to simulate several arrays of data, my workspace is now 35Mb big and 
I cannot launch R with it.

An "xdr real data read error occured" and R tells me to delete .RData or 
increase memory. I WON'T delete this file and changing the max-nsize to 40600k 
did not change a thing.
I am running R from Windows with the command line : 
"$path\Rgui.exe"  --min-vsize=10M --vsize=60M --max-vsize=200M --min-
nsize=1000k --nsize=2900k --max-nsize=40600k

Please let me know the answer as I cannot go on with my work!
Thanks for any help!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 22 16:51:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 22 Aug 2001 15:51:00 +0100 (BST)
Subject: [R] Huge workspace cannot be opened
In-Reply-To: <998486206.3b83b0be465f4@imp.free.fr>
Message-ID: <Pine.LNX.4.31.0108221543460.15580-100000@gannet.stats>

On Wed, 22 Aug 2001 brunels at free.fr wrote:

> I have a problem that some people may have already encountered but i did not
> find the solution yet.
> As I use R to simulate several arrays of data, my workspace is now 35Mb big and
> I cannot launch R with it.
>
> An "xdr real data read error occured" and R tells me to delete .RData or
> increase memory. I WON'T delete this file and changing the max-nsize to 40600k
> did not change a thing.
> I am running R from Windows with the command line :
> "$path\Rgui.exe"  --min-vsize=10M --vsize=60M --max-vsize=200M --min-
> nsize=1000k --nsize=2900k --max-nsize=40600k

If this is a recent version of R, just leave off all the flags and let R
itself figure out how to manage memory.  If you have less than 128Mb of
RAM, I would add --max-mem-size=128M.  If you still get the error,
I am afraid that your workspace has been corrupted, and your work is lost.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 22 16:56:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 22 Aug 2001 15:56:34 +0100 (BST)
Subject: [R] Problems with trying to print 'refman.pdf'
In-Reply-To: <OF96D8E4E4.9B26A56C-ON85256AB0.0047D6C9@cbis.com>
Message-ID: <Pine.LNX.4.31.0108221551470.15580-100000@gannet.stats>

On Wed, 22 Aug 2001 james.holtman at convergys.com wrote:

> When I try to print out the refman.pdf file of version 1.3.0 to an HP
> LaserJet 8000 PS printer, I get the error message "Error occurred while
> downloading a font. This document might not print correctly".  The document
> does not print correctly.  The index page looks fine on the monitor, but
> appear to print with a "Courier" type font that is squeezed to be
> proportitional.
>
> Has anyone else had this type of problem?

I don't.  Did you make the file yourself or get it from some distribution?
Either the system on which it was made or yours is broken (and you have
told us far too little about how you are viewing or converting it to PS
for me to guess).

Specifically, the file refman.pdf in the Windows 1.3.0 distribution views
and prints correctly to our LJ8000 using Acrobat 4.05 and 5.0 under
Windows 2000.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Wed Aug 22 17:01:23 2001
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Wed, 22 Aug 2001 11:01:23 -0400
Subject: [R] looking for a smarter way
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D428A7D@DASMTYJQF009>

It looks like you've solved this problem, but another nice solution is to
use the aggregate command as in:

xtap<-aggregate(xcmd[,1:5],list(xclu$clustering),var)

I'm not sure why R requires one to explicitly provide a list as the second
argument if the second arguement is a vector (this is not necessary in
SPLUS), but this is a minor issue....



-----Original Message-----
From: Grum, Mikkel [mailto:M.GRUM at CGIAR.ORG]
Sent: Tuesday, August 21, 2001 3:15 AM
To: R-help at lists.R-project.org
Subject: [R] looking for a smarter way


I have two problems where I've come up with some code that will do the
analysis that I want, but it looks pretty clumsy.  In the first case, I
calculate the variance on five different columns for each of 14 clusters and
get them into one matrix.  I get the job done, but I would have thought that
it could be done in one or two lines, not six, and be generalized so that it
didn't matter how many columns I had.  Any suggestions?

xtap1<-tapply(xcmd[,1],xclu$clustering,var)
xtap2<-tapply(xcmd[,2],xclu$clustering,var)
xtap3<-tapply(xcmd[,3],xclu$clustering,var)
xtap4<-tapply(xcmd[,4],xclu$clustering,var)
xtap5<-tapply(xcmd[,5],xclu$clustering,var)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5)


The next example is somewhat similar, but I'm trying to calculate a
Shannon-weaver information index for each cluster based on the proportion of
objects with each "local.name".  I start by tabulating the frequency of
presence of each local.name in each cluster.  The code does what I want, but
I have other examples where I have hundreds of clusters and I would prefer
not to have to type in a line for each cluster.  Again, there must be a way
and I would appreciate any suggestions:

xtab<-table(x$LOCAL.NAME,xclu$clustering)
xshw1<--sum((xtab[,1]+0.000001)/sum(xtab[,1])*(log((xtab[,1]+0.000001)/sum(x
tab[,1]))))
xshw2<--sum((xtab[,2]+0.000001)/sum(xtab[,2])*(log((xtab[,2]+0.000001)/sum(x
tab[,2]))))
xshw3<--sum((xtab[,3]+0.000001)/sum(xtab[,3])*(log((xtab[,3]+0.000001)/sum(x
tab[,3]))))
xshw4<--sum((xtab[,4]+0.000001)/sum(xtab[,4])*(log((xtab[,4]+0.000001)/sum(x
tab[,4]))))
xshw5<--sum((xtab[,5]+0.000001)/sum(xtab[,5])*(log((xtab[,5]+0.000001)/sum(x
tab[,5]))))
xshw6<--sum((xtab[,6]+0.000001)/sum(xtab[,6])*(log((xtab[,6]+0.000001)/sum(x
tab[,6]))))
xshw7<--sum((xtab[,7]+0.000001)/sum(xtab[,7])*(log((xtab[,7]+0.000001)/sum(x
tab[,7]))))
xshw8<--sum((xtab[,8]+0.000001)/sum(xtab[,8])*(log((xtab[,8]+0.000001)/sum(x
tab[,8]))))
xshw9<--sum((xtab[,9]+0.000001)/sum(xtab[,9])*(log((xtab[,9]+0.000001)/sum(x
tab[,9]))))
xshw10<--sum((xtab[,10]+0.000001)/sum(xtab[,10])*(log((xtab[,10]+0.000001)/s
um(xtab[,10]))))
xshw11<--sum((xtab[,11]+0.000001)/sum(xtab[,11])*(log((xtab[,11]+0.000001)/s
um(xtab[,11]))))
xshw12<--sum((xtab[,12]+0.000001)/sum(xtab[,12])*(log((xtab[,12]+0.000001)/s
um(xtab[,12]))))
xshw13<--sum((xtab[,13]+0.000001)/sum(xtab[,13])*(log((xtab[,13]+0.000001)/s
um(xtab[,13]))))
xshw14<--sum((xtab[,14]+0.000001)/sum(xtab[,14])*(log((xtab[,14]+0.000001)/s
um(xtab[,14]))))
xshw<-rbind(xshw1,xshw2,xshw3,xshw4,xshw5,xshw6,xshw7,xshw8,xshw9,xshw10,xsh
w11,xshw12,xshw13,xshw14)
xtap<-cbind(xtap1,xtap2,xtap3,xtap4,xtap5,(xtapx<-(xtap1+xtap2+xtap3+xtap4+x
tap5)),xshw)


Thanks a lot in advance!!

Mikkel






Mikkel Grum, PhD
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
c/o ICRAF
PO Box 30677 Nairobi, Kenya
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Wed Aug 22 19:25:08 2001
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 22 Aug 2001 18:25:08 +0100
Subject: [R] limited formula length in tsls
Message-ID: <20010822182508.A16387@socrates-a.ucl.ac.uk>

Dear all,

Using the tsls package, I noticed that regression lists longer 
than 64 character
are getting truncated. Looking at the original source,

tsls.formula <- function(model, instruments, data, subset, weights,
    na.action, contrasts=NULL){
    if (missing(na.action)) 
        na.action <- options()$na.action
    m <- match.call(expand.dots = FALSE)
    if (is.matrix(eval(m$data, sys.frame(sys.parent())))) 
        m$data <- as.data.frame(data)
    m$formula <- model
    m$instruments <- m$model <- m$contrasts <- NULL
    m[[1]] <- as.name("model.frame")
    mf <- eval(m, sys.frame(sys.parent()))
    na.act <- attr(mf, "na.action")
    Z <- model.matrix(instruments, data, contrasts)
    response <- attr(attr(mf, "terms"), "response")
    y <- model.response(mf)
    X <- model.matrix(model, mf, contrasts)
    w <- model.weights(mf)
    if (missing(weights)) result <- tsls(y, X, Z, colnames(X))
    else result <- tsls.weighted(y, X, Z, w, colnames(X))
    result$formula <- model
    result$instruments <- instruments
    if (!is.null(na.act)) 
        result$na.action <- na.act
    class(result) <- "tsls"
    result
    }


I thought that the problem here is to handle the instruments correctly and
being consistent with the convention (?) regarding the single model object 
inside the function. Since I could not figure out, why the truncation occurs
(I tried as.character() and paste() in interactive mode, but nothing bad 
happened), I modified the source ad follows: 
   
 
tsls.formula <- function(model, instruments, data, subset, 
    na.action, contrasts=NULL){
    if (missing(na.action)) 
        na.action <- options()$na.action
    m <- match.call(expand.dots = FALSE)
    if (is.matrix(eval(m$data, sys.frame(sys.parent())))) 
        m$data <- as.data.frame(data)
    c1 <- as.character(model)
    c2 <- as.character(instruments)
    formula <- as.formula(paste(c1[2],c1[1],c1[3], '+', c2[2]))
    m$formula <- formula
    m$instruments <- m$model <- m$contrasts <- NULL
    m[[1]] <- as.name("model.frame")
    mf <- eval(m, sys.frame(sys.parent()))
    na.act <- attr(mf, "na.action")
    Z <- model.matrix(instruments, data = mf, contrasts)
    response <- attr(attr(mf, "terms"), "response")
    y <- mf[,response]
    X <- model.matrix(model, data=mf, contrasts)
    result <- tsls(y, X, Z, colnames(X))
    result$response.name <- c1[2]
    result$formula <- model
    result$instruments <- instruments
    if (!is.null(na.act)) 
        result$na.action <- na.act
    class(result) <- "tsls"
    result
    }

It works, but I feel that there is something wrong with it (although
it works fine so far). What?

Thank you,
Zsombor Cseres-Gergely 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stemarie at netrevolution.net  Wed Aug 22 21:49:56 2001
From: stemarie at netrevolution.net (Pierre-Philippe SteMarie)
Date: Wed, 22 Aug 2001 15:49:56 -0400
Subject: [R] php interface.
Message-ID: <NFBBKDBFDKGDHFKBHNHCKEIGCAAA.stemarie@netrevolution.net>

Dear Sir,

I am looking for a "R" "php" interface. Is there such a thing yet released?


Sincerely,

Pierre-Philippe Ste-Marie 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Aug 23 01:51:47 2001
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 22 Aug 2001 19:51:47 -0400
Subject: [R] limited formula length in tsls
In-Reply-To: <20010822182508.A16387@socrates-a.ucl.ac.uk>
Message-ID: <5.1.0.14.2.20010822192122.01bce5f0@mcmail.cis.mcmaster.ca>

Dear Zsombor,

I believe that tsls.formula is from my sem package. What you list as the 
"original source" and your modified version appear to be reversed.

The reason that the original version manipulates (somewhat awkwardly) the 
model and instrumental-variables formulas in character form to produce a 
combined formula is to insure that missing data get treated consistently; 
this will not be the case, I believe, in your modified version. (I note, by 
the way, that you seem to have added a function for weighted two-stage 
least-squares estimation.)

The source of the problem appears to be that when model formulas are 
translated into character, the right-hand-side of the model gets truncated 
at (I think) 68 characters. Consider the following example:

 > mod <- this ~ is + a + very + long + formula + with + a + very + large + 
number + of + characters
 > mod
this ~ is + a + very + long + formula + with + a + very + large +
     number + of + characters
 > as.character(mod)
[1] "~"
[2] "this"
[3] "is + a + very + long + formula + with + a + very + large + number + "
 >

Clearly, the current situation is unsatisfactory, but it's unclear to me 
what the best course of action is. A more elegant approach to treating the 
model formula and instruments consistently would solve the problem, but 
as.character should probably not truncate formulas.

John



At 06:25 PM 22/08/2001 +0100, Zsombor Cseres-Gergely wrote:
>Dear all,
>
>Using the tsls package, I noticed that regression lists longer
>than 64 character
>are getting truncated. Looking at the original source,
>
>tsls.formula <- function(model, instruments, data, subset, weights,
>     na.action, contrasts=NULL){
>     if (missing(na.action))
>         na.action <- options()$na.action
>     m <- match.call(expand.dots = FALSE)
>     if (is.matrix(eval(m$data, sys.frame(sys.parent()))))
>         m$data <- as.data.frame(data)
>     m$formula <- model
>     m$instruments <- m$model <- m$contrasts <- NULL
>     m[[1]] <- as.name("model.frame")
>     mf <- eval(m, sys.frame(sys.parent()))
>     na.act <- attr(mf, "na.action")
>     Z <- model.matrix(instruments, data, contrasts)
>     response <- attr(attr(mf, "terms"), "response")
>     y <- model.response(mf)
>     X <- model.matrix(model, mf, contrasts)
>     w <- model.weights(mf)
>     if (missing(weights)) result <- tsls(y, X, Z, colnames(X))
>     else result <- tsls.weighted(y, X, Z, w, colnames(X))
>     result$formula <- model
>     result$instruments <- instruments
>     if (!is.null(na.act))
>         result$na.action <- na.act
>     class(result) <- "tsls"
>     result
>     }
>
>
>I thought that the problem here is to handle the instruments correctly and
>being consistent with the convention (?) regarding the single model object
>inside the function. Since I could not figure out, why the truncation occurs
>(I tried as.character() and paste() in interactive mode, but nothing bad
>happened), I modified the source ad follows:
>
>
>tsls.formula <- function(model, instruments, data, subset,
>     na.action, contrasts=NULL){
>     if (missing(na.action))
>         na.action <- options()$na.action
>     m <- match.call(expand.dots = FALSE)
>     if (is.matrix(eval(m$data, sys.frame(sys.parent()))))
>         m$data <- as.data.frame(data)
>     c1 <- as.character(model)
>     c2 <- as.character(instruments)
>     formula <- as.formula(paste(c1[2],c1[1],c1[3], '+', c2[2]))
>     m$formula <- formula
>     m$instruments <- m$model <- m$contrasts <- NULL
>     m[[1]] <- as.name("model.frame")
>     mf <- eval(m, sys.frame(sys.parent()))
>     na.act <- attr(mf, "na.action")
>     Z <- model.matrix(instruments, data = mf, contrasts)
>     response <- attr(attr(mf, "terms"), "response")
>     y <- mf[,response]
>     X <- model.matrix(model, data=mf, contrasts)
>     result <- tsls(y, X, Z, colnames(X))
>     result$response.name <- c1[2]
>     result$formula <- model
>     result$instruments <- instruments
>     if (!is.null(na.act))
>         result$na.action <- na.act
>     class(result) <- "tsls"
>     result
>     }
>
>It works, but I feel that there is something wrong with it (although
>it works fine so far). What?
>
>Thank you,
>Zsombor Cseres-Gergely
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Aug 23 08:43:54 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 23 Aug 2001 08:43:54 +0200
Subject: [R] multiple correlation?
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D8527B@arcss07.arcs.ac.at>

I'm looking for a function for the 'multiple correlation' but can not figure
out what it is called in R by using the html search function. Maybe it is
called in another way in english? I only know the german term?
Can anyone help me?

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 08:53:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Aug 2001 07:53:59 +0100 (BST)
Subject: [R] limited formula length in tsls
In-Reply-To: <5.1.0.14.2.20010822192122.01bce5f0@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.GSO.4.31.0108230738040.116-100000@auk.stats>

On Wed, 22 Aug 2001, John Fox wrote:

> Dear Zsombor,
>
> I believe that tsls.formula is from my sem package. What you list as the
> "original source" and your modified version appear to be reversed.

The `tsls package' had me confused ...

> The reason that the original version manipulates (somewhat awkwardly) the
> model and instrumental-variables formulas in character form to produce a
> combined formula is to insure that missing data get treated consistently;
> this will not be the case, I believe, in your modified version. (I note, by
> the way, that you seem to have added a function for weighted two-stage
> least-squares estimation.)
>
> The source of the problem appears to be that when model formulas are
> translated into character, the right-hand-side of the model gets truncated
> at (I think) 68 characters. Consider the following example:
>
>  > mod <- this ~ is + a + very + long + formula + with + a + very + large +
> number + of + characters
>  > mod
> this ~ is + a + very + long + formula + with + a + very + large +
>      number + of + characters
>  > as.character(mod)
> [1] "~"
> [2] "this"
> [3] "is + a + very + long + formula + with + a + very + large + number + "
>  >
>
> Clearly, the current situation is unsatisfactory, but it's unclear to me
> what the best course of action is. A more elegant approach to treating the
> model formula and instruments consistently would solve the problem, but
> as.character should probably not truncate formulas.

as.character is not the best tool for formulae.  Use deparse:

> deparse(mod)
[1] "this ~ is + a + very + long + formula + with + a + very + large + "
[2] "    number + of + characters"

say via

paste(deparse(mod, 500), collapse="")

which will cope with arbitrary long formulae.

The cutoff limit is 500, and a trivial change to the internals of
as.character (which I have just made for 1.3.1) increases the cutoff from
60 to 500. Nevertheless. paste(deparse(mod, 500), collapse="") remains
better.

[...]

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Thu Aug 23 11:08:18 2001
From: ozric at web.de (C. Schulz)
Date: Thu, 23 Aug 2001 11:08:18 +0200
Subject: [R] Missing Values from Spss-Data
Message-ID: <200108230908.f7N98G313215@mailgate3.cinetic.de>

Hello,
i'm a newbie of the really fantastic "R" , but have some
problems to define Missing Values from Spss-Files which i import
with the read.spss(data) command !

What should i do to recode i.e. the values 9,99 & 999 to NA.
Something like this

x <- c(9,99,999,NA)
x==NA

...do  not what i want, because the data.frame show
the values 9,99 & 999 and not NA in this fields ?

P.S. Perhaps is it easier to define all Missing Values in
SPSS to
SYSMIS so that i have got a blank and R automatically
define's NA to the blanks ???

Best thanks for advance
and regards, christian









_______________________________________________________________________
1.000.000 DM gewinnen - kostenlos tippen - http://millionenklick.web.de
IhrName at web.de, 8MB Speicher, Verschluesselung - http://freemail.web.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lieske at stat.uni-muenchen.de  Thu Aug 23 09:43:50 2001
From: lieske at stat.uni-muenchen.de (Nina Lieske)
Date: Thu, 23 Aug 2001 09:43:50 +0200
Subject: [R] difficulies with boxplot
Message-ID: <3B84B436.31C31694@stat.uni-muenchen.de>

Dear list,

sorry for bothering you with a probably simple question... I searched
the archive but couldn't find the right answer.

I have computed  upper and lower bounds of  a region and would like to
plot them in a boxplot. My problem is now to get the two boxplots in the
same graphic so that the boxplot of the upper bounds is directly on top
of the boxplot of the lower bounds. The reason I don't want to have them
next to each other is that I have another  "grouping" variable. I tried
"add" but didn't succeed.

I'm using R 0.64.2 on Windows NT.

Thanks for your help,
Nina Lieske

--
Das Recht auf Dummheit geh?rt zur Garantie der freien Entfaltung der
Pers?nlichkeit. [Mark Twain]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 09:39:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Aug 2001 08:39:29 +0100 (GMT Daylight Time)
Subject: [R] Missing Values from Spss-Data
In-Reply-To: <200108230908.f7N98G313215@mailgate3.cinetic.de>
Message-ID: <Pine.WNT.4.31.0108230838340.1128-100000@tern.stats>

On Thu, 23 Aug 2001, C. Schulz wrote:

> Hello,
> i'm a newbie of the really fantastic "R" , but have some
> problems to define Missing Values from Spss-Files which i import
> with the read.spss(data) command !
>
> What should i do to recode i.e. the values 9,99 & 999 to NA.
> Something like this
>
> x <- c(9,99,999,NA)
> x==NA

x[x %in c(9,99,999)] <- NA

>
> ...do  not what i want, because the data.frame show
> the values 9,99 & 999 and not NA in this fields ?
>
> P.S. Perhaps is it easier to define all Missing Values in
> SPSS to
> SYSMIS so that i have got a blank and R automatically
> define's NA to the blanks ???
>
> Best thanks for advance
> and regards, christian
>
>
>
>
>
>
>
>
>
> _______________________________________________________________________
> 1.000.000 DM gewinnen - kostenlos tippen - http://millionenklick.web.de
> IhrName at web.de, 8MB Speicher, Verschluesselung - http://freemail.web.de
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Aug 23 10:01:42 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 23 Aug 2001 10:01:42 +0200 (MEST)
Subject: [R] Missing Values from Spss-Data
In-Reply-To: <200108230908.f7N98G313215@mailgate3.cinetic.de>
Message-ID: <Pine.LNX.4.21.0108230958190.28984-100000@artemis.imbe.med.uni-erlangen.de>

On Thu, 23 Aug 2001, C. Schulz wrote:

> Hello,
> i'm a newbie of the really fantastic "R" , but have some
> problems to define Missing Values from Spss-Files which i import
> with the read.spss(data) command !
> 
> What should i do to recode i.e. the values 9,99 & 999 to NA.
> Something like this
> 
> x <- c(9,99,999,NA)
> x==NA

is.na(x) is better and recoding can be done using

x[x == 9] <- NA, in summary

R> x <- c(9,99,999,NA) 
R> is.na(x)
[1] FALSE FALSE FALSE  TRUE
R> x[x == 9] <- NA
R> is.na(x)
[1]  TRUE FALSE FALSE  TRUE

Torsten

> 
> ...do  not what i want, because the data.frame show
> the values 9,99 & 999 and not NA in this fields ?
> 
> P.S. Perhaps is it easier to define all Missing Values in
> SPSS to
> SYSMIS so that i have got a blank and R automatically
> define's NA to the blanks ???
> 
> Best thanks for advance
> and regards, christian
> 
> 
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________________________________
> 1.000.000 DM gewinnen - kostenlos tippen - http://millionenklick.web.de
> IhrName at web.de, 8MB Speicher, Verschluesselung - http://freemail.web.de
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Thu Aug 23 11:00:45 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Thu, 23 Aug 2001 03:00:45 -0600
Subject: [R] multiple correlation?
References: <D16B18FFF743D311A9CA0090275F3CB003D8527B@arcss07.arcs.ac.at>
Message-ID: <001401c12bb2$18471810$be56e43f@91qez>

----- Original Message -----
From: "Pesl Thomas" <thomas.pesl at arcs.ac.at

> I'm looking for a function for the 'multiple correlation' but can not
figure
> out what it is called in R by using the html search function. Maybe it is
> called in another way in english? I only know the german term?
> Can anyone help me?
>
> Thomas Pesl

Here is one way you could do it.

data(longley)
mod <- lm(GNP.deflator~GNP+Employed,data=longley)
sqrt(summary(mod)$r.squared)

-Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.frias at ucc.ie  Thu Aug 23 11:33:47 2001
From: j.frias at ucc.ie (Frias, Jesus)
Date: Thu, 23 Aug 2001 10:33:47 +0100
Subject: [R] difficulies with boxplot
Message-ID: <F64493091FAC4D4DAC46261FEC1967990A313B@xch4.ucc.ie>

Hi Nina,

	I just happened to be making a very similar plot last week. You
should limit your plotting region in the first boxplot that you make using
ylim and then make the second boxplot using the option add=T. The way I did
my plot was (I hope is of use for your own one):
 
boxplot(ntr~Temp,data=trpo4.sel,col="orange",at=c(1,2,3,4,5),ylab="log(-log(
n/no))-log(Time)",xlab="Temperature (C)",ylim=c(-2,0.5))
boxplot(ntr~Temp,data=cappo4.sel2,col="yellow",add=T,at=c(1,3,4,5),pch=5)
legend(3, -1.5, c("Capillar", "Thermorresistometer"),fill = c("yellow",
"orange"))

the different "at" there is because I lack one level of the study in the
second dataset.

Last but not least you should update your version of R. I think that one is
quite old.


cheers,

IOsu

-----Original Message-----
From: Nina Lieske
To: r-help at stat.math.ethz.ch
Sent: 8/23/01 8:43 AM
Subject: [R] difficulies with boxplot

Dear list,

sorry for bothering you with a probably simple question... I searched
the archive but couldn't find the right answer.

I have computed  upper and lower bounds of  a region and would like to
plot them in a boxplot. My problem is now to get the two boxplots in the
same graphic so that the boxplot of the upper bounds is directly on top
of the boxplot of the lower bounds. The reason I don't want to have them
next to each other is that I have another  "grouping" variable. I tried
"add" but didn't succeed.

I'm using R 0.64.2 on Windows NT.

Thanks for your help,
Nina Lieske

--
Das Recht auf Dummheit geh?rt zur Garantie der freien Entfaltung der
Pers?nlichkeit. [Mark Twain]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Thu Aug 23 10:38:31 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Thu, 23 Aug 2001 10:38:31 BST
Subject: [R] SAS Export datasets alfalfa.xpt and test.xpt
Message-ID: <717404F3B7B@fs2.ma.man.ac.uk>

The above came with V1.2.3, but don't seem to be included with 
V1.3.0.  When I upgraded R, I assumed they would also come with the 
new version, so didn't save them elsewhere.

Could someone please email them to me, or tell me where I could  get 
hold of them?

Many thanks in advance.


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Aug 23 11:43:29 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 23 Aug 2001 05:43:29 -0400 (EDT)
Subject: [R] multiple correlation?
Message-ID: <200108230943.f7N9hTL07462@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Thu Aug 23 03:32:40 2001
>
>I'm looking for a function for the 'multiple correlation' but can not figure
>out what it is called in R by using the html search function. Maybe it is
>called in another way in english? I only know the german term?
>Can anyone help me?
>
>Thomas Pesl

The multiple corrlelation (as I learned it) is the square root of
R squared.  So, for example, the multiple correlation for
predicting y1 from x1, x2, and x3 is

sqrt(summary(lm(y1 ~ x1 + x2 + x3))$r.sq)

r.sq is an available property of summary(lm()), but not, apparently
of lm() itself.

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Thu Aug 23 11:50:54 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Thu, 23 Aug 2001 02:50:54 -0700 (PDT)
Subject: [R] commercial usage 
Message-ID: <20010823095054.65751.qmail@web20101.mail.yahoo.com>

Hi 

 I am new user of R. I came to know it is a GNU
General public License software like Linux. Does any
one know of literature evidence of 'R'( not S-plus)
usage for Commercial purposes or R being used by any
Government organisation.


srinivas 

__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Thu Aug 23 12:06:26 2001
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Thu, 23 Aug 2001 11:06:26 +0100
Subject: [R] limited formula length in tsls
In-Reply-To: <Pine.GSO.4.31.0108230738040.116-100000@auk.stats>; from ripley@stats.ox.ac.uk on Thu, Aug 23, 2001 at 07:53:59AM +0100
References: <5.1.0.14.2.20010822192122.01bce5f0@mcmail.cis.mcmaster.ca> <Pine.GSO.4.31.0108230738040.116-100000@auk.stats>
Message-ID: <20010823110626.A27063@socrates-a.ucl.ac.uk>

On Thu, Aug 23, 2001 at 07:53:59AM +0100, Prof Brian D Ripley wrote:
> 
> The `tsls package' had me confused ...

Sorry about this.

> > The reason that the original version manipulates (somewhat awkwardly) the
> > model and instrumental-variables formulas in character form to produce a
> > combined formula to insure that missing data is treated consistently

So I guess the answer to my other question (what is the problem with my
workaround?) is that it does not comply with this requirement.


[snip]


> as.character is not the best tool for formulae.  Use deparse:
> 
> > deparse(mod)
> [1] "this ~ is + a + very + long + formula + with + a + very + large + "
> [2] "    number + of + characters"
> 
> say via
> 
> paste(deparse(mod, 500), collapse="")
> 
> which will cope with arbitrary long formulae.

That is true but returns a string. The procedure, however wants to make use
of the structure that is returned by as.character (or paste, through the former)
when applied to a formula: [1] is tilde [2] is response [3] is covariates. If
I use paste(deparse(...) ...) the structure is lost. I could probably get it
back (do not know, how), but that sounds like reinventing the wheel. I tried
to figure out, who does the magic: printing just the argument results a string,
but after using as.character, the structure appears. Looking at the C source,
I got lost, I must admit.

> The cutoff limit is 500, and a trivial change to the internals of
> as.character (which I have just made for 1.3.1) increases the cutoff from
> 60 to 500. Nevertheless. paste(deparse(mod, 500), collapse="") remains
> better.

Is in necessary to have an arbitrary limit? I do not know anything about C
(or any) programming, but the Hurd (for example) runs without a maximal path-
name length defined and R conformes to this.

Thank you,
Zsombor


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Aug 23 12:12:14 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 23 Aug 2001 12:12:14 +0200
Subject: [R] difficulies with boxplot
Message-ID: <3.0.32.20010823121214.00901a80@162.38.183.200>

At 09:43 23/08/01 +0200, you wrote:
>Dear list,
>
>sorry for bothering you with a probably simple question... I searched
>the archive but couldn't find the right answer.
>
>I have computed  upper and lower bounds of  a region and would like to
>plot them in a boxplot. My problem is now to get the two boxplots in the
>same graphic so that the boxplot of the upper bounds is directly on top
>of the boxplot of the lower bounds. The reason I don't want to have them
>next to each other is that I have another  "grouping" variable. I tried
>"add" but didn't succeed.
>
>I'm using R 0.64.2 on Windows NT.

You should definitely install R-1.3.0!

For your problem, I suggest you set par(new=TRUE) after drawing your first
plot; for instance:

> x <- rnorm(40)
> y <- rnorm(40, mean=5)
> ff <- gl(2, 20)
> boxplot(x ~ ff, ylim=c(-3, 8))
> par(new=TRUE)
> boxplot(y ~ ff, ylim=c(-3, 8), axes=FALSE)

taking care to set ylim the same in both calls of boxplot().

Emmanuel Paradis

>Thanks for your help,
>Nina Lieske
>
>--
>Das Recht auf Dummheit geh?rt zur Garantie der freien Entfaltung der
>Pers?nlichkeit. [Mark Twain]
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 12:34:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 23 Aug 2001 11:34:58 +0100 (BST)
Subject: [R] limited formula length in tsls
In-Reply-To: <20010823110626.A27063@socrates-a.ucl.ac.uk>
Message-ID: <Pine.LNX.4.31.0108231127410.27780-100000@gannet.stats>

On Thu, 23 Aug 2001, Zsombor Cseres-Gergely wrote:

> On Thu, Aug 23, 2001 at 07:53:59AM +0100, Prof Brian D Ripley wrote:
> >
> > The `tsls package' had me confused ...
>
> Sorry about this.
>
> > > The reason that the original version manipulates (somewhat awkwardly) the
> > > model and instrumental-variables formulas in character form to produce a
> > > combined formula to insure that missing data is treated consistently
>
> So I guess the answer to my other question (what is the problem with my
> workaround?) is that it does not comply with this requirement.
>
>
> [snip]
>
>
> > as.character is not the best tool for formulae.  Use deparse:
> >
> > > deparse(mod)
> > [1] "this ~ is + a + very + long + formula + with + a + very + large + "
> > [2] "    number + of + characters"
> >
> > say via
> >
> > paste(deparse(mod, 500), collapse="")
> >
> > which will cope with arbitrary long formulae.
>
> That is true but returns a string. The procedure, however wants to make use
> of the structure that is returned by as.character (or paste, through the former)
> when applied to a formula: [1] is tilde [2] is response [3] is covariates. If
> I use paste(deparse(...) ...) the structure is lost. I could probably get it
> back (do not know, how), but that sounds like reinventing the wheel. I tried
> to figure out, who does the magic: printing just the argument results a string,
> but after using as.character, the structure appears. Looking at the C source,
> I got lost, I must admit.

If you want the rhs, paste(deparse(mod[[3]], 500), collapse="") is what
you want.  Do using indexing on the object itself, not on some dump of it.

> > The cutoff limit is 500, and a trivial change to the internals of
> > as.character (which I have just made for 1.3.1) increases the cutoff from
> > 60 to 500. Nevertheless. paste(deparse(mod, 500), collapse="") remains
> > better.
>
> Is in necessary to have an arbitrary limit? I do not know anything about C
> (or any) programming, but the Hurd (for example) runs without a maximal path-
> name length defined and R conformes to this.

No, and you could write a patch to remove the limit ....
It's much easier to have simple limits, and the tools that the cognescenti
would use here do work without limits.

For what it is worth, S would give you

[1] " ~ "
[2] "this"
[3] "is + a + very + long + formula + with + a + very + large + number +
of + \n\tcharacters"

which is reasonable, but not what you wanted.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 12:39:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 23 Aug 2001 11:39:31 +0100 (BST)
Subject: [R] SAS Export datasets alfalfa.xpt and test.xpt
In-Reply-To: <717404F3B7B@fs2.ma.man.ac.uk>
Message-ID: <Pine.LNX.4.31.0108231136160.27780-100000@gannet.stats>

On Thu, 23 Aug 2001, Dr. Stephan Martin Rudolfer wrote:

> The above came with V1.2.3, but don't seem to be included with

I am pretty sure they were not in R 1.2.3.  They were in the sources for
the foreign package. They still are.  As they are in the tests directory
now, they are not installed.

> V1.3.0.  When I upgraded R, I assumed they would also come with the
> new version, so didn't save them elsewhere.
>
> Could someone please email them to me, or tell me where I could  get
> hold of them?

Get foreign_0.4-6.tar.gz from cran:

-rw-r--r-- ripley/bdr     3520 2001-03-23 16:15 foreign/tests/Alfalfa.xpt
-rw-r--r-- ripley/bdr     1280 2001-03-23 16:15 foreign/tests/test.xpt


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Thu Aug 23 12:46:02 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Thu, 23 Aug 2001 12:46:02 BST
Subject: [R] SAS Export datasets alfalfa.xpt and test.xpt
In-Reply-To: <Pine.LNX.4.31.0108231136160.27780-100000@gannet.stats>
References: <717404F3B7B@fs2.ma.man.ac.uk>
Message-ID: <719609107D2@fs2.ma.man.ac.uk>

Many thanks!


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Aug 23 14:46:25 2001
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 23 Aug 2001 08:46:25 -0400
Subject: [R] limited formula length in tsls
In-Reply-To: <Pine.GSO.4.31.0108230738040.116-100000@auk.stats>
References: <5.1.0.14.2.20010822192122.01bce5f0@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20010823083549.01c1e7e0@mcmail.cis.mcmaster.ca>

Dear Brian,

At 07:53 AM 23/08/2001 +0100, Prof Brian D Ripley wrote:

>On Wed, 22 Aug 2001, John Fox wrote:
>. . .
> >
> > Clearly, the current situation is unsatisfactory, but it's unclear to me
> > what the best course of action is. A more elegant approach to treating the
> > model formula and instruments consistently would solve the problem, but
> > as.character should probably not truncate formulas.
>
>as.character is not the best tool for formulae.  Use deparse:
>
> > deparse(mod)
>[1] "this ~ is + a + very + long + formula + with + a + very + large + "
>[2] "    number + of + characters"
>
>say via
>
>paste(deparse(mod, 500), collapse="")
>
>which will cope with arbitrary long formulae.
>
>The cutoff limit is 500, and a trivial change to the internals of
>as.character (which I have just made for 1.3.1) increases the cutoff from
>60 to 500. Nevertheless. paste(deparse(mod, 500), collapse="") remains
>better.

Thank you for the suggestion. I've attached a modified tsls.formula, which 
I'll include in the next version of the sem package. A few functions in my 
car package do similar formula manipulation, and these too need to be 
changed to avoid problems with long formulas.

Regards,
  John

------------- snip ------------------

tsls.formula <- function(model, instruments, data, subset,
     na.action, contrasts=NULL){
     if (missing(na.action))
         na.action <- options()$na.action
     m <- match.call(expand.dots = FALSE)
     if (is.matrix(eval(m$data, sys.frame(sys.parent()))))
         m$data <- as.data.frame(data)
     c1 <- unlist(strsplit(paste(deparse(model, width.cutoff=500),
         collapse=""),'~'))
     c2 <- unlist(strsplit(paste(deparse(instruments, width.cutoff=500),
         collapse=""),'~'))
     formula <- as.formula(paste(c1[1], '~', c1[2], '+', c2[2]))
     m$formula <- formula
     m$instruments <- m$model <- m$contrasts <- NULL
     m[[1]] <- as.name("model.frame")
     mf <- eval(m, sys.frame(sys.parent()))
     na.act <- attr(mf, "na.action")
     Z <- model.matrix(instruments, data = mf, contrasts)
     response <- attr(attr(mf, "terms"), "response")
     y <- mf[,response]
     X <- model.matrix(model, data=mf, contrasts)
     result <- tsls(y, X, Z, colnames(X))
     result$response.name <- c1[1]
     result$formula <- model
     result$instruments <- instruments
     if (!is.null(na.act))
         result$na.action <- na.act
     class(result) <- "tsls"
     result
     }



-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h_m_ at po.harenet.ne.jp  Thu Aug 23 14:48:25 2001
From: h_m_ at po.harenet.ne.jp (Hiroto Miyoshi)
Date: Thu, 23 Aug 2001 21:48:25 +0900
Subject: [R] Is AIC in glm right?
Message-ID: <000b01c12bd1$e9bb25c0$7145a7d2@p99112913>

Could anyone help me?
I am doing a regression analysis using glm.
and the glm function gives AIC at the end of 
the output.  However, the AIC value the function
gives does not seem right.  The details of my 
analysis goes as follows.

 > x
     y  x z
1  325  2 1
2  275  4 0
3  350  4 1
4  400  6 1
5  325  7 0
6  425  8 1
7  375 10 0
8  475 10 1
9  400 12 0
10 575 12 1
11 425 14 0
12 450 16 0
13 700 17 1
14 525 18 0
15 600 20 0
16 750 20 1
17 650 22 0
18 775 23 1
19 675 24 0
20 825 26 1

> glm(x$y~x$x+x$z)

Call:  glm(formula = x$y ~ x$x + x$z) 

Coefficients:
(Intercept)          x$x          x$z  
     148.82        21.85       131.51  

Degrees of Freedom: 19 Total (i.e. Null);  17 Residual
Null Deviance:      533000 
Residual Deviance: 13350        AIC: 194.8 

> a<-residuals(glm(x$y~x$x+x$z))
> sum(a*a)
[1] 13347.96
> 

Now, since sum of squares of residuals of the regression 
is 133347.96, should AIC be 136.068, 
i.e. 20*ln(13348/20)+2*3?

Could someone help me?
Thank you.
---------------------------
Hiroto Miyoshi???????
h_m_ at po.harenet.ne.jp



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h_m_ at po.harenet.ne.jp  Thu Aug 23 14:51:59 2001
From: h_m_ at po.harenet.ne.jp (Hiroto Miyoshi)
Date: Thu, 23 Aug 2001 21:51:59 +0900
Subject: [R] Is AIC in glm right?
Message-ID: <002001c12bd2$65e02740$7145a7d2@p99112913>



> Could anyone help me?
> I am doing a regression analysis using glm.
> and the glm function gives AIC at the end of 
> the output.  However, the AIC value the function
> gives does not seem right.  The details of my 
> analysis goes as follows.
> 
>  > x
>      y  x z
> 1  325  2 1
> 2  275  4 0
> 3  350  4 1
> 4  400  6 1
> 5  325  7 0
> 6  425  8 1
> 7  375 10 0
> 8  475 10 1
> 9  400 12 0
> 10 575 12 1
> 11 425 14 0
> 12 450 16 0
> 13 700 17 1
> 14 525 18 0
> 15 600 20 0
> 16 750 20 1
> 17 650 22 0
> 18 775 23 1
> 19 675 24 0
> 20 825 26 1
> 
> > glm(x$y~x$x+x$z)
> 
> Call:  glm(formula = x$y ~ x$x + x$z) 
> 
> Coefficients:
> (Intercept)          x$x          x$z  
>      148.82        21.85       131.51  
> 
> Degrees of Freedom: 19 Total (i.e. Null);  17 Residual
> Null Deviance:      533000 
> Residual Deviance: 13350        AIC: 194.8 
> 
> > a<-residuals(glm(x$y~x$x+x$z))
> > sum(a*a)
> [1] 13347.96
> > 
> 
> Now, since sum of squares of residuals of the regression 
> is 133347.96, should AIC be 136.068, 
> i.e. 20*ln(13348/20)+2*3?
> 
> Could someone help me?
> Thank you.
> ---------------------------
> Hiroto Miyoshi???????
> h_m_ at po.harenet.ne.jp
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Thu Aug 23 14:13:11 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Thu, 23 Aug 2001 14:13:11 BST
Subject: [R] Reading of a large SAS Export dataset
Message-ID: <71AD48E090F@fs2.ma.man.ac.uk>

I am trying to read in a large SAS dataset (1706 observations, 72 
variables)  using the foreign package.

R crashes, with the error message "This program has performed an 
illegal operation and will be shut down."  The details given include
"RGUI caused an invalid page fault in module FOREIGN.DLL at 
015f:14c327e7."

Bearing in mind the statement on p.2 of the R Data Import/Export 
document, "In general, statistical systems like R are not 
particularly well suited to manipulations of large-scale data," I 
must reluctantly conclude that my dataset is too large to be 
handled by R.

Confirmation of this would save me a lot of time spent in futile 
further attempts at achieving the impossible.

Many thanks again in advance.


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 15:45:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 23 Aug 2001 14:45:58 +0100 (BST)
Subject: [R] Is AIC in glm right?
In-Reply-To: <000b01c12bd1$e9bb25c0$7145a7d2@p99112913>
Message-ID: <Pine.LNX.4.31.0108231441030.28041-100000@gannet.stats>

On Thu, 23 Aug 2001, Hiroto Miyoshi wrote:

> Could anyone help me?
> I am doing a regression analysis using glm.
> and the glm function gives AIC at the end of
> the output.  However, the AIC value the function
> gives does not seem right.  The details of my
> analysis goes as follows.
>
>  > x
>      y  x z
> 1  325  2 1
> 2  275  4 0
> 3  350  4 1
> 4  400  6 1
> 5  325  7 0
> 6  425  8 1
> 7  375 10 0
> 8  475 10 1
> 9  400 12 0
> 10 575 12 1
> 11 425 14 0
> 12 450 16 0
> 13 700 17 1
> 14 525 18 0
> 15 600 20 0
> 16 750 20 1
> 17 650 22 0
> 18 775 23 1
> 19 675 24 0
> 20 825 26 1
>
> > glm(x$y~x$x+x$z)
>
> Call:  glm(formula = x$y ~ x$x + x$z)
>
> Coefficients:
> (Intercept)          x$x          x$z
>      148.82        21.85       131.51
>
> Degrees of Freedom: 19 Total (i.e. Null);  17 Residual
> Null Deviance:      533000
> Residual Deviance: 13350        AIC: 194.8
>
> > a<-residuals(glm(x$y~x$x+x$z))
> > sum(a*a)
> [1] 13347.96
> >
>
> Now, since sum of squares of residuals of the regression
> is 133347.96, should AIC be 136.068,
> i.e. 20*ln(13348/20)+2*3?

Why do you think so?  AIC is -2*loglik + 2*#pars.  The loglikelihood is
not - n*log(RSS/n).  Even though likelihoods are technically only defined
up to a constant factor, there is a conventional factor which R uses and
you have forgotten.

For the code itself:

gaussian()$aic
function (y, n, mu, wt, dev)
sum(wt) * (log(dev/sum(wt) * 2 * pi) + 1) + 2

(the 2*#pars gets added later).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 15:51:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 23 Aug 2001 14:51:26 +0100 (BST)
Subject: [R] Reading of a large SAS Export dataset
In-Reply-To: <71AD48E090F@fs2.ma.man.ac.uk>
Message-ID: <Pine.LNX.4.31.0108231446210.28041-100000@gannet.stats>

On Thu, 23 Aug 2001, Dr. Stephan Martin Rudolfer wrote:

> I am trying to read in a large SAS dataset (1706 observations, 72
> variables)  using the foreign package.
>
> R crashes, with the error message "This program has performed an
> illegal operation and will be shut down."  The details given include
> "RGUI caused an invalid page fault in module FOREIGN.DLL at
> 015f:14c327e7."
>
> Bearing in mind the statement on p.2 of the R Data Import/Export
> document, "In general, statistical systems like R are not
> particularly well suited to manipulations of large-scale data," I
> must reluctantly conclude that my dataset is too large to be
> handled by R.
>
> Confirmation of this would save me a lot of time spent in futile
> further attempts at achieving the impossible.

That's not a large data set: it would be with a million rows
(nad we have datasets that size).

Package foreign is somewhat fragile, but do you have the latest version
(which is not that in 1.3.0)?  Try update.packages(), as the previous tow
versions had serious memory-allocation bugs.  If the problem persists, try
the advice about dumping to a text file ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Aug 23 16:55:30 2001
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 23 Aug 2001 10:55:30 -0400
Subject: [R] limited formula length in tsls
In-Reply-To: <Pine.LNX.4.31.0108231127410.27780-100000@gannet.stats>
References: <20010823110626.A27063@socrates-a.ucl.ac.uk>
Message-ID: <5.1.0.14.2.20010823104942.01bda050@mcmail.cis.mcmaster.ca>

Dear Brian,

At 11:34 AM 23/08/2001 +0100, Prof Brian Ripley wrote:


>If you want the rhs, paste(deparse(mod[[3]], 500), collapse="") is what
>you want.  Do using indexing on the object itself, not on some dump of it.

This comment applies to my proposed code as well, so a better version would be:

tsls.formula <- function(model, instruments, data, subset,
     na.action, contrasts=NULL){
     if (missing(na.action))
         na.action <- options()$na.action
     m <- match.call(expand.dots = FALSE)
     if (is.matrix(eval(m$data, sys.frame(sys.parent()))))
         m$data <- as.data.frame(data)
     response.name <- deparse(model[[2]])
     formula <- as.formula(paste(response.name, '~',
         deparse(model[[3]]), '+', deparse(instruments[[2]])))
     m$formula <- formula
     m$instruments <- m$model <- m$contrasts <- NULL
     m[[1]] <- as.name("model.frame")
     mf <- eval(m, sys.frame(sys.parent()))
     na.act <- attr(mf, "na.action")
     Z <- model.matrix(instruments, data = mf, contrasts)
     response <- attr(attr(mf, "terms"), "response")
     y <- mf[,response]
     X <- model.matrix(model, data=mf, contrasts)
     result <- tsls(y, X, Z, colnames(X))
     result$response.name <- response.name
     result$formula <- model
     result$instruments <- instruments
     if (!is.null(na.act))
         result$na.action <- na.act
     class(result) <- "tsls"
     result
     }

Still better, I think, would be to write some utility functions that 
manipulate model formulas more transparently.

Thanks, again, for the help.

John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug 23 17:42:52 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 23 Aug 2001 08:42:52 -0700 (PDT)
Subject: [R] commercial usage 
In-Reply-To: <20010823095054.65751.qmail@web20101.mail.yahoo.com>
Message-ID: <Pine.A41.4.33.0108230814520.135314-100000@homer05.u.washington.edu>

On Thu, 23 Aug 2001, srinivasa raghavan wrote:

> Hi
>
>  I am new user of R. I came to know it is a GNU
> General public License software like Linux. Does any
> one know of literature evidence of 'R'( not S-plus)
> usage for Commercial purposes or R being used by any
> Government organisation.
>

Well, commercial and government organisations tend not to leave as much
literature evidence of what they are using.

However:
 1) The division of mathematical and information sciences of the
Australian government research organisation CSIRO clearly makes
some use of R since they have published an R package.

 2) The proceedings of the DSC 2001 conference, linked from the
`Publications' page at the R homepage show that R is used (as well as
being partly developed) at Bell Labs.

 3) Questions on the R mailing list and bug submissions suggest that it is
used at a number of corporations, eg Merck and Pfizer, but we don't know
how much or by how many people.

 4) The website http://www.medepi.org shows that the San Francisco
Department of Public Health uses R.

I know of other uses, but I don't know of literature evidence of them.

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.robinson at utoronto.ca  Thu Aug 23 17:41:49 2001
From: m.robinson at utoronto.ca (Mark Robinson)
Date: Thu, 23 Aug 2001 11:41:49 -0400
Subject: [R] location.m in R?
Message-ID: <3B85243D.A9844772@utoronto.ca>

Hi.

I'm looking for the robust M estimates comparable to "location.m" in
S-PLUS?

Alternatively, I guess I could use
> lqs(x~1)

But ... is "location.m" in a package?

Thanks,
M.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Thu Aug 23 17:50:24 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 23 Aug 2001 11:50:24 -0400
Subject: [R] Graphics culture
References: <71AD48E090F@fs2.ma.man.ac.uk>
Message-ID: <007501c12beb$53375a50$0c093586@STEVENS>

Dear Everybody,

Scatterplot matrices and lattice plots in S and R label respective axes on
alternate sides. I kind of like this, but one of my collaborators doesn't
like this feature. He is sort of a stick-in-the-mud when it comes to
something he has never seen before, and in his defense, I don't think I have
seen it before in any of our usual journals (e.g., Ecology, Journal of
Ecology, Ecology Letters, Science, Nature).

The primary merit to the alternate sides feature seems to be that it allows
more space around each axis label. The two problems seem to be that (1)
reviewers don't like unusual formatting, and (2) when examining the data you
often have to hunt for the axis label (these two problems are, obviously,
related).

I know I can specify label placement in S+, and I assume I can do so in R. I
am inclined, however, to go with the default (alternate side) approach,
because I trust in the wisdom of the R developers, and I like unusual, novel
things.

I will appreciate any opinions on this subject.

Henry

*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 19:08:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Aug 2001 18:08:45 +0100 (BST)
Subject: [R] location.m in R?
In-Reply-To: <3B85243D.A9844772@utoronto.ca>
Message-ID: <Pine.GSO.4.31.0108231806450.6282-100000@auk.stats>

On Thu, 23 Aug 2001, Mark Robinson wrote:

> Hi.
>
> I'm looking for the robust M estimates comparable to "location.m" in
> S-PLUS?
>
> Alternatively, I guess I could use
> > lqs(x~1)
>
> But ... is "location.m" in a package?

No, and lqs(x~1) is not equivalent.  rlm(x ~ 1) is much closer,
and there are huber and hubers in package MASS, for example.

Honestly, there are limits to how interested one can be in the
one-parameter location problem, and say hubers should suffice.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Thu Aug 23 22:27:37 2001
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Thu, 23 Aug 2001 14:27:37 -0600 (MDT)
Subject: [R] GUI support from R
Message-ID: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu>


I am trying to figure what has been contributed toward building graphical
interfaces from R. The only item I have found ( and this looks very
promising) is the package tcltk under R for Windows.  Are there

1) more examples using the tcltk package

2) tcltk package ports to  LINUX

3) Anything else out there?

Thanks!

-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
Climate and Global Dynamics Division          FAX: 303-497-1333
Boulder, CO  80307                            Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug 23 22:39:57 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 23 Aug 2001 13:39:57 -0700 (PDT)
Subject: [R] GUI support from R
In-Reply-To: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu>
Message-ID: <Pine.A41.4.33.0108231334070.38462-100000@homer12.u.washington.edu>

On Thu, 23 Aug 2001, Doug Nychka wrote:

>
> I am trying to figure what has been contributed toward building graphical
> interfaces from R. The only item I have found ( and this looks very
> promising) is the package tcltk under R for Windows.  Are there
>
> 1) more examples using the tcltk package
>
> 2) tcltk package ports to  LINUX

It works under Unix and Linux if it can find your Tcl/Tk installation at
configure time. I think it was first developed under Linux.

> 3) Anything else out there?

The RJava interface (www.omegahat.org) could be used with Swing
components.

Probably the RPython bindings could also be used somehow.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 23 22:40:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 23 Aug 2001 21:40:28 +0100 (BST)
Subject: [R] GUI support from R
In-Reply-To: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu>
Message-ID: <Pine.LNX.4.31.0108232138120.28863-100000@gannet.stats>

On Thu, 23 Aug 2001, Doug Nychka wrote:

>
> I am trying to figure what has been contributed toward building graphical
> interfaces from R. The only item I have found ( and this looks very
> promising) is the package tcltk under R for Windows.  Are there
>
> 1) more examples using the tcltk package
>
> 2) tcltk package ports to  LINUX

It works for under Linux and Solaris out of the box.

> 3) Anything else out there?

Native Windows support (see package windlgs in the source packages
distribution).

Omegahat package SJava, supposedly (I have trouble getting that to run:
I think it needs updating).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sorenh at mail.dk  Thu Aug 23 23:04:05 2001
From: sorenh at mail.dk (=?iso-8859-1?Q?S=F8ren_H=F8jsgaard?=)
Date: Thu, 23 Aug 2001 23:04:05 +0200
Subject: [R] Reading SAS version 8 data into R
Message-ID: <000f01c12c17$25af4d00$081114ac@agrsci.dk>

Hi,

SAS transport files created with the xport engine in SAS can be read using read.xport.  However, the xport engine only works with SAS version 6, and consequently long variable names are not allowed...

Can anyone tell me how to get SAS data (ver 8) into R (easily)?

Thanks in advance

S?ren H?jsgaard
sorenh at agrsci.dk    http://www.jbs.agrsci.dk/~sorenh
-------------------------------------------------------------------------
Time flies like an arrow, fruit flies like a banana.
-------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Aug 24 00:15:24 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 23 Aug 2001 18:15:24 -0400
Subject: [R] GUI support from R
In-Reply-To: <Pine.A41.4.33.0108231334070.38462-100000@homer12.u.washington.edu>; from tlumley@u.washington.edu on Thu, Aug 23, 2001 at 01:39:57PM -0700
References: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu> <Pine.A41.4.33.0108231334070.38462-100000@homer12.u.washington.edu>
Message-ID: <20010823181524.G22978@jessie.research.bell-labs.com>

And I am just starting to put together a set of Gtk bindings for R.
It will be a very gradual affair if I do it manually, but I might also
use some programmatic tools to build the interface.  Ideally others
will add bits and pieces for different widgets if we don't do it
manually. The idea is to be able to take advantage of new widgets
(e.g. the gtk-extra library) and also to allow one to create GUIs
using R code within applications such as Gnumeric, etc.  and to be
able to "program" GGobi GUIs from within R.

Just in case I didn't emphasize it enough, this is very, very early
stages of the work.

Another approach that is useful for building simple and constrained
GUIs are form elements in HTML (with a little Java) and using R inside
Netscape (www.omegahat.org/SNetscape). This is for a very specific
form of GUI.

 D.


Thomas Lumley wrote:
> On Thu, 23 Aug 2001, Doug Nychka wrote:
> 
> >
> > I am trying to figure what has been contributed toward building graphical
> > interfaces from R. The only item I have found ( and this looks very
> > promising) is the package tcltk under R for Windows.  Are there
> >
> > 1) more examples using the tcltk package
> >
> > 2) tcltk package ports to  LINUX
> 
> It works under Unix and Linux if it can find your Tcl/Tk installation at
> configure time. I think it was first developed under Linux.
> 
> > 3) Anything else out there?
> 
> The RJava interface (www.omegahat.org) could be used with Swing
> components.
> 
> Probably the RPython bindings could also be used somehow.
> 
> 	-thomas
> 
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Fri Aug 24 01:21:34 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Thu, 23 Aug 2001 17:21:34 -0600
Subject: [R] Reading SAS version 8 data into R
References: <000f01c12c17$25af4d00$081114ac@agrsci.dk>
Message-ID: <002101c12c2a$59d340b0$b057e43f@91qez>


----- Original Message -----
From: "S?ren H?jsgaard" <sorenh at mail.dk>


> Hi,
>
> SAS transport files created with the xport engine in SAS can be read using
read.xport.  However, the xport engine only works with SAS version 6, and
consequently long variable names are not allowed...
>
> Can anyone tell me how to get SAS data (ver 8) into R (easily)?
>
> Thanks in advance

Frank Harrell's Hmisc library has very nice tools for importing SAS v8 data
sets to S-Plus. Hence, that library might provide what you want when it is
ported to R. I, for one, am very much looking forward to using Hmisc under
R.

Meanwhile, you could use "proc export" in SAS to write out your data to a
text file, and then use "read.table" (or, equivalent) to read it into R. For
example, on a Windows you might write code similar to the following.

In SAS...

proc export data=iris
    outfile="c:\data\iris.csv"
    replace;
run;

In R...

iris.data <- read.csv("c:/data/iris.csv")
names(iris.data) <- tolower(names(iris.data))

-Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug 24 02:37:08 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Aug 2001 17:37:08 -0700
Subject: [R] GUI support from R
In-Reply-To: <20010823181524.G22978@jessie.research.bell-labs.com>
References: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu>
	<Pine.A41.4.33.0108231334070.38462-100000@homer12.u.washington.edu>
	<20010823181524.G22978@jessie.research.bell-labs.com>
Message-ID: <87elq2s37v.fsf@jeeves.blindglobe.net>

>>>>> "DTL" == Duncan Temple Lang <duncan at research.bell-labs.com> writes:

    DTL> And I am just starting to put together a set of Gtk bindings
    DTL> for R. 

Duncan -

What are your current plans for How will this work, similar to doing
Swing with RSJava or similar to the tcltk interface (i.e. will the
event loop be integrated, or sitting "external"?).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Aug 24 05:38:33 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 23 Aug 2001 23:38:33 -0400
Subject: [R] GUI support from R
In-Reply-To: <87elq2s37v.fsf@jeeves.blindglobe.net>; from rossini@blindglobe.net on Thu, Aug 23, 2001 at 05:37:08PM -0700
References: <Pine.GSO.4.30.0108231419450.18658-100000@goldhill.cgd.ucar.edu> <Pine.A41.4.33.0108231334070.38462-100000@homer12.u.washington.edu> <20010823181524.G22978@jessie.research.bell-labs.com> <87elq2s37v.fsf@jeeves.blindglobe.net>
Message-ID: <20010823233833.A8865@jessie.research.bell-labs.com>


The event loop is integrated using the AddInputHandler()
mechanism. And I intend to apply the code I have to work under Windows
which I didn't get to commit several months ago and have returned to
yet.  So it is much the same way that ggobi behaves.  This is a native
R-C binding using R's external pointer mechanism.

Any suggestions for different approaches are very welcome.  Otherwise
it will be similar to (but more specific than) the work I did about 5
years ago on a general interface to the X window system.

 D.


A.J. Rossini wrote:
> >>>>> "DTL" == Duncan Temple Lang <duncan at research.bell-labs.com> writes:
> 
>     DTL> And I am just starting to put together a set of Gtk bindings
>     DTL> for R. 
> 
> Duncan -
> 
> What are your current plans for How will this work, similar to doing
> Swing with RSJava or similar to the tcltk interface (i.e. will the
> event loop be integrated, or sitting "external"?).
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------- (wednesday/friday is unknown) --------
> FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Fri Aug 24 06:58:59 2001
From: pem at theriver.com (Patrick McKnight)
Date: Fri, 24 Aug 2001 04:58:59 GMT
Subject: [R] Reading SAS version 8 data into R
In-Reply-To: <200108240201.EAA26328@stat.math.ethz.ch>
References: <200108240201.EAA26328@stat.math.ethz.ch>
Message-ID: <20010824.4585900@copernicus.mcknightconsulting.com>

Soren,

The following code runs just fine from SAS V.8 and imports into R without 
a hitch:

libname xxx sasv5xpt 'yourfilenamehere';

data xxx.dat;
set perm.yoursasv8data;
run;


Hope this helps.

Cheers,

Patrick



> Date: Thu, 23 Aug 2001 23:04:05 +0200
> From: =?iso-8859-1?Q?S=F8ren_H=F8jsgaard?= <sorenh at mail.dk>
> Subject: [R] Reading SAS version 8 data into R

> Hi,

> SAS transport files created with the xport engine in SAS can be read 
using read.xport.  However, the xport engine only works with SAS version 6, 
and consequently long variable names are not allowed...

> Can anyone tell me how to get SAS data (ver 8) into R (easily)?

> Thanks in advance

> S?ren H?jsgaard
> sorenh at agrsci.dk    http://www.jbs.agrsci.dk/~sorenh
> - 
-------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Aug 24 08:23:52 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Fri, 24 Aug 2001 01:23:52 -0500
Subject: Variable lables (was Re: [R] Reading SAS version 8 data into R
References: <200108240201.EAA26328@stat.math.ethz.ch> <20010824.4585900@copernicus.mcknightconsulting.com>
Message-ID: <3B85F2F8.B3D78F22@ukans.edu>

I will try this method to export a sas file, but reading it made
me wonder about "variable lables" and "value lables" in R.  In
SAS and SPSS, the lables are a huge chunk of code and people
want to hang onto them.  In case you have not used data from the
Universty of Michigan's ICPSR, you might not have seen how
elaborate this can get.  Here's a link to a SAS program that
reads in an ascii dataset. It has thousands of lables:

http://lark.cc.ukans.edu/~pauljohn/sa2684.gz

(This is a famous one, the American National Election Study)

Netscape unzips this and shows it as text on the screen.

A program like SAS or SPSS will use these lables to beautify
frequencies and such, and I've not heard much in the R group
about it, and I just wondered if you do ever talk about it.

Patrick McKnight wrote:
> 
> Soren,
> 
> The following code runs just fine from SAS V.8 and imports into R without
> a hitch:
> 
> libname xxx sasv5xpt 'yourfilenamehere';
> 
> data xxx.dat;
> set perm.yoursasv8data;
> run;
> 
> Hope this helps.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science           
http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 24 08:46:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 24 Aug 2001 07:46:17 +0100 (BST)
Subject: Variable lables (was Re: [R] Reading SAS version 8 data into R
In-Reply-To: <3B85F2F8.B3D78F22@ukans.edu>
Message-ID: <Pine.GSO.4.31.0108240738171.6983-100000@auk.stats>

On Fri, 24 Aug 2001 pauljohn at ukans.edu wrote:

> I will try this method to export a sas file, but reading it made
> me wonder about "variable lables" and "value lables" in R.  In
> SAS and SPSS, the lables are a huge chunk of code and people
> want to hang onto them.  In case you have not used data from the
> Universty of Michigan's ICPSR, you might not have seen how
> elaborate this can get.  Here's a link to a SAS program that
> reads in an ascii dataset. It has thousands of lables:
>
> http://lark.cc.ukans.edu/~pauljohn/sa2684.gz
>
> (This is a famous one, the American National Election Study)
>
> Netscape unzips this and shows it as text on the screen.
>
> A program like SAS or SPSS will use these lables to beautify
> frequencies and such, and I've not heard much in the R group
> about it, and I just wondered if you do ever talk about it.

Because it's no big deal. Those are factor levels.  R has factors.
Whether they get exported from SAS and converted by read.xpt I can't say.

Now R has connections it would be appear to be easy to read that file (even
the compressed version) directly into R.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Aug 24 10:49:08 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 24 Aug 2001 10:49:08 +0200 (CEST)
Subject: Variable lables (was Re: [R] Reading SAS version 8 data into
In-Reply-To: <Pine.GSO.4.31.0108240738171.6983-100000@auk.stats>
Message-ID: <XFMail.20010824104908.plummer@iarc.fr>

On 24-Aug-2001 Prof Brian D Ripley wrote:
> On Fri, 24 Aug 2001 pauljohn at ukans.edu wrote:
> 
>> I will try this method to export a sas file, but reading it made
>> me wonder about "variable lables" and "value lables" in R.  In
>> SAS and SPSS, the lables are a huge chunk of code and people
>> want to hang onto them.  In case you have not used data from the
>> Universty of Michigan's ICPSR, you might not have seen how
>> elaborate this can get.  Here's a link to a SAS program that
>> reads in an ascii dataset. It has thousands of lables:
>>
>> http://lark.cc.ukans.edu/~pauljohn/sa2684.gz
>>
>> (This is a famous one, the American National Election Study)
>>
>> Netscape unzips this and shows it as text on the screen.
>>
>> A program like SAS or SPSS will use these lables to beautify
>> frequencies and such, and I've not heard much in the R group
>> about it, and I just wondered if you do ever talk about it.
> 
> Because it's no big deal. Those are factor levels.  R has factors.
> Whether they get exported from SAS and converted by read.xpt I can't say.

Preserving value labels from SAS datasets is not as easy as it should be.

SAS value labels are not part of the dataset, but are kept in a separate
file called a format catalogue. The XPORT engine does not work with SAS
catalogues, so you need to convert the format catalogue to a SAS database.
You can do this with the cntlout option in PROC FORMAT. [Conversely the
cntlin option creates a format catalogue from a database.]

We use a program called Stat/Transfer to convert between different
file formats.  Recent versions of Stat/Transfer will preserve SAS value
labels if you supply a format dataset.  [It  doesn't support R, but you
can get from SAS to R via Stata]. I suppose that you could get read.xport
to work the same way ...

SAS value labels are not quite the same as S factor labels since
the mapping from values to labels may be many-to-one.  For example, you
can categorize a continuous variable by supplying ranges of values to be
given the same label.  The variable is then treated like a categorical
variable in tabulations, etc. but the underlying values are preserved
in the dataset and may be recovered by changing the format.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From daodao99 at student.umu.se  Fri Aug 24 10:59:16 2001
From: daodao99 at student.umu.se (Danardono)
Date: Fri, 24 Aug 2001 10:59:16 +0200
Subject: [R] subset for list
Message-ID: <5.1.0.14.0.20010824105141.00a3f520@student.umu.se>

Hi all!
Suppose we have this list:
x<-list("101"=list(t=c(1,3,4),n=3),"104"=list(t=c(1,2),n=2),"110"=list(t=c(5,6,3,4),n=4))

(For example, 101, 104, 110 are ID number of subject, t and n are 
measurements belong to each subject)

We can take subset of that list by, for instance,
x$"101"

But how do we select multiple subject? Is there any subset-like function 
for a list?

Thanks,
Danar.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Fri Aug 24 11:39:40 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Fri, 24 Aug 2001 11:39:40 +0200
Subject: [R] Reading SAS version 8 data into R
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95AF9B@exdkba03.novo.dk>

> -----Original Message-----
> From: Patrick McKnight [mailto:pem at theriver.com]
> Sent: 24. august 2001 06:59
> To: r-help at lists.R-project.org
> Subject: Re: [R] Reading SAS version 8 data into R
> 
> 
> Soren,
> 
> The following code runs just fine from SAS V.8 and imports 
> into R without 
> a hitch:
> 
> libname xxx sasv5xpt 'yourfilenamehere';
> 
> data xxx.dat;
> set perm.yoursasv8data;
> run;

No it does unfortunely not.

Try the following in SAS v8, and you will see exactly
that the long variable names causes problems. Apparently there is no
way around shortening your variable names, except writing SAS-programs 
that punches data on to flat files.

Data x8 ;
  input x y a_k verylongname ;
  cards;
  1 2 3 4
  2 . 4 6
  5 6 7 .
  4 5 8 8
;
Run ;

* This is OK ;
Libname zzz xport "dataset.xpt";
Data zzz.first3 ;
  Set x8 ( keep = x y a_k ) ;
Run ;

* This will fail ;
Libname xxx xport "longdat.xpt";
Data xxx.all;
  Set x8 ;
Run ;

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------
> 
> 
> Hope this helps.
> 
> Cheers,
> 
> Patrick
> 
> 
> 
> > Date: Thu, 23 Aug 2001 23:04:05 +0200
> > From: =?iso-8859-1?Q?S=F8ren_H=F8jsgaard?= <sorenh at mail.dk>
> > Subject: [R] Reading SAS version 8 data into R
> 
> > Hi,
> 
> > SAS transport files created with the xport engine in SAS 
> can be read 
> using read.xport.  However, the xport engine only works with 
> SAS version 6, 
> and consequently long variable names are not allowed...
> 
> > Can anyone tell me how to get SAS data (ver 8) into R (easily)?
> 
> > Thanks in advance
> 
> > S?ren H?jsgaard
> > sorenh at agrsci.dk    http://www.jbs.agrsci.dk/~sorenh
> > - 
> --------------------------------------------------------------
> -----------
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Aug 24 13:00:44 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 24 Aug 2001 13:00:44 +0200
Subject: [R] subset for list
References: <5.1.0.14.0.20010824105141.00a3f520@student.umu.se>
Message-ID: <3B8633DC.E2B25664@cbs.dtu.dk>

Danardono wrote:
> 
> Hi all!
> Suppose we have this list:
> x<-list("101"=list(t=c(1,3,4),n=3),"104"=list(t=c(1,2),n=2),"110"=list(t=c(5,6,3,4),n=4))
> 
> (For example, 101, 104, 110 are ID number of subject, t and n are
> measurements belong to each subject)
> 
> We can take subset of that list by, for instance,
> x$"101"
> 
> But how do we select multiple subject? Is there any subset-like function
> for a list?

I dunno,

but the following should do the job:

> mysubset <- c("101","104")
> x[match(mysubset,names(x))]




I hope it helps...




Laurent






-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Aug 24 13:22:13 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Fri, 24 Aug 2001 07:22:13 -0400
Subject: Variable lables (was Re: [R] Reading SAS version 8 data into
References: <XFMail.20010824104908.plummer@iarc.fr>
Message-ID: <3B8638E5.7E05A104@virginia.edu>

Martyn Plummer wrote:
> 
> On 24-Aug-2001 Prof Brian D Ripley wrote:
> > On Fri, 24 Aug 2001 pauljohn at ukans.edu wrote:
> >
> >> I will try this method to export a sas file, but reading it made
> >> me wonder about "variable lables" and "value lables" in R.  In
> >> SAS and SPSS, the lables are a huge chunk of code and people
> >> want to hang onto them.  In case you have not used data from the
> >> Universty of Michigan's ICPSR, you might not have seen how
> >> elaborate this can get.  Here's a link to a SAS program that
> >> reads in an ascii dataset. It has thousands of lables:
> >>
> >> http://lark.cc.ukans.edu/~pauljohn/sa2684.gz
> >>
> >> (This is a famous one, the American National Election Study)
> >>
> >> Netscape unzips this and shows it as text on the screen.
> >>
> >> A program like SAS or SPSS will use these lables to beautify
> >> frequencies and such, and I've not heard much in the R group
> >> about it, and I just wondered if you do ever talk about it.
> >
> > Because it's no big deal. Those are factor levels.  R has factors.
> > Whether they get exported from SAS and converted by read.xpt I can't say.
> 
> Preserving value labels from SAS datasets is not as easy as it should be.
> 
> SAS value labels are not part of the dataset, but are kept in a separate
> file called a format catalogue. The XPORT engine does not work with SAS
> catalogues, so you need to convert the format catalogue to a SAS database.
> You can do this with the cntlout option in PROC FORMAT. [Conversely the
> cntlin option creates a format catalogue from a database.]

Soon when a beta of the Hmisc library is available you can use
sas.get to handle both variable labels and value labels (i.e.,
those created by PROC FORMAT that were NOT ranges).  Another
option will be to use the cleanup.import function which allows
you to specify a data frame created from importing the PROC
FORMAT CNTLOUT= dataset to S.  This will link variable labels
with variables in the primary data frame.

I store variable labels as "label" attributes of vectors
and use then in various plotting functions as well as the
describe() function.

> 
> We use a program called Stat/Transfer to convert between different
> file formats.  Recent versions of Stat/Transfer will preserve SAS value
> labels if you supply a format dataset.  [It  doesn't support R, but you
> can get from SAS to R via Stata]. I suppose that you could get read.xport
> to work the same way ...
> 
> SAS value labels are not quite the same as S factor labels since
> the mapping from values to labels may be many-to-one.  For example, you
> can categorize a continuous variable by supplying ranges of values to be
> given the same label.  The variable is then treated like a categorical
> variable in tabulations, etc. but the underlying values are preserved
> in the dataset and may be recovered by changing the format.
> 
> Martyn
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Aug 24 13:26:08 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Fri, 24 Aug 2001 07:26:08 -0400
Subject: [R] Reading SAS version 8 data into R
References: <D5A7D734C9C5D211B9E30008C78923020E95AF9B@exdkba03.novo.dk>
Message-ID: <3B8639D0.BACB602C@virginia.edu>

What you have described is a bug in SAS that I know
was present with the first release of V8.  I hope
that the bug has been fixed in the latest rendition
of V8.  Otherwise, SAS long names are probably
to be avoided for now.   -Frank Harrell

"BXC (Bendix Carstensen)" wrote:
> 
> > -----Original Message-----
> > From: Patrick McKnight [mailto:pem at theriver.com]
> > Sent: 24. august 2001 06:59
> > To: r-help at lists.R-project.org
> > Subject: Re: [R] Reading SAS version 8 data into R
> >
> >
> > Soren,
> >
> > The following code runs just fine from SAS V.8 and imports
> > into R without
> > a hitch:
> >
> > libname xxx sasv5xpt 'yourfilenamehere';
> >
> > data xxx.dat;
> > set perm.yoursasv8data;
> > run;
> 
> No it does unfortunely not.
> 
> Try the following in SAS v8, and you will see exactly
> that the long variable names causes problems. Apparently there is no
> way around shortening your variable names, except writing SAS-programs
> that punches data on to flat files.
> 
> Data x8 ;
>   input x y a_k verylongname ;
>   cards;
>   1 2 3 4
>   2 . 4 6
>   5 6 7 .
>   4 5 8 8
> ;
> Run ;
> 
> * This is OK ;
> Libname zzz xport "dataset.xpt";
> Data zzz.first3 ;
>   Set x8 ( keep = x y a_k ) ;
> Run ;
> 
> * This will fail ;
> Libname xxx xport "longdat.xpt";
> Data xxx.all;
>   Set x8 ;
> Run ;
> 
> ----------------------
> Bendix Carstensen
> Senior Statistician
> Steno Diabetes Centre
> Niels Steensens Vej 2
> DK-2820 Gentofte
> Denmark
> tel: +45 44 43 87 38
> mob: +45 28 25 87 38
> fax: +45 44 43 73 13
> bxc at novo.dk
> www.biostat.ku.dk/~bxc
> ----------------------
> >
> >
> > Hope this helps.
> >
> > Cheers,
> >
> > Patrick
> >
> >
> >
> > > Date: Thu, 23 Aug 2001 23:04:05 +0200
> > > From: =?iso-8859-1?Q?S=F8ren_H=F8jsgaard?= <sorenh at mail.dk>
> > > Subject: [R] Reading SAS version 8 data into R
> >
> > > Hi,
> >
> > > SAS transport files created with the xport engine in SAS
> > can be read
> > using read.xport.  However, the xport engine only works with
> > SAS version 6,
> > and consequently long variable names are not allowed...
> >
> > > Can anyone tell me how to get SAS data (ver 8) into R (easily)?
> >
> > > Thanks in advance
> >
> > > Sren Hjsgaard
> > > sorenh at agrsci.dk    http://www.jbs.agrsci.dk/~sorenh
> > > -
> > --------------------------------------------------------------
> > -----------
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moltchan at iiasa.ac.at  Fri Aug 24 14:08:15 2001
From: moltchan at iiasa.ac.at (Elena MOLTCHANOVA)
Date: Fri, 24 Aug 2001 14:08:15 +0200
Subject: [R] statistical mode function
Message-ID: <4.2.0.58.20010824140642.00a21ee0@mail>

Hello R-users,

I am aware that this is a very basic question, but still... Since mode() 
function is reserved for something else, is there a function to calculate 
statistical mode for a vector or a matrxi?

i.e. mode.function(c(1,2,2,2,3,3))=2

Thanks in advance,

	Elena Moltchanova
Elena MOLTCHANOVA
IIASA
International Institute for Applied Systems Analysis
A-2361 Laxenburg, Austria
E-Mail: moltchan at iiasa.ac.at
Phone : +43 2236 807-0
Fax   : +43 2236 71313

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 24 14:08:29 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Aug 2001 14:08:29 +0200
Subject: [R] using R to generate resizable real-time plots
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F3596@norcom2.norcom.net>
References: <D8FC432ED011D511B1D9001083FD45E70F3596@norcom2.norcom.net>
Message-ID: <x2g0ahk6de.fsf@blueberry.kubism.ku.dk>

Chris Marshall <chrism at norcomnetworks.com> writes:

>  Perfect!  Works like a charm!
> 
> Thank you so much.  I can't believe I got an answer in an hour.
> 
> R has to be one of the best supported tools in existance.

The tcltk package also has ways of doing this kind of stuff:

 library(tcltk)
 f <- function(){plot(rnorm(1000)); tkcmd("after", 1000,f)}
 f()

(To stop, set  f <- NULL)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 24 14:25:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Aug 2001 13:25:10 +0100 (BST)
Subject: [R] statistical mode function
In-Reply-To: <4.2.0.58.20010824140642.00a21ee0@mail>
Message-ID: <Pine.LNX.4.31.0108241321590.14893-100000@gannet.stats>

On Fri, 24 Aug 2001, Elena MOLTCHANOVA wrote:

> Hello R-users,
>
> I am aware that this is a very basic question, but still... Since mode()
> function is reserved for something else, is there a function to calculate
> statistical mode for a vector or a matrxi?
>
> i.e. mode.function(c(1,2,2,2,3,3))=2

If that is to be regarded as a discrete distribution,

statmod <- function(x) {
   z <- table(as.vector(x))
   names(z)[z == max(z)]
}

should do the trick.  It gives a character result because the
input x represents categories.  It also reports all modes.

>
> Thanks in advance,
>
> 	Elena Moltchanova
> Elena MOLTCHANOVA
> IIASA
> International Institute for Applied Systems Analysis
> A-2361 Laxenburg, Austria
> E-Mail: moltchan at iiasa.ac.at
> Phone : +43 2236 807-0
> Fax   : +43 2236 71313
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Aug 24 14:36:03 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 24 Aug 2001 08:36:03 -0400 (EDT)
Subject: [R] statistical mode function
In-Reply-To: <4.2.0.58.20010824140642.00a21ee0@mail>
Message-ID: <Pine.LNX.4.30.0108240832100.30412-100000@bolker.zoo.ufl.edu>


  How about

mode1 <- function(x) {
  t0 <- table(x)
  as.numeric(names(t0)[t0==max(t0)])
}

e.g.
 mode1(rbinom(100,10,0.4))

(no bells and whistles, error-checking, etc. etc.)
of course, this only works for discrete distributions; I imagine
you could do something with density() to get an estimate of the mode for a
continuous distribution ...

  If someone else can come up with a one-liner I'd be mildly interested.

 Ben Bolker

On Fri, 24 Aug 2001, Elena MOLTCHANOVA wrote:

> Hello R-users,
>
> I am aware that this is a very basic question, but still... Since mode()
> function is reserved for something else, is there a function to calculate
> statistical mode for a vector or a matrxi?
>
> i.e. mode.function(c(1,2,2,2,3,3))=2
>
> Thanks in advance,
>
> 	Elena Moltchanova
> Elena MOLTCHANOVA
> IIASA
> International Institute for Applied Systems Analysis
> A-2361 Laxenburg, Austria
> E-Mail: moltchan at iiasa.ac.at
> Phone : +43 2236 807-0
> Fax   : +43 2236 71313
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 24 14:35:15 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Aug 2001 14:35:15 +0200
Subject: [R] Problem using GLM in a loop
In-Reply-To: <3B826ED9.DCA1AC0B@ifp.fr>
References: <3B826ED9.DCA1AC0B@ifp.fr>
Message-ID: <x2bsl5k54s.fsf@blueberry.kubism.ku.dk>

Isabelle ZABALZA <isabelle.zabalza-mezghani at ifp.fr> writes:

> Hello,
> 
> I am try to perform a modeling which is relevant in a strongly
> heteroscedastic context.
> So I perform a dual modeling (modeling of both mean and variance of a
> response) in using the following loop:
> 
> jointmod <- function(formula, data, itercrit=10,devcrit=0.0001)
> {
> #
> # Init step
> #
> init <- glm(formula=formula,family=gaussian, data=data)
> response <- resid(init,type="response") + predict(init,type="response")
> mu <- predict(init,type="response")
> iter <- 1
> dev <- init$deviance
> if (dev != 0) vardev <- 1
> else stop(message="Null deviance in initialisation step")
> endformula_ strsplit(formula,"~")[[3]]
> formulavar_paste("d","~")
> formulavar_as.formula(paste(formulavar,endformula))
> #
> # Modeling loop
> #
> while ((iter <= itercrit)| (vardev > devcrit)) {
> d_(response - mu)^2
> modvar_glm(formula=formulavar,family=Gamma(link=log),data=data)
> sig <- predict(modvar,type="response")
> weights <- 1/sig
> modesp <- glm(formula=formula,
> family=gaussian,data=data,weights=weights)
> mu <- predict(modesp,type="response")
> devold <- dev
> dev <- modesp$deviance
> vardev <- (devold -dev)/devold
> iter <- iter + 1
> }
> 
> list(modesp=modesp, modvar=modvar, iter=iter, vardev=vardev)
> }
> 
> This program evaluation always stops when evaluating the "modesp" line :
> 
>          modesp <- glm(formula=formula,
> family=gaussian,data=data,weights=weights)
> with the following error:
> error in
> model.frame(formula,rownames,variables,varnames,extras,extranames, :
>            invalid variable type.
> 
> The same program without specifying weights runs.
> I don't understand this behavior since when I execute the glm command
> with weights out of the program, it runs.

This has to do with a rather awkward environment issue, which I'm not
sure we have solved correctly. Your problem is really not the loop,
but the fact that you are using glm inside a function which is passed
the formula from another environment.

Variables in a formula are taken from the supplied data frame and if
not found in the environment of the formula. This is so that it would
work to say e.g. y^lambda ~ x, where lambda is a free variable.

However, the same treatment applies to special arguments like weight
and offset, i.e. they are treated as names and not subjected to the
usual parameter passing conventions. So the weights variable in the
current environment is never found. 

Probably the easiest way out is to set 

environment(formula) <- environment()

which might kill you if you're actually using a free variable as
indicated, but chances are that you're not. Alternatively, but more
than a bit icky, assign "weights" in the formula environment.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur67 at yahoo.com  Fri Aug 24 16:20:52 2001
From: sarthur67 at yahoo.com (Stephen Arthur)
Date: Fri, 24 Aug 2001 07:20:52 -0700 (PDT)
Subject: [R] Pie Charts, Barplots, and Stacked Barplots
Message-ID: <20010824142052.81176.qmail@web11104.mail.yahoo.com>

Hi,

I've found the opinion of R-developers about pie
charts under piechart base documentation,

"Pie charts are a very bad way of displaying
information. The eye is good at judging linear
measures and bad at judging relative areas. 

A bar chart or dot chart is a preferable way of
displaying this type of data."

What is R's opinion about using barplots vs. using
stacked barplots when looking at appropriate data? 

I would think using a stacked barplot would be looked
down upon because one is judging relative areas again
as in a piechart instead of linear differences?

Thanks,

steve



__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 24 17:21:03 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 24 Aug 2001 08:21:03 -0700 (PDT)
Subject: Variable lables (was Re: [R] Reading SAS version 8 data into
In-Reply-To: <XFMail.20010824104908.plummer@iarc.fr>
Message-ID: <Pine.A41.4.33.0108240816490.191538-100000@homer03.u.washington.edu>

On Fri, 24 Aug 2001, Martyn Plummer wrote:
> We use a program called Stat/Transfer to convert between different
> file formats.  Recent versions of Stat/Transfer will preserve SAS value
> labels if you supply a format dataset.  [It  doesn't support R, but you
> can get from SAS to R via Stata]. I suppose that you could get read.xport
> to work the same way ...
>

While Stat/Transfer and DBMS/Copy will preserve value labels going from
SAS to Stata, read.dta won't preserve them going from Stata to R.

There is documentation in the Stata manual for how to read and write Stata
value labels (including partial C code), but I haven't implemented it yet.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Aug 24 18:19:10 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 24 Aug 2001 12:19:10 -0400
Subject: [R] statistical mode function
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED52@groexmbcr02.pfizer.com>



> From: ben at zoo.ufl.edu [mailto:ben at zoo.ufl.edu]
>
[snip]
>   How about
> 
> mode1 <- function(x) {
>   t0 <- table(x)
>   as.numeric(names(t0)[t0==max(t0)])
> }
> 
> e.g.
>  mode1(rbinom(100,10,0.4))
> 
[snip]
>
>   If someone else can come up with a one-liner I'd be mildly 
> interested.
>

How about:

as.numeric(names(rev(sort(table(x))))[1])

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Fri Aug 24 18:23:32 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Fri, 24 Aug 2001 12:23:32 -0400 (EDT)
Subject: [R] matching character substrings
Message-ID: <Pine.SOL.4.33.0108241216390.24236-100000@julius.ling.ohio-state.edu>


Hello,

Is there a function for searching a string for a given character? For
example, I have
transcriptions like

tsibi
tSibi
tibi
kibi

I want to search the character object for the presence of 's' or 'S' or
'k'.

I thought perhaps pmatch(c("k", "S", "s"), x) would work for me, but it
wants to compare from the start of the string and returns NA for "S" and
"s" because they are not at the head of the string.

Thanks in advance,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 24 18:26:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Aug 2001 17:26:56 +0100 (BST)
Subject: [R] statistical mode function
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CED52@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0108241726080.1675-100000@gannet.stats>

On Fri, 24 Aug 2001, Warnes, Gregory R wrote:

>
>
> > From: ben at zoo.ufl.edu [mailto:ben at zoo.ufl.edu]
> >
> [snip]
> >   How about
> >
> > mode1 <- function(x) {
> >   t0 <- table(x)
> >   as.numeric(names(t0)[t0==max(t0)])
> > }
> >
> > e.g.
> >  mode1(rbinom(100,10,0.4))
> >
> [snip]
> >
> >   If someone else can come up with a one-liner I'd be mildly
> > interested.
> >
>
> How about:
>
> as.numeric(names(rev(sort(table(x))))[1])

That only finds the rightmost mode if there are several.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 24 18:30:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Aug 2001 17:30:09 +0100 (BST)
Subject: [R] matching character substrings
In-Reply-To: <Pine.SOL.4.33.0108241216390.24236-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.31.0108241727100.1675-100000@gannet.stats>

On Fri, 24 Aug 2001, David White wrote:

>
> Hello,
>
> Is there a function for searching a string for a given character? For
> example, I have
> transcriptions like
>
> tsibi
> tSibi
> tibi
> kibi
>
> I want to search the character object for the presence of 's' or 'S' or
> 'k'.
>
> I thought perhaps pmatch(c("k", "S", "s"), x) would work for me, but it
> wants to compare from the start of the string and returns NA for "S" and
> "s" because they are not at the head of the string.

regexpr or grep, depending on the level of info you want.

regexpr("[sSk]", c("tsibi", "tSibi", "tibi", "kibi"))
[1]  2  2 -1  1
attr(,"match.length")
[1]  1  1 -1  1
grep("[sSk]", c("tsibi", "tSibi", "tibi", "kibi"))
[1] 1 2 4


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 24 18:36:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Aug 2001 18:36:53 +0200
Subject: [R] matching character substrings
In-Reply-To: <Pine.SOL.4.33.0108241216390.24236-100000@julius.ling.ohio-state.edu>
References: <Pine.SOL.4.33.0108241216390.24236-100000@julius.ling.ohio-state.edu>
Message-ID: <x2y9o9h0t6.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Hello,
> 
> Is there a function for searching a string for a given character? For
> example, I have
> transcriptions like
> 
> tsibi
> tSibi
> tibi
> kibi
> 
> I want to search the character object for the presence of 's' or 'S' or
> 'k'.
> 
> I thought perhaps pmatch(c("k", "S", "s"), x) would work for me, but it
> wants to compare from the start of the string and returns NA for "S" and
> "s" because they are not at the head of the string.

grep(), I believe

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Aug 24 21:16:24 2001
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 24 Aug 2001 15:16:24 -0400
Subject: [R] matching character substrings
In-Reply-To: <Pine.SOL.4.33.0108241216390.24236-100000@julius.ling.ohio-
 state.edu>
Message-ID: <5.1.0.14.2.20010824151316.01c2db90@mcmail.cis.mcmaster.ca>

Dear David,

At 12:23 PM 24/08/2001 -0400, David White wrote:

>Hello,
>
>Is there a function for searching a string for a given character? For
>example, I have
>transcriptions like
>
>tsibi
>tSibi
>tibi
>kibi
>
>I want to search the character object for the presence of 's' or 'S' or
>'k'.
>
>I thought perhaps pmatch(c("k", "S", "s"), x) would work for me, but it
>wants to compare from the start of the string and returns NA for "S" and
>"s" because they are not at the head of the string.

The function grep or regexpr should do what you want; for example:

 > vec <- c('tsibi', 'tSibi', 'tibi', 'kibi')

 > grep('[sSk]', vec)
[1] 1 2 4

 > regexpr('[sSk]', vec)
[1]  2  2 -1  1
attr(,"match.length")
[1]  1  1 -1  1

 >

See the help files for details.

I hope that this helps,
  John



-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joestauffer at ou.edu  Sat Aug 25 06:22:35 2001
From: joestauffer at ou.edu (Joe Stauffer)
Date: Fri, 24 Aug 2001 23:22:35 -0500
Subject: [R] Truncated MVN RNG?
Message-ID: <000001c12d1d$92022480$c10e0f81@ou.edu>

Is there a package or code that generates data from a truncated multivariate
normal distribution?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 25 08:35:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 25 Aug 2001 07:35:58 +0100 (BST)
Subject: [R] Truncated MVN RNG?
In-Reply-To: <000001c12d1d$92022480$c10e0f81@ou.edu>
Message-ID: <Pine.GSO.4.31.0108250734170.29239-100000@auk.stats>

On Fri, 24 Aug 2001, Joe Stauffer wrote:

> Is there a package or code that generates data from a truncated multivariate
> normal distribution?

Not sure what `truncated' means here.  However, at a guess it is a normal
distribution restricted to a sub-region of R^d, and that's easy via mvrnorm
in package MASS wrapped in rejection sampling.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Aug 25 11:58:55 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 25 Aug 2001 21:58:55 +1200 (NZST)
Subject: [R] Writing R Library
Message-ID: <Pine.SOL.4.21.0108252156520.11363-100000@stat1.stat.auckland.ac.nz>

Hi there,

I'm trying to write an R library (for Windows version) when I encountered
this problem.

I put in a dataset called mussels into a sub-folder, data (I saw this is
how it is done in other libraries).  However when I load the library in R
and typed:
  data(mussels)
it complains it cannot find the data set in the library.

Everything else works fine (so far), am I missing something here?

Thanks,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 25 12:39:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 25 Aug 2001 11:39:11 +0100 (BST)
Subject: data in R packages (was [R] Writing R Library)
In-Reply-To: <Pine.SOL.4.21.0108252156520.11363-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0108251133390.17416-100000@auk.stats>

On Sat, 25 Aug 2001, Ko-Kang Kevin Wang wrote:

> I'm trying to write an R library (for Windows version) when I encountered
> this problem.

I guess you mean a package: a library is a directory containing installed
packages.

> I put in a dataset called mussels into a sub-folder, data (I saw this is
> how it is done in other libraries).  However when I load the library in R
> and typed:
>   data(mussels)
> it complains it cannot find the data set in the library.
>
> Everything else works fine (so far), am I missing something here?

You need to follow the instructions in `Writing R Extensions'.

  The @file{data} subdirectory is for additional data files the package
  makes available for loading using @code{data()}.  Currently, data files
  can have one of three types as indicated by their extension: plain R
  code (@file{.R} or @file{.r}), tables (@file{.tab}, @file{.txt}, or
  @file{.csv}), or @code{save()} images (@file{.RData} or @file{.rda}).

Note, `by their extension'.

When all else fails, read the manual ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Aug 25 15:45:01 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 25 Aug 2001 08:45:01 -0500
Subject: [R] Writing R Library
In-Reply-To: <Pine.SOL.4.21.0108252156520.11363-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0108252156520.11363-100000@stat1.stat.auckland.ac.nz>
Message-ID: <6rn14ogso2.fsf@franz.stat.wisc.edu>

Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> writes:

> I'm trying to write an R library (for Windows version) when I encountered
> this problem.
> 
> I put in a dataset called mussels into a sub-folder, data (I saw this is
> how it is done in other libraries).  However when I load the library in R
> and typed:
>   data(mussels)
> it complains it cannot find the data set in the library.
> 
> Everything else works fine (so far), am I missing something here?

A quick way of getting an R package started is to use the R function
package.skeleton.  See its documentation - it is easy to use.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Aug 25 17:31:19 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 25 Aug 2001 11:31:19 -0400
Subject: [R] 2001 International Conference on Health Policy Research
Message-ID: <3B87C4C7.EA7412B3@virginia.edu>

The following conference is sponsored by the Health Policy
Statistics Section of the American Statistical Association.
If anyone has questions about this conference please reply
to fharrell at virginia.edu.

Thanks- Frank Harrell
------------------------------------------------------------
The "2001 International Conference on Health Policy Research
(ICHPR): Methodological Issues in Health Services and 
Outcomes Research," will be held at the Boston Logan Airport 
Hilton, December 7 - 9, 2001. The ICHPR provides a forum for 
discussing research needs and solutions to the methodological
challenges in health services research. Its specific aim
is to create the interface for methodologists and 
sophisticated health service researchers to exchange and 
build upon ideas.  The conference will focus on methodology
for health services research with applications drawn from a
wide range of subject areas.

The conference is sponsored by the Health Policy Statistics
Section (HPSS) of the American Statistical Association. 
The deadline for contributed abstracts is September 17, 2001. 
Detailed information, including a pdf format conference
brochure, is at
http://depts.washington.edu/psasa/hpss/ichpr2001.html/.

The Invited Program will cover several technical areas
including hierarchical models, longitudinal data, 
causal inference, techniques for assessing quality of care
and for profiling providers, techniques for inferring
disparities, decision making, data mining, and survey design.
The techniques will be illustrated across a variety of
substantive areas, including but not limited to: mental
illness, cardiovascular disease, and cancer.  The
contributed program will include similar topics as well as
other areas, such as item response theory.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Sun Aug 26 04:46:17 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sun, 26 Aug 2001 11:46:17 +0900
Subject: [R] Why not available of RMySQL and RPgSQL in RWin binaries?
Message-ID: <001001c12dd9$4847c220$690202c0@myvaio>

 Hi.

 Currently, PotgreSQL binary for Cygwin is included in Cygwin's
distribution. It is very stable working on my PC.

 But RMySQL and RPgSQL are not included in R contrib binaries.

 R's DB access will be faster by using these library than by RODBC?

 Please tell me whether will be available of RMySQL and RPgSQL in RWin
binaries?

 Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010826/517c70fc/attachment.html

From ripley at stats.ox.ac.uk  Sun Aug 26 09:28:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 Aug 2001 08:28:43 +0100 (BST)
Subject: [R] Why not available of RMySQL and RPgSQL in RWin binaries?
In-Reply-To: <001001c12dd9$4847c220$690202c0@myvaio>
Message-ID: <Pine.GSO.4.31.0108260809410.22762-100000@auk.stats>

On Sun, 26 Aug 2001, Hisaji ONO wrote:

>  Currently, PotgreSQL binary for Cygwin is included in Cygwin's
> distribution. It is very stable working on my PC.

`RWin binaries' are for Windows, not Cygwin.  As I understand it the
PostgreSQL port is user-contributed code for Cygwin: it appears in the
contrib directory.

>  But RMySQL and RPgSQL are not included in R contrib binaries.

Your answer is in the name.  No one has yet contributed them.

>  R's DB access will be faster by using these library than by RODBC?

Try it and see.

>  Please tell me whether will be available of RMySQL and RPgSQL in RWin
> binaries?

There is no team of support staff who port user-contributed code to various
platforms at the request of users.  It is not clear if we will be
continuing to provide ports of anything but the standard and recommended
packages.

We look forward to your contributions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sun Aug 26 23:53:48 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sun, 26 Aug 2001 23:53:48 +0200 (MET DST)
Subject: [R] Display of 3d arrays
Message-ID: <Pine.OSF.3.96.1010826235240.29615A-100000@ija.csic.es>

Hi!

Is it possible to display a 3d array as
an RGB image? For example, given the following 
array:
> matriz3d
, , 1

     [,1] [,2] [,3] [,4] [,5]
[1,]  170  174  173  172  161
[2,]  171  178  174  166  149
[3,]  168  174  173  166  156
[4,]  171  170  173  166  164
[5,]  167  170  170  171  169

, , 2

     [,1] [,2] [,3] [,4] [,5]
[1,]  138  131  128  128  125
[2,]  138  127  129  122  134
[3,]  144  131  130  127  132
[4,]  142  138  130  131  129
[5,]  146  141  135  129  131

, , 3

     [,1] [,2] [,3] [,4] [,5]
[1,]  124  123  127  125  125
[2,]  125  126  126  126  123
[3,]  127  123  125  128  128
[4,]  123  121  125  125  126
[5,]  118  122  124  126  125

the first row would be diplayed with rgb colors matriz3d[1,1:5,]

(170 138 124) (174 131 123) (173 128 127) (172 128 125) (161 125 125)


Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfast at friko5.onet.pl  Mon Aug 27 02:55:00 2001
From: jfast at friko5.onet.pl (Jakub Fast)
Date: Mon, 27 Aug 2001 02:55:00 +0200
Subject: [R] foreign characters in R plots
Message-ID: <001801c12e92$e623e6e0$483a4cd4@nook>

Hi,

I am sorry to bother you with such a (presumably) simple question, but I
have spent a couple of hours browsing the net and R documentation and came
up with no answer to it. My problem is that I need to use Latin2 (ISO8859-2)
characters in my plots. Adding an encoding="..." parameter to the postscript
function does not solve the problem, as the characters still don't show up.
Then I tried to copy the standard X11 .afm latin2 fonts to R's font
directory. This didn't help either. I guess I would have to somehow tell R
to use those fonts (and: can I do it without actually knowing the font
family name? I only know their filenames...). Another question related to
the topic is whether it is possible to use postscript character names as
escape sequences for particular characters within a string instead of using
\xxx for ascii code?

I would be very greatful if anyone could help me.

Thanks --

Kuba Fast



-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Mon Aug 27 08:26:13 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Sun, 26 Aug 2001 23:26:13 -0700 (PDT)
Subject: [R] Importing  file from Excel
Message-ID: <20010827062613.82302.qmail@web20104.mail.yahoo.com>

Hi,

 I have a basic import problem. I tried to import a
comma delimited "boston.csv" from C drive and gave the
following command at R prompt

>read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
Error: syntax error

can any one help to debugg the code.I am using R
version 1.3 for windows

with regards

srinivas


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Mon Aug 27 09:27:04 2001
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Mon, 27 Aug 2001 09:27:04 +0200 (MET DST)
Subject: [R] Importing  file from Excel
In-Reply-To: <20010827062613.82302.qmail@web20104.mail.yahoo.com>
Message-ID: <Pine.OSF.4.21.0108270924180.22876-100000@gram.math.ku.dk>

Try 

>read.csv("c:/boston.csv", sep=".",dec=".", fill=TRUE)



On Sun, 26 Aug 2001, srinivasa raghavan wrote:

> Hi,
> 
>  I have a basic import problem. I tried to import a
> comma delimited "boston.csv" from C drive and gave the
> following command at R prompt
> 
> >read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
> Error: syntax error
> 
> can any one help to debugg the code.I am using R
> version 1.3 for windows
> 
> with regards
> 
> srinivas
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Make international calls for as low as $.04/minute with Yahoo! Messenger
> http://phonecard.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Aug 27 09:27:54 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 27 Aug 2001 09:27:54 +0200
Subject: [R] Importing  file from Excel
In-Reply-To: <20010827062613.82302.qmail@web20104.mail.yahoo.com>
References: <20010827062613.82302.qmail@web20104.mail.yahoo.com>
Message-ID: <15241.63098.514473.79868@gargle.gargle.HOWL>

>>>>> "srinivas" == srinivasa raghavan <sristatistician at yahoo.com> writes:

    srinivas> Hi, I have a basic import problem. I tried to import a comma
    srinivas> delimited "boston.csv" from C drive and gave the following
    srinivas> command at R prompt

    >> read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
    srinivas> Error: syntax error

    srinivas> can any one help to debugg the code.I am using R version 1.3
    srinivas> for windows

The syntax error is because you didn't quote the file name, and ":" , "\"
will give problems.
But even with quotes that wouldn't work directly: Note that "\" is the
escape character (used, e.g. in "\n" which is newline) and hence would have
to be doubled.
The `real' recommendation otoh is to use real slashes instead of windoze
ones :

     read.csv("c:/boston.csv", sep=",", dec=".", fill=TRUE)
                 ^

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 27 09:29:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 27 Aug 2001 08:29:18 +0100 (BST)
Subject: [R] Importing  file from Excel
In-Reply-To: <20010827062613.82302.qmail@web20104.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0108270825230.1231-100000@auk.stats>

On Sun, 26 Aug 2001, srinivasa raghavan wrote:

> Hi,
>
>  I have a basic import problem. I tried to import a
> comma delimited "boston.csv" from C drive and gave the
> following command at R prompt
>
> >read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
> Error: syntax error
>
> can any one help to debugg the code.I am using R
> version 1.3 for windows
(1.3.0 probably.)

You need to

1) quote character strings
2) use \\ for \.

E.g.

read.csv("c:\\boston.csv",sep=",",dec=".",fill=TRUE)

and as all the other arguments are the defaults, just

read.csv("c:\\boston.csv")

is equivalent.


>
> with regards
>
> srinivas
>
>
> __________________________________________________
> Do You Yahoo!?
> Make international calls for as low as $.04/minute with Yahoo! Messenger
> http://phonecard.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Aug 27 09:51:40 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 27 Aug 2001 19:51:40 +1200 (NZST)
Subject: [R] Compile from Source.
Message-ID: <Pine.SOL.4.21.0108271947090.23257-100000@stat1.stat.auckland.ac.nz>

Hi,

Can anyone tell me how I can compile R from source under Windows
environemtn (I kind of know how to do it in a UNIX enviroment)?

What I mean is, suppose I make some changes in the R base, or reorganising
the libraries, and want to compile into a Setup.exe file (like the one
located in CRAN), how should I do this?

Many thanks in advance...

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Mon Aug 27 10:14:18 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Mon, 27 Aug 2001 10:14:18 +0200
Subject: [R] Importing  file from Excel
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95AF9E@exdkba03.novo.dk>

> -----Original Message-----
> From: srinivasa raghavan [mailto:sristatistician at yahoo.com]
> Sent: 27. august 2001 08:26
> To: r-help at stat.math.ethz.ch
> Subject: [R] Importing file from Excel
> 
> 
> Hi,
> 
>  I have a basic import problem. I tried to import a
> comma delimited "boston.csv" from C drive and gave the
> following command at R prompt
> 
> >read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
> Error: syntax error

You need

read.csv("c:/boston.csv",sep=",",dec=".",fill=TRUE)

Best wishes, 
Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 27 10:18:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 27 Aug 2001 09:18:00 +0100 (BST)
Subject: [R] foreign characters in R plots
In-Reply-To: <001801c12e92$e623e6e0$483a4cd4@nook>
Message-ID: <Pine.LNX.4.31.0108270859330.18438-100000@gannet.stats>

On Mon, 27 Aug 2001, Jakub Fast wrote:

> Hi,
>
> I am sorry to bother you with such a (presumably) simple question, but I
> have spent a couple of hours browsing the net and R documentation and came
> up with no answer to it. My problem is that I need to use Latin2 (ISO8859-2)
> characters in my plots. Adding an encoding="..." parameter to the postscript
> function does not solve the problem, as the characters still don't show up.

I've just tried

postscript("latin2.ps", enc="ISOLatin2.enc")
par(pty="s")
plot(c(0,15), c(0,15), type="n", xlab="", ylab="")
title("Centred chars in ISO Latin2")
grid(15, 15, lty=1)
for(i in c(32:127, 160:255)) {
    x <- i %% 16
    y <- i %/% 16
    points(x, y, pch=i)
}

and apart from some missing centering information it looks like
a table of ISO Latin2 I looked up.

Now, it may well be that your idea of latin2 differs from that, in which
case you need to change "ISOLatin2.enc".  If so, can you let us know
so we can correct the file.

(BTW, I am assuming you do have a viewer with fonts that is capable of
showing the characters that you say are missing, but that's worth
checking. In the test above the .enc file shows what is not defined.
Mine has one missing)


> Then I tried to copy the standard X11 .afm latin2 fonts to R's font
> directory. This didn't help either. I guess I would have to somehow tell R
> to use those fonts (and: can I do it without actually knowing the font
> family name? I only know their filenames...). Another question related to

Use the form of the family argument that specifies 4 afm files.
However, `X11' afm files are probably not correct for postscript fonts,
and you still need to deal with encoding.

> the topic is whether it is possible to use postscript character names as
> escape sequences for particular characters within a string instead of using
> \xxx for ascii code?

No. PostScript only knows about encoded strings.

>
> I would be very greatful if anyone could help me.
>
> Thanks --
>
> Kuba Fast
>
>
>
> --
>
> OnetKomunikator - porozumiesz sie
> z innymi [ http://ok.onet.pl/instaluj.html ]
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 27 10:22:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 27 Aug 2001 09:22:21 +0100 (BST)
Subject: [R] Compile from Source.
In-Reply-To: <Pine.SOL.4.21.0108271947090.23257-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0108270918250.18438-100000@gannet.stats>

On Mon, 27 Aug 2001, Ko-Kang Kevin Wang wrote:

> Hi,
>
> Can anyone tell me how I can compile R from source under Windows
> environemtn (I kind of know how to do it in a UNIX enviroment)?
>
> What I mean is, suppose I make some changes in the R base, or reorganising
> the libraries, and want to compile into a Setup.exe file (like the one
> located in CRAN), how should I do this?
>
> Many thanks in advance...

Try looking in the sources:  src/gnuwin32/INSTALL for one.

If you do want to distribute different versions, do clearly mark them as
such.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Aug 27 10:48:59 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 27 Aug 2001 10:48:59 +0200
Subject: [R] Importing  file from Excel
In-Reply-To: <20010827062613.82302.qmail@web20104.mail.yahoo.com>
Message-ID: <MABBLJDICACNFOLGIHJOKEEFCFAA.phgrosje@ulb.ac.be>

>Hi,

> I have a basic import problem. I tried to import a
>comma delimited "boston.csv" from C drive and gave the
>following command at R prompt

>>read.csv(c:\boston.csv,sep=",",dec=".",fill=TRUE)
Error: syntax error

>can any one help to debugg the code.I am using R
>version 1.3 for windows




You should use:
>read.csv("c:/boston.csv")

Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( ( 
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1" 
( ( ( ( (                                  L. Gonick & W. Smith (1993) 
 ) ) ) ) )
......................................................................
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Mon Aug 27 11:39:48 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Mon, 27 Aug 2001 02:39:48 -0700 (PDT)
Subject: [R] tree package for imported file
Message-ID: <20010827093948.87369.qmail@web20102.mail.yahoo.com>

Hi,

  I imported a file using the read.csv format. when I
gave the following command I got the reply  data   

>data("c:/ta_data1.csv")
Warning message: 
Data set `c:/ta_data1.csv' not found in:
data("c:/ta_data1.csv")

I imported file to run a tree model for the dataset. 
For the following code I got syntax error

>ta.tr<-tree(Class~.,c:/ta_data1.csv)

I want to run tree module for imported files. If some
one can hint on the proper way to carry out tree
building for imported files

with thanx for responders

srinivas 



__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Aug 27 12:36:08 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 27 Aug 2001 12:36:08 +0200
Subject: [R] plot(type="h") with bars starting form nonzero values
In-Reply-To: <MABBLJDICACNFOLGIHJOIEPFCEAA.phgrosje@ulb.ac.be>
Message-ID: <MABBLJDICACNFOLGIHJOEEEHCFAA.phgrosje@ulb.ac.be>

Hello,

I am using plot(data, type="h") to represent residuals of a time serie
decomposition, like in stl(). Now, since I am using a multiplicative model X
= S x T x R (serie X decomposed as S seasonal, T trend and R residual, by
the way, using Census II method). In this model, no residual means R = 1,
and not R = 0. Is it a way to represent vertical bars with type="h",
starting from elsewhere than 0 (i.e., here from 1)?
Thanks,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Aug 27 13:52:11 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 27 Aug 2001 13:52:11 +0200
Subject: [R] plot(type="h") with bars starting form nonzero values
References: <MABBLJDICACNFOLGIHJOEEEHCFAA.phgrosje@ulb.ac.be>
Message-ID: <3B8A346B.3AEB0E2F@statistik.uni-dortmund.de>



Philippe Grosjean wrote:
> 
> Hello,
> 
> I am using plot(data, type="h") to represent residuals of a time serie
> decomposition, like in stl(). Now, since I am using a multiplicative model X
> = S x T x R (serie X decomposed as S seasonal, T trend and R residual, by
> the way, using Census II method). In this model, no residual means R = 1,
> and not R = 0. Is it a way to represent vertical bars with type="h",
> starting from elsewhere than 0 (i.e., here from 1)?

I think it is not possible. But you can use segments() instead.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Aug 27 15:25:10 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 27 Aug 2001 09:25:10 -0400 (EDT)
Subject: [R] Display of 3d arrays
In-Reply-To: <Pine.OSF.3.96.1010826235240.29615A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0108270922590.2436-100000@bolker.zoo.ufl.edu>


  This isn't quite a perfect solution but you might be able to make it
work:

## data
x <- c(170,174,173,172,161,
171,178,174,166,149,
168,174,173,166,156,
171,170,173,166,164,
167,170,170,171,169,
138,131,128,128,125,
138,127,129,122,134,
144,131,130,127,132,
142,138,130,131,129,
146,141,135,129,131,
124,123,127,125,125,
125,126,126,126,123,
127,123,125,128,128,
123,121,125,125,126)

## reshape data to your specifications
y <- array(x,dim=c(5,5,3))
z <- aperm(y,c(2,1,3))

## color matrix from array
colmat <- apply(z/256,c(1,2),function(z)do.call("rgb",as.list(z)))


## hack -- fake image() into plotting specific colors
cols <- as.vector(colmat)
image(matrix(1:length(colmat),nrow=nrow(colmat)),col=cols)

## test
tstarr <- array(c(256,256,0,0,0,0,256,256,0,256,256,0),
                dim=c(2,2,3))
tstarr
colmat <- apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
cols <- as.vector(colmat)
image(matrix(1:length(colmat),nrow=nrow(colmat)),col=cols)


On Sun, 26 Aug 2001, Agustin Lobo wrote:

> Hi!
>
> Is it possible to display a 3d array as
> an RGB image? For example, given the following
> array:
> > matriz3d
> , , 1
>
>      [,1] [,2] [,3] [,4] [,5]
> [1,]  170  174  173  172  161
> [2,]  171  178  174  166  149
> [3,]  168  174  173  166  156
> [4,]  171  170  173  166  164
> [5,]  167  170  170  171  169
>
> , , 2
>
>      [,1] [,2] [,3] [,4] [,5]
> [1,]  138  131  128  128  125
> [2,]  138  127  129  122  134
> [3,]  144  131  130  127  132
> [4,]  142  138  130  131  129
> [5,]  146  141  135  129  131
>
> , , 3
>
>      [,1] [,2] [,3] [,4] [,5]
> [1,]  124  123  127  125  125
> [2,]  125  126  126  126  123
> [3,]  127  123  125  128  128
> [4,]  123  121  125  125  126
> [5,]  118  122  124  126  125
>
> the first row would be diplayed with rgb colors matriz3d[1,1:5,]
>
> (170 138 124) (174 131 123) (173 128 127) (172 128 125) (161 125 125)
>
>
> Thanks
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfast at friko5.onet.pl  Mon Aug 27 15:27:10 2001
From: jfast at friko5.onet.pl (Jakub Fast)
Date: Mon, 27 Aug 2001 15:27:10 +0200
Subject: [R] foreign characters in R plots
References: <Pine.LNX.4.31.0108270859330.18438-100000@gannet.stats>
Message-ID: <000501c12efb$f9dd8d80$483a4cd4@nook>


> I've just tried
>
> postscript("latin2.ps", enc="ISOLatin2.enc")
> par(pty="s")
> plot(c(0,15), c(0,15), type="n", xlab="", ylab="")
> title("Centred chars in ISO Latin2")
> grid(15, 15, lty=1)
> for(i in c(32:127, 160:255)) {
>     x <- i %% 16
>     y <- i %/% 16
>     points(x, y, pch=i)
> }
>
> and apart from some missing centering information it looks like
> a table of ISO Latin2 I looked up.

Thank you for the reply. However, as long as your code works perfectly
(apart from centering, which you mentioned), I am still unable to get the
characters for instance in axis labels. Here's what I do:

postscript("test.ps", enc="ISOLatin2.enc")
plot(somedata, log="xy" ..., xlab="Cz\234sto\182\230 wyst\234powania")
dec.off()

This way I get blanks instead of the characters and a couple of warning
messages (~"character width unknown"). The characters do show up on your
table. What am I doing wrong?


Kuba Fast



-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Aug 27 16:47:27 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 27 Aug 2001 10:47:27 -0400
Subject: [R] GUI support from R
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED60@groexmbcr02.pfizer.com>


Hey Duncan,

Can you share with us the reason for selecting GTK?  

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bobo at medgen.univr.it  Mon Aug 27 17:13:11 2001
From: bobo at medgen.univr.it (Malerba Giovanni)
Date: Mon, 27 Aug 2001 17:13:11 +0200 (CEST)
Subject: [R] t_test and power
In-Reply-To: <Pine.LNX.4.30.0108270922590.2436-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.30.0108271703080.2030-100000@malerba.univr.it>

Hi all,
I would like to estimate the sample size I need to perform some
studies. I 'll will compare 2 groups (A and B) for several quantitative
traits. I saw that R has power.t.test() function to compute the
estimation. My concern is that I know that N_group_A = 3 * N_group_B in
terms of size (and not N_group_A = N_group_B). Is there a way, using R, to
estimate the sample size I need, given that I know the ratio between size of group
A and group B?
Thank you,
Giovanni Malerba



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Aug 27 17:14:27 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 27 Aug 2001 11:14:27 -0400
Subject: [R] GUI support from R
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CED60@groexmbcr02.pfizer.com>; from gregory_r_warnes@groton.pfizer.com on Mon, Aug 27, 2001 at 10:47:27AM -0400
References: <5429125E11E4D411AF7300805FE603A8014CED60@groexmbcr02.pfizer.com>
Message-ID: <20010827111427.A24095@jessie.research.bell-labs.com>

Warnes, Gregory R wrote:
> 
> Hey Duncan,
> 
> Can you share with us the reason for selecting GTK?  

Well there are a few basic reasons.

I know less about wxWindow than I do about Gtk.  And there is a lot
less to Gtk than to wxWindows.  So that makes it is easier for me to
think about the bindings. (Also, Gtk is like X, and I spent a fair bit
of time desigining and developing S bindings for X and different
widget sets a long time ago.) The additional features of wxWindows
such as threads, etc. may get in the way in thinking about how Gtk
bindings relate to, Tcl/Tk, Java, and other GUI toolkits.  It would be
nice to have a level of abstraction above these toolkits with the
ability to select one and use the same code for all.

My "hope" is to be able to use Slcc to programmatically generate 
bindings for Gtk. This will be easier given that I know
my way around some of the Gtk code. However, if it works,
applying the same programmatic approach to wxWindows
should give us 80% of the grunt work for free and then
require some tinkering later.

Importantly, the applications I have in mind for RGtk are things like
extending Gnumeric with plugins, programming GGobi events and even
add-ons, and generally interacting with many of the Gnome tools
including potentially building a GUI for R to replace the C-level
Gnome code with R scripts, making it more flexible and adaptable.
If we use wxWindows for these Gtk-based applications, we are adding
an extra layer between R and the application that will probably be
confusing.

If we do get to the level of abstraction across toolkits, it won't
matter much which toolkit we use, but will only require bindings to
the ones of interest. The challenge then will be to allow integrating
widgets from different toolkits, and that can be tricky on some
platforms.

So, I am in no way ruling out wxWindows. In many respects, it looks
more appealing - just too big at present. What is its development
energy like relative to Gtk. I am very happy to work on wxWindows
too. There is very little in the RGtk at present.

 D.


> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.frias at ucc.ie  Mon Aug 27 15:18:36 2001
From: j.frias at ucc.ie (Frias, Jesus)
Date: Mon, 27 Aug 2001 14:18:36 +0100
Subject: [R] urgent response needed
Message-ID: <F64493091FAC4D4DAC46261FEC1967990A3150@xch4.ucc.ie>

Dear Rlisters:

	I would personally disencourage to answer this letter and ,in my
opinion, I would advise to reject from the list further mails like this one.
They scam people through their VISA numbers. These emails from Nigeria are
sadly familiar to an association that I belong (the Institute of Food
Technologist, IFT). We received letters from the IFT telling that they got
somehow access to the associates database and they were making a mail
campaign with very similar stories. Legal attempts against this was very
difficult to make and they have been sending this kind of letters several
times to the IFT associates.

with my best regards,

IOsu



-----Original Message-----
From: Chike Ubah
To: spssx-L at uga.cc.uga.edu
Sent: 8/27/01 11:47 AM
Subject: [R] urgent response needed

............... [deleted by list maintainer
		[the above message already bounced because
		 I've added some keywords of this Nigeria letter to
		 our anti-spam filter, MM]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 27 17:34:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Aug 2001 17:34:53 +0200
Subject: [R] t_test and power
In-Reply-To: <Pine.LNX.4.30.0108271703080.2030-100000@malerba.univr.it>
References: <Pine.LNX.4.30.0108271703080.2030-100000@malerba.univr.it>
Message-ID: <x2pu9hv7mq.fsf@blueberry.kubism.ku.dk>

Malerba Giovanni <bobo at medgen.univr.it> writes:

> Hi all,
> I would like to estimate the sample size I need to perform some
> studies. I 'll will compare 2 groups (A and B) for several quantitative
> traits. I saw that R has power.t.test() function to compute the
> estimation. My concern is that I know that N_group_A = 3 * N_group_B in
> terms of size (and not N_group_A = N_group_B). Is there a way, using R, to
> estimate the sample size I need, given that I know the ratio between size of group
> A and group B?
> Thank you,
> Giovanni Malerba

There's no trivial way, but it wouldn't be hard to modify the existing
power.t.test to do it. The crucial bit is

    p.body <- quote({
        nu <- (n - 1) * tsample
        pt(qt(sig.level/tside, nu, lower = FALSE), nu, ncp = sqrt(n/tsample) * 
            delta/sd, lower = FALSE)
    })

for your purposes, nu should be (n-1+3*n-1) == (4*n - 2)
and the noncentrality in the ncp argument is sqrt(1/(1/n+1/(3*n)))*delta/sd
== sqrt(3*n/4)*delta/sd

(Make sure you check this on paper first. It is terribly easy to get
it slightly wrong in an email.)

For reasonably large groups, the exact calculation of degrees of
freedom is unimportant, and it should work to increase the delta by a
factor of sqrt(3/2) and get a conservative estimate of n (which will
be the number in the smaller group then).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 27 18:10:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 27 Aug 2001 17:10:27 +0100 (BST)
Subject: [R] foreign characters in R plots
In-Reply-To: <000501c12efb$f9dd8d80$483a4cd4@nook>
Message-ID: <Pine.LNX.4.31.0108271700390.18657-100000@gannet.stats>

On Mon, 27 Aug 2001, Jakub Fast wrote:

>
> > I've just tried
> >
> > postscript("latin2.ps", enc="ISOLatin2.enc")
> > par(pty="s")
> > plot(c(0,15), c(0,15), type="n", xlab="", ylab="")
> > title("Centred chars in ISO Latin2")
> > grid(15, 15, lty=1)
> > for(i in c(32:127, 160:255)) {
> >     x <- i %% 16
> >     y <- i %/% 16
> >     points(x, y, pch=i)
> > }
> >
> > and apart from some missing centering information it looks like
> > a table of ISO Latin2 I looked up.
>
> Thank you for the reply. However, as long as your code works perfectly
> (apart from centering, which you mentioned), I am still unable to get the
> characters for instance in axis labels. Here's what I do:
>
> postscript("test.ps", enc="ISOLatin2.enc")
> plot(somedata, log="xy" ..., xlab="Cz\234sto\182\230 wyst\234powania")
> dec.off()
>
> This way I get blanks instead of the characters and a couple of warning
> messages (~"character width unknown"). The characters do show up on your
> table. What am I doing wrong?

Octal  234 is decimal 156, and there is no character encoded there.
182 is not octal...

Did you think those escapes were decimal?  I got

Warning messages:
1: font width unknown for character 156
2: font width unknown for character 130
3: font width unknown for character 152
...

which might have given you a clue.

*You* should just be able to type those characters on a Polish keyboard,
at least if it is generating what my tables think is latin2.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kfast at poczta.onet.pl  Mon Aug 27 18:31:17 2001
From: kfast at poczta.onet.pl (kfast@poczta.onet.pl)
Date: Mon, 27 Aug 2001 18:31:17 +0200
Subject: [R] Re: [R} foreign characters in R plots
Message-ID: <20010827163122Z231253-723+242571@f2virt.onet.pl>

I actually did think they were decimal :). Everything works fine now, thanks a million for your help. And sorry for taking your time with something that was actually a result of my carelessness...


Kuba Fast


-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Mon Aug 27 23:27:01 2001
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Mon, 27 Aug 2001 17:27:01 -0400
Subject: [R] Error meesage from RGUI
Message-ID: <OF03BEE730.B9179A2E-ON85256AB5.0074F977@cbis.com>

I am using Version 1.3.0  (2001-06-22) on Windows/2000.  Had loaded the
'lattice' and 'grid' libraries and was trying the example on densityplot:

   data(singer)
     densityplot( ~ height | voice.part, data = singer, layout = c(2, 4),
                 xlab = "Height (inches)", bw = 5)
     ## Using a predefined panel function to fit a normal distribution
     densityplot( ~ height | voice.part, data = singer, layout = c(2, 4),
                 xlab = "Height (inches)",
                 ylab = "Kernel Density/ Normal Fit",
                 main = list("Estimated Density", cex = 2, col = "DarkOliveGreen"),
                 panel = function(x, ...) {
                     panel.xyplot(x = jitter(x),
                                  y = rep(0, length(x)))
                     panel.densityplot(x, ...)
                     panel.mathdensity(dmath = dnorm,
                                       args = list(mean=mean(x),sd=sd(x)))
                 } )


This seem to execute OK, but when I went to look at the graphs, I had the
"recording" turned on, and when I tried to PgUp to the first graph, I got
the error message:

RGUI.EXE application error
0x0258D895  referenced memory 0x00000010.  The memory could not be "read"

I could see the graphs being drawn correctly.  I also tried to select
"Previous" from the popdown menu and the same thing happened.

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Duncan.Mackay at flinders.edu.au  Mon Aug 27 07:09:35 2001
From: Duncan.Mackay at flinders.edu.au (Duncan Mackay)
Date: Mon, 27 Aug 2001 14:39:35 +0930
Subject: [R] plotting dendrograms from cluster analyses
Message-ID: <LKEKIOMKIBNKJOPKIKOOEEJPCDAA.Duncan.Mackay@flinders.edu.au>

Hi all,
I have a bit of a newbie question here that I hope y'all can help with. I've
run a cluster analysis using hclust on about 500 objects (using R1.3 under
Win 2000). The problem is that the tips of the dendrogram are so close
together on the plot that the labels overlap and are unreadable. I've used
"cex" to reduce the label sizes but this isn't sufficient with so many
objects on the plot. I've looked at "cutree" but this seems to show a
summary of the upper levels of the dendrogram (?) and I want to see the
details at the bottom. Basically I just want to print the dendrogram over
several pages so that the plot is stetched out horizontally and the tip
labels become readable. Is that possible? More generally, how does one print
out large plots over several pages?? Can that be done?
Many thanks for any help,
Duncan

*******************************************
Dr. Duncan Mackay
Biology
Flinders University
GPO Box 2100
Adelaide
S.A.    5001
AUSTRALIA

Ph (08) 8201 2627    FAX (08) 8201 3015

http://www.bio.flinders.edu.au/dam/damres.htm


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Aug 28 04:01:38 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Mon, 27 Aug 2001 22:01:38 -0400
Subject: [R] plotting dendrograms from cluster analyses
References: <LKEKIOMKIBNKJOPKIKOOEEJPCDAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <3B8AFB82.61696F8A@virginia.edu>

This may not be a solution to your problem but I think
it would be worthwhile to develop a dendogram graphics
driver that uses AT&T's graphviz package, which has its
only command language and produces very detailed directed
and undirected graphs.  You can find graphviz at
http://www.research.att.com/sw/tools/graphviz

The manuals for the programs that make up graphviz have
many nice examples.

Frank Harrell


Duncan Mackay wrote:
> 
> Hi all,
> I have a bit of a newbie question here that I hope y'all can help with. I've
> run a cluster analysis using hclust on about 500 objects (using R1.3 under
> Win 2000). The problem is that the tips of the dendrogram are so close
> together on the plot that the labels overlap and are unreadable. I've used
> "cex" to reduce the label sizes but this isn't sufficient with so many
> objects on the plot. I've looked at "cutree" but this seems to show a
> summary of the upper levels of the dendrogram (?) and I want to see the
> details at the bottom. Basically I just want to print the dendrogram over
> several pages so that the plot is stetched out horizontally and the tip
> labels become readable. Is that possible? More generally, how does one print
> out large plots over several pages?? Can that be done?
> Many thanks for any help,
> Duncan
> 
> *******************************************
> Dr. Duncan Mackay
> Biology
> Flinders University
> GPO Box 2100
> Adelaide
> S.A.    5001
> AUSTRALIA
> 
> Ph (08) 8201 2627    FAX (08) 8201 3015
> 
> http://www.bio.flinders.edu.au/dam/damres.htm
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyw at u.washington.edu  Tue Aug 28 04:57:48 2001
From: jyw at u.washington.edu (J. Wan)
Date: Mon, 27 Aug 2001 19:57:48 -0700 (PDT)
Subject: [R] Making a private library on UNIX
Message-ID: <Pine.A41.4.33.0108271954250.93104-100000@dante52.u.washington.edu>

Hi!

I am having trouble making a private library on UNIX.  I have made a
personal directory system which contains the R packages but I cannot get R
to recognize this path/directory as a library.  When I type in :

> library()

only the public library appears.


Thanks !

**********************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Aug 28 05:08:00 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 28 Aug 2001 15:08:00 +1200
Subject: [R] Subsetting simulation output
Message-ID: <200108280309.PAA08887@gosset.stats.waikato.ac.nz>

Does anyone understand this?

I have a long vector parlist containing values of 138 parameters in 100
simulations.
The factor parno is defined by 
trys <- 100
sim <- gl(trys,138)
parno <- gl(138,1,trys*138)

I want to extract and compare results for related groups of parameters but I
get inconsistent results:

> length(parlist[parno==37:42])
[1] 600
> length(parlist[parno==c(37,38,39,40,41,42)])
[1] 600
> length(parlist[parno==c(43, 48, 53, 58, 63, 68)])
[1] 200

Which I feel should be 600.

I am using R1.2.1 under Windows NT 4.0.

Murray Jorgensen

> tapply(parlist,parno,length)
  1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
 19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
 37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
 55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
 73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
 91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 
100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 
127 128 129 130 131 132 133 134 135 136 137 138 
100 100 100 100 100 100 100 100 100 100 100 100 


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bved01 at hia.net  Tue Aug 28 05:24:05 2001
From: bved01 at hia.net (Bill Vedder)
Date: Mon, 27 Aug 2001 22:24:05 -0500
Subject: [R] Help with Clustering Techniques in R
Message-ID: <3B8B0ED4.E713B1E1@hia.net>

Greetings RListers,

I have a data set containing two types of outcomes; success and failure.
Associated with each outcome are 12  different measurements.  I'm trying
to find out, for example, if some of the 12 measures are associated more
with success or failure or, if there's any relationship at all between
the measures and the outcomes (success or failure).

I don't have (as yet) any experience using clustering techniqes (in R or
elsewhere) but thought that they might be applied in this situation.

In general, are clustering techniques useful in this situation? Is any
techniques better than another?

And more specifically, can I use R to determine clustering characterics
of the 12 measures and then, for each cluster, have R output whether the
cluster is more associated with success or failure?

Any help appreciated,

Bill Vedder



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Tue Aug 28 05:52:09 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Mon, 27 Aug 2001 20:52:09 -0700 (PDT)
Subject: [R] optimizing R for large dataset
Message-ID: <20010828035209.78377.qmail@web20103.mail.yahoo.com>

Hi R-users,

   I am interested in knowing the System Requirement
(including RAM,ideal processor,Hard Disk and OS) for
optimizing R system for processing data set of '1 GB '

   Also how to implement such a configuration for R.

srinivas


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Aug 28 07:55:44 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 28 Aug 2001 07:55:44 +0200 (MET DST)
Subject: [R] Display of 3d arrays
In-Reply-To: <Pine.LNX.4.30.0108270922590.2436-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.OSF.3.96.1010828073520.12973A-100000@ija.csic.es>


Thanks Ben,

An improvement would be indexing the colors,
as often there will be fewer colors than cells.

For example:

tstarr <-
array(rep(c(0,0,0,0,200,200,200,200,250,250,250,250),12*3*3),dim=c(8,3,3))
colmat <- apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
cols <- as.vector(unique(colmat))
                  ^^^^^^
and use (for this example):
cbind(c(rep(1,4),rep(2,4)),c(rep(3,4),rep(1,4)),c(rep(2,4),rep(3,4)))

in  image() instead of:
matrix(1:length(colmat),nrow=nrow(colmat))

The question now is to find a general way of selecting and 
indexing the unique triplets.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 27 Aug 2001 ben at zoo.ufl.edu wrote:

> 
>   This isn't quite a perfect solution but you might be able to make it
> work:
> 
> ## data
> x <- c(170,174,173,172,161,
> 171,178,174,166,149,
> 168,174,173,166,156,
> 171,170,173,166,164,
> 167,170,170,171,169,
> 138,131,128,128,125,
> 138,127,129,122,134,
> 144,131,130,127,132,
> 142,138,130,131,129,
> 146,141,135,129,131,
> 124,123,127,125,125,
> 125,126,126,126,123,
> 127,123,125,128,128,
> 123,121,125,125,126)
> 
> ## reshape data to your specifications
> y <- array(x,dim=c(5,5,3))
> z <- aperm(y,c(2,1,3))
> 
> ## color matrix from array
> colmat <- apply(z/256,c(1,2),function(z)do.call("rgb",as.list(z)))
> 
> 
> ## hack -- fake image() into plotting specific colors
> cols <- as.vector(colmat)
> image(matrix(1:length(colmat),nrow=nrow(colmat)),col=cols)
> 
> ## test
> tstarr <- array(c(256,256,0,0,0,0,256,256,0,256,256,0),
>                 dim=c(2,2,3))
> tstarr
> colmat <- apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
> cols <- as.vector(colmat)
> image(matrix(1:length(colmat),nrow=nrow(colmat)),col=cols)
> 
> 
> On Sun, 26 Aug 2001, Agustin Lobo wrote:
> 
> > Hi!
> >
> > Is it possible to display a 3d array as
> > an RGB image? For example, given the following
> > array:
> > > matriz3d
> > , , 1
> >
> >      [,1] [,2] [,3] [,4] [,5]
> > [1,]  170  174  173  172  161
> > [2,]  171  178  174  166  149
> > [3,]  168  174  173  166  156
> > [4,]  171  170  173  166  164
> > [5,]  167  170  170  171  169
> >
> > , , 2
> >
> >      [,1] [,2] [,3] [,4] [,5]
> > [1,]  138  131  128  128  125
> > [2,]  138  127  129  122  134
> > [3,]  144  131  130  127  132
> > [4,]  142  138  130  131  129
> > [5,]  146  141  135  129  131
> >
> > , , 3
> >
> >      [,1] [,2] [,3] [,4] [,5]
> > [1,]  124  123  127  125  125
> > [2,]  125  126  126  126  123
> > [3,]  127  123  125  128  128
> > [4,]  123  121  125  125  126
> > [5,]  118  122  124  126  125
> >
> > the first row would be diplayed with rgb colors matriz3d[1,1:5,]
> >
> > (170 138 124) (174 131 123) (173 128 127) (172 128 125) (161 125 125)
> >
> >
> > Thanks
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s195404 at student.uq.edu.au  Tue Aug 28 08:20:40 2001
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Tue, 28 Aug 2001 16:20:40 +1000 (EST)
Subject: [R] Christmas tree graphs
Message-ID: <998979640.3b8b383881100@my.uq.edu.au>


Hello R users,

I wish to draw a type of horizontal bar chart for two groups (males and 
females). The values for one group will start at the y-axis and point to the 
left, and the values for the other group will start at the y-axis and point to 
the right. If you're (un)lucky, the resulting graph can assume the shape of a 
Christmas tree.

The data are
	left.side <- c(107092, 113053, 121163, 112209, 106543, 72895, 46920, 
32606, 11106, 1134, 60, 5247)
	right.side <- c(102129, 109261, 123291, 117322, 110397, 71027, 50319, 
43805, 21074, 3621, 204, 6608)

The R function barchart allows me to stack bars and to juxtapose them, but I 
can't see how to draw the bars outwards from a centreline. If anyone had some 
hints on how to do this, I would be very grateful. Thank you!

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 28 08:37:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 28 Aug 2001 07:37:40 +0100 (GMT Daylight Time)
Subject: [R] Error meesage from RGUI
In-Reply-To: <OF03BEE730.B9179A2E-ON85256AB5.0074F977@cbis.com>
Message-ID: <Pine.WNT.4.31.0108280732360.804-100000@tern.stats>

Notice, you were using lattice and grid.  They are currently experimental,
in the Devel section on CRAN.  I am not surprised they interact with
recording on Windows, as grid changes a lot of the underlying graphics
structure.

You now have a good opportunity to contribute a patch that solves the
apparent conflict.

On Mon, 27 Aug 2001 james.holtman at convergys.com wrote:

> I am using Version 1.3.0  (2001-06-22) on Windows/2000.  Had loaded the
> 'lattice' and 'grid' libraries and was trying the example on densityplot:
>
>    data(singer)
>      densityplot( ~ height | voice.part, data = singer, layout = c(2, 4),
>                  xlab = "Height (inches)", bw = 5)
>      ## Using a predefined panel function to fit a normal distribution
>      densityplot( ~ height | voice.part, data = singer, layout = c(2, 4),
>                  xlab = "Height (inches)",
>                  ylab = "Kernel Density/ Normal Fit",
>                  main = list("Estimated Density", cex = 2, col = "DarkOliveGreen"),
>                  panel = function(x, ...) {
>                      panel.xyplot(x = jitter(x),
>                                   y = rep(0, length(x)))
>                      panel.densityplot(x, ...)
>                      panel.mathdensity(dmath = dnorm,
>                                        args = list(mean=mean(x),sd=sd(x)))
>                  } )
>
>
> This seem to execute OK, but when I went to look at the graphs, I had the
> "recording" turned on, and when I tried to PgUp to the first graph, I got
> the error message:
>
> RGUI.EXE application error
> 0x0258D895  referenced memory 0x00000010.  The memory could not be "read"
>
> I could see the graphs being drawn correctly.  I also tried to select
> "Previous" from the popdown menu and the same thing happened.
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 28 08:56:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 28 Aug 2001 07:56:10 +0100 (BST)
Subject: [R] Making a private library on UNIX
In-Reply-To: <Pine.A41.4.33.0108271954250.93104-100000@dante52.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0108280754050.13980-100000@auk.stats>

On Mon, 27 Aug 2001, J. Wan wrote:

> Hi!
>
> I am having trouble making a private library on UNIX.  I have made a
> personal directory system which contains the R packages but I cannot get R
> to recognize this path/directory as a library.  When I type in :
>
> > library()
>
> only the public library appears.

Set .lib.loc correctly, most easily by

R_LIBS=/path/to/my/directory

in your .Renviron file, but also by

.lib.loc <- c("/path/to/my/directory", .Library)

in an R session.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 28 09:03:21 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 28 Aug 2001 09:03:21 +0200
Subject: [R] Making a private library on UNIX
References: <Pine.A41.4.33.0108271954250.93104-100000@dante52.u.washington.edu>
Message-ID: <3B8B4239.636EBF1E@statistik.uni-dortmund.de>



"J. Wan" wrote:
> 
> Hi!
> 
> I am having trouble making a private library on UNIX.  I have made a
> personal directory system which contains the R packages but I cannot get R
> to recognize this path/directory as a library.  When I type in :
> 
> > library()
> 
> only the public library appears.

Did you set the path in .lib.loc ?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 28 09:26:35 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 28 Aug 2001 09:26:35 +0200
Subject: [R] Christmas tree graphs
References: <998979640.3b8b383881100@my.uq.edu.au>
Message-ID: <3B8B47AB.FA3EFE24@statistik.uni-dortmund.de>



"Andrew C. Ward" wrote:
> 
> Hello R users,
> 
> I wish to draw a type of horizontal bar chart for two groups (males and
> females). The values for one group will start at the y-axis and point to the
> left, and the values for the other group will start at the y-axis and point to
> the right. If you're (un)lucky, the resulting graph can assume the shape of a
> Christmas tree.
> 
> The data are
>         left.side <- c(107092, 113053, 121163, 112209, 106543, 72895, 46920,
> 32606, 11106, 1134, 60, 5247)
>         right.side <- c(102129, 109261, 123291, 117322, 110397, 71027, 50319,
> 43805, 21074, 3621, 204, 6608)
> 
> The R function barchart allows me to stack bars and to juxtapose them, but I
> can't see how to draw the bars outwards from a centreline. If anyone had some
> hints on how to do this, I would be very grateful. Thank you!


  barplot(matrix(c(-left.side, right.side), ncol=2), horiz=TRUE, 
    beside=TRUE, space=c(0,-length(left.side))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Aug 28 09:42:13 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 28 Aug 2001 09:42:13 +0200
Subject: [R] plotting dendrograms from cluster analyses
In-Reply-To: <LKEKIOMKIBNKJOPKIKOOEEJPCDAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <MABBLJDICACNFOLGIHJOKEENCFAA.phgrosje@ulb.ac.be>

Under Windows 2000 (since you are using this environment), some printer
drivers have options for "poster printing". For instance, with the later
driver of the HP Deskjet 990cxi, you can print in up to 4x4 sheets of paper.
This could be an easy solution to your problem. Just select the desired
options in the printer driver. If your printer driver doesn't exhibit such
features, you still can save a metafile version of your graph and import it
in a vector drawing program that offer this possibility, like Corel Draw (I
think this option exists since version 5 or 6). I don't believe this should
be a feature included in R. It is really a printer driver job!

Also, (I haven't looked at it) but there is a package "pinktoe" in CRAN that
convert a tree into a serie of html objects you can transverse interactively
in a web browser. This could be another convenient solution to explore your
very large tree.

Best regards,

Philippe Grosjean


..........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................




>Hi all,
>I have a bit of a newbie question here that I hope y'all can help with.
I've
>run a cluster analysis using hclust on about 500 objects (using R1.3 under
>Win 2000). The problem is that the tips of the dendrogram are so close
>together on the plot that the labels overlap and are unreadable. I've used
>"cex" to reduce the label sizes but this isn't sufficient with so many
>objects on the plot. I've looked at "cutree" but this seems to show a
>summary of the upper levels of the dendrogram (?) and I want to see the
>details at the bottom. Basically I just want to print the dendrogram over
>several pages so that the plot is stetched out horizontally and the tip
>labels become readable. Is that possible? More generally, how does one
print
>out large plots over several pages?? Can that be done?
>Many thanks for any help,
>Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue Aug 28 09:29:34 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 28 Aug 2001 09:29:34 +0200 (CEST)
Subject: [R] Christmas tree graphs
In-Reply-To: <998979640.3b8b383881100@my.uq.edu.au>
Message-ID: <Pine.LNX.4.21.0108280924450.5672-100000@reclus.nhh.no>

On Tue, 28 Aug 2001, Andrew C. Ward wrote:

> 
> Hello R users,
> 
> I wish to draw a type of horizontal bar chart for two groups (males and 
> females). The values for one group will start at the y-axis and point to the 
> left, and the values for the other group will start at the y-axis and point to 
> the right. If you're (un)lucky, the resulting graph can assume the shape of a 
> Christmas tree.
> 
> The data are
> 	left.side <- c(107092, 113053, 121163, 112209, 106543, 72895, 46920, 
> 32606, 11106, 1134, 60, 5247)
> 	right.side <- c(102129, 109261, 123291, 117322, 110397, 71027, 50319, 
> 43805, 21074, 3621, 204, 6608)
> 
> The R function barchart allows me to stack bars and to juxtapose them, but I 
> can't see how to draw the bars outwards from a centreline. If anyone had some 
> hints on how to do this, I would be very grateful. Thank you!
> 

I've used this function to draw population pyramids - it's not polished
though, and is rather old:

pyramid <- function(kpop, mpop, title="")
{
	mk <- max(kpop)
	mm <- max(mpop)
	w <- 2.2 * max(c(mk, mm))
	m <- w / 2
	h <- w
	slice <- h / length(kpop)
	op <- par(xaxt="n", yaxt="n", pty="s")
	plot(c(0,w), c(0,h), type="n", main=title, xlab="", ylab="")
	segments(0,0,w,0)
	segments(m,0,m,h)
	for (i in 1:length(kpop)) {
		rect(m-mpop[i], slice*(i-1), m, slice*i, col="gray")
		rect(m, slice*(i-1), m+kpop[i], slice*i, col="gray")
	}
	par(op)
	par(yaxt="s")
}

It ought to annotate the x-axis too.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From learnts at yahoo.com  Tue Aug 28 11:00:42 2001
From: learnts at yahoo.com (Mahesh Gautam)
Date: Tue, 28 Aug 2001 02:00:42 -0700 (PDT)
Subject: [R] ARIMAX
Message-ID: <20010828090042.19840.qmail@web20304.mail.yahoo.com>

I am new to R-system. I have found time series
modeling package whereby ARIMA model can be developed.
I would like to know if there exists some package
within R-system whereby parameters of transfer
function model can be estimated using the
preliminaraly identified model. 
Any sort of help in this regard will be highly
appreciated.
MG


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfast at friko5.onet.pl  Tue Aug 28 11:01:36 2001
From: jfast at friko5.onet.pl (Jakub Fast)
Date: Tue, 28 Aug 2001 11:01:36 +0200
Subject: [R] plotting dendrograms from cluster analyses
References: <LKEKIOMKIBNKJOPKIKOOEEJPCDAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <003f01c12fa0$0b22fe00$483a4cd4@nook>

> Hi all,
> I have a bit of a newbie question here that I hope y'all can help with.
I've
> run a cluster analysis using hclust on about 500 objects (using R1.3 under
> Win 2000). The problem is that the tips of the dendrogram are so close
> together on the plot that the labels overlap and are unreadable. I've used
> "cex" to reduce the label sizes but this isn't sufficient with so many
> objects on the plot. I've looked at "cutree" but this seems to show a
> summary of the upper levels of the dendrogram (?) and I want to see the
> details at the bottom. Basically I just want to print the dendrogram over
> several pages so that the plot is stetched out horizontally and the tip
> labels become readable. Is that possible? More generally, how does one
print
> out large plots over several pages?? Can that be done?
> Many thanks for any help,
> Duncan

I have done clusterings with ca. 300 items. For those, I found that a paper
size of 25 by 25 inches was more than enough.I don't remember, but I think I
set the cex to something like 0.5~0.7 on those. When printed out on multiple
pages the trees were perfectly readable.

Regards,

Kuba Fast



-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Aug 28 11:33:04 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 28 Aug 2001 11:33:04 +0200 (MET DST)
Subject: [R] Error: vector memory exhausted (limit reached?)
Message-ID: <Pine.OSF.3.96.1010828113155.17941A-100000@ija.csic.es>


While runing R1.3.0 on a Win95 machine,
a process has produced the following error:

Error: vector memory exhausted (limit reached?)
In addition: Warning message: 
Reached total allocation of 47Mb: see help(memory.size) 
Lost warning messages

Now I cannot save the work (not too bad,
I had used save.image() just prior to launch
the process), but cannot quit the program:

> save.image()
Error: vector memory exhausted (limit reached?)
In addition: Warning message: 
Reached total allocation of 47Mb: see help(memory.size) 
Lost warning messages
> q()
Error: vector memory exhausted (limit reached?)


What should I do? Just kill R?

Thanks


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meili at stat.math.ethz.ch  Tue Aug 28 11:39:00 2001
From: meili at stat.math.ethz.ch (Ruth Meili)
Date: Tue, 28 Aug 2001 11:39:00 +0200
Subject: [R] r-help:logit and natural response
Message-ID: <15243.26292.380419.668148@gargle.gargle.HOWL>


Hello.

Does anybody have some experience with multiple logit- or probit-models, which
include an estimate of a "natural response"? I.e. I would like to fit a
dose-response-model taking in acount that maybe some individuals die
because of other reasons than the influence of the stimuli.

(By multipe logit- or probit-models I mean, that I have more than one
explanatory variable) 

Further, I thougt about the idea of constructing an own link-function g,
such that range (inv(g)) = [alpha, 1) where alpha > 0. Is anybody familiar
with a procedure like this?

Sincerely
Ruth Meili

-- 
Ruth Meili <meili at stat.math.ethz.ch>
Seminar fuer Statistik, LEO D6
ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
phone: x-41-1-632-3505		fax: x-41-1-632-1228
http://stat.ethz.ch/~meili/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 28 11:44:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Aug 2001 11:44:54 +0200
Subject: [R] Subsetting simulation output
In-Reply-To: <200108280309.PAA08887@gosset.stats.waikato.ac.nz>
References: <200108280309.PAA08887@gosset.stats.waikato.ac.nz>
Message-ID: <x2wv3oldrd.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> Does anyone understand this?
> 
> I have a long vector parlist containing values of 138 parameters in 100
> simulations.
> The factor parno is defined by 
> trys <- 100
> sim <- gl(trys,138)
> parno <- gl(138,1,trys*138)
> 
> I want to extract and compare results for related groups of parameters but I
> get inconsistent results:
> 
> > length(parlist[parno==37:42])
> [1] 600
> > length(parlist[parno==c(37,38,39,40,41,42)])
> [1] 600
> > length(parlist[parno==c(43, 48, 53, 58, 63, 68)])
> [1] 200
> 
> Which I feel should be 600.

You want %in%, not == there.

Beware the effects of vector recycling. Same thing with shorter vectors:

> 1:12 == 3:5
 [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> 1:12 == 4:6
 [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE

since

> cbind(1:12,3:5,4:6)
      [,1] [,2] [,3]
 [1,]    1    3    4
 [2,]    2    4    5
 [3,]    3    5    6
 [4,]    4    3    4
 [5,]    5    4    5
 [6,]    6    5    6
 [7,]    7    3    4
 [8,]    8    4    5
 [9,]    9    5    6
[10,]   10    3    4
[11,]   11    4    5
[12,]   12    5    6

You're effectively only counting those items for which the number
matches the position modulo 6:

> c(43, 48, 53, 58, 63, 68) %% 6 == 1:6 %% 6
[1]  TRUE FALSE FALSE  TRUE FALSE FALSE
> 37:42 %% 6 == 1:6 %% 6
[1] TRUE TRUE TRUE TRUE TRUE TRUE



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Tue Aug 28 12:09:22 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Tue, 28 Aug 2001 12:09:22 +0200 (MET DST)
Subject: [R] Help with Clustering Techniques in R
In-Reply-To: <3B8B0ED4.E713B1E1@hia.net>
Message-ID: <Pine.GSO.3.95q.1010828120329.1937B-100000@sun28.math.uni-hamburg.de>

Dear Bill,

I think that this is essentially a problem of discriminant analysis or
logistic regression and not of clustering. That is, you have two groups
defined by success and failure, and you want to find out how your measures
are able to distiguish between them.

R should be able to carry out such analyses. I don't have the time now
to figure out exactly how. Background and further references are given e.g. in
G.J. McLachlan, Discriminant analysis and statistical pattern recognition,
Wiley, 1992.

Best,
Christian

On Mon, 27 Aug 2001, Bill Vedder wrote:

> Greetings RListers,
> 
> I have a data set containing two types of outcomes; success and failure.
> Associated with each outcome are 12  different measurements.  I'm trying
> to find out, for example, if some of the 12 measures are associated more
> with success or failure or, if there's any relationship at all between
> the measures and the outcomes (success or failure).
> 
> I don't have (as yet) any experience using clustering techniqes (in R or
> elsewhere) but thought that they might be applied in this situation.
> 
> In general, are clustering techniques useful in this situation? Is any
> techniques better than another?
> 
> And more specifically, can I use R to determine clustering characterics
> of the 12 measures and then, for each cluster, have R output whether the
> cluster is more associated with success or failure?
> 
> Any help appreciated,
> 
> Bill Vedder
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 28 12:21:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Aug 2001 11:21:04 +0100 (BST)
Subject: [R] Error: vector memory exhausted (limit reached?)
In-Reply-To: <Pine.OSF.3.96.1010828113155.17941A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0108281119360.22497-100000@gannet.stats>

On Tue, 28 Aug 2001, Agustin Lobo wrote:

>
> While runing R1.3.0 on a Win95 machine,
> a process has produced the following error:
>
> Error: vector memory exhausted (limit reached?)
> In addition: Warning message:
> Reached total allocation of 47Mb: see help(memory.size)
> Lost warning messages
>
> Now I cannot save the work (not too bad,
> I had used save.image() just prior to launch
> the process), but cannot quit the program:
>
> > save.image()
> Error: vector memory exhausted (limit reached?)
> In addition: Warning message:
> Reached total allocation of 47Mb: see help(memory.size)
> Lost warning messages
> > q()
> Error: vector memory exhausted (limit reached?)
>
>
> What should I do? Just kill R?

Delete some large objects.  And read the help page mentioned so you don't
get this problem again.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beckideacon at hotmail.com  Sat Aug 25 12:57:27 2001
From: beckideacon at hotmail.com (Becki Deacon)
Date: Sat, 25 Aug 2001 10:57:27 +0000
Subject: [R] Missing values in glm
Message-ID: <F139XSXCWV8S0g9S83w00002dda@hotmail.com>

Dear r-help

I am trying to fit a logistic regression with a dataset that has some 
missing values in the categorical response (sjukdom). These are generated 
'false' values that I want predicited values for.

Looking at the help, I think the correct commands to deal with these missing 
values are as follows:

options(na.action=napredict)
my.dum<-glm(sjukdom~as.factor(sex)+age+log.nrg+five.d+five2+five3+d1+d2+d3+d4+d5,na.action,family="binomial")

However, I get the following error message:
'Error in as.data.frame.default(data) : can't coerce function into a 
data.frame'

I have not been able to come up with anything better as other things treat 
the variable sjukdom as a different length and so will not do the regression 
either.

Could you let me know how to solve this please?

Many thanks

Rebecca Deacon
Post-Grad Statistics Student


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Aug 28 12:40:24 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 28 Aug 2001 12:40:24 +0200 (CEST)
Subject: [R] Missing values in glm
In-Reply-To: <F139XSXCWV8S0g9S83w00002dda@hotmail.com>
Message-ID: <XFMail.20010828124024.plummer@iarc.fr>

On 25-Aug-2001 Becki Deacon wrote:
> Dear r-help
> 
> I am trying to fit a logistic regression with a dataset that has some 
> missing values in the categorical response (sjukdom). These are generated 
> 'false' values that I want predicited values for.

To predict new response values from a fitted model, use predict() function.
This is a generic function that has a method for glm. See the help
pages for "predict" and "predict.glm".

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 28 12:39:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Aug 2001 11:39:08 +0100 (BST)
Subject: [R] Help with Clustering Techniques in R
In-Reply-To: <Pine.GSO.3.95q.1010828120329.1937B-100000@sun28.math.uni-hamburg.de>
Message-ID: <Pine.LNX.4.31.0108281134370.22569-100000@gannet.stats>

On Tue, 28 Aug 2001, Christian Hennig wrote:

> Dear Bill,
>
> I think that this is essentially a problem of discriminant analysis or
> logistic regression and not of clustering. That is, you have two groups
> defined by success and failure, and you want to find out how your measures
> are able to distiguish between them.

In pattern-recognition terminology, this is a supervised and not
an unsupervised problem.

> R should be able to carry out such analyses. I don't have the time now
> to figure out exactly how. Background and further references are given e.g. in
> G.J. McLachlan, Discriminant analysis and statistical pattern recognition,
> Wiley, 1992.

That's rather old-fashioned (and was in 1992).  Probably the best
exploratory methods are logistic discrimination and classifcation trees,
methods statisticians used to consistently overlook.

R is very well set up for this sort of thing.  There are several
worked examples in Venables & Ripley (1999) that work with minor
changes (see the online R complements) in R.

>
> Best,
> Christian
>
> On Mon, 27 Aug 2001, Bill Vedder wrote:
>
> > Greetings RListers,
> >
> > I have a data set containing two types of outcomes; success and failure.
> > Associated with each outcome are 12  different measurements.  I'm trying
> > to find out, for example, if some of the 12 measures are associated more
> > with success or failure or, if there's any relationship at all between
> > the measures and the outcomes (success or failure).
> >
> > I don't have (as yet) any experience using clustering techniqes (in R or
> > elsewhere) but thought that they might be applied in this situation.
> >
> > In general, are clustering techniques useful in this situation? Is any
> > techniques better than another?
> >
> > And more specifically, can I use R to determine clustering characterics
> > of the 12 measures and then, for each cluster, have R output whether the
> > cluster is more associated with success or failure?
> >
> > Any help appreciated,
> >
> > Bill Vedder
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> ***********************************************************************
> Christian Hennig
> University of Hamburg, Faculty of Mathematics - SPST/ZMS
>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>  Zentrum fuer Modellierung und Simulation)
> Bundesstrasse 55, D-20146 Hamburg, Germany
> Tel: x40/42838 4907, privat x40/631 62 79
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Aug 28 13:02:57 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 28 Aug 2001 13:02:57 +0200
Subject: [R] plotting dendrograms from cluster analyses
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB003D8529E@arcss07.arcs.ac.at>
Message-ID: <MABBLJDICACNFOLGIHJOCEFACFAA.phgrosje@ulb.ac.be>

>In university I learned S-Plus, which has a special function exactly for
>this problem called subtree, where you can plot a region of a whole tree.
>Now in R I missed that function several times. Is there a reason for not
>including it in R?

>Thomas

Exact. I've looked in Splus and found the nice subtree command. In R v.
1.3.0 and all packages installed, I've found only snip.rpart for rpart
trees. Thus it seems a subtree function should be a good addition to R. I am
doing a package in which this could be added (for a very preliminary
version, in French, look at http://www.sciviews.org/_passtec), though it is
not a top priority for me now. If someone else want to do it, just notify
me... otherwise, I'll do it in a few months.

Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Aug 28 13:20:32 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 28 Aug 2001 13:20:32 +0200
Subject: [R] plotting dendrograms from cluster analyses
In-Reply-To: <MABBLJDICACNFOLGIHJOCEFACFAA.phgrosje@ulb.ac.be>
References: <D16B18FFF743D311A9CA0090275F3CB003D8529E@arcss07.arcs.ac.at>
	<MABBLJDICACNFOLGIHJOCEFACFAA.phgrosje@ulb.ac.be>
Message-ID: <15243.32384.31022.702825@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 28 Aug 2001 13:02:57 +0200,
>>>>> Philippe Grosjean (PG) wrote:

  >> In university I learned S-Plus, which has a special function exactly for
  >> this problem called subtree, where you can plot a region of a whole tree.
  >> Now in R I missed that function several times. Is there a reason for not
  >> including it in R?

The only reason is that nobody has written it so far ...


  >> Thomas

  > Exact. I've looked in Splus and found the nice subtree command. In R v.
  > 1.3.0 and all packages installed, I've found only snip.rpart for rpart
  > trees. Thus it seems a subtree function should be a good addition to R. I am
  > doing a package in which this could be added (for a very preliminary
  > version, in French, look at http://www.sciviews.org/_passtec), though it is
  > not a top priority for me now. If someone else want to do it, just notify
  > me... otherwise, I'll do it in a few months.


I started a more general approch for dendrograms a year ago using
class "dendrogram". If you coerce an hclust object to class dendrogram
using as.dendrogram() then you can use cut.dendrogram to do what you
want (it returns a list with the upper and lower parts of the cutted
tree).

Unfortunately this is unfinished yet, especially the plotting method
does not print the labels, hence I didn't mention it earlier in this
thread. I plan to finish this for R 1.4 (to be released by the end of
the year), but don't hold your breath.

Of course (as always) volunteers are more than welcome!

See example(cut.dendrogram)

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.t.shakeri at ncl.ac.uk  Tue Aug 28 13:28:13 2001
From: m.t.shakeri at ncl.ac.uk (M.T.Shakeri)
Date: Tue, 28 Aug 2001 12:28:13 +0100
Subject: [R] marix inversion
Message-ID: <3B8B804D.D17AB210@ncl.ac.uk>

Hi,

 Is there any code with fortran 90 for calculate inversion matrix in
general form (Moore and Penrose method)

Any replies will be highly appreciated. 

 Thanks in advance. 
 Mohammad
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Aug 28 14:37:46 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 28 Aug 2001 14:37:46 +0200
Subject: [R] plotting dendrograms from cluster analyses
In-Reply-To: <15243.32384.31022.702825@galadriel.ci.tuwien.ac.at>
Message-ID: <MABBLJDICACNFOLGIHJOIEFBCFAA.phgrosje@ulb.ac.be>

>I started a more general approch for dendrograms a year ago using
>class "dendrogram". If you coerce an hclust object to class dendrogram
>using as.dendrogram() then you can use cut.dendrogram to do what you
>want (it returns a list with the upper and lower parts of the cutted
>tree).

Yes, I have seen also some changes in the FAQ of, I think, R v. 1.2.3. I've
written code last year for v. 1.1.1 and now I have to finish the library for
the end of the year. I am a bit embarrassed with this. Should I move to
'dendrogram' objects or should I keep working on 'hclust' objects? Moreover,
my library has to be compatible with both R and Splus. Splus implementation
of hclust is somewhat different but quite close. Do you implement
'dendrogram' objects for Splus too?

I have also the same problem with time management in time series, and with
graphs ("classical" versus lattice)... R is moving so fast these time, as
does Splus, but who will complain...!


>Unfortunately this is unfinished yet, especially the plotting method
>does not print the labels, hence I didn't mention it earlier in this
>thread. I plan to finish this for R 1.4 (to be released by the end of
>the year), but don't hold your breath.

>Of course (as always) volunteers are more than welcome!

>See example(cut.dendrogram)

Thank you for the info.

By the way, I have an additional question. Does someone implement something
similar to hclust, but with "time connexity" (well, this is a rough
translation of French ;-) I mean, if you want to cluster observations of a
time serie, you could be interested by producing a dendrogram WITHOUT
reordering observations. You still keep obs 1, 2, 3,..., n in this order in
the dendrogram. But except this constraint, you apply the same algorithm.

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Aug 28 14:57:16 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 28 Aug 2001 14:57:16 +0200
Subject: [R] plotting dendrograms from cluster analyses
In-Reply-To: <MABBLJDICACNFOLGIHJOIEFBCFAA.phgrosje@ulb.ac.be>
References: <15243.32384.31022.702825@galadriel.ci.tuwien.ac.at>
	<MABBLJDICACNFOLGIHJOIEFBCFAA.phgrosje@ulb.ac.be>
Message-ID: <15243.38188.700435.560052@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 28 Aug 2001 14:37:46 +0200,
>>>>> Philippe Grosjean (PG) wrote:

  >> I started a more general approch for dendrograms a year ago using
  >> class "dendrogram". If you coerce an hclust object to class dendrogram
  >> using as.dendrogram() then you can use cut.dendrogram to do what you
  >> want (it returns a list with the upper and lower parts of the cutted
  >> tree).

  > Yes, I have seen also some changes in the FAQ of, I think, R v. 1.2.3. I've
  > written code last year for v. 1.1.1 and now I have to finish the library for
  > the end of the year. I am a bit embarrassed with this. Should I move to
  > 'dendrogram' objects or should I keep working on 'hclust' objects?

If you need code or results in the near future I'd stick with hclust
if I were you. dendrogram is currently more of an experiment for more
general trees than hclust allows (more than one child nodes etc.)
... I won't replace the existing hclust, rpart classes etc. but will
provide additional plotting, printing and cutting facilities.

  > Moreover,
  > my library has to be compatible with both R and Splus. Splus implementation
  > of hclust is somewhat different but quite close. Do you implement
  > 'dendrogram' objects for Splus too?

Hmm, I see no reasons why they should not work with Splus, currently
everything is written in S. If I move stuff to C for speedup things
might get different. But even then I'd probably try to be compatible.


  > I have also the same problem with time management in time series, and with
  > graphs ("classical" versus lattice)... R is moving so fast these time, as
  > does Splus, but who will complain...!

:-)

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Aug 28 15:11:01 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 28 Aug 2001 15:11:01 +0200
Subject: [R] Estimating Weibull Distribution Parameters - very basic question
Message-ID: <S.0000036273@geobot.umnw.ethz.ch>

Hello,

is there a quick way of estimating Weibull parameters for some data points 
that are assumed to be Weibull-distributed?

I guess I'm just too lazy to set up a Maximum-Likelihood estimation... 
...but maybe there is a simpler way?

Thanks for any hint (and yes, I've read help(Weibull) ;)

Kaspar Pflugshaupt


-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 28 16:10:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Aug 2001 16:10:14 +0200
Subject: [R] Estimating Weibull Distribution Parameters - very basic question
In-Reply-To: <S.0000036273@geobot.umnw.ethz.ch>
References: <S.0000036273@geobot.umnw.ethz.ch>
Message-ID: <x2itf8l1h5.fsf@blueberry.kubism.ku.dk>

Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:

> Hello,
> 
> is there a quick way of estimating Weibull parameters for some data points 
> that are assumed to be Weibull-distributed?
> 
> I guess I'm just too lazy to set up a Maximum-Likelihood estimation... 
> ...but maybe there is a simpler way?
> 
> Thanks for any hint (and yes, I've read help(Weibull) ;)

How hard can it be:

x <- rweibull(200,5)
loglike<-function(p) -2*sum(dweibull(x,p[1],p[2],log=T))
optim(c(1,5),loglike)

You might want to refine that a little, but the possibility of finding
maximum likelihood estimates by writing up the likelihood and
maximizing it is ofte overlooked...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Aug 28 16:56:08 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 28 Aug 2001 16:56:08 +0200
Subject: [R] Estimating Weibull Distribution Parameters - very basic question
In-Reply-To: <x2itf8l1h5.fsf@blueberry.kubism.ku.dk>
References: <S.0000036273@geobot.umnw.ethz.ch> <x2itf8l1h5.fsf@blueberry.kubism.ku.dk>
Message-ID: <S.0000036538@geobot.umnw.ethz.ch>

On Tuesday 28 August 2001 16:10, Peter Dalgaard BSA wrote:                    
                                                                        

> How hard can it be:
>
> x <- rweibull(200,5)
> loglike<-function(p) -2*sum(dweibull(x,p[1],p[2],log=T))
> optim(c(1,5),loglike)
>
> You might want to refine that a little, but the possibility of finding
> maximum likelihood estimates by writing up the likelihood and
> maximizing it is ofte overlooked...

[sound of slapping hand against forehead] 

I feel like I've been blind :-)

Thanks a lot for the quick answer!

Guess I'll have to dig deeper into optim() (never used it before, so the 
possibility didn't occur to me)


Kaspar


-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Aug 28 17:14:37 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 28 Aug 2001 11:14:37 -0400 (EDT)
Subject: [R] using by to plot
Message-ID: <Pine.SOL.4.33.0108281101330.3953-100000@julius.ling.ohio-state.edu>



Hello,

I would like to use by to create a series of plots, but I'm not sure how
to design the function.

Here's what I've got:

1. A data frame of observations of measured value 2 measured vlaues and a
pch code.

V1    V2   pchCode
.0045 123  1
.0034 145  2
.0045 123  1
.0046 167  3
...

So what I want to do is create a single scatterplot of the multiple
conditions (specified by pchCode) and use pchCode to specify the plotting
character within the plotting function.

I'm imagining something like

by(df, pchCode, function(x) plot(V1, V2, pch=pchCode))

What I don't know how to code is:
1. getting the pch to be defined by the pchCode
2. specifying that par(new=TRUE) within the by command.

Thanks for you suggestions,

Best,

David


S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Aug 28 17:25:09 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Aug 2001 10:25:09 -0500
Subject: [R] Estimating Weibull Distribution Parameters - very basic question
In-Reply-To: <x2itf8l1h5.fsf@blueberry.kubism.ku.dk>
References: <S.0000036273@geobot.umnw.ethz.ch>
	<x2itf8l1h5.fsf@blueberry.kubism.ku.dk>
Message-ID: <6r7kvojjfu.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:
> 
> > Hello,
> > 
> > is there a quick way of estimating Weibull parameters for some data points 
> > that are assumed to be Weibull-distributed?
> > 
> > I guess I'm just too lazy to set up a Maximum-Likelihood estimation... 
> > ...but maybe there is a simpler way?
> > 
> > Thanks for any hint (and yes, I've read help(Weibull) ;)
> 
> How hard can it be:
> 
> x <- rweibull(200,5)
> loglike<-function(p) -2*sum(dweibull(x,p[1],p[2],log=T))
> optim(c(1,5),loglike)
> 
> You might want to refine that a little, but the possibility of finding
> maximum likelihood estimates by writing up the likelihood and
> maximizing it is ofte overlooked...

More details and some worked examples are available in a presentation
that I gave at the recent Joint Statistical Meetings.  The slides for
the presentation are available as
             http://www.stat.wisc.edu/~bates/JSM2001.pdf

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Tue Aug 28 17:26:36 2001
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Tue, 28 Aug 2001 16:26:36 +0100
Subject: [R] Axis labels
Message-ID: <000601c12fd5$d3f51b80$4c202880@GSIMPSON>

Hi,

I am trying to label the x-axis of some histograms with the units of
measurement.

However, when I use, for example:

> truehist(Ca, prob=FALSE, col="gray", xlab=expression(paste("Calcium
(", mu, eq^-1, ")")))

I get the following message:

Error in eval(expr, envir, enclos) : Object "mu" not found

Could someone let me know what I'm doing wrong?

Many thanks

Gav

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R 

Win2000

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Aug 28 17:40:18 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 28 Aug 2001 17:40:18 +0200 (MET DST)
Subject: [R] Error: vector memory exhausted (limit reached?)
In-Reply-To: <Pine.LNX.4.31.0108281119360.22497-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010828140854.20313A-100000@ija.csic.es>


On Tue, 28 Aug 2001, Prof Brian Ripley wrote:

> Delete some large objects.  
Thanks, but I could not remove anything once the memory became
exhausted:

> ls()
Error: vector memory exhausted (limit reached?)
> rm(lissNPC)
Error: vector memory exhausted (limit reached?)
 
 
>And read the help page mentioned so you don't
> get this problem again.
 

I had tried before asking the list, but help(memory.size) produced the
same error
and a search of memory.size under
rw1030/doc/html/search/SearchEngine.html

yields "No matches for "memory.size" have been found!"


So, I had to reset the machine.

Once the machine was up again, I launched R in the same directory and
read help(memory.size). Then I made the following test:

1. Just with a moderate .RData file loaded:
> memory.size()
[1] 12909648


2. Loading a relatively large file:
> load("lissN.R")
> memory.size()
[1] 19963560


3. And then removing the loaded (from "lissN.R") objects:
> rm(lissNPC,lissNPC.sta,lissNPC1.ady,lissNPC1.ref)
> memory.size()
[1] 19964496


The memory use was not reduced by removing these
large files, so it seems that "deleting some large files"
would not have been a solution. Is this behaviour as expected
or am I doing something (else) wrong?

Finally, the doc says that 
"`memory.limit' reports the limit in force on the total allocation."

and

"Command-line flag `--max-mem-size' sets the maximum value of obtainable
memory"

How is the current memory.limit (memory.limit()/1024^2 = 47.51563
in my labtop) set by default? Is it advisable to increase it
beyond the RAM (and use virtual memory)? Would be here any
significant difference between Win9* and linux systems?

Thanks

Agus



On Tue, 28 Aug 2001, Agustin Lobo wrote:

>
> While runing R1.3.0 on a Win95 machine,
> a process has produced the following error:
>
> Error: vector memory exhausted (limit reached?)
> In addition: Warning message:
> Reached total allocation of 47Mb: see help(memory.size)
> Lost warning messages
>
> Now I cannot save the work (not too bad,
> I had used save.image() just prior to launch
> the process), but cannot quit the program:
>
> > save.image()
> Error: vector memory exhausted (limit reached?)
> In addition: Warning message:
> Reached total allocation of 47Mb: see help(memory.size)
> Lost warning messages
> > q()
> Error: vector memory exhausted (limit reached?)
>
>
> What should I do? Just kill R?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Aug 28 17:56:57 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 28 Aug 2001 17:56:57 +0200 (MET DST)
Subject: [R] Display of jpeg images
Message-ID: <Pine.OSF.3.96.1010828175430.26026A-100000@ija.csic.es>


Does anyone know if it is possible
to display jpeg (and/or other image
formats) images using R? I would need
to overlay results of contour() on 
color maps.

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Aug 28 17:49:36 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 28 Aug 2001 11:49:36 -0400 (EDT)
Subject: [R] using by to plot
In-Reply-To: <6rvgj8i447.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.SOL.4.33.0108281147130.5621-100000@julius.ling.ohio-state.edu>


%You are making something easy into something difficult.  All you need
%is. . .

You are _so_ right! Thanks for setting me straight on how to use plot
sensibly.


S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On 28 Aug 2001, Douglas Bates wrote:

%David White <dwhite at ling.ohio-state.edu> writes:
%
%> I would like to use by to create a series of plots, but I'm not sure how
%> to design the function.
%>
%> Here's what I've got:
%>
%> 1. A data frame of observations of measured value 2 measured vlaues and a
%> pch code.
%>
%> V1    V2   pchCode
%> .0045 123  1
%> .0034 145  2
%> .0045 123  1
%> .0046 167  3
%> ...
%>
%> So what I want to do is create a single scatterplot of the multiple
%> conditions (specified by pchCode) and use pchCode to specify the plotting
%> character within the plotting function.
%>
%> I'm imagining something like
%>
%> by(df, pchCode, function(x) plot(V1, V2, pch=pchCode))
%>
%> What I don't know how to code is:
%> 1. getting the pch to be defined by the pchCode
%> 2. specifying that par(new=TRUE) within the by command.
%
%You are making something easy into something difficult.  All you need
%is
%
%> ttt
%      V1  V2 pchCode
%1 0.0045 123       1
%2 0.0034 145       2
%3 0.0045 123       1
%4 0.0046 167       3
%> str(ttt)
%`data.frame':	4 obs. of  3 variables:
% $ V1     : num  0.0045 0.0034 0.0045 0.0046
% $ V2     : num  123 145 123 167
% $ pchCode: num  1 2 1 3
%> plot(V2 ~ V1, data = ttt, pch = pchCode)
%> # if pchCode is a factor, use as.integer(pchCode)
%
%Arguments like pch are vectorized.
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Tue Aug 28 18:00:53 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Tue, 28 Aug 2001 18:00:53 +0200
Subject: [R] using by to plot
In-Reply-To: <Pine.SOL.4.33.0108281101330.3953-100000@julius.ling.ohio-state.edu>; from dwhite@ling.ohio-state.edu on Tue, Aug 28, 2001 at 11:14:37AM -0400
References: <Pine.SOL.4.33.0108281101330.3953-100000@julius.ling.ohio-state.edu>
Message-ID: <20010828180052.A21950@rzsrv2.rz.tu-bs.de>

I do not think that you are looking for this:
xx <- data.frame(x=rnorm(100),y=rnorm(100),p=1:4)
by(xx,xx$p,function(x){par(new=T);plot(x$x,x$y,pch=x$p)})

this dosn't make sence. Perhaps you are looking for:

plot(xx$x,xx$y,pch=xx$p)
p.



On Tue, Aug 28, 2001 at 11:14:37AM -0400, David White wrote:
> 
> 
> Hello,
> 
> I would like to use by to create a series of plots, but I'm not sure how
> to design the function.
> 
> Here's what I've got:
> 
> 1. A data frame of observations of measured value 2 measured vlaues and a
> pch code.
> 
> V1    V2   pchCode
> .0045 123  1
> .0034 145  2
> .0045 123  1
> .0046 167  3
> ...
> 
> So what I want to do is create a single scatterplot of the multiple
> conditions (specified by pchCode) and use pchCode to specify the plotting
> character within the plotting function.
> 
> I'm imagining something like
> 
> by(df, pchCode, function(x) plot(V1, V2, pch=pchCode))
> 
> What I don't know how to code is:
> 1. getting the pch to be defined by the pchCode
> 2. specifying that par(new=TRUE) within the by command.
> 
> Thanks for you suggestions,
> 
> Best,
> 
> David
> 
> 
> S. David White
> sdavidwhite at bigfoot.com
> Columbus, Ohio
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Aug 28 18:36:08 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 28 Aug 2001 18:36:08 +0200
Subject: [R] Estimating Weibull Distribution Parameters - very
  basic question
Message-ID: <3.0.32.20010828183607.009107d0@162.38.183.200>

At 15:11 28/08/01 +0200, you wrote:
>Hello,
>
>is there a quick way of estimating Weibull parameters for some data points 
>that are assumed to be Weibull-distributed?
>
>I guess I'm just too lazy to set up a Maximum-Likelihood estimation... 
>...but maybe there is a simpler way?
>
>Thanks for any hint (and yes, I've read help(Weibull) ;)
>
>Kaspar Pflugshaupt

Look at the "Introduction to R", there is an example very close to your
problem (section 11.7.2). In your case, the (minus) log-likelihood will be
something like:

	fn <- function(p) sum(-log(dweibull(x, p[1], p[2])))

Then use nlm() as in the example.


Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 28 18:47:36 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 28 Aug 2001 18:47:36 +0200
Subject: [R] Axis labels
References: <000601c12fd5$d3f51b80$4c202880@GSIMPSON>
Message-ID: <3B8BCB28.3562798B@statistik.uni-dortmund.de>

Gavin Simpson wrote:
> 
> Hi,
> 
> I am trying to label the x-axis of some histograms with the units of
> measurement.
> 
> However, when I use, for example:
> 
> > truehist(Ca, prob=FALSE, col="gray", xlab=expression(paste("Calcium
> (", mu, eq^-1, ")")))
> 
> I get the following message:
> 
> Error in eval(expr, envir, enclos) : Object "mu" not found
> 
> Could someone let me know what I'm doing wrong?


truehist (which is in the package MASS !):

function(   ...   )
{
  eval(xlab)
  ...

So the first line in the body of truehist() causes your problem.
You don't need this line in your case, I think. So just create your own
function without this line.  Maybe the author of the function can help
more precisely.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Tue Aug 28 19:04:59 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 28 Aug 2001 19:04:59 +0200 (MET DST)
Subject: [R] Error: vector memory exhausted (limit reached?)
In-Reply-To: <Pine.OSF.3.96.1010828140854.20313A-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.21.0108281850160.22348-100000@amadeus.statistik.uni-dortmund.de>

On Tue, 28 Aug 2001, Agustin Lobo wrote:

> 
> On Tue, 28 Aug 2001, Prof Brian Ripley wrote:
> 
> > Delete some large objects.  
> Thanks, but I could not remove anything once the memory became
> exhausted:
> 
> > ls()
> Error: vector memory exhausted (limit reached?)
> > rm(lissNPC)
> Error: vector memory exhausted (limit reached?)
>  
>  
> >And read the help page mentioned so you don't
> > get this problem again.
>  
> 
> I had tried before asking the list, but help(memory.size) produced the
> same error
> and a search of memory.size under
> rw1030/doc/html/search/SearchEngine.html
> 
> yields "No matches for "memory.size" have been found!"

Works for me...


> So, I had to reset the machine.

*Reset* the machine? Killing the RGui process doesn't work? Anyway, it's
OS dependent.


> Once the machine was up again, I launched R in the same directory and
> read help(memory.size). Then I made the following test:
> 
> 1. Just with a moderate .RData file loaded:
> > memory.size()
> [1] 12909648
> 
> 
> 2. Loading a relatively large file:
> > load("lissN.R")
> > memory.size()
> [1] 19963560
> 
> 
> 3. And then removing the loaded (from "lissN.R") objects:
> > rm(lissNPC,lissNPC.sta,lissNPC1.ady,lissNPC1.ref)
> > memory.size()
> [1] 19964496
> 
> 
> The memory use was not reduced by removing these
> large files, so it seems that "deleting some large files"
> would not have been a solution. Is this behaviour as expected
> or am I doing something (else) wrong?

Yes and no. Since no more memory was needed by other objects, no garbage
collection was done. So the behaviour is expected. Have a look at ?Memory
and ?gc.

 
> Finally, the doc says that 
> "`memory.limit' reports the limit in force on the total allocation."
> 
> and
> 
> "Command-line flag `--max-mem-size' sets the maximum value of obtainable
> memory"
> 
> How is the current memory.limit (memory.limit()/1024^2 = 47.51563
> in my labtop) set by default? Is it advisable to increase it
> beyond the RAM (and use virtual memory)? Would be here any
> significant difference between Win9* and linux systems?

Yes. This option is a significant difference, because it only exists on
Windows. Have a look at ?Memory. It says:
"The default is the smaller of the amount of physical RAM in the machine
and 256Mb" ==> In your case the default is 48Mb.
You can increase it by setting --mex-mem-size, but your system will
begin swapping heavily making use of virtual memory.
This question is already often answered in the mailing list archives, and
also mentioned in the FAQs and other documentation.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 28 20:54:42 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Aug 2001 20:54:42 +0200
Subject: [R] Axis labels
In-Reply-To: <3B8BCB28.3562798B@statistik.uni-dortmund.de>
References: <000601c12fd5$d3f51b80$4c202880@GSIMPSON>
	<3B8BCB28.3562798B@statistik.uni-dortmund.de>
Message-ID: <x21ylwaubx.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Gavin Simpson wrote:
> > 
> > Hi,
> > 
> > I am trying to label the x-axis of some histograms with the units of
> > measurement.
> > 
> > However, when I use, for example:
> > 
> > > truehist(Ca, prob=FALSE, col="gray", xlab=expression(paste("Calcium
> > (", mu, eq^-1, ")")))
> > 
> > I get the following message:
> > 
> > Error in eval(expr, envir, enclos) : Object "mu" not found
> > 
> > Could someone let me know what I'm doing wrong?
> 
> 
> truehist (which is in the package MASS !):
> 
> function(   ...   )
> {
>   eval(xlab)
>   ...
> 
> So the first line in the body of truehist() causes your problem.
> You don't need this line in your case, I think. So just create your own
> function without this line.  Maybe the author of the function can help
> more precisely.

Whoops, that's a bug... You want just plain "xlab" without the eval()
in such cases. The reason for having it at all is to force lazy
evaluation of the default expression before "data" changes and becomes
a local variable.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue Aug 28 22:30:15 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 28 Aug 2001 22:30:15 +0200 (CEST)
Subject: [R] Display of jpeg images
In-Reply-To: <Pine.OSF.3.96.1010828175430.26026A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.21.0108282218250.6075-100000@reclus.nhh.no>

On Tue, 28 Aug 2001, Agustin Lobo wrote:

> 
> Does anyone know if it is possible
> to display jpeg (and/or other image
> formats) images using R? I would need
> to overlay results of contour() on 
> color maps.
> 
Use a tool of your choice to convert the jpeg to pnm (say in Gimp). Then
use the e1071 package:

> library(e1071)
> pix <- read.pnm("your.pnm")
> plot(pix, asp=T) # asp to keep aspect ratio if you need it
> d <- dim(pix)
> col <- pix[1,,]
> z <- matrix(col, nrow = d[2])
> contour(x = 1:d[3], y = 1:d[2], z = t(z[d[2]:1, ]), col = "white",
add=T, nlevels=3)

When adding contours (here for three levels of the first colour in the
image), you need to watch out for plot.pnm using upper, not lower, left as
1,1; that is the image follows usual image practice, so your data will
have to suit that to be in the "right" place. Here the contour plot is of
the image data, so needs "fixing" to come right. The image is read in from
the upper left, and the plot in plot.pnm is in the pixel coordinate
system, so overlaying may be the major problem here - getting the image
and the contoured data registered correctly. The example above is trivial,
because it is contouring image data.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Tue Aug 28 22:59:35 2001
From: rls at pincock.com (Bob Sandefur)
Date: Tue, 28 Aug 2001 13:59:35 -0700
Subject: [R] fitting a mixture of distributions with optim and max log
	likelihood ?
Message-ID: <sb8ba3da.033@smtp>

hi 
 Suppose I have a mixture of 2 distributions generated by

rtwonormals <- function(npnt,m1,s1,m2,s2,p2){
 rv<-vector(npnt,mode="numeric")
 for( i in seq(1:npnt)){
  if(runif(1,0,1)<=p2){
   rv[i]<-rnorm(1,m2,s2)
   }
  else{
   rv[i]<-rnorm(1,m1,s1)
  }
 }
 return(rv)
 }
x <- rtwonormals(50000,0,100,500,500,0.05)

#and I try to fit these with  (based on thread:  [R] Estimating Weibull Distribution Parameters - very basic question)

loglike<-function(p) -2*sum(log((1-p[5])*dnorm(x,p[1],p[2])+p[5]*dnorm(x,p[3],p[4])))
optim(c(-20,150,400,600,.035),loglike)
optim(c(20,70,600,400,.095),loglike)
optim(c(0,100,500,500,.05),loglike)
optim(c(-20,150,400,600,.035),loglike)

# three different starting values (1 and 4 the same to check reproducablity) I get:

Version 1.3.0  (2001-06-22) on windoze XP

> optim(c(-20,150,400,600,.035),loglike)
$par
[1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
$value
[1] 622843.1
$counts
function gradient
     493       NA
$convergence
[1] 0
$message
NULL
There were 22 warnings (use warnings() to see them)

> optim(c(20,70,600,400,.095),loglike)
$par
[1]   0.62742812 100.15891023 533.25825184 514.63882147   0.04670099
$value
[1] 622692.7
$couns
function gradient
     501       NA
$convergence
[1] 1    < OPPS
$message
NULL
There were 22 warnings (use warnings() to see them)

> optim(c(0,100,500,500,.05),loglike)
$par
[1]   0.56254342 100.03881574 499.47434961 505.59785487   0.04805347
$value
[1] 622685
$counts
function gradient
     109       NA
$convergence
[1] 0
$message
NULL
There were 21 warnings (use warnings() to see them)

> optim(c(-20,150,400,600,.035),loglike)
$par
[1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
$value
[1] 622843.1
$counts
function gradient
     493       NA
$convergence
[1] 0
$message
NULL
There were 22 warnings (use warnings() to see them)


Questions:
1) Did I mess up anything in the formulae?
2) Any suggestions for converging to the same value?
3) Any suggestions for other methods to get means, stddevs and proportions of the mixture of distributions?

Thanx

Robert (Bob) L Sandefur 
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f
rls at pincock.com


~
~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 28 23:10:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 28 Aug 2001 22:10:05 +0100 (BST)
Subject: [R] fitting a mixture of distributions with optim and max log
 likelihood ?
In-Reply-To: <sb8ba3da.033@smtp>
Message-ID: <Pine.GSO.4.31.0108282200570.29684-100000@auk.stats>

On Tue, 28 Aug 2001, Bob Sandefur wrote:

> hi
>  Suppose I have a mixture of 2 distributions generated by

This is well-known difficult optimization problem with many local maxima.
I think in particular that your test example has too broad a second
normal for this to work well.

The default method for optim() is slow, not very precise but very reliable.
I very rarely use it.  With a problem like this where derivatives are
readily available I would BFGS with analytical derivatives and multiple
starting points to check for local maxima.

BTw, what are those warnings?  You actually have a constrained
space for the optimization, and I would have worked with log-sds
to avoid that.

>
> rtwonormals <- function(npnt,m1,s1,m2,s2,p2){
>  rv<-vector(npnt,mode="numeric")
>  for( i in seq(1:npnt)){
>   if(runif(1,0,1)<=p2){
>    rv[i]<-rnorm(1,m2,s2)
>    }
>   else{
>    rv[i]<-rnorm(1,m1,s1)
>   }
>  }
>  return(rv)
>  }
> x <- rtwonormals(50000,0,100,500,500,0.05)
>
> #and I try to fit these with  (based on thread:  [R] Estimating Weibull Distribution Parameters - very basic question)
>
> loglike<-function(p) -2*sum(log((1-p[5])*dnorm(x,p[1],p[2])+p[5]*dnorm(x,p[3],p[4])))
> optim(c(-20,150,400,600,.035),loglike)
> optim(c(20,70,600,400,.095),loglike)
> optim(c(0,100,500,500,.05),loglike)
> optim(c(-20,150,400,600,.035),loglike)
>
> # three different starting values (1 and 4 the same to check reproducablity) I get:
>
> Version 1.3.0  (2001-06-22) on windoze XP

Interesting.  I thought XP was to be released on Oct 25, but there were
rumours that MicroSoft had changed this.  Do you really have XP, or
a preview?

If this really does run under the real XP, we should add that to the
readme etc.

Quite a few things, including our Cygwin tools, do not run under XP,
allegedly.

> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(20,70,600,400,.095),loglike)
> $par
> [1]   0.62742812 100.15891023 533.25825184 514.63882147   0.04670099
> $value
> [1] 622692.7
> $couns
> function gradient
>      501       NA
> $convergence
> [1] 1    < OPPS
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(0,100,500,500,.05),loglike)
> $par
> [1]   0.56254342 100.03881574 499.47434961 505.59785487   0.04805347
> $value
> [1] 622685
> $counts
> function gradient
>      109       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 21 warnings (use warnings() to see them)
>
> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
>
> Questions:
> 1) Did I mess up anything in the formulae?
> 2) Any suggestions for converging to the same value?
> 3) Any suggestions for other methods to get means, stddevs and proportions of the mixture of distributions?
>
> Thanx
>
> Robert (Bob) L Sandefur
> Principal Geostatistician
> Pincock Allen & Holt (A Hart Crowser Company)
>  International Minerals Consultants
>  274 Union Suite 200
>  Lakewood CO 80228
>  USA
>  303 914-4467  v
>  303 987-8907 f
> rls at pincock.com
>
>
> ~
> ~
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Aug 28 23:20:18 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 28 Aug 2001 17:20:18 -0400 (EDT)
Subject: [R] fitting a mixture of distributions with optim and max log
 likelihood ?
In-Reply-To: <sb8ba3da.033@smtp>
Message-ID: <Pine.LNX.4.30.0108281715590.5082-100000@bolker.zoo.ufl.edu>


  What you're doing seems reasonable, but this is a hard problem in
general.  My first advice would be to check out MASS (Modern Applied
Statistics with S-PLUS), 3d ed., pp. 261-266; this gives methods for doing
the problem in S-PLUS, and several references to the literature on mixture
models.  Many of the functions used in MASS to solve this problem are
specific to S-PLUS, but there are equivalents in R (deriv3 <-> D, etc.).
The online R complements at
http://www.stats.ox.ac.uk/pub/MASS3/Compl.shtml should help you out.

  Ben Bolker

On Tue, 28 Aug 2001, Bob Sandefur wrote:

> hi
>  Suppose I have a mixture of 2 distributions generated by
>
> rtwonormals <- function(npnt,m1,s1,m2,s2,p2){
>  rv<-vector(npnt,mode="numeric")
>  for( i in seq(1:npnt)){
>   if(runif(1,0,1)<=p2){
>    rv[i]<-rnorm(1,m2,s2)
>    }
>   else{
>    rv[i]<-rnorm(1,m1,s1)
>   }
>  }
>  return(rv)
>  }
> x <- rtwonormals(50000,0,100,500,500,0.05)
>
> #and I try to fit these with  (based on thread:  [R] Estimating Weibull Distribution Parameters - very basic question)
>
> loglike<-function(p) -2*sum(log((1-p[5])*dnorm(x,p[1],p[2])+p[5]*dnorm(x,p[3],p[4])))
> optim(c(-20,150,400,600,.035),loglike)
> optim(c(20,70,600,400,.095),loglike)
> optim(c(0,100,500,500,.05),loglike)
> optim(c(-20,150,400,600,.035),loglike)
>
> # three different starting values (1 and 4 the same to check reproducablity) I get:
>
> Version 1.3.0  (2001-06-22) on windoze XP
>
> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(20,70,600,400,.095),loglike)
> $par
> [1]   0.62742812 100.15891023 533.25825184 514.63882147   0.04670099
> $value
> [1] 622692.7
> $couns
> function gradient
>      501       NA
> $convergence
> [1] 1    < OPPS
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(0,100,500,500,.05),loglike)
> $par
> [1]   0.56254342 100.03881574 499.47434961 505.59785487   0.04805347
> $value
> [1] 622685
> $counts
> function gradient
>      109       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 21 warnings (use warnings() to see them)
>
> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
>
> Questions:
> 1) Did I mess up anything in the formulae?
> 2) Any suggestions for converging to the same value?
> 3) Any suggestions for other methods to get means, stddevs and proportions of the mixture of distributions?
>
> Thanx
>
> Robert (Bob) L Sandefur
> Principal Geostatistician
> Pincock Allen & Holt (A Hart Crowser Company)
>  International Minerals Consultants
>  274 Union Suite 200
>  Lakewood CO 80228
>  USA
>  303 914-4467  v
>  303 987-8907 f
> rls at pincock.com
>
>
> ~
> ~
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bob.Sandefur at pincock.com  Wed Aug 29 00:10:00 2001
From: Bob.Sandefur at pincock.com (Bob Sandefur)
Date: Tue, 28 Aug 2001 15:10:00 -0700
Subject: [R] fitting a mixture of distributions with optim and max log likelihood ? Clarifications 
Message-ID: <6DE0865D102BDA418A5F0CAF82DEF1C7012F27@SeattleMail.hartcrowser.com>

Hi-
 Professor Ripley raised some questions on my first email:
 Are you on XP?
 I am on Release candidate 1 from MSDN professional subscriptions,
actually.
Anyone (although perhaps only in US) can
  get about the same thing from the MicroSoft Preview program for about
$20
US. (This release is time limited). cygwin works
 for me so far but I only use the shell, shell scripts, awk and sed on a
regular basis (gcc and g77 are okay as far as I have used
them) and the cygwin installer happly updated my windows XP  verison

What were warnings?
lWarning messages:
1: NaNs produced in: log(x)
...
22: NaNs produced in: log(x)

I really want is to fit mixtures of 2 or 3 lognormal distributions that
are
discrete to the nearest 0.001 (gold assay
values in ounces/ton) with both a normal error of about + or - 0.003 and
a
proportional error of about + or - 5%
constrained to be non negative so I think analytical derivatives are out
the
window.  

Could you point me to a reference on log-sds?

thanx

bob

Thread follows:




>>> Prof Brian D Ripley 08/28/01 03:10PM >>>
On Tue, 28 Aug 2001, Bob Sandefur wrote:

> hi
>  Suppose I have a mixture of 2 distributions generated by

This is well-known difficult optimization problem with many local
maxima.
I think in particular that your test example has too broad a second
normal for this to work well.

The default method for optim() is slow, not very precise but very
reliable.
I very rarely use it.  With a problem like this where derivatives are
readily available I would BFGS with analytical derivatives and multiple
starting points to check for local maxima.

BTw, what are those warnings?  You actually have a constrained
space for the optimization, and I would have worked with log-sds
to avoid that.

>
> rtwonormals <- function(npnt,m1,s1,m2,s2,p2){
>  rv<-vector(npnt,mode="numeric")
>  for( i in seq(1:npnt)){
>   if(runif(1,0,1)<=p2){
>    rv[i]<-rnorm(1,m2,s2)
>    }
>   else{
>    rv[i]<-rnorm(1,m1,s1)
>   }
>  }
>  return(rv)
>  }
> x <- rtwonormals(50000,0,100,500,500,0.05)
>
> #and I try to fit these with  (based on thread:  [R] Estimating
Weibull
Distribution Parameters - very basic question)
>
> loglike<-function(p)
-2*sum(log((1-p[5])*dnorm(x,p[1],p[2])+p[5]*dnorm(x,p[3],p[4])))
> optim(c(-20,150,400,600,.035),loglike)
> optim(c(20,70,600,400,.095),loglike)
> optim(c(0,100,500,500,.05),loglike)
> optim(c(-20,150,400,600,.035),loglike)
>
> # three different starting values (1 and 4 the same to check
reproducablity)
I get:
>
> Version 1.3.0  (2001-06-22) on windoze XP

Interesting.  I thought XP was to be released on Oct 25, but there were
rumours that MicroSoft had changed this.  Do you really have XP, or
a preview?

If this really does run under the real XP, we should add that to the
readme etc.

Quite a few things, including our Cygwin tools, do not run under XP,
allegedly.

> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(20,70,600,400,.095),loglike)
> $par
> [1]   0.62742812 100.15891023 533.25825184 514.63882147   0.04670099
> $value
> [1] 622692.7
> $couns
> function gradient
>      501       NA
> $convergence
> [1] 1    < OPPS
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
> > optim(c(0,100,500,500,.05),loglike)
> $par
> [1]   0.56254342 100.03881574 499.47434961 505.59785487   0.04805347
> $value
> [1] 622685
> $counts
> function gradient
>      109       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 21 warnings (use warnings() to see them)
>
> > optim(c(-20,150,400,600,.035),loglike)
> $par
> [1]   1.28597210 100.53443070 550.06070497 615.06936388   0.04563778
> $value
> [1] 622843.1
> $counts
> function gradient
>      493       NA
> $convergence
> [1] 0
> $message
> NULL
> There were 22 warnings (use warnings() to see them)
>
>
> Questions:
> 1) Did I mess up anything in the formulae?
> 2) Any suggestions for converging to the same value?
> 3) Any suggestions for other methods to get means, stddevs and
proportions
of the mixture of distributions?
>
> Thanx
>
> Robert (Bob) L Sandefur
> Principal Geostatistician
> Pincock Allen & Holt (A Hart Crowser Company)
>  International Minerals Consultants
>  274 Union Suite 200
>  Lakewood CO 80228
>  USA
>  303 914-4467  v
>  303 987-8907 f
> rls at pincock.com 
>
>
> ~
> ~
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html 
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch 
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/ 
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010828/916998c7/attachment.html

From kfast at poczta.onet.pl  Wed Aug 29 02:10:11 2001
From: kfast at poczta.onet.pl (kfast@poczta.onet.pl)
Date: Wed, 29 Aug 2001 02:10:11 +0200
Subject: [R] (not necessarily R-related) help with data presentation
Message-ID: <20010829001017Z231244-721+292650@f2virt.onet.pl>

I have a question which is not necessarily related to R.
I want to use a distorted political map of the world with certain countries increased in size according to a certain variable (an idea similar to the homunculi usually found in psychology textbooks) to demonstrate the coverage of particular countries in a news service. Does anyone have any idea of how to approach this? I don't think there is any software or anything that could do it, but I would be more than happy to hear a couple of ideas/intuitions as to how to tackle this.


Kuba Fast


-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Wed Aug 29 04:30:08 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 28 Aug 2001 22:30:08 -0400
Subject: [R] newbie graphics question
Message-ID: <m3bskzionj.fsf@home.sweet.home>


Hi!

I need to plot two lines on the same graph. I do
plot(x,y)
then 
plot(x,z,add=TRUE)

but I get the following warning messages
Warning messages: 
1: parameter "add" couldn't be set in high-level plot() function 
2: parameter "add" couldn't be set in high-level plot() function 
3: parameter "add" couldn't be set in high-level plot() function 
4: parameter "add" couldn't be set in high-level plot() function 
5: parameter "add" couldn't be set in high-level plot() function 
6: parameter "add" couldn't be set in high-level plot() function 

Thanks for  your help.
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Wed Aug 29 05:01:16 2001
From: d.scott at auckland.ac.nz (David Scott)
Date: Wed, 29 Aug 2001 15:01:16 +1200 (NZST)
Subject: [R] Estimating Weibull Distribution Parameters - very basic
 question
In-Reply-To: <S.0000036538@geobot.umnw.ethz.ch>
Message-ID: <Pine.GSO.4.33.0108291452150.21079-100000@aitken.scitec.auckland.ac.nz>

On Tue, 28 Aug 2001, Kaspar Pflugshaupt wrote:

>
> Guess I'll have to dig deeper into optim() (never used it before, so the
> possibility didn't occur to me)
>

optim is a fine piece of work. I have used it for fitting a whole range of
different distributions. I didn't even bother with giving derivatives and
it only fell over trying to fit hyperbolic distributions which are
notoriously difficult to fit. Having a range of different optimising
algorithms in one command is great.

Using optim helps me suppress agonizing memories of trying to use NAG
and IMSL. I don't see an attribution for it on ?optim. Whoever put it
together, take a bow.

David Scott
_________________________________________________________________
David Scott     Department of Statistics
                Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7000
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Wed Aug 29 05:29:28 2001
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Tue, 28 Aug 2001 22:29:28 -0500 (CDT)
Subject: [R] newbie graphics question
In-Reply-To: <m3bskzionj.fsf@home.sweet.home>
Message-ID: <Pine.SOL.4.30.0108282224560.3630-100000@s.psych.uiuc.edu>

> I need to plot two lines on the same graph. I do
> plot(x,y)
> then
> plot(x,z,add=TRUE)

Maybe try using the par(new=TRUE) parameter, as in:

plot(x,y)
par(new=TRUE)
plot(x,z)

Hope that helps!

------------------------------------------------------------------------
Wolfgang Viechtbauer                       wviechtb at s.psych.uiuc.edu
Department of Quantitative Psychology      viechtba at students.uiuc.edu

University of Illinois, Champaign-Urbana   [Virus  based  on  an honors-
Room 409, Psychology Building              system:  Forward  this  to 10
603 E. Daniel Street                       random  people  and  delete a
Champaign, IL 61820                        bunch of your files. Thanks.]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Aug 29 06:14:45 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 29 Aug 2001 16:14:45 +1200
Subject: [R] newbie graphics question
In-Reply-To: <m3bskzionj.fsf@home.sweet.home>
Message-ID: <JLECJACFMBHFAAPLJNECKEHBCAAA.Ko-Kang@xtra.co.nz>

I think if you want to add a line (or superimpose a line) onto a plot you want to use lines().

So what you want is:
 plot( x, y )
 lines( x, z )

If you want to add some texts, then use text(), legend() for a legend, title() for axis labels/titles.

Hope this helps,

Ko-Kang Wang

----------------------------------------------
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
Auckland
New Zealand


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Myriam Abramson
Sent: Wednesday, August 29, 2001 2:30 PM
To: r-help at stat.math.ethz.ch
Subject: [R] newbie graphics question



Hi!

I need to plot two lines on the same graph. I do
plot(x,y)
then 
plot(x,z,add=TRUE)

but I get the following warning messages
Warning messages: 
1: parameter "add" couldn't be set in high-level plot() function 
2: parameter "add" couldn't be set in high-level plot() function 
3: parameter "add" couldn't be set in high-level plot() function 
4: parameter "add" couldn't be set in high-level plot() function 
5: parameter "add" couldn't be set in high-level plot() function 
6: parameter "add" couldn't be set in high-level plot() function 

Thanks for  your help.
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Aug 29 08:38:07 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 29 Aug 2001 08:38:07 +0200
Subject: [R] optim() credentials {was "Estimating Weibull .."}
In-Reply-To: <Pine.GSO.4.33.0108291452150.21079-100000@aitken.scitec.auckland.ac.nz>
References: <S.0000036538@geobot.umnw.ethz.ch>
	<Pine.GSO.4.33.0108291452150.21079-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <15244.36303.576348.733958@gargle.gargle.HOWL>

>>>>> "DScottNZ" == David Scott <d.scott at auckland.ac.nz> writes:

      ........

    DScottNZ> optim is a fine piece of work. I have used it for fitting a
    DScottNZ> whole range of different distributions. I didn't even bother
    DScottNZ> with giving derivatives and it only fell over trying to fit
    DScottNZ> hyperbolic distributions which are notoriously difficult to
    DScottNZ> fit. Having a range of different optimising algorithms in one
    DScottNZ> command is great.

    DScottNZ> Using optim helps me suppress agonizing memories of trying to
    DScottNZ> use NAG and IMSL. I don't see an attribution for it on
    DScottNZ> ?optim. Whoever put it together, take a bow.

Most if not all of it is by Prof Brian Ripley.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Wed Aug 29 08:52:07 2001
From: cof at agere.com (Ortega Fernandez, Carlos (carlos))
Date: Wed, 29 Aug 2001 08:52:07 +0200
Subject: [R] newbie graphics question
Message-ID: <B010EF86FE79904186E666A83CA90B3C901896@SP0005EXCUAG01.ags.agere.com>


Please read the help and try the example provided in the command "lines()".

Carlos Ortega.

-----Mensaje original-----
De: Myriam Abramson [mailto:mabramso at gmu.edu]
Enviado el: mi?rcoles 29 de agosto de 2001 4:30
Para: r-help at stat.math.ethz.ch
Asunto: [R] newbie graphics question



Hi!

I need to plot two lines on the same graph. I do
plot(x,y)
then 
plot(x,z,add=TRUE)

but I get the following warning messages
Warning messages: 
1: parameter "add" couldn't be set in high-level plot() function 
2: parameter "add" couldn't be set in high-level plot() function 
3: parameter "add" couldn't be set in high-level plot() function 
4: parameter "add" couldn't be set in high-level plot() function 
5: parameter "add" couldn't be set in high-level plot() function 
6: parameter "add" couldn't be set in high-level plot() function 

Thanks for  your help.
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Aug 29 09:47:28 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 29 Aug 2001 09:47:28 +0200 (CEST)
Subject: [R] help with data presentation (cartograms)
In-Reply-To: <20010829001017Z231244-721+292650@f2virt.onet.pl>
Message-ID: <Pine.LNX.4.21.0108290926170.6654-100000@reclus.nhh.no>

On Wed, 29 Aug 2001 kfast at poczta.onet.pl wrote:

> I want to use a distorted political map of the world with certain
> countries increased in size according to a certain variable (an idea
> similar to the homunculi usually found in psychology textbooks) to
> demonstrate the coverage of particular countries in a news service.
> Does anyone have any idea of how to approach this? I don't think there
> is any software or anything that could do it, but I would be more than
> happy to hear a couple of ideas/intuitions as to how to tackle this.
> 
Your are looking for cartograms, see for example:

http://www.geog.qmw.ac.uk/hgis/conference/cartogram.html

and look for work by Danny Dorling. Another site is:

http://www-viz.tamu.edu/faculty/house/cartograms/index.html.

Dorling cartograms are mostly bubbles, Kocmoud/House deformed polygons.
There is a Java applet at:
http://www.geog.leeds.ac.uk/pgrads/j.macgill/java/Cartogram.html, and the
details are in: Dorling, Daniel (1996): Area Cartograms: Their Use and
Creation, Concepts and Techniques in Modern Geography (CATMOG), 59. The
complicated issue is to jitter the centres of the circular symbols so that
they are close to the point representing the original object location,
their area is proportional to the chosen weighting variable (here coverage
in the news service), they do not overlap; they are then filled to
represent the variable being visualized.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Aug 29 10:54:47 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 29 Aug 2001 10:54:47 +0200 (MET DST)
Subject: [R] Missing functions in package e1071(Win*)
Message-ID: <Pine.OSF.3.96.1010829105128.8621B-100000@ija.csic.es>

Hi!

After unziping the CRAN file e1071.zip
on my Win95 library directory, I start R and
type

>library(e1071)

After that, help commands of the e1071
functions work (i.e., help(read.pnm), BUT
some functions themselves are not available:

> read.pnm
Error: Object "read.pnm" not found


I've looked at the file library/R/e1071 with
an ascii editor and it seems like the functions
there are not all the ones listed in the help for
e1071. Indeed, after listing the available functions:

> search()
[1] ".GlobalEnv"    "package:e1071" "package:ctest" "Autoloads"    
[5] "package:base" 

> objects(pos=2)

and comparing to the ones listed in library/e1071/help/AnIndex,
I've found that the missing ones are:

channel.pnm
Mvnorm
plot.clobj
pnm
read.pnm
write.pgm

As it is often the case, the missing ones are the ones I need...

I've checked that this is not a downloading problem,
the CRAN file:

http://cran.r-project.org/bin/windows/contrib/e1071.zip

is identical to the one I have on my disk.

Maybe a problem at compiling for win* and/or packing the e1071.zip file?

Any solution?


Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Aug 29 10:48:09 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 29 Aug 2001 10:48:09 +0200
Subject: [R] Wrong acepack compiled package for Windows
Message-ID: <MABBLJDICACNFOLGIHJOKEFHCFAA.phgrosje@ulb.ac.be>

This is just to signal that acepack v. 1.3.0 (May 15 2001), compiled version
for Windows, on CRAN is incomplete. It contains only a few files and no R
code or examples. I don't have time to recompile the package (I never did
this before!). So, I cannot fix this myself.

Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug 29 11:24:35 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 29 Aug 2001 11:24:35 +0200
Subject: [R] Missing functions in package e1071(Win*)
References: <Pine.OSF.3.96.1010829105128.8621B-100000@ija.csic.es>
Message-ID: <3B8CB4D3.F0B3B0F4@statistik.uni-dortmund.de>

Agustin Lobo wrote:
> 
> Hi!
> 
> After unziping the CRAN file e1071.zip
> on my Win95 library directory, I start R and
> type
> 
> >library(e1071)
> 
> After that, help commands of the e1071
> functions work (i.e., help(read.pnm), BUT
> some functions themselves are not available:
> 
> > read.pnm
> Error: Object "read.pnm" not found

If you have read the readme of e1071, you would have found:

"The functions for reading and writing PNM images need the netpbm
libraries and header files (which can be downloaded from
http://netpbm.sourceforge.net).  If netpbm is not found at INSTALL
time, support wir reading and writing PNM images is disabled."

This seems to be the case in your installation.


> I've looked at the file library/R/e1071 with
> an ascii editor and it seems like the functions
> there are not all the ones listed in the help for
> e1071. Indeed, after listing the available functions:
> 
> > search()
> [1] ".GlobalEnv"    "package:e1071" "package:ctest" "Autoloads"
> [5] "package:base"
> 
> > objects(pos=2)
> 
> and comparing to the ones listed in library/e1071/help/AnIndex,
> I've found that the missing ones are:
> 
> channel.pnm
> Mvnorm
> plot.clobj
> pnm
> read.pnm
> write.pgm

Some are functions and (as expected) "missing".
Some are help topics (and not functions!) with aliases to other
functions. E.g. Mvnorm is not a function. In Mvnorm.Rd of the package
sources you will find:

 \name{Mvnorm}
 \alias{dmvnorm}
 \alias{rmvnorm}

 
> As it is often the case, the missing ones are the ones I need...
> 
> I've checked that this is not a downloading problem,
> the CRAN file:
> 
> http://cran.r-project.org/bin/windows/contrib/e1071.zip
> 
> is identical to the one I have on my disk.
> 
> Maybe a problem at compiling for win* and/or packing the e1071.zip file?
> 
> Any solution?


a) Try to compile yourself the netpbm libraries and after that the e1071
package. But I think that won't be very easy.

b) Change to another OS. It works fine on many Linux/Unix/Solaris
systems, which often have the required libraries and compiler installed.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Wed Aug 29 11:36:28 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Wed, 29 Aug 2001 11:36:28 +0200 (MET DST)
Subject: [R] lme questions
Message-ID: <Pine.GSO.3.95q.1010829112403.6654D-100000@sun21.math.uni-hamburg.de>

Dear list,

the following should fit the model 
log(PEPC.Wert)=fKTemp+fHerk+interaction(fKTemp,fHerk)+fMub+error,
where fKTemp, fHerk are fixed effect factors and fMub is a random effects
factor nested in fHerk (values are different fopr different values of
fHerk).

> logpepcr1 <- lme(log(PEPC.Wert) ~ fKTemp*fHerk, random= ~ 1 | fMub, na.action=na.omit)

The following should be without the random factor:

> logpepcr0 <- lme(log(PEPC.Wert) ~ fKTemp*fHerk,na.action=na.omit)
Error in getGroups.data.frame(dataMix, groups) : 
	Invalid formula for groups

OK, I try with lm:

> logpepcr0 <- lm(log(PEPC.Wert) ~ fKTemp*fHerk,na.action=na.omit)

...works.

Is the following correct for testing the significance of the
random factor?

> anova.lme(logpepcr0,logpepcr1)
          Model df      AIC      BIC    logLik   Test  L.Ratio p-value
logpepcr0     1 10 3977.354 4030.318 -1978.677                        
logpepcr1     2 11 3885.392 3943.653 -1931.696 1 vs 2 93.96144  <.0001

Where can I get an estimator for the variance of the random factor fMub?

Is there a way to specify an interaction between fMub and fKTemp?

And why does this happen?

> plot(logpepcr1)
Error in do.call(plotFun, as.list(args)) : 
	couldn't find function "xyplot"

(plot(logpepcr0) works; I use R 1.3.0 on Solaris.)

Thank you for help.
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 29 12:42:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2001 11:42:48 +0100 (BST)
Subject: [R] Missing functions in package e1071(Win*)
In-Reply-To: <Pine.OSF.3.96.1010829105128.8621B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0108291138460.23190-100000@gannet.stats>

pnm functionality is only included if a pnm library is found, I have one,
but it does not work correctly with this package.  There is nothing wrong
with the archive, which is what you will get if you install e1071 on a
machine without pnm support.

Please do read the ReadMe there and/or the rw-FAQ.



On Wed, 29 Aug 2001, Agustin Lobo wrote:

> Hi!
>
> After unziping the CRAN file e1071.zip
> on my Win95 library directory, I start R and
> type
>
> >library(e1071)
>
> After that, help commands of the e1071
> functions work (i.e., help(read.pnm), BUT
> some functions themselves are not available:
>
> > read.pnm
> Error: Object "read.pnm" not found
>
>
> I've looked at the file library/R/e1071 with
> an ascii editor and it seems like the functions
> there are not all the ones listed in the help for
> e1071. Indeed, after listing the available functions:
>
> > search()
> [1] ".GlobalEnv"    "package:e1071" "package:ctest" "Autoloads"
> [5] "package:base"
>
> > objects(pos=2)
>
> and comparing to the ones listed in library/e1071/help/AnIndex,
> I've found that the missing ones are:
>
> channel.pnm
> Mvnorm
> plot.clobj
> pnm
> read.pnm
> write.pgm
>
> As it is often the case, the missing ones are the ones I need...
>
> I've checked that this is not a downloading problem,
> the CRAN file:
>
> http://cran.r-project.org/bin/windows/contrib/e1071.zip
>
> is identical to the one I have on my disk.
>
> Maybe a problem at compiling for win* and/or packing the e1071.zip file?
>
> Any solution?

Find a working pnm library and compile it yourself.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 29 12:53:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2001 11:53:31 +0100 (BST)
Subject: [R] lme questions
In-Reply-To: <Pine.GSO.3.95q.1010829112403.6654D-100000@sun21.math.uni-hamburg.de>
Message-ID: <Pine.LNX.4.31.0108291147140.23190-100000@gannet.stats>

On Wed, 29 Aug 2001, Christian Hennig wrote:

> Dear list,
>
> the following should fit the model
> log(PEPC.Wert)=fKTemp+fHerk+interaction(fKTemp,fHerk)+fMub+error,
> where fKTemp, fHerk are fixed effect factors and fMub is a random effects
> factor nested in fHerk (values are different fopr different values of
> fHerk).
>
> > logpepcr1 <- lme(log(PEPC.Wert) ~ fKTemp*fHerk, random= ~ 1 | fMub, na.action=na.omit)
>
> The following should be without the random factor:
>
> > logpepcr0 <- lme(log(PEPC.Wert) ~ fKTemp*fHerk,na.action=na.omit)
> Error in getGroups.data.frame(dataMix, groups) :
> 	Invalid formula for groups
>
> OK, I try with lm:
>
> > logpepcr0 <- lm(log(PEPC.Wert) ~ fKTemp*fHerk,na.action=na.omit)
>
> ...works.
>
> Is the following correct for testing the significance of the
> random factor?
>
> > anova.lme(logpepcr0,logpepcr1)
>           Model df      AIC      BIC    logLik   Test  L.Ratio p-value
> logpepcr0     1 10 3977.354 4030.318 -1978.677
> logpepcr1     2 11 3885.392 3943.653 -1931.696 1 vs 2 93.96144  <.0001

No.  You need to fit the lme model by maximum likelihood, not the default
REML, to be comparable with the lm fit.

> Where can I get an estimator for the variance of the random factor fMub?

The standard error is in the summary() output.


> Is there a way to specify an interaction between fMub and fKTemp?
>
> And why does this happen?
>
> > plot(logpepcr1)
> Error in do.call(plotFun, as.list(args)) :
> 	couldn't find function "xyplot"

That's a legacy of the S origins: xyplot is in package lattice in the
Devel section on CRAN (needs grid too) and I don't know if it
yet suffices for plot.lme.


> (plot(logpepcr0) works; I use R 1.3.0 on Solaris.)

That's using plot.lm.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.jantti at uta.fi  Wed Aug 29 13:10:03 2001
From: markus.jantti at uta.fi (Markus Jantti)
Date: Wed, 29 Aug 2001 14:10:03 +0300
Subject: [R] suggestion for example for base:naresid
Message-ID: <200108291110.f7TBA2l23554@net28.labour.fi>

Dear list:

since it took me a little while to figure out how to make use of naresid, I thought that 
the below R code might be useful as an example on the help page. 

Regards,

Markus

 # generate some data
x1 <- runif(20)
y <- 10 + 5*x1 + rnorm(20)
summary(lm.0 <- lm(y ~ x1))
# append some NA's to y
y <- c(y, rep(NA, 5))
# generate some further x1s
x1 <- c(x1, runif(5))
# this fills the residuals vector with NA's to the end
summary(lm.1 <- lm(y ~ x1, na.action = na.exclude))
residuals(lm.1) # is equal to
naresid(na.exclude(lm.1), lm.1$residuals)
tmp.omit <- lm.1$na.action # modify the na.action to omit
class(tmp.omit) <- "omit"
naresid(tmp.omit, lm.1$residuals)
# same as residuals(lm.0)
summary(lm.2 <- lm(y ~ x1)) 
residuals(lm.2) 
tmp.omit <- lm.2$na.action # modify the na.action to be "exclude"
class(tmp.omit) <- "exclude"
naresid(tmp.omit, lm.2$residuals)

--
Markus Jantti
markus.jantti at uta.fi ** http://www.abo.fi/~mjantti
Dept of Economics ** University of Tampere ** FIN 33014 University of Tampere
PGP public key: http://www.abo.fi/~mjantti/pubring.asc



From stephan at fs2.ma.man.ac.uk  Wed Aug 29 12:17:59 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Wed, 29 Aug 2001 12:17:59 BST
Subject: Updating Packages (was Re: [R] Reading of a large SAS Export dat
Message-ID: <7A8EDC417C3@fs2.ma.man.ac.uk>

It was suggested to me that, although I've installed version 1.3.0 of 
R, the contained foreign package won't be the most recent.  Hence, 
it's worth using update.package().  However, when I did that, I got 
the following log file:

> options(CRAN="http://cran.us.r-project.org/")
> update.packages()
trying URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
unable to connect to 'cran.us.r-project.org'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
>
> options(CRAN="http://cran.r-project.org/")
> update.packages()
trying URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
unable to connect to 'cran.r-project.org'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
>

The first URL was inaccessible with Netscape. Yet when I directly 
accessed the second URL using Netscape, it worked perfectly, with the 
following result (severely edited to save space):

Package: bootstrap
Version: 1.0-7

Package: foreign
Priority: recommended
Version: 0.4-7

Could you please explain what I have to do to get download.file to 
work correctly?

Many thanks,
Stephan Rudolfer



******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 29 13:54:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2001 12:54:19 +0100 (BST)
Subject: [R] suggestion for example for base:naresid
In-Reply-To: <200108291110.f7TBA2l23554@net28.labour.fi>
Message-ID: <Pine.LNX.4.31.0108291247280.23328-100000@gannet.stats>

On Wed, 29 Aug 2001, Markus Jantti wrote:

> Dear list:
>
> since it took me a little while to figure out how to make use of naresid, I thought that
> the below R code might be useful as an example on the help page.

Really it is for internal use only. End users should be using residuals().
It does say

     These are utility functions used to allow `predict' and `resid'
     methods for modelling functions to compensate for the removal of
     `NA's in the fitting process.  There are used by methods in

which is probably enough of a hint.  Anyone wanting to write such a method
would surely copy residuals.lm, say.


>
> Regards,
>
> Markus
>
>  # generate some data
> x1 <- runif(20)
> y <- 10 + 5*x1 + rnorm(20)
> summary(lm.0 <- lm(y ~ x1))
> # append some NA's to y
> y <- c(y, rep(NA, 5))
> # generate some further x1s
> x1 <- c(x1, runif(5))
> # this fills the residuals vector with NA's to the end
> summary(lm.1 <- lm(y ~ x1, na.action = na.exclude))
> residuals(lm.1) # is equal to
> naresid(na.exclude(lm.1), lm.1$residuals)
> tmp.omit <- lm.1$na.action # modify the na.action to omit
> class(tmp.omit) <- "omit"
> naresid(tmp.omit, lm.1$residuals)
> # same as residuals(lm.0)
> summary(lm.2 <- lm(y ~ x1))
> residuals(lm.2)
> tmp.omit <- lm.2$na.action # modify the na.action to be "exclude"
> class(tmp.omit) <- "exclude"
> naresid(tmp.omit, lm.2$residuals)

Please, that's underhand.  Don't alter classes on objects like that.
There is no guarantee that will continue to work (and actually it
won't now unless options(na.action) happens to be the default).

There is a set of examples in tests/nafns.R.


> --
> Markus Jantti
> markus.jantti at uta.fi ** http://www.abo.fi/~mjantti
> Dept of Economics ** University of Tampere ** FIN 33014 University of Tampere
> PGP public key: http://www.abo.fi/~mjantti/pubring.asc
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Wed Aug 29 14:12:54 2001
From: ozric at web.de (C. Schulz)
Date: Wed, 29 Aug 2001 14:12:54 +0200
Subject: [R] Matching Data & Results (Fuzzy-Cluster-Analysis)
Message-ID: <200108291212.f7TCCsp31152@mailgate3.cinetic.de>

Hello,
i use i.e. the cluster-package and the
fanny-object to construct some cluster's and get
the membership'S for every "Person" & Cluster !

My finally problem is to match efficient the data
and the results's togehter in one table!

Until now  i use the ODBC-Package and
save both in a access-file and copy them together,
but i can't be sure that the sorting is the same?!

Exist their a core-principal to match data with
id's(Primary Key) in R & how i can set a filter for a
data.frame with
headers (i.e. Pseudocode: mean(X), if (Y=1) )?

Thanks for advance
regards,Christian
_______________________________________________________________________
1.000.000 DM gewinnen - kostenlos tippen - http://millionenklick.web.de
IhrName at web.de, 8MB Speicher, Verschluesselung - http://freemail.web.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug 29 14:45:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 29 Aug 2001 14:45:34 +0200
Subject: Updating Packages (was Re: [R] Reading of a large SAS Export dat
References: <7A8EDC417C3@fs2.ma.man.ac.uk>
Message-ID: <3B8CE3EE.F0BA5EED@statistik.uni-dortmund.de>

"Dr. Stephan Martin Rudolfer" wrote:
> 
> It was suggested to me that, although I've installed version 1.3.0 of
> R, the contained foreign package won't be the most recent.  Hence,
> it's worth using update.package().  However, when I did that, I got
> the following log file:
> 
> > options(CRAN="http://cran.us.r-project.org/")
> > update.packages()
> trying URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
> unable to connect to 'cran.us.r-project.org'.
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
> >
> > options(CRAN="http://cran.r-project.org/")
> > update.packages()
> trying URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
> unable to connect to 'cran.r-project.org'.
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
> >
> 
> The first URL was inaccessible with Netscape. Yet when I directly
> accessed the second URL using Netscape, it worked perfectly, with the
> following result (severely edited to save space):
> 
> Package: bootstrap
> Version: 1.0-7
> 
> Package: foreign
> Priority: recommended
> Version: 0.4-7
> 
> Could you please explain what I have to do to get download.file to
> work correctly?


I guess your OS is Win2k (you didn't tell it). 
Try to rename \rw1030\modules\internet2.dll to
\rw1030\modules\internet.dll (and save that one at first). Sometimes
this procedure works...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Aug 29 14:58:02 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 29 Aug 2001 13:58:02 +0100 (BST)
Subject: [R] Matching Data & Results (Fuzzy-Cluster-Analysis)
In-Reply-To: <200108291212.f7TCCsp31152@mailgate3.cinetic.de>
Message-ID: <XFMail.010829135802.theis@statistik.uni-dortmund.de>

Hello Christian!

On 29-Aug-01 C. Schulz wrote:
> Hello,
> i use i.e. the cluster-package and the
> fanny-object to construct some cluster's and get
> the membership'S for every "Person" & Cluster !
> 
> My finally problem is to match efficient the data
> and the results's togehter in one table!
I suppose you want to get a matrix of the form:
 Some Variables measured per "Person" | Resulting memberships per cluster
 X_1 X_2 ...                      X_p | M_1 M_2 ... M_k

The easiest way to do this is:
> fobject<-fanny(data)
> resultsanddata<-cbind(data,fobject$membership)

This gives you a matrix like the one described above. You could use data.frame
instead of cbind and define colnames more to your liking, see the helppage for
more details.

Regards,

Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 29-Aug-01
Time: 13:47:57
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Wed Aug 29 14:26:11 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Wed, 29 Aug 2001 14:26:11 BST
Subject: Updating Packages (was Re: [R] Reading of a large SAS Export
In-Reply-To: <3B8CE3EE.F0BA5EED@statistik.uni-dortmund.de>
Message-ID: <7AB10E80F1D@fs2.ma.man.ac.uk>

> I guess your OS is Win2k (you didn't tell it). 
> Try to rename \rw1030\modules\internet2.dll to
> \rw1030\modules\internet.dll (and save that one at first). Sometimes
> this procedure works...
> 
> Uwe Ligges

My OS is Win98.  Does that affect your advice?

Stephan Rudolfer


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arlin at carb.nist.gov  Wed Aug 29 15:47:39 2001
From: arlin at carb.nist.gov (Arlin Stoltzfus)
Date: Wed, 29 Aug 2001 09:47:39 -0400
Subject: [R] newbie graphics question
References: <Pine.SOL.4.30.0108282224560.3630-100000@s.psych.uiuc.edu>
Message-ID: <3B8CF27B.FAA5756C@carb.nist.gov>

Wolfgang Viechtbauer wrote:
> 
> > I need to plot two lines on the same graph. I do
> > plot(x,y)
> > then
> > plot(x,z,add=TRUE)
> 
> Maybe try using the par(new=TRUE) parameter, as in:
> 
> plot(x,y)
> par(new=TRUE)
> plot(x,z)

This works, but isn't the real issue here why the help indicates 
that graphics parameters set by par can also be passed as arguments 
to "plot", when in fact this isn't true?  That is, according to 
the help, I ought to be able to set "new" like this: 

 > plot ( x, y1 )
 > plot ( x, y2, new=TRUE )
 Warning messages: 
 1: parameter "new" couldn't be set in high-level plot() function 
 2: parameter "new" couldn't be set in high-level plot() function 
 3: parameter "new" couldn't be set in high-level plot() function 
 4: parameter "new" couldn't be set in high-level plot() function 
 5: parameter "new" couldn't be set in high-level plot() function 
 6: parameter "new" couldn't be set in high-level plot() function 

but this doesn't work.

Arlin
-- 
Arlin Stoltzfus (arlin at carb.nist.gov)
 Research Biologist, NIST; Adj. Asst. Prof., UMBI
CARB, 9600 Gudelsky Dr., Rockville, Md 20850
ph. 301 738-6208; fax 301 738-6255; http://www.molevol.org/camel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Aug 29 16:12:13 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 29 Aug 2001 10:12:13 -0400
Subject: [R] ARIMAX
References: <20010828090042.19840.qmail@web20304.mail.yahoo.com>
Message-ID: <3B8CF83D.304F34F8@bank-banque-canada.ca>

MG>I would like to know if there exists some package
MG>within R-system whereby parameters of transfer
MG>function model can be estimated using the
MG>preliminaraly identified model.

The dse package on CRAN handles multivariate ARIMAX models and in the
most recent version maximum likelihood can be done using optim() and
starting with a preliminary identified model. ARIMAX models are similar
in many respects to transfer function models (some would say identical),
but transfer functions are also sometimes associated with continuous
time and frequency domain techniques, and these are not implemented in
dse.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Aug 29 16:47:31 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 29 Aug 2001 10:47:31 -0400
Subject: [R] newbie list
Message-ID: <3B8D0082.2A6153F7@bank-banque-canada.ca>

I've sometimes thought it would be useful to have another mail list
called "no I haven't read the documentation but someone can save me a
lot of time," or perhaps just "newbie" for short. This can be very
useful for people just getting started in R and with school starting
soon I expect the help list may become overwhelmed. Of course, I think
that people should read all the documentation, but it can still be a
very difficult to get a quick answer to very simple questions.

I would suggest that this be advertised as a list where new users can
help one another and the experts monitoring the help list are (probably)
not listening. Thus simple/obvious/documented things can be asked
without fear of being (justifiably) chastised for not reading the
documentation. A chat room may be a better mechanism, but a mail list
can be added fairly simply.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 29 16:56:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2001 15:56:01 +0100 (BST)
Subject: [R] newbie graphics question
In-Reply-To: <3B8CF27B.FAA5756C@carb.nist.gov>
Message-ID: <Pine.LNX.4.31.0108291551110.23447-100000@gannet.stats>

On Wed, 29 Aug 2001, Arlin Stoltzfus wrote:

> Wolfgang Viechtbauer wrote:
> >
> > > I need to plot two lines on the same graph. I do
> > > plot(x,y)
> > > then
> > > plot(x,z,add=TRUE)
> >
> > Maybe try using the par(new=TRUE) parameter, as in:
> >
> > plot(x,y)
> > par(new=TRUE)
> > plot(x,z)
>
> This works, but isn't the real issue here why the help indicates
> that graphics parameters set by par can also be passed as arguments

Which help?  ?plot.default says

     ...: graphical parameters as in `par' may also be passed as
          arguments.

and that has a xref to ?par which says

     <highlevel plot> (..., <tag> = <value>)

      ...

     All but these R.O. and the following low-level arguments can be
     set as well in high-level and mid-level plot functions, such as
     `plot', `points', `lines', `axis', `title', `text', `mtext':

        *  `"ask"'

        *  `"fig"', `"fin"'

        *  `"mai"', `"mar"', `"mex"'

        *  `"mfrow"', `"mfcol"', `"mfg"'

        *  `"new"'

        *  `"oma"', `"omd"', `"omi"'

        *  `"pin"', `"plt"', `"ps"', `"pty"'

        *  `"usr"'

        *  `"xlog"', `"ylog"'




> to "plot", when in fact this isn't true?  That is, according to
> the help, I ought to be able to set "new" like this:
>
>  > plot ( x, y1 )
>  > plot ( x, y2, new=TRUE )
>  Warning messages:
>  1: parameter "new" couldn't be set in high-level plot() function
>  2: parameter "new" couldn't be set in high-level plot() function
>  3: parameter "new" couldn't be set in high-level plot() function
>  4: parameter "new" couldn't be set in high-level plot() function
>  5: parameter "new" couldn't be set in high-level plot() function
>  6: parameter "new" couldn't be set in high-level plot() function
>
> but this doesn't work.

`as documented'

>
> Arlin
> --
> Arlin Stoltzfus (arlin at carb.nist.gov)
>  Research Biologist, NIST; Adj. Asst. Prof., UMBI
> CARB, 9600 Gudelsky Dr., Rockville, Md 20850
> ph. 301 738-6208; fax 301 738-6255; http://www.molevol.org/camel
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Wed Aug 29 17:01:22 2001
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Wed, 29 Aug 2001 16:01:22 +0100
Subject: [R] newbie graphics question
In-Reply-To: <3B8CF27B.FAA5756C@carb.nist.gov>
Message-ID: <000e01c1309b$77dad9e0$4c202880@GSIMPSON>

You need to read the help for par (as mentioned in the help for plot).

In the details section the help states that:

     All but these R.O. and the following low-level arguments can be
     set as well in high-level and mid-level plot functions, such as
     `plot', `points', `lines', `axis', `title', `text', `mtext':

        *  `"ask"'

<snip>

        *  `"new"'

<snip>

Which is why your command didn't work.

Gav

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Arlin Stoltzfus
Sent: 29 August 2001 14:48
To: r-help at stat.math.ethz.ch
Subject: Re: [R] newbie graphics question


Wolfgang Viechtbauer wrote:
> 
> > I need to plot two lines on the same graph. I do
> > plot(x,y)
> > then
> > plot(x,z,add=TRUE)
> 
> Maybe try using the par(new=TRUE) parameter, as in:
> 
> plot(x,y)
> par(new=TRUE)
> plot(x,z)

This works, but isn't the real issue here why the help indicates 
that graphics parameters set by par can also be passed as arguments 
to "plot", when in fact this isn't true?  That is, according to 
the help, I ought to be able to set "new" like this: 

 > plot ( x, y1 )
 > plot ( x, y2, new=TRUE )
 Warning messages: 
 1: parameter "new" couldn't be set in high-level plot() function 
 2: parameter "new" couldn't be set in high-level plot() function 
 3: parameter "new" couldn't be set in high-level plot() function 
 4: parameter "new" couldn't be set in high-level plot() function 
 5: parameter "new" couldn't be set in high-level plot() function 
 6: parameter "new" couldn't be set in high-level plot() function 

but this doesn't work.

Arlin
-- 
Arlin Stoltzfus (arlin at carb.nist.gov)
 Research Biologist, NIST; Adj. Asst. Prof., UMBI
CARB, 9600 Gudelsky Dr., Rockville, Md 20850
ph. 301 738-6208; fax 301 738-6255; http://www.molevol.org/camel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Wed Aug 29 17:13:27 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Wed, 29 Aug 2001 09:13:27 -0600
Subject: [R] Flushing the console under Windows
Message-ID: <001901c1309d$28e0bba0$8b57e43f@91qez>

Is there a way to clear the console under Windows with a command in R code?
I've tried "flush.console()", but nothing happens on my system. I would
guess that that function has a different purpose. Thanks!

-Bill

> R.version
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    3.0
year     2001
month    06
day      22
language R
> win.version()
[1] "Windows 2000 Professional (build 2195) Service Pack 2.0"


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Wed Aug 29 17:21:36 2001
From: cof at agere.com (Ortega Fernandez, Carlos (carlos))
Date: Wed, 29 Aug 2001 17:21:36 +0200
Subject: [R] Matching Data & Results (Fuzzy-Cluster-Analysis)
Message-ID: <B010EF86FE79904186E666A83CA90B3C9477EE@SP0005EXCUAG01.ags.agere.com>

Please check the help and the examples of:

- merge()
- match()

I think that is what you are looking for.

Carlos Ortega.

-----Mensaje original-----
De: C. Schulz [mailto:ozric at web.de]
Enviado el: mi?rcoles 29 de agosto de 2001 14:13
Para: r-help at stat.math.ethz.ch
Asunto: [R] Matching Data & Results (Fuzzy-Cluster-Analysis)


Hello,
i use i.e. the cluster-package and the
fanny-object to construct some cluster's and get
the membership'S for every "Person" & Cluster !

My finally problem is to match efficient the data
and the results's togehter in one table!

Until now  i use the ODBC-Package and
save both in a access-file and copy them together,
but i can't be sure that the sorting is the same?!

Exist their a core-principal to match data with
id's(Primary Key) in R & how i can set a filter for a
data.frame with
headers (i.e. Pseudocode: mean(X), if (Y=1) )?

Thanks for advance
regards,Christian
_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Aug 29 17:29:26 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 29 Aug 2001 11:29:26 -0400
Subject: Updating Packages (was Re: [R] Reading of a large SAS Export dat
In-Reply-To: <7A8EDC417C3@fs2.ma.man.ac.uk>
References: <7A8EDC417C3@fs2.ma.man.ac.uk>
Message-ID: <pd2qotg7d97na802872ou3l0ms1qofatlc@4ax.com>

On Wed, 29 Aug 2001 12:17:59 BST, you wrote in message
<7A8EDC417C3 at fs2.ma.man.ac.uk>:

>It was suggested to me that, although I've installed version 1.3.0 of 
>R, the contained foreign package won't be the most recent.  Hence, 
>it's worth using update.package().  However, when I did that, I got 
>the following log file:
>
>> options(CRAN="http://cran.us.r-project.org/")
>> update.packages()
>trying URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'

Notice you've got two slashes after the site name.  I suspect what you
want is 

 options(CRAN="http://cran.us.r-project.org")

and indeed the default for that option has no trailing backslash:

> options('CRAN')
$CRAN
[1] "http://cran.r-project.org"


Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Wed Aug 29 16:43:30 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Wed, 29 Aug 2001 16:43:30 BST
Subject: Updating Packages (was Re: [R] Reading of a large SAS Export
In-Reply-To: <3B8CE3EE.F0BA5EED@statistik.uni-dortmund.de>
Message-ID: <7AD5A277556@fs2.ma.man.ac.uk>

Dear Uwe,

Many, many thanks for your advice; it worked perfectly!  By the 
way, my OS is Win98.

Best wishes,
Stephan

> Date:          Wed, 29 Aug 2001 14:45:34 +0200
> From:          Uwe Ligges <ligges at statistik.uni-dortmund.de>
> Organization:  Fachbereich Statistik, Universitaet Dortmund
> To:            "Dr. Stephan Martin Rudolfer" <stephan at fs2.ma.man.ac.uk>
> Cc:            r-help at hypatia.math.ethz.ch
> Subject:       Re: Updating Packages (was Re: [R] Reading of a large SAS Export dat

> "Dr. Stephan Martin Rudolfer" wrote:
> > 
> > It was suggested to me that, although I've installed version 1.3.0 of
> > R, the contained foreign package won't be the most recent.  Hence,
> > it's worth using update.package().  However, when I did that, I got
> > the following log file:
> > 
> > > options(CRAN="http://cran.us.r-project.org/")
> > > update.packages()
> > trying URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
> > unable to connect to 'cran.us.r-project.org'.
> > Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
> >         cannot open URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
> > >
> > > options(CRAN="http://cran.r-project.org/")
> > > update.packages()
> > trying URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
> > unable to connect to 'cran.r-project.org'.
> > Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
> >         cannot open URL `http://cran.r-project.org//bin/windows/contrib/PACKAGES'
> > >
> > 
> > The first URL was inaccessible with Netscape. Yet when I directly
> > accessed the second URL using Netscape, it worked perfectly, with the
> > following result (severely edited to save space):
> > 
> > Package: bootstrap
> > Version: 1.0-7
> > 
> > Package: foreign
> > Priority: recommended
> > Version: 0.4-7
> > 
> > Could you please explain what I have to do to get download.file to
> > work correctly?
> 
> 
> I guess your OS is Win2k (you didn't tell it). 
> Try to rename \rw1030\modules\internet2.dll to
> \rw1030\modules\internet.dll (and save that one at first). Sometimes
> this procedure works...
> 
> Uwe Ligges

 


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saikat at stat.wisc.edu  Wed Aug 29 17:44:54 2001
From: saikat at stat.wisc.edu (Saikat DebRoy)
Date: 29 Aug 2001 10:44:54 -0500
Subject: [R] lme questions
References: <Pine.LNX.4.31.0108291147140.23190-100000@gannet.stats>
Message-ID: <qxpzo8i27m1.fsf@verdi.stat.wisc.edu>

>>>>> "Brian" == Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

  Brian> On Wed, 29 Aug 2001, Christian Hennig wrote:

  >> And why does this happen?
  >> 
  >> > plot(logpepcr1)
  >> Error in do.call(plotFun, as.list(args)) :
  >> couldn't find function "xyplot"

  Brian> That's a legacy of the S origins: xyplot is in package lattice in the
  Brian> Devel section on CRAN (needs grid too) and I don't know if it
  Brian> yet suffices for plot.lme.

It should work with nlme 3.1-17 (I think it is already on
CRAN). Deepayan Sarkar made some changes in the nlme plot methods to
make it work with lattice.

Saikat
-- 
Department of Statistics                       Email: saikat at stat.wisc.edu
University of Wisconsin - Madison              Phone: (608) 263 5948
1210 West Dayton Street                        Fax:   (608) 262 0032
Madison, WI 53706-1685
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 29 17:52:55 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Aug 2001 17:52:55 +0200
Subject: [R] newbie list
In-Reply-To: <3B8D0082.2A6153F7@bank-banque-canada.ca>
References: <3B8D0082.2A6153F7@bank-banque-canada.ca>
Message-ID: <x2pu9elv6w.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

> I've sometimes thought it would be useful to have another mail list
> called "no I haven't read the documentation but someone can save me a
> lot of time," or perhaps just "newbie" for short. This can be very
> useful for people just getting started in R and with school starting
> soon I expect the help list may become overwhelmed. Of course, I think
> that people should read all the documentation, but it can still be a
> very difficult to get a quick answer to very simple questions.
> 
> I would suggest that this be advertised as a list where new users can
> help one another and the experts monitoring the help list are (probably)
> not listening. Thus simple/obvious/documented things can be asked
> without fear of being (justifiably) chastised for not reading the
> documentation. A chat room may be a better mechanism, but a mail list
> can be added fairly simply.

Although I appreciate the thought, I see some problems with what you
suggest. In caricature, we could end up with newbies rewriting the
documentation for each other ... incorrectly!  Most of the time where
people get referred to the documentation it is actually because there
is no simple answer, or (at times) no easy way to lead people onto the
fact that computer languages have rules... 

I don't know about what other people do, but I set up mail filtering
rules that send all R-help traffic to a separate folder, so that I can
fairly easily skim it when I have time. Apart from that, I try not to
answer every newbie question but let the semi-experienced group (which
must be growing quite large by now) try their hand first.

One thing that has crossed my mind more than a few times is that the
Tcl crowd use something called a Wiki which is a sort of multiauthor
document (http://mini.net/tcl/) and I've been wondering whether we
might have something similar for R. This structure might be useful at
the development level as well. Not that I don't have other things to
do... 

(A better search mechanism for the mailing list archives might also be
a good idea.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kfast at poczta.onet.pl  Wed Aug 29 17:56:50 2001
From: kfast at poczta.onet.pl (kfast@poczta.onet.pl)
Date: Wed, 29 Aug 2001 17:56:50 +0200
Subject: [R] (not necessarily R-related) help with data presentation
Message-ID: <20010829155658Z231275-720+321713@f2virt.onet.pl>

Thanks a million for everyone's help.
However, in technical terms my problem is still not solved. Is there any freely available software which allows one to draw cartograms? If not, is there any free software for which you imagine it would be easy to add an extension to do that? Or maybe someone would be willing to feed my data into a program they have and make one for me -- it's really simple, and I just need one, the data is basically some 100 or so countries with values ranging from 0 to ~ 300. I would be extremely grateful for further suggestions/help.

Jakub Fast


-- 

OnetKomunikator - porozumiesz sie
z innymi [ http://ok.onet.pl/instaluj.html ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 29 18:19:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2001 17:19:17 +0100 (BST)
Subject: [R] Flushing the console under Windows
In-Reply-To: <001901c1309d$28e0bba0$8b57e43f@91qez>
Message-ID: <Pine.LNX.4.31.0108291712050.23540-100000@gannet.stats>

On Wed, 29 Aug 2001, Bill Oliver wrote:

> Is there a way to clear the console under Windows with a command in R code?
> I've tried "flush.console()", but nothing happens on my system. I would
> guess that that function has a different purpose. Thanks!

Yes, see ?flush.console.

You can clear the console by ctrl-L, but not from a function.



>
> -Bill
>
> > R.version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > win.version()
> [1] "Windows 2000 Professional (build 2195) Service Pack 2.0"
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Aug 29 18:55:09 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Aug 2001 09:55:09 -0700
Subject: [R] newbie list
In-Reply-To: <x2pu9elv6w.fsf@blueberry.kubism.ku.dk>
References: <3B8D0082.2A6153F7@bank-banque-canada.ca>
	<x2pu9elv6w.fsf@blueberry.kubism.ku.dk>
Message-ID: <87k7zmvmaa.fsf@jeeves.blindglobe.net>

>>>>> "PD" == Peter Dalgaard <BSA <p.dalgaard at biostat.ku.dk>> writes:

    PD> One thing that has crossed my mind more than a few times is
    PD> that the Tcl crowd use something called a Wiki which is a sort
    PD> of multiauthor document (http://mini.net/tcl/) and I've been
    PD> wondering whether we might have something similar for R. This
    PD> structure might be useful at the development level as
    PD> well. Not that I don't have other things to do...

Wikis are great.  I've used them on a number of projects.  

Highly searchable, etc, etc.

But... access, having people enter stuff, and the fact that everything
tends to be free-form are disadvantages.  There are knowledge-base
products and FAQs available, but they suffer from similar problems....

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Aug 29 19:41:11 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 29 Aug 2001 13:41:11 -0400
Subject: [R] newbie list
References: <3B8D0082.2A6153F7@bank-banque-canada.ca> <x2pu9elv6w.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B8D2937.449B74F0@bank-banque-canada.ca>

>> "PD" == Peter Dalgaard <BSA <p.dalgaard at biostat.ku.dk>> writes:

PD> Although I appreciate the thought, I see some problems with what you

PD> suggest. In caricature, we could end up with newbies rewriting the
PD> documentation for each other ... incorrectly!

I wouldn't want or expect that. More likely I would expect one newbie
can often quickly give simple answers or point another newbie to the
correct place in the documentation.

PD> Most of the time where
PD> people get referred to the documentation it is actually because
there
PD> is no simple answer, or (at times) no easy way to lead people onto
the
PD> fact that computer languages have rules...

Perhaps there needs to be some mechanism for bumping some questions from
"newbie" to "help."

PD> One thing that has crossed my mind more than a few times is that the

PD> Tcl crowd use something called a Wiki which is a sort of multiauthor

PD> document (http://mini.net/tcl/) and I've been wondering whether we
PD> might have something similar for R. This structure might be useful
at
PD> the development level as well. Not that I don't have other things to

PD> do...

This sounds like something that would be useful for "devel" or "help."
What I had in mind for "newbie" was more like a chat room where a user
could ask simple questions to anyone that happened to be around. (A
replacement for the old days when everyone sat in the terminal room.)
Probably it should not even be archived.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arlin at carb.nist.gov  Wed Aug 29 20:03:57 2001
From: arlin at carb.nist.gov (Arlin Stoltzfus)
Date: Wed, 29 Aug 2001 14:03:57 -0400
Subject: [R] newbie graphics question
References: <OFFE7A5CEC.57687D03-ON85256AB7.005F2F77@cbis.com>
Message-ID: <3B8D2E8D.4BCFC803@carb.nist.gov>

james.holtman at convergys.com wrote:
> 
> Here is the help page from R indicating what 'par' parameters can not be
> set with the 'high-level' commands. 'new' is one of these:
> 
>  All but these R.O. and the following low-level arguments can be
>      set as well in high-level and mid-level plot functions, such as

Yes, thanks to you & Gavin Simpson & Brian Ripley for making this clear. 

However, I was not asking how to use 'plot'.  Instead, I was pointing
out that the text of the help system is less than ideal in this case.  
Perhaps I am not expecting enough effort from the user, but it seems to 
me that the user should not have to read the "details" section on a second 
command in order to get the valid list of arguments for the first command, 
which in this case means finding out that about 1/3 of the 60 or so 
'par' arguments are not valid for 'plot'.  The help on "plot" could be 
changed to say something like "graphics parameters can be set from 'plot', 
except when they can't (for restrictions, see 'DETAILS' for 'par')", 
or "*some* graphics parameters can be set from 'plot'", but instead,
it just indicates that graphics parameters can be set from 'plot'. 

Arlin
-- 
Arlin Stoltzfus (arlin at carb.nist.gov)
 Research Biologist, NIST; Adj. Asst. Prof., UMBI
CARB, 9600 Gudelsky Dr., Rockville, Md 20850
ph. 301 738-6208; fax 301 738-6255; http://www.molevol.org/camel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at gvdnet.dk  Wed Aug 29 22:32:06 2001
From: tring at gvdnet.dk (Troels Ring)
Date: Wed, 29 Aug 2001 22:32:06 +0200
Subject: [R] varcomp
Message-ID: <5.1.0.14.0.20010829222559.022e0de0@127.0.0.1>

Dear friends.

I know this has been discussed before but as lively as R is (thanks to all) 
things might have changed. In Venables and Ripley(199) p 192-4 estimation 
of variance components including robust methods is discussed. I cannot find 
anything like that presently but might have overlooked it. Is it planned to 
do it ? Is it obsolete ?

Best wishes

Troels Ring
Aalborg, Denmark

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Duncan.Mackay at flinders.edu.au  Thu Aug 30 02:19:52 2001
From: Duncan.Mackay at flinders.edu.au (Duncan Mackay)
Date: Thu, 30 Aug 2001 09:49:52 +0930
Subject: [R] newbie list
In-Reply-To: <3B8D2937.449B74F0@bank-banque-canada.ca>
Message-ID: <LKEKIOMKIBNKJOPKIKOOEELACDAA.Duncan.Mackay@flinders.edu.au>

Hello,
I think that in many cases, all a newbie (like myself) needs is some more
examples of the use of various functions to make their workings clear. Of
course, I wouldn't like to see the size of the documentation swell to
unmanageable proportions, but perhaps the docs could contain links to a
larger Web database or compendium of examples of the use of functions. There
was such a site called StatsRus but I haven't been able to access it
recently. Duncan
*******************************************
Dr. Duncan Mackay
Biology
Flinders University
GPO Box 2100
Adelaide
S.A.    5001
AUSTRALIA

Ph (08) 8201 2627    FAX (08) 8201 3015

http://www.bio.flinders.edu.au/dam/damres.htm





-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Paul Gilbert
Sent: Thursday, 30 August 2001 3:11 AM
To: Peter Dalgaard BSA
Cc: R-help at stat.math.ethz.ch
Subject: Re: [R] newbie list


>> "PD" == Peter Dalgaard <BSA <p.dalgaard at biostat.ku.dk>> writes:

PD> Although I appreciate the thought, I see some problems with what you

PD> suggest. In caricature, we could end up with newbies rewriting the
PD> documentation for each other ... incorrectly!

I wouldn't want or expect that. More likely I would expect one newbie
can often quickly give simple answers or point another newbie to the
correct place in the documentation.

PD> Most of the time where
PD> people get referred to the documentation it is actually because
there
PD> is no simple answer, or (at times) no easy way to lead people onto
the
PD> fact that computer languages have rules...

Perhaps there needs to be some mechanism for bumping some questions from
"newbie" to "help."

PD> One thing that has crossed my mind more than a few times is that the

PD> Tcl crowd use something called a Wiki which is a sort of multiauthor

PD> document (http://mini.net/tcl/) and I've been wondering whether we
PD> might have something similar for R. This structure might be useful
at
PD> the development level as well. Not that I don't have other things to

PD> do...

This sounds like something that would be useful for "devel" or "help."
What I had in mind for "newbie" was more like a chat room where a user
could ask simple questions to anyone that happened to be around. (A
replacement for the old days when everyone sat in the terminal room.)
Probably it should not even be archived.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Aug 30 03:33:08 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 29 Aug 2001 21:33:08 -0400 (EDT)
Subject: [R] newbie list
Message-ID: <200108300133.f7U1X8u07152@cattell.psych.upenn.edu>

Although I initially liked the idea of reducing the burden on the
core team (however willingly they bear it) by having a separate
list for newbies, I now think, after reading some of this
discussion, that we have two other ways of serving the needs
described.

One is the contributed documentaion section of CRAN, which
contains many documents (including mine, but many others too)
with the kinds of examples that might be helpful to newbies.

The other is that people can start local and specialized groups.
For example, it makes sense for university courses that use R to
have their own email lists, and for groups of researchers with
special interests to form similar groups, perhaps locally within
a single institution, or perhaps more broadly.

Have such things happened with SPlus?  I suspect not, but R is
different because, in the long run, more students will get it
(because they can afford it), so (I hope) there will be more
newbies than SPlus ever had.

On the other hand, if these are not enough, and if a newbie list
were started, I would happily read it and try to contribute,
thinking of myself as an intermediate user who can solve most
newbie problems but not most of the problems now on this list.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Thu Aug 30 05:35:47 2001
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Thu, 30 Aug 2001 13:35:47 +1000
Subject: [R] newbie list
In-Reply-To: <200108300133.f7U1X8u07152@cattell.psych.upenn.edu>
Message-ID: <5.0.0.25.1.20010830131030.03f5ed70@pop.jcu.edu.au>

Newbie questions

I think it is partly a matter of culture.  Recently I noticed a spate of 
RTM-level questions coming in from a site where there is great local 
expertise in R and where the students in question could have walked just 20 
steps down the corridor to visit any of 3 very expert users.

Personally I am an inexpert user, but I would still encourage 
even-newer-newbies here to hassle me first and if necessary we can RTM 
together ... it is very therapeutic and often very fast.

In time a more general repository of worked examples accessable through 
CRAN might help.  At the moment the examples tend to be concentrated and 
beginners become uncomfortable when 'clever' methods are used (for example 
in setting up a problem) and they lose touch.  The most successful 
non-paramentric stats text is Siegel, simply because there are numerous 
examples and people can find a reassuring template for their first 
hesitating attempts.

Among other things R is a great statistics resource and here our graduate 
students are now gravitating to it with some speed, thanks to core team, 
contributors  and proselytising visitors,

Richard
Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s195404 at student.uq.edu.au  Thu Aug 30 05:56:46 2001
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Thu, 30 Aug 2001 13:56:46 +1000 (EST)
Subject: [R] Resolution: Christmas tree graphs
Message-ID: <999143806.3b8db97e7847e@my.uq.edu.au>


Dear R users,

Thank you to Uwe Ligges, Roger Bivand and James Holtman
for their quick and helpful responses to my question about
creating what some call "Christmas tree graphs". I decided
that "pyramid plot" sounds better!

There were several solutions, involving barplot by itself,
rect combined with segments, and then segments on its own.
I'd only thought that maybe rect could be used, so getting
several solutions was very instructive. Thank you again.

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 30 08:00:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Aug 2001 07:00:17 +0100 (BST)
Subject: [R] varcomp
In-Reply-To: <5.1.0.14.0.20010829222559.022e0de0@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0108300655280.9682-100000@auk.stats>

On Wed, 29 Aug 2001, Troels Ring wrote:

> Dear friends.
>
> I know this has been discussed before but as lively as R is (thanks to all)
> things might have changed. In Venables and Ripley(199) p 192-4 estimation
> of variance components including robust methods is discussed. I cannot find
> anything like that presently but might have overlooked it. Is it planned to
> do it ? Is it obsolete ?

It is not there in R and not planned.  (You can check plans on
developer.r-project.org.)  It is still in S-PLUS, so not obselete.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari at trane  Thu Aug 30 08:19:14 2001
From: kari at trane (Kari Ruohonen)
Date: Thu, 30 Aug 2001 09:19:14 +0300 (EEST)
Subject: [R] Newbie list
Message-ID: <Pine.LNX.4.33.0108300914560.704-100000@www.trane.oma>

The replies have paid fairly little attention to the point P. Dalgaard put
in parentehsis; currently searching the help archive is quite useless. I
think most of the 'newbies' and also others are used to search for mailing
lists with the help of e.g. dejanews and find easily answers to questions
that have already been handled on the help list. R-help lacks this at the
moment. This would at least remov ethe repetition of the
'obvious'?questions form the list.

Regards, Kari

----------------------------------------------
Kari Ruohonen
Finnish Game and Fisheries Research Institute
Socioeconomic and Aquaculture Research

Turku Game and Fisheries Research
It?inen Pitk?katu 3, 20520 Turku, Finland
tel. +358-20-5751681, +358-40-5238321 (mobile)
fax  +358-20-5751689

http://www.rktl.fi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 30 08:20:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Aug 2001 07:20:24 +0100 (BST)
Subject: [R] newbie list
In-Reply-To: <200108300133.f7U1X8u07152@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.31.0108300705350.9682-100000@auk.stats>

On Wed, 29 Aug 2001, Jonathan Baron wrote:

...

> Have such things happened with SPlus?  I suspect not, but R is
> different because, in the long run, more students will get it
> (because they can afford it), so (I hope) there will be more
> newbies than SPlus ever had.

Not that I know of, and there are large student communities out there for
S-PLUS. (Ours can certainly afford it under current licencing models: it
costs them the same as R.)

One difference is that students are only likely to be using S-PLUS with
institutional blessing and hence support.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Thu Aug 30 08:38:34 2001
From: ozric at web.de (C. Schulz)
Date: Thu, 30 Aug 2001 08:38:34 +0200
Subject: [R] ODBC & sqlSave
Message-ID: <200108300638.f7U6cXp18319@mailgate3.cinetic.de>

Hello,

i have some courious habit when i use the odbcpackage with
(MS-Acces & MySql)!
(1) 
channel <- odbcConnect("testdatabase", "", "") 
sqlSave(channel, fuzzyframe, verbose = TRUE)

works fine !

           X1        X2         X3
1   0.5903806 0.2706767 0.13894263
2   0.3771841 0.5257416 0.09707437
3   0.5152837 0.2907690 0.19394728
.........
(2)
channel <- odbcConnect("testdatabase", "", "") 
sqlSave(channel, xdat, verbose = TRUE)

i get
Error in sqlColumns(channel, tablename) : xdat 
:table not found on channel 1 

and not surprising 
i get the same error when i match the dataframes with cbind !

 EXID Q110 Q120 Q130 Q210 Q220 Q230 Q240 Q250 Q610 Q640 Q650 ALTER
1      6    9    6    3    4    6    6    3    2    1    4    8    30
2     21    4    6    3    4    5    2    2    2    1    4    8    26
3     22    4    3    2    3    6    2    4    1    1    5    3    31
............

What is happen, both are dataframes and the (RODBC-Example) dataset
USArrests works well, too !????

Thanks in advance for a solution of the mystery habit!
Christian



______________________________________________________________________________
Flug.de - 570.000 Nutzer, ein Ziel: der optimale Flug
http://flug.de/sb/?PP=0-5-100-105-12

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Aug 30 08:58:01 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 30 Aug 2001 08:58:01 +0200 (MET DST)
Subject: [R] Missing functions in package e1071(Win*)
In-Reply-To: <Pine.LNX.4.31.0108291138460.23190-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010830082741.28617B-100000@ija.csic.es>


Thanks.

According to your message and the one from Uwe Ligges,
the problem is that the e1071.zip
file comes from a compilation and installation on
a win9* machine with no pnm support (something that
the user cannot know), and even if I had
had the proper libraries the e1071 pnm-related functions
would not have been available in my system. For that,
I would need to compile myself on the win9* machine with
pnm libraries previously installed, which is not an easy
task. Correct?
Perhaps an specific ReadmeWin file in the e10171.zip file
could, in the future, include a note pointing that the binary package
lacks the pnm-related functions.

Anyway, as it seems that no other R function would display a (m,n,3)
array as a RGB color image, I've made a function for it. I'd
like to send it to the list so that others can use it and, hopefully,
suggest improvements. If this is within the scope of this list,
I would send it in another message so that it gets a different
subject field.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 29 Aug 2001, Prof Brian Ripley wrote:

> pnm functionality is only included if a pnm library is found, I have one,
> but it does not work correctly with this package.  There is nothing wrong
> with the archive, which is what you will get if you install e1071 on a
> machine without pnm support.
> 
> Please do read the ReadMe there and/or the rw-FAQ.
> 
> 
> 
> On Wed, 29 Aug 2001, Agustin Lobo wrote:
> 
> > Hi!
> >
> > After unziping the CRAN file e1071.zip
> > on my Win95 library directory, I start R and
> > type
> >
> > >library(e1071)
> >
> > After that, help commands of the e1071
> > functions work (i.e., help(read.pnm), BUT
> > some functions themselves are not available:
> >
> > > read.pnm
> > Error: Object "read.pnm" not found
> >
> >
> > I've looked at the file library/R/e1071 with
> > an ascii editor and it seems like the functions
> > there are not all the ones listed in the help for
> > e1071. Indeed, after listing the available functions:
> >
> > > search()
> > [1] ".GlobalEnv"    "package:e1071" "package:ctest" "Autoloads"
> > [5] "package:base"
> >
> > > objects(pos=2)
> >
> > and comparing to the ones listed in library/e1071/help/AnIndex,
> > I've found that the missing ones are:
> >
> > channel.pnm
> > Mvnorm
> > plot.clobj
> > pnm
> > read.pnm
> > write.pgm
> >
> > As it is often the case, the missing ones are the ones I need...
> >
> > I've checked that this is not a downloading problem,
> > the CRAN file:
> >
> > http://cran.r-project.org/bin/windows/contrib/e1071.zip
> >
> > is identical to the one I have on my disk.
> >
> > Maybe a problem at compiling for win* and/or packing the e1071.zip file?
> >
> > Any solution?
> 
> Find a working pnm library and compile it yourself.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Aug 30 08:53:27 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 30 Aug 2001 08:53:27 +0200
Subject: [R] newbie list
In-Reply-To: <LKEKIOMKIBNKJOPKIKOOEELACDAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <MABBLJDICACNFOLGIHJOIEFPCFAA.phgrosje@ulb.ac.be>

Dr. Duncan Mackay wrote:

>I think that in many cases, all a newbie (like myself) needs is some more
>examples of the use of various functions to make their workings clear. Of
>course, I wouldn't like to see the size of the documentation swell to
>unmanageable proportions, but perhaps the docs could contain links to a
>larger Web database or compendium of examples of the use of functions.
There
>was such a site called StatsRus but I haven't been able to access it
>recently. Duncan

I agree. My idea is that writing R complements for statistics textbooks
everybody use should be the best approach for decreasing learning curve of
newbies. Personnally, I learned bases of R and R programming without asking
a single question to experts thanks to the well-known books MASS and its R
complement and with S programming. Of course, R complement for MASS was not
so difficult to write because MASS deals with Splus that is very close to R.
Nevertheless, I am shure R complements showing how to implement in R
analyses presented in some major statistical textbooks would be the best way
to teach newbies that already use these books. The key question is: who will
write these R complements... are there any volunteer over there?

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedro.aphalo at joensuu.fi  Thu Aug 30 10:12:42 2001
From: pedro.aphalo at joensuu.fi (Pedro J. Aphalo)
Date: Thu, 30 Aug 2001 10:12:42 +0200
Subject: [R] NLME augPred error
References: <3B714422.17A90F14@joensuu.fi>
Message-ID: <3B8DF57A.51A252B1@joensuu.fi>

This is a follow up to the quoted message that I sent to the r-help list
some time ago about an error message I could not understand.

I have now tried the same example under S-Plus 3.4 and NLME 3.3 and it
works without error. So, it looks like this is a bug in the R port of
nlme. I am sorry that I do not know well enough the R language to
provide a patch.

By the way, I tested nlme 3.0-17 for R (MS-Windows) and the problem
persists.

Thanks to all involved in porting NLME to R. It is extremely useful in
my work, as I have only limited access to S-Plus.

Pedro.

"Pedro J. Aphalo" wrote:
> 
> Could someone explain the meaning of this error message from augPred:
> 
> > augPred(area3.pen.nlme, primary=~day)
> Error in predict.nlme(object, value[1:(nrow(value)/nL), , drop =
> FALSE],  :
>         Levels 1,2,3 not allowed for block
> >
> 
> predict.nlme(area3.pen.nlme) does not produce an error.
> 
> area3.pen.nlme was created with:
> 
> > area3.pen.nlme <- nlme(area ~ SSlogis(day, Asym, xmid, scal),
> +  data=area.pen.data,
> +  fixed = Asym + xmid + scal ~ dose + block,
> +  random = Asym + xmid + scal ~ 1|seedling,
> +  weights = varPower(),
> +  start = c(2887,0,0,0,10.7,0,0,0,2.29,0,0,0))
> >
> 
> area, day and dose are numeric
> block and seedling are factors
> 
> area is the area in mm2 of one growing leaf for each seedling.
> 
> with
>   fixed = Asym + xmid + scal ~ dose
> or
>   fixed = Asym + xmid + scal ~ block
> it works.
> 
> Thanks in advance for any help.
> 
> Pedro.
> 
> Windows 95
> 
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> 
> Package: nlme
> Version: 3.1-15
> Date: 2001/06/18
> Built: R 1.3.0;  Win32;  2001-06-20 13:32:23
> 
> and
> 
> Package: nlme
> Version: 3.1-16
> Date: 2001/06/20
> Built: R 1.3.0;  Win32;  2001-07-24 12:02:25
> 

-- 
===============================================================
 Pedro J. Aphalo
 University of Joensuu
 Faculty of Forestry
 P.O. Box 111, FIN-80101 Joensuu, FINLAND
 mailto:pedro.aphalo at joensuu.fi
 http://cc.joensuu.fi/~aphalo/pedro.html
 fax: +358 13 251 4444
 tel: +358 13 251 4406                         ,,,^..^,,,
================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.baker at cmis.csiro.au  Thu Aug 30 09:09:35 2001
From: peter.baker at cmis.csiro.au (Peter Baker)
Date: Thu, 30 Aug 2001 17:09:35 +1000 (EST)
Subject: [R] GLMMGibbs crashes on seeds data
Message-ID: <Pine.LNX.4.33.0108301641570.11120-100000@lindeman-cv.cmis.csiro.au>

Hi all

I know GLMMGibbs is still in beta but has anyone experienced (and
solved ;-) this problem?

I decided to look at the seeds example but I get a core dump on two
intel linux boxes and also a sun workstation. All are running R1.3.0
but different hardware/OS's so I think I've done something wrong

> library(GLMMGibbs)
> data(seeds)
> seeds$plate <- as.factor(1:21)
> seeds$plate <- Ra(data=seeds$plate, shape=0.001, scale=0.001,
+                   type="identity", contrast="sum", of.interest=F)
> gseeds.1 <- glmm(formula=cbind(r,n-r) ~ x1 + x2, data=seeds, family=binomial,
+                store.results=T, icm=500, burnin=1000, keep=20000,
+                progress.info=500, thin=5)
Segmentation fault (core dumped)

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R

$ cat /etc/issue
Red Hat Linux release 6.2 (Zoot)
Kernel 2.2.16-3 on an i686

Suggestions welcome

Thanks
Peter

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences, 233 Middle St/
PO Box 120, CLEVELAND, QLD 4163 Australia.
Email: Peter.Baker at cmis.csiro.au
Phone:+61 7 3826 7263 Fax:+61 7 3826 7304



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Aug 30 09:44:46 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 30 Aug 2001 19:44:46 +1200
Subject: [R] newbie list
References: <MABBLJDICACNFOLGIHJOIEFPCFAA.phgrosje@ulb.ac.be>
Message-ID: <002001c13127$a4fe4f60$612356d2@kwan022>


----- Original Message -----
From: "Philippe Grosjean" <phgrosje at ulb.ac.be>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, August 30, 2001 6:53 PM
Subject: RE: [R] newbie list



> I agree. My idea is that writing R complements for statistics textbooks
> everybody use should be the best approach for decreasing learning curve of
> newbies. Personnally, I learned bases of R and R programming without
asking
> a single question to experts thanks to the well-known books MASS and its R
> complement and with S programming. Of course, R complement for MASS was
not
> so difficult to write because MASS deals with Splus that is very close to
R.
> Nevertheless, I am shure R complements showing how to implement in R
> analyses presented in some major statistical textbooks would be the best
way
> to teach newbies that already use these books. The key question is: who
will
> write these R complements... are there any volunteer over there?

I personally found that by reading the examples within R is very useful
(however one must "know" the exact function he/she wants to use in order to
call up the relevant documentation and see the example).  This is how I
learnt R.  Although sometimes if I am unsure which function I should use,
I'll go to the HTML version, display everything, then use the browser's
search ability by typing in the English name of the whatever I want to use
(e.g. Multivariate Analysis).

I am currently teaching (or trying/pretend to) my fellow Software
Developers' Klub members R.  I am using PowerPoint slides and since most of
them have practically no statistics experience before, I have been using
very simple words and lots of examples.  I may put up these slides for
public use later on when they are ready.

Cheers,

Ko-Kang Wang

----------------------------------------------------------------------------
--
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Aug 30 11:12:54 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 30 Aug 2001 11:12:54 +0200
Subject: [R] newbie list
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D852D1@arcss07.arcs.ac.at>

In my view a 'Newbie Mailinglist' would be good idea. So students and other
newbies could ask questions which they normally would not ask.
But a better idea would be to generate a newsgroup because of several
reasons:
-) you can easily search the archives
-) the discussion is faster (I experience that the R-mailinglist has a lag
of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get a
rather quick response by direct mail, but I recieve my own question and the
answers about 1 to 2 hours later). Hence it is not possible for all to
participate in a discussion.
-) a newsgroup allows you to order the messages in threads, so you can
easily follow the discussion.

Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Aug 30 12:19:47 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 30 Aug 2001 22:19:47 +1200
Subject: [R] newbie list
References: <D16B18FFF743D311A9CA0090275F3CB003D852D1@arcss07.arcs.ac.at>
Message-ID: <001901c1313d$4c93b840$805037d2@kwan022>

----- Original Message -----
From: "Pesl Thomas" <thomas.pesl at arcs.ac.at>
To: <R-help at stat.math.ethz.ch>
Cc: "Thomas Pesl (E-Mail)" <a9547396 at unet.univie.ac.at>
Sent: Thursday, August 30, 2001 9:12 PM
Subject: RE: [R] newbie list


> In my view a 'Newbie Mailinglist' would be good idea. So students and
other
> newbies could ask questions which they normally would not ask.

Actually I think it is a good idea.  However then it came to me that what is
considered to be a "newbie" question?  For example sometimes I have a
question that I am not sure if it is a "newbie" question, an
"intermediate-level" question or even an "advanced question".  Somehow I
have a feeling that if a newbie list was set up there would be cross
postings.

Cheers,

Ko-Kang Wang

----------------------------------------------------------------------------
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 30 12:53:12 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2001 12:53:12 +0200
Subject: [R] newbie list
In-Reply-To: <LKEKIOMKIBNKJOPKIKOOEELACDAA.Duncan.Mackay@flinders.edu.au>
References: <LKEKIOMKIBNKJOPKIKOOEELACDAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <x2elptrf8n.fsf@blueberry.kubism.ku.dk>

"Duncan Mackay" <Duncan.Mackay at flinders.edu.au> writes:

> Hello,
> I think that in many cases, all a newbie (like myself) needs is some more
> examples of the use of various functions to make their workings clear. Of
> course, I wouldn't like to see the size of the documentation swell to
> unmanageable proportions, but perhaps the docs could contain links to a
> larger Web database or compendium of examples of the use of functions. There
> was such a site called StatsRus but I haven't been able to access it
> recently. Duncan

That'd be 

http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at meakins.lan.mcgill.ca  Thu Aug 30 16:47:11 2001
From: heberto at meakins.lan.mcgill.ca (R. Heberto Ghezzo)
Date: Thu, 30 Aug 2001 10:47:11 -0400
Subject: [R] lattice
Message-ID: <3B8E51EE.DBC016F8@meakins.lan.mcgill.ca>

   Hello. I know that lattice is still in beta beta but. . .
Nick Ellis wrote to S-news with an example of 'trellis' with several
lines in each panel.
df<-expand.grid(fac1=letters[1:2],x=seq(0,1,0.1),fac2=LETTERS[1:4])
df$y<-df$x*codes(df$fac1)+codes(df$fac2)*df$x^2+rnorm(nrow(df))/3
xyplot(y ~ x | fac2,
          groups=fac1,
         data=df,
         panel=function(x,y,subscripts,groups){
              panel.superpose(x,y,subscripts,groups)
             for(g in as.character(unique(groups[subscripts]))) {
                 sub <- groups[subscripts] == g
                 fit  <- lm(y~x+I(x^2),subset=sub)
                 ord <- order(x[sub])
                lines(x[sub][ord],fitted(fit)[ord])
            }
         }
  )
if I run this in R 1.3 after library(grid), library(lattice) I get the 4
panels with the 2 sets of points in different colors in each panel, but
not the panel function, i.e. the fitted quadratics, 2 per panel.  Is
this because lattice is still beta? or the construccion of the panel
function is different in lattice?
I am using R 1.3 on Win98
Thanks for any help.
.
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
3621 Rue Saint Urbain
Montreal  Que  H2X-2P2
Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 30 17:11:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 30 Aug 2001 16:11:21 +0100 (BST)
Subject: [R] lattice
In-Reply-To: <3B8E51EE.DBC016F8@meakins.lan.mcgill.ca>
Message-ID: <Pine.LNX.4.31.0108301607180.1667-100000@gannet.stats>

On Thu, 30 Aug 2001, R. Heberto Ghezzo wrote:

>    Hello. I know that lattice is still in beta beta but. . .
> Nick Ellis wrote to S-news with an example of 'trellis' with several
> lines in each panel.
> df<-expand.grid(fac1=letters[1:2],x=seq(0,1,0.1),fac2=LETTERS[1:4])
> df$y<-df$x*codes(df$fac1)+codes(df$fac2)*df$x^2+rnorm(nrow(df))/3
> xyplot(y ~ x | fac2,
>           groups=fac1,
>          data=df,
>          panel=function(x,y,subscripts,groups){
>               panel.superpose(x,y,subscripts,groups)
>              for(g in as.character(unique(groups[subscripts]))) {
>                  sub <- groups[subscripts] == g
>                  fit  <- lm(y~x+I(x^2),subset=sub)
>                  ord <- order(x[sub])
>                 lines(x[sub][ord],fitted(fit)[ord])
>             }
>          }
>   )
> if I run this in R 1.3 after library(grid), library(lattice) I get the 4
> panels with the 2 sets of points in different colors in each panel, but
> not the panel function, i.e. the fitted quadratics, 2 per panel.  Is
> this because lattice is still beta? or the construccion of the panel
> function is different in lattice?

lattice != trellis, being built on grid.  Try

xyplot(y ~ x | fac2,
          groups=fac1, data=df,
          panel=function(x,y,subscripts,groups){
              panel.superpose(x,y,subscripts,groups)
              for(g in as.character(unique(groups[subscripts]))) {
                 sub <- groups[subscripts] == g
                 fit  <- lm(y~x+I(x^2),subset=sub)
                 ord <- order(x[sub])
                 grid.lines(x[sub][ord],fitted(fit)[ord],
                           default.units = "native")
            }
         }
      )


Not quite the same, as strips are done differently too.

You can't (easily) mix grid and traditional graphics calls.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From monnie at xena.hunter.cuny.edu  Thu Aug 30 18:20:13 2001
From: monnie at xena.hunter.cuny.edu (Monnie McGee)
Date: Thu, 30 Aug 2001 12:20:13 -0400
Subject: [R] MCMC coding problem
Message-ID: <200108301618.f7UGI8821309@xena.hunter.cuny.edu>

Dear All,

I am trying to convert some S-plus code that I have to run MCMC into
R-code.  The program works in S-plus, but runs slowly.

I have managed to source the program into R.  R recognizes that the program
is there; for example, it will display the code when I type the function
name at the prompt.  However, the program will not run.  When I try to run
the program, I get the following error message:

> error in rep(data,t1): invalid number of copies in "rep".

This happens no matter what values that I give the parameters when I call
the function.

Any suggestions on clearing this up would be appreciated!  The function is
printed below.

Many Thanks,
Monnie McGee

mcmcmd <- function(d, w, mean, phi2, varwt, ntimes)
{
# A function to run a multi dimensional MCMC for a bivariate 
# normal distribution
# d = dimension of problem
# w = weight assigned to larger of two modes in target distribution
# mu = mean of second mode 
# phi2 = multiplier of variance factor 2.38 
# varwt = weight (0 < varweight <= 1) applied to variance of second part of
mixture.
# ntimes = number of iterations
# 
# phi is the standard deviation of the proposal distribution.
# y is the data matrix, ystar is the proposal state

phi <- (2.38^2)/d * diag(phi2,d)
y <- matrix(0,ncol=d,nrow=ntimes)
ystar <- matrix(0,ncol=d,nrow=1)
len <- ntimes/1000 - 1
meanmat <- matrix(0,nrow=len,ncol=d)
quantmat <- array(0, dim = c(3,d,len))
count <- 0

# print("Comment out the browser before running with ntimes large!!")

browser()
for (i in 1:(ntimes-1))
	{
	ystar <- rmvnorm(n=1,mu=y[i,],sigma=phi)
	numer <- (w*dmvnorm(ystar,mu=rep(0,d),sigma=diag(0,d)) +
(1-w)*dmvnorm(ystar,mu=rep(mean,d),sigma=diag(varwt,d)))*dmvnorm(y[i,],mu=ys
tar,sigma=phi)
	denom <- (w*dmvnorm(y[i,],mu=rep(0,d),sigma=diag(0,d)) +
(1-w)*dmvnorm(y[i,],mu=rep(mean,d),sigma=diag(varwt,d)))*dmvnorm(ystar,mu=y[
i,],sigma=phi)	
	prob <- numer/denom
	alpha <- min(prob,1)
	u <- runif(1)
	#browser()
	if (u <= alpha) {y[i+1,] <- ystar;count <- count+1} else y[i+1,]<- y[i,]
	j <- i/1000
	if (j == ceiling(j)) 
	{ 
	quantmat[,,j] <- apply(y,2,quantile,probs=c(.025,.5,.975))
	meanmat[j,] <- apply(y,2,mean)
	} 
	}
return(y,count,quantmat,meanmat)
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Aug 30 19:07:41 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 30 Aug 2001 13:07:41 -0400 (EDT)
Subject: [R] MCMC coding problem
In-Reply-To: <200108301618.f7UGI8821309@xena.hunter.cuny.edu>
Message-ID: <Pine.LNX.4.30.0108301303250.7425-100000@bolker.zoo.ufl.edu>


   I used the traceback() command (run it immediately after you encounter
an error in R) to see what was happening.

The result was

3: rep(data, t1)
2: array(0, dim = c(3, d, len))
1: mcmcmd(2, 0.6, 2, 2, 0.3, 100)

which says that the problem is in the "array()" command in the 6th line of
your code.  Looking more closely, it seems that the problem is that len
is not a positive integer unless ntimes is a multiple of 1000 greater than
1000.  Perhaps S-PLUS automatically rounds the value to something
sensible?  (Giving an error instead is in keeping with the R philosophy of
giving an error when something weird happens, rather than covering it up
and keeping going.)

(When I try mcmcmd(2,0.6,2,2,0.3,2000), I get a bit farther, to

Error: couldn't find function "rmvnorm"

which is probably a function you have defined elsewhere.)

 good luck,
   Ben Bolker

On Thu, 30 Aug 2001, Monnie McGee wrote:

> Dear All,
>
> I am trying to convert some S-plus code that I have to run MCMC into
> R-code.  The program works in S-plus, but runs slowly.
>
> I have managed to source the program into R.  R recognizes that the program
> is there; for example, it will display the code when I type the function
> name at the prompt.  However, the program will not run.  When I try to run
> the program, I get the following error message:
>
> > error in rep(data,t1): invalid number of copies in "rep".
>
> This happens no matter what values that I give the parameters when I call
> the function.
>
> Any suggestions on clearing this up would be appreciated!  The function is
> printed below.
>
> Many Thanks,
> Monnie McGee
>
> mcmcmd <- function(d, w, mean, phi2, varwt, ntimes)
> {
> # A function to run a multi dimensional MCMC for a bivariate
> # normal distribution
> # d = dimension of problem
> # w = weight assigned to larger of two modes in target distribution
> # mu = mean of second mode
> # phi2 = multiplier of variance factor 2.38
> # varwt = weight (0 < varweight <= 1) applied to variance of second part of
> mixture.
> # ntimes = number of iterations
> #
> # phi is the standard deviation of the proposal distribution.
> # y is the data matrix, ystar is the proposal state
>
> phi <- (2.38^2)/d * diag(phi2,d)
> y <- matrix(0,ncol=d,nrow=ntimes)
> ystar <- matrix(0,ncol=d,nrow=1)
> len <- ntimes/1000 - 1
> meanmat <- matrix(0,nrow=len,ncol=d)
> quantmat <- array(0, dim = c(3,d,len))
> count <- 0
>
> # print("Comment out the browser before running with ntimes large!!")
>
> browser()
> for (i in 1:(ntimes-1))
> 	{
> 	ystar <- rmvnorm(n=1,mu=y[i,],sigma=phi)
> 	numer <- (w*dmvnorm(ystar,mu=rep(0,d),sigma=diag(0,d)) +
> (1-w)*dmvnorm(ystar,mu=rep(mean,d),sigma=diag(varwt,d)))*dmvnorm(y[i,],mu=ys
> tar,sigma=phi)
> 	denom <- (w*dmvnorm(y[i,],mu=rep(0,d),sigma=diag(0,d)) +
> (1-w)*dmvnorm(y[i,],mu=rep(mean,d),sigma=diag(varwt,d)))*dmvnorm(ystar,mu=y[
> i,],sigma=phi)
> 	prob <- numer/denom
> 	alpha <- min(prob,1)
> 	u <- runif(1)
> 	#browser()
> 	if (u <= alpha) {y[i+1,] <- ystar;count <- count+1} else y[i+1,]<- y[i,]
> 	j <- i/1000
> 	if (j == ceiling(j))
> 	{
> 	quantmat[,,j] <- apply(y,2,quantile,probs=c(.025,.5,.975))
> 	meanmat[j,] <- apply(y,2,mean)
> 	}
> 	}
> return(y,count,quantmat,meanmat)
> }
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From verzani at postbox.csi.cuny.edu  Thu Aug 30 19:40:04 2001
From: verzani at postbox.csi.cuny.edu (John Verzani)
Date: 30 Aug 2001 12:40:04 -0500
Subject: [R] newbie list
In-Reply-To: "Philippe Grosjean"'s message of "Thu, 30 Aug 2001 08:53:27 +0200"
References: <MABBLJDICACNFOLGIHJOIEFPCFAA.phgrosje@ulb.ac.be>
Message-ID: <m2u1ypa1l7.fsf@wiener.math.csi.cuny.edu>


I've been working on some notes for using R in an introductory
statistics course and was planning on contributing them to CRAN once
I've used them in a course this semester. However, if anyone wants to
see what I have right now, I would be glad to share them. The
url for the notes is:

http://www.math.csi.cuny.edu/Statistics/R/simpleR

Links to a PDF version and some datasets are available from here as
well. Any  feedback is, of course, most welcome.

--John

"Philippe Grosjean" <phgrosje at ulb.ac.be> writes:

> Dr. Duncan Mackay wrote:
> 
> >I think that in many cases, all a newbie (like myself) needs is some more
> >examples of the use of various functions to make their workings clear. Of
> >course, I wouldn't like to see the size of the documentation swell to
> >unmanageable proportions, but perhaps the docs could contain links to a
> >larger Web database or compendium of examples of the use of functions.
> There
> >was such a site called StatsRus but I haven't been able to access it
> >recently. Duncan
> 
> I agree. My idea is that writing R complements for statistics textbooks
> everybody use should be the best approach for decreasing learning curve of
> newbies. Personnally, I learned bases of R and R programming without asking
> a single question to experts thanks to the well-known books MASS and its R
> complement and with S programming. Of course, R complement for MASS was not
> so difficult to write because MASS deals with Splus that is very close to R.
> Nevertheless, I am shure R complements showing how to implement in R
> analyses presented in some major statistical textbooks would be the best way
> to teach newbies that already use these books. The key question is: who will
> write these R complements... are there any volunteer over there?
> 
> All the best,
> 
> Philippe Grosjean
> 
> 
> ...........]<(({?<...............<?}))><...............................
>  ) ) ) ) )	 __               	 __
> ( ( ( ( ( 	|__)              	|  _
>  ) ) ) ) )	|   hilippe       	|__)rosjean
> ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
>  ) ) ) ) )	                  	 __
> ( ( ( ( ( 	|\  /|            	|__)
>  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> ( ( ( ( (
>  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
>  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> ( ( ( ( (
>  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> ( ( ( ( (                                  L. Gonick & W. Smith (1993)
>  ) ) ) ) )
> .......................................................................
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-- 
....................................................................
.  John Verzani                  mailto:verzani at math.csi.cuny.edu  .
.  Dept. of Mathematics      http://www.math.csi.cuny.edu/~verzani .
.  City University of New York                 tel: (718) 982-3623 .
.  College of Staten Island                    fax: (718) 982-3631 .
.  Staten Island, NY 10314                                         .
...................................................................
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Aug 30 21:18:49 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Thu, 30 Aug 2001 14:18:49 -0500 (CDT)
Subject: [R] How to get ``nn%'' in axis values
Message-ID: <XFMail.20010830141849.s-luppescu@uchicago.edu>

I would like to make the print format of the axis value labels appear as
``nn%'' instead of just the numbers. Is there a way to do this? 

Also, the x axis value labels on my horizontal barplot are rotated 90 degrees
(perpendicular to the axis) no matter what I do. I tried las=1 but that didn't
work. Is this doable?

Thanks.

$platform
[1] "i686-pc-linux-gnu"

$arch
[1] "i686"

$major
[1] "1"

$minor
[1] "3.0"

______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
Welcome to Lake Wobegon, where all the men are strong, the women are pretty,
and the children are above-average.
                -- Garrison Keillor
>> Sent on 30-Aug-2001 at 14:01:41 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Aug 30 22:03:06 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 30 Aug 2001 22:03:06 +0200 (MET DST)
Subject: [R] imagenrgb: Function to display RGB images in R
Message-ID: <Pine.OSF.3.96.1010830211840.2405C-100000@ija.csic.es>


I've writen this function  (imagenrgb)
to display a (m,n,3) array
as a RGB image with ngris^3 colors and,optionally,
stretching. If option ver=F, it does not
display but saves a pseudocolor version of the image
as a list (so that subsequent displays are faster).

I'd appreciate feedback and improvements
and hope that it's useful for others. 


Example of use:

> dim(imatest)
[1] 100 400   3
> imagenrgb(imatest)
> imagenrgb(imatest,ngris=16,stretch="l")
> imagenrgb(imatest,ngris=16,stretch="n")
> imagenrgb(imatest,ngris=8,stretch="n")
> imatest.cod <- imagenrgb(imatest,ngris=16,stretch="n",ver=F)
> imagen(imatest.cod$ima, col=imatest.cod$cols)

Imatest is a subscene of a satellite image.
The imatest file saved with save(imatest,file="imatest")
is 469k. It's probably better not to send it to the list,
but I can send it to interested people fot testing.

The main problem
is that, at least with RAM up to 48Mb, the function is slow
for normally sized images (i.e., 1024 X 1024 x 3). I'd like 
to hear how this function works for people with large amounts
of RAM (>1Gb).

imatestrgb:

function (mat3d,ngris=64,stretch=" ",ver=T) 
{
# DISPLAYS A (m,n,3) ARRAY AS A RGB IMAGE
# From an idea by Ben Bolker. In particular I DO NOT USE:
#   apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
# which is costly in memory and time.
# IF ver=F, saves the pseudocolor image as a list

# NOTE: if range(mat3d) is VERY different from |0,255|,
# stretch MUST BE "l" or "n"

  m <- dim(mat3d)[1]
  n <- dim(mat3d)[2]
	
#1. Color number reduction to ngris^3. Much better if a clustering were
#used, but should be a fast function.
  if(stretch=="l") {
    mini <- apply(mat3d,3,min)
    maxi <- apply(mat3d,3,max)
  }
  if(stretch=="n") {
	med <- apply(mat3d,3,median)
	ma  <- apply(mat3d,3,mad)
	mini <- med - 3*ma
	maxi <- med + 3*ma
  }
  if(stretch==" ") 
       mat3d <- round(rescale(mat3d,oldmin=0,oldmax=255,newmax=ngris-1))
  else {
       mat3d[,,1] <- round(rescale(mat3d[,,1],oldmin=mini[1],oldmax=maxi[1],newmax=ngris-1))
       mat3d[,,2] <- round(rescale(mat3d[,,2],oldmin=mini[2],oldmax=maxi[2],newmax=ngris-1))
       mat3d[,,3] <- round(rescale(mat3d[,,3],oldmin=mini[3],oldmax=maxi[2],newmax=ngris-1))
  } #stretching

#2. Generates z vectors from a (m,n,3) array.
  i1 <- rep(1:m,rep(n,m))
  i2 <- rep(1:n,m)
  tripletes <-cbind(mat3d[cbind(i1,i2,1)],mat3d[cbind(i1,i2,2)],mat3d[cbind(i1,i2,3)])
  #Note: triplets are ordered by rows

#3. Generates RGB colors:
  tripletes <- tripletes/ngris
  cols <- rgb(tripletes[,1],tripletes[,2],tripletes[,3])
  #Formats vector of color codes as (m,n) matrix:
  dim(cols) <- c(n,m) 
  cols <- t(cols)
  #Generates vector of unique colors:
  cols.unicos <- unique(cols)
  #(Assigns an integer code to each unique color and transforms the
  #char color matrix into an integer matrix):
  cols <-as.numeric(reclas(cols,cols.unicos,1:length(cols.unicos)),drop=F)
  dim(cols) <- c(m,n)

#4.Display or save

  if(ver) imagen(cols,col=cols.unicos)
  else
  list(ima=cols,cols=cols.unicos)
}


Functions called:

> rescale
function(vector, oldmin = min(vector), oldmax = max(vector), newmin = 0,
newmax = 255)
{
        rango <- oldmax - oldmin
        dimen <- dim(vector)    
        vector <- (vector - oldmin)/rango 
        vector <- newmin + (newmax - newmin) * vector   
        vector[vector<newmin]<- 0
        vector[vector>newmax]<- newmax
        dim(vector) <- dimen
        vector
}

> reclas
function(matriz, origen, imagen, directo = T)
{
        if(directo == F) {
                aux <- origen
                origen <- imagen
                imagen <- aux
        }
# As suggested by P.B.Ripley:
        m <- match(matriz, origen, 0)
        matriz[m > 0] <- imagen[m]
        matriz
}

> imagen
function(x,col="bn",add=F)
{
        w <- 9
        hw <- nrow(x)/ncol(x)
        x11(width=w,height=w*hw)
        par(mex=0.01)
        x <- t(x)
        if(col=="bn") col <- gray((0:255)/255)        
        image(x=1:nrow(x), y=1:ncol(x),x[,ncol(x):1],col=col,add=add,axes=F)
}

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Aug 30 23:09:34 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 30 Aug 2001 17:09:34 -0400 (EDT)
Subject: [R] imagenrgb: Function to display RGB images in R
In-Reply-To: <Pine.OSF.3.96.1010830211840.2405C-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0108301704480.8173-100000@bolker.zoo.ufl.edu>


  It does seem that this is a place where hacking C code might be
worthwhile, if you're going to do a lot of this.  (Of course, it limits
portability somewhat -- either you have to make binary packages for
people, or they have to be able to compile packages from source
themselves.)
  The "best" way, I would guess, is to actually hack the internal R code
-- I don't know if there are entry points for things like the image code.
Short of that, though, you might be able to speed this up considerably
without the pain of figuring out the internal R stuff just by rewriting
some of the critical utility functions in C.  Have you tried R profiling
(see the "R Extensions" manual)?

  Ben Bolker


On Thu, 30 Aug 2001, Agustin Lobo wrote:

>
> I've writen this function  (imagenrgb)
> to display a (m,n,3) array
> as a RGB image with ngris^3 colors and,optionally,
> stretching. If option ver=F, it does not
> display but saves a pseudocolor version of the image
> as a list (so that subsequent displays are faster).
>
> I'd appreciate feedback and improvements
> and hope that it's useful for others.
>
>
> Example of use:
>
> > dim(imatest)
> [1] 100 400   3
> > imagenrgb(imatest)
> > imagenrgb(imatest,ngris=16,stretch="l")
> > imagenrgb(imatest,ngris=16,stretch="n")
> > imagenrgb(imatest,ngris=8,stretch="n")
> > imatest.cod <- imagenrgb(imatest,ngris=16,stretch="n",ver=F)
> > imagen(imatest.cod$ima, col=imatest.cod$cols)
>
> Imatest is a subscene of a satellite image.
> The imatest file saved with save(imatest,file="imatest")
> is 469k. It's probably better not to send it to the list,
> but I can send it to interested people fot testing.
>
> The main problem
> is that, at least with RAM up to 48Mb, the function is slow
> for normally sized images (i.e., 1024 X 1024 x 3). I'd like
> to hear how this function works for people with large amounts
> of RAM (>1Gb).
>
> imatestrgb:
>
> function (mat3d,ngris=64,stretch=" ",ver=T)
> {
> # DISPLAYS A (m,n,3) ARRAY AS A RGB IMAGE
> # From an idea by Ben Bolker. In particular I DO NOT USE:
> #   apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
> # which is costly in memory and time.
> # IF ver=F, saves the pseudocolor image as a list
>
> # NOTE: if range(mat3d) is VERY different from |0,255|,
> # stretch MUST BE "l" or "n"
>
>   m <- dim(mat3d)[1]
>   n <- dim(mat3d)[2]
>
> #1. Color number reduction to ngris^3. Much better if a clustering were
> #used, but should be a fast function.
>   if(stretch=="l") {
>     mini <- apply(mat3d,3,min)
>     maxi <- apply(mat3d,3,max)
>   }
>   if(stretch=="n") {
> 	med <- apply(mat3d,3,median)
> 	ma  <- apply(mat3d,3,mad)
> 	mini <- med - 3*ma
> 	maxi <- med + 3*ma
>   }
>   if(stretch==" ")
>        mat3d <- round(rescale(mat3d,oldmin=0,oldmax=255,newmax=ngris-1))
>   else {
>        mat3d[,,1] <- round(rescale(mat3d[,,1],oldmin=mini[1],oldmax=maxi[1],newmax=ngris-1))
>        mat3d[,,2] <- round(rescale(mat3d[,,2],oldmin=mini[2],oldmax=maxi[2],newmax=ngris-1))
>        mat3d[,,3] <- round(rescale(mat3d[,,3],oldmin=mini[3],oldmax=maxi[2],newmax=ngris-1))
>   } #stretching
>
> #2. Generates z vectors from a (m,n,3) array.
>   i1 <- rep(1:m,rep(n,m))
>   i2 <- rep(1:n,m)
>   tripletes <-cbind(mat3d[cbind(i1,i2,1)],mat3d[cbind(i1,i2,2)],mat3d[cbind(i1,i2,3)])
>   #Note: triplets are ordered by rows
>
> #3. Generates RGB colors:
>   tripletes <- tripletes/ngris
>   cols <- rgb(tripletes[,1],tripletes[,2],tripletes[,3])
>   #Formats vector of color codes as (m,n) matrix:
>   dim(cols) <- c(n,m)
>   cols <- t(cols)
>   #Generates vector of unique colors:
>   cols.unicos <- unique(cols)
>   #(Assigns an integer code to each unique color and transforms the
>   #char color matrix into an integer matrix):
>   cols <-as.numeric(reclas(cols,cols.unicos,1:length(cols.unicos)),drop=F)
>   dim(cols) <- c(m,n)
>
> #4.Display or save
>
>   if(ver) imagen(cols,col=cols.unicos)
>   else
>   list(ima=cols,cols=cols.unicos)
> }
>
>
> Functions called:
>
> > rescale
> function(vector, oldmin = min(vector), oldmax = max(vector), newmin = 0,
> newmax = 255)
> {
>         rango <- oldmax - oldmin
>         dimen <- dim(vector)
>         vector <- (vector - oldmin)/rango
>         vector <- newmin + (newmax - newmin) * vector
>         vector[vector<newmin]<- 0
>         vector[vector>newmax]<- newmax
>         dim(vector) <- dimen
>         vector
> }
>
> > reclas
> function(matriz, origen, imagen, directo = T)
> {
>         if(directo == F) {
>                 aux <- origen
>                 origen <- imagen
>                 imagen <- aux
>         }
> # As suggested by P.B.Ripley:
>         m <- match(matriz, origen, 0)
>         matriz[m > 0] <- imagen[m]
>         matriz
> }
>
> > imagen
> function(x,col="bn",add=F)
> {
>         w <- 9
>         hw <- nrow(x)/ncol(x)
>         x11(width=w,height=w*hw)
>         par(mex=0.01)
>         x <- t(x)
>         if(col=="bn") col <- gray((0:255)/255)
>         image(x=1:nrow(x), y=1:ncol(x),x[,ncol(x):1],col=col,add=add,axes=F)
> }
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Aug 31 00:28:39 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 31 Aug 2001 10:28:39 +1200
Subject: [R] lattice
References: <Pine.LNX.4.31.0108301607180.1667-100000@gannet.stats>
Message-ID: <008101c131a3$1e032f40$175dd882@stat.auckland.ac.nz>

Hi


> >    Hello. I know that lattice is still in beta beta but. . .
> > Nick Ellis wrote to S-news with an example of 'trellis' with several
> > lines in each panel.
> > df<-expand.grid(fac1=letters[1:2],x=seq(0,1,0.1),fac2=LETTERS[1:4])
> > df$y<-df$x*codes(df$fac1)+codes(df$fac2)*df$x^2+rnorm(nrow(df))/3
> > xyplot(y ~ x | fac2,
> >           groups=fac1,
> >          data=df,
> >          panel=function(x,y,subscripts,groups){
> >               panel.superpose(x,y,subscripts,groups)
> >              for(g in as.character(unique(groups[subscripts]))) {
> >                  sub <- groups[subscripts] == g
> >                  fit  <- lm(y~x+I(x^2),subset=sub)
> >                  ord <- order(x[sub])
> >                 lines(x[sub][ord],fitted(fit)[ord])
> >             }
> >          }
> >   )
> > if I run this in R 1.3 after library(grid), library(lattice) I get the 4
> > panels with the 2 sets of points in different colors in each panel, but
> > not the panel function, i.e. the fitted quadratics, 2 per panel.  Is
> > this because lattice is still beta? or the construccion of the panel
> > function is different in lattice?
>
> lattice != trellis, being built on grid.  Try
>
> xyplot(y ~ x | fac2,
>           groups=fac1, data=df,
>           panel=function(x,y,subscripts,groups){
>               panel.superpose(x,y,subscripts,groups)
>               for(g in as.character(unique(groups[subscripts]))) {
>                  sub <- groups[subscripts] == g
>                  fit  <- lm(y~x+I(x^2),subset=sub)
>                  ord <- order(x[sub])
>                  grid.lines(x[sub][ord],fitted(fit)[ord],
>                            default.units = "native")
>             }
>          }
>       )
>
>
> Not quite the same, as strips are done differently too.


To get the strips the same as well, try ...

xyplot(y ~ x | fac2,
          strip=function(...) strip.default(style=3, ...),
          groups=fac1, data=df,
          panel=function(x,y,subscripts,groups){
              panel.superpose(x,y,subscripts,groups)
              for(g in as.character(unique(groups[subscripts]))) {
                 sub <- groups[subscripts] == g
                 fit  <- lm(y~x+I(x^2),subset=sub)
                 ord <- order(x[sub])
                 grid.lines(x[sub][ord],fitted(fit)[ord],
                           default.units = "native")
            }
         }
      )

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri Aug 31 00:13:36 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 30 Aug 2001 18:13:36 -0400
Subject: [R] How to get ``nn%'' in axis values
In-Reply-To: <XFMail.20010830141849.s-luppescu@uchicago.edu>
References: <XFMail.20010830141849.s-luppescu@uchicago.edu>
Message-ID: <79etot4fgm2uq7jleo5lcuf3svibmgp7ou@4ax.com>

On Thu, 30 Aug 2001 14:18:49 -0500 (CDT), you wrote:

>I would like to make the print format of the axis value labels appear as
>``nn%'' instead of just the numbers. Is there a way to do this? 

Yes, you say "axes=F" in the initial plot, then you can put labels
anywhere with any strings at all, in a call to axis().

For example:

x <- runif(10)
y <- runif(10)
plot(x,y,axes=F)
xat <- pretty(x)
yat <- pretty(y)
axis(1,at=xat,label=paste(100*xat,'%',sep=''))
axis(2,at=yat,label=paste(100*yat,'%',sep=''))
box()

>Also, the x axis value labels on my horizontal barplot are rotated 90 degrees
>(perpendicular to the axis) no matter what I do. I tried las=1 but that didn't
>work. Is this doable?

I believe that depends on the graphics driver, but I've never played
with las.  If it works for other kinds of plots but not barplots, then
I'd submit it as a bug report.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Fri Aug 31 00:27:44 2001
From: denis at mail.cor.epa.gov (Denis White)
Date: Thu, 30 Aug 2001 15:27:44 -0700 (PDT)
Subject: [R] update.packages
Message-ID: <Pine.SUN.3.91.1010830151303.23601A-100000@quagga.cor.epa.gov>

I seem to have something wrong in my installation when trying to
update packages.  Thanks for any assistance...

> update.packages()
trying URL `http://cran.r-project.org/src/contrib/PACKAGES'
Content type `text/plain' length 53385 bytes
opened URL
.......... .......... .......... .......... ..........
..
downloaded 52Kb

Error in if (a[k] > b[k]) return(TRUE) else if (a[k] < b[k]) return(FALSE) : 
        missing value where logical needed
In addition: Warning message: 
NAs introduced by coercion 


> R.version
         _                   
platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R                   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.kennedy at pi.csiro.au  Fri Aug 31 03:02:43 2001
From: g.kennedy at pi.csiro.au (Gavin Kennedy)
Date: Fri, 31 Aug 2001 11:02:43 +1000
Subject: [R] RODBC SQLSave
Message-ID: <3B8EE233.604EBC8@pi.csiro.au>

I am having the following problem with RODBC

I connect to an oracle 8i (8.1.7) database using RODBC as follows;
dbConn <-
odbcConnect("mydatabase","myuserid","mypassword",case="oracle")
Then I extract some data, actually a whole table;
orgdata <- sqlQuery(dbConn, "select * from organism", na.strings = "NA")

Then I try to save it back;
sqlSave(dbConn, orgdata, rownames="cols", verbose = TRUE)
and I get the following error;
Error in coldata[, 1] : incorrect number of dimensions
I'm not well versed in R and I am afraid I don't understand this error.
Can anyone help?

Gavin K.

Gavin Kennedy
Software Engineer - Bioinformatics
CSIRO Mathematical and Information Sciences
Gavin.Kennedy at CMIS.CSIRO.AU
ph: 612-6246-4929






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Aug 31 05:48:40 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 30 Aug 2001 23:48:40 -0400
Subject: [R] contrasts in lm
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED77@groexmbcr02.pfizer.com>

I've been playing around with contrasts in lm by specifying the contrasts
argument.  So, I want to specify a specific contrast to be tested

Say:

	> y _ rnorm(100)
	> x _  cut(rnorm(100, mean=y, sd=0.25),c(-3,-1.5,0,1.5,3))
	> reg _ lm(y ~ x, contrasts=list(x=c(1,0,0,-1)))
	> coef(reg)[2]
	      x1 
	-1.814101 

I was surprised to see that I get a different estimate for the contrast
specified this way than if I do

	> reg2 _ lm(y ~ x, contrasts=list(x=contr.sum))
	> coef(reg2)[2]
	       x1 
	-1.816682 

even though the first contrast in the same in both cases:

	> reg$contrasts
	$x
	          [,1]       [,2]        [,3]
	(-3,-1.5]    1 -0.2697521  0.42099143
	(-1.5,0]     0 -0.3256196 -0.80247857
	(0,1.5]      0  0.8651239 -0.03950429
	(1.5,3]     -1 -0.2697521  0.42099143
	> reg2$contrasts
	$x
	          [,1] [,2] [,3]
	(-3,-1.5]    1    0    0
	(-1.5,0]     0    1    0
	(0,1.5]      0    0    1
	(1.5,3]     -1   -1   -1

Questions:

  1) How are columns 2 and 3 of the first contrast matrix being created and
why?
 
  2) What is the proper way of doing custom contrasts?  I'm interested in a
'general' solution.

Thanks,

Greg



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.kennedy at pi.csiro.au  Fri Aug 31 06:29:40 2001
From: g.kennedy at pi.csiro.au (Gavin Kennedy)
Date: Fri, 31 Aug 2001 14:29:40 +1000
Subject: [R] Re: RODBC SQLSave
References: <3B8EE233.604EBC8@pi.csiro.au>
Message-ID: <3B8F12B4.6A34C745@pi.csiro.au>

I managed to resolve my problem, I updated my ORACLE 8.1.7 driver to replace
the one that came with the oracle install and it now works a treat.

Gavin

Gavin Kennedy wrote:

> I am having the following problem with RODBC
>
> I connect to an oracle 8i (8.1.7) database using RODBC as follows;
> dbConn <-
> odbcConnect("mydatabase","myuserid","mypassword",case="oracle")
> Then I extract some data, actually a whole table;
> orgdata <- sqlQuery(dbConn, "select * from organism", na.strings = "NA")
>
> Then I try to save it back;
> sqlSave(dbConn, orgdata, rownames="cols", verbose = TRUE)
> and I get the following error;
> Error in coldata[, 1] : incorrect number of dimensions
> I'm not well versed in R and I am afraid I don't understand this error.
> Can anyone help?
>
> Gavin K.
>
> Gavin Kennedy
> Software Engineer - Bioinformatics
> CSIRO Mathematical and Information Sciences
> Gavin.Kennedy at CMIS.CSIRO.AU
> ph: 612-6246-4929

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 31 07:43:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Aug 2001 06:43:36 +0100 (BST)
Subject: [R] update.packages
In-Reply-To: <Pine.SUN.3.91.1010830151303.23601A-100000@quagga.cor.epa.gov>
Message-ID: <Pine.GSO.4.31.0108310635450.16251-100000@auk.stats>

On Thu, 30 Aug 2001, Denis White wrote:

> I seem to have something wrong in my installation when trying to
> update packages.  Thanks for any assistance...
>
> > update.packages()
> trying URL `http://cran.r-project.org/src/contrib/PACKAGES'
> Content type `text/plain' length 53385 bytes
> opened URL
> .......... .......... .......... .......... ..........
> ..
> downloaded 52Kb
>
> Error in if (a[k] > b[k]) return(TRUE) else if (a[k] < b[k]) return(FALSE) :
>         missing value where logical needed
> In addition: Warning message:
> NAs introduced by coercion

That error seems to be coming from newerVersion in old.packages, and means
that an installed package has an incorrect Version: field.  Try

installed.packages()[, c("Package", "Version")]

to see what it might be.   (Actually, it could mean a CRAN package
has an incorrect version, but then lots of us would see it.)

You might want to use traceback() to confirm the source.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 31 08:06:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Aug 2001 07:06:31 +0100 (BST)
Subject: [R] contrasts in lm
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CED77@groexmbcr02.pfizer.com>
Message-ID: <Pine.GSO.4.31.0108310646490.16251-100000@auk.stats>

On Thu, 30 Aug 2001, Warnes, Gregory R wrote:

> I've been playing around with contrasts in lm by specifying the contrasts
> argument.  So, I want to specify a specific contrast to be tested
>
> Say:
>
> 	> y _ rnorm(100)
> 	> x _  cut(rnorm(100, mean=y, sd=0.25),c(-3,-1.5,0,1.5,3))
> 	> reg _ lm(y ~ x, contrasts=list(x=c(1,0,0,-1)))
> 	> coef(reg)[2]
> 	      x1
> 	-1.814101
>
> I was surprised to see that I get a different estimate for the contrast
> specified this way than if I do

That's not an estimate of the contrast, just of one element of the
contrast.  The full answer is something like

> coef(reg)
(Intercept)          x1          x2          x3
 0.09832456 -1.84557466  0.74762184  0.34896487

>
> 	> reg2 _ lm(y ~ x, contrasts=list(x=contr.sum))
> 	> coef(reg2)[2]
> 	       x1
> 	-1.816682
>
> even though the first contrast in the same in both cases:
>
> 	> reg$contrasts
> 	$x
> 	          [,1]       [,2]        [,3]
> 	(-3,-1.5]    1 -0.2697521  0.42099143
> 	(-1.5,0]     0 -0.3256196 -0.80247857
> 	(0,1.5]      0  0.8651239 -0.03950429
> 	(1.5,3]     -1 -0.2697521  0.42099143
> 	> reg2$contrasts
> 	$x
> 	          [,1] [,2] [,3]
> 	(-3,-1.5]    1    0    0
> 	(-1.5,0]     0    1    0
> 	(0,1.5]      0    0    1
> 	(1.5,3]     -1   -1   -1

Why were you surprised?  If I do

lm(y ~ x + z)
lm(y ~ x + w)

for continuous x and different continuous z and w I should not expect the
same regression coefficient for x.  That's what you've done.

The exception is where z and w are orthogonal to x, but columns of
the model matrix are not in general orthogonal, especially with
unbalanced designs (as here) and several of the standard contrasts
functions (as in your second example).

> Questions:
>
>   1) How are columns 2 and 3 of the first contrast matrix being created and
> why?

by contrasts<-(), to complete a span of the space.  It uses orthogonal
terms,

>   2) What is the proper way of doing custom contrasts?  I'm interested in a
> 'general' solution.

function C().  I suspect you actually intended

lm(y ~ C(x, contr.sum, 1))

and confused yourself by not looking at the whole answer.

I do recommend Bill Venables' account of coding in chapter 6 of MASS:
there seem to be several misconceptions to clear up here.
One thing to watch is that R's default, contr.treatment, are *not
contrasts* in the conventional meaning.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Fri Aug 31 09:25:43 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 31 Aug 2001 09:25:43 +0200
Subject: [R] How to get ``nn%'' in axis values
References: <XFMail.20010830141849.s-luppescu@uchicago.edu> <79etot4fgm2uq7jleo5lcuf3svibmgp7ou@4ax.com>
Message-ID: <3B8F3BF7.43B1D12@statistik.uni-dortmund.de>

Duncan Murdoch wrote:

> >Also, the x axis value labels on my horizontal barplot are rotated 90 degrees
> >(perpendicular to the axis) no matter what I do. I tried las=1 but that didn't
> >work. Is this doable?
> 
> I believe that depends on the graphics driver, but I've never played
> with las.  If it works for other kinds of plots but not barplots, then
> I'd submit it as a bug report.

Just use something like

 par(las=1)
 barplot(....)

which works for me.

You cannot specify las as an argument in barplot at this time.
It would be easy to add this functionality to barplot(), 
*but* there are very many arguments in par() that cannot be passed to
barplot() and to many other high-level graphic functions. It will cost
many lines of code to make it possible to pass *all* those arguments
directly.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 31 09:39:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 31 Aug 2001 08:39:11 +0100 (BST)
Subject: [R] How to get ``nn%'' in axis values
In-Reply-To: <3B8F3BF7.43B1D12@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0108310837170.8954-100000@gannet.stats>

On Fri, 31 Aug 2001, Uwe Ligges wrote:

> Duncan Murdoch wrote:
>
> > >Also, the x axis value labels on my horizontal barplot are rotated 90 degrees
> > >(perpendicular to the axis) no matter what I do. I tried las=1 but that didn't
> > >work. Is this doable?
> >
> > I believe that depends on the graphics driver, but I've never played
> > with las.  If it works for other kinds of plots but not barplots, then
> > I'd submit it as a bug report.
>
> Just use something like
>
>  par(las=1)
>  barplot(....)
>
> which works for me.
>
> You cannot specify las as an argument in barplot at this time.
> It would be easy to add this functionality to barplot(),
> *but* there are very many arguments in par() that cannot be passed to
> barplot() and to many other high-level graphic functions. It will cost
> many lines of code to make it possible to pass *all* those arguments
> directly.

That's a good point, but it seems that just adding ... in a couple
of places does this.  It should work come 1.4.0, if this survives
further testing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Aug 31 10:10:32 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 31 Aug 2001 10:10:32 +0200 (MET DST)
Subject: [R] imagenrgb: Function to display RGB images in R
In-Reply-To: <Pine.LNX.4.30.0108301704480.8173-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.OSF.3.96.1010831093450.18721D-100000@ija.csic.es>


Sure I agree, but this seems to be, by now, too
involved for me (the time that I have for
writing code is very limited, actually I've done
this during vacation time). 
By now, I just would like a 
version as fast as possible in R code. If there
is a significant number of users interested
on this type of functioality, perhaps the developing
team would consider creating a function
from scratch in C code. Or perhaps
an experienced C/R programmer will do it.
Hopefully, this version
will show the interest of this type of display
within R. We can always call xv from within
R, but then there is no way to overlay
other R plots.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 30 Aug 2001 ben at zoo.ufl.edu wrote:

> 
>   It does seem that this is a place where hacking C code might be
> worthwhile, if you're going to do a lot of this.  (Of course, it limits
> portability somewhat -- either you have to make binary packages for
> people, or they have to be able to compile packages from source
> themselves.)
>   The "best" way, I would guess, is to actually hack the internal R code
> -- I don't know if there are entry points for things like the image code.
> Short of that, though, you might be able to speed this up considerably
> without the pain of figuring out the internal R stuff just by rewriting
> some of the critical utility functions in C.  Have you tried R profiling
> (see the "R Extensions" manual)?
> 
>   Ben Bolker
> 
> 
> On Thu, 30 Aug 2001, Agustin Lobo wrote:
> 
> >
> > I've writen this function  (imagenrgb)
> > to display a (m,n,3) array
> > as a RGB image with ngris^3 colors and,optionally,
> > stretching. If option ver=F, it does not
> > display but saves a pseudocolor version of the image
> > as a list (so that subsequent displays are faster).
> >
> > I'd appreciate feedback and improvements
> > and hope that it's useful for others.
> >
> >
> > Example of use:
> >
> > > dim(imatest)
> > [1] 100 400   3
> > > imagenrgb(imatest)
> > > imagenrgb(imatest,ngris=16,stretch="l")
> > > imagenrgb(imatest,ngris=16,stretch="n")
> > > imagenrgb(imatest,ngris=8,stretch="n")
> > > imatest.cod <- imagenrgb(imatest,ngris=16,stretch="n",ver=F)
> > > imagen(imatest.cod$ima, col=imatest.cod$cols)
> >
> > Imatest is a subscene of a satellite image.
> > The imatest file saved with save(imatest,file="imatest")
> > is 469k. It's probably better not to send it to the list,
> > but I can send it to interested people fot testing.
> >
> > The main problem
> > is that, at least with RAM up to 48Mb, the function is slow
> > for normally sized images (i.e., 1024 X 1024 x 3). I'd like
> > to hear how this function works for people with large amounts
> > of RAM (>1Gb).
> >
> > imatestrgb:
> >
> > function (mat3d,ngris=64,stretch=" ",ver=T)
> > {
> > # DISPLAYS A (m,n,3) ARRAY AS A RGB IMAGE
> > # From an idea by Ben Bolker. In particular I DO NOT USE:
> > #   apply(tstarr/256,c(1,2),function(z)do.call("rgb",as.list(z)))
> > # which is costly in memory and time.
> > # IF ver=F, saves the pseudocolor image as a list
> >
> > # NOTE: if range(mat3d) is VERY different from |0,255|,
> > # stretch MUST BE "l" or "n"
> >
> >   m <- dim(mat3d)[1]
> >   n <- dim(mat3d)[2]
> >
> > #1. Color number reduction to ngris^3. Much better if a clustering were
> > #used, but should be a fast function.
> >   if(stretch=="l") {
> >     mini <- apply(mat3d,3,min)
> >     maxi <- apply(mat3d,3,max)
> >   }
> >   if(stretch=="n") {
> > 	med <- apply(mat3d,3,median)
> > 	ma  <- apply(mat3d,3,mad)
> > 	mini <- med - 3*ma
> > 	maxi <- med + 3*ma
> >   }
> >   if(stretch==" ")
> >        mat3d <- round(rescale(mat3d,oldmin=0,oldmax=255,newmax=ngris-1))
> >   else {
> >        mat3d[,,1] <- round(rescale(mat3d[,,1],oldmin=mini[1],oldmax=maxi[1],newmax=ngris-1))
> >        mat3d[,,2] <- round(rescale(mat3d[,,2],oldmin=mini[2],oldmax=maxi[2],newmax=ngris-1))
> >        mat3d[,,3] <- round(rescale(mat3d[,,3],oldmin=mini[3],oldmax=maxi[2],newmax=ngris-1))
> >   } #stretching
> >
> > #2. Generates z vectors from a (m,n,3) array.
> >   i1 <- rep(1:m,rep(n,m))
> >   i2 <- rep(1:n,m)
> >   tripletes <-cbind(mat3d[cbind(i1,i2,1)],mat3d[cbind(i1,i2,2)],mat3d[cbind(i1,i2,3)])
> >   #Note: triplets are ordered by rows
> >
> > #3. Generates RGB colors:
> >   tripletes <- tripletes/ngris
> >   cols <- rgb(tripletes[,1],tripletes[,2],tripletes[,3])
> >   #Formats vector of color codes as (m,n) matrix:
> >   dim(cols) <- c(n,m)
> >   cols <- t(cols)
> >   #Generates vector of unique colors:
> >   cols.unicos <- unique(cols)
> >   #(Assigns an integer code to each unique color and transforms the
> >   #char color matrix into an integer matrix):
> >   cols <-as.numeric(reclas(cols,cols.unicos,1:length(cols.unicos)),drop=F)
> >   dim(cols) <- c(m,n)
> >
> > #4.Display or save
> >
> >   if(ver) imagen(cols,col=cols.unicos)
> >   else
> >   list(ima=cols,cols=cols.unicos)
> > }
> >
> >
> > Functions called:
> >
> > > rescale
> > function(vector, oldmin = min(vector), oldmax = max(vector), newmin = 0,
> > newmax = 255)
> > {
> >         rango <- oldmax - oldmin
> >         dimen <- dim(vector)
> >         vector <- (vector - oldmin)/rango
> >         vector <- newmin + (newmax - newmin) * vector
> >         vector[vector<newmin]<- 0
> >         vector[vector>newmax]<- newmax
> >         dim(vector) <- dimen
> >         vector
> > }
> >
> > > reclas
> > function(matriz, origen, imagen, directo = T)
> > {
> >         if(directo == F) {
> >                 aux <- origen
> >                 origen <- imagen
> >                 imagen <- aux
> >         }
> > # As suggested by P.B.Ripley:
> >         m <- match(matriz, origen, 0)
> >         matriz[m > 0] <- imagen[m]
> >         matriz
> > }
> >
> > > imagen
> > function(x,col="bn",add=F)
> > {
> >         w <- 9
> >         hw <- nrow(x)/ncol(x)
> >         x11(width=w,height=w*hw)
> >         par(mex=0.01)
> >         x <- t(x)
> >         if(col=="bn") col <- gray((0:255)/255)
> >         image(x=1:nrow(x), y=1:ncol(x),x[,ncol(x):1],col=col,add=add,axes=F)
> > }
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Fri Aug 31 10:49:59 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Fri, 31 Aug 2001 09:49:59 +0100 (BST)
Subject: [R] newbie list
In-Reply-To: <m2u1ypa1l7.fsf@wiener.math.csi.cuny.edu>
Message-ID: <Pine.SOL.4.21.0108310939010.10702-100000@wallis>

On 30 Aug 2001, John Verzani wrote:

> 
> I've been working on some notes for using R in an introductory
> statistics course and was planning on contributing them to CRAN once
> I've used them in a course this semester. However, if anyone wants to
> see what I have right now, I would be glad to share them. The
> url for the notes is:
> 
> http://www.math.csi.cuny.edu/Statistics/R/simpleR
> 
> Links to a PDF version and some datasets are available from here as
> well. Any  feedback is, of course, most welcome.
> 
> --John


John,

Had a look through it and it's pretty good - some of the equations don't work
too well in HTML but are fine in the .pdf - excellent basic tutorial, I like the
idea of integrating the codeing examples with the statistics as so many
non-statistics students are fine with pen and paper, but dry up completely when
it comes to using a machine to do the calculation for them. This is bad enough
with SPSS, where they tend to just accept the entire 60 pages of output and
replicate it in their reports - few (none actually) of them pluck up the courage
to use R which would give them a far more suitable environment for their
analysees. I have reservations about teaching them about pie charts though
(unless they're management students of course).

Dave.


**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Aug 31 08:26:59 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 31 Aug 2001 08:26:59 +0200
Subject: [R] update.packages
In-Reply-To: <Pine.SUN.3.91.1010830151303.23601A-100000@quagga.cor.epa.gov>
References: <Pine.SUN.3.91.1010830151303.23601A-100000@quagga.cor.epa.gov>
Message-ID: <15247.11827.247128.732182@mithrandir.hornik.net>

>>>>> Denis White writes:

> I seem to have something wrong in my installation when trying to
> update packages.  Thanks for any assistance...

Wait for 1.3.1 and try again.  These problems usually come from packages
installed a long time ago without valid version information.  The newer
(1.3.1) tests for outdated packages wrap the comparisons into try() and
hence no longer throw an error ...

-k

>> update.packages()
> trying URL `http://cran.r-project.org/src/contrib/PACKAGES'
> Content type `text/plain' length 53385 bytes
> opened URL
> .......... .......... .......... .......... ..........
> ..
> downloaded 52Kb

> Error in if (a[k] > b[k]) return(TRUE) else if (a[k] < b[k]) return(FALSE) : 
>         missing value where logical needed
> In addition: Warning message: 
> NAs introduced by coercion 


>> R.version
>          _                   
> platform sparc-sun-solaris2.7
> arch     sparc               
> os       solaris2.7          
> system   sparc, solaris2.7   
> status                       
> major    1                   
> minor    3.0                 
> year     2001                
> month    06                  
> day      22                  
> language R                   

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Aug 31 12:23:18 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 31 Aug 2001 12:23:18 +0200
Subject: [R] imagenrgb: Function to display RGB images in R
In-Reply-To: <Pine.OSF.3.96.1010831093450.18721D-100000@ija.csic.es>
Message-ID: <MABBLJDICACNFOLGIHJOGEGFCFAA.phgrosje@ulb.ac.be>

Matlab, Mathematica, Mathcad and probably many others have such kind of
functionnality... why not R?

Philippe Grosjean


>Sure I agree, but this seems to be, by now, too
>involved for me (the time that I have for
>writing code is very limited, actually I've done
>this during vacation time).
>By now, I just would like a
>version as fast as possible in R code. If there
>is a significant number of users interested
>on this type of functioality, perhaps the developing
>team would consider creating a function
>from scratch in C code. Or perhaps
>an experienced C/R programmer will do it.
>Hopefully, this version
>will show the interest of this type of display
>within R. We can always call xv from within
>R, but then there is no way to overlay
>other R plots.

>Agus

>Dr. Agustin Lobo
>Instituto de Ciencias de la Tierra (CSIC)
>Lluis Sole Sabaris s/n
>08028 Barcelona SPAIN
>tel 34 93409 5410
>fax 34 93411 0012
>alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isrtdu at yahoo.com  Thu Aug 30 19:59:20 2001
From: isrtdu at yahoo.com (wildscop)
Date: Thu, 30 Aug 2001 23:59:20 +0600
Subject: [R] Novice User Manual
Message-ID: <5.1.0.14.2.20010830231626.00a44b60@mail.neksus.com>

Dear R users,

         I'm a new user of R : in fact , i hadn't used R yet. To say the 
truth , I'm used to with graphical interface of windows environment. so R 
console reminds me Linux , of which i am afraid of much more. Whatever , i 
like to learn about the 7 topics below of "R" or "S+4.5" [is there any 
other similar program like these ?]. Thats why i need some documentation 
[preferably at PDF file formate]. Can you please provide me web link 
addresses where can i find documentation about the topics below :
         1. running R or S-plus in windows environment
         2. Vectors and Matrices
         3. Reading and Sorting data and listing data
         4. Plotting and graphics
         5. Functions
         6. Programming for Statistical computation
         7. Estimation of the parameters of different models using 
Newton-Raphson method
         it would be a great help if i can get effective and nicely written 
tutorials to learn it quickly. I also need to know if i need any packages 
to learn about the topics above which is not included at R-1.3.0 or S+4.5 
by default. I look forward to you for your valuable suggestions about "R" 
or "S+" about any thing that you want to suggest.

NB: where should i mail  : R-help at stat.math.ethz.ch or 
at  r-help at lists.R-project.org to reach R-help ? since i'm not sure about 
it : i mail at both addresses. Forgive me if it is cross-posted.


Best regards,


_______________________
Mohammad Ehsanul karim
Email : isrtdu at yahoo.com
Voice : 880 - 02 - 9870390
[7-10 PM at GMT +06:00 ]
_______________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isrtdu at yahoo.com  Thu Aug 30 19:59:20 2001
From: isrtdu at yahoo.com (wildscop)
Date: Thu, 30 Aug 2001 23:59:20 +0600
Subject: [R] Novice User Manual
Message-ID: <5.1.0.14.2.20010830231626.00a44b60@mail.neksus.com>

Dear R users,

         I'm a new user of R : in fact , i hadn't used R yet. To say the 
truth , I'm used to with graphical interface of windows environment. so R 
console reminds me Linux , of which i am afraid of much more. Whatever , i 
like to learn about the 7 topics below of "R" or "S+4.5" [is there any 
other similar program like these ?]. Thats why i need some documentation 
[preferably at PDF file formate]. Can you please provide me web link 
addresses where can i find documentation about the topics below :
         1. running R or S-plus in windows environment
         2. Vectors and Matrices
         3. Reading and Sorting data and listing data
         4. Plotting and graphics
         5. Functions
         6. Programming for Statistical computation
         7. Estimation of the parameters of different models using 
Newton-Raphson method
         it would be a great help if i can get effective and nicely written 
tutorials to learn it quickly. I also need to know if i need any packages 
to learn about the topics above which is not included at R-1.3.0 or S+4.5 
by default. I look forward to you for your valuable suggestions about "R" 
or "S+" about any thing that you want to suggest.

NB: where should i mail  : R-help at stat.math.ethz.ch or 
at  r-help at lists.R-project.org to reach R-help ? since i'm not sure about 
it : i mail at both addresses. Forgive me if it is cross-posted.


Best regards,


_______________________
Mohammad Ehsanul karim
Email : isrtdu at yahoo.com
Voice : 880 - 02 - 9870390
[7-10 PM at GMT +06:00 ]
_______________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From replypro at mcgraw-hill.com.tw  Fri Aug 31 12:48:20 2001
From: replypro at mcgraw-hill.com.tw (=?big5?B?s8Gu5sO5p8a6uA==?=)
Date: Fri, 31 Aug 2001 18:48:20 +0800
Subject: [R] =?big5?B?tfizpbZWrMm3c67RqHQgLS2hbanKvKShQsV2pE+hQrRjpua7ULdMr7otLb9ztfg=?=
	=?big5?B?uEGpVOCsqrqopKbip+q6dLlDwLihbg==?=
Message-ID: <200108311054.MAA24331@stat.math.ethz.ch>

Dear r-help,

@HkOLHNOXBHNByOjF
a{khiBBnBPBVPH
AO_ghLA
oOLHtsOkkbzoiWPP]lyA
OiPXH
PklPkShjPA
SMoOLHYOH
o@uOXG[w|XLgH
W|zafNbA
qAT[IAA}o@sOPC
bAfHHJA
FeATqjHzvT{C
@FwWLKdW~kkMsAHMoDD@A
NpKvM@ssA
HATbHMHRBXGUVWtC
@iDAATOpvTyOB{BwBq~B
|HBVBdlMB
LC
ATyFBvOBOPWeaA
OQ^BD_AOOJIC
LBFAATp@bMqWtC
ATotFhcWBDh~HEAF@OX[IC
HPANqo_\PMIsC


 
mBvOBcPLGsATtCn
 @    GJames McBride Dabbs/Mary Godwin Dabbs \ 
     tGV BB001
 `  G320
 w    G320
 I S B N G957-493-412-8

--------------------------------------------------------------------------------



Xq xWq
Tel 02-27272211  Fax 02-23463300
NcGfeedback at mcgraw-hill.com.tw

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010831/4ee692b1/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 3166 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010831/4ee692b1/attachment.jpe

From kjetil.kjernsmo at astro.uio.no  Fri Aug 31 13:23:36 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 31 Aug 2001 13:23:36 +0200 (MET DST)
Subject: [R] imagenrgb: Function to display RGB images in R
In-Reply-To: <MABBLJDICACNFOLGIHJOGEGFCFAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.OSF.4.30.0108311258190.1032-100000@alnair.uio.no>

On Fri, 31 Aug 2001, Philippe Grosjean wrote:

>Matlab, Mathematica, Mathcad and probably many others have such kind of
>functionnality... why not R?

Somebody has to write the code.... :-)

Being an astronomer, I recognize that R lacks many of the features that
the software the rest of the Institute uses.

However, having realized the power of R, I'm confident that R can be used
as a framework for making better software than what currently exists.

There are three ways of doing this:
1) You write the code yourself,
2) You pay somebody to do it, or
3) You convince somebody it is really, really cool.
Since everybody has got things they feel are very interesting, the last
point doesn't happen very often.

And you bet, I would rather write thousands of lines of R code than go
back to IDL, which is what the rest of the folks around here are using.
So, if I were the kind of astronomer who reduced CCD data, I would write
lots of code for that purpose, and thereby extend R's capabilities in
that direction. But I'm not, I'm the kind of astronomer who inadvertly,
without any significant training, happened to end up using statistics...
:-)

I have been toying with the idea to make a wrapper around FFTW several
times <URL:http://www.fftw.org/>, but I have found that I can't defend
spending the time on it at this point, since the filters I have needed
have been very, very simple. But I'd surely like to do it...

So, if you need to view RGB images, you need to write the code, or you
need to find somebody willing to do it. Also, there is a lot of Free
Software out there for the purpose, and sharing is wonderful, but still
somebody has to do it.

I think Agustin has set a good example and a good starting point.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 31 13:45:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Aug 2001 13:45:54 +0200
Subject: [R] imagenrgb: Function to display RGB images in R
In-Reply-To: <Pine.OSF.4.30.0108311258190.1032-100000@alnair.uio.no>
References: <Pine.OSF.4.30.0108311258190.1032-100000@alnair.uio.no>
Message-ID: <x2u1yosb9p.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> On Fri, 31 Aug 2001, Philippe Grosjean wrote:
> 
> >Matlab, Mathematica, Mathcad and probably many others have such kind of
> >functionnality... why not R?
> 
> Somebody has to write the code.... :-)
> 
> Being an astronomer, I recognize that R lacks many of the features that
> the software the rest of the Institute uses.
> 
> However, having realized the power of R, I'm confident that R can be used
> as a framework for making better software than what currently exists.
> 
> There are three ways of doing this:
> 1) You write the code yourself,
> 2) You pay somebody to do it, or
> 3) You convince somebody it is really, really cool.
> Since everybody has got things they feel are very interesting, the last
> point doesn't happen very often.

4) You snoop around a little and discover that there is a tiny thing
   to change *then* goto 1) or goto 3)

In the present case, we already have image() this takes z values,
looks them up in a palette and plots the result as RGB. What would it
take to bypass the palette and interpret z as (say) 24-bit RGB
directly?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lkazembe at chirunga.sdnp.org.mw  Fri Aug 31 14:01:54 2001
From: lkazembe at chirunga.sdnp.org.mw (LAWRENCE KAZEMBE)
Date: Fri, 31 Aug 2001 14:01:54 +0200
Subject: [R] Probit model
Message-ID: <200108311401540480.012F4CEE@63.69.102.194>

R users,
I got a problem to analyze with probit model. What package contains the algorithm to do probit model.


Lawrence N.M Kazembe
Mathematical Sciences Department
Chancellor College
University of Malawi
P.O. Box 280
Zomba
Malawi

Tel: (265) 524 222 ext 284
Fax: (265) 524 046
e-mail: lkazembe at chirunga.sdnp.org.mw
url: kazembe.cjb.net
      kazembe.tsx.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Aug 31 14:09:17 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sat, 1 Sep 2001 00:09:17 +1200
Subject: [R] Novice User Manual
In-Reply-To: <5.1.0.14.2.20010830231626.00a44b60@mail.neksus.com>
Message-ID: <JLECJACFMBHFAAPLJNECOEHECAAA.Ko-Kang@xtra.co.nz>

1. Are you talking about installing or actually running/using R?  If you want to learn how to install it, you can find it in the second volumn of R news, the article written by Prof. Brian Ripley.  The R-news can be downloaded from CRAN (http://cran.r-project.org/doc/Rnews/Rnews_2001-2.pdf).  If you want to know how to use it, then the syntax/usage is not very different (in fact almost the same) as in every platform.  Take a look at An Introduction to R (http://cran.r-project.org/doc/manuals/R-intro.pdf).

2. Read An Introduction to R - see above

3. Again, see above.  But basically if you have a dataset which has many columns (i.e. in tabular form), and it is saved as a text file (which can be done using Save As... in any spreadsheet program), and you want to load into R, you can do something like:
   myData <- read.table( file.choose(), header = T )
where on the press of ENTER key, a chooser will pop up and you can find your file and select it and click OK.  Your dataset is now load into R, under the name myData.  You will also want:
   attach( myData )
so that you can use the column names directly in R.  

If you have a vector of data (e.g. 100 numbers), then you can/should use scan().  So:
   myVector <- scan( file.choose() )
and follow the similar procedure.  You do not need to attach it as it is a single vector which you will be using myVector to manipulate it within the R session.  

There are ways to specify the file's path, but this is a bit more complicated for beginner and file.choose() will do the job anyways.

4. Again check An Introduction to R first.  Or "Using R for Data Analysis and Graphics" by John Maindonald (http://cran.r-project.org/doc/contrib/usingR.pdf).  I'm currently writting some PowerPoint slides on this too.

5. An Introduction to R has some explanations on this.  Again, I'm currently writting some PowerPoint slides on this too.

6. What kind of computation?

7. I'm not sure about this one.

Do check out CRAN's contributed manuals too.  There are some excellent guides, such as ``R for Beginners / R pour les debutants'' by Emmanuel Paradis (http://cran.r-project.org/doc/contrib/Rdebuts_en.pdf)... and others.  John Verzani posted up his site a few days ago which also has lots of excellent tutorials and examples (http://www.math.csi.cuny.edu/Statistics/R/simpleR).

Hope this helps,

Ko-Kang Wang

------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of wildscop
Sent: Friday, August 31, 2001 5:59 AM
To: R-help at stat.math.ethz.ch; r-help at stat.math.ethz.ch
Subject: [R] Novice User Manual


Dear R users,

         I'm a new user of R : in fact , i hadn't used R yet. To say the 
truth , I'm used to with graphical interface of windows environment. so R 
console reminds me Linux , of which i am afraid of much more. Whatever , i 
like to learn about the 7 topics below of "R" or "S+4.5" [is there any 
other similar program like these ?]. Thats why i need some documentation 
[preferably at PDF file formate]. Can you please provide me web link 
addresses where can i find documentation about the topics below :
         1. running R or S-plus in windows environment
         2. Vectors and Matrices
         3. Reading and Sorting data and listing data
         4. Plotting and graphics
         5. Functions
         6. Programming for Statistical computation
         7. Estimation of the parameters of different models using 
Newton-Raphson method
         it would be a great help if i can get effective and nicely written 
tutorials to learn it quickly. I also need to know if i need any packages 
to learn about the topics above which is not included at R-1.3.0 or S+4.5 
by default. I look forward to you for your valuable suggestions about "R" 
or "S+" about any thing that you want to suggest.

NB: where should i mail  : R-help at stat.math.ethz.ch or 
at  r-help at lists.R-project.org to reach R-help ? since i'm not sure about 
it : i mail at both addresses. Forgive me if it is cross-posted.


Best regards,


_______________________
Mohammad Ehsanul karim
Email : isrtdu at yahoo.com
Voice : 880 - 02 - 9870390
[7-10 PM at GMT +06:00 ]
_______________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at amadeus.statistik.uni-dortmund.de  Fri Aug 31 14:21:56 2001
From: theis at amadeus.statistik.uni-dortmund.de (Winfried Theis)
Date: Fri, 31 Aug 2001 13:21:56 +0100 (BST)
Subject: [R] Novice User Manual
In-Reply-To: <5.1.0.14.2.20010830231626.00a44b60@mail.neksus.com>
Message-ID: <XFMail.010831132156.theis@statistik.uni-dortmund.de>

Hi!

There is an easy answer: Look at the documentation section at
http://www.r-project.org and try "An Introduction to R"
This will answer most of your questions.

Cheers, Winfried
On 30-Aug-01 wildscop wrote:
> Dear R users,
> 
>          I'm a new user of R : in fact , i hadn't used R yet. To say the 
> truth , I'm used to with graphical interface of windows environment. so R 
> console reminds me Linux , of which i am afraid of much more. Whatever , i 
> like to learn about the 7 topics below of "R" or "S+4.5" [is there any 
> other similar program like these ?]. Thats why i need some documentation 
> [preferably at PDF file formate]. Can you please provide me web link 
> addresses where can i find documentation about the topics below :
>          1. running R or S-plus in windows environment
>          2. Vectors and Matrices
>          3. Reading and Sorting data and listing data
>          4. Plotting and graphics
>          5. Functions
>          6. Programming for Statistical computation
>          7. Estimation of the parameters of different models using 
> Newton-Raphson method
>          it would be a great help if i can get effective and nicely written 
> tutorials to learn it quickly. I also need to know if i need any packages 
> to learn about the topics above which is not included at R-1.3.0 or S+4.5 
> by default. I look forward to you for your valuable suggestions about "R" 
> or "S+" about any thing that you want to suggest.
> 
> NB: where should i mail  : R-help at stat.math.ethz.ch or 
> at  r-help at lists.R-project.org to reach R-help ? since i'm not sure about 
> it : i mail at both addresses. Forgive me if it is cross-posted.
> 
> 
> Best regards,
> 
> 
> _______________________
> Mohammad Ehsanul karim
> Email : isrtdu at yahoo.com
> Voice : 880 - 02 - 9870390
> [7-10 PM at GMT +06:00 ]
> _______________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 31-Aug-01
Time: 13:19:30
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Aug 31 14:49:40 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 31 Aug 2001 08:49:40 -0400 (EDT)
Subject: [R] Probit model
Message-ID: <200108311249.f7VCneJ12347@cattell.psych.upenn.edu>

>From: "LAWRENCE KAZEMBE" <lkazembe at chirunga.sdnp.org.mw>
>To: r-help at stat.math.ethz.ch
>Subject: [R] Probit model
>I got a problem to analyze with probit model. What package
contains the algorithm to do probit model.

In the base package, look at the help for "glm" and for "family".
The way R does this (which is, of course, the way S does it) is
somewhat unusual, although elegant once you get the idea, so it
might help to read the relevant chapter in (for example) Venables
and Ripley's book.

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Fri Aug 31 14:47:32 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Fri, 31 Aug 2001 07:47:32 -0500
Subject: [R] Probit model
References: <200108311401540480.012F4CEE@63.69.102.194>
Message-ID: <3B8F8764.DE7C6847@epm.net.co>

Look at glm function.

glm(formula,family=binomial(link=probit))

Hope will help!



LAWRENCE KAZEMBE wrote:

> R users,
> I got a problem to analyze with probit model. What package contains the algorithm to do probit model.
>
> Lawrence N.M Kazembe
> Mathematical Sciences Department
> Chancellor College
> University of Malawi
> P.O. Box 280
> Zomba
> Malawi
>
> Tel: (265) 524 222 ext 284
> Fax: (265) 524 046
> e-mail: lkazembe at chirunga.sdnp.org.mw
> url: kazembe.cjb.net
>       kazembe.tsx.org
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: krcabrer.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: Card for Kenneth Cabrera
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010831/a3d89f0e/krcabrer.vcf

From phgrosje at ulb.ac.be  Fri Aug 31 14:54:50 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 31 Aug 2001 14:54:50 +0200
Subject: [R] Novice User Manual
In-Reply-To: <5.1.0.14.2.20010830231626.00a44b60@mail.neksus.com>
Message-ID: <MABBLJDICACNFOLGIHJOMEGHCFAA.phgrosje@ulb.ac.be>

Look at R manuals in pdf format included with the distribution for an
initiation. CRAN has also some contributed introduction to R in different
languages (http://cran.r-project.org, then -> Documentation -> Manuals
and -> Documentation -> Contributed).

Philippe Grosjean



>Dear R users,

>         I'm a new user of R : in fact , i hadn't used R yet. To say the
>truth , I'm used to with graphical interface of windows environment. so R
>console reminds me Linux , of which i am afraid of much more. Whatever , i
>like to learn about the 7 topics below of "R" or "S+4.5" [is there any
>other similar program like these ?]. Thats why i need some documentation
>[preferably at PDF file formate]. Can you please provide me web link
>addresses where can i find documentation about the topics below :
>         1. running R or S-plus in windows environment
>         2. Vectors and Matrices
>         3. Reading and Sorting data and listing data
>         4. Plotting and graphics
>         5. Functions
>         6. Programming for Statistical computation
>         7. Estimation of the parameters of different models using
>Newton-Raphson method
>         it would be a great help if i can get effective and nicely written
>tutorials to learn it quickly. I also need to know if i need any packages
>to learn about the topics above which is not included at R-1.3.0 or S+4.5
>by default. I look forward to you for your valuable suggestions about "R"
>or "S+" about any thing that you want to suggest.

>NB: where should i mail  : R-help at stat.math.ethz.ch or
>at  r-help at lists.R-project.org to reach R-help ? since i'm not sure about
>it : i mail at both addresses. Forgive me if it is cross-posted.


>Best regards,


>_______________________
>Mohammad Ehsanul karim
>Email : isrtdu at yahoo.com
>Voice : 880 - 02 - 9870390
>[7-10 PM at GMT +06:00 ]
>_______________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Aug 31 20:59:07 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 31 Aug 2001 14:59:07 -0400
Subject: [R] contrasts in lm
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED78@groexmbcr02.pfizer.com>

Thanks Brian, 

Reading MASS 6.2 really helped.  I've now written a function, contrast.lm,
that does what I want:

	> y _ rnorm(100)
	> x _  cut(rnorm(100, mean=y, sd=0.25),c(-3,-1.5,0,1.5,3))
	> reg _ lm(y ~ x, contrasts=list(x=contr.sum))
	>
	> # contrast mean of 1st group vs mean of 4th group
	> contrast.lm(reg, x, c(1,0,0,-1) )
	                  Estimate Std. Error   t value Pr(>|t|)
	x c=( 1 0 0 -1 ) -3.615228  0.2841731 -12.72192        0
	> # estimate should be equal to:
	> gm[1] - gm[4]
	(-3,-1.5] 
	-3.615228 
	> contrast.lm(reg,x,cmat)
	            Estimate Std. Error  t value Pr(>|t|)
	x1 vs 4     3.615228  0.2841731 12.72192        0
	x1+2 vs 3+4 2.500153  0.1504516 16.61766        0
	x1 vs 2+3+4 2.563423  0.2406548 10.65187        0
	> 


A primary purpose for writing this function is to let my colleagues are used
to SAS specify contrasts in a familiar way.  I'm attaching the code to
contrast.lm() below in case it might be useful to someone else.  I'll also
include it in the next version of the gregmisc library.  Comments or
suggestions welcome.

-Greg

-----R code below this line--------
# Function to compute (and test) arbitrary contrasts for regression objects
# Usage:
# 
# y _ rnorm(100)
# x _  cut(rnorm(100, mean=y, sd=0.25),c(-3,-1.5,0,1.5,3))
# reg _ lm(y ~ x, contrasts=list(x=contr.sum))#
#
# contrast.lm(reg, x, c(1,0,0,-1) )  # one contrast
# 
# cmat <- rbind( "1 vs 4"    =c(-1  , 0  , 0  , 1  ),
#                "1+2 vs 3+4"=c(-1/2,-1/2, 1/2, 1/2),
#                "1 vs 2+3+4"=c(-3/3, 1/3, 1/3, 1/3))
# contrast.lm(reg,x,cmat) # set of contrasts
#

contrast.lm _ function(reg, varname, coeff)
{
  # make sure we have the NAME of the variable
  if(!is.character(varname))
     varname <- deparse(substitute(varname))

  # make coeff into a matrix 
  if(!is.matrix(coeff))
       coeff <- matrix(coeff, nrow=1)

  # make sure columns are labeled
  if (is.null(rownames(coeff)))
     {
       rn <- vector(length=nrow(coeff))
       for(i in 1:nrow(coeff))
          rn[i] <- paste(" c=(",paste(coeff[i,],collapse=" "), ")")
       rownames(coeff) <- rn
     }

  # now convert into the proper form for the contrast matrix
  cmat <- ginv(coeff)  # requires library(MASS)
  colnames(cmat) <- rownames(coeff)
  
  # call lm with the specified contrast
  m <- reg$call
  if(is.null(m$contrasts))
    m$contrasts <- list()
  m$contrasts[[varname]] <- cmat
  r <- eval(m, parent.frame())
	
  # now return the correct elements ....
  retval <- coef(summary(r))

  rn <- paste(varname,rownames(coeff),sep="")
  ind <- match(rn,rownames(retval))

  retval[ind,,drop=F]
}


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Aug 22 15:40:46 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 23 Aug 2001 01:40:46 +1200
Subject: [R] Error calling Fortran code
In-Reply-To: <945D7ABABF6AFB43877CAFC1B123260F07607E@SRVMAIL2>; from RGIORGI@mail.ap-hm.fr on Wed, Jan 30, 2002 at 11:35:15AM +0100
References: <945D7ABABF6AFB43877CAFC1B123260F07607E@SRVMAIL2>
Message-ID: <20010823014045.A3684@camille.indigoindustrial.co.nz>

> I have to use a R function which call a Fortran code:
> result <- .Fortran("Name", arguments)
> 
> I have the following error message:
> R> Error in .Fortran("Name", arguments ....
> R>         C/Fortran function name not in load table
> 
> Any ideas?

?dyn.load

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


