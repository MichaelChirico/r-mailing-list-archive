From s-luppescu at uchicago.edu  Fri Jun  1 01:12:54 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Thu, 31 May 2001 18:12:54 -0500 (CDT)
Subject: [R] Trimming blanks from the ends of strings
Message-ID: <XFMail.20010531181254.s-luppescu@uchicago.edu>

This is pretty mundane, but I much appreciate the help. I have character
variables that I have read in from 40-character-wide fields. I want to remove
the spaces from the ends so I can use them right justified (adj=1) as labels on
the vertical axis of a graph. 

Thanks.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
Man is a military animal, glories in gunpowder, and loves parade.
                -- P.J. Bailey
>> Sent on 31-May-2001 at 18:01:39 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Jun  1 01:27:58 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 1 Jun 2001 11:27:58 +1200
Subject: [R] windows nt/access other directories/ attach/system
Message-ID: <200105312328.f4VNSLL20478@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
As recommended, I keep separate directories for projects, but also use 
separate sub-directories for types of data (e.g. different oceanographic 
instruments) within projects. 

My problem is that I often need to access the objects and data (not 
stored as objects) in more than one directory.

I understand (mistakenly?) that at present you cannot use attach() with 
directories, just with objects and packages. Also I think 
system("command") is for the UNIX environment. System("cd ..") gives 
me an error under Windows NT. Obviously it is inconvenient to quit R and 
restart in the other directory, and messy to combine the "instrument sub-
directories" into a giant "project directory".

Do you have a suggestion of how to proceed, other than keeping my 
data as objects (I generally prefer to keep my data as text files so I can 
access them with Matlab when I need to).

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun  1 02:01:10 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 31 May 2001 17:01:10 -0700 (PDT)
Subject: [R] windows nt/access other directories/ attach/system
In-Reply-To: <200105312328.f4VNSLL20478@storm.niwa.cri.nz>
Message-ID: <Pine.A41.4.33.0105311657110.184330-100000@homer01.u.washington.edu>

On Fri, 1 Jun 2001, S.McClatchie wrote:
> As recommended, I keep separate directories for projects, but also use
> separate sub-directories for types of data (e.g. different oceanographic
> instruments) within projects.
>
> My problem is that I often need to access the objects and data (not
> stored as objects) in more than one directory.
>
> I understand (mistakenly?) that at present you cannot use attach() with
> directories, just with objects and packages. Also I think
> system("command") is for the UNIX environment. System("cd ..") gives
> me an error under Windows NT.

system() does work under Windows, but system("cd ..") wouldn't change the
working directory even under Unix. setwd() is for changing directories.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jun  1 03:15:37 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 01 Jun 2001 13:15:37 +1200
Subject: [R] Trimming blanks from the ends of strings
References: <XFMail.20010531181254.s-luppescu@uchicago.edu>
Message-ID: <3B16ECB9.A82833FC@stat.auckland.ac.nz>

s-luppescu at uchicago.edu wrote:
> 
> This is pretty mundane, but I much appreciate the help. I have character
> variables that I have read in from 40-character-wide fields. I want to remove
> the spaces from the ends so I can use them right justified (adj=1) as labels on
> the vertical axis of a graph.

Something like

  sub("^  *", "", sub("  *$", "", x))

should do the trick.  E.g.

  > sub("^  *", "", sub("  *$", "", "  padded  "))
  [1] "padded"


-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Jun  1 04:16:44 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 1 Jun 2001 10:16:44 +0800
Subject: [R] Trimming blanks from the ends of strings
In-Reply-To: <XFMail.20010531181254.s-luppescu@uchicago.edu>; from s-luppescu@uchicago.edu on Thu, May 31, 2001 at 06:12:54PM -0500
References: <XFMail.20010531181254.s-luppescu@uchicago.edu>
Message-ID: <20010601101643.A1002@camille.indigoindustrial.co.nz>

> I want to remove
> the spaces from the ends so I can use them right justified (adj=1) as labels on
> the vertical axis of a graph. 

gsub("[ ]*$","",my.data.object)

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 08:39:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Jun 2001 07:39:36 +0100 (BST)
Subject: [R] windows nt/access other directories/ attach/system
In-Reply-To: <200105312328.f4VNSLL20478@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0106010732270.22278-100000@auk.stats>

On Fri, 1 Jun 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> R version rw1022 on NT
> ESS v. 5.1.18 using emacs ver. 20.4
>
> ----------------------------------
> As recommended, I keep separate directories for projects, but also use
> separate sub-directories for types of data (e.g. different oceanographic
> instruments) within projects.
>
> My problem is that I often need to access the objects and data (not
> stored as objects) in more than one directory.
>
> I understand (mistakenly?) that at present you cannot use attach() with
> directories, just with objects and packages. Also I think

attach only concerns the search path for objects.

> system("command") is for the UNIX environment. System("cd ..") gives
> me an error under Windows NT. Obviously it is inconvenient to quit R and

False.  system() is also under NT, and if cd is in your path under NT it
works.  It just doesn't (NT or Unix) change directory for the R process.

> restart in the other directory, and messy to combine the "instrument sub-
> directories" into a giant "project directory".
>
> Do you have a suggestion of how to proceed, other than keeping my
> data as objects (I generally prefer to keep my data as text files so I can
> access them with Matlab when I need to).

Try help(setwd).  Or use the File | Change dir menu item on Rgui.

> help.search("directory")
Help files with alias or title matching `directory':
Type `?FOO' to inspect entry `FOO(PKG) TITLE'.

getwd(base)        Get or Set Working Directory
list.files(base)   List the Files in a Directory/Folder
R.home(base)       Return the R Home Directory
RHOME(base)        R Home Directory

might have been helpful.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Janne.Pitkaniemi at ktl.fi  Fri Jun  1 09:02:01 2001
From: Janne.Pitkaniemi at ktl.fi (Janne =?iso-8859-1?Q?Pitk=E4niemi?=)
Date: Fri, 01 Jun 2001 10:02:01 +0300
Subject: [R] R and SAS
References: <3B163FDD.D6169D89@ktl.fi> <6rd78ps4jz.fsf@franz.stat.wisc.edu>
Message-ID: <3B173DE9.1699E89C@ktl.fi>

Here are the first few lines  from the transport file and it looks like the line
size is 80.

HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000
SAS     SAS     SASLIB  6.12    VMS_AXP                         01JUN01:09:48:41
01JUN01:09:48:41
HEADER RECORD*******MEMBER  HEADER RECORD!!!!!!!000000000000000001600000000140
HEADER RECORD*******DSCRPTR HEADER RECORD!!!!!!!000000000000000000000000000000
SAS     DATA2000SASDATA 6.12    VMS_AXP                         01JUN01:09:48:41
01JUN01:09:48:41
HEADER RECORD*******NAMESTR HEADER RECORD!!!!!!!000000010300000000000000000000



Douglas Bates wrote:

> Janne Pitk?niemi <Janne.Pitkaniemi at ktl.fi> writes:
>
> >     I'm trying to read SAS-data on VAX/VMS to Windows R using
> >     foreign pakage read.xport and experience some problems.
> >
> >     Following lines are used in SAS to create XPORT file
> >
> >      LIBNAME a ''xxx;
> >      LIBNAME b XPORT '';
> >
> >      PROC COPY IN=a OUT=b;
> >
> >      RUN;
> >
> >    and I succeed in getting file that looks like correct xport
> > file.However
> >    when typing in R following lines
> >
> >   read.xport("htpa2000.txt")
> >
> >   I get message
> >
> >  Error in lookup.xport(file) : SAS transfer file has incorrect library
> > header
> >
> >  Does anyone has advice ? Is the problem in VAX/VMS SAS XPORT file ?
>
> Can you send us the first 160 characters of the file?  It is supposed to be
> in text format (more or less) and should look something like
>
> HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  7.00    OSF1
> It does not contain any carriage returns or line feeds.
>
> This is what SAS claims in their documentation is the correct initial line
> in the XPORT format.  Hence this is what we check for.
>
> What SAS actually creates is often different.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Janne.Pitkaniemi.vcf
Type: text/x-vcard
Size: 401 bytes
Desc: Card for Janne =?iso-8859-1?Q?Pitk=E4niemi?=
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010601/01ed211a/Janne.Pitkaniemi.vcf

From axelio at tin.it  Fri Jun  1 08:52:20 2001
From: axelio at tin.it (Alessio Farcomeni)
Date: Fri, 01 Jun 2001 08:52:20 +0200
Subject: [R] environments
In-Reply-To: <200105310201.EAA28725@stat.math.ethz.ch>
Message-ID: <3.0.6.32.20010601085220.00a60e20@box4.tin.it>

>Date: Wed, 30 May 2001 17:40:34 -0400
>From: Setzer.Woodrow at epamail.epa.gov
>Subject: [R] environments
>
>I would like to be able, inside a function, to create a new function, and
>use it as part of a formula as an argument to, say, gnls or nlme.  for
>example:
>
>MyTop <- function(data=dta) {
>     Cexp <- function(dose,A,B,m){...}
>     Model <- as.formula(paste("y","~ Cexp(",paste(formals(Cexp),collapse
>=", "),")"))
>     MyCall <- call("gnls",Model,dta,...)
>     eval(MyCall)
>}
>When I actually try this, I get an error return with the message "Cexp not
>found".  Is there a way around this?  I know I can use "Cexp <<- ...", but
>I'm trying to find a "clean" solution.  Thanks.

I don't have your problems, usually I can define functions inside functions
without problems. Maybe it's the R version... However, perhaps you can
simply define the function Cexp out of MyTop, thus having it visible
"globally". Try this:

Cexp <- function(dose,A,B,m){...}

MyTop <- function(data=dta) {
     Model <- as.formula(paste("y","~ Cexp(",paste(formals(Cexp),collapse
=", "),")"));
     MyCall <- call("gnls",Model,dta,...);
     eval(MyCall)
}

Bye,
Alessio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Janne.Pitkaniemi at ktl.fi  Fri Jun  1 11:06:47 2001
From: Janne.Pitkaniemi at ktl.fi (Janne =?iso-8859-1?Q?Pitk=E4niemi?=)
Date: Fri, 01 Jun 2001 12:06:47 +0300
Subject: [R] R and SAS
References: <3B163FDD.D6169D89@ktl.fi> <6rd78ps4jz.fsf@franz.stat.wisc.edu>
Message-ID: <3B175B26.B39DE03B@ktl.fi>

Thank you for the comments. It turned out that I can use SAS 8.1 for VAX/VMS and  set these lines to create XPORT file

    LIBNAME a v8 '';
    libname b XPORT '';

     PROC COPY IN=a OUT=b;

     RUN;

and the first lines of the file looked very different indeed. Any comments ?
Does updated version of SAS produce different transport file ?
I'm sure read.xport does not read this file.

Janne







Douglas Bates wrote:

> Janne Pitk?niemi <Janne.Pitkaniemi at ktl.fi> writes:
>
> >     I'm trying to read SAS-data on VAX/VMS to Windows R using
> >     foreign pakage read.xport and experience some problems.
> >
> >     Following lines are used in SAS to create XPORT file
> >
> >      LIBNAME a ''xxx;
> >      LIBNAME b XPORT '';
> >
> >      PROC COPY IN=a OUT=b;
> >
> >      RUN;
> >
> >    and I succeed in getting file that looks like correct xport
> > file.However
> >    when typing in R following lines
> >
> >   read.xport("htpa2000.txt")
> >
> >   I get message
> >
> >  Error in lookup.xport(file) : SAS transfer file has incorrect library
> > header
> >
> >  Does anyone has advice ? Is the problem in VAX/VMS SAS XPORT file ?
>
> Can you send us the first 160 characters of the file?  It is supposed to be
> in text format (more or less) and should look something like
>
> HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  7.00    OSF1
> It does not contain any carriage returns or line feeds.
>
> This is what SAS claims in their documentation is the correct initial line
> in the XPORT format.  Hence this is what we check for.
>
> What SAS actually creates is often different.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Janne.Pitkaniemi.vcf
Type: text/x-vcard
Size: 401 bytes
Desc: Card for Janne =?iso-8859-1?Q?Pitk=E4niemi?=
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010601/200c0eb7/Janne.Pitkaniemi.vcf

From wsi at gcal.ac.uk  Fri Jun  1 11:14:24 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 1 Jun 2001 10:14:24 +0100 (BST)
Subject: [R] nls works but not gnls
Message-ID: <Pine.LNX.4.10.10106010946010.20621-100000@localhost.localdomain>

This works fine:
fit42<-nls(Vfs~SSlogis(Months,Asym.Int+Asym.Group*Groupdum,xmid,scal),
data=df,
start=c(Asym.Int=22,Asym.Group=5,xmid=2,scal=6),
na.action=na.omit)

But this, identical except using gnls, doesn't converge:
fit43<-gnls(Vfs~SSlogis(Months,Asym.Int+Asym.Group*Groupdum,xmid,scal),
data=df,
start=c(Asym.Int=22,Asym.Group=5,xmid=2,scal=6),
na.action=na.omit)

Error in gnls(Vfs ~ SSlogis(Months, Asym.Int + Asym.Group * Groupdum,  : 
        Step halving factor reduced below minimum in NLS step
I tried adding
,control=list(minScale=.0001))
But get the same lack-of-convergence message. Any ideas on how to fix this
and why gnls is finickier than nls?

I use a good starting point  about equal to the final param values nls
gives. The logistic function does indeed give a decent fit to the data.

I need gnls instead of nls because I eventually want to add
corr=corCAR1(form=~Months|Subject)

Suppose I have highly autocorrelated errors but ignore
that (as in nls fit). How much would you trust the nls estimates of the
fitted parameters? What does taking account of the autocorr buy me?
BTW I already tried nlme and had similar problems so I wound up fitting
lme quadratic model. I think I would be distorting reality less by
ignoring the autocorr &/or random effects (nls fit) than I am by
paying attention to autocorr & random effects but fitting a polynomial
that bears no relation to the mechanism generating the data (it clearly
will be a function that approaches an asymptote). The gnls fit would be
good because it pays attention to autocorr errors and allows me to fit
realistic nonlinear curve (although it ignores random effects).

Thanks for any help!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jun  1 13:08:34 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 1 Jun 2001 12:08:34 +0100
Subject: [R] peaks
In-Reply-To: <3B14F620.25982.10CCED0@localhost>
References: <3B14F620.25982.10CCED0@localhost>
Message-ID: <zLsUadAye3F7EwLX@myatt.demon.co.uk>

Petr Pikal <petr.pikal at precheza.cz> writes:
>I have posted similar question few weeks ago and I have got a short 
>response from prof. Ripley. I transformed it into this function:
>
>peaks_function(series,span=3)
>{
>z <- embed(series, span)
>result_max.col(z) == 1 + span %/% 2
>result
>}

Where does the embed() function come from?

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 14:22:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Jun 2001 13:22:08 +0100 (BST)
Subject: [R] peaks
In-Reply-To: <zLsUadAye3F7EwLX@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.31.0106011321020.10088-100000@gannet.stats>

On Fri, 1 Jun 2001, Mark Myatt wrote:

> Petr Pikal <petr.pikal at precheza.cz> writes:
> >I have posted similar question few weeks ago and I have got a short
> >response from prof. Ripley. I transformed it into this function:
> >
> >peaks_function(series,span=3)
> >{
> >z <- embed(series, span)
> >result_max.col(z) == 1 + span %/% 2
> >result
> >}
>
> Where does the embed() function come from?

package ts:

> help.search("embed")
Help files with alias or title matching `embed':
Type `?FOO' to inspect entry `FOO(PKG) TITLE'.

embed(ts)   Embedding a Time Series


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Jun  1 15:02:28 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 01 Jun 2001 15:02:28 +0200
Subject: [R] Read to the end of a stream (package Rstreams)
Message-ID: <3B179264.17BC4740@psy.uni-muenchen.de>

Hi there,

I want to read all data from a binary file (with package Rstreams). I
tried the following function (small piece of code):

readdata <- function (file) {
    # open file
    s <- openstream(file, "read")
	
    # read int values 
    while (s$position <= s$size) {
    readint(s, 1, 2) -> type
    [...]
    }

 return()
}

and got the following error:

> Error in while (s$position <= s$size) { : missing value where logical needed

Is it possible to read data from the start to the finish of a stream?

Thanks,
Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jun  1 15:21:41 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 1 Jun 2001 15:21:41 +0200
Subject: [R] multiple lattice-pages (development package!)...
Message-ID: <20010601152140.B20826@rzpool08.rz.tu-bs.de>

One Question: if I make a lattice-plot  (beware: under development!) with
a special layout e.g. c(2,2,4):

p1 <- xyplot(y~x|id,data=data,layout=c(2,2,3))

is there a way to print.trellis e.g. the second page of the trellis 
object "p1"?

print.trellis(p1,page=2) #!wrong!

 
I want this to automatically dev.print the pages (no, I don't want multiple
postscript pages). If this isn't possible I'll do the old trick
with a for-loop...

Thanks
Peter


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  1 15:44:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Jun 2001 15:44:10 +0200
Subject: [R] Read to the end of a stream (package Rstreams)
In-Reply-To: Sven Garbade's message of "Fri, 01 Jun 2001 15:02:28 +0200"
References: <3B179264.17BC4740@psy.uni-muenchen.de>
Message-ID: <x2vgmgxql1.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi there,
> 
> I want to read all data from a binary file (with package Rstreams). I
> tried the following function (small piece of code):
> 
> readdata <- function (file) {
>     # open file
>     s <- openstream(file, "read")
> 	
>     # read int values 
>     while (s$position <= s$size) {
>     readint(s, 1, 2) -> type
>     [...]
>     }
> 
>  return()
> }
> 
> and got the following error:
> 
> > Error in while (s$position <= s$size) { : missing value where logical needed
> 
> Is it possible to read data from the start to the finish of a stream?

Yes, but not like that. s does not have the position and size
components; only summary(s) has those. So

while (summary(s)$position < summary(s)$size) {...}

would do it (note: at "==", you're at the end). However, it would be
more natural to use the fact that readint returns numeric(0) on EOF:

while ( length(type <- readint(s, 1, 2)) )
{
	...
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Jun  2 00:34:31 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 1 Jun 2001 18:34:31 -0400 (EDT)
Subject: [R] Cluster process
In-Reply-To: <3B156F43.A794B75C@sci.osaka-cu.ac.jp>
Message-ID: <Pine.LNX.4.30.0106011833180.11955-100000@bolker.zoo.ufl.edu>


  I'm not sure if someone answered this, but I think there is something
within the spatial package (part of the VR bundle) that does this.  (If
not, I would say it's pretty easy to write yourself, but maybe that's
unfair.)

  Ben Bolker

On Thu, 31 May 2001, Takashi Mizuno wrote:

> Dear all,
>
> Is there a function to generate a Poisson cluster process?
> I believe that S-plus has a function to generate some point processes,
> make.pattern(), which include a Poisson cluster process.
>
> Thanks in advance
>
> ------------------------
> Takashi Mizuno
> zoono at sci.osaka-cu.ac.jp
> Plant Ecology Lab.
> Osaka City University
> ------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 16:16:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Jun 2001 15:16:24 +0100 (BST)
Subject: [R] multiple lattice-pages (development package!)...
In-Reply-To: <20010601152140.B20826@rzpool08.rz.tu-bs.de>
Message-ID: <Pine.LNX.4.31.0106011510180.9137-100000@gannet.stats>

On Fri, 1 Jun 2001, Peter Malewski wrote:

> One Question: if I make a lattice-plot  (beware: under development!) with
> a special layout e.g. c(2,2,4):
>
> p1 <- xyplot(y~x|id,data=data,layout=c(2,2,3))
>
> is there a way to print.trellis e.g. the second page of the trellis
> object "p1"?
>
> print.trellis(p1,page=2) #!wrong!
>
>
> I want this to automatically dev.print the pages (no, I don't want multiple

That is *not* a good idea.  Trellis plots should have defaults which
depend on the device (I don't think lattice does yet) and so should not be
copied between devices as dev.print does.  Rather, just print to
the device you want to use, or print multiply to multiple devices.

As just one example, trellis uses cyan on grey on a screen, and blue (I
think) on white on a paper device.

> postscript pages). If this isn't possible I'll do the old trick
> with a for-loop...

There is no way to do this in Trellis, at least.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jun  1 16:45:28 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 1 Jun 2001 16:45:28 +0200
Subject: [R] multiple lattice-pages (development package!)...
In-Reply-To: <Pine.LNX.4.31.0106011510180.9137-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Fri, Jun 01, 2001 at 03:16:24PM +0100
References: <20010601152140.B20826@rzpool08.rz.tu-bs.de> <Pine.LNX.4.31.0106011510180.9137-100000@gannet.stats>
Message-ID: <20010601164527.A2001@rzpool08.rz.tu-bs.de>

On Fri, Jun 01, 2001 at 03:16:24PM +0100, Prof Brian D Prof Brian D Ripley wrote:
> > postscript pages). If this isn't possible I'll do the old trick
> > with a for-loop...
> 
> There is no way to do this in Trellis, at least.

There is no way inside trellis, but outside:


for(i in seq(1,length(unique(scl.unter$id)),by=12)){
  tmp <- unique(scl.unter$id)[i:(i+11)]
  print.trellis(xyplot(data~Time|Id,
                       subset=id%in%tmp,
                       data=scl.unter,xlab="Time",ylab="Freq",
                       as.table=T,layout=c(4,3)
                       )
                )
  dev.print(jpeg,paste("c:/temp/tmp",i,".jpg",sep=""),width=1000,height=1000)
}

O.k. if I write a wrapper-function this would not look so chaotic. 


Thanks for your answer
Peter
 

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 16:49:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Jun 2001 15:49:50 +0100 (BST)
Subject: [R] multiple lattice-pages (development package!)...
In-Reply-To: <20010601164527.A2001@rzpool08.rz.tu-bs.de>
Message-ID: <Pine.LNX.4.31.0106011546490.1007-100000@gannet.stats>

On Fri, 1 Jun 2001, Peter Malewski wrote:

> On Fri, Jun 01, 2001 at 03:16:24PM +0100, Prof Brian D Prof Brian D Ripley wrote:
> > > postscript pages). If this isn't possible I'll do the old trick
> > > with a for-loop...
> >
> > There is no way to do this in Trellis, at least.
>
> There is no way inside trellis, but outside:
>
>
> for(i in seq(1,length(unique(scl.unter$id)),by=12)){
>   tmp <- unique(scl.unter$id)[i:(i+11)]
>   print.trellis(xyplot(data~Time|Id,
>                        subset=id%in%tmp,
>                        data=scl.unter,xlab="Time",ylab="Freq",
>                        as.table=T,layout=c(4,3)
>                        )
>                 )
>   dev.print(jpeg,paste("c:/temp/tmp",i,".jpg",sep=""),width=1000,height=1000)
> }

That is *not* the same thing.  It replaces one Trellis plot by a series
of plots, and loses some of the overall calculations (for example of
common scales).

BTW: when I said Trellis, I meant the original not lattice.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jun  1 16:58:57 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 1 Jun 2001 16:58:57 +0200
Subject: [R] multiple lattice-pages (development package!)...
In-Reply-To: <Pine.LNX.4.31.0106011546490.1007-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Fri, Jun 01, 2001 at 03:49:50PM +0100
References: <20010601164527.A2001@rzpool08.rz.tu-bs.de> <Pine.LNX.4.31.0106011546490.1007-100000@gannet.stats>
Message-ID: <20010601165856.A2901@rzpool08.rz.tu-bs.de>

On Fri, Jun 01, 2001 at 03:49:50PM +0100, Prof Brian D Prof Brian D Ripley wrote:
> That is *not* the same thing.  It replaces one Trellis plot by a series
> of plots, and loses some of the overall calculations (for example of
> common scales).

Oh I haven't metioned that! In my case there is no much harm because the
plots that I'm currently making runs with scales=list(relation="free")...

> BTW: when I said Trellis, I meant the original not lattice.

Is there a principal difference between lattice ans trellis except that
the grid functions are so diffend an thus the panel-functions? 

Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Jun  1 17:24:07 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 1 Jun 2001 12:24:07 -0300
Subject: [R] nls works but not gnls
References: <Pine.LNX.4.10.10106010946010.20621-100000@localhost.localdomain>
Message-ID: <005101c0eaae$e6ffb260$ae54fea9@nautilus>

Hello,

I had a similar problem with using gnls with a three-column data.frame like
this (Li is a
back-calculated length at age for each fish):

 Fish      Age            Li
 1          1            110.17
 1          2            143.61
 1          3            180.47
 1          4            218.97
 1          5            257.12
 1          6            299.22
 1          7            328.16
 2          1            100.36
 2          2            131.09
 2          3            171.42
 2          4            213.08
 ..

Writing:

 vbmale <- gnls(Li ~ Linf*(1-exp(-K*(Age-t0))), data=male, params= Linf +K +
t0 ~ 1, start=list(Linf=1000,K=0.1,t0=0), control = list(returnObject = T),
corr = corAR1(form=~Age|Fish))

I got:

 Error in [<-.factor(*tmp*, , value = grpShrunk[revOrderShrunk]) : Argument
 "i" is missing, with no default
 In addition: Warning message:
 Step halving factor reduced below minimum in NLS step in: gnls(Li ~ Linf
 *(1 - exp(-K * (Age - t0))), data = male, params = Linf +

Using the same data in S-Plus, a colleague of mine had the output:

 vbmale
Generalized nonlinear least squares fit
   Model: Li ~ Linf * (1 - exp( - K * (Age - t0)))
   Data: male
   Log-likelihood: -7515.22

 Coefficients:
     Linf          K                    t0
 1412.352      0.04403359   -0.6916286

 Correlation Structure: AR(1)
  Formula:  ~ Age| Fish
  Parameter estimate(s):
        Phi
  0.9660297
 Degrees of freedom: 1803 total; 1800 residual
 Residual standard error: 54.37347

Is there a bug? I would like to hear comments too.

Ant?nio Olinto
Fisheries Researcher
Instituto de Pesca (Fisheries Institute)
Sao Paulo - BRAZIL
aolinto at bignet.com.br
www.institutopesca.sp.gov.br

> This works fine:
> fit42<-nls(Vfs~SSlogis(Months,Asym.Int+Asym.Group*Groupdum,xmid,scal),
> data=df,
> start=c(Asym.Int=22,Asym.Group=5,xmid=2,scal=6),
> na.action=na.omit)
>
> But this, identical except using gnls, doesn't converge:
> fit43<-gnls(Vfs~SSlogis(Months,Asym.Int+Asym.Group*Groupdum,xmid,scal),
> data=df,
> start=c(Asym.Int=22,Asym.Group=5,xmid=2,scal=6),
> na.action=na.omit)
>
> Error in gnls(Vfs ~ SSlogis(Months, Asym.Int + Asym.Group * Groupdum,  :
>         Step halving factor reduced below minimum in NLS step
> I tried adding
> ,control=list(minScale=.0001))
> But get the same lack-of-convergence message. Any ideas on how to fix this
> and why gnls is finickier than nls?
>
> I use a good starting point  about equal to the final param values nls
> gives. The logistic function does indeed give a decent fit to the data.
>
> I need gnls instead of nls because I eventually want to add
> corr=corCAR1(form=~Months|Subject)
>
> Suppose I have highly autocorrelated errors but ignore
> that (as in nls fit). How much would you trust the nls estimates of the
> fitted parameters? What does taking account of the autocorr buy me?
> BTW I already tried nlme and had similar problems so I wound up fitting
> lme quadratic model. I think I would be distorting reality less by
> ignoring the autocorr &/or random effects (nls fit) than I am by
> paying attention to autocorr & random effects but fitting a polynomial
> that bears no relation to the mechanism generating the data (it clearly
> will be a function that approaches an asymptote). The gnls fit would be
> good because it pays attention to autocorr errors and allows me to fit
> realistic nonlinear curve (although it ignores random effects).
>
> Thanks for any help!
>
> Bill Simpson
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ypeng at math.mun.ca  Fri Jun  1 21:13:27 2001
From: ypeng at math.mun.ca (Paul Y. Peng)
Date: Fri, 01 Jun 2001 16:43:27 -0230
Subject: [R] Questions from a beginner.
Message-ID: <3B17E957.68F0DF59@math.mun.ca>

I have used S-PLUS for years. Now I am learning to use R in
Windows'98. I downloaded the latest version and installed it as
instructed. However, I cannot find answers from online help to the
following questions I encountered. If any of you has quick answers
to these questions, please drop me a couple of lines. Thanks.

1. Why does R change my working directory during a session? I often
used getwd() to check my working directory and surprisingly found
that it was changed, and the location it changes to is quite random.
Has anybody encountered this problem? It is very annoying to check
and set my working directory whenever I want to save my work.

2. I downloaded ESS-5.1.18 and installed it in NTEmacs-20.4. It works
fine with S-PLUS 2000. However, if I use it with R, it is very very
slow and takes more than one minute to see the R prompt after M-x R.
After that, it seems OK. Why?

3. From the online documents, I often see descriptions related to
Rcmd. But there is no file in the Windows distribution of R named
Rcmd. Is it renamed Rterm.exe in Windows?

Paul.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pavlicov at stat.ohio-state.edu  Fri Jun  1 21:16:58 2001
From: pavlicov at stat.ohio-state.edu (Martina Pavlicova)
Date: Fri, 1 Jun 2001 15:16:58 -0400 (EDT)
Subject: [R] Installing Rstreams lib
Message-ID: <Pine.SOL.4.33.0106011511360.18191-100000@spatial.stat.ohio-state.edu>


Dear R-helpers,

I am trying to install Rstreams library on the following platform:
----------------------------
platform alphaev67-dec-osf5.0
arch     alphaev67
os       osf5.0
system   alphaev67, osf5.0
status
major    1
minor    2.3
year     2001
month    04
day      26
language R
---------------------------

Unfortunately, I get these error messages:
---------------------------
> [557] R CMD INSTALL Rstreams_1.1-2.tar.gz
Installing source package `Rstreams' ...
creating cache ./config.cache
checking for ftruncate... yes
checking size of long double... 16
updating cache ./config.cache
creating ./config.status
creating src/config.h
 libs
gcc -I/usr/local/lib/R/include -DHAVE_CONFIG_H -I/usr/local/include -mieee
- -O2 -c Rstreams.c -o Rstreams.o
In file included from
/usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/includestdarg.h:36,
                 from /usr/local/lib/R/include/R_ext/Print.h:23,
                 from /usr/local/lib/R/include/R.h:50,
                 from Rstreams.c:21:
/usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/include/va-alpha.h:36:
warnin: redefinition of `va_list'
/usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/include/va_list.h:7:
warning:`va_list' previously declared here
Rstreams.c: In function `readfloat':
Rstreams.c:179: duplicate case value
Rstreams.c:173: this is the first entry for that value
Rstreams.c: In function `writefloat':
Rstreams.c:284: duplicate case value
Rstreams.c:278: this is the first entry for that value
make: *** [Rstreams.o] Error 1
ERROR: Compilation failed for package `Rstreams'
> [558]
--------------------------


Does anybody know what is wrong or what should I do?

Thank you very much for your help.

Martina Pavlicova
--------------------------------------------------------------------------
Department of Statistics             Office Phone: (614) 292-1567
1958 Neil Avenue, 304E Cockins Hall  FAX: (614) 292-2096
The Ohio State University            E-mail: pavlicov at stat.ohio-state.edu
Columbus, OH 43210-1247              www.stat.ohio-state.edu/~pavlicov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pavlicov at stat.ohio-state.edu  Fri Jun  1 21:33:42 2001
From: pavlicov at stat.ohio-state.edu (Martina Pavlicova)
Date: Fri, 1 Jun 2001 15:33:42 -0400 (EDT)
Subject: [R] Installation Rstream lib
Message-ID: <Pine.SOL.4.33.0106011531580.18191-100000@spatial.stat.ohio-state.edu>


About my previous e-mail:

I found a temporal fix to my problem by deleting some of the code in the C
source file.

Thanks,
Martina Pavlicova
--------------------------------------------------------------------------
Department of Statistics             Office Phone: (614) 292-1567
1958 Neil Avenue, 304E Cockins Hall  FAX: (614) 292-2096
The Ohio State University            E-mail: pavlicov at stat.ohio-state.edu
Columbus, OH 43210-1247              www.stat.ohio-state.edu/~pavlicov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 21:40:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Jun 2001 20:40:47 +0100 (BST)
Subject: [R] Installing Rstreams lib
In-Reply-To: <Pine.SOL.4.33.0106011511360.18191-100000@spatial.stat.ohio-state.edu>
Message-ID: <Pine.GSO.4.31.0106012032530.5279-100000@auk.stats>

On Fri, 1 Jun 2001, Martina Pavlicova wrote:

>
> Dear R-helpers,
>
> I am trying to install Rstreams library on the following platform:
> ----------------------------
> platform alphaev67-dec-osf5.0
> arch     alphaev67
> os       osf5.0
> system   alphaev67, osf5.0
> status
> major    1
> minor    2.3
> year     2001
> month    04
> day      26
> language R
> ---------------------------
>
> Unfortunately, I get these error messages:
> ---------------------------
> > [557] R CMD INSTALL Rstreams_1.1-2.tar.gz
> Installing source package `Rstreams' ...
> creating cache ./config.cache
> checking for ftruncate... yes
> checking size of long double... 16
> updating cache ./config.cache
> creating ./config.status
> creating src/config.h
>  libs
> gcc -I/usr/local/lib/R/include -DHAVE_CONFIG_H -I/usr/local/include -mieee
> - -O2 -c Rstreams.c -o Rstreams.o
> In file included from
> /usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/includestdarg.h:36,
>                  from /usr/local/lib/R/include/R_ext/Print.h:23,
>                  from /usr/local/lib/R/include/R.h:50,
>                  from Rstreams.c:21:
> /usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/include/va-alpha.h:36:
> warnin: redefinition of `va_list'
> /usr/local/lib/gcc-lib/alphaev6-dec-osf5.0/2.95.2/include/va_list.h:7:
> warning:`va_list' previously declared here
> Rstreams.c: In function `readfloat':
> Rstreams.c:179: duplicate case value
> Rstreams.c:173: this is the first entry for that value
> Rstreams.c: In function `writefloat':
> Rstreams.c:284: duplicate case value
> Rstreams.c:278: this is the first entry for that value
> make: *** [Rstreams.o] Error 1
> ERROR: Compilation failed for package `Rstreams'
> > [558]
> --------------------------
>
>
> Does anybody know what is wrong or what should I do?

Eh?  That code says

        case 8:
            if (read(*handle, &d1, size) <= 0) goto enddata;
            if (*swapbytes) swap(&d1, size);
            result[i] = d1;
            break;
#if SIZEOF_LONG_DOUBLE > 8
        case sizeof(long double):
            if (read(*handle, &e1, size) <= 0) goto enddata;
            if (*swapbytes) swap(&e1, size);
            result[i] = (double) e1;
            break;
#endif

and identical tests are used in the binary connections part of R itself,
where they presumably did work. You may need to edit the src/config.h file,
as it looks as if the configure script has got it wrong, and use R INSTALL
--no-configure.

Also there is very little that Rstreams can do that you cannot do as well
with binary connections in base R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  1 21:56:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Jun 2001 20:56:18 +0100 (BST)
Subject: [R] Questions from a beginner.
In-Reply-To: <3B17E957.68F0DF59@math.mun.ca>
Message-ID: <Pine.GSO.4.31.0106012050240.5279-100000@auk.stats>

Please do read the rw-FAQ: it is designed for beginners and answers these
questions (except 2, where it tells you that this is not the correct forum
for your question)!

On Fri, 1 Jun 2001, Paul Y. Peng wrote:

> I have used S-PLUS for years. Now I am learning to use R in
> Windows'98. I downloaded the latest version and installed it as
> instructed. However, I cannot find answers from online help to the
> following questions I encountered. If any of you has quick answers
> to these questions, please drop me a couple of lines. Thanks.
>
> 1. Why does R change my working directory during a session? I often
> used getwd() to check my working directory and surprisingly found
> that it was changed, and the location it changes to is quite random.
> Has anybody encountered this problem? It is very annoying to check
> and set my working directory whenever I want to save my work.
>
> 2. I downloaded ESS-5.1.18 and installed it in NTEmacs-20.4. It works
> fine with S-PLUS 2000. However, if I use it with R, it is very very
> slow and takes more than one minute to see the R prompt after M-x R.
> After that, it seems OK. Why?
>
> 3. From the online documents, I often see descriptions related to
> Rcmd. But there is no file in the Windows distribution of R named
> Rcmd. Is it renamed Rterm.exe in Windows?

No. Search for `Rcmd' in the rw-FAQ to find what you have missed (at least
three times).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jun  1 23:04:41 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Jun 2001 16:04:41 -0500
Subject: [R] nls works but not gnls
In-Reply-To: <005101c0eaae$e6ffb260$ae54fea9@nautilus>
References: <Pine.LNX.4.10.10106010946010.20621-100000@localhost.localdomain>
	<005101c0eaae$e6ffb260$ae54fea9@nautilus>
Message-ID: <6rk82vzzbq.fsf@franz.stat.wisc.edu>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> I had a similar problem with using gnls with a three-column data.frame like
> this (Li is a
> back-calculated length at age for each fish):
> 
>  Fish      Age            Li
>  1          1            110.17
>  1          2            143.61
>  1          3            180.47
>  1          4            218.97
>  1          5            257.12
>  1          6            299.22
>  1          7            328.16
>  2          1            100.36
>  2          2            131.09
>  2          3            171.42
>  2          4            213.08
>  ..
> 
> Writing:
> 
>  vbmale <- gnls(Li ~ Linf*(1-exp(-K*(Age-t0))), data=male, params= Linf +K +
> t0 ~ 1, start=list(Linf=1000,K=0.1,t0=0), control = list(returnObject = T),
> corr = corAR1(form=~Age|Fish))
> 
> I got:
> 
>  Error in [<-.factor(*tmp*, , value = grpShrunk[revOrderShrunk]) : Argument
>  "i" is missing, with no default
>  In addition: Warning message:
>  Step halving factor reduced below minimum in NLS step in: gnls(Li ~ Linf
>  *(1 - exp(-K * (Age - t0))), data = male, params = Linf +
> 
> Using the same data in S-Plus, a colleague of mine had the output:
> 
>  vbmale
> Generalized nonlinear least squares fit
>    Model: Li ~ Linf * (1 - exp( - K * (Age - t0)))
>    Data: male
>    Log-likelihood: -7515.22
> 
>  Coefficients:
>      Linf          K                    t0
>  1412.352      0.04403359   -0.6916286
> 
>  Correlation Structure: AR(1)
>   Formula:  ~ Age| Fish
>   Parameter estimate(s):
>         Phi
>   0.9660297
>  Degrees of freedom: 1803 total; 1800 residual
>  Residual standard error: 54.37347
> 
> Is there a bug? I would like to hear comments too.

Probably - but I just don't have time to debug it right now.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sat Jun  2 01:34:24 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 2 Jun 2001 09:34:24 +1000 (EST)
Subject: [R] multiple lattice-pages (development package!)...
Message-ID: <200106012334.JAA03133@leonard.anu.edu.au>

Pter Malewski wrote 

> On Fri, Jun 01, 2001 at 03:49:50PM +0100, Prof Brian D Prof Brian D
  Ripley wrote:

> > That is *not* the same thing.  It replaces one Trellis plot by a series
> > of plots, and loses some of the overall calculations (for example of
> > common scales).

> Oh I haven't metioned that! In my case there is no much harm because
> the plots that I'm currently making runs with
> scales=list(relation="free")...

> > BTW: when I said Trellis, I meant the original not lattice.  > >

> Is there a principal difference between lattice ans trellis except
> that the grid functions are so diffend an thus the panel-functions?

>From my brief look atthe lattice and grid libraries, it is
remarkable is how similar lattice() is to trellis() its
functions, while being very dissimilar underneath, mainly at
the level of the functions in the grid library.  This layering
means that user code that is written for trellis, and which
involves anything more than straightworward function calls, is
unlikely to carry directly across to lattice.  

There are however large benefits in the grid/lattice
separation of the code into layers.  The grid library can be a
basis for new graphics functions, or libraries, that greatly
extend lattice, or do quite different things from lattice.
The code in trellis is not layered in this way.  A consequence
is that it would be difficult and (perhaps even more
importantly) generate some pretty contorted code, if one were
to write another graphics library on top of trellis.  Paul
Murrell will probably think this so obvious that it is hardly
worth saying, but maybe it needs to be said.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pavlicov at stat.ohio-state.edu  Sat Jun  2 02:21:51 2001
From: pavlicov at stat.ohio-state.edu (Martina Pavlicova)
Date: Fri, 1 Jun 2001 20:21:51 -0400 (EDT)
Subject: [R] Installing Rstreams lib
In-Reply-To: <Pine.GSO.4.31.0106012032530.5279-100000@auk.stats>
Message-ID: <Pine.SOL.4.33.0106012012110.18191-100000@spatial.stat.ohio-state.edu>


I thank prof Ripley for prompt answer. I did delete the problem parts of
the code in the C source file, which worked, but it slightly altered the
library. I did not know that there is a possibility to use a binary
connections in base R.

Thanks for the help.

Martina Pavlicova
--------------------------------------------------------------------------
Department of Statistics             Office Phone: (614) 292-1567
1958 Neil Avenue, 304E Cockins Hall  FAX: (614) 292-2096
The Ohio State University            E-mail: pavlicov at stat.ohio-state.edu
Columbus, OH 43210-1247              www.stat.ohio-state.edu/~pavlicov


On Fri, 1 Jun 2001, Prof Brian D Ripley wrote:

> > Unfortunately, I get these error messages:
> > ---------------------------
> > > [557] R CMD INSTALL Rstreams_1.1-2.tar.gz
> > Rstreams.c: In function `readfloat':
> > Rstreams.c:179: duplicate case value
> > Rstreams.c:173: this is the first entry for that value
> > Rstreams.c: In function `writefloat':
> > Rstreams.c:284: duplicate case value
> > Rstreams.c:278: this is the first entry for that value
> > make: *** [Rstreams.o] Error 1
> > ERROR: Compilation failed for package `Rstreams'
> > > [558]
> > --------------------------
>
> Eh?  That code says
>
>         case 8:
>             if (read(*handle, &d1, size) <= 0) goto enddata;
>             if (*swapbytes) swap(&d1, size);
>             result[i] = d1;
>             break;
> #if SIZEOF_LONG_DOUBLE > 8
>         case sizeof(long double):
>             if (read(*handle, &e1, size) <= 0) goto enddata;
>             if (*swapbytes) swap(&e1, size);
>             result[i] = (double) e1;
>             break;
> #endif
>
> and identical tests are used in the binary connections part of R itself,
> where they presumably did work. You may need to edit the src/config.h file,
> as it looks as if the configure script has got it wrong, and use R INSTALL
> --no-configure.
>
> Also there is very little that Rstreams can do that you cannot do as well
> with binary connections in base R.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sat Jun  2 19:01:28 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sat, 2 Jun 2001 14:01:28 -0300
Subject: [R] nls works but not gnls
References: <Pine.LNX.4.10.10106010946010.20621-100000@localhost.localdomain><005101c0eaae$e6ffb260$ae54fea9@nautilus> <6rk82vzzbq.fsf@franz.stat.wisc.edu>
Message-ID: <002e01c0eb85$ab8a01e0$ae54fea9@nautilus>

Thanks for your reply Dr. Bates.

Please let me know when this function is debuged.

Best regards,

Ant?nio Olinto
Fisheries Researcher
Instituto de Pesca (Fisheries Institute)
Sao Paulo - BRAZIL
aolinto at bignet.com.br
www.institutopesca.sp.gov.br

----- Original Message -----
From: "Douglas Bates" <bates at stat.wisc.edu>
To: "Antonio Olinto" <aolinto at bignet.com.br>
Cc: <r-help at stat.math.ethz.ch>
Sent: Friday, June 01, 2001 6:04 PM
Subject: Re: [R] nls works but not gnls
...

> > Is there a bug? I would like to hear comments too.
>
> Probably - but I just don't have time to debug it right now.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Sat Jun  2 19:12:29 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Sat, 2 Jun 2001 19:12:29 +0200
Subject: [R] SOLVED: multiple lattice-pages (development package!)...
In-Reply-To: <20010601152140.B20826@rzpool08.rz.tu-bs.de>; from peter.malewski@gmx.de on Fri, Jun 01, 2001 at 03:21:41PM +0200
References: <20010601152140.B20826@rzpool08.rz.tu-bs.de>
Message-ID: <20010602191228.A26115@gmx.de>

Not seen at first reading, there is one arg in trellis.args:

  page: a function of one argument (page number) to be called after
          drawing each page. 


so something like:

xx <- data.frame(x=rnorm(100),y=rnorm(100),g=as.factor(round(rnorm(100))))
tmp <- 1
xyplot(y~x|g,data=xx,layout=c(1,1),page=
       function(...){
         dev.print(postscript
                   ,file=paste("/tmp/test",tmp,".ps",sep=""))
         tmp <<- tmp + 1
       }
       )

One big thank to the people, who provide "lattice" + "grid"!

Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Sat Jun  2 19:35:13 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Sat, 2 Jun 2001 19:35:13 +0200
Subject: [R] Re: SOLVED: multiple lattice-pages (development package!)...
In-Reply-To: <20010602191228.A26115@gmx.de>; from p.malewski@tu-bs.de on Sat, Jun 02, 2001 at 07:12:29PM +0200
References: <20010601152140.B20826@rzpool08.rz.tu-bs.de> <20010602191228.A26115@gmx.de>
Message-ID: <20010602193513.A26196@gmx.de>

On Sat, Jun 02, 2001 at 07:12:29PM +0200, Peter Malewski wrote:
This:
>          tmp <<- tmp + 1

is not nessary:

 xyplot(y~x|g,data=xx,layout=c(1,1,),page=
        function(x){
          dev.print(postscript
                    ,file=paste("/tmp/test",x,".ps",sep=""))
        }
        )
-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhurlin at gwdg.de  Sat Jun  2 21:59:16 2001
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Sat, 02 Jun 2001 21:59:16 +0200
Subject: [R] inout() in splancs working properly?
Message-ID: <3B194594.C0A01DA5@gwdg.de>

I have a problem with function 'inout()' in package 'splancs' on CRAN-R
Version 1.2.3 under FreeBSD4.3-STABLE.

The following script produces and draws points and a polygon-surrounded
area. Repeating the same script many times shows, that points on the
polygon-line often, but not always, are outside of the polygon-area.


    library(splancs)
    # dataset with polygon (convex hull)
    ds1 <- as.points(rnorm(10),rnorm(10))
    ds1.poly <- ds1[chull(ds1),]

    # plot area within convex hull
    plot(ds1, type="n")
    polymap(ds1.poly, border="lightblue", col="lightblue", lwd=1)

    # Next dataset in and out of first one
    ds2 <- as.points(rnorm(100),rnorm(100))

    points(ds2[inout(ds2,ds1.poly),],  col="green",  pch=20)
    points(ds2[!inout(ds2,ds1.poly),], col="orange", pch=20)

    points(ds1[inout(ds1,ds1.poly),],  col="black",  pch=20)
    points(ds1[!inout(ds1,ds1.poly),], col="red",    pch=20)


If points lay on the polygon-line, inout() tells sometimes they are
inside (black points), sometimes outside (red points) of the surrounded
(here ligthblue) area.

Same with another dataset, testing against the given polygon. Points
inside are shown in green, outside in orange color. Some of the orange
points must be green points?

Is my understanding of function inout() correct? I am looking for a
function, that gives all points inside the area, including points laying
on the polygon-line, as 'TRUE' or 'inside'.

I had a look at your source code at 'splancs/src/ipippa.f', but had not
been able to resolve my problem here. (Perhaps variable 'iwind' is not
modified correctly at all situations?)

It would be very nice, if you could give me a hint what I'm doing wrong
and how to solve my problem.

Excuse me for my weaky english. Many thanks in advance.

Rainer Hurling


-- 
Rainer Hurling, Ass. d. Fd.                  email: rhurlin at gwdg.de
Institut fuer Forstzoologie und Waldschutz   http://www.gwdg.de/~rhurlin
Georg-August Universitaet Goettingen         office: 0551 39-2291
Buesgenweg 3, D-37077 Goettingen, GERMANY    fax: 0551 39-2089
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun  3 01:00:45 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jun 2001 01:00:45 +0200
Subject: [R] nls works but not gnls
In-Reply-To: "Antonio Olinto"'s message of "Sat, 2 Jun 2001 14:01:28 -0300"
References: <Pine.LNX.4.10.10106010946010.20621-100000@localhost.localdomain> <005101c0eaae$e6ffb260$ae54fea9@nautilus> <6rk82vzzbq.fsf@franz.stat.wisc.edu> <002e01c0eb85$ab8a01e0$ae54fea9@nautilus>
Message-ID: <x2wv6ulc6a.fsf@blueberry.kubism.ku.dk>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> Thanks for your reply Dr. Bates.
> 
> Please let me know when this function is debuged.
...
> 
> > > Is there a bug? I would like to hear comments too.
> >
> > Probably - but I just don't have time to debug it right now.

You'd make it much easier by providing an example that can be used to
reproduce the behaviour. Or even debug it some of the way yourself.

Remember that free software is a collective endeavour: If everyone
contributes a little, everyone receives a lot. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sales at appointcenter.com  Sun Jun  3 12:56:02 2001
From: sales at appointcenter.com (Orbis)
Date: Sun, 3 Jun 2001 12:56:02 +0200 (MET DST)
Subject: [R] Can I schedule an appointment on-line?
Message-ID: <419.437045.28726157sales@appointcenter.com>

Can your customers make an appointment with you or reserve
your company's services on-line? 
 
Now, with AppointCenter.com, your customers can make 
appointments with you - ON-LINE and in REAL-TIME!  It's the
most convenient way to schedule!
 
For a small monthly fee, you can manage your scheduling 
from anywhere in the world using our highly sophisticated,
customizable scheduling system.  For less than $1 a day, 
you can give your customers and clients the convenience 
of a 24-hour receptionist. Best of all, you control every aspect
of your company's scheduling - from how appointments are 
taken to who appointments are taken for - all from our 
user-friendly management console.
 
Visit http://www.AppointCenter.com today to learn more about the 
advantages of on-line scheduling and to tour our free 
interactive demonstrations of the most convenient way to schedule.
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Jun  4 01:02:09 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sun, 03 Jun 2001 19:02:09 -0400
Subject: [R] Difficulty with R CMD INSTALL
Message-ID: <3B1AC1F1.632B18C4@virginia.edu>

I am running Linux Mandrake 7.2 with the following:

platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    2.3
year     2001
month    04
day      26
language R         

To build a package I ran R CMD build Hmisc, apparently with success:

* checking for file `Hmisc/DESCRIPTION' ... OK
* preparing `Hmisc':
* cleaning src
* checking whether `INDEX' is up-to-date ... NO
* use `--force' to overwrite the existing `INDEX'
* removing junk files
* building `Hmisc_1.0.tar.gz'

The source directory had a single large R source file under R
and many .Rd files under man.  It did not have a test directory,
and it have an extraneous s directory and an extraneous text
file in its root area.

Then I ran, under root, R CMD INSTALL Hmisc_1.0.tar.gz, and got:

Installing source package `Hmisc' ...
 libs
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -s -march=pentium
-ffast-math -fexpensive-optimizations -fno-fast-math -c cidxcn.f -o
cidxcn.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -s -march=pentium
-ffast-math -fexpensive-optimizations -fno-fast-math -c cidxcp.f -o
cidxcp.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -s -march=pentium
-ffast-math -fexpensive-optimizations -fno-fast-math -c hoeffd.f -o
hoeffd.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -s -march=pentium
-ffast-math -fexpensive-optimizations -fno-fast-math -c largrec.f -o
largrec.o
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp
-D__NO_MATH_INLINES  -fPIC  -O3 -fomit-frame-pointer -pipe -s
-march=pentium -ffast-math -fexpensive-optimizations -fno-fast-math -c
ranksort.c -o ranksort.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -s -march=pentium
-ffast-math -fexpensive-optimizations -fno-fast-math -c rcorr.f -o
rcorr.o
gcc -shared  -o Hmisc.so cidxcn.o cidxcp.o hoeffd.o largrec.o ranksort.o
rcorr.o -L/usr/local/lib  -lg2c -lm
-L/usr/lib/gcc-lib/i586-mandrake-linux/2.95.3
-L/usr/i586-mandrake-linux/lib -lm
 R
                                
At this point the install program became stuck.  It had created
/tmp/R.INSTALL.xxxx/Hmisc OK, apparently, with a file
Hmisc.so in Hmisc/src that appears valid, and several .o files.

I would appreciate advice on how to best debug this.
Thanks -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  4 08:23:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Jun 2001 07:23:18 +0100 (BST)
Subject: [R] Difficulty with R CMD INSTALL
In-Reply-To: <3B1AC1F1.632B18C4@virginia.edu>
Message-ID: <Pine.GSO.4.31.0106040709060.4152-100000@auk.stats>

On Sun, 3 Jun 2001 fharrell at virginia.edu wrote:

> I am running Linux Mandrake 7.2 with the following:
>
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    2.3
> year     2001
> month    04
> day      26
> language R
>
> To build a package I ran R CMD build Hmisc, apparently with success:
>
> * checking for file `Hmisc/DESCRIPTION' ... OK
> * preparing `Hmisc':
> * cleaning src
> * checking whether `INDEX' is up-to-date ... NO
> * use `--force' to overwrite the existing `INDEX'
> * removing junk files
> * building `Hmisc_1.0.tar.gz'
>
> The source directory had a single large R source file under R

With what extension?

At that point in the install process we have

    if test -d R; then
      echo " R"
      mkdir -p ${lib}/${pkg}/R
      cat `ls R/*.[RSqrs] R/unix/*.[RSqrs] 2>/dev/null` \
        > ${lib}/${pkg}/R/${pkg}
    fi


This will get stuck if there is an R directory, but the files in it
do not have extensions R S q r or s.  See section 1.1.3 of `Writing R
extensions' for the rules.

That's a bug (getting stuck) fixed in R-devel and hence will be fixed in
1.3.0: from the CVS logs

revision 1.61
date: 2001/05/03 07:18:41;  author: ripley;  state: Exp;  lines: +6 -4
INSTALL failed if dir R was empty or had no suitable files


As a more general comment, R CMD build is intended to be the last stage of
the process, used after R CMD check (which checks that installation works).
When developing a package I tend to INSTALL it several times and run a few
tests each time, then use R CMD check --no-clean to refine it (not
re-installing from scratch each time), and finally R CMD check then R CMD
build.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Mon Jun  4 14:13:29 2001
From: markhall at gol.com (Mark Hall)
Date: Mon, 4 Jun 2001 21:13:29 +0900
Subject: [R] question on bootstrapping mean and sd
Message-ID: <00c901c0ecf0$0bec0fe0$8714d8cb@01680437>

Not so much an R question, as a methodology one...

Dealing with some reviewers comments, one of the reviewers suggests
bootstrapping my group means and standard deviations since 2 of my 3 groups
have a small sample size.  My data is geochemical data, and a variety of
clustering methods finds 3 groups in the data.  One group has 50 members,
another group has 10 members and another group 12 members.  LDA with
cross-validation gives a 92% correct classification rate.

Anyway, my question is this---

WHat is the best or proper way to present the results of a bootsrapped mean
and standard deviation?  I ask this since looking through both Efron's and
Tibshirani's AN INTRODUCTION TO BOOTSTRAP, and Davison's and Hinkley's book
they don't necessarily address a question this simple.  I don't think the
editor is going to one to see 48 histograms (8 variables for 3 groups, mean
and standard deviation).

Or should I quit looking at boot and bootstrap, and just do the sample with
replacement that is in R, and calculate the mean and standard deviation from
there?

Any advice would be appreciated (particularly since I lost the argument with
the editor...).

Best, Mark Hall



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Mon Jun  4 14:14:00 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 4 Jun 2001 14:14:00 +0200 (CEST)
Subject: [R] inout() in splancs working properly?
In-Reply-To: <3B194594.C0A01DA5@gwdg.de>
Message-ID: <Pine.LNX.4.21.0106041400090.5549-100000@reclus.nhh.no>

Rainer:

On Sat, 2 Jun 2001, Rainer Hurling wrote:

> I have a problem with function 'inout()' in package 'splancs' on CRAN-R
> Version 1.2.3 under FreeBSD4.3-STABLE.
> 
> The following script produces and draws points and a polygon-surrounded
> area. Repeating the same script many times shows, that points on the
> polygon-line often, but not always, are outside of the polygon-area.
> 
> If points lay on the polygon-line, inout() tells sometimes they are
> inside (black points), sometimes outside (red points) of the surrounded
> (here ligthblue) area.
> 
> Is my understanding of function inout() correct? I am looking for a
> function, that gives all points inside the area, including points laying
> on the polygon-line, as 'TRUE' or 'inside'.
> 
Yes and no. Computational geometry is a black art, and point-in-polygon
algorithms usually return the answer to whether the point is inside the
polygon or not (inside meaning inside the boundary). Some algorithms will
also tell you whether the point is on the (vanishingly thin) boundary
itself.

In your trial case, the vertices of the convex hull are both in the set of
points being tested and are actual boundary vertices, a very untypical
situation in empirical settings. If you "jittered" them so that they
didn't coincide exactly in their binary representation, the algorithm
would answer happily either yes or no - as it is, it says that boundary
points may be either in or not, depending (somewhat) on where your vertex
is around the boundary.

There is no general acceptance for points on boundaries being either
inside or outside, but in the next splancs release, the documentation will
be changed to reflect this issue, and I may try some alternative
algorithms to give three replies, and the user the choice of including
points on boundaries.

Hope this helps,

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Jun  4 15:21:03 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 04 Jun 2001 09:21:03 -0400
Subject: [R] Difficulty with R CMD INSTALL
References: <Pine.GSO.4.31.0106040709060.4152-100000@auk.stats>
Message-ID: <3B1B8B3E.C5CC4973@bank-banque-canada.ca>

Brian

BDR>When developing a package I tend to INSTALL it several times and run
a few
BDR>tests each time, then use R CMD check --no-clean to refine it (not
BDR>re-installing from scratch each time), and finally R CMD check then
R CMD
BDR>build.

I've been assuming the logic was to run R CMD check  first and then R
CMD INSTALL.   I don't think check uses the installed version, so I
guess it doesn't matter, but is there some other reason for doing
install before check? (Or are you just distinguishing development mode
from the normal mode once a package is developed?)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  4 15:50:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 4 Jun 2001 14:50:43 +0100 (BST)
Subject: [R] Difficulty with R CMD INSTALL
In-Reply-To: <3B1B8B3E.C5CC4973@bank-banque-canada.ca>
Message-ID: <Pine.LNX.4.31.0106041448530.31540-100000@gannet.stats>

On Mon, 4 Jun 2001, Paul Gilbert wrote:

> Brian
>
> BDR>When developing a package I tend to INSTALL it several times and run
> a few
> BDR>tests each time, then use R CMD check --no-clean to refine it (not
> BDR>re-installing from scratch each time), and finally R CMD check then
> R CMD
> BDR>build.
>
> I've been assuming the logic was to run R CMD check  first and then R
> CMD INSTALL.   I don't think check uses the installed version, so I
> guess it doesn't matter, but is there some other reason for doing
> install before check? (Or are you just distinguishing development mode

I usually want to check things run before I worry that the documentation
is correct, and R CMD check starts with lots of checks that are irrelevant
until the code parses and runs some simple examples.

> from the normal mode once a package is developed?)
>
> Paul Gilbert
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Mon Jun  4 15:59:51 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Mon, 4 Jun 2001 09:59:51 -0400
Subject: [R] Problems with environmental variables set with Sys.putenv
Message-ID: <15131.37975.97120.665189@gargle.gargle.HOWL>

Hi,

I see some weird behavior when loading a specific dataframe after changing the value of
an enviroment variable using Sys.putenv(). Alas, I can't reproduce it from an
arbitrary dataframe. Here is the session:

R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> Sys.getenv("MODE")
        MODE 
"PRODUCTION" 
> ls()
character(0)
> load("~/data/latest/R/Factors.Rdata")
> ls()
[1] "Factors"
> Sys.getenv("MODE")
        MODE 
"PRODUCTION"					


##################

So far, so good. Loading a dataframe shouldn't, I think, effect the setting of
an environment variable under any (?) circumstances. Just to be sure, I load it
a couple more times.

#################

> load("/home/a296180/data/latest/R/Factors.Rdata")
> Sys.getenv("MODE")
        MODE 
"PRODUCTION" 
> load("/home/a296180/data/latest/R/Factors.Rdata")
> Sys.getenv("MODE")
        MODE 
"PRODUCTION" 

#################

Now I change the setting of the environment variable, and load the dataframe
again. Everything is fine, but when I load it a second time, the value of $MODE
gets set to missing!

################

> Sys.putenv("MODE"="TEST")
> Sys.getenv("MODE")
  MODE 
"TEST" 
> load("/home/a296180/data/latest/R/Factors.Rdata")
> Sys.getenv("MODE")
  MODE 
"TEST" 
> load("/home/a296180/data/latest/R/Factors.Rdata")
> Sys.getenv("MODE")
MODE 
  "" 
#################

At this point, I am stumped. As I mentioned, I have been unable to make this
occur with an arbitrary dataframe. With most (AFAIK all) of my other dataframe,
this does not occur. If there was interest, I would be happy to submit this as
a bug report and/or pass along the offending dataframe. But, my first thought
is that I am missing something . . .

Thanks for any help,

Dave Kane


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmathew at sas.upenn.edu  Mon Jun  4 16:15:04 2001
From: jmathew at sas.upenn.edu (Justin I. Mathew)
Date: Mon, 4 Jun 2001 10:15:04 -0400 (EDT)
Subject: [R] face plots?
Message-ID: <200106041415.f54EF4J04863@mail1.sas.upenn.edu>

i was wondering whether it is possible to do face plots using R, or any 
other type of multivariate plot?  thanks:)
-itty
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ypeng at math.mun.ca  Mon Jun  4 17:28:29 2001
From: ypeng at math.mun.ca (Paul Y. Peng)
Date: Mon, 04 Jun 2001 12:58:29 -0230
Subject: [R] Questions from a beginner.
References: <Pine.GSO.4.31.0106012050240.5279-100000@auk.stats>
Message-ID: <3B1BA91D.9F71AB92@math.mun.ca>

Prof Brian D Ripley wrote:
> 
> Please do read the rw-FAQ: it is designed for beginners and answers these
> questions (except 2, where it tells you that this is not the correct forum
> for your question)!

The problem described in question 1 is quite weird. I followed all
instructions to create a shortcut of Rgui.exe in my working
directory and to specify the working directory name in the property
of the shortcut. If I issue getwd() right after a session of R is
started, it does show the correct working directory. But after a
while of using R or other Windows applications and if I check the
working directory again using getwd(), very often it shows an
incorrect name! For example, it may point to C:\\RECYCLED or
C:\\Windows, and it does not stay there and may jump to somewhere
else if I check it later.

I am not sure whether this is a problem of R or not. I had the
same problem with Cygwin bash, but it was solved after I
reinstalled Cygwin. Maybe some of you experienced the same problem
and knows how to solve it.

For question 2, Tony Rossini told me that unfortunately it is
"normal" behavior for R + ESS-5.1.18 + NTEmacs and no solution
yet.

Thanks to all who responded.

Paul.

My original post:
 
> > I have used S-PLUS for years. Now I am learning to use R in
> > Windows'98. I downloaded the latest version and installed it as
> > instructed. However, I cannot find answers from online help to the
> > following questions I encountered. If any of you has quick answers
> > to these questions, please drop me a couple of lines. Thanks.
> >
> > 1. Why does R change my working directory during a session? I often
> > used getwd() to check my working directory and surprisingly found
> > that it was changed, and the location it changes to is quite random.
> > Has anybody encountered this problem? It is very annoying to check
> > and set my working directory whenever I want to save my work.
> >
> > 2. I downloaded ESS-5.1.18 and installed it in NTEmacs-20.4. It works
> > fine with S-PLUS 2000. However, if I use it with R, it is very very
> > slow and takes more than one minute to see the R prompt after M-x R.
> > After that, it seems OK. Why?
> >
> > 3. From the online documents, I often see descriptions related to
> > Rcmd. But there is no file in the Windows distribution of R named
> > Rcmd. Is it renamed Rterm.exe in Windows?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Mon Jun  4 18:56:35 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Mon, 4 Jun 2001 10:56:35 -0600 (MDT)
Subject: [R] Re: unix R CMD check problem
In-Reply-To: <Pine.GSO.4.30.0106040944040.4367-101000@laplace.cgd.ucar.edu>
Message-ID: <Pine.GSO.4.30.0106041053410.4367-100000@laplace.cgd.ucar.edu>

Doh!

turns out I was using a newer feature of S-PLUS that is not supported in R,
or at least was generating the parse error.

replace all

a = b

with

a <- b

(except in arguments, naturally ...)

Sorry to bother anyone ... smooth sailing ahead.


> Date: Mon, 4 Jun 2001 10:03:56 -0600 (MDT)
> From: Tim Hoar <thoar at cgd.ucar.edu>
> Reply-To: Tim Hoar <thoar at ucar.edu>
> To: r-help at lists.R-project.org
> Subject: unix R CMD check problem
>
> I am just getting familiar with R and am running into a problem.
>
> I have several S functions I would like to port to R and _almost_ have
> it. I am running on Solaris 5.6 Generic_105181-17 sun4u sparc SUNW,Ultra-60
> with the Sun performance compilers (which are not the problem):
>
> I am starting out small and am having problems with "undocumented objects"
> in the following code structure (I am including the structure first, then
> the result of "R CMD check"):
>
> 0[218]0 nightingale:~/Snackbar > ls -R
> .:
> DESCRIPTION  R            man          src
>
> ./R:
> unix
>
> ./R/unix:
> direct.read.R   flat.read.R     getncvar.R      zzz.R
> direct.write.R  flat.write.R    strpos.R
>
> ./man:
> direct.read.Rd   flat.read.Rd     getncvar.Rd
> direct.write.Rd  flat.write.Rd    strpos.Rd
>
>  ./src:
> Makevars        dflatread.f     flatread.f      iflatread.f     strpos.f
> Snackbar.so     dflatwrite.f    flatwrite.f     iflatwrite.f
> ddirectread.f   directread.f    idirectread.f   inpoly.f
> ddirectwrite.f  directwrite.f   idirectwrite.f  ncgetvar.f
> 0[224]0 nightingale:~/Snackbar >
>
> The R code has logical sections to call several of the Fortran sources.
> Each Fortran source has exactly one routine.
>
> ------------ results of R CMD check ----------------------
>
> 1[204]0 nightingale:~ > R CMD check Snackbar
> * checking for working latex ... OK
> * using log directory /home/thoar/Snackbar.Rcheck
>
> Installing source package `Snackbar' ...
>  libs
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c ddirectread.f -o
> ddirectread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c ddirectwrite.f -o
> ddirectwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c dflatread.f -o
> dflatread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c dflatwrite.f -o
> dflatwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c directread.f -o
> directread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c directwrite.f -o
> directwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c flatread.f -o
> flatread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c flatwrite.f -o
> flatwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c idirectread.f -o
> idirectread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c idirectwrite.f -o
> idirectwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c iflatread.f -o
> iflatread.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c iflatwrite.f -o
> iflatwrite.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c inpoly.f -o
> inpoly.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c ncgetvar.f -o
> ncgetvar.o
> /opt/SUNWspro/bin/f90  -O3 -I/opt/local/include -PIC  -O3 -c strpos.f -o
> strpos.o
> /opt/SUNWspro/bin/cc -G  -o Snackbar.so ddirectread.o ddirectwrite.o
> dflatread.o dflatwrite.o directread.o directwrite.o flatread.o flatwrite.o
> idirectread.o idirectwrite.o iflatread.o iflatwrite.o inpoly.o ncgetvar.o
> strpos.o -L/usr/local/lib -L/opt/local/lib -lnetcdf  -R/opt/SUNWspro/lib
> -L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib -lfui
> -lfai -lfai2 -lfsumai -lfprodai -lfminlai -lfmaxlai -lfminvai -lfmaxvai -lfsu
> -lsunmath -lm
>  R
>  help
>  >>> Building/Updating help pages for package `Snackbar'
>      Formats: text html latex example
>   direct.read                       text    html    latex
>   direct.write                      text    html    latex
>   flat.read                         text    html    latex
>   flat.write                        text    html    latex
>   getncvar                          text    html    latex
>   strpos                            text    html    latex
>  DONE (Snackbar)
>
> DONE (INSTALL)
>
> * checking for file `Snackbar/DESCRIPTION' ... OK
> * checking package directory ... OK
> * checking DESCRIPTION Package field ... OK
> * checking DESCRIPTION Version field ... OK
> * checking DESCRIPTION Title field ... OK
> * checking DESCRIPTION License field ... OK
> * checking DESCRIPTION Author field ... OK
> * checking DESCRIPTION Maintainer field ... OK
> * checking Rd files ... OK
> * checking for undocumented objects ... ERROR
> *   in parse(file, n, text, prompt) : syntax error on line 28
>
> ------------ question ----------------------
>
> Looks like the help files are OK ... and the compiles are OK ...
> but something somewhere is going astray. Any help?
>
> I have included a TAR file of the pertinent parts ... just in case someone
> wants to see _exactly_ ...
>
> Any help would be appreciated.
>
> Tim
>
>
>
> ## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
> ## Geophysical Statistics Project             phone: 303-497-1708       ##
> ## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
> ## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jun  4 21:52:51 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 04 Jun 2001 15:52:51 -0400
Subject: [R] allowing NAs in medpolish (package eda)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8006@usrymx10.merck.com>

Dear R Core,

(I'm addressing this question to R Core because R Core 
is listed as the authors and maintainers of the eda
package.)

I'm wondering if you would add an option to allow for NAs in 
the data matrix in the medpolish function.  

I have tried modifying the function by inserting 
na.rm=TRUE in all the calls to median() and sum(), 
and that seems to work.  (Actually, I added the argument 
with default na.rm=TRUE, then pass na.rm=na.rm to 
median and sum inside the function).  Just a suggestion.

Regards,
Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
mailto:andy_liaw at merck.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Jun  4 22:10:59 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 4 Jun 2001 22:10:59 +0200 (MET DST)
Subject: [R] 2D convolution 
Message-ID: <Pine.OSF.4.30.0106042159480.1678-100000@alnair.uio.no>

Dear all,

I have an image that I need to filter, and so I'm looking for a method to
convolve it with a matrix. If I understood the docs for convolve
correctly, it only works in 1D (and I have tried to convolve, it didn't
look good).

So, I wondered if anybody have implemented 2D convolution in R, or have
any good advices to share (beyond having a look at mvfft), before I go
hacking?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  4 23:11:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 4 Jun 2001 22:11:11 +0100 (BST)
Subject: [R] 2D convolution 
In-Reply-To: <Pine.OSF.4.30.0106042159480.1678-100000@alnair.uio.no>
Message-ID: <Pine.LNX.4.31.0106042204140.1257-100000@gannet.stats>

On Mon, 4 Jun 2001, Kjetil Kjernsmo wrote:

> Dear all,
>
> I have an image that I need to filter, and so I'm looking for a method to
> convolve it with a matrix. If I understood the docs for convolve
> correctly, it only works in 1D (and I have tried to convolve, it didn't
> look good).
>
> So, I wondered if anybody have implemented 2D convolution in R, or have
> any good advices to share (beyond having a look at mvfft), before I go
> hacking?

How about don't?  That is, do it at C/Fortran level.  2D convolution tends
to be expensive and edge effects can be much trickier.  When we had to do
it in earnest (2D optical astronomy from CCD arrays, pre-R) fortunately
the objects of interest were in the centre of the image, so edge effects
were small, and we wrote Fortran routines to do it in place (also based on
Singleton's code).

Note that mvfft does not do 2D transforms: it's fft that does so (as I
read the docs).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lkazembe at chirunga.sdnp.org.mw  Tue Jun  5 08:01:46 2001
From: lkazembe at chirunga.sdnp.org.mw (LAWRENCE KAZEMBE)
Date: Tue, 05 Jun 2001 08:01:46 +0200
Subject: [R] (geostats) package in R  to assess local nonstationarity?
In-Reply-To: <20010602191228.A26115@gmx.de>
References: <20010601152140.B20826@rzpool08.rz.tu-bs.de>
 <20010602191228.A26115@gmx.de>
Message-ID: <200106050801460020.0013393D@63.69.102.194>

R Users,
Any (geostats) package ,say geoR, sgeostat, etc. that has a function for assessing departures from stationarity. Am thinking along the lines of Cressie's pocket plots.

Thanks in advance

Lawrence 

Lawrence N.M Kazembe
Mathematical Sciences Department
Chancellor College
University of Malawi
P.O. Box 280
Zomba
Malawi

Tel: (265) 524 222 ext 284
Fax: (265) 524 046
e-mail: lkazembe at chirunga.sdnp.org.mw
url: kazembe.cjb.net
      kazembe.tsx.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Jun  5 13:37:58 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 05 Jun 2001 21:37:58 +1000
Subject: [R] Scripting capabilities for R
Message-ID: <3B1CC495.9200D0FC@ozemail.com.au>

A bit tardy, perhaps, but here is an NEdit macro for Linux that will
display help
on a selected keyword in an R command file that is being edited.

Select Preferences|Default Settings|Customize menus|Macro menu..
Define a New macro named, for example, R help
Copy the attached macro into the macro editing window at the bottom
Edit the macro by uncommenting the appropriate lines and changing the R
home
directory
Apply the macro
Highlight an R command in the editor and select Macro|R help

You should be able to get either HTML or "text" help in a separate
window.  I
welcome any comments and suggestions.

I have worked out a way to submit selected commands from NEdit to R via
batch
mode, but it is really clunky and I'll refine it to run in the R window
if
possible.  Stay tuned.

Jim
-------------- next part --------------
# NEdit macro to display R help
# NOTE: either change the top search directory to R_HOME
# or create a symbolic link, e.g. /usr/local/R -> /usr/local/R-n.n.n
# this line finds HTML help files
helpfind = "find /usr/local/R/library -name " get_selection() ".html"
# this line finds "text" help files
# helpfind = "find /usr/local/R/library -name " get_selection()
helpfile = shell_command(helpfind," ")
if(helpfile != "") {
# the line below will call KDE's 'kdehelp' to display HTML help
 help_command = "kdehelp " helpfile
# the line below will call 'lynx' in KDE's 'konsole' to display HTML help
# help_command = "konsole -e lynx " helpfile
# the line below will call 'less' in an 'xterm' to display "text" help
# help_command = "xterm -e less " helpfile
 shell_command(help_command," ")
}

From rhurlin at gwdg.de  Tue Jun  5 15:19:38 2001
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Tue, 05 Jun 2001 15:19:38 +0200
Subject: [R] inout() in splancs working properly?
References: <Pine.LNX.4.21.0106040944520.5549-100000@reclus.nhh.no>
Message-ID: <3B1CDC6A.A24B96E8@gwdg.de>

Roger,

sorry for not recognizing you as the author of the port.


Roger Bivand wrote:
> 
> Rainer:
> 
> Thankyou for your very helpful report, showing clearly and replicably what
> the problem is: sometimes points on the convex hull are included,
> sometimes not. I agree that the issue is in ipippa.f, but am not too sure
> why (yet). I am working on a revision of splancs at the moment - can I use
> you to help test out this issue?
> 

Of course you can. I will test it with my datasets.

> (Barry - is this so far back in the past that you don't have Ken
> McElvain's C-code? Are we dealing with:
> 
> http://jedi.ks.uiuc.edu/~johns/raytracer/rtn/rtnv3n4.html#art23
> 
> Does the original comment:
> 
> ">A remark: The whichquad function is not perfect. It doesn't handle
> >the boundary cases right (but as I said, that's only a problem
> >if the point lies on the polygon)."
> 
> still hold?)
> 
> Thanks again,
> 
> Roger
> 
> --
> Roger Bivand
> Economic Geography Section, Department of Economics, Norwegian School of
> Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
> Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
> e-mail: Roger.Bivand at nhh.no
> and: Department of Geography and Regional Development, University of
> Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

Rainer

-- 
Rainer Hurling, Ass. d. Fd.                  email: rhurlin at gwdg.de
Institut fuer Forstzoologie und Waldschutz   http://www.gwdg.de/~rhurlin
Georg-August Universitaet Goettingen         office: 0551 39-2291
Buesgenweg 3, D-37077 Goettingen, GERMANY    fax: 0551 39-2089
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zdenko.zovko at tel.net.ba  Tue Jun  5 16:07:39 2001
From: zdenko.zovko at tel.net.ba (Dalibor Zovko)
Date: Tue, 5 Jun 2001 16:07:39 +0200
Subject: No subject
Message-ID: <000b01c0edc8$e22cc1c0$ae6327d4@e1i3s0>

I need help for one program. It is about Gauss distribution. I do not know
how can I make this program in C++. Exactly I must make this, that it can
calculate a probability for value of variable z in interval (z1,z2)
It is surface under normal distribution line. Please if there is anybody who
can help me, I will be glad so.
One student
zdenko.zovko at tel.net.ba


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010605/fbc265ee/attachment.html

From dlucy at maths.ed.ac.uk  Tue Jun  5 18:38:12 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Tue, 5 Jun 2001 17:38:12 +0100 (BST)
Subject: [R] z's
In-Reply-To: <000b01c0edc8$e22cc1c0$ae6327d4@e1i3s0>
Message-ID: <Pine.SOL.4.21.0106051733400.28024-100000@wallis>

On Tue, 5 Jun 2001, Dalibor Zovko wrote:

> I need help for one program. It is about Gauss distribution. I do not know
> how can I make this program in C++. Exactly I must make this, that it can
> calculate a probability for value of variable z in interval (z1,z2)
> It is surface under normal distribution line. Please if there is anybody who
> can help me, I will be glad so.
> One student
> zdenko.zovko at tel.net.ba

Dalibor,

Try:

pnorm(z2, mean=0, sd=1) - pnorm(z1, mean=0, sd=1)

or something along those lines in R.

Dave.



**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Tue Jun  5 18:45:38 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Tue, 5 Jun 2001 17:45:38 +0100 (BST)
Subject: [R] (geostats) package in R  to assess local nonstationarity?
In-Reply-To: <200106050801460020.0013393D@63.69.102.194>
Message-ID: <Pine.GSO.4.21.0106051745000.17439-100000@unixc.lancs.ac.uk>

Hi Lawrence
 
The function "plot.geodata" in (geoR) plots data against coordinates.
Actually you don't need any package specific function to plot data
against coordinates or any other covariate. An example is:
# simulating data
ap <- grf(121, cov.pars=c(1, .25), grid="reg")
# plotting
plot.geodata(ap)
#
 
The pocket plots will be limited to data on a grid and I'm not sure they
are very useful. However this will be relatively easy to implement and
I'll add to the geoR ToDo list, please watch for the package updates.
 
Cheers
P.J.
  
On Tue, 5 Jun 2001, LAWRENCE KAZEMBE wrote:

> R Users,
> Any (geostats) package ,say geoR, sgeostat, etc. that has a function for assessing departures from stationarity. Am thinking along the lines of Cressie's pocket plots.
> 
> Thanks in advance
> 
> Lawrence 
> 
> Lawrence N.M Kazembe
> Mathematical Sciences Department
> Chancellor College
> University of Malawi
> P.O. Box 280
> Zomba
> Malawi
> 
> Tel: (265) 524 222 ext 284
> Fax: (265) 524 046
> e-mail: lkazembe at chirunga.sdnp.org.mw
> url: kazembe.cjb.net
>       kazembe.tsx.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mangalam at home.com  Tue Jun  5 19:06:51 2001
From: mangalam at home.com (Harry Mangalam)
Date: Tue, 05 Jun 2001 10:06:51 -0700
Subject: [R] R INSTALL failure w/ Mac OSX
References: <Pine.GSO.4.31.0106040709060.4152-100000@auk.stats> <3B1B8B3E.C5CC4973@bank-banque-canada.ca>
Message-ID: <3B1D11AB.5A90DEB1@home.com>

Hi All,

We're having some problems with the Mac OSX port of R V1.2.3 binary that came from CRAN in that a (Perl) scripted installation of the xgobi library halts unexpectedly.  The commandline that fails is:

R --silent INSTALL --library=/usr/local/genex/lib/R/library \
 /Users/dan/sw/src/GeneX-Server-1.0.3/CyberT-dist/xgobi_1.2-2.tar.gz

The comment from the affected user is:

  It still hangs just after "Installing source package 
  'xgobi'", then " R" appears on the next line (including the space).

I saw the thread on " Difficulty with R CMD INSTALL " and was wondering if others have had a similar problem on OSX.  

Using R 1.2.3 on x86 linux (RH & Debian), I've never seen this problem, so I'm wondering if it's a porting artefact.

-- 
Cheers,
Harry

Harry J Mangalam -- (949) 856 2847 (v&f) -- hjm at ncgr.org || mangalam at home.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  5 20:55:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Jun 2001 19:55:53 +0100 (GMT Daylight Time)
Subject: [R] R INSTALL failure w/ Mac OSX
In-Reply-To: <3B1D11AB.5A90DEB1@home.com>
Message-ID: <Pine.WNT.4.31.0106051953450.193-100000@tern.stats>

On Tue, 5 Jun 2001, Harry Mangalam wrote:

> Hi All,
>
> We're having some problems with the Mac OSX port of R V1.2.3 binary that came from CRAN in that a (Perl) scripted installation of the xgobi library halts unexpectedly.  The commandline that fails is:
>
> R --silent INSTALL --library=/usr/local/genex/lib/R/library \
>  /Users/dan/sw/src/GeneX-Server-1.0.3/CyberT-dist/xgobi_1.2-2.tar.gz
>
> The comment from the affected user is:
>
>   It still hangs just after "Installing source package
>   'xgobi'", then " R" appears on the next line (including the space).

*That* happens if there are no Rq... files in the R directory.  Is tar
working correctly?  I would try untaring the package, checking that the
R/* files are there and then installing the unpacked version.

BTW, the hanging won't happen in the next release.

>
> I saw the thread on " Difficulty with R CMD INSTALL " and was wondering if others have had a similar problem on OSX.
>
> Using R 1.2.3 on x86 linux (RH & Debian), I've never seen this problem, so I'm wondering if it's a porting artefact.
>
> --
> Cheers,
> Harry
>
> Harry J Mangalam -- (949) 856 2847 (v&f) -- hjm at ncgr.org || mangalam at home.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From freud at starpower.net  Wed Jun  6 05:38:11 2001
From: freud at starpower.net (freud@starpower.net)
Date: Tue, 5 Jun 2001 23:38:11 -0400
Subject: [R] R Function Guide
In-Reply-To: <5.0.2.1.2.20010428091900.018fd320@mcmail.cis.mcmaster.ca>
References: <15082.48887.928074.333249@gargle.gargle.HOWL>
Message-ID: <3B1D6D63.3089.55A43DD@localhost>

I was wondering if there was anything for R like the function guide 
provided by insightful for S-Plus at the url below:

http://www.insightful.com/resources/fguide.html

What makes if particularly appealing is the organization of 
functions by class.

If there is not something like this for R, I think it would be a great 
addition to the R documentation.  It would provide an easy way to 
identify an available function for a particular category of analysis 
and thus facilitate viewing the help pages for the appropriate 
function or functions--particularly if this were available for not just 
base packages, but contributed packages as well.  Personally, I 
find the biggest weakness of the current help system is the fact 
that I must know the name of a function in advance to request help 
on some analysis or proceedure.  Would be nice to start with a 
general idea, category, class, or set of proceedures and move to a 
list of related functions. 

Extending the original idea, wouldn't it be great if there were a list 
as described above that, in addition to listing functions by 
category, also provided package information, availability, version, 
etc for the listed functions.

I recognize that there is probably some overlap with the S-Plus 
guide, and that it in itself is probably a good reference, or at least a 
nice starting point for a simliar R guide.  However, I also suspect 
that quite a lot of the S-Plus functionality listed is not yet 
implemented in R.  Perhaps I am wrong.  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun  6 08:14:30 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 06 Jun 2001 08:14:30 +0200
Subject: [R] R Function Guide
References: <15082.48887.928074.333249@gargle.gargle.HOWL> <3B1D6D63.3089.55A43DD@localhost>
Message-ID: <3B1DCA46.DDF8E28E@statistik.uni-dortmund.de>



freud at starpower.net wrote:
> 
> I was wondering if there was anything for R like the function guide
> provided by insightful for S-Plus at the url below:
> 
> http://www.insightful.com/resources/fguide.html
> 
> What makes if particularly appealing is the organization of
> functions by class.
> 
> If there is not something like this for R, I think it would be a great
> addition to the R documentation.  It would provide an easy way to
> identify an available function for a particular category of analysis
> and thus facilitate viewing the help pages for the appropriate
> function or functions--particularly if this were available for not just
> base packages, but contributed packages as well.  Personally, I
> find the biggest weakness of the current help system is the fact
> that I must know the name of a function in advance to request help
> on some analysis or proceedure.  Would be nice to start with a
> general idea, category, class, or set of proceedures and move to a
> list of related functions.
> 
> Extending the original idea, wouldn't it be great if there were a list
> as described above that, in addition to listing functions by
> category, also provided package information, availability, version,
> etc for the listed functions.
> 
> I recognize that there is probably some overlap with the S-Plus
> guide, and that it in itself is probably a good reference, or at least a
> nice starting point for a simliar R guide.  However, I also suspect
> that quite a lot of the S-Plus functionality listed is not yet
> implemented in R.  Perhaps I am wrong.

Use help.start() and go to "Search Engine & Keywords".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 08:23:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Jun 2001 07:23:14 +0100 (BST)
Subject: [R] R Function Guide
In-Reply-To: <3B1D6D63.3089.55A43DD@localhost>
Message-ID: <Pine.GSO.4.31.0106060712410.19713-100000@auk.stats>

On Tue, 5 Jun 2001 freud at starpower.net wrote:

> I was wondering if there was anything for R like the function guide
> provided by insightful for S-Plus at the url below:

Yes, there is.

> http://www.insightful.com/resources/fguide.html
>
> What makes if particularly appealing is the organization of
> functions by class.

That's the same as done by their help.start(), and is very similar to the
html search page in R, which does group by category (`keyword').
Even the categories are very similar.

However, given the number of functions involved (of the order of 2000)
I do find searches more useful (in either system).  There are quite a lot
of functions in S-PLUS which are not in what is to me the obvious category,
but they will be found by a search.   Thre have been lots of postings to
R-help recently where help.search() would have given the answer, so it
looks like an under-used tool.

Also that guide only covers functions in base S-PLUS: R's equivalents
cover all installed packages.  Nothing covers all 120+ packages on CRAN,
let alone those which are not on CRAN.  We do get requests for the latter,
but my own view is that we need better search mechanisms first (both faster
and using approximate matching).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Jun  6 12:46:18 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 6 Jun 2001 12:46:18 +0200
Subject: [R] conditional evaluation with ";"?
Message-ID: <20010606124616.A10808@rzpool02.pool.rz.tu-bs.de>

Is this a bug:
assume "XYZ" is a non existing object:

> XYZ
Error: Object "XYZ" not found

then:

> XYZ;ls()
Error: Object "XYZ" not found
> 


ls() is not evaluated ("XYZ;XYZ" don't give two errors)


I'm quiete unsure if this is intended help(";") returns "No documentation"


peter




Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Windows 95 OSR2 4.0 (build 1111)  C

Search Path:
 .GlobalEnv, package:grid, package:lattice, package:ctest, Autoloads, package:base



-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 14:15:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Jun 2001 13:15:46 +0100 (GMT Daylight Time)
Subject: [R] conditional evaluation with ";"?
In-Reply-To: <20010606124616.A10808@rzpool02.pool.rz.tu-bs.de>
Message-ID: <Pine.WNT.4.31.0106061312350.696-100000@gannet>

On Wed, 6 Jun 2001, Peter Malewski wrote:

> Is this a bug:
> assume "XYZ" is a non existing object:
>
> > XYZ
> Error: Object "XYZ" not found
>
> then:
>
> > XYZ;ls()
> Error: Object "XYZ" not found
> >
>
>
> ls() is not evaluated ("XYZ;XYZ" don't give two errors)
>
>
> I'm quiete unsure if this is intended help(";") returns "No documentation"

It is intended: it is what all S variants do.  You have pasted in a series
of expressions: evaluation stops at the first error.

`;' is part of the language definition: if this is covered anywhere I would
expect it to be in the R Language Manual.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Wed Jun  6 16:11:04 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Wed, 6 Jun 2001 10:11:04 -0400 
Subject: [R] R Function Guide
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F34E8@norcom2.norcom.net>

Strange as it may seem, I've been digging into R a lot these last few months
and, although I was aware of help.start(), I hadn't ever tried the search
link.

That is a very nice feature.

I humbly suggest that section 1.7 in the R Intro have a line added that goes
something like this:

"The 'Search Engine and Keywords' link in the page loaded by help.start() is
particularly useful as it is contains a high-level concept list which
searches though available functions.  It can be a great way to get you
bearings quickly and to understand the breadth of what R has to offer."

Chris Marshall

-----Original Message-----
From: Uwe Ligges
To: freud at starpower.net
Cc: R-help at stat.math.ethz.ch
Sent: 6/6/01 2:14 AM
Subject: Re: [R] R Function Guide



freud at starpower.net wrote:
> 
> I was wondering if there was anything for R like the function guide
> provided by insightful for S-Plus at the url below:
> 
> http://www.insightful.com/resources/fguide.html
> 
> What makes if particularly appealing is the organization of
> functions by class.
> 
> If there is not something like this for R, I think it would be a great
> addition to the R documentation.  It would provide an easy way to
> identify an available function for a particular category of analysis
> and thus facilitate viewing the help pages for the appropriate
> function or functions--particularly if this were available for not
just
> base packages, but contributed packages as well.  Personally, I
> find the biggest weakness of the current help system is the fact
> that I must know the name of a function in advance to request help
> on some analysis or proceedure.  Would be nice to start with a
> general idea, category, class, or set of proceedures and move to a
> list of related functions.
> 
> Extending the original idea, wouldn't it be great if there were a list
> as described above that, in addition to listing functions by
> category, also provided package information, availability, version,
> etc for the listed functions.
> 
> I recognize that there is probably some overlap with the S-Plus
> guide, and that it in itself is probably a good reference, or at least
a
> nice starting point for a simliar R guide.  However, I also suspect
> that quite a lot of the S-Plus functionality listed is not yet
> implemented in R.  Perhaps I am wrong.

Use help.start() and go to "Search Engine & Keywords".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Wed Jun  6 16:58:43 2001
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Wed, 6 Jun 2001 16:58:43 +0200
Subject: [R] methods on missing data
Message-ID: <OFD67A0AF7.76B1E21D-ONC1256A63.00499F7D@evotec.de>


Hello everybody!

I have 2 >issues< concerning methods applied to missing data.
I think they're bugs, but who knows.

1. var(NA) returns

     Error in var(NA) : missing observations in cov/cor

instead of NA. I expanded the summary-function to my.summary
including SDev, in order to use it with tapply, which crashes
in case of groups with no valid data.

2. is a similar problem. I use tapply with hist. On groups
without valid data it crashes, like hist(as.numeric(c(NA)))
returning

     Error in pretty(rx, n = nnb, min.n = 1) : x must be numeric

hist(as.numeric(c(NA)),breaks=c(1,2)) works, as it does not use "pretty".

I know these are very special cases, but unfortunately they kill the whole
process.

I can figure out some personal solution, but I hope for a professional one.

Hope this is kind of helpful.

Maciej



sysname "Linux"
release "2.4.4"
version "#1 SMP Wed May 2 20:47:43 CEST 2001"
nodename "lxnf"
machine "i686"
login "unknown"
user "hoffman"

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jun  6 17:10:44 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 6 Jun 2001 08:10:44 -0700 (PDT)
Subject: [R] methods on missing data
In-Reply-To: <OFD67A0AF7.76B1E21D-ONC1256A63.00499F7D@evotec.de>
Message-ID: <Pine.A41.4.33.0106060804540.116478-100000@homer03.u.washington.edu>

On Wed, 6 Jun 2001 Maciej.Hoffman-Wecker at evotecoai.com wrote:

>
> Hello everybody!
>
> I have 2 >issues< concerning methods applied to missing data.
> I think they're bugs, but who knows.
>
> 1. var(NA) returns
>
>      Error in var(NA) : missing observations in cov/cor
>
> instead of NA. I expanded the summary-function to my.summary
> including SDev, in order to use it with tapply, which crashes
> in case of groups with no valid data.


var() already has a na.rm option that does what you want
R> var(NA,na.rm=TRUE)
[1] NA


> 2. is a similar problem. I use tapply with hist. On groups
> without valid data it crashes, like hist(as.numeric(c(NA)))
> returning
>
>      Error in pretty(rx, n = nnb, min.n = 1) : x must be numeric
>
> hist(as.numeric(c(NA)),breaks=c(1,2)) works, as it does not use "pretty".
>
> I know these are very special cases, but unfortunately they kill the whole
> process.
>

try() is a general solution to the problem of functions that must
sometimes be applied to invalid data without causing an error.  Unlike the
var(NA) case, hist(NA) can't really do anything useful so try() is a
reasonable solution.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Jun  6 17:12:55 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 06 Jun 2001 17:12:55 +0200
Subject: [R] methods on missing data
References: <OFD67A0AF7.76B1E21D-ONC1256A63.00499F7D@evotec.de>
Message-ID: <3B1E4877.2436DE02@ci.tuwien.ac.at>

Maciej.Hoffman-Wecker at evotecoai.com wrote:
> 
> Hello everybody!
> 
> I have 2 >issues< concerning methods applied to missing data.
> I think they're bugs, but who knows.

I don't think so :-)
 
> 1. var(NA) returns
> 
>      Error in var(NA) : missing observations in cov/cor
> 
> instead of NA.

Because you didn't tell var() that it should remove missing values, it
warns you that there are missing values. If you want to remove them the
following gives the answer you expected.

> var(NA, na.rm=TRUE)
[1] NA


> I expanded the summary-function to my.summary
> including SDev, in order to use it with tapply, which crashes
> in case of groups with no valid data.
> 
> 2. is a similar problem. I use tapply with hist. On groups
> without valid data it crashes, like hist(as.numeric(c(NA)))
> returning
> 
>      Error in pretty(rx, n = nnb, min.n = 1) : x must be numeric
> 
> hist(as.numeric(c(NA)),breaks=c(1,2)) works, as it does not use "pretty".
> 
> I know these are very special cases, but unfortunately they kill the whole
> process.

Maybe you should check before if your vector contains only NA's, e.g.,
using is.na()
 
Hope this helps
Achim


---------------------------
Achim Zeileis
Institut f?r Statistik
Technische Universit?t Wien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 17:18:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 16:18:49 +0100 (BST)
Subject: [R] methods on missing data
In-Reply-To: <OFD67A0AF7.76B1E21D-ONC1256A63.00499F7D@evotec.de>
Message-ID: <Pine.LNX.4.31.0106061616030.1535-100000@gannet.stats>

On Wed, 6 Jun 2001 Maciej.Hoffman-Wecker at evotecoai.com wrote:

> I have 2 >issues< concerning methods applied to missing data.
> I think they're bugs, but who knows.
>
> 1. var(NA) returns
>
>      Error in var(NA) : missing observations in cov/cor

It works exactly as documented: see ?var.  Did you intend
to use

> var(NA, na.rm=T)
[1] NA

?  I suspect so, so the bug does not seem to be in R....

> instead of NA. I expanded the summary-function to my.summary
> including SDev, in order to use it with tapply, which crashes
> in case of groups with no valid data.
>
> 2. is a similar problem. I use tapply with hist. On groups
> without valid data it crashes, like hist(as.numeric(c(NA)))
> returning
>
>      Error in pretty(rx, n = nnb, min.n = 1) : x must be numeric
>
> hist(as.numeric(c(NA)),breaks=c(1,2)) works, as it does not use "pretty".
>
> I know these are very special cases, but unfortunately they kill the whole
> process.
>
> I can figure out some personal solution, but I hope for a professional one.
>
> Hope this is kind of helpful.
>
> Maciej
>
>
>
> sysname "Linux"
> release "2.4.4"
> version "#1 SMP Wed May 2 20:47:43 CEST 2001"
> nodename "lxnf"
> machine "i686"
> login "unknown"
> user "hoffman"
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Wed Jun  6 18:11:48 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Wed, 6 Jun 2001 12:11:48 -0400
Subject: [R] ppr, number of terms, and data ordering
Message-ID: <OF90449C92.AA848318-ON85256A63.0056156D@mail.doc.gov>


Dear R listers --

I have several questions about using the ppr command in the modreg module.

I discovered -- quite by accident -- that if I re-order the data, I obtain different
results.  The output below shows what I mean.  I have two datasets (dataset1 and dataset2)
that are identical (tested using proc compare in SAS) except for the fact that the records
are in different order.  Below I have pasted in the results from running ppr on the two
data sets in their original order (first and third sets of results below) and running
ppr after sorting the datasets by idnum (second and third sets of results below).

At first I thought that perhaps the regression parameters are different but the underlying
results are equivalent but predicted values are significantly different.  I tried
increasing the bass parameter, thinking that perhaps I was overfitting the data,
but the differences in the regression parameters remained.  Finally, I originally had lots
of other RHS variables, including indicator variables; stripping those variables out
did not change my findings, as shown below.

My first question is:  is there a recommended way to sort the data before running ppr?
In the meantime, I'll try sorting by my two continuous RHS variables to see if it makes
a difference -- not a definitive answer but it may be suggestive.


My second question is:  is my method for deciding on the number of terms in the regression
okay?  What I am doing is first running ppr with a large maximum number of terms, then
finding the number of terms that minimizes the goodness-of-fit statistic.  Looking at the
cpus example in the section of MASS that deals with ppr (pp. 293-294), it is unclear why
eight terms were finally chosen, when using ten terms yields a lower goodness-of-fit
statistic.

Finally, in the same example in MASS, where does the test.cpus() function come from?  I
couldn't find it in the MASS table of contents on CRAN.

Thanks in advance for any help you can give!



######DATASET1, ORIGINAL ORDER

> pprfile.ppr <- ppr(
+                award~
+                ilogemp+ilogage,
+                data=dataset1, nterms=1, max.terms=40, optlevel=3, bass=0
+      )
>     pprfile.ppr
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = dataset1,
    nterms = 1, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
    1 terms     2 terms     3 terms     4 terms     5 terms     6 terms
94153840890 97278012020 86500905681 55028690369 53258726650 48006301832
    7 terms     8 terms     9 terms    10 terms    11 terms    12 terms
64844079166 44746090412  4502608255  2047094369  4361229925  2811887563
   13 terms    14 terms    15 terms    16 terms    17 terms    18 terms
 4960791975  2717103497  2265582134  2288868136  2470815605  4989632044
   19 terms    20 terms    21 terms    22 terms    23 terms    24 terms
 4966101666  3993722223  4000594447  3925383715  7636913238  7714228211
   25 terms    26 terms    27 terms    28 terms    29 terms    30 terms
 7378463928  7035211389  7007446263 10399858547           0           0
   31 terms    32 terms    33 terms    34 terms    35 terms    36 terms
          0           0           0           0           0           0
   37 terms    38 terms    39 terms    40 terms
          0           0           0           0
>     numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn > 0])
>     summary(update(pprfile.ppr,nterms=numterm))
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = dataset1,
    nterms = numterm, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
   10 terms    11 terms    12 terms    13 terms    14 terms    15 terms
 2047094369  4361229925  2811887563  4960791975  2717103497  2265582134
   16 terms    17 terms    18 terms    19 terms    20 terms    21 terms
 2288868136  2470815605  4989632044  4966101666  3993722223  4000594447
   22 terms    23 terms    24 terms    25 terms    26 terms    27 terms
 3925383715  7636913238  7714228211  7378463928  7035211389  7007446263
   28 terms    29 terms    30 terms    31 terms    32 terms    33 terms
10399858547           0           0           0           0           0
   34 terms    35 terms    36 terms    37 terms    38 terms    39 terms
          0           0           0           0           0           0
   40 terms
          0

Projection direction vectors:
        term 1      term 2      term 3      term 4      term 5      term 6
ilogemp -0.67134667 -0.02873846 -0.73893911  0.18766759 -0.32913203  0.79075441
ilogage -0.74114348  0.99958697  0.67377221 -0.98223260 -0.94428391 -0.61213353
        term 7      term 8      term 9      term 10
ilogemp -0.73097017  0.46223139 -0.28989935  0.43839056
ilogage  0.68240941 -0.88675935  0.95705714  0.89878458

Coefficients of ridge terms:
  term 1   term 2   term 3   term 4   term 5   term 6   term 7   term 8
53896.97 67906.48 33947.21 54279.37 61051.35 67225.76 65528.85 60914.63
  term 9  term 10
58372.10 86302.62
>
######DATASET1, IDNUM ORDER

> order3 <- order(dataset1$idnum)
> reorder1 <- dataset1[order3,]
> pprfile.ppr <- ppr(
+                award~
+                ilogemp+ilogage,
+                data=reorder1, nterms=1, max.terms=40, optlevel=3, bass=0
+      )
>     pprfile.ppr
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = reorder1,
    nterms = 1, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
     1 terms      2 terms      3 terms      4 terms      5 terms      6 terms
104330711350  96448754204  82123267932  89241900763  62145006339  18715823257
     7 terms      8 terms      9 terms     10 terms     11 terms     12 terms
 13119857589  34779340331  30300680427  10845449181  25437895985  25390506630
    13 terms     14 terms     15 terms     16 terms     17 terms     18 terms
 25715475967  32977127206  33617404958  32855949359  31925878071  34135238643
    19 terms     20 terms     21 terms     22 terms     23 terms     24 terms
           0            0            0            0            0            0
    25 terms     26 terms     27 terms     28 terms     29 terms     30 terms
           0            0            0            0            0            0
    31 terms     32 terms     33 terms     34 terms     35 terms     36 terms
           0            0            0            0            0            0
    37 terms     38 terms     39 terms     40 terms
           0            0            0            0
>     numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn > 0])
>     summary(update(pprfile.ppr,nterms=numterm))
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = reorder1,
    nterms = numterm, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
   10 terms    11 terms    12 terms    13 terms    14 terms    15 terms
10845449181 25437895985 25390506630 25715475967 32977127206 33617404958
   16 terms    17 terms    18 terms    19 terms    20 terms    21 terms
32855949359 31925878071 34135238643           0           0           0
   22 terms    23 terms    24 terms    25 terms    26 terms    27 terms
          0           0           0           0           0           0
   28 terms    29 terms    30 terms    31 terms    32 terms    33 terms
          0           0           0           0           0           0
   34 terms    35 terms    36 terms    37 terms    38 terms    39 terms
          0           0           0           0           0           0
   40 terms
          0

Projection direction vectors:
        term 1      term 2      term 3      term 4      term 5      term 6
ilogemp  0.53566733 -0.03152731  0.25486277  0.19557035 -0.35437387  0.78441650
ilogage -0.84442910  0.99950289 -0.96697723 -0.98068967 -0.93510382 -0.62023444
        term 7      term 8      term 9      term 10
ilogemp -0.01470383  0.46360287 -0.27988056 -0.22789063
ilogage -0.99989189 -0.88604310  0.96003483  0.97368674

Coefficients of ridge terms:
  term 1   term 2   term 3   term 4   term 5   term 6   term 7   term 8
26233.34 60989.33 34132.51 64068.54 39630.44 40275.67 28783.82 27284.49
  term 9  term 10
40799.08 49967.01


######DATASET2, ORIGINAL ORDER
>
>
> pprfile.ppr <-  ppr(
+                award~
+                ilogemp+ilogage,
+                data=dataset2, nterms=1, max.terms=40, optlevel=3, bass=0
+      )
>     pprfile.ppr
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = dataset2,
    nterms = 1, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
     1 terms      2 terms      3 terms      4 terms      5 terms      6 terms
107514555509  86364622071  76915236151  68363332758  62669868895  66108915227
     7 terms      8 terms      9 terms     10 terms     11 terms     12 terms
 10960310955  11415371966   8181125026   7370110042   7083942083   7695270325
    13 terms     14 terms     15 terms     16 terms     17 terms     18 terms
  9383626616  28487721161  25013255493  30617600484  33616699135  37629909488
    19 terms     20 terms     21 terms     22 terms     23 terms     24 terms
           0            0            0            0            0            0
    25 terms     26 terms     27 terms     28 terms     29 terms     30 terms
           0            0            0            0            0            0
    31 terms     32 terms     33 terms     34 terms     35 terms     36 terms
           0            0            0            0            0            0
    37 terms     38 terms     39 terms     40 terms
           0            0            0            0
>     numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn > 0])
>     summary(update(pprfile.ppr,nterms=numterm))
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = dataset2,
    nterms = numterm, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
   11 terms    12 terms    13 terms    14 terms    15 terms    16 terms
 7083942083  7695270325  9383626616 28487721161 25013255493 30617600484
   17 terms    18 terms    19 terms    20 terms    21 terms    22 terms
33616699135 37629909488           0           0           0           0
   23 terms    24 terms    25 terms    26 terms    27 terms    28 terms
          0           0           0           0           0           0
   29 terms    30 terms    31 terms    32 terms    33 terms    34 terms
          0           0           0           0           0           0
   35 terms    36 terms    37 terms    38 terms    39 terms    40 terms
          0           0           0           0           0           0

Projection direction vectors:
        term 1       term 2       term 3       term 4       term 5
ilogemp  0.740357413 -0.002414494 -0.549155789  0.189738006 -0.375109022
ilogage -0.672213435  0.999997085  0.835720000 -0.981834756 -0.926980702
        term 6       term 7       term 8       term 9       term 10
ilogemp  0.884994686  0.144491176  0.445318057 -0.279893879  0.249729588
ilogage -0.465601123 -0.989506089 -0.895372452  0.960030946 -0.968315616
        term 11
ilogemp -0.245536824
ilogage  0.969387264

Coefficients of ridge terms:
  term 1   term 2   term 3   term 4   term 5   term 6   term 7   term 8
19688.36 46872.70 48959.17 61038.99 50865.32 41610.74 29375.41 25582.86
  term 9  term 10  term 11
51523.50 34629.45 30547.80
>

######DATASET2, IDNUM ORDER

> order4 <- order(dataset2$idnum)
> reorder2 <- dataset2[order4,]
> pprfile.ppr <- ppr(
+                award~
+                ilogemp+ilogage,
+                data=reorder2, nterms=1, max.terms=40, optlevel=3, bass=0
+      )
>     pprfile.ppr
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = reorder2,
    nterms = 1, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
     1 terms      2 terms      3 terms      4 terms      5 terms      6 terms
104330711350  96448754204  82123267932  89241900763  62145006339  18715823257
     7 terms      8 terms      9 terms     10 terms     11 terms     12 terms
 13119857589  34779340331  30300680427  10845449181  25437895985  25390506630
    13 terms     14 terms     15 terms     16 terms     17 terms     18 terms
 25715475967  32977127206  33617404958  32855949359  31925878071  34135238643
    19 terms     20 terms     21 terms     22 terms     23 terms     24 terms
           0            0            0            0            0            0
    25 terms     26 terms     27 terms     28 terms     29 terms     30 terms
           0            0            0            0            0            0
    31 terms     32 terms     33 terms     34 terms     35 terms     36 terms
           0            0            0            0            0            0
    37 terms     38 terms     39 terms     40 terms
           0            0            0            0
>     numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn > 0])
>     summary(update(pprfile.ppr,nterms=numterm))
Call:
ppr.formula(formula = award ~ ilogemp + ilogage, data = reorder2,
    nterms = numterm, max.terms = 40, optlevel = 3, bass = 0)

Goodness of fit:
   10 terms    11 terms    12 terms    13 terms    14 terms    15 terms
10845449181 25437895985 25390506630 25715475967 32977127206 33617404958
   16 terms    17 terms    18 terms    19 terms    20 terms    21 terms
32855949359 31925878071 34135238643           0           0           0
   22 terms    23 terms    24 terms    25 terms    26 terms    27 terms
          0           0           0           0           0           0
   28 terms    29 terms    30 terms    31 terms    32 terms    33 terms
          0           0           0           0           0           0
   34 terms    35 terms    36 terms    37 terms    38 terms    39 terms
          0           0           0           0           0           0
   40 terms
          0

Projection direction vectors:
        term 1      term 2      term 3      term 4      term 5      term 6
ilogemp  0.53566733 -0.03152731  0.25486277  0.19557035 -0.35437387  0.78441650
ilogage -0.84442910  0.99950289 -0.96697723 -0.98068967 -0.93510382 -0.62023444
        term 7      term 8      term 9      term 10
ilogemp -0.01470383  0.46360287 -0.27988056 -0.22789063
ilogage -0.99989189 -0.88604310  0.96003483  0.97368674

Coefficients of ridge terms:
  term 1   term 2   term 3   term 4   term 5   term 6   term 7   term 8
26233.34 60989.33 34132.51 64068.54 39630.44 40275.67 28783.82 27284.49
  term 9  term 10
40799.08 49967.01

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From James.Arroyo at CareersLtd.com  Wed Jun  6 18:14:19 2001
From: James.Arroyo at CareersLtd.com (Arroyo, James)
Date: Wed, 6 Jun 2001 10:14:19 -0600 
Subject: [R] Two Sr. Statistician Opportunities
Message-ID: <2AE15720A7A1D211A16400508B55A5D8A1EB4D@PHOENIX>

Hello,
 
I am a technical recruiter in Denver, CO.  Currently, I have a client
company with two openings for Sr. Statisticians.  The first is based out of
Broomfield CO (close to Boulder), and the second is in New York City.
Please look these over - if you are interested or know of someone please
contact me.

1.
Title: Senior Statistician
Type: Perm
Dollars: Market
Location: Broomfield, CO.

Required Skills (yrs and platforms): Superior knowledge of statistical and
modeling principles including sampling, inference, desirable characteristics
of variables and models, transformations, validations, etc. Knowledge of
statistical and modeling methodology including linear and logistic
regression, linear correlation, analysis of covariance, factor analysis,
etc. Ability to conduct large scale projects and research through all
stages: concept formulation, definition of metrics, determination of
appropriate statistical methodology, research evaluation, and final research
report. SAS programming: data step and procedures, macros desirable.
Excellent project management skills Ability to work independently. Proactive
knowledge of production processes. 3-5 years experience in statistical field
and 1 year experience conducting original research. 1 year experience
working with external clients in a business environment. Availability to
travel up to once or twice per month. Knowledge and experience in direct
marketing strongly preferred

Degree Required Y/N: Yes. Advanced degree in Mathematics, Statistics or
other related field of study.

Typical Day: Will employ sound statistical principles to create custom
models; evaluate and improve current modeling methodology; research new
products and applications data; write code to support modeling and research
projects; consult with sales and external clients to present research
results, provide creative problem resolution, and advise on products; work
with internal departments to troubleshoot a variety of custom modeling,
production, and data problems; provide training to other personnel.

2.
Title: Senior Statistician
Type: Perm
Dollars: Market + 10% bonus
Location: New York City, NY
Required Skills (yrs and platforms): Experience and demonstrable ability in
numerical and statistical coding in some main-line language, such as MATLAB,
C, FORTRAN, or S. These models will primarily be implemented in C on a UNIX
platform, so direct experience for both is required. A proven history of
data analysis and modeling is needed, particularly with large data sets. You
must have in-depth coding experience in at least two of the following
methodologies, and some familiarity with the rest: Linear and Logistic
Regression, including total least squares, model selection, and model
diagnostics; Categorical Data Analysis, Cluster Analysis and Discriminant
Analysis, Neural Nets, Tree-based and other machine learning models, modern
statistical methods such a MCMC, Smoothing, EM algorithm, etc.

Plus Skills: Additional experience with C++, Perl, SQL and NT is beneficial.

Degree Required Y/N: Yes. BS or MS in Computer Science or a degree and
computer systems related experience.

Typical Day: Statistical modeling, data analysis and data mining for the
client modeling group. Numerical coding, research and development of
modeling products, and data analysis utilizing methods listed previously.
You will have the opportunity to consult with external clients as well.

What you need to know this company: Leaders in the booming industry of
online media. A fast moving multi-tasked team environment with a passion and
affinity for the Internet.

Thanks for your attention,

James Arroyo - Technical Recruiter 
Staff Options, an Infotech Services/PGA Company 
Ph:  (303)832-9300 ex 74 
Fax: (303)832-9365 
james.arroyo at careersltd.com <mailto:james.arroyo at careersltd.com>  
h <http://www.careersltd.com/StaffOptions/StaffOptionsSite.html>
ttp://www.careersltd.com/StaffOptions/StaffOptionsSite.html
<http://www.careersltd.com/StaffOptions/StaffOptionsSite.html>  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010606/2f4cf2f8/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Glacier Bkgrd.jpg
Type: image/jpeg
Size: 2743 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010606/2f4cf2f8/GlacierBkgrd.jpg

From feh3k at cms.mail.virginia.edu  Wed Jun  6 18:28:40 2001
From: feh3k at cms.mail.virginia.edu (Frank E Harrell Jr)
Date: Wed, 06 Jun 2001 12:28:40 -0400
Subject: [R] The old Fortran underscore problem
In-Reply-To: <3B1E4EB4.93947A09@virginia.edu>
Message-ID: <200106061628.MAA19744@www.mail.Virginia.EDU>

I have dealt with this on so many platforms in
the past that I should know the answer by now.
I looked in V&R S Programming, R manuals and FAQ
and still can't find the answer.

In the Hmisc library I used the R scripts to build
the package, which creates Hmisc.so.  I have
library.dynam('Hmisc', ...) in the .First.lib.
When doing library(Hmisc) I get 
  Error in dyn.load .... undefined symbol rank_
Note that I do not call dyn.load myself.
The Hmisc library has a Fortran module named
rcorr.f which issues CALL rank(....).

rank is an entry point in a C source file ranksort.c,
declared using "void rank(. .. .)".
All source files seemed to compile fine.
How do I call the C rank entry from Fortran using
Hmisc.so?

A second problem is that in the Design library I
have Fortran code such as

  CALL dqrsl1(.....)

When doing library(Design) I get an unknown symbol
dqrsl1_.  I know that R base has LINPACK routines such 
as dqrsl1.

I think I understand from V&R how to load correct
symbols and look in the correct package when using
an individual dyn.load but not one using a central
library.dynam("packagename", options passed to .First.lib).

Any help will be greatly appreciated.

Thanks -Frank
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 18:33:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 17:33:44 +0100 (BST)
Subject: [R] ppr, number of terms, and data ordering
In-Reply-To: <OF90449C92.AA848318-ON85256A63.0056156D@mail.doc.gov>
Message-ID: <Pine.LNX.4.31.0106061718440.1709-100000@gannet.stats>

On Wed, 6 Jun 2001 david.beede at mail.doc.gov wrote:

>
> Dear R listers --
>
> I have several questions about using the ppr command in the modreg module.
>
> I discovered -- quite by accident -- that if I re-order the data, I obtain different
> results.  The output below shows what I mean.  I have two datasets (dataset1 and dataset2)
> that are identical (tested using proc compare in SAS) except for the fact that the records
> are in different order.  Below I have pasted in the results from running ppr on the two
> data sets in their original order (first and third sets of results below) and running
> ppr after sorting the datasets by idnum (second and third sets of results below).

Because there can be multiple local minima in the fit criterion, this is
not at all unusual.  Your mistake is assuming that there is a single
possible answer.  Same with nnet, and ppr is a more general form of
neural nets.  Not so widely known, but true of gams too.

Having said that, I think you are vastly over-fitting.  The usual idea is
to have fewer terms than explanatory variables, or not many more.

> At first I thought that perhaps the regression parameters are different but the underlying
> results are equivalent but predicted values are significantly different.  I tried
> increasing the bass parameter, thinking that perhaps I was overfitting the data,
> but the differences in the regression parameters remained.  Finally, I originally had lots
> of other RHS variables, including indicator variables; stripping those variables out
> did not change my findings, as shown below.
>
> My first question is:  is there a recommended way to sort the data before running ppr?
> In the meantime, I'll try sorting by my two continuous RHS variables to see if it makes
> a difference -- not a definitive answer but it may be suggestive.

No.  But using a smoother other than supsmu (like smoothing splines)
is usually a better idea.  If there is a sensible model then most
orderings (or machines or compiler levels of optimization ...) will give
similar fits.  Seeing instability is probably a sign that the model is
not good.

> My second question is:  is my method for deciding on the number of terms in the regression
> okay?  What I am doing is first running ppr with a large maximum number of terms, then
> finding the number of terms that minimizes the goodness-of-fit statistic.  Looking at the
> cpus example in the section of MASS that deals with ppr (pp. 293-294), it is unclear why
> eight terms were finally chosen, when using ten terms yields a lower goodness-of-fit
> statistic.

Because in theory the goodness of fit decreases (numerically) with the
number of terms, although the optimization is inexact.  One is looking for
a break in slope in the decrease.

> Finally, in the same example in MASS, where does the test.cpus() function come from?  I
> couldn't find it in the MASS table of contents on CRAN.

Because it is in MASS the book, not MASS the package.  Try the
scripts in the MASS package, specifically ch06.R or ch09.R.

Probably you need to read a lot more about the background, although the
papers are scattered and often inaccessible.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun  6 18:37:05 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 06 Jun 2001 12:37:05 -0400
Subject: [R] R Function Guide
In-Reply-To: <Pine.GSO.4.31.0106060712410.19713-100000@auk.stats>
References: <3B1D6D63.3089.55A43DD@localhost> <Pine.GSO.4.31.0106060712410.19713-100000@auk.stats>
Message-ID: <asjsht0dcqn53d9g430gkpjanvonqdsmrf@4ax.com>

On Wed, 6 Jun 2001 07:23:14 +0100 (BST), Prof Brian D Ripley
<ripley at stats.ox.ac.uk> wrote in message
<Pine.GSO.4.31.0106060712410.19713-100000 at auk.stats>:

> Thre have been lots of postings to
>R-help recently where help.search() would have given the answer, so it
>looks like an under-used tool.

What about making ?topic try help.search(topic) if help(topic) fails?

It's a very small modification to the help() source, basically just
replacing two "stop(some message)" calls with "cat(some message)", and
adding the help.search calls.  I'd probably add another parameter
"try.help.search" that defaults to FALSE when help() is called, and is
set to TRUE when ? is used.

Duncan Murdoch

       
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feh3k at cms.mail.virginia.edu  Wed Jun  6 18:39:16 2001
From: feh3k at cms.mail.virginia.edu (Frank E Harrell Jr)
Date: Wed, 06 Jun 2001 12:39:16 -0400
Subject: [R] Nroff -> .Rd -> R-ex; html
In-Reply-To: <3B1E4EB4.93947A09@virginia.edu>
Message-ID: <200106061639.MAA19927@www.mail.Virginia.EDU>

I am using R 1.2.3 on Linux Mandrake 7.2.
I have a ton of S Nroff help files that end
with source code typified by the following:

Last S statement in an example, e.g. X <- y
..KW models
..KW regression
..WR

When using R RMD Sd2Rd to create the .Rd file I get

X <- y
\keyword{models}
\keyword{regression}
}

The } matches a { in \examples{ at the beginning
of the example code (started in Nroff by .EX).
When examples are extracted for R-ex the keywords
are in the example code.  Please advise on
a workaround or patch to Sd2Rd.  I hope to avoid
editing dozens of help files.

One minor different request:  In my nroff files I frequently
insure that lines are not run together by using
code such as

..AU
first line
..sp 0
second line
..PP
second author first line
..sp 0
second line

Sd2Rd puts blank lines around the above text lines,
and when the final html is made there are many
<p>   </p> pairs in the text resulting in doublespacing.  
If the scripts could
be slightly changed to treat .sp 0 so that ultimately
<p> </p> will not be the result that would be great.

Thanks!

Frank Harrell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 18:39:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 17:39:47 +0100 (BST)
Subject: [R] The old Fortran underscore problem
In-Reply-To: <200106061628.MAA19744@www.mail.Virginia.EDU>
Message-ID: <Pine.LNX.4.31.0106061734110.1709-100000@gannet.stats>

On Wed, 6 Jun 2001, Frank E Harrell Jr wrote:

> I have dealt with this on so many platforms in
> the past that I should know the answer by now.
> I looked in V&R S Programming, R manuals and FAQ
> and still can't find the answer.

It's in Writing R Extensions, and the answer is the same as in S,
`S Programming' page 138.

> In the Hmisc library I used the R scripts to build
> the package, which creates Hmisc.so.  I have
> library.dynam('Hmisc', ...) in the .First.lib.
> When doing library(Hmisc) I get
>   Error in dyn.load .... undefined symbol rank_
> Note that I do not call dyn.load myself.
> The Hmisc library has a Fortran module named
> rcorr.f which issues CALL rank(....).
>
> rank is an entry point in a C source file ranksort.c,
> declared using "void rank(. .. .)".
> All source files seemed to compile fine.
> How do I call the C rank entry from Fortran using
> Hmisc.so?

You need void F77_SUB(rank)(...)

> A second problem is that in the Design library I
> have Fortran code such as
>
>   CALL dqrsl1(.....)
>
> When doing library(Design) I get an unknown symbol
> dqrsl1_.  I know that R base has LINPACK routines such
> as dqrsl1.

Not that one.  It has dqrsl only. See src/include/R_ext/Linpack.h

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 18:44:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 17:44:16 +0100 (BST)
Subject: [R] R Function Guide
In-Reply-To: <asjsht0dcqn53d9g430gkpjanvonqdsmrf@4ax.com>
Message-ID: <Pine.LNX.4.31.0106061740190.1709-100000@gannet.stats>

On Wed, 6 Jun 2001, Duncan Murdoch wrote:

> On Wed, 6 Jun 2001 07:23:14 +0100 (BST), Prof Brian D Ripley
> <ripley at stats.ox.ac.uk> wrote in message
> <Pine.GSO.4.31.0106060712410.19713-100000 at auk.stats>:
>
> > Thre have been lots of postings to
> >R-help recently where help.search() would have given the answer, so it
> >looks like an under-used tool.
>
> What about making ?topic try help.search(topic) if help(topic) fails?
>
> It's a very small modification to the help() source, basically just
> replacing two "stop(some message)" calls with "cat(some message)", and
> adding the help.search calls.  I'd probably add another parameter
> "try.help.search" that defaults to FALSE when help() is called, and is
> set to TRUE when ? is used.

One issue in the past (including 1.2.3) is that the first time help.search
is called in a session it builds a database which can take minutes (lots
of packages, NFS disks). Looks a lot better under 1.3.0.

I think I would still rather say `try help.search(topic)'.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 19:03:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 18:03:40 +0100 (BST)
Subject: [R] Nroff -> .Rd -> R-ex; html
In-Reply-To: <200106061639.MAA19927@www.mail.Virginia.EDU>
Message-ID: <Pine.LNX.4.31.0106061758190.1709-100000@gannet.stats>

On Wed, 6 Jun 2001, Frank E Harrell Jr wrote:

> I am using R 1.2.3 on Linux Mandrake 7.2.
> I have a ton of S Nroff help files that end
> with source code typified by the following:
>
> Last S statement in an example, e.g. X <- y
> ..KW models
> ..KW regression
> ..WR

(one dot only?)

> When using R RMD Sd2Rd to create the .Rd file I get
>
> X <- y
> \keyword{models}
> \keyword{regression}
> }
>
> The } matches a { in \examples{ at the beginning
> of the example code (started in Nroff by .EX).
> When examples are extracted for R-ex the keywords
> are in the example code.  Please advise on
> a workaround or patch to Sd2Rd.  I hope to avoid
> editing dozens of help files.

Are you sure this is 1.2.3's Sd2Rd: 1.2.2's did that and I
fixed it?  I've just tried about 20 examples in 1.2.3
without problems, so can you send me an example?


> One minor different request:  In my nroff files I frequently
> insure that lines are not run together by using
> code such as
>
> ..AU
> first line
> ..sp 0
> second line
> ..PP
> second author first line
> ..sp 0
> second line

> Sd2Rd puts blank lines around the above text lines,
> and when the final html is made there are many
> <p>   </p> pairs in the text resulting in doublespacing.
> If the scripts could
> be slightly changed to treat .sp 0 so that ultimately
> <p> </p> will not be the result that would be great.

Again, can you give me an example?  It looks trivial to add.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akirillov at anvilinformatics.com  Wed Jun  6 19:12:52 2001
From: akirillov at anvilinformatics.com (Alexander Kirillov)
Date: Wed, 6 Jun 2001 13:12:52 -0400
Subject: [R] Calling R from C++ application
Message-ID: <MLEBJOLHGBKPIBIDDOEDIEGJCAAA.akirillov@anvilinformatics.com>

Hi,

I am trying to figure out if it's possible
to use R as a computational engine
for a C++-based windows application.

What I would like to do (from my C++ program)is:
- start R
- send some data from my program to R
- execute R program
- get data back to my application
(I was able to implement all this for
Matlab.)

I looked at Chapter 4 of "Modern Applied
Statistics with S-plus" by Venables and Ripley
(Springer, 1996) and stumbled on a statement:

"Note that it is only possible to call S functions
from within C functions called from S..."

Is this still true for the latest version of R?
If not, is there a place where I can look at the
sample code that calls R?

Thanks,

Alexander Kirillov



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 19:22:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Jun 2001 18:22:09 +0100 (BST)
Subject: [R] Calling R from C++ application
In-Reply-To: <MLEBJOLHGBKPIBIDDOEDIEGJCAAA.akirillov@anvilinformatics.com>
Message-ID: <Pine.LNX.4.31.0106061817020.1929-100000@gannet.stats>

On Wed, 6 Jun 2001, Alexander Kirillov wrote:

> Hi,
>
> I am trying to figure out if it's possible
> to use R as a computational engine
> for a C++-based windows application.
>
> What I would like to do (from my C++ program)is:
> - start R
> - send some data from my program to R
> - execute R program
> - get data back to my application
> (I was able to implement all this for
> Matlab.)
>
> I looked at Chapter 4 of "Modern Applied
> Statistics with S-plus" by Venables and Ripley
> (Springer, 1996) and stumbled on a statement:
>
> "Note that it is only possible to call S functions
> from within C functions called from S..."
>
> Is this still true for the latest version of R?

No.

> If not, is there a place where I can look at the
> sample code that calls R?

Two choices:

The DCOM interface by Thomas Baier, on CRAN under
Software->Other->Non-standard packages

Use an alternative front end:  src/gnuwin32/front-ends/readme.

Both have examples in C.  The first is probably closer to what you
did in Matlab.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Jun  6 19:44:49 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 6 Jun 2001 19:44:49 +0200
Subject: [R] lattice (!under development!) font curiosity
Message-ID: <20010606194449.A862@gmx.de>

Perhaps this might be a font problem, it might be that my font dirs
are broken (but I don't think so, it is a standard potato inst.):

> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=2))

...displays German special characters false (as greek letters).

Curiously these work o.k.:

> xyplot(rnorm(10) ~ rnorm(10) ,main="?dsa")
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=1))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=3))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=4))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=6))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=7))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=1.9))
> xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=2.1))

This isn't a really big problem (if it is one). 
Peter

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:grid, package:lattice, package:ctest, Autoloads, package:base

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at xlsolutions-corp.com  Wed Jun  6 20:48:10 2001
From: roger at xlsolutions-corp.com (Roger Ngouenet)
Date: Wed, 06 Jun 2001 11:48:10 -0700
Subject: [R] Course: R Fundamentals and Programming Techinques, Washington DC - August 1-3, 2001
Message-ID: <200106061848.f56Im9M27619@badass.hosting-network.com>

 XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a three-day R course, "R Fundamentals and Programming
Techniques," in:

Washington, DC - August 1-3, 2001.

This special three-day R course is designed for those who want to learn
to write R programs to accomplish typical data-processing tasks, including 
creating graphics. The course will give beginners a strong foundation for
becoming a versatile R programmer, and will expose experienced users to
skills that make a better R programmer.

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.


Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the 
essentials of data manipulation, graphical visualization and R 
programming. We will explore statistical data analysis tools, including 
graphics with data sets from areas such as Finance, Biopharm, 
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.



Cost for 3-day course: Washington, DC - August 1-3, 2001.
 

Commercial $985
Academic And Government $875

(Includes course materials and 90 days Technical Support for R.)

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with 
bound copies of the notes and a CD-ROM containing all examples, 
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


================================================================================
==

Three-day August R Fundamentals and Programming Techniques 

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and 
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

...................................................................

...................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at email.unc.edu  Wed Jun  6 21:15:27 2001
From: aperrin at email.unc.edu (ANDREW PERRIN)
Date: Wed, 6 Jun 2001 15:15:27 -0400 (EDT)
Subject: [R] HLM-like analysis in R
Message-ID: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>

Greetings-

I have some data on which I need to do something like a Hierarchical
Linear Model (please bear with me, I'm only learning the technique so I
don't know yet if my language is correct).  Essentially I'm analyzing data
at two levels simultaneously; data are about individuals an organizations
of which they are members.

Can someone point me toward an appropriate package in R?

Thanks.

---------------------------------------------------------
   Andrew J. Perrin - Assistant Professor of Sociology
        University of North Carolina, Chapel Hill
269 Hamilton Hall CB#3210, Chapel Hill, NC 27599-3210 USA
   andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jun  6 21:40:30 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Jun 2001 14:40:30 -0500
Subject: [R] HLM-like analysis in R
In-Reply-To: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>
References: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>
Message-ID: <6rlmn58ki9.fsf@franz.stat.wisc.edu>

ANDREW PERRIN <aperrin at email.unc.edu> writes:

> I have some data on which I need to do something like a Hierarchical
> Linear Model (please bear with me, I'm only learning the technique so I
> don't know yet if my language is correct).  Essentially I'm analyzing data
> at two levels simultaneously; data are about individuals an organizations
> of which they are members.
> 
> Can someone point me toward an appropriate package in R?

Yes - the nlme package.

The use of the lme (linear mixed effects) function from the nlme
package for multilevel analysis or hierarchical linear models is
described in

@Book{pinh:bate:2000,
  author =	 {Jos\'{e} C. Pinheiro and Douglas M. Bates},
  title = 	 {Mixed-Effects Models in \textsf{S} and \textsf{S-PLUS}},
  publisher = 	 {Springer},
  year = 	 2000,
  series =	 {Statistics and Computing}
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  6 22:00:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Jun 2001 21:00:45 +0100 (BST)
Subject: [R] lattice (!under development!) font curiosity
In-Reply-To: <20010606194449.A862@gmx.de>
Message-ID: <Pine.GSO.4.31.0106062058290.8826-100000@auk.stats>

On Wed, 6 Jun 2001, Peter Malewski wrote:

> Perhaps this might be a font problem, it might be that my font dirs

I am fairly sure it is. It works for me on Solaris 2.7 (all do).

> are broken (but I don't think so, it is a standard potato inst.):
>
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=2))
>
> ...displays German special characters false (as greek letters).
>
> Curiously these work o.k.:
>
> > xyplot(rnorm(10) ~ rnorm(10) ,main="dsa")
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=1))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=3))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=4))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=5))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=6))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=7))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=1.9))
> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("dsa",cex=2.1))
>
> This isn't a really big problem (if it is one).
> Peter
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.3
>  year = 2001
>  month = 04
>  day = 26
>  language = R
>
> Search Path:
>  .GlobalEnv, package:grid, package:lattice, package:ctest, Autoloads, package:base
>
> --
> P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
> At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190,
> P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Jun  6 22:14:42 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 6 Jun 2001 22:14:42 +0200
Subject: [R] lattice (!under development!) font curiosity
In-Reply-To: <Pine.GSO.4.31.0106062058290.8826-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Jun 06, 2001 at 09:00:45PM +0100
References: <20010606194449.A862@gmx.de> <Pine.GSO.4.31.0106062058290.8826-100000@auk.stats>
Message-ID: <20010606221442.A600@gmx.de>

On Wed, Jun 06, 2001 at 09:00:45PM +0100, Prof Brian D Ripley wrote:
> 
> I am fairly sure it is. It works for me on Solaris 2.7 (all do).

I'll take a look.
Thanks
Peter
-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Jun  6 22:16:38 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 6 Jun 2001 22:16:38 +0200
Subject: [R] HLM-like analysis in R
In-Reply-To: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>; from aperrin@email.unc.edu on Wed, Jun 06, 2001 at 03:15:27PM -0400
References: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>
Message-ID: <20010606221638.B600@gmx.de>

On Wed, Jun 06, 2001 at 03:15:27PM -0400, ANDREW PERRIN wrote:
> I have some data on which I need to do something like a Hierarchical
> Linear Model (please bear with me, I'm only learning the technique so I
> don't know yet if my language is correct).  Essentially I'm analyzing data
> at two levels simultaneously; data are about individuals an organizations
> of which they are members.

Take a look at the nlme library. A good additional reference:


@Book{Pinheiro00,
  author = 	 {Jos? C. Pinheiro and Douglas M. Bates},
  ALTeditor = 	 {},
  title = 	 {Mixed Effect Models in S and S-Plus},
  publisher = 	 {Springer},
  year = 	 {2000},
}


Peter


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbowers at csm.berkeley.edu  Wed Jun  6 23:24:38 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Wed, 6 Jun 2001 14:24:38 -0700 (PDT)
Subject: [R] HLM-like analysis in R
In-Reply-To: <Pine.A41.4.21L1.0106061514170.34148-100000@login9.isis.unc.edu>
Message-ID: <Pine.SV4.3.96.1010606142106.19137B-100000@csm.Berkeley.EDU>


Try lme in the nlme package (available on CRAN) and/or Jim Lindsey's
repeated measurements package (available at
http://alpha.luc.ac.be/~lucp0753/rcode.html). 

Best,

Jake
-----
Jake Bowers
Dept of Political Science
UC-Berkeley


On Wed, 6 Jun 2001, ANDREW PERRIN wrote:

> Greetings-
> 
> I have some data on which I need to do something like a Hierarchical
> Linear Model (please bear with me, I'm only learning the technique so I
> don't know yet if my language is correct).  Essentially I'm analyzing data
> at two levels simultaneously; data are about individuals an organizations
> of which they are members.
> 
> Can someone point me toward an appropriate package in R?
> 
> Thanks.
> 
> ---------------------------------------------------------
>    Andrew J. Perrin - Assistant Professor of Sociology
>         University of North Carolina, Chapel Hill
> 269 Hamilton Hall CB#3210, Chapel Hill, NC 27599-3210 USA
>    andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Jun  7 06:43:58 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 7 Jun 2001 16:43:58 +1200
Subject: [R] face plots?
References: <200106041415.f54EF4J04863@mail1.sas.upenn.edu>
Message-ID: <02d101c0ef0c$772ba950$175dd882@stat.auckland.ac.nz>

Hi


> i was wondering whether it is possible to do face plots using R, or any 
> other type of multivariate plot?  thanks:)


You can do star plots using the stars() function.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun  7 08:57:49 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 7 Jun 2001 08:57:49 +0200
Subject: [R] lattice (!under development!) font curiosity
In-Reply-To: <Pine.GSO.4.31.0106062058290.8826-100000@auk.stats>
References: <20010606194449.A862@gmx.de>
	<Pine.GSO.4.31.0106062058290.8826-100000@auk.stats>
Message-ID: <15135.9709.93781.90018@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Wed, 6 Jun 2001, Peter Malewski wrote:
    >> Perhaps this might be a font problem, it might be that my font dirs

    BDR> I am fairly sure it is. It works for me on Solaris 2.7 (all do).

    >> are broken (but I don't think so, it is a standard potato inst.):
    >> 
    >> > xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=2))
    >> 
    >> ...displays German special characters false (as greek letters).
    >> 
    >> Curiously these work o.k.:
    >> 
    >> > xyplot(rnorm(10) ~ rnorm(10) ,main="?dsa") > xyplot(rnorm(10) ~
    >> rnorm(10) ,main=list("???dsa",cex=1)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=3)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=4)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=5)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=6)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=7)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=1.9)) > xyplot(rnorm(10) ~ rnorm(10)
    >> ,main=list("???dsa",cex=2.1))
    >> 
    >> This isn't a really big problem (if it is one).  Peter
    >> 
    >> Version: platform = i686-pc-linux-gnu arch = i686 os = linux-gnu
    >> system = i686, linux-gnu status = major = 1 minor = 2.3 year = 2001
    >> month = 04 day = 26 language = R
    >> 
    >> Search Path: .GlobalEnv, package:grid, package:lattice,
    >> package:ctest, Autoloads, package:base

Interesting.

I have similar but different problems.
Using a redhat 6.2 version about whose X-fonts paths I've been having big
doubts for a long time;  
Anyway, here is what I get
  {for lattice-started X11();  
   by the way, with postscript() I do get pretty nonsense ..}

require(lattice)

                                        #  Redhat 6.2 as for Martin M?chler:
xyplot(rnorm(10) ~ rnorm(10) ,main="?dsa") # ok
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=1))# ok
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=1.9))# Cyrillic "D|Sch|3|d|s|a"
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=2)) #ok
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=2.1))# Cyrillic
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=3))# Cyrillic
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=4))# Cyrillic
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=4.99))#Cyrillic
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5))# __greek__ !!!!!
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5.05))# greek
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5.08))# greek
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5.099))# greek
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5.1))# Cyrillic again
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=5.4))# Cyrillic again
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=6))# Cyrillic again
xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=7))# Cyrillic

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun  7 09:44:32 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 07 Jun 2001 09:44:32 +0200
Subject: [R] lattice (!under development!) font curiosity
References: <20010606194449.A862@gmx.de>
		<Pine.GSO.4.31.0106062058290.8826-100000@auk.stats> <15135.9709.93781.90018@gargle.gargle.HOWL>
Message-ID: <3B1F30E0.D2086E65@statistik.uni-dortmund.de>

Martin Maechler wrote:

> Interesting.
> 
> I have similar but different problems.
> Using a redhat 6.2 version about whose X-fonts paths I've been having big
> doubts for a long time;
> Anyway, here is what I get
>   {for lattice-started X11();
>    by the way, with postscript() I do get pretty nonsense ..}


Use trellis.device():
 
 trellis.device("postscript")
 require(lattice)
 xyplot(rnorm(10) ~ rnorm(10) ,main=list("???dsa",cex=6))# Cyrillic
again
 dev.off()

Not really nonsense, but 2 pages of output, the first blank, the second
with the expected result on WinNT.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Thu Jun  7 10:27:29 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Thu, 7 Jun 2001 10:27:29 +0200
Subject: [R] lattice (!under development!) font curiosity
In-Reply-To: <15135.9709.93781.90018@gargle.gargle.HOWL>; from maechler@stat.math.ethz.ch on Thu, Jun 07, 2001 at 08:57:49AM +0200
References: <20010606194449.A862@gmx.de> <Pine.GSO.4.31.0106062058290.8826-100000@auk.stats> <15135.9709.93781.90018@gargle.gargle.HOWL>
Message-ID: <20010607102729.A750@gmx.de>


On Thu, Jun 07, 2001 at 08:57:49AM +0200, Martin Maechler wrote:
> Anyway, here is what I get
>   {for lattice-started X11();  
>    by the way, with postscript() I do get pretty nonsense ..}

Perhaps you have forgotten that "grid.start"

postscript("/tmp/tmp.ps")
grid.start()
for(i in seq(0,10,.2))print.trellis(xyplot(rnorm(10) ~ rnorm(10) ,main=list(
                                                                    paste("???dsa\t",i),
                                                                    cex=i)))
dev.off()

then the output and all fonts are o.k. BTW: If you look at the ylabs
you see that the are centered at the plot region, not at the y-axis
(look at that one with cex=10).


>                                         #  Redhat 6.2 as for Martin M?chler:

That shows the superiority of debian ;-)...

Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Jun  7 10:49:02 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 07 Jun 2001 10:49:02 +0200
Subject: [R] nlme html?
Message-ID: <3.0.6.32.20010607104902.0096d830@mail.wsl.ch>

Hi,

When installing "nlme" from CRAN on Solaris 5.3.1 by doing

install.packages("nlme")

I get:

[clip]
gcc -G  -o nlme.so corStruct.o gnls.o matrix.o nlOptimizer.o nlme.o
nlmefit.o nls.o pdMat.o -L/usr/local/lib  
 R
 data
 inst
/usr/local/lib/R/bin/INSTALL: /bin/perl: not found
 help
/usr/local/lib/R/bin/INSTALL: /usr/local/lib/R/bin/build-help: not found
/usr/local/lib/R/bin/INSTALL: /usr/local/lib/R/bin/Rd2contents: not found
 DONE (nlme)

I wonder why I have never encountered this difficulty before. I have:

> .lib.loc
[1] "/home/woodstock/hoffmann/R/Sources/lib"
[2] "/usr/local/lib/R/library"              

and

/bin >which perl
/usr/local/bin/perl

This seems non-standard!?

And quite OK:

/usr/local/lib/R/bin> ls
-rwxr-xr-x   1 root     other       1651 Apr 26 11:26 BATCH*
-rwxr-xr-x   1 root     other       1596 Apr 26 11:26 COMPILE*
-rwxr-xr-x   1 root     other      10177 Apr 26 11:26 INSTALL*
-rwxr-xr-x   1 root     other       1636 Apr 26 11:26 LINK*
-rwxr-xr-x   1 root     other       4952 Apr 26 11:26 R*
[clip]
-rwxr-xr-x   1 root     other        771 Apr 26 11:26 Rcmd*
-rwxr-xr-x   1 root     other       1030 Apr 26 11:26 Rd2contents*
-rwxr-xr-x   1 root     other       4190 Apr 26 11:26 Rd2dvi*
-rwxr-xr-x   1 root     other        838 Apr 26 11:26 Rd2txt*
-rwxr-xr-x   1 root     other       3259 Apr 26 11:26 Rdconv*
-rwxr-xr-x   1 root     other        789 Apr 26 11:26 Rdiff*
-rwxr-xr-x   1 root     other       3711 Apr 26 11:26 Rdindex*
-rwxr-xr-x   1 root     other       2993 Apr 26 11:26 Rprof*
-rwxr-xr-x   1 root     other       2343 Apr 26 11:26 SHLIB*
-rwxr-xr-x   1 root     other      16036 Apr 26 11:26 Sd2Rd*
-rwxr-xr-x   1 root     other       8841 Apr 26 11:26 build*
-rwxr-xr-x   1 root     other       7147 Apr 26 11:26 build-help*
[clip]


Thanks for your consideration.
-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  7 11:33:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Jun 2001 10:33:31 +0100 (BST)
Subject: [R] nlme html?
In-Reply-To: <3.0.6.32.20010607104902.0096d830@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0106071026280.2341-100000@gannet.stats>

On Thu, 7 Jun 2001, Christian Hoffmann wrote:

> Hi,
>
> When installing "nlme" from CRAN on Solaris 5.3.1 by doing

Solaris numbers went 2.5, 2.5.1, 2.6, 2.7 aka 7, 8, 9.  The underlying OS
is SunOS with version numbers like 5.3...5.6, 5.7, .... Try uname -a:

markov% uname -a
SunOS markov.stats 5.7 Generic_106541-14 sun4u sparc SUNW,Ultra-4

I don't recall a 5.3.1, but it would be very old.

> install.packages("nlme")
>
> I get:
>
> [clip]
> gcc -G  -o nlme.so corStruct.o gnls.o matrix.o nlOptimizer.o nlme.o
> nlmefit.o nls.o pdMat.o -L/usr/local/lib
>  R
>  data
>  inst
> /usr/local/lib/R/bin/INSTALL: /bin/perl: not found
>  help
> /usr/local/lib/R/bin/INSTALL: /usr/local/lib/R/bin/build-help: not found
> /usr/local/lib/R/bin/INSTALL: /usr/local/lib/R/bin/Rd2contents: not found
>  DONE (nlme)
>
> I wonder why I have never encountered this difficulty before. I have:
>
> > .lib.loc
> [1] "/home/woodstock/hoffmann/R/Sources/lib"
> [2] "/usr/local/lib/R/library"
>
> and
>
> /bin >which perl
> /usr/local/bin/perl
>
> This seems non-standard!?

It's standard on Solaris.  There is a Perl install-time option to link to
/usr/bin/perl, I think (and /bin is linked to /usr/bin).

It seems that when R was installed, /bin/perl was found in the path.
Is it possible that the path has been changed or Perl re-installed?
If so the simplest thing is to re-install R, as this is encoded in lots
of places.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Jun  7 15:51:08 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Thu, 7 Jun 2001 06:51:08 -0700
Subject: [R] Making a contributed library part of R-base
In-Reply-To: <Pine.LNX.4.31.0106071026280.2341-100000@gannet.stats>
Message-ID: <HBEHIIBBKKNOBLMPKCBBMEAGDHAA.znmeb@aracnet.com>

How are the libraries that are distributed with R-base chosen for inclusion?
There is one, "sm", that I use quite often, and it would be a minor
convenience if this one was included with R-base. Would it be possible to
distribute all the GPL contributed libraries with R-base and allow the user
to choose the ones to be included on the destination system at install time?
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Thu Jun  7 16:41:30 2001
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Thu, 7 Jun 2001 16:41:30 +0200
Subject: [R] once more: methods on missing data
Message-ID: <OFCCCB501B.69435154-ONC1256A64.004AE46D@evotec.de>


Thanks for replies, but i was not precise enough.

The problem is not evaluating statistics on data with NA values.
The problem is evaluation of statistics on data with length = 0.

To make the problem more clear this is what i tried:

This works fine:

     tapply(as.numeric(c(NA,2)), as.factor(c("a","b")), summary)

But i need SDev, aswell, so i copied summary.default to my.summary and
changed only the line

        qq <- signif(c(qq[1:3], mean(object), qq[4:5]), digits)
        names(qq) <- c("Min.", "1st Qu.", "Median", "Mean", "3rd Qu.",
"Max.")
to

     qq <- signif(c(qq[1:3], mean(object), qq[4:5], sd(object),
mad(object)), digits)
        names(qq) <- c("Min.", "1st Qu.", "Median", "Mean", "3rd Qu.",
"Max.","SDev","MAD")

and

     tapply(as.numeric(c(NA,2)), as.factor(c("a","b")), my.summary)

results in

     Error in var(x, na.rm = na.rm) : `x' is empty

I think this is a frequent problem. It results from the following.

The result of the call

     x <- as.numeric(c(NA,NA,NA)); STATISTIC(x[!is.na(x)])

depends on the STATISTIC.

     STATISTIC           RESULT
     min                 Inf and warning message
     max                 -Inf and warning message
     mean                NaN and no warning message
     quantile            named vector containing NAs and no warning message
     sd                  abortion of the evaluation with an error message

The breakup is more difficult to handle.

What i did is changing the var function. I changed

     .Internal(cov(x, y, na.method))
to
     z <- try(.Internal(cov(x, y, na.method)))
     if (inherits(z, "try-error")) return(as.numeric(NA))
     else return(z)

This works fine, but a solution within cov.c would be better, i think.
I try not to change standard source code on myself, as i don't know if
this has any consequences.

Should not the statistics generally return NA and a warning message?

Hope this is not a too marginal problem.

Maciej



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun  7 17:16:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 7 Jun 2001 08:16:14 -0700 (PDT)
Subject: [R] once more: methods on missing data
In-Reply-To: <OFCCCB501B.69435154-ONC1256A64.004AE46D@evotec.de>
Message-ID: <Pine.A41.4.33.0106070802490.48906-100000@homer17.u.washington.edu>

On Thu, 7 Jun 2001 Maciej.Hoffman-Wecker at evotecoai.com wrote in part:

>
> The result of the call
>
>      x <- as.numeric(c(NA,NA,NA)); STATISTIC(x[!is.na(x)])
>
> depends on the STATISTIC.
>
>      STATISTIC           RESULT
>      min                 Inf and warning message
>      max                 -Inf and warning message
>      mean                NaN and no warning message
>      quantile            named vector containing NAs and no warning message
>      sd                  abortion of the evaluation with an error message
>
<snip>
> Should not the statistics generally return NA and a warning message?
>

Ideally, they shouldn't.  NA is missing data -- that is, we don't know the
value of the statistic because some data were not measured. That's why,
for example  NA & FALSE is FALSE, not NA, because the value of the
expression is known, no matter what the first operand is.

The results for min() and max() have the rationale that eg max(a,max(b))
should return the same as max(a,b) even when b is empty. There's even some
examples where this is genuinely helpful.

If the others were to return a value I think NaN (undefined numerical
result) would be better than NA (missing data), as is the case with
mean(). This would argue for changing the return value of quantile() as
well.

However, I think it's reasonable for a function to refuse to calculate the
variance of no data. We do have try() to handle errors if needed.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Jun  7 17:39:09 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 07 Jun 2001 17:39:09 +0200
Subject: [R] once more: methods on missing data
References: <OFCCCB501B.69435154-ONC1256A64.004AE46D@evotec.de>
Message-ID: <3B1FA01D.4938EC6F@ci.tuwien.ac.at>

> The result of the call
> 
>      x <- as.numeric(c(NA,NA,NA)); STATISTIC(x[!is.na(x)])
> 
> depends on the STATISTIC.
> 
>      STATISTIC           RESULT
>      min                 Inf and warning message
>      max                 -Inf and warning message
>      mean                NaN and no warning message
>      quantile            named vector containing NAs and no warning message
>      sd                  abortion of the evaluation with an error message

OK, now I see your problem. R 1.2.3 gives the following for your
example:

> sd(x[!is.na(x)])
Error in var(x, na.rm = na.rm) : `x' is emptyplatform
sparc-sun-solaris2.7

but this seems to be fixed in the current development version (the
forthcoming R 1.3.0)

> sd(x[!is.na(x)])
[1] NA

I'm not sure, what difference in the code is responsible for this but I
hope this helps. My respective systems are given below.
Achim


---------------------------
Achim Zeileis
Institut f?r Statistik
Technische Universit?t Wien


platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    2.3                 
year     2001                
month    04                  
day      26                  
language R   

platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    3.0                         
year     2001                        
month    03                          
day      20                          
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Thu Jun  7 17:51:56 2001
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Thu, 07 Jun 2001 10:51:56 -0500
Subject: [R] Diag "Hat" matrix
Message-ID: <3B1FA31C.D9B73C5C@perseus.unalmed.edu.co>

Hi R users:

What is the difference between in the computation of the diag of the
"hat" matrix in:
"lm.influence" and the matrix operations with "solve()" and "t()"?

I mean, this is my X matrix

        x1    x2    x3    x4     x5
 [1,] 0.297 0.310 0.290 0.220 0.1560
 [2,] 0.360 0.390 0.369 0.297 0.2050
 [3,] 0.075 0.058 0.047 0.034 0.0230
 [4,] 0.114 0.100 0.081 0.058 0.0420
 [5,] 0.229 0.213 0.198 0.142 0.0102
 [6,] 0.315 0.304 0.267 0.202 0.1470
 [7,] 0.477 0.518 0.496 0.395 0.2850
 [8,] 0.072 0.063 0.047 0.036 0.0240
 [9,] 0.099 0.092 0.074 0.056 0.0038
[10,] 0.420 0.452 0.425 0.332 0.2350
[11,] 0.189 0.178 0.153 0.107 0.0760
[12,] 0.369 0.391 0.364 0.286 0.2000
[13,] 0.142 0.124 0.105 0.077 0.0560
[14,] 0.094 0.087 0.072 0.049 0.0320
[15,] 0.171 0.161 0.145 0.094 0.0680
[16,] 0.378 0.420 0.380 0.281 0.2000

If I use:
diag(X%*%solve(t(X)%*%X)%*%t(X))
I obtain:
 [1] 0.15248181 0.27102872 0.11476375 0.12941386 0.90455886 0.32246292
 [7] 0.43858581 0.16533854 0.37415984 0.19100227 0.17023090 0.15125134
[13] 0.17855019 0.06023773 0.52137996 0.85455350

But when I use the lm.influence() function
lm.influence(mt)$hat
I obtain:
 [1] 0.1735989 0.2999146 0.2334095 0.1455117 0.9216644 0.7553856
0.4486403
 [8] 0.2755802 0.4188349 0.1914242 0.1790093 0.1573939 0.1787553
0.1975511
[15] 0.5664988 0.8568274
mt is a model of the type y~x1+x2+x3+x4+x5, where y is:
y
[1]  17  17  35  69  69 173 173  17  17  73  17  35  69  35  35  52

As you see the differences are no too small.
Where is the problem? Is only a numerical stability problem?

Thank you very much for your help


Kenneth Cabrera
krcabrer at perseus.unalmed.edu.co
krcabrer at epm.net.co
Universidad Nacional de Colombia
Sede Medellin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  7 18:00:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Jun 2001 17:00:19 +0100 (BST)
Subject: [R] Diag "Hat" matrix
In-Reply-To: <3B1FA31C.D9B73C5C@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0106071658020.3391-100000@gannet.stats>

On Thu, 7 Jun 2001, Kenneth Cabrera wrote:

> Hi R users:
>
> What is the difference between in the computation of the diag of the
> "hat" matrix in:
> "lm.influence" and the matrix operations with "solve()" and "t()"?

None.  You have forgotten the intercept: the design matrix for

y~x1+x2+x3+x4+x5

has a first column of ones.  Try using cbind(1, X).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  7 18:11:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 2001 18:11:03 +0200
Subject: [R] Diag "Hat" matrix
In-Reply-To: Kenneth Cabrera's message of "Thu, 07 Jun 2001 10:51:56 -0500"
References: <3B1FA31C.D9B73C5C@perseus.unalmed.edu.co>
Message-ID: <x2hexss220.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

> Hi R users:
> 
> What is the difference between in the computation of the diag of the
> "hat" matrix in:
> "lm.influence" and the matrix operations with "solve()" and "t()"?
> 
> I mean, this is my X matrix
> 
>         x1    x2    x3    x4     x5
>  [1,] 0.297 0.310 0.290 0.220 0.1560
...
> [16,] 0.378 0.420 0.380 0.281 0.2000
> 
> If I use:
> diag(X%*%solve(t(X)%*%X)%*%t(X))
> I obtain:
>  [1] 0.15248181 0.27102872 0.11476375 0.12941386 0.90455886 0.32246292
>  [7] 0.43858581 0.16533854 0.37415984 0.19100227 0.17023090 0.15125134
> [13] 0.17855019 0.06023773 0.52137996 0.85455350
> 
> But when I use the lm.influence() function
> lm.influence(mt)$hat
> I obtain:
>  [1] 0.1735989 0.2999146 0.2334095 0.1455117 0.9216644 0.7553856
> 0.4486403
>  [8] 0.2755802 0.4188349 0.1914242 0.1790093 0.1573939 0.1787553
> 0.1975511
> [15] 0.5664988 0.8568274
> mt is a model of the type y~x1+x2+x3+x4+x5, where y is:
> y
> [1]  17  17  35  69  69 173 173  17  17  73  17  35  69  35  35  52
> 
> As you see the differences are no too small.
> Where is the problem? Is only a numerical stability problem?
> 
> Thank you very much for your help

The intercept? What if you use X2<-cbind(1,X) or y~x1+x2+x3+x4+x5-1

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jun  7 18:19:51 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 07 Jun 2001 11:19:51 -0500
Subject: [R] Diag "Hat" matrix
In-Reply-To: <3B1FA31C.D9B73C5C@perseus.unalmed.edu.co>
References: <3B1FA31C.D9B73C5C@perseus.unalmed.edu.co>
Message-ID: <6rae3kfejc.fsf@franz.stat.wisc.edu>

Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

> What is the difference between in the computation of the diag of the
> "hat" matrix in:
> "lm.influence" and the matrix operations with "solve()" and "t()"?

> I mean, this is my X matrix

>         x1    x2    x3    x4     x5
>  [1,] 0.297 0.310 0.290 0.220 0.1560
>  [2,] 0.360 0.390 0.369 0.297 0.2050
>  [3,] 0.075 0.058 0.047 0.034 0.0230
>  [4,] 0.114 0.100 0.081 0.058 0.0420
>  [5,] 0.229 0.213 0.198 0.142 0.0102
>  [6,] 0.315 0.304 0.267 0.202 0.1470
>  [7,] 0.477 0.518 0.496 0.395 0.2850
>  [8,] 0.072 0.063 0.047 0.036 0.0240
>  [9,] 0.099 0.092 0.074 0.056 0.0038
> [10,] 0.420 0.452 0.425 0.332 0.2350
> [11,] 0.189 0.178 0.153 0.107 0.0760
> [12,] 0.369 0.391 0.364 0.286 0.2000
> [13,] 0.142 0.124 0.105 0.077 0.0560
> [14,] 0.094 0.087 0.072 0.049 0.0320
> [15,] 0.171 0.161 0.145 0.094 0.0680
> [16,] 0.378 0.420 0.380 0.281 0.2000

If your model formula is y~x1+x2+x3+x4+x5 then the model matrix would
have a column of 1's followed by what you wrote.  Try defining X as
 X <- model.matrix(y~x1+x2+x3+x4+x5, data = <whatever>)
and re-doing your calculation.

In general, please note that

> diag(X%*%solve(t(X)%*%X)%*%t(X))

is a *very* bad way of calculating the influences.  Whenever you find
yourself writing something like solve(t(X)%*%X) you're doing the
numerical linear algebra badly.  The rule of thumb in numerical
linear algebra is that if the best way you can think of doing a
calculation involves taking the inverse of a matrix then you need to
think more about the calculation.

The way that lm.influence calculates the influences is through an
orthogonal-triangular decomposition which will be both faster and more
accurate than what you have written.

On today's machines "faster" doesn't matter that much for small or
moderate sized data sets.  On very large data sets faster still does
matter. "Accurate" should always be a concern.

> I obtain:
>  [1] 0.15248181 0.27102872 0.11476375 0.12941386 0.90455886 0.32246292
>  [7] 0.43858581 0.16533854 0.37415984 0.19100227 0.17023090 0.15125134
> [13] 0.17855019 0.06023773 0.52137996 0.85455350
> 
> But when I use the lm.influence() function
> lm.influence(mt)$hat
> I obtain:
>  [1] 0.1735989 0.2999146 0.2334095 0.1455117 0.9216644 0.7553856
> 0.4486403
>  [8] 0.2755802 0.4188349 0.1914242 0.1790093 0.1573939 0.1787553
> 0.1975511
> [15] 0.5664988 0.8568274
> mt is a model of the type y~x1+x2+x3+x4+x5, where y is:
> y
> [1]  17  17  35  69  69 173 173  17  17  73  17  35  69  35  35  52
> 
> As you see the differences are no too small.
> Where is the problem? Is only a numerical stability problem?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Thu Jun  7 19:22:01 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 07 Jun 2001 10:22:01 -0700
Subject: [R] line spacing in text()
Message-ID: <OF30DD2B18.73446723-ON88256A64.005F0451@rtp.epa.gov>

Varying cex causes line spacing to be appropriately adjusted in text (x, 
y, "line 1\nline 2",cex=), but varying par(ps=) does not.  Any chance of 
similar treatment for ps?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jun  7 22:13:56 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 07 Jun 2001 16:13:56 -0400
Subject: [R] Suggestion for tapply
Message-ID: <3B1FE084.D746648@virginia.edu>

In S-Plus the ... argument for tapply is before simplify.
In R (1.2.3) ... is after simplify, causing the user to
have to specify simplify every time ... is used even 
though the default is usually OK.  Unless there was a
benefit to reordering the arguments, it might be a good 
idea to reconsider the current function definition.  
... is probably used more than simplify 
(e.g., tapply(rainfall, state, quantile, probs=c(.25,.75))).

Thanks -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jun  7 22:23:45 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 07 Jun 2001 16:23:45 -0400
Subject: [R] P.S.: tapply
Message-ID: <3B1FE2D1.6BEE0EF@virginia.edu>

After sending my note I realized that I obscured one fact:
When tapply is invoked with names specified for the ...
arguments all is well.  I should have said that the suggestion
for changing tapply would only benefit cases such as
tapply(rainfall, state, quantile, c(.25,.75)) where
the argument passed through to quantile (probs) was
not named.  -Frank
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  7 23:01:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 2001 23:01:20 +0200
Subject: [R] Suggestion for tapply
In-Reply-To: Frank E Harrell Jr's message of "Thu, 07 Jun 2001 16:13:56 -0400"
References: <3B1FE084.D746648@virginia.edu>
Message-ID: <x2ofs00ztr.fsf@blueberry.kubism.ku.dk>

Frank E Harrell Jr <fharrell at virginia.edu> writes:

> In S-Plus the ... argument for tapply is before simplify.
> In R (1.2.3) ... is after simplify, causing the user to
> have to specify simplify every time ... is used even 
> though the default is usually OK.  Unless there was a
> benefit to reordering the arguments, it might be a good 
> idea to reconsider the current function definition.  
> ... is probably used more than simplify 
> (e.g., tapply(rainfall, state, quantile, probs=c(.25,.75))).
> 
> Thanks -Frank

Right. We have as standard strategy to be calling sequence compatible
with S(-PLUS), unless there's good reason not to, so this is close to
being a bug. Will fix for 1.3.0.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdm at xnet.com  Fri Jun  8 04:21:55 2001
From: jdm at xnet.com (Jeff Miller)
Date: Thu, 7 Jun 2001 21:21:55 -0500
Subject: [R] ranking the difference of two columns in a dataframe by groups
References: <Pine.LNX.4.31.0106061817020.1929-100000@gannet.stats>
Message-ID: <001001c0efc1$eb71bc40$cee7fea9@x2t9h6>



Hi All,

    I'm wondering if there is a simple way to do the following.

    I have a dataframe, optiondata, with four columns: ticker, expdate,
strike, and spot.

    A piece of it looks like this:

> optiondata

            sym        expdate           strike       spot
1          A           20010617       30.0         34.10
2          A           20010617       35.0         34.10
3          A           20010617       40.0         34.10
4          A           20010617       45.0         34.10
11        A           20010722       30.0         34.10
12        A           20010722       35.0         34.10
271     AAPL     20010722       27.5         20.94
272     AAPL     20010722       30.0         20.94
277     AAPL     20011021       12.5         20.94
278     AAPL     20011021       15.0         20.94

I'd like to add a fifth column to this dataframe,  moneyness.

The rule to calculate this quantity is:  take all distinct groups by ticker
and expdate,
then find the the strike closest to spot (min (abs( spot - strike))). This
has moneyness zero.
The strikes greater than this strike then have moneyness 1, 2, ...
and the strikes below are -1, -2, ...

The example above with the new column would look like

> optiondata

            sym        expdate           strike       spot        moneyness
1          A           20010617       30.0         34.10    -1
2          A           20010617       35.0         34.10     0
3          A           20010617       40.0         34.10     1
4          A           20010617       45.0         34.10     2
11        A           20010722       30.0         34.10    -1
12        A           20010722       35.0         34.10     0
271     AAPL     20010722       27.5         20.94     0
272     AAPL     20010722       30.0         20.94     1
277     AAPL     20011021       12.5         20.94     0
278     AAPL     20011021       15.0         20.94     1

Thanks in advance for any help.

    Jeff Miller








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun  8 10:11:47 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 8 Jun 2001 10:11:47 +0200
Subject: [R] boxplots -- new argument for location
In-Reply-To: <Pine.GSO.4.21.0105271051300.13398-100000@amadeus.statistik.uni-dortmund.de>
References: <Pine.SOL.3.96.1010526153120.21075E-100000@ysidro>
	<Pine.GSO.4.21.0105271051300.13398-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <15136.35011.284762.828558@gargle.gargle.HOWL>

>>>>> "Uwe" == Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
(on Sun, 27 May)

    Uwe> Roger Koenker wrote:

    >> Was there ever a convenient method provided to add boxplots to the
    >> current plot at specified x values?  There was a question by Martin
    >> Maechler some time ago here, but I could seem to find any
    >> satisfactory resolution of it.

    >> I see that there is an add=T option to boxplot and bxp, but I don't
    >> see how to set the x-values.


    Uwe> bxp() can easily be extended to handle a new argument like
    Uwe>  x.loc = NULL , in which you can specify the x-values manually:

(see below)
Thank you, Uwe,  a feature long overdue.
I'd propose to call the new argument `at' instead of `x.loc' 
since it's similar to the one in axis() and
since it will be `y locations' when horizontal = TRUE
-- and I'd add the `at =' both to boxplot() and to bxp() .

 Uwe> bxp <- 
 Uwe> function (z, notch = FALSE, width = NULL, varwidth=FALSE, notch.frac=0.5, 
 Uwe> boxwex = 0.8, border = par("fg"), col = NULL, log = "", pars = NULL, 
Uwe> -    frame.plot = axes, horizontal = FALSE, add = FALSE, ...) 
Uwe> +    frame.plot = axes, horizontal = FALSE, add = FALSE, x.loc = NULL,
 Uwe> ...) 
 Uwe> {

    Uwe> [SNIP]

 Uwe>   if (!add) {
 Uwe>     plot.new()
 Uwe>     if (horizontal) 
 Uwe>       plot.window(ylim = c(0.5, n + 0.5), xlim = ylim, 
 Uwe>         log = log)
 Uwe>     else plot.window(xlim = c(0.5, n + 0.5), ylim = ylim, 
 Uwe>         log = log)
 Uwe>   }
 Uwe> + if(is.null(x.loc))
 Uwe> +        x.loc <- 1:n
 Uwe> - for (i in 1:n) bplt(i, wid = width[i], stats = z$stats[, 
 Uwe> + for (i in 1:n) bplt(x.loc[i], wid = width[i], stats = z$stats[, 
 Uwe>     i], out = z$out[z$group == i], conf = z$conf[, i], notch = notch, 
 Uwe>     border = border[(i - 1)%%length(border) + 1], col = if (is.null(col)) 
 Uwe>       col
 Uwe>       else col[(i - 1)%%length(col) + 1], horizontal = horizontal)
 Uwe> 
 Uwe>    [SNIP]
 Uwe> 
 Uwe>   }

    Uwe> So you can do for example:

    Uwe>  my.bxp <- boxplot(data.frame(v13 = 1:10, v15 = 2:11))
    Uwe>  plot(1:20) 
    Uwe>  bxp(my.bxp, add = TRUE, x.loc = c(13, 15))

Any proposal for a more interesting example (to be added to the on-line
help in ?boxplot or ?bxp -- ?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jun  8 10:52:08 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 8 Jun 2001 10:52:08 +0200
Subject: [R] ranking the difference of two columns in a dataframe by groups
In-Reply-To: <001001c0efc1$eb71bc40$cee7fea9@x2t9h6>; from jdm@xnet.com on Thu, Jun 07, 2001 at 09:21:55PM -0500
References: <Pine.LNX.4.31.0106061817020.1929-100000@gannet.stats> <001001c0efc1$eb71bc40$cee7fea9@x2t9h6>
Message-ID: <20010608105207.B8299@rzpool01.pool.rz.tu-bs.de>

First: I'm (as usual) unsure if I understood you right
Second: The grouping thing should be trivial
Third: For the rest, this might give you a hint:

xx <- data.frame(g=sort(rep(1:3,len=20)),x=rnorm(20,10,10),y=rnorm(20,10,10))
xx <- xx[order(xx$g,xx$y-xx$x),]
xx$New <- unlist(by(xx[,c("x","y")],xx$g,function(x){
  WhichMin <- which.min(abs(x[,1]-x[,2]))
  Len <- length(x[,1])
  if(WhichMin>1) Lower <- sort(-(seq(0,WhichMin-1,1)))
  else Lower <- 0
  Upper <- seq(WhichMin+1,Len,1)-WhichMin
  c(Lower,Upper)
    
})
                 )
xx$Diff <- xx$y-xx$x
xx

Peter

On Thu, Jun 07, 2001 at 09:21:55PM -0500, Jeff Miller wrote:
> 
> 
> Hi All,
> 
>     I'm wondering if there is a simple way to do the following.
> 
>     I have a dataframe, optiondata, with four columns: ticker, expdate,
> strike, and spot.
> 
>     A piece of it looks like this:
> 
> > optiondata
> 
>             sym        expdate           strike       spot
> 1          A           20010617       30.0         34.10
> 2          A           20010617       35.0         34.10
> 3          A           20010617       40.0         34.10
> 4          A           20010617       45.0         34.10
> 11        A           20010722       30.0         34.10
> 12        A           20010722       35.0         34.10
> 271     AAPL     20010722       27.5         20.94
> 272     AAPL     20010722       30.0         20.94
> 277     AAPL     20011021       12.5         20.94
> 278     AAPL     20011021       15.0         20.94
> 
> I'd like to add a fifth column to this dataframe,  moneyness.
> 
> The rule to calculate this quantity is:  take all distinct groups by ticker
> and expdate,
> then find the the strike closest to spot (min (abs( spot - strike))). This
> has moneyness zero.
> The strikes greater than this strike then have moneyness 1, 2, ...
> and the strikes below are -1, -2, ...
> 
> The example above with the new column would look like
> 
> > optiondata
> 
>             sym        expdate           strike       spot        moneyness
> 1          A           20010617       30.0         34.10    -1
> 2          A           20010617       35.0         34.10     0
> 3          A           20010617       40.0         34.10     1
> 4          A           20010617       45.0         34.10     2
> 11        A           20010722       30.0         34.10    -1
> 12        A           20010722       35.0         34.10     0
> 271     AAPL     20010722       27.5         20.94     0
> 272     AAPL     20010722       30.0         20.94     1
> 277     AAPL     20011021       12.5         20.94     0
> 278     AAPL     20011021       15.0         20.94     1
> 
> Thanks in advance for any help.
> 
>     Jeff Miller
> 
> 
> 
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Fri Jun  8 11:57:15 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Fri, 08 Jun 2001 11:57:15 +0200
Subject: [R] margin text mtext
Message-ID: <3.0.6.32.20010608115715.0096e040@mail.wsl.ch>

Hi all,

Fiddling around with "mar" and "mtext" I got stuck:

plot.pcaX <- function(tit,lab) {
  on.exit(par(oldpar <- par(oma=c(4, 2, 4, 2), mar = c(4, 4, 2, 1)))) # ??
  split.screen(figs=c(3,3))
  for (i in 1:9) {screen(i);  plot(rnorm(100),rnorm(100)) }
  mtext(tit, side = 3, line = 1, outer = TRUE, cex = 1.5, adj = 0.5)
  mtext(paste(lab,", ", date()),side = 1,line=0,outer=TRUE,cex=0.5,adj=1)
  close.screen(all=T)
}

plot.pcaX("test","test.ps")

The plots are arranged without any margins, and "test" and "test.ps" will
not be printed on the plot.

 >uname -a
SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000
R-1.2.3

Thanks for hints
--christian


Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Jun  8 13:19:54 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 08 Jun 2001 12:19:54 +0100
Subject: [R] gss package 
Message-ID: <3B20B4DA.832E08B7@ipimar.pt>

Hi

I would like to know if the "penalty associated with the fit" that is
printed by the summary.ssanova function is the smoothing parameter
(\lambda) of the criterion function that's minimized to find f.

Thanks

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Jun  8 13:25:48 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 08 Jun 2001 12:25:48 +0100
Subject: [R] How to reference R in a scientific document ? 
Message-ID: <3B20B63C.D7117FF7@ipimar.pt>

Hi

I'm writing my MSC and I've used R to do the data analysis. Now I want
to make a reference to the program but I don't know how !

I thought of something like:

Anonymous. 2001. R - Data Analysis Environment. Version 1.2.3.
www.r-project.org

Can someone help me with this ?

Thanks

EJ



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri Jun  8 13:30:48 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 8 Jun 2001 13:30:48 +0200 (MET DST)
Subject: [R] How to reference R in a scientific document ? 
In-Reply-To: <3B20B63C.D7117FF7@ipimar.pt>
Message-ID: <Pine.OSF.4.30.0106081329150.23648-100000@alnair.uio.no>

On Fri, 8 Jun 2001, Jos? Ernesto Jardim wrote:

>I'm writing my MSC and I've used R to do the data analysis. Now I want
>to make a reference to the program but I don't know how !

That's in the FAQ,
<URL:http://cran.r-project.org/doc/FAQ/R-FAQ.html#Citing%20R> :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Fri Jun  8 17:35:44 2001
From: robert at compete.com (Robert Abugov)
Date: Fri, 8 Jun 2001 11:35:44 -0400
Subject: [R] Will R run in Batch mode?
Message-ID: <IFECIJELMCKDEACBAHGLIEKCCBAA.robert@compete.com>

A quick newbie question: Can R be run in batch mode from the command
line?I'd like to use input files and get output files. If so, where can I
find the documentation? help(batch) doesn't help.

Thanks!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun  8 17:40:09 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 8 Jun 2001 17:40:09 +0200
Subject: [R] Will R run in Batch mode?
In-Reply-To: <IFECIJELMCKDEACBAHGLIEKCCBAA.robert@compete.com>
References: <IFECIJELMCKDEACBAHGLIEKCCBAA.robert@compete.com>
Message-ID: <15136.61913.835703.995188@gargle.gargle.HOWL>

>>>>> "Robert" == Robert Abugov <robert at compete.com> writes:

    Robert> A quick newbie question: Can R be run in batch mode from the
    Robert> command line?
yes; in several ways even

    Robert> I'd like to use input files and get output files. If so, where
    Robert> can I find the documentation? help(batch) doesn't help.

but help(BATCH) does
or (in the command line !)

   R --help 

!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri Jun  8 18:26:13 2001
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 08 Jun 2001 17:26:13 +0100
Subject: [R]:predict.ppr
Message-ID: <3B20FC9F.2A28CDE4@esb.ucp.pt>

Hi all,

I am doing a projection pursuit regression using the ppr() function from
modreg.
I would also like to use predict.ppr(). However, I cannot find any
information about it in the help files. There is a link to predict.ppr
in the index for modreg, but that link is to the help for ppr().

Has predict.ppr() not been implemented?

If not, does anyone have a suggestion as to how to implement
predict.ppr()  in R?


Thanks


Peter

-------------------------------------------------
Peter Ho GradIFST
Escola Superior de Biotecnologia
Universidade Cat?lic Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MChow at genelogic.com  Fri Jun  8 18:38:30 2001
From: MChow at genelogic.com (MChow@genelogic.com)
Date: Fri, 8 Jun 2001 11:38:30 -0500
Subject: [R] Are there binary for Caldera linux?
Message-ID: <OF3F513633.32721FA4-ON88256A65.005B0AEF@genelogic.com>

Hi there,
Is there a binary-file installation of R-1.2.3 for Caldera Linux?
I have Caldera  Linux 2.3.  The linux binary installation files at
CRAN seems to be for Red Hat Linux only.  Is there a way to make
the Red Hat linux binary work for Caldera linux? I have tried and
has no success so far.
Thanks.
Ming



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  8 18:47:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 8 Jun 2001 17:47:09 +0100 (BST)
Subject: [R]:predict.ppr
In-Reply-To: <3B20FC9F.2A28CDE4@esb.ucp.pt>
Message-ID: <Pine.LNX.4.31.0106081742290.22943-100000@gannet.stats>

On Fri, 8 Jun 2001, Peter Ho wrote:

> Hi all,
>
> I am doing a projection pursuit regression using the ppr() function from
> modreg.
> I would also like to use predict.ppr(). However, I cannot find any

I don't know what to say!  You should be wanting to use the predict()
generic function on your fit.  If you had tried it, it would have worked.

Also, there is an example of using predict on a ppr object in the main
reference ....

> information about it in the help files. There is a link to predict.ppr
> in the index for modreg, but that link is to the help for ppr().

Because methods should not be individually documented unless the differ
from the generic.

> Has predict.ppr() not been implemented?

Why do you think it appear in the function list

> library(modreg)
> ls(2)
 [1] "anova.loess"               "ksmooth"
 [3] "loess"                     "loess.control"
 [5] "loess.smooth"              "plot.ppr"
 [7] "pointwise"                 "ppr"
 [9] "ppr.default"               "ppr.formula"
[11] "predLoess"                 "predict.loess"
[13] "predict.ppr"               "predict.smooth.spline"
[15] "predict.smooth.spline.fit" "print.loess"
[17] "print.ppr"                 "print.smooth.spline"
[19] "print.summary.loess"       "print.summary.ppr"
[21] "scatter.smooth"            "simpleLoess"
[23] "smooth.spline"             "summary.loess"
[25] "summary.ppr"               "supsmu"

?

> If not, does anyone have a suggestion as to how to implement
> predict.ppr()  in R?

I do have a suggestion: learning the difference between generic functions
and methods would help reduce your confusion.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri Jun  8 19:41:07 2001
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 08 Jun 2001 18:41:07 +0100
Subject: [R]:predict.ppr
References: <Pine.LNX.4.31.0106081742290.22943-100000@gannet.stats>
Message-ID: <3B210E2D.72F33691@esb.ucp.pt>

Prof Ripley,


> On Fri, 8 Jun 2001, Peter Ho wrote:
>
> > Hi all,
> >
> > I am doing a projection pursuit regression using the ppr() function from
> > modreg.
> > I would also like to use predict.ppr(). However, I cannot find any
>
> I don't know what to say!  You should be wanting to use the predict()
> generic function on your fit.  If you had tried it, it would have worked.

Thanks for pointing this out.


Peter

-------------------------------------------------
Peter Ho GradIFST
Escola Superior de Biotecnologia
Universidade Cat?lic Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Fri Jun  8 20:04:23 2001
From: mirko.luedde at cellcontrol.de (=?iso-8859-1?Q?L=FCdde_Mirko?=)
Date: Fri, 8 Jun 2001 20:04:23 +0200 
Subject: [R] binom.test appropriate?
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE3063311@CELLCON01>

Hi there, 

as part of a 2 x 2 contingency table analysis I would like to estimate
conditional probabilities (success rates) in a Bernoulli
experiment. In particular I want to test a null hypothesis p <= p0
versus the alternative hypothesis p > p0.

As far as I understand the subject, there are UMPU tests for these
types of hypotheses.

Now I know about R's "binom.test" but the help text is telling me it
will test only simple null hypotheses of the form p = p0.

Could someone please give me a hint whether there is a suitable test
or about what I got wrong?

Thanks, Mirko. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jun  8 20:45:30 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 Jun 2001 13:45:30 -0500
Subject: [R] Are there binary for Caldera linux?
In-Reply-To: <OF3F513633.32721FA4-ON88256A65.005B0AEF@genelogic.com>
References: <OF3F513633.32721FA4-ON88256A65.005B0AEF@genelogic.com>
Message-ID: <6rsnhavmid.fsf@franz.stat.wisc.edu>

MChow at genelogic.com writes:

> Is there a binary-file installation of R-1.2.3 for Caldera Linux?
> I have Caldera  Linux 2.3.  The linux binary installation files at
> CRAN seems to be for Red Hat Linux only.  Is there a way to make
> the Red Hat linux binary work for Caldera linux? I have tried and
> has no success so far.

I think Caldera Linux is based on Debian, isn't it?  If so, you could
try to install the .deb files in the CRAN/bin/linux/debian directory.

Does Caldera have apt - the advanced package tool?  If so you can
follow the instructions in the README file in that directory to allow
seamless updates over the web.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Jun  8 21:32:18 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 08 Jun 2001 12:32:18 -0700
Subject: [R] Are there binary for Caldera linux?
In-Reply-To: Douglas Bates's message of "08 Jun 2001 13:45:30 -0500"
References: <OF3F513633.32721FA4-ON88256A65.005B0AEF@genelogic.com>
	<6rsnhavmid.fsf@franz.stat.wisc.edu>
Message-ID: <87g0dasr7h.fsf@jeeves.blindglobe.net>


I thought Corel was Debian and Caldera was RedHat...?

best,
-tony

>>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:

    DB> MChow at genelogic.com writes:
    >> Is there a binary-file installation of R-1.2.3 for Caldera
    >> Linux?  I have Caldera Linux 2.3.  The linux binary
    >> installation files at CRAN seems to be for Red Hat Linux only.
    >> Is there a way to make the Red Hat linux binary work for
    >> Caldera linux? I have tried and has no success so far.

    DB> I think Caldera Linux is based on Debian, isn't it?  If so,
    DB> you could try to install the .deb files in the
    DB> CRAN/bin/linux/debian directory.

    DB> Does Caldera have apt - the advanced package tool?  If so you
    DB> can follow the instructions in the README file in that
    DB> directory to allow seamless updates over the web.
    DB> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    DB> r-help mailing list -- Read
    DB> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    DB> "help", or "[un]subscribe" (in the "body", not the subject !)
    DB> To: r-help-request at stat.math.ethz.ch
    DB> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Jun  8 22:00:33 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 8 Jun 2001 15:00:33 -0500
Subject: [R] gss package
In-Reply-To: <3B20B4DA.832E08B7@ipimar.pt> (message from
	=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim on Fri, 08 Jun 2001 12:19:54
	+0100)
Message-ID: <200106082000.PAA22538@odds.stat.purdue.edu>

   Date: Fri, 08 Jun 2001 12:19:54 +0100
   From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
   X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.2.18 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi

   I would like to know if the "penalty associated with the fit" that is
   printed by the summary.ssanova function is the smoothing parameter
   (\lambda) of the criterion function that's minimized to find f.

   Thanks

   EJ


   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


No, it is the whole penalty term, n*lambda times the integrated square
second derivative IF you are using the cubic spline for univariate
smoothing.  Although it is provided, I don't expect it be used much.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Sat Jun  9 08:39:57 2001
From: rod.chav at hsoft.es (Antonio)
Date: Sat, 09 Jun 2001 08:39:57 +0200
Subject: [R] How to reference R in a scientific document ? 
In-Reply-To: <3B20B63C.D7117FF7@ipimar.pt>
Message-ID: <3.0.6.32.20010609083957.007a64a0@pop.hsoft.es>

Hi Jos?,

In R for Beginners from E. Paradis, he recommends:

Ihaka R. & Gentleman R. 1996. R: a language for data analysis and graphics.
Journal of Computational and Graphical Statistics 5: 299-314

Hope this helps,

Antonio
Antonio Rodr?guez Verdugo
C.I.C.E.M. "Agua del Pino"
Delegacion Provincial de Agricultura y Pesca
P.O. Box 104
21071 HUELVA (Spain)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Sat Jun  9 08:37:45 2001
From: mirko.luedde at cellcontrol.de (=?iso-8859-1?Q?L=FCdde_Mirko?=)
Date: Sat, 9 Jun 2001 08:37:45 +0200 
Subject: AW: [R] binom.test appropriate?
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE3063312@CELLCON01>

No, 

since I'd like to test 

	null: p <= p0
	alternative: p > p0. 

and my understanding is that binom.test tests

	null: p = p0 (can only be a "simple" null hypothesis 
			according to help(binom.test))
	alternative: p > p0 (or p < p0 or p != p0). 

Thanks, Mirko. 

> -----Urspr?ngliche Nachricht-----
> Von: Douglas Bates [mailto:bates at stat.wisc.edu]
> Gesendet: Freitag, 8. Juni 2001 20:51
> An: L?dde Mirko
> Betreff: Re: [R] binom.test appropriate?
> 
> 
> L?dde Mirko <mirko.luedde at cellcontrol.de> writes:
> 
> > Hi there, 
> > 
> > as part of a 2 x 2 contingency table analysis I would like 
> to estimate
> > conditional probabilities (success rates) in a Bernoulli
> > experiment. In particular I want to test a null hypothesis p <= p0
> > versus the alternative hypothesis p > p0.
> > 
> > As far as I understand the subject, there are UMPU tests for these
> > types of hypotheses.
> > 
> > Now I know about R's "binom.test" but the help text is telling me it
> > will test only simple null hypotheses of the form p = p0.
> 
> The help page says that the "alternative" argument can be used to
> specify "greater" as the alternative hypothesis.  Isn't this what you
> want?
> 
> 
> binom.test               package:ctest               R Documentation
> 
> Exact Binomial Test
> 
> Description:
> 
>      Performs an exact test of a simple null hypothesis about the
>      probability of success in a Bernoulli experiment.
> 
... snipped ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun  9 09:04:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 9 Jun 2001 08:04:59 +0100 (BST)
Subject: AW: [R] binom.test appropriate?
In-Reply-To: <7BF41FD66BAFD311B45E0050DA7C9BE3063312@CELLCON01>
Message-ID: <Pine.GSO.4.31.0106090748510.24603-100000@auk.stats>

On Sat, 9 Jun 2001, [iso-8859-1] Ldde Mirko wrote:

> No,
>
> since I'd like to test
>
> 	null: p <= p0
> 	alternative: p > p0.
>
> and my understanding is that binom.test tests
>
> 	null: p = p0 (can only be a "simple" null hypothesis
> 			according to help(binom.test))
> 	alternative: p > p0 (or p < p0 or p != p0).

But: the test for p = p0 vs p > p0 is the appropriate test for
p <= p0 vs p > p0 within this family of tests, by the monotonicity
properties.

You mentioned a 2 x 2 table and UMPU, but did not say exactly what you are
doing or how the data were sampled, nor how this hypothesis arises.  Under
one set of assumptions, I believe the UMPU theory you mention tells you to
use the binom.test for p = p0 vs p > p0, but it may be that other tests
(Fisher's exact test springs to mind) are more appropriate.  (And the last
U can be insidious, just as it can be for estimation.)

It's rare to have hypotheses like p = p0 or p <= p0 with p0 known
precisely: Mendelian genetics provides almost all the examples I have ever
seen.  If p0 comes from past experience, then it's a different problem.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Sat Jun  9 09:59:38 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Sat, 9 Jun 2001 00:59:38 -0700
Subject: [R] tree() - Tree is too big
Message-ID: <KKEGJOGBELBHDIKPINBMCEOCCEAA.henrikb@braju.com>

I am using tree() in the library tree to learn regression trees. Once in a
while I am getting the error "Tree is too big". From the same data set, but
with randomized subsets I am learning several tree model and in the end of
the day I would like to look at some of the properties across trees.

My problem: I have for loop containing a call to tree(). However, since
tree() returns an error about every 30-50 time due to "Tree is too big" the
execution is stopped. Since each call to tree() takes a long time I would
like to run the  for loop over night. I have tried

  options(error = expression(NULL))

to make [R] ignore the errors, but it seems that tree() doesn't respond to
this. Is this correct? Any other suggestions?

Thanks

Henrik Bengtsson
h e n r i k b @ b r a j u . c o m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun  9 10:13:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 9 Jun 2001 09:13:03 +0100 (BST)
Subject: [R] tree() - Tree is too big
In-Reply-To: <KKEGJOGBELBHDIKPINBMCEOCCEAA.henrikb@braju.com>
Message-ID: <Pine.GSO.4.31.0106090905450.1920-100000@auk.stats>

On Sat, 9 Jun 2001, Henrik Bengtsson wrote:

> I am using tree() in the library tree to learn regression trees. Once in a
> while I am getting the error "Tree is too big". From the same data set, but
> with randomized subsets I am learning several tree model and in the end of
> the day I would like to look at some of the properties across trees.
>
> My problem: I have for loop containing a call to tree(). However, since
> tree() returns an error about every 30-50 time due to "Tree is too big" the
> execution is stopped. Since each call to tree() takes a long time I would
> like to run the  for loop over night. I have tried
>
>   options(error = expression(NULL))
>
> to make [R] ignore the errors, but it seems that tree() doesn't respond to
> this. Is this correct? Any other suggestions?

Nothing to do with tree.  Probably you should be using try(). An error
exits the for loop, and then you asked the session to continue.  You got
what you asked for, but not what you wanted?

However, I suggest that you should be trying to solve the problem, which is
probably that you really are trying to grow too big trees.  I guess you
have a large dataset, and need to adjust the control parameters.
See ?tree.control, especially minsize and mindev.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kutinskyv at obninsk.com  Sat Jun  9 15:23:07 2001
From: kutinskyv at obninsk.com (Vladimir N. Kutinsky)
Date: Sat, 9 Jun 2001 17:23:07 +0400
Subject: [R] Classification Trees
Message-ID: <002201c0f0e7$53431230$b584943e@home4tki9gadb7>

I apologize if you receive multiple copies of this letter. This is the first time I've written to this mailing list, so please be kind:-)
 
Hello everyone!
I'm trying to make a programme which grows a classification tree. I use APL programming language and I use R to compare and test results.
I have a classification tree and I have a sequence of cost-comlexity parameters(alphas): 0,A1,A2...An. Now I want to choose a right-sized tree or, in other words, the optimal complexity parameter Ak. I understand that I should use a V-fold cross validation. The problem is that I don't quite understand how to prune trees in CV:
1. If I use the initial sequence of alphas: 
To test A1 I snip off all rooted nodes with cost-complexity parameters in a range [0, A1]; to test A2 I prune all nodes with cost-complexity parameters in a range [A1, A2]; ...etc. Is this correct?

2. If I use a new sequence of complexity parameters 0,B1,B2,...,Bm, where Bi is the geometric mean of A[i] and A[i+1], Bi=SQRT( A[i] * A[i+1] ): 
Suppose, I select Bk as an optimal parameter. Which Ai does this optimal Bk correspond to? 

Which of the two ways should I follow? Are there any other ways of choosing a right-sized tree? Does anybody have any ideas?
Thank you

Kutinsky Vladimir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010609/a181e4b0/attachment.html

From bernd.weiss at epost.de  Sat Jun  9 15:57:29 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Sat, 9 Jun 2001 15:57:29 +0200
Subject: [R] spss-data import
Message-ID: <3B22476A.13370.CFEC4B@localhost>

Hello,

at the moment i am using spss as my favorite statistics 
package, but R seems an atractive alternative. Thanks to 
the R-Team for their great work! (I use R on my windows98 
laptop,P II and 64MB Ram).

I have a big(?) data set, containing more than 470 
variables and 3200 cases (size: 2.5MB). Whenever I use the 
command 'read.spss' (foreign-library), I got the the 
following warning massages: 
------------------
Warning messages: 
1: d:/s3000.sav: File contains duplicate label for value 
0.5 for variable V50. 
2: d:/s3000.sav: File contains duplicate label for value 1 
for variable V50. 
3: d:/s3000.sav: File contains duplicate label for value 
0.5 for variable V63. 
4: d:/s3000.sav: File contains duplicate label for value 1 
for variable V63. 
[...]
------------------
How do I interpret these warnings?

My next step was trying to save the spss-data as an ascii-
file (separated by tabs) and using the R command 
'read.table' -- R crashes. 

My third step was saving the spss-data as an ascii-file (in 
fixed format) and using again 'read.table'. I got:
------------------
Error in read.table("d:/fixed.dat", header = T) : 
        all rows must have the same length.
------------------

What went wrong? 

TIA

Bernd  


--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Sat Jun  9 18:31:17 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Sat, 9 Jun 2001 18:31:17 +0200
Subject: [R] spss-data import
In-Reply-To: <3B22476A.13370.CFEC4B@localhost>; from bernd.weiss@epost.de on Sat, Jun 09, 2001 at 03:57:29PM +0200
References: <3B22476A.13370.CFEC4B@localhost>
Message-ID: <20010609183117.A2193@gmx.de>

On Sat, Jun 09, 2001 at 03:57:29PM +0200, Bernd Weiss wrote:
> Error in read.table("d:/fixed.dat", header = T) : 
>         all rows must have the same length.

Look at your exported data-file an you'll see how you have to read
it. My standard way to read excel csv files is:

Akten1998.1 <- read.csv("File.csv",sep=";",as.is=T,dec=",")

But this depends on several cirumstances. E.g. on some windows
platforms the "dec" is set to "." (I think you can set this with spss). 

Spss often uses tabs as seperators (depends how you export your file 
in spss) so 

sep="\t"

should work.

My experience with read.spss:

1. Works often with spss version 6-9...
2. ...mut sometimes crash with these files (I have at least one file
that is not readable).
3. Don't work with spss version 10 files. Even spss 6 cannot read
them. 

So: 
while (!success)
	exoport from spss with other options
	look at the file
	specify read.xxx parameter

Peter


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jun  9 18:43:16 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 9 Jun 2001 12:43:16 -0400 (EDT)
Subject: [R] spss-data import
Message-ID: <200106091643.MAA29790@cattell.psych.upenn.edu>

The second problem is the result of all rows not having
the same length.  My version of R usually tells me the
lengths of the rows.  If yours doesn't, you might try
read.table(your_data,echo="TRUE")
which can be abbreviated as e="T".

This can arise in many ways.  One way has to do with the
conversion of missing data.  If the conversion to ascii
substituted empty spaces or tabs for missing data, then
these will not be counted in the length of the row.  You
may need to edit the ascii file, replacing __ (double
space) with _NA_, for example.  Some spreadsheet programs
can help you do this, but you could also use an editor
such as Emacs.

In sum, the read.table() function really expects a table
with all rows the same length.  JOn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Sat Jun  9 22:51:49 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Sat, 9 Jun 2001 22:51:49 +0200
Subject: [R] spss-data import
Message-ID: <3B22A885.23512.47FDE2@localhost>

Hi Jon, Peter,

thanks for your immediate help. The command 
allbus<-read.table("d:/tab.dat",sep="\t",dec=",") 
works fine -- ok, I just took a part of the whole dataset. 

BTW: I use SPSS 10.0... so read.spss won't work.


On 9 Jun 2001, at 12:43, Jonathan Baron wrote:

> The second problem is the result of all rows not having 
the
> same length.  My version of R usually tells me the lengths
> of the rows.  If yours doesn't, you might try
> read.table(your_data,echo="TRUE") which can be abbreviated
> as e="T".
 
That's curious. 'My' read.table doesn't know the echo-
argument (I use r1.2.3, win32). Have a look at the results 
of ?read.table:

read.table(file, header = FALSE, sep = "", quote = "\"'", 
dec = ".", row.names, col.names, as.is = FALSE, na.strings 
= "NA", skip = 0, check.names = TRUE, fill = FALSE,         
strip.white = FALSE, blank.lines.skip = TRUE)

Thanks again for your help,

Bernd


--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Sun Jun 10 01:54:41 2001
From: mirko.luedde at cellcontrol.de (=?iso-8859-1?Q?L=FCdde_Mirko?=)
Date: Sun, 10 Jun 2001 01:54:41 +0200
Subject: [R] r-mode (ESS/XEmacs)
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE3063314@CELLCON01>

Hello, 

please excuse me if this is not the appropriate 
mailing list, but I'll give it a try!

I recently switched from using Emacs 20.7.1 to 
XEmacs 21.4, both on cygwin / MS W2K. 

On Emacs the ESS 5.1.17 was working well, but 
now, when calling R from within XEmacs, 
it first asks for the working directory, 
then says "R process is not running". 

The ESS buffer holds the message: 

"WARNING: unknown option --no-readline
Fatal error: you must specify `--save', `--no-save' or `--vanilla'

Process R exited abnormally with code 2 at Sat Jun  9 23:51:45 2001". 

Any ideas? 

Thanks, Mirko. 

--
Dr. M. Luedde <Mirko.Luedde at CellControl.De>
CellControl Biomedical Laboratories AG
Am Klopferspitz 19, 82152 Martinsried
+49-89-895275-0 +49-179-5252064 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 10 08:38:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 10 Jun 2001 07:38:59 +0100 (BST)
Subject: [R] r-mode (ESS/XEmacs)
In-Reply-To: <7BF41FD66BAFD311B45E0050DA7C9BE3063314@CELLCON01>
Message-ID: <Pine.GSO.4.31.0106100735060.8643-100000@auk.stats>

On Sun, 10 Jun 2001, [iso-8859-1] Ldde Mirko wrote:

> Hello,
>
> please excuse me if this is not the appropriate
> mailing list, but I'll give it a try!
>
> I recently switched from using Emacs 20.7.1 to
> XEmacs 21.4, both on cygwin / MS W2K.
>
> On Emacs the ESS 5.1.17 was working well, but
> now, when calling R from within XEmacs,
> it first asks for the working directory,
> then says "R process is not running".
>
> The ESS buffer holds the message:
>
> "WARNING: unknown option --no-readline
> Fatal error: you must specify `--save', `--no-save' or `--vanilla'
>
> Process R exited abnormally with code 2 at Sat Jun  9 23:51:45 2001".
>
> Any ideas?

This is on Windows, I guess. The rw-FAQ says:

2.8 Can I use rw1023 with ESS and emacs?
========================================

Yes. The latest versions of ESS (e.g. 5.1.18) come with support for this
version of R, and there is support for interrupting the R process from
ESS (by `C-c C-c').

For help with ESS, please send email to <ESS-help at stat.ethz.ch>, not
the R mailing lists.

This is particular true here, where the problem must be with something
other than R as that worked under (I presume) NTemacs 20.7.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Jun 10 15:51:24 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 10 Jun 2001 08:51:24 -0500
Subject: [R] r-mode (ESS/XEmacs)
In-Reply-To: <7BF41FD66BAFD311B45E0050DA7C9BE3063314@CELLCON01>
References: <7BF41FD66BAFD311B45E0050DA7C9BE3063314@CELLCON01>
Message-ID: <15139.31580.423888.594734@sonny.eddelbuettel.com>


  Mirko> I recently switched from using Emacs 20.7.1 to XEmacs 21.4, both on
  Mirko> cygwin / MS W2K.
[...]
  Mirko> "WARNING: unknown option --no-readline Fatal error: you must specify
  Mirko> `--save', `--no-save' or `--vanilla'

I did a similar upgrade on Friday. Modify lisp/essd-r.el at line 119 from

  (let* ((r-always-arg
	  (if (or (equal window-system 'w32) (equal window-system 'win32))
	      "--ess "
	    "--no-readline "))

to 

  (let* ((r-always-arg "--ess ")

Ie, it should unconditionally give the --ess switch as under Cygwin the test
for W32 leads to --no-readline which the Rterm.exe doesn't understand.

Note that this is untested as I am at home where I use a more pleasant
operating system. Best to edit the file in XEmacs to make sure the parens
balance. 

Hope this helps,  Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Sun Jun 10 22:11:46 2001
From: mirko.luedde at cellcontrol.de (=?iso-8859-1?Q?L=FCdde_Mirko?=)
Date: Sun, 10 Jun 2001 22:11:46 +0200
Subject: [R] r-mode (ESS/XEmacs) issue solved
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE3063315@CELLCON01>

Hi folks, 

I was able to track down the problems I had 
with xemacs / ESS / cygwin / MS W2000 to the 
file "essd-r.el" in the ESS 5.1.18 package.

ESS seems to think, it is running 
in a complete Unix environment and 
sends the wrong command line option 
("--no-readline" instead of "--ess") 
to the MS W2000 executable "Rterm.exe". 

My temporary patch looks as follows (not a general solution!)
; essd-r.el
;; ... some code ...
;; R that does the right thing irregardless of OS.
;; ... more code ...
  (let* ((r-always-arg 
	  ;; replaced the following due to problems on cygwin / MS W2000
	  ; (if (or (equal window-system 'w32) (equal window-system 'win32))
	  ;    "--ess "
	  ;  "--no-readline " )
	  "--ess " ; <Mirko.Luedde at CellControl.De>
	  )
;; ... even more code ... 

Of course, using MS W2000 executables in a cygwin / XEmacs / ESS 
environment is cheating, so I deserved right ;-)

By the way, I'm also facing problems compiling the R source 
on cygwin. The preprocessor symbol "Win32" seems to be defined 
and seems to disturb some ".h" and ".c" files. 
Do you have any suggestions on compiling R on cygwin / W2000? 

Cheers, Mirko. 

--
Dr. M. Luedde <Mirko.Luedde at CellControl.De>
CellControl Biomedical Laboratories AG
Am Klopferspitz 19, 82152 Martinsried
+49-89-895275-0 +49-179-5252064 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rick at eno.princeton.edu  Mon Jun 11 05:34:26 2001
From: rick at eno.princeton.edu (Richard Condit)
Date: Sun, 10 Jun 2001 22:34:26 -0500
Subject: [R] R for Windows
Message-ID: <5.0.2.1.0.20010610223341.00a44970@eno.princeton.edu>

I've been a R user on Windows for about 8 months now, and I'm going to put 
in a plug for the Windows version.   I'll be teaching a workshop in 
statistics and data analysis next month to a group of scientists from 
developing countries  South Asia, Latin America, and Africa.  The 
institutions these scientists come from do not have the resources to 
purchase expensive software or run large computer systems.  So they all use 
PCs, and they all use Windows.  R for Windows is a marvelous resource for 
this group.

I had some experience last year with S+ when I discovered R.  I downloaded 
R for Windows on my own, consulting no one else who had heard of R, only 
reading the instructions posted at the website.  My personal experience was 
the following: everything worked perfectly.  I first downloaded R1020, then 
1022, and later some other packages.  In all cases, the download worked the 
first time, the HTML help worked immediately, and every function I have 
tried works as described.  Sure, in some cases the help section can be 
brief and cryptic, but with enough experimentation, the functions work.

So my plug is that R for Windows is a great system  sophisticated, 
complete, fairly easy-to-use, and free.  For many scientists outside the 
US, Europe, or Japan, it may be the best resource available.   I appreciate 
immensely the time and effort many people have put into creating R and 
making it available for Windows.

Richard Condit
Smithsonian Tropical Research Institute
Panama

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rick at eno.princeton.edu  Mon Jun 11 05:52:42 2001
From: rick at eno.princeton.edu (Richard Condit)
Date: Sun, 10 Jun 2001 22:52:42 -0500
Subject: [R] load C code into R
Message-ID: <5.0.2.1.0.20010610225204.00a598e0@eno.princeton.edu>

I am trying to load C routines into R on windows, going through the the 
book S programming and the R manual, but I know I am missing some steps.

I created a win32 DLL project in Visual C++ (ver. 6.0).  It consists of one 
simple routine named test which accepts one *integer argument and one 
*double argument and performs a trivial computation.  The dll is named 
test.dll.

In R1022 for Windows, I run

 >dyn.load("d:/programs/library/test/test.dll")
 >testr_function(a,x) 
.C"d:/programs/library/test/test",as.integer(a),as.double(x))

These are both accepted, and I can use dyn.unload as well with test.dll.  I 
notice that while loaded, Visual C++ cannot recompile test.dll.

But when I try

 >testr(10,x)

I get the message ?Error in .C("test", as.integer(a),as.double(x)) : 
C/Fortran function name not in load table?.

I know I need a link step, or an install step, but I am missing something 
in the instructions.  Perhaps just a quick piece of advice could get me to 
the next stage



Richard Condit
Smithsonian Tropical Research Institute



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon Jun 11 07:03:02 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 11 Jun 2001 17:03:02 +1200
Subject: [R] margin text mtext
References: <3.0.6.32.20010608115715.0096e040@mail.wsl.ch>
Message-ID: <015901c0f233$cbba9330$175dd882@stat.auckland.ac.nz>

Hi


> Fiddling around with "mar" and "mtext" I got stuck:
>
> plot.pcaX <- function(tit,lab) {
>   on.exit(par(oldpar <- par(oma=c(4, 2, 4, 2), mar = c(4, 4, 2, 1)))) # ??
>   split.screen(figs=c(3,3))
>   for (i in 1:9) {screen(i);  plot(rnorm(100),rnorm(100)) }
>   mtext(tit, side = 3, line = 1, outer = TRUE, cex = 1.5, adj = 0.5)
>   mtext(paste(lab,", ", date()),side = 1,line=0,outer=TRUE,cex=0.5,adj=1)
>   close.screen(all=T)
> }
>
> plot.pcaX("test","test.ps")
>
> The plots are arranged without any margins, and "test" and "test.ps" will
> not be printed on the plot.


A couple of things ...
(i)  the code within on.exit() is not executed until the function exits
which is why your margins are not affected during the function call
(ii)  you should probably be using par(mfrow) instead of screen() et al
A suggested modification of your function is:

plot.pcaX <- function(tit,lab) {
  oldpar <- par(oma=c(4, 2, 4, 2), mar = c(4, 4, 2, 1)) # ??
  on.exit(par(oldpar)) # ??
  par(mfrow=c(3,3))
  for (i in 1:9) { plot(rnorm(100),rnorm(100)) }
  mtext(tit, side = 3, line = 1, outer = TRUE, cex = 1.5, adj = 0.5)
  mtext(paste(lab,", ", date()),side = 1,line=0,outer=TRUE,cex=0.5,adj=1)
}

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jun 11 08:54:44 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 11 Jun 2001 08:54:44 +0200
Subject: [R] mult.fig() utility [was "margin text mtext"]
In-Reply-To: <015901c0f233$cbba9330$175dd882@stat.auckland.ac.nz>
References: <3.0.6.32.20010608115715.0096e040@mail.wsl.ch>
	<015901c0f233$cbba9330$175dd882@stat.auckland.ac.nz>
Message-ID: <15140.27444.66890.563365@gargle.gargle.HOWL>

>>>>> "Paul" == Paul Murrell <paul at stat.auckland.ac.nz> writes:

    Paul> Hi
    >> Fiddling around with "mar" and "mtext" I got stuck:
    >> 
    >> plot.pcaX <- function(tit,lab) {
    >>  on.exit(par(oldpar <- par(oma=c(4, 2, 4, 2), mar = c(4, 4, 2, 1)))) # ??
    >>  split.screen(figs=c(3,3))
    >>  for (i in 1:9) {screen(i);  plot(rnorm(100),rnorm(100)) }
    >>  mtext(tit, side = 3, line = 1, outer = TRUE, cex = 1.5, adj = 0.5)
    >>  mtext(paste(lab,", ", date()),side = 1,line=0,outer=TRUE,cex=0.5,adj=1)
    >>  close.screen(all=T)
    >> }
    >> 
    >> plot.pcaX("test","test.ps")
    >> 
    >> The plots are arranged without any margins, and "test" and "test.ps" will
    >> not be printed on the plot.


    Paul> A couple of things ...

    Paul> (i) the code within on.exit() is not executed until the function
    Paul> exits which is why your margins are not affected during the
    Paul> function call

    Paul> (ii) you should probably be using par(mfrow) instead of screen()
    Paul> et al A suggested modification of your function is:

    Paul> plot.pcaX <- function(tit,lab) {
    Paul>   oldpar <- par(oma=c(4, 2, 4, 2), mar = c(4, 4, 2, 1)) # ??
    Paul>   on.exit(par(oldpar)) # ??
    Paul>   par(mfrow=c(3,3))
    Paul>   for (i in 1:9) { plot(rnorm(100),rnorm(100)) }
    Paul>   mtext(tit, side = 3, line = 1, outer = TRUE, cex = 1.5, adj = 0.5)
    Paul>   mtext(paste(lab,", ", date()),side = 1,line=0,outer=TRUE,cex=0.5,adj=1)
    Paul> }

    Paul> Hope that helps

Now that this is solved...
The task of setting up a multi-figure plot with a title
(and "fixing" mar a bit) is such a common thing that I had designed a
utility function for the job, ``back in the time of S-plus'' ;-)
and called it  mult.fig().

I (and few people here) have been using it for several years now
and it may be that it'd be worth to be put into one of those ``misc''
packages {{maybe we should rename ``stepfun'' to ``graphmisc'' and
	   add a few things, including the "plotCI" one?}}

Anyway here is the code and the doc:

-------------- next part --------------
mult.fig <-
function(nr.plots, mfrow, mfcol,
         marP = rep(0,4), mgp = c(1.5,.6,0),
         mar = marP + .1 + c(4,4,2,1),
         main = NULL,
         tit.wid = if (is.null(main)) 0 else 1 + 1.5*cex.main,
         quiet = .Device == "postscript",
         cex.main = par("cex.main"),
         col.main = par("col.main"),
         font.main = par("font.main"),
         ...)
{
  ## Purpose: 'MULTiple FIGures' incl. TITLE and other good defaults
  ## -------------------------------------------------------------------------
  ## Arguments: 
  ##             -- Either ONE of the first 3 arguments --
  ## -------------------------------------------------------------------------
  ## Author: Martin Maechler, 1990 (UW, Seattle) -- 1995
  ## -------------------------------------------------------------------------

  use.row <- missing(mfcol)
  if (use.row)
    if (missing(mfrow)) {
      if (missing(nr.plots))
        stop("must either specify 'nr.plots', 'mfrow' or 'mfcol' !")
      else  mfrow <- n2mfrow (nr.plots)
    }
  oma <- c(0, 0, tit.wid, 0)
  old.par <<-
    if(use.row) par(mfrow = mfrow, oma= oma, mar = mar, mgp= mgp)
    else        par(mfcol = mfcol, oma= oma, mar = mar, mgp= mgp)
  if(!quiet) cat("Execute\n\t par(old.par) \n later to restore graphical par\n")
  ##---- now go ahead :
  if(!is.R())
      frame()
  if (!is.null(main)) {# Do title *before* first plot!
      if(is.R()) plot.new()
      mtext(main, side = 3, outer = TRUE,
            line = cex.main, # was tit.wid - 4,
            cex = cex.main,
            font = font.main, col = col.main, ...)
      if(is.R()) par(new=TRUE)# reverse `plot.new()' above
  }
  invisible(list(new.par = par(c("mfrow","mfcol","oma","mar","mgp")),
                 old.par = old.par))
}
-------------- next part --------------
\name{mult.fig}
\alias{mult.fig}
\title{Plot Setup for MULTiple FIGures, incl. Main Title}
\description{
  Easy Setup for plotting multiple figures (in a rectangular layout) on
  one page.  It allows to specify a main title and uses \emph{smart}
  defaults for several \code{\link{par}} calls.
}
\usage{
mult.fig(nr.plots, mfrow, mfcol,
         marP = rep(0, 4),  mgp = c(1.5, 0.6, 0),
         mar = marP + 0.1 + c(4, 4, 2, 1),
         main = NULL,
         tit.wid = if (is.null(main)) 0 else 1 + 1.5*cex.main,
         quiet = .Device == "postscript",
         cex.main = par("cex.main"), \dots)
}
\arguments{
 \item{nr.plots}{integer; the number of plot figures you'll want to draw.}
 \item{mfrow}{\emph{instead} of \code{nr.plots}: integer(2) vector
   giving the rectangular figure layout for \code{\link{par}((mfrow= .)}}.}
 \item{mfcol}{\emph{instead} of \code{nr.plots}: integer(2) vector
   giving the rectangular figure layout for \code{\link{par}((mfcol= .)}}.}
 \item{marP}{numeric(4) vector of figure margins to \emph{add}
   (``\bold{P}lus'') to default \code{mar}, see below.}
 \item{mgp}{argument for \code{\link{par}((mpg= .)}} with a smaller
 default than usual.}
 \item{mar}{argument for \code{\link{par}((mar= .)}} with a smaller
 default than usual, using the \code{marP} argument, see above.}
 \item{main}{character.  The main title to be used for the whole graphic.}
 \item{tit.wid}{numeric; the vertical width to be used for the main title.}
 \item{cex.main}{numeric; the character size to be used for the main title.}
 \item{quiet}{logical; if \code{TRUE}, do \emph{not} write the reminder
   about resetting \code{\link{par}}.}
 \item{\dots}{Further arguments to \code{\link{mtext}} for the main title.}
}
\value{
  A \code{\link{list}} with two components that are lists themselves, a
  subset of \code{\link{par}()},
  \item{new.par}{the current \code{par} settings.}
  \item{old.par}{the \code{par} \emph{before} the call.}
}
\author{Martin Maechler, UW Seattle, 1990.}
\seealso{\code{\link{par}}, \code{\link{layout}}.}
\examples{
mult.fig(5, main= "Sinus Funktionen verschiedener Frequenzen")
x <- seq(0, 1, len = 201)
for (n in 1:5)
  plot(x, sin(n * pi * x), ylab ="", main = paste("n = ",n))
par(old.par)

rr <- mult.fig(mfrow=c(5,1), main= "Sinus Funktionen", cex = 1.5,
               marP = - c(0, 1, 2, 0))
for (n in 1:5)
  plot(x, sin(n * pi * x), type = 'l', col="red", ylab ="")
str(rr)
par(old.par)
## Look at the par setting *AFTER* the above:
str(do.call("par", as.list(names(rr$new.par))))
}
\keyword{hplot}
-------------- next part --------------


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From christian.hoffmann at wsl.ch  Mon Jun 11 09:05:05 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 11 Jun 2001 09:05:05 +0200
Subject: [R] memory
Message-ID: <3.0.6.32.20010611090505.00985820@mail.wsl.ch>

I am running R-1.2.3 on Unix:

 >uname -a
SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000

At startup using XEmacs I am stumped by:

Error: an xdr real data read error occured
Fatal error: unable to restore saved data
 (remove .RData or increase memory)

Process R exited abnormally with code 2 at Mon Jun 11 07:53:36 2001

My .RData is 9'683'000 Bytes long.

According to R FAQ the memory management should be automatically extending
space for R.

R version 1.2.0 introduces a new "generational" garbage collector, which
will increase the memory available to R as needed. Hence, user intervention
is no longer necessary for ensuring that enough memory is available. 

Since my project is still growing I will need more than 10MB in the future.

What can I do apart from remove .RData ?

How do I increase memory? The FAQ seems silent on this.

Thanks for help.

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 11 09:52:51 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 2001 09:52:51 +0200
Subject: [R] load C code into R
In-Reply-To: Richard Condit's message of "Sun, 10 Jun 2001 22:52:42 -0500"
References: <5.0.2.1.0.20010610225204.00a598e0@eno.princeton.edu>
Message-ID: <x2k82jbgh8.fsf@blueberry.kubism.ku.dk>

Richard Condit <rick at eno.princeton.edu> writes:

> I am trying to load C routines into R on windows, going through the the 
> book S programming and the R manual, but I know I am missing some steps.
> 
> I created a win32 DLL project in Visual C++ (ver. 6.0).  It consists of one 
> simple routine named test which accepts one *integer argument and one 
> *double argument and performs a trivial computation.  The dll is named 
> test.dll.
> 
> In R1022 for Windows, I run
> 
>  >dyn.load("d:/programs/library/test/test.dll")
>  >testr_function(a,x) 
> .C"d:/programs/library/test/test",as.integer(a),as.double(x))
> 
> These are both accepted, and I can use dyn.unload as well with test.dll.  I 
> notice that while loaded, Visual C++ cannot recompile test.dll.
> 
> But when I try
> 
>  >testr(10,x)
> 
> I get the message ?Error in .C("test", as.integer(a),as.double(x)) : 
> C/Fortran function name not in load table?.
> 
> I know I need a link step, or an install step, but I am missing something 
> in the instructions.  Perhaps just a quick piece of advice could get me to 
> the next stage


Compiling DLLs on Windows is tricky business, especially if you want
to mix and match compilers. Detailed instructions for doing it is
contained in the rw-faq file and readme.packages. There's a strong
recommendation to use the toolkit based on the Mingw32 compiler and
GNU utilities, but Visual C++ should be doable and there's a full
example in readme.packages.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Jun 11 09:46:02 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Mon, 11 Jun 2001 17:46:02 +1000
Subject: [R] mult.fig() utility [was "margin text mtext"]
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99C6A@Roper-CV.qld.cmis.csiro.au>

Martin,

I have an objection in principle to anything that has the side-effect of
clobbering something in the global environment, even something as innocuous
looking as "old.par".  I certainly object to putting something like that
into a public library, however clever and useful the code might be.  It just
is not safe.

As a quick way round this I suggest the following (R only) solution:

1. Give the function mult.fig an explicit local environment on definition:

> environment(mult.fig) <- new.env()

2. Instead of using the superassignment operator, assign the restore list to
the local environment of multi.fig (from within multi.fig):

	 assign("old.par", ......, envir = environment(mult.fig))

3. Provide a special argument to mult.fig so that instead of using
par(old.par) to restore the original graphics parameters the user does
something like

> mult.fig(restore = TRUE)

Honour is satisfied.

(The S solution would be to call it .old.par and to put it in frame 0.)

---

The other suggestion you make is putting things like plotCI into some sort
of miscellaneous graphics function library.  Not a bad idea, but may I
suggest that plotCI should be re-written so that there is a generic
function, say CI(), that does the setup and calculations and generates an
object of class "CI", which is plotted by the method plot.CI for the plot
generic?  I think this is a better way of handling it (again in principle).


I find to my surprise that I am quoted as the original author of plotCI but
I don't think I am.  I think all I did was to modify and extend something
even more ancient that I seem to recall came from Charles Geyer.  We are
talking long, long ago now, though...

Bill Venables.

-----Original Message-----
From: Martin Maechler [mailto:maechler at stat.math.ethz.ch]
Sent: Monday, 11 June 2001 4:55 PM
To: R-help at stat.math.ethz.ch
Cc: Christian Hoffmann
Subject: [R] mult.fig() utility [was "margin text mtext"]

Now that this is solved...
The task of setting up a multi-figure plot with a title
(and "fixing" mar a bit) is such a common thing that I had designed a
utility function for the job, ``back in the time of S-plus'' ;-)
and called it  mult.fig().

I (and few people here) have been using it for several years now
and it may be that it'd be worth to be put into one of those ``misc''
packages {{maybe we should rename ``stepfun'' to ``graphmisc'' and
	   add a few things, including the "plotCI" one?}}

Anyway here is the code and the doc:

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 11 11:31:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Jun 2001 10:31:35 +0100 (BST)
Subject: [R] load C code into R
In-Reply-To: <5.0.2.1.0.20010610225204.00a598e0@eno.princeton.edu>
Message-ID: <Pine.LNX.4.31.0106111026230.11774-100000@gannet.stats>

On Sun, 10 Jun 2001, Richard Condit wrote:

> I am trying to load C routines into R on windows, going through the the
> book S programming and the R manual, but I know I am missing some steps.
>
> I created a win32 DLL project in Visual C++ (ver. 6.0).  It consists of one
> simple routine named test which accepts one *integer argument and one
> *double argument and performs a trivial computation.  The dll is named
> test.dll.
>
> In R1022 for Windows, I run
>
>  >dyn.load("d:/programs/library/test/test.dll")
>  >testr_function(a,x)
> .C"d:/programs/library/test/test",as.integer(a),as.double(x))
>
> These are both accepted, and I can use dyn.unload as well with test.dll.  I
> notice that while loaded, Visual C++ cannot recompile test.dll.

Yes, that's a feature of Windows (and some other OSes).

> But when I try
>
>  >testr(10,x)
>
> I get the message Error in .C("test", as.integer(a),as.double(x)) :
> C/Fortran function name not in load table.
>
> I know I need a link step, or an install step, but I am missing something
> in the instructions.  Perhaps just a quick piece of advice could get me to
> the next stage

Your .C call should be something like

.C("test", as.integer(a), as.double(x))

and "test" must be exported by your DLL.  Note: by default nothing is
exported in Visual C++: you need a .def file in the project.

I think you've missed the advice in readme.packages (in rw1023sp.zip),
which has a section `Using Visual C++'.  Despite the presence of that,
using the recommended compiler is easier....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 11 12:47:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Jun 2001 11:47:43 +0100 (BST)
Subject: [R] memory
In-Reply-To: <3.0.6.32.20010611090505.00985820@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0106111136140.15491-100000@gannet.stats>

On Mon, 11 Jun 2001, Christian Hoffmann wrote:

> I am running R-1.2.3 on Unix:
>
>  >uname -a
> SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000
>
> At startup using XEmacs I am stumped by:
>
> Error: an xdr real data read error occured
> Fatal error: unable to restore saved data
>  (remove .RData or increase memory)
>
> Process R exited abnormally with code 2 at Mon Jun 11 07:53:36 2001
>
> My .RData is 9'683'000 Bytes long.
>
> According to R FAQ the memory management should be automatically extending
> space for R.

Right.  The message is an old one: the most likely explanation is that
the .RData file is indeed corrupt.  We have seen that a few times,
on NFS-mounted discs on Linux, and it did seem to be network-related.

Another cause is a real memory limit, imposed by the OS rather than R (or
on Windows, via --max-mem-size).  This can happen when moving between
systems and limit/ulimit is in use.  (We have memory limits on user
processes on our compute servers, but not on users' desktop machines.) But
10Mb is not large.

> R version 1.2.0 introduces a new "generational" garbage collector, which
> will increase the memory available to R as needed. Hence, user intervention
> is no longer necessary for ensuring that enough memory is available.
>
> Since my project is still growing I will need more than 10MB in the future.
>
> What can I do apart from remove .RData ?
>
> How do I increase memory? The FAQ seems silent on this.

I think you need to change your way of working.  Saving everything in
one workspace after each session is too fragile.  If you have lots of
code or datasets, you can put them in a package.  If you have large
datasets, use a DBMS interface or binary connections or Rstreams to
read them.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peppysiuly at actrix.co.nz  Mon Jun 11 13:32:33 2001
From: peppysiuly at actrix.co.nz (Peppy & Siuly Adi-Purnomo)
Date: Mon, 11 Jun 2001 23:32:33 +1200
Subject: [R] Generalized Additive Model
Message-ID: <CCEBKKLNLBIKMLEJDEFHGELICCAA.peppysiuly@actrix.co.nz>

Hello,

I am wondering if someone can direct me to the syntax of the Generalised
Additive Model in R?  In Splus this is gam(formula, ... inputs would be
pretty much the same as glm I suspect..)

Any response on that (or what package should I grap) would be appreciated
very much.

Thanks,
Peppy Adi-Purnomo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 11 13:44:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Jun 2001 12:44:40 +0100 (BST)
Subject: [R] Generalized Additive Model
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHGELICCAA.peppysiuly@actrix.co.nz>
Message-ID: <Pine.LNX.4.31.0106111242020.16128-100000@gannet.stats>

On Mon, 11 Jun 2001, Peppy & Siuly Adi-Purnomo wrote:

> Hello,
>
> I am wondering if someone can direct me to the syntax of the Generalised
> Additive Model in R?  In Splus this is gam(formula, ... inputs would be
> pretty much the same as glm I suspect..)
>
> Any response on that (or what package should I grap) would be appreciated
> very much.

There is no `Generalised Additive Model in R'.  There are various ways to
fit wuch models using add-on packages (see the FAQ) and the help pages
will tell you the syntax ....  The closest match is in package mgcv,
which has a gam() function not identical to that in S-PLUS.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Jun 11 14:53:44 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 11 Jun 2001 14:53:44 +0200
Subject: [R] Making a contributed library part of R-base
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBMEAGDHAA.znmeb@aracnet.com>
References: <Pine.LNX.4.31.0106071026280.2341-100000@gannet.stats>
	<HBEHIIBBKKNOBLMPKCBBMEAGDHAA.znmeb@aracnet.com>
Message-ID: <15140.48984.937361.670160@mithrandir.hornik.net>

>>>>> M Edward Borasky writes:

> How are the libraries that are distributed with R-base chosen for
> inclusion?  There is one, "sm", that I use quite often, and it would
> be a minor convenience if this one was included with R-base. Would it
> be possible to distribute all the GPL contributed libraries with
> R-base and allow the user to choose the ones to be included on the
> destination system at install time?

With R 1.3.0, to be out by the end of June, we will have a new category
of `recommended' packages which should be available for each binary
distribution of R.  These will include

	KernSmooth VR boot cluster foreign mgcv nlme rpart survival

Criteria for adding to this list include an acceptable license status,
quality, and amount of ``general'' interest for a package.

Hope this helps.

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Jun 11 15:38:51 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Mon, 11 Jun 2001 06:38:51 -0700 (PDT)
Subject: [R] Making a contributed library part of R-base
In-Reply-To: <15140.48984.937361.670160@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.33.0106110632140.9015-100000@shell1.aracnet.com>

On Mon, 11 Jun 2001, Kurt Hornik wrote:

> >>>>> M Edward Borasky writes:
>
> > How are the libraries that are distributed with R-base chosen for
> > inclusion?  There is one, "sm", that I use quite often, and it would
> > be a minor convenience if this one was included with R-base. Would it
> > be possible to distribute all the GPL contributed libraries with
> > R-base and allow the user to choose the ones to be included on the
> > destination system at install time?
>
> With R 1.3.0, to be out by the end of June, we will have a new category
> of `recommended' packages which should be available for each binary
> distribution of R.  These will include
>
> 	KernSmooth VR boot cluster foreign mgcv nlme rpart survival
>
> Criteria for adding to this list include an acceptable license status,
> quality, and amount of ``general'' interest for a package.
>
> Hope this helps.
>
> -k

Yes, it does help. Kernel smoothing is something I do quite a bit of, although
among the various R packages I've pretty much settled on "sm" because I can
interactively set the bandwidth parameter when I need to. KernSmooth will work,
though. IIRC KernSmooth also does derivatives, which is something I also need
occasionally.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

"Outside of a dog, a book is a man's best friend.  Inside a dog, it's
too dark to read." -- Marx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jun 11 12:58:01 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 11 Jun 2001 11:58:01 +0100
Subject: [R] Will R run in Batch mode?
In-Reply-To: <IFECIJELMCKDEACBAHGLIEKCCBAA.robert@compete.com>
References: <IFECIJELMCKDEACBAHGLIEKCCBAA.robert@compete.com>
Message-ID: <6GyG5CA5QKJ7Ew6R@myatt.demon.co.uk>

Robert Abugov <robert at compete.com> writes:
>A quick newbie question: Can R be run in batch mode from the command
>line?I'd like to use input files and get output files. If so, where can I
>find the documentation? help(batch) doesn't help.

I use Windows  ... use redirection operators with Rterm.exe. Something
like:

        rterm --vanilla < infile > outfile

You can put this one a shortcut.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jun 11 17:00:24 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 11 Jun 2001 16:00:24 +0100
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <Pine.LNX.4.30.0106011833180.11955-100000@bolker.zoo.ufl.edu>
References: <3B156F43.A794B75C@sci.osaka-cu.ac.jp>
 <Pine.LNX.4.30.0106011833180.11955-100000@bolker.zoo.ufl.edu>
Message-ID: <aR++8RAI0NJ7EwPX@myatt.demon.co.uk>


Slight problem ... pasting the degrees character (?), ASCII 176, into
RGUI for windows causes a crash in v1.2.2 but not in v1.2.1. It seems to
choke on all chars above 128 ASCII. Is this a bug?

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gardar at stat.ohio-state.edu  Mon Jun 11 17:41:13 2001
From: gardar at stat.ohio-state.edu (Gardar Johannesson)
Date: Mon, 11 Jun 2001 11:41:13 -0400 (EDT)
Subject: [R] maps in R: is there a devel. pack. out there!
Message-ID: <Pine.SOL.4.33.0106111119560.10646-100000@unix.stat.ohio-state.edu>

I recall some work in progress on developing a package to deal with maps in
R (by Dr. Ihaka and a student using PROJ4!).  Is there a development
snapshot that R-users can play with?  Alpha (beta) testers needed?

Cheers, Gj

_________________________________________________________
Gardar Johannesson		     Home Addr.
 Department of Statistics              605 Dennison, #3
Ohio State University                  Columbus, OH 43215
304E Cockins Hall, 1958 Neil Av.       Tel: 614-531-0102
Columbus, OH 43210                          ( cellular )

Tel: 614-292-1567
Fax: 614-292-2096
e-mail: gardar at stat.ohio-state.edu
WWW: www.stat.ohio-state.edu
_________________________________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 11 17:55:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 11 Jun 2001 16:55:17 +0100 (GMT Daylight Time)
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <aR++8RAI0NJ7EwPX@myatt.demon.co.uk>
Message-ID: <Pine.WNT.4.31.0106111649200.1156-100000@gannet>

On Mon, 11 Jun 2001, Mark Myatt wrote:

> Slight problem ... pasting the degrees character (), ASCII 176, into
> RGUI for windows causes a crash in v1.2.2 but not in v1.2.1. It seems to
> choke on all chars above 128 ASCII. Is this a bug?

Yes, but probably a bug in your Windows system.  I don't have 1.2.2 up
(it's obselete) but it causes no problem with 1.2.3 or pre-1.3.0 here.

A bug crashing on all chars above 128 is unlikely: Guido works in Italy,
after all.

We have had two or three reports of such things, on isolated machines
and different characters (UK pound sign, which this mailer will not accept,
was one).  That's Windows for you.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mazucheli at uol.com.br  Mon Jun 11 18:13:25 2001
From: mazucheli at uol.com.br (Josmar Mazucheli)
Date: Mon, 11 Jun 2001 13:13:25 -0300 (BRT)
Subject: [R] par
Message-ID: <200106111613.NAA03143@walters.uol.com.br>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20010611/61e214aa/attachment.pl

From rjf at waca.sys.uea.ac.uk  Mon Jun 11 19:48:11 2001
From: rjf at waca.sys.uea.ac.uk (Rob Foxall)
Date: Mon, 11 Jun 2001 18:48:11 +0100 (BST)
Subject: [R] rotate ylab
Message-ID: <Pine.LNX.4.21.0106111843400.14310-100000@waca.sys.uea.ac.uk>

Hello,
	I have an expression for the y axis, which I wish to rotate by 90
degrees (so that this label has the same orientation as for the x
axis). Thought the graphical parameter crt (or srt) would do the trick,
but haven't had any joy so far. Any ideas?
(Using Version 1.2.2, linux, redhat 7.0)

Cheers,
	Rob.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 11 18:50:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Jun 2001 17:50:58 +0100 (BST)
Subject: [R] rotate ylab
In-Reply-To: <Pine.LNX.4.21.0106111843400.14310-100000@waca.sys.uea.ac.uk>
Message-ID: <Pine.LNX.4.31.0106111750090.1242-100000@gannet.stats>

On Mon, 11 Jun 2001, Rob Foxall wrote:

> Hello,
> 	I have an expression for the y axis, which I wish to rotate by 90
> degrees (so that this label has the same orientation as for the x
> axis). Thought the graphical parameter crt (or srt) would do the trick,
> but haven't had any joy so far. Any ideas?
> (Using Version 1.2.2, linux, redhat 7.0)

>From ?par:

     las: numeric in {0,1,2,3}; the style of axis labels.

          0: always parallel to the axis [default],

          1: always horizontal,

          2: always perpendicular to the axis,

          3: always vertical.

          Note that other string/character rotation (via  `par(srt =
          ..)') does not affect the axis labels.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 11 19:11:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 2001 19:11:22 +0200
Subject: [R] par
In-Reply-To: Josmar Mazucheli's message of "Mon, 11 Jun 2001 13:13:25 -0300 (BRT)"
References: <200106111613.NAA03143@walters.uol.com.br>
Message-ID: <x266e3vt51.fsf@blueberry.kubism.ku.dk>

Josmar Mazucheli <mazucheli at uol.com.br> writes:

> Dear all, I have a question about "par" options.
> 
> 
> When I choose par(pty="s",mfrow=c(2,2)), how can I change the horizontal distance between 
> the plots????
> 
>  I have tried to use some options, like  "mai", "mar", "oma", "omd", so on but I didn't get the expected result.
> 
>  Some suggest will be appreciated.

Reducing the "top" or "bottom" value in par(mar=) ought to help, but
you might find that there is stuff being written on the lines that
you've removed. I sometimes use par(mex=0.8) to reduce the interline
distance.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjf at waca.sys.uea.ac.uk  Mon Jun 11 20:19:51 2001
From: rjf at waca.sys.uea.ac.uk (Rob Foxall)
Date: Mon, 11 Jun 2001 19:19:51 +0100 (BST)
Subject: [R] rotate ylab
In-Reply-To: <Pine.LNX.4.31.0106111750090.1242-100000@gannet.stats>
Message-ID: <Pine.LNX.4.21.0106111915020.14310-100000@waca.sys.uea.ac.uk>

On Mon, 11 Jun 2001, Prof Brian Ripley wrote:

> On Mon, 11 Jun 2001, Rob Foxall wrote:
> 
> > Hello,
> > 	I have an expression for the y axis, which I wish to rotate by 90
> > degrees (so that this label has the same orientation as for the x
> > axis). Thought the graphical parameter crt (or srt) would do the trick,
> > but haven't had any joy so far. Any ideas?
> > (Using Version 1.2.2, linux, redhat 7.0)
> 
> >From ?par:
> 
>      las: numeric in {0,1,2,3}; the style of axis labels.
> 
>           0: always parallel to the axis [default],
> 
>           1: always horizontal,
> 
>           2: always perpendicular to the axis,
> 
>           3: always vertical.
> 
>           Note that other string/character rotation (via  `par(srt =
>           ..)') does not affect the axis labels.

Cheers for the quick reply. However, I found when I used las that although
it changed the orientation of the axis labels (ie the numbers on the axis
tickmarks), it didn't change the orientation of the x- and y axis titles,
ie the expressions which I passed to xlab and ylab with the plot command:
 
plot(alpha,sigma,xlab=expression(alpha),ylab=expression(sigma))

Cheers,
	Rob.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jun 11 19:05:23 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 11 Jun 2001 13:05:23 -0400 (EDT)
Subject: [R] par
Message-ID: <200106111705.NAA02173@cattell.psych.upenn.edu>

I have a concrete example of this problem:

p <- 1:3
u <- matrix(c(1,1,1,2,2,2,3,3,3),3,)
r <- p*u
# bitmap("logq.bmp",type="bmpmono",height=3.5,width=7,res=96)
par(mfcol=c(1,3),cex=1.5,mar=c(8,4,4,0),pin=c(1.2,1.4))
matplot(p,r,type="b",main="A",col="black")
matplot(log(p),log(r),type="b",main="B",col="black")
r <- p+u
matplot(p,r,type="b",main="C",col="black")
# dev.off()

This was for someone who wanted to drop it into a Word document
(hence the lines commented out) - a test of mathematical
reasoning.  Word did not like it if the margin was too big.
(Eventually I chopped it with xv.)  Try as I might, I could not
adjust the margins so that it took up the whole space on the
page, horizontally, and the labels and figures were nicely spaced
yet not so small as to be unreadable.  If I made the margins too
small, the labels became invisible.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 11 19:28:46 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 2001 19:28:46 +0200
Subject: [R] par
In-Reply-To: baron@cattell.psych.upenn.edu's message of "Mon, 11 Jun 2001 13:05:23 -0400 (EDT)"
References: <200106111705.NAA02173@cattell.psych.upenn.edu>
Message-ID: <x23d97vsc1.fsf@blueberry.kubism.ku.dk>

baron at cattell.psych.upenn.edu (Jonathan Baron) writes:

> I have a concrete example of this problem:
> 
> p <- 1:3
> u <- matrix(c(1,1,1,2,2,2,3,3,3),3,)
> r <- p*u
> # bitmap("logq.bmp",type="bmpmono",height=3.5,width=7,res=96)
> par(mfcol=c(1,3),cex=1.5,mar=c(8,4,4,0),pin=c(1.2,1.4))
> matplot(p,r,type="b",main="A",col="black")
> matplot(log(p),log(r),type="b",main="B",col="black")
> r <- p+u
> matplot(p,r,type="b",main="C",col="black")
> # dev.off()
> 
> This was for someone who wanted to drop it into a Word document
> (hence the lines commented out) - a test of mathematical
> reasoning.  Word did not like it if the margin was too big.
> (Eventually I chopped it with xv.)  Try as I might, I could not
> adjust the margins so that it took up the whole space on the
> page, horizontally, and the labels and figures were nicely spaced
> yet not so small as to be unreadable.  If I made the margins too
> small, the labels became invisible.

This is not too bad by my standards:

 X11(height=3.5,width=7)
 par(mfcol=c(1,3),cex=1.5,mex=0.6, mar=c(5,4,4,1)+.1)
 matplot(p,r,type="b",main="A",col="black")
 matplot(log(p),log(r),type="b",main="B",col="black")
 r <- p+u
 matplot(p,r,type="b",main="C",col="black")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon Jun 11 19:40:27 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 11 Jun 2001 12:40:27 -0500
Subject: [R] Generalized Additive Model
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHGELICCAA.peppysiuly@actrix.co.nz>
Message-ID: <200106111740.MAA69984@odds.stat.purdue.edu>


   Reply-To: <peppysiuly at actrix.co.nz>
   From: "Peppy & Siuly Adi-Purnomo" <peppysiuly at actrix.co.nz>
   Date: Mon, 11 Jun 2001 23:32:33 +1200
   MIME-Version: 1.0
   Content-Type: text/plain;
	   charset="iso-8859-1"
   Content-Transfer-Encoding: 7bit
   X-Priority: 3 (Normal)
   X-MSMail-Priority: Normal
   X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
   X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
   Importance: Normal
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hello,

   I am wondering if someone can direct me to the syntax of the Generalised
   Additive Model in R?  In Splus this is gam(formula, ... inputs would be
   pretty much the same as glm I suspect..)

   Any response on that (or what package should I grap) would be appreciated
   very much.

   Thanks,
   Peppy Adi-Purnomo

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You may want to try gssanova in the gss package.  It fits models more
general than additive models.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Jun 11 20:44:12 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 11 Jun 2001 20:44:12 +0200
Subject: [R] Is this a minor bug in RGUI.EXE?
References: <Pine.WNT.4.31.0106111649200.1156-100000@gannet>
Message-ID: <3B25117C.164BCFDD@univie.ac.at>

may i add a question:
are you running some kind of keyboard macro program?
i know the hard way that this can cause all sorts of problems in rgui.



Prof Brian D Ripley wrote:
> 
> On Mon, 11 Jun 2001, Mark Myatt wrote:
> 
> > Slight problem ... pasting the degrees character (?), ASCII 176, into
> > RGUI for windows causes a crash in v1.2.2 but not in v1.2.1. It seems to
> > choke on all chars above 128 ASCII. Is this a bug?
> 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue Jun 12 00:21:00 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 12 Jun 2001 10:21:00 +1200
Subject: [R] rotate ylab
References: <Pine.LNX.4.21.0106111915020.14310-100000@waca.sys.uea.ac.uk>
Message-ID: <011d01c0f2c4$cb82c270$175dd882@stat.auckland.ac.nz>

Hi


> > > I have an expression for the y axis, which I wish to rotate by 90
> > > degrees (so that this label has the same orientation as for the x
> > > axis). Thought the graphical parameter crt (or srt) would do the
trick,
> > > but haven't had any joy so far. Any ideas?
> > > (Using Version 1.2.2, linux, redhat 7.0)
> >
> > >From ?par:
> >
> >      las: numeric in {0,1,2,3}; the style of axis labels.
> >
> >           0: always parallel to the axis [default],
> >
> >           1: always horizontal,
> >
> >           2: always perpendicular to the axis,
> >
> >           3: always vertical.
> >
> >           Note that other string/character rotation (via  `par(srt =
> >           ..)') does not affect the axis labels.
>
> Cheers for the quick reply. However, I found when I used las that although
> it changed the orientation of the axis labels (ie the numbers on the axis
> tickmarks), it didn't change the orientation of the x- and y axis titles,
> ie the expressions which I passed to xlab and ylab with the plot command:
>
> plot(alpha,sigma,xlab=expression(alpha),ylab=expression(sigma))


The drawing of xlab and ylab ignores the par(las) setting.  This may seem
like an annoying thing for plot() to do, but there two points to make in its
defence:

(i)  plot() is a high-level function designed to try and provide sensible
default behaviour (and not to be too ridiculously complicated).  In the case
of drawing ylab and xlab, the only sensible (simple) general solution is to
draw them parallel to the axes because they can be very long and would
otherwise disappear off the edge of the plot or impinge on the plot data
region.

(ii)  you can override this "sensible" default behaviour if it annoys you.
For example, you can stop plot() drawing xlab and ylab by something like
plot(ann=F) or plot(xlab="", ylab="") AND you can draw them yourself using
mtext(), which does listen to par(las).
A couple of examples of what I mean ...

    par(mfrow=c(2,2), mar=c(5.1, 4.1, 4.1, 2.1), las=0)
    plot(0:10, 0:10, type="n")
    text(5, 5, "The default axes")
    box("figure", lty="dashed")
    par(las=1)
    plot(0:10, 0:10, type="n")
    text(5, 5, "The user says horizontal text please\n\nbut R knows better
!")
    box("figure", lty="dashed")
    par(las=1, mar=c(5.1, 6.1, 4.1, 2.1))
    plot(0:10, 0:10, type="n", ann=F)
    mtext("0:10", side=2, line=3)
    mtext("0:10", side=1, line=3)
    text(5, 5, "The user fights back !")
    box("figure", lty="dashed")

Anyway, whether you needed the philosophy or not, I hope that helps with
your example :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Tue Jun 12 04:57:55 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Tue, 12 Jun 2001 14:57:55 +1200
Subject: [R] a problem with rep()  ?
Message-ID: <200106120258.f5C2w0L42230@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
Version 1.2.3  (2001-04-26) on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
I am wondering if there is a problem with the function rep(). Both the 
commands using rep() below were expected to produce 8 twos, but only 
the second did.

x <- rep(2,40*(1-0.8))
length(x)

y <- rep(2,40*0.2)     
length(y)

Have I misused the function? Should the second argument of rep() be 
limited to a single number or a vector of the same length as the first 
argument as it documents in the help? Or is this a bug?

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jun 12 08:20:39 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 12 Jun 2001 08:20:39 +0200
Subject: [R] a problem with rep()  ?
References: <200106120258.f5C2w0L42230@storm.niwa.cri.nz>
Message-ID: <3B25B4B7.6FDE9081@statistik.uni-dortmund.de>



"S.McClatchie" wrote:
> 
> Colleagues
> 
> ----------------------------------
> System info:
> Version 1.2.3  (2001-04-26) on NT
> ESS v. 5.1.18 using emacs ver. 20.4
> 
> ----------------------------------
> I am wondering if there is a problem with the function rep(). Both the
> commands using rep() below were expected to produce 8 twos, but only
> the second did.
> 
> x <- rep(2,40*(1-0.8))
> length(x)
> 
> y <- rep(2,40*0.2)
> length(y)
> 
> Have I misused the function? Should the second argument of rep() be
> limited to a single number or a vector of the same length as the first
> argument as it documents in the help? Or is this a bug?
> 
> Help will be appreciated.
> Thanks

This happens because of computational (un)exactness:

  (1-0.8) == 0.2
[1] FALSE

 options(digits=22)
 1-0.8
[1] 0.19999999999999996

 0.2
[1] 0.2

And because in this case R interprets (1-0.8) < 0.2, also
floor(40*(1*0.8)) is 7. ;-)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Jun 12 08:58:45 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 12 Jun 2001 08:58:45 +0200
Subject: [R] a problem with rep()  ?
In-Reply-To: <200106120258.f5C2w0L42230@storm.niwa.cri.nz>
Message-ID: <MABBLJDICACNFOLGIHJOIEOBCDAA.phgrosje@ulb.ac.be>

Sam McClatchie wrote:

>I am wondering if there is a problem with the function rep(). Both the
>commands using rep() below were expected to produce 8 twos, but only
>the second did.

>x <- rep(2,40*(1-0.8))
>length(x)

>y <- rep(2,40*0.2)
>length(y)

>Have I misused the function? Should the second argument of rep() be
>limited to a single number or a vector of the same length as the first
>argument as it documents in the help? Or is this a bug?

This sounds to me like a rounding problem. Recall that a computer always has
a limited precision in its calculations (except when using infinite
precision algorithms like in Mathematica) and it could sometimes produce
unexpected results. As an evidence of that,

z <- rep(2, 40*(1-0.79999999999999))

produces 8 twos, as expected. With other value, behavior of rep() is
"correct":

rep(2, 40*0.4)

and

rep(2, 40*(1-0.6))

both give 16 twos, as expected.

Best regards,

Philippe


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Tue Jun 12 09:50:15 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Tue, 12 Jun 2001 09:50:15 +0200
Subject: [R] Is this a minor bug in RGUI.EXE?
References: <3B156F43.A794B75C@sci.osaka-cu.ac.jp> <Pine.LNX.4.30.0106011833180.11955-100000@bolker.zoo.ufl.edu> <aR++8RAI0NJ7EwPX@myatt.demon.co.uk>
Message-ID: <003e01c0f314$516b0ec0$cd981291@psy.uva.nl>

cutting and pasting from your mail worked for me on 1.2.3 (winnt)

----- Original Message -----
From: "Mark Myatt" <mark at myatt.demon.co.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, June 11, 2001 5:00 PM
Subject: [R] Is this a minor bug in RGUI.EXE?


>
> Slight problem ... pasting the degrees character (?), ASCII 176, into
> RGUI for windows causes a crash in v1.2.2 but not in v1.2.1. It seems to
> choke on all chars above 128 ASCII. Is this a bug?
>
> Mark
>
>
> --
> Mark Myatt
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Tue Jun 12 11:45:17 2001
From: houix at ircam.fr (houix@ircam.fr)
Date: Tue, 12 Jun 2001 11:45:17 +0200
Subject: [R] cophenetic matrix
Message-ID: <20010612114517.A16542@libido.ircam.fr>

Hello,
I analyse some free-sorting data so I use hierarchical
clustering.
I want to compare my proximity matrix with the tree 
representation to evalute the fitting. (stress, cophenetic correlation
(pearson's correlation)...)

"The cophenetic similarity of two objects a and b is defined as the
similarity level at wich objects a and b become members of the same
cluster during the course of clustering" Legendre, P and Legendre, L Numeri
Ecology, 1998.

I've made a (tricky) function to compute this cophenetic matrix. But now 
I need some help to evaluate my function with your data. Because for
little matrix (as Legendre's example), I found the same cophenetic
correlation  as Matlab do (direct calculation) but for bigger matrix
(30x30) my results differ!!

Maybe my function is wrong?
To use my function you need to have the sm library. 

Thanks 
Olivier Houix  
-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris           
-------------- next part --------------
### cophenetic matrix that represents tree distance
### I use the function ask to interactively input data
### sorry for people that doesn't like this
### the cophenetic matrix is saved with the name:
### filename.arbre
### source("cophmatrix.r")
### 
cophmatrix <- function(){
  library(mva)
  library(sm)
  nom <- ask(message="Name of the file")
  nbre <- ask(message="Number of sounds")
  quest <- ask(message="Matrix of dissimilarity (1) or  nxm matrix (2)")
  fichier <- read.table(nom)
  ## matrix nxn ou nxm 
  ## proximity between objects: nxn or description of n objects with m attributes
  if(quest == 1){
    dis1 <- as.dist(fichier)
  }
  else{
    methode <- ask(message="The distance measure to be used = euclidean:1 maximum:2 manhattan:3 canberra:4 or binary:5")
    methodo <- c("euclidean", "maximum", "manhattan", "canberra" ,"binary")  
    dis1 <- dist(fichier , method = methodo[[methode]])
  }
  methode2 <- ask(message ="The agglomeration method to be used = ward:1 single:2 complete:3 average:4 mcquitty:5 median:6 centroid:7")
  methodo2 <- c("ward", "single", "complete", "average","mcquitty", "median","centroid")
  hc <- hclust(dis1 , method = methodo2[[methode2]])
  merge <- hc$merge
  height <- hc$height
  nodal <- cbind(merge,height) ### layout of the nodes 
  long <-  length(height) + 1
  distarbre <- mat.or.vec(nbre,nbre)

  ## the method is very simple as the program hclust works.
  ## For clusters  merging, I compute the distance between
  ## objects belonging to the differents clusters merged.
  ## If you look at hc$merge, you see that a negative value correspond
  ## to an object and a positive value to a node.
  
  for(i in 1:(long-1)){
    if(i == 1){
      if((nodal[i,1] < 0) &&  (nodal[i,2] < 0)){
        noeud <- list(c(abs(nodal[i,1]),abs(nodal[i,2])))
        distarbre[as.integer(abs(nodal[i,1])),as.integer(abs(nodal[i,2]))] <-  nodal[i,3]
        distarbre[as.integer(abs(nodal[i,2])),as.integer(abs(nodal[i,1]))] <-  nodal[i,3]
      }
      if(((nodal[i,1] < 0) && (nodal[i,2] > 0)) ||  (nodal[i,2] < 0) && (nodal[i,1] > 0)){
        if(nodal[i,1] > 0){          
          noeud <- list(c(unlist(noeud[[as.integer(abs(nodal[i,1]))]]),abs(nodal[i,2])))
          
        }
        else  noeud <- list(c(unlist(noeud[[as.integer(abs(nodal[i,2]))]]),abs(nodal[i,1])))
        
      }      
      if((nodal[i,1] > 0) &&  (nodal[i,2] > 0)){
        noeud <- list(c(unlist(noeud[[abs(nodal[i,1])]]),unlist(noeud[[as.integer(abs(nodal[i,2]))]])))
      }
      
    }
    else{
      if((nodal[i,1] < 0) &&  (nodal[i,2] < 0)){
        noeud <- c(noeud,list(c(abs(nodal[i,1]),abs(nodal[i,2]))))
        distarbre[as.integer(abs(nodal[i,1])),as.integer(abs(nodal[i,2]))] <-  nodal[i,3]
        distarbre[as.integer(abs(nodal[i,2])),as.integer(abs(nodal[i,1]))] <-  nodal[i,3]
      }
      if(((nodal[i,1] < 0) && (nodal[i,2] > 0)) ||  (nodal[i,2] < 0) && (nodal[i,1] > 0)){
        if(nodal[i,1] > 0){          
          for(l in 1:length(noeud[[as.integer(abs(nodal[i,1]))]])){
            print(l)
            distarbre[noeud[[as.integer(abs(nodal[i,1]))]][l],abs(nodal[i,2])] <- nodal[i,3]
            distarbre[abs(nodal[i,2]),noeud[[as.integer(abs(nodal[i,1]))]][l]] <- nodal[i,3] 
          }
          noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,1]))]]),abs(nodal[i,2]))))
        }
        else{
          print(length(noeud[[as.integer(abs(nodal[i,2]))]]))
          for(m in 1:length(noeud[[as.integer(abs(nodal[i,2]))]])){
            print(m)
            distarbre[noeud[[as.integer(abs(nodal[i,2]))]][m],abs(nodal[i,1])] <- nodal[i,3]
            distarbre[abs(nodal[i,1]),noeud[[as.integer(abs(nodal[i,2]))]][m]] <- nodal[i,3] 
          }
          noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,2]))]]),abs(nodal[i,1]))))
        }
      }      
      if((nodal[i,1] > 0) &&  (nodal[i,2] > 0)){
        for(n in 1:length(noeud[[as.integer(abs(nodal[i,1]))]])){
          for(o in 1:length(noeud[[as.integer(abs(nodal[i,2]))]])){            
            distarbre[noeud[[as.integer(abs(nodal[i,2]))]][o],noeud[[as.integer(abs(nodal[i,1]))]][n]] <- nodal[i,3]
            distarbre[noeud[[as.integer(abs(nodal[i,1]))]][n],noeud[[as.integer(abs(nodal[i,2]))]][o]] <- nodal[i,3]
          }
        }
        noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,1]))]]),(noeud[[as.integer(abs(nodal[i,2]))]]))))
      }
    }
  }
  ##print(diag(distarbre))
  ##print(distarbre)
  write.table(distarbre,paste(nom,".arbre",sep=""), quote = FALSE,eol = "\n",row.names = FALSE,col.names=FALSE)
}







From mark at myatt.demon.co.uk  Tue Jun 12 10:56:45 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 12 Jun 2001 09:56:45 +0100
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <Pine.WNT.4.31.0106111649200.1156-100000@gannet>
References: <aR++8RAI0NJ7EwPX@myatt.demon.co.uk>
 <Pine.WNT.4.31.0106111649200.1156-100000@gannet>
Message-ID: <OR$7sFANldJ7Ewt+@myatt.demon.co.uk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

>We have had two or three reports of such things, on isolated machines
>and different characters (UK pound sign, which this mailer will not accept,
>was one).  That's Windows for you.

Your writing "That's Windows for you" gave me pause for thought. I
checked a bit further and found that it is MSVCRT.DLL that is raising an
exception and not RGUI.EXE. Replacing this library with a previous
version gets rid of the problem. Of course, it might alter the function
of something else but that's Windows for you!

This would explain the isolated reports. Perhaps the solution is to
static compile RGUI.EXE ... perhaps it already is in the less obsolete
versions.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue Jun 12 13:21:36 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 12 Jun 2001 07:21:36 -0400
Subject: [R] digits argument for print method for dataframe
Message-ID: <15141.64320.288621.553834@gargle.gargle.HOWL>

I have two questions:

First, how does the digits argument to the print method for dataframes work? I
wandered around through print.data.frame and format.data.frame without fully
understanding what is going on.
Here is a simple example:

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    2.3                 
year     2001                
month    04                  
day      26                  
language R                   
> set.seed(9)
> dum <- data.frame(w = rnorm(3), x = rnorm(3) + 100, y  = rnorm(3))
> dum
          w         x           y
1  1.154443  98.71592 -0.09822585
2 -1.190371  99.36611 -0.56244518
3 -1.444471 102.28006 -1.45055500
> options("digits")
$digits
[1] 7

Why are there 6 digits after the decimal for "w" but 8 for "y"? My guess, after
some experimentation, is that a) each column is treated independently (seems
clear enough in the code) and b) the number of digits after the decimal is set
so that every number in that column has a least "digits" numerals (after any
leading zeroes). So, in "w", we need 6 numbers after the decimal (plus the
leading 1 or -1) to get us to 7 digits while for "y" we need 8 digits so that
the first value (0.09822585) can have 7 "real" digits after it's leading
-0.0. Similarly, with x we need 5 digits after the decimal so that the first
two values will have a total of seven digits (when we include the 98/99). Is
this correct and can this behavior be overridded? For example, I would like to
be able to have a column have two digits after the decimal regardless of any
leading zeroes. As best I can tell this is not possible. Also, I would like to
be able to format different columns differently (i.e., pass in a vector to the
digits argument). I don't think that this is possible, but am I missing something?

> print(dum, digits = 3)
      w     x       y
1  1.15  98.7 -0.0982
2 -1.19  99.4 -0.5624
3 -1.44 102.3 -1.4506
> print(dum, digits = c(3,10,10))
      w     x       y
1  1.15  98.7 -0.0982
2 -1.19  99.4 -0.5624
3 -1.44 102.3 -1.4506

Second, do people have generic advice on "pretty printing"? My needs are
limmitted (control character justification, control the number of digits after
the decimal, place commas in large numbers). I can think of at
least 3 ways to go. First, dump the data into Perl and use it. Second, write
code (actually steal complex code from a friend) that creates Latex
tables. Third (and this is hazy in my find), create my own format methods that
do what I want. Surely, other people have confronted this problem before . . .


As a side note, it seems like the help for format (?format) has left out a sentence fragment:

...
     `format.data.frame' formats the data frame column by column,
     applying the appropriate method of `format' for each column. The
     result is a data frame, so in most cases

Note:

...


Thanks for any advice or pointers,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 12 13:51:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 12 Jun 2001 12:51:11 +0100 (BST)
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <OR$7sFANldJ7Ewt+@myatt.demon.co.uk>
Message-ID: <Pine.GSO.4.31.0106121248550.19193-100000@auk.stats>

On Tue, 12 Jun 2001, Mark Myatt wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
>
> >We have had two or three reports of such things, on isolated machines
> >and different characters (UK pound sign, which this mailer will not accept,
> >was one).  That's Windows for you.
>
> Your writing "That's Windows for you" gave me pause for thought. I
> checked a bit further and found that it is MSVCRT.DLL that is raising an
> exception and not RGUI.EXE. Replacing this library with a previous
> version gets rid of the problem. Of course, it might alter the function
> of something else but that's Windows for you!
>
> This would explain the isolated reports. Perhaps the solution is to
> static compile RGUI.EXE ... perhaps it already is in the less obsolete
> versions.

You can't.  MSVCRT.DLL supposedly depends on the OS (95/98/NT/2000), and
furthermore is not re-distributable.  (It is if you use VC++, but we do
not.)  Yes, a lot of problems are traceable to rogue MSVCRT.DLLs or other
system dlls.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Jun 12 15:51:55 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 12 Jun 2001 14:51:55 +0100
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <Pine.GSO.4.31.0106121248550.19193-100000@auk.stats>
References: <OR$7sFANldJ7Ewt+@myatt.demon.co.uk>
 <Pine.GSO.4.31.0106121248550.19193-100000@auk.stats>
Message-ID: <TNi87CA75hJ7Ewv9@myatt.demon.co.uk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes (regarding static
compilation of RGUI.EXE to include library functions residing in
MSVCRT.DLL):

>You can't.  MSVCRT.DLL supposedly depends on the OS (95/98/NT/2000), and
>furthermore is not re-distributable.  (It is if you use VC++, but we do
>not.)  Yes, a lot of problems are traceable to rogue MSVCRT.DLLs or other
>system dlls.

Are you sure about this? I have been using an ActiveX control (AddFlow
from Lassalle Technologies, http://www.lassalle.com) that claims to
have a version that is ...

        "statically linked with the Microsoft shared DLLs (mfc42.dll,
        msvcrt.dll). The advantage is that it does not need those DLLs
        to work."

Perhaps this .OCX was written with VC++. Seems likely.

Anyway, I've sold the problem here.

BTW, Is there a system .DLL dependency list for RGUI.EXE? The only
reference that I can find in the documentation is to MSVCRT.DLL from
rw1020 onwards.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Jun 12 15:45:41 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 12 Jun 2001 21:45:41 +0800
Subject: [R] digits argument for print method for dataframe
In-Reply-To: <15141.64320.288621.553834@gargle.gargle.HOWL>; from a296180@mica.fmr.com on Tue, Jun 12, 2001 at 07:21:36AM -0400
References: <15141.64320.288621.553834@gargle.gargle.HOWL>
Message-ID: <20010612214541.A1951@camille.indigoindustrial.co.nz>

> First, how does the digits argument to the print method for dataframes work? 

It specifies the number of significant digits to display.  In your example,
with digits=7, each column had 7 sig. figs.

> Second, do people have generic advice on "pretty printing"? 

For pretty export to LaTeX or HTML, I use the "xtable"
library, which is on CRAN.  I think it's nice.

http://cran.r-project.org/src/contrib/PACKAGES.html#xtable

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 12 16:40:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 12 Jun 2001 15:40:42 +0100 (BST)
Subject: [R] Is this a minor bug in RGUI.EXE?
In-Reply-To: <TNi87CA75hJ7Ewv9@myatt.demon.co.uk>
Message-ID: <Pine.GSO.4.31.0106121536290.19406-100000@auk.stats>

On Tue, 12 Jun 2001, Mark Myatt wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes (regarding static
> compilation of RGUI.EXE to include library functions residing in
> MSVCRT.DLL):
>
> >You can't.  MSVCRT.DLL supposedly depends on the OS (95/98/NT/2000), and
> >furthermore is not re-distributable.  (It is if you use VC++, but we do
> >not.)  Yes, a lot of problems are traceable to rogue MSVCRT.DLLs or other
> >system dlls.
>
> Are you sure about this? I have been using an ActiveX control (AddFlow
> from Lassalle Technologies, http://www.lassalle.com) that claims to
> have a version that is ...
>
>         "statically linked with the Microsoft shared DLLs (mfc42.dll,
>         msvcrt.dll). The advantage is that it does not need those DLLs
>         to work."
>
> Perhaps this .OCX was written with VC++. Seems likely.

Well, Microsoft do change their minds, but when we first looked into
changing, yes it was clearcut.

> Anyway, I've sold the problem here.
>
> BTW, Is there a system .DLL dependency list for RGUI.EXE? The only
> reference that I can find in the documentation is to MSVCRT.DLL from
> rw1020 onwards.

Well, pedump.exe will tell you, as will quick view on a well-equipped
machine.

It's the standard ones (kernel, user32, advapi, gdi as I recall) plus
comctl32, version and wsock32.

With rw1030 two weeks off, it's a bit irrelevant (since the answer is
different there).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jun 12 17:46:29 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 12 Jun 2001 11:46:29 -0400
Subject: [R] key()
Message-ID: <3B263955.BCA76EEB@virginia.edu>

Has anyone written a stand-in for the S-Plus key function
that implements as many of the capabilities as possible
using the R legend function?  I am seeking an approximate
key() that is called the same way as in S-Plus.  I am trying
to save some work in porting the Hmisc and Design libraries.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jun 12 16:07:31 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Tue, 12 Jun 2001 10:07:31 -0400
Subject: [R] 3 Biopharmaceutical stat conferences
Message-ID: <3B262223.FB31D229@virginia.edu>

Dear Colleagues,

Please note that the following Statistical Conferences will take place
in
Washington DC.


Title:    Statistical Issues in Drug Development
Content: A Two-day Intensive course avoiding technical detail and
concentrating on PRACTICAL and PHILOSOPHICAL issues
that determine which data are collected, how the study should
be organized, and what the outcome means. It will
ensure that participants acquire a well grounded appreciation
of the all the important statistical issues surrounding
 Drug Development.
Date:     14 & 15 June 2001
Venue:    Georgetown University Conference Center, Washington DC
Course Leader: Professor Stephen Senn, University College London, UK
Speakers: Professor Peter Lachenbruch, Director of Biostatistics,
CBER, US Food and Drug Administration
Dr Richard Simon, Head of Molecular Statistics and
Bioinformatics, National Cancer Institute, NIH

ALL DELEGATES RECEIVE A FREE HARDBACK COPY OF "STATISTICAL ISSUES IN
DRUG
DEVELOPMENT" BY AUTHOR AND COURSE DIRECTOR Professor STEPHEN SENN



Title: Statistics of Optimal Dosing
Content: Many statisticians feel that dose selection is very poorly
done.
This briefing will cover methods appropriate for establishing the
"optimal
dose". It will examine the problems of dosing and suggest practical
solutions. Dose assessment must be done correctly: if assessed
incorrectly
the cost project delay and extra costs can be very high.
Venue: Washington DC, USA
Date:  26th July 2001



Title: Statistics of Multi-center Trials
Content: Views differ enormously on how multi-center trials should be
designed and data from them analyzed. Section 3.2 of the ICH guideline,
which has now been adopted in the US, Europe and Japan is open to
interpretation. The FDA provides specific guidelines for a strong
statistical basis for the design and analysis of clinical trials. Clare
Gnecco, Senior Biostatistician, CBER, US FDA will discuss along with
other
experts, the statistical issues surrounding multi-center trials
Venue: Washington DC, USA
Date:  14th September 2001



For more information, please got to our website at
www.henrystewart.co.uk or contact

Dr Carlos Horkan
Henry Stewart Conference Studies
Russell House
28-30 Little Russell Street
London WC1A 2HN
Tel: +44 207 404 3040
Fax: +44 207 404 2081
Email: carlosh at henrystewart.co.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jun 12 18:11:48 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 12 Jun 2001 18:11:48 +0200
Subject: [R] trouble to install the Rstream package 
Message-ID: <3B263F44.6658B425@cbs.dtu.dk>

Dear R-users,


I successfully installed the package Rstreams under linux, but my first
attempt to do so on SGI IRIX 6.5 (64bits) lead to the following error
message.

--------------------
laurent at genome> R CMD INSTALL Rstreams
Installing source package `Rstreams' ...
creating cache ./config.cache
checking for ftruncate... yes
checking size of long double... 16
updating cache ./config.cache
creating ./config.status
creating src/config.h
 libs
gcc -I/home/ibiology1/laurent/share/irix64/lib/R/include -DHAVE_CONFIG_H
-I/usr/local/include   -fPIC  -O2 -c Rstreams.c -o Rstreams.o
Rstreams.c: In function `readfloat':
Rstreams.c:179: duplicate case value
Rstreams.c:173: this is the first entry for that value
Rstreams.c: In function `writefloat':
Rstreams.c:284: duplicate case value
Rstreams.c:278: this is the first entry for that value
gmake: *** [Rstreams.o] Error 1
ERROR: Compilation failed for package `Rstreams'
-----------------

I suspect an obvious mistake from my side, but I just cannot see what is
wrong at the moment.

Any hint is welcome,



Laurent




--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010612/aab06ba6/attachment.html

From ripley at stats.ox.ac.uk  Tue Jun 12 18:30:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 12 Jun 2001 17:30:13 +0100 (BST)
Subject: [R] trouble to install the Rstream package 
In-Reply-To: <3B263F44.6658B425@cbs.dtu.dk>
Message-ID: <Pine.GSO.4.31.0106121718430.26776-100000@toucan.stats>

On Tue, 12 Jun 2001, Laurent Gautier wrote:

> Dear R-users,
>
>
> I successfully installed the package Rstreams under linux, but my first
> attempt to do so on SGI IRIX 6.5 (64bits) lead to the following error
> message.
>
> --------------------
> laurent at genome> R CMD INSTALL Rstreams
> Installing source package `Rstreams' ...
> creating cache ./config.cache
> checking for ftruncate... yes
> checking size of long double... 16
> updating cache ./config.cache
> creating ./config.status
> creating src/config.h
>  libs
> gcc -I/home/ibiology1/laurent/share/irix64/lib/R/include -DHAVE_CONFIG_H
> -I/usr/local/include   -fPIC  -O2 -c Rstreams.c -o Rstreams.o
> Rstreams.c: In function `readfloat':
> Rstreams.c:179: duplicate case value
> Rstreams.c:173: this is the first entry for that value
> Rstreams.c: In function `writefloat':
> Rstreams.c:284: duplicate case value
> Rstreams.c:278: this is the first entry for that value
> gmake: *** [Rstreams.o] Error 1
> ERROR: Compilation failed for package `Rstreams'
> -----------------
>
> I suspect an obvious mistake from my side, but I just cannot see what is
> wrong at the moment.

We've seen this before, on an Alpha.  Something is wrong in the configure,
for the code reads

        case 8:
            if (read(*handle, &d1, size) <= 0) goto enddata;
            if (*swapbytes) swap(&d1, size);
            result[i] = d1;
            break;
#if SIZEOF_LONG_DOUBLE > 8
        case sizeof(long double):
            if (read(*handle, &e1, size) <= 0) goto enddata;
            if (*swapbytes) swap(&e1, size);
            result[i] = (double) e1;
            break;
#endif

so this will only happen if sizeof(long double) is 8 and
SIZEOF_LONG_DOUBLE > 8.  I am very surprised that sizeof(long double)
is 8 on a 64-bit machine (SGI or Alpha) but that may reflect limitations
of gcc.

What does src/config.h say SIZEOF_LONG_DOUBLE is?

I can only presume that you have different compilers or compiler options
at configure and build times.  You may need to set CC=gcc, for example.


As a more general point, there is nothing in Rstreams that cannot be done
with binary connections, except reading S data objects which package
foreign now covers.  So for new code, use the alternatives.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Tue Jun 12 18:33:04 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Tue, 12 Jun 2001 18:33:04 +0200
Subject: [R] key()
In-Reply-To: <3B263955.BCA76EEB@virginia.edu>; from fharrell@virginia.edu on Tue, Jun 12, 2001 at 11:46:29AM -0400
References: <3B263955.BCA76EEB@virginia.edu>
Message-ID: <20010612183302.A1706@rzpool09.rz.tu-bs.de>

On Tue, Jun 12, 2001 at 11:46:29AM -0400, Frank E Harrell Jr wrote:
> Has anyone written a stand-in for the S-Plus key function
> that implements as many of the capabilities as possible
> using the R legend function?  I am seeking an approximate
> key() that is called the same way as in S-Plus.  I am trying
> to save some work in porting the Hmisc and Design libraries.

There is an explantion in trellis.args (libr.lattice, under developm.) that 
the "key" function is not (yet) implemented. I interpret this, that  
later versions will include this function.

Peter 


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Tue Jun 12 21:35:57 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Tue, 12 Jun 2001 21:35:57 +0200
Subject: [R] spss-data import
In-Reply-To: <3B22A885.23512.47FDE2@localhost>; from bernd.weiss@epost.de on Sat, Jun 09, 2001 at 10:51:49PM +0200
References: <3B22A885.23512.47FDE2@localhost>
Message-ID: <20010612213557.A2328@gmx.de>

On Sat, Jun 09, 2001 at 10:51:49PM +0200, Bernd Weiss wrote:
> Hi Jon, Peter,
> 
> thanks for your immediate help. The command 
> allbus<-read.table("d:/tab.dat",sep="\t",dec=",") 
> works fine -- ok, I just took a part of the whole dataset. 
> 
> BTW: I use SPSS 10.0... so read.spss won't work.

I'll have to correct me. I have just received a spss (I don't have an spss 
version 10) file with

$FL2@(#) SPSS DATA FILE MS Windows Release 10.0.5 spssio32.dll  

at the begining and I was able to read it. But I swear that the former file
I got wasn't readable (even spss 6 ...).

And:

> xx <- read.spss("/mnt/hda1/MUTTER/SPSS/DATEN/FrBo1.SAV")
Process R segmentation fault at Tue Jun 12 21:22:42 2001

still persists. Anyway, I think the way with read.table is a reasonable 
alternative. I guess that spss sometimes uses headers which are either 
misspecified by spss or the read.spss codes don't get it right. 

btw: the original pspp code says:

PSPP> get fil "/mnt/hda1/MUTTER/SPSS/DATEN/FrBo1.SAV"
    > 
error: corrupt system file: /mnt/hda1/MUTTER/SPSS/DATEN/FrBo1.SAV: position
        34: Bad record type (22); the expected value was 2.
warning: The rest of this command has been discarded.

(read.spss has been taken from the pspp project)

Peter


-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Wed Jun 13 06:55:01 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Wed, 13 Jun 2001 06:55:01 +0200
Subject: [R] spss-data import
In-Reply-To: <20010612213557.A2328@gmx.de>
References: <3B22A885.23512.47FDE2@localhost>; from bernd.weiss@epost.de on Sat, Jun 09, 2001 at 10:51:49PM +0200
Message-ID: <3B270E45.27992.16D797@localhost>

On 12 Jun 2001, at 21:35, Peter Malewski wrote:

[...]
> still persists. Anyway, I think the way with read.table 
is a
> reasonable alternative. I guess that spss sometimes uses
> headers which are either misspecified by spss or the
> read.spss codes don't get it right. 
> 
[...]
Yesterday 'read.spss' did a great job, no problems. One 
restriction occurs using a 32MB dataset (ALLBUS 1980--96) --
 this is definitly to much (for R). Creating a smaller 
working file is a solution. 

Bernd




--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jun 13 10:53:50 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 13 Jun 2001 10:53:50 +0200
Subject: [R] Maybe OT: large fonts in eps-figures
Message-ID: <3B272A1E.F23DE830@psy.uni-muenchen.de>

Hi there,

if I copy an x11() graphics device to an eps-file (with dev.copy2eps())
the font in the legend is very large and doesn't fit to the legend box
in the eps-file (same with a postscript file). I'm not sure if this is a
R problem rather than a ghostscript one.

But is there a way to solve this problem in R or depends this on my
ghostscript installation?

System: R Version 1.2.3 on Debian Linux 2.2, ghostscript version 5.10.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 13 11:01:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 13 Jun 2001 10:01:09 +0100 (BST)
Subject: [R] Maybe OT: large fonts in eps-figures
In-Reply-To: <3B272A1E.F23DE830@psy.uni-muenchen.de>
Message-ID: <Pine.GSO.4.31.0106130959000.7752-100000@auk.stats>

On Wed, 13 Jun 2001, Sven Garbade wrote:

> Hi there,
>
> if I copy an x11() graphics device to an eps-file (with dev.copy2eps())
> the font in the legend is very large and doesn't fit to the legend box
> in the eps-file (same with a postscript file). I'm not sure if this is a
> R problem rather than a ghostscript one.
>
> But is there a way to solve this problem in R or depends this on my
> ghostscript installation?

Set the ps arg when you copy.  Or (better) don't use dev.copy2eps() but
re-plot on a postscript device.

All dev.copy and hence dev.copy2eps does is to replay the graphics calls,
and in some cases device-specific decisions have already been made when the
call was first run.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 13 11:21:21 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2001 11:21:21 +0200
Subject: [R] Maybe OT: large fonts in eps-figures
In-Reply-To: Sven Garbade's message of "Wed, 13 Jun 2001 10:53:50 +0200"
References: <3B272A1E.F23DE830@psy.uni-muenchen.de>
Message-ID: <x2hexkhh0u.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi there,
> 
> if I copy an x11() graphics device to an eps-file (with dev.copy2eps())
> the font in the legend is very large and doesn't fit to the legend box
> in the eps-file (same with a postscript file). I'm not sure if this is a
> R problem rather than a ghostscript one.
> 
> But is there a way to solve this problem in R or depends this on my
> ghostscript installation?
> 
> System: R Version 1.2.3 on Debian Linux 2.2, ghostscript version 5.10.

This is generally an R problem. When copying from one device to
another, or even when resizing the X11 window, the font scaling
sometimes doesn't come out right. That's hard to avoid if you don't
want the "SAS-effect" where fonts become tall+narrow or wide+low if
you scale x/y differently.

What I ususally do is to set the dimensions on the X11 device so that
they match the desired output as closely as possible, e.g.

X11(height=3.5,width=4.4,pointsize=8)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Wed Jun 13 15:45:40 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Wed, 13 Jun 2001 15:45:40 +0200 (CEST)
Subject: [R] persp question
In-Reply-To: <3B11DE0A.48592599@stat.auckland.ac.nz>
Message-ID: <XFMail.20010613154540.detlef.steuer@unibw-hamburg.de>

Hello!

Is there any way to draw a grid of coordinates on the "floor" or the "walls" of
a persp plot?

Or can I even  add a contour to the "floor"?

Thx in advance,

detlef
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peters.Andrea at imbe.imed.uni-erlangen.de  Wed Jun 13 15:47:53 2001
From: Peters.Andrea at imbe.imed.uni-erlangen.de (Andrea Peters)
Date: Wed, 13 Jun 2001 15:47:53 +0200 (CEST)
Subject: [R] read.table and newline
Message-ID: <Pine.LNX.4.21.0106131544240.5863-100000@imbe78.imbe.med.uni-erlangen.de>

Hi,
yesterday I installed the current R-devel and now I get
the following warning message for program codes which made no
problems under version R-1.2.3: 

Example:
R> read.table("test.dat")
Warning message: 
incomplete final line in: readLines(con, n, ok)
 
where `test.dat' looks like

peters at artemis:~ > cat test.dat 
1 2 3peters at artemis:~ > 

i.e. without a newline at the end. 

The warning can be suppressed if the last line in "test.dat" ends with
"\n". Is there a reason why "test.dat" should end with "\n" or is this a
bug in R-devel?   

Andrea

> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    3.0                         
year     2001                        
month    06                          
day      11                          
language R                           

-------------------------------------------------------------------------

	Dipl.-Stat. Andrea Peters
	Institut fr Medizininformatik, Biometrie und Epidemiologie
	Waldstrasse 6, D-91054 Erlangen, Deutschland
	Tel: ++49-9131-85-22722
	Fax: ++49-9131-85-25740

-------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 13 16:10:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2001 16:10:38 +0200
Subject: [R] read.table and newline
In-Reply-To: Andrea Peters's message of "Wed, 13 Jun 2001 15:47:53 +0200 (CEST)"
References: <Pine.LNX.4.21.0106131544240.5863-100000@imbe78.imbe.med.uni-erlangen.de>
Message-ID: <x2bsnsh3mp.fsf@blueberry.kubism.ku.dk>

Andrea Peters <Peters.Andrea at imbe.imed.uni-erlangen.de> writes:

> Hi,
> yesterday I installed the current R-devel and now I get
> the following warning message for program codes which made no
> problems under version R-1.2.3: 
> 
> Example:
> R> read.table("test.dat")
> Warning message: 
> incomplete final line in: readLines(con, n, ok)
>  
> where `test.dat' looks like
> 
> peters at artemis:~ > cat test.dat 
> 1 2 3peters at artemis:~ > 
> 
> i.e. without a newline at the end. 
> 
> The warning can be suppressed if the last line in "test.dat" ends with
> "\n". Is there a reason why "test.dat" should end with "\n" or is this a
> bug in R-devel?   

It's the normal convention for text files on Unix et al. that each
line is terminated with a \n. Not having one could be a sign that the
file was corrupted, hence the warning. Other utilities will also give
warnings, e.g. vim will display the file with "[noeol]", other vi-s
will complain and fix the last line.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Wed Jun 13 16:19:12 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Wed, 13 Jun 2001 15:19:12 +0100 (BST)
Subject: [R] persp question
In-Reply-To: <XFMail.20010613154540.detlef.steuer@unibw-hamburg.de>
Message-ID: <Pine.GSO.4.21.0106131518350.28631-100000@unixb.lancs.ac.uk>


Try the package "scatterplot3d"

Cheers
P.J.

On Wed, 13 Jun 2001 detlef.steuer at unibw-hamburg.de wrote:

> Hello!
> 
> Is there any way to draw a grid of coordinates on the "floor" or the "walls" of
> a persp plot?
> 
> Or can I even  add a contour to the "floor"?
> 
> Thx in advance,
> 
> detlef
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 13 18:13:17 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 13 Jun 2001 18:13:17 +0200
Subject: [R] plot math Q:  How to "plot"  hat(f') ?
Message-ID: <15143.37149.536295.426362@gargle.gargle.HOWL>

In nonparametric regression and density estimation, something like
 \hat{f'}(x)  [LaTeX]  is very natural.
In all S dialects,
   hat(f')
is invalid syntax, and hence one cannot use something like
   plot(1, main = expression(hat(f')))

I can say something like

   plot(1, main = expression(widehat(paste(f, "'"))), cex.main = 3)

but that (the R code, not the plot result) is a bit ugly.
Nicer solutions are welcome...


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 13 19:43:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2001 19:43:37 +0200
Subject: [R] plot math Q:  How to "plot"  hat(f') ?
In-Reply-To: Martin Maechler's message of "Wed, 13 Jun 2001 18:13:17 +0200"
References: <15143.37149.536295.426362@gargle.gargle.HOWL>
Message-ID: <x2elso1diu.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> In nonparametric regression and density estimation, something like
>  \hat{f'}(x)  [LaTeX]  is very natural.
> In all S dialects,
>    hat(f')
> is invalid syntax, and hence one cannot use something like
>    plot(1, main = expression(hat(f')))
> 
> I can say something like
> 
>    plot(1, main = expression(widehat(paste(f, "'"))), cex.main = 3)
> 
> but that (the R code, not the plot result) is a bit ugly.
> Nicer solutions are welcome...

well...

quote(widehat("f'"))
quote(widehat(f * "'"))
quote(widehat(f * minutes))

(I think that it is \widehat{f'} in LaTeX too, unless you mean
\hat{f}') 

quote(widehat(prime(f))) would be logical if you could push Paul to
implement prime(), but I'm not sure it is actually prettier.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Leu_Paul_W at cat.com  Wed Jun 13 19:40:39 2001
From: Leu_Paul_W at cat.com (Paul W Leu)
Date: Wed, 13 Jun 2001 12:40:39 -0500
Subject: [R] multivariate
Message-ID: <OF11BE59A9.2172318A-ON86256A6A.0060D4C9@cis.cat.com>

 I've been trying to run locfit on data with 6 inputs and 1 output in R.
Whenever I make a prediction for the same exact data that the model was
built on though, I get significant discrepancies between the outputs of the
prediction and the actual data.  I have tweaked the alpha parameter to no
avail and played around with a lot of the other variables as well.  Is
their some kind of bug in locfit or is it just unable to do multivariate
local regression with so many variables?
       I was able to accurately predict data using Vizier, commercialized
software that also performs locally weighted regression.
       Thanks.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Leu_Paul_W at cat.com  Wed Jun 13 19:43:36 2001
From: Leu_Paul_W at cat.com (Paul W Leu)
Date: Wed, 13 Jun 2001 12:43:36 -0500
Subject: [R] multivariate local regression with locfit
Message-ID: <OF81B90A26.1C25B1E4-ON86256A6A.006124ED@cis.cat.com>

 I've been trying to run locfit on data with 6 inputs and 1 output in R.
Whenever I make a prediction for the same exact data that the model was
built on though, I get significant discrepancies between the fitted outputs
of the prediction and the actual data.  I have scaled the inputs, tweaked
the alpha parameter, and played around with a lot of the other variables as
well.  Is their some kind of bug in locfit or is it just unable to do
multivariate local regression with so many variables?
       I was able to accurately predict data using Vizier, commercialized
software that also performs locally weighted regression.
       Thanks.

Sincerely,
Paul Leu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Wed Jun 13 21:44:30 2001
From: tchur at optushome.com.au (Tim Churches)
Date: Thu, 14 Jun 2001 05:44:30 +1000
Subject: [R] The Remarkable Prof. Ripley's secret
References: <15143.37149.536295.426362@gargle.gargle.HOWL> <x2elso1diu.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B27C29E.E0FC187B@optushome.com.au>

As a grateful and delighted user of R and as a subscriber to the R-help
mailing list for over a year now, one thing which has amazed me is the
the prolific, often instantaneous and seemingly round-the-clock
assistance offered by Prof. Brian Ripley. This made me ponder, how does
he do it? Surely giving lectures, attending Faculty and College meetings
and activities of daily living must sometimes hinder his ability to
respond in the wink of an eye? But now his secret is out - details can
be found at http://zerospin.com/ripley/index.html

With thanks to the entire R-project team,

Tim Churches
Sydney, Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Jun 14 00:21:30 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Jun 2001 10:21:30 +1200
Subject: [R] Maybe OT: large fonts in eps-figures
References: <3B272A1E.F23DE830@psy.uni-muenchen.de> <x2hexkhh0u.fsf@blueberry.kubism.ku.dk>
Message-ID: <00d801c0f457$324ccd00$175dd882@stat.auckland.ac.nz>

Hi


> > if I copy an x11() graphics device to an eps-file (with dev.copy2eps())
> > the font in the legend is very large and doesn't fit to the legend box
> > in the eps-file (same with a postscript file). I'm not sure if this is a
> > R problem rather than a ghostscript one.
> >
> > But is there a way to solve this problem in R or depends this on my
> > ghostscript installation?
> >
> > System: R Version 1.2.3 on Debian Linux 2.2, ghostscript version 5.10.
>
> This is generally an R problem. When copying from one device to
> another, or even when resizing the X11 window, the font scaling
> sometimes doesn't come out right. That's hard to avoid if you don't
> want the "SAS-effect" where fonts become tall+narrow or wide+low if
> you scale x/y differently.
>
> What I ususally do is to set the dimensions on the X11 device so that
> they match the desired output as closely as possible, e.g.
>
> X11(height=3.5,width=4.4,pointsize=8)


For the record, this problem has been solved in the grid package.

NOTE that this will be little comfort for most users because the only
high-level plots based on grid so far are those in the lattice package, and
legends are not there yet.  Plus, of course, grid and lattice are still
being developed and so are less stable ...

BUT if you are doing lower-level graphics and this sort of problem is a
pain, then it may be worth investigating grid.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Jun 14 00:21:26 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Jun 2001 10:21:26 +1200
Subject: [R] key()
References: <3B263955.BCA76EEB@virginia.edu> <20010612183302.A1706@rzpool09.rz.tu-bs.de>
Message-ID: <00d701c0f457$2fb11380$175dd882@stat.auckland.ac.nz>

Hi


> On Tue, Jun 12, 2001 at 11:46:29AM -0400, Frank E Harrell Jr wrote:
> > Has anyone written a stand-in for the S-Plus key function
> > that implements as many of the capabilities as possible
> > using the R legend function?  I am seeking an approximate
> > key() that is called the same way as in S-Plus.  I am trying
> > to save some work in porting the Hmisc and Design libraries.
>
> There is an explantion in trellis.args (libr.lattice, under developm.)
that
> the "key" function is not (yet) implemented. I interpret this, that
> later versions will include this function.


Yes, but that functionality will be based on grid so will not mix with base
R graphics.  In other words, the lattice key will only be useful with
lattice graphs.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at fearp.usp.br  Thu Jun 14 01:23:52 2001
From: ricardo at fearp.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Wed, 13 Jun 2001 20:23:52 -0300
Subject: [R] Bayesian Model Selection
Message-ID: <001801c0f45f$e9e2cfc0$e6b4b1c8@x5j2a8>

 
Dear Friends

I am now trying to implement a Bayesian model selection for a group of 64 variables. I currently using BUGS, based in the PINES example. However, to perform this I must update my model 64 times!!!

Could somebody tell me if there is a less "expensive" way to perform this in R?

Thanks

Rick Silva

University of Sao Paulo

DP. Of Economics and Statistics.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010613/28b9fd40/attachment.html

From hubert at giub.unibe.ch  Thu Jun 14 11:32:36 2001
From: hubert at giub.unibe.ch (Hubert Gerhardinger)
Date: Thu, 14 Jun 2001 11:32:36 +0200
Subject: [R] Compiling on AIX
Message-ID: <5.0.0.25.0.20010614112447.00a8c3b0@hurricane.unibe.ch>

Hi,

Compiling R on an IBM-RS6000 AIX 4.3.2 I get the error message:

Can't locate File/Basename.pm in @INC ...
(Perl concerned)

Perl(5) is installed in /mnt/usr/local/lib/Perl5/5.00502

does someone know how to deal with that problem?


Hubert Gerhadinger Univ. of Berne, CH

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 14 11:56:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Jun 2001 10:56:08 +0100 (BST)
Subject: [R] Compiling on AIX
In-Reply-To: <5.0.0.25.0.20010614112447.00a8c3b0@hurricane.unibe.ch>
Message-ID: <Pine.GSO.4.31.0106141053030.1887-100000@toucan.stats>

On Thu, 14 Jun 2001, Hubert Gerhardinger wrote:

> Hi,
>
> Compiling R on an IBM-RS6000 AIX 4.3.2 I get the error message:
>
> Can't locate File/Basename.pm in @INC ...
> (Perl concerned)
>
> Perl(5) is installed in /mnt/usr/local/lib/Perl5/5.00502
>
> does someone know how to deal with that problem?

It's probably a Perl installation problem.  The rest of that message will
tell you what @INC is, and check that File/Basename.pm is there,
in something like

/mnt/usr/local/lib/Perl5/5.00502/File

and that /usr/local/lib/Perl5/5.00502 is in @INC

It is probably worth upgrading to Perl 5.6.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peppysiuly at actrix.co.nz  Thu Jun 14 13:11:05 2001
From: peppysiuly at actrix.co.nz (Peppy & Siuly Adi-Purnomo)
Date: Thu, 14 Jun 2001 23:11:05 +1200
Subject: [R] GAM
Message-ID: <CCEBKKLNLBIKMLEJDEFHMEMBCCAA.peppysiuly@actrix.co.nz>

Hello,

I need to see the summary of a "gam" object.   Both summary() and anova()
dont seem to handle gam objects.  Do I need a special anova() function to do
this?  any suggestion?

Thanks
Peppy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Thu Jun 14 14:59:07 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Thu, 14 Jun 2001 14:59:07 +0200
Subject: [R] plotting in R
Message-ID: <11d0313c05.13c0511d03@student.liu.se>

Hi

I am analyzing the surface geometry of plates used in chemical 
analyzes. For this purpose I am using different plot functions 
(especially persp), and I have had some problems with these and 
graphical devices in general. The ref-manual doesn?t seem to help me... 
Questions:

(1) Which parameters is possible to set in the persp-function?
I would like to control the size of the plot, but how? I cannot set the 
fin-parameter... Other parameters that I cannot use are for example 
las,xaxp,yaxp etc... 

(2) Can I add lines or curves to a persp plot?

(3) Can I set the size of a graphic device?
I would like set it so that when I print it the paper is used in a good 
way!

(4) Is there a command that automatically will send a plot to a printer?

cheers,

Tomas Svensson (R beginner)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From catherine at research.bell-labs.com  Thu Jun 14 16:10:19 2001
From: catherine at research.bell-labs.com (Catherine Loader)
Date: Thu, 14 Jun 2001 10:10:19 -0400 (EDT)
Subject: [R] multivariate local regression with locfit
Message-ID: <200106141410.KAA27319@jessie.research.bell-labs.com>

>From Leu_Paul_W at cat.com Wed Jun 13 11:32 EDT 2001
>
>       I've been trying to run locfit on data with 6 inputs and 1 output in
>R.  Whenever I make a prediction for the same exact data that the model was
>built on though, I get significant discrepancies.  I have tweaked the alpha
>parameter to no avail and played around with a lot of the other variables
>as well.  Is their some kind of bug in locfit or is it just unable to do
>multivariate local regression with so many variables?
>       I was able to accurately predict data using Vizier, commercialized
>software that also performs locally weighted regression.

     I don't think I understand the problem properly, can you send more
details of what you're trying to do? Some possible explanations would be
(1) There usually should be discrepancies between the data and the predictions
    at the data points; the only cases when there should be no discrepancy
    is if the data are a polynomial (<= quadratic, for local quadratic fits).
    (some authors have forced interpolation of the data by using a singular
     weight function in the local regression; locfit doesn't do this).
(2) By default, the locfit() function fits the local polynomial model at a
    selected set of points; the predict() function interpolates from
    the fit at the selected points. So the output of predict() is not
    exactly equal to the local regression surface.
    This default can be overridden by giving a matrix of fitting points
    as the ev argument, locfit(...,ev=...).
(3) The fitting should work in six dimensions (although I haven't extensively
    tested beyond 2-3 dimensions). The interpolation used by predict()
    may be problematic (as high dimensional interpolation usually is) although
    the code should work.

Regards,
Catherine.

(sorry for sending this partial response to the whole list, replying
to the sender produces

Your request ``mail cat.com Leu_Paul_W '' failed (code P).
The symptom was:

Thu Jun 14 09:54:06 EDT 2001 connect to cat.com:
550 5.1.1 <Leu_Paul_W at cat.com>... User unknown
)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at outsider.civ.hw.ac.uk  Thu Jun 14 18:26:36 2001
From: paul at outsider.civ.hw.ac.uk (Paul Stansell)
Date: Thu, 14 Jun 2001 17:26:36 +0100 (BST)
Subject: [R] haerdle package
Message-ID: <Pine.LNX.4.33.0106141638550.7919-100000@outsider.civ.hw.ac.uk>


Hi,

Can anyone tell me what's wrong with the function below (I'm new to R)


  generator <- function(n, seed)
  {
  .Random.seed <<- seed
  data.1 <- rnorm(n)-1
  data.2 <- rnorm(n)+2
  data.3 <- runif(n) <= 0.6
  data <- data.1*data.3 + data.2*(1-data.3)
  data
  }
  seed <- c(61,40,6,40,55,2,44,30,20,56,41,1)
  dat.mixed <- sort(generator(100,seed))
Error in rnorm(n) : .Random.seed[1] is NOT a valid RNG kind (code)
  rm(generator)


This function is called dat.mixed.R and is from the R package called
haerdle_1.0-1.tar.gz and contains functions from Wolfgang Haerdle's book
called "Smoothing Techniques with Implementation in S", Springer-Verlag,
1991.

Also, why is this package not listed in the CRAN.
I got haerdle_1.0-1.tar.gz from
ftp://ftp-stat.uni-klu.ac.at/pub/R/contrib and it installed okay
(after I had removed the Makefile in haerdle/src/).

Thanks for your help,

Paul Stansell



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 14 18:51:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Jun 2001 17:51:38 +0100 (BST)
Subject: [R] haerdle package
In-Reply-To: <Pine.LNX.4.33.0106141638550.7919-100000@outsider.civ.hw.ac.uk>
Message-ID: <Pine.LNX.4.31.0106141749290.2578-100000@gannet.stats>

On Thu, 14 Jun 2001, Paul Stansell wrote:

>
> Hi,
>
> Can anyone tell me what's wrong with the function below (I'm new to R)
>
>
>   generator <- function(n, seed)
>   {
>   .Random.seed <<- seed
>   data.1 <- rnorm(n)-1
>   data.2 <- rnorm(n)+2
>   data.3 <- runif(n) <= 0.6
>   data <- data.1*data.3 + data.2*(1-data.3)
>   data
>   }
>   seed <- c(61,40,6,40,55,2,44,30,20,56,41,1)
>   dat.mixed <- sort(generator(100,seed))
> Error in rnorm(n) : .Random.seed[1] is NOT a valid RNG kind (code)
>   rm(generator)

Because that's not how seeds are done in R.  R != S.  Try ?random and
see for yourself.

> This function is called dat.mixed.R and is from the R package called
> haerdle_1.0-1.tar.gz and contains functions from Wolfgang Haerdle's book
> called "Smoothing Techniques with Implementation in S", Springer-Verlag,
> 1991.
>
> Also, why is this package not listed in the CRAN.
> I got haerdle_1.0-1.tar.gz from
> ftp://ftp-stat.uni-klu.ac.at/pub/R/contrib and it installed okay
> (after I had removed the Makefile in haerdle/src/).

Because that is not a CRAN site.  As the original submitter of that
package to statlib, I did not port it to R as there are much better
alternatives available already.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 14 19:13:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Jun 2001 18:13:15 +0100 (BST)
Subject: [R] GAM
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHMEMBCCAA.peppysiuly@actrix.co.nz>
Message-ID: <Pine.LNX.4.31.0106141810540.2685-100000@gannet.stats>

On Thu, 14 Jun 2001, Peppy & Siuly Adi-Purnomo wrote:

> Hello,
>
> I need to see the summary of a "gam" object.   Both summary() and anova()
> dont seem to handle gam objects.  Do I need a special anova() function to do
> this?  any suggestion?

Where did you get a "gam" object from?  For example, mgcv generates them,
but it does not have anova or summary methods.  So you would need to write
your own.  There may be other packages generating them for all I know.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Thu Jun 14 22:02:29 2001
From: sway at tanox.com (Shawn Way)
Date: Thu, 14 Jun 2001 15:02:29 -0500
Subject: [R] Par and the size of the page
Message-ID: <0565F48FC373D411BE4D00B0D049602628E4AC@nt40hou1.tanox.com>

I've been trying, without much success, to change the properties of the
device on the Windows (1.3.0) version of R.  What I'm trying to do is move
the plots further away from each other on the device (which will hopefully
translate to the same on the printout) and get the top plot closer to the
top and the bottom closer to the bottom.

I've sized the device to 8.5x11 using 

windows(width=8.5, height=11)
split.screen(c(2,1))
screen(1)
x <- 1:10
plot(x)

screen (2)
plot(x)

I just cannot get these two plot away from each other on the screen or
printout.

Any thoughts?


Shawn Way sway at tanox.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Fri Jun 15 01:37:26 2001
From: tdlong at uci.edu (Tony Long)
Date: Thu, 14 Jun 2001 16:37:26 -0700
Subject: [R] 3 dimensional matrix??
Message-ID: <p0500190ab74ef9a9bb6e@[128.200.28.179]>

Perhaps this is obvious...but is there anyway to create a matrix like 
object with has more than 2 dimensions.  I want to estimate a bunch 
of var/cov matrices inside an index loop.  It would be more 
computationally efficient to do this in C...but R makes many of the 
operations inside the loop really easy!  Thanks.
-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Fri Jun 15 01:45:49 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Thu, 14 Jun 2001 16:45:49 -0700 (PDT)
Subject: [R] License for KernSmooth?
Message-ID: <Pine.LNX.4.33.0106141636090.10301-100000@shell1.aracnet.com>

According to the CRAN contributed packages page, the license for "KernSmooth" is
*not* GPL. It is listed as "License: Unlimited distribution (from Dr Wand)."
Are there any restrictions on this of any kind? Is there some written license
document similar to the GPL license? The reason I'm asking is that the legal
beagles in the company I work for are extremely paranoid about this sort of
thing, for their own special and wonderful reasons. There is no licensing
information in the tarball, either. There are certain situations where I might
not be able to use "KernSmooth" as a result. "sm" *is* GPL, fortunately, so
there aren't any restrictions placed on me by the aforementioned beagles. But
IIRC "sm" doesn't do derivatives and "KernSmooth" does.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Stand-up comedy -- because man does not live by dread alone.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Fri Jun 15 02:05:27 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Fri, 15 Jun 2001 12:05:27 +1200
Subject: [R] Par and the size of the page
References: <0565F48FC373D411BE4D00B0D049602628E4AC@nt40hou1.tanox.com>
Message-ID: <007601c0f52e$e3fec800$175dd882@stat.auckland.ac.nz>

Hi


> I've been trying, without much success, to change the properties of the
> device on the Windows (1.3.0) version of R.  What I'm trying to do is move
> the plots further away from each other on the device (which will hopefully
> translate to the same on the printout) and get the top plot closer to the
> top and the bottom closer to the bottom.
>
> I've sized the device to 8.5x11 using
>
> windows(width=8.5, height=11)
> split.screen(c(2,1))
> screen(1)
> x <- 1:10
> plot(x)
>
> screen (2)
> plot(x)
>
> I just cannot get these two plot away from each other on the screen or
> printout.
>
> Any thoughts?


A couple of things you could try ...

(i)  Use the par(mar) to increase the margins around the plots.  For
example,

split.screen(c(2,1))
screen(1)
par(mar=c(10, 5, 4, 2))
x <- 1:10
plot(x)
box("figure", lty="dashed")
screen (2)
par(mar=c(5, 5, 10, 2))
plot(x)
box("figure", lty="dashed")
close.screen(all=TRUE)

(ii)  Use par(mfrow) instead of split.screen() -- its much more reliable.
For example,

par(mfrow=c(2,1))
par(mar=c(10, 5, 4, 2))
x <- 1:10
plot(x)
box("figure", lty="dashed")
par(mar=c(5, 5, 10, 2))
plot(x)
box("figure", lty="dashed")

(iii)  Stick an empty plot between the plots.  For example,
(NOTE if you are using R version > 1.2.1 then this might not work;  please
do NOT report this bug - it has been fixed for the upcoming 1.3 release
already)

par(mfrow=c(3,1), mar=c(5.1, 4.1, 4.1, 2.1))
plot(x)
box("figure", lty="dashed")
plot.new()
plot(x)
box("figure", lty="dashed")

(iv)  Control the space between the plots more accurately with a layout.
For example,

layout(matrix(c(1, 0, 2), ncol=1),
       heights=c(1, lcm(5), 1))
plot(x)
box("figure", lty="dashed")
plot(x)
box("figure", lty="dashed")


Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jun 15 02:40:12 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 14 Jun 2001 20:40:12 -0400 (EDT)
Subject: [R] 3 dimensional matrix??
Message-ID: <200106150040.UAA18737@cattell.psych.upenn.edu>

Q: Perhaps this is obvious...but is there anyway to create a matrix
like object with has more than 2 dimensions.  I want to estimate
a bunch of var/cov matrices inside an index loop.  It would be
more computationally efficient to do this in C...but R makes many
of the operations inside the loop really easy!  Thanks.

-- 

A: Look at array().  I'm not sure I understand, but you might be
able to use the index for one of the array's dimensions, and the
two other dimensions for each matrix.  Arrays can have more than
3 dimensions.

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Jun 15 03:42:12 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 15 Jun 2001 09:42:12 +0800
Subject: [R] 3 dimensional matrix??
In-Reply-To: <p0500190ab74ef9a9bb6e@[128.200.28.179]>; from tdlong@uci.edu on Thu, Jun 14, 2001 at 04:37:26PM -0700
References: <p0500190ab74ef9a9bb6e@[128.200.28.179]>
Message-ID: <20010615094212.B1145@camille.indigoindustrial.co.nz>

> Perhaps this is obvious...but is there anyway to create a matrix like 
> object with has more than 2 dimensions.  

Yes.  They're called arrays in R.

my.array<-array(0,dim=c(10,5,6,8))

will give you a 4-dimensional 10 x 5 x 6 x 8  array.

Have a look at the source for "spectrum" in the ts library 
for a good example of their use.

> I want to estimate a bunch 
> of var/cov matrices inside an index loop.  It would be more 
> computationally efficient to do this in C...but R makes many of the 
> operations inside the loop really easy!  

You can, of course, migrate the innermost portions of the loop 
out to C or Fortran after polishing it in R.  And yes, R makes it much
easier.  Debugging pointers in variable-sized 4-d arrays isn't
my idea of a good time. ;-)

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Fri Jun 15 08:48:16 2001
From: bhm at math.uio.no (=?iso-8859-1?q?Bj=F8rn-Helge_Mevik?=)
Date: 15 Jun 2001 08:48:16 +0200
Subject: [R] image() with each grid point equal to one pixel?
Message-ID: <s3s7kye8ci7.fsf@janus.uio.no>

Is it possible to specify that each grid point in an image() plot should
occupy exactly one pixel on the screen?

(R 1.2.0; Linux (RedHat 6.2); Intel (Pentium))

-- 
B/H
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 15 09:08:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Jun 2001 08:08:08 +0100 (BST)
Subject: [R] License for KernSmooth?
In-Reply-To: <Pine.LNX.4.33.0106141636090.10301-100000@shell1.aracnet.com>
Message-ID: <Pine.GSO.4.31.0106150801030.21768-100000@auk.stats>

There *is* licencing information and you have quoted it.  Since
understanding the implications is your business, I suggest you take advice
in your business.

I don't see what authority a mailing list could have to help you on this.

On Thu, 14 Jun 2001, M. Edward (Ed) Borasky wrote:

> According to the CRAN contributed packages page, the license for "KernSmooth" is
> *not* GPL. It is listed as "License: Unlimited distribution (from Dr Wand)."
> Are there any restrictions on this of any kind? Is there some written license
> document similar to the GPL license? The reason I'm asking is that the legal
> beagles in the company I work for are extremely paranoid about this sort of
> thing, for their own special and wonderful reasons. There is no licensing
> information in the tarball, either. There are certain situations where I might
> not be able to use "KernSmooth" as a result. "sm" *is* GPL, fortunately, so
> there aren't any restrictions placed on me by the aforementioned beagles. But
> IIRC "sm" doesn't do derivatives and "KernSmooth" does.
> --
> znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb
>
> Stand-up comedy -- because man does not live by dread alone.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 15 09:21:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 15 Jun 2001 08:21:22 +0100 (BST)
Subject: [R] image() with each grid point equal to one pixel?
In-Reply-To: <s3s7kye8ci7.fsf@janus.uio.no>
Message-ID: <Pine.GSO.4.31.0106150817130.3783-100000@toucan.stats>

On 15 Jun 2001, [iso-8859-1] Bjrn-Helge Mevik wrote:

> Is it possible to specify that each grid point in an image() plot should
> occupy exactly one pixel on the screen?
>
> (R 1.2.0; Linux (RedHat 6.2); Intel (Pentium))

Not using R graphics.  You can resize the X11 device window, and
the graphics will resize.  The internal code for image() plots polygons
for each cell (`grid point'?).

If you look at the number of bugs fixed since 1.2.0 you might want to
upgrade.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jun 15 16:39:34 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Fri, 15 Jun 2001 10:39:34 -0400
Subject: [R] Pass-through of unevaluated arguments
Message-ID: <3B2A1E26.3B2D322E@virginia.edu>

Thanks to Deepayan Sarkar (lattice) and Paul Murrell (grid)
I have nearly finished porting the Hmisc library's xYplot
function to R.  xYplot extends xyplot to allow for error bars,
bands, and a few other features.  In S-Plus I extended the
Trellis function xyplot mainly by writing panel.xYplot.
In R, xyplot contains a lot of code, so I implemented xYplot
by calling xyplot from it.  Things are working quite well but
I would appreciate advice on programming the most elegant
solution to passing unevaluated arguments.

Here's the situation.  xYplot needs to fiddle with
arguments formula and data (which I default to 
sys.frame(sys.parent()) which I believe will pass through
to xyplot OK).  There are several arguments passed
through to xyplot which were the "..." arguments to xYplot.
I want to defer evaluation of these to inside xyplot where
it will evaluate the arguments with respect to the
"data" argument.  A good example is the groups= variable:

xYplot(formula, data=d, groups=g)

where g might be in d or in the frame that invoked
xYplot.  Using for example do.call("xyplot", list(...))
from within xYplot will result in "g not defined".
I can do something like
 
 if(!missing(groups)) groups <- eval(substitute(groups),data)

inside xYplot but I feel there is a more elegant approach
where I would not even have to isolate groups as a separate
argument, that experienced R programmers already know.  I
would appreciate some ideas.

Thanks  -Frank 
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 15 17:44:21 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2001 17:44:21 +0200
Subject: [R] Pass-through of unevaluated arguments
In-Reply-To: fharrell@virginia.edu's message of "Fri, 15 Jun 2001 10:39:34 -0400"
References: <3B2A1E26.3B2D322E@virginia.edu>
Message-ID: <x23d91vjca.fsf@blueberry.kubism.ku.dk>

fharrell at virginia.edu writes:

> Here's the situation.  xYplot needs to fiddle with
> arguments formula and data (which I default to 
> sys.frame(sys.parent()) which I believe will pass through
> to xyplot OK).  There are several arguments passed
> through to xyplot which were the "..." arguments to xYplot.
> I want to defer evaluation of these to inside xyplot where
> it will evaluate the arguments with respect to the
> "data" argument.  A good example is the groups= variable:
> 
> xYplot(formula, data=d, groups=g)
> 
> where g might be in d or in the frame that invoked
> xYplot.  Using for example do.call("xyplot", list(...))
> from within xYplot will result in "g not defined".
> I can do something like
>  
>  if(!missing(groups)) groups <- eval(substitute(groups),data)

I think 

eval(substitute(xyplot(...)), data, environment(formula))

will get you there if xYplot is function(formula,data,...).
environment(formula) is somewhat preferable to parent.frame() in
general, although they're usually the same thing. 

The tricky bit is when you want to mix external arguments with
something computed inside xYplot. We just had this aired on R-core in
a similar context, and I *think* you get by with substituting in local
variables (notice that R's substitute() is not quite identical to
S's).
  
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Fri Jun 15 17:59:51 2001
From: tdlong at uci.edu (Tony Long)
Date: Fri, 15 Jun 2001 08:59:51 -0700
Subject: [R] 3 dimensional matrix (summary)
Message-ID: <p0500190cb74fe0fa0fc7@[128.200.28.179]>

Thanks to all who replied.

array.test <- array(1:64,c(4,4,4))
array.test[1,1,1]
1
array.test[4,4,4]
64

Cool!
-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e_amiri at yahoo.com  Fri Jun 15 18:38:31 2001
From: e_amiri at yahoo.com (=?iso-8859-1?q?esmail=20amiri?=)
Date: Fri, 15 Jun 2001 17:38:31 +0100 (BST)
Subject: [R] Two sample Kolmogrov Smirnov mutivariate test 
Message-ID: <20010615163831.19453.qmail@web3402.mail.yahoo.com>

Dear R providers and users,

I need to compare two sets of data coming from two
different multivariate distributions. I would like to
apply a two sample Kolmogorov Smirnov test in
multivariate case. Is there any R code or package ?
Your help is highly  appreciated.

Many thanks,

Esmail Amiri.

____________________________________________________________
Do You Yahoo!?
Get your free @yahoo.co.uk address at http://mail.yahoo.co.uk
or your free @yahoo.ie address at http://mail.yahoo.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jun 15 19:11:50 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 15 Jun 2001 13:11:50 -0400 (EDT)
Subject: [R] R equivalent for Splus "peaks"
Message-ID: <Pine.LNX.4.21.0106151310210.23542-100000@ln.nimh.nih.gov>

Hi, all.

Does anyone have an equivalent to Splus "peaks", which finds local maxima
(with locality defined by a parameter "span")?  I thought I'd check
whether anyone has done it already before trying to put something together
myself.

Thanks,

Matt Wiener

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at deimos.tc.uaslp.mx  Fri Jun 15 13:02:17 2001
From: mandevip at deimos.tc.uaslp.mx (Peter B. Mandeville)
Date: Fri, 15 Jun 2001 13:02:17
Subject: [R] contrasts in lm and lme
Message-ID: <3.0.5.16.20010615130217.223f8538@deimos.tc.uaslp.mx>

I am using RW 1.2.3. on an IBM PC 300GL.

Using the data bp.dat which accompanies

    Helen Brown and Robin Prescott
    1999 Applied Mixed Models in Medicine. Statistics in Practice. 
         John Wiley & Sons, Inc., New York, NY, USA

which is also found at www.med.ed.ac.uk/phs/mixed. The data file was opened
and initialized with

> dat <- read.table("bp.dat")
> names(dat) <-
c("patient","visit","center","treatment","dbp","dbp1","cf","cf1")
> attach(dat)
> Patient <- factor(patient)
> Treatment <- factor(treatment)
> Center <- factor(center)
> Visit <- factor(visit)
> dat1 <- data.frame(Patient,Visit,Center,Treatment,dbp,dbp1)
> sapply(dat1,data.class)
  Patient     Visit    Center Treatment       dbp      dbp1 
 "factor"  "factor"  "factor"  "factor" "numeric" "numeric" 

After which the following code was run

> library(nlme) # needed for the contrast contr.SAS
> options(contrasts=c(factor="contr.SAS",ordered="contr.poly"))
> res <- lm(dbp~Treatment+Visit+dbp1)
> anova(res)
> summary(res)

and was repeated leaving out library(nlme) and replacing

> options(contrasts=c(factor="contr.SAS",ordered="contr.poly"))

with the following contrasts

> options(contrasts=c(factor="contr.treatment",ordered="contr.poly"))
> options(contrasts=c(factor="contr.helmert",ordered="contr.poly"))
> options(contrasts=c(factor="contr.sum",ordered="contr.poly"))
> library(MASS) # needed for the contrast contr.sdif
> options(contrasts=c(factor="contr.sdif",ordered="contr.poly"))

The results from anova were igual. For example for the factor Treatment had
the same probabilities in every case but

         SAS        treatment    helmert    sum        sdif
Pr(>F)   3.073e-05  3.073e-05    3.073e-05  3.073e-05  3.073e-05

the probabilities of the different contrasts were

         SAS        treatment    helmert    sum        sdif
A-B                 0.072635     0.072635              0.072635
A-C      8.69e-06   8.69e-06                0.000322
B-C      0.00875                            0.637971   0.00875

Why does the contrast contr.sum have distinct results from the other
contrasts? Which ones are confiable?

Pinheiro and Bates 2000:17 state that

    Although the individual parameter estimates for the Type factor are
different
    between the two fits, the anova resultas are the same. The difference
in the
    parameter estimates simply reflects the fact that different contrasts
are being
    estimated.

If the process is repeated with lme in place of lm with

> res <- lm(dbp~Treatment+Visit+dbp1,random=~1|Patient)

in place of 

> res <- lm(dbp~Treatment+Visit+dbp1)


         SAS        treatment    helmert    sum        sdif
AIC      7501.212   7501.212     7511.151   7506.182   7501.212
BIC      7546.116   7546.116     7556.055   7551.086   7546.116
logLik   -3741.606  -3741.606    -3746.576  -3744.091  -3741.606

Given that AIC and BIC are calculated logLik, it is reasonable that they
differ given the different values of the logLik, but is it reasonable that
the logLik's are different?

         SAS        treatment    helmert    sum        sdif
A-B                 0.2330       0.2330                0.2330
A-C      0.0033     0.0033                  0.0168
B-C      0.0850                             0.7553     0.0850

Again, why does the contrast contr.sum have distinct results from the other
contrasts? Which ones are confiable?

Thank you very much

Peter B.


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Jun 15 20:05:28 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Fri, 15 Jun 2001 13:05:28 -0500
Subject: TR: [R] Scripting capabilities for R
References: <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats>
Message-ID: <3B2A4E68.E6DE17D@ukans.edu>

I'm sorry that I was not reading this long thread until now.

Prof Brian Ripley wrote:
> 
> Meanwhile, anyone offering anything for the original request, which
> appears to be editable windows like the script windows of S-PLUS 2000,
> simpler to use than ESS?

I think the original request was a good one. I was using both Stata and
SPSS last month and both have a small, feature limited script editor (In
stata it is the do file editor, I think spss automatically opens its
editor when you do file/open on some code).  

In concept, it is the same as source ("filename") right after you use
notepad to edit filename, but more convenient.  I don't want syntax
highlighting, command completion, or anything like that, just the
ability to open a file, edit it, run it through R, and save it.  

I'd be interested in helping to write an addon that does this, expept I
don't know how it would be done across all platforms.  SOmething with
the Gnome toolkit would probably be pretty easy, maybe we could get bye
with just glib and gtk+ and make something that is statically compiled,
so users don't need to install glib/gdk+ on their Windows systems.  Is
there R-gnome anymore?  SOmeone is working on this already?  Should I be
going into the R-devel list with this?

I don't have anything against ESS for this purpose, except that the
learning curve is pretty steep and it is time consuming for me to
constantly install new editions of Emacs and maintain so many addon
packages on many machines.  Something that came automagically ready with
R would make life easier.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 15 21:27:11 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2001 21:27:11 +0200
Subject: [R] contrasts in lm and lme
In-Reply-To: "Peter B. Mandeville"'s message of "Fri, 15 Jun 2001 13:02:17"
References: <3.0.5.16.20010615130217.223f8538@deimos.tc.uaslp.mx>
Message-ID: <x2lmmtmtm8.fsf@blueberry.kubism.ku.dk>

"Peter B. Mandeville" <mandevip at deimos.tc.uaslp.mx> writes:

>          SAS        treatment    helmert    sum        sdif
> Pr(>F)   3.073e-05  3.073e-05    3.073e-05  3.073e-05  3.073e-05
> 
> the probabilities of the different contrasts were
> 
>          SAS        treatment    helmert    sum        sdif
> A-B                 0.072635     0.072635              0.072635
> A-C      8.69e-06   8.69e-06                0.000322
> B-C      0.00875                            0.637971   0.00875
> 
> Why does the contrast contr.sum have distinct results from the other
> contrasts? Which ones are confiable?

Are you reading the output correctly? Sum contrasts are the ones that
sum to zero, so you get k-1 values and the k-th one is minus the sum
of the others. One result of this is that the test of each individual
coefficient is meaningless (whether a group level is equal to the
average of all group levels). 


If the process is repeated with lme in place of lm with

> res <- lm(dbp~Treatment+Visit+dbp1,random=~1|Patient)

in place of

> res <- lm(dbp~Treatment+Visit+dbp1)

...
>          SAS        treatment    helmert    sum        sdif
> AIC      7501.212   7501.212     7511.151   7506.182   7501.212
> BIC      7546.116   7546.116     7556.055   7551.086   7546.116
> logLik   -3741.606  -3741.606    -3746.576  -3744.091  -3741.606
> 
> Given that AIC and BIC are calculated logLik, it is reasonable that they
> differ given the different values of the logLik, but is it reasonable that
> the logLik's are different?

I think the model is contrast independent when specified like that.
(But you have a typo in the command, so that's not what you ran...)
Looks like there might a convergence problem with the sum and helmert
contrasts, although they are the ones normally considered numerically
more stable. Do the variance estimates look similar?

>          SAS        treatment    helmert    sum        sdif
> A-B                 0.2330       0.2330                0.2330
> A-C      0.0033     0.0033                  0.0168
> B-C      0.0850                             0.7553     0.0850
> 
> Again, why does the contrast contr.sum have distinct results from the other
> contrasts? Which ones are confiable?

Same as before I think.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 15 21:40:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2001 21:40:10 +0200
Subject: TR: [R] Scripting capabilities for R
In-Reply-To: Paul E Johnson's message of "Fri, 15 Jun 2001 13:05:28 -0500"
References: <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats> <3B2A4E68.E6DE17D@ukans.edu>
Message-ID: <x2ithxmt0l.fsf@blueberry.kubism.ku.dk>

Paul E Johnson <pauljohn at ukans.edu> writes:

> In concept, it is the same as source ("filename") right after you use
> notepad to edit filename, but more convenient.  I don't want syntax
> highlighting, command completion, or anything like that, just the
> ability to open a file, edit it, run it through R, and save it.  
> 
> I'd be interested in helping to write an addon that does this, expept I
> don't know how it would be done across all platforms.  SOmething with
> the Gnome toolkit would probably be pretty easy, maybe we could get bye
> with just glib and gtk+ and make something that is statically compiled,
> so users don't need to install glib/gdk+ on their Windows systems.  Is
> there R-gnome anymore?  SOmeone is working on this already?  Should I be
> going into the R-devel list with this?

For knocking something up quickly, tcl/tk is an option, e.g.

library(tcltk)
tt <- tktoplevel()
txt <- tktext(tt)
tkpack(txt)
tkbind(txt,"<F12>", function() {
	code<-tkget(txt,"0.0","end")
	expr<-parse(text=code)
	cat("Exec. from text window:\n****\n",code,"\n****\n") 
	print(eval(expr))})

already gives you a text window where you can write and edit commands
and submit them by hitting F12. Loading and saving is left as an
exercise... (as is executing the statements one by one as with
source(...,echo=T) )

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jun 15 23:06:59 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 15 Jun 2001 17:06:59 -0400 (EDT)
Subject: [R] code for peaks
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC802B@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.21.0106151410100.23542-100000@ln.nimh.nih.gov>

Hi, all.

Andy Liaw (and one other person, whose name I already lost) pointed out to
me that this was answered on the list a few weeks ago.  Petr Pikal posted
code based on an idea from Brian Ripley:

peaks <- function(series, span=3){
	z <- embed(series, span)
	result <- max.col(z) == 1 + span %/% 2
	result
}

Somehow I missed this when searching before I posted.

Matt Wiener



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sat Jun 16 05:24:00 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 16 Jun 2001 13:24:00 +1000 (EST)
Subject: [R] Factors as labels in text() and mtext()
Message-ID: <200106160324.NAA09193@leonard.anu.edu.au>

Currently text() and mtext() give the integer levels in
such contexts as the following:

> f <- factor(letters[1:4])
> plot(1:4, 1:4, type="n")
> text(1:4, 1:4, f)

I presume this was for reasons of S-PLUS compatibility.
However one has
> paste(f)
[1] "a" "b" "c" "d"

where S-PLUS2000 gives "1" in place of "a", etc.
Note that in both dialects, a test for the level
value a is f=="a", not f=="1".

The text() behaviour seems anomalous, especially if one 
is serious about the statement in the draft R language
definition manual (1.2.3) that

"Factors are currently implemented using an integer
array to specify the actual levels and a second array
of names that are mapped to the integers. Rather
unfortunately users often make use of the implementation
in order to make some calculations easier. This . . .
is not guaranteed to hold in all implementations of R."

I presume that the reference is to the use of integers
for the "actual" levels.  Does it imply that sometime
somewhere text(1:4, 1:4, f) might place characters 
other than 1, 2, 3, 4 on the graph?  Or is the current
behaviour of text() and mtext() likely to change in the
future?


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Sat Jun 16 12:27:56 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Sat, 16 Jun 2001 11:27:56 +0100
Subject: [R] R equivalent for Splus "peaks"
In-Reply-To: <Pine.LNX.4.21.0106151310210.23542-100000@ln.nimh.nih.gov>
References: <Pine.LNX.4.21.0106151310210.23542-100000@ln.nimh.nih.gov>
Message-ID: <4vUWTDAsSzK7Ewxf@myatt.demon.co.uk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:

>Does anyone have an equivalent to Splus "peaks", which finds local maxima
>(with locality defined by a parameter "span")?  I thought I'd check
>whether anyone has done it already before trying to put something together
>myself.

Not my solution but one I kept from, I think, Brian Ripley:

        peaks.function(series,span=3)
          {
          z <- embed(series, span)
          result_max.col(z) == 1 + span %/% 2
          result
          }

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjpocern at ouray.cudenver.edu  Sat Jun 16 17:45:59 2001
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Sat, 16 Jun 2001 09:45:59 -0600
Subject: [R] non-language object
Message-ID: <NFBBIJJLOMMEDGFNFBMLAEOCCAAA.mjpocern@ouray.cudenver.edu>

How do I paste together text and number so that it is acceptable as an
object to which I can assign a value?

> paste("file", 1, "max", sep="") <- 1
Error: Target of assignment expands to non-language object
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 16 18:11:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 16 Jun 2001 17:11:22 +0100 (BST)
Subject: [R] non-language object
In-Reply-To: <NFBBIJJLOMMEDGFNFBMLAEOCCAAA.mjpocern@ouray.cudenver.edu>
Message-ID: <Pine.LNX.4.31.0106161709480.2271-100000@gannet.stats>

On Sat, 16 Jun 2001, Matt Pocernich wrote:

> How do I paste together text and number so that it is acceptable as an
> object to which I can assign a value?
>
> > paste("file", 1, "max", sep="") <- 1
> Error: Target of assignment expands to non-language object
> >

Use assign.  As in

> assign(paste("file", 1, "max", sep=""), 1)
> ls()
[1] "file1max"


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bv5dd.ma at msa.hinet.net  Sun Jun 17 00:53:43 2001
From: bv5dd.ma at msa.hinet.net (=?iso-8859-1?Q?=B0=A8=A5=C9=C5=EF?=)
Date: Sun, 17 Jun 2001 06:53:43 +0800
Subject: [R] tcltk 
Message-ID: <3B2BE377.A49A13E0@msa.hinet.net>

Dear Sir,
    Would you mind to give me some hints to solve this error? I have the
tcl832 installed on Windows 98.


     demo(tkttest)


        demo(tkttest)
        ---- ~~~~~~~

Type  <Return>   to start :

> require(tcltk) || stop("tcltk support is absent")
Loading required package: tcltk
Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in eval.with.vis(expr, envir, enclos) :
        tcltk support is absent

Thanks In Advances
                                                            Patrick
Yuk-lun Ma

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 17 02:08:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2001 02:08:38 +0200
Subject: [R] tcltk
In-Reply-To: ???'s message of "Sun, 17 Jun 2001 06:53:43 +0800"
References: <3B2BE377.A49A13E0@msa.hinet.net>
Message-ID: <x2ithw0xyx.fsf@blueberry.kubism.ku.dk>

?????? <bv5dd.ma at msa.hinet.net> writes:

> Dear Sir,
>     Would you mind to give me some hints to solve this error? I have the
> tcl832 installed on Windows 98.
> 
> 
>      demo(tkttest)
> 
> 
>         demo(tkttest)
>         ---- ~~~~~~~
> 
> Type  <Return>   to start :
> 
> > require(tcltk) || stop("tcltk support is absent")
> Loading required package: tcltk
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in eval.with.vis(expr, envir, enclos) :
>         tcltk support is absent
> 
> Thanks In Advances
>                                                             Patrick
> Yuk-lun Ma

One way is to execute Sys.putenv("TCL_LIBRARY"="/wherever/you put/it")

Another is to set this permanently in the configuration files for R,
which I don't use W98 often enough to remember how to do, but detailed
instructions sit in the rw-faq that you got with the program.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 17 09:27:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Jun 2001 08:27:02 +0100 (BST)
Subject: [R] tcltk 
In-Reply-To: <3B2BE377.A49A13E0@msa.hinet.net>
Message-ID: <Pine.GSO.4.31.0106170823240.2589-100000@auk.stats>

On Sun, 17 Jun 2001, [iso-8859-1]  wrote:

>     Would you mind to give me some hints to solve this error? I have the
> tcl832 installed on Windows 98.


See question 3.6 in the rw-FAQ:

  3.6 Package TclTk does not work.

(It's a Tcl not R problem which is covered there.)


Please do read the FAQs: there is a lot of useful information in them,
including comprehensive information on this question.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at fearp.usp.br  Sun Jun 17 18:41:10 2001
From: ricardo at fearp.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sun, 17 Jun 2001 13:41:10 -0300
Subject: [R] data.frame
Message-ID: <000f01c0f74c$51249120$30b4b1c8@x5j2a8>

 
Dear R:

This is a question from a beginner. I am using R for Windows and every time I try to load my data set, i. e., x <- data.frame (x), I receive the message "object x not found".

How can I change my work directory?

Thanks

Rick.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010617/35ce6138/attachment.html

From kjetil.kjernsmo at astro.uio.no  Sun Jun 17 19:04:52 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sun, 17 Jun 2001 19:04:52 +0200 (MET DST)
Subject: [R] data.frame
In-Reply-To: <000f01c0f74c$51249120$30b4b1c8@x5j2a8>
Message-ID: <Pine.OSF.4.30.0106171900330.4392-100000@alnair.uio.no>

On Sun, 17 Jun 2001, Ricardo Gon?alves wrote:

>This is a question from a beginner. I am using R for Windows and every
>time I try to load my data set, i. e., x <- data.frame (x), I receive the
>message "object x not found".
>
>How can I change my work directory?

Eh, well, I don't know in Windows, but I've got a strong feeling that's
not really your problem. :-)

You see, if you don't have anything loaded that's called x, you need to
load it from disk. And if x is something that you have loaded, then it
seldom makes sense to run it through data.frame(x).

I think what you need is read.table()
For example:
x <- read.table("The-file-where-I-ve-got-my-data.dat")

Though I may have misunderstood completely your problem... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 17 19:09:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Jun 2001 18:09:38 +0100 (BST)
Subject: [R] data.frame
In-Reply-To: <000f01c0f74c$51249120$30b4b1c8@x5j2a8>
Message-ID: <Pine.GSO.4.31.0106171806480.24923-100000@auk.stats>

On Sun, 17 Jun 2001, [iso-8859-1] Ricardo Gonalves wrote:

>
> Dear R:
>
> This is a question from a beginner. I am using R for Windows and every time I
try to load my data set, i. e., x <- data.frame (x), I receive the message
"object x not found".

Well, it won't be.  That does not load a dataset.  Try ?read.table, for
example, or read the `R Data Import/Export Manual' (on the help menu).


> How can I change my work directory?

See the rw-FAQ, question 5.2

>
> Thanks
>
> Rick.
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Sun Jun 17 20:23:49 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Sun, 17 Jun 2001 08:23:49 -1000
Subject: [R] data.frame
In-Reply-To: <000f01c0f74c$51249120$30b4b1c8@x5j2a8>
Message-ID: <3.0.5.32.20010617082349.0080e740@mail.gfeeney.com>

At 01:41 PM 6/17/01 -0300, you wrote:
>     Dear  R: <- data.frame (x), I receive the message &#8220;object x  not
>found&#8221;. How  can I change my work directory? ThanksRick.

setwd(dir)
getwd()

See help(setwd)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at fearp.usp.br  Sun Jun 17 20:48:45 2001
From: ricardo at fearp.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sun, 17 Jun 2001 15:48:45 -0300
Subject: [R] read.table
Message-ID: <000c01c0f75e$2494ec60$44b4b1c8@x5j2a8>

Dear All,

A beginner again:
I am using the command: x<-read.table("a:\xx.dat", headre=TRUE) 
and I receive the error message:
Error in read.table("a:xx.dat", header = TRUE) : 
        all rows must have the same length.
My data matriz includes 62 variables by 131 countries.
There are some problem in this parameters?

Thanks
Rick.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010617/010ad3f2/attachment.html

From ripley at stats.ox.ac.uk  Sun Jun 17 21:19:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 17 Jun 2001 20:19:14 +0100 (BST)
Subject: [R] read.table
In-Reply-To: <000c01c0f75e$2494ec60$44b4b1c8@x5j2a8>
Message-ID: <Pine.GSO.4.31.0106172011490.12035-100000@toucan.stats>

On Sun, 17 Jun 2001, [iso-8859-1] Ricardo Gonalves wrote:

> Dear All,
>
> A beginner again:
> I am using the command: x<-read.table("a:\xx.dat", headre=TRUE)
> and I receive the error message:
> Error in read.table("a:xx.dat", header = TRUE) :
>         all rows must have the same length.
> My data matriz includes 62 variables by 131 countries.
> There are some problem in this parameters?

The answer is the same: do read the R Data Import/Export Manual.

But immediately:

You need a:/xx.dat or a:\\xx.dat (do read the FAQs)

Which version of R is this? The latest released version, 1.3.0,
given you a meesage about what the row numbers were before that message,
and you should heed (and quote) all the messages you get.

You probably need to set a separator, e.g. sep="\t".

I hope your 62 variables are all on one line, as read.table cannot
read multi-line records, as the help page clearly states.

    file: the name of the file which the data are to be read from. Each
          row of the table appears as one line of the file.  If it does


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmiller at xcaliber.com  Mon Jun 18 00:10:26 2001
From: jmiller at xcaliber.com (Jeff Miller)
Date: Sun, 17 Jun 2001 17:10:26 -0500
Subject: [R] extraction from a list of vectors
Message-ID: <1BDB01B13696D411BD6200D0B7C854EA22F9D9@chi-prd-mail1.xcaliber.com>

	Hi , 
	I know this should be easy, but I haven't figured out a fast way to
do it. 
	I have a list of vectors: mylist <- list(vector1, vector2, ...,
vectorN). 
	(The vectors are made of integers. They vary in length from about 1
to 10). 
	I also have a vector of indices: myidx <- c( i1, i2, ..., iN). 
	From these I'd like to make this: newvector <- c(vector1[i1],
vector2[i2], ..., vectorN[iN]). 
	It's easy to do this using a for loop, but I need something that
will be fast for lists 
	with lengths of about 100,000. I've thought about using lapply, but
don't see how I can use it with "myidx". 
	Thanks in advance, 
		Jeff Miller 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 18 01:50:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2001 01:50:05 +0200
Subject: [R] extraction from a list of vectors
In-Reply-To: Jeff Miller's message of "Sun, 17 Jun 2001 17:10:26 -0500"
References: <1BDB01B13696D411BD6200D0B7C854EA22F9D9@chi-prd-mail1.xcaliber.com>
Message-ID: <x2hexebr9u.fsf@blueberry.kubism.ku.dk>

Jeff Miller <jmiller at xcaliber.com> writes:

> 	Hi , 
> 	I know this should be easy, but I haven't figured out a fast way to
> do it. 
> 	I have a list of vectors: mylist <- list(vector1, vector2, ...,
> vectorN). 
> 	(The vectors are made of integers. They vary in length from about 1
> to 10). 
> 	I also have a vector of indices: myidx <- c( i1, i2, ..., iN). 
> 	From these I'd like to make this: newvector <- c(vector1[i1],
> vector2[i2], ..., vectorN[iN]). 
> 	It's easy to do this using a for loop, but I need something that
> will be fast for lists 
> 	with lengths of about 100,000. I've thought about using lapply, but
> don't see how I can use it with "myidx". 
> 	Thanks in advance, 
> 		Jeff Miller 

I don't think it *is* easy. Generally, one gets stalled on these
problems involving two or more parallel vectors. Occasionally the idea
of having a "multiapply" function pops up, but nothing has transpired
yet. The canonical way would be to use

sapply(1:N,function(i)mylist[i][myidx[i]])

but that is not likely to be much faster than a for loop. If all the
vectors were the same length, mylist could have been a matrix and
matrix indexing (myarray[cbind(1:N,myidx)]) would work, but there's
nothing similar for a list of vectors of unequal length. So if you
need the speed badly, I think you have to go to the C level. (A rather
nicely sized little exercise for learning the .External interface, I
would expect.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Mon Jun 18 03:35:29 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Mon, 18 Jun 2001 11:35:29 +1000
Subject: [R] extraction from a list of vectors
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA9135B@indpllymail.dnr.qld.gov.au>



>> Jeff Miller <jmiller at xcaliber.com> writes:

>> 	It's easy to do this using a for loop, but I need something that
>> will be fast for lists 
>> 	with lengths of about 100,000. I've thought about using lapply, but
>> don't see how I can use it with "myidx". 
>> 	Thanks in advance, 
>> 		Jeff Miller 


> nothing similar for a list of vectors of unequal length. So if you
> need the speed badly, I think you have to go to the C level. (A rather
> nicely sized little exercise for learning the .External interface, I
> would expect.)

I also find that a bit of preprocessing of the data using perl is useful for
large dataset manipulations, particularly if its something you need to do
only at the start.

Robert Denham
Queensland Department of Natural Resources



************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Mon Jun 18 03:50:40 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sun, 17 Jun 2001 21:50:40 -0400
Subject: [R] extraction from a list of vectors
In-Reply-To: <1BDB01B13696D411BD6200D0B7C854EA22F9D9@chi-prd-mail1.xcaliber.com>
References: <1BDB01B13696D411BD6200D0B7C854EA22F9D9@chi-prd-mail1.xcaliber.com>
Message-ID: <tenqitkrlmgj109shu0ceeasoeb2evt85d@4ax.com>

On Sun, 17 Jun 2001 17:10:26 -0500, you wrote:

>	Hi , 
>	I know this should be easy, but I haven't figured out a fast way to
>do it. 
>	I have a list of vectors: mylist <- list(vector1, vector2, ...,
>vectorN). 
>	(The vectors are made of integers. They vary in length from about 1
>to 10). 
>	I also have a vector of indices: myidx <- c( i1, i2, ..., iN). 
>	From these I'd like to make this: newvector <- c(vector1[i1],
>vector2[i2], ..., vectorN[iN]). 

I don't know if this is fast or not, but I think it gives the result
you want:

unlist(sapply(myidx,function(x) mylist[[x]]))

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maximino.ameneiro at metropoli2000.com  Mon Jun 18 17:16:03 2001
From: maximino.ameneiro at metropoli2000.com (Maximino Ameneiro Gomez)
Date: Mon, 18 Jun 2001 11:16:03 -0400
Subject: [R] Read an EViews workfile
Message-ID: <01061811160300.01486@linux>

Dear all,

How can I import/export data from EViews to R?

Best,

Maximino Ameneiro G?mez
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lbaring at stochastik.uni-hannover.de  Mon Jun 18 14:30:00 2001
From: lbaring at stochastik.uni-hannover.de (Ludwig Baringhaus)
Date: Mon, 18 Jun 2001 14:30:00 +0200
Subject: [R] Two sample Kolmogrov Smirnov mutivariate test
In-Reply-To: <20010615163831.19453.qmail@web3402.mail.yahoo.com>
References: <20010615163831.19453.qmail@web3402.mail.yahoo.com>
Message-ID: <01061814300000.01976@wiener>

Am Freitag, 15. Juni 2001 18:38 schrieben Sie:
> Dear R providers and users,
>
> I need to compare two sets of data coming from two
> different multivariate distributions. I would like to
> apply a two sample Kolmogorov Smirnov test in
> multivariate case. Is there any R code or package ?
Download the package cramer from CRAN. 
It provides a multivariate two-sample test which is 
based on a V-statistic. 

L. Baringhaus
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Mon Jun 18 15:12:22 2001
From: till.baumgaertel at epost.de (=?iso-8859-1?Q?Till=20Baumgaertel?=)
Date: Mon, 18 Jun 2001 15:12:22 +0200
Subject: [R] =?iso-8859-1?Q?MDA=3A=20package=20=22class=22=20not=20found=20=3F=21=3F?=
Message-ID: <3B292D20000019C6@mail.epost.de>

hi all,

when i try the mda-example i got the following error:
"There is no package called `class'"
when i invoke the following line:
irisfit <- mda(Species ~ ., data = iris)

on CRAN i cannot find such a package. 
can you help me? 
i'm using the windows-version 1.2.1.

thanx
till






________________________________________
Der clevere Infobote - Shopping-Tipps bequem abonniert. Jetzt neu bei http://www.epost.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 18 16:22:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 18 Jun 2001 15:22:30 +0100 (GMT Daylight Time)
Subject: [R] =?iso-8859-1?Q?MDA=3A=20package=20=22class=22=20not=20found=20=3F=21=3F?=
In-Reply-To: <3B292D20000019C6@mail.epost.de>
Message-ID: <Pine.WNT.4.31.0106181519270.744-100000@gannet>

On Mon, 18 Jun 2001, [iso-8859-1] Till Baumgaertel wrote:

> hi all,
>
> when i try the mda-example i got the following error:
> "There is no package called `class'"
> when i invoke the following line:
> irisfit <- mda(Species ~ ., data = iris)
>
> on CRAN i cannot find such a package.
> can you help me?

It's part of the VR bundle.  Perhaps the

Suggests: class

line in the DESCRIPTION needs to be more explicit?


> i'm using the windows-version 1.2.1.

That's a couple of versions old.  The current VR bundle prefers 1.2.3.
1.3.0 is days away.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue Jun 19 07:58:59 2001
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 19 Jun 2001 07:58:59 +0200 (MET DST)
Subject: [R] haerdle package
In-Reply-To: <Pine.LNX.4.31.0106141749290.2578-100000@gannet.stats>
Message-ID: <Pine.OSF.4.21.0106190752320.4804-100000@zidsrv.sci.uni-klu.ac.at>

On Thu, 14 Jun 2001, Prof Brian Ripley wrote:

> On Thu, 14 Jun 2001, Paul Stansell wrote:
> 
> >
> > Hi,
> >
> > Can anyone tell me what's wrong with the function below (I'm new to R)
> >
> >
> >   generator <- function(n, seed)
> >   {
> >   .Random.seed <<- seed
> >   data.1 <- rnorm(n)-1
> >   data.2 <- rnorm(n)+2
> >   data.3 <- runif(n) <= 0.6
> >   data <- data.1*data.3 + data.2*(1-data.3)
> >   data
> >   }
> >   seed <- c(61,40,6,40,55,2,44,30,20,56,41,1)
> >   dat.mixed <- sort(generator(100,seed))
> > Error in rnorm(n) : .Random.seed[1] is NOT a valid RNG kind (code)
> >   rm(generator)
> 
> Because that's not how seeds are done in R.  R != S.  Try ?random and
> see for yourself.
> 
> > This function is called dat.mixed.R and is from the R package called
> > haerdle_1.0-1.tar.gz and contains functions from Wolfgang Haerdle's book
> > called "Smoothing Techniques with Implementation in S", Springer-Verlag,
> > 1991.
> >
> > Also, why is this package not listed in the CRAN.
> > I got haerdle_1.0-1.tar.gz from
> > ftp://ftp-stat.uni-klu.ac.at/pub/R/contrib and it installed okay
> > (after I had removed the Makefile in haerdle/src/).
> 
> Because that is not a CRAN site.  As the original submitter of that
> package to statlib, I did not port it to R as there are much better
> alternatives available already.

I agree. I have moved it to ftp-stat.uni../pub/R/contrib/old because I
didn't touch it for over 3 years now (it was one of my first experiments
with porting S+ packages 5 years ago, but it didn't work perfectly at any 
time)

Albrecht

// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Tue Jun 19 10:19:44 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Tue, 19 Jun 2001 10:19:44 +0200
Subject: [R] How do I temporarily stop an execution?
Message-ID: <449403f86c.3f86c44940@student.liu.se>

Hi! 

A very basic question, but me and the manual are not friends yet...
How do I temporarily stop an execution - that is: stop it until I press 
a certain key ?

/Tomas Svensson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 19 10:32:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Jun 2001 09:32:45 +0100 (BST)
Subject: [R] How do I temporarily stop an execution?
In-Reply-To: <449403f86c.3f86c44940@student.liu.se>
Message-ID: <Pine.LNX.4.31.0106190926280.3136-100000@gannet.stats>

On Tue, 19 Jun 2001 tomsv193 at student.liu.se wrote:

> Hi!
>
> A very basic question, but me and the manual are not friends yet...
> How do I temporarily stop an execution - that is: stop it until I press
> a certain key ?

(I would cause that `suspend' or `pause' execution.)

That's functionality of your OS/shell, not of R.  Since you haven't told
us your OS ...

On Unix/Linux ^Z will probably work (restart with fg).

On Windows there is no way: it is hard enough to stop rather than pause.

On a classic Mac I think you can't even stop permanently in 1.2.3,
but will be able to in 1.3.0.


One day when (if) R has execution threads it may be able to suspend
them individually.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meili at stat.math.ethz.ch  Tue Jun 19 11:41:59 2001
From: meili at stat.math.ethz.ch (Ruth Meili)
Date: Tue, 19 Jun 2001 11:41:59 +0200
Subject: [R] Question about command "multicomp"
Message-ID: <15151.7783.375668.341051@gargle.gargle.HOWL>

Dear R-People

I did some two way variance analysis and have now the following problem:
I'd like to do some multiple Comparisons between different factor levels
(two factors, each with some 5 or 6 levels), because there are some
significant interactions between these two factors.

In S-plus 5, there is the function "multicomp", but in R, there ist no
matchable funktion, as far as I could find out. So I ask you:
What would you do in similar situations?

Thanks very much for your answer.

Regards

-- 
Ruth Meili <meili at stat.math.ethz.ch>
Seminar fuer Statistik, LEO D6
ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
phone: x-41-1-632-3505		fax: x-41-1-632-1228
http://stat.ethz.ch/~meili/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jun 19 11:55:16 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 19 Jun 2001 05:55:16 -0400 (EDT)
Subject: [R] How do I temporarily stop an execution?
Message-ID: <200106190955.FAA27320@cattell.psych.upenn.edu>

If you _know_ in advance that you want to stop at some
point, readline(), is useful.  It is how the demo program
works.  The function stop() is good too, for debugging,
but you can't restart.  Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 19 12:22:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Jun 2001 11:22:02 +0100 (BST)
Subject: [R] How do I temporarily stop an execution?
In-Reply-To: <200106190955.FAA27320@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0106191118020.3218-100000@gannet.stats>

On Tue, 19 Jun 2001, Jonathan Baron wrote:

> If you _know_ in advance that you want to stop at some
> point, readline(), is useful.  It is how the demo program
> works.  The function stop() is good too, for debugging,
> but you can't restart.  Jon

I think I did not understand the aim here, and after I private reply can
suggest:

1) par(ask=T)  stops before each graph.

2) package sm has a simple pause() function using readline that can be
useful:

pause <- function ()
{
    cat("Pause. Press <Enter> to continue...")
    readline()
    invisible()
}

3) Inserting a call to browser() is even better for debugging.

BDR

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Tue Jun 19 12:15:18 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Tue, 19 Jun 2001 12:15:18 BST
Subject: [R] Problems with R setup
Message-ID: <100AE57428D@fs2.ma.man.ac.uk>

As a first-time user, I have just installed R1.2.3 under Windows 98, 
and have encountered the following problems:

(1)  When I got to the command

file.show("morley.tab")

in the session of Appendix A (A sample session) of An Introduction to 
R, I got the warning  message

file.show(): file morley.tab does not exist

although this dataset _is_ listed among datasets known to R.

(2)  I have downloaded the 'foreign' package and put it in the 
directory 

c:\Program Files\R\rw1023\library\foreign

What is the command to  find out whether it is recognised by R?

With a view to (1), how do I ensure that 'foreign' is recognised by 
R?

Help would be most appreciated.

Stephan Rudolfer


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 19 13:28:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Jun 2001 12:28:18 +0100 (BST)
Subject: [R] Problems with R setup
In-Reply-To: <100AE57428D@fs2.ma.man.ac.uk>
Message-ID: <Pine.LNX.4.31.0106191221280.3403-100000@gannet.stats>

On Tue, 19 Jun 2001, Dr. Stephan Martin Rudolfer wrote:

> As a first-time user, I have just installed R1.2.3 under Windows 98,
> and have encountered the following problems:
>
> (1)  When I got to the command
>
> file.show("morley.tab")
>
> in the session of Appendix A (A sample session) of An Introduction to
> R, I got the warning  message
>
> file.show(): file morley.tab does not exist
>
> although this dataset _is_ listed among datasets known to R.

You do need to follow the instructions!  That appendix starts:

  ... This is written for the UNIX user. Those using Windows will need to
  adapt the discussion appropriately.

  Login, start your windowing system. You should also have the file
  morley.tab in your working directory. If not, seek the local expert (or
  get it yourself from the base/data subdirectory of the default R library
  tree). If you have, proceed.

Depending exactly how your system was installed, there may be a file
...\rw1023\library\base\data\morley.tab.  Copy it to your working
directory.  If not, seek the local expert.


> (2)  I have downloaded the 'foreign' package and put it in the
> directory
>
> c:\Program Files\R\rw1023\library\foreign
>
> What is the command to  find out whether it is recognised by R?
>
> With a view to (1), how do I ensure that 'foreign' is recognised by
> R?

library(foreign)
search()

will load the library and tell you it has been loaded.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Leu_Paul_W at cat.com  Tue Jun 19 15:59:27 2001
From: Leu_Paul_W at cat.com (Paul W Leu)
Date: Tue, 19 Jun 2001 08:59:27 -0500
Subject: [R] multivariate local regression with locfit
Message-ID: <OF99570154.98CCA58F-ON86256A70.004CA787@cis.cat.com>

I've been trying to run locfit on data with 6 inputs and 1 output in R.
Whenever I make a prediction for the same exact data that the model was
built on though, I get significant discrepancies between the fitted outputs
of the prediction and the actual data.
       Here is an example of some of the parameters I tried:

fit
<-locfit(plossactual~Reynolds.Bevel+Reynolds.Pinion+Pinion.Velocity+Bevel.Velocity,data=nte,ev

"x", alpha=c(0, .035), scale=c(2e6, 6e5, .6, 1.2, 200, 200))

As you can see, the bandwidth is an extremely small constant value and so
all data should be fitted close to exact (I tried even smaller too).  The
variable "x" contains exactly the same data that the model is using so
there shouldn't be any issues of interpolation.  When I used the predict
function, I used the same set of data ("x" and "predictionpoints" are the
same).  I also tried a variety of scaling schemes, including just setting
the value to T.
       Currently, I am just trying to verify that the locfit algorithm does
in fact work for multivariate data by building a model on some data and
then using the model to predict the same set of data, before I start
getting into issues with interpolation, extrapolation, cross validation,
etc.  Am I missing something here?  Thanks for your time and your help.

Sincerely,
Paul Leu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pbreuer at uni-goettingen.de  Tue Jun 19 16:08:20 2001
From: pbreuer at uni-goettingen.de (Peter Breuer)
Date: Tue, 19 Jun 2001 15:08:20 +0100
Subject: [R] read.table and missing values
Message-ID: <a05010402b754f3fe9d60@[134.76.136.128]>

I'd like to share data files (tab delimited text files)
that i read in via read.table with other applications.
Missing data are empty fields (two tabs following each other)
I couldn't find a way yet to 'convince' R to interprete this to be 
missing values.
The read.table option na.strings="" or na.strings='' didn't work.
using any special character in the data file for missings (like '#') 
and defining it for missing using na.strings="#" worked.
So I was able to solve the problem doing a global replace.
But I'd prefer to read in the data files as is and wonder whether 
there is a possibility to that in R.
Data Import/Export Manual says that empty fields in numeric columns 
are regarded as missing values.
But with my versions of R (Windows 1.2.3, Mac) it didn't work
Documention, FAQ and the mailing archive didn't have any further hint.
Thanks for any advice

Peter
-- 
---------------------------------------------------------------------
Peter Breuer, http://www.psych.uni-goettingen.de/home/breuer
Georg-Elias-Mueller-Inst. f. Psychologie, Gosslerstr. 14, 37073 
Goettingen, Germany
Tel: (+49)551-39-3588,  Fax: (+49)551-39-3662
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 19 16:23:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Jun 2001 15:23:53 +0100 (BST)
Subject: [R] read.table and missing values
In-Reply-To: <a05010402b754f3fe9d60@[134.76.136.128]>
Message-ID: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>

On Tue, 19 Jun 2001, Peter Breuer wrote:

> I'd like to share data files (tab delimited text files)
> that i read in via read.table with other applications.
> Missing data are empty fields (two tabs following each other)
> I couldn't find a way yet to 'convince' R to interprete this to be
> missing values.

It's the default ....

> The read.table option na.strings="" or na.strings='' didn't work.
> using any special character in the data file for missings (like '#')
> and defining it for missing using na.strings="#" worked.
> So I was able to solve the problem doing a global replace.
> But I'd prefer to read in the data files as is and wonder whether
> there is a possibility to that in R.
> Data Import/Export Manual says that empty fields in numeric columns
> are regarded as missing values.
> But with my versions of R (Windows 1.2.3, Mac) it didn't work
> Documention, FAQ and the mailing archive didn't have any further hint.
> Thanks for any advice

It works as documented, and as documented does what you want (so no
further hint is needed).  For file foo.dat

a,b,c
1,2,3
4,,6
,8,9

I get

> read.table("foo.dat", header=T, sep=",")
   a  b c
1  1  2 3
2  4 NA 6
3 NA  8 9

as advertised.

You have set sep="\t", haven't you?  The default separator is white space,
and that will swallow two tabs.  The following had tabs in originally,

a	b	c
1	2	3
4		6
	8	9

and gives

> read.table("foo.dat", header=T, sep="\t")
   a  b c
1  1  2 3
2  4 NA 6
3 NA  8 9

So, if you do that it should work for you too.  And if you want to claim
on R-help that things do not work, please include an example so we can see
what you are doing (or not doing).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pbreuer at uni-goettingen.de  Tue Jun 19 17:08:52 2001
From: pbreuer at uni-goettingen.de (Peter Breuer)
Date: Tue, 19 Jun 2001 16:08:52 +0100
Subject: [R] read.table and missing values - solved
In-Reply-To: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>
References: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>
Message-ID: <a05010404b755187c307b@[134.76.136.128]>

Thanks - everything is o.k. and working

>a,b,c
>1,2,3
>4,,6
>,8,9
>
>I get
>
>>  read.table("foo.dat", header=T, sep=",")
>    a  b c
>1  1  2 3
>2  4 NA 6
>3 NA  8 9
>
>as advertised.
>
>You have set sep="\t", haven't you?  The default separator is white space,
>and that will swallow two tabs.  The following had tabs in originally,

This did solve the problem. I didn't set sep="\t". R read complete
tab delimited data files nontheless and complained only when it met 
missing data.
This confused me.

>
>a	b	c
>1	2	3
>4		6
>	8	9
>
>and gives
>
>>  read.table("foo.dat", header=T, sep="\t")
>    a  b c
>1  1  2 3
>2  4 NA 6
>3 NA  8 9
>
>So, if you do that it should work for you too.  And if you want to claim
>on R-help that things do not work, please include an example so we can see
>what you are doing (or not doing).
>
sorry for having missed to send an example.

Peter

-- 
---------------------------------------------------------------------
Peter Breuer, http://www.psych.uni-goettingen.de/home/breuer
Georg-Elias-Mueller-Inst. f. Psychologie, Gosslerstr. 14, 37073 
Goettingen, Germany
Tel: (+49)551-39-3588,  Fax: (+49)551-39-3662
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 19 17:29:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Jun 2001 16:29:05 +0100 (BST)
Subject: [R] read.table and missing values - solved
In-Reply-To: <a05010404b755187c307b@[134.76.136.128]>
Message-ID: <Pine.LNX.4.31.0106191626560.5984-100000@gannet.stats>

On Tue, 19 Jun 2001, Peter Breuer wrote:

> Thanks - everything is o.k. and working

[...]

> >You have set sep="\t", haven't you?  The default separator is white space,
> >and that will swallow two tabs.  The following had tabs in originally,
>
> This did solve the problem. I didn't set sep="\t". R read complete
> tab delimited data files nontheless and complained only when it met
> missing data.
> This confused me.

Using read.delim (same help page) might be less confusing, although I
think fill = TRUE might also cause confusion.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Jun 19 18:25:45 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 19 Jun 2001 18:25:45 +0200
Subject: [R] read.table and missing values
In-Reply-To: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>
References: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>
Message-ID: <p04330100b7552890482f@[192.168.0.98]>

<snip>
>You have set sep="\t", haven't you?  The default separator is white space,
>and that will swallow two tabs.  The following had tabs in originally,
>
>a	b	c
>1	2	3
>4		6
>	8	9
>
>and gives
>
>>  read.table("foo.dat", header=T, sep="\t")
>    a  b c
>1  1  2 3
>2  4 NA 6
>3 NA  8 9
<snip>

Cool! Thanks a lot! I had the same problem a while ago and solved it
by replacing two consecutive tabs with \t""\t. Now I see what the
problem was: When I'm not using R I'm using StatView and StatView
defaults to the tab as separator. (I don't remember what it was in
SPSS or Systat.) So I assumed that it's the same with R.
I didn't notice the sep = "" in the Usage section of the help page.
To make the default value more visible in this case it would be
nice if in the Arguments/sep section for read.table it would read
... If sep = "" (the default) the separator is ...
                 -------------

Cheers,

Ragnar

(Must've said "blimey" once too often -
  now I'm really blind every now and then ;)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Jun 19 18:39:43 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 19 Jun 2001 18:39:43 +0200
Subject: [R] read.table and missing values
In-Reply-To: <p04330100b7552890482f@[192.168.0.98]>
References: <Pine.LNX.4.31.0106191515180.5937-100000@gannet.stats>
 <p04330100b7552890482f@[192.168.0.98]>
Message-ID: <p04330102b755300afa1c@[192.168.0.98]>

><snip>
>To make the default value more visible in this case it would be
>nice if in the Arguments/sep section for read.table it would read
>... If sep = "" (the default) the separator is ...
>                 -------------
<snip>

Oops, I meant:
... If sep = "" (the default for read.table) the separator is ...

Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Tue Jun 19 18:48:42 2001
From: mirko.luedde at cellcontrol.de (=?iso-8859-1?Q?L=FCdde_Mirko?=)
Date: Tue, 19 Jun 2001 18:48:42 +0200
Subject: [R] binom.test appropriate?
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE306332C@CELLCON01>

Hi!

Prof Ripley wrote (marked by '>')

...

> But: the test for p = p0 vs p > p0 is the appropriate test for
> p <= p0 vs p > p0 within this family of tests, by the monotonicity
> properties.

Thanks, I meanwhile understand that monotonicity, a general property
of the power function w.r.t. exponential families of measures, makes
the binomial test work for our purposes.

> You mentioned a 2 x 2 table and UMPU, but did not say exactly what you are
> doing or how the data were sampled, nor how this hypothesis arises.  Under
> one set of assumptions, I believe the UMPU theory you mention tells you to
> use the binom.test for p = p0 vs p > p0, but it may be that other tests
> (Fisher's exact test springs to mind) are more appropriate.  (And the last
> U can be insidious, just as it can be for estimation.)

Let me be more elaborate on this point.  

We have a certain way of measuring a nonnegative real valued number
that we call "activity".  Having found out about the activity, we
experimentally observe some "response" that is a binary variable
"yes", "no". We have defined a threshold for the activity. For an
activity smaller than the threshold, our "prediction" is "yes",
otherwise it is "no".

Writing down the number of coincidences and non-coincidences of
"predictions" and "responses" we get the mentioned 2 x 2 matrix.

Now we would like to learn about the conditional probabilities

    p(response = x | prediction = y). 

In particular we would like to verify the alternative hypotheses

   p(response = "yes" | prediction = "yes") > p0

as well as

   p(response = "no" | prediction = "no") > p1

against the nulls "<= p0" and "<= p1" for certain bounds p0 and p1
that came out of our CFO's spreadsheet.

To this end we read the number of "response = 'yes'" cases among the
"prediction = 'yes'" cases from the matrix (and do so for "no" - "no")
and apply the binomial test.

Some questions that remain are 

     - Does this seem appropriate?

     - Would Fisher's exact test be even more appropriate?

     - How could we optimize our threshold? 


Any comments are appreciated, thanks, Mirko.

--
Dr. M. Luedde <Mirko.Luedde at CellControl.De>
CellControl Biomedical Laboratories AG
Am Klopferspitz 19, 82152 Martinsried
+49-89-895275-0 +49-179-5252064 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vpaziran at yahoo.com  Wed Jun 20 01:33:45 2001
From: vpaziran at yahoo.com (Vahid Pazirandeh)
Date: Tue, 19 Jun 2001 16:33:45 -0700 (PDT)
Subject: [R] RJava lib error
Message-ID: <20010619233345.80888.qmail@web10106.mail.yahoo.com>

Hello all!

I recently install R-1.2.3 and Omegahat SJava pkg
(formely Java pkg) 0.62 and tried running the examples
by issuing "scripts/RJava --example --gui=none" and I
got the following:

Error in dyn.load(x, as.logical(local),
as.logical(now)) : 
        unable to load shared library
"/usr/lib/R/library/ctest/libs/ctest.so":
  ld.so.1:
/usr/java1.2/bin/../jre/bin/../bin/sparc/native_threads/java:
fatal: relocation error: file
/usr/lib/R/library/ctest/libs/ctest.so: symbol MAIN__:
referenced symbol not found
[omegahat->R] 
SIGSEGV   11*  segmentation violation


I've been trying to figure this problem out for a
while, but I haven't had any luck yet.  This occurs
for any R-Java program I run.. i install it onto two
different machines and they both yielded the same
errors:

1) 5.8 Generic sun4u sparc SUNW,Ultra-5_10
2) 5.7 Generic_106541-12 sun4u sparc SUNW,Ultra-2

Any assistance would be much appreciated.. I am truely
a newbie!  

Please replyto: vpaziran at yahoo.com

regards,
v


=====
< Education Center on Computational Science and Engineering >
< http://edcenter.sdsu.edu >
=====

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Jun 20 01:59:15 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Tue, 19 Jun 2001 18:59:15 -0500
Subject: [R] comparing 3 datasets
Message-ID: <3B2FE753.5D88927F@ukans.edu>

I have 3 datasets with the same variables.  I want to find out what
differences there are between the three, to know if an experimental
condition has an effect.  So I decided first to make histograms.  So I
created this handy "histomatic" function that creates a picture with the
3 histograms on a single image:

I thought I was being clever, but in the end, no!

#read in 3 tables worth
NoFlagMod0<-read.table("NoFlagMod0.txt",header=TRUE);
RandMastMod0<-read.table("RandMastMod0.txt",header=TRUE);
NoMastMod0<-read.table("NoMastMod0.txt",header=TRUE);

#here's my magical function
histomatic <- function (s1,s2,s3,var){
  if (is.numeric (s2[[var]])) {     
  par(mfrow=c(3,1));
  hist(s1[[var]],breaks=40,xlab=var);
  
  hist(s2[[var]], breaks=40,xlab=var);
  hist(s3[[var]], breaks=40,xlab=var);
  }
}
#cycle through all the variables, just grab names from first set.
nameList<-names(RandMastMod0);
par(ask=Yes)
for (var in nameList) histomatic(NoFlagMod0,RandMastMod0,NoMastMod0,var)

I knew I wanted a pretty fine grained display, so I set breaks at 40.
Other than that, I don't know for sure what else I want.

Here's the problem:
The histograms shown do not have the same ranges.  SInce the datasets
are slightly different, the ranges displayed are different, so they are
difficult to compare visually.  Is there a solution?

Other than that, if you have other ideas about comparing 3 datasets, i'm
glad to hear.  I'm especially curious to know if there is a significance
test of the hypothesis that 3 samples are drawn from a common
distribution. (apart from testing the means with an F test, that is).  

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Jun 20 02:56:31 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 19 Jun 2001 17:56:31 -0700 (PDT)
Subject: [R] comparing 3 datasets
In-Reply-To: <3B2FE753.5D88927F@ukans.edu>
Message-ID: <20010620005631.97792.qmail@web13907.mail.yahoo.com>


--- pauljohn at ukans.edu wrote:
> I have 3 datasets with the same variables.  I want
> to find out what
> differences there are between the three, to know if
> an experimental
> condition has an effect.  So I decided first to make
> histograms.  So I
> created this handy "histomatic" function that
> creates a picture with the
> 3 histograms on a single image:
> 
> I thought I was being clever, but in the end, no!
> 
> #read in 3 tables worth
>
NoFlagMod0<-read.table("NoFlagMod0.txt",header=TRUE);
>
RandMastMod0<-read.table("RandMastMod0.txt",header=TRUE);
>
NoMastMod0<-read.table("NoMastMod0.txt",header=TRUE);
> 
> #here's my magical function
> histomatic <- function (s1,s2,s3,var){
>   if (is.numeric (s2[[var]])) {     
>   par(mfrow=c(3,1));
>   hist(s1[[var]],breaks=40,xlab=var);
>   
>   hist(s2[[var]], breaks=40,xlab=var);
>   hist(s3[[var]], breaks=40,xlab=var);
>   }
> }
> #cycle through all the variables, just grab names
> from first set.
> nameList<-names(RandMastMod0);
> par(ask=Yes)
> for (var in nameList)
> histomatic(NoFlagMod0,RandMastMod0,NoMastMod0,var)
> 
> I knew I wanted a pretty fine grained display, so I
> set breaks at 40.
> Other than that, I don't know for sure what else I
> want.
> 
> Here's the problem:
> The histograms shown do not have the same ranges. 
> SInce the datasets
> are slightly different, the ranges displayed are
> different, so they are
> difficult to compare visually.  Is there a solution?


An xlim argument should set the same limits for all
the
histograms. Change your function to:


histomatic <- function (s1,s2,s3,var){
   if (is.numeric (s2[[var]])) {     
   par(mfrow=c(3,1));
   xlim <- range(s1[[var]], s2[[var]], s3[[var]]);
   hist(s1[[var]], breaks=40,xlab=var, xlim = xlim);
   hist(s2[[var]], breaks=40,xlab=var, xlim = xlim);
   hist(s3[[var]], breaks=40,xlab=var, xlim = xlim);
}


This should work.

(You might also consider using the lattice (package in
Devel section) function histogram().)


__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jun 20 03:25:51 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 19 Jun 2001 21:25:51 -0400 (EDT)
Subject: [R] comparing 3 datasets
Message-ID: <200106200125.VAA14045@cattell.psych.upenn.edu>

>I have 3 datasets with the same variables.  I want to find out what
>differences there are between the three, to know if an experimental
>condition has an effect.  So I decided first to make histograms.  So I
>created this handy "histomatic" function that creates a picture with the
>3 histograms on a single image:
>
>I thought I was being clever, but in the end, no!
>
>#read in 3 tables worth
>NoFlagMod0<-read.table("NoFlagMod0.txt",header=TRUE);
>RandMastMod0<-read.table("RandMastMod0.txt",header=TRUE);
>NoMastMod0<-read.table("NoMastMod0.txt",header=TRUE);
>
>#here's my magical function
>histomatic <- function (s1,s2,s3,var){
>  if (is.numeric (s2[[var]])) {     
>  par(mfrow=c(3,1));
>  hist(s1[[var]],breaks=40,xlab=var);
>  
>  hist(s2[[var]], breaks=40,xlab=var);
>  hist(s3[[var]], breaks=40,xlab=var);
>  }
>}
>#cycle through all the variables, just grab names from first set.
>nameList<-names(RandMastMod0);
>par(ask=Yes)
>for (var in nameList) histomatic(NoFlagMod0,RandMastMod0,NoMastMod0,var)
>
>I knew I wanted a pretty fine grained display, so I set breaks at 40.
>Other than that, I don't know for sure what else I want.
>
>Here's the problem:
>The histograms shown do not have the same ranges.  SInce the datasets
>are slightly different, the ranges displayed are different, so they are
>difficult to compare visually.  Is there a solution?
>Paul E. Johnson                       email: pauljohn at ukans.edu

I can solve this problem, not the other one.  Here is an example,
the results of which are about half way down the page on:
http://www.psych.upenn.edu/courses/psych1_Fall2000/a4help.htm

The critical thing is using the different format for "breaks,"
which specifies the cutoffs rather than the number of them.  This
way you can use the same cutoffs for all the histograms.

par(mfrow=c(4,1))
hist(female$current,breaks=10*1:10,freq=FALSE,ylim=c(0,.1))
hist(female$ideal,breaks=10*1:10,freq=FALSE,ylim=c(0,.1))
hist(female$attract,breaks=10*1:10,freq=FALSE,ylim=c(0,.1))
hist(male$otherattract,breaks=10*1:10,freq=FALSE,ylim=c(0,.1))

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 20 08:23:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Jun 2001 07:23:21 +0100 (BST)
Subject: [R] RJava lib error
In-Reply-To: <20010619233345.80888.qmail@web10106.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0106200719160.29276-100000@auk.stats>

On Tue, 19 Jun 2001, Vahid Pazirandeh wrote:

> Hello all!
>
> I recently install R-1.2.3 and Omegahat SJava pkg
> (formely Java pkg) 0.62 and tried running the examples
> by issuing "scripts/RJava --example --gui=none" and I
> got the following:
>
> Error in dyn.load(x, as.logical(local),
> as.logical(now)) :
>         unable to load shared library
> "/usr/lib/R/library/ctest/libs/ctest.so":
>   ld.so.1:
> /usr/java1.2/bin/../jre/bin/../bin/sparc/native_threads/java:
> fatal: relocation error: file
> /usr/lib/R/library/ctest/libs/ctest.so: symbol MAIN__:
> referenced symbol not found
> [omegahat->R]
> SIGSEGV   11*  segmentation violation
>
>
> I've been trying to figure this problem out for a
> while, but I haven't had any luck yet.  This occurs
> for any R-Java program I run.. i install it onto two
> different machines and they both yielded the same
> errors:
>
> 1) 5.8 Generic sun4u sparc SUNW,Ultra-5_10
> 2) 5.7 Generic_106541-12 sun4u sparc SUNW,Ultra-2

Solaris, right?

> Any assistance would be much appreciated.. I am truely
> a newbie!

Something is wrong with your R build, I think, as on my Solaris 2.7
system MAIN__ is not a symbol in ctest.so.

As a temporary fix, alter R_HOME/library/base/R/Rprofile to omit

.First <- function() {
    require("ctest", quietly=TRUE)
}

adn see if this allows you to proceed.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 20 08:36:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Jun 2001 07:36:04 +0100 (BST)
Subject: [R] comparing 3 datasets
In-Reply-To: <20010620005631.97792.qmail@web13907.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0106200729450.29276-100000@auk.stats>

On Tue, 19 Jun 2001, Deepayan Sarkar wrote:

[...]

> An xlim argument should set the same limits for all
> the
> histograms. Change your function to:

Unfortunately not so.  The critical lines in hist.default are

        rx <- range(x)
        breaks <- pretty(rx, n = nnb, min.n = 1)

so the breaks depend on the range of the data and not on xlim.

Jon Baron had the better idea: use a grid for breaks.  So something like

rz <- range(s1[[var]], s2[[var]], s3[[var]])
breaks <- pretty(rz, 40)

...
hist(s1[[var]], breaks, xlab=var)

>
>
> histomatic <- function (s1,s2,s3,var){
>    if (is.numeric (s2[[var]])) {
>    par(mfrow=c(3,1));
>    xlim <- range(s1[[var]], s2[[var]], s3[[var]]);
>    hist(s1[[var]], breaks=40,xlab=var, xlim = xlim);
>    hist(s2[[var]], breaks=40,xlab=var, xlim = xlim);
>    hist(s3[[var]], breaks=40,xlab=var, xlim = xlim);
> }
>

[...]

Another idea: use truehist() in package MASS, which wants the grid spacing,
not the number of breaks.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Wed Jun 20 11:58:09 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Wed, 20 Jun 2001 11:58:09 +0200
Subject: [R] MDA: package "class" not found ?!?
In-Reply-To: <Pine.WNT.4.31.0106181519270.744-100000@gannet>
References: <3B292D20000019C6@mail.epost.de>
Message-ID: <3B308FD1.17733.2AF0EA@localhost>

brian,

thank you for your help!

> It's part of the VR bundle.  Perhaps the
> 
> Suggests: class
> line in the DESCRIPTION needs to be more explicit?
maybe, because this is only written down in the file "PACKAGES" (http://cran.r-
project.org/bin/windows/contrib/PACKAGES). when i invoke help(mda), i cannot 
find this hint. also, your hint where "classes" can be found found would be 
good.

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Wed Jun 20 11:56:06 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Wed, 20 Jun 2001 11:56:06 +0200
Subject: [R] how do I return "focus" to console window
Message-ID: <45a2a3ed1b.3ed1b45a2a@student.liu.se>

Hi!

I am creating a tool for adjustments of a special kind of datasets. I 
am plotting these dataset, and after a plot the program needs 
information from the user (via readline("1: approve 2: disapprove > ").
Everything works fine apart from the fact that I have to click (with 
the mouse) on the console-window before I can gice the program its 
input. That is a bit annoying. The question is: how can I arrange it so 
that I only have to press the key (that is: that the console-windows 
is "active" - in some sense - after a plot)

I am using R 1.2.3 on WinNT...

kind regards,
   Tomas Svensson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Wed Jun 20 12:01:16 2001
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Wed, 20 Jun 2001 12:01:16 +0200
Subject: [R] list to array
Message-ID: <OFEC46602E.D538C9FD-ONC1256A71.0033978B@evotec.de>


Hello everybody!

I have a problem, that might be a quite common one.

Often one has some statistics on subpopulations defined by several factors.
This is usualy done by tapply resulting in a list.

For presentation-tasks, the form of an array might be more advantageos,
as ftable in combination with aperm allows for quite nice print.
Moreover some html or ps output might be easier to produce.

So this is the question: How can i transform a list of the form

list $a1  $b1  = x1
          $b2  = x2
     $a2  $b1  = x3
          $b2  = x4

into an multy-way array, with each list-level defining a dimension of the
array:

array[a1:a2 , b1:b2]

Maybe someone has already spend some time on this.
I would be pleased about some hints.

Maciej



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 20 13:03:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Jun 2001 12:03:51 +0100 (BST)
Subject: [R] how do I return "focus" to console window
In-Reply-To: <45a2a3ed1b.3ed1b45a2a@student.liu.se>
Message-ID: <Pine.LNX.4.31.0106201157450.6812-100000@gannet.stats>

On Wed, 20 Jun 2001 tomsv193 at student.liu.se wrote:

> Hi!
>
> I am creating a tool for adjustments of a special kind of datasets. I
> am plotting these dataset, and after a plot the program needs
> information from the user (via readline("1: approve 2: disapprove > ").
> Everything works fine apart from the fact that I have to click (with
> the mouse) on the console-window before I can gice the program its
> input. That is a bit annoying. The question is: how can I arrange it so
> that I only have to press the key (that is: that the console-windows
> is "active" - in some sense - after a plot)
>
> I am using R 1.2.3 on WinNT...

This is down to the details of your setup: which interface (MDI or SDI)
and how Windows is controlling the pointer, and so on.  I don't see a
focus shift except when a graphics window is first launched, and that is
deliberate (to bring it to the front).  So I can't tell you how to solve
something I never see.

There is a function bringToTop() to do the reverse, to give focus to the
graphics window.  You could probably modify it to do what you want:
if you do please contribute the modification.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Wed Jun 20 13:38:09 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Wed, 20 Jun 2001 13:38:09 +0200
Subject: [R] select cases from a data.frame or matrix
Message-ID: <3B30A741.23872.867E0D@localhost>

hi all,

is there a better solution to select rows from a data.frame than by iterating 
through the whole set and evaluating every case one by one? 

is there maybe something like:
d <- data.frame(...)
maleOver40 <- select.data.frame( d, "( sex=m or sex=M) and age > 40)")

of course, i could use direct database-requests, but this would require my data 
to be stored in a database...

thank you,
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 20 13:56:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2001 13:56:54 +0200
Subject: [R] select cases from a data.frame or matrix
In-Reply-To: "Till Baumgaertel"'s message of "Wed, 20 Jun 2001 13:38:09 +0200"
References: <3B30A741.23872.867E0D@localhost>
Message-ID: <x24rtbjreh.fsf@blueberry.kubism.ku.dk>

"Till Baumgaertel" <till.baumgaertel at epost.de> writes:

> hi all,
> 
> is there a better solution to select rows from a data.frame than by iterating 
> through the whole set and evaluating every case one by one? 
> 
> is there maybe something like:
> d <- data.frame(...)
> maleOver40 <- select.data.frame( d, "( sex=m or sex=M) and age > 40)")
> 
> of course, i could use direct database-requests, but this would require my data 
> to be stored in a database...
> 
> thank you,
> till

subset(d, sex %in% c("m","M") & age > 40)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Wed Jun 20 14:02:52 2001
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Wed, 20 Jun 2001 14:02:52 +0200
Subject: [R] select cases from a data.frame or matrix
In-Reply-To: <3B30A741.23872.867E0D@localhost>
References: <3B30A741.23872.867E0D@localhost>
Message-ID: <15152.37100.97532.274098@gargle.gargle.HOWL>

Till Baumgaertel writes:
 > hi all,
 > 
 > is there a better solution to select rows from a data.frame than by iterating 
 > through the whole set and evaluating every case one by one? 
 > 
 > is there maybe something like:
 > d <- data.frame(...)
 > maleOver40 <- select.data.frame( d, "( sex=m or sex=M) and age > 40)")
 > 
 > of course, i could use direct database-requests, but this would require my data 
 > to be stored in a database...
 > 

maleOver40 <- d[(d$sex == "m" | d$sex == "M") & d$age > 40,]

 > thank you,
 > till
 > 
 > --
 > "I have seen things you people wouldn't believe.
 > Attack-ships  on fire off the shoulder of Orion.
 > I watched seabeams glitter in the dark near the 
 > Tannhauser gate.
 > All  those  moments  will  be lost in time like
 > tears in rain. Time to die."              (Roy)
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Wed Jun 20 14:05:28 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 20 Jun 2001 08:05:28 -0400 (EDT)
Subject: [R] select cases from a data.frame or matrix
In-Reply-To: <3B30A741.23872.867E0D@localhost>
Message-ID: <Pine.SOL.3.91.1010620080452.12820B@godzilla3.acpub.duke.edu>

Would subset() do what you want?  for example,

maleOver40 <- subset(select.data.frame,  subset=(sex=="m" | sex== "M") & age > 40)

Rashid Nassar


On Wed, 20 Jun 2001, Till Baumgaertel wrote:

> Date: Wed, 20 Jun 2001 13:38:09 +0200
> From: Till Baumgaertel <till.baumgaertel at epost.de>
> To: r-help at stat.math.ethz.ch
> Subject: [R] select cases from a data.frame or matrix
> 
> hi all,
> 
> is there a better solution to select rows from a data.frame than by iterating 
> through the whole set and evaluating every case one by one? 
> 
> is there maybe something like:
> d <- data.frame(...)
> maleOver40 <- select.data.frame( d, "( sex=m or sex=M) and age > 40)")
> 
> of course, i could use direct database-requests, but this would require my data 
> to be stored in a database...
> 
> thank you,
> till
> 
> --
> "I have seen things you people wouldn't believe.
> Attack-ships  on fire off the shoulder of Orion.
> I watched seabeams glitter in the dark near the 
> Tannhauser gate.
> All  those  moments  will  be lost in time like
> tears in rain. Time to die."              (Roy)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Wed Jun 20 14:16:46 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Wed, 20 Jun 2001 14:16:46 +0200
Subject: [R] Solved: select cases from a data.frame or matrix
Message-ID: <3B30B04E.2147.A9D9BE@localhost>

thank you!

both solutions
1.) maleOver40 <- subset(d, sex %in% c("m","M") & age > 40)
2.) maleOver40 <- d[(d$sex == "m" | d$sex == "M") & d$age > 40,]
suite my needs very well!

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Claudio.Verzilli at lshtm.ac.uk  Wed Jun 20 15:18:32 2001
From: Claudio.Verzilli at lshtm.ac.uk (Claudio Verzilli)
Date: Wed, 20 Jun 2001 14:18:32 +0100
Subject: [R] Loading Fortran code with NAG subroutines
Message-ID: <sb30b0cd.089@s-nst5.lshtm.ac.uk>

Dear R-users,

System specs
R-1.2.2 under Unix Sun Solaris 2.7
Nag Fortran library Mark 18

when I try to dynload a Fortran77 code (compiled using R CMD SHLIB) which contains calls to NAG subroutines (nagsymbols) I get the following error message

ld.so.1: /opt/rhome/R-1.2.2/bin/R.bin: fatal: relocation error: file /path/to/myfile.so: symbol nagsymbol_:referenced symbol not found

I changed the default compilation flags in rhome/Makeconf (i.e. adding -L/path/to/nablib.so, -lnag) without success.
Any suggestions on what might be missing?

Thanks in advance,


Claudio


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Wed Jun 20 15:26:15 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Wed, 20 Jun 2001 15:26:15 +0200
Subject: [R] Error using lm(z~x+y,data)
Message-ID: <76d2a74bd9.74bd976d2a@student.liu.se>

Hi!

I am fitting a plane to a surface:

This works excellent:
---------------------------------
x<-dataframe[,1]
y<-dataframe[,2]
z<-dataframe[,3]
data<-cbind(x,y,z)

# Fit plane to surface
result<-lm(z~x+y,data)
---------------------------------

But I need to rescale the x,y parameters. So:
-----------------------------
x<-dataframe[,1]*149
y<-dataframe[,2]*149
z<-dataframe[,3]
data<-cbind(x,y,z)

# Fit plane to surface
result<-lm(z~x+y,data)
----------------------------------

And surprisingly this does not work. Error message is:

Error in eval(attr(formula, "variables"), data, env) : 
        sys.frame: not that many enclosing functions

Why does this happen?


kind regards
Tomas Svensson
EVOTEC,Hamburg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 20 16:04:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2001 16:04:03 +0200
Subject: [R] Error using lm(z~x+y,data)
In-Reply-To: tomsv193@student.liu.se's message of "Wed, 20 Jun 2001 15:26:15 +0200"
References: <76d2a74bd9.74bd976d2a@student.liu.se>
Message-ID: <x2u21bfdt8.fsf@blueberry.kubism.ku.dk>

tomsv193 at student.liu.se writes:

> Hi!
> 
> I am fitting a plane to a surface:
> 
> This works excellent:
> ---------------------------------
> x<-dataframe[,1]
> y<-dataframe[,2]
> z<-dataframe[,3]
> data<-cbind(x,y,z)
> 
> # Fit plane to surface
> result<-lm(z~x+y,data)
> ---------------------------------
> 
> But I need to rescale the x,y parameters. So:
> -----------------------------
> x<-dataframe[,1]*149
> y<-dataframe[,2]*149
> z<-dataframe[,3]
> data<-cbind(x,y,z)
> 
> # Fit plane to surface
> result<-lm(z~x+y,data)
> ----------------------------------
> 
> And surprisingly this does not work. Error message is:
> 
> Error in eval(attr(formula, "variables"), data, env) : 
>         sys.frame: not that many enclosing functions
> 
> Why does this happen?


I can confirm this, but not understand it. Certainly looks like a bug.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jun 20 16:10:42 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 20 Jun 2001 10:10:42 -0400
Subject: [R] RJava lib error
In-Reply-To: <Pine.GSO.4.31.0106200719160.29276-100000@auk.stats>; from ripley@stats.ox.ac.uk on Wed, Jun 20, 2001 at 07:23:21AM +0100
References: <20010619233345.80888.qmail@web10106.mail.yahoo.com> <Pine.GSO.4.31.0106200719160.29276-100000@auk.stats>
Message-ID: <20010620101042.A21693@jessie.research.bell-labs.com>

Usually when I see an error about a missing symbol in ctest.so
it indicates 
  a) that I am running R embedded in another application.
    In this case the example runs Java and then loads R into it.
  b) The ctest package (and the other packages) were not recompiled
     to be linked against libR.so 

The problem is that ctest.so needs to be linked against libR.so to
find the symbols in R.  As Brian points out, MAIN_ is not a symbol it
looks for, so something more fundamental may be wrong.

Usually, ctest.so not being linked against libR.so happens when one
first builds R without the --enable-R-shlib configuration and then
afterwards, you reconfigure and rebuild with that option. The package
libraries do not get rebuilt and hence do not pick up the newly added
instructions to link with libR.so.


Brian's suggestion is the simplest fix - simply avoid loading
the ctest library.

The longer term fix is to recompile all of the packages.
The failsafe and slow way to do this is 
   cd $R_HOME
   make distclean
   ./configure --enable-R-shlib
   make

The quick shortcut is to remove the ctest.so in
both 
  $R_HOME/src/library/ctest/src/
and
  $R_HOME/library/ctest/libs

and then re-build the library.

The commands are

  rm $R_HOME/library/ctest/libs/ctest.so
  rm $R_HOME/library/ctest/libs/ctest.so
  rm src/ctest.so
  cd $R_HOME/src/library/ctest

Hope this helps.
  D.


Prof Brian D Ripley wrote:
> On Tue, 19 Jun 2001, Vahid Pazirandeh wrote:
> 
> > Hello all!
> >
> > I recently install R-1.2.3 and Omegahat SJava pkg
> > (formely Java pkg) 0.62 and tried running the examples
> > by issuing "scripts/RJava --example --gui=none" and I
> > got the following:
> >
> > Error in dyn.load(x, as.logical(local),
> > as.logical(now)) :
> >         unable to load shared library
> > "/usr/lib/R/library/ctest/libs/ctest.so":
> >   ld.so.1:
> > /usr/java1.2/bin/../jre/bin/../bin/sparc/native_threads/java:
> > fatal: relocation error: file
> > /usr/lib/R/library/ctest/libs/ctest.so: symbol MAIN__:
> > referenced symbol not found
> > [omegahat->R]
> > SIGSEGV   11*  segmentation violation
> >
> >
> > I've been trying to figure this problem out for a
> > while, but I haven't had any luck yet.  This occurs
> > for any R-Java program I run.. i install it onto two
> > different machines and they both yielded the same
> > errors:
> >
> > 1) 5.8 Generic sun4u sparc SUNW,Ultra-5_10
> > 2) 5.7 Generic_106541-12 sun4u sparc SUNW,Ultra-2
> 
> Solaris, right?
> 
> > Any assistance would be much appreciated.. I am truely
> > a newbie!
> 
> Something is wrong with your R build, I think, as on my Solaris 2.7
> system MAIN__ is not a symbol in ctest.so.
> 
> As a temporary fix, alter R_HOME/library/base/R/Rprofile to omit
> 
> .First <- function() {
>     require("ctest", quietly=TRUE)
> }
> 
> adn see if this allows you to proceed.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 20 16:29:27 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2001 16:29:27 +0200
Subject: [R] Error using lm(z~x+y,data)
In-Reply-To: Peter Dalgaard BSA's message of "20 Jun 2001 16:04:03 +0200"
References: <76d2a74bd9.74bd976d2a@student.liu.se> <x2u21bfdt8.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2zob3i5rs.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> tomsv193 at student.liu.se writes:
> 
> > Hi!
> > 
> > I am fitting a plane to a surface:
> > 
> > This works excellent:
> > ---------------------------------
> > x<-dataframe[,1]
> > y<-dataframe[,2]
> > z<-dataframe[,3]
> > data<-cbind(x,y,z)
> > 
> > # Fit plane to surface
> > result<-lm(z~x+y,data)
> > ---------------------------------
> > 
> > But I need to rescale the x,y parameters. So:
> > -----------------------------
> > x<-dataframe[,1]*149
> > y<-dataframe[,2]*149
> > z<-dataframe[,3]
> > data<-cbind(x,y,z)
> > 
> > # Fit plane to surface
> > result<-lm(z~x+y,data)
> > ----------------------------------
> > 
> > And surprisingly this does not work. Error message is:
> > 
> > Error in eval(attr(formula, "variables"), data, env) : 
> >         sys.frame: not that many enclosing functions
> > 
> > Why does this happen?
> 
> 
> I can confirm this, but not understand it. Certainly looks like a bug.

Ah, got it! The data= argument needs to be a dataframe and you have a
matrix. Still looks weird, though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 20 17:07:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Jun 2001 16:07:09 +0100 (BST)
Subject: [R] Loading Fortran code with NAG subroutines
In-Reply-To: <sb30b0cd.089@s-nst5.lshtm.ac.uk>
Message-ID: <Pine.GSO.4.31.0106201604530.18728-100000@toucan.stats>

On Wed, 20 Jun 2001, Claudio Verzilli wrote:

> Dear R-users,
>
> System specs
> R-1.2.2 under Unix Sun Solaris 2.7
> Nag Fortran library Mark 18
>
> when I try to dynload a Fortran77 code (compiled using R CMD SHLIB) which contains calls to NAG subroutines (nagsymbols) I get the following error message
>
> ld.so.1: /opt/rhome/R-1.2.2/bin/R.bin: fatal: relocation error: file /path/to/myfile.so: symbol nagsymbol_:referenced symbol not found
>
> I changed the default compilation flags in rhome/Makeconf (i.e. adding -L/path/to/nablib.so, -lnag) without success.
> Any suggestions on what might be missing?

Well, R CMD SHLIB uses R_HOME/etc/Makeconf....

Look in `Writing R Extensions' for how to do this properly, using PKG_LIBS


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 20 17:16:03 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 20 Jun 2001 11:16:03 -0400
Subject: [R] Error using lm(z~x+y,data)
In-Reply-To: <76d2a74bd9.74bd976d2a@student.liu.se>
References: <76d2a74bd9.74bd976d2a@student.liu.se>
Message-ID: <j3f1jt8p98cgdsa4oj35f9rlim4eh0k5vl@4ax.com>


I don't know why one version works and the other doesn't, but I've
noticed problems in the past when using "data" as a variable name, and
in fact even the first version fails for me when I type it exactly as
you did.

I suspect the strange behaviour you saw is related to the fact that
data is a matrix rather than a data.frame, and indeed everything is
fine if I change your code to

x<-dataframe[,1]*149
y<-dataframe[,2]*149
z<-dataframe[,3]
d<-data.frame(x,y,z)    # use data.frame, not cbind

# Fit plane to surface
result<-lm(z~x+y,d)

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vpaziran at yahoo.com  Wed Jun 20 18:30:13 2001
From: vpaziran at yahoo.com (Vahid Pazirandeh)
Date: Wed, 20 Jun 2001 09:30:13 -0700 (PDT)
Subject: [R] RJava lib error
In-Reply-To: <20010620101042.A21693@jessie.research.bell-labs.com>
Message-ID: <20010620163013.35686.qmail@web10101.mail.yahoo.com>

Hello Brian and Duncan,

Brian: I ommited what you said, and now it does work! 
When I hit return in the scripts/RJava --example
--gui=none I get segmentation fault (is it supposed to
be that way?); however, if I input R statements
("sum(1:3)") it does work.  I attached the complete
error I receive at the end of my reply.  

Duncan, I was reading your "Calling R from Java" paper
dated January 31, 2001 and tried to make a very basic
Java program to send an R statement and receive the
object back and display it to the user, but was
unsuccessful (probably because I have not used both R
and Java enough to understand the underlying
fundamentals involved).  Here is the "bla.java" file:

--- snip snip ---
import java.io.*;
import org.omegahat.R.Java.*;

public class bla {
    public static void main(String args[]) {
        System.out.println("Hello...");
        REvaluator e = new REvaluator();
        Object val = e.eval("objects()");
        String[] objects = (String[])val;
        for (int i=0; i < objects.length; i++) {
            System.out.println(i + ": " + objects[i]);
        }
    }
}
--- snip snip ---



Here are some cases I try to run the program:

/home/swbdev> java bla
Hello...
Exception in thread "main"
java.lang.UnsatisfiedLinkError: no SJava in
java.library.path
        at java.lang.Throwable.fillInStackTrace(Native
Method)
        at
java.lang.Throwable.<init>(Throwable.java:94)
        at java.lang.Error.<init>(Error.java:50)
        at
java.lang.LinkageError.<init>(LinkageError.java:43)
        at
java.lang.UnsatisfiedLinkError.<init>(UnsatisfiedLinkError.java:42)
        at java.lang.ClassLoader.loadLibrary(Compiled
Code)
        at
java.lang.Runtime.loadLibrary0(Runtime.java:471)
        at
java.lang.System.loadLibrary(System.java:745)
        at <Unloaded Method>
        at bla.main(Compiled Code)


/home/swbdev> echo $LD_LIBRARY_PATH
/home/swbdev/R-1.2.3/lib/R/library/SJava/libs:/usr/bin/../java/bin/../jre/lib/sparc


/home/swbdev> ls -l
/home/swbdev/R-1.2.3/lib/R/library/SJava/libs
total 618
-rwxr-xr-x   1 swbdev     391400 Jun 19 09:36 SJava.so
lrwxrwxrwx   1 swbdev          8 Jun 19 09:37
libRInterpreter.so -> SJava.so
-rwxr-xr-x   1 swbdev     213496 Jun 19 09:36
libRSNativeJava.so
lrwxrwxrwx   1 swbdev          8 Jun 19 09:37
libSJava.so -> SJava.so
/home/swbdev> 


As you see the libraries for SJava are in my
LD_LIBRARY_PATH.. and unsetting it did not work
either:

/home/swbdev> unset LD_LIBRARY_PATH
/home/swbdev> java bla
Hello...
Exception in thread "main"
java.lang.UnsatisfiedLinkError: no SJava in
java.library.path
        at java.lang.Throwable.fillInStackTrace(Native
Method)
        at
java.lang.Throwable.<init>(Throwable.java:94)
        at java.lang.Error.<init>(Error.java:50)
        at
java.lang.LinkageError.<init>(LinkageError.java:43)
        at
java.lang.UnsatisfiedLinkError.<init>(UnsatisfiedLinkError.java:42)
        at java.lang.ClassLoader.loadLibrary(Compiled
Code)
        at
java.lang.Runtime.loadLibrary0(Runtime.java:471)
        at
java.lang.System.loadLibrary(System.java:745)
        at <Unloaded Method>
        at bla.main(Compiled Code)


I finally copied scripts/RJava to the same dir as
bla.class/bla.java are in, and modified it so that the
last line to read:

#${JAVA} -classpath $CLASSPATH ${OMEGA_PROPS} ${CLASS}
$ARGS
${JAVA} -classpath $CLASSPATH ${OMEGA_PROPS} bla $ARGS

and ran it:


/home/swbdev> ./RJava 
Hello...
Segmentation Fault
    si_signo [11]: Segmentation Fault
    si_errno [0]: Error 0
    si_code [1]: SEGV_MAPERR [addr: 0xc]

        stackpointer=FFBED748
"Finalizer" (TID:0x122a2c, sys_thread_t:0x1229b0,
state:CW, thread_t: t at 6, threadID:0xfece1dd8,
stack_bottom:0xfece2000, stack_size:0x20000) prio=8

[1]
java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:106)
[2]
java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:128)
[3]
java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:175)
-------------------
"Reference Handler" (TID:0x12cea4,
sys_thread_t:0x12ce28, state:CW, thread_t: t at 5,
threadID:0xfed11dd8, stack_bottom:0xfed12000,
stack_size:0x20000) prio=10

[1] java.lang.Object.wait(Object.java:424)
[2]
java.lang.ref.Reference$ReferenceHandler.run(Reference.java:107)
-------------------
"Signal dispatcher" (TID:0x11fe34,
sys_thread_t:0x11fdb8, state:MW, thread_t: t at 4,
threadID:0xfed41dd8, stack_bottom:0xfed42000,
stack_size:0x20000) prio=10

-------------------
"main" (TID:0x3b26c, sys_thread_t:0x3b1f0, state:R,
thread_t: t at 1, threadID:0x25200,
stack_bottom:0xffbf0000, stack_size:0x20000) prio=5
*current thread*

[1] org.omegahat.R.Java.REvaluator.eval(Native Method)
[2]
org.omegahat.R.Java.REvaluator.eval(REvaluator.java:86)
[3]
org.omegahat.R.Java.REvaluator.eval(REvaluator.java:36)
[4] bla.main(bla.java:6)
-------------------
Abort




This Segmentation Fault is the same segfault received
when I hit the return key in the "scripts/RJava
--example --gui=none" with no statement typed (blank
line, just hit return).

I have much to learn it seems.

regards,
vahid








--- Duncan Temple Lang <duncan at research.bell-labs.com>
wrote:
> Usually when I see an error about a missing symbol
> in ctest.so
> it indicates 
>   a) that I am running R embedded in another
> application.
>     In this case the example runs Java and then
> loads R into it.
>   b) The ctest package (and the other packages) were
> not recompiled
>      to be linked against libR.so 
> 
> The problem is that ctest.so needs to be linked
> against libR.so to
> find the symbols in R.  As Brian points out, MAIN_
> is not a symbol it
> looks for, so something more fundamental may be
> wrong.
> 
> Usually, ctest.so not being linked against libR.so
> happens when one
> first builds R without the --enable-R-shlib
> configuration and then
> afterwards, you reconfigure and rebuild with that
> option. The package
> libraries do not get rebuilt and hence do not pick
> up the newly added
> instructions to link with libR.so.
> 
> 
> Brian's suggestion is the simplest fix - simply
> avoid loading
> the ctest library.
> 
> The longer term fix is to recompile all of the
> packages.
> The failsafe and slow way to do this is 
>    cd $R_HOME
>    make distclean
>    ./configure --enable-R-shlib
>    make
> 
> The quick shortcut is to remove the ctest.so in
> both 
>   $R_HOME/src/library/ctest/src/
> and
>   $R_HOME/library/ctest/libs
> 
> and then re-build the library.
> 
> The commands are
> 
>   rm $R_HOME/library/ctest/libs/ctest.so
>   rm $R_HOME/library/ctest/libs/ctest.so
>   rm src/ctest.so
>   cd $R_HOME/src/library/ctest
> 
> Hope this helps.
>   D.
> 
> 
> Prof Brian D Ripley wrote:
> > On Tue, 19 Jun 2001, Vahid Pazirandeh wrote:
> > 
> > > Hello all!
> > >
> > > I recently install R-1.2.3 and Omegahat SJava
> pkg
> > > (formely Java pkg) 0.62 and tried running the
> examples
> > > by issuing "scripts/RJava --example --gui=none"
> and I
> > > got the following:
> > >
> > > Error in dyn.load(x, as.logical(local),
> > > as.logical(now)) :
> > >         unable to load shared library
> > > "/usr/lib/R/library/ctest/libs/ctest.so":
> > >   ld.so.1:
> > >
>
/usr/java1.2/bin/../jre/bin/../bin/sparc/native_threads/java:
> > > fatal: relocation error: file
> > > /usr/lib/R/library/ctest/libs/ctest.so: symbol
> MAIN__:
> > > referenced symbol not found
> > > [omegahat->R]
> > > SIGSEGV   11*  segmentation violation
> > >
> > >
> > > I've been trying to figure this problem out for
> a
> > > while, but I haven't had any luck yet.  This
> occurs
> > > for any R-Java program I run.. i install it onto
> two
> > > different machines and they both yielded the
> same
> > > errors:
> > >
> > > 1) 5.8 Generic sun4u sparc SUNW,Ultra-5_10
> > > 2) 5.7 Generic_106541-12 sun4u sparc
> SUNW,Ultra-2
> > 
> > Solaris, right?
> > 
> > > Any assistance would be much appreciated.. I am
> truely
> > > a newbie!
> > 
> > Something is wrong with your R build, I think, as
> on my Solaris 2.7
> > system MAIN__ is not a symbol in ctest.so.
> > 
> > As a temporary fix, alter
> R_HOME/library/base/R/Rprofile to omit
> > 
> > .First <- function() {
> >     require("ctest", quietly=TRUE)
> > }
> > 
> > adn see if this allows you to proceed.
> > 
> > 
> > -- 
> > Brian D. Ripley,                 
> ripley at stats.ox.ac.uk
> > Professor of Applied Statistics, 
> http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865
> 272861 (self)
> > 1 South Parks Road,                     +44 1865
> 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865
> 272595
> > 
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
>
_______________________________________________________________
> 
> Duncan Temple Lang               
> duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office:
> (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:   
> (908)582-3340
> Murray Hill, NJ  07974-2070       
>          http://cm.bell-labs.com/stat/duncan


=====
< Education Center on Computational Science and Engineering >
< http://edcenter.sdsu.edu >
=====

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 20 19:10:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2001 19:10:59 +0200
Subject: [R] Error using lm(z~x+y,data)
In-Reply-To: Duncan Murdoch's message of "Wed, 20 Jun 2001 11:16:03 -0400"
References: <76d2a74bd9.74bd976d2a@student.liu.se> <j3f1jt8p98cgdsa4oj35f9rlim4eh0k5vl@4ax.com>
Message-ID: <x2lmmnnkkc.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch at stats.uwo.ca> writes:

> I don't know why one version works and the other doesn't, but I've
> noticed problems in the past when using "data" as a variable name, and
> in fact even the first version fails for me when I type it exactly as
> you did.
> 
> I suspect the strange behaviour you saw is related to the fact that
> data is a matrix rather than a data.frame, and indeed everything is
> fine if I change your code to

I got it now: The problem is that eval accept an integer as its envir
argument (as in sys.call()) so lm and friends do too. If you pass a
numeric object, like a matrix, the first element is extracted and
coerced to integer. That'll explain why the behaviour changes when a
column is multiplied by 149...

The reason the example ever worked was that x,y,z from the global env.
got picked up.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Claudio.Verzilli at lshtm.ac.uk  Wed Jun 20 20:58:39 2001
From: Claudio.Verzilli at lshtm.ac.uk (Claudio Verzilli)
Date: Wed, 20 Jun 2001 19:58:39 +0100
Subject: [R] Loading Fortran code with NAG subroutines: Solution
Message-ID: <sb310085.090@s-nst5.lshtm.ac.uk>

Create a Makevars file in the compiling directory and set PKG_LIBS=-L/path/to/naglib.so -lnag
therein. Then use dyn.load with now=F.
Thanks to Prof Ripley for his suggestion.

Regards

Claudio

>>> Prof Brian Ripley <ripley at stats.ox.ac.uk> 06/20/01 04:07pm >>>
On Wed, 20 Jun 2001, Claudio Verzilli wrote:

> Dear R-users,
>
> System specs
> R-1.2.2 under Unix Sun Solaris 2.7
> Nag Fortran library Mark 18
>
> when I try to dynload a Fortran77 code (compiled using R CMD SHLIB) which contains calls to NAG subroutines (nagsymbols) I get the following error message
>
> ld.so.1: /opt/rhome/R-1.2.2/bin/R.bin: fatal: relocation error: file /path/to/myfile.so: symbol nagsymbol_:referenced symbol not found
>
> I changed the default compilation flags in rhome/Makeconf (i.e. adding -L/path/to/nablib.so, -lnag) without success.
> Any suggestions on what might be missing?

Well, R CMD SHLIB uses R_HOME/etc/Makeconf....

Look in `Writing R Extensions' for how to do this properly, using PKG_LIBS


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/ 
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html 
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Jun 20 22:41:49 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Wed, 20 Jun 2001 15:41:49 -0500
Subject: [R] recordPlot usage: add snaps to a list.
Message-ID: <3B310A8D.317BC171@ukans.edu>

I have trouble understanding the R list object and how to add objects
and get them out.  I'm trying to collect snapshots with recordPlot and
replay them.

Got great help from everybody here yesterday on my histogram function,
works fine to make the pictures:

histomatic <- function (s1,s2,s3,var){
  if (is.numeric (s2[[var]])) {     
  par(mfrow=c(3,1));
  rz <- range(s1[[var]], s2[[var]], s3[[var]]);
  breaks <- pretty(rz,40);
  hist(s1[[var]],breaks=breaks,xlab=var,main="Baseline");  
  hist(s2[[var]], breaks=breaks,xlab=var,main="Randomized Master
Schedule");
  hist(s3[[var]], breaks=breaks,xlab=var,main="Decentralized Dynamic
Schedule");
  a<-recordPlot();
}
}

Note I add in the a<-recordPlot() to try to keep a snapshot. That value
a gets returned.  I have tried in many many ways to add that snap a onto
a list of snaps, but all have failed, making me think list does not mean
what I think it does.  A

#intitialize a list
pictureList <- list();  
#loop through variable names, take return from each histomatic call, and
append
#to pictureList.
for (var in nameList)
  if (is.numeric (RandMastMod0[[var]])) {     
  pictureList <- c(pictureList,
histomatic(NoFlagMod0,RandMastMod0,NoMastMod0,var));
}

After that, pictureList is not a null thing, 
> attributes(pictureList)
$names
  [1] "displaylist" "gpar"        "displaylist" "gpar"       
"displaylist"
  [6] "gpar"        "displaylist" "gpar"        "displaylist" "gpar"
 [11] "displaylist" "gpar"        "displaylist" "gpar"       
"displaylist"

but i can't see how to access the snapshots from replayPlot().  Adding
the images into the list flattens them and makes the class of the items
no longer equal "recordedplot".

> replayPlot(pictureList[[1]])
Error in if (class(x) != "recordedplot") stop("argument is not of class
\"recordedplot\"") :
        missing value where logical needed

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Thu Jun 21 00:01:45 2001
From: eger.m at gmx.de (Marcus Eger)
Date: Thu, 21 Jun 2001 00:01:45 +0200
Subject: [R] boundary conditions for interpSpline
Message-ID: <3B311D49.3B0650@gmx.de>

Hi everybody,

I wonder how interSpline or the other (more complicated)
spline-tools like splineDesign allow to set just simple
boundary conditions, like derivation and value.
Has anybody an idea?
Thanks

+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Thu Jun 21 00:36:40 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Wed, 20 Jun 2001 16:36:40 -0600 (MDT)
Subject: [R] memory problems in unix version
Message-ID: <Pine.GSO.4.30.0106191638280.23614-100000@goldhill.cgd.ucar.edu>

I have read the manual, but am unsure how to interpret the following
one-line error message:


Error: cannot allocate vector of size 38912 Kb


I monitor the process with "top" and the machine has plenty of
memory available when this message is generated.


I understand the unix variant of R has some command-line options for memory:

  --min-vsize=N         Set vector heap min to N bytes; `4M' = 4 MegaB
  --max-vsize=N         Set vector heap max to N bytes;
  --min-nsize=N         Set min number of cons cells to N
  --max-nsize=N         Set max number of cons cells to N

Invoked with no command-line options under Solaris 2.6,
 R (Version 1.2.3 (2001-04-26)) reports

> mem.limits()
nsize vsize
   NA    NA

I understand this to mean I am able to utilize all the memory on the machine.

The painful part of this is that I used to be able to do this same sized
problem in S-PLUS (slowly, mind you). The error message is generated as the
job exits a loop.

Any hints?

Thanks.

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jl7001 at axe.humboldt.edu  Thu Jun 21 02:03:46 2001
From: jl7001 at axe.humboldt.edu (Jack Lewis)
Date: Wed, 20 Jun 2001 17:03:46 -0700
Subject: [R] Programming position in environmental research
Message-ID: <3B31399E.EDBBA2A3@axe.humboldt.edu>

An opening has arisen for a position designing, coding, testing, and
debugging applications for reduction, analysis, and graphical display of
hydrologic research data.  The incumbent writes and maintains
instructions and documentation for programs; assists in the design and
development of the research unit's web site; and provides public access
to online data and publications. The position is located at the Redwood
Sciences Laboratory (http://www.rsl.psw.fs.fed.us) beside the Arcata
Community Forest on the Humboldt State University Campus in the town of
Arcata in north-coastal California.

Required experience: S programming, perl, Unix shell scripting
Desired experience: C or Fortran, website design and development, HTML
and Javascript

Internal Job Number: PSW-Term-378-01
Job title: Computer Specialist GS-05/07/09
Employer: U.S. Forest Service, Pacific Southwest Research Station
Starting salary: $30,287 to $43,230 depending on experience
Application deadline:  July 9, 2001.

See complete vacancy announcement at
http://www.usajobs.opm.gov/wfjic/jobs/IU8804.htm
for application instructions and further information.  If you have
further questions about the job after reading the vacancy announcement,
contact Jack Lewis at jl7001 at humboldt.edu.  Note: the vacancy
announcement lists the job as GS-05/07.  That should read GS-05/07/09.
In other words you will be hired at the highest level (up to GS-09) for
which you are qualified.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Jun 21 03:08:20 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 20 Jun 2001 21:08:20 -0400
Subject: [R] memory problems in unix version
References: <Pine.GSO.4.30.0106191638280.23614-100000@goldhill.cgd.ucar.edu>
Message-ID: <3B314903.302C5CA4@bank-banque-canada.ca>

>Error: cannot allocate vector of size 38912 Kb

Check and increase the datasize and stacksize limits imposed on your
processes  before you start R, using limit or ulimit depending on your
shell.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bpazbe at ceibo.entelnet.bo  Thu Jun 21 03:39:51 2001
From: bpazbe at ceibo.entelnet.bo (Bernardo Paz Betancourt)
Date: Wed, 20 Jun 2001 21:39:51 -0400
Subject: [R] (no subject)
Message-ID: <3B315067.5FCD1A12@ceibo.entelnet.bo>

Good morning,
Can any one tellme how can I Normalize a matrix using R on Linux?
thankyou. Bernardo Paz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dick at b6ori1.bauv.unibw-muenchen.de  Thu Jun 21 10:50:06 2001
From: dick at b6ori1.bauv.unibw-muenchen.de (Thomas Dick)
Date: Thu, 21 Jun 2001 08:50:06 +0000
Subject: [R] FORTRAN charcter strings
Message-ID: <1010621085007.ZM40608@B6ori1>

Hello,

I try to use a Windows DLL with FORTRAN routines in R. All routines work fine,
except those which exchange a character variable with R.

The documentation "Writing R Extensions" says it's compiler dependent whether
character string exchange works with FORTRAN routines or not.

Why doesn't it work with every compiler?
Does anyone know a FORTRAN90 compiler for windows that works?

Thank you,
Thomas Dick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Jun 21 10:16:30 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 21 Jun 2001 10:16:30 +0200 (MET DST)
Subject: [R] Error using lm(z~x+y,data)
Message-ID: <200106210816.KAA08164@luc.ac.be>

> 
> Duncan Murdoch <murdoch at stats.uwo.ca> writes:
> 
> > I don't know why one version works and the other doesn't, but I've
> > noticed problems in the past when using "data" as a variable name, and
> > in fact even the first version fails for me when I type it exactly as
> > you did.
> > 
> > I suspect the strange behaviour you saw is related to the fact that
> > data is a matrix rather than a data.frame, and indeed everything is
> > fine if I change your code to
> 
> I got it now: The problem is that eval accept an integer as its envir
> argument (as in sys.call()) so lm and friends do too. If you pass a
> numeric object, like a matrix, the first element is extracted and
> coerced to integer. That'll explain why the behaviour changes when a
> column is multiplied by 149...
> 
> The reason the example ever worked was that x,y,z from the global env.
> got picked up.
> -- 

This is a typical example of one of the reasons why I do not trust
lm/glm. If the data argument is used, the function should look nowhere
else but in the data.frame supplied (as all my functions do with my
data objects).  As it stands, one is never sure what data are actually
being analyzed. I brought this up at the first Vienna meeting, and
everyone disagreed with me.
  Jim

>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 21 10:25:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 21 Jun 2001 09:25:51 +0100 (BST)
Subject: [R] FORTRAN charcter strings
In-Reply-To: <1010621085007.ZM40608@B6ori1>
Message-ID: <Pine.GSO.4.31.0106210922090.11151-100000@auk.stats>

On Thu, 21 Jun 2001, Thomas Dick wrote:

> Hello,
>
> I try to use a Windows DLL with FORTRAN routines in R. All routines work fine,
> except those which exchange a character variable with R.
>
> The documentation "Writing R Extensions" says it's compiler dependent whether
> character string exchange works with FORTRAN routines or not.
>
> Why doesn't it work with every compiler?

Why should it?  Why should the designer of a Fortran compiler anticipate
that Thomas Dick would want to call subprograms from a C routine and pass
in C character strings, and then spend time writing code to meet his
wishes?

> Does anyone know a FORTRAN90 compiler for windows that works?

No.  Not even the matching g77 works.  *But* translation by f2c will work.

Otherwise write a wrapper in Fortran that avoids having to pass character
variables around.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Jun 21 14:07:06 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 21 Jun 2001 08:07:06 -0400
Subject: [R] FORTRAN charcter strings
In-Reply-To: <Pine.GSO.4.31.0106210922090.11151-100000@auk.stats>
References: <1010621085007.ZM40608@B6ori1> <Pine.GSO.4.31.0106210922090.11151-100000@auk.stats>
Message-ID: <u7o3jtclioq2e0hmm66m3n7i4d39fkumfd@4ax.com>

On Thu, 21 Jun 2001 09:25:51 +0100 (BST), Prof Brian D Ripley
<ripley at stats.ox.ac.uk> wrote:

>Otherwise write a wrapper in Fortran that avoids having to pass character
>variables around.

More specifically:  Thomas needs a routine to translate R character
variables into Fortran character strings, and a routine to translate
them back.  R isn't doing anything very strange, so the first of these
is probably provided by a library routine for your compiler.  Look in
the manual under "Interfacing to C" or something similar.

To translate strings back, you need to be sure to allocate the memory
in the R memory space, using the R_alloc routine from R.dll.

I doubt if this will help him much, but maybe it'll help someone else:
The translations you are talking about go like this in Delphi:

1.  R character variables are arrays of pchar in Delphi.  Delphi knows
how to convert pchars to Delphi strings automatically.

2.  The routine Rpchar translates Delphi strings to R character
variables:

function R_alloc(n,size:integer):pchar; cdecl; external 'R.dll';

function Rpchar(s:string):pchar;
begin
  result := R_alloc(1,length(s)+1);
  strpcopy(result,s);
end;

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.fullwood at lancaster.ac.uk  Thu Jun 21 16:28:07 2001
From: c.fullwood at lancaster.ac.uk (Catherine Fullwood)
Date: Thu, 21 Jun 2001 15:28:07 +0100 (BST)
Subject: [R] Regression trees
Message-ID: <Pine.LNX.4.30.0106211524530.30097-100000@gentoo.cluster.maths.local>

Hi,
	I wonder whether anyone can tell me whether there are any
functions for classification and regression trees in R.  I am trying to
produce a regression tree based on a formula with a continuous response
and 3 covariates, including some factors.

Thanks for your time
Cath Fullwood



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 21 16:44:20 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 21 Jun 2001 07:44:20 -0700 (PDT)
Subject: [R] Regression trees
In-Reply-To: <Pine.LNX.4.30.0106211524530.30097-100000@gentoo.cluster.maths.local>
Message-ID: <Pine.A41.4.33.0106210744020.125192-100000@homer09.u.washington.edu>

On Thu, 21 Jun 2001, Catherine Fullwood wrote:

> Hi,
> 	I wonder whether anyone can tell me whether there are any
> functions for classification and regression trees in R.  I am trying to
> produce a regression tree based on a formula with a continuous response
> and 3 covariates, including some factors.
>

The tree and rpart packages.

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Haferman at yahoo.com  Thu Jun 21 15:04:16 2001
From: Jeff_Haferman at yahoo.com (Jeff Haferman)
Date: Thu, 21 Jun 2001 09:04:16 -0400 (EDT)
Subject: [R] timeseries: R/S (rescaled range) analysis
Message-ID: <200106211604.f5LG4HQ07820@server2.digital-web.net>


Has anyone written utilities to do rescaled range analysis in R?

Jeff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurans at roazhon.inra.fr  Thu Jun 21 18:21:47 2001
From: laurans at roazhon.inra.fr (laurans@roazhon)
Date: Thu, 21 Jun 2001 18:21:47 +0200
Subject: [R] GLM problem
Message-ID: <3B321F1B.A3DCD151@roazhon.inra.fr>

When I add the following instruction : make.link(log) I have an error
that I don't understand.

model<-glm(spa~an, family=gaussian, make.link(log))
error in as.vector(x, "double"): cannot coerce to vector)

If someone can help,  thanks

Martial

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 21 18:47:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Jun 2001 17:47:14 +0100 (BST)
Subject: [R] GLM problem
In-Reply-To: <3B321F1B.A3DCD151@roazhon.inra.fr>
Message-ID: <Pine.LNX.4.31.0106211742110.1161-100000@gannet.stats>

On Thu, 21 Jun 2001, laurans at roazhon wrote:

> When I add the following instruction : make.link(log) I have an error
> that I don't understand.
>
> model<-glm(spa~an, family=gaussian, make.link(log))
> error in as.vector(x, "double"): cannot coerce to vector)
>
> If someone can help,  thanks

Something certainly could.  It's the help page which says

Arguments:

    link: character or numeric; one of `"logit"', `"probit"',
          `"cloglog"', `"identity"', `"log"',  `"sqrt"',  `"1/mu^2"',
          `"inverse"', or number, say lambda resulting in power link mu
          ^ lambda.

log is a function: I think you meant make.link("log").  However, that
is not the only error: I believe you meant

model <- glm(spa ~ an, family=gaussian("log"))

The fourth argument of glm is `data'.  (In this case you will get away
with gaussian(log).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 21 18:50:12 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 21 Jun 2001 09:50:12 -0700 (PDT)
Subject: [R] GLM problem
In-Reply-To: <3B321F1B.A3DCD151@roazhon.inra.fr>
Message-ID: <Pine.A41.4.33.0106210945380.125192-100000@homer09.u.washington.edu>

On Thu, 21 Jun 2001, laurans at roazhon wrote:

> When I add the following instruction : make.link(log) I have an error
> that I don't understand.
>
> model<-glm(spa~an, family=gaussian, make.link(log))
> error in as.vector(x, "double"): cannot coerce to vector)
>

You are specifying the data= argument as make.link(log). Not surprisingly
this makes R unhappy.

I think you want
   model<-glm(spa~an, family=gaussian(log))


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Thu Jun 21 19:05:03 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Thu, 21 Jun 2001 10:05:03 -0700 (PDT)
Subject: [R] R training courses in Alexandria VA in Aug 2001
Message-ID: <20010621170503.70663.qmail@web9304.mail.yahoo.com>

Help:

We received an email notice about an "R" programming
course being offered in Alexandria, VA in August (I
think the 1st thru the 3rd) and cannot find it.  Since
this is the only place we "publicly" posted interest
about R, we hope that someone can send me the info or
a contact to sign up.  

We are interested in attending but cannot for the life
of us find the source...websearches are not very
productive on this one.

Thanks for your help in advance.  

lookout

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ntakebay at bio.indiana.edu  Thu Jun 21 19:24:05 2001
From: ntakebay at bio.indiana.edu (Naoki Takebayashi)
Date: Thu, 21 Jun 2001 12:24:05 -0500 (EST)
Subject: [R] problem with generalized least square, and lm.gls() bug
Message-ID: <Pine.SOL.4.10.10106211218510.25087-100000@sunflower.bio.indiana.edu>

I'm very confused about generalized least square method (GLS), so
please help me!  I'm trying to use GLS with R to estimate an intercept and
slope; vector, b = (intercept, slope).

My understanding of GLS is like this:
y = X %*% b + e, where Var(e) is symmetric dispersion matrix
(covariance-variance matrix); V (which is theoretically known in my
case).  We can decompose V into t(R) %*% R, where R is an upper
triangular, square-root matrix of V, and t(R) is tranpose of R.  Then
if we call T = Inverse(t(R)), we can multply both side of equation to
make the problem as a ordinary least square.

T %*% y = T %*% X %*% b + T * e

To find T, "solve(t(chol(V))" should do it.  However, when I looked at
lm.gls() from MASS library, it uses other method of obtaining T.  From
my understanding, when I give V (my dispersion matrix) to the argument
"W=" of lm.gls, I should also give "inverse = TRUE" (can anyone
confirm that I should be using this option?).  Then it uses the
following method to obtain T.

eW <- eigen(V, TRUE)
T <- diag(eW$values ^ (-0.5))  %*% t(eW$vector)

I was checking if these two methods give same answer with a small
matrix; so I tried this:

> tempSqRt <- matrix(c(7,0,0, 19, 76,  0, 31, 94, 51), c(3,3))
> temp <- t(tempSqRt) %*% tempSqRt  # this is a symmetric dispersion
matrix
> temp.e <- eigen(temp, TRUE)
> temp.T <- diag(temp.e$values ^ (-0.5)) %*% t(temp.e$vector)
> temp.T
             [,1]          [,2]         [,3]
[1,] 0.0001090669  0.0042107823  0.006247486
[2,] 0.0004108533 -0.0272660081  0.018370016
[3,] 0.1487442294  0.0003382315 -0.002824703

> solve(t(chol(temp)))
            [,1]          [,2]          [,3]
[1,]  0.14285714 -5.569319e-18  3.101497e-17
[2,] -0.03571429  1.315789e-02 -6.217046e-18
[3,] -0.02100840 -2.425181e-02  1.960784e-02

So these two methods do NOT give the same answer.  I guess I'm
missunderstanding something.  Could someone point out what's wrong?

The reason I started to compare the two methods is that when I
estimate the slope and intercept with lm.gls(), the estimate was way
off.  A linear regression with OLS gives that slope of 26 and
intercept of 5, and the regression line on scatter plot fits well, but
with lm.gls(), the estimate is slope of -5 and intercept of 0.89.  So
the regression line doesn't even touch the cloud of data points in the
scatter plot.  I was giving dispersion matrix (var-cov matrix) for
"W", so I used "inverse=T".  But when I use "inverse=F" (which should
be wrong) using the same dispersion matrix without inversing, I get
more decent estimates of slope and intercept.  This is why I started
to compare the two methods of obtaining T.

By the way, I got MASS library from VR_6.2-5.tar.gz, and lm.gls() has
a bug.  In the 2nd half of the code, there is

    fit <- lm.fit(A %*% X, A %*% Y, method, ...)

It needs to be changed to (the 3rd arg of lm.fit isn't method):

    fit <- lm.fit(A %*% X, A %*% Y, method=method, ...)

Also I had to change
    class(fit) <- c("lm.gls", class(fit))
to
    class(fit) <- c("lm", class(fit))

Without this change I couldn't use summary() (I still can't use
anova() on the lm.gls() output).  But I'm not sure if this is a correct
way.

Thank you,
Naoki

Naoki Takebayashi     <ntakebay at bio.indiana.edu>
--- Dept. of Biology, Box 90338, Duke University, Durham, NC 27708-0338

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 21 19:30:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2001 19:30:04 +0200
Subject: [R] R training courses in Alexandria VA in Aug 2001
In-Reply-To: Patrick Ball's message of "Thu, 21 Jun 2001 10:05:03 -0700 (PDT)"
References: <20010621170503.70663.qmail@web9304.mail.yahoo.com>
Message-ID: <x266dp212b.fsf@blueberry.kubism.ku.dk>

Patrick Ball <lookout_20005 at yahoo.com> writes:

> Help:
> 
> We received an email notice about an "R" programming
> course being offered in Alexandria, VA in August (I
> think the 1st thru the 3rd) and cannot find it.  Since
> this is the only place we "publicly" posted interest
> about R, we hope that someone can send me the info or
> a contact to sign up.  
> 
> We are interested in attending but cannot for the life
> of us find the source...websearches are not very
> productive on this one.
> 
> Thanks for your help in advance.  

The mailing list archives at

http://www.ci.tuwien.ac.at/R-project/nocvs/mail/r-help/2001/subject.html

 have these, although they would seem not to be in VA:

    [R] Course: R Fundamentals and Programming Techinques, Washington
DC - August 1-3, 2001 Roger Ngouenet (Wed Jun 06 2001 - 20:48:10 CEST)

    [R] Course: R Fundamentals and Programming Techniques by Prof.
Doug Bates, July 18-20, 2001. Elvis Miller (Wed May 02 2001 - 19:24:31
CEST)

    [R] Course: R Fundamentals and Programming Techniques, San
Francisco, 16-18 July 2001. Elvis Miller (Tue May 15 2001 - 18:47:45
CEST)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christoph.Helwig at gmx.net  Thu Jun 21 19:47:52 2001
From: Christoph.Helwig at gmx.net (Christoph Helwig)
Date: Thu, 21 Jun 2001 19:47:52 +0200
Subject: [R] timeseries: R/S (rescaled range) analysis
References: <200106211604.f5LG4HQ07820@server2.digital-web.net>
Message-ID: <3B323348.74045D98@gmx.net>

Jeff Haferman wrote:
> 
> Has anyone written utilities to do rescaled range analysis in R?

What do you mean by R/S analysis? Testing for long memory, estimating H?
If you want to do tests, have a look at the functions below. They are
quite `raw' but were just written for my personal usage. So don?t be to
critical.

Hope that helps.

Christoph

## rs.test calculates the statistic of the modified R/S test
##
## x: time series
## q: number of lags included for calculation of covariances
##
## significance level: 0.05,     0.1
## critical value:     1.747,    1.62
##
## References: Lo (1991), Long-term Memory in Stock Market Prices,
Econometrica 59, 1279--1313
##
rs.test <- function(x, q, alpha)
{	
	xbar <- mean(x)
	N <- length(x)
	r <- max(cumsum(x-xbar)) - min(cumsum(x-xbar))
	kovarianzen <- NULL
	for (i in 1:q)
	{	
		kovarianzen <- c(kovarianzen,
sum((x[1:(N-i)]-xbar)*(x[(1+i):N]-xbar)))
	}
	if (q > 0)
		s <- sum((x-xbar)^2)/N + sum((1-(1:q)/(q+1))*kovarianzen)*2/N
	else
		s <- sum((x-xbar)^2)/N
	rs <- r/(sqrt(s)*sqrt(N))
	method <- "R/S Test for Long Memory"
	names(rs) <- "R/S Statistic"
	names(q) <- "Bandwidth q"
	structure(list(statistic = rs, parameter = q, method = method,
data.name=deparse(substitute(x))), class="htest")
}

## vs.test calculates the statistic of the modified V/S test
##
## x: time series
## q: number of lags included for calculation of covariances
## 
## significance level: 0.01,   0.05,     0.1
## critical value:     0.2685, 0.1869,   0.1518
##
## References: Giraitis, Kokoszka und Leipus (2000), Rescaled variance
and related tests for long memory in volatility and levels
##
vs.test <- function(x, q, alpha)
{	
	xbar <- mean(x)
	N <- length(x)
	v <- sum((cumsum(x-xbar))^2) - (sum(cumsum(x-xbar)))^2/N
	kovarianzen <- NULL
	for (i in 1:q)
	{	
		kovarianzen <- c(kovarianzen,
sum((x[1:(N-i)]-xbar)*(x[(1+i):N]-xbar)))
	}
	if (q > 0)
		s <- sum((x-xbar)^2)/N + sum((1-(1:q)/(q+1))*kovarianzen)*2/N
	else
		s <- sum((x-xbar)^2)/N
	vs <- v/(s*N^2)
	method <- "V/S Test for Long Memory"
	names(vs) <- "V/S Statistic"
	names(q) <- "Bandwidth q"
	structure(list(statistic = vs, parameter = q, method = method,
data.name=deparse(substitute(x))), class="htest")
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Christoph Helwig * Meitnerweg 7 * 44227 Dortmund * +49-(0)231-751708

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 21 20:06:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2001 20:06:22 +0200
Subject: [R] problem with generalized least square, and lm.gls() bug
In-Reply-To: Naoki Takebayashi's message of "Thu, 21 Jun 2001 12:24:05 -0500 (EST)"
References: <Pine.SOL.4.10.10106211218510.25087-100000@sunflower.bio.indiana.edu>
Message-ID: <x2zob1zp0h.fsf@blueberry.kubism.ku.dk>

Naoki Takebayashi <ntakebay at bio.indiana.edu> writes:

> I'm very confused about generalized least square method (GLS), so
> please help me!  I'm trying to use GLS with R to estimate an intercept and
> slope; vector, b = (intercept, slope).
> 
> My understanding of GLS is like this:
> y = X %*% b + e, where Var(e) is symmetric dispersion matrix
> (covariance-variance matrix); V (which is theoretically known in my
> case).  We can decompose V into t(R) %*% R, where R is an upper
> triangular, square-root matrix of V, and t(R) is tranpose of R.  Then
> if we call T = Inverse(t(R)), we can multply both side of equation to
> make the problem as a ordinary least square.
> 
> T %*% y = T %*% X %*% b + T * e
> 
> To find T, "solve(t(chol(V))" should do it.  However, when I looked at
> lm.gls() from MASS library, it uses other method of obtaining T.  From
> my understanding, when I give V (my dispersion matrix) to the argument
> "W=" of lm.gls, I should also give "inverse = TRUE" (can anyone
> confirm that I should be using this option?).  Then it uses the
> following method to obtain T.
> 
> eW <- eigen(V, TRUE)
> T <- diag(eW$values ^ (-0.5))  %*% t(eW$vector)
> 
> I was checking if these two methods give same answer with a small
> matrix; so I tried this:
> 
> > tempSqRt <- matrix(c(7,0,0, 19, 76,  0, 31, 94, 51), c(3,3))
> > temp <- t(tempSqRt) %*% tempSqRt  # this is a symmetric dispersion
> matrix
> > temp.e <- eigen(temp, TRUE)
> > temp.T <- diag(temp.e$values ^ (-0.5)) %*% t(temp.e$vector)
> > temp.T
>              [,1]          [,2]         [,3]
> [1,] 0.0001090669  0.0042107823  0.006247486
> [2,] 0.0004108533 -0.0272660081  0.018370016
> [3,] 0.1487442294  0.0003382315 -0.002824703
> 
> > solve(t(chol(temp)))
>             [,1]          [,2]          [,3]
> [1,]  0.14285714 -5.569319e-18  3.101497e-17
> [2,] -0.03571429  1.315789e-02 -6.217046e-18
> [3,] -0.02100840 -2.425181e-02  1.960784e-02
> 
> So these two methods do NOT give the same answer.  I guess I'm
> missunderstanding something.  Could someone point out what's wrong?

The T matrix is not uniquely defined. Any matrix for which
crossprod(T) = solve(temp) will do. It doesn't have to be the Choleski
triangular factor. (And since R/S aren't good at using the upper-lower
diagonal matrix properties, any speed advantage of a Choleski-based
method is lost anyway.)

Check:

> solve(temp)
              [,1]          [,2]          [,3]
[1,]  2.212503e-02  3.956691e-05 -0.0004119295
[2,]  3.956691e-05  7.612803e-04 -0.0004755256
[3,] -4.119295e-04 -4.755256e-04  0.0003844675
> crossprod(temp.T)
              [,1]          [,2]          [,3]
[1,]  2.212503e-02  3.956691e-05 -0.0004119295
[2,]  3.956691e-05  7.612803e-04 -0.0004755256
[3,] -4.119295e-04 -4.755256e-04  0.0003844675
> temp.C <- solve(t(chol(temp)))
> crossprod(temp.C)
              [,1]          [,2]          [,3]
[1,]  2.212503e-02  3.956691e-05 -0.0004119295
[2,]  3.956691e-05  7.612803e-04 -0.0004755256
[3,] -4.119295e-04 -4.755256e-04  0.0003844675


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Haferman at yahoo.com  Thu Jun 21 17:28:43 2001
From: Jeff_Haferman at yahoo.com (Jeff Haferman)
Date: Thu, 21 Jun 2001 11:28:43 -0400 (EDT)
Subject: [R] timeseries: R/S (rescaled range) analysis
In-Reply-To: <3B323348.74045D98@gmx.net>
References: <200106211604.f5LG4HQ07820@server2.digital-web.net> <3B323348.74045D98@gmx.net>
Message-ID: <200106211828.f5LISiG28716@server2.digital-web.net>

Christoph,
Yes, thank you very much, this is exactly what I was
looking for.  Thanks also for the added bonus with the V/S test
and reference, this is the first I've seen of that.

[and for yet another method, see
http://nsr.bioeng.washington.edu/Software/NSR_SW_fractal.html
especially the "disp" link for "dispersion analysis]

Jeff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Jun 22 00:35:57 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 21 Jun 2001 17:35:57 -0500 (CDT)
Subject: [R] Durbin Watson stat for ser. corr
Message-ID: <200106212235.RAA25548@uhddx01.dt.uh.edu>

Dear R People:

Do any of the linear model or regression function calculate the
Durbin-Watson test statistic for serial correlation, please?

I found the hat matrix, studentized residuals, and so on,
but no D-W.

Thanks so much!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Jun 22 05:09:20 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 21 Jun 2001 22:09:20 -0500
Subject: [R] Durbin Watson stat for ser. corr
In-Reply-To: <200106212235.RAA25548@uhddx01.dt.uh.edu>
References: <200106212235.RAA25548@uhddx01.dt.uh.edu>
Message-ID: <15154.46816.869533.39248@sonny.eddelbuettel.com>


  "Erin" == Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:
  Erin>  Dear R People: Do any of the linear model or regression function
  Erin> calculate the Durbin-Watson test statistic for serial correlation,
  Erin> please?

dwtest in package lmtest

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Jun 22 05:28:28 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 22 Jun 2001 15:28:28 +1200
Subject: [R] access other directories/ setwd
Message-ID: <200106220328.f5M3SaQ44529@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
Version 1.2.3  (2001-04-26) on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
This message is a follow up to a previous enquiry where Patrick Connolly 
and Brian Ripley both provided helpful suggestions.

I want to be able to access objects in another subdirectory than that 
where I start R. The startup directory (\\biomass spectrum) currently has 
no objects in it. The other directory (\\opc) has lots of objects. I need to 
see these, so I tried attaching the .Rdata in \\opc\\R-src. Patrick 
suggested that it was called _RData in windows, but it does seem to be 
called .RData. 

> getwd()
[1] "h:\\DATA\\nov99_TAN9913\\biomass spectrum"
> objects()
character(0)
> setwd("h:\\DATA\\nov99_TAN9913\\opc")
NULL
> getwd()
[1] "h:\\DATA\\nov99_TAN9913\\opc"
> objects()
character(0)
> attach("h:\\DATA\\nov99_TAN9913\\opc\\R-src\\.RData")
> objects()
character(0)
> 

You can see from this that i am not doing the correct thing to access 
these objects. Can you provide further guidance?

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Fri Jun 22 06:43:27 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Fri, 22 Jun 2001 14:43:27 +1000
Subject: [R] Unable to configure for X
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA91361@indpllymail.dnr.qld.gov.au>

I have a laptop with linux mandrake release 7.2 on it, and tried to install
R-1.2.3 from source.  The configure script runs ok except it seems not to
detect the right X headers and libraries, the configure script reports:
checking for X (cached) .... no

I tried specifically running configure with the options --with-x and
specifiying what appear to be correct paths with --x-includes and
--x-libraries but with no luck.  I even had a look at the configure script
but it quickly came too confusing for me.  Perhaps it is the version of
XFree I have ?  These are the XFree86 packages installed:

XFree86-libs-4.0.1-28mdk
XFree86-4.0.1-28mdk
XFree86-devel-4.0.1-28mdk

I would welcome any help on getting the x support working, it is sort of
hard to use without it.

Robert


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Fri Jun 22 06:47:47 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 22 Jun 2001 16:47:47 +1200 (NZST)
Subject: [R] Easting and northing cf. Latitude and longitude
Message-ID: <200106220447.f5M4lmp20251@biomat1.marc.hort.cri.nz>

I think I've seen this discussed here before but it doesn't seem to
appear in the archive.

I am using the map package which so far has been fine for my purposes.
Some people I work with have GPS type data that defines positions as
number of metres not degrees.  I don't know how much the system
varies, but in New Zealand, they are referred to as Eastings and
Northings.

What I would like to know is how complicated it is to convert between
such data and the normal latitude and longitude that the map package
uses.  I assume various datum points are used for different parts of
the world, and knowing the appropriate one and the definition of a
"northing" and an "easting", the conversion would be relatively
straight forward.

TIA




-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 08:28:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Jun 2001 07:28:04 +0100 (BST)
Subject: [R] access other directories/ setwd
In-Reply-To: <200106220328.f5M3SaQ44529@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0106220723230.15487-100000@auk.stats>

On Fri, 22 Jun 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> Version 1.2.3  (2001-04-26) on NT
> ESS v. 5.1.18 using emacs ver. 20.4
>
> ----------------------------------
> This message is a follow up to a previous enquiry where Patrick Connolly
> and Brian Ripley both provided helpful suggestions.
>
> I want to be able to access objects in another subdirectory than that
> where I start R. The startup directory (\\biomass spectrum) currently has
> no objects in it. The other directory (\\opc) has lots of objects. I need to
> see these, so I tried attaching the .Rdata in \\opc\\R-src. Patrick
> suggested that it was called _RData in windows, but it does seem to be
> called .RData.

It is indeed .RData (although Windows will match .Rdata too).

> > getwd()
> [1] "h:\\DATA\\nov99_TAN9913\\biomass spectrum"
> > objects()
> character(0)
> > setwd("h:\\DATA\\nov99_TAN9913\\opc")
> NULL
> > getwd()
> [1] "h:\\DATA\\nov99_TAN9913\\opc"
> > objects()
> character(0)
> > attach("h:\\DATA\\nov99_TAN9913\\opc\\R-src\\.RData")
> > objects()
> character(0)
> >

You need to either load() the objects, or to attach the .RData file.
In the latter case the objects are available, but not in the user's
workspace.  So (without changing the working directory)

attach("h:\\DATA\\nov99_TAN9913\\opc\\R-src\\.RData")
ls(2)

should show you the objects, and they are in the search path as

search()

will show.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 08:30:32 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Jun 2001 07:30:32 +0100 (BST)
Subject: [R] Durbin Watson stat for ser. corr
In-Reply-To: <200106212235.RAA25548@uhddx01.dt.uh.edu>
Message-ID: <Pine.GSO.4.31.0106220729290.15487-100000@auk.stats>

On Thu, 21 Jun 2001, Erin Hodgess wrote:

> Dear R People:
>
> Do any of the linear model or regression function calculate the
> Durbin-Watson test statistic for serial correlation, please?
>
> I found the hat matrix, studentized residuals, and so on,
> but no D-W.
>
> Thanks so much!

Package CAR (in Devel on CRAN) by John Fox has this.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 22 09:59:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 2001 09:59:53 +0200
Subject: [R] Unable to configure for X
In-Reply-To: Robert.Denham@dnr.qld.gov.au's message of "Fri, 22 Jun 2001 14:43:27 +1000"
References: <CB3BE9CAB8C8D411AAF800805F65125AA91361@indpllymail.dnr.qld.gov.au>
Message-ID: <x24rt96j2e.fsf@blueberry.kubism.ku.dk>

Robert.Denham at dnr.qld.gov.au writes:

> I have a laptop with linux mandrake release 7.2 on it, and tried to install
> R-1.2.3 from source.  The configure script runs ok except it seems not to
> detect the right X headers and libraries, the configure script reports:
> checking for X (cached) .... no
                 !!!!!!!!

First, remove config.cache. Try again and look in config.log if it
still doesn't work. The log should contain the exact command that
failed and the error message that caused configure to believe that X
is absent.

(You might also want to wait for 1.3.0 which if all goes well will be
released in a matter of hours from now...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Fri Jun 22 09:58:37 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Fri, 22 Jun 2001 09:58:37 +0200
Subject: [R] RODBC
Message-ID: <3.0.6.32.20010622095837.00981920@mail.wsl.ch>

Hi,

I have tried to install.packages("RODBC"), but it balks:

Installing source package `RODBC' ...
creating cache ./config.cache
checking for library containing SQLTables... no
configure: error: no ODBC driver manager found
ERROR: Configuration failed for package `RODBC'


What am I missing?  
What and where should "SQLTables" be? In another package? 
What should I tell my administrators to make an ODBC driver manager
available to me?

--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Fri Jun 22 11:07:14 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Fri, 22 Jun 2001 10:07:14 +0100 (BST)
Subject: [R] Easting and northing cf. Latitude and longitude
In-Reply-To: <200106220447.f5M4lmp20251@biomat1.marc.hort.cri.nz>
Message-ID: <XFMail.010622100714.Ted.Harding@nessie.mcc.ac.uk>

On 22-Jun-01 Patrick Connolly wrote:
> I think I've seen this discussed here before but it doesn't seem to
> appear in the archive.
> 
> I am using the map package which so far has been fine for my purposes.
> Some people I work with have GPS type data that defines positions as
> number of metres not degrees.  I don't know how much the system
> varies, but in New Zealand, they are referred to as Eastings and
> Northings.
> 
> What I would like to know is how complicated it is to convert between
> such data and the normal latitude and longitude that the map package
> uses.  I assume various datum points are used for different parts of
> the world, and knowing the appropriate one and the definition of a
> "northing" and an "easting", the conversion would be relatively
> straight forward.

Errr, sort of ... , though to some extent this depends on the
accuracy you seek.

I implemented such a conversion for Lat-Long/Eastings-Northings
years ago, for the UK Ordnance Survey Grid (which uses E & N),
using the method & formulae published by the OS in a little
booklet (program written in C -- nasty-looking piece of work, since
it is basically a transcription of their formulae). I can send you
the C code for this, as an example, if you wish.

For such a method, you will, strictly speaking, need to know,
for your own national mapping agency:

-- the major and minor semi-axes for the reference ellipsoid
-- the Long. & Lat., and E and N, of the "True Origin"
-- the scale factor on the "central meridian"
-- the map projection they use to generate plane maps
   from Lat & Long data, i.e. the "National Projection"

(the reference ellipsoid may also be called the "map datum").
Nowadays, there is also a complication in that "The Meridian"
is no longer what it used to be, being now defined by satellite
data (and allegedly superior through being immune to continental
drift and similar sabotage of reference points rigidly attached
to dry land). So, in fact, there is a choice of meridians, too ...

There is a further complication in that the GPS system actually
used to generate the data you get, may have been set up to use
some other reference system; so you need to find out what this
was. It may then turn out that you do not have access to the
formulae defining the relationship between their Lat & Long
and your E & N, unless you can find out the relationship
netween their Lat & Long and your National Lat & Long.

The National Projection ( [Lat,Long]->[E,N] ) is defined by
a series of formulae which depend on your Nation; in this
direction it is a one-pass operation. The inversion of it
( [E,N]->[Lat,Long] ) involves an iterative solution. You
should be able to find out from your national mapping agency
how their projection is defined.

Good luck!
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 22-Jun-01                                       Time: 10:07:14
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Jun 22 12:05:50 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 22 Jun 2001 12:05:50 +0200
Subject: [R] RODBC
In-Reply-To: <3.0.6.32.20010622095837.00981920@mail.wsl.ch>
References: <3.0.6.32.20010622095837.00981920@mail.wsl.ch>
Message-ID: <15155.6270.748819.300778@mithrandir.hornik.net>

>>>>> Christian Hoffmann writes:

> Hi,
> I have tried to install.packages("RODBC"), but it balks:

> Installing source package `RODBC' ...
> creating cache ./config.cache
> checking for library containing SQLTables... no
> configure: error: no ODBC driver manager found
> ERROR: Configuration failed for package `RODBC'


> What am I missing?  
> What and where should "SQLTables" be? In another package? 
> What should I tell my administrators to make an ODBC driver manager
> available to me?

The configure script is looking for symbol SQLTables in one of the
following libs:

	odbc odbc32 iodbc

E.g. on Debian you can install package libiodbc2-dev.

See also file README in the RODBC sources.

-kh
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Fri Jun 22 12:21:21 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Fri, 22 Jun 2001 12:21:21 +0200
Subject: [R] RODBC
In-Reply-To: <3.0.6.32.20010622095837.00981920@mail.wsl.ch>
References: <3.0.6.32.20010622095837.00981920@mail.wsl.ch>
Message-ID: <3B3123CD00018791@mail.epost.de> (added by postmaster@mail.epost.de)

On Freitag, 22. Juni 2001 09:58 wrote Christian Hoffmann:
> configure: error: no ODBC driver manager found
> ERROR: Configuration failed for package `RODBC'
>
> What am I missing?
maybe you don't have unixODBC on your machine. you can download it from:
www.unixodbc.org

or look in your distribution (as long as you use linux or *bsd)

bye
till
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 12:21:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Jun 2001 11:21:46 +0100 (BST)
Subject: [R] RODBC
In-Reply-To: <15155.6270.748819.300778@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.31.0106221118180.6273-100000@gannet.stats>

On Fri, 22 Jun 2001, Kurt Hornik wrote:

> >>>>> Christian Hoffmann writes:
>
> > Hi,
> > I have tried to install.packages("RODBC"), but it balks:
>
> > Installing source package `RODBC' ...
> > creating cache ./config.cache
> > checking for library containing SQLTables... no
> > configure: error: no ODBC driver manager found
> > ERROR: Configuration failed for package `RODBC'
>
>
> > What am I missing?
> > What and where should "SQLTables" be? In another package?
> > What should I tell my administrators to make an ODBC driver manager
> > available to me?
>
> The configure script is looking for symbol SQLTables in one of the
> following libs:
>
> 	odbc odbc32 iodbc
>
> E.g. on Debian you can install package libiodbc2-dev.
>
> See also file README in the RODBC sources.

If you have a choice, use unixODBC as suggested there, as it is more
powerful and better-supported than iodbc.

The address in the README is I think old:  www.unixODBC.org is current.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jun 22 14:15:20 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Jun 2001 14:15:20 +0200 (MET DST)
Subject: [R] *.R files for user libraries
In-Reply-To: <14223.5153.483804.657352@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.OSF.3.96.1010622135946.13140B-100000@ija.csic.es>


Hi!

The Writing R Extensions document (R-exts.pdf) states that,
for creating an R library,

""
The `R' subdirectory contains R code files. The code files to be installed
must start with
a (lower or upper case) letter and have one of the extensions `.R', `.S',
`.q', `.r', or `.s'.
""

Does this mean that each function sould go into
a separate *.R file?

I understand that I can save a given function as

save(test,file="R/test.R")

But I have many functions, should I make that each function
go to a separate file? Is there any utility for doing 
this?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 14:36:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Jun 2001 13:36:09 +0100 (BST)
Subject: [R] *.R files for user libraries
In-Reply-To: <Pine.OSF.3.96.1010622135946.13140B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0106221334300.8059-100000@gannet.stats>

On Fri, 22 Jun 2001, Agustin Lobo wrote:

>
> Hi!
>
> The Writing R Extensions document (R-exts.pdf) states that,
> for creating an R library,
>
> ""
> The `R' subdirectory contains R code files. The code files to be installed
> must start with
> a (lower or upper case) letter and have one of the extensions `.R', `.S',
> `.q', `.r', or `.s'.
> ""
>
> Does this mean that each function sould go into
> a separate *.R file?
>
> I understand that I can save a given function as
>
> save(test,file="R/test.R")
>
> But I have many functions, should I make that each function
> go to a separate file? Is there any utility for doing
> this?

You can use one of more files as you like.  You can also just concatentate
the small files into one large file via `cat'.

Most packages use one file for each group of functions, as indeed do the R
sources.

>
> Thanks
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benjamin.warr at insead.fr  Fri Jun 22 14:59:44 2001
From: benjamin.warr at insead.fr (WARR Benjamin)
Date: Fri, 22 Jun 2001 14:59:44 +0200
Subject: [R] Regression / Optimisation under constraints
Message-ID: <C374E6A0E25BD41197FB00508B014A13028748A1@FW-ZEUS>

Dear All,

other than optim() and quadprog() does anyone have any experience or know of
any code that can perform non-linear LS under several constraints on the
parameters, I am thinking of an equivalent of nlregb() in S plus ?

Benjamin Warr 

Tel: 33 (0)1 60 72 4456
Fax: 33 (0)1 60 74 55 64
e-mail: benjamin.warr at insead.fr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010622/2de7be02/attachment.html

From zeileis at ci.tuwien.ac.at  Fri Jun 22 15:40:49 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 22 Jun 2001 15:40:49 +0200
Subject: [R] Re: R-1.3.0 is released
References: <x2n170emju.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B334AE1.893BC3F4@ci.tuwien.ac.at>

Peter Dalgaard BSA wrote:
> 
> I've rolled up R-1.3.0.tgz about an hour ago. This is a major upgrade,
> with some structural changes and major new features, especially in the
            ^^^^^^^^^^^^^^^^^^
 
Dann sollte man darauf auch testen koennen :-) Bewegen wir also das
package nach CRAN und schreiben nochmal ein kleines Mail an r-announce,
oki?
Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmiddleton at fisheries.gov.fk  Fri Jun 22 13:36:54 2001
From: dmiddleton at fisheries.gov.fk (David Middleton)
Date: Fri, 22 Jun 2001 09:36:54 -0200
Subject: [R] monotonically increasing smoothing spline
Message-ID: <698C02D452EDD411A42300A0C982E91E14F5@MAIL>


Can anyone point me to a suitable function for fitting a monotonically
increasing smoothing spline?

I think this question has been asked before, and I had a feeling it had
been answered by Simon Wood, but I can't find it in the archives.

Thanks

David Middleton

David A. J. Middleton,
Fisheries Department, Falkland Islands Government
Stanley, Falkland Islands
Tel: +500 27260   Fax: +500 27265    Email: dmiddleton at fisheries.gov.fk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Fri Jun 22 15:57:00 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 22 Jun 2001 15:57:00 +0200
Subject: [R] Re: R-1.3.0 is released
References: <x2n170emju.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B334EAC.2B50332D@ci.tuwien.ac.at>

I'm really sorry about this previous mail, by mistake I replied to
r-help...it was meant to be an internal mail...sorry again.
Achim

---------------------------
Achim Zeileis
Institut f?r Statistik
Technische Universit?t Wien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Jun 22 16:00:30 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 22 Jun 2001 09:00:30 -0500
Subject: [R] RODBC
Message-ID: <E15DRU6-0006ap-00@sonny.eddelbuettel.com>


> If you have a choice, use unixODBC as suggested there, as it is more
> powerful and better-supported than iodbc.

FWIW I found iODBC easier to setup (but even then needed an example
from Fritz to really get it working). It is probably easier to compile too.

It might be worthwhile adding simple examples for ~/.odbc.ini for both of
these libraries. I'd be happy to contribute one for iODBC.

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 22 16:34:01 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 22 Jun 2001 16:34:01 +0200
Subject: [R] Regression / Optimisation under constraints
In-Reply-To: <C374E6A0E25BD41197FB00508B014A13028748A1@FW-ZEUS>
References: <C374E6A0E25BD41197FB00508B014A13028748A1@FW-ZEUS>
Message-ID: <15155.22361.630033.46123@gargle.gargle.HOWL>

>>>>> "WARR" == WARR Benjamin <benjamin.warr at insead.fr> writes:


    WARR> other than optim() and quadprog() does anyone have any experience
    WARR> or know of any code that can perform non-linear LS under several
    WARR> constraints on the parameters, I am thinking of an equivalent of
    WARR> nlregb() in S plus ?

I think optim() with the proper method is ``functionally'' equivalent to
nlminb.  Did you carefully look at its documentation?

	 (and could you (everyone concerned!!) re-configure your e-mail
 	 software such as  NOT send messages both as plain text and html?)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at club.worldonline.be  Fri Jun 22 16:32:26 2001
From: mlennert at club.worldonline.be (Moritz Lennert)
Date: Fri, 22 Jun 2001 16:32:26 +0200
Subject: [R] plotting circles / piecharts with only one category
Message-ID: <5.1.0.14.0.20010622162839.009f5390@pop3.worldonline.be>

Hello,

For further use in a cartography program, I would like to create a bunch of 
eps files with circles in graduated gray shades (5 different shades). Up 
to now I've been using 'piechart' for this, but since I only have one 
single category I get a central line in the circles which is not very 
aesthetic. Is there a way to keep piechart from drawing this central line, 
or is there a function that would allow me to draw simple circles in 
different gray shades ?

Moritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jun 22 16:59:11 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 22 Jun 2001 16:59:11 +0200 (MET DST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <x2n170emju.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Jun 22, 2001 02:17:25 PM
Message-ID: <200106221459.QAA03618@luc.ac.be>

> There are also versions split for floppies.
> 
> (Are anyone actually using the split-source versions and not capable
> of using the "split" command themselves? They do take up a lot of
> space, and I had to remove split versions of earlier releases to make
> room for the new one.) 

This are absolutely essential for developing countries were people may
not have their own computer online and no easy way to split on MS (I
believe).
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 22 17:14:12 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 22 Jun 2001 08:14:12 -0700 (PDT)
Subject: [R] *.R files for user libraries
In-Reply-To: <Pine.OSF.3.96.1010622135946.13140B-100000@ija.csic.es>
Message-ID: <Pine.A41.4.33.0106220808360.45898-100000@homer24.u.washington.edu>

On Fri, 22 Jun 2001, Agustin Lobo wrote:

>
> Hi!
>
> The Writing R Extensions document (R-exts.pdf) states that,
> for creating an R library,
>
> ""
> The `R' subdirectory contains R code files. The code files to be installed
> must start with
> a (lower or upper case) letter and have one of the extensions `.R', `.S',
> `.q', `.r', or `.s'.
> ""
>
> Does this mean that each function sould go into
> a separate *.R file?
>
> I understand that I can save a given function as
>
> save(test,file="R/test.R")

No, no, no.  This saves a binary version of the file.  You need to use
dump().


> But I have many functions, should I make that each function
> go to a separate file? Is there any utility for doing
> this?

One file or many is ok. Most people find it easier to write the functions
in .R files to begin with, but the new 1.3.0 has an experimental function
package.skeleton() that does some of the work of setting up a package.

It is easier to find things in the documentation if you use our
terminology: you are trying to create a package, not a library. A library
is a place to put packages.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 17:32:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Jun 2001 16:32:37 +0100 (BST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <200106221459.QAA03618@luc.ac.be>
Message-ID: <Pine.LNX.4.31.0106221630090.7634-100000@gannet.stats>

On Fri, 22 Jun 2001, Jim Lindsey wrote:

> > There are also versions split for floppies.
> >
> > (Are anyone actually using the split-source versions and not capable
> > of using the "split" command themselves? They do take up a lot of
> > space, and I had to remove split versions of earlier releases to make
> > room for the new one.)
>
> This are absolutely essential for developing countries were people may
> not have their own computer online and no easy way to split on MS (I
> believe).

The Windows binaries now come split into 6 floppies, so for Windows this
is not an issue.  Peter was discussing the sources: are source users
needed to transfer on floppies?  They need to get hold of the sources
first, so it must be a question of transferring.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michael.okelly at quintiles.com  Fri Jun 22 17:51:06 2001
From: michael.okelly at quintiles.com (michael.okelly@quintiles.com)
Date: Fri, 22 Jun 2001 16:51:06 +0100
Subject: [R] Re: R-1.3.0 is released: Split sources
Message-ID: <OF70434EF6.F41AFD87-ON80256A73.0056EAE2@qedi.quintiles.com>


Hello Peter,

I have found the split sources invaluable. I do not know about the split
command.

Kind regards,

Michael O'Kelly





Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>@stat.math.ethz.ch on
22/06/2001 13:17:25

Please respond to r-help at stat.math.ethz.ch

Sent by:  owner-r-announce at stat.math.ethz.ch


To:   r-announce at r-project.org
cc:    (bcc: Michael O'kelly/QDUB/Quintiles)

Subject:  R-1.3.0 is released



I've rolled up R-1.3.0.tgz about an hour ago. This is a major upgrade,
with some structural changes and major new features, especially in the
areas of connections, dates, and the ctest package.

As a new item, we also roll up (in a separate file) a set of
recommended packages that are known to work with R-1.3.0. Binary
distributions are expected to include these packages.

Please note that the former "survival5" package is now named
"survival". If you install over an existing installation, make sure to
"R CMD REMOVE survival5"

You can get it from the developer site

ftp://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0.tgz
ftp://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0-recommended.tgz

or

http://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0.tgz
http://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0-recommended.tgz

or wait for them to be mirrored at a CRAN site near you within a day
or two. Binaries for various platforms will appear in due course.

There are also versions split for floppies.

(Are anyone actually using the split-source versions and not capable
of using the "split" command themselves? They do take up a lot of
space, and I had to remove split versions of earlier releases to make
room for the new one.)


        For the R Core Team,

        Peter D.


Here's the relevant part of the NEWS file:


          CHANGES IN R VERSION 1.3.0


NEW FEATURES

    o     Changes to connections:

     -  New function url() to read from URLs.  file() will also
        accept URL specifications, as will all the functions which
        use it.

     -  file connections can now be opened for both reading and writing.

     -  Anonymous file connections (via file()) are now supported.

     -  New function gzfile() to read from / write to compressed files.

     -  New function fifo() for connections to / from fifos (on Unix).

     -  Text input from file, pipe, fifo, gzfile and url connections
        can be read with a user-specified encoding.

     -  New functions readChar() and writeChar() to read character
        strings with known lengths and no terminators, and to write
        user-specified lengths from strings.

     -  sink() now has a stack of output connections, following S4.

     -  sink() can also be applied to the message stream, to capture
        error messages to a connection.  Use carefully!

     -  seek() has a new `origin' argument.

     -  New function truncate() to truncate a connection open for
        writing at the current position.

     -  Socket connections via function socketConnection().

     -  The `blocking' argument for file, fifo  and socket connections
        is now operational.

    o     Changes to date/time classes and functions:

     -  Date/time objects now all inherit from class "POSIXt".

     -  New function difftime() and corresponding class for date/time
        differences, and a round() method.

     -  Subtraction and logical comparison of objects from different
        date/time classes is now supported.   NB: the format for the
        difference of two objects of the same date/time class has
        changed, but only for objects generated by this version, not
        those generated by earlier ones.

     -  Methods for cut(), seq(), round() and trunc() for date/time
        classes.

     -  Convenience generic functions weekdays(), months(), quarters()
        and julian() with methods for "POSIXt" objects.

    o     Coercion from real to integer now gives NA for out-of-range
     values, rather than the most extreme integer of the same sign.

    o     The Ansari-Bradley, Bartlett, Fligner-Killeen, Friedman,
     Kruskal-Wallis, Mood, Quade, t, and Wilcoxon tests as well as
     var.test() in package ctest now have formula interfaces.

    o     Matrix multiplication functions %*% and crossprod() now use a
     level-3 BLAS routine dgemm.  When R is linked with the ATLAS
     or other enhanced BLAS libraries this can be substantially
     faster than the previous code.

    o     New functions La.eigen() and La.svd() for eigenvector and
     singular value decompositions, based on LAPACK.     These are
     preferred to eigen() and svd() for new projects and can make
     use of enhanced BLAS routines such as ATLAS.  They are
     used in cancor(), cmdscale(), factanal() and princomp()
     and this may lead to sign reversals in some of the output of
     those functions.

    o     Provided the Fortran compiler can handle COMPLEX*16, the
     following routines now handle complex arguments, based on
     LAPACK code.

     qr, qr.coef, qr.solve, qr.qy, qr.qty, solve.default, svd, La.svd.



    o     aperm() uses strides in the internal C code and so is
     substantially faster (by Jonathan Rougier).

    o     The four bessel[IJKY](x,nu) functions are now defined for nu < 0.

    o     [dpqr]nbinom also accept an alternative parametrization via the
     mean and the dispersion parameter (thanks to Ben Bolker).

    o     Generalised "birthday paradox" functions [pq]birthday.

    o     boxplot() and bxp() have a new argument `at'

    o     New function capabilities() to report optional capabilities
     such as jpeg, png, tcltk, gzfile and url support.

    o     New function checkFF() for checking foreign function calls.

    o     New function col2rgb() for color conversion of names, hex, or
     integer.

    o     coplot() has a new argument `bar.bg' (color of conditioning
bars),
     gives nicer plots when the conditioners are factors, and allows
     factors for x and y (treated almost as if unclass()ed) using new
     argument `axlabels'.  [original ideas by Thomas Baummann]

    o     `hessian' argument added to deriv() and its methods.  A new
function
     deriv3() provides identical capabilities to deriv() except that
     `hessian' is TRUE by default.
     deriv(*, *, func = TRUE) for convenience.

    o     New dev.interactive() function, useful for setting defaults for
     par(ask=*) in multifigure plots.

    o     dist() in package mva can now handle missing values, and
     zeroes in the Canberra distance.

    o     The default method for download.file() (and functions which use
     it such as update.packages()) is now "internal", and uses code
     compiled into R.

    o     eigen() tests for symmetry with a numerical tolerance.

    o     New function formatDL() for formatting description lists.

    o     New argument `nsmall' to format.default(), for S-PLUS
     compatibility (and used in various packages).

    o     ?/help() now advertises help.search() if it fails to find a
topic.

    o     image() is now a generic function.

    o     New function integrate() with S-compatible call.

    o     New function is.unsorted() the C version of which also speeds up
     .Internal(sort()) for sorted input.

    o     is.loaded() accepts an argument PACKAGE to search within
     a specific DLL/shared library.

    o     Exact p-values are available for the two-sided two-sample
     Kolmogorov-Smirnov test.

    o     lm() now passes `...' to the low level functions for regression
     fitting.

    o     Generic functions logLik() and AIC() moved from packages nls
     and nlme to base, as well as their *.lm methods.

    o     New components in .Machine give the sizes of long, long long and
     long double C types (or 0 if they do not exist).

    o     merge.data.frame() has new arguments, `all[.xy]' and `suffixes',
     for S compatibility.

    o     model.frame() now calls na.action with the terms attribute set
     on the data frame (needed to distiguish the response, for
     example).

    o     New generic functions naresid(), napredict() and naprint()
     (formerly in packages survival5 and MASS, also used in rpart).
     Also na.exclude(), a variant on na.omit() that is handled
     differently by naresid() and napredict().

     The default, lm and glm methods for fitted, residuals, predict
     and weights make use of these.

    o     New function oneway.test() in package ctest for testing for
     equal means in a one-way layout, assuming normality but not
     necessarily equal variances.

    o     options(error) accepts a function, as an alternative to
     an expression. (The Blue Book only allows a function; current
     S-PLUS a function or an expression.)

    o     outer() has a speed-up in the default case of a matrix outer
     product (by Jonathan Rougier).

    o     package.skeleton() helps with creating new packages.

    o     New pdf() graphics driver.

    o     persp() is now a generic function.

    o     plot.acf() makes better use of white space for `nser > 2', has
     new optional arguments and uses a much better layout when more
     than one page of plots is produced.

    o     plot.mts() has a new argument `panel' providing the same
     functionality as in coplot().

    o     postscript() allows user-specified encoding, with encoding files
     supplied for Windows, Mac, Unicode and various others, and with
     an appropriate platform-specific default.

    o     print.htest() can now handle test names that are longer than
     one line.

    o     prompt() improved for data sets, particularly non-dataframes.

    o     qqnorm() is now a generic function.

    o     read.fwf() has a new argument `n' for specifying the number of
     records (lines) read in.

    o     read.table() now uses a single pass through the dataset.

    o     rep() now handles lists (as generic vectors).

    o     scan() has a new argument `multi.line' for S compatibility,
     but the default remains the opposite of S (records can cross
     line boundaries by default).

    o     sort(x) now produces an error when x is not atomic instead of
     just returning x.

    o     split() now allows splitting on a list of factors in which case
     their interaction defines the grouping.

    o     stl() has more optional arguments for fine tuning, a summary()
     and an improved plot() method.

    o     New function strwrap() for formatting character strings into
     paragraphs.

    o     New replacement functions substr<-() and substring<-().

    o     Dataset swiss now has row names.

    o     Arguments `pkg' and `lib' of system.file() have been renamed to
     `package' and `lib.loc', respectively, to be consistent with
     related functions.  The old names are deprecated.  Argument
     `package' must now specify a single package.

    o     The Wilcoxon and Ansari-Bradley tests now return point
     estimators of the location or scale parameter of interest along
     with confidence intervals for these.

    o     New function write.dcf() for writing data in Debian Control File
     format.    parse.dcf() has been replaced by (much faster)    internal
     read.dcf().

    o     Contingency tables created by xtabs() or table() now have a
     summary() method.

    o     Functions httpclient(), read.table.url(), scan.url() and
     source.url() are now deprecated, and hence method="socket' in
     download.file() is.  Use url connections instead: in
     particular URLs can be specified for read.table(), scan() and
     source().

    o     Formerly deprecated function getenv() is now defunct.

    o     Support for package-specific demo scripts (R code).  demo() now
     has new arguments to specify the location of demos and to allow
     for running base demos as part of `make check'.

    o     If not explicitly given a library tree to install to or remove
     from, respectively, R CMD INSTALL and R CMD REMOVE now operate
     on the first directory given in `R_LIBS' if this is set and
     non-null, and the default library otherwise.

    o     R CMD INSTALL and package.description() fix some common problems
     of DESCRIPTION files (blank lines, ...)

    o     The INSTALL command for package installation allows a `--save'
     option.    Using it causes a binary image of the package contents
     to be created at install time and loaded when the package is
     attached.  This saves time, but also uses a more standard way
     of source-ing the package.  Packages that do more than just
     assign object definitions may need to install with `--save'.
     Putting a file `INSTALL.R' in the package directory makes
     `--save' the default behavior.  If that file is not empty, its
     contents should be R commands executed at the end of creating
     the image.

     There is also a new command line option `--configure-vals' for
     passing variables to the configure script of a package.

    o     R CMD check now also checks the keyword entries against the list
     of standard keywords, for code/documentation mismatches (this
     can be turned off by the command line option `--no-codoc'), and
     for sufficient file permissions (Unix only).  There is a new check
     for the correct usage of library.dynam.

     It also has a new command line option `--use-gct' to use
     `gctorture(TRUE)' when running R code.

    o     R CMD Rd2dvi has better support for producing reference manuals
     for packages and package bundles.

    o     configure now tests for the versions of jpeg (>= 6b), libpng (>=
     1.0.5) and zlib (>= 1.1.3).  It no longer checks for the
     CXML/DXML BLAS libraries on Alphas.

    o     Perl scripts now use Cwd::cwd() in place of Cwd::getcwd(), as
     cwd() can be much faster.

    o     R::Dcf.pm can now also handle files with more than one record
     and checks (a little bit) for continuation lines without leading
     whitespace.

    o     New manual `R Installation and Administration' with fuller
     details on the installation process: file `INSTALL' is now a
     brief introduction referencing that manual.

    o     New keyword `internal' which can be used to hide objects that
     are not part of the API from indices like the alphabetical lists
     in the HTML help system.

    o   Under Unix, shlib modules for add-on packages are now linked
     against R as a shared library (`libR') if this exists.  (This
     allows for improved embedding of R into other applications.)

    o   New mechanism for explicitly registering native routines in a
     DLL/shared library accessible via .C(), .Call(), .Fortran() and
     .External().  This is potentially more robust than the existing
     dynamic lookup, since it checks the number of arguments, type of
     the routine.

    o     New mechanism allowing registration of C routines for converting
     R objects to C pointers in .C() calls.  Useful for references to
     data in other languages and libraries (e.g. C and hdf5).

    o     The internal ftp/http access code maintains the event loop, so
     you can download whilst running tcltk or Rggobi, say.  It can
     be hooked into package XML too.



BUG FIXES

    o     boxplot.stats() now returns the correct `n' component in the case
of
     NAs. This also affects `conf', the notch length (PR#967).

    o     the "coef = 0" fix (PR#917) to boxplot.stats() broke
     boxplot.stats(do.out = FALSE).

    o     curve(* , add = FALSE) now works correctly again if used when
     par("xlog") is true.

    o     Printing a dataframe with a column called "row.names" or
     "check.names" omitted the column.

    o     data.frame(a=1, b=2)[1, -(1:2)]      now works, giving an empty
     data frame.  as.matrix(df), deparse(), dput() and str() now work
     for empty data frames.

    o     dbeta() could return zero erroneously on some platforms where
     roundoff makes e.g. 1.3 - 1 > (1.3 + 1) - 2 (Solaris and HP-UX
     were affected). (PR#970)

    o     pointer protection in deriv() (PR#953)

    o   expand.data.frame() didn't interpret its subset= argument in
        the data frame. (PR#979 et al., fix from Greg Warnes)

    o     format() on character arrays was losing the dimensions.

    o     hist.default() was ignoring its `probability' argument for
     equi-spaced breaks.

    o     Occasionally insane results of is.nan(NULL), is.na(NULL) (PR#952)

    o     ks.test() in package ctest now had the one-sided alternatives in
     the one-sample case reversed (PR#934).

    o     ls.str() and lsf.str() now work better with pos > 1, and are
     correctly documented (PR#899).

    o     plot(1:2, xaxs = "i") now gives both "1.0" and "2.0" x-axis
labels.

    o     promax() was not using its `m' argument (m=4 was always used).

    o     qr.X() was ignoring pivoting (which happens only in
     rank-deficient cases).

    o   sign of Pearson residuals was wrong for reciprocal link (PR#862)

    o     The algorithm for determining starting estimates in the SSfpl
     self-starting model in the nls package was changed following a
     suggestion by Phillipe Grosjean <phgrosje at ulb.ac.be>

    o     svd(x)$v was not a matrix when x had only 1 row (PR#963).

    o     symnum(x) behaves more reasonably for zero length or non-numeric
x.

    o     The implementation of sys.function() did not work when the
     current function was already a function (e.g., a closure).

    o   tapply() had "..." argument after simplify=, which made it
     incompatible with S when passing additional unnamed arguments to FUN.

    o   use formula environments in xy.coords() (PR#932)


    o     Unused entry points in `src/appl/fortran.c' and `Fortran.h'
     have been removed.

    o     Unused directory `src/f2clib' and header
`src/include/R_ext/f2c.h'
     have been removed.

    o     The documentation and parts of the parse/deparse mechanism
     indicated that there was an operator `%'. Corrected (PR#925).

    o     Fixed some cases where the deparser gave code that threw a
     syntax error when parsed.

    o     Using a pushback with more than two lines at a time could crash.

    o     Eliminate or warn on use of .Last.value in help examples, since
     .Last.value is only set from top-level expressions (and was
     incorrectly documented).

    o     asInteger was ignoring integer overflow (PR#929 and others).

    o     approxfun(*, ties = <fun>) could return garbage when there were
ties;
     ties = "ordered" was incorrect--also for approx()-- when there was
     a tie at the very right.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Jun 22 18:56:54 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 22 Jun 2001 18:56:54 +0200 (CEST)
Subject: [R] Easting and northing cf. Latitude and longitude
In-Reply-To: <200106220447.f5M4lmp20251@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.21.0106221846460.28088-100000@reclus.nhh.no>

On Fri, 22 Jun 2001, Patrick Connolly wrote:

> I think I've seen this discussed here before but it doesn't seem to
> appear in the archive.

In r-help, 20 April 2001.

> 
> I am using the map package which so far has been fine for my purposes.
> Some people I work with have GPS type data that defines positions as
> number of metres not degrees.  I don't know how much the system
> varies, but in New Zealand, they are referred to as Eastings and
> Northings.
> 

The answer I gave then - there were others - see the archives - was:

One good source is http://www.remotesensing.org/proj/ for the PROJ.4
software. Another is the mapproject program in GMT at
http://gmt.soest.hawaii.edu/. These are both external to R, but it seems
likely that PROJ.4 will form part of an R map package at some stage. You
didn't say which platform you use - both these are native Unix/Linux, but
at least GMT is available for NT too. While it would be possible to write
R code to do this, both of these sources are well-tried and so more likely
to work as expected.

I feel that roll-your-own is not necessarily a good solution - map
projection is numerically sensitive, especially when dealing with lots of
significant digits in decimal degrees. The sources here also assume that
you know about the parameters for your projection - as was already pointed
out.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Fri Jun 22 19:32:55 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 22 Jun 2001 10:32:55 -0700
Subject: [R] Easting and northing cf. Latitude and longitude
Message-ID: <OF712CBFDC.0F64E719-ON88256A73.0058EF16@rtp.epa.gov>


As Ted Harding suggested in an earlier reply, the conversions can be
complicated.  Most GPS units provide both geodetic coordinates (latitude,
longitude) and coordinates in the Universal Transverse Mercator projection
(northings and eastings in meters).  See the r-help thread on "map
projections" between 20 April and 23 April 2001.  Also see public domain
software available at http://mapping.usgs.gov/www/html/cartsoft.html.  For
background on map projections try a web search, e.g.
http://www.colorado.edu/geography/gcraft/notes/mapproj/mapproj_f.html.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/



                                                                                          
                    Patrick Connolly                                                      
                    <P.Connolly at hortresea        To:     r-help at stat.math.ethz.ch         
                    rch.co.nz>                   (R-help)                                 
                    Sent by:                     cc:                                      
                    owner-r-help at stat.mat        Subject:     [R] Easting and northing    
                    h.ethz.ch                    cf. Latitude and longitude               
                                                                                          
                                                                                          
                    06/21/2001 21:47                                                      
                    Please respond to                                                     
                    Patrick Connolly                                                      
                                                                                          
                                                                                          




I think I've seen this discussed here before but it doesn't seem to
appear in the archive.

I am using the map package which so far has been fine for my purposes.
Some people I work with have GPS type data that defines positions as
number of metres not degrees.  I don't know how much the system
varies, but in New Zealand, they are referred to as Eastings and
Northings.

What I would like to know is how complicated it is to convert between
such data and the normal latitude and longitude that the map package
uses.  I assume various datum points are used for different parts of
the world, and knowing the appropriate one and the definition of a
"northing" and an "easting", the conversion would be relatively
straight forward.

TIA




--
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events;
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jun 22 19:54:33 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 23 Jun 2001 05:54:33 +1200
Subject: [R] plotting circles / piecharts with only one category
References: <5.1.0.14.0.20010622162839.009f5390@pop3.worldonline.be>
Message-ID: <3B338659.26F0B513@stat.auckland.ac.nz>

Moritz Lennert wrote:
> 
> Hello,
> 
> For further use in a cartography program, I would like to create a bunch of
> eps files with circles in graduated gray shades (5 different shades). Up
> to now I've been using 'piechart' for this, but since I only have one
> single category I get a central line in the circles which is not very
> aesthetic. Is there a way to keep piechart from drawing this central line,
> or is there a function that would allow me to draw simple circles in
> different gray shades ?

The function you want is called "symbols".  E.g.

x <- runif(10)
y <- runif(10)
r <- (1+runif(10))/2
plot(x, y, type="n", xlim=c(0,1), ylim=c(0,1), axes=F, ann=F)
symbols(x,y,circles=r,inches=.5,bg=gray((1:10)/10))

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 19:56:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Jun 2001 18:56:03 +0100 (BST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <x2n170emju.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0106221852500.1195-100000@gannet.stats>

On 22 Jun 2001, Peter Dalgaard BSA wrote:

...
> or wait for them to be mirrored at a CRAN site near you within a day
> or two. Binaries for various platforms will appear in due course.

For those impatient for a Windows version, a build is available at

http://www.stats.ox.ac.uk/pub/bdr/RWin/SetupR.exe

Other distributions, including one split into 6 floppy-sized pieces,
will appear later and be mirrored on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Fri Jun 22 20:34:22 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 22 Jun 2001 13:34:22 -0500
Subject: [R] adding standard errors to a histogram plot?
Message-ID: <87k824fjo1.fsf@lumen.med.iupui.edu>

I'm using hist( size, breaks = 10*c(0:100), freq=TRUE ) to show
the distribution of data.  Is there a way to add lines
representing standard errors to such a plot?

A related question: can anyone provide an example of how to bin
my data and create a box plot from it?

Regards, Mike

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jun 22 21:32:18 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 22 Jun 2001 13:32:18 -0600 (MDT)
Subject: [R] R-1.2.3 & MASS
Message-ID: <Pine.GSO.4.05.10106221316030.15788-100000@virga.rap.ucar.edu>

Hi all

I just got my first Linux box, and I've installed successfully R by
downloading the "latest" version from the CRAN site, which is R-1.2.3

I would love to keep on using Prof. Ripley's code, esp. the nnet library,
as I was doing on both a unix machine and a Windows in the past.

When I get to the
                 R CMD INSTALL VR_6.2-6.tar.gz 
part, though, the compilation fails because - of course- I'm not using 
R 1.3.0.

Is there any way around it? Is there an R 1.3.0 version for Linux (Debian)
or an older source code for the packages that can compile under R-1.2.3?
I tried the old versions listed on the CRAN site, but they failed to
compile as well, this time crying out for undefined references...

thanks in advance

claudia





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurphy at cc.UManitoba.CA  Fri Jun 22 21:36:57 2001
From: dmurphy at cc.UManitoba.CA (Dennis J. Murphy)
Date: Fri, 22 Jun 2001 14:36:57 -0500 (CDT)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <x2n170emju.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Jun 22, 01 02:17:25 pm
Message-ID: <200106221936.OAA27521@mira.cc.umanitoba.ca>

Hi Peter,

Re ATLAS:

Matrix multiplication functions %*% and crossprod() now use a
        level-3 BLAS routine dgemm.  When R is linked with the ATLAS
        or other enhanced BLAS libraries this can be substantially
        faster than the previous code

I have just installed ATLAS under my home directory on my Sun Ultra 5
(Solaris 8); how do I link these libraries to R-1.3.0? (I probably want
to know this before I install it :) If I add the ATLAS library path to
my LD_LIBRARY_PATH, will this be sufficient?

Thanks in advance for your help,
Dennis
-- 
Dennis Murphy, Ph.D.                           University of Manitoba
Principal Consultant                           dmurphy at cc.umanitoba.ca
Statistical Advisory Service                   Ph: (204) 474-6485             
312 Machray Hall                               Fax: (204) 474-7621
----It's what you learn after you know it all that counts.   John Wooden ----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 22 21:46:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Jun 2001 20:46:00 +0100 (BST)
Subject: [R] R-1.2.3 & MASS
In-Reply-To: <Pine.GSO.4.05.10106221316030.15788-100000@virga.rap.ucar.edu>
Message-ID: <Pine.GSO.4.31.0106222043400.29561-100000@auk.stats>

On Fri, 22 Jun 2001, Claudia Tebaldi wrote:

> Hi all
>
> I just got my first Linux box, and I've installed successfully R by
> downloading the "latest" version from the CRAN site, which is R-1.2.3
>
> I would love to keep on using Prof. Ripley's code, esp. the nnet library,
> as I was doing on both a unix machine and a Windows in the past.
>
> When I get to the
>                  R CMD INSTALL VR_6.2-6.tar.gz
> part, though, the compilation fails because - of course- I'm not using
> R 1.3.0.
>
> Is there any way around it? Is there an R 1.3.0 version for Linux (Debian)
> or an older source code for the packages that can compile under R-1.2.3?
> I tried the old versions listed on the CRAN site, but they failed to
> compile as well, this time crying out for undefined references...

You need VR_6.2-5.tar.gz, which is on

http://www.stats.ox.ac.uk/pub/R/

and will be in Archive on CRAN.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 22 21:47:32 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 22 Jun 2001 12:47:32 -0700 (PDT)
Subject: [R] R-1.2.3 & MASS
In-Reply-To: <Pine.GSO.4.05.10106221316030.15788-100000@virga.rap.ucar.edu>
Message-ID: <Pine.A41.4.33.0106221241240.45904-100000@homer24.u.washington.edu>

On Fri, 22 Jun 2001, Claudia Tebaldi wrote:

> Hi all
>
> I just got my first Linux box, and I've installed successfully R by
> downloading the "latest" version from the CRAN site, which is R-1.2.3
>
> I would love to keep on using Prof. Ripley's code, esp. the nnet library,
> as I was doing on both a unix machine and a Windows in the past.
>
> When I get to the
>                  R CMD INSTALL VR_6.2-6.tar.gz
> part, though, the compilation fails because - of course- I'm not using
> R 1.3.0.
>
> Is there any way around it? Is there an R 1.3.0 version for Linux (Debian)
> or an older source code for the packages that can compile under R-1.2.3?


Your timing is unlucky -- you just caught the changeover from 1.2.3 to
1.3.0.

You can get R1.3.0 from the developer site

ftp://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0.tgz
ftp://cvs.r-project.org/pub/CRAN/src/base/R-1.3.0-recommended.tgz

or wait a day or so until CRAN synchronises


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 22 22:52:43 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 2001 22:52:43 +0200
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: "Dennis J. Murphy"'s message of "Fri, 22 Jun 2001 14:36:57 -0500 (CDT)"
References: <200106221936.OAA27521@mira.cc.umanitoba.ca>
Message-ID: <x2hex89qzo.fsf@blueberry.kubism.ku.dk>

"Dennis J. Murphy" <dmurphy at cc.UManitoba.CA> writes:

> Hi Peter,

That's a mighty wide definition of "Peter" you got there.... (Just as
well, you have no guarantee that I have neither time nor ability to
answer just because I put out the announcements.)

> 
> Re ATLAS:
> 
> Matrix multiplication functions %*% and crossprod() now use a
>         level-3 BLAS routine dgemm.  When R is linked with the ATLAS
>         or other enhanced BLAS libraries this can be substantially
>         faster than the previous code
> 
> I have just installed ATLAS under my home directory on my Sun Ultra 5
> (Solaris 8); how do I link these libraries to R-1.3.0? (I probably want
> to know this before I install it :) If I add the ATLAS library path to
> my LD_LIBRARY_PATH, will this be sufficient?

I have in .Rconf in my home directory:

CFLAGS="-Wall -g -O3"
FFLAGS="-Wall -g -O3"
LIBS=-L/home/pd/ATLAS/lib/Linux_K6III

putting the same stuff in config.site in your build directory works
too.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Fairouz_Makhlouf at hgsi.com  Fri Jun 22 22:55:57 2001
From: Fairouz_Makhlouf at hgsi.com (Fairouz_Makhlouf@hgsi.com)
Date: Fri, 22 Jun 2001 16:55:57 -0400
Subject: [R] cex option in the text function
Message-ID: <OF143CF28E.147592A0-ON85256A73.0072A80B@hgsi.com>

Hi,
I am using the "text" function to write text on a graph and I am using the
cex option to specify the size of my text.  It looks like if I specify any
value < 0.5 the size does not change.  Anybody noticed that?  Any help?

Thanks


Fairouz Makhlouf
Human Genome Sciences
(301)610-5790  x2552
http://www.hgsi.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Fri Jun 22 23:52:31 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Fri, 22 Jun 2001 14:52:31 -0700 (PDT)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <Pine.LNX.4.31.0106221852500.1195-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0106221447110.30889-100000@shell1.aracnet.com>

On Fri, 22 Jun 2001, Prof Brian Ripley wrote:

> For those impatient for a Windows version, a build is available at
>
> http://www.stats.ox.ac.uk/pub/bdr/RWin/SetupR.exe

Have you changed your recommended tool set for building R 1.3 and contributed
packages under Windows? I'm going to be integrating Atlas on my Windows builds,
so I need to build them from source. IIRC the last time I tried to build Atlas
with your recommended tool set on Windows, everything worked on the Atlas end,
but I didn't have an R to use with it at the time.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

What is it about

 @replace(@string(@log(10000)*@atan(1),9),0,0, at char(112)&@char(105)&@char(61))

that you don't understand?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gpetris at definetti.uark.edu  Sat Jun 23 00:21:15 2001
From: gpetris at definetti.uark.edu (Giovanni Petris)
Date: Fri, 22 Jun 2001 17:21:15 -0500 (CDT)
Subject: [R] Sun Performance Library
References: <200106221936.OAA27521@mira.cc.umanitoba.ca> <x2hex89qzo.fsf@blueberry.kubism.ku.dk>
Message-ID: <200106222221.RAA18789@definetti.uark.edu>


Hi all,

Speaking of BLAS and enhanced BLAS libraries, does anybody know how
link R to the Sun Performance Library (that includes BLAS, LAPACK
etc.)? I tried once unsuccesfully, and I want to give it another try
when upgrading to 1.3.0. I work on a Sun Ultra 60.

Thank you in advance,
Giovanni Petris

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Jun 23 08:17:41 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 23 Jun 2001 08:17:41 +0200
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <x2hex89qzo.fsf@blueberry.kubism.ku.dk>
References: <200106221936.OAA27521@mira.cc.umanitoba.ca>
	<x2hex89qzo.fsf@blueberry.kubism.ku.dk>
Message-ID: <15156.13445.377624.675170@mithrandir.hornik.net>

>>>>> Peter Dalgaard BSA writes:

> "Dennis J. Murphy" <dmurphy at cc.UManitoba.CA> writes:
>> Hi Peter,

> That's a mighty wide definition of "Peter" you got there.... (Just as
> well, you have no guarantee that I have neither time nor ability to
> answer just because I put out the announcements.)

>> 
>> Re ATLAS:
>> 
>> Matrix multiplication functions %*% and crossprod() now use a
>> level-3 BLAS routine dgemm.  When R is linked with the ATLAS
>> or other enhanced BLAS libraries this can be substantially
>> faster than the previous code
>> 
>> I have just installed ATLAS under my home directory on my Sun Ultra 5
>> (Solaris 8); how do I link these libraries to R-1.3.0? (I probably want
>> to know this before I install it :) If I add the ATLAS library path to
>> my LD_LIBRARY_PATH, will this be sufficient?

> I have in .Rconf in my home directory:

> CFLAGS="-Wall -g -O3"
> FFLAGS="-Wall -g -O3"
> LIBS=-L/home/pd/ATLAS/lib/Linux_K6III

> putting the same stuff in config.site in your build directory works
> too.

The point is: use LIBS and not LD_LIBRARY_PATH or equivalent.
See `R Installation and Administration' in R 1.3.0.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 23 09:12:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Jun 2001 08:12:18 +0100 (BST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <Pine.LNX.4.33.0106221447110.30889-100000@shell1.aracnet.com>
Message-ID: <Pine.GSO.4.31.0106230811290.15188-100000@auk.stats>

It's in the documentation: please read it for yourself.

On Fri, 22 Jun 2001, M. Edward (Ed) Borasky wrote:

> On Fri, 22 Jun 2001, Prof Brian Ripley wrote:
>
> > For those impatient for a Windows version, a build is available at
> >
> > http://www.stats.ox.ac.uk/pub/bdr/RWin/SetupR.exe
>
> Have you changed your recommended tool set for building R 1.3 and contributed
> packages under Windows? I'm going to be integrating Atlas on my Windows builds,
> so I need to build them from source. IIRC the last time I tried to build Atlas
> with your recommended tool set on Windows, everything worked on the Atlas end,
> but I didn't have an R to use with it at the time.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 23 09:16:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Jun 2001 08:16:22 +0100 (BST)
Subject: [R] Sun Performance Library
In-Reply-To: <200106222221.RAA18789@definetti.uark.edu>
Message-ID: <Pine.GSO.4.31.0106230813000.15188-100000@auk.stats>

On Fri, 22 Jun 2001, Giovanni Petris wrote:

> Speaking of BLAS and enhanced BLAS libraries, does anybody know how
> link R to the Sun Performance Library (that includes BLAS, LAPACK
> etc.)? I tried once unsuccesfully, and I want to give it another try
> when upgrading to 1.3.0. I work on a Sun Ultra 60.

It is described in the new R-admin manual.  Effectively it happens by
default if you use the correct Sun compilers with the correct flags.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sat Jun 23 12:28:00 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 23 Jun 2001 12:28:00 +0200
Subject: [R] R 1.3.0 on solaris 7
Message-ID: <3B346F30.2626D5B9@univie.ac.at>

i installed R on solaris 7.
it works when i am root
as "normal" user
i get

[sunsite at neuwirth:/usr] R
Fatal error: Probably no X11 support: the shared library was not found

does somebody see immediately which library cannot be accessed?
perhaps the error message could also give the name of the library
searched for int the future?





--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sat Jun 23 12:55:15 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 23 Jun 2001 12:55:15 +0200
Subject: [R] RE: R 1.3.0 on solaris
Message-ID: <3B347593.EA7C32A1@univie.ac.at>

i solved the problem.
nevertheless, could it be worthwhile to have a more detailed message
when something cannot be found?


Erich Neuwirth wrote:
> 
> [sunsite at neuwirth:/usr] R
> Fatal error: Probably no X11 support: the shared library was not found
> 
> does somebody see immediately which library cannot be accessed?
> perhaps the error message could also give the name of the library
> searched for int the future?
> 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Jun 23 12:44:14 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 23 Jun 2001 20:44:14 +1000
Subject: [R] Easting and northing cf. Latitude and longitude
Message-ID: <3B3472FD.9A00D720@ozemail.com.au>

I don't know whether this will help or not, but some time ago I had to
implement a routine to determine the "great circle" distance between two
geographical coordinates using the Haversine formula.  I realise that
this is the opposite of what you want, but it might be possible to work
out how to reverse the formula.  The relevant details are at:

http://www.census.gov/cgi-bin/geo/gisfaq?Q5.1

or at least were when I programmed the solution.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 23 15:23:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Jun 2001 14:23:00 +0100 (GMT Daylight Time)
Subject: [R] R 1.3.0 on solaris 7
In-Reply-To: <3B346F30.2626D5B9@univie.ac.at>
Message-ID: <Pine.WNT.4.31.0106231419320.276-100000@tern.stats>

On Sat, 23 Jun 2001, Erich Neuwirth wrote:

> i installed R on solaris 7.
> it works when i am root
> as "normal" user
> i get
>
> [sunsite at neuwirth:/usr] R
> Fatal error: Probably no X11 support: the shared library was not found
>
> does somebody see immediately which library cannot be accessed?
> perhaps the error message could also give the name of the library
> searched for int the future?

It's obvious ... it's the X11 support library, R_X11.so on Solaris, in the
modules directory.  I don't see that it is worth giving more details, as it
indicates that the installation is faulty and probably needs to be re-done
completely.

Did you check the R Installation and Adminstration manual, and the comments
about setting umask correctly, BTW?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Sun Jun 24 00:28:26 2001
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Sat, 23 Jun 2001 18:28:26 -0400
Subject: [R] second Y axis
Message-ID: <01062318282600.28181@penguin>



Brand new the R language - coming from SAS/Gauss/Stata - so sorry for the 
newbie question.

I want to overlay two graphs - same X axis but seperate Y's.  How can I 
specify a right hand Y axis.  

It is one of those questions is probably obvious to everyone but the newbie.  
Can't find it in the various sources on the web and books I have though.

Thanks in advance.
 
=========================================
Michaell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 24 00:53:41 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 2001 00:53:41 +0200
Subject: [R] second Y axis
In-Reply-To: Michaell Taylor's message of "Sat, 23 Jun 2001 18:28:26 -0400"
References: <01062318282600.28181@penguin>
Message-ID: <x28ziiolje.fsf@blueberry.kubism.ku.dk>

Michaell Taylor <pols1oh at bestweb.net> writes:

> Brand new the R language - coming from SAS/Gauss/Stata - so sorry for the 
> newbie question.
> 
> I want to overlay two graphs - same X axis but seperate Y's.  How can I 
> specify a right hand Y axis.  
> 
> It is one of those questions is probably obvious to everyone but the newbie.  
> Can't find it in the various sources on the web and books I have though.
> 
> Thanks in advance.
>  
> =========================================
> Michaell

axis(4,at=some.thing,labels=some.other.thing)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Sun Jun 24 16:59:06 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Sun, 24 Jun 2001 16:59:06 +0200
Subject: [R] update.packagesl (method=internal) on Windows
Message-ID: <NBBBIJMBGLHMKHGCPFJKIEAMCHAA.dieter.menne@menne-biomed.de>

Congratulations,

Rhanks a lot to all those working on 1030. Installing
a new version R is one of the better excuses to stop
REAL work. Not to speak of new "lattice" version.

On my platform (Win2000, Internet Explorer via Proxy), I could
not get the new default method of "internal" to work. The manual
says that the settings from Internet Explorer are used,
but no connection (dial-up ADSL) is established, error message
return immediately.

update.packages()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
unable to resolve 'cran.r-project.org'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
        cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'


The old wget-method works, the proxy line in wget.cfg is

http_proxy = http://192.168.0.1:3128


And... sorry to say.... I am missing the old function.htlm.
Having everything together really important for browsing, the
search function is too limited for a fast overview.

Dieter Menne

----------------
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    3.0
year     2001
month    06
day      22
language R

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maximino.ameneiro at metropoli2000.com  Sun Jun 24 23:15:35 2001
From: maximino.ameneiro at metropoli2000.com (Maximino Ameneiro Gomez)
Date: Sun, 24 Jun 2001 17:15:35 -0400
Subject: [R] Simulate ARMA(1,1) process
Message-ID: <01062417153500.01465@linux>

Hi sirs,

I'm a newbie in R. I'm very interested in time series.

I would like to simulate an ARMA(1,1) process with/without constant.

How can I do this?

Thanks in advance

Maximino Ameneiro G?mez
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 24 18:46:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 24 Jun 2001 17:46:21 +0100 (BST)
Subject: [R] Simulate ARMA(1,1) process
In-Reply-To: <01062417153500.01465@linux>
Message-ID: <Pine.GSO.4.31.0106241745030.26811-100000@toucan.stats>

On Sun, 24 Jun 2001, Maximino Ameneiro Gomez wrote:

> Hi sirs,
>
> I'm a newbie in R. I'm very interested in time series.
>
> I would like to simulate an ARMA(1,1) process with/without constant.
>
> How can I do this?

library(ts)
?filter
Look at the examples

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 24 18:55:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 24 Jun 2001 17:55:42 +0100 (BST)
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKIEAMCHAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.GSO.4.31.0106241746440.26811-100000@toucan.stats>

On Sun, 24 Jun 2001, Dieter Menne wrote:

> Congratulations,
>
> Rhanks a lot to all those working on 1030. Installing
> a new version R is one of the better excuses to stop
> REAL work. Not to speak of new "lattice" version.
>
> On my platform (Win2000, Internet Explorer via Proxy), I could
> not get the new default method of "internal" to work. The manual
> says that the settings from Internet Explorer are used,

What manual?  Do you mean the help page?

Read the CHANGES file and switch to internet2.dll.  Sorry, the docs
got left one step behind when late in the day I switched the defaults.

> but no connection (dial-up ADSL) is established, error message
> return immediately.

It will not open an Internet connection.  The following saying that your
DNS is not finding the site.  I suspect you need to open a connection
first.  Personally I detest programs that make connections without asking.

> update.packages()
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> unable to resolve 'cran.r-project.org'.
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES

Don't expect too much: an awful lot of this part of Windows does not work
as documented on Windows 2000.  You should be able to switch to
internet2.dll and make use of your proxies.  However, I changed away from
that last week as on a very flaky connection, it was a lot less reliable.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Sun Jun 24 19:39:17 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Sun, 24 Jun 2001 19:39:17 +0200
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <Pine.GSO.4.31.0106241746440.26811-100000@toucan.stats>
Message-ID: <NBBBIJMBGLHMKHGCPFJKEEANCHAA.dieter.menne@menne-biomed.de>

Dear Prof. Ripley,

> What manual?  Do you mean the help page?
download.file help page

> Read the CHANGES file and switch to internet2.dll.  Sorry, the docs
> got left one step behind when late in the day I switched the defaults.
>
> > but no connection (dial-up ADSL) is established, error message
> > return immediately.
>
> It will not open an Internet connection.  The following saying that your
> DNS is not finding the site.
The proxy (on the same computer) handles the connection. I suspect "internal"
does not know the tcp/ip address of my proxy, which I explicitely setfor wget.
Any chance to set is manually?

> You should be able to switch to
> internet2.dll and make use of your proxies.  However, I changed away from
> that last week as on a very flaky connection, it was a lot less reliable.

Could nor find any info how to "switch". InternetX.dll are in modules folder,
should one of these be copied to bin? Or renamed?

Dieter Menne

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sun Jun 24 20:03:24 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Sun, 24 Jun 2001 11:03:24 -0700 (PDT)
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <Pine.GSO.4.31.0106241746440.26811-100000@toucan.stats>
Message-ID: <Pine.LNX.4.33.0106241101410.22609-100000@shell1.aracnet.com>

On Sun, 24 Jun 2001, Prof Brian Ripley wrote:

> Don't expect too much: an awful lot of this part of Windows does not work
> as documented on Windows 2000.  You should be able to switch to
> internet2.dll and make use of your proxies.  However, I changed away from
> that last week as on a very flaky connection, it was a lot less reliable.

I had no trouble with "install.packages" with my normal ISP at *home*, but there
are quite a few simple things that don't work when you're behind a proxy server
on Windows 2000. I've never been able to get R *or* the ActiveState Perl
Package Manager to go through the proxy server where I work and automatically
download files. Part of it has to do with the way proxy servers can be
configured to protect you and your employer :-). I usually download what I want
manually, which *does* work, and then install manually as well. It's really for
your own good, you know ... isn't it nice that your employer protects you from
that nasty old Internet? :-)
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Never play leapfrog with a unicorn.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Sun Jun 24 20:17:05 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Sun, 24 Jun 2001 12:17:05 -0600
Subject: [R] POSIX Date-Time Classes and missing values
Message-ID: <001101c0fcd9$dff12700$1755e43f@91qez>

Is there a good method for dealing with missing values when using the POSIX
date-time classes?

I would like to convert character data with some missing values to dates, so
that I can calculate intervals of time. However, I'm having trouble figuring
out a good way to work with the missing values. Missing values cause
problems when converting to the POSIXct date-time class, as illustrated
below.

> foobar
[1] "NA"                  "1992-02-27 22:29:56" "1992-01-14 01:03:30"
> as.POSIXct(foobar)
Error in fromchar(x) : character string is not in a standard unambiguous
format
>

Also, I haven't found a way to assign missing values to POSIX date-time
entries. For example, the following doesn't work.

> foodate
[1] "1992-02-27 22:29:56 Mountain Standard Time" "1992-01-14 01:03:30
Mountain Standard Time"
> foodate[1] <- NA
Error in as.POSIXct.default(value) : Don't know how to convert `value' to
class "POSIXct"

I'm prepared to convert the missing values to an arbitrary date and then
test for that date when the time intervals are to be calculated. This
method, however, seems very inelegant and prone to error--I'm hoping that
there is a better method.

The version of R that I'm using is 1.3.0 under Windows 2000.

Thanks!  Bill





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Sun Jun 24 21:01:13 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Sun, 24 Jun 2001 12:01:13 -0700
Subject: [R] verbatim environment in Rd-documents?
Message-ID: <KKEGJOGBELBHDIKPINBMMEBICFAA.henrikb@braju.com>

Is there a verbatim environment in the Rd-format or is there an easy way to
get the same result? Example what I would like to have:

\verbatim{
  > str
  function (object, ...)
  UseMethod("str")
}

It would be something similar to \example, but I can not use \example since
it generates a new section and can not be inside other sections. Also, it
might not be R-code in verbatim environment. The verbatim environment
should, as example, respond to newline (or at least it should be possible to
force a newline). I believe \code should not be used for this purpose and it
also does not respond to newlines or initial spaces (for indentation). It is
too akward to have a \code statement for every line.

Thanks

Henrik Bengtsson
h e n r i k b @ b r a j u . c o m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 24 21:05:16 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 2001 21:05:16 +0200
Subject: [R] POSIX Date-Time Classes and missing values
In-Reply-To: "Bill Oliver"'s message of "Sun, 24 Jun 2001 12:17:05 -0600"
References: <001101c0fcd9$dff12700$1755e43f@91qez>
Message-ID: <x24rt57l77.fsf@blueberry.kubism.ku.dk>

"Bill Oliver" <wloliver at qwest.net> writes:

> Is there a good method for dealing with missing values when using the POSIX
> date-time classes?
> 
> I would like to convert character data with some missing values to dates, so
> that I can calculate intervals of time. However, I'm having trouble figuring
> out a good way to work with the missing values. Missing values cause
> problems when converting to the POSIXct date-time class, as illustrated
> below.
> 
> > foobar
> [1] "NA"                  "1992-02-27 22:29:56" "1992-01-14 01:03:30"
> > as.POSIXct(foobar)
> Error in fromchar(x) : character string is not in a standard unambiguous
> format
> >

Hrm. There would seem to be some scope for improvement there...

For now, as.POSIXct(strptime(foobar,format)) will work better. Notice
though, that it gives NA also for invalid strings and that foobar must
be a character vector so strptime(NA,format) won't work.

> Also, I haven't found a way to assign missing values to POSIX date-time
> entries. For example, the following doesn't work.
> 
> > foodate
> [1] "1992-02-27 22:29:56 Mountain Standard Time" "1992-01-14 01:03:30
> Mountain Standard Time"
> > foodate[1] <- NA
> Error in as.POSIXct.default(value) : Don't know how to convert `value' to
> class "POSIXct"

Again, that probably should be made work eventually, but here's a
workaround:

x <- c("1jan1960", "2jan1960", "31mar1960", NA)
z <- strptime(x, "%d%b%Y")
y <- as.POSIXct(z)
ctNA <- ISOdate(NA,NA,NA)     
y[1] <- ctNA
y

# [1] "NA"             "1960-01-02 CET" "1960-03-31 CET" "NA"            

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Sun Jun 24 21:25:24 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Sun, 24 Jun 2001 15:25:24 -0400 (EDT)
Subject: [R] graphing the normal distribution
Message-ID: <Pine.SOL.4.33.0106241510230.832-100000@julius.ling.ohio-state.edu>


Hello,

I'd like to make some simple example graphs of the normal distribution,
varying standard deviation, mean, and kurtosis across examples.

I have been able to manipulate mean and sd using rnorm and hist:
y_hist(rnorm(1000000, mean=100, sd=50), 50, plot=F)
plot(y$mid,y$count,type="l")

Two questions:

1) n=100000 seems like a lot of samples to approach a smooth
curve. Is there a way to make the curve smooth, but computationally less
demanding?

2) What can I do to change the "peakiness" of the distribution?

Many thanks in advance.

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Jun 24 21:42:46 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 24 Jun 2001 14:42:46 -0500
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <Pine.LNX.4.33.0106241101410.22609-100000@shell1.aracnet.com>
References: <Pine.GSO.4.31.0106241746440.26811-100000@toucan.stats>
	<Pine.LNX.4.33.0106241101410.22609-100000@shell1.aracnet.com>
Message-ID: <15158.17078.792567.642891@sonny.eddelbuettel.com>


  MEB> *or* the ActiveState Perl Package Manager to go through the
  MEB> proxy server where I work and automatically download files. Part of it

Works for me with three environment variables for a) the proxie, b) the
username and c) the password for authentication. All faily well documented in
the ActiveState docs that ship with ActivePerl.

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 24 22:21:47 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 2001 22:21:47 +0200
Subject: [R] graphing the normal distribution
In-Reply-To: David White's message of "Sun, 24 Jun 2001 15:25:24 -0400 (EDT)"
References: <Pine.SOL.4.33.0106241510230.832-100000@julius.ling.ohio-state.edu>
Message-ID: <x2n16x6338.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Hello,
> 
> I'd like to make some simple example graphs of the normal distribution,
> varying standard deviation, mean, and kurtosis across examples.
> 
> I have been able to manipulate mean and sd using rnorm and hist:
> y_hist(rnorm(1000000, mean=100, sd=50), 50, plot=F)
> plot(y$mid,y$count,type="l")
> 
> Two questions:
> 
> 1) n=100000 seems like a lot of samples to approach a smooth
> curve. Is there a way to make the curve smooth, but computationally less
> demanding?

Perhaps

curve(dnorm(x,mean=0,sd=1),from=-3,to=3) 

etc.?


> 2) What can I do to change the "peakiness" of the distribution?

Nothing within the Normal distribution family since it has constant
shape... the t-distributions have bigger kurtosis for given variance
as far as I recall, and uniform distributions have less. (Don't shoot
me if I got that wrong, it's not like I need to use it every day.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 24 23:00:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Jun 2001 22:00:46 +0100 (BST)
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKEEANCHAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.GSO.4.31.0106242159150.27850-100000@auk.stats>

On Sun, 24 Jun 2001, Dieter Menne wrote:

> Dear Prof. Ripley,
>
> > What manual?  Do you mean the help page?
> download.file help page
>
> > Read the CHANGES file and switch to internet2.dll.  Sorry, the docs
> > got left one step behind when late in the day I switched the defaults.
> >
> > > but no connection (dial-up ADSL) is established, error message
> > > return immediately.
> >
> > It will not open an Internet connection.  The following saying that your
> > DNS is not finding the site.
> The proxy (on the same computer) handles the connection. I suspect "internal"
> does not know the tcp/ip address of my proxy, which I explicitely setfor wget.
> Any chance to set is manually?
>
> > You should be able to switch to
> > internet2.dll and make use of your proxies.  However, I changed away from
> > that last week as on a very flaky connection, it was a lot less reliable.
>
> Could nor find any info how to "switch". InternetX.dll are in modules folder,
> should one of these be copied to bin? Or renamed?

CHANGES says

The default internet module modules\internet.dll is built using basic
WinSock calls.  There is an alternative modules\internet2.dll which uses
WinInet calls (and so needs Internet Explorer installed) which can be
used as a replacement.

so what is the difficulty?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 24 23:39:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Jun 2001 22:39:28 +0100 (BST)
Subject: [R] POSIX Date-Time Classes and missing values
In-Reply-To: <x24rt57l77.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.31.0106242236250.11753-100000@auk.stats>


On 24 Jun 2001, Peter Dalgaard BSA wrote:

> "Bill Oliver" <wloliver at qwest.net> writes:
>
> > Is there a good method for dealing with missing values when using the POSIX
> > date-time classes?
> >
> > I would like to convert character data with some missing values to dates, so
> > that I can calculate intervals of time. However, I'm having trouble figuring
> > out a good way to work with the missing values. Missing values cause
> > problems when converting to the POSIXct date-time class, as illustrated
> > below.
> >
> > > foobar
> > [1] "NA"                  "1992-02-27 22:29:56" "1992-01-14 01:03:30"
> > > as.POSIXct(foobar)
> > Error in fromchar(x) : character string is not in a standard unambiguous
> > format
> > >
>
> Hrm. There would seem to be some scope for improvement there...
>
> For now, as.POSIXct(strptime(foobar,format)) will work better. Notice
> though, that it gives NA also for invalid strings and that foobar must
> be a character vector so strptime(NA,format) won't work.

but strptime("NA", someformat) does, as one would expect.

> > Also, I haven't found a way to assign missing values to POSIX date-time
> > entries. For example, the following doesn't work.
> >
> > > foodate
> > [1] "1992-02-27 22:29:56 Mountain Standard Time" "1992-01-14 01:03:30
> > Mountain Standard Time"
> > > foodate[1] <- NA
> > Error in as.POSIXct.default(value) : Don't know how to convert `value' to
> > class "POSIXct"
>
> Again, that probably should be made work eventually, but here's a
> workaround:

It's deliberate.  We need to distinguish NA from an invalid date,
so you have to suply a valid rhs.

>
> x <- c("1jan1960", "2jan1960", "31mar1960", NA)
> z <- strptime(x, "%d%b%Y")
> y <- as.POSIXct(z)
> ctNA <- ISOdate(NA,NA,NA)
> y[1] <- ctNA
> y
>
> # [1] "NA"             "1960-01-02 CET" "1960-03-31 CET" "NA"
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon Jun 25 05:14:47 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 25 Jun 2001 15:14:47 +1200
Subject: [R] cex option in the text function
References: <OF143CF28E.147592A0-ON85256A73.0072A80B@hgsi.com>
Message-ID: <01a401c0fd24$fdbb1480$175dd882@stat.auckland.ac.nz>

Hi


> I am using the "text" function to write text on a graph and I am using the
> cex option to specify the size of my text.  It looks like if I specify any
> value < 0.5 the size does not change.  Anybody noticed that?  Any help?


R can only use the fonts that are available in the system it is installed
on.  This means that sometimes it has to use the nearest thing to what the
user requests.

On some systems, when it does not give exactly what the user asks for, it
gives a warning.  For example, the following is a transcript of a session on
my (UNIX/X11) system:

> plot(1:10, type="n")
> for (i in 1:10) text(i, i, "Hi There", cex=i/10)
Warning messages:
1: X11 used font size 8 when 2 was requested
2: X11 used font size 8 when 4 was requested
3: X11 used font size 8 when 5 was requested
4: X11 used font size 8 when 6 was requested
5: X11 used font size 8 when 7 was requested

However, notice that this warning is only given once (i.e., if I issue the
commands again, the warnings are not repeated -- this is because the font is
not reloaded).

To further complicate things, not all devices give this warning (e.g., my
old Windows system does not -- we should fix this if current Windows systems
still have the problem).

On the brighter side, this problem should only occur onscreen -- text
scaling should come out ok in PostScript output (because it uses scalable
fonts).

Does that help to explain the effect you are seeing?

Paul

p.s.  Onscreen, Hershey vector fonts should look ok too (because they are
scalable), but I have discovered that this does not work as it should -- I
am fixing this now.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Jun 25 07:40:16 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 25 Jun 2001 07:40:16 +0200
Subject: [R] verbatim environment in Rd-documents?
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEBICFAA.henrikb@braju.com>
References: <KKEGJOGBELBHDIKPINBMMEBICFAA.henrikb@braju.com>
Message-ID: <15158.52928.611965.233589@mithrandir.hornik.net>

>>>>> Henrik Bengtsson writes:

> Is there a verbatim environment in the Rd-format or is there an easy way to
> get the same result? Example what I would like to have:

> \verbatim{
>> str
>   function (object, ...)
>   UseMethod("str")
> }

> It would be something similar to \example, but I can not use \example
> since it generates a new section and can not be inside other
> sections. Also, it might not be R-code in verbatim environment. The
> verbatim environment should, as example, respond to newline (or at
> least it should be possible to force a newline). I believe \code
> should not be used for this purpose and it also does not respond to
> newlines or initial spaces (for indentation). It is too akward to have
> a \code statement for every line.

I don't think there is ... and even worse, I don't think there will be.

Rd.sty is meant for output from converting .Rd files via Rdconv.  And
the .Rd format does not have the above.  As we are trying to move away
from this format, most likely to something XML-based, it is basically in
feature freeze.

Unless, of course, you figure out how to modify the Perl code to do what
you want and send us the patches :-)

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 08:33:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 07:33:51 +0100 (BST)
Subject: [R] cex option in the text function
In-Reply-To: <01a401c0fd24$fdbb1480$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0106250718020.14714-100000@auk.stats>

On Mon, 25 Jun 2001, Paul Murrell wrote:

> Hi
>
>
> > I am using the "text" function to write text on a graph and I am using the
> > cex option to specify the size of my text.  It looks like if I specify any
> > value < 0.5 the size does not change.  Anybody noticed that?  Any help?
>
>
> R can only use the fonts that are available in the system it is installed
> on.  This means that sometimes it has to use the nearest thing to what the
> user requests.
>
> On some systems, when it does not give exactly what the user asks for, it
> gives a warning.  For example, the following is a transcript of a session on
> my (UNIX/X11) system:
>
> > plot(1:10, type="n")
> > for (i in 1:10) text(i, i, "Hi There", cex=i/10)
> Warning messages:
> 1: X11 used font size 8 when 2 was requested
> 2: X11 used font size 8 when 4 was requested
> 3: X11 used font size 8 when 5 was requested
> 4: X11 used font size 8 when 6 was requested
> 5: X11 used font size 8 when 7 was requested
>
> However, notice that this warning is only given once (i.e., if I issue the
> commands again, the warnings are not repeated -- this is because the font is
> not reloaded).

Not quite.  This warning is given if the X11 driver itself altered the size
you requested by more than 10%, in an attemot to get it satisfied.
It does not check what the X11 font server actually gave you, which could
be quite different.

I don't understand why the X11 device has a lower limit of 8 (pixels, I
believe).  With anti-aliasing, text can be readable much lower.

> To further complicate things, not all devices give this warning (e.g., my
> old Windows system does not -- we should fix this if current Windows systems
> still have the problem).

No other device does the fudging....  On Windows you should have scalable
fonts (at least in the default families) and get the size you ask for. The
allowed range is 2 to 100 points (not pixels).  In practice the text seems
unreadable below about 4 points on my laptop.

> On the brighter side, this problem should only occur onscreen -- text
> scaling should come out ok in PostScript output (because it uses scalable
> fonts).

I think that it is confined to the X11 device.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Mon Jun 25 08:42:38 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Mon, 25 Jun 2001 08:42:38 +0200
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <Pine.GSO.4.31.0106242159150.27850-100000@auk.stats>
Message-ID: <NBBBIJMBGLHMKHGCPFJKKEAOCHAA.dieter.menne@menne-biomed.de>

> There is an alternative modules\internet2.dll which uses
> WinInet calls (and so needs Internet Explorer installed) which can be
> used as a replacement.
> 
> so what is the difficulty?

"Can be used" == "I must explicitely switch to"

Expecting something like

  download.file(..., module="internet2.dll")
or
  options(imodule="internet2.dll")


Dieter Menne
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Jun 25 08:56:40 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 25 Jun 2001 08:56:40 +0200 (MET DST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <Pine.LNX.4.31.0106221630090.7634-100000@gannet.stats> from "Prof Brian Ripley" at Jun 22, 2001 04:32:37 PM
Message-ID: <200106250656.IAA10415@luc.ac.be>

> 
> On Fri, 22 Jun 2001, Jim Lindsey wrote:
> 
> > > There are also versions split for floppies.
> > >
> > > (Are anyone actually using the split-source versions and not capable
> > > of using the "split" command themselves? They do take up a lot of
> > > space, and I had to remove split versions of earlier releases to make
> > > room for the new one.)
> >
> > This are absolutely essential for developing countries were people may
> > not have their own computer online and no easy way to split on MS (I
> > believe).
> 
> The Windows binaries now come split into 6 floppies, so for Windows this
> is not an issue.  Peter was discussing the sources: are source users
> needed to transfer on floppies?  They need to get hold of the sources
> first, so it must be a question of transferring.

Yes of course. I know. I was referring to people who only have access
through a MS Windows servers for internet but work on Linux. Of
course, some MS Windows users requiring floppies will be excluded from
access to source code, a foundation of R, if the split source is no
longer available.
  Jim

> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 08:58:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 07:58:35 +0100 (GMT Daylight Time)
Subject: [R] update.packagesl (method=internal) on Windows
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKKEAOCHAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.WNT.4.31.0106250755040.210-100000@tern.stats>

If you read all of what I actually quote rather that snip bits out of
context and compare them with things you were `expecting', you will
be less confused.

On Mon, 25 Jun 2001, Dieter Menne wrote:

[Important omission here, not just who and what you are quoting.]
> > There is an alternative modules\internet2.dll which uses
> > WinInet calls (and so needs Internet Explorer installed) which can be
> > used as a replacement.
> >
> > so what is the difficulty?
>
> "Can be used" == "I must explicitely switch to"
>
> Expecting something like
>
>   download.file(..., module="internet2.dll")
> or
>   options(imodule="internet2.dll")
>
>
> Dieter Menne
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 09:11:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 08:11:35 +0100 (GMT Daylight Time)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <200106250656.IAA10415@luc.ac.be>
Message-ID: <Pine.WNT.4.31.0106250804120.210-100000@tern.stats>

As anyone with an Internet connection can download the sources, I cannot
see how anyone with access to R is `excluded' from the sources.

The issue seems to be the knowledge of how to split a file into
floppy-sized pieces (and to re-assemble them).  If we document that,
surely the issue is solved?


On Mon, 25 Jun 2001, Jim Lindsey wrote:

> >
> > On Fri, 22 Jun 2001, Jim Lindsey wrote:
> >
> > > > There are also versions split for floppies.
> > > >
> > > > (Are anyone actually using the split-source versions and not capable
> > > > of using the "split" command themselves? They do take up a lot of
> > > > space, and I had to remove split versions of earlier releases to make
> > > > room for the new one.)
> > >
> > > This are absolutely essential for developing countries were people may
> > > not have their own computer online and no easy way to split on MS (I
> > > believe).
> >
> > The Windows binaries now come split into 6 floppies, so for Windows this
> > is not an issue.  Peter was discussing the sources: are source users
> > needed to transfer on floppies?  They need to get hold of the sources
> > first, so it must be a question of transferring.
>
> Yes of course. I know. I was referring to people who only have access
> through a MS Windows servers for internet but work on Linux. Of
> course, some MS Windows users requiring floppies will be excluded from
> access to source code, a foundation of R, if the split source is no
> longer available.

I just don't see how.

>   Jim
>
> >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Jun 25 09:19:02 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 25 Jun 2001 09:19:02 +0200 (MET DST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <Pine.WNT.4.31.0106250804120.210-100000@tern.stats> from "Prof Brian D Ripley" at Jun 25, 2001 08:11:35 AM
Message-ID: <200106250719.JAA17495@luc.ac.be>

> 
> As anyone with an Internet connection can download the sources, I cannot
> see how anyone with access to R is `excluded' from the sources.

Many people in certain countries only have internet access through
commercial "cyber cafe" type installations and have little or no hard
disk rights. They have to load everything directly onto floppies for
transfer to their computer. If source is only available in a single
file too large for a floppy, these people are excluded.

> 
> The issue seems to be the knowledge of how to split a file into
> floppy-sized pieces (and to re-assemble them).  If we document that,
> surely the issue is solved?

Given the above, I suspect that the answer is no.  Jim

> 
> 
> On Mon, 25 Jun 2001, Jim Lindsey wrote:
> 
> > >
> > > On Fri, 22 Jun 2001, Jim Lindsey wrote:
> > >
> > > > > There are also versions split for floppies.
> > > > >
> > > > > (Are anyone actually using the split-source versions and not capable
> > > > > of using the "split" command themselves? They do take up a lot of
> > > > > space, and I had to remove split versions of earlier releases to make
> > > > > room for the new one.)
> > > >
> > > > This are absolutely essential for developing countries were people may
> > > > not have their own computer online and no easy way to split on MS (I
> > > > believe).
> > >
> > > The Windows binaries now come split into 6 floppies, so for Windows this
> > > is not an issue.  Peter was discussing the sources: are source users
> > > needed to transfer on floppies?  They need to get hold of the sources
> > > first, so it must be a question of transferring.
> >
> > Yes of course. I know. I was referring to people who only have access
> > through a MS Windows servers for internet but work on Linux. Of
> > course, some MS Windows users requiring floppies will be excluded from
> > access to source code, a foundation of R, if the split source is no
> > longer available.
> 
> I just don't see how.
> 
> >   Jim
> >
> > >
> > >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Jun 25 09:36:29 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 25 Jun 2001 09:36:29 +0200 (MET DST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <200106250719.JAA17495@luc.ac.be> from "Jim Lindsey" at Jun 25, 2001 09:19:02 AM
Message-ID: <200106250736.JAA18238@luc.ac.be>

> 
> > 
> > As anyone with an Internet connection can download the sources, I cannot
> > see how anyone with access to R is `excluded' from the sources.
> 
> Many people in certain countries only have internet access through
> commercial "cyber cafe" type installations and have little or no hard
> disk rights. They have to load everything directly onto floppies for
> transfer to their computer. If source is only available in a single
> file too large for a floppy, these people are excluded.

PS The very enlightened policy of the University of Liege is that
students must download directly, but they give them no hard disk space
so they must use floppies if they do not have an internet connection
at home. Jim

> 
> > 
> > The issue seems to be the knowledge of how to split a file into
> > floppy-sized pieces (and to re-assemble them).  If we document that,
> > surely the issue is solved?
> 
> Given the above, I suspect that the answer is no.  Jim
> 
> > 
> > 
> > On Mon, 25 Jun 2001, Jim Lindsey wrote:
> > 
> > > >
> > > > On Fri, 22 Jun 2001, Jim Lindsey wrote:
> > > >
> > > > > > There are also versions split for floppies.
> > > > > >
> > > > > > (Are anyone actually using the split-source versions and not capable
> > > > > > of using the "split" command themselves? They do take up a lot of
> > > > > > space, and I had to remove split versions of earlier releases to make
> > > > > > room for the new one.)
> > > > >
> > > > > This are absolutely essential for developing countries were people may
> > > > > not have their own computer online and no easy way to split on MS (I
> > > > > believe).
> > > >
> > > > The Windows binaries now come split into 6 floppies, so for Windows this
> > > > is not an issue.  Peter was discussing the sources: are source users
> > > > needed to transfer on floppies?  They need to get hold of the sources
> > > > first, so it must be a question of transferring.
> > >
> > > Yes of course. I know. I was referring to people who only have access
> > > through a MS Windows servers for internet but work on Linux. Of
> > > course, some MS Windows users requiring floppies will be excluded from
> > > access to source code, a foundation of R, if the split source is no
> > > longer available.
> > 
> > I just don't see how.
> > 
> > >   Jim
> > >
> > > >
> > > >
> > > > --
> > > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> > 
> > -- 
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Mon Jun 25 09:56:01 2001
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 25 Jun 2001 09:56:01 +0200 (MET DST)
Subject: [R] Re: R-1.3.0 is released
In-Reply-To: <200106250736.JAA18238@luc.ac.be>
Message-ID: <Pine.OSF.4.21.0106250952010.13802-100000@zidsrv.sci.uni-klu.ac.at>


BTW. I just removed all the SRPMs from my bin/linux/suse tree (Now I only
put the SPEC files there, so I do not double the space with repackaged
sources). This should lead to space reduction on CRAN and its mirrors,
may be this is an argument to leave the split source files there ;) ?


Albrecht

On Mon, 25 Jun 2001, Jim Lindsey wrote:

> > 
> > > 
> > > As anyone with an Internet connection can download the sources, I cannot
> > > see how anyone with access to R is `excluded' from the sources.
> > 
> > Many people in certain countries only have internet access through
> > commercial "cyber cafe" type installations and have little or no hard
> > disk rights. They have to load everything directly onto floppies for
> > transfer to their computer. If source is only available in a single
> > file too large for a floppy, these people are excluded.
> 
> PS The very enlightened policy of the University of Liege is that
> students must download directly, but they give them no hard disk space
> so they must use floppies if they do not have an internet connection
> at home. Jim
> 
> > 
> > > 
> > > The issue seems to be the knowledge of how to split a file into
> > > floppy-sized pieces (and to re-assemble them).  If we document that,
> > > surely the issue is solved?
> > 
> > Given the above, I suspect that the answer is no.  Jim
> > 
> > > 
> > > 
> > > On Mon, 25 Jun 2001, Jim Lindsey wrote:
> > > 
> > > > >
> > > > > On Fri, 22 Jun 2001, Jim Lindsey wrote:
> > > > >
> > > > > > > There are also versions split for floppies.
> > > > > > >
> > > > > > > (Are anyone actually using the split-source versions and not capable
> > > > > > > of using the "split" command themselves? They do take up a lot of
> > > > > > > space, and I had to remove split versions of earlier releases to make
> > > > > > > room for the new one.)
> > > > > >
> > > > > > This are absolutely essential for developing countries were people may
> > > > > > not have their own computer online and no easy way to split on MS (I
> > > > > > believe).
> > > > >
> > > > > The Windows binaries now come split into 6 floppies, so for Windows this
> > > > > is not an issue.  Peter was discussing the sources: are source users
> > > > > needed to transfer on floppies?  They need to get hold of the sources
> > > > > first, so it must be a question of transferring.
> > > >
> > > > Yes of course. I know. I was referring to people who only have access
> > > > through a MS Windows servers for internet but work on Linux. Of
> > > > course, some MS Windows users requiring floppies will be excluded from
> > > > access to source code, a foundation of R, if the split source is no
> > > > longer available.
> > > 
> > > I just don't see how.
> > > 
> > > >   Jim
> > > >
> > > > >
> > > > >
> > > > > --
> > > > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > > > >
> > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > >
> > > 
> > > -- 
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.rimmer at marketshare.com.au  Mon Jun 25 10:16:07 2001
From: james.rimmer at marketshare.com.au (James Rimmer)
Date: Mon, 25 Jun 2001 18:16:07 +1000
Subject: [R] Transparent background for graphs
Message-ID: <0C2C49DCA9C8D311B2980000E20E9D553769C4@sbsserver.marketshare.com.au>

Hello all

Is it possible to export graphs (in png/jpg/bmp format) with a transparent
background using R1.2.3?

Thanks
James
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 10:55:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 09:55:05 +0100 (BST)
Subject: [R] Transparent background for graphs
In-Reply-To: <0C2C49DCA9C8D311B2980000E20E9D553769C4@sbsserver.marketshare.com.au>
Message-ID: <Pine.GSO.4.31.0106250950330.14925-100000@auk.stats>

On Mon, 25 Jun 2001, James Rimmer wrote:

> Hello all
>
> Is it possible to export graphs (in png/jpg/bmp format) with a transparent
> background using R1.2.3?

No.  It is not possible to plot them with a transparent background either:
the background is solid white by default.

There are lots of ways to convert the exported plot to have a transparent
background after export, though.  For example, convert -transparency foo
will do it.  (convert is part of ImageMagick.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jun 25 11:12:28 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 25 Jun 2001 11:12:28 +0200 (MET DST)
Subject: [R] readSfile (Rstreams)
Message-ID: <Pine.OSF.3.96.1010625105700.11185B-100000@ija.csic.es>


Hi!

The manual entry for readSfile states:

"Not all S-PLUS objects can be handled in the current version. The most
frequently encountered exceptions are functions and expressions"

I have quite a number of functions writen in Splus for Unix version 3.x 
and saved as binary files. It would be quite difficult for me to 
find a machine runing that version (*) to make a dump and save to ascii.
Is there any way I could read in R the Splus functions in binary format?

(*)unless the Splus for Unix version could be installed on
a linux machine, any experience on that?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 11:41:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 25 Jun 2001 10:41:06 +0100 (BST)
Subject: [R] readSfile (Rstreams)
In-Reply-To: <Pine.OSF.3.96.1010625105700.11185B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0106251038310.14491-100000@gannet.stats>

On Mon, 25 Jun 2001, Agustin Lobo wrote:

>
> Hi!
>
> The manual entry for readSfile states:
>
> "Not all S-PLUS objects can be handled in the current version. The most
> frequently encountered exceptions are functions and expressions"
>
> I have quite a number of functions writen in Splus for Unix version 3.x
> and saved as binary files. It would be quite difficult for me to
> find a machine runing that version (*) to make a dump and save to ascii.
> Is there any way I could read in R the Splus functions in binary format?

You could try it and see.

But expecting one package to read another's internal format for functions
is asking a great deal, and to ask a free package to read a commercial
one's proprietary format is asking even more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Mon Jun 25 13:52:04 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Mon, 25 Jun 2001 13:52:04 +0200
Subject: [R] R with java
Message-ID: <3B3725E4.611CCD63@inrialpes.fr>

Hi all,

I would like to know if there is any way to use R subroutines
in a java program
Thanks,
Olivier.

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010625/48a4a6c5/attachment.html

From dmurdoch at pair.com  Mon Jun 25 14:37:11 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon, 25 Jun 2001 08:37:11 -0400
Subject: [R] readSfile (Rstreams)
In-Reply-To: <Pine.OSF.3.96.1010625105700.11185B-100000@ija.csic.es>
References: <Pine.OSF.3.96.1010625105700.11185B-100000@ija.csic.es>
Message-ID: <elbejt4vm7shd93mp75nheg7jkdtti7qf2@4ax.com>

On Mon, 25 Jun 2001 11:12:28 +0200 (MET DST), you wrote:

>
>Hi!
>
>The manual entry for readSfile states:
>
>"Not all S-PLUS objects can be handled in the current version. The most
>frequently encountered exceptions are functions and expressions"

The problem is that S-PLUS and R use different internal
representations for some things.  I can't remember any examples now,
but the sort of difference I'm talking about would be like storing 

 a+b+c+d

as

 +(a,b,c,d)

versus

 +(a,+(b,+(c,d)))

In this hypothetical example, the second system might think of "+" as
a function taking two arguments, and not understand the first listing
at all.

One thing you could probably do would be to modify readSfile to print
out debugging information about what it is reading instead of trying
to reconstruct the object as it is being read.  Then you (who are a
lot smarter than readSfile!) could figure out the specific problems it
is having with your functions, and add code to readSfile to handle
those things.  

But it would probably be easier to just install a copy of S-PLUS
somewhere, get it to read your files and generate ASCII dumps, and use
those.  As far as I know current versions of S-PLUS can still read
version 3.x files.  

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Mon Jun 25 15:14:02 2001
From: rls at pincock.com (Bob Sandefur)
Date: Mon, 25 Jun 2001 06:14:02 -0700
Subject: [R] paper tray selection in postscript()  in windows 2000
Message-ID: <sb36d6c3.059@smtp>

Hi-
 We have a printer which can print on 11x17 inch paper from tray 3.  If I use

postscript("mjnkthkzLFL.ps",paper="special",height=17,width=11,horizontal=FALSE)
....
...
...
dev.off()

and copy the mjnkthkzLFL.ps to lpt it comes out on 8.5x11. However if I use ghost script and gsview
on mjnkthkzLFL.ps I can print 11x17 fine.

using paper="11x17" gives invalid page type

I'm on 1.2.3 and 2000 professional.

Any suggestions other than hacking the *.ps files and/or r postscript headers?

thanx

Robert (Bob) L Sandefur 
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Mon Jun 25 15:11:48 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Mon, 25 Jun 2001 14:11:48 +0100
Subject: [R] tseries
Message-ID: <3B373894.BC4300E0@di.fct.unl.pt>

Greetings,

I am a student from New Lisbon University. I have to use the tseries
package. I am using the arma function. I tried to make the examples.
However, I don't seem to have the examples data(tcm) and data(nino).

Please, where shall I get these data files?

Thank you

CJoseBento
UNINova Lisboa
Portugal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 15:41:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 14:41:42 +0100 (GMT Daylight Time)
Subject: [R] tseries
In-Reply-To: <3B373894.BC4300E0@di.fct.unl.pt>
Message-ID: <Pine.WNT.4.31.0106251440120.464-100000@gannet>

On Mon, 25 Jun 2001, cjb wrote:

> Greetings,
>
> I am a student from New Lisbon University. I have to use the tseries
> package. I am using the arma function. I tried to make the examples.
> However, I don't seem to have the examples data(tcm) and data(nino).
>
> Please, where shall I get these data files?

They are part of the tseries package.  How did you install it, on what
platform and what R version?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Jun 25 15:52:32 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 25 Jun 2001 09:52:32 -0400
Subject: [R] Simulate ARMA(1,1) process
References: <01062417153500.01465@linux>
Message-ID: <3B37421F.A1416660@bank-banque-canada.ca>

>I would like to simulate an ARMA(1,1) process with/without constant.

In addition to the ts package you can do multivariate models with
simulate in the dse package.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Mon Jun 25 16:09:58 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Mon, 25 Jun 2001 15:09:58 +0100
Subject: [R] tseries
Message-ID: <3B374636.A8473004@di.fct.unl.pt>


Greetings,

I am a student from New Lisbon University. I am using R - 1.2.2.tgz on
Linux.
I have to use the tseries package. I am using the arma function. I tried
to make the examples.  I  have the data "tcm" and "nino" in the "data"
directory.
However, when I call the data(tcm) or data(nino) the warning message
says the data set is not found.

Please, what must I do?

Thank you

CJoseBento
UNINova Lisboa
Portugal



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 25 16:25:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jun 2001 16:25:37 +0200
Subject: [R] tseries
In-Reply-To: cjb's message of "Mon, 25 Jun 2001 15:09:58 +0100"
References: <3B374636.A8473004@di.fct.unl.pt>
Message-ID: <x24rt463ha.fsf@blueberry.kubism.ku.dk>

cjb <cjb at di.fct.unl.pt> writes:

> Greetings,
> 
> I am a student from New Lisbon University. I am using R - 1.2.2.tgz on
> Linux.
> I have to use the tseries package. I am using the arma function. I tried
> to make the examples.  I  have the data "tcm" and "nino" in the "data"
> directory.
> However, when I call the data(tcm) or data(nino) the warning message
> says the data set is not found.
> 
> Please, what must I do?

And it worked when you said library(tseries)?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Mon Jun 25 16:36:18 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Mon, 25 Jun 2001 15:36:18 +0100
Subject: [R] tseries
Message-ID: <3B374C62.1C203B17@di.fct.unl.pt>


Greetings,

I am a student from New Lisbon University. I am using R - 1.2.2.tgz on
Linux.
I have to use the tseries package. I am using the arma function. I tried

to make the examples.  I  have the data "tcm" and "nino" in the "data"
directory. Of course I loaded the package by library(ts)
However, when I call the data(tcm) or data(nino) the warning message
says the data set is not found.

Please, what must I do?

Thank you

CJoseBento
UNINova Lisboa
Portugal





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Mon Jun 25 16:38:05 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Mon, 25 Jun 2001 16:38:05 +0200 (MET DST)
Subject: [R] Installation and packages
Message-ID: <Pine.GSO.3.95q.1010625163151.27567H-100000@sun21.math.uni-hamburg.de>

Dear list,

how can old installed packages be maintained when R is updated (e.g. from
1.1.1 to 1.3.0)? Up to now we installed all packages (except the libraries
which come with the R base) once more in case
of every R update. Is this really necessary? (Solaris UNIX)

Thanks in advance,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 16:51:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 25 Jun 2001 15:51:21 +0100 (BST)
Subject: [R] Installation and packages
In-Reply-To: <Pine.GSO.3.95q.1010625163151.27567H-100000@sun21.math.uni-hamburg.de>
Message-ID: <Pine.LNX.4.31.0106251541430.1224-100000@gannet.stats>

On Mon, 25 Jun 2001, Christian Hennig wrote:

> Dear list,
>
> how can old installed packages be maintained when R is updated (e.g. from
> 1.1.1 to 1.3.0)? Up to now we installed all packages (except the libraries
> which come with the R base) once more in case
> of every R update. Is this really necessary? (Solaris UNIX)

Depends on the update.  To move from 1.1.1 to 1.2.0 or later, yes,
you need to re-install many of the packages as the header files changed
with the new memory management.  I found it hard to guess correctly
which ones, and re-installed all of them.

When I updated our installations on Friday, I installed 1.3.0 over where
1.3.0 had been installed, ran update.packages() and then looked for
files in the installation tree over a day old and deleted a few (the demos
directory for example).

If you have not updated at all since 1.1.1, update.packages() will
re-install all the current packages, as the oldest on CRAN is dated Jan
11, after 1.2.0 came out.  You will then want to REMOVE survival5 and
integrate, which are obselete.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jun 25 17:47:31 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 25 Jun 2001 08:47:31 -0700 (PDT)
Subject: [R] R with java
In-Reply-To: <3B3725E4.611CCD63@inrialpes.fr>
Message-ID: <Pine.A41.4.33.0106250846030.151108-100000@homer37.u.washington.edu>

On Mon, 25 Jun 2001, Olivier Martin wrote:

> Hi all,
>
> I would like to know if there is any way to use R subroutines
> in a java program

See
 http://www.omegahat.org/RSJava/index.html

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From didier at fmrib.ox.ac.uk  Mon Jun 25 17:53:17 2001
From: didier at fmrib.ox.ac.uk (Didier Leibovici)
Date: Mon, 25 Jun 2001 16:53:17 +0100
Subject: [R]printing from treillis.device
Message-ID: <3B375E6D.7C79681F@fmrib.ox.ac.uk>

Hi,
I was using xyplot 
and had problems in printing (on a postscript file)
when there was 
a session
like 
xyplot(....)
par(new=T)
xyplot(....)

after a print the result is that the ps contains only he last
xyplot!
any obvious things to do?
thanks
Didier


-- 
  Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
Image Analysis Group                          fax:+44 (0)1865 222 717
Oxford University, Centre For Functional Magnetic Resonance Imaging of
the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU,
U.K
http://www.fmrib.ox.ac.uk/~didier/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Jun 25 18:31:16 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 25 Jun 2001 18:31:16 +0200
Subject: [R] R with java
References: <3B3725E4.611CCD63@inrialpes.fr>
Message-ID: <3B376753.58B2ACC6@cbs.dtu.dk>

The Omegahat project is dealing with that I think...

There is a link to the Omegahat page in the 'contributed packages'
section of the CRAN website if I recollect correctly.


Cheers,




Laurent






Olivier Martin wrote:

> Hi all,
>
> I would like to know if there is any way to use R subroutines
> in a java program
> Thanks,
> Olivier.
>
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN               phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                  e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>
>

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010625/91ed2738/attachment.html

From tebaldi at ucar.edu  Mon Jun 25 18:52:21 2001
From: tebaldi at ucar.edu (Claudia Tebaldi)
Date: Mon, 25 Jun 2001 10:52:21 -0600
Subject: [R] maps in R
Message-ID: <3B376C45.758BE3E1@ucar.edu>

Hi everybody

Does any of you know how to mimick the functionality of the Splus
library "maps "  in R?

I.E.:I'd like to draw contours of the US and individual states, and be
able to overlay points by giving lat/long coordinates to points() or
text() functions.  I'd be a happy camper with just the state-level
resolution. . . .

thanks in advance

claudia







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Mon Jun 25 19:19:00 2001
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Mon, 25 Jun 2001 19:19:00 +0200
Subject: [R]printing from treillis.device
In-Reply-To: <3B375E6D.7C79681F@fmrib.ox.ac.uk>; from didier@fmrib.ox.ac.uk on Mon, Jun 25, 2001 at 04:53:17PM +0100
References: <3B375E6D.7C79681F@fmrib.ox.ac.uk>
Message-ID: <20010625191900.A942@gmx.de>

On Mon, Jun 25, 2001 at 04:53:17PM +0100, Didier Leibovici wrote:
> Hi,
> I was using xyplot 
> and had problems in printing (on a postscript file)
> when there was 
> a session
> like 
> xyplot(....)
> par(new=T)
> xyplot(....)
> 
> after a print the result is that the ps contains only he last
> xyplot!
> any obvious things to do?
> thanks
> Didier

According to Prof.Ripley it isn't a good idea to copy a trellis.device
to another device (eg printer). See the posting at the r-help
archive.

If you really want that you can

xyplot(...,page=function(i)dev.print(...,file=paste("/tmp/tmp",i,".ps",sep="")))

see ?trellis.args.

btw: Lattice is under development.

Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 25 19:30:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Jun 2001 18:30:51 +0100 (BST)
Subject: [R]printing from treillis.device
In-Reply-To: <20010625191900.A942@gmx.de>
Message-ID: <Pine.GSO.4.31.0106251825490.18709-100000@auk.stats>

On Mon, 25 Jun 2001, Peter Malewski wrote:

> On Mon, Jun 25, 2001 at 04:53:17PM +0100, Didier Leibovici wrote:
> > Hi,
> > I was using xyplot
> > and had problems in printing (on a postscript file)
> > when there was
> > a session
> > like
> > xyplot(....)
> > par(new=T)
> > xyplot(....)
> >
> > after a print the result is that the ps contains only he last
> > xyplot!
> > any obvious things to do?
> > thanks
> > Didier
>
> According to Prof.Ripley it isn't a good idea to copy a trellis.device
> to another device (eg printer). See the posting at the r-help
> archive.

(Yes, but he is plotting on a postscript device).

> If you really want that you can
>
> xyplot(...,page=function(i)dev.print(...,file=paste("/tmp/tmp",i,".ps",sep="")))
>
> see ?trellis.args.
>
> btw: Lattice is under development.

I think Didier's probelm is mixing GRZ-style and trellis-style graphics.
That is, par(new=T) does not do what he wants.

If you want to print a Trellis plot (that is what you do), and then add
another you need to use the `more' argument to print.trellis.

That is

print(xyplot(....), more=T)
xyplot(....)

works in the original, and looks like it should work in lattice too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayan at stat.wisc.edu  Mon Jun 25 19:44:05 2001
From: deepayan at stat.wisc.edu (Deepayan Sarkar)
Date: Mon, 25 Jun 2001 12:44:05 -0500 (CDT)
Subject: [R] Re: printing from treillis.device
In-Reply-To: <3B374525.E79B6C2F@fmrib.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0106251228250.20126-100000@gstat201.stat.wisc.edu>


Hi,

as Prof Ripley points out, standard R graphics concepts might not work
with grid/lattice. In particular, use of the par() function is not
guaranteed to give desired results. Another feature of Trellis (hence
lattice) graphics is that the paradigm of adding bits and pieces to an
existing plot don't work. 

For your particular example, it would be helpful to know what you are
attempting to do. Superimposing two plots (which is what it seems you are
trying to do) might be a bad idea. If you want to put more than one plot
on the same page, try print.trellis() with more=T, along with either
position= or split=. (See the help page for print.trellis for details and
examples.)

[Remember to start the postscript device by trellis.device() and not
postscript().]



On Mon, 25 Jun 2001, Didier Leibovici wrote:

> Hi,
> I was using xyplot 
> and find problems in printing (on a postscript file)
> when there was 
> a session
> like 
> xyplot(....)
> par(new=T)
> xyplot(....)
> 
> basically the result is the ps contain only he last
> xyplot!
> any obvious things to do?
> thanks
> Didier
> -- 
>   Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
> Image Analysis Group                          fax:+44 (0)1865 222 717
> Oxford University, Centre For Functional Magnetic Resonance Imaging of
> the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU,
> U.K
> http://www.fmrib.ox.ac.uk/~didier/
> 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Jun 25 20:10:28 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 25 Jun 2001 20:10:28 +0200 (MET DST)
Subject: [R] Trouble compiling R-1.3.0 under Tru64
Message-ID: <Pine.OSF.4.30.0106251941570.21738-100000@alnair.uio.no>

Dear all,

I have some difficulty getting R-1.3.0 to run on the alpha, with osf4.0e
(Tru64, or whatever they call it... :-) ).

configure reports the following configuration:
R is now configured for alphaev6-dec-osf4.0e

  Source directory:          .
  Installation directory:    /astro/local
  C compiler:                gcc  -mieee -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          f77  -fpe3 -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

configure: warning: you cannot build info versions of the R manuals

The compilation seems to run smoothly for a while, but stops with when
building ctest:
Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.  Stop.
It seems to be looking in the wrong place. I'm allready on thin ice, but I
tried to set R_HOME to the source directory, which is
/mn/alnair/u1/kjetikj/src/R-1.3.0/ It didn't work, but then I edited
share/make/shlib.mk to say
include /mn/alnair/u1/kjetikj/src/R-1.3.0/etc/Makeconf
and that seemed to work, the make was completed. I guess I might have done
something entirely wrong here, though, that may be the cause of the
subsequent crash.

Then I do make check, and while many tests are successful, they aren't
all:
creating `no-segfault.R'
running `no-segfault.R'
sh: 22380 Floating exception
*** Exit 136
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.

Help will be greatly appreciated!

BTW, before I did all this, I also tried to build R using cc as C compiler
with some optimization options. Last year, I had problems with cc and R,
as reported in (if I remember correctly) PR#551. I figured I might give it
another try, especially given the new garbage collector in 1.2.0. I failed
to reproduce the problem I had back then, something that may be a good
sign, to this build also didn't pass make check. Between the builds, I
cleared everything by removing source directory and re-extracting from
tar.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Mon Jun 25 20:10:24 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 25 Jun 2001 20:10:24 +0200 (CEST)
Subject: [R] maps in R
In-Reply-To: <3B376C45.758BE3E1@ucar.edu>
Message-ID: <Pine.LNX.4.21.0106251954370.31590-100000@reclus.nhh.no>

On Mon, 25 Jun 2001, Claudia Tebaldi wrote:

> Hi everybody
> 
> Does any of you know how to mimick the functionality of the Splus
> library "maps "  in R?
> 
> I.E.:I'd like to draw contours of the US and individual states, and be
> able to overlay points by giving lat/long coordinates to points() or
> text() functions.  I'd be a happy camper with just the state-level
> resolution. . . .
> 
A port to R without projection by Ray Brownrigg is available on:

ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/

with versions for Linux/Intel or Solaris/Sparc - it's largish, because it
includes the binary versions of the databases. It was last updated in
September 2000. It was first mentioned in r-help on 13 November 1999, with
the above address.

I can confirm that it works for 1.3.0 on RH7.0 Linux Intel:

> map('state')

Happy camping!

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Mon Jun 25 21:43:54 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Mon, 25 Jun 2001 12:43:54 -0700 (PDT)
Subject: [R] paper tray selection in postscript()  in windows 2000
In-Reply-To: <sb36d6c3.059@smtp>
Message-ID: <Pine.LNX.4.04.10106251202090.27796-100000@xyzzy.dsl.speakeasy.net>

On Mon, 25 Jun 2001, Bob Sandefur wrote:
> Hi-
>  We have a printer which can print on 11x17 inch paper from tray 3.  If I use

We have a printer like this too.  R doesn't put a postscript command to set
the paper size in it's output, so the printer uses the default paper size.

Our printer is an HP inkjet printer, and due to the paper handling mechanism,
it needs a margin of at least 1/2" on the trailing edge of the paper.  R only
lets you select between a 1/4" margin on all sides or no margin with the plot
in one corner.  Unless you use paper="special", in which case you can't have
any margins at all.

I made a patch that adds the proper stuff to the R postscript driver, and it
works fine.  The patch will make the driver output a "setpagedevice"
postscript command that selects the paper size.  I also added an option
"inkjet" which will select 1/2" trailing edge and 1/8" leading edge margins. 
And I added a table with over a dozen different paper sizes, so you can use
the name "tabloid" instead of special.  This is important because you can't
have margins with a special paper size.

Unfortunately you won't see this patch in R.  Prof.  Ripley uses Solaris, and
Solaris has a "Document Manager" that handles this paper size issue.  It seems
he feels that users must either use Solaris, or edit the postscript output of
R by hand.  I found editing 33MB postscript files by hand after every plot
to be rather tedious, so I patched R.


> using paper="11x17" gives invalid page type

11x17 is normally called tabloid.  If you have 17" wide paper and 11" high,
i.e. landscape 11x17, it can be called ledger size.  R only knows a few paper
sizes, and tabloid isn't one of them.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Mon Jun 25 23:08:30 2001
From: rls at pincock.com (Bob Sandefur)
Date: Mon, 25 Jun 2001 14:08:30 -0700
Subject: [R] paper tray selection in postscript()  in windows 2000	- a hack for hp8100
Message-ID: <sb3745e7.075@smtp>

hi

 after the message below and some digging in .ps files I found that
 replacing the line:

%%DocumentMedia: special 792 1224 0 () ()

with:

%%BeginFeature: *PageRegion Tabloid

  <</PageSize [792 1224] /ImagingBBox null>> setpagedevice
%%EndFeature

selects the right paper tray

Thanx

bob sandefur

>>> Trent Piepho <xyzzy at speakeasy.org> 06/25/01 01:43PM >>>
On Mon, 25 Jun 2001, Bob Sandefur wrote:
> Hi-
>  We have a printer which can print on 11x17 inch paper from tray 3.  If I use

We have a printer like this too.  R doesn't put a postscript command to set
the paper size in it's output, so the printer uses the default paper size.

Our printer is an HP inkjet printer, and due to the paper handling mechanism,
it needs a margin of at least 1/2" on the trailing edge of the paper.  R only
lets you select between a 1/4" margin on all sides or no margin with the plot
in one corner.  Unless you use paper="special", in which case you can't have
any margins at all.

I made a patch that adds the proper stuff to the R postscript driver, and it
works fine.  The patch will make the driver output a "setpagedevice"
postscript command that selects the paper size.  I also added an option
"inkjet" which will select 1/2" trailing edge and 1/8" leading edge margins. 
And I added a table with over a dozen different paper sizes, so you can use
the name "tabloid" instead of special.  This is important because you can't
have margins with a special paper size.

Unfortunately you won't see this patch in R.  Prof.  Ripley uses Solaris, and
Solaris has a "Document Manager" that handles this paper size issue.  It seems
he feels that users must either use Solaris, or edit the postscript output of
R by hand.  I found editing 33MB postscript files by hand after every plot
to be rather tedious, so I patched R.


> using paper="11x17" gives invalid page type

11x17 is normally called tabloid.  If you have 17" wide paper and 11" high,
i.e. landscape 11x17, it can be called ledger size.  R only knows a few paper
sizes, and tabloid isn't one of them.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Mon Jun 25 23:23:31 2001
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 25 Jun 2001 23:23:31 +0200 (MET DST)
Subject: [R] Trouble compiling R-1.3.0 under Tru64
In-Reply-To: <Pine.OSF.4.30.0106251941570.21738-100000@alnair.uio.no>
Message-ID: <Pine.OSF.4.21.0106252211570.23165-100000@zidsrv.sci.uni-klu.ac.at>

On Mon, 25 Jun 2001, Kjetil Kjernsmo wrote:

> Dear all,
> 
> I have some difficulty getting R-1.3.0 to run on the alpha, with osf4.0e
> (Tru64, or whatever they call it... :-) ).
> 
> configure reports the following configuration:
> R is now configured for alphaev6-dec-osf4.0e
> 
>   Source directory:          .
>   Installation directory:    /astro/local
>   C compiler:                gcc  -mieee -g -O2
>   C++ compiler:              c++  -g -O2
>   FORTRAN compiler:          f77  -fpe3 -g
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 

You are using GCC mixed with DEC f77?

I had no compile problems with a GCC/G77 configuration:

(for 1.3.0 --without-blas should be the default for tru64/alpha so could
be ommitted)

./configure --enable-R-shlib --prefix=/usr/local --without-blas
...
R is now configured for alphaev56-dec-osf4.0e

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -mieee -I/usr/local/include
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -mieee -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes

  R profiling support:       yes
  R as a shared library:     yes

and make check passes all tests.

versions:
agebhard at delta[agebhard]$ sizer -v
Digital UNIX V4.0E  (Rev. 1091); Sat Aug 26 15:24:28 MET DST 2000 
agebhard at delta[agebhard]$ gcc -v
Reading specs from /usr/local/lib/gcc-lib/alpha-dec-osf4.0/2.95.2/specs
gcc version 2.95.2 19991024 (release)
agebhard at delta[agebhard]$ g77 -v
g77 version 2.95.2 19991024 (release) (from FSF-g77 version 0.5.25
19991024 (release))
agebhard at delta[agebhard]$ make -v
GNU Make version 3.76.1, by Richard Stallman and Roland McGrath.
agebhard at delta[agebhard]$ perl -v
This is perl, version 5.005_02 built for alpha-dec_osf-thread


Albrecht



// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gat038 at riverside.csiro.au  Tue Jun 26 00:47:41 2001
From: gat038 at riverside.csiro.au (Gatehouse, Simon (DEM, North Ryde))
Date: Tue, 26 Jun 2001 08:47:41 +1000
Subject: [R] Linking R to GIS
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8045C911A@anaconda>

Dear All,
Has anyone worked with linking R to both ArcView and MapInfo GIS systems? My
desire is to capture object selection from GIS and pass to R and to return
spatially based statistical model results from R to GIS. If both could
simultaneously access the same data file this would be a bonus.

My inclination is to put together some routines based on ODBC linking but
thought I would seek like minded people before 
pressing too far into the evaluation.  Any thoughts or suggested alternative
directions or shared examination would be welcome.

SimonG

****************************************************************************
*****************************
Simon Gatehouse                                  Phone: 61 (2) 9490 8677
Geochemist                                           Mobile:61 0407 130 635
CSIRO Exploration & Mining                   Fax:   61 (2) 9490 8921
 
Address:
CSIRO Division of Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW 2113
 
Mail:     
CSIRO Division of Exploration and Mining,
P.O. Box 136
North Ryde, NSW  1670
Australia
 
E-mail:          simon.gatehouse at dem.csiro.au
Web Page:        http://www.csiro.au/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue Jun 26 10:55:29 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 26 Jun 2001 10:55:29 +0200 (CEST)
Subject: [R] Linking R to GIS
In-Reply-To: <0504018E9DCAD1119FE900A0C9A39AF8045C911A@anaconda>
Message-ID: <Pine.LNX.4.21.0106261032460.32196-100000@reclus.nhh.no>

On Tue, 26 Jun 2001, Gatehouse, Simon (DEM, North Ryde) wrote:

> Dear All,
> Has anyone worked with linking R to both ArcView and MapInfo GIS systems? My
> desire is to capture object selection from GIS and pass to R and to return
> spatially based statistical model results from R to GIS. If both could
> simultaneously access the same data file this would be a bonus.
> 
> My inclination is to put together some routines based on ODBC linking but
> thought I would seek like minded people before 
> pressing too far into the evaluation.  Any thoughts or suggested alternative
> directions or shared examination would be welcome.
> 
One general comment and a couple of suggestions. Both ArcView and MapInfo
treat the geometry of spatial objects in a simplifying way, not handling
topology in the thorough way that heavy-duty GIS - like Arc-Info - do.
While most scientists are afforded access to desk-top style GIS such as
these, there are valid issues to be addressed about the need for topology
in interfacing (not least unambiguity in choice of spatial objects). The S
map.builder (http://lib.stat.cmu.edu/general/map.builder) does construct
the topology, GRASS does too, both for legacy vector and the forthcoming
5.1 beta vector revision.

Not forgetting that, your idea of doing the selection in the GIS and
getting R to interface the attribute table (ie. doing aspatial analysis on
the attributes in R) via ODBC is potentially viable. It might be feasible
to prototype it using the connections interface family now in R-base - see
the R Data Import/Export manual. Even writing a *.csv file might do - or
maybe the DCOM package under contrib/extra/dcom at CRAN. However, this
just gets the attribute data into R and back again.

I'm sure there are plenty of people with similar problems who would be
interested in how you progress.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jun 26 14:10:00 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 26 Jun 2001 14:10:00 +0200 (MET DST)
Subject: [R] My_first_R_package: almost there
In-Reply-To: <Pine.A41.4.33.0106220808360.45898-100000@homer24.u.washington.edu>
Message-ID: <Pine.OSF.3.96.1010626135500.1244B-100000@ija.csic.es>


Well, thanks to you all
I've been able to install my first
little package. I've dumped
some of my Splus(PC) functions
to an ascii file (*.R), created
the directory structure and the
DESCRIPTION and INDEX files. Then
I checked and installed with:

R CMD INSTALL -l ~/.R/library Sutilpangea

because I found that I have an .R directory
in my home where a subdirectory .R/library
has links to where the packages really are
(/usr/lib/R/library). Therefore, I decided
to keep  my own packages in .R/library
while the CRAN packages really stay in
/usr/lib/R/library.

Now the only problem is that, by default, R
searches packages in /usr/lib/R/library
because of the value of R_HOME:

> system ("echo $R_HOME")
/usr/lib/R

It would be better if R would
search packages in my .R/library
directory, where R would find both my packages
and the links for the CRAN packages.
How can I change the deafault searching
path for the packages? (I know
I can always do library(xxx, lib.loc="/home/alobo/.R/library"),
but it would be nicer having this as default).

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jun 26 14:17:52 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 26 Jun 2001 14:17:52 +0200
Subject: [R] My_first_R_package: almost there
In-Reply-To: <Pine.OSF.3.96.1010626135500.1244B-100000@ija.csic.es>
References: <Pine.A41.4.33.0106220808360.45898-100000@homer24.u.washington.edu>
	<Pine.OSF.3.96.1010626135500.1244B-100000@ija.csic.es>
Message-ID: <15160.32112.432184.126769@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 26 Jun 2001 14:10:00 +0200 (MET DST),
>>>>> Agustin Lobo (AL) wrote:

  > Well, thanks to you all
  > I've been able to install my first
  > little package. I've dumped
  > some of my Splus(PC) functions
  > to an ascii file (*.R), created
  > the directory structure and the
  > DESCRIPTION and INDEX files. Then
  > I checked and installed with:

  > R CMD INSTALL -l ~/.R/library Sutilpangea

This is not a good idea, because the .R directory is a *temporary*
directory that R uses (on unix), and basically is created newly every
time you do help.start(), so your package will get deleted if you
install it there.

A typical place for private packages would be $HOME/lib/R but of
course you're free to use any place you like (except .R :-)


  > because I found that I have an .R directory
  > in my home where a subdirectory .R/library
  > has links to where the packages really are
  > (/usr/lib/R/library). Therefore, I decided
  > to keep  my own packages in .R/library
  > while the CRAN packages really stay in
  > /usr/lib/R/library.

  > Now the only problem is that, by default, R
  > searches packages in /usr/lib/R/library
  > because of the value of R_HOME:

  >> system ("echo $R_HOME")
  > /usr/lib/R

  > It would be better if R would
  > search packages in my .R/library
  > directory, where R would find both my packages
  > and the links for the CRAN packages.
  > How can I change the deafault searching
  > path for the packages? (I know
  > I can always do library(xxx, lib.loc="/home/alobo/.R/library"),
  > but it would be nicer having this as default).

One possible way to solve this problem: R searches all libraries in
the environment variable R_LIBS, please read the documentation.

Hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Tue Jun 26 15:48:31 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Tue, 26 Jun 2001 09:48:31 -0400
Subject: [R] maps in R
In-Reply-To: <Pine.LNX.4.21.0106251954370.31590-100000@reclus.nhh.no>
References: <3B376C45.758BE3E1@ucar.edu>
Message-ID: <200106261349.f5QDniT09091@water.cc.mcgill.ca>

Hello. Any idea if this map package will be ported to R-windows?
What is in it that is Unix/Linux dependent?
not the computations and projections, must be only the plotting?

Date sent:      Mon, 25 Jun 2001 20:10:24 +0200 (CEST)
From:           Roger Bivand <Roger.Bivand at nhh.no>
Subject:        Re: [R] maps in R
To:             Claudia Tebaldi <tebaldi at ucar.edu>
Copies to:      r-help at stat.math.ethz.ch, Gardar Johannesson <gardar at stat.ohio-state.edu>
Send reply to: Roger.Bivand at nhh.no
> On Mon, 25 Jun 2001, Claudia Tebaldi wrote:
> 
> > Hi everybody
> > 
> > Does any of you know how to mimick the functionality of the Splus
> > library "maps "  in R?
> > 
> > I.E.:I'd like to draw contours of the US and individual states, and be
> > able to overlay points by giving lat/long coordinates to points() or
> > text() functions.  I'd be a happy camper with just the state-level
> > resolution. . . .
> > 
> A port to R without projection by Ray Brownrigg is available on:
> 
> ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/
> 
> with versions for Linux/Intel or Solaris/Sparc - it's largish, because it
> includes the binary versions of the databases. It was last updated in
> September 2000. It was first mentioned in r-help on 13 November 1999, with
> the above address.
> 
> I can confirm that it works for 1.3.0 on RH7.0 Linux Intel:
> 
> > map('state')
> 
> Happy camping!
> 
> Roger
> 
> -- 
> Roger Bivand
> Economic Geography Section, Department of Economics, Norwegian School of
> Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
> Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93 e-mail:
> Roger.Bivand at nhh.no and: Department of Geography and Regional Development,
> University of Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia,
> Poland.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 


R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From frederic at mit.edu  Tue Jun 26 16:23:06 2001
From: frederic at mit.edu (Frederic Chagnon)
Date: Tue, 26 Jun 2001 10:23:06 -0400 (EDT)
Subject: [R] compiling R-1.3.0 under Tru64 Unix
Message-ID: <Pine.GSO.4.30L.0106261010530.4676-100000@jimi-hendrix.mit.edu>

Dear all-

I get the same problem in compiling R-1.3.0 on
Tru64 Unix (OSF 5.0). Here is the final output of
the ./configure

R is now configured for alphaev67-dec-osf5.0

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -mieee -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          f77  -fpe3 -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes

  R profiling support:       yes
  R as a shared library:     no



... and the make stops at the same point as
Kjetil (at the ctest compile.) The final error
message is as follows:

Make: Cannot open
../../../../share/make/../../../../etc/Makeconf.
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.

I've tried Albrecht's suggestion of configuring
without-blas, but it doesn't work. I don't think
it's a problem with mixing dec f77 with gcc (I've
used them in comination in the past without any
conflicts.) Anybody have any ideas? Could it be a
typo in the make script?

regards,

fred


-----------------------------------------------------------
Frederic Chagnon     Massachusetts Institute of Technology
Bldg 48, Room 212    Ralph M. Parsons Laboratory
Doctoral Candidate   15 Vassar Street, Cambridge, MA, 02139
ph. +1.617.253.5483  frederic at mit.edu
-----------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Tue Jun 26 17:10:32 2001
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Tue, 26 Jun 2001 11:10:32 -0400
Subject: [R] Sd2Rd Hangup
Message-ID: <7975A3F85F08D5119C610002A5134856AA4A4B@Msgbos686nts.fmr.com>

I've been converting a number of .sgml S-documentation filed to .Rd format
and a few persistent complications--all involving the documentation's
examples--have arisen every time I issue the standard R CMD check to prepare
my project for building. The impression I get is that the check script
simply tries to execute every R command in the included documentation's
example{ } sections. But since Sd2Rd essentially dumps an S-documentation
file's example contents into the new .Rd file, formatting problems crop up.
Correct me if I'm wrong, but Sd2Rd neither strips each example line's
opening greater-than (">") nor prunes the output. And then check barks at me
when R can't execute either of the ">"-padded example code or the actual
output, which I didn't even intend for it to try to interpret in the first
place. In the meantime, I've been using a Perl script that sifts through a
set of .Rd's and makes the proper connections, stripping all ">"s and
sticking "\dontrun"s around the output, but I was wondering if there's a
better or built-in way. Any advice?

Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 17:15:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 16:15:22 +0100 (BST)
Subject: [R] maps in R
In-Reply-To: <200106261349.f5QDniT09091@water.cc.mcgill.ca>
Message-ID: <Pine.LNX.4.31.0106261605570.1213-100000@gannet.stats>

On Tue, 26 Jun 2001, Heberto Ghezzo wrote:

> Hello. Any idea if this map package will be ported to R-windows?
> What is in it that is Unix/Linux dependent?
> not the computations and projections, must be only the plotting?

I appears that this is really big-endian vs little-endian.  I don't
see why you can't install the _intel version on Windows.  It is not a
standard package, though, so you would need to change its Makefiles.
By deleting the Makefile and moving all the sources into maps/src I was
able to cross-compile it, which indicates some hope.

>
> Date sent:      Mon, 25 Jun 2001 20:10:24 +0200 (CEST)
> From:           Roger Bivand <Roger.Bivand at nhh.no>
> Subject:        Re: [R] maps in R
> To:             Claudia Tebaldi <tebaldi at ucar.edu>
> Copies to:      r-help at stat.math.ethz.ch, Gardar Johannesson <gardar at stat.ohio-state.edu>
> Send reply to: Roger.Bivand at nhh.no
> > On Mon, 25 Jun 2001, Claudia Tebaldi wrote:
> >
> > > Hi everybody
> > >
> > > Does any of you know how to mimick the functionality of the Splus
> > > library "maps "  in R?
> > >
> > > I.E.:I'd like to draw contours of the US and individual states, and be
> > > able to overlay points by giving lat/long coordinates to points() or
> > > text() functions.  I'd be a happy camper with just the state-level
> > > resolution. . . .
> > >
> > A port to R without projection by Ray Brownrigg is available on:
> >
> > ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/
> >
> > with versions for Linux/Intel or Solaris/Sparc - it's largish, because it
> > includes the binary versions of the databases. It was last updated in
> > September 2000. It was first mentioned in r-help on 13 November 1999, with
> > the above address.
> >
> > I can confirm that it works for 1.3.0 on RH7.0 Linux Intel:
> >
> > > map('state')
> >
> > Happy camping!
> >
> > Roger
> >
> > --
> > Roger Bivand
> > Economic Geography Section, Department of Economics, Norwegian School of
> > Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
> > Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93 e-mail:
> > Roger.Bivand at nhh.no and: Department of Geography and Regional Development,
> > University of Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia,
> > Poland.
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.- r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> > "[un]subscribe" (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
> >
>
>
> R. Heberto Ghezzo  Ph.D.
> Meakins-Christie Labs
> McGill University
> Montreal - Canada
> heberto at meakins.lan.mcgill.ca
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 17:26:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 16:26:47 +0100 (BST)
Subject: [R] Sd2Rd Hangup
In-Reply-To: <7975A3F85F08D5119C610002A5134856AA4A4B@Msgbos686nts.fmr.com>
Message-ID: <Pine.LNX.4.31.0106261620260.1213-100000@gannet.stats>

On Tue, 26 Jun 2001, Bartz, Kevin wrote:

> I've been converting a number of .sgml S-documentation filed to .Rd format
> and a few persistent complications--all involving the documentation's
> examples--have arisen every time I issue the standard R CMD check to prepare
> my project for building. The impression I get is that the check script
> simply tries to execute every R command in the included documentation's
> example{ } sections. But since Sd2Rd essentially dumps an S-documentation
> file's example contents into the new .Rd file, formatting problems crop up.
> Correct me if I'm wrong, but Sd2Rd neither strips each example line's
> opening greater-than (">") nor prunes the output. And then check barks at me

Right.  There are no conventions for example sections in S's .d or .sgml
files.

> when R can't execute either of the ">"-padded example code or the actual
> output, which I didn't even intend for it to try to interpret in the first
> place. In the meantime, I've been using a Perl script that sifts through a
> set of .Rd's and makes the proper connections, stripping all ">"s and
> sticking "\dontrun"s around the output, but I was wondering if there's a
> better or built-in way. Any advice?

If that works for you, that's the best I know of.  Most authors of S help
files do not include the > nor the output, so I see few problems in the
literally hundreds of such files I have ported.  When I do, I have to hand
edit, and for example the VR conversion scripts contain a set of patch
files to convert my co-author's conventions to R's.

But I am glad to know that someone is benefiting from the work I put in
writing the .sgml->.Rd converter.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Tue Jun 26 17:35:36 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Tue, 26 Jun 2001 17:35:36 +0200 (MEST)
Subject: [R] generating multivariate normal random numbers in C
Message-ID: <15160.43027.382279.603512@autan.toulouse.inra.fr>

hello all,
I'm looking for a C/C++ library (or algorithm) to compute draws from a
multivariate normal distribution in order to do block sampling.
(I'm plugging my results in an R function so this is not really off
topic ;)
thanks for your help,
  Mathieu

-- 
Mathieu Ros
Laboratoire de G?n?tique Cellulaire
INRA-Toulouse [05 6128 5119]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 26 17:41:29 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 26 Jun 2001 08:41:29 -0700 (PDT)
Subject: [R] Sd2Rd Hangup
In-Reply-To: <7975A3F85F08D5119C610002A5134856AA4A4B@Msgbos686nts.fmr.com>
Message-ID: <Pine.A41.4.33.0106260826300.84244-100000@homer39.u.washington.edu>

On Tue, 26 Jun 2001, Bartz, Kevin wrote:

> I've been converting a number of .sgml S-documentation filed to .Rd format
> and a few persistent complications--all involving the documentation's
> examples--have arisen every time I issue the standard R CMD check to prepare
> my project for building. The impression I get is that the check script
> simply tries to execute every R command in the included documentation's
> example{ } sections. But since Sd2Rd essentially dumps an S-documentation
> file's example contents into the new .Rd file, formatting problems crop up.


Indeed. And not just formatting problems.

S has never enforced a policy on whether examples should be executable
source or session transcripts (though the former seems much more common),
or on whether executable source actually has to run, so the format doesn't
let you specify, and it would be hard for a program to guess.

R does enforce a policy, as you have found. However, in converting other
people's S help files I have found editing the content of the examples to
be more work than editing the format -- S examples don't have to work, but
R examples do.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Rieckermann at eawag.ch  Tue Jun 26 17:42:06 2001
From: Joerg.Rieckermann at eawag.ch (Rieckermann Joerg)
Date: Tue, 26 Jun 2001 17:42:06 +0200
Subject: [R] integrate?
Message-ID: <3.0.32.20010626174206.00937aa0@hermes.eawag.ch>

Dear all,

I am a R newbie and desperately looking for the "integrate" function?

At 
http://www.stat.math.ethz.ch/R/manual/library/base/html/integrate.html
there is a detailed reference, but it seems as if it were NOT include in
{base}.
Are there similar (newer) functions to make a quick integration?

Thanks a lot,

J?rg Rieckermann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 26 17:43:09 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 26 Jun 2001 08:43:09 -0700 (PDT)
Subject: [R] generating multivariate normal random numbers in C
In-Reply-To: <15160.43027.382279.603512@autan.toulouse.inra.fr>
Message-ID: <Pine.A41.4.33.0106260841480.84244-100000@homer39.u.washington.edu>

On Tue, 26 Jun 2001, Mathieu Ros wrote:

> hello all,
> I'm looking for a C/C++ library (or algorithm) to compute draws from a
> multivariate normal distribution in order to do block sampling.
> (I'm plugging my results in an R function so this is not really off
> topic ;)

In that case, why not use mvrnorm() in the MASS package? It's not in C,
but it doesn't need to be.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Tue Jun 26 17:44:11 2001
From: dfs at research.att.com (Deborah Swayne)
Date: Tue, 26 Jun 2001 11:44:11 -0400
Subject: [R] building R-1.3.0
Message-ID: <20010626114411.I3408822@fry.research.att.com>

I'm building R-1.3.0 on an SGI running IRIX 6.5.  (Duncan will
testify that he longs to go into our computer room and shoot
this particular machine, but I'm stuck with it.)

I get the following complaints during the build, despite the
fact that configure has happily verified that the machine has
sys/socket.h and netinet/in.h, in which these are defined:

nanoftp.c:771: `AF_INET' undeclared (first use in this function)
nanoftp.c:781: `SOCK_STREAM' undeclared (first use in this function)
nanoftp.c:1090: `IPPROTO_TCP' undeclared (first use in this function)

Any advice?

Debby

-- 
Deborah Swayne               AT&T Labs - Research 
dfs at research.att.com         Shannon Laboratory, Room B295     
www.research.att.com/~dfs    180 Park Avenue
973 360-8423                 Florham Park, NJ 07932-0971
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 26 17:48:57 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 26 Jun 2001 08:48:57 -0700 (PDT)
Subject: [R] integrate?
In-Reply-To: <3.0.32.20010626174206.00937aa0@hermes.eawag.ch>
Message-ID: <Pine.A41.4.33.0106260847450.84244-100000@homer39.u.washington.edu>

On Tue, 26 Jun 2001, Rieckermann Joerg wrote:

> Dear all,
>
> I am a R newbie and desperately looking for the "integrate" function?
>
> At
> http://www.stat.math.ethz.ch/R/manual/library/base/html/integrate.html
> there is a detailed reference, but it seems as if it were NOT include in
> {base}.
> Are there similar (newer) functions to make a quick integration?

It *is* in base, in the current version of R, 1.3.0.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Jun 26 17:51:36 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 26 Jun 2001 11:51:36 -0400 (EDT)
Subject: [R] plotting 2 y axes
Message-ID: <Pine.SOL.4.33.0106261146510.18089-100000@julius.ling.ohio-state.edu>


Hello,

I'm plotting two y axes and have had good success using plot (specifying
axes=F and ann=F) then adding the y axis to the right with axis(4...) and
overlaying another plot (this time leaving the axis and labels in place.
My difficulty lies in getting a label for the right-side y-axis.

Here's the code I'm using:

 plot(spectrum[, 1], spectrum[, 2], xlim = xlim, ylim = ylim,
        type = "l", axes=F, ann=F)
    par(new = TRUE)
    plot(spectrum[, 1], preemp[, 2], xlim = xlim, ylim = ylim,
        type = "l", col = "red", ann = FALSE, axes=F)
    axis(4, labels=T, tick=T, ylim=ylim, ylab="Amplitude (dB)")
    abline(v = f1, lty = 3)
par(new = TRUE)
    ylim2 <- c(min(centroids[, 2]), max(centroids[, 2]))
    plot(centroids[, 1], centroids[, 2],
        xlim = xlim, ylim = ylim2, type="b", xlab="Freqeuncy (Hz)",
ylab="Percent total amplitude (%)")


Thanks in advance.

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Tue Jun 26 17:59:07 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Tue, 26 Jun 2001 17:59:07 +0200 (MEST)
Subject: [R] generating multivariate normal random numbers in C
In-Reply-To: <Pine.A41.4.33.0106260841480.84244-100000@homer39.u.washington.edu>
References: <15160.43027.382279.603512@autan.toulouse.inra.fr>
	<Pine.A41.4.33.0106260841480.84244-100000@homer39.u.washington.edu>
Message-ID: <15160.44729.463218.953819@autan.toulouse.inra.fr>

>>>>> "TL" == Thomas Lumley <tlumley at u.washington.edu> disait:

    TL> On Tue, 26 Jun 2001, Mathieu Ros wrote:
    >> hello all, I'm looking for a C/C++ library (or algorithm) to
    >> compute draws from a multivariate normal distribution in order
    >> to do block sampling.  (I'm plugging my results in an R
    >> function so this is not really off topic ;)

    TL> In that case, why not use mvrnorm() in the MASS package? It's
    TL> not in C, but it doesn't need to be.

Well, as I just replied to prof. Rossini, I'm doing about 50000
iterations (up to 100000) with at least 88 parameters to update at each turn
(at least 2x4 + 2x40 if I do block sampling).
I don't know much about R/C interface but I believe it will slow down
my program if I call an R function to do the job.
My elementwise sampling algorithm (C code) takes between 3 and 4
hours to run (with intermediate data sets).
Thanks for the quick reply,
  Mathieu

-- 
Mathieu Ros
Laboratoire de G?n?tique Cellulaire
INRA-Toulouse [05 6128 5119]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 26 18:13:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2001 18:13:03 +0200
Subject: [R] plotting 2 y axes
In-Reply-To: David White's message of "Tue, 26 Jun 2001 11:51:36 -0400 (EDT)"
References: <Pine.SOL.4.33.0106261146510.18089-100000@julius.ling.ohio-state.edu>
Message-ID: <x2els7cj8w.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Hello,
> 
> I'm plotting two y axes and have had good success using plot (specifying
> axes=F and ann=F) then adding the y axis to the right with axis(4...) and
> overlaying another plot (this time leaving the axis and labels in place.
> My difficulty lies in getting a label for the right-side y-axis.

By default there is only room for 2.1 lines of text on the right hand
side of a plot. The tick marks take one and the labels another and
there needs to be a blank line between labels and axis title....
I.e. you likely need to play with par(mar=) to get at least 4 lines
on that side. Also, axis() doesn't take
a ylab argument so try

 mtext("Heyho",side=4,line=3)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 18:27:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 17:27:02 +0100 (BST)
Subject: [R] generating multivariate normal random numbers in C
In-Reply-To: <15160.43027.382279.603512@autan.toulouse.inra.fr>
Message-ID: <Pine.GSO.4.31.0106261725500.2013-100000@toucan.stats>

On Tue, 26 Jun 2001, Mathieu Ros wrote:

> hello all,
> I'm looking for a C/C++ library (or algorithm) to compute draws from a
> multivariate normal distribution in order to do block sampling.
> (I'm plugging my results in an R function so this is not really off
> topic ;)

mvrnorm in package MASS (in bundle VR).


> thanks for your help,
>   Mathieu
>
> --
> Mathieu Ros
> Laboratoire de Gntique Cellulaire
> INRA-Toulouse [05 6128 5119]
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mvgelder at vt.edu  Tue Jun 26 18:37:28 2001
From: mvgelder at vt.edu (Maarten van Gelder)
Date: Tue, 26 Jun 2001 12:37:28 -0400
Subject: [R] breaks in hist()
Message-ID: <3.0.6.32.20010626123728.00942210@mail.vt.edu>

I was using the hist() function to create a frequency table of some network
traffic data. The range in values is rather large, from 0 till just under
10e12. Calling hist(x, breaks=c(0,1000,1e6,1e9,1e12),plot=F,freq=T) causes
hist() to return :

$breaks
[1] -1.0000e+05  1.0100e+05  1.1000e+06  1.0001e+09  1.0000e+12

Is this recalculation of the breaks by hist() intended?

Maarten van Gelder.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 18:46:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 17:46:01 +0100 (BST)
Subject: [R] generating multivariate normal random numbers in C
In-Reply-To: <15160.44729.463218.953819@autan.toulouse.inra.fr>
Message-ID: <Pine.GSO.4.31.0106261741460.2013-100000@toucan.stats>

On Tue, 26 Jun 2001, Mathieu Ros wrote:

> >>>>> "TL" == Thomas Lumley <tlumley at u.washington.edu> disait:
>
>     TL> On Tue, 26 Jun 2001, Mathieu Ros wrote:
>     >> hello all, I'm looking for a C/C++ library (or algorithm) to
>     >> compute draws from a multivariate normal distribution in order
>     >> to do block sampling.  (I'm plugging my results in an R
>     >> function so this is not really off topic ;)
>
>     TL> In that case, why not use mvrnorm() in the MASS package? It's
>     TL> not in C, but it doesn't need to be.
>
> Well, as I just replied to prof. Rossini, I'm doing about 50000
> iterations (up to 100000) with at least 88 parameters to update at each turn
> (at least 2x4 + 2x40 if I do block sampling).
> I don't know much about R/C interface but I believe it will slow down
> my program if I call an R function to do the job.
> My elementwise sampling algorithm (C code) takes between 3 and 4
> hours to run (with intermediate data sets).

Well, it's an elementary computation once you have a random normal
generator and a numerical linear algebra suite.  For 88 dimensions (if I
understand you aright) the issue is going to be the matrix decomposition.
Is this the same multivariate normal distribution at each draw?  If so
just write a binary file using writeBin: it will not slow you down.  If it
is different each time the linear algebra computations will be slow enough
to swamp the communications overhead.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue Jun 26 19:27:25 2001
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 26 Jun 2001 19:27:25 +0200 (MET DST)
Subject: [R] compiling R-1.3.0 under Tru64 Unix
In-Reply-To: <Pine.GSO.4.30L.0106261010530.4676-100000@jimi-hendrix.mit.edu>
Message-ID: <Pine.OSF.4.21.0106261925020.9457-100000@zidsrv.sci.uni-klu.ac.at>

On Tue, 26 Jun 2001, Frederic Chagnon wrote:

> Dear all-
> 
> I get the same problem in compiling R-1.3.0 on
> Tru64 Unix (OSF 5.0). Here is the final output of
> the ./configure
> 
> R is now configured for alphaev67-dec-osf5.0
> 
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -mieee -g -O2
>   C++ compiler:              c++  -g -O2
>   FORTRAN compiler:          f77  -fpe3 -g
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            yes
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 
> 
> 
> .. and the make stops at the same point as
> Kjetil (at the ctest compile.) The final error
> message is as follows:
> 
> Make: Cannot open
> ./../../../share/make/../../../../etc/Makeconf.
> Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop.

I guess you  er not using a GNU make? I think this will be the reason.
Try using gmake if available or rearrange your PATH environment variable
so that GNU make will be found before Tru64 make. 

Albrecht


// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mvgelder at vt.edu  Tue Jun 26 20:02:10 2001
From: mvgelder at vt.edu (Maarten van Gelder)
Date: Tue, 26 Jun 2001 14:02:10 -0400
Subject: [R] breaks in hist()
Message-ID: <3.0.6.32.20010626140210.009603b0@mail.vt.edu>

Sorry, I forgot to mention in my earlier post that I run version 1.2.3 on
NT4.0

I was using the hist() function to create a frequency table of some network
traffic data. The range in values is rather large, from 0 till just under
10e12. Calling hist(x, breaks=c(0,1000,1e6,1e9,1e12),plot=F,freq=T) causes
hist() to return :

$breaks
[1] -1.0000e+05  1.0100e+05  1.1000e+06  1.0001e+09  1.0000e+12

Is this recalculation of the breaks by hist() intended?

Maarten van Gelder.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Tue Jun 26 20:31:26 2001
From: mirko.luedde at cellcontrol.de (=?ISO-8859-1?Q?L=FCdde_Mirko?=)
Date: Tue, 26 Jun 2001 20:31:26 +0200
Subject: [R] SSweibull
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE306333D@CELLCON01>

Dear all, 

I'd like to use the `SSweibull' function for survival analysis.  In
order to become acquainted with the function, I said `help(SSweibull)'
and went through the example. What puzzles me is 

1. What should I make of the assertion `Initial values are in fact the
   converged values'?

2. When doing a `SSweibull(Chick.6$Time, Asym, Drop, lrc, pwr)' 
   I can see no indication of convergence of the values whatsoever.
   On the other hand, plotting the object yields a nice Weibull curve.

3. Wouldn't it be nice to have some formulas in the help section 
   precisely explaining the meaning of the parameters? There
   are several parametrizations of the Weibull distribution. 

Cheers, Mirko. 
--
Dr. M. Luedde <Mirko.Luedde at CellControl.De>
CellControl Biomedical Laboratories AG
Am Klopferspitz 19, 82152 Martinsried
+49-89-895275-0 +49-179-5252064 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Tue Jun 26 20:38:24 2001
From: dfs at research.att.com (Deborah Swayne)
Date: Tue, 26 Jun 2001 14:38:24 -0400
Subject: [R] building R-1.3.0
In-Reply-To: <20010626114411.I3408822@fry.research.att.com>; from dfs@research.att.com on Tue, Jun 26, 2001 at 11:44:11AM -0400
References: <20010626114411.I3408822@fry.research.att.com>
Message-ID: <20010626143824.Q3408822@fry.research.att.com>

> nanoftp.c:771: `AF_INET' undeclared (first use in this function)
> nanoftp.c:781: `SOCK_STREAM' undeclared (first use in this function)
> nanoftp.c:1090: `IPPROTO_TCP' undeclared (first use in this function)

I've learned a bit more about this, and I'd say I've probably
encountered a puzzle and a bug.

The puzzle:

  If I'm reading config.cache correctly, configure fails to locate
      /usr/include/netinet/tcp.h
  though it finds other files in the same directory

  from config.cache:
    ac_cv_header_netinet_in_h=${ac_cv_header_netinet_in_h=yes}
    ac_cv_header_netinet_tcp_h=${ac_cv_header_netinet_tcp_h=no}
  but
   -r--r--r--  1 root   root  23975 Jul 24  2000 /usr/include/netinet/in.h
   -r--r--r--  1 root   root   3754 Jul 24  2000 /usr/include/netinet/tcp.h

As a consequence of that decision, HAVE_BSD_NETWORKING is not defined.

The bug:

  nanoftp.c checks that macro before including tcp.h (and other
  files), but doesn't seem to do the right test later on when it uses
  the contents of the include files in question.

  All the code in the file is embedded in this test:
    #if !defined(Unix) || defined(HAVE_BSD_NETWORKING)

  While the test for including tcp.h (et al) is more stringent:
    #ifdef HAVE_BSD_NETWORKING


Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue Jun 26 22:05:46 2001
From: elvis at xlsolutions-corp.com (Elvis Miller)
Date: Tue, 26 Jun 2001 13:05:46 -0700
Subject: [R] Course: three-day R programming techniques this summer (San Francisco, Washington DC, Chicago)
Message-ID: <200106262005.f5QK5kX07272@badass.hosting-network.com>

 XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a three-day R course, "R Fundamentals and Programming
Techniques," in:

Washington, DC - August 1-3, 2001.
San Francisco - July 16-18, 2001
Chicago - July 18-20, 2001

This special three-day R course is designed for those who want to learn
to write R programs to accomplish typical data-processing tasks, including 
creating graphics. The course will give beginners a strong foundation for
becoming a versatile R programmer, and will expose experienced users to
skills that make a better R programmer.

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.


Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the 
essentials of data manipulation, graphical visualization and R 
programming. We will explore statistical data analysis tools, including 
graphics with data sets from areas such as Finance, Biopharm, 
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.


Cost for 3-day course

Commercial $985
Academic $875

(Includes course materials, 90 days Technical Support for R,
snacks and continental breakfast!)

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with 
bound copies of the notes and a CD-ROM containing all examples, 
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


================================================================================
==

Three-day R Fundamentals and Programming Techniques 

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and 
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

...................................................................

...................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun 26 21:13:03 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 26 Jun 2001 15:13:03 -0400
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
Message-ID: <OFDAD567A5.0E4EF7CB-ON85256A77.00692A7C@rtp.epa.gov>

I've successfully compiled R 1.3.0 on SGI (info below) but it fails make
check.  From base-Ex.Rout:

> ## first days of years in the (commonly used) 20th century
> seq(ISOdate(1901,1,1), ISOdate(1999,1,1), "years")
Error in if (to <= from) stop("`to' must be later than `from'") :
        missing value where logical needed
Execution halted

Indeed, from the same binary:

> ISOdate(1901,1,1)
[1] "NA"
> ISOdate(1999,1,1)
[1] "1999-01-01 07:00:00 EST"

Does anyone have any ideas?

--please do not edit the information below--

Version:
 platform = mips-sgi-irix6.5
 arch = mips
 os = irix6.5
 system = mips, irix6.5
 status =
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 21:28:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 20:28:54 +0100 (BST)
Subject: [R] building R-1.3.0
In-Reply-To: <20010626143824.Q3408822@fry.research.att.com>
Message-ID: <Pine.GSO.4.31.0106262020350.2426-100000@toucan.stats>

On Tue, 26 Jun 2001, Deborah Swayne wrote:

> > nanoftp.c:771: `AF_INET' undeclared (first use in this function)
> > nanoftp.c:781: `SOCK_STREAM' undeclared (first use in this function)
> > nanoftp.c:1090: `IPPROTO_TCP' undeclared (first use in this function)
>
> I've learned a bit more about this, and I'd say I've probably
> encountered a puzzle and a bug.
>
> The puzzle:
>
>   If I'm reading config.cache correctly, configure fails to locate
>       /usr/include/netinet/tcp.h
>   though it finds other files in the same directory
>
>   from config.cache:
>     ac_cv_header_netinet_in_h=${ac_cv_header_netinet_in_h=yes}
>     ac_cv_header_netinet_tcp_h=${ac_cv_header_netinet_tcp_h=no}
>   but
>    -r--r--r--  1 root   root  23975 Jul 24  2000 /usr/include/netinet/in.h
>    -r--r--r--  1 root   root   3754 Jul 24  2000 /usr/include/netinet/tcp.h

Um ....

>
> As a consequence of that decision, HAVE_BSD_NETWORKING is not defined.
>
> The bug:
>
>   nanoftp.c checks that macro before including tcp.h (and other
>   files), but doesn't seem to do the right test later on when it uses
>   the contents of the include files in question.
>
>   All the code in the file is embedded in this test:
>     #if !defined(Unix) || defined(HAVE_BSD_NETWORKING)
>
>   While the test for including tcp.h (et al) is more stringent:
>     #ifdef HAVE_BSD_NETWORKING

But it is as intended.  Is not Unix defined on your system?  Or is that
being parsed incorrectly (according to my understanding, and Harbison &
Steele's)?

Does

#if (!defined(Unix)) || defined(HAVE_BSD_NETWORKING)

work?

We do need the extra freedom on Windows, where HAVE_BSD_NETWORKING is
false but the  #ifdef Win32 lines save the day.

Brian


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 26 21:35:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2001 21:35:38 +0200
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
In-Reply-To: Setzer.Woodrow@epamail.epa.gov's message of "Tue, 26 Jun 2001 15:13:03 -0400"
References: <OFDAD567A5.0E4EF7CB-ON85256A77.00692A7C@rtp.epa.gov>
Message-ID: <x2zoavhw51.fsf@blueberry.kubism.ku.dk>

Setzer.Woodrow at epamail.epa.gov writes:

> I've successfully compiled R 1.3.0 on SGI (info below) but it fails make
> check.  From base-Ex.Rout:
> 
> > ## first days of years in the (commonly used) 20th century
> > seq(ISOdate(1901,1,1), ISOdate(1999,1,1), "years")
> Error in if (to <= from) stop("`to' must be later than `from'") :
>         missing value where logical needed
> Execution halted
> 
> Indeed, from the same binary:
> 
> > ISOdate(1901,1,1)
> [1] "NA"
> > ISOdate(1999,1,1)
> [1] "1999-01-01 07:00:00 EST"
> 
> Does anyone have any ideas?

You probably have a problem in the substrate that ISOdate feeds on.

Offhand, I'd suspect an overrun problem. Some systems that represent
time as seconds since 1970 get in trouble in 2038, wouldn't they also
get in trouble from going more than 68 years backwards in time from
1970. Does it work if you replace 1901 with - say - 1910?

To see if the rest checks out, you could comment out that example in
the sources.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 21:32:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 20:32:12 +0100 (BST)
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
In-Reply-To: <OFDAD567A5.0E4EF7CB-ON85256A77.00692A7C@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0106262030040.2426-100000@toucan.stats>

On Tue, 26 Jun 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> I've successfully compiled R 1.3.0 on SGI (info below) but it fails make
> check.  From base-Ex.Rout:
>
> > ## first days of years in the (commonly used) 20th century
> > seq(ISOdate(1901,1,1), ISOdate(1999,1,1), "years")
> Error in if (to <= from) stop("`to' must be later than `from'") :
>         missing value where logical needed
> Execution halted
>
> Indeed, from the same binary:
>
> > ISOdate(1901,1,1)
> [1] "NA"
> > ISOdate(1999,1,1)
> [1] "1999-01-01 07:00:00 EST"
>
> Does anyone have any ideas?

1) Could you tell Debby Swayne how you got this to compile (see R-help)?

2) I suspect strptime on your machine is broken.  Sorry ....

>
> --please do not edit the information below--
>
> Version:
>  platform = mips-sgi-irix6.5
>  arch = mips
>  os = irix6.5
>  system = mips, irix6.5
>  status =
>  major = 1
>  minor = 3.0
>  year = 2001
>  month = 06
>  day = 22
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 21:46:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 20:46:25 +0100 (BST)
Subject: [R] breaks in hist()
In-Reply-To: <3.0.6.32.20010626140210.009603b0@mail.vt.edu>
Message-ID: <Pine.GSO.4.31.0106262043270.2426-100000@toucan.stats>

On Tue, 26 Jun 2001, Maarten van Gelder wrote:

> Sorry, I forgot to mention in my earlier post that I run version 1.2.3 on
> NT4.0

Thanks: hist has been changed several times recently.

> I was using the hist() function to create a frequency table of some network
> traffic data. The range in values is rather large, from 0 till just under
> 10e12. Calling hist(x, breaks=c(0,1000,1e6,1e9,1e12),plot=F,freq=T) causes
> hist() to return :
>
> $breaks
> [1] -1.0000e+05  1.0100e+05  1.1000e+06  1.0001e+09  1.0000e+12
>
> Is this recalculation of the breaks by hist() intended?

Yes.  You have got caught by the following:

    fuzz <- if (right)
        c(if (include.lowest) -diddle else diddle, rep(diddle, length(breaks) - 1))
    else c(rep(-diddle, length(breaks) - 1), if (include.lowest) diddle else -diddle)
    breaks <- breaks + fuzz

Don't you want to use log10 scale?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun 26 21:46:58 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 26 Jun 2001 15:46:58 -0400
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
Message-ID: <OF87EBB12C.4C671377-ON85256A77.006C17E0@rtp.epa.gov>


In fact, ISOdate fails with any date earlier than 1970 on this system:

> ISOdate(1969,12,31)
[1] "NA"
> ISOdate(1970,1,1)
[1] "1970-01-01 07:00:00 EST"

The problem is in strptime:

> strptime(paste(1970,1,1,12,0,0),"%Y %m %d %H %M %S")
[1] "1970-01-01 12:00:00"
> strptime(paste(1969,12,31,12,0,0),"%Y %m %d %H %M %S")
[1] "NA"

The man page for strptime doesn't mention any limitations.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                 
                    Peter Dalgaard                                                                               
                    BSA                     To:     Woodrow Setzer/RTP/USEPA/US at EPA                              
                    <p.dalgaard at bios        cc:     r-help at hypatia.math.ethz.ch                                  
                    tat.ku.dk>              Subject:     Re: [R] make check fails for 1.3.0 on SGI at            
                    Sent by:                ISOdate(1901,1,1)                                                    
                    pd at pubhealth.ku.                                                                             
                    dk                                                                                           
                                                                                                                 
                                                                                                                 
                    06/26/01 03:35                                                                               
                    PM                                                                                           
                                                                                                                 
                                                                                                                 




Setzer.Woodrow at epamail.epa.gov writes:

> I've successfully compiled R 1.3.0 on SGI (info below) but it fails make
> check.  From base-Ex.Rout:
>
> > ## first days of years in the (commonly used) 20th century
> > seq(ISOdate(1901,1,1), ISOdate(1999,1,1), "years")
> Error in if (to <= from) stop("`to' must be later than `from'") :
>         missing value where logical needed
> Execution halted
>
> Indeed, from the same binary:
>
> > ISOdate(1901,1,1)
> [1] "NA"
> > ISOdate(1999,1,1)
> [1] "1999-01-01 07:00:00 EST"
>
> Does anyone have any ideas?

You probably have a problem in the substrate that ISOdate feeds on.

Offhand, I'd suspect an overrun problem. Some systems that represent
time as seconds since 1970 get in trouble in 2038, wouldn't they also
get in trouble from going more than 68 years backwards in time from
1970. Does it work if you replace 1901 with - say - 1910?

To see if the rest checks out, you could comment out that example in
the sources.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 21:51:23 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 20:51:23 +0100 (BST)
Subject: [R] SSweibull
In-Reply-To: <7BF41FD66BAFD311B45E0050DA7C9BE306333D@CELLCON01>
Message-ID: <Pine.GSO.4.31.0106262046470.2426-100000@toucan.stats>

On Tue, 26 Jun 2001, [ISO-8859-1] Ldde Mirko wrote:

> Dear all,
>
> I'd like to use the `SSweibull' function for survival analysis.  In

You would be better off using survreg in package survival (formerly
survival5).

You forgot to mention SSweibull is in package nls, BTW, and intended to be
used by a call to nls().

> order to become acquainted with the function, I said `help(SSweibull)'
> and went through the example. What puzzles me is
>
> 1. What should I make of the assertion `Initial values are in fact the
>    converged values'?
>
> 2. When doing a `SSweibull(Chick.6$Time, Asym, Drop, lrc, pwr)'
>    I can see no indication of convergence of the values whatsoever.
>    On the other hand, plotting the object yields a nice Weibull curve.
>
> 3. Wouldn't it be nice to have some formulas in the help section
>    precisely explaining the meaning of the parameters? There
>    are several parametrizations of the Weibull distribution.

Would you like to submit a patch to the help page (to R-bugs)?  You can
read the R code to find out which was used, or even the help page under
Value:!

>
> Cheers, Mirko.
> --
> Dr. M. Luedde <Mirko.Luedde at CellControl.De>
> CellControl Biomedical Laboratories AG
> Am Klopferspitz 19, 82152 Martinsried
> +49-89-895275-0 +49-179-5252064
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Jun 26 21:55:20 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Tue, 26 Jun 2001 12:55:20 -0700 (PDT)
Subject: [R] breaks in hist()
In-Reply-To: <3.0.6.32.20010626123728.00942210@mail.vt.edu>
Message-ID: <Pine.LNX.4.33.0106261250090.6997-100000@shell1.aracnet.com>

On Tue, 26 Jun 2001, Maarten van Gelder wrote:

> I was using the hist() function to create a frequency table of some network
> traffic data. The range in values is rather large, from 0 till just under
> 10e12. Calling hist(x, breaks=c(0,1000,1e6,1e9,1e12),plot=F,freq=T) causes
> hist() to return :
>
> $breaks
> [1] -1.0000e+05  1.0100e+05  1.1000e+06  1.0001e+09  1.0000e+12
>
> Is this recalculation of the breaks by hist() intended?
>
> Maarten van Gelder.

How many zeroes are there? If you got rid of them, a log transformation might
help you. Also, have you considered looking at the distribution of the times
between packets (or bytes)?? There are some interesting theoretical models
for the distributions of times between packets. I've got a few books on the
subject, but they're at home. E-mail me off list if you're interested.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

How to Stop A Folksinger Cold # 4
"Are you going to Scarborough Fair?"
No.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 26 22:05:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2001 22:05:07 +0200
Subject: [R] breaks in hist()
In-Reply-To: Prof Brian Ripley's message of "Tue, 26 Jun 2001 20:46:25 +0100 (BST)"
References: <Pine.GSO.4.31.0106262043270.2426-100000@toucan.stats>
Message-ID: <x2u213hurw.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Tue, 26 Jun 2001, Maarten van Gelder wrote:
> 
> > Sorry, I forgot to mention in my earlier post that I run version 1.2.3 on
> > NT4.0
> 
> Thanks: hist has been changed several times recently.
> 
> > I was using the hist() function to create a frequency table of some network
> > traffic data. The range in values is rather large, from 0 till just under
> > 10e12. Calling hist(x, breaks=c(0,1000,1e6,1e9,1e12),plot=F,freq=T) causes
> > hist() to return :
> >
> > $breaks
> > [1] -1.0000e+05  1.0100e+05  1.1000e+06  1.0001e+09  1.0000e+12
> >
> > Is this recalculation of the breaks by hist() intended?
> 
> Yes.  You have got caught by the following:
> 
>     fuzz <- if (right)
>         c(if (include.lowest) -diddle else diddle, rep(diddle, length(breaks) - 1))
>     else c(rep(-diddle, length(breaks) - 1), if (include.lowest) diddle else -diddle)
>     breaks <- breaks + fuzz
> 
> Don't you want to use log10 scale?
> 

or just table(cut(x,breaks=c(0,1000,1e6,1e9,1e12)))

Basically, just don't expect hist() to do sensible things with things
that cannot sensibly be plotted. (Your first column would have a width
of one billionth of the total scale, whereas the last one takes up
99.9% of the total!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Jun 26 22:06:29 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Tue, 26 Jun 2001 13:06:29 -0700 (PDT)
Subject: [R] breaks in hist()
In-Reply-To: <3.0.6.32.20010626140210.009603b0@mail.vt.edu>
Message-ID: <Pine.LNX.4.33.0106261302050.7674-100000@shell1.aracnet.com>

It turns out I have one of the books here. It's _A Practical Guide To Heavy
Tails_ (Adler, Feldman, Taqqu editors, Birkhauser is the publisher) and there
are a few chapters on analysis of network traffic. My own applications are far
less sophisticated than this book; we don't have that kind of data.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 26 22:09:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jun 2001 21:09:58 +0100 (BST)
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
In-Reply-To: <OF87EBB12C.4C671377-ON85256A77.006C17E0@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0106262106570.2426-100000@toucan.stats>

On Tue, 26 Jun 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> In fact, ISOdate fails with any date earlier than 1970 on this system:
>
> > ISOdate(1969,12,31)
> [1] "NA"
> > ISOdate(1970,1,1)
> [1] "1970-01-01 07:00:00 EST"
>
> The problem is in strptime:
>
> > strptime(paste(1970,1,1,12,0,0),"%Y %m %d %H %M %S")
> [1] "1970-01-01 12:00:00"
> > strptime(paste(1969,12,31,12,0,0),"%Y %m %d %H %M %S")
> [1] "NA"
>
> The man page for strptime doesn't mention any limitations.

R's or SGI's?  The limitation seems to be on SGI only, and I've sent
privately some suggestions.   Windows has (had before I fixed the code)
the same problem, but then Microsoft didn't exist in 1970 (although Bill
Gates did, so he must have problems with his date of birth).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun 26 22:17:23 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 26 Jun 2001 16:17:23 -0400
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
Message-ID: <OF8F671746.DC0A8921-ON85256A77.006F66E0@rtp.epa.gov>


Sorry, SGI's man page doesn't mention any limitations.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                              
                    Prof Brian                                                                                
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                              
                    <ripley at stats        cc:     r-help at stat.math.ethz.ch                                     
                    .ox.ac.uk>           Subject:     Re: [R] make check fails for 1.3.0 on SGI at            
                                         ISOdate(1901,1,1)                                                    
                    06/26/01                                                                                  
                    04:09 PM                                                                                  
                                                                                                              
                                                                                                              




On Tue, 26 Jun 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> In fact, ISOdate fails with any date earlier than 1970 on this system:
>
> > ISOdate(1969,12,31)
> [1] "NA"
> > ISOdate(1970,1,1)
> [1] "1970-01-01 07:00:00 EST"
>
> The problem is in strptime:
>
> > strptime(paste(1970,1,1,12,0,0),"%Y %m %d %H %M %S")
> [1] "1970-01-01 12:00:00"
> > strptime(paste(1969,12,31,12,0,0),"%Y %m %d %H %M %S")
> [1] "NA"
>
> The man page for strptime doesn't mention any limitations.

R's or SGI's?  The limitation seems to be on SGI only, and I've sent
privately some suggestions.   Windows has (had before I fixed the code)
the same problem, but then Microsoft didn't exist in 1970 (although Bill
Gates did, so he must have problems with his date of birth).


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcneney at cs.sfu.ca  Tue Jun 26 22:46:23 2001
From: mcneney at cs.sfu.ca (Brad McNeney)
Date: Tue, 26 Jun 2001 13:46:23 -0700 (PDT)
Subject: [R] Trouble compiling R-1.3.0 under Tru64
In-Reply-To: <Pine.OSF.4.30.0106251941570.21738-100000@alnair.uio.no>
Message-ID: <Pine.OSF.4.21.0106261331010.60659-100000@smahlt.math.sfu.ca>

Just a follow-up to the part about make check failing when you build with
cc and f77:

> BTW, before I did all this, I also tried to build R using cc as C compiler
> with some optimization options. Last year, I had problems with cc and R,
> as reported in (if I remember correctly) PR#551. I figured I might give it
> another try, especially given the new garbage collector in 1.2.0. I failed
> to reproduce the problem I had back then, something that may be a good
> sign, to this build also didn't pass make check. Between the builds, I
> cleared everything by removing source directory and re-extracting from
> tar.
> 

I'm getting the same thing. It dies in a call to the function
draw.sample.cell defined in base-Ex.R, specifically at the line
   text(2*c, -r, string, vfont=c(typeface, fontindex), cex=1.5)

>From gdb it looks like the function GVText in vfonts.c (in the src/main
directory) is calling itself over and over until running out of memory:

Program received signal SIGSEGV, Segmentation fault.
0x12012631c in Rf_GVText (x=Cannot access memory at address 0x11f7ffff8.
) at vfonts.c:86

(gdb) up
#1  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
    unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
    y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93
(gdb) up
#2  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
    unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
    y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93

... and so on. 

>From vfonts.c the definition of GVText is:

void GVText (double x, double y, int unit, char *s, 
	     int typeface, int fontindex,
	     double x_justify, double y_justify, double rotation,
	     DevDesc *dd)
{
    if(!initialized) vfonts_Init();
    if(initialized > 0)
	(*ptr_GVText)(x, y, unit, s, typeface, fontindex, 
		      x_justify, y_justify, rotation, dd);
    else
	error("Hershey fonts cannot be loaded");
}

and 

(gdb) p (*ptr_GVText)
$1 = {void *()} 0x120126310 <Rf_GVText>

hence the infinite recursion. Can anyone tell me what was intended here
for ptr_GVText? 

Brad

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 26 23:25:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2001 23:25:13 +0200
Subject: [R] Trouble compiling R-1.3.0 under Tru64
In-Reply-To: Brad McNeney's message of "Tue, 26 Jun 2001 13:46:23 -0700 (PDT)"
References: <Pine.OSF.4.21.0106261331010.60659-100000@smahlt.math.sfu.ca>
Message-ID: <x2r8w79bnq.fsf@blueberry.kubism.ku.dk>

Brad McNeney <mcneney at cs.sfu.ca> writes:

> (gdb) up
> #1  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
>     unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
>     y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93
> (gdb) up
> #2  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
>     unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
>     y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93
> 
> ... and so on. 
> 
> From vfonts.c the definition of GVText is:
> 
> void GVText (double x, double y, int unit, char *s, 
> 	     int typeface, int fontindex,
> 	     double x_justify, double y_justify, double rotation,
> 	     DevDesc *dd)
> {
>     if(!initialized) vfonts_Init();
>     if(initialized > 0)
> 	(*ptr_GVText)(x, y, unit, s, typeface, fontindex, 
> 		      x_justify, y_justify, rotation, dd);
>     else
> 	error("Hershey fonts cannot be loaded");
> }
> 
> and 
> 
> (gdb) p (*ptr_GVText)
> $1 = {void *()} 0x120126310 <Rf_GVText>
> 
> hence the infinite recursion. Can anyone tell me what was intended here
> for ptr_GVText? 

The GVText function from the vfonts module, cf. vfonts_Init. Looks
like R_FindSymbol is malfunctioning. You might be able to catch the
problem by tracing into R_FindSymbol from vfonts_Init with gdb.

(Not that I'm open for helping you out with gdb the next couple of
weeks. This is just an evasion from the stuff I *ought* to be
doing...) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Tue Jun 26 23:35:09 2001
From: dfs at research.att.com (Deborah Swayne)
Date: Tue, 26 Jun 2001 17:35:09 -0400
Subject: [R] make check fails for 1.3.0 on SGI at ISOdate(1901,1,1)
In-Reply-To: <Pine.GSO.4.31.0106262030040.2426-100000@toucan.stats>; from ripley@stats.ox.ac.uk on Tue, Jun 26, 2001 at 08:32:12PM +0100
References: <OFDAD567A5.0E4EF7CB-ON85256A77.00692A7C@rtp.epa.gov> <Pine.GSO.4.31.0106262030040.2426-100000@toucan.stats>
Message-ID: <20010626173509.H3752918@fry.research.att.com>

On Tue, Jun 26, 2001 at 08:32:12PM +0100, Prof Brian Ripley wrote:
> On Tue, 26 Jun 2001 Setzer.Woodrow at epamail.epa.gov wrote:
> 
> 1) Could you tell Debby Swayne how you got this to compile (see R-help)?

He and I have been in correspondance all day, and he did indeed
help me.

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mirko.Luedde at computer.org  Wed Jun 27 00:08:12 2001
From: Mirko.Luedde at computer.org (Dr. Mirko Luedde)
Date: Tue, 26 Jun 2001 22:08:12 +0000
Subject: [R] SSweibull 
Message-ID: <15161.1996.684000.910999@gargle.gargle.HOWL>

Dear Prof Ripley, 

there was no (direct) answer to any of my questions in your post, but
I think I'm getting the idea! Sorry for my ignorance.

And I still seem to have a gross misunderstanding about the use of
`SSweibull(nls)'. 

Is it simply a means to calculate the Weibull
distribution?  

What's the difference to `pweibull', then?  

Which means could help me estimating the Weibull parameters from
empirical data?

And what does it mean that `[SSweibull is] intended to be used by a
call to nls()'?

Thanks for your patience, Mirko. 
-- 
Dr. M. Luedde
business: CellControl AG, Am Klopferspitz 19, 82152 Martinsried, 
	  +49-89-895275-0, Mirko.Luedde at CellControl.De
private:  Godehardsplatz 16, 31134 Hildesheim, 
	  +49-179-5252064, Mirko.Luedde at Computer.Org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jun 27 00:53:24 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 26 Jun 2001 15:53:24 -0700 (PDT)
Subject: [R] SSweibull 
In-Reply-To: <15161.1996.684000.910999@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0106261540190.84244-100000@homer39.u.washington.edu>

On Tue, 26 Jun 2001, Dr. Mirko Luedde wrote:

> Dear Prof Ripley,
>
> there was no (direct) answer to any of my questions in your post, but
> I think I'm getting the idea! Sorry for my ignorance.
>
> And I still seem to have a gross misunderstanding about the use of
> `SSweibull(nls)'.
>
> Is it simply a means to calculate the Weibull
> distribution?
>
> What's the difference to `pweibull', then?
>
> Which means could help me estimating the Weibull parameters from
> empirical data?

The survreg() function in the survival package fits Weibull distributions
(and accelarated failure models) to (possibly censored)  data, that is if
your data have a Weibull distribution. This is a location-scale model
parametrised so that (log(y)-mu)/scale has the cdf 1-exp(-exp(y)), the
natural accelerated failure parametrisation rather than the proportional
hazards one.


SSweibull is designed to help with fitting the Weibull growth curve model
to empirical data. This is not the same as fitting a Weibull distribution.
SSweibull is a self-starting (thus the SS) model for use with nls().
That is, nls()  allows you to fit complicated nonlinear models, most of
which require good starting estimates of parameters. The self-starting
models can guess good starting values for nls().


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Wed Jun 27 01:03:13 2001
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Wed, 27 Jun 2001 11:03:13 +1200 (NZST)
Subject: [R] maps in R
Message-ID: <200106262303.LAA25851@aqua.mcs.vuw.ac.nz>

> Hello. Any idea if this map package will be ported to R-windows?
> What is in it that is Unix/Linux dependent?
> not the computations and projections, must be only the plotting?
> 
Why don't you try it?  I don't use Windows, so have no hope of doing any
testing (and no incentive to try).

That said, I think there may still be an issue with licensing of the old
AT&T code.  It is said to be 'public domain' and the authors have no
problems with wider dissemination, but you try and get an authoritative
letter out of Lucent Technologies for some code 'owned' by AT&T Bell
Laboratories 10 years ago.....

Further, as Brian Ripley has mentioned, the binary databases are
different for big-endian/little-endian, so for a package to work, you
would have to go back to the data sources or keep two copies of the
databases.  This would make the package even larger, unless you extract
the databases to a separate package or three.  [I use a series of C
programs to convert the database formats between (S-Plus) Unix/Windows
and between (SPARC) S-Plus and (Intel) R.  Until recently I was not
able to create new databases under Linux/Intel.]

Regards,
Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jun 27 01:36:49 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 26 Jun 2001 19:36:49 -0400
Subject: [R] Trouble compiling R-1.3.0 under Tru64
In-Reply-To: <x2r8w79bnq.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Tue, Jun 26, 2001 at 11:25:13PM +0200
References: <Pine.OSF.4.21.0106261331010.60659-100000@smahlt.math.sfu.ca> <x2r8w79bnq.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010626193649.B13106@jessie.research.bell-labs.com>


Peter Dalgaard BSA wrote:
> The GVText function from the vfonts module, cf. vfonts_Init. Looks
> like R_FindSymbol is malfunctioning. You might be able to catch the
> problem by tracing into R_FindSymbol from vfonts_Init with gdb.

I took a quick look at this. (Anything with R_FindSymbol sparks an
sense of responsibility :-)).  I'm running on a Linux box so my
diagnostics may not apply. However, what I see is the following:
Rf_GVText is in both modules/vfonts.so and also R.bin.
Depending on the behaviour of dlopen(), the call
   R_FindSymbol("Rf_GVText", "vfonts", NULL))
may resolve to the one in R.bin rather than the one in vfonts.so
defined in g_alab_her.c. That would explain the infinite recursion.

A quick look using nm gives
eeyore[modules-82]>nm vfonts.so | grep GVText
0001622c T Rf_GVText
eeyore[modules-83]>nm ../bin/R.bin | grep GVText
080f5794 T Rf_GVText
081858d0 b ptr_GVText     

illustrating the duplication and the potential for incorrect resolution
by dlsym().


If this is a correct diagnosis (and I think it is), it is a further
reason to use the newly introduced registration mechanism for native
routines in shared libraries, both in built-in modules and also
packages.

I'd appreciate knowing if this is in fact the cause of the problem.
Perhaps looking at the address of the Rf_GVText in R.bin and the value
of ptr_GVText to see if these are the same will provide an answer.

Feel free to mail me directly rather than the whole list to see if we
can sort this out.

 D.



> Brad McNeney <mcneney at cs.sfu.ca> writes:
> 
> > (gdb) up
> > #1  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
> >     unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
> >     y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93
> > (gdb) up
> > #2  0x120126398 in Rf_GVText (x=6.7951783804802162, y=7.1803429085253221, 
> >     unit=13, s=0x141222120 "a", typeface=0, fontindex=1, x_justify=0.5, 
> >     y_justify=NaN(0x7a2), rotation=0, dd=0x1411da000) at vfonts.c:93
> > 
> > ... and so on. 
> > 
> > From vfonts.c the definition of GVText is:
> > 
> > void GVText (double x, double y, int unit, char *s, 
> > 	     int typeface, int fontindex,
> > 	     double x_justify, double y_justify, double rotation,
> > 	     DevDesc *dd)
> > {
> >     if(!initialized) vfonts_Init();
> >     if(initialized > 0)
> > 	(*ptr_GVText)(x, y, unit, s, typeface, fontindex, 
> > 		      x_justify, y_justify, rotation, dd);
> >     else
> > 	error("Hershey fonts cannot be loaded");
> > }
> > 
> > and 
> > 
> > (gdb) p (*ptr_GVText)
> > $1 = {void *()} 0x120126310 <Rf_GVText>
> > 
> > hence the infinite recursion. Can anyone tell me what was intended here
> > for ptr_GVText? 
> 
> The GVText function from the vfonts module, cf. vfonts_Init. Looks
> like R_FindSymbol is malfunctioning. You might be able to catch the
> problem by tracing into R_FindSymbol from vfonts_Init with gdb.
> 
> (Not that I'm open for helping you out with gdb the next couple of
> weeks. This is just an evasion from the stuff I *ought* to be
> doing...) 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agt at ma.adfa.edu.au  Wed Jun 27 03:49:17 2001
From: agt at ma.adfa.edu.au (Anthony Tate)
Date: Wed, 27 Jun 2001 11:49:17 +1000 (EST)
Subject: [R] Integration over multiple dimensions
Message-ID: <XFMail.010627114917.agt@ma.adfa.edu.au>


I have just upgraded to R 1.3.0 and I have not been able to find the adapt
function in the new version. In the old version this function was in the add-on
package "integrate" and allowed the evaluation of integral over 2 or more
dimensions. As the integrate function is now in the base package of R is the
adapt function still available as I have been unable to find it?

Yours sincerely

Anthony Tate


Anthony Tate          E-Mail: Anthony Tate <agt at ma.adfa.edu.au>
School of Mathematics and Statistics
UNSW at the Australian Defence Force Academy
Canberra ACT
Australia

Date: 27-Jun-01
Time: 11:45:15

This message is intended for the addressee named and may contain
confidential information.  If you are not the intended recipient, please
delete it and notify the sender.  Views expressed in this message are those
of the individual sender and are not necessarily the views of the University
of New South Wales at the Australian Defence Force Academy



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 09:02:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Jun 2001 08:02:24 +0100 (BST)
Subject: [R] Integration over multiple dimensions
In-Reply-To: <XFMail.010627114917.agt@ma.adfa.edu.au>
Message-ID: <Pine.GSO.4.31.0106270757590.23816-100000@auk.stats>

On Wed, 27 Jun 2001, Anthony Tate wrote:

> I have just upgraded to R 1.3.0 and I have not been able to find the adapt
> function in the new version. In the old version this function was in the add-on
> package "integrate" and allowed the evaluation of integral over 2 or more
> dimensions. As the integrate function is now in the base package of R is the
> adapt function still available as I have been unable to find it?

The two are unrelated.  adapt was and is in package integrate.
There is a completely different integrate() function as part of base R,
with capabilities closer to those of the S function of the same name
(and with no licensing complications).

The integrate package has been moved to Archive on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Wed Jun 27 09:22:28 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Wed, 27 Jun 2001 09:22:28 +0200 (MEST)
Subject: [R] generating multivariate normal random numbers in C
In-Reply-To: <87d77rdu55.fsf@jeeves.blindglobe.net>
References: <15160.43027.382279.603512@autan.toulouse.inra.fr>
	<87zoavtfkx.fsf@jeeves.blindglobe.net>
	<15160.44334.352106.263712@autan.toulouse.inra.fr>
	<87d77rdu55.fsf@jeeves.blindglobe.net>
Message-ID: <15161.34880.636066.895075@autan.toulouse.inra.fr>

>>>>> "AJR" == A J Rossini <rossini at blindglobe.net> disait:

    AJR> You might check the ranlib library from MD Anderson Cancer
    AJR> Center FTP site, as an alternative.

thank you, and all the people that answered me.
I decided to use your solution but I think I'll try Brian Ripley's one
later (to see which one is faster).

regards,
-Mathieu

-- 
Mathieu Ros
Laboratoire de G?n?tique Cellulaire
INRA-Toulouse [05 6128 5119]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Jun 27 10:38:44 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 27 Jun 2001 10:38:44 +0200
Subject: [R] SSweibull 
In-Reply-To: <15161.1996.684000.910999@gargle.gargle.HOWL>
Message-ID: <MABBLJDICACNFOLGIHJOKECICEAA.phgrosje@ulb.ac.be>

Dr. Mirko Luedde wrote:
>Dear Prof Ripley,

>there was no (direct) answer to any of my questions in your post, but
>I think I'm getting the idea! Sorry for my ignorance.

I take the liberty to answer to these questions. Prof Ripley has certainly
many work answering questions about 1.3.0 installation and so on... but I am
sure he will add some nice tip to this answer if required.

>And I still seem to have a gross misunderstanding about the use of
>`SSweibull(nls)'.

SSweibull, like any Self-starting function in R (SSlogis, SS...) is just an
analytical function y = f(x) that returns y values for provided x values.
Under some circumstances, it returns also the gradient matrix, i.e.: the
Jacobian or if you prefer the matrix of partial derivatives according to
each parameters of the function. See ?SSweibull for more info. The equation
is provided. It is: Asym-Drop*exp(-exp(lrc)*x^pwr), with Asym, Drop, lrc and
pwr being parameters to estimate.

>Is it simply a means to calculate the Weibull
>distribution?

No. See answer to the previous question.

>What's the difference to `pweibull', then?

Idem.

>Which means could help me estimating the Weibull parameters from
>empirical data?

>And what does it mean that `[SSweibull is] intended to be used by a
>call to nls()'?

Self-starting objects are mostly intended to define a formula like y ~
SSweibull(x, Asym, Drop, lrc, pwr). This formula is used as first argument
of the nonlinear least-square regression function that evaluate parameters
from empirical data. See last line of example in the SSweibull help. It will
create a nls object with all you need to diagnose the fitting. Use
summary(nlsobjectname) for instance.

Usually with nls(), you also have to provide initial guess of parameters,
and convergence is dependent upon these initial guess. To ease the use of
nls(), Self-starting functions have a nice algorithm that evaluate good
guess for intial values of parameters and you don't need to provide them.
Many Self-starting functions of nls() library even got the parameters
estimation that correspond to the overall minima of the obective function.
In this case, initial evaluation _is_ also evaluation at convergence and it
is fast, easy, and secure (you are sure it is not just a local minimum).

Please, note thate library nlrq uses the same Self-starting functions than
nls(), but performs nonlinear quantile regression which could be useful for
study of survival (calculating curves corresponding to various quantiles,
see ?nlrq and the corresponding paper citer in help).

Otherwise, I am sure you will find very good stuff in survreg... but there I
cannot help you.

Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Wed Jun 27 11:26:14 2001
From: houix at ircam.fr (houix@ircam.fr)
Date: Wed, 27 Jun 2001 11:26:14 +0200
Subject: [R] cophenetic matrix
In-Reply-To: <20010612114517.A16542@libido.ircam.fr>
Message-ID: <20010627112614.E31901@libido.ircam.fr>

Hello,
I send a mail a few days ago but nobody was inspired with
my question!
I just want to know if some people would be interested in discussing
about free-sorting data analysis (psychological experiment like
classification task, ...)?
I made a very specific function to analyze those classification tasks.
And I would like to have comments about it.
Olivier Houix

On Tue, Jun 12, 2001 at 11:45:17AM +0200, Olivier.Houix at ircam.fr wrote:
> Date: Tue, 12 Jun 2001 11:45:17 +0200
> From: Olivier.Houix at ircam.fr
> To: r-help at stat.math.ethz.ch
> Subject: [R] cophenetic matrix
> 
> Hello,
> I analyse some free-sorting data so I use hierarchical
> clustering.
> I want to compare my proximity matrix with the tree 
> representation to evalute the fitting. (stress, cophenetic correlation
> (pearson's correlation)...)
> 
> "The cophenetic similarity of two objects a and b is defined as the
> similarity level at wich objects a and b become members of the same
> cluster during the course of clustering" Legendre, P and Legendre, L Numeri
> Ecology, 1998.
> 
> I've made a (tricky) function to compute this cophenetic matrix. But now 
> I need some help to evaluate my function with your data. Because for
> little matrix (as Legendre's example), I found the same cophenetic
> correlation  as Matlab do (direct calculation) but for bigger matrix
> (30x30) my results differ!!
> 
> Maybe my function is wrong?
> To use my function you need to have the sm library. 
> 
> Thanks 
> Olivier Houix  
> -- 
> Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
> Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
> IRCAM   1 place Igor Stravinsky             75004         Paris           

> ### cophenetic matrix that represents tree distance
> ### I use the function ask to interactively input data
> ### sorry for people that doesn't like this
> ### the cophenetic matrix is saved with the name:
> ### filename.arbre
> ### source("cophmatrix.r")
> ### 
> cophmatrix <- function(){
>   library(mva)
>   library(sm)
>   nom <- ask(message="Name of the file")
>   nbre <- ask(message="Number of sounds")
>   quest <- ask(message="Matrix of dissimilarity (1) or  nxm matrix (2)")
>   fichier <- read.table(nom)
>   ## matrix nxn ou nxm 
>   ## proximity between objects: nxn or description of n objects with m attributes
>   if(quest == 1){
>     dis1 <- as.dist(fichier)
>   }
>   else{
>     methode <- ask(message="The distance measure to be used = euclidean:1 maximum:2 manhattan:3 canberra:4 or binary:5")
>     methodo <- c("euclidean", "maximum", "manhattan", "canberra" ,"binary")  
>     dis1 <- dist(fichier , method = methodo[[methode]])
>   }
>   methode2 <- ask(message ="The agglomeration method to be used = ward:1 single:2 complete:3 average:4 mcquitty:5 median:6 centroid:7")
>   methodo2 <- c("ward", "single", "complete", "average","mcquitty", "median","centroid")
>   hc <- hclust(dis1 , method = methodo2[[methode2]])
>   merge <- hc$merge
>   height <- hc$height
>   nodal <- cbind(merge,height) ### layout of the nodes 
>   long <-  length(height) + 1
>   distarbre <- mat.or.vec(nbre,nbre)
> 
>   ## the method is very simple as the program hclust works.
>   ## For clusters  merging, I compute the distance between
>   ## objects belonging to the differents clusters merged.
>   ## If you look at hc$merge, you see that a negative value correspond
>   ## to an object and a positive value to a node.
>   
>   for(i in 1:(long-1)){
>     if(i == 1){
>       if((nodal[i,1] < 0) &&  (nodal[i,2] < 0)){
>         noeud <- list(c(abs(nodal[i,1]),abs(nodal[i,2])))
>         distarbre[as.integer(abs(nodal[i,1])),as.integer(abs(nodal[i,2]))] <-  nodal[i,3]
>         distarbre[as.integer(abs(nodal[i,2])),as.integer(abs(nodal[i,1]))] <-  nodal[i,3]
>       }
>       if(((nodal[i,1] < 0) && (nodal[i,2] > 0)) ||  (nodal[i,2] < 0) && (nodal[i,1] > 0)){
>         if(nodal[i,1] > 0){          
>           noeud <- list(c(unlist(noeud[[as.integer(abs(nodal[i,1]))]]),abs(nodal[i,2])))
>           
>         }
>         else  noeud <- list(c(unlist(noeud[[as.integer(abs(nodal[i,2]))]]),abs(nodal[i,1])))
>         
>       }      
>       if((nodal[i,1] > 0) &&  (nodal[i,2] > 0)){
>         noeud <- list(c(unlist(noeud[[abs(nodal[i,1])]]),unlist(noeud[[as.integer(abs(nodal[i,2]))]])))
>       }
>       
>     }
>     else{
>       if((nodal[i,1] < 0) &&  (nodal[i,2] < 0)){
>         noeud <- c(noeud,list(c(abs(nodal[i,1]),abs(nodal[i,2]))))
>         distarbre[as.integer(abs(nodal[i,1])),as.integer(abs(nodal[i,2]))] <-  nodal[i,3]
>         distarbre[as.integer(abs(nodal[i,2])),as.integer(abs(nodal[i,1]))] <-  nodal[i,3]
>       }
>       if(((nodal[i,1] < 0) && (nodal[i,2] > 0)) ||  (nodal[i,2] < 0) && (nodal[i,1] > 0)){
>         if(nodal[i,1] > 0){          
>           for(l in 1:length(noeud[[as.integer(abs(nodal[i,1]))]])){
>             print(l)
>             distarbre[noeud[[as.integer(abs(nodal[i,1]))]][l],abs(nodal[i,2])] <- nodal[i,3]
>             distarbre[abs(nodal[i,2]),noeud[[as.integer(abs(nodal[i,1]))]][l]] <- nodal[i,3] 
>           }
>           noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,1]))]]),abs(nodal[i,2]))))
>         }
>         else{
>           print(length(noeud[[as.integer(abs(nodal[i,2]))]]))
>           for(m in 1:length(noeud[[as.integer(abs(nodal[i,2]))]])){
>             print(m)
>             distarbre[noeud[[as.integer(abs(nodal[i,2]))]][m],abs(nodal[i,1])] <- nodal[i,3]
>             distarbre[abs(nodal[i,1]),noeud[[as.integer(abs(nodal[i,2]))]][m]] <- nodal[i,3] 
>           }
>           noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,2]))]]),abs(nodal[i,1]))))
>         }
>       }      
>       if((nodal[i,1] > 0) &&  (nodal[i,2] > 0)){
>         for(n in 1:length(noeud[[as.integer(abs(nodal[i,1]))]])){
>           for(o in 1:length(noeud[[as.integer(abs(nodal[i,2]))]])){            
>             distarbre[noeud[[as.integer(abs(nodal[i,2]))]][o],noeud[[as.integer(abs(nodal[i,1]))]][n]] <- nodal[i,3]
>             distarbre[noeud[[as.integer(abs(nodal[i,1]))]][n],noeud[[as.integer(abs(nodal[i,2]))]][o]] <- nodal[i,3]
>           }
>         }
>         noeud <- c(noeud,list(c((noeud[[as.integer(abs(nodal[i,1]))]]),(noeud[[as.integer(abs(nodal[i,2]))]]))))
>       }
>     }
>   }
>   ##print(diag(distarbre))
>   ##print(distarbre)
>   write.table(distarbre,paste(nom,".arbre",sep=""), quote = FALSE,eol = "\n",row.names = FALSE,col.names=FALSE)
> }
> 
> 
> 
> 
> 
> 


-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/pcm/houix/  
IRCAM   1 place Igor Stravinsky             75004         Paris           
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Wed Jun 27 14:36:00 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Wed, 27 Jun 2001 14:36:00 +0200
Subject: [R] open file by browsing
Message-ID: <28a3a29051.2905128a3a@student.liu.se>

Hi everybody!

Is there a way to open a file by browsing (instead of writing filename 
and path). 

/Tomas Svensson
(R 1.2.3, WinNT)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 14:46:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 27 Jun 2001 13:46:08 +0100 (BST)
Subject: [R] open file by browsing
In-Reply-To: <28a3a29051.2905128a3a@student.liu.se>
Message-ID: <Pine.LNX.4.31.0106271344130.2572-100000@gannet.stats>

On Wed, 27 Jun 2001 tomsv193 at student.liu.se wrote:

> Is there a way to open a file by browsing (instead of writing filename
> and path).

What does `open' mean?  For two possible interpretations there are

Menu File, item Display File

Function file.choose()

> /Tomas Svensson
> (R 1.2.3, WinNT)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 27 15:41:59 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Jun 2001 15:41:59 +0200
Subject: [R] gzfile() produces large files
Message-ID: <3B39E2A7.74E59F06@statistik.uni-dortmund.de>

I observed some strange results playing around with gzfile() [R-1.3.0,
WinNT 4.0]:

At first

  x <- 1:1000
  write(x, file = "c:/temp.txt")

results in a file of about 4 kB. But

  my.con <- gzfile("c:/temp.gz", open = "w")
  write(x, file = my.con)
  close(my.con)

results in a file of about 16 kB.

I expected a reduction of the size. Anyone who can tell me what went
wrong?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From strauman at math.ku.dk  Wed Jun 27 15:55:24 2001
From: strauman at math.ku.dk (Daniel Straumann)
Date: Wed, 27 Jun 2001 15:55:24 +0200 (MET DST)
Subject: [R] irregular time series 
Message-ID: <Pine.OSF.4.21.0106271546300.11225-100000@artin.math.ku.dk>

Also after thorough reading of the  help pages it is still not clear to me 
how to treat irregular time series in R. Is there  an object similar to
the "its" object of S-Plus ? 
 
Thanks 


Daniel Straumann
University of Copenhagen

Denmark
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 16:00:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 27 Jun 2001 15:00:45 +0100 (BST)
Subject: [R] irregular time series 
In-Reply-To: <Pine.OSF.4.21.0106271546300.11225-100000@artin.math.ku.dk>
Message-ID: <Pine.LNX.4.31.0106271458480.2953-100000@gannet.stats>

On Wed, 27 Jun 2001, Daniel Straumann wrote:

> Also after thorough reading of the  help pages it is still not clear to me
> how to treat irregular time series in R. Is there  an object similar to
> the "its" object of S-Plus ?

No, but then you can do very little with "its" objects in S-PLUS, and they
have been superseded by the timeSeries class.

Now R has data-time functionality, we perhaps ought to revisit this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 16:11:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 27 Jun 2001 15:11:37 +0100 (BST)
Subject: [R] gzfile() produces large files
In-Reply-To: <3B39E2A7.74E59F06@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0106271502460.2953-100000@gannet.stats>

On Wed, 27 Jun 2001, Uwe Ligges wrote:

> I observed some strange results playing around with gzfile() [R-1.3.0,
> WinNT 4.0]:
>
> At first
>
>   x <- 1:1000
>   write(x, file = "c:/temp.txt")
>
> results in a file of about 4 kB. But
>
>   my.con <- gzfile("c:/temp.gz", open = "w")
>   write(x, file = my.con)
>   close(my.con)
>
> results in a file of about 16 kB.
>
> I expected a reduction of the size. Anyone who can tell me what went
> wrong?

My experiments concur: I do get a 15913 byte file and it is a valid gzip
file.

I've used this much more to read compressed files than write them.
I will take a closer look at the zlib specs when I have time.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Wed Jun 27 16:49:03 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Wed, 27 Jun 2001 08:49:03 -0600 (MDT)
Subject: [R] maps in R
In-Reply-To: <200106262303.LAA25851@aqua.mcs.vuw.ac.nz>
Message-ID: <Pine.GSO.4.30.0106270842460.469-100000@laplace.cgd.ucar.edu>

as pertains the binary databases, I was able to (easily) successfully
use the Rstreams functions to read the "opposite"-endian binary file.

The binary file was created on a Sun and successfully read on a Pentium:


s <- openstream(filename, "read")
bogus  <- readint(s, n = 1, size = 4, signed = TRUE, swapbytes = TRUE);
datvec <- readfloat(s, n=nLats*nLons*nLevels, size=4)
bogus  <- readint(s, n = 1, size = 4, signed = TRUE, swapbytes = TRUE);
closestream(s)


In this case, the binary file was a Fortran unformatted write, so there
were 4byte record words at the beginning and end.  Not using them does
make life a little more dangerous.

As it turns out, the original "poster" (Claudia) works across town in
a different division, we'll probably work together on this and see what
we can come up with.

Tim

> Date: Wed, 27 Jun 2001 11:03:13 +1200 (NZST)
> From: Ray Brownrigg <Ray.Brownrigg at mcs.vuw.ac.nz>
> To: r-help at stat.math.ethz.ch
> Subject: Re: [R] maps in R
>
> > Hello. Any idea if this map package will be ported to R-windows?
> > What is in it that is Unix/Linux dependent?
> > not the computations and projections, must be only the plotting?
> >
> Why don't you try it?  I don't use Windows, so have no hope of doing any
> testing (and no incentive to try).
>
> That said, I think there may still be an issue with licensing of the old
> AT&T code.  It is said to be 'public domain' and the authors have no
> problems with wider dissemination, but you try and get an authoritative
> letter out of Lucent Technologies for some code 'owned' by AT&T Bell
> Laboratories 10 years ago.....
>
> Further, as Brian Ripley has mentioned, the binary databases are
> different for big-endian/little-endian, so for a package to work, you
> would have to go back to the data sources or keep two copies of the
> databases.  This would make the package even larger, unless you extract
> the databases to a separate package or three.  [I use a series of C
> programs to convert the database formats between (S-Plus) Unix/Windows
> and between (SPARC) S-Plus and (Intel) R.  Until recently I was not
> able to create new databases under Linux/Intel.]
>
> Regards,
> Ray Brownrigg
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 17:38:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 27 Jun 2001 16:38:40 +0100 (BST)
Subject: [R] maps in R
In-Reply-To: <Pine.GSO.4.30.0106270842460.469-100000@laplace.cgd.ucar.edu>
Message-ID: <Pine.LNX.4.31.0106271635080.3058-100000@gannet.stats>

On Wed, 27 Jun 2001, Tim Hoar wrote:

> as pertains the binary databases, I was able to (easily) successfully
> use the Rstreams functions to read the "opposite"-endian binary file.
>
> The binary file was created on a Sun and successfully read on a Pentium:
>
>
> s <- openstream(filename, "read")
> bogus  <- readint(s, n = 1, size = 4, signed = TRUE, swapbytes = TRUE);
> datvec <- readfloat(s, n=nLats*nLons*nLevels, size=4)
> bogus  <- readint(s, n = 1, size = 4, signed = TRUE, swapbytes = TRUE);
> closestream(s)
>
>
> In this case, the binary file was a Fortran unformatted write, so there
> were 4byte record words at the beginning and end.  Not using them does
> make life a little more dangerous.
>
> As it turns out, the original "poster" (Claudia) works across town in
> a different division, we'll probably work together on this and see what
> we can come up with.

Can I suggest you note that R-data.texi says

  Binary connections (@ref{Connections}) are now the preferred way to
  handle binary files, and package @pkg{Rstreams} will be withdrawn in
  late 2001.

and act accordingly.  readBin, for example, has an `endian' argument
that makes this transparent to the user.

>
> Tim
>
> > Date: Wed, 27 Jun 2001 11:03:13 +1200 (NZST)
> > From: Ray Brownrigg <Ray.Brownrigg at mcs.vuw.ac.nz>
> > To: r-help at stat.math.ethz.ch
> > Subject: Re: [R] maps in R
> >
> > > Hello. Any idea if this map package will be ported to R-windows?
> > > What is in it that is Unix/Linux dependent?
> > > not the computations and projections, must be only the plotting?
> > >
> > Why don't you try it?  I don't use Windows, so have no hope of doing any
> > testing (and no incentive to try).
> >
> > That said, I think there may still be an issue with licensing of the old
> > AT&T code.  It is said to be 'public domain' and the authors have no
> > problems with wider dissemination, but you try and get an authoritative
> > letter out of Lucent Technologies for some code 'owned' by AT&T Bell
> > Laboratories 10 years ago.....
> >
> > Further, as Brian Ripley has mentioned, the binary databases are
> > different for big-endian/little-endian, so for a package to work, you
> > would have to go back to the data sources or keep two copies of the
> > databases.  This would make the package even larger, unless you extract
> > the databases to a separate package or three.  [I use a series of C
> > programs to convert the database formats between (S-Plus) Unix/Windows
> > and between (SPARC) S-Plus and (Intel) R.  Until recently I was not
> > able to create new databases under Linux/Intel.]
> >
> > Regards,
> > Ray Brownrigg
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> ## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
> ## Geophysical Statistics Project             phone: 303-497-1708       ##
> ## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
> ## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Jun 27 17:40:45 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 27 Jun 2001 17:40:45 +0200
Subject: [R] gzfile() produces large files
In-Reply-To: <Pine.LNX.4.31.0106271502460.2953-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Wed, Jun 27, 2001 at 03:11:37PM +0100
References: <3B39E2A7.74E59F06@statistik.uni-dortmund.de> <Pine.LNX.4.31.0106271502460.2953-100000@gannet.stats>
Message-ID: <20010627174043.A28285@rzpool02.pool.rz.tu-bs.de>

I would guess that this is an artifact of compressionalogor.:

under a unix shell:

 > cat tmp1.txt
1 2 3 > ls -l tmp1.txt
-rw-------   1 y0004379   users            5 Juni 27 17:31 tmp1.txt
 > gzip tmp1.txt
 > ls -l tmp1.txt.gz
-rw-------   1 y0004379   users           34 Juni 27 17:31 tmp1.txt.gz
 

#####on windows r-1.3.0:

> x <- rnorm(10000)
> write(x, file = "c:/temp.txt")
> system("ls -l c:/temp/temp.txt",T)
[1] "a-----      4093 27-Jun-101 16:50 c:/temp/temp.txt"
> my.con <- gzfile("c:/temp/temp.gz", open = "w")
> write(x, file = my.con)
close(my.con)
> > system("ls -l c:/temp/temp.gz",T)
[1] "a-----    193200 27-Jun-101 17:24 c:/temp/temp.gz"

on large file the gzip - alogorithm is effective!

Peter 


>
 > ls -l tmp1.txt.bz2
-rw-------   1 y0004379   users           43 Juni 27 17:31 tmp1.txt.bz2
 >


On Wed, Jun 27, 2001 at 03:11:37PM +0100, Prof Brian D Prof Brian D Ripley wrote:
> On Wed, 27 Jun 2001, Uwe Ligges wrote:
> 
> > I observed some strange results playing around with gzfile() [R-1.3.0,
> > WinNT 4.0]:
> >
> > At first
> >
> >   x <- 1:1000
> >   write(x, file = "c:/temp.txt")
> >
> > results in a file of about 4 kB. But
> >
> >   my.con <- gzfile("c:/temp.gz", open = "w")
> >   write(x, file = my.con)
> >   close(my.con)
> >
> > results in a file of about 16 kB.
> >
> > I expected a reduction of the size. Anyone who can tell me what went
> > wrong?
> 
> My experiments concur: I do get a 15913 byte file and it is a valid gzip
> file.
> 
> I've used this much more to read compressed files than write them.
> I will take a closer look at the zlib specs when I have time.
> 
> Brian
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From buoy at wp.pl  Wed Jun 27 17:48:42 2001
From: buoy at wp.pl (Michal Bojanowski)
Date: Wed, 27 Jun 2001 17:48:42 +0200
Subject: [R] r-help mailing list archives
Message-ID: <MABBLGKPHGACBIAEKIILCEBMCCAA.buoy@wp.pl>

Hello to all.

I was wandering if there is some kind of archive of postings to this maling
list. I found myself having a bunch of simple questions which, I think, are
typical for a freshman in R and which were almost for sure asked and
answered to in the past. I would by grateful for a link.

thanks


Michal Bojanowski

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jun 27 18:46:19 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 27 Jun 2001 09:46:19 -0700 (PDT)
Subject: [R] r-help mailing list archives
In-Reply-To: <MABBLGKPHGACBIAEKIILCEBMCCAA.buoy@wp.pl>
Message-ID: <Pine.A41.4.33.0106270943350.117588-100000@homer03.u.washington.edu>

On Wed, 27 Jun 2001, Michal Bojanowski wrote:

> Hello to all.
>
> I was wandering if there is some kind of archive of postings to this maling
> list. I found myself having a bunch of simple questions which, I think, are
> typical for a freshman in R and which were almost for sure asked and
> answered to in the past. I would by grateful for a link.
>

In addition to the FAQ list (whose address is at the bottom of every
message), there is a mailist archive accessible from the R homepage at
www.r-project.org (the left-hand frame, near the bottom)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Jun 27 20:51:28 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 27 Jun 2001 13:51:28 -0500 (CDT)
Subject: [R] Weighted Least Squares
Message-ID: <200106271851.NAA08277@uhddx01.dt.uh.edu>

Dear R People:

Is there a function for weighted least squares, please?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 27 21:19:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2001 21:19:10 +0200
Subject: [R] Weighted Least Squares
In-Reply-To: Erin Hodgess's message of "Wed, 27 Jun 2001 13:51:28 -0500 (CDT)"
References: <200106271851.NAA08277@uhddx01.dt.uh.edu>
Message-ID: <x2sngl20k1.fsf@blueberry.kubism.ku.dk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Dear R People:
> 
> Is there a function for weighted least squares, please?
> 
> Thanks in advance!

Either the weigths= argument to lm or lm.gls from the MASS package
depending on your needs, I suspect. Beware that there are different
meanings of "weight" though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Jun 27 21:21:10 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 27 Jun 2001 14:21:10 -0500 (CDT)
Subject: [R] Weighted Least Squares
Message-ID: <200106271921.OAA08804@uhddx01.dt.uh.edu>

Dear R+ People:

For weighted Least squares, use the Weights option
in the lm statement.

Thanks to Prof. Peter Dalgaard for his instantaneous response!!!!!

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Jun 27 21:46:32 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Wed, 27 Jun 2001 14:46:32 -0500
Subject: [R] read data in from gzipped file
Message-ID: <3B3A3818.E29A040@ukans.edu>

Until the postings today about gzfile, I did not realize R can read in
from gzipped datafiles.  So I'm testing that to see how it works.  I
took a test file, which has headers, which I previously used with
read.table(), and tried to turn a gzipped version into a R dataframe.

> myFile <- gzfile("DataCulture22.gz", open = "r")
> splat <- readLines(myFile)

The object splat is a vector of character strings:
> is.vector(splat)
[1] TRUE

And  my headers are there:
> splat[[1]]
[1] "T Run Seed  IntAct  Change f0 f0T0 f0T1 f0T2 average0 variance0
relentropy0 f1 f1T0 f1T1 f1T2 average1 variance1 relentropy1 f2 f2T0
f2T1 f2T2 average2 variance2 relentropy2 f3 f3T0 f3T1 f3T2 average3
variance3 relentropy3 f4 f4T0 f4T1 f4T2 average4 variance4 relentropy4
totalEntropy acquaint harmony identical "

I do not understand how to get from there to a dataframe.  One
complication is that some of my data values are characters, as in 
> splat[[3]]
[1] "    10 22 388401534       165        12 f0 161  177  162  1.002000
0.644000 0.999131 f1 166  157  177  1.022000 0.684000 0.998906 f2 150 
167  183  1.066000 0.658000 0.997017 f3 167  157  176  1.018000 0.684000
0.999012 f4 168  169  163  0.990000 0.660000 0.999887 0.944053 0.330000
0.151200 0.007000 "

I'm reading MASS by Venables & Ripley 3ed p. 48 where it talks about
coercing a string vector into a data frame, but I just keep floundering
around trying to  make this work.  The recipe on p. 48 seems to require
I know how many variables there are in each row, but ahead of time I
don't always know.

Thanks in advance.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 27 22:00:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Jun 2001 21:00:50 +0100 (BST)
Subject: [R] read data in from gzipped file
In-Reply-To: <3B3A3818.E29A040@ukans.edu>
Message-ID: <Pine.GSO.4.31.0106272058050.28656-100000@auk.stats>

On Wed, 27 Jun 2001, Paul E Johnson wrote:

> Until the postings today about gzfile, I did not realize R can read in
> from gzipped datafiles.  So I'm testing that to see how it works.  I

It couldn't until last Friday ... and it is in the NEWS for 1.3.0.

> took a test file, which has headers, which I previously used with
> read.table(), and tried to turn a gzipped version into a R dataframe.
>
> > myFile <- gzfile("DataCulture22.gz", open = "r")
> > splat <- readLines(myFile)
>
> The object splat is a vector of character strings:
> > is.vector(splat)
> [1] TRUE
>
> And  my headers are there:
> > splat[[1]]
> [1] "T Run Seed  IntAct  Change f0 f0T0 f0T1 f0T2 average0 variance0
> relentropy0 f1 f1T0 f1T1 f1T2 average1 variance1 relentropy1 f2 f2T0
> f2T1 f2T2 average2 variance2 relentropy2 f3 f3T0 f3T1 f3T2 average3
> variance3 relentropy3 f4 f4T0 f4T1 f4T2 average4 variance4 relentropy4
> totalEntropy acquaint harmony identical "

You want

splat <- read.table(gzfile("DataCulture22.gz"), header=T)

or whatever else you would add for an uncompressed data file
(open ="r" is the default).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 28 00:44:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Jun 2001 23:44:04 +0100 (BST)
Subject: [R] gzfile() produces large files
In-Reply-To: <Pine.LNX.4.31.0106271502460.2953-100000@gannet.stats>
Message-ID: <Pine.GSO.4.31.0106272340260.29004-100000@auk.stats>

Here are some more experiments:

zz <- gzfile("t1.gz", "w")
write(1:1000, zz)
close(zz)

zz <- gzfile("t2.gz", "w")
writeLines(as.character(1:1000), zz)
close(zz)

zz <- gzfile("t3.gz", "w")
writeBin(1:1000, zz)
close(zz)

zz <- textConnection("out", "w")
write(1:1000, zz)
close(zz)
zz <- gzfile("t4.gz", "w")
writeLines(out, zz)
close(zz)

ls -l
-rw-r--r--    1 ripley   Administ    15913 Jun 27 23:20 t1.gz
-rw-r--r--    1 ripley   Administ     1848 Jun 27 23:20 t2.gz
-rw-r--r--    1 ripley   Administ     1434 Jun 27 23:20 t3.gz
-rw-r--r--    1 ripley   Administ     1856 Jun 27 23:20 t4.gz

All are 3893 bytes uncompressed except t3, which is 4000.  The problem with
the first is that it writes in very small pieces,

1 \n 2 \n 3 \n 4 \n  ...

and as the output is trying for no latency, it has too little
opportunity to compress.

The moral seems to be to write to gzfile connections in moderately-sized
pieces.  It's the one-byte carriage returns that really do the damage here.



On Wed, 27 Jun 2001, Prof Brian Ripley wrote:
> On Wed, 27 Jun 2001, Uwe Ligges wrote:
>
> > I observed some strange results playing around with gzfile() [R-1.3.0,
> > WinNT 4.0]:
> >
> > At first
> >
> >   x <- 1:1000
> >   write(x, file = "c:/temp.txt")
> >
> > results in a file of about 4 kB. But
> >
> >   my.con <- gzfile("c:/temp.gz", open = "w")
> >   write(x, file = my.con)
> >   close(my.con)
> >
> > results in a file of about 16 kB.
> >
> > I expected a reduction of the size. Anyone who can tell me what went
> > wrong?
>
> My experiments concur: I do get a 15913 byte file and it is a valid gzip
> file.
>
> I've used this much more to read compressed files than write them.
> I will take a closer look at the zlib specs when I have time.
>
> Brian
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crysopa at terra.com.br  Thu Jun 28 01:09:12 2001
From: crysopa at terra.com.br (Ronaldo Reis Jr.)
Date: Wed, 27 Jun 2001 20:09:12 -0300
Subject: [R] Compiling R on Linux
Message-ID: <01062720091201.09972@localhost.localdomain>

Dear all,
I'm trying to compile R-1.3 on linux (Conectiva 6.0), the ./configure is OK, 
no problem, but the make command terminate with this error message:

make[4]: Entering directory 
`/home/ftp/pub/Progs/Linux/TAR.GZ/Statisticals/R-1.3.0/src/library/tcltk/src'
gcc -I../../../../include -I/usr/include -I/usr/include -I/usr/X11R6/include 
-I/usr/local/include -D__NO_MATH_INLINES  -fPIC  -g -O2 -c tcltk.c -o tcltk.o
gcc -shared  -o tcltk.so tcltk.o -L/usr/lib -ltcl8.3 -L/usr/lib -ltk8.3 
-L/usr/X11R6/lib -lX11 -ldl  -lieee -lm -L/usr/local/lib  
/usr/bin/ld: cannot find -lieee
collect2: ld returned 1 exit status
make[4]: *** [tcltk.so] Error 1
make[4]: Leaving directory 
`/home/ftp/pub/Progs/Linux/TAR.GZ/Statisticals/R-1.3.0/src/library/tcltk/src'
make[3]: *** [all] Error 1
make[3]: Leaving directory 
`/home/ftp/pub/Progs/Linux/TAR.GZ/Statisticals/R-1.3.0/src/library/tcltk'
make[2]: *** [R] Error 1
make[2]: Leaving directory 
`/home/ftp/pub/Progs/Linux/TAR.GZ/Statisticals/R-1.3.0/src/library'
make[1]: *** [R] Error 1
make[1]: Leaving directory 
`/home/ftp/pub/Progs/Linux/TAR.GZ/Statisticals/R-1.3.0/src'
make: *** [R] Error 1

Anybody know who to resolve this problem?

Help will be greatly appreciated!

Thank you

Ronaldo
-- 
A mais nova tecnologia de transfer?ncia de dados entre computadores
? o DPL/DPC (Disquete Pra L?, Disquete Pra C?).
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [crysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 6.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 6.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lamadrid at u.washington.edu  Thu Jun 28 01:38:12 2001
From: lamadrid at u.washington.edu (M. LaMadrid)
Date: Wed, 27 Jun 2001 16:38:12 -0700 (PDT)
Subject: [R] plotting points with different colors
Message-ID: <Pine.A41.4.33.0106271629260.197708-100000@homer03.u.washington.edu>


I am trying to make a plot where each data point gets
plotted with a user-defined color, i.e., one set of x-y pairs, with
each point having a different color, and not, e.g., 3 sets with
3 different colors. If anyone has tried
this, I'd appreciate seeing how it's done. I have tried to
make something analogous to the way "January Pie Sales"
(from the demo("graphics") set) was done, using 'plot'
instead of 'piechart', but only the first color in the list
gets used.

Thanks for any useful advice.

M. A. LaMadrid


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Jun 28 03:37:12 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 27 Jun 2001 21:37:12 -0400
Subject: [R] plotting points with different colors
In-Reply-To: <Pine.A41.4.33.0106271629260.197708-100000@homer03.u.washington.edu>
References: <Pine.A41.4.33.0106271629260.197708-100000@homer03.u.washington.edu>
Message-ID: <rf2ljt45sc2p3kkvlbfsh0e1rnci714lcg@4ax.com>

On Wed, 27 Jun 2001 16:38:12 -0700 (PDT), you wrote in message
<Pine.A41.4.33.0106271629260.197708-100000 at homer03.u.washington.edu>:

>
>I am trying to make a plot where each data point gets
>plotted with a user-defined color, i.e., one set of x-y pairs, with
>each point having a different color, and not, e.g., 3 sets with
>3 different colors. If anyone has tried
>this, I'd appreciate seeing how it's done. I have tried to
>make something analogous to the way "January Pie Sales"
>(from the demo("graphics") set) was done, using 'plot'
>instead of 'piechart', but only the first color in the list
>gets used.

This gives me 10 points in 10 different colours:

  plot(1:10,1:10,col=1:10)

in R 1.3.0 for Windows.  What are you doing that's different?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jun 28 03:34:42 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 28 Jun 2001 13:34:42 +1200
Subject: [R] plotting points with different colors
In-Reply-To: <Pine.A41.4.33.0106271629260.197708-100000@homer03.u.washington.edu>
Message-ID: <JLECJACFMBHFAAPLJNECEEBMCAAA.Ko-Kang@xtra.co.nz>

Hi,

Perhaps try the c() parameter.

e.g.

> x <- 1:10
> # plot(x)
> plot( x, col = c( "red", "blue", "black", "cyan", "green", "yellow" ) )

It was only an example, I haven't specified 10 colours for the 10 x values (well it is hard to think 10 colours at once), but you get the idea :-)

Cheers,

Kevin


----------------------------------------------
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
Auckland
New Zealand


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of M. LaMadrid
Sent: Thursday, June 28, 2001 11:38 AM
To: r-help at stat.math.ethz.ch
Cc: M. LaMadrid
Subject: [R] plotting points with different colors



I am trying to make a plot where each data point gets
plotted with a user-defined color, i.e., one set of x-y pairs, with
each point having a different color, and not, e.g., 3 sets with
3 different colors. If anyone has tried
this, I'd appreciate seeing how it's done. I have tried to
make something analogous to the way "January Pie Sales"
(from the demo("graphics") set) was done, using 'plot'
instead of 'piechart', but only the first color in the list
gets used.

Thanks for any useful advice.

M. A. LaMadrid


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Thu Jun 28 07:09:47 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Thu, 28 Jun 2001 07:09:47 +0200
Subject: [R] open file by browsing
Message-ID: <3B3AD83B.23229.13AEA6@localhost>

> Is there a way to open a file by browsing (instead of writing filename 
> and path). 
if you want to load a data-file into a data.frame you could do:
data <- read.table( file.choose(), sep=",");

of course, this reuqires you to know your file-format. 
in the above example you had a comma-delimited ascii-file.

there is no function which can be used for data-import without knowing the
fileformat and no "spss-like" import-function. (correct me if i'm wrong
;-)

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jun 28 18:13:31 2001
From: gb at stat.umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 28 Jun 2001 18:13:31 +0200 (CEST)
Subject: [R] gcc-3.0?
In-Reply-To: <Pine.LNX.4.31.0106271635080.3058-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0106281803490.31327-100000@tal.stat.umu.se>


I want advise on which gcc-version to upgrade to on my RH7.1 Linux:
Redhat announces a new version (mainly fixing bugs), and at the same
time I see gcc-3.0 released (at gcc.gnu.org). Any suggestions?
I could try installing gcc-3.0 and R-1.3.0 if noone else already have.

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 28 10:58:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Jun 2001 09:58:25 +0100 (BST)
Subject: [R] gcc-3.0?
In-Reply-To: <Pine.LNX.4.33.0106281803490.31327-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.31.0106280957090.2110-100000@gannet.stats>

On Thu, 28 Jun 2001, [ISO-8859-1] Gran Brostrm wrote:

>
> I want advise on which gcc-version to upgrade to on my RH7.1 Linux:
> Redhat announces a new version (mainly fixing bugs), and at the same
> time I see gcc-3.0 released (at gcc.gnu.org). Any suggestions?
> I could try installing gcc-3.0 and R-1.3.0 if noone else already have.

gcc 3.0 works for me as an upgrade on RH6.2, and compiles R-1.3.0 on both
Linux and Solaris.

I'd go for 3.0.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Jun 28 11:03:23 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 28 Jun 2001 11:03:23 +0200 (MET DST)
Subject: [R] Gray levels in plot
Message-ID: <Pine.GSO.3.95q.1010628105926.811B-100000@sun21.math.uni-hamburg.de>

Dear list,

is there a way to set the gray levels in a scatterplot? I want to make
some plots for a b/w journal and the dataset is so large that I need
pch="." for all points. As I understand the command gray(), it generates
colors from prespecified gray levels. Are these the gray levels which
appear again if I plot with col=gray(level), save as postscript and print
with a b/w printer? Or can the gray levels be given to plot directly somehow?
(R 1.3.0 on Solaris)

Thank you,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Jun 28 11:53:28 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 28 Jun 2001 11:53:28 +0200 (MET DST)
Subject: [R] irregular time series
In-Reply-To: <Pine.OSF.4.21.0106271546300.11225-100000@artin.math.ku.dk> from "Daniel Straumann" at Jun 27, 2001 03:55:24 PM
Message-ID: <200106280953.LAA21741@luc.ac.be>

> 
> Also after thorough reading of the  help pages it is still not clear to me 
> how to treat irregular time series in R. Is there  an object similar to
> the "its" object of S-Plus ? 

All of the functions in my libraries handle "irregular" time series.
For example, for the standard continuous time ARMA models, see carma
in my growth library.
  Jim

>  
> Thanks 
> 
> 
> Daniel Straumann
> University of Copenhagen
> 
> Denmark
>  
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu Jun 28 12:44:19 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 28 Jun 2001 20:44:19 +1000
Subject: [R] plotting points with different colors
Message-ID: <3B3B0A82.653283E1@ozemail.com.au>

M LaMadrid wrote:
>
> I am trying to make a plot where each data point gets
> plotted with a user-defined color, i.e., one set of x-y pairs, with
> each point having a different color...

This could be right off target, but I am working on a routine that takes
"color maps" and interpolates the colors across a plot.  I had intended
this for color mapping on something like persp(), but it would easily
provide spatially distributed colors on a scattergram if that is what
you are trying to do.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matogar at um.es  Wed Jun 27 13:59:55 2001
From: matogar at um.es (Manuel Ato Garcia)
Date: Wed, 27 Jun 2001 13:59:55 +0200
Subject: [R] Multiple comparisons
Message-ID: <3.0.3.32.20010627135955.00820860@gaia.fcu.um.es>

Dear all:

 Is there programs or packages to do multiple comparisons of means with
between and within subject design with R system?

 Thanks in advance.

		Manuel Ato Garc?a
		Dpto. Psicolog?a B?sica y Metodolog?a
		Universidad de Murcia
		Apartado 4021
		30080 MURCIA (Spain)
		e-mail: matogar at um.es
		phone: +34 968 363477

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Jun 28 14:30:15 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 28 Jun 2001 08:30:15 -0400
Subject: [R] Gray levels in plot
In-Reply-To: <Pine.GSO.3.95q.1010628105926.811B-100000@sun21.math.uni-hamburg.de>
References: <Pine.GSO.3.95q.1010628105926.811B-100000@sun21.math.uni-hamburg.de>
Message-ID: <kh8mjt42pa29hqf1f7f5467o210faf6gd3@4ax.com>

On Thu, 28 Jun 2001 11:03:23 +0200 (MET DST), you wrote:

>Dear list,
>
>is there a way to set the gray levels in a scatterplot? I want to make
>some plots for a b/w journal and the dataset is so large that I need
>pch="." for all points. As I understand the command gray(), it generates
>colors from prespecified gray levels. Are these the gray levels which
>appear again if I plot with col=gray(level), save as postscript and print
>with a b/w printer? 

Yes, that's the best way to do it.  For other ways to specify colours,
see the ?par help topic.

>Or can the gray levels be given to plot directly somehow?

That does give gray levels to plot directly.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Thu Jun 28 14:01:18 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Thu, 28 Jun 2001 14:01:18 +0200
Subject: [R] gcc-3.0?
Message-ID: <OF05BC856F.A8B4493F-ONC1256A79.00417A01@eurotel.cz>


Hi Goran,

AFAIK, the (RH7.1) gcc-2.96 is updated via patches to get it to the level
of gcc-3.0.
^^^^^

I would prefer 3.0 over 2.96-81.

Best,
Jan
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------




?


>I want advise on which gcc-version to upgrade to on my RH7.1 Linux:
>Redhat announces a new version (mainly fixing bugs), and at the same
>time I see gcc-3.0 released (at gcc.gnu.org). Any suggestions?
>I could try installing gcc-3.0 and R-1.3.0 if noone else already have.

>G?ran
>--
 >G?ran Brostr?m                      tel: +46 90 786 5223
 >professor                           fax: +46 90 786 6614
 >Department of Statistics            http://www.stat.umu.se/egna/gb/
 >Ume? University
 >SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jun 28 14:29:22 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 28 Jun 2001 08:29:22 -0400
Subject: [R] is Rcgi still alive?
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8068@usrymx10.merck.com>

Hi all,

Is anyone using Rcgi?  The link can not be reached.  Even the 
web site for the Center of Applied Stat. (stats.mth.uea.ac.uk) 
can not be reached.  An email to the author produce no
response.

Cheers,
Andy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Jun 28 14:32:02 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 28 Jun 2001 14:32:02 +0200
Subject: [R] Multiple comparisons
In-Reply-To: <3.0.3.32.20010627135955.00820860@gaia.fcu.um.es>
Message-ID: <B760F061.9DBA%pflugshaupt@geobot.umnw.ethz.ch>

On 27.6.2001 13:59 Uhr, Manuel Ato Garcia wrote:

> Dear all:
> 
> Is there programs or packages to do multiple comparisons of means with
> between and within subject design with R system?
> 

The only facility for multiple comparisons in R that I'm aware of is in
package "ctest": pairwise.t.test, pairwise.wilcox.test and some more like
this (have a look at their help texts). They use the function p.adjust() (in
the base package), which uses the Hochberg adjustment by default.

I've used p.adjust() to adjust p values from multiple survival comparisons
"by hand", for which problem there seems to be no standard method. In your
case, there probably is (I do not know), so this approach would be
suboptimal. But it still might work.

Hope this helps some

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jun 28 22:51:28 2001
From: gb at stat.umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 28 Jun 2001 22:51:28 +0200 (CEST)
Subject: [R] gcc-3.0?
In-Reply-To: <Pine.LNX.4.31.0106280957090.2110-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0106282248200.7980-100000@tal.stat.umu.se>

On Thu, 28 Jun 2001, Prof Brian Ripley wrote:

> On Thu, 28 Jun 2001, [ISO-8859-1] G?ran Brostr?m wrote:
>
> >
> > I want advise on which gcc-version to upgrade to on my RH7.1 Linux:
> > Redhat announces a new version (mainly fixing bugs), and at the same
> > time I see gcc-3.0 released (at gcc.gnu.org). Any suggestions?
> > I could try installing gcc-3.0 and R-1.3.0 if noone else already have.
>
> gcc 3.0 works for me as an upgrade on RH6.2, and compiles R-1.3.0 on both
> Linux and Solaris.
>
> I'd go for 3.0.

Thanks Brian, I did, and all the installations and checks went smoothly. I
didn't run the test-suite accompanying gcc-3.0, though.

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Thu Jun 28 14:46:49 2001
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Thu, 28 Jun 2001 13:46:49 +0100
Subject: [R] is Rcgi still alive?
Message-ID: <f05010401b760d79fc624@[139.222.80.154]>

>Hi all,
>
>Is anyone using Rcgi?  The link can not be reached.  Even the
>web site for the Center of Applied Stat. (stats.mth.uea.ac.uk)
>can not be reached.  An email to the author produce no
>response.
>
>Cheers,
>Andy
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Much confusion here!
  Mark Ray ( the originator ) and Rcgi guru is away but will be told 
when he returns today or tomorrow.

As our web site is being moved from our machines  to machines  run by 
central computing service there are going to be broken links. I'm 
afraid there are some glitches which need sorting out.  We will do 
our best
GJ
-- 
   G.Janacek
   Dean				               e-mail: G.Janacek at uea.ac.uk
   School of Mathematics			          tel: 44-(0)1603-592849
   UEA, Norwich NR4 7TJ,UK		          fax: 44-(0)1603-593868
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Thu Jun 28 16:20:39 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Thu, 28 Jun 2001 11:20:39 -0300
Subject: [R] changing values
Message-ID: <002701c0ffdd$c07c49c0$ae54fea9@nautilus>

Dear R list members,

I have a factor vector with levels 1, 2, 3 and 4. I want to re-group it: 1 and 2 will be 1 and 3 and 4 will be 2, e.g.:

x <- c(1, 1, 1, 2, 3, 2, 3, 4, ... )
x <- factor(x)

What I have to do create a new vector where 1 1 1 2 3 2 3 4 ... is transformed in 1 1 1 1 2 1 2 2 ... ? (I have more than 200 lines in my dataframe)

Thanks in advance.

Best wishes,

Ant?nio Olinto
Fisheries Institute
Sao Paulo - BRAZIL
www.institutopesca.sp.gov.br





-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010628/af302a82/attachment.html

From ripley at stats.ox.ac.uk  Thu Jun 28 16:34:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Jun 2001 15:34:12 +0100 (BST)
Subject: [R] changing values
In-Reply-To: <002701c0ffdd$c07c49c0$ae54fea9@nautilus>
Message-ID: <Pine.LNX.4.31.0106281530300.1624-100000@gannet.stats>

On Thu, 28 Jun 2001, Antonio Olinto wrote:

> Dear R list members,
>
> I have a factor vector with levels 1, 2, 3 and 4. I want to re-group it:
1 and 2 will be 1 and 3 and 4 will be 2, e.g.:
>
> x <- c(1, 1, 1, 2, 3, 2, 3, 4, ... )
> x <- factor(x)
>
> What I have to do create a new vector where 1 1 1 2 3 2 3 4 ... is
transformed in 1 1 1 1 2 1 2 2 ... ? (I have more than 200 lines in
my dataframe)

> levels(x) <- c(1,1,2,2)
> x
[1] 1 1 1 1 2 1 2 2
Levels:  1 2

is the simplest answer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Thu Jun 28 17:09:24 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Thu, 28 Jun 2001 12:09:24 -0300
Subject: [R] changing values
References: <Pine.LNX.4.31.0106281530300.1624-100000@gannet.stats>
Message-ID: <002901c0ffe4$69755f20$ae54fea9@nautilus>

Thanks very much Dr. Ripley.

After thinking a little more on my question I decide to use "ifelse"

x <- c(x)
x1 <- ifelse (x <=2, 1, x)
x2 <- ifelse (x1>=3, 2, x1)
x <- factor(x2)

it works, but "levels(x) <- c(1,1,2,2)" is too much easier.

Thanks a lot.

Ant?nio Olinto

----- Original Message -----
From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
To: "Antonio Olinto" <aolinto at bignet.com.br>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, June 28, 2001 11:34 AM
Subject: Re: [R] changing values


> On Thu, 28 Jun 2001, Antonio Olinto wrote:
>
> > Dear R list members,
> >
> > I have a factor vector with levels 1, 2, 3 and 4. I want to re-group it:
> 1 and 2 will be 1 and 3 and 4 will be 2, e.g.:
> >
> > x <- c(1, 1, 1, 2, 3, 2, 3, 4, ... )
> > x <- factor(x)
> >
> > What I have to do create a new vector where 1 1 1 2 3 2 3 4 ... is
> transformed in 1 1 1 1 2 1 2 2 ... ? (I have more than 200 lines in
> my dataframe)
>
> > levels(x) <- c(1,1,2,2)
> > x
> [1] 1 1 1 1 2 1 2 2
> Levels:  1 2
>
> is the simplest answer.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Thu Jun 28 17:37:33 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Thu, 28 Jun 2001 16:37:33 +0100
Subject: [R] Printer
Message-ID: <3B3B4F3D.844FD12D@di.fct.unl.pt>

I am an econometrics student using R-1.3.0 version for Linux. I have
searched in all manuals but couldn?t find a most important iformation.

Would you please be kind enough to give me some hints how do I print the
output to a printer (not only to the screen). Is it the cat ()
instruction? The print() instruction places the output on the screen but
does not send the output to the printer.

ThankYou
CJoseBento
cjb at di.fct.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010628/a3f323f2/attachment.html

From phgrosje at ulb.ac.be  Thu Jun 28 18:53:15 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 28 Jun 2001 18:53:15 +0200
Subject: [R] changing values
In-Reply-To: <002701c0ffdd$c07c49c0$ae54fea9@nautilus>
Message-ID: <MABBLJDICACNFOLGIHJOGEDDCEAA.phgrosje@ulb.ac.be>

Antonio Olinto wrote:

>Dear R list members,
>I have a factor vector with levels 1, 2, 3 and 4. I want to re-group it: 1
and 2 will be 1 and 3 and 4 will be 2, e.g.:
>x <- c(1, 1, 1, 2, 3, 2, 3, 4, ... )
>x <- factor(x)
>What I have to do create a new vector where 1 1 1 2 3 2 3 4 ... is
transformed in 1 1 1 1 2 1 2 2 ... ? (I have more than 200 lines in my
dataframe)
>Thanks in advance.

I don't know if it is the best way to do it, but it works:

x <- as.numeric(x)
x[x<=2] <- 1
x[x>2] <- 2
x <- as.factor(x)

Best regards,

Philippe Grosjean



...........]<(({?<...............<?}))><...............................
 ) ) ) ) )       __                      __
( ( ( ( (       |__)                    |  _
 ) ) ) ) )      |   hilippe             |__)rosjean
( ( ( ( (       Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )                               __
( ( ( ( (       |\  /|                  |__)
 ) ) ) ) )      | \/ |ariculture &      |__)iostatistic
( ( ( ( (
 ) ) ) ) )      e-mail: phgrosje at ulb.ac.be
( ( ( ( (       SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )
.......................................................................

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010628/12a718a7/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Jun 28 18:58:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 2001 18:58:20 +0200
Subject: [R] Printer
In-Reply-To: cjb's message of "Thu, 28 Jun 2001 16:37:33 +0100"
References: <3B3B4F3D.844FD12D@di.fct.unl.pt>
Message-ID: <x2ae2szglv.fsf@blueberry.kubism.ku.dk>

cjb <cjb at di.fct.unl.pt> writes:

> I am an econometrics student using R-1.3.0 version for Linux. I have
> searched in all manuals but couldn?t find a most important iformation.
> 
> Would you please be kind enough to give me some hints how do I print the
> output to a printer (not only to the screen). Is it the cat ()
> instruction? The print() instruction places the output on the screen but
> does not send the output to the printer.

You can use sink() on a connection like pipe("lpr") or
pipe("enscript") depending on your setup. However, I usually realize
that I want to print something only after seeing it on the screen and
sink() requires you to plan ahead. Instead, I'd just fire up another
window, enter the command that prints from stdin (e.g. enscript), copy
and paste the relevant contents of the R window, and hit ctrl-D. (A
good long scrollback on your terminal windows will be helpful.)

If you use ESS (Emacs speaks statistics), then you simply handle the R
buffer as an ordinary file and you can use the toplevel menu to "Print
region", etc.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Jun 28 21:10:39 2001
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 28 Jun 2001 20:10:39 +0100
Subject: [R]: k-fold cross validation for fda,mda etc
Message-ID: <3B3B812B.308AE792@esb.ucp.pt>

Hi all,

Has anyone tried to do k-fold cross validation for flexible discriminant
analysis ( mda library), for example, using crossval() in bootstrap?

The problem is that the function crossval() requires a separate matrix
for predictors and another for responses, whereas the function fda(),
using the formula argument only.

Is there another way of doing k-fold cross validation for functions
which only have the formula argument, like for fda() and mda() ?




Peter

--------------------------------------------------------
Peter Ho GradIFST
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200-072 Porto
Portugal



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Thu Jun 28 21:35:54 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Thu, 28 Jun 2001 15:35:54 -0400 (EDT)
Subject: [R] interaction() -- problem with drop?
Message-ID: <Pine.LNX.4.21.0106281508560.11380-100000@ln.nimh.nih.gov>

Hi, all. 

(R-1.3.0 on linux, alpha and intel; also tested on R-1.1.1 on irix.)

Below is a program that creates some random data (n, x, and y), creates a
factor out of x and y and then creates a factor z out of their interaction
(corresponding, with the default nf = 2, to quadrants, which is how I came
upon this).  It then runs an analysis of variance.

f.test.problem <- 
function(n = 100, nf = 2){

  t1 <- data.frame(n = rnorm(n), x = rnorm(n), y = rnorm(n))

  t1$x <- cut(t1$x, nf, labels = 1:nf)
  t1$y <- cut(t1$y, nf, labels = 1:nf)
  t1$z <- interaction(t1$x, t1$y, drop = F)
  
  print(table(t1$x))
  print(table(t1$y))
  print(table(t1$z))
  
  summary(aov(n ~ z, data = t1))
}

Here's the problem:  if none of the nf * nf levels of z is empty -- that
is, if there is at least one trial taking on each value -- I get the error
"Error in model.matrix(t, data) : invalid variable type".

traceback() gives:

8: model.matrix.default(mt, mf, contrasts)
7: model.matrix(mt, mf, contrasts)
6: lm(formula = n ~ z, data = t1, singular.ok = TRUE)
5: eval(expr, envir, enclos)
4: eval(lmcall, parent.frame())
3: aov(n ~ z, data = t1)
2: summary(aov(n ~ z, data = t1))
1: f.test.problem(nf = 3)


However, if one of the levels of z is empty (which I'm checking using
table), then the analysis of variance runs!  (Easy to see if you use nf =
4 or even 3; it won't take long to get some examples that run and some
that don't.)

Creating n and z outside of a dataframe and then running aov(n~z) doesn't
help.

The problem does not arise if I do aov(n ~ x, data = t1) or 
aov(n ~ y, data = t1) -- the analysis of variance runs whether there are
empty categories or not.


Finally:  if I specify drop = T in the interaction call:
t1$z <- interaction(t1$x, t1$y, drop = T)
then the analysis works whether a factor actually gets dropped or
not.  That is, even when no factor is empty (and so I got an error with
drop = F), everything works.

So the problem seems to arise from something going on in interaction.  I'm
not sure what, and I'm sure someone else will see the problem faster than
I will.

Apologies in advance if I'm being dense and this is really how things
ought to work.  If not, I'll submit a formal bug report.

Matt Wiener

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drfttc at ifxbrasil.com.br  Thu Jun 28 22:23:05 2001
From: drfttc at ifxbrasil.com.br (David Roquetti Filho)
Date: Thu, 28 Jun 2001 17:23:05 -0300
Subject: [R] Clustering Methods
Message-ID: <003401c10010$25c615e0$6e8cc9c8@oemcomputer>

Dear friends,
I would like to know, if possible, the following :

Are there some Clustering Methods in this software ?
Many thanks,
David Roquetti Filho
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010628/0c505237/attachment.html

From vpaziran at yahoo.com  Thu Jun 28 23:12:06 2001
From: vpaziran at yahoo.com (Vahid Pazirandeh)
Date: Thu, 28 Jun 2001 14:12:06 -0700 (PDT)
Subject: [R] RJava: getting mean() of Integers[]
Message-ID: <20010628211206.56524.qmail@web10102.mail.yahoo.com>

Hi,

how can i get the mean of some Integers[]?

i have R-1.2.3 and RJava installed (and working).  i
was wondering how to pass "vectors" as arguments to R
from Java?  an example may be the mean() function, as
it takes a vector of integers.

I can do:  mean(c(1,2,3,4))
I can _not_ do: mean(1,2,3,4)

as the latter is passing multiple arguments. 
furthermore, do perform the latter (which is incorrect
mind you) from java, i had setup the following code:


-- snip snip --
Integer[] numList = new Integer[4];
numList[0] = Integer.decode("1");
numList[1] = Integer.decode("2");
numList[2] = Integer.decode("3");
numList[3] = Integer.decode("4");
Object[] obj = (Object[])numList;
int[] object = (int[]) rEvaluator.call("mean", obj);
-- snip snip --


mind you i'm a new user to both these planets. :-)

regards,
vahid


=====
< NPACI Education Center on Computational Science and Engineering >
< http://edcenter.sdsu.edu >
=====

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jun 28 23:34:54 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 29 Jun 2001 09:34:54 +1200
Subject: [R] Clustering Methods
In-Reply-To: <003401c10010$25c615e0$6e8cc9c8@oemcomputer>
Message-ID: <JLECJACFMBHFAAPLJNECIECDCAAA.Ko-Kang@xtra.co.nz>

Yes.

Take a look at the mva package.  Methods like kmeans(), hclust()...etc are
available.

Cheers,

Kevin
  -----Original Message-----
  From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of David Roquetti Filho
  Sent: Friday, June 29, 2001 8:23 AM
  To: r-help at lists.R-project.org
  Subject: [R] Clustering Methods


  Dear friends,
  I would like to know, if possible, the following :

  Are there some Clustering Methods in this software ?
  Many thanks,
  David Roquetti Filho
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010629/259b2aef/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Jun 28 23:51:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 2001 23:51:10 +0200
Subject: [R] interaction() -- problem with drop?
In-Reply-To: Matthew Wiener's message of "Thu, 28 Jun 2001 15:35:54 -0400 (EDT)"
References: <Pine.LNX.4.21.0106281508560.11380-100000@ln.nimh.nih.gov>
Message-ID: <x23d8kgto1.fsf@blueberry.kubism.ku.dk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:

> Hi, all. 
> 
> (R-1.3.0 on linux, alpha and intel; also tested on R-1.1.1 on irix.)
> 
> Below is a program that creates some random data (n, x, and y), creates a
> factor out of x and y and then creates a factor z out of their interaction
> (corresponding, with the default nf = 2, to quadrants, which is how I came
> upon this).  It then runs an analysis of variance.
> 
> f.test.problem <- 
> function(n = 100, nf = 2){
> 
>   t1 <- data.frame(n = rnorm(n), x = rnorm(n), y = rnorm(n))
> 
>   t1$x <- cut(t1$x, nf, labels = 1:nf)
>   t1$y <- cut(t1$y, nf, labels = 1:nf)
>   t1$z <- interaction(t1$x, t1$y, drop = F)
>   
>   print(table(t1$x))
>   print(table(t1$y))
>   print(table(t1$z))
>   
>   summary(aov(n ~ z, data = t1))
> }
> 
> Here's the problem:  if none of the nf * nf levels of z is empty -- that
> is, if there is at least one trial taking on each value -- I get the error
> "Error in model.matrix(t, data) : invalid variable type".
> 
> traceback() gives:
...
> Apologies in advance if I'm being dense and this is really how things
> ought to work.  If not, I'll submit a formal bug report.

You're not and please do...

This happens already with

a <- gl(2,5,10)
b <- gl(5,1,10)
zz <- interaction(a,b)
model.matrix.default(~zz)

wheras

zz <- a:b             
model.matrix.default(~zz)

works fine, and zz is *apparently* identical between the two, save for
the level names (which is another bug...).

And watch this:

> zz1 <- interaction(a,b)
> dput(zz1)
structure(c(1, 3, 5, 7, 9, 2, 4, 6, 8, 10), .Label = c("1.1", 
"2.1", "1.2", "2.2", "1.3", "2.3", "1.4", "2.4", "1.5", "2.5"
), class = "factor")
> model.matrix.default(~zz1)
Error in model.matrix(t, data) : invalid variable type
> zz2 <- structure(c(1, 3, 5, 7, 9, 2, 4, 6, 8, 10), .Label = c("1.1", 
+ "2.1", "1.2", "2.2", "1.3", "2.3", "1.4", "2.4", "1.5", "2.5"
+ ), class = "factor")
> all.equal(zz1,zz2)
[1] TRUE
> model.matrix.default(~zz2)
   (Intercept) zz22.1 zz21.2 zz22.2 zz21.3 zz22.3 zz21.4 zz22.4 zz21.5 zz22.5
1            1      0      0      0      0      0      0      0      0      0
2            1      0      1      0      0      0      0      0      0      0

<stuff like this usually happens if the internal bit that says that an
object has a class doesn't get turned on for some reason>

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jun 29 00:02:06 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 29 Jun 2001 08:02:06 +1000
Subject: [R] system() that reads to EOL?
Message-ID: <3B3BA95D.AC79653C@ozemail.com.au>

In a continuing effort to implement some of the suggestions in the
"Scripting for R..." thread, I have been looking at system(), which does
almost what is needed, except that:

system() looks like it waits for EOF and then dumps everything in the
pipe to stdout or /dev/null.

Have I missed a command that will wait for EOL and use this as stdin - I
think with Rstd_ReadConsole()?  Thanks for any suggestions.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Jun 29 01:38:47 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 28 Jun 2001 18:38:47 -0500 (CDT)
Subject: [R] AIC formula
Message-ID: <200106282338.SAA26711@uhddx01.dt.uh.edu>

Dear R People:

In the step function(Stepwise regression), the model
uses the AIC value as its reduction criterion.

Is this the formula for AIC, please:

AIC = n ln(sigma^2) + 2*parms,
where sigma^2 is the estimate for MSE?

That's what I thought the formula was, but when plugging in
the actual values, I'm getting a different answer for AIC.

Where did I go wrong, please?

Thanks yet again!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crogmaster at yahoo.com  Fri Jun 29 01:58:59 2001
From: crogmaster at yahoo.com (crog master)
Date: Thu, 28 Jun 2001 16:58:59 -0700 (PDT)
Subject: [R] R and Python
Message-ID: <20010628235859.83709.qmail@web10003.mail.yahoo.com>

Greetings,

Does the RSPython module work?  If so is the RSPython
interface supposed to work with Windows?  I only found
a tar file, so I had to make some modifications to
even install it, and I am not sure if that is the
reason it is not working.  
It is not working either from R to Python or vis
versa.  Meaning I cannot call the one from the other. 
Can anyone point me to some help other than that on
the 
http://www.omegahat.org/RSPython/ or give me advise?  

None of my errors relate to the ones described.  In R
the module loads but then gives me a no R code error
and none of the commands work.  In python, I can
import RS if R is also running, but then even. RS.call
or an command gives me a no object error.  If R is not
running at the same time then the module does not
load.  Yes, the RSPython is in the path.

Thanks,

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Jun 29 01:59:57 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 28 Jun 2001 18:59:57 -0500 (CDT)
Subject: [R] AIC formula
Message-ID: <200106282359.SAA18483@uhddx01.dt.uh.edu>

Sorry.  I just found it in the
extractAIC function.

Thanks.
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agt at ma.adfa.edu.au  Fri Jun 29 02:11:56 2001
From: agt at ma.adfa.edu.au (Anthony Tate)
Date: Fri, 29 Jun 2001 10:11:56 +1000 (EST)
Subject: [R] Problem with adapt package
Message-ID: <XFMail.010629101156.agt@ma.adfa.edu.au>


I am having problems using the adapt add on package to integrate a function
over 2 dimensions, using the following code.

library(adapt)

alb1 <- function(p,X,th,alpha){ 
   y <- p[1]; z <- p[2] 
   c <- sqrt((X + z*tan(th))^2 + z^2) 
   r <- sqrt(c^2 + y^2) 
   exp(-alpha*r) / r^3 
} 
 
x <- 0.05
y <- x 
w <- 0.5
delta <- 0.1
czang <- pi/4
alpha <- 15.0
y[i] <- adapt(ndim=2, lower=c(0,0), upper=c(w,delta), 
        minpts=1000, maxpts=10^6, funct=alb1,  eps=0.005,
        X=x, th=czang, alpha=alpha)$value


The code gives the following error 

Error in function (p, X, th, alpha)  : Argument "X" is missing, with no default 

I am using is SUSE linux 6.4 with the following version of R.

         _
platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R 

Yours sincerely,

Anthony Tate


---------------------------------------------------------------

Anthony Tate          E-Mail: Anthony Tate <agt at ma.adfa.edu.au>
School of Mathematics and Statistics
UNSW at the Australian Defence Force Academy
Canberra ACT
Australia

Date: 29-Jun-01
Time: 09:58:53

This message is intended for the addressee named and may contain
confidential information.  If you are not the intended recipient, please
delete it and notify the sender.  Views expressed in this message are those
of the individual sender and are not necessarily the views of the University
of New South Wales at the Australian Defence Force Academy



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Jun 29 02:07:11 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 28 Jun 2001 19:07:11 -0500 (CDT)
Subject: [R] AIC formulas
Message-ID: <200106290007.TAA26899@uhddx01.dt.uh.edu>

Sorry.  I just found it in the extracAIC function.

Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Jun 29 06:38:47 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 29 Jun 2001 16:38:47 +1200
Subject: [R] Re: ESS and R ver 1.3.0/ graph menu/ save PDF
In-Reply-To: <87zoaroqi2.fsf@jeeves.blindglobe.net>
References: <200106290407.f5T47kQ44875@storm.niwa.cri.nz>
Message-ID: <200106290438.f5T4cxQ47742@storm.niwa.cri.nz>

 "SM" == S McClatchie <S.McClatchie> writes:
> 
>     SM> I notice that the new option under R ver. 1.3.0 to save a
>     SM> graph as a pdf file from the graph window menu (file/ save as/ SM>
>     PDF) works differently (extremely slowly) under ESS, whereas SM> it is
>     almost instant from the R- gui.
> 
>     SM> Does the feature not work with ESS or am I doing something
>     SM> incorrectly?
---------------------------------------------------------
On 28 Jun 01,, A.J. Rossini wrote (re: Re: ESS and R ver 1.3.0/ graph menu/ save PDF): 
> 
> This sounds like an R problem, not an ESS problem -- what commands are you
> using from the command-line to make it work?
> 
> Please provide an example (are you doing something like:
>         pdf("filename")
>         plot(x,y)
>         dev.off()

> best,
> -tony
> 
---------------------------------------------------------
Thanks for that Tony,

The command line works fine, just as you point out. I was using the 
menu bar on the graph which looks the same as the RGui even though I 
always use ESS. I guess the simple answer is don't use the Rgui 
facilities when you are running R under ESS. Simple enough.

Cheers

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Jun 29 06:43:09 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Jun 2001 21:43:09 -0700
Subject: [R] Re: ESS and R ver 1.3.0/ graph menu/ save PDF
In-Reply-To: <200106290438.f5T4cxQ47742@storm.niwa.cri.nz>
References: <200106290407.f5T47kQ44875@storm.niwa.cri.nz>
	<200106290438.f5T4cxQ47742@storm.niwa.cri.nz>
Message-ID: <87u20znbfm.fsf@jeeves.blindglobe.net>

>>>>> "SM" == S McClatchie <S.McClatchie> writes:

    SM> The command line works fine, just as you point out. I was
    SM> using the menu bar on the graph which looks the same as the
    SM> RGui even though I always use ESS. I guess the simple answer
    SM> is don't use the Rgui facilities when you are running R under
    SM> ESS. Simple enough.

I think this is an R bug.  But to verify, check that you actually have
the problem when running Rterm.exe outside of ESS?  (as the followup
mail I wrote, correcting my mistakes, suggested)?

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Jun 29 06:47:33 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 29 Jun 2001 16:47:33 +1200
Subject: [R] Re: ESS and R ver 1.3.0/ graph menu/ save PDF
In-Reply-To: <878ziboqc0.fsf@jeeves.blindglobe.net>
References: <87zoaroqi2.fsf@jeeves.blindglobe.net>
Message-ID: <200106290447.f5T4liQ48408@storm.niwa.cri.nz>

On 28 Jun 01,, A.J. Rossini wrote (re: Re: ESS and R ver 1.3.0/ graph menu/ save PDF): 

> What I should've said was: 
> 
>     Do you get the same results using Rterm.exe from outside of Emacs?
--------------------------
Tony

No, the save pdf option on the graph window works fine from Rterm.exe 
outside of Emacs.

Sam


Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Jun 29 06:57:02 2001
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 29 Jun 2001 16:57:02 +1200 (NZST)
Subject: [R] RJava: getting mean() of Integers[]
Message-ID: <200106290457.QAA09642@aqua.mcs.vuw.ac.nz>

> how can i get the mean of some Integers[]?
> 
> i have R-1.2.3 and RJava installed (and working).  i
> was wondering how to pass "vectors" as arguments to R
> from Java?  an example may be the mean() function, as
> it takes a vector of integers.
> 
> I can do:  mean(c(1,2,3,4))
> I can _not_ do: mean(1,2,3,4)
> 
How about something based on:
> mymean <- function(...){mean(c(...))}
> mymean(1,2,3,4)
[1] 2.5

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Fri Jun 29 08:55:55 2001
From: tchur at optushome.com.au (Tim Churches)
Date: Fri, 29 Jun 2001 16:55:55 +1000
Subject: [R] R and Python
References: <20010628235859.83709.qmail@web10003.mail.yahoo.com>
Message-ID: <3B3C267B.78461951@optushome.com.au>

crog master wrote:
> Does the RSPython module work?

Dear crog,

Yes, it does, but with qualifications. Firstly, the current version
is 0.3 which indicates early alpha status, so you should have no
expectation
that all aspects of it should work or work reliably. We have been able
to get
it working in both directions (Python -> R and R -> Python), passing
both
data structures and commands. IMHO, its ability to do that is
indistingguishable from magic.

However, I have found it segfaults whem producing raster graphics (PNGs)
but
not Postscript graphics, and a colleague found that it segfaults when
passing
large data structures (Python tuple to R vector) of 1 million elements
or 
more. A rather tough test.  In other respects, under Linux, it has been
stable
although the shared R library is a bit slow to import (load) into Python
(about 1.5 seconds on a 866MHz PIII). Also we had to patch the R
makefile to build a shared library in R-1.2.3 but I think this is now
fixed in R-1.3.0.
 
>                                 If so is the RSPython
> interface supposed to work with Windows?  I only found
> a tar file, so I had to make some modifications to
> even install it, and I am not sure if that is the
> reason it is not working.

If Duncan Temple Lang (DTL) does not explicitly state that it is
intended to work under Windows, then you should assume that it is meant
for Unix/Linux only at these early stages. I would be surprised if a
Windows version did not surface once it reaches production status, but
if DTL's development platform is Unix (and he does work for AT&T after
all), then I would expect alpha and beta versions to target Unix/Linux
only.

> It is not working either from R to Python or vis
> versa.  Meaning I cannot call the one from the other.
> Can anyone point me to some help other than that on
> the
> http://www.omegahat.org/RSPython/ or give me advise?

Have you tried emailing Duncan Temple Lang?

> 
> None of my errors relate to the ones described.  In R
> the module loads but then gives me a no R code error
> and none of the commands work.  In python, I can
> import RS if R is also running, but then even. RS.call
> or an command gives me a no object error.  If R is not
> running at the same time then the module does not
> load.  Yes, the RSPython is in the path.

I suspect that all of these relate to your use of RSPython under
Windows, 
because we have not encountered these problems under Linux.

Cheers,

Tim C
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wegnerj at informatik.uni-tuebingen.de  Fri Jun 29 09:25:56 2001
From: wegnerj at informatik.uni-tuebingen.de (Joerg Wegner)
Date: Fri, 29 Jun 2001 09:25:56 +0200
Subject: [R] Installation problems under windows NT
Message-ID: <3B3C2D84.7C854FE2@informatik.uni-tuebingen.de>

Hello,

i' ve installed the binary distribution 1.2.3 without any problem, BUT
then i've tried to install the multiv package.

1. pure cygwin or the rtools, perl and mingw doesn't work. (The download
paths for perl and WinHelp in the file readme.packages are'nt correct).
    WinHELP is not available, can you recommend a dowload adress ?

2. Although there is  the same problem with .chm-files in the FAQ
reported, i've the same problem.
In .../src/gnuwin32/Makefile are the lines
HELP = YES
WINHELP = NO # Use one of NO, CHM, BOTH (chm and winhelp)
However the Makefile reports the error that there is no multiv.chm file
available, o.k. so i tried
rcmd INSTALL -docs=no multiv
it doesn't work. Then i  documented the following lines in the Makefile
#ifeq ($(strip $(HELP)),YES)
# $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB)
$($*-HELP)help-$*
# $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB)
contents-$*
#ifeq ($(strip $(WINHELP)),CHM)
# $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB) chm-$*
#endif
#ifeq ($(strip $(WINHELP)),BOTH)
# $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB) winhlp-$*
# also makes chm
#endif
#endif
That work's ...

3. Now theoretically the directory multiv was correctly created in the
.../library path ... but the function pca() can be still not found.
The function help(pca) after link.html.help() reports that the requested
function doesn't exist.
The R_HOME and the R_LIBS(R_LIB, RLIB) environment varible are correctly
initialized !

4. I've tried the package.install() command, but the function doesn't
exist.
    I've tried the binary package distribution, but it told me that
there are no man pages available.
    I've tried to use the source package distribution, but there i have
the problems with the multiv.chm file. (WinHELP not available !)
    Then i skipped the tutorial installation, BUT the packages arent't
installed correctly, although rcmd check multiv reports no errors ???

So ... where did i make the mistake ???
I give up ....


--
J?rg K. Wegner, University of Tuebingen, Computer Architecture
Tel. (+49/0) 7071 29 78970, Fax (+49/0) 7071 29 5091
E-Mail: wegnerj at informatik.uni-tuebingen.de
WWW:    http://www-ra.informatik.uni-tuebingen.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Fri Jun 29 09:42:50 2001
From: houix at ircam.fr (houix@ircam.fr)
Date: Fri, 29 Jun 2001 09:42:50 +0200
Subject: [R] Clustering Methods
In-Reply-To: <003401c10010$25c615e0$6e8cc9c8@oemcomputer>
Message-ID: <20010629094249.A4316@libido.ircam.fr>

Hello,

Yes, you can try these packages:
mva -> (base)
cclust -> (contrib)  Convex Clustering Methods and Clustering Indexes
clust -> (contrib)  Functions for clustering (by Rousseeuw et al.)
mclust -> (contrib)  Model-based cluster analysis
maptree -> (contrib) some useful functions 

Olivier Houix 

On Thu, Jun 28, 2001 at 05:23:05PM -0300, David Roquetti Filho wrote:
> From: "David Roquetti Filho" <drfttc at ifxbrasil.com.br>
> To: <r-help at lists.R-project.org>
> Subject: [R] Clustering Methods
> Date: Thu, 28 Jun 2001 17:23:05 -0300
> 
> Dear friends,
> I would like to know, if possible, the following :
> 
> Are there some Clustering Methods in this software ?
> Many thanks,
> David Roquetti Filho

-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/pcm/houix/  
IRCAM   1 place Igor Stravinsky             75004         Paris           
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Fri Jun 29 09:52:03 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Fri, 29 Jun 2001 09:52:03 +0200 (MET DST)
Subject: [R] Clustering Methods
In-Reply-To: <003401c10010$25c615e0$6e8cc9c8@oemcomputer>
Message-ID: <Pine.GSO.3.95q.1010629095020.1663A-100000@sun21.math.uni-hamburg.de>

On Thu, 28 Jun 2001, David Roquetti Filho wrote:

> Dear friends,
> I would like to know, if possible, the following :
> 
> Are there some Clustering Methods in this software ?
> Many thanks,
> David Roquetti Filho
> 

The package mva was already supposed. Some more sophisticated methods
(Gaussian mixtures with flexible covariance matrices, k-medoid...)
appear in the packages mclust and cluster.

Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 10:14:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Jun 2001 09:14:43 +0100 (BST)
Subject: [R] Installation problems under windows NT
In-Reply-To: <3B3C2D84.7C854FE2@informatik.uni-tuebingen.de>
Message-ID: <Pine.GSO.4.31.0106290901580.19809-100000@auk.stats>

On Fri, 29 Jun 2001, Joerg Wegner wrote:

> Hello,
>
> i' ve installed the binary distribution 1.2.3 without any problem, BUT
> then i've tried to install the multiv package.

That's not the current version.

> 1. pure cygwin or the rtools, perl and mingw doesn't work. (The download
> paths for perl and WinHelp in the file readme.packages are'nt correct).
>     WinHELP is not available, can you recommend a dowload adress ?

Well, you are using an obselete version. readme.packages says:

There is a `portal' with current links at
http://www.stats.ox.ac.uk/pub/Rtools/.

However, I've just checked the addresses and they are
correct in the current version.

Why didn't you check the portal: it is provided precisely for people
who have difficulty?


> 2. Although there is  the same problem with .chm-files in the FAQ
> reported, i've the same problem.

What does that mean?

> In .../src/gnuwin32/Makefile are the lines
> HELP = YES
> WINHELP = NO # Use one of NO, CHM, BOTH (chm and winhelp)
> However the Makefile reports the error that there is no multiv.chm file
> available, o.k. so i tried
> rcmd INSTALL -docs=no multiv
> it doesn't work. Then i  documented the following lines in the Makefile
> #ifeq ($(strip $(HELP)),YES)
> # $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB)
> $($*-HELP)help-$*
> # $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB)
> contents-$*
> #ifeq ($(strip $(WINHELP)),CHM)
> # $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB) chm-$*
> #endif
> #ifeq ($(strip $(WINHELP)),BOTH)
> # $(MAKE) -C ./help RHOME=$(RHOME) PKGDIR=$(PKGD) RLIB=$(RLIB) winhlp-$*
> # also makes chm
> #endif
> #endif
> That work's ...

Something's wrong with your make.


> 3. Now theoretically the directory multiv was correctly created in the
> .../library path ... but the function pca() can be still not found.
> The function help(pca) after link.html.help() reports that the requested
> function doesn't exist.
> The R_HOME and the R_LIBS(R_LIB, RLIB) environment varible are correctly
> initialized !

You did do library(multiv), didn't you?


> 4. I've tried the package.install() command, but the function doesn't
> exist.

Right, it's called install.packages().  Where did you find package.install
mentioned?  It's nowhere in the source tree.

>     I've tried the binary package distribution, but it told me that
> there are no man pages available.
>     I've tried to use the source package distribution, but there i have
> the problems with the multiv.chm file. (WinHELP not available !)
>     Then i skipped the tutorial installation, BUT the packages arent't
> installed correctly, although rcmd check multiv reports no errors ???
>
> So ... where did i make the mistake ???

Many places, I suspect.

- use install.packages, not packages.install.
- there is a binary version of multiv on CRAN, and it is working.
- I think you omitted to use library(multiv).
- You seem to have trouble resolving correct addresses
....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wegnerj at informatik.uni-tuebingen.de  Fri Jun 29 11:10:45 2001
From: wegnerj at informatik.uni-tuebingen.de (Joerg Wegner)
Date: Fri, 29 Jun 2001 11:10:45 +0200
Subject: [R] SOLVED: Installation problems under windows NT 
Message-ID: <3B3C4615.EE8904E0@informatik.uni-tuebingen.de>

Hello,

sorry to waste your time ... i just forgot to use
library(multiv)

... and I've used rcmd INSTALL --docs=none multiv !

Thanks !!!
Now i can use the library ... without docs in R, but that's o.k, i can
look at the docs at my own

With friendly regards

--
J?rg K. Wegner, University of Tuebingen, Computer Architecture
Tel. (+49/0) 7071 29 78970, Fax (+49/0) 7071 29 5091
E-Mail: wegnerj at informatik.uni-tuebingen.de
WWW:    http://www-ra.informatik.uni-tuebingen.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Jun 29 11:23:01 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 29 Jun 2001 11:23:01 +0200
Subject: [R] data() function does not load a csv file in 1.3.0
Message-ID: <OF794F6D84.976179DF-ONC1256A7A.00308FBC@eurotel.cz>



Dear List,

I upgraded to R 1.3.0 yesterday,
but now I am not able to read data in csv format by the data() function.
The structure of my csv files is the same as it was when I used R 1.2.3.
and it meets the requirements (header=TRUE, sep=";").
The R data files are loaded correctly.

In NEWS I have found that
"read.table() now uses a single pass through the dataset"
but I expect that this does not cause my problem.

The file usaged.csv located in R_HOME\base\data looks like:

"Direction";"TimeKey";"Usage";"Calls";"HotN"
1;425;91375;645;8080
1;426;104334;640;22220
1;427;64440;376;16400


It is in the search path:
> search()
[1] ".GlobalEnv"   "Autoloads"    "package:base"

> searchpaths()
[1] ".GlobalEnv"                        "Autoloads"
[3] "C:/PROGRA~1/R/rw1030/library/base"


R says:
> data(usaged)
Warning message:
Data set `usaged' not found in: data(usaged)


Even read.csv2 does not read the table:

> read.csv2(usaged)
Error in read.table(file = file, header = header, sep = sep, quote = quote,
:
        Object "usaged" not found
> read.csv2(usaged.csv)
Error in read.table(file = file, header = header, sep = sep, quote = quote,
:
        Object "usaged.csv" not found



What I am doing wrong, please?

Thanks in advance,
Jan


-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Jun 29 11:36:12 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 29 Jun 2001 11:36:12 +0200
Subject: [R] New post to data() function does not load a csv file in 1.3.0 (SOLVED)- a
 search problem?
Message-ID: <OF56934733.55CBCB9A-ONC1256A7A.0033CFA0@eurotel.cz>



Dear List,

I have found that moving the csv file to [working directory]\data directory
solves my "problem",
the file was loaded correctly.
But I thought that R serches in all packages\data AND the [workdir]\data
dirs, as mentioned in
help.

>?data

Is this as problem or am I missing something important?
(the latter is more probable :), but then why the behaviour is different
from 1.2.3?)

Thanks,
Jan


-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Fri Jun 29 13:05:23 2001
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Fri, 29 Jun 2001 12:05:23 +0100
Subject: [R] Problem with adapt package
References: <XFMail.010629101156.agt@ma.adfa.edu.au>
Message-ID: <3B3C60F3.2A0C7D4B@durham.ac.uk>

Hi Anthony,

Anthony Tate wrote:
> 
> I am having problems using the adapt add on package to integrate a function
> over 2 dimensions, using the following code.
> 
> library(adapt)
> 
> alb1 <- function(p,X,th,alpha){
>    y <- p[1]; z <- p[2]
>    c <- sqrt((X + z*tan(th))^2 + z^2)
>    r <- sqrt(c^2 + y^2)
>    exp(-alpha*r) / r^3
> }
> 
> x <- 0.05
> y <- x
> w <- 0.5
> delta <- 0.1
> czang <- pi/4
> alpha <- 15.0
> y[i] <- adapt(ndim=2, lower=c(0,0), upper=c(w,delta),
>         minpts=1000, maxpts=10^6, funct=alb1,  eps=0.005,
>         X=x, th=czang, alpha=alpha)$value
> 
> The code gives the following error
> 
> Error in function (p, X, th, alpha)  : Argument "X" is missing, with no default

This is a bug that I thought we had squashed.  Crudely there is a "..."
missing in the line "ff<-functn".  I have a feeling that Martin fixed
this with some tricky code using ".Alias", but the fix has not appeared
on CRAN.  Martin?!

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 13:09:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 12:09:58 +0100 (BST)
Subject: [R] New post to data() function does not load a csv file in
 1.3.0 (SOLVED)- a search problem?
In-Reply-To: <OF56934733.55CBCB9A-ONC1256A7A.0033CFA0@eurotel.cz>
Message-ID: <Pine.LNX.4.31.0106291207330.1622-100000@gannet.stats>

On Fri, 29 Jun 2001 Jan_Svatos at eurotel.cz wrote:

>
>
> Dear List,
>
> I have found that moving the csv file to [working directory]\data directory
> solves my "problem",
> the file was loaded correctly.
> But I thought that R serches in all packages\data AND the [workdir]\data
> dirs, as mentioned in
> help.
>
> >?data
>
> Is this as problem or am I missing something important?
> (the latter is more probable :), but then why the behaviour is different
> from 1.2.3?)

It only searches in packages in the search path (as the help says).
Clearly that must work, or make check would be failing.

Sometimes 1.2.3 did not use the right search places.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 29 13:41:26 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 29 Jun 2001 13:41:26 +0200
Subject: [R] Problem with adapt package
In-Reply-To: <3B3C60F3.2A0C7D4B@durham.ac.uk>
References: <XFMail.010629101156.agt@ma.adfa.edu.au>
	<3B3C60F3.2A0C7D4B@durham.ac.uk>
Message-ID: <15164.26982.876860.22124@gargle.gargle.HOWL>

>>>>> "JonR" == Jonathan Rougier <J.C.Rougier at durham.ac.uk> writes:

    JonR> Hi Anthony,
    JonR> Anthony Tate wrote:
    >> 
    >> I am having problems using the adapt add on package to integrate a function
    >> over 2 dimensions, using the following code.
    >> 
    >> library(adapt)
    >> 
    >> alb1 <- function(p,X,th,alpha){
    >> y <- p[1]; z <- p[2]
    >> c <- sqrt((X + z*tan(th))^2 + z^2)
    >> r <- sqrt(c^2 + y^2)
    >> exp(-alpha*r) / r^3
    >> }
    >> 
    >> x <- 0.05
    >> y <- x
    >> w <- 0.5
    >> delta <- 0.1
    >> czang <- pi/4
    >> alpha <- 15.0
    >> y[i] <- adapt(ndim=2, lower=c(0,0), upper=c(w,delta),
    >> minpts=1000, maxpts=10^6, funct=alb1,  eps=0.005,
    >> X=x, th=czang, alpha=alpha)$value
    >> 
    >> The code gives the following error
    >> 
    >> Error in function (p, X, th, alpha)  : Argument "X" is missing, with no default

    JonR> This is a bug that I thought we had squashed.  Crudely there is a
    JonR> "..."  missing in the line "ff<-functn".  I have a feeling that
    JonR> Martin fixed this with some tricky code using ".Alias", but the
    JonR> fix has not appeared on CRAN.  Martin?!

Yes, this definitely rings a bell!  Indeed I had fixed something like that,
submitted to Thomas, who had put it into the integrate package then.

"adapt" has been packaged by Brian Ripley and I haven't checked whether
adapt() was the same as formerly in the integrate package...

Okay, yes, apply (something like) the following patch

--- R/adapt.R.~1~	Wed Jun 27 17:22:38 2001
+++ R/adapt.R	Fri Jun 29 13:38:41 2001
@@ -7,12 +7,14 @@
     keep.trying<-is.null(maxpts)
     if (is.null(maxpts)) maxpts<-max(minpts,500)
   
-    ## fudge for 1-d functions
-    if (ndim == 1) {
+    if (ndim == 1) { ## fudge for 1-d functions
         warning("Using integrate() in base R for 1-d integration")
         return(integrate(functn,lower,upper,subdivisions=maxpts,rel.tol=eps,...))
     }
-    else ff<-functn
+    else ff <-
+        if(length(list(...)) && length(formals(functn)) > 1)
+            function(x) functn(x, ...)
+        else .Alias(functn)
   
     ## Check to make sure that upper and lower are reasonable lengths
     ## Both the upper and lower limits should be at least of length ndim


-----------

Note that the point is not in using .Alias() {which could be omitted},
but in the extra

 if(length(list(...)) && length(formals(functn)) > 1)
	     function(x) functn(x, ...)
	 else 

--

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Jun 29 13:44:33 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 29 Jun 2001 08:44:33 -0300
Subject: [R] GLM model selection 
Message-ID: <00a801c10091$17f86fe0$ae54fea9@nautilus>

Dear R list members,

I'd like to know whether the AIC statistic used by step( ) in R is suitable for selecting GLM models with gamma error distribution and log link function.

A statistician friend of mine (S plus user) said me to take care because in gamma distribution phi (scale?) is not constant. Also in step( ) help page is written that "there is a potential problem in using glm fits with a variable scale as in that case the deviance is not simply related to the maximized log-likelihood".

If it's not the most appropriated way to select the model, which would be the best way to perform the selection?

Thanks,

Ant?nio Olinto
Fisheries Institute
Sao Paulo - BRAZIL
www.institutopesca.sp.gov.br











-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010629/10823e4b/attachment.html

From ripley at stats.ox.ac.uk  Fri Jun 29 14:05:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 13:05:45 +0100 (BST)
Subject: [R] GLM model selection 
In-Reply-To: <00a801c10091$17f86fe0$ae54fea9@nautilus>
Message-ID: <Pine.LNX.4.31.0106291258390.1622-100000@gannet.stats>

On Fri, 29 Jun 2001, Antonio Olinto wrote:

> Dear R list members,
>
> I'd like to know whether the AIC statistic used by step( ) in R is suitable
for selecting GLM models with gamma error distribution and log link function.

Look at

> extractAIC.glm
function (fit, scale = 0, k = 2, ...)
{
    n <- length(fit$residuals)
    edf <- n - fit$df.residual
    aic <- fit$aic
    c(edf, aic + (k - 2) * edf)
}

which uses the aic value from

> Gamma(log)$aic
function (y, n, mu, wt, dev)
{
    n <- sum(wt)
    disp <- dev/n
    -2 * sum(dgamma(y, 1/disp, mu * disp, log = TRUE) * wt) +
        2
}

That's not the correct AIC with unknown scale, since the scale estimate is
not the MLE.

> A statistician friend of mine (S plus user) said me to take care because in
gamma distribution phi (scale?) is not constant. Also in step( ) help page is
written that "there is a potential problem in using glm fits with a variable
scale as in that case the deviance is not simply related to the maximized
log-likelihood".
>
> If it's not the most appropriated way to select the model, which would be the
best way to perform the selection?

You could rewrite the AIC to use the MLE for the scale and the correct
formulae.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 29 14:03:50 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 29 Jun 2001 14:03:50 +0200
Subject: [R] Problem with adapt package
In-Reply-To: <15164.26982.876860.22124@gargle.gargle.HOWL>
References: <XFMail.010629101156.agt@ma.adfa.edu.au>
	<3B3C60F3.2A0C7D4B@durham.ac.uk>
	<15164.26982.876860.22124@gargle.gargle.HOWL>
Message-ID: <15164.28326.260036.448596@gargle.gargle.HOWL>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

>>>>> "JonR" == Jonathan Rougier <J.C.Rougier at durham.ac.uk> writes:
    JonR> Hi Anthony,
    JonR> Anthony Tate wrote:
    >>> 
    >>> I am having problems using the adapt add on package to integrate a
    >>> function over 2 dimensions, using the following code.
    >>> 
    >>> library(adapt)
    >>> 
    >>> alb1 <- function(p,X,th,alpha){
    >>> y <- p[1]; z <- p[2]
    >>> c <- sqrt((X + z*tan(th))^2 + z^2)
    >>> r <- sqrt(c^2 + y^2)
    >>> exp(-alpha*r) / r^3
    >>> }
    >>> 
    >>> x <- 0.05
    >>> y <- x
    >>> w <- 0.5
    >>> delta <- 0.1
    >>> czang <- pi/4
    >>> alpha <- 15.0
    >>> y[i] <- adapt(ndim=2, lower=c(0,0), upper=c(w,delta),
    >>> minpts=1000, maxpts=10^6, funct=alb1,  eps=0.005,
    >>> X=x, th=czang, alpha=alpha)$value
    >>> 
    >>> The code gives the following error
    >>> 
    >>> Error in function (p, X, th, alpha)  : Argument "X" is missing, with no default

    JonR> This is a bug that I thought we had squashed.  Crudely there is a
    JonR> "..."  missing in the line "ff<-functn".  I have a feeling that
    JonR> Martin fixed this with some tricky code using ".Alias", but the
    JonR> fix has not appeared on CRAN.  Martin?!

    MM> Yes, this definitely rings a bell!  Indeed I had fixed something
    MM> like that, submitted to Thomas, who had put it into the integrate
    MM> package then.

    MM> "adapt" has been packaged by Brian Ripley and I haven't checked
				  ^^^^^^^^^^^^^^^
all wrong!  I apologize.
B.R. and Thomas Lumley and me were just discussing the topic, 
but Thomas, not Brian volunteered to re-package the adapt() function!
    
    MM>  ...
    MM> Okay, yes, apply (something like) the following patch

    MM>  <...>
    
 (see last message, the patch is fine).


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 29 14:33:20 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 29 Jun 2001 08:33:20 -0400
Subject: [R] How to build R on WinNT with ATLAS?
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC807C@usrymx10.merck.com>

Hi all,

Can anyone tell me how to build R on NT4 with link to ATLAS?  
I've downloaded all the tools, compilers and libraries on
Prof. Ripley's Rtools "portal", and the pre-built binary ATLAS
for Pentium II from netlib.  In src/gnuwin32/INSTALL, it
says to edit MkRules and Makefile, but I don't see any
reference to BLAS or ATLAS in those files.

Also, where should I put libz.a, libpng.a and libjpeg.a after
I compiled them from source?

BTW, anyone know where to find the MS HTML Help Workshop?
The link on the Rtools portal doesn't find it.  Search on MSDN
turns up nothing either.

I really would like to have R compiled with ATLAS.  I did this
on a Linux box, and the speed improvement for some matrix
operations is amazing.  For example, cor() runs approx. 10x
faster than R1.2.3 and Splus 6 on the same platform.

TIA for any help!

Andy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 14:54:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 13:54:33 +0100 (BST)
Subject: [R] How to build R on WinNT with ATLAS?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC807C@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0106291336590.10866-100000@gannet.stats>

On Fri, 29 Jun 2001, Liaw, Andy wrote:

> Hi all,
>
> Can anyone tell me how to build R on NT4 with link to ATLAS?
> I've downloaded all the tools, compilers and libraries on
> Prof. Ripley's Rtools "portal", and the pre-built binary ATLAS
> for Pentium II from netlib.  In src/gnuwin32/INSTALL, it
> says to edit MkRules and Makefile, but I don't see any
> reference to BLAS or ATLAS in those files.

I assume that you have made ATLAS compile on Windows?  I failed with the
current version ....

You will need to do a fair bit of work.  BLAS uses src/appl/blas.f. Remove
that and re-make in src/appl, then link lapack.so and R.dll against the
ATLAS dll you made.

> Also, where should I put libz.a, libpng.a and libjpeg.a after
> I compiled them from source?

src/gnuwin32/bitmap/INSTALL tells you what to do, indeed the options you
need to compile them.  You don't need to move them from there.

> BTW, anyone know where to find the MS HTML Help Workshop?
> The link on the Rtools portal doesn't find it.  Search on MSDN
> turns up nothing either.

That's recent: it worked last week, as I checked all the links in
R-1.3.0 before release.

It comes with VisualStudio, for example.  Looks like it is now part of
.NET beta SDK.

I'll try to find out if I have permission to put it up.

> I really would like to have R compiled with ATLAS.  I did this
> on a Linux box, and the speed improvement for some matrix
> operations is amazing.  For example, cor() runs approx. 10x
> faster than R1.2.3 and Splus 6 on the same platform.

(My tests were much less spectacular.  After running R with ATLAS on both
Linux and Solaris I stopped, as I rarely saw more than a few percent gain
on my real tasks.  Your mileage may vary.)

>
> TIA for any help!

If you do succeed, contribute back what you did please.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 15:08:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 14:08:38 +0100 (BST)
Subject: [R] Re: RArcInfo 0.1 (Please rebuild binaries at CRAN for LINUX/WIN)
In-Reply-To: <Pine.LNX.4.31.0106291419440.23682-100000@matheron.estadi.uv.es>
Message-ID: <Pine.LNX.4.31.0106291359170.10973-100000@gannet.stats>

On Fri, 29 Jun 2001 virgil at matheron.estadi.uv.es wrote:

>
> Hello:
>
>  There is a new release (0.1) of the package RArcInfo at CRAN. I have made
> many changes to the source code and the functions now returns data frames
> (when possible) instead of lists, that are easier to edit and modify (in
> my opinion).
>
>  Besides, the package works under Windows too.
>
>  I would like to ask to the developers who maintain the binaries (for
> WINDOWS and LINUX) to recompile this package and upload it to CRAN. Can
> anyone test the packege under Mac? Thanks.

We don't provide Windows binaries for all packages.  If you want to
contribute one, the instructions are on CRAN, in bin/windows/ReadMe.

(This is a general point for all package contributors.  CRAN and R does
not have paid labour to provide ports to other platforms, and with well
over 100 packages, the volunteer or two are very thinly stretched.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Jun 29 16:07:20 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Jun 2001 07:07:20 -0700
Subject: [R] Re: ESS and R ver 1.3.0/ graph menu/ save PDF
In-Reply-To: <200106290447.f5T4liQ48408@storm.niwa.cri.nz>
References: <87zoaroqi2.fsf@jeeves.blindglobe.net>
	<200106290447.f5T4liQ48408@storm.niwa.cri.nz>
Message-ID: <874rszcrc7.fsf@jeeves.blindglobe.net>

>>>>> "SM" == S McClatchie <S.McClatchie> writes:

    SM> No, the save pdf option on the graph window works fine from
    SM> Rterm.exe outside of Emacs.

Suggesting that maybe you should try XEmacs, now that it is known to
work.  

Try it when we package up the next version (or grab it from CVS).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 16:20:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 15:20:06 +0100 (BST)
Subject: [R] Windows Help compiler
Message-ID: <Pine.LNX.4.31.0106291517491.1168-100000@gannet.stats>

A couple of people have asked after this today.  Until I can verify
the status of this and update the portal,

http://www.stats.ox.ac.uk/bin/bdr/RWin

contains htmlhelp.exe and hhupd.exe.  Install in that order.

No guarantees that these will stay there.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From durso at hussle.harvard.edu  Fri Jun 29 16:28:08 2001
From: durso at hussle.harvard.edu (Brian D'Urso)
Date: Fri, 29 Jun 2001 10:28:08 -0400 (EDT)
Subject: [R] Problems using Computer Modern fonts
Message-ID: <Pine.LNX.4.33.0106290947420.30211-100000@hussle.harvard.edu>

I have been trying to use the Computer Modern fonts in postscript output
from R, but I have run into a few problems and limitations. I did read and
follow the instructions in the documentation.

The first problem is that R sometimes needs to use a minus sign in the
text in plots, but the non-symbol computer modern fonts contain only a
hyphen. There is no way that I can find to tell R to use a hyphen for
labeling axis ticks with negative numbers instead of a minus. This makes
the computer modern fonts unusable in many situations.

The second problem is that I would prefer to use the computer modern
symbols as well, but R seems to have the symbol font hard coded in
devPS.c (and perhaps elsewhere). Also the computer modern symbols are
spread across many fonts.


Both of these are really the same problem: font encodings are not always
divided up the same way between fonts as AdobeStandard and AdobeSymbol, so
re-encoding the fonts the way R tries to doesn't always work. I could
think of two ways to generalize the fonts to allow full use of the
computer modern fonts:

To just fix the postscript output, afm files could be manually assembled
from several fonts so that they look like AdobeStandard or AdobeSymbol
encodings. Then if the prolog in the ps file output could be completely
customized, the many computer modern fonts could be rearranged to look
like the fonts that were given in the afm files. The hard coding of the
symbol font would of course also have to be removed, but it could be set
just like the other fonts in the ps driver.

To give a more driver independent fix, one would have to give R a list of
fonts instead of a single font for each style. Then R would look through
those fonts (via the afm files) until it found the character it was
looking for. The nice part about this is that it would eliminate the hard
coded separation of the symbols from the alphanumeric characters since any
character can be found by this procedure and it could allow for symbols of
different styles, for example bold, italic, etc to be used if the fonts
are available. The downside of this is that it almost surely requires more
changes to R.

Thank you,
Brian D'Urso


My system:

platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jun 29 16:41:21 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 29 Jun 2001 16:41:21 +0200
Subject: [R] Re: ESS and R ver 1.3.0/ graph menu/ save PDF
In-Reply-To: <200106290438.f5T4cxQ47742@storm.niwa.cri.nz>; from s.mcclatchie@niwa.cri.nz on Fri, Jun 29, 2001 at 04:38:47PM +1200
References: <200106290407.f5T47kQ44875@storm.niwa.cri.nz> <87zoaroqi2.fsf@jeeves.blindglobe.net> <200106290438.f5T4cxQ47742@storm.niwa.cri.nz>
Message-ID: <20010629164119.A3404@rzpool01.pool.rz.tu-bs.de>

It also might be a windows problem. with win 95b, 
gnu-emacs 20.7.1 and ess 5.1.16 the menu-bar
pdf-file works fast and reliable (perhaps a memory problem?).

Peter.  




On Fri, Jun 29, 2001 at 04:38:47PM +1200, S.McClatchie wrote:
>  "SM" == S McClatchie <S.McClatchie> writes:
> > 
> >     SM> I notice that the new option under R ver. 1.3.0 to save a
> >     SM> graph as a pdf file from the graph window menu (file/ save as/ SM>
> >     PDF) works differently (extremely slowly) under ESS, whereas SM> it is
> >     almost instant from the R- gui.
> > 
> >     SM> Does the feature not work with ESS or am I doing something
> >     SM> incorrectly?
> ---------------------------------------------------------
> On 28 Jun 01,, A.J. Rossini wrote (re: Re: ESS and R ver 1.3.0/ graph menu/ save PDF): 
> > 
> > This sounds like an R problem, not an ESS problem -- what commands are you
> > using from the command-line to make it work?
> > 
> > Please provide an example (are you doing something like:
> >         pdf("filename")
> >         plot(x,y)
> >         dev.off()
> 
> > best,
> > -tony
> > 
> ---------------------------------------------------------
> Thanks for that Tony,
> 
> The command line works fine, just as you point out. I was using the 
> menu bar on the graph which looks the same as the RGui even though I 
> always use ESS. I guess the simple answer is don't use the Rgui 
> facilities when you are running R under ESS. Simple enough.
> 
> Cheers
> 
> Sam
> 
> Sam McClatchie, Research scientist (fisheries acoustics))))))))))
> NIWA (National Institute of Water & Atmospheric Research Ltd)
> PO Box 14 901, Kilbirnie, Wellington, New Zealand
> s.mcclatchie at niwa.cri.nz 
> 
>                     /\
> ...>><xX(?> // \\
>                  /// \\\   
>                 //// \\\\
>                ///  <?)Xx><<
>               /////  \\\\\\
>         ><(((?>   
>   >><(((?>   ...>><xX(?>O<?)Xx><<
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Raja.Surapanani at FMR.COM  Fri Jun 29 16:52:09 2001
From: Raja.Surapanani at FMR.COM (Surapanani, Raja)
Date: Fri, 29 Jun 2001 10:52:09 -0400
Subject: [R] Transferring Package from Unix to NT
Message-ID: <7975A3F85F08D5119C610002A5134856B34688@Msgbos686nts.fmr.com>

Hello all, 

I currently have a working package called misc in Unix (successfully
completed the process of check, build, and install). So, now I am having
problems installing this package in R for windows... by the way, both
versions of R in Unix and Windows are 1.3
here is the process i went through and the problems I had:

-I zipped up the files from my package in unix: 
	zip -rl ~/misc.zip misc	
-this created a zip file misc.zip and I then transferred this to NT and
unzipped it into C:/rw1030/library
-At this point, I have a folder in C:/rw1030/library with all the correct
files in it...
-I then downloaded the tools from
http://www.stats.ox.ac.uk/pub/Rtools/tools.zip and unzipped the tools into
C:/rw1030/src/gnuwin32
- I also installed perl for NT from
http://www.activestate.com/Products/ActivePerl/
-I then went into the Ms-DOS command prompt and did a cd to the following
folder: C:/rw1030/src/gnuwin32
- then the following command produced errors: 
	C:\rw1030\src\gnuwin32\> make pkg-misc
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make: /bin/sh.exe: Command not found
	make DLLNM= EXTRADOCS= \
		-C /src/libarary/misc PKG=misc RHOME= RLIB=/library \
		-f /src/gnuwin32/MakePkg
	make: /bin/sh.exe: Command not found     	
	make: *** [pkg-misc] Error 127

I don't understand why it's not finding sh.exe. To try to fix it I also
unzipped tools.zip into C:/rw1030/bin folder and the same error occurs... Is
there some sort of problem with the environment variables or maybe with
perl? Any help would be appreciated. 

thanks, 
    raja
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 17:05:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 16:05:35 +0100 (BST)
Subject: [R] Transferring Package from Unix to NT
In-Reply-To: <7975A3F85F08D5119C610002A5134856B34688@Msgbos686nts.fmr.com>
Message-ID: <Pine.LNX.4.31.0106291557290.1238-100000@gannet.stats>

On Fri, 29 Jun 2001, Surapanani, Raja wrote:

> I currently have a working package called misc in Unix (successfully
> completed the process of check, build, and install). So, now I am having
> problems installing this package in R for windows... by the way, both
> versions of R in Unix and Windows are 1.3
> here is the process i went through and the problems I had:
>
> -I zipped up the files from my package in unix:
> 	zip -rl ~/misc.zip misc
> -this created a zip file misc.zip and I then transferred this to NT and
> unzipped it into C:/rw1030/library

If this is a source package, it should be in C:/rw1030/src/library: it is
installed to R_HOME/library.

> -At this point, I have a folder in C:/rw1030/library with all the correct
> files in it...
> -I then downloaded the tools from
> http://www.stats.ox.ac.uk/pub/Rtools/tools.zip and unzipped the tools into
> C:/rw1030/src/gnuwin32

You need to follow the instructions in readme.packages:

  All of these need to be installed and in your path, and the
  appropriate environment variables set.  Edit MkRules to set BUILD and

Whyever would C:/rw1030/src/gnuwin32 be in your path or a suitable place?

> - I also installed perl for NT from
> http://www.activestate.com/Products/ActivePerl/
> -I then went into the Ms-DOS command prompt and did a cd to the following
> folder: C:/rw1030/src/gnuwin32
> - then the following command produced errors:
> 	C:\rw1030\src\gnuwin32\> make pkg-misc
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make: /bin/sh.exe: Command not found
> 	make DLLNM= EXTRADOCS= \
> 		-C /src/libarary/misc PKG=misc RHOME= RLIB=/library \
> 		-f /src/gnuwin32/MakePkg
> 	make: /bin/sh.exe: Command not found
> 	make: *** [pkg-misc] Error 127
>
> I don't understand why it's not finding sh.exe. To try to fix it I also
> unzipped tools.zip into C:/rw1030/bin folder and the same error occurs... Is
> there some sort of problem with the environment variables or maybe with
> perl? Any help would be appreciated.

Is C:/rw1030/bin in your path?
The messages mean that there is no sh.exe in your path.  You could of
course create /bin and put sh.exe there ... you will have the same
trouble on Unix if the shell is not in your path.


I am getting rather short of time to answer queries like this.
I hope readers will find acceptable that in future I will only send
private replies along the lines of

`Read readme.packages carefully'

or whatever, particularly to commercial (.com) R users.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Fri Jun 29 17:44:35 2001
From: ben at eno.princeton.edu (Ben Bolker)
Date: Fri, 29 Jun 2001 11:44:35 -0400 (EDT)
Subject: [R] integration in R-1.3.0
Message-ID: <Pine.SOL.4.10.10106291141030.6903-100000@eno.Princeton.EDU>


  I've noticed that integrate() has been rolled into the base library now,
and that the integrate library has been moved to the archives.  I've got a
problem ... I've been using adapt() (multi-dimensional adaptive
quadrature), which is not in the base package, and the integrate package
insists that it depends on R 1.2.3 (and doesn't install on my system under
1.3.0) and won't install.  I'll look for ways of forcing it to install
anyway, but does anyone have any hints in the meanwhile?

  Ben Bolker
        _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R           

** NEW ADDRESS as of Aug. 1 ***
Zoology Department, University of Florida
bolker at zoo.ufl.edu
(352) 392-5697

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Fri Jun 29 17:48:09 2001
From: ben at eno.princeton.edu (Ben Bolker)
Date: Fri, 29 Jun 2001 11:48:09 -0400 (EDT)
Subject: [R] integrate -- oops
Message-ID: <Pine.SOL.4.10.10106291146460.6964-100000@eno.Princeton.EDU>


  Never mind, I see where to hack it in the DESCRIPTION file.
Nevertheless, the "<=1.2.3" dependency is mildly annoying since it makes
it harder to use functionality that exists in the package but hasn't been
rolled into the base package as far as I can tell ...

  Ben Bolker

** NEW ADDRESS as of Aug. 1 ***
Zoology Department, University of Florida
bolker at zoo.ufl.edu
(352) 392-5697

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Fri Jun 29 17:55:36 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Fri, 29 Jun 2001 11:55:36 -0400 (EDT)
Subject: [R] sorting a dataframe by a column
Message-ID: <Pine.SOL.4.33.0106291154190.10260-100000@julius.ling.ohio-state.edu>


Hello,

Can anyone give me advice on sorting a dataframe by a given column?

Thanks,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 17:59:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Jun 2001 16:59:01 +0100 (BST)
Subject: [R] integration in R-1.3.0
In-Reply-To: <Pine.SOL.4.10.10106291141030.6903-100000@eno.Princeton.EDU>
Message-ID: <Pine.LNX.4.31.0106291656470.1784-100000@gannet.stats>

On Fri, 29 Jun 2001, Ben Bolker wrote:

>   I've noticed that integrate() has been rolled into the base library now,

NO!  A more complete GPL-ed integrate() function has been written from
scratch and put in base.  See NEWS:

    o   New function integrate() with S-compatible call.


> and that the integrate library has been moved to the archives.  I've got a
> problem ... I've been using adapt() (multi-dimensional adaptive
> quadrature), which is not in the base package, and the integrate package
> insists that it depends on R 1.2.3 (and doesn't install on my system under
> 1.3.0) and won't install.  I'll look for ways of forcing it to install
> anyway, but does anyone have any hints in the meanwhile?

Use the adapt package on CRAN if you want adapt().  It works ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Fri Jun 29 18:16:52 2001
From: ben at eno.princeton.edu (Ben Bolker)
Date: Fri, 29 Jun 2001 12:16:52 -0400 (EDT)
Subject: [R] integrate, thanks
Message-ID: <Pine.SOL.4.10.10106291214220.7323-100000@eno.Princeton.EDU>


  Thanks for the quick reply (as usual) on integrate.  I realized after I
sent the e-mail that I misspoke about integrate being "rolled into" the
new base.

  I do think that questions like this continue to bring up the question of
searching/indexing/etc. -- it *looks* like adapt on CRAN is the same as
the old stuff in integrate -- I know it's not feasible, but it would (for
instance) be nice to have a cross-reference from "integrate" to the adapt
package ...

  thanks again,
    Ben Bolker

** NEW ADDRESS as of Aug. 1 ***
Zoology Department, University of Florida
bolker at zoo.ufl.edu
(352) 392-5697

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 29 19:06:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jun 2001 19:06:38 +0200
Subject: [R] sorting a dataframe by a column
In-Reply-To: David White's message of "Fri, 29 Jun 2001 11:55:36 -0400 (EDT)"
References: <Pine.SOL.4.33.0106291154190.10260-100000@julius.ling.ohio-state.edu>
Message-ID: <x2els35i75.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Hello,
> 
> Can anyone give me advice on sorting a dataframe by a given column?
> 
> Thanks,
> 
> D

myframe[order(myframe$mycolumn),]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 29 19:19:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Jun 2001 18:19:38 +0100 (GMT Daylight Time)
Subject: [R] Re: Windows Help compiler
In-Reply-To: <Pine.LNX.4.31.0106291517491.1168-100000@gannet.stats>
Message-ID: <Pine.WNT.4.31.0106291818250.964-100000@gannet>

Sorry, http://www.stats.ox.ac.uk/pub/bdr/RWin

Also, the latest Cygwin make seems to be having trouble with finding a
shell, and I am investigating.


On Fri, 29 Jun 2001, Prof Brian Ripley wrote:

> A couple of people have asked after this today.  Until I can verify
> the status of this and update the portal,
>
> http://www.stats.ox.ac.uk/bin/bdr/RWin
>
> contains htmlhelp.exe and hhupd.exe.  Install in that order.
>
> No guarantees that these will stay there.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Fri Jun 29 19:26:10 2001
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Fri, 29 Jun 2001 13:26:10 -0400
Subject: [R] Looping syntax?
Message-ID: <01062913244600.16174@beowulf5>



Sorry for what I hope is an unchallenging question for R veterans.

I have a question regarding looping syntax, though I know this should be 
avoided if possible in R - as in most other stat languages with which I am 
familiar.  

I would like to perform a series of operations on the subsets as defined by 
condition. Given the following data frame 

condition	X 	Y
aa		4	5
aa		8	9
.
.
bb		8	4
bb		3 	9
. 
. 
more ..

There are over 100 condition states, each with several hundred observations.  
For ease of this example, lets assume that I wish to make XY plots of each of 
the 100 condition states, with In other words, I need a structure like the 
following

for state in condition:
	identifier <- c("figure N:", cond)
	postscript(identifier,height=3,width=6,horizontal=F) 
	plot(X,Y, main=indentifier)
	n <- n+1

(Please excuse the bastardized R syntax, but not knowing the R syntax is the 
reason I am now writing)  The goal of this structure is to produce a graph 
for each unique value of condition which are sequentially numbered and 
entitled and saved with the condition state as part of the filename/title of 
the plot.

I know this must be simple in R, but the syntax is throwing me.  As an aside, 
could I get recommendations on the best S-Plus/ R book for data manipulation. 
 I have Venables & Ripley, "Modern Applied Statistics with S-Plus" and a 
smattering of web docs, but nothing seems to go into the details of indexing, 
built in fuctions, etc that seem pretty important.

Thanks in Advance.

Michaell Taylor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Jun 29 19:33:10 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 29 Jun 2001 19:33:10 +0200
Subject: [R] Windows Help compiler
References: <Pine.LNX.4.31.0106291517491.1168-100000@gannet.stats>
Message-ID: <3B3CBBD6.A571E468@univie.ac.at>

currently,
the html help workshop (including the compiler) can be found at

http://www.microsoft.com/office/ork/xp/appndx/appa06.htm


Prof Brian Ripley wrote:
> 
> A couple of people have asked after this today.  Until I can verify
> the status of this and update the portal,
> 
> http://www.stats.ox.ac.uk/bin/bdr/RWin
> 
> contains htmlhelp.exe and hhupd.exe.  Install in that order.
> 
> No guarantees that these will stay there.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 29 20:05:49 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 29 Jun 2001 11:05:49 -0700 (PDT)
Subject: [R] Looping syntax?
In-Reply-To: <01062913244600.16174@beowulf5>
Message-ID: <Pine.A41.4.33.0106291049320.120022-100000@homer30.u.washington.edu>

On Fri, 29 Jun 2001, Michaell Taylor wrote:

>
>
> Sorry for what I hope is an unchallenging question for R veterans.
>
> I have a question regarding looping syntax, though I know this should be
> avoided if possible in R - as in most other stat languages with which I am
> familiar.
>
> I would like to perform a series of operations on the subsets as defined by
> condition. Given the following data frame
>
> condition	X 	Y
> aa		4	5
> aa		8	9
> .
> .
> bb		8	4
> bb		3 	9
> .
> .
> more ..
>
> There are over 100 condition states, each with several hundred observations.
> For ease of this example, lets assume that I wish to make XY plots of each of
> the 100 condition states, with In other words, I need a structure like the
> following

I think you want something like

for(state in unique(condition)){
	postscript(paste("figure",state,sep=""),height=3,horiz=FALSE)
	these<-condition %in% state
	plot(X[these],Y[these],xlab="X",ylab="Y",
		main=paste("Condition is",state))
	dev.off()
}


The loop could be replaced with sapply(), but I would expect that the file
access would be the rate-limiting step so sapply() wouldn't help a lot.
The whole thing could also be done with tapply() or by(). This is left as
an exercise for the reader.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Fri Jun 29 20:35:13 2001
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Fri, 29 Jun 2001 14:35:13 -0400
Subject: [R] sorting a dataframe by a column
Message-ID: <7975A3F85F08D5119C610002A5134856AA4A52@Msgbos686nts.fmr.com>

Define a key that maps the necessary changes to sort "theCol":

key <- sort.list(myFrame[["theCol"]]);

And then perform the sort on every column:

for (i in 1:length(myFrame)) myFrame[["theCol"]] <-
myFrame[["theCol"]][key];

If there's a better way, let me know.

Kevin

-----Original Message-----
From: David White [mailto:dwhite at ling.ohio-state.edu]
Sent: Friday, June 29, 2001 11:56 AM
To: r-help at stat.math.ethz.ch
Subject: [R] sorting a dataframe by a column



Hello,

Can anyone give me advice on sorting a dataframe by a given column?

Thanks,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jun 29 21:47:45 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 29 Jun 2001 13:47:45 -0600 (MDT)
Subject: [R] Looping syntax?
In-Reply-To: <01062913244600.16174@beowulf5>
Message-ID: <Pine.GSO.4.05.10106291329360.11110-100000@virga.rap.ucar.edu>

On Fri, 29 Jun 2001, Michaell Taylor wrote:

> 
> 
> Sorry for what I hope is an unchallenging question for R veterans.
> 
> I have a question regarding looping syntax, though I know this should be 
> avoided if possible in R - as in most other stat languages with which I am 
> familiar.  
> 
> I would like to perform a series of operations on the subsets as defined by 
> condition. Given the following data frame 
> 
> condition	X 	Y
> aa		4	5
> aa		8	9
> .
> .
> bb		8	4
> bb		3 	9
> . 
> . 
> more ..
> 
> There are over 100 condition states, each with several hundred observations.  
> For ease of this example, lets assume that I wish to make XY plots of each of 
> the 100 condition states, with In other words, I need a structure like the 
> following
> 
> for state in condition:
> 	identifier <- c("figure N:", cond)
> 	postscript(identifier,height=3,width=6,horizontal=F) 
> 	plot(X,Y, main=indentifier)
> 	n <- n+1
> 

say your dataframe is called pippo and its columns are called 
condition, X, Y by

names(pippo)_c("condition","X",Y")


then 


 unique.cond_unique(pippo$condition) 
 l_length(unique.cond)  

 for(i in 1:l){
 filename_paste("figure_",unique.cond[i],".ps",sep="")  #will be 
                                                        #something
                                                       #like figure_aa.ps
 fig.title_paste("figure N:",unique.cond[i])
 postscript(file=filename,height=3, width=6, hor=T)
 plot(cbind(pippo$X,pippo$Y)[pippo$condition==unique.cond[i],],
	main=fig.title,xlab="X", ylab="Y") 
 dev.off()

}

this gives you as many files as there are unique conditions.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 29 21:55:31 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 29 Jun 2001 12:55:31 -0700 (PDT)
Subject: [R] Re: Debian packages for R-1.3.0
In-Reply-To: <6r8zibqesn.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.A41.4.33.0106291254570.26248-100000@homer24.u.washington.edu>

> I need a volunteer to compile the packages on a Debian 2.2 (potato)
> system.  Thomas Lumley has done that but I know he is very busy now
> and I don't want to impose on him.  If you have a machine running the
> stable Debian distribution and could create the package, please
> contact me.

We don't even run potato as of last week.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maustin at amgen.com  Fri Jun 29 23:27:18 2001
From: maustin at amgen.com (Austin, Matt)
Date: Fri, 29 Jun 2001 14:27:18 -0700
Subject: [R] RE: Debian packages for R-1.3.0
Message-ID: <0C1300E41CD9D2118F5E0008C7B1CDE3059373C1@orange-exch.amgen.com>

Dr. Bates,

I volunteered to help with the last release and would like to help in the
future, but unfortunately I just relocated and my linux machine is in
temporary housing isolated from the internet.  I should be back up when we
move into our new home in about three weeks.  I stay on the conservative
side, so I'll probably always use the current stable release.  

Message sent by:
====================================================================
 Matt Austin          | Statistician 
 maustin at amgen.com    | Clinical Development, Oncology	
 805/447-7431         | Amgen Inc.
 ------------------------------------------------------------------
 One Amgen Center    MS: 24-2-C     Thousand Oaks, CA    91320-1789
====================================================================

  

-----Original Message-----
From: Douglas Bates [mailto:bates at stat.wisc.edu]
Sent: Friday, June 29, 2001 12:15 PM
To: r-announce at stat.math.ethz.ch
Subject: Debian packages for R-1.3.0



I have installed the binary packages for Debian GNU/Linux release 2.3
(woody) in the U.S. mirror of the CRAN archive.  They should propagate
to the main CRAN archive within a day and to the other mirrors within
two days.

These packages have been compiled with gcc-3.0 and g77-3.0.  I believe
the testing distribution currently provides only a snapshot of
gcc-3.0, not the latest released version, so this may cause problems
with installation under the testing distribution.  I can recompile the
packages if this becomes too awkward.  Let me know if you need this.

These packages have been linked against Camm Maguire's latest
atlas2-base package for Atlas.  I would recommend getting that - it is
a much more recent version of Atlas.

I need a volunteer to compile the packages on a Debian 2.2 (potato)
system.  Thomas Lumley has done that but I know he is very busy now
and I don't want to impose on him.  If you have a machine running the
stable Debian distribution and could create the package, please
contact me.

--
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tim.carlson at pnl.gov  Sat Jun 30 00:35:06 2001
From: tim.carlson at pnl.gov (Tim Carlson)
Date: Fri, 29 Jun 2001 15:35:06 -0700
Subject: [R] IRIX build error of R-1.3.0 (and fix)
Message-ID: <3B3D029A.E4C37E13@pnl.gov>

Hello,

For R-1.3.0 on IRIX 6.5.12 (probably earlier versions as well), you need
to add

#define HAVE_BSD_NETWORKING

to nanoftp.c and nanohttp.c

It also helps to avoid using the IRIX default libz. (missing defines of
gzseek and others).

All of this assumes gcc-2.95.3 (gcc g77)

--
Tim Carlson
Voice: (509) 376-0300
Email: Tim.Carlson at pnl.gov
EMSL UNIX system support


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 30 08:15:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 30 Jun 2001 07:15:34 +0100 (BST)
Subject: [R] IRIX build error of R-1.3.0 (and fix)
In-Reply-To: <3B3D029A.E4C37E13@pnl.gov>
Message-ID: <Pine.GSO.4.31.0106300654550.21434-100000@auk.stats>

We've hade a lot of discussion about this on R-devel and elsewhere.
Basically the configure process is getting inconsistent answers.  Please do
not change those files, but change src/include/config.h to read

/* Define if you have BSD networking headers and libraries. */
#define HAVE_BSD_NETWORKING 1

/* Define if you have support for sockets. */
#define HAVE_SOCKETS 1

/* Define if you have support for ftp/http access. */
#define HAVE_INTERNET 1

/* Define if you provide support for libxml's ftp/http functions. */
#define SUPPORT_LIBXML 1

or you will have an sub-optimal system.

The underlying problem is an error in the way IRIX has these files set up,
failing to include dependent headers.


On Fri, 29 Jun 2001, Tim Carlson wrote:

> Hello,
>
> For R-1.3.0 on IRIX 6.5.12 (probably earlier versions as well), you need
> to add
>
> #define HAVE_BSD_NETWORKING
>
> to nanoftp.c and nanohttp.c
>
> It also helps to avoid using the IRIX default libz. (missing defines of
> gzseek and others).

Well, configure tests the header file for zlib >= 1.1.3, and that version
(there is only one meeting the test at present) does have those functions.
So if you are having problems, you must have an inconsistent header and
library and perhaps you should correct that?  Or is the test not working
and you do have an earlier version?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From usama1 at globalnet.com.eg  Fri Jun 29 23:44:32 2001
From: usama1 at globalnet.com.eg (osama)
Date: Sat, 30 Jun 2001 00:44:32 +0300
Subject: [R] fitting distributions
Message-ID: <003301c100e4$b04770e0$fbc5723e@y4a8p6>

Hi;
    I would like to fit a contiuous right skewed dist. to a set of data. So, I want to use MLE or Robust estimation of the parameters, then use A-D or K-S test or Robust alternative for the goodness-of -fit. Also I would rank the fitted distributions according to the p-value of the test. Does anyone know how I do this in R. any backages of Robust estimation and for goodness-of-fit?
Thank you for your help.
Ahmed hassan
alexandria univeristy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010630/5ee89ac7/attachment.html

