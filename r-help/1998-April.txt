From david.clayton at mrc-bsu.cam.ac.uk  Wed Apr  1 10:33:05 1998
From: david.clayton at mrc-bsu.cam.ac.uk (David Clayton)
Date: Wed, 01 Apr 1998 09:33:05 +0100
Subject: R-beta: Not loading C library 
In-Reply-To: Your message of "Tue, 31 Mar 1998 08:16:54 PDT."
             <Pine.LNX.3.96.980331081253.2913A-100000@kiefte.v-wave.com> 
Message-ID: <199804010833.JAA09939@bernstein.mrc-bsu.cam.ac.uk>

I have had the same problem, which seems to be due to a copy of .Dyn.libs left 
behind from a previous session. I've fixed this by using the following .First
function:

function() {
   if (exists(".Dyn.libs")) {
      remove(".Dyn.libs", envir=.GlobalEnv)
   }
}

But this doesn't seem like the most elegant approach to the problem!

David Clayton

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Apr  3 00:47:43 1998
From: gb at stat.umu.se (Goran Brostrom)
Date: Fri, 3 Apr 1998 00:47:43 +0200 (MET DST)
Subject: R-beta: Bug in dhyper (and phyper)
In-Reply-To: <199803261543.RAA26167@noppa.Helsinki.FI>
Message-ID: <Pine.GSO.3.95.980403004437.23292A-100000@pc30.stat.umu.se>



I think I have found a bug in the function dhyper (R-0.61.2):

R> dhyper(0,3,3,0)
Warning: NAs produced in function "dhyper"
[1] NA

Documentation:

"Usage

dhyper(x, N1, N2, n)

.......

The hypergeometric distribution is used for sampling without replacement. 
It has density 

  p(x) = Choose(N1, x) Choose(N2, n-x) / Choose(N1+N2, n)

for x = 0,...,n"

R> choose(3,0) * choose(3,0) / choose(6,0)
[1] 1

This result is correct, and obviously dhyper is implemented in some way 
not consistent with the documentation.

Also note the spelling error of 'choose' in the documentation.

---
Goran Brostrom                         phone : +46 90 7865223
Department of Statistics                              7865213 (secr)
Umea University                        fax   :        7866614
S-90187 Umea, Sweden                   e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Fri Apr  3 11:44:58 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 3 Apr 1998 11:44:58 +0200 (MET DST)
Subject: R-beta: f2c with R61.2
Message-ID: <9804030944.AA29602@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 750 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980403/5ef52eac/attachment.pl

From p.dalgaard at biostat.ku.dk  Fri Apr  3 12:51:20 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 1998 12:51:20 +0200
Subject: R-beta: f2c with R61.2
In-Reply-To: Jim Lindsey's message of Fri, 3 Apr 1998 11:44:58 +0200 (MET DST)
References: <9804030944.AA29602@alpha.luc.ac.be>
Message-ID: <x2zpi3rxef.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> 
> I have just upgraded to Redhat 5. This means recompiling R so I
> upgraded that from 61.1 to 61.2 at the same time. Now my dynamically
> loaded Fortran no longer works. At first I thought it was Redhat and
> searched my libraries etc. However, gdb gives the error in util.c:
> at line 319
> if(INTEGER(x)[i]!=INTEGER(y)[i])
> So I recompiled 61.1 and Fortran works with it. Apparently 0.61.2 has
> problems.
>   Jim

[I assume that it triggers a segfault or similar?]

Hm. Well, that's certainly not the location of the bug, because the
whole routine is unchanged from 0.61.1. Can you give a simple example
that displays the problem? Or at least:

- a stack traceback  (type "where" to gdb)
- value of i and n
- contents of x and y (use "print printValue(x)")

Of course, as always when dealing with dyn.loaded code, there's the
possibility that the bug is really in your own Fortran code (indexing
past the end of an array or some such), just showing up in a different
place with new code.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Apr  3 13:28:47 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 3 Apr 1998 23:28:47 +1200 (NZST)
Subject: R-beta: f2c with R61.2
Message-ID: <199804031128.XAA19019@stat1.stat.auckland.ac.nz>

There is at least one bit of dynloaded fortran code which seems to
work for me.  If you get a chance, could you try running the example
in the hclust manual entry (Solaris 2.6).

	library("mva")
	?hclust

to see if that is ok.
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Fri Apr  3 18:22:22 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Fri, 3 Apr 1998 10:22:22 -0600 (CST)
Subject: R-beta: default paper size
Message-ID: <Pine.OSF.3.95.980403101134.10101A-100000@io.uwinnipeg.ca>

After some paper clipping problems I checked options() and saw that the
default paper size was a4; I need US Letter.  So as per instructions I
uncommented the R_PAPERSIZE line in config.site,
R_PAPERSIZE=letter

Restarting R, everything is still the same though.  I guess I have to
reinstall?
That seems awkward.  Is there a way a prompt ("a4 or letter paper?") can
be inserted in the normal install procedure? Or at least explain in
INSTALL that this change to config.site needs to be done prior to
installing.

Thanks for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr  3 18:44:50 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 1998 18:44:50 +0200
Subject: R-beta: default paper size
In-Reply-To: Bill Simpson's message of Fri, 3 Apr 1998 10:22:22 -0600 (CST)
References: <Pine.OSF.3.95.980403101134.10101A-100000@io.uwinnipeg.ca>
Message-ID: <x2u38asvlp.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson at uwinnipeg.ca> writes:

> 
> After some paper clipping problems I checked options() and saw that the
> default paper size was a4; I need US Letter.  So as per instructions I
> uncommented the R_PAPERSIZE line in config.site,
> R_PAPERSIZE=letter
> 
> Restarting R, everything is still the same though.  I guess I have to
> reinstall?
> That seems awkward.  Is there a way a prompt ("a4 or letter paper?") can
> be inserted in the normal install procedure? Or at least explain in
> INSTALL that this change to config.site needs to be done prior to
> installing.
> 
> Thanks for any help.
> 
> Bill Simpson

You can fix it in the start-up script:

...
# Default Printer Paper Size
# Choose one of the following
# R_PAPERSIZE="a4"
# R_PAPERSIZE="letter"
# R_PAPERSIZE="none"
R_PAPERSIZE=a4
export R_PAPERSIZE
...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Fri Apr  3 18:56:04 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Fri, 3 Apr 1998 10:56:04 -0600 (CST)
Subject: R-beta: default paper size
In-Reply-To: <x2u38asvlp.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.95.980403105552.10101C-100000@io.uwinnipeg.ca>

Thanks very much Peter.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr  3 19:01:59 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 3 Apr 1998 09:01:59 -0800 (PST)
Subject: R-beta: default paper size
In-Reply-To: <x2u38asvlp.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.95.980403085656.19307A-100000@chekov>

On 3 Apr 1998, Peter Dalgaard BSA wrote:
> > That seems awkward.  Is there a way a prompt ("a4 or letter paper?") can
> > be inserted in the normal install procedure? Or at least explain in
> > INSTALL that this change to config.site needs to be done prior to
> > installing.
> > 
> 
> You can fix it in the start-up script:
> 

 Yes, but I agree with Bill that this should be mentioned in INSTALL. The
current INSTALL gives the impression that you will typically not need to
change the configuration unless something is obviously wrong. Quite a lot
of users will be using strange American paper instead of standard A4 and
judging from my experiences here they won't realise unless prompted that
it's their printers that are non-standard. ;-)

I'll put a line in INSTALL.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arjan.buursink at pi.net  Fri Apr  3 22:35:28 1998
From: arjan.buursink at pi.net (Arjan Buursink)
Date: Fri, 03 Apr 1998 20:35:28 +0000
Subject: R-beta: fortran functions
Message-ID: <35254810.2FBADC87@pi.net>

Hi,

I downloaded the timeslab package for S. I really like this package,
but I can not use the compiled( with f2c and gcc) fortran functions. I
think I did all the things needed to use the fortran functions:

f2c timeslab.f
gcc -g -fpic -c timeslab.c
ld -shared timeslab.o -o timeslab.so

In R I typed:

dyn.load("timeslab.so")

(I also can load the S functions in the timeslab package)

Whenever I make use of a function in timeslab, that uses a fortran
function from timeslab.so it returns wrong answers.

I hope someone has a solution to this problem because I really do like
R and want to use timeslab.

BTW I have a Linux Redhat 5.0 (i386) system and I am using R version
0.61.1

Thanks in advance.

Arjan Buursink
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rick at stat.ubc.ca  Sat Apr  4 02:59:07 1998
From: rick at stat.ubc.ca (Rick White)
Date: Sat, 04 Apr 1998 00:59:07 +0000
Subject: R-beta: CI for median in funtion boxplot
Message-ID: <352585DB.1B02E280@stat.ubc.ca>

I noticed that boxplot computes a 95% CI for the median by using
median +/- 1.58*IQR./sqrt(n)

Where does the 1.58 constant come from?

--
Rick White
Statistical Consultant
U.B.C. Vancouver
B.C. Canada
rick at stat.ubc.ca



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr  4 12:58:54 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 1998 12:58:54 +0200
Subject: R-beta: CI for median in funtion boxplot
In-Reply-To: Rick White's message of Sat, 04 Apr 1998 00:59:07 +0000
References: <352585DB.1B02E280@stat.ubc.ca>
Message-ID: <x2lntlsvip.fsf@blueberry.kubism.ku.dk>

Rick White <rick at stat.ubc.ca> writes:

> 
> I noticed that boxplot computes a 95% CI for the median by using
> median +/- 1.58*IQR./sqrt(n)
> 
> Where does the 1.58 constant come from?
> 

Search me... However, wouldn't it be better in any case to do an exact
95% CI based on the binomial distribution? Of course, you need at
least 6 observations to do that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hag.hi.is  Sat Apr  4 15:01:17 1998
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Sat, 4 Apr 1998 13:01:17 +0000 (GMT)
Subject: R-beta: standard-errors-glm
Message-ID: <199804041301.NAA25279@walras.hag.hi.is>

I have a small problem.  I am running glm() in R-0.61.0 on Redhat 4.2.
I want to get the standard errors from the output.  If I do

out <- glm(....)
summary(out)

I get the coefficients printed as well as their correlation matrix.  If I do 

out$coefficients  I get the coefficients
out$fitted        gives me the fitted values

I can then assign the fitted values or the value of the estimated coefficients
to a variable.  How do I get the covariance matrix of the estimates?

I have tried out$R but that gives me a matrix with numbers I don't understand.

Sorry to bug you with such a simple problem.

Helgi Tomasson

-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Apr  4 18:34:39 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 4 Apr 1998 08:34:39 -0800 (PST)
Subject: R-beta: standard-errors-glm
In-Reply-To: <199804041301.NAA25279@walras.hag.hi.is>
Message-ID: <Pine.LNX.3.96.980404083248.25528A-100000@buffy>

On Sat, 4 Apr 1998, Helgi Tomasson wrote:

> I have a small problem.  I am running glm() in R-0.61.0 on Redhat 4.2.
> I want to get the standard errors from the output.  If I do
Use
	summary(mymodel)$coefficients[,2]

This returns the second column of the table of coefficients, standard
errors, and t values  that is produced by summary.glm


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Apr  4 18:42:41 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 4 Apr 1998 08:42:41 -0800 (PST)
Subject: R-beta: CI for median in funtion boxplot
In-Reply-To: <x2lntlsvip.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.96.980404083538.25528B-100000@buffy>

On 4 Apr 1998, Peter Dalgaard BSA wrote:

> Rick White <rick at stat.ubc.ca> writes:
> 
> > 
> > I noticed that boxplot computes a 95% CI for the median by using
> > median +/- 1.58*IQR./sqrt(n)
> > 
> > Where does the 1.58 constant come from?
> > 
> 
> Search me... However, wouldn't it be better in any case to do an exact
> 95% CI based on the binomial distribution? Of course, you need at
> least 6 observations to do that.
> 

I think 1.58 is based on a Normal approximation.  If the data are Normal
then you can compute the asymptotic standard error of the median and use
+/- 1.96 of these to get a 95% ci.  1.58*IQR/sqrt(n) is a robust estimate
of 2.13sigma/sqrt(n), which is about right to be 1.96 standard errors.

This will work for contaminated Normal distributions, but it won'tbe very
good for genuinely long-tailed or asymmetric distributions.  In any case,
the distribution of the median converges to Normal rather slowly, so the
CI might not be very good anyway except in large samples.   The exact
binomial CI would be much better.

Thomas Lumley
-----------------------
Biostatistics	
Uni of Washington	
Box 357232		
Seattle WA 98195-7232	
------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Sun Apr  5 03:57:36 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Sun, 5 Apr 1998 11:27:36 +0930
Subject: R-beta: standard-errors-glm
In-Reply-To: <199804041301.NAA25279@walras.hag.hi.is>
References: <199804041301.NAA25279@walras.hag.hi.is>
Message-ID: <9804050157.AA12714@attunga.stats.adelaide.edu.au>

Helgi Tomasson writes:

 > out <- glm(....)
 > summary(out)

 > I want to get the standard errors from the output.

> SE <- summary(out)$coef[, 2]

 > How do I get the covariance matrix of the estimates?

> summary(out)$covmat

If you want several things from the summary it is less
computation to create the object once and then extract them.

> out <- glm(...)
> sout <- summary(out)
> sout
 .
 .
 .
 
> SE <- sout$coef[, 2]
> Vm <- sout$covmat

Also

> names(sout)

gives a good idea what else is buried in the summary object.
Remember that when you print an object you don't necessarily see
everything that is there.  (This is a feature, not a bug!)

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awol at STAT.UNIMAAS.NL  Sun Apr  5 09:33:53 1998
From: awol at STAT.UNIMAAS.NL (Alexander Volovics)
Date: Sun, 05 Apr 1998 09:33:53 +0200
Subject: R-beta: loading C binaries
Message-ID: <98040509554801.00393@for.ever>

Can anybody explain what is happening?
 
I am using  RedHat Linux 5.0 with the latest Martyn Plummer RPM's installed,
both at home and at the office.

At home "survival4" is (still) working OK. 
At the office all the components ('survfit', 'survdiff', 'coxph, etc..) stop
with an error message that they can't 'find' or 'load' the C binaries:
i.e. '.C("survfit2",....)'.

Immediately after installing everything worked OK , I still have the saved 
objects to prove it.  But I obviously did something wrong and now loading the
library 'survival4' does not work as before: the C binaries do not seem to be
found or get (dynamically) loaded.

By the way does exiting from R with q() 'cleanly' detach the loaded add-on
packages or is it advisable to use : detach("package:xxxx").


------------------------------------------------
Alexander Volovics
Dept of Methodology & Statistics
Maastricht University, Maastricht, NL
email: Alexander Volovics <awol at stat.unimaas.nl>
------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awol at STAT.UNIMAAS.NL  Sun Apr  5 21:06:35 1998
From: awol at STAT.UNIMAAS.NL (Alexander Volovics)
Date: Sun, 05 Apr 1998 21:06:35 +0200
Subject: R-beta: loading C binaries
Message-ID: <98040521200700.02136@for.ever>

This morning I posted mail to this list  with the following problem:

> At home "survival4" is (still) working OK. 
> At the office all the components ('survfit', 'survdiff', 'coxph, etc..) stop
> with an error message that they can't 'find' or 'load' the C binaries:
> i.e. '.C("survfit2",....)'.

Well it has gone wrong at home too. Here is an example:

> library(splines)
> library(survival4)
> objects()
[1] "cens"    "duur"    "duur2"   "groep"   "kmduur"  "kmduur2" "tel"
> survfit(Surv(duur, cens)~groep)
Error in .C("survfit2", as.integer(n), y = y, as.integer(ny), as.double(casewt[sorted]),  
: C/Fortran function not in load table
                              
kmduur and kmduur2 are survfit objects from a test session this morning. 
For example:

> kmduur
Call: survfit(formula = Surv(duur, cens) ~ groep)

         n events  mean se(mean) median 0.95CI 0.95CI
groep=0 50     40  1.83    0.413  0.817  0.470   1.83
groep=1 50     31 14.73    8.707  1.265  0.129   1.93  

and:

 > names(kmduur)
 [1] "time"      "n.risk"    "n.event"   "surv"      "strata"    "std.err"
 [7] "upper"     "lower"     "conf.type" "conf.int"  "call"      

Etc., etc.  I don't understand what is going on?
I hope somebody can explain.

------------------------------------------------
Alexander Volovics
Dept of Methodology & Statistics
Maastricht University, Maastricht, NL
email: Alexander Volovics <awol at stat.unimaas.nl>
------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr  5 22:20:55 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Apr 1998 22:20:55 +0200
Subject: R-beta: loading C binaries
In-Reply-To: Alexander Volovics's message of Sun, 05 Apr 1998 21:06:35 +0200
References: <98040521200700.02136@for.ever>
Message-ID: <x2sonsdnq0.fsf@blueberry.kubism.ku.dk>

Alexander Volovics <awol at STAT.UNIMAAS.NL> writes:

> : C/Fortran function not in load table
...
> Etc., etc.  I don't understand what is going on?
> I hope somebody can explain.

Could be the .Dyn.libs-lingers-in-.RData bug (again!).

Does it go away if you issue an rm(.Dyn.libs) before loading the
package? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awol at STAT.UNIMAAS.NL  Sun Apr  5 22:40:51 1998
From: awol at STAT.UNIMAAS.NL (Alexander Volovics)
Date: Sun, 05 Apr 1998 22:40:51 +0200
Subject: R-beta: loading C binaries
Message-ID: <98040522492200.02314@for.ever>

On Sun, 05 Apr 1998, Peter Dalgaard wrote:

>Alexander Volovics <awol at STAT.UNIMAAS.NL> writes:

>> : C/Fortran function not in load table
>>...
>> Etc., etc.  I don't understand what is going on?
>> I hope somebody can explain.

>Could be the .Dyn.libs-lingers-in-.RData bug (again!).
>Does it go away if you issue an rm(.Dyn.libs) before loading the
>package? 

Yes it does go away.  The .Dyn.libs lingering bug strikes again!

Is it worth reporting this incident or is it known that the bug has not been
eradicated.

Thanks (for the help not the bug ;-))

------------------------------------------------
Alexander Volovics
Dept of Methodology & Statistics
Maastricht University, Maastricht, NL
email: Alexander Volovics <awol at stat.unimaas.nl>
------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr  5 23:47:15 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Apr 1998 23:47:15 +0200
Subject: R-beta: loading C binaries
In-Reply-To: Alexander Volovics's message of Sun, 05 Apr 1998 22:40:51 +0200
References: <98040522492200.02314@for.ever>
Message-ID: <x2n2e0aql8.fsf@blueberry.kubism.ku.dk>

Alexander Volovics <awol at STAT.UNIMAAS.NL> writes:

> Is it worth reporting this incident or is it known that the bug has not been
> eradicated.

It's known...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Mon Apr  6 09:00:28 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 6 Apr 1998 09:00:28 +0200 (MET DST)
Subject: R-beta: matrix multiplication not Fortran
Message-ID: <9804060700.AA25608@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1287 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980406/39dc7891/attachment.pl

From maechler at stat.math.ethz.ch  Mon Apr  6 10:21:15 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 6 Apr 1998 10:21:15 +0200
Subject: R-beta: CI for median in funtion boxplot
In-Reply-To: <x2lntlsvip.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 04 Apr 1998 12:58:54 +0200)
Message-ID: <199804060821.KAA00495@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Rick White <rick at stat.ubc.ca> writes:
    >>  I noticed that boxplot computes a 95% CI for the median by using
    >> median +/- 1.58*IQR./sqrt(n)
    >> 
    >> Where does the 1.58 constant come from?
    >> 

    PD> Search me... However, wouldn't it be better in any case to do an
    PD> exact 95% CI based on the binomial distribution? Of course, you
    PD> need at least 6 observations to do that.

No, please not yet another definition of the boxplot!
People looking at boxplots should be able to rely on their knowledge of
what a boxplot is.

I don't know the exact history; in any case,
John Tukey devised the boxplot, including the notches, 
and ``1.58 is THE number''.

A very accessible reference  on how  1.58  was construed is
Section 3.12, p.79--81 of
@Book{VelPH81,
  author = 	{Paul F. Velleman and David C. Hoaglin},
  title = 	{Applications, Basics, and Computing of Exploratory
		  Data Analysis},
  publisher = 	{Duxbury Press, Boston, Massachusetts},
  year = 	1981
}

Here a ``compact'' summary  (if you really want to know ...)

Comparing two normal populations, there are two extreme cases: 
In the first one, the variances are about equal, 
in the other, one variance is much higher than the other.
The corresponding z-Tests are 
	abs(mean(x1) - mean(x2)) - 1.96 sqrt(2) sigma_xbar
and
	abs(mean(x1) - mean(x2)) - 1.96         sigma_xbar (the big one).

Where the first corresponds to a CI of  
	mean(x) +/- 1.96 sqrt(2) / 2 sigma_xbar =
    =	mean(x) +/- 1.39 sigma_xbar 
the second one must have
	mean(x1) +/- 1.96 sigma_xbar(x1) and the same for x2.

An omnibus compromise factor is  (1.39 + 1.96) / 2 ~= 1.7
[``exact'' would be   qnorm(.975)*(1 + sqrt(2)/2)/2 = 1.672934].

Now, we also have  
	sigma = 1.349 * IQR,  [[exact:  2*qnorm(3/4)  * IQR ]]
and
	var(median) = pi/2 * var(arith.mean)

The three things put together:

	"notch length" =  (IQR/1.349) * sqrt(pi/2) * (1.7 / sqrt(n)) =
		       =  1.58  * IQR / sqrt(n),

i.e. 1.58 = sqrt(pi/2)*1.7/1.349  (= 1.579417)

Instead, the ``exact'' value for 1.58 would be

1/(2*qnorm(.75))* sqrt(pi/2) * (qnorm(.975)*(1 + sqrt(2)/2)/2) =  1.554295

---
So, 1.58 ``should be'' 1.554 instead, 
but of course, the big deal is the compromise of the two extreme
situations, anyway.  Rounding up leads to the slightly increased factor
which may be somewhat more realistic for long-tailed nonnormal situations.

----------
PS: Should the above go into the online documentation?

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Apr  6 10:40:12 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 6 Apr 1998 10:40:12 +0200
Subject: R-beta: standard-errors-glm --- using  str(.) ..
In-Reply-To: <9804050157.AA12714@attunga.stats.adelaide.edu.au> (message from
	Bill Venables on Sun, 5 Apr 1998 11:27:36 +0930)
Message-ID: <199804060840.KAA00540@sophie.ethz.ch>

>>>>> "Bill" == Bill Venables <wvenable at attunga.stats.adelaide.edu.au> writes:

    Bill> Helgi Tomasson writes:
    >> out <- glm(....)  summary(out)

    >> I want to get the standard errors from the output.

    >> SE <- summary(out)$coef[, 2]

    >> How do I get the covariance matrix of the estimates?

    >> summary(out)$covmat

    Bill> If you want several things from the summary it is less
    Bill> computation to create the object once and then extract them.

    >> out <- glm(...)  sout <- summary(out) sout
    Bill>  .  .  .
 
    >> SE <- sout$coef[, 2] Vm <- sout$covmat

    Bill> Also

    >> names(sout)

    Bill> gives a good idea what else is buried in the summary object.
    Bill> Remember that when you print an object you don't necessarily see
    Bill> everything that is there.  (This is a feature, not a bug!)

And to put in my favorite:

In R, (and in S if you get it from Statlib),
you can also use

	str(sout)
	---------  "STRucture of 'sout'"
to show a little more than just the names, but still quite compactly,
especially when called as

	str(sout, give.attr = FALSE, max=1)

E.g. for the Annette Dobson's example from  "?glm" 
(and current "unstable" version 0.62 of R):

> sout <-summary(glm.D93)
> str(sout, give.attr=F, max=1)
List of 17
 $ call          : language glm(formula = counts ~ outcome + treatment, family = poisson())
 $ terms         :Class 'terms' length 3 counts ~ outcome + treatment
 $ family        :List of 11
 $ deviance      : num 5.13
 $ aic           : num 56.8
 $ contrasts     : Named chr [1:2] contr.treatment contr.poly
 $ df.residual   : num 4
 $ null.deviance : num 10.6
 $ df.null       : num 8
 $ iter          : int 2
 $ deviance.resid: num [1:9] -0.671  0.963 -0.170 -0.220 -0.956 ...
 $ aic           : num 56.8
 $ coefficients  : num [1:5, 1:4]  3.04e+00 -4.54e-01 -2.93e-01  1.92e-08  8.38e-09 ...
 $ dispersion    : num 1
 $ df            : num [1:2] 5 4
 $ cov.unscaled  : num [1:5, 1:5]  0.0292 -0.0159 -0.0159 -0.0200 -0.0200 ...
 $ cov.scaled    : num [1:5, 1:5]  0.0292 -0.0159 -0.0159 -0.0200 -0.0200 ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Mon Apr  6 12:20:59 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Mon, 6 Apr 1998 19:50:59 +0930
Subject: R-beta: CI for median in funtion boxplot
In-Reply-To: <199804060821.KAA00495@sophie.ethz.ch>
References: <x2lntlsvip.fsf@blueberry.kubism.ku.dk>
	<199804060821.KAA00495@sophie.ethz.ch>
Message-ID: <9804061020.AA13815@attunga.stats.adelaide.edu.au>

Martin Maechler writes:

 > No, please not yet another definition of the boxplot!  People
 > looking at boxplots should be able to rely on their knowledge
 > of what a boxplot is.

Well you won't get one from me, Martin, but I fear you are too
late to stop that one. 

But why do people still look at boxplots so much, and why do they
spend so much time and technology on them?  It really puzzles me.
With all the good work done in recent years on bandwidth
selection, why don't we communicate this kind of information,
between ourselves at least, with kernel density estimates more?
They could be embellished with a few reference percentiles, of
course, but to me they convey a whole lot more than boxplots.  It
can't be very long before, like pie charts, boxplots are reserved
for politicians, advertising agents and others of their kind.

 > I don't know the exact history; in any case, John Tukey
 > devised the boxplot, including the notches, and ``1.58 is THE
 > number''.

...

 > ----------
 > PS: Should the above go into the online documentation?

Purely in the interests of keeping it short, I suggest not.

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr  6 12:34:31 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Apr 1998 12:34:31 +0200
Subject: R-beta: matrix multiplication not Fortran
In-Reply-To: Jim Lindsey's message of Mon, 6 Apr 1998 09:00:28 +0200 (MET DST)
References: <9804060700.AA25608@alpha.luc.ac.be>
Message-ID: <x2d8ev6xxk.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

>   In fact, my library functions calling Fortran all happen to use the
> %o% operator as well whereas the C ones that I tried do not. The
> problem is multiplication of 1x1 matrices not Fortran.
> Try 1%o%1 or

Crashes here too. Goody! That means it should actually be possible to
find and fix it fairly easily. But we probably need to plan for a
0.61.3 release.

> 2. A second problem with Redhat 5: ctrl-C does not work (same as with
> Redhat 4.1). This time, it apparently is not the readline library. I
> compiled without it and the problem persists: one ctrl-C and then it
> no longer works. Has anyone any idea what library has the bug? Thanks.

Hmm. I think I've heard that one before. Personally, I'm staying on
libc5 until they've hashed out most of the libc6 problems, so I can't
debug it. It sounds a bit like the old BSD/SYSV difference where the
latter had one-shot signal handlers that had to "recharge" themselves
every time. 

However, all the 
	setjmp(R_Toplevel.cjmpbuf);
seem to be properly followed by
	signal(SIGINT, onintr);

The RedHat website contain references to a rather large number of
glibc fixes. The last one says:

(01-Apr-1998) New glibc packages are available now on the ftp site.
These new packages fix (finally!) the problems in the dynamic loader
code. Applications compiled for glibc using a lot of shared objects
should now work reliably under glibc. Also various fixes to the
sigprocmask handlers are in place.

Anyone checked this with Debian-pre2.0?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Mon Apr  6 15:14:45 1998
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Mon, 06 Apr 1998 14:14:45 +0100 (BST)
Subject: R-beta: CI for median in funtion boxplot
In-Reply-To: <9804061020.AA13815@attunga.stats.adelaide.edu.au>
Message-ID: <XFMail.980406141445.Ted.Harding@nessie.mcc.ac.uk>

On 06-Apr-98 Bill Venables wrote:
> 
> But why do people still look at boxplots so much, and why do they
> spend so much time and technology on them?  It really puzzles me.
> With all the good work done in recent years on bandwidth
> selection, why don't we communicate this kind of information,
> between ourselves at least, with kernel density estimates more?
> They could be embellished with a few reference percentiles, of
> course, but to me they convey a whole lot more than boxplots.  It
> can't be very long before, like pie charts, boxplots are reserved
> for politicians, advertising agents and others of their kind.
> 
>  > I don't know the exact history; in any case, John Tukey
>  > devised the boxplot, including the notches, and ``1.58 is THE
>  > number''.

Like many early Tukey schemes, the boxplot was devised in days when most people
only had line-printer output readily available. If you think about it, the
boxplot can be drawn (to within character-width resolution) using basic ASCII
symbols like - + | on a lineprinter/dumb terminal. "Experimental Data Analysis
was written in 1976! The same is true for stem-and-leaf diagrams and the like.
And very effective, too, for that medium.

Tukey's graphical tricks were, for many people, the first experience they had
of the comprehensible display of statistical summary data and I remember the
furious eagerness with which they were accepted in groups whom more academic
statisticians had previously regarded as, for practical purposes, out of reach;
and tribute must be paid to pioneering teachers like the late Cathie Marsh who
saw these methods as the bridge by which true understanding of data could be
brought to them.

As to why people still look at them, well, <cynical>old habits die hard, and
something which works to your satisfaction is a better ploy than adapting to
something new which may require unknown effort which you are not sure might be
well spent</cynical>, but Bill's point, essentially that modern display
technology can greatly improve on this without stressing the learner, seems
good. (I still wonder a bit, though, whether someone used to a boxplot would
readily derive the same information from a kernel density estimate without
considerable practice).

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 06-Apr-98                                       Time: 14:14:45
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Apr  6 16:31:46 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Apr 1998 09:31:46 -0500
Subject: R-beta: matrix multiplication not Fortran
In-Reply-To: Peter Dalgaard BSA's message of "06 Apr 1998 12:34:31 +0200"
References: <9804060700.AA25608@alpha.luc.ac.be> <x2d8ev6xxk.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rg1jrt419.fsf@verdi.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Anyone checked this with Debian-pre2.0?

Both problems ( 1 %o% 1 crashing and ctrl^C not interrupting on second
and subsequent uses ) also occur on a Debian-2.0 system using 0.61.2.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tsioltas at cs.keele.ac.uk  Tue Apr  7 04:30:33 1998
From: tsioltas at cs.keele.ac.uk (A. Tsiolakidis)
Date: Tue, 07 Apr 1998 03:30:33 +0100
Subject: R-beta: spline problems(?)
Message-ID: <35298FC9.70AA@cs.keele.ac.uk>

Hi,

I am a total beginner with this whole thing so please have patience!

I am trying to run an S-plus program with a certain line:
	spline(1:nrow(y), y[,1],n=100);

This crashes with:
	Error: NAs in foreign function call (arg 8)

Apparently, this is caused by the last command of spline:
	u <- seq(xmin, xmax, length.out = n)
        .C("spline_eval", z$method, length(u), x = u, y = double(n), 
                z$n, z$x, z$y, z$b, z$c, z$d)[c("x", "y")]
}

Now, I can cause that error with: spline(1:10,1:10)
So, there  is a whole class of problems for which spline refuses to
compute anything - is this the correct behaviour? E.g.,
	spline(1:10,(1:10)/2.5) #it is alright, but ...
	spline(1:10,(1:10)/2)   # this has the "NAs.." problem

Finally, I am almost sure that the y matrix in my program has quite
normal values, i.e. values that should allow for meaningful
interpolation.
Anybody knows what this all is about?

Thanks,

Tasos T.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Apr  7 04:47:32 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Apr 1998 21:47:32 -0500
Subject: R-beta: spline problems(?)
In-Reply-To: "A. Tsiolakidis"'s message of "Tue, 07 Apr 1998 03:30:33 +0100"
References: <35298FC9.70AA@cs.keele.ac.uk>
Message-ID: <6remzamjp7.fsf@verdi.stat.wisc.edu>

"A. Tsiolakidis" <tsioltas at cs.keele.ac.uk> writes:

> I am a total beginner with this whole thing so please have patience!
> 
> I am trying to run an S-plus program with a certain line:
> 	spline(1:nrow(y), y[,1],n=100);
> 
> This crashes with:
> 	Error: NAs in foreign function call (arg 8)
> 
> Apparently, this is caused by the last command of spline:
> 	u <- seq(xmin, xmax, length.out = n)
>         .C("spline_eval", z$method, length(u), x = u, y = double(n), 
>                 z$n, z$x, z$y, z$b, z$c, z$d)[c("x", "y")]
> }
> 
> Now, I can cause that error with: spline(1:10,1:10)
> So, there  is a whole class of problems for which spline refuses to
> compute anything - is this the correct behaviour? E.g.,
> 	spline(1:10,(1:10)/2.5) #it is alright, but ...
> 	spline(1:10,(1:10)/2)   # this has the "NAs.." problem
> 
> Finally, I am almost sure that the y matrix in my program has quite
> normal values, i.e. values that should allow for meaningful
> interpolation.
> Anybody knows what this all is about?

If you have the splines library installed, could you try the same
problem using interpSpline instead of spline?  The sequence for the
1:10, 1:10 example looks like
 R> library(splines)
 R> ttt <- interpSpline(y ~ x, data.frame(x = 1:10, y = 1:10) )
 R> ttt
 polynomial representation of spline for y ~ x
    constant linear   quadratic       cubic
  1        1      1  0.0000e+00 -3.3307e-16
  2        2      1 -9.9920e-16  9.9920e-16
  3        3      1  1.9984e-15 -1.4063e-15
  4        4      1 -2.2204e-15  7.4015e-16
  5        5      1  0.0000e+00  8.8818e-16
  6        6      1  2.6645e-15 -1.7764e-15
  7        7      1 -2.6645e-15  8.8818e-16
  8        8      1  0.0000e+00  8.8818e-16
  9        9      1  2.6645e-15 -8.8818e-16
 10       10      1  0.0000e+00 -8.8818e-16
 R> plot( ttt )  # produces a nice straight line plot.
 R> predict( ttt )
 $x
  [1]  1.00  1.18  1.36  1.54  1.72  1.90  2.08  2.26  2.44  2.62
 [11]  2.80  2.98  3.16  3.34  3.52  3.70  3.88  4.06  4.24  4.42
 [21]  4.60  4.78  4.96  5.14  5.32  5.50  5.68  5.86  6.04  6.22
 [31]  6.40  6.58  6.76  6.94  7.12  7.30  7.48  7.66  7.84  8.02
 [41]  8.20  8.38  8.56  8.74  8.92  9.10  9.28  9.46  9.64  9.82
 [51] 10.00

 $y
  [1]  1.00  1.18  1.36  1.54  1.72  1.90  2.08  2.26  2.44  2.62
 [11]  2.80  2.98  3.16  3.34  3.52  3.70  3.88  4.06  4.24  4.42
 [21]  4.60  4.78  4.96  5.14  5.32  5.50  5.68  5.86  6.04  6.22
 [31]  6.40  6.58  6.76  6.94  7.12  7.30  7.48  7.66  7.84  8.02
 [41]  8.20  8.38  8.56  8.74  8.92  9.10  9.28  9.46  9.64  9.82
 [51] 10.00

 attr(,"class")
 [1] "xyVector"
 R> predict( ttt, len = 100 )
 Error in predict.npolySpline(ttt, len = 100) : unused argument to function
 R> predict( ttt, nseg = 100 )
 $x
   [1]  1.00  1.09  1.18  1.27  1.36  1.45  1.54  1.63  1.72  1.81
  [11]  1.90  1.99  2.08  2.17  2.26  2.35  2.44  2.53  2.62  2.71
  [21]  2.80  2.89  2.98  3.07  3.16  3.25  3.34  3.43  3.52  3.61
  [31]  3.70  3.79  3.88  3.97  4.06  4.15  4.24  4.33  4.42  4.51
  [41]  4.60  4.69  4.78  4.87  4.96  5.05  5.14  5.23  5.32  5.41
  [51]  5.50  5.59  5.68  5.77  5.86  5.95  6.04  6.13  6.22  6.31
  [61]  6.40  6.49  6.58  6.67  6.76  6.85  6.94  7.03  7.12  7.21
  [71]  7.30  7.39  7.48  7.57  7.66  7.75  7.84  7.93  8.02  8.11
  [81]  8.20  8.29  8.38  8.47  8.56  8.65  8.74  8.83  8.92  9.01
  [91]  9.10  9.19  9.28  9.37  9.46  9.55  9.64  9.73  9.82  9.91
 [101] 10.00

 $y
   [1]  1.00  1.09  1.18  1.27  1.36  1.45  1.54  1.63  1.72  1.81
  [11]  1.90  1.99  2.08  2.17  2.26  2.35  2.44  2.53  2.62  2.71
  [21]  2.80  2.89  2.98  3.07  3.16  3.25  3.34  3.43  3.52  3.61
  [31]  3.70  3.79  3.88  3.97  4.06  4.15  4.24  4.33  4.42  4.51
  [41]  4.60  4.69  4.78  4.87  4.96  5.05  5.14  5.23  5.32  5.41
  [51]  5.50  5.59  5.68  5.77  5.86  5.95  6.04  6.13  6.22  6.31
  [61]  6.40  6.49  6.58  6.67  6.76  6.85  6.94  7.03  7.12  7.21
  [71]  7.30  7.39  7.48  7.57  7.66  7.75  7.84  7.93  8.02  8.11
  [81]  8.20  8.29  8.38  8.47  8.56  8.65  8.74  8.83  8.92  9.01
  [91]  9.10  9.19  9.28  9.37  9.46  9.55  9.64  9.73  9.82  9.91
 [101] 10.00

 attr(,"class")
 [1] "xyVector"

The splines library is available in the src/contrib section of any of
the CRAN archives.  The master CRAN site is
	      http://www.ci.tuwien.ac.at/R/contents.html
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Apr  7 06:43:48 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 7 Apr 1998 16:43:48 +1200 (NZST)
Subject: R-beta: spline problems(?)
In-Reply-To: <35298FC9.70AA@cs.keele.ac.uk>
References: <35298FC9.70AA@cs.keele.ac.uk>
Message-ID: <199804070443.QAA12349@stat1.stat.auckland.ac.nz>

A. Tsiolakidis writes:
 > Hi,
 > 
 > I am a total beginner with this whole thing so please have patience!
 > 
 > I am trying to run an S-plus program with a certain line:
 > 	spline(1:nrow(y), y[,1],n=100);
 > 
 > This crashes with:
 > 	Error: NAs in foreign function call (arg 8)

You have uncovered an error in the underlying spline code.
I think its related to the fact that you are fitting a curve
through points on a straight line.  I'll have a look.

Other cases look ok.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Tue Apr  7 08:54:06 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 7 Apr 1998 08:54:06 +0200 (MET DST)
Subject: R-beta: spline problems(?)
In-Reply-To: <35298FC9.70AA@cs.keele.ac.uk> from "A. Tsiolakidis" at Apr 7, 98 03:30:33 am
Message-ID: <9804070654.AA08451@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1964 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980407/89e160f9/attachment.pl

From maechler at stat.math.ethz.ch  Tue Apr  7 09:54:40 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 7 Apr 1998 09:54:40 +0200
Subject: R-beta: spline problems(?)
In-Reply-To: <9804070654.AA08451@alpha.luc.ac.be> (message from Jim Lindsey on
	Tue, 7 Apr 1998 08:54:06 +0200 (MET DST))
Message-ID: <199804070754.JAA00502@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:

    Jim> I suspect that this is a problem that I pointed out some time ago
    Jim> with integers. seq and : produce integers and the C code of spline
    Jim> is expected doubles. Try as.double() around your 1:nrow(y) and
    Jim> seq() calls to see if the problem goes away.  Jim

Jim, this was exactly my own first suspicion, also.
But it's wrong.

spline(.) uses  xy.coord(.)  
	[[a very useful thing!  use it in your own functions!!]]
and xy.coord(.)
ends in
        return(list(x = as.real(x), y = as.real(y), xlab = xlab, 
                ylab = ylab))

which ensures that integers are coerced to real (== double in R).

It must be rather another problem, as  Ross already mentioned,
and is investigating himself.

Martin

    Tasos>  Hi,
    Tasos> 
    Tasos> I am a total beginner with this whole thing so please have patience!
    Tasos> 
    Tasos> I am trying to run an S-plus program with a certain line:
    Tasos> spline(1:nrow(y), y[,1],n=100);
    Tasos> 
    Tasos> This crashes with: Error: NAs in foreign function call (arg 8)
    Tasos> 
    Tasos> Apparently, this is caused by the last command of spline: u <-
    Tasos> seq(xmin, xmax, length.out = n) .C("spline_eval", z$method,
    Tasos> length(u), x = u, y = double(n), z$n, z$x, z$y, z$b, z$c,
    Tasos> z$d)[c("x", "y")] }
    Tasos> 
    Tasos> Now, I can cause that error with: spline(1:10,1:10) So, there is a
    Tasos> whole class of problems for which spline refuses to compute anything
    Tasos> - is this the correct behaviour? E.g., spline(1:10,(1:10)/2.5) #it
    Tasos> is alright, but ...  spline(1:10,(1:10)/2) # this has the "NAs.."
    Tasos> problem
    Tasos> 
    Tasos> Finally, I am almost sure that the y matrix in my program has quite
    Tasos> normal values, i.e. values that should allow for meaningful
    Tasos> interpolation.  Anybody knows what this all is about?
    Tasos> 
    Tasos> Thanks,
    Tasos> 
    Tasos> Tasos T.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr  7 12:17:07 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Apr 1998 12:17:07 +0200
Subject: R-beta: matrix multiplication not Fortran
In-Reply-To: Douglas Bates's message of 06 Apr 1998 09:31:46 -0500
References: <9804060700.AA25608@alpha.luc.ac.be>
	<x2d8ev6xxk.fsf@blueberry.kubism.ku.dk>
	<6rg1jrt419.fsf@verdi.stat.wisc.edu>
Message-ID: <x21zva7x7g.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> 
> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
> > Anyone checked this with Debian-pre2.0?
> 
> Both problems ( 1 %o% 1 crashing and ctrl^C not interrupting on second
> and subsequent uses ) also occur on a Debian-2.0 system using 0.61.2.

The ^C problem is not there in RedHat4.2. It must be glibc-related.
Perhaps one should dig deeper into it and report is as a bug in Debian
before it gets released? Or at least check whether it has already been
reported? It should be fairly easy to write a generic test program to
see whether this kind of signal handling works at all.

The 1%o%1 problem boils down to

m<-matrix(1)
m*m
...segfault

apparently, the $dim attribute on scalars can get lost somewhere
before the matrices are tested for conformability. Now, the
conformable() function uses the LENGTH macro to extract the length of
its arguments, but this doesn't work on NULL where you get random
garbage instead of zero! A passable workaround seems to be to replace
"LENGTH" with "length", which is a function that knows about NULL. 

I'm not sure whether that is a correct fix ($dim is still lost on the
result) but it doesn't crash anymore:

> m<-matrix(1)
> m*m
[1] 1
> m%o%m
     [,1]
[1,]    1

I'm too lazy to make a true patch, but line 316 of src/main/util.c
should read:

           if ((n = length(x)) != length(y))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Apr  7 10:58:47 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 7 Apr 1998 20:58:47 +1200 (NZST)
Subject: R-beta: spline problems(?)
Message-ID: <199804070858.UAA16708@stat1.stat.auckland.ac.nz>

> From: Martin Maechler <maechler at stat.math.ethz.ch>
> Subject: Re: R-beta: spline problems(?)
> Mime-Version: 1.0 (generated by tm-edit 7.95)
?
> >>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:
>
>     Jim> I suspect that this is a problem that I pointed out some time ago
>     Jim> with integers. seq and : produce integers and the C code of spline
>     Jim> is expected doubles. Try as.double() around your 1:nrow(y) and
>     Jim> seq() calls to see if the problem goes away.  Jim

> Jim, this was exactly my own first suspicion, also.
> But it's wrong.

My first reaction also, but it seems that the problem is in the
underlying code.  Which is disapointing as it from the book by
Forsythe, Malcolm and Moler which generally has pretty good code in
it.  Unfortunately, I don't have my book at home, so I can't have a
look at it until tomorrow.

The problem is that there is a divide by zero in the computation of the
coefficients producing Inf, and it is this which causes the message
about NAs (I'll fix the message too :-).

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmortz at snake1.cr.usgs.gov  Tue Apr  7 13:07:42 1998
From: jmortz at snake1.cr.usgs.gov (Joe Mortzheim)
Date: Tue, 7 Apr 1998 07:07:42 -0400
Subject: R-beta: Memory requirement in Win NT
Message-ID: <01BD61F3.DC08BFB0@BIAEM33>

I generally use S+ but have been dismayed by it's slow operation and memory hogging.  I recently downloaded R and was hoping my memory problems were over.  To the contrary, R seems to run out of memory almost immediately; particularly during read.table().

I tried to change the arguments on startup of R, for example:

	R -n200000 -v20

However, I get an error:

	The instruction at "0x0008001f" referenced memory at "0x0008001f".  The memory could not be "read"

I get this error regardless of the values I use for -n or -v and I get the error if I try to use either the -n OR the -v arguments.

What gives?  It's enough to make me switch to SAS or (God forbid!) begin longing for a Microsoft product.

I have a Pentium 166 with 64 Megs of RAM and I'm running Windows NT.  Surely this is enough computational power if only I could tell R to use more resources than it starts with as default?  I would rather not go through the hassle of breaking down a read.table() command into a bunch of scan() commands or break up my dataset into multiple files.  I can load the same dataset with read.table() using S+ on this machine, it just takes forever.

I certainly appreciate any help.  Please respond to jmortz at snake1.cr.usgs.gov as well as the mailing list.

Thanks in advance for the advice.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Apr  7 21:56:02 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 8 Apr 1998 07:56:02 +1200 (NZST)
Subject: R-beta: Memory requirement in Win NT
Message-ID: <199804071956.HAA24233@stat1.stat.auckland.ac.nz>

The windows versions are very experimental at this point.  All development
takes place in Unix and we don't know much about M$.

The memory problems are know and are being worked on.  There will
be improvement come 1.0.

If you are reading numerical-only data try using scan() rather than
read.table().  read.table() is implemented in a very memory hungry
fashion.

In the mean-time I guess we'll have to refund your money :-)

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Fri Apr 10 17:39:30 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Fri, 10 Apr 1998 10:39:30 -0500 (CDT)
Subject: R-beta: get index numbers of vector?
Message-ID: <Pine.OSF.3.95.980410102921.22823A-100000@io.uwinnipeg.ca>

I have ordered x,y data. Suppose I have
y<-c(1,2,3,4,5,6,5,4,3,2,1)
x<-c(.1,.2,.3,.4,.5,.6,.7,.8,.9,1.0,1.1)

I want a function left(y,3) which returns the index of the first y value
>3.
left(y,3)
4
And a similar one,
right(y,3)
8
(The basic idea is I want the left and right edge of a bump
where it is sliced at some y-level.  But I want the index numbers)

I can't figure out how to get the index numbers.
y[y>3]
gives me
4 5 6 5 4

Thanks very much for any help!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr 10 18:01:14 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 10 Apr 1998 09:01:14 -0700 (PDT)
Subject: R-beta: get index numbers of vector?
In-Reply-To: <Pine.OSF.3.95.980410102921.22823A-100000@io.uwinnipeg.ca>
Message-ID: <Pine.SUN.3.95.980410085343.18885A-100000@chekov>

On Fri, 10 Apr 1998, Bill Simpson wrote:

> I have ordered x,y data. Suppose I have
> y<-c(1,2,3,4,5,6,5,4,3,2,1)
> x<-c(.1,.2,.3,.4,.5,.6,.7,.8,.9,1.0,1.1)
> 
> I want a function left(y,3) which returns the index of the first y value
> >3.

left<-function(xs,x){
	n<-length(xs)
	min( (1:n)[xs>x])
}

right<-function(xs,x){
	n<-length(xs)
	n+1-left(xs[n:1],x)
}

These return NA if no such value exists. 


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Sun Apr 12 09:50:18 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Sun, 12 Apr 1998 17:20:18 +0930
Subject: R-beta: S Compatibility (again)
Message-ID: <9804120750.AA22905@attunga.stats.adelaide.edu.au>

While I think total compatibility is not possible or even very
important I have become aware recently of some fairly low level
incompatibilities that have rather serious consequences for
interchange between systems.  Some of these are possibly well
known, but I put them on on record here just in case.  (I do not
expect any action on these, of course, but people may want to
note them, and correct me if I'm wrong.)

1. If you need to deal with non-printable characters in S you
   can use numeric escape sequences such as "\001" for "^A"
   (control-A) and when such characters occur in dumped objects
   they become these numeric escapes.

   R neither reads nor generates numeric escape sequences, (with
   the possible exception of the weirdo "\300" above, which it
   cannot read, of course).

   When an object containing non-printable character components
   is dumped in R those characters are dumped literally, except
   for \007 to \015, which have alpha escape sequences:
R:

> ascii[8:14]
[1] "\a" "\b" "\t" "\n" "\v" "\f" "\r"

   In S only some of these alpha escape sequences are recognised
   or generated:

S:

> ascii[8:14]
[1] "\007" "\b" "\t" "\n" "\013" "\014" "\r"

   Thus "\a" reads as \007 (bel) in R but as "a" in S.  Also
   "\007" in a dump file reads as ^G (control-G) in S, but as
   "007" (a 3-character string) in R.

   I think S has the better convention since dump files are in
   printable ascii and so not so susceptable to email
   transmission problems.  R dump files should be treated as
   binaries and alpha encoded.
   
   Curiously S can almost read R dump files but not conversely.
   The place where S fails is when R generates an "\a", "\v" or
   "\f"; literal control characters are readable by S as well as
   numeric escape sequences.

2. substring(...., first = 0, ...) is not the same.

R:                                 S:                            
				                                 
> n				   > n                           
[1] ""  "a" "b" "c"		   [1] ""  "a" "b" "c"           
> nchar(n)			   > nchar(n)                    
[1] 0 1 1 1			   [1] 0 1 1 1                   
> substring(n, 0, nchar(n))	   > substring(n, 0, nchar(n))   
[1] "@" ""  ""  "" 		   [1] ""  "a" "b" "c"           
> substring(n, 1, nchar(n))	   > substring(n, 1, nchar(n))   
[1] ""  "a" "b" "c"		   [1] ""  "a" "b" "c"           

3. Language manipulation within R seems to be impossible.  I
   realise this may be a design limitation that nobody can do
   anything about, but it may be worth noting.

   To be more specific, the R substitute() is much more limited
   than the S version and coercion to mode "{", "call" or
   "function" are unavailable, and function objects are not
   subsetable.  as.call is useless and as.function only exists to
   issue a rather tetchy error message.

   For example, as far as I can see it is impossible to write a
   version of the S function deriv() for R, short of getting down
   to brass tacks and writing a new primitive into the base code,
   but even then you can't extend it, of course.

4. I miss find() and data.dump() in R very badly, and the
   curiously different argument sequence for objects() is
   disconcerting to someone who has to use both systems.

Bill

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Sun Apr 12 16:36:17 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Mon, 13 Apr 1998 00:06:17 +0930
Subject: R-beta: Re: S Compatibility (again)
In-Reply-To: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
References: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
Message-ID: <9804121436.AA23034@attunga.stats.adelaide.edu.au>

More for the record.  structure() does not coerce on one but does
on the other.

Consider changing a character matrix to numeric, keeping all
other attributes:

R:					  S:

> x <- matrix(paste(1:9), 3, 3)           > x <- matrix(paste(1:9), 3, 3)
> x                                       > x
     [,1] [,2] [,3]                            [,1] [,2] [,3]
[1,] "1"  "4"  "7"                        [1,] "1"  "4"  "7"
[2,] "2"  "5"  "8"                        [2,] "2"  "5"  "8"
[3,] "3"  "6"  "9"                        [3,] "3"  "6"  "9"

The obvious way fails on both systems, destroying dim attributes
(which may be a feature):

> as.numeric(x)                           > as.numeric(x)
[1] 1 2 3 4 5 6 7 8 9                     [1] 1 2 3 4 5 6 7 8 9

Using "mode<-" works on both:

> y <- x                                  > y <- x               
> mode(y) <- "numeric"			  > mode(y) <- "numeric" 
> y                    			  > y
     [,1] [,2] [,3]                             [,1] [,2] [,3]
[1,]    1    4    7                       [1,]    1    4    7
[2,]    2    5    8                       [2,]    2    5    8
[3,]    3    6    9                       [3,]    3    6    9

Using structure() fails on R (in an odd way) but works on S:

> structure(x, mode="numeric")            > structure(x, mode="numeric")
    [,1] [,2] [,3]                             [,1] [,2] [,3]
[1,] "1"  "4"  "7"                        [1,]    1    4    7
[2,] "2"  "5"  "8"                        [2,]    2    5    8
[3,] "3"  "6"  "9"                        [3,]    3    6    9
attr(,"mode")
[1] "numeric"

Finally note that assigning to the `open bracket' form does a
coercion on both.  (This is a standard way of hanging on to dim
and dimnames attributes in assignments, but it keeps "mode" as
well, so can't be used for this job.) 

> x[] <- 0:8                              > x[] <- 0:8
> x                                       > x
     [,1] [,2] [,3]                            [,1] [,2] [,3]
[1,] "0"  "3"  "6"                        [1,] "0"  "3"  "6"
[2,] "1"  "4"  "7"                        [2,] "1"  "4"  "7"
[3,] "2"  "5"  "8"                        [3,] "2"  "5"  "8"
>                                         >

Bill.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Apr 12 18:59:38 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 12 Apr 1998 09:59:38 -0700 (PDT)
Subject: R-beta: S Compatibility (again)
In-Reply-To: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
Message-ID: <Pine.LNX.3.96.980412094924.517B-100000@buffy>

On Sun, 12 Apr 1998, Bill Venables wrote:
> 
> 3. Language manipulation within R seems to be impossible.  I
>    realise this may be a design limitation that nobody can do
>    anything about, but it may be worth noting.
> 
>    To be more specific, the R substitute() is much more limited
>    than the S version and coercion to mode "{", "call" or
>    "function" are unavailable, and function objects are not
>    subsetable.  as.call is useless and as.function only exists to
>    issue a rather tetchy error message.
> 
>    For example, as far as I can see it is impossible to write a
>    version of the S function deriv() for R, short of getting down
>    to brass tacks and writing a new primitive into the base code,
>    but even then you can't extend it, of course.

While language manipulation is much more limited than in S, you probably
could write a version of deriv() (if it didn't already exist) since
expressions can be manipulated quite well.

eg
R> a
expression(sin(cos(x + 1)))
R> a[[1]]
sin(cos(x + 1))
R> a[[1]][[1]]
sin
R> a[[1]][[2]]
cos(x + 1)
R> a[[1]][[2]][[2]]
x + 1
R> a[[1]][[2]][[2]][[1]]
+
R> a[[1]][[2]][[2]][[2]]
x
R> a[[1]][[2]][[2]][[3]]
[1] 1
R> a[[1]][[1]]<-as.name("cos")
R> a
expression(cos(cos(x + 1)))


Thomas Lumley
------------------------
Biostatistics		
Uni of Washington	
Box 357232		
Seattle WA 98195-7232	
------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr 12 21:17:03 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Apr 1998 21:17:03 +0200
Subject: R-beta: S Compatibility (again)
In-Reply-To: Bill Venables's message of Sun, 12 Apr 1998 17:20:18 +0930
References: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
Message-ID: <x2vhseg89c.fsf@blueberry.kubism.ku.dk>

Bill Venables <wvenable at attunga.stats.adelaide.edu.au> writes:

> While I think total compatibility is not possible or even very
> important

- or desirable... Part of the incentive for R was to try to avoid some
of the design problems of S, so we don't want to go to the extremes of
cloning everything! We try to be compatible in little things, though,
even when S seems quirky.

>    I think S has the better convention since dump files are in
>    printable ascii and so not so susceptable to email
>    transmission problems.  R dump files should be treated as
>    binaries and alpha encoded.

Agreed. Note however, that complete dump/restore compatibility is
probably not to be expected unless the internal representation of
everything is the same.

> 2. substring(...., first = 0, ...) is not the same.
> 
> R:                                 S:                            
> 				                                 
> > n				   > n                           
> [1] ""  "a" "b" "c"		   [1] ""  "a" "b" "c"           
> > nchar(n)			   > nchar(n)                    
> [1] 0 1 1 1			   [1] 0 1 1 1                   
> > substring(n, 0, nchar(n))	   > substring(n, 0, nchar(n))   
> [1] "@" ""  ""  "" 		   [1] ""  "a" "b" "c"           
> > substring(n, 1, nchar(n))	   > substring(n, 1, nchar(n))   
> [1] ""  "a" "b" "c"		   [1] ""  "a" "b" "c"           

Should get fixed - or R should protest about an invalid argument. If
for nothing else, then because

> substring(n, -2000, nchar(n))
Segmentation fault (core dumped)

(Current devel. snapshot, but most likely the same in the other
versions.) 

> 3. Language manipulation within R seems to be impossible.  I
>    realise this may be a design limitation that nobody can do
>    anything about, but it may be worth noting.
> 
>    To be more specific, the R substitute() is much more limited
>    than the S version and coercion to mode "{", "call" or
>    "function" are unavailable, and function objects are not
>    subsetable.  as.call is useless and as.function only exists to
>    issue a rather tetchy error message.

As Thomas already noted, you can in fact do a substantial amount of
expression manipulation, but some things aren't quite the same as in
S. It might be useful if you could provide some examples of things
that (you think) can be done in S but not in R. 

> 4. I miss find() and data.dump() in R very badly, and the
>    curiously different argument sequence for objects() is
>    disconcerting to someone who has to use both systems.

You're not alone there, certainly. 

Find() is probably fairly simple to write, either as an interpreted
function or by copying code from .Internal(get(...)) which needs to
search along the same path anyway.

Data.dump() has been on several peoples wishlist for a while - as far
as I can see, it's simply an efficient representation of the output of
dput(), so again most likely fairly easy, once someone finds the time
to sit down with a sample dump file and do the actual coding.

Objects(), however, owes some of its differences from S to the
different scoping rules, so I suspect that it can never have the same
semantics. We *do* need to do a better writeup on how these things
works (or should work ;) ) though, some of it is currently only poorly
understood by members of the core group...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Mon Apr 13 05:11:59 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Mon, 13 Apr 1998 12:41:59 +0930
Subject: R-beta: S Compatibility (again)
In-Reply-To: <Pine.LNX.3.96.980412094924.517B-100000@buffy>
References: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
	<Pine.LNX.3.96.980412094924.517B-100000@buffy>
Message-ID: <9804130311.AA23184@attunga.stats.adelaide.edu.au>

My thanks to Thomas and Peter for their rapid responses to my
note.  I wish to make it clear I am not complaining but simply
trying to sort out the compatibility situation.  It helps if you
wish to know what projects are possible in R and which are not.

With that in mind, let me offer a few definitely non-complaining
replies...

Thomas Lumley writes:
 > On Sun, 12 Apr 1998, Bill Venables wrote:
 > > 
 > > 3. Language manipulation within R seems to be impossible.

That's too strong and I withdraw.

 > > 
 > >    To be more specific, the R substitute() is much more
 > >    limited than the S version and coercion to mode "{",
 > >    "call" or "function" are unavailable, and function
 > >    objects are not subsetable [and hence not modifiable].

That still stands, though.

 > >    For example, as far as I can see it is impossible to
 > >    write a version of the S function deriv() for R, short of
 > >    getting down to brass tacks and writing a new primitive
 > >    into the base code, but even then you can't extend it, of
 > >    course.

To my surprise there is indeed a deriv() in R as Thomas points
out, which works well and very fast, but it is as I said it would
have to be, a new primitive (D, in fact; deriv is an .Internal)
and it does suffer the limitation I feared, that you cannot
extend it short of re-writing the C code.  If I want to find a
derivative of an expression involving, for example, something as
common as pnorm or dnorm, -->||| (brick wall).  OK, it's possible
to use Maple, &c &c, but R seems like it is tantalizingly close.

<aside>
Even the way deriv is handled in S is also quite clumsy and
difficult to extend, but it is possible (and a certain notorious
yellow book gives hints on how to do so).  It seems to me that a
far better and more `object oriented' way of handling it would
have been to allow users to write functions of class
"differentiable", say, with a "deriv" attribute which would give
the code fragments necessary for handling the symbolic
differentiation operation.  This would allow relatively easy and
non-invasive user extensbility and instead of the gigantic switch
statements (or case statements in the C code) the problem would
effectively be handled by method dispatch.  [My suspicion now is
that every time I see a big case or switch statement I am looking
at pre-OOP code, (or "OOPs-a-daisy" code as we used to call it,
heh heh...)]
</aside>

 > While language manipulation is much more limited than in S,
 > you probably could write a version of deriv() (if it didn't
 > already exist) since expressions can be manipulated quite
 > well.

The main problems are that substitute() is not a general
substitution tool as it is in S, and while expressions can be
manipulated, functions it seems cannot.  deriv can build a
function but you can't.  The following is pretty uncompromising:

> as.function
function (x) 
stop("mode function cannot be assigned")

Without functions you really have not made an object that can be
called part of the language, in my view.  It's a big limitation.
(See below for some specifics.)

Peter Dalgaard writes:
 > Bill Venables <wvenable at stats.adelaide.edu.au> writes:
 > 
 > > R:                                 S:                            
 > > 				                                 
 > > > substring(n, 0, nchar(n))	   > substring(n, 0, nchar(n))   
 > > [1] "@" ""  ""  "" 		   [1] ""  "a" "b" "c"           

What you see here is email transmission damage.  You don't get
"@" but "\300".

 > Should get fixed - or R should protest about an invalid
 > argument.  If for nothing else, then because
 > 
 > > substring(n, -2000, nchar(n))
 > Segmentation fault (core dumped)

A much more cogent argument.  

However what is the status of "" (nul) as a 'character'?  Is the
S version itself completely consistent?  What would you expect to
happen in response to substring("", 1, 0)?  These are not
rhetorical questions, I just don't know.

 > (Current devel. snapshot, but most likely the same in the other
 > versions.) 

It is, at least on old Linux machines.

 > > 3. Language manipulation within R seems to be impossible.  I
...
 > As Thomas already noted, you can in fact do a substantial
 > amount of expression manipulation, but some things aren't
 > quite the same as in S.  It might be useful if you could
 > provide some examples of things that (you think) can be done
 > in S but not in R.

Here is a cute example of what can be done in S but not in R.
Make a function for the pdf of an order statistic.

> pdf.order <- function(n, r, pfun, dfun) {
  con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  substitute(
    function(x) {
      Fx <- p(x)
      K*Fx^r1*(1 - Fx)^nr*f(x)
    }, 
    list(p = substitute(pfun), f = substitute(dfun), 
         r1 = r-1, nr = n-r, K = con)
  )
}
> pdf.order(9, 5, pnorm, dnorm)
function(x)
{
        Fx <- pnorm(x)
        630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
}

The substitute()s to get unevaluated arguments do work but the
one to modify the function definitely does not.  substitute() is
a very different kind of function in R from what it is in S.

More seriously, though, I learned of this while trying to port my
function glm.nb, a negative binomial model fitting function from
S to R.  It uses substitute() like this in quite a fundamental
way within an iteration and as far as I can see that method
simply cannot be emulated in R because of the impossibility of
modifying functions.  Domage.

 > Data.dump() has been on several peoples wishlist for a while -
 > as far as I can see, it's simply an efficient representation
 > of the output of dput(), so again most likely fairly easy,
 > once someone finds the time to sit down with a sample dump
 > file and do the actual coding.

I agree it does not seem like it should be too difficult.  It is
very important, though, since it allows transfer of objects
between systems that does not have to be parsed as it is read,
and for which the backout required is only very limited.

Can I make the plea, though, that when someone does get round to
looking at it, that the result be fully compatible with S,
including the representation of non-printable characters in a
printable (and hence emailable) form?  This should really be a
fundamental part of the design specification.  Data transfer and
elementary object transfer between R and S should be a smooth
operation and data.dump and data.restore are all about efficint,
portable transfer.

 > Objects(), however, owes some of its differences from S to the
 > different scoping rules, so I suspect that it can never have
 > the same semantics.

You may be right but frankly this surprises me.  Both systems
have a search path but objects(2) in S has to be written
objects(pos=2) in R.  I don't think that has much to do with
scoping.

Regards,
Bill

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 13 12:39:14 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 1998 12:39:14 +0200
Subject: R-beta: S Compatibility (again)
In-Reply-To: Bill Venables's message of Mon, 13 Apr 1998 12:41:59 +0930
References: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
	<Pine.LNX.3.96.980412094924.517B-100000@buffy>
	<9804130311.AA23184@attunga.stats.adelaide.edu.au>
Message-ID: <x2wwcungz1.fsf@blueberry.kubism.ku.dk>

[This is all very interesting and instructive. Thanks for taking the
time, Bill]

Bill Venables <wvenable at attunga.stats.adelaide.edu.au> writes:

>  > > 
>  > >    To be more specific, the R substitute() is much more
>  > >    limited than the S version and coercion to mode "{",
>  > >    "call" or "function" are unavailable, and function
>  > >    objects are not subsetable [and hence not modifiable].
> 
> That still stands, though.

Right. At least when it comes to functions, there seems to be no
workaround (I actually thought there would be. Internally, functions
are just lists, so coercion should be possible. Ross keeps talking
about changing the internals of list structures from the current Lisp
"dotted pair" style to "generic vectors", so it isn't too attractive
to go in and modify things right now. In time, I think we'll get it
implemented.

As regarding mode "call" and "{", note the following:

> call("{",as.name("x"))
{
        x
}

i.e. you *can* create calls from their constituents, and R has "{" as
just another function. For "("-expressions we recently did a change so
that mode() became S-compatible:

> call("(",as.name("x"))
(x)
> mode( call("(",as.name("x")))
[1] "("

- whereas we still have
> mode( call("{",as.name("x")))
[1] "call"

which I suppose we should fix too?

[on deriv()]
> have been to allow users to write functions of class
> "differentiable", say, with a "deriv" attribute which would give
> the code fragments necessary for handling the symbolic
> differentiation operation.  

Yes. I rather suspect that this could in fact be implemented fairly
easily using attributes, at least for functions that take a fixed
number of arguments. 

> The main problems are that substitute() is not a general
> substitution tool as it is in S, and while expressions can be
> manipulated, functions it seems cannot.  deriv can build a
> function but you can't.  The following is pretty uncompromising:
> 
> > as.function
> function (x) 
> stop("mode function cannot be assigned")

Agreed. 

> What you see here is email transmission damage.  You don't get
> "@" but "\300".

I got something else... Random garbage anyway.

> 
>  > Should get fixed - or R should protest about an invalid
>  > argument.  If for nothing else, then because
>  > 
>  > > substring(n, -2000, nchar(n))
>  > Segmentation fault (core dumped)
> 
> A much more cogent argument. 

Fixed now for both 0.61.3 and 0.62.0-unstable. The C code just
substitutes 1 for values of start < 1.
 
> However what is the status of "" (nul) as a 'character'?  Is the
> S version itself completely consistent?  What would you expect to
> happen in response to substring("", 1, 0)?  These are not
> rhetorical questions, I just don't know.

I think that bot S and R (now) gives "" as the result of out-of-bounds
indexing. I.e.
substring(ch,i,j) == substring(ch,max(i,1),min(j,length(ch)))
and  i > length(ch) or j < i both gives "" results.

I wouldn't know how S handles an ASCII NUL character in a string,
though. At least, there's no easy way to put one into a string... 

> Here is a cute example of what can be done in S but not in R.
> Make a function for the pdf of an order statistic.
> 
> > pdf.order <- function(n, r, pfun, dfun) {
>   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
>   substitute(
>     function(x) {
>       Fx <- p(x)
>       K*Fx^r1*(1 - Fx)^nr*f(x)
>     }, 
>     list(p = substitute(pfun), f = substitute(dfun), 
>          r1 = r-1, nr = n-r, K = con)
>   )
> }
> > pdf.order(9, 5, pnorm, dnorm)
> function(x)
> {
>         Fx <- pnorm(x)
>         630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
> }
> 
> The substitute()s to get unevaluated arguments do work but the
> one to modify the function definitely does not.  substitute() is
> a very different kind of function in R from what it is in S.

I see the problem. I suspect that there's a workaround, though. Will
look at it. 

> Can I make the plea, though, that when someone does get round to
> looking at it, that the result be fully compatible with S,
> including the representation of non-printable characters in a
> printable (and hence emailable) form?  This should really be a
> fundamental part of the design specification.  Data transfer and
> elementary object transfer between R and S should be a smooth
> operation and data.dump and data.restore are all about efficint,
> portable transfer.

This should certainly be possible for the basic data types, e.g.
numeric vectors, factors, data frames,... Functions could be difficult
for obvious reasons.

>  > Objects(), however, owes some of its differences from S to the
>  > different scoping rules, so I suspect that it can never have
>  > the same semantics.
> 
> You may be right but frankly this surprises me.  Both systems
> have a search path but objects(2) in S has to be written
> objects(pos=2) in R.  I don't think that has much to do with
> scoping.

Mmmno... but in R, you can do objects("package:base"). We could
probably do some  "if (is.numeric..." stuff on the "name" argument to
object().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Mon Apr 13 16:16:02 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Mon, 13 Apr 1998 09:16:02 -0500 (CDT)
Subject: R-beta: command line editing?
Message-ID: <Pine.OSF.3.95.980413085758.10745A-100000@io.uwinnipeg.ca>

I would love to have bash-like command line editing in R. (Press up cursor
and see previous command line; use left cursor to go back then edit it)

Appendix B in Rnotes describes Splus I guess, not R.  Starting R by
R -e
doesn't let any of the following described actions (B.3) work.

I don't use vi or EMACs (I use Nedit), so I would prefer bash-like
interface anyway. (I don't think I even installed EMACs)

Thanks for any help!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at stat.cmu.edu  Mon Apr 13 16:21:41 1998
From: mikem at stat.cmu.edu (Mike Meyer)
Date: Mon, 13 Apr 1998 10:21:41 -0400
Subject: R-beta: command line editing? 
In-Reply-To: Your message of "Mon, 13 Apr 1998 09:16:02 CDT."
             <Pine.OSF.3.95.980413085758.10745A-100000@io.uwinnipeg.ca> 
Message-ID: <199804131421.KAA19870@desire.stat.cmu.edu>


wsimpson at uwinnipeg.ca said:
> I would love to have bash-like command line editing in R. (Press up
> cursor and see previous command line; use left cursor to go back then
> edit it) 

I'm quite sure that Bash-like command editing is included in R (for sure it 
works in the version I use), and I'm equally sure that it require the
	readline
library.

If you have readline (the same library as bash uses) installed, then the 
configure script should compile in the command line editing.  If not, then not.

 --mike

Mike Meyer, Department of Statistics, Carnegie Mellon University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Mon Apr 13 16:32:52 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Mon, 13 Apr 1998 09:32:52 -0500 (CDT)
Subject: R-beta: command line editing? 
In-Reply-To: <199804131421.KAA19870@desire.stat.cmu.edu>
Message-ID: <Pine.OSF.3.95.980413093034.10745B-100000@io.uwinnipeg.ca>

Thanks Mike for your quick reply.

Well I am running Linux (Slackware) here which has bash as the default
shell, so if bash uses readline library, it must be there somewhere.  But
R doesn't find it it the installation process.

(Right now up arrow gives
 ^[[A
)

Thanks for any help in getting this to work!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 13 16:55:36 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 1998 16:55:36 +0200
Subject: R-beta: S Compatibility (again)
In-Reply-To: Peter Dalgaard BSA's message of 13 Apr 1998 12:39:14 +0200
References: <9804120750.AA22905@attunga.stats.adelaide.edu.au>
	<Pine.LNX.3.96.980412094924.517B-100000@buffy>
	<9804130311.AA23184@attunga.stats.adelaide.edu.au>
	<x2wwcungz1.fsf@blueberry.kubism.ku.dk>
Message-ID: <x23efh6aaf.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> > Here is a cute example of what can be done in S but not in R.
> > Make a function for the pdf of an order statistic.
> > 
> > > pdf.order <- function(n, r, pfun, dfun) {
> >   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
> >   substitute(
> >     function(x) {
> >       Fx <- p(x)
> >       K*Fx^r1*(1 - Fx)^nr*f(x)
> >     }, 
> >     list(p = substitute(pfun), f = substitute(dfun), 
> >          r1 = r-1, nr = n-r, K = con)
> >   )
> > }
> > > pdf.order(9, 5, pnorm, dnorm)
> > function(x)
> > {
> >         Fx <- pnorm(x)
> >         630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
> > }
> > 
> > The substitute()s to get unevaluated arguments do work but the
> > one to modify the function definitely does not.  substitute() is
> > a very different kind of function in R from what it is in S.
> 
> I see the problem. I suspect that there's a workaround, though. Will
> look at it. 

[a couple of hours later...]

> pdf.order                    
function (n, r, pfun, dfun) 
{
        con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - 
                r + 1)))
        eval(eval(expression(substitute(function(x) {
                Fx <- p(x)
                K * Fx^r1 * (1 - Fx)^nr * f(x)
        })), list(p = substitute(pfun), f = substitute(dfun), 
                r1 = r - 1, nr = n - r, K = con)), .GlobalEnv)
}
> pdf.order(9, 5, pnorm, dnorm)
function (x) 
{
        Fx <- pnorm(x)
        630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
}
> pdf.order(9, 5, pnorm, dnorm)(0)
[1] 0.981772

This could have been much easier if substitute allowed a named list
like eval() does. I see no reason why it shouldn't...

The necessity of the outer eval is more fundamental: R is sometimes
more stringent in distinguishing between objects and expressions that
evaluate to them. So without this necessary eval (<hehe..>) you'd get
an expression (or more precisely, a "call" object) that evaluates to a
function, not the function itself:

I.e.

S:
> mode(substitute(function()a+b))
[1] "function"

R:
> mode(substitute(function()a+b))
[1] "call"
> mode(eval(substitute(function()a+b)))
[1] "function"

You also need to eval() it in .GlobalEnv {or sys.frame(sys.parent(2))}
, otherwise the result will carry with it the environment of
pdf.order, which is a direct consequence of R's scoping rules.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 13 17:08:46 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 1998 17:08:46 +0200
Subject: R-beta: command line editing?
In-Reply-To: Bill Simpson's message of Mon, 13 Apr 1998 09:32:52 -0500 (CDT)
References: <Pine.OSF.3.95.980413093034.10745B-100000@io.uwinnipeg.ca>
Message-ID: <x21zv169oh.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson at uwinnipeg.ca> writes:

> 
> Thanks Mike for your quick reply.
> 
> Well I am running Linux (Slackware) here which has bash as the default
> shell, so if bash uses readline library, it must be there somewhere.  But
> R doesn't find it it the installation process.
> 
> (Right now up arrow gives
>  ^[[A
> )
> 
> Thanks for any help in getting this to work!
> 
> Bill Simpson
> 

Weeelll... 
1) make sure the readline stuff can be found among the system
libraries
2) reconfigure and recompile R

;)

Seriously, RedHat - and I think Debian too - has stuff like

/usr/include/readline
/usr/include/readline/chardefs.h
/usr/include/readline/history.h
/usr/include/readline/keymaps.h
/usr/include/readline/readline.h
/usr/include/readline/tilde.h

/usr/lib/libreadline.a
/usr/lib/libreadline.so
/usr/lib/libreadline.so.2
/usr/lib/libreadline.so.2.0
/usr/lib/libreadline.so.3
/usr/lib/libreadline.so.3.0

'cept that Debian insists on calling the dynamic libs 2.1 instead of
3.0. You want the newer version - 2.0 has trouble with signal handling
and the upcoming 0.62 will use some facilities that simply don't exist
in 2.0 anyway. If you know how to handle .rpm files, there should be a
binary package in the RedHat (ftp.redhat.com or mirrors) contrib
section. Make sure you get one that works with your libc...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Mon Apr 13 17:54:14 1998
From: luke at stat.umn.edu (Luke Tierney)
Date: Mon, 13 Apr 1998 10:54:14 -0500 (CDT)
Subject: R-beta: S Compatibility (again)
In-Reply-To: <x23efh6aaf.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Apr 13, 98 04:55:36 pm
Message-ID: <9804131554.AA12497@nokomis.stat.umn.edu>

Peter Dalgaard BSA wrote:
> 
> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
> > > Here is a cute example of what can be done in S but not in R.
> > > Make a function for the pdf of an order statistic.
> > > 
> > > > pdf.order <- function(n, r, pfun, dfun) {
> > >   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
> > >   substitute(
> > >     function(x) {
> > >       Fx <- p(x)
> > >       K*Fx^r1*(1 - Fx)^nr*f(x)
> > >     }, 
> > >     list(p = substitute(pfun), f = substitute(dfun), 
> > >          r1 = r-1, nr = n-r, K = con)
> > >   )
> > > }
> > > > pdf.order(9, 5, pnorm, dnorm)
> > > function(x)
> > > {
> > >         Fx <- pnorm(x)
> > >         630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
> > > }
> > > 
> > > The substitute()s to get unevaluated arguments do work but the
> > > one to modify the function definitely does not.  substitute() is
> > > a very different kind of function in R from what it is in S.
> > 
> > I see the problem. I suspect that there's a workaround, though. Will
> > look at it. 
> 
> [a couple of hours later...]
> 
> > pdf.order                    
> function (n, r, pfun, dfun) 
> {
>         con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - 
>                 r + 1)))
>         eval(eval(expression(substitute(function(x) {
>                 Fx <- p(x)
>                 K * Fx^r1 * (1 - Fx)^nr * f(x)
>         })), list(p = substitute(pfun), f = substitute(dfun), 
>                 r1 = r - 1, nr = n - r, K = con)), .GlobalEnv)
> }
> > pdf.order(9, 5, pnorm, dnorm)
> function (x) 
> {
>         Fx <- pnorm(x)
>         630 * Fx^4 * (1 - Fx)^4 * dnorm(x)
> }
> > pdf.order(9, 5, pnorm, dnorm)(0)
> [1] 0.981772
> 
> This could have been much easier if substitute allowed a named list
> like eval() does. I see no reason why it shouldn't...
> 
> The necessity of the outer eval is more fundamental: R is sometimes
> more stringent in distinguishing between objects and expressions that
> evaluate to them. So without this necessary eval (<hehe..>) you'd get
> an expression (or more precisely, a "call" object) that evaluates to a
> function, not the function itself:
> 
> I.e.
> 
> S:
> > mode(substitute(function()a+b))
> [1] "function"
> 
> R:
> > mode(substitute(function()a+b))
> [1] "call"
> > mode(eval(substitute(function()a+b)))
> [1] "function"
> 
> You also need to eval() it in .GlobalEnv {or sys.frame(sys.parent(2))}
> , otherwise the result will carry with it the environment of
> pdf.order, which is a direct consequence of R's scoping rules.
> 

Maybe we should think about starting an obfuscated S/R code contest?
:-)

The need to make heavy use of substitute or eval is, in my view, not a
strengh of a language. The right tool for this job, in my view at
least, is lexical scoping and closures. R privides these directly, so
a much simpler definition is

pdf.order<-
function (n, r, pfun, dfun) 
{
  con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  function(x) {
    Fx <- pfun(x)
    con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
  }
}

> pdf.order(9, 5, pnorm, dnorm)(0)
[1] 0.981772


The free variables con, n, r, pfun and dfun in the returned function refer
to the variables in the defining environment (this is lexical scope).

Since the free variables in the value function are not modified you
can do this in S if you abstact out the closure creation operation
into a function MC,

pdf.order<-
function (n, r, pfun, dfun) 
{
  con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  MC(function(x) {
       Fx <- pfun(x)
       con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
     },
     list("con"=con, "pfun"=pfun, "dfun"=dfun, "r"=r, "n"=n))
}

> pdf.order(9, 5, pnorm, dnorm)(0)
[1] 0.981772

This isn't as clean as in R but it is clearer in its intent, to me at
least, than the eval/substitute stuff.

The definition of MC (make closure) I use is not based on substitute.
Substitute, no matter how sophisticated, is in my view fundamentally
the wrong tool for this job since it does not understand syntax.  (It
is a reasonable tool in this case since the function is very small,
but in general it is not). Both S and R have syntactic constructs that
can result in shadowing of variables -- substitute cannot understand
these and will mess them up. An alternative is to add bindings for
free variables as additional arguments to the function; in this
example this produces

> pdf.order(9, 5, pnorm, dnorm)
function(x, con = 630,
            pfun = function(q, mean = 0, sd = 1) { ... },
            dfun = function(x, mean = 0, sd = 1) { ... },
            r = 5,
            n = 9)
{
        Fx <- pfun(x)
        con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
}

This isn't perfect (real lexical scope is much better) but, in my
opinion, it is a better approach than using substitute.  Here is the
definition of MC I use to implement this.  It is fairly convoluted,
but once you have it and understand conceptually what it does, which
is quite simple, you don't need to look at it again.

> MC
function(f, env = NULL)
{
        env <- as.list(env)
        if(mode(f) != "function")
                stop(paste("not a function:", f))
        if(length(env) > 0 && any(names(env) == ""))
                stop(paste("all arguments are not named:", env))
        fargs <- if(length(f) > 1) f[1:(length(f) - 1)] else NULL
        fbody <- f[length(f)]
        cf <- c(fargs, env, fbody)
        mode(cf) <- "function"
        return(cf)
}

Just my 2c worth :-)

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
206 Church Street                            email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 13 22:08:42 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Apr 1998 22:08:42 +0200
Subject: R-beta: S Compatibility (again)
In-Reply-To: Luke Tierney's message of Mon, 13 Apr 1998 10:54:14 -0500 (CDT)
References: <9804131554.AA12497@nokomis.stat.umn.edu>
Message-ID: <x267kd8oxh.fsf@blueberry.kubism.ku.dk>

Luke Tierney <luke at stat.umn.edu> writes:

> a much simpler definition is
> 
> pdf.order<-
> function (n, r, pfun, dfun) 
> {
>   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
>   function(x) {
>     Fx <- pfun(x)
>     con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
>   }
> }
> 
> > pdf.order(9, 5, pnorm, dnorm)(0)
> [1] 0.981772

Duh.... 

Yes, of course! 

I was thinking in terms of obtaining the substitute() functionality,
not getting the job done.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Mon Apr 13 23:42:05 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Tue, 14 Apr 1998 07:12:05 +0930
Subject: R-beta: S Compatibility (again)
In-Reply-To: <9804131554.AA12497@nokomis.stat.umn.edu>
References: <x23efh6aaf.fsf@blueberry.kubism.ku.dk>
	<9804131554.AA12497@nokomis.stat.umn.edu>
Message-ID: <9804132142.AA23705@attunga.stats.adelaide.edu.au>

Luke Tierney writes:
 > The need to make heavy use of substitute or eval is, in my
 > view, not a strengh of a language.  The right tool for this
 > job, in my view at least, is lexical scoping and closures. R
 > provides these directly, so a much simpler definition is
 > 
 > pdf.order<-
 > function (n, r, pfun, dfun) 
 > {
 >   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
 >   function(x) {
 >     Fx <- pfun(x)
 >     con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
 >   }
 > }
 > 
 > > pdf.order(9, 5, pnorm, dnorm)(0)
 > [1] 0.981772

Aha!  Very neat indeed.  This is one of those examples that make
concepts like lexical scoping and closure much clearer, (at least
to me).

 > The free variables con, n, r, pfun and dfun in the returned
 > function refer to the variables in the defining environment
 > (this is lexical scope).

Yes.  I notice the result is a function "with environment".  It
would be interesting to see how these objects are structured and
how big they were, but I see R draws a discrete veil over this by
declaring functions "not subsetable".  I presume, though, that
all objects in the environment must be copied as part of the
created object, and not just the names essentially as pointers as
the S substitute() solution effectively does.

 > 
 > Since the free variables in the value function are not
 > modified you can do this in S if you abstact out the closure
 > creation operation into a function MC,
 > 
 > pdf.order<-
 > function (n, r, pfun, dfun) 
 > {
 >   con <- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
 >   MC(function(x) {
 >        Fx <- pfun(x)
 >        con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
 >      },
 >      list("con"=con, "pfun"=pfun, "dfun"=dfun, "r"=r, "n"=n))
 > }
 > 
 > > pdf.order(9, 5, pnorm, dnorm)(0)
 > [1] 0.981772
 > 
 > This isn't as clean as in R but it is clearer in its intent,
 > to me at least, than the eval/substitute stuff.
 > 
 > The definition of MC (make closure) I use is not based on
 > substitute.  Substitute, no matter how sophisticated, is in my
 > view fundamentally the wrong tool for this job since it does
 > not understand syntax.  (It is a reasonable tool in this case
 > since the function is very small, but in general it is not).
 > Both S and R have syntactic constructs that can result in
 > shadowing of variables -- substitute cannot understand these
 > and will mess them up.  An alternative is to add bindings for
 > free variables as additional arguments to the function; in
 > this example this produces
 > 
 > > pdf.order(9, 5, pnorm, dnorm)
 > function(x, con = 630,
 >             pfun = function(q, mean = 0, sd = 1) { ... },
 >             dfun = function(x, mean = 0, sd = 1) { ... },
 >             r = 5,
 >             n = 9)
 > {
 >         Fx <- pfun(x)
 >         con * Fx^(r - 1) * (1 - Fx)^(n - r) * dfun(x)
 > }

This suggests that for my glm.nb example the MC solution would
not work and substitute really is necessary.  In that case it is
important that the generated function does not have additional
arguments, even with default values, since the functions
themsleves may be passed on to someone else's language modifiers
(to wit the robust() function, but not always) which make the
strong assumption of what arguments are present.

Never mind, in that case I already have a working solution using
substitute().  Now it seems an R solution is not only possible,
but simpler than that of S.

 > This isn't perfect (real lexical scope is much better) but, in
 > my opinion, it is a better approach than using substitute.

The only reservation I would have is whether the frozen
environment (explicitly in R, as extra arguments with defaults in
S) can get very large.  You would need to use substitute if you
wanted a result with pointers to whatever you used for pfun and
dfun and which changed if those (herer pnorm and dnorm) changed.
Not a good practice, I agree, but a real differnece between the
two approaches.

 > Here is the definition of MC I use to implement this.  It is
 > fairly convoluted, but once you have it and understand
 > conceptually what it does, which is quite simple, you don't
 > need to look at it again.
 > 
 > > MC
 > function(f, env = NULL)
 > {
 >         env <- as.list(env)
 >         if(mode(f) != "function")
 >                 stop(paste("not a function:", f))
 >         if(length(env) > 0 && any(names(env) == ""))
 >                 stop(paste("all arguments are not named:", env))
 >         fargs <- if(length(f) > 1) f[1:(length(f) - 1)] else NULL
 >         fbody <- f[length(f)]
 >         cf <- c(fargs, env, fbody)
 >         mode(cf) <- "function"
 >         return(cf)
 > }

Very illuminating.

 > Just my 2c worth :-)

And well worth both of them, even more.  :-) I think I'll frame
it and put it up on the wall as a reminder.

I'm glad I raised this issue now.  I don't mind being wrong if
the result is a useful clarification for us lesser mortals.  I
just wish it wasn't always so necessary for me to learn
everything out in public like this...

Thanks,
Bill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Tue Apr 14 01:50:43 1998
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 14 Apr 1998 11:50:43 +1200 (NZST)
Subject: R-beta: S Compatibility (again)
Message-ID: <199804132350.LAA07571@stat1.stat.auckland.ac.nz>

I too have been away enjoying an undeserved but fun Easter break.

I just wanted to try to clarify one point regarding functions:

 as.function does not exist in R because you really shouldn't turn
 things that aren't functions in to them. In S people are really
 crossing a boundary that it is very important not to cross. That
 is the difference between the implementation of an object and
 the object. The fact that functions are implemented as vectors
 is nice but not as far as I can tell NOT part of the language. Accessing
 them as if they were functions is possible but not good style. 
 Will they be arrays in S4?
 
 You can access all the parts of a function in R through the functions
 args, body and environment.  Writing a similar set
 of functions for Splus would then give you the level of abstraction that
 you really want (honest, trust me) and its trivial.
 
 For example,
> ff<-function(x){
+ x<-x*x
+ return(x)
+ }
> args(ff)
function (x) 
NULL
> body(ff)
{
        x <- x * x
        return(x)
}
> environment(ff)
<environment: R_GlobalEnv>

  It should be possible to write a body<- function that let you assign a new
  body (given lexical scope this can be absolutely disasterous). There is
  already an environment<- function. Probably we need arguments (since args
  returns a function rather than the list of args). If you really want it
  let me know and I'll whip up something that does this..... 
  
  robert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 14 09:35:49 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Apr 1998 09:35:49 +0200
Subject: R-beta: S Compatibility (again)
In-Reply-To: <x23efh6aaf.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 13 Apr 1998 16:55:36 +0200)
Message-ID: <199804140735.JAA00494@sophie.ethz.ch>

Excellent job, Peter!
	(showing how functions are constructed out of expressions).

[I came too late,  Easter Monday is a holiday, here...]

Just a short addition:

approxfun(.) and splinefun(.) 
	and stepfun(.) or  ecdf(.)  [after  "library(stepfun)"]
 {{See ?approxfun, etc. for examples}}
are very nice examples in standard  R
how a function can be returned from another function.

Actually they show the superiority of R scoping rules which allow an
environment (of objects, e.g., numeric variables) for a user created
function.

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Apr 14 17:58:28 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 14 Apr 1998 10:58:28 -0500 (CDT)
Subject: R-beta: SEs for one-param MLE in R?
Message-ID: <Pine.OSF.3.95.980414105137.17595A-100000@io.uwinnipeg.ca>

Simple-mindedly I tried getting MLE and SE for one-parameter model in the
same way as for multi-param models.

out<-nlm(fn,p=c(2),hessian=T)

But
sqrt(diag(solve(out$hessian)))
gives the answer 1.  The Hessian has only one entry, not really a matrix.
diag(x) gives 1 if x is just a single number.

Is this what I should be doing to get SE for MLE?
sqrt(solve(out$hessian))

Thanks very much for any help!

BTW thanks for the help on readline.  I found the readline files on the
web and installed (strangely missing from Slackware distrib).  Now I have
bash-like command line interface in R. Excellent!!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 14 18:22:12 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Apr 1998 18:22:12 +0200
Subject: R-beta: SEs for one-param MLE in R?
In-Reply-To: <Pine.OSF.3.95.980414105137.17595A-100000@io.uwinnipeg.ca>
	(message from Bill Simpson on Tue, 14 Apr 1998 10:58:28 -0500 (CDT))
Message-ID: <199804141622.SAA01845@sophie.ethz.ch>

>>>>> "Bill" == Bill Simpson <wsimpson at uwinnipeg.ca> writes:

    Bill> Simple-mindedly I tried getting MLE and SE for one-parameter
    Bill> model in the same way as for multi-param models.

    Bill> out<-nlm(fn,p=c(2),hessian=T)

    Bill> But sqrt(diag(solve(out$hessian))) gives the answer 1.  The
    Bill> Hessian has only one entry, not really a matrix.  diag(x) gives 1
    Bill> if x is just a single number.

    Bill> Is this what I should be doing to get SE for MLE?
    Bill> sqrt(solve(out$hessian))

    Bill> Thanks very much for any help!

Well,
 .Internal(nlm(..)) should be fixed to always return a matrix in  $ hessian.

However, your problem is solved easily by always using

	p <- length(estimate)
	SE <- sqrt(if(p==1) 1/out$hessian else diag(solve(out$hessian)))

BTW: I am (we are) interested in the functions that you are writing for nlm(.)
     It certainly is worthwhile to have nlm(.) return a class "nlm" result
     and provide  print.nlm(.) and summary.nlm(.) functions
     {{ Jim Lindsey already posted something like this, unfortunately using
	"nls" which we don't want as long as it is not very close to S'
	nls(.) function
     }}

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mike_fleming at nass.usda.gov  Fri Apr 17 21:32:08 1998
From: mike_fleming at nass.usda.gov (mike_fleming@nass.usda.gov)
Date: Fri, 17 Apr 98 14:32:08 -0500
Subject: R-beta: lmsreg
Message-ID: <9804178928.AA892838755@nass.usda.gov>


     Does R have a function like the S(plus) function, lmsreg, Least Median 
     of Squares Regression? I am using R-0.61.
     
     Thank you,
     
     Mike Fleming
     mfleming at nass.usda.gov 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Apr 17 21:16:14 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 17 Apr 1998 12:16:14 -0700 (PDT)
Subject: R-beta: lmsreg
In-Reply-To: <9804178928.AA892838755@nass.usda.gov>
Message-ID: <Pine.SUN.3.95.980417121335.11386C-100000@chekov>

On Fri, 17 Apr 1998 mike_fleming at nass.usda.gov wrote:

> 
>      Does R have a function like the S(plus) function, lmsreg, Least Median 
>      of Squares Regression? I am using R-0.61.
>      

Not at the moment.  There have been occasional noises from people
indicating that they might write these functions (there is S and C/FORTRAN
available), but I don't know if anything has happened.

BTW, lmsreg is deprecated even in S-PLUS.  Least trimmed squares (ltsreg) 
has almost the same breakdown point and is much more efficient.  We don't
have ltsreg either. 


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kryp33 at aol.com  Sat Apr 18 17:48:00 1998
From: Kryp33 at aol.com (Kryp33)
Date: Sat, 18 Apr 1998 11:48:00 EDT
Subject: R-beta: Read_Table?
Message-ID: <bb17e694.3538cb31@aol.com>

Hello All !
Can anybody help me with simple question, please? I have tried to input some
data to R and I use the read.table function. The exactly form that I type was:

>  test1 <- read.table("D:\Rstat\Work\Abt.data",header=T,sep=",")

I've got the response from R:

Error: "scan" can't open file

The file that I specify above "Abt.data" is a standard ASCII table file with
names of fields in the first line and data below. The beginning of the file
looks like:

"Open","High","Low","Close","Volume"
29.500,29.750,28.625,28.875,1269000
28.875,29.750,28.625,29.500,977300
29.750,30.625,29.625,30.125,2894100

I am new to R-program. It seems that I've done very simple mistake in my first
attempts. Please, help me with that or give me any  references where I can get
the answer. I use Windows 95 OS and follow instruction in "Notes on R" by Bill
Venables & Dave Smith.
Thanks a lot!
Sergey   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Apr 18 18:09:28 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Apr 1998 11:09:28 -0500
Subject: R-beta: Read_Table?
In-Reply-To: Kryp33's message of "Sat, 18 Apr 1998 11:48:00 EDT"
References: <bb17e694.3538cb31@aol.com>
Message-ID: <6r90p3xgav.fsf@verdi.stat.wisc.edu>

Kryp33 <Kryp33 at aol.com> writes:

> Can anybody help me with simple question, please? I have tried to input some
> data to R and I use the read.table function. The exactly form that I type was:
> 
> >  test1 <- read.table("D:\Rstat\Work\Abt.data",header=T,sep=",")
> 
> I've got the response from R:
> 
> Error: "scan" can't open file

R is having trouble with the file name.  I think you may need to
escape the backslashes in R strings.  That is, you would write two
backslashes in the file name wherever you have one now.  It would look
like
       read.table("D:\\Rstat\\Work\\Abt.data",header=T,sep=",")
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr 18 18:29:45 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Apr 1998 18:29:45 +0200
Subject: R-beta: Read_Table?
In-Reply-To: Douglas Bates's message of 18 Apr 1998 11:09:28 -0500
References: <bb17e694.3538cb31@aol.com> <6r90p3xgav.fsf@verdi.stat.wisc.edu>
Message-ID: <x23efb2iva.fsf@biostat.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> 
> Kryp33 <Kryp33 at aol.com> writes:
> 
> > Can anybody help me with simple question, please? I have tried to input some
> > data to R and I use the read.table function. The exactly form that I type was:
> > 
> > >  test1 <- read.table("D:\Rstat\Work\Abt.data",header=T,sep=",")
> > 
> > I've got the response from R:
> > 
> > Error: "scan" can't open file
> 
> R is having trouble with the file name.  I think you may need to
> escape the backslashes in R strings.  That is, you would write two
> backslashes in the file name wherever you have one now.  It would look
> like
>        read.table("D:\\Rstat\\Work\\Abt.data",header=T,sep=",")

That's right. Same as in e.g. Paradox, and other programs with C-style
string syntax. Rotating the backslashes 90 degrees ("D:/Rstat/...")
into UNIX style names also works.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Tue Apr 21 09:59:54 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 21 Apr 1998 09:59:54 +0200 (MET DST)
Subject: R-beta: SEs for one-param MLE in R?
In-Reply-To: <199804141622.SAA01845@sophie.ethz.ch> from "Martin Maechler" at Apr 14, 98 06:22:12 pm
Message-ID: <9804210759.AA11933@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 2281 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980421/2f89fdc9/attachment.pl

From pgilbert at bank-banque-canada.ca  Tue Apr 21 23:02:44 1998
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 21 Apr 1998 17:02:44 -0400
Subject: R-beta: R make problem
Message-ID: <98Apr21.171900edt.13444@mailgate.bank-banque-canada.ca>

I've just got a new workstation with Solaris 5.6 and seem to be having some R
0.61.1 installation problems that did not occur in 5.5.  If anyone can see the
problem I would appreciate suggestions. Following is output from make at the
point of failure.

TIA
Paul Gilbert

...
gcc -g -I../include  -c  relop.c
gcc -g -I../include  -c  saveload.c
In file included from /usr/include/sys/turnstile.h:12,
                 from /usr/include/sys/t_lock.h:20,
                 from /usr/include/sys/vnode.h:37,
                 from /usr/include/sys/stream.h:21,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/rpc/auth_kerb.h:14,
                 from /usr/include/rpc/rpc.h:39,
                 from saveload.c:243:
/home/res/public/gnu/sun5/lib/gcc-lib/sparc-sun-solaris2.4/2.7.1/include/sys/param.h:185:
warning: `NBBY' redefined
/usr/include/sys/select.h:45: warning: this is the location of the previous
definition
In file included from /usr/include/sys/stream.h:26,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/rpc/auth_kerb.h:14,
                 from /usr/include/rpc/rpc.h:39,
                 from saveload.c:243:
/usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
*** Error code 1
make: Fatal error: Command failed for target `saveload.o'
Current working directory /home/res4/gilp/R-versions/R-0.61.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `build'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 21 23:44:38 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Apr 1998 23:44:38 +0200
Subject: R-beta: R make problem
In-Reply-To: Paul Gilbert's message of Tue, 21 Apr 1998 17:02:44 -0400
References: <98Apr21.171900edt.13444@mailgate.bank-banque-canada.ca>
Message-ID: <x2pviaq27t.fsf@biostat.ku.dk>

Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

> 
> I've just got a new workstation with Solaris 5.6 and seem to be having some R
> 0.61.1 installation problems that did not occur in 5.5.  If anyone can see the
> problem I would appreciate suggestions. Following is output from make at the
> point of failure.

Not entirely sure, but I think this happens if you use gcc for SunOS
5.5x under 5.6. Nothing to do with R, really.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Fri Apr 24 09:18:46 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 24 Apr 1998 09:18:46 +0200 (MET DST)
Subject: R-beta: pager/more
Message-ID: <9804240718.AA02711@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 645 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980424/94b87a18/attachment.pl

From jlindsey at luc.ac.be  Fri Apr 24 10:03:34 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 24 Apr 1998 10:03:34 +0200 (MET DST)
Subject: R-beta: exponentiation
Message-ID: <9804240803.AA25497@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 520 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980424/b1195857/attachment.pl

From p.dalgaard at biostat.ku.dk  Fri Apr 24 10:06:08 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 1998 10:06:08 +0200
Subject: R-beta: pager/more
In-Reply-To: Jim Lindsey's message of Fri, 24 Apr 1998 09:18:46 +0200 (MET DST)
References: <9804240718.AA02711@alpha.luc.ac.be>
Message-ID: <x2g1j3k5jj.fsf@biostat.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> 
> Since I have installed Red Hat 5 (R0.61.2), the help facility does not
> work perfectly. I can no longer scroll back with b. It just beeps.
> However, more, in an xterm, does scroll back with b as it should. All
> other character instructions seem to work correctly in R help. Any
> ideas please?
>   Jim

I don't think that worked before either, Jim...

This is an old problem, with two parts to it. 

#1: "more" cannot go back on stdin, try "more < file" and you'll see.

#2: "more" will process stdin after any command-line arguments

Item #2 had untoward consequences if the pager got invoked via "R <
something". "more" would eat the rest of the input to R (except for
the bits that were already buffered, so you'd only see it on large
source files)! So the pager was setup to do "more < file". In
particular, it broke "make tests".

What I normally do is to run R in an xterm with a scrollbar and use
that to go back. Alternatively, you can set PAGER=less, which *can* go
back on stdin but has this annoying screen-switch effect where the
information disappears just as you want to use it... Or you can dump
the "<" from $RHOME/cmd/pager, and suffer the consequences.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Apr 24 10:11:12 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 24 Apr 1998 10:11:12 +0200
Subject: R-beta: exponentiation
In-Reply-To: <9804240803.AA25497@alpha.luc.ac.be> (message from Jim Lindsey on
	Fri, 24 Apr 1998 10:03:34 +0200 (MET DST))
Message-ID: <199804240811.KAA06832@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:

    Jim> Values in the range 1e-30^1e12 to 1e-30^1e17 hang R0.61.2 under
    Jim> Red Hat 5. (fed by nlm to a function). This is rather difficult to
    Jim> debug when ctrl-C does not work!  Jim

yet another Linux (libc ?? / libm ??) problem...

I can confirm the same thing happens on Debian Linux.

On our (Sun Solaris 2.5.1 SPARC Stations),  
0 is returned as it should be.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 24 10:19:16 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 1998 10:19:16 +0200
Subject: R-beta: exponentiation
In-Reply-To: Martin Maechler's message of Fri, 24 Apr 1998 10:11:12 +0200
References: <199804240811.KAA06832@sophie.ethz.ch>
Message-ID: <x2emynk4xn.fsf@biostat.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> 
> >>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:
> 
>     Jim> Values in the range 1e-30^1e12 to 1e-30^1e17 hang R0.61.2 under
>     Jim> Red Hat 5. (fed by nlm to a function). This is rather difficult to
>     Jim> debug when ctrl-C does not work!  Jim
> 
> yet another Linux (libc ?? / libm ??) problem...
> 
> I can confirm the same thing happens on Debian Linux.

- but not RedHat 4.2.... Yup. Has to be libc. Doug, tried Debian 2.0?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Fri Apr 24 10:24:21 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 24 Apr 1998 10:24:21 +0200 (MET DST)
Subject: R-beta: exponentiation continued
Message-ID: <9804240824.AA30933@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 491 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980424/a4bd8991/attachment.pl

From ihaka at stat.auckland.ac.nz  Fri Apr 24 10:27:12 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 24 Apr 1998 20:27:12 +1200 (NZST)
Subject: R-beta: exponentiation
Message-ID: <199804240827.UAA14912@stat1.stat.auckland.ac.nz>

    Jim> Values in the range 1e-30^1e12 to 1e-30^1e17 hang R0.61.2 under
    Jim> Red Hat 5. (fed by nlm to a function). This is rather difficult to
    Jim> debug when ctrl-C does not work!  Jim

I have no problems under FreeBSD 2.2.5 which uses the portable Sun
IEEE 754 library.  Is that available under Linux?

Does anyone have fix for the ^C problem.  Again, it's not a problem
on any of my platforms ...

	Ros
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Apr 24 15:30:47 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 24 Apr 1998 08:30:47 -0500
Subject: R-beta: exponentiation
In-Reply-To: Peter Dalgaard BSA's message of 24 Apr 1998 10:19:16 +0200
References: <199804240811.KAA06832@sophie.ethz.ch> <x2emynk4xn.fsf@biostat.ku.dk>
Message-ID: <6rn2dbe48o.fsf@verdi.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Martin Maechler <maechler at stat.math.ethz.ch> writes:
> > >>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:
> > 
> >     Jim> Values in the range 1e-30^1e12 to 1e-30^1e17 hang R0.61.2 under
> >     Jim> Red Hat 5. (fed by nlm to a function). This is rather difficult to
> >     Jim> debug when ctrl-C does not work!  Jim
> > 
> > yet another Linux (libc ?? / libm ??) problem...
> > 
> > I can confirm the same thing happens on Debian Linux.
> 
> - but not RedHat 4.2.... Yup. Has to be libc. Doug, tried Debian 2.0?

If I understand the question correctly then the answer is that it
works fine under Debian 2.0 (libc6-2.0.7).

 R : Copyright 1998, Robert Gentleman and Ross Ihaka
 Version 0.62.0 Unstable (March 31, 1998)

 R> 1e-30
 [1] 1e-30
 R> 1e-30^1e12
 [1] 0
 R> 1e-30^1e17
 [1] 0

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdreau at worldnet.fr  Fri Apr 24 22:06:25 1998
From: hdreau at worldnet.fr (Herve Dreau)
Date: 24 Apr 1998 22:06:25 +0200
Subject: R-beta: 3d visualisations
Message-ID: <lx4szjq91a.fsf@raoul.fr>

Is someone working on a 3d vizualisation set of functions ?
I read dream dream dream in PROJECTS about 3D GRAPHICS.

When I want to visualize 3d data, I use Geomview but with a dataset
greater than 50x50 that's too hard for my poor computer.
I know a little R but nothing with S+, are the plan to emulate S+ or
to have R functions to visualize 3d data ?
-- 
Herv Drau Interne en Mdecine
hdreau at worldnet.fr dreau at b3e.jussieu.fr
Mdecine Linux Java

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdreau at worldnet.fr  Fri Apr 24 21:58:11 1998
From: hdreau at worldnet.fr (Herve Dreau)
Date: 24 Apr 1998 21:58:11 +0200
Subject: R-beta: pager/more
In-Reply-To: Peter Dalgaard BSA's message of "24 Apr 1998 10:06:08 +0200"
References: <9804240718.AA02711@alpha.luc.ac.be> <x2g1j3k5jj.fsf@biostat.ku.dk>
Message-ID: <lx67jzq9f0.fsf@raoul.fr>


PDB> Jim Lindsey <jlindsey at luc.ac.be> writes:

PDB> What I normally do is to run R in an xterm with a scrollbar and
PDB> use that to go back. Alternatively, you can set PAGER=less, which
PDB> *can* go back on stdin but has this annoying screen-switch effect
PDB> where the information disappears just as you want to use it... Or
PDB> you can dump the "<" from $RHOME/cmd/pager, and suffer the
PDB> consequences.

In my cmd/pager I try

pager=${PAGER-"less -X"}

man less : 
-X     Disables sending  the  termcap  initialization  and
              deinitialization  strings to the terminal.  This is
              sometimes desirable if the deinitialization  string
              does   something  unnecessary,  like  clearing  the
              screen.

but in this case I lost the possibility of navigation in the help (I
got in echo the 'code' of the pressed key (ESC [A for up ...), but 
without R less -X work fine : you can navigate and you don't clear
your screen.

Also I use ESS with Xemacs [a separate frame with the help], or 
pager=xless [a separate window] with 
pager=${PAGER-"xless"}
if [ "$1" != "" ]
then exec $pager < $1& <----
else exec $pager
fi
So you can have more than one help session in the same time.

My 2 eurocentimes. 
-- 
Herv Drau Interne en Mdecine
hdreau at worldnet.fr dreau at b3e.jussieu.fr
Mdecine Linux Java

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hag.hi.is  Sun Apr 26 00:02:37 1998
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Sat, 25 Apr 1998 22:02:37 +0000 (GMT)
Subject: R-beta: postscript in R and R
Message-ID: <199804252202.WAA28143@walras.hag.hi.is>


I am creating postscript-graphics in R.  When I import them into
 a LATEX document it is impossible to get the caption close 
 to the figure.  I run the same program in Splus, and no problem
of getting the caption just below the figure.  Another thing,
the ps file that S created is only 10% of the size of the file
 that R created.  What is wrong?  Are there some parameters to
 be set?

Helgi Tomasson
-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hag.hi.is  Sun Apr 26 00:16:08 1998
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Sat, 25 Apr 1998 22:16:08 +0000 (GMT)
Subject: R-beta: postscript in R and S
Message-ID: <199804252216.WAA28271@walras.hag.hi.is>

I am creating ps graphics in R.  When I import them into a Latex
document it is impossible to get the caption close to the figure.
I run the same program in S, and no problem getting the caption
close to the figure. Another thing the ps-file created by S
is only 10% in size of the one created by R.  Is there some
parameter wrong?  Or is there another explanation.

Helgi Tomasson

-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Apr 26 21:07:40 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 26 Apr 1998 12:07:40 -0700 (PDT)
Subject: R-beta: postscript in R and R
In-Reply-To: <199804252202.WAA28143@walras.hag.hi.is>
Message-ID: <Pine.LNX.3.96.980426115435.31515A-100000@buffy>

On Sat, 25 Apr 1998, Helgi Tomasson wrote: 
> I am creating postscript-graphics in R.  When I import them into
>  a LATEX document it is impossible to get the caption close 
>  to the figure.  I run the same program in Splus, and no problem
> of getting the caption just below the figure.  Another thing,
> the ps file that S created is only 10% of the size of the file
>  that R created.  What is wrong?  Are there some parameters to
>  be set?

I haven't noticed this problem with figures from R in LaTeX. Which version
of R is it, and do you have a specific example?

You can always fix the amount of space a PostScript file takes up in LaTeX
by altering its bounding box.  The bounding box is given by a line
%%BoundingBox: 46 169 549 673
near the top of the PostScript file, and it specifies the amount of the
page that the graph actually occupies, measured in 72ths of an inch, from
the lower left corner of the paper. The four numbers are the distances to
the left, bottom, right and top margins of the picture.

The \epsfig{} command in LaTeX lets you specify a new bounding box if the
one in the file is missing or incorrect, or you could edit the file.

Of course it's better if the bounding box is right to begin with.

Thomas Lumley
------------------------
Biostatistics		
Uni of Washington	
Box 357232		
Seattle WA 98195-7232	
------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hag.hi.is  Sun Apr 26 23:30:29 1998
From: helgito at hag.hi.is (Helgi Tomasson)
Date: Sun, 26 Apr 1998 21:30:29 +0000 (GMT)
Subject: R-beta: postscript in S
In-Reply-To: <Pine.LNX.3.96.980426115435.31515A-100000@buffy> from Thomas Lumley at "Apr 26, 98 12:07:40 pm"
Message-ID: <199804262130.VAA29519@walras.hag.hi.is>

> On Sat, 25 Apr 1998, Helgi Tomasson wrote: 
> > I am creating postscript-graphics in R.  When I import them into
> >  a LATEX document it is impossible to get the caption close 
> >  to the figure.  I run the same program in Splus, and no problem
> > of getting the caption just below the figure.  Another thing,
> > the ps file that S created is only 10% of the size of the file
> >  that R created.  What is wrong?  Are there some parameters to
> >  be set?
> 
> I haven't noticed this problem with figures from R in LaTeX. Which version
> of R is it, and do you have a specific example?
>
These innocent looking lines:

postscript(file="cusum1.ps",horizontal=T)
nn <- 1:15698
cumefri <- 0.948*(15698^0.5+2*nn/15698^0.5)
cumeps <- cumsum(eps)
cumedrif <- cumsum(epsdrif)
plot(cumeps,ylim=range(cumeps),xlab="Observation number",
ylab="cusum",type='l',lty=1)
legend(1000,650,"no drift",lty=1,bty="n")
par(new=T)
plot(cumedrif,ylim=range(cumeps),xlab="",ylab="",type='l',lty=2)
legend(1000,500,"drift",lty=2,bty="n")
par(new=T)
plot(cumefri,ylim=range(cumeps),xlab="",ylab="",type='l',lty=3)
legend(1000,350,"95% limit",lty=3,bty="n")

generated 753155 Apr 25 19:57 cusum1.ps
in R but
  63586 Apr 25 20:50 cusum1.ps
in S

The result look similar on paper, but I find it hard to get
a caption or text close to the R-figure in a Latex document.

Any clue? PS the S is on HP-ux, R is on Linux Redhat 4.2.

Sincerely yours

Helgi



-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at hag.hi.is 
Oddi v/ Sturlugotu        
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 27 00:15:50 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 1998 00:15:50 +0200
Subject: R-beta: postscript in S
In-Reply-To: helgito@hag.hi.is's message of Sun, 26 Apr 1998 21:30:29 +0000 (GMT)
References: <199804262130.VAA29519@walras.hag.hi.is>
Message-ID: <x2yawsfcvd.fsf@biostat.ku.dk>

helgito at hag.hi.is (Helgi Tomasson) writes:

> These innocent looking lines:
> 
> postscript(file="cusum1.ps",horizontal=T)
> nn <- 1:15698
> cumefri <- 0.948*(15698^0.5+2*nn/15698^0.5)
> cumeps <- cumsum(eps)
> cumedrif <- cumsum(epsdrif)
> plot(cumeps,ylim=range(cumeps),xlab="Observation number",
> ylab="cusum",type='l',lty=1)
> legend(1000,650,"no drift",lty=1,bty="n")
> par(new=T)
> plot(cumedrif,ylim=range(cumeps),xlab="",ylab="",type='l',lty=2)
> legend(1000,500,"drift",lty=2,bty="n")
> par(new=T)
> plot(cumefri,ylim=range(cumeps),xlab="",ylab="",type='l',lty=3)
> legend(1000,350,"95% limit",lty=3,bty="n")
> 
> generated 753155 Apr 25 19:57 cusum1.ps
> in R but
>   63586 Apr 25 20:50 cusum1.ps
> in S

There's something missing before we could actually run that (notably
"eps"). However stripping the ylim= bit from the last plot gives 
253438 bytes, so I'll believe you. 

You are drawing 16000 connected points and each line segment looks
like this:

369.36 263.95 l
369.40 263.98 l
369.45 264.01 l
369.49 264.04 l
369.53 264.06 l

14 bytes apiece, and 15698*14=219772, so that explains the order of
magnitude.

That kind of thing can be optimized in a number of ways. First of all,
you could use relative moves, roughly .04 in the x direction and .03
in the y direction in this case and set the units so that you'd get
small integer displacements. Then you might also note that some of the
moves are smaller than the device resolution (0.12 in these units on a
600 dpi printer) and drop them altogether. Squeezing it all into about
22000 bytes is still a bit extreme, I'd say.

R doesn't do this kind of optimisation. It could, if anyone wants to
contribute the code, but I don't think it is high on the agenda for
anyone on the core team. Beware that it requires a bit of caution, I'm
pretty sure than I've seen problems in (early) Splus where cumulative
distribution functions wouldn't end at 1.0, etc...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Apr 27 18:26:16 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 27 Apr 1998 09:26:16 -0700 (PDT)
Subject: R-beta: postscript in S
In-Reply-To: <199804262130.VAA29519@walras.hag.hi.is>
Message-ID: <Pine.SUN.3.95.980427090304.3095B-100000@chekov>

On Sun, 26 Apr 1998, Helgi Tomasson wrote:

> > On Sat, 25 Apr 1998, Helgi Tomasson wrote: 
> > > I am creating postscript-graphics in R.  When I import them into
> > >  a LATEX document it is impossible to get the caption close 
> > >  to the figure.  I run the same program in Splus, and no problem
> > > of getting the caption just below the figure.

There is something strange about the bounding boxes in R vs S-PLUS.  When
the graph is saved with horizontal=F there is no problem getting the
caption near the figure.  This explains why I hadn't noticed the problem,
as I usually have horizontal=F. 

With horizontal=T the R and S-PLUS bounding boxes are quite different:
%%DocumentMedia: letter 612 792 0 ()
%%Title: R Graphics Output
%%Creator: R Software
%%Pages: (atend)
%%Orientation: Landscape
%%BoundingBox: 18 18 774 594

%%Title: (S-PLUS Graphics)
%%Creator: S-PLUS
%%For: (Thomas Lumley)
%%CreationDate: Mon Apr 27 08:57:52 1998
%%BoundingBox: 20 11 592 781

So S-PLUS doesn't specify the 'Landscape' orientation, it just draws
sideways. R specifies Landscape and then draws the right way up on paper
that is wider than it is long. 

My guess is that dvips doesn't know about 
	%%Orientation: Landscape 
and takes the Bounding Box as if it were Portrait.  A fix is to add the
right (or possibly wrong) bounding box to eg \epsfig For example, the
following works (with just the last plot in cusum1.ps)

\documentclass{article}
\usepackage[dvips]{epsfig}
\begin{document}
A line of stuff\\
\epsfig{file=cusum1.ps,height=3in,bbllx=18,bblly=18,
	bburx=594,bbury=774,angle=270}\\
Another line of stuff
\end{document}


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Mon Apr 27 20:30:15 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Mon, 27 Apr 1998 13:30:15 -0500 (CDT)
Subject: R-beta: vectors in dataframe?
Message-ID: <Pine.OSF.3.95.980427132314.2109A-100000@io.uwinnipeg.ca>

I have a file:

x     y     z
0.025 0.025 1.65775
0.025 0.050 1.62602
0.025 0.075 1.63683
0.025 0.100 1.91847
0.025 0.125 2.00913
0.025 0.150 1.82222
0.025 0.175 1.70901
0.025 0.200 1.39759
0.025 0.225 1.39089
0.025 0.250 1.04762

If I read the file like this:
data<-read.table("file.dat")

How do I access the vectors x,y,z that are inside the dataframe data?  I
studied Venables and Ripley and could not figure it out.

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Apr 27 20:54:29 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 27 Apr 1998 11:54:29 -0700 (PDT)
Subject: R-beta: vectors in dataframe?
In-Reply-To: <Pine.OSF.3.95.980427132314.2109A-100000@io.uwinnipeg.ca>
Message-ID: <Pine.SUN.3.95.980427115013.3679A-100000@chekov>

On Mon, 27 Apr 1998, Bill Simpson wrote:

> I have a file:
> 
> x     y     z
> 0.025 0.025 1.65775
> 0.025 0.050 1.62602
> 0.025 0.075 1.63683
> 0.025 0.100 1.91847
> 0.025 0.125 2.00913
> 0.025 0.150 1.82222
> 0.025 0.175 1.70901
> 0.025 0.200 1.39759
> 0.025 0.225 1.39089
> 0.025 0.250 1.04762
> 
> If I read the file like this:
> data<-read.table("file.dat")
> 
> How do I access the vectors x,y,z that are inside the dataframe data?  I
> studied Venables and Ripley and could not figure it out.

	data$x 
	data$y 
	data$z  
or 
	data[,"x"]
	data[,"y"]
	data[,"z"]
or

	attach(data)
	x
	y
	z
	detach()

or in modelling functions
	lm(y~z+x,data=data)


Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Mon Apr 27 23:19:48 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Mon, 27 Apr 1998 16:19:48 -0500 (CDT)
Subject: R-beta: vectors in dataframe?
In-Reply-To: <Pine.SUN.3.95.980427115013.3679A-100000@chekov>
Message-ID: <Pine.OSF.3.95.980427161243.15393A-200000@io.uwinnipeg.ca>

Thanks Thomas,

OK I guess I was doing the "right" thing, but it doesn't work.
I have attached my data file.

> thingy$tau1
NULL
> thingy[,"tau1"]
Error: subscript out of bounds
> thingy<-read.table(file="rstuff/output.cif3")
> thingy$tau1
NULL
> thingy[,"tau1"]
Error: subscript out of bounds
> attach(thingy)
> tau1
Error: Object "tau1" not found
 but
> thingy
lists the row number, tau1, tau2, p3cond
i.e. all the data as 4 cols of numbers (up to row 1601).

Thanks for any help!

Bill Simpson
-------------- next part --------------
tau1  tau2   p3cond
0.025 0.025 1.65775
0.025 0.050 1.62602
0.025 0.075 1.63683
0.025 0.100 1.91847
0.025 0.125 2.00913
0.025 0.150 1.82222
0.025 0.175 1.70901
0.025 0.200 1.39759
0.025 0.225 1.39089
0.025 0.250 1.04762
0.025 0.275 1.19540
0.025 0.300 1.37045
0.025 0.325 0.75724
0.025 0.350 0.87760
0.025 0.375 1.25280
0.025 0.400 1.57895
0.025 0.425 1.64251
0.025 0.450 1.90476
0.025 0.475 1.80000
0.025 0.500 1.34940
0.025 0.525 1.35593
0.025 0.550 1.53465
0.025 0.575 1.30653
0.025 0.600 1.27321
0.025 0.625 1.71745
0.025 0.650 1.58470
0.025 0.675 1.39175
0.025 0.700 1.37931
0.025 0.725 1.47806
0.025 0.750 1.70787
0.025 0.775 1.59645
0.025 0.800 1.20092
0.025 0.825 1.36919
0.025 0.850 1.69576
0.025 0.875 1.42132
0.025 0.900 1.32992
0.025 0.925 1.29032
0.025 0.950 1.43210
0.025 0.975 1.69231
0.025 1.000 1.40436
0.050 0.025 1.57182
0.050 0.050 1.60428
0.050 0.075 1.57182
0.050 0.100 1.79028
0.050 0.125 1.87050
0.050 0.150 1.91781
0.050 0.175 1.86667
0.050 0.200 1.80139
0.050 0.225 1.34940
0.050 0.250 1.53477
0.050 0.275 1.04762
0.050 0.300 1.19540
0.050 0.325 0.89936
0.050 0.350 0.75724
0.050 0.375 1.06236
0.050 0.400 1.38702
0.050 0.425 1.67464
0.050 0.450 1.59420
0.050 0.475 1.85714
0.050 0.500 1.50000
0.050 0.525 1.49398
0.050 0.550 1.30751
0.050 0.575 1.28713
0.050 0.600 1.25628
0.050 0.625 1.22016
0.050 0.650 1.27424
0.050 0.675 1.25683
0.050 0.700 1.18557
0.050 0.725 1.42857
0.050 0.750 1.47806
0.050 0.775 1.52809
0.050 0.800 1.41907
0.050 0.825 1.24711
0.050 0.850 1.46699
0.050 0.875 1.64589
0.050 0.900 1.37056
0.050 0.925 1.27877
0.050 0.950 1.43921
0.050 0.975 1.82716
0.050 1.000 1.12821
0.075 0.025 1.63683
0.075 0.050 1.51762
0.075 0.075 1.28342
0.075 0.100 1.68022
0.075 0.125 1.53453
0.075 0.150 1.91847
0.075 0.175 1.73516
0.075 0.200 1.51111
0.075 0.225 1.61663
0.075 0.250 1.01205
0.075 0.275 1.19904
0.075 0.300 0.85714
0.075 0.325 0.78161
0.075 0.350 0.98501
0.075 0.375 1.15813
0.075 0.400 1.10855
0.075 0.425 1.29754
0.075 0.450 1.24402
0.075 0.475 1.40097
0.075 0.500 1.38095
0.075 0.525 1.40000
0.075 0.550 1.30120
0.075 0.575 1.21065
0.075 0.600 1.48515
0.075 0.625 1.20603
0.075 0.650 1.22016
0.075 0.675 1.21884
0.075 0.700 1.09290
0.075 0.725 1.34021
0.075 0.750 1.33005
0.075 0.775 1.20092
0.075 0.800 1.21348
0.075 0.825 1.59645
0.075 0.850 1.10855
0.075 0.875 1.22249
0.075 0.900 1.39651
0.075 0.925 1.21827
0.075 0.950 1.43222
0.075 0.975 1.68734
0.075 1.000 1.23457
0.100 0.025 1.91847
0.100 0.050 1.79028
0.100 0.075 1.68022
0.100 0.100 1.39037
0.100 0.125 1.46341
0.100 0.150 1.43222
0.100 0.175 1.63070
0.100 0.200 1.41553
0.100 0.225 1.46667
0.100 0.250 1.38568
0.100 0.275 0.91566
0.100 0.300 1.15108
0.100 0.325 1.00000
0.100 0.350 0.78161
0.100 0.375 1.15632
0.100 0.400 1.51448
0.100 0.425 1.10855
0.100 0.450 1.20805
0.100 0.475 1.19617
0.100 0.500 0.91787
0.100 0.525 1.04762
0.100 0.550 1.25000
0.100 0.575 1.44578
0.100 0.600 1.54964
0.100 0.625 1.63366
0.100 0.650 1.40704
0.100 0.675 1.37931
0.100 0.700 1.32964
0.100 0.725 1.47541
0.100 0.750 1.39175
0.100 0.775 1.13300
0.100 0.800 1.15473
0.100 0.825 1.39326
0.100 0.850 1.33038
0.100 0.875 1.20092
0.100 0.900 1.17359
0.100 0.925 1.49626
0.100 0.950 1.72589
0.100 0.975 1.94373
0.100 1.000 1.53846
0.125 0.025 2.00913
0.125 0.050 1.87050
0.125 0.075 1.53453
0.125 0.100 1.40921
0.125 0.125 1.17647
0.125 0.150 1.08401
0.125 0.175 1.02302
0.125 0.200 1.53477
0.125 0.225 1.23288
0.125 0.250 1.24444
0.125 0.275 1.29330
0.125 0.300 1.06024
0.125 0.325 1.19904
0.125 0.350 1.04762
0.125 0.375 0.96552
0.125 0.400 1.49893
0.125 0.425 1.55902
0.125 0.450 1.06236
0.125 0.475 1.07383
0.125 0.500 0.81340
0.125 0.525 1.25604
0.125 0.550 1.28571
0.125 0.575 1.56171
0.125 0.600 1.63855
0.125 0.625 1.45278
0.125 0.650 1.48515
0.125 0.675 1.45729
0.125 0.700 1.37931
0.125 0.725 1.27424
0.125 0.750 1.31148
0.125 0.775 1.13402
0.125 0.800 1.03448
0.125 0.825 0.96998
0.125 0.850 1.21348
0.125 0.875 1.55211
0.125 0.900 1.33949
0.125 0.925 1.22249
0.125 0.950 1.59601
0.125 0.975 2.28426
0.125 1.000 2.04604
0.150 0.025 1.82222
0.150 0.050 1.91781
0.150 0.075 1.91847
0.150 0.100 1.43222
0.150 0.125 1.08401
0.150 0.150 1.17647
0.150 0.175 1.08401
0.150 0.200 0.76726
0.150 0.225 1.19904
0.150 0.250 1.00457
0.150 0.275 1.33333
0.150 0.300 1.43187
0.150 0.325 1.25301
0.150 0.350 1.19904
0.150 0.375 1.57143
0.150 0.400 1.42529
0.150 0.425 1.54176
0.150 0.450 1.51448
0.150 0.475 0.87760
0.150 0.500 1.25280
0.150 0.525 0.95694
0.150 0.550 1.54589
0.150 0.575 1.42180
0.150 0.600 1.71285
0.150 0.625 1.59036
0.150 0.650 1.54964
0.150 0.675 1.38614
0.150 0.700 1.40704
0.150 0.725 1.53846
0.150 0.750 1.16343
0.150 0.775 0.92896
0.150 0.800 0.92784
0.150 0.825 0.98522
0.150 0.850 1.15473
0.150 0.875 1.30337
0.150 0.900 1.41907
0.150 0.925 1.29330
0.150 0.950 1.51589
0.150 0.975 2.09476
0.150 1.000 2.23350
0.175 0.025 1.70901
0.175 0.050 1.86667
0.175 0.075 1.73516
0.175 0.100 1.63070
0.175 0.125 1.02302
0.175 0.150 1.02981
0.175 0.175 1.17647
0.175 0.200 0.81301
0.175 0.225 0.92072
0.175 0.250 1.48681
0.175 0.275 1.32420
0.175 0.300 1.42222
0.175 0.325 1.33949
0.175 0.350 1.15663
0.175 0.375 1.29496
0.175 0.400 1.47619
0.175 0.425 1.33333
0.175 0.450 1.41328
0.175 0.475 1.24722
0.175 0.500 1.33949
0.175 0.525 1.25280
0.175 0.550 1.14833
0.175 0.575 1.40097
0.175 0.600 1.42180
0.175 0.625 1.51134
0.175 0.650 1.25301
0.175 0.675 1.30751
0.175 0.700 0.94059
0.175 0.725 1.50754
0.175 0.750 1.53846
0.175 0.775 1.10803
0.175 0.800 1.09290
0.175 0.825 1.08247
0.175 0.850 1.28079
0.175 0.875 1.33949
0.175 0.900 1.21348
0.175 0.925 1.41907
0.175 0.950 1.52425
0.175 0.975 1.80929
0.175 1.000 1.69576
0.200 0.025 1.39759
0.200 0.050 1.80139
0.200 0.075 1.51111
0.200 0.100 1.41553
0.200 0.125 1.53477
0.200 0.150 0.76726
0.200 0.175 0.81301
0.200 0.200 1.17647
0.200 0.225 1.08401
0.200 0.250 1.27877
0.200 0.275 1.34293
0.200 0.300 1.32420
0.200 0.325 1.33333
0.200 0.350 1.24711
0.200 0.375 1.25301
0.200 0.400 1.34293
0.200 0.425 1.52381
0.200 0.450 1.10345
0.200 0.475 1.32762
0.200 0.500 1.38085
0.200 0.525 1.43187
0.200 0.550 1.47651
0.200 0.575 1.24402
0.200 0.600 1.15942
0.200 0.625 1.23223
0.200 0.650 1.00756
0.200 0.675 1.25301
0.200 0.700 1.30751
0.200 0.725 1.23762
0.200 0.750 1.65829
0.200 0.775 1.53846
0.200 0.800 0.94183
0.200 0.825 1.20219
0.200 0.850 1.39175
0.200 0.875 1.47783
0.200 0.900 1.29330
0.200 0.925 1.39326
0.200 0.950 1.72949
0.200 0.975 1.84758
0.200 1.000 1.71149
0.225 0.025 1.39089
0.225 0.050 1.34940
0.225 0.075 1.61663
0.225 0.100 1.46667
0.225 0.125 1.23288
0.225 0.150 1.19904
0.225 0.175 0.92072
0.225 0.200 1.08401
0.225 0.225 1.49733
0.225 0.250 1.19241
0.225 0.275 1.22762
0.225 0.300 1.24700
0.225 0.325 1.05023
0.225 0.350 1.15556
0.225 0.375 1.06236
0.225 0.400 1.30120
0.225 0.425 1.19904
0.225 0.450 1.19048
0.225 0.475 1.37931
0.225 0.500 1.45610
0.225 0.525 1.38085
0.225 0.550 1.71694
0.225 0.575 1.74497
0.225 0.600 1.29187
0.225 0.625 1.11111
0.225 0.650 1.51659
0.225 0.675 1.25945
0.225 0.700 1.20482
0.225 0.725 1.54964
0.225 0.750 1.28713
0.225 0.775 2.01005
0.225 0.800 1.80371
0.225 0.825 1.44044
0.225 0.850 1.42077
0.225 0.875 1.34021
0.225 0.900 1.18227
0.225 0.925 1.20092
0.225 0.950 1.39326
0.225 0.975 1.86253
0.225 1.000 2.17090
0.250 0.025 1.04762
0.250 0.050 1.53477
0.250 0.075 1.01205
0.250 0.100 1.38568
0.250 0.125 1.24444
0.250 0.150 1.00457
0.250 0.175 1.48681
0.250 0.200 1.27877
0.250 0.225 1.13821
0.250 0.250 1.39037
0.250 0.275 1.19241
0.250 0.300 1.07417
0.250 0.325 0.95923
0.250 0.350 1.00457
0.250 0.375 1.11111
0.250 0.400 1.29330
0.250 0.425 1.30120
0.250 0.450 1.39089
0.250 0.475 1.52381
0.250 0.500 1.56322
0.250 0.525 1.67024
0.250 0.550 1.55211
0.250 0.575 1.57773
0.250 0.600 1.38702
0.250 0.625 1.29187
0.250 0.650 1.44928
0.250 0.675 1.70616
0.250 0.700 1.25945
0.250 0.725 1.54217
0.250 0.750 1.88862
0.250 0.775 1.58416
0.250 0.800 1.55779
0.250 0.825 1.59151
0.250 0.850 1.27424
0.250 0.875 1.36612
0.250 0.900 1.13402
0.250 0.925 1.03448
0.250 0.950 1.24711
0.250 0.975 1.52809
0.250 1.000 1.68514
0.275 0.025 1.19540
0.275 0.050 1.04762
0.275 0.075 1.19904
0.275 0.100 0.91566
0.275 0.125 1.29330
0.275 0.150 1.33333
0.275 0.175 1.32420
0.275 0.200 1.34293
0.275 0.225 1.22762
0.275 0.250 1.13821
0.275 0.275 1.17647
0.275 0.300 0.81301
0.275 0.325 0.81841
0.275 0.350 0.86331
0.275 0.375 1.09589
0.275 0.400 1.28889
0.275 0.425 1.29330
0.275 0.450 1.44578
0.275 0.475 1.67866
0.275 0.500 1.66667
0.275 0.525 1.70115
0.275 0.550 1.75589
0.275 0.575 1.59645
0.275 0.600 1.39211
0.275 0.625 1.61074
0.275 0.650 1.57895
0.275 0.675 1.54589
0.275 0.700 1.80095
0.275 0.725 1.61209
0.275 0.750 1.68675
0.275 0.775 1.79177
0.275 0.800 1.43564
0.275 0.825 1.50754
0.275 0.850 1.85676
0.275 0.875 1.55125
0.275 0.900 1.25683
0.275 0.925 0.97938
0.275 0.950 0.93596
0.275 0.975 1.29330
0.275 1.000 1.30337
0.300 0.025 1.37045
0.300 0.050 1.19540
0.300 0.075 0.85714
0.300 0.100 1.15108
0.300 0.125 1.06024
0.300 0.150 1.43187
0.300 0.175 1.42222
0.300 0.200 1.32420
0.300 0.225 1.24700
0.300 0.250 1.07417
0.300 0.275 0.70461
0.300 0.300 0.85561
0.300 0.325 1.02981
0.300 0.350 0.86957
0.300 0.375 1.15108
0.300 0.400 1.14155
0.300 0.425 1.15556
0.300 0.450 1.06236
0.300 0.475 1.39759
0.300 0.500 1.82254
0.300 0.525 1.61905
0.300 0.550 1.60920
0.300 0.575 1.54176
0.300 0.600 1.41907
0.300 0.625 1.34571
0.300 0.650 1.47651
0.300 0.675 1.86603
0.300 0.700 1.64251
0.300 0.725 1.61137
0.300 0.750 1.61209
0.300 0.775 1.59036
0.300 0.800 1.69492
0.300 0.825 1.33663
0.300 0.850 1.30653
0.300 0.875 1.75066
0.300 0.900 1.38504
0.300 0.925 1.25683
0.300 0.950 1.08247
0.300 0.975 1.08374
0.300 1.000 1.47806
0.325 0.025 0.75724
0.325 0.050 0.89936
0.325 0.075 0.78161
0.325 0.100 1.00000
0.325 0.125 1.19904
0.325 0.150 1.25301
0.325 0.175 1.33949
0.325 0.200 1.33333
0.325 0.225 1.05023
0.325 0.250 0.95923
0.325 0.275 0.81841
0.325 0.300 1.02981
0.325 0.325 0.96257
0.325 0.350 0.92141
0.325 0.375 1.07417
0.325 0.400 1.19904
0.325 0.425 1.09589
0.325 0.450 0.80000
0.325 0.475 1.06236
0.325 0.500 1.49398
0.325 0.525 1.68675
0.325 0.550 1.57143
0.325 0.575 1.47126
0.325 0.600 1.32762
0.325 0.625 1.46341
0.325 0.650 1.20650
0.325 0.675 1.61074
0.325 0.700 1.81818
0.325 0.725 1.54589
0.325 0.750 1.84834
0.325 0.775 1.30982
0.325 0.800 1.15663
0.325 0.825 0.96852
0.325 0.850 1.23762
0.325 0.875 1.15578
0.325 0.900 1.27321
0.325 0.925 0.94183
0.325 0.950 1.09290
0.325 0.975 0.92784
0.325 1.000 1.03448
0.350 0.025 0.87760
0.350 0.050 0.75724
0.350 0.075 0.98501
0.350 0.100 0.78161
0.350 0.125 1.04762
0.350 0.150 1.19904
0.350 0.175 1.15663
0.350 0.200 1.24711
0.350 0.225 1.15556
0.350 0.250 1.00457
0.350 0.275 0.86331
0.350 0.300 0.86957
0.350 0.325 0.81301
0.350 0.350 0.85561
0.350 0.375 1.08401
0.350 0.400 1.02302
0.350 0.425 1.05516
0.350 0.450 0.91324
0.350 0.475 1.02222
0.350 0.500 1.33949
0.350 0.525 1.77033
0.350 0.550 1.39759
0.350 0.575 1.57143
0.350 0.600 1.42529
0.350 0.625 1.45610
0.350 0.650 1.68514
0.350 0.675 1.48492
0.350 0.700 1.61074
0.350 0.725 1.86603
0.350 0.750 1.59420
0.350 0.775 1.37441
0.350 0.800 1.36020
0.350 0.825 1.10843
0.350 0.850 1.06538
0.350 0.875 1.23762
0.350 0.900 1.05528
0.350 0.925 1.16711
0.350 0.950 0.83102
0.350 0.975 1.03825
0.350 1.000 1.18557
0.375 0.025 1.25280
0.375 0.050 1.06236
0.375 0.075 1.15813
0.375 0.100 1.15632
0.375 0.125 0.96552
0.375 0.150 1.57143
0.375 0.175 1.29496
0.375 0.200 1.25301
0.375 0.225 1.06236
0.375 0.250 1.11111
0.375 0.275 1.09589
0.375 0.300 1.15108
0.375 0.325 1.07417
0.375 0.350 1.02981
0.375 0.375 0.85561
0.375 0.400 1.13821
0.375 0.425 0.97187
0.375 0.450 1.10312
0.375 0.475 0.95890
0.375 0.500 1.20000
0.375 0.525 1.52425
0.375 0.550 1.72249
0.375 0.575 1.49398
0.375 0.600 1.57143
0.375 0.625 1.56322
0.375 0.650 1.58458
0.375 0.675 1.86253
0.375 0.700 1.48492
0.375 0.725 1.61074
0.375 0.750 1.81818
0.375 0.775 1.59420
0.375 0.800 1.46919
0.375 0.825 1.25945
0.375 0.850 1.20482
0.375 0.875 1.06538
0.375 0.900 1.08911
0.375 0.925 1.05528
0.375 0.950 1.22016
0.375 0.975 0.88643
0.375 1.000 1.31148
0.400 0.025 1.57895
0.400 0.050 1.38702
0.400 0.075 1.10855
0.400 0.100 1.51448
0.400 0.125 1.49893
0.400 0.150 1.42529
0.400 0.175 1.47619
0.400 0.200 1.34293
0.400 0.225 1.30120
0.400 0.250 1.29330
0.400 0.275 1.28889
0.400 0.300 1.14155
0.400 0.325 1.19904
0.400 0.350 1.02302
0.400 0.375 1.08401
0.400 0.400 1.28342
0.400 0.425 1.08401
0.400 0.450 1.17647
0.400 0.475 1.43885
0.400 0.500 1.55251
0.400 0.525 1.73333
0.400 0.550 1.43187
0.400 0.575 1.48325
0.400 0.600 1.25301
0.400 0.625 1.71429
0.400 0.650 1.88506
0.400 0.675 1.54176
0.400 0.700 2.12860
0.400 0.725 1.39211
0.400 0.750 1.74497
0.400 0.775 1.72249
0.400 0.800 1.44928
0.400 0.825 1.56398
0.400 0.850 1.25945
0.400 0.875 1.15663
0.400 0.900 1.11380
0.400 0.925 1.23762
0.400 0.950 1.50754
0.400 0.975 1.48541
0.400 1.000 1.05263
0.425 0.025 1.64251
0.425 0.050 1.67464
0.425 0.075 1.29754
0.425 0.100 1.10855
0.425 0.125 1.55902
0.425 0.150 1.54176
0.425 0.175 1.33333
0.425 0.200 1.52381
0.425 0.225 1.19904
0.425 0.250 1.30120
0.425 0.275 1.29330
0.425 0.300 1.15556
0.425 0.325 1.09589
0.425 0.350 1.05516
0.425 0.375 0.97187
0.425 0.400 1.02981
0.425 0.425 1.17647
0.425 0.450 0.97561
0.425 0.475 1.32992
0.425 0.500 1.30435
0.425 0.525 1.55251
0.425 0.550 1.51111
0.425 0.575 1.33949
0.425 0.600 1.48325
0.425 0.625 1.49398
0.425 0.650 1.71429
0.425 0.675 1.79310
0.425 0.700 1.75589
0.425 0.725 1.86253
0.425 0.750 1.57773
0.425 0.775 1.78971
0.425 0.800 1.57895
0.425 0.825 1.54589
0.425 0.850 1.27962
0.425 0.875 1.36020
0.425 0.900 1.25301
0.425 0.925 1.50121
0.425 0.950 1.68317
0.425 0.975 1.65829
0.425 1.000 1.37931
0.450 0.025 1.90476
0.450 0.050 1.59420
0.450 0.075 1.24402
0.450 0.100 1.20805
0.450 0.125 1.06236
0.450 0.150 1.51448
0.450 0.175 1.41328
0.450 0.200 1.10345
0.450 0.225 1.19048
0.450 0.250 1.39089
0.450 0.275 1.44578
0.450 0.300 1.06236
0.450 0.325 0.80000
0.450 0.350 0.91324
0.450 0.375 1.10312
0.450 0.400 1.17647
0.450 0.425 0.97561
0.450 0.450 1.49733
0.450 0.475 1.24661
0.450 0.500 1.32992
0.450 0.525 1.25604
0.450 0.550 1.36986
0.450 0.575 1.24444
0.450 0.600 0.96998
0.450 0.625 1.19617
0.450 0.650 1.39759
0.450 0.675 2.00000
0.450 0.700 1.83908
0.450 0.725 1.41328
0.450 0.750 1.64080
0.450 0.775 1.29930
0.450 0.800 1.52125
0.450 0.825 1.62679
0.450 0.850 1.35266
0.450 0.875 1.23223
0.450 0.900 1.56171
0.450 0.925 1.68675
0.450 0.950 1.98547
0.450 0.975 1.83168
0.450 1.000 1.60804
0.475 0.025 1.80000
0.475 0.050 1.85714
0.475 0.075 1.40097
0.475 0.100 1.19617
0.475 0.125 1.07383
0.475 0.150 0.87760
0.475 0.175 1.20267
0.475 0.200 1.32762
0.475 0.225 1.37931
0.475 0.250 1.52381
0.475 0.275 1.67866
0.475 0.300 1.39759
0.475 0.325 1.06236
0.475 0.350 1.02222
0.475 0.375 0.95890
0.475 0.400 1.43885
0.475 0.425 1.32992
0.475 0.450 1.19241
0.475 0.475 1.39037
0.475 0.500 1.40921
0.475 0.525 1.48338
0.475 0.550 1.35266
0.475 0.575 1.41553
0.475 0.600 1.24444
0.475 0.625 1.15473
0.475 0.650 1.43541
0.475 0.675 1.87952
0.475 0.700 1.66667
0.475 0.725 1.42529
0.475 0.750 1.49893
0.475 0.775 1.55211
0.475 0.800 1.29930
0.475 0.825 1.56600
0.475 0.850 1.53110
0.475 0.875 1.35266
0.475 0.900 1.56398
0.475 0.925 2.01511
0.475 0.950 2.12048
0.475 0.975 2.08232
0.475 1.000 1.68317
0.500 0.025 1.34940
0.500 0.050 1.50000
0.500 0.075 1.38095
0.500 0.100 0.91787
0.500 0.125 0.81340
0.500 0.150 1.25280
0.500 0.175 1.33949
0.500 0.200 1.38085
0.500 0.225 1.45610
0.500 0.250 1.56322
0.500 0.275 1.66667
0.500 0.300 1.82254
0.500 0.325 1.49398
0.500 0.350 1.33949
0.500 0.375 1.20000
0.500 0.400 1.55251
0.500 0.425 1.30435
0.500 0.450 1.32992
0.500 0.475 1.35501
0.500 0.500 1.17647
0.500 0.525 1.30081
0.500 0.550 1.22762
0.500 0.575 1.11111
0.500 0.600 1.36986
0.500 0.625 1.37778
0.500 0.650 1.52425
0.500 0.675 1.67464
0.500 0.700 1.73494
0.500 0.725 1.47619
0.500 0.750 1.33333
0.500 0.775 1.45610
0.500 0.800 1.37472
0.500 0.825 1.71694
0.500 0.850 1.74497
0.500 0.875 1.57895
0.500 0.900 1.64251
0.500 0.925 1.84834
0.500 0.950 2.21662
0.500 0.975 2.45783
0.500 1.000 1.98547
0.525 0.025 1.35593
0.525 0.050 1.49398
0.525 0.075 1.40000
0.525 0.100 1.04762
0.525 0.125 1.25604
0.525 0.150 0.95694
0.525 0.175 1.25280
0.525 0.200 1.43187
0.525 0.225 1.38085
0.525 0.250 1.67024
0.525 0.275 1.70115
0.525 0.300 1.61905
0.525 0.325 1.68675
0.525 0.350 1.77033
0.525 0.375 1.52425
0.525 0.400 1.73333
0.525 0.425 1.55251
0.525 0.450 1.25604
0.525 0.475 1.48338
0.525 0.500 1.19241
0.525 0.525 0.85561
0.525 0.550 1.08401
0.525 0.575 1.07417
0.525 0.600 1.11111
0.525 0.625 1.27854
0.525 0.650 1.51111
0.525 0.675 1.52425
0.525 0.700 1.81818
0.525 0.725 1.68675
0.525 0.750 1.38095
0.525 0.775 1.33333
0.525 0.800 1.28480
0.525 0.825 1.37472
0.525 0.850 1.43852
0.525 0.875 1.29754
0.525 0.900 1.72249
0.525 0.925 1.98068
0.525 0.950 1.89573
0.525 0.975 1.86398
0.525 1.000 2.02410
0.550 0.025 1.53465
0.550 0.050 1.30751
0.550 0.075 1.30120
0.550 0.100 1.25000
0.550 0.125 1.28571
0.550 0.150 1.54589
0.550 0.175 1.14833
0.550 0.200 1.47651
0.550 0.225 1.71694
0.550 0.250 1.55211
0.550 0.275 1.75589
0.550 0.300 1.60920
0.550 0.325 1.57143
0.550 0.350 1.39759
0.550 0.375 1.72249
0.550 0.400 1.43187
0.550 0.425 1.51111
0.550 0.450 1.36986
0.550 0.475 1.35266
0.550 0.500 1.22762
0.550 0.525 1.02981
0.550 0.550 0.74866
0.550 0.575 0.97561
0.550 0.600 0.92072
0.550 0.625 1.11111
0.550 0.650 1.41553
0.550 0.675 1.64444
0.550 0.700 1.47806
0.550 0.725 1.43541
0.550 0.750 1.59036
0.550 0.775 1.09524
0.550 0.800 1.24138
0.550 0.825 1.19914
0.550 0.850 1.37472
0.550 0.875 1.43852
0.550 0.900 1.43177
0.550 0.925 1.57895
0.550 0.950 1.93237
0.550 0.975 1.89573
0.550 1.000 1.71285
0.575 0.025 1.30653
0.575 0.050 1.28713
0.575 0.075 1.21065
0.575 0.100 1.44578
0.575 0.125 1.56171
0.575 0.150 1.42180
0.575 0.175 1.40097
0.575 0.200 1.24402
0.575 0.225 1.74497
0.575 0.250 1.57773
0.575 0.275 1.59645
0.575 0.300 1.54176
0.575 0.325 1.47126
0.575 0.350 1.57143
0.575 0.375 1.49398
0.575 0.400 1.48325
0.575 0.425 1.33949
0.575 0.450 1.24444
0.575 0.475 1.41553
0.575 0.500 1.11111
0.575 0.525 1.07417
0.575 0.550 0.92141
0.575 0.575 0.53476
0.575 0.600 0.92141
0.575 0.625 1.22762
0.575 0.650 1.40097
0.575 0.675 1.55251
0.575 0.700 1.33333
0.575 0.725 1.06236
0.575 0.750 1.33971
0.575 0.775 1.49398
0.575 0.800 1.09524
0.575 0.825 1.05747
0.575 0.850 0.94218
0.575 0.875 0.88692
0.575 0.900 1.39211
0.575 0.925 1.61074
0.575 0.950 1.86603
0.575 0.975 1.88406
0.575 1.000 1.70616
0.600 0.025 1.27321
0.600 0.050 1.25628
0.600 0.075 1.48515
0.600 0.100 1.54964
0.600 0.125 1.63855
0.600 0.150 1.71285
0.600 0.175 1.42180
0.600 0.200 1.15942
0.600 0.225 1.29187
0.600 0.250 1.38702
0.600 0.275 1.39211
0.600 0.300 1.41907
0.600 0.325 1.32762
0.600 0.350 1.42529
0.600 0.375 1.57143
0.600 0.400 1.25301
0.600 0.425 1.48325
0.600 0.450 0.96998
0.600 0.475 1.24444
0.600 0.500 1.36986
0.600 0.525 1.11111
0.600 0.550 0.92072
0.600 0.575 0.86721
0.600 0.600 1.17647
0.600 0.625 1.30081
0.600 0.650 1.48338
0.600 0.675 1.54589
0.600 0.700 1.46119
0.600 0.725 1.28889
0.600 0.750 1.24711
0.600 0.775 1.48325
0.600 0.800 1.30120
0.600 0.825 0.85714
0.600 0.850 0.91954
0.600 0.875 0.81370
0.600 0.900 1.06430
0.600 0.925 1.53132
0.600 0.950 1.83445
0.600 0.975 1.57895
0.600 1.000 1.78744
0.625 0.025 1.71745
0.625 0.050 1.22016
0.625 0.075 1.20603
0.625 0.100 1.63366
0.625 0.125 1.45278
0.625 0.150 1.59036
0.625 0.175 1.51134
0.625 0.200 1.23223
0.625 0.225 1.11111
0.625 0.250 1.29187
0.625 0.275 1.61074
0.625 0.300 1.34571
0.625 0.325 1.46341
0.625 0.350 1.45610
0.625 0.375 1.56322
0.625 0.400 1.71429
0.625 0.425 1.49398
0.625 0.450 1.19617
0.625 0.475 1.15473
0.625 0.500 1.37778
0.625 0.525 1.27854
0.625 0.550 1.11111
0.625 0.575 1.22762
0.625 0.600 1.30081
0.625 0.625 1.49733
0.625 0.650 1.73442
0.625 0.675 1.73913
0.625 0.700 1.83575
0.625 0.725 1.55251
0.625 0.750 1.37778
0.625 0.775 1.47806
0.625 0.800 1.38756
0.625 0.825 1.15663
0.625 0.850 1.00000
0.625 0.875 0.87356
0.625 0.900 1.07066
0.625 0.925 1.37472
0.625 0.950 1.80974
0.625 0.975 2.01342
0.625 1.000 1.53110
0.650 0.025 1.58470
0.650 0.050 1.27424
0.650 0.075 1.22016
0.650 0.100 1.40704
0.650 0.125 1.48515
0.650 0.150 1.54964
0.650 0.175 1.25301
0.650 0.200 1.00756
0.650 0.225 1.51659
0.650 0.250 1.44928
0.650 0.275 1.57895
0.650 0.300 1.47651
0.650 0.325 1.20650
0.650 0.350 1.68514
0.650 0.375 1.58458
0.650 0.400 1.88506
0.650 0.425 1.71429
0.650 0.450 1.39759
0.650 0.475 1.43541
0.650 0.500 1.52425
0.650 0.525 1.51111
0.650 0.550 1.41553
0.650 0.575 1.40097
0.650 0.600 1.48338
0.650 0.625 1.73442
0.650 0.650 1.60428
0.650 0.675 1.78862
0.650 0.700 1.68798
0.650 0.725 1.69082
0.650 0.750 1.55251
0.650 0.775 1.55556
0.650 0.800 1.52425
0.650 0.825 1.24402
0.650 0.850 1.25301
0.650 0.875 0.85714
0.650 0.900 0.78161
0.650 0.925 1.32762
0.650 0.950 1.41907
0.650 0.975 1.80974
0.650 1.000 1.70022
0.675 0.025 1.39175
0.675 0.050 1.25683
0.675 0.075 1.21884
0.675 0.100 1.37931
0.675 0.125 1.45729
0.675 0.150 1.38614
0.675 0.175 1.30751
0.675 0.200 1.25301
0.675 0.225 1.25945
0.675 0.250 1.70616
0.675 0.275 1.54589
0.675 0.300 1.86603
0.675 0.325 1.61074
0.675 0.350 1.48492
0.675 0.375 1.86253
0.675 0.400 1.54176
0.675 0.425 1.79310
0.675 0.450 2.00000
0.675 0.475 1.87952
0.675 0.500 1.67464
0.675 0.525 1.52425
0.675 0.550 1.64444
0.675 0.575 1.55251
0.675 0.600 1.54589
0.675 0.625 1.73913
0.675 0.650 1.62602
0.675 0.675 1.81818
0.675 0.700 1.95122
0.675 0.725 1.27877
0.675 0.750 1.69082
0.675 0.775 1.64384
0.675 0.800 1.42222
0.675 0.825 1.47806
0.675 0.850 1.29187
0.675 0.875 1.01205
0.675 0.900 0.76190
0.675 0.925 0.82759
0.675 0.950 1.37045
0.675 0.975 1.72949
0.675 1.000 1.53132
0.700 0.025 1.37931
0.700 0.050 1.18557
0.700 0.075 1.09290
0.700 0.100 1.32964
0.700 0.125 1.37931
0.700 0.150 1.40704
0.700 0.175 0.94059
0.700 0.200 1.30751
0.700 0.225 1.20482
0.700 0.250 1.25945
0.700 0.275 1.80095
0.700 0.300 1.64251
0.700 0.325 1.81818
0.700 0.350 1.61074
0.700 0.375 1.48492
0.700 0.400 2.12860
0.700 0.425 1.75589
0.700 0.450 1.83908
0.700 0.475 1.66667
0.700 0.500 1.73494
0.700 0.525 1.81818
0.700 0.550 1.47806
0.700 0.575 1.33333
0.700 0.600 1.46119
0.700 0.625 1.83575
0.700 0.650 1.68798
0.700 0.675 1.78862
0.700 0.700 2.24599
0.700 0.725 1.89702
0.700 0.750 1.58568
0.700 0.775 1.78744
0.700 0.800 1.55251
0.700 0.825 1.55556
0.700 0.850 1.47806
0.700 0.875 1.33971
0.700 0.900 0.81928
0.700 0.925 0.71429
0.700 0.950 0.73563
0.700 0.975 1.32762
0.700 1.000 1.33038
0.725 0.025 1.47806
0.725 0.050 1.42857
0.725 0.075 1.34021
0.725 0.100 1.47541
0.725 0.125 1.27424
0.725 0.150 1.53846
0.725 0.175 1.50754
0.725 0.200 1.23762
0.725 0.225 1.54964
0.725 0.250 1.54217
0.725 0.275 1.61209
0.725 0.300 1.61137
0.725 0.325 1.54589
0.725 0.350 1.86603
0.725 0.375 1.61074
0.725 0.400 1.39211
0.725 0.425 1.86253
0.725 0.450 1.41328
0.725 0.475 1.42529
0.725 0.500 1.47619
0.725 0.525 1.68675
0.725 0.550 1.43541
0.725 0.575 1.06236
0.725 0.600 1.28889
0.725 0.625 1.55251
0.725 0.650 1.69082
0.725 0.675 1.27877
0.725 0.700 1.84282
0.725 0.725 2.03209
0.725 0.750 2.00542
0.725 0.775 1.63683
0.725 0.800 1.73913
0.725 0.825 1.78082
0.725 0.850 1.68889
0.725 0.875 1.57044
0.725 0.900 1.00478
0.725 0.925 0.72289
0.725 0.950 1.00000
0.725 0.975 0.82759
0.725 1.000 1.24197
0.750 0.025 1.70787
0.750 0.050 1.47806
0.750 0.075 1.33005
0.750 0.100 1.39175
0.750 0.125 1.31148
0.750 0.150 1.16343
0.750 0.175 1.53846
0.750 0.200 1.65829
0.750 0.225 1.28713
0.750 0.250 1.88862
0.750 0.275 1.68675
0.750 0.300 1.61209
0.750 0.325 1.84834
0.750 0.350 1.59420
0.750 0.375 1.81818
0.750 0.400 1.74497
0.750 0.425 1.57773
0.750 0.450 1.64080
0.750 0.475 1.49893
0.750 0.500 1.33333
0.750 0.525 1.38095
0.750 0.550 1.59036
0.750 0.575 1.33971
0.750 0.600 1.24711
0.750 0.625 1.37778
0.750 0.650 1.55251
0.750 0.675 1.69082
0.750 0.700 1.58568
0.750 0.725 1.95122
0.750 0.750 2.13904
0.750 0.775 1.84282
0.750 0.800 1.43222
0.750 0.825 1.54589
0.750 0.850 1.73516
0.750 0.875 1.64444
0.750 0.900 1.20092
0.750 0.925 0.95694
0.750 0.950 0.86747
0.750 0.975 1.23810
0.750 1.000 1.33333
0.775 0.025 1.55211
0.775 0.050 1.52809
0.775 0.075 1.20092
0.775 0.100 1.13300
0.775 0.125 1.13402
0.775 0.150 0.92896
0.775 0.175 1.10803
0.775 0.200 1.53846
0.775 0.225 2.01005
0.775 0.250 1.58416
0.775 0.275 1.79177
0.775 0.300 1.59036
0.775 0.325 1.30982
0.775 0.350 1.37441
0.775 0.375 1.59420
0.775 0.400 1.72249
0.775 0.425 1.78971
0.775 0.450 1.29930
0.775 0.475 1.55211
0.775 0.500 1.45610
0.775 0.525 1.33333
0.775 0.550 1.09524
0.775 0.575 1.49398
0.775 0.600 1.48325
0.775 0.625 1.47806
0.775 0.650 1.55556
0.775 0.675 1.64384
0.775 0.700 1.78744
0.775 0.725 1.63683
0.775 0.750 1.73442
0.775 0.775 1.92513
0.775 0.800 1.46341
0.775 0.825 1.43222
0.775 0.850 1.59420
0.775 0.875 1.55251
0.775 0.900 1.15556
0.775 0.925 1.06236
0.775 0.950 0.81340
0.775 0.975 1.25301
0.775 1.000 1.47619
0.800 0.025 1.20092
0.800 0.050 1.41907
0.800 0.075 1.21348
0.800 0.100 1.15473
0.800 0.125 1.03448
0.800 0.150 0.92784
0.800 0.175 1.09290
0.800 0.200 0.94183
0.800 0.225 1.80371
0.800 0.250 1.55779
0.800 0.275 1.43564
0.800 0.300 1.69492
0.800 0.325 1.15663
0.800 0.350 1.36020
0.800 0.375 1.46919
0.800 0.400 1.44928
0.800 0.425 1.57895
0.800 0.450 1.52125
0.800 0.475 1.29930
0.800 0.500 1.37472
0.800 0.525 1.28480
0.800 0.550 1.24138
0.800 0.575 1.09524
0.800 0.600 1.30120
0.800 0.625 1.38756
0.800 0.650 1.52425
0.800 0.675 1.42222
0.800 0.700 1.55251
0.800 0.725 1.73913
0.800 0.750 1.43222
0.800 0.775 1.35501
0.800 0.800 1.17647
0.800 0.825 1.30081
0.800 0.850 1.32992
0.800 0.875 1.49758
0.800 0.900 1.36986
0.800 0.925 1.06667
0.800 0.950 1.10855
0.800 0.975 1.29187
0.800 1.000 1.20482
0.825 0.025 1.36919
0.825 0.050 1.24711
0.825 0.075 1.59645
0.825 0.100 1.39326
0.825 0.125 0.96998
0.825 0.150 0.98522
0.825 0.175 1.08247
0.825 0.200 1.20219
0.825 0.225 1.44044
0.825 0.250 1.59151
0.825 0.275 1.50754
0.825 0.300 1.33663
0.825 0.325 0.96852
0.825 0.350 1.10843
0.825 0.375 1.25945
0.825 0.400 1.56398
0.825 0.425 1.54589
0.825 0.450 1.62679
0.825 0.475 1.56600
0.825 0.500 1.71694
0.825 0.525 1.37472
0.825 0.550 1.19914
0.825 0.575 1.05747
0.825 0.600 0.85714
0.825 0.625 1.15663
0.825 0.650 1.24402
0.825 0.675 1.47806
0.825 0.700 1.55556
0.825 0.725 1.78082
0.825 0.750 1.54589
0.825 0.775 1.43222
0.825 0.800 1.30081
0.825 0.825 1.49733
0.825 0.850 1.35501
0.825 0.875 1.22762
0.825 0.900 1.44928
0.825 0.925 1.14155
0.825 0.950 1.11111
0.825 0.975 1.24711
0.825 1.000 1.24402
0.850 0.025 1.69576
0.850 0.050 1.46699
0.850 0.075 1.10855
0.850 0.100 1.33038
0.850 0.125 1.21348
0.850 0.150 1.15473
0.850 0.175 1.28079
0.850 0.200 1.39175
0.850 0.225 1.42077
0.850 0.250 1.27424
0.850 0.275 1.85676
0.850 0.300 1.30653
0.850 0.325 1.23762
0.850 0.350 1.06538
0.850 0.375 1.20482
0.850 0.400 1.25945
0.850 0.425 1.27962
0.850 0.450 1.35266
0.850 0.475 1.53110
0.850 0.500 1.74497
0.850 0.525 1.43852
0.850 0.550 1.37472
0.850 0.575 0.94218
0.850 0.600 0.91954
0.850 0.625 1.00000
0.850 0.650 1.25301
0.850 0.675 1.29187
0.850 0.700 1.47806
0.850 0.725 1.68889
0.850 0.750 1.73516
0.850 0.775 1.59420
0.850 0.800 1.32992
0.850 0.825 1.35501
0.850 0.850 1.60428
0.850 0.875 1.19241
0.850 0.900 1.22762
0.850 0.925 1.25604
0.850 0.950 1.18721
0.850 0.975 1.11111
0.850 1.000 1.29330
0.875 0.025 1.42132
0.875 0.050 1.64589
0.875 0.075 1.22249
0.875 0.100 1.20092
0.875 0.125 1.55211
0.875 0.150 1.30337
0.875 0.175 1.33949
0.875 0.200 1.47783
0.875 0.225 1.34021
0.875 0.250 1.36612
0.875 0.275 1.55125
0.875 0.300 1.75066
0.875 0.325 1.15578
0.875 0.350 1.23762
0.875 0.375 1.06538
0.875 0.400 1.15663
0.875 0.425 1.36020
0.875 0.450 1.23223
0.875 0.475 1.35266
0.875 0.500 1.57895
0.875 0.525 1.29754
0.875 0.550 1.43852
0.875 0.575 0.88692
0.875 0.600 0.81370
0.875 0.625 0.87356
0.875 0.650 0.85714
0.875 0.675 1.01205
0.875 0.700 1.33971
0.875 0.725 1.57044
0.875 0.750 1.64444
0.875 0.775 1.55251
0.875 0.800 1.49758
0.875 0.825 1.22762
0.875 0.850 1.19241
0.875 0.875 1.39037
0.875 0.900 1.24661
0.875 0.925 1.12532
0.875 0.950 1.35266
0.875 0.975 1.14155
0.875 1.000 1.28889
0.900 0.025 1.32992
0.900 0.050 1.37056
0.900 0.075 1.39651
0.900 0.100 1.17359
0.900 0.125 1.33949
0.900 0.150 1.41907
0.900 0.175 1.21348
0.900 0.200 1.29330
0.900 0.225 1.18227
0.900 0.250 1.13402
0.900 0.275 1.25683
0.900 0.300 1.38504
0.900 0.325 1.27321
0.900 0.350 1.05528
0.900 0.375 1.08911
0.900 0.400 1.11380
0.900 0.425 1.25301
0.900 0.450 1.56171
0.900 0.475 1.56398
0.900 0.500 1.64251
0.900 0.525 1.72249
0.900 0.550 1.43177
0.900 0.575 1.39211
0.900 0.600 1.01996
0.900 0.625 1.07066
0.900 0.650 0.78161
0.900 0.675 0.76190
0.900 0.700 0.81928
0.900 0.725 1.00478
0.900 0.750 1.20092
0.900 0.775 1.15556
0.900 0.800 1.36986
0.900 0.825 1.44928
0.900 0.850 1.22762
0.900 0.875 1.13821
0.900 0.900 1.49733
0.900 0.925 1.08401
0.900 0.950 1.22762
0.900 0.975 1.06280
0.900 1.000 1.23288
0.925 0.025 1.29032
0.925 0.050 1.27877
0.925 0.075 1.21827
0.925 0.100 1.49626
0.925 0.125 1.22249
0.925 0.150 1.29330
0.925 0.175 1.41907
0.925 0.200 1.39326
0.925 0.225 1.20092
0.925 0.250 1.03448
0.925 0.275 0.97938
0.925 0.300 1.25683
0.925 0.325 0.94183
0.925 0.350 1.16711
0.925 0.375 1.05528
0.925 0.400 1.23762
0.925 0.425 1.50121
0.925 0.450 1.68675
0.925 0.475 2.01511
0.925 0.500 1.84834
0.925 0.525 1.98068
0.925 0.550 1.57895
0.925 0.575 1.61074
0.925 0.600 1.53132
0.925 0.625 1.33038
0.925 0.650 1.32762
0.925 0.675 0.82759
0.925 0.700 0.71429
0.925 0.725 0.72289
0.925 0.750 0.95694
0.925 0.775 1.06236
0.925 0.800 1.06667
0.925 0.825 1.14155
0.925 0.850 1.25604
0.925 0.875 1.12532
0.925 0.900 1.08401
0.925 0.925 1.28342
0.925 0.950 1.24661
0.925 0.975 1.32992
0.925 1.000 1.06280
0.950 0.025 1.43210
0.950 0.050 1.43921
0.950 0.075 1.43222
0.950 0.100 1.72589
0.950 0.125 1.59601
0.950 0.150 1.51589
0.950 0.175 1.52425
0.950 0.200 1.72949
0.950 0.225 1.39326
0.950 0.250 1.24711
0.950 0.275 0.93596
0.950 0.300 1.08247
0.950 0.325 1.09290
0.950 0.350 0.83102
0.950 0.375 1.22016
0.950 0.400 1.50754
0.950 0.425 1.68317
0.950 0.450 1.98547
0.950 0.475 2.12048
0.950 0.500 2.21662
0.950 0.525 1.89573
0.950 0.550 1.93237
0.950 0.575 1.86603
0.950 0.600 1.83445
0.950 0.625 1.80974
0.950 0.650 1.41907
0.950 0.675 1.37045
0.950 0.700 0.73563
0.950 0.725 1.00000
0.950 0.750 0.86747
0.950 0.775 0.81340
0.950 0.800 1.10855
0.950 0.825 1.11111
0.950 0.850 1.18721
0.950 0.875 1.35266
0.950 0.900 1.22762
0.950 0.925 1.24661
0.950 0.950 1.39037
0.950 0.975 1.08401
0.950 1.000 1.12532
0.975 0.025 1.69231
0.975 0.050 1.82716
0.975 0.075 1.68734
0.975 0.100 1.94373
0.975 0.125 2.28426
0.975 0.150 2.09476
0.975 0.175 1.80929
0.975 0.200 1.84758
0.975 0.225 1.86253
0.975 0.250 1.52809
0.975 0.275 1.29330
0.975 0.300 1.08374
0.975 0.325 0.92784
0.975 0.350 1.03825
0.975 0.375 0.88643
0.975 0.400 1.48541
0.975 0.425 1.65829
0.975 0.450 1.83168
0.975 0.475 2.08232
0.975 0.500 2.45783
0.975 0.525 1.86398
0.975 0.550 1.89573
0.975 0.575 1.88406
0.975 0.600 1.57895
0.975 0.625 2.01342
0.975 0.650 1.80974
0.975 0.675 1.72949
0.975 0.700 1.32762
0.975 0.725 0.82759
0.975 0.750 1.23810
0.975 0.775 1.25301
0.975 0.800 1.29187
0.975 0.825 1.24711
0.975 0.850 1.11111
0.975 0.875 1.14155
0.975 0.900 1.06280
0.975 0.925 1.32992
0.975 0.950 1.08401
0.975 0.975 1.49733
0.975 1.000 1.62602
1.000 0.025 1.40436
1.000 0.050 1.12821
1.000 0.075 1.23457
1.000 0.100 1.53846
1.000 0.125 2.04604
1.000 0.150 2.23350
1.000 0.175 1.69576
1.000 0.200 1.71149
1.000 0.225 2.17090
1.000 0.250 1.68514
1.000 0.275 1.30337
1.000 0.300 1.47806
1.000 0.325 1.03448
1.000 0.350 1.18557
1.000 0.375 1.31148
1.000 0.400 1.05263
1.000 0.425 1.37931
1.000 0.450 1.60804
1.000 0.475 1.68317
1.000 0.500 1.98547
1.000 0.525 2.02410
1.000 0.550 1.71285
1.000 0.575 1.70616
1.000 0.600 1.78744
1.000 0.625 1.53110
1.000 0.650 1.70022
1.000 0.675 1.53132
1.000 0.700 1.33038
1.000 0.725 1.24197
1.000 0.750 1.33333
1.000 0.775 1.47619
1.000 0.800 1.20482
1.000 0.825 1.24402
1.000 0.850 1.29330
1.000 0.875 1.28889
1.000 0.900 1.23288
1.000 0.925 1.06280
1.000 0.950 1.12532
1.000 0.975 1.57182
1.000 1.000 1.49733

From wsimpson at uwinnipeg.ca  Mon Apr 27 23:23:41 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Mon, 27 Apr 1998 16:23:41 -0500 (CDT)
Subject: R-beta: vectors in dataframe?
In-Reply-To: <Pine.SUN.3.95.980427115013.3679A-100000@chekov>
Message-ID: <Pine.OSF.3.95.980427162252.13741B-100000@io.uwinnipeg.ca>

PS I am using R-snapshot.  Maybe this is a problem introduced by new
dataframe stuff, and I should be posting to r-devel?

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 27 23:47:10 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 1998 23:47:10 +0200
Subject: R-beta: vectors in dataframe?
In-Reply-To: Bill Simpson's message of Mon, 27 Apr 1998 16:19:48 -0500 (CDT)
References: <Pine.OSF.3.95.980427161243.15393A-200000@io.uwinnipeg.ca>
Message-ID: <x2emyjc4yp.fsf@biostat.ku.dk>

Bill Simpson <wsimpson at uwinnipeg.ca> writes:

> > thingy<-read.table(file="rstuff/output.cif3")
> > thingy$tau1
> NULL
> > thingy[,"tau1"]
> Error: subscript out of bounds
> > attach(thingy)
> > tau1
> Error: Object "tau1" not found
>  but
> > thingy
> lists the row number, tau1, tau2, p3cond
> i.e. all the data as 4 cols of numbers (up to row 1601).

My students keep doing that too... 

If you look more closely, you'll see that what looks like column names
are really the first line of observations. You need to tell R that the
first line of the input file contains the column names

read.table(....., header=T)

should do it. And for a sanity check on your data frames, I suggest to
make a habit of

summary(thingy)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at fisher.stats.uwo.ca  Tue Apr 28 00:12:40 1998
From: jkawczak at fisher.stats.uwo.ca (Janusz Kawczak)
Date: Mon, 27 Apr 1998 18:12:40 -0400 (EDT)
Subject: R-beta: vectors in dataframe?
In-Reply-To: <x2emyjc4yp.fsf@biostat.ku.dk>
Message-ID: <XFMail.980427181240.jkawczak@fisher.stats.uwo.ca>


On 27-Apr-98 Peter Dalgaard BSA wrote:
> Bill Simpson <wsimpson at uwinnipeg.ca> writes:
> 
>> > thingy<-read.table(file="rstuff/output.cif3")
>> > thingy$tau1
>> NULL
>> > thingy[,"tau1"]
>> Error: subscript out of bounds
>> > attach(thingy)
>> > tau1
>> Error: Object "tau1" not found
>>  but
>> > thingy
>> lists the row number, tau1, tau2, p3cond
>> i.e. all the data as 4 cols of numbers (up to row 1601).
> 
> My students keep doing that too... 
> 
> If you look more closely, you'll see that what looks like column names
> are really the first line of observations. You need to tell R that the
> first line of the input file contains the column names
> 
>read.table(.........,header=T)
> 
> should do it. And for a sanity check on your data frames, I suggest to
> make a habit of
> 
> summary(thingy)

or you can control the names of the columns by

read.table(......., col.names=c("tau1",....))

This give you more flexibility with the names (in case you like to rename it).

John. 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
E-Mail: Janusz Kawczak <jkawczak at fisher.stats.uwo.ca>
finger for the public PGP key
Date: 27-Apr-98
Time: 18:07:12
>>>>>> Windows95 - the world's first NON-operating system. <<<<<<
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Apr 28 15:17:04 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 28 Apr 1998 08:17:04 -0500 (CDT)
Subject: R-beta: vectors in dataframe?
In-Reply-To: <x2emyjc4yp.fsf@biostat.ku.dk>
Message-ID: <Pine.OSF.3.95.980428081607.9383A-100000@io.uwinnipeg.ca>

Thanks very much everyone! Just forgot to say header=T.
Sorry for such a low-level question.

Bill Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Apr 28 17:28:21 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 28 Apr 1998 10:28:21 -0500 (CDT)
Subject: R-beta: image(x,y,z)?
Message-ID: <Pine.OSF.3.95.980428095202.13317A-100000@io.uwinnipeg.ca>

Ok now I've read in my dataframe.  The file is set up like this:
x y z
1 1 1 
1 2 2
1 3 5
2 1 3
2 2 9
2 3 2
3 1 8
3 2 4
3 3 7

I can get at data$x, data$y, data$z. I want to do an image plot.  Ideally
image (or a relative of image) would accept the vectors data$x, data$y,
data$z as arguments. (After all, if you can do plot(x,y) on vectors x and
y, why can't you do image(x,y,z) on vectors x, y, and z?) However it
doesn't work like that.

I have been fooling around with image. The examples show something like
x<-seq(0,1)
y<-x
func<-function(x,y) {x/(x+y)}
z<-outer(x,y,"func")
image(z)
or 
image(x,y,z)

The bit with outer is required to make z a matrix.

I tried this idea:
 x<-seq(1,4)
 y<-x
 z<-seq(1,16)
 func<-function(x,y) {z}
 z<-outer(x,y,"func")
# z
#     [,1] [,2] [,3] [,4]
#[1,]    1    5    9   13
#[2,]    2    6   10   14
#[3,]    3    7   11   15
#[4,]    4    8   12   16

image(x,y,z,col=gray(16:1/16))

I still have the problem that in reality my x and y vectors are not in
ascending order as required by image.
Anyway, can someone please explain how to get my data into a form
acceptable to image?  Thanks very much!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Apr 28 17:59:01 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 28 Apr 1998 08:59:01 -0700 (PDT)
Subject: R-beta: image(x,y,z)?
In-Reply-To: <Pine.OSF.3.95.980428095202.13317A-100000@io.uwinnipeg.ca>
Message-ID: <Pine.SUN.3.95.980428084934.6577B-100000@chekov>

On Tue, 28 Apr 1998, Bill Simpson wrote:

> 
> I can get at data$x, data$y, data$z. I want to do an image plot.  Ideally
> image (or a relative of image) would accept the vectors data$x, data$y,
> data$z as arguments. (After all, if you can do plot(x,y) on vectors x and
> y, why can't you do image(x,y,z) on vectors x, y, and z?) However it
> doesn't work like that.
> 

The real reason is that it isn't written that way.  There is a good
rationalisation, though.  image() is a surface plot, not a 3-d
scatterplot, and so it is necessary that z is defined at every point on
the x,y grid (otherwise we don't know what color to plot). This is hard to
ensure when you have image(x,y,z) for vectors

> Anyway, can someone please explain how to get my data into a form
> acceptable to image?  Thanks very much!

In fact, you don't need z to be a matrix.  What you need is 
length(z)=length(x)*length(y)
x increasing
y increasing

The idea is that values of z are ordered in the same way as if it were
generated by outer(x,y,somefunction), which will generally be how it was
generated.

We probably shouldn't require x and y to be increasing -- we could still
assume z is ordered as if it were outer(x,y,somefunction).

Anyway, one thing you can do if you have the full x and y vectors is

	image(unique(x),unique(y),z)

If you have full-length x and y vectors that are not in the right order
you can use 

o<-order(y,x)
image(unique(x[o]),unique(y[o]),z[o])

which should probably be built in to image().

Thomas Lumley
------------------------
Biostatistics		
Uni of Washington	
Box 357232		
Seattle WA 98195-7232	
------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Tue Apr 28 18:30:12 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Tue, 28 Apr 1998 11:30:12 -0500 (CDT)
Subject: R-beta: image(x,y,z)?
In-Reply-To: <Pine.SUN.3.95.980428084934.6577B-100000@chekov>
Message-ID: <Pine.OSF.3.95.980428111905.16035A-100000@io.uwinnipeg.ca>

Thanks very much Thomas!  Your solution works well!

> > I can get at data$x, data$y, data$z. I want to do an image plot.  Ideally
> > image (or a relative of image) would accept the vectors data$x, data$y,
> > data$z as arguments. (After all, if you can do plot(x,y) on vectors x and
> > y, why can't you do image(x,y,z) on vectors x, y, and z?) However it
> > doesn't work like that.
> 
> The real reason is that it isn't written that way.  There is a good
> rationalisation, though.  image() is a surface plot, not a 3-d
> scatterplot, and so it is necessary that z is defined at every point on
> the x,y grid (otherwise we don't know what color to plot). This is hard to
> ensure when you have image(x,y,z) for vectors
OK I get it.
I guess it would be possible to use x,y,z vector inputs (all same length)
as scatterplot; where is z is not defined at some (x,y), the colour of
that cell could be white or black. One could think of this plot as a
picture of a marked spatial point process if most of the cells are empty.
I am not saying this would necessarily make sense as image(), but maybe as
scatterimage().

Thanks again.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Apr 29 00:26:58 1998
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 29 Apr 1998 10:26:58 +1200
Subject: R-beta: Copy/use  and Copy/omit on dataframes
In-Reply-To: <Pine.OSF.3.95.980428081607.9383A-100000@io.uwinnipeg.ca>
References: <x2emyjc4yp.fsf@biostat.ku.dk>
Message-ID: <3.0.3.32.19980429102658.00bddb10@pop.stats.waikato.ac.nz>

At 08:17 28/04/98 -0500, Bill Simpson wrote:
>Thanks very much everyone! Just forgot to say header=T.
>Sorry for such a low-level question.
>
>Bill Simpson

Well as a low level newbie I appreciate Bill's low level questions.

Here's one from me:

How do you copy from one data frame to another including or omitting rows
according to the values in one of the columns.

Past or present Minitab users will know what I am talking about!


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.cs.waikato.ac.nz/stats/Staff/maj.html       - Henri Poincare'
    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 29 00:47:18 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Apr 1998 00:47:18 +0200
Subject: R-beta: Copy/use  and Copy/omit on dataframes
In-Reply-To: Murray Jorgensen's message of Wed, 29 Apr 1998 10:26:58 +1200
References: <x2emyjc4yp.fsf@biostat.ku.dk>
	<3.0.3.32.19980429102658.00bddb10@pop.stats.waikato.ac.nz>
Message-ID: <x2vhrtk1hl.fsf@biostat.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> How do you copy from one data frame to another including or omitting rows
> according to the values in one of the columns.
> 
> Past or present Minitab users will know what I am talking about!

Um, not knowing Minitab, I'm not sure that I do... Will subset() do
what you need?

e.g. new.frame<-subset(old.frame,age>25)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Wed Apr 29 01:48:09 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 29 Apr 1998 09:18:09 +0930
Subject: R-beta: image(x,y,z)?
In-Reply-To: <Pine.SUN.3.95.980428084934.6577B-100000@chekov>
References: <Pine.OSF.3.95.980428095202.13317A-100000@io.uwinnipeg.ca>
	<Pine.SUN.3.95.980428084934.6577B-100000@chekov>
Message-ID: <9804282348.AA10601@attunga.stats.adelaide.edu.au>

Thomas Lumley writes:
 > On Tue, 28 Apr 1998, Bill Simpson wrote:
 > 
 > > 
 > > I can get at data$x, data$y, data$z. I want to do an image
 > > plot.  Ideally image (or a relative of image) would accept
 > > the vectors data$x, data$y, data$z as arguments. (After all,
 > > if you can do plot(x,y) on vectors x and y, why can't you do
 > > image(x,y,z) on vectors x, y, and z?) However it doesn't
 > > work like that.
 > > 
 > 
 > The real reason is that it isn't written that way.  There is a
 > good rationalisation, though.  image() is a surface plot, not
 > a 3-d scatterplot, and so it is necessary that z is defined at
 > every point on the x,y grid (otherwise we don't know what
 > color to plot). This is hard to ensure when you have
 > image(x,y,z) for vectors
 > 

Interestingly enough, Tr*llis seems to be on Bill Simpson's side.
lev*lplot(), wir*frame() and contourpl*t() all require x, y and z
of equal length, *but* with the necessary grid structure, thank
you.  The first job these functions do, of course, is to collapse
x and y to short vectors and make z (effectively) a matrix.  It
seems to me the restriction is a bit unnecessary, and if the
cross structure were not there some default (or even specified)
interpolation process could be used to fudge it.

\begin{idleMusing}
Apropos of that, has any thought been given to implementing a
Tr*llis-style graphics system in R?  I presume the copyright
protection issues would be extreme (hence my paranoid caution in
not even mentioning full names...:-), but I do think the matter
is important.  I don't pretend to have a full answer to this one.
Tr*llis looks to me like about a decade's work, off an on, in the
planning and design stages and the result is wonderful.  The
designer should have full recognition of that and entitled to
copyright protection on his work, but if R is to be a modern
graphics system it has to have multi-paneled conditioning at
least.  Has anyone thought about graphics in R, perhaps with a
view to putting together a quite different scheme of high quality
graphics procedures?  Tr*llis may be excellent, but it does not
have to be unique.  I would even favour an entirely different
scheme that could stand as a real alternative to Tr*llis rather
than a simple immitator, but that is going to take real talent.
\end{idleMusing}

Bill.

-- 
Bill Venables, Head, Dept of Statistics,    Tel.: +61 8 8303 5418
University of Adelaide,                     Fax.: +61 8 8303 3696
South AUSTRALIA.     5005.   Email: Bill.Venables at adelaide.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Apr 29 03:38:12 1998
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 29 Apr 1998 13:38:12 +1200
Subject: R-beta: Copy/use  and Copy/omit on dataframes
In-Reply-To: <x2vhrtk1hl.fsf@biostat.ku.dk>
References: <Murray Jorgensen's message of Wed, 29 Apr 1998 10:26:58 +1200>
 <x2emyjc4yp.fsf@biostat.ku.dk>
 <3.0.3.32.19980429102658.00bddb10@pop.stats.waikato.ac.nz>
Message-ID: <3.0.3.32.19980429133812.00a31a90@pop.stats.waikato.ac.nz>

At 00:47 29/04/98 +0200, Peter Dalgaard BSA wrote:
>Murray Jorgensen <maj at waikato.ac.nz> writes:
>
>> How do you copy from one data frame to another including or omitting rows
>> according to the values in one of the columns.
>> 
>> Past or present Minitab users will know what I am talking about!
>
>Um, not knowing Minitab, I'm not sure that I do... Will subset() do
>what you need?
>
>e.g. new.frame<-subset(old.frame,age>25)
>

Apparently not!  In R 0.49

> summary(zinc)
       MSol              MTot           HFO               pH      
 Min.   :  0.086   Min.   : 200   Min.   : 1.611   Min.   :7.25  
 1st Qu.:  3.404   1st Qu.: 400   1st Qu.: 2.820   1st Qu.:7.50  
 Median : 70.150   Median : 600   Median : 5.640   Median :7.75  
 Mean   :222.200   Mean   : 600   Mean   : 7.252   Mean   :7.75  
 3rd Qu.:361.700   3rd Qu.: 800   3rd Qu.:10.070   3rd Qu.:8.00  
 Max.   :923.400   Max.   :1000   Max.   :16.110   Max.   :8.25  
>  zinc775 _ subset(zinc,pH=7.75)
Error: couldn't find function "subset"
> 

And in S-PLUS 4.0 release 2:

> zinc775 _ subset(zinc,pH=7.75)
Error in .C("S_api_get_message",: couldn't find function "subset"
Dumped
> 

>-- 
>   O__  ---- Peter Dalgaard             Blegdamsvej 3  
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>
>
Dr Murray Jorgensen    http://www.cs.waikato.ac.nz/stats/Staff/maj.html
Department of Statistics, University of Waikato, Hamilton,  New Zealand
*Applications Editor, Australian and New Zealand Journal of Statistics*
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4666

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Apr 29 04:34:39 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 29 Apr 1998 14:34:39 +1200 (NZST)
Subject: R-beta: image(x,y,z)?
In-Reply-To: <9804282348.AA10601@attunga.stats.adelaide.edu.au>
References: <Pine.OSF.3.95.980428095202.13317A-100000@io.uwinnipeg.ca>
	<Pine.SUN.3.95.980428084934.6577B-100000@chekov>
	<9804282348.AA10601@attunga.stats.adelaide.edu.au>
Message-ID: <199804290234.OAA07623@stat1.stat.auckland.ac.nz>

Bill Venables writes:
 > \begin{idleMusing}
 > Apropos of that, has any thought been given to implementing a
 > Tr*llis-style graphics system in R?  I presume the copyright
 > protection issues would be extreme (hence my paranoid caution in
 > not even mentioning full names...:-), but I do think the matter
 > is important.  I don't pretend to have a full answer to this one.
 > Tr*llis looks to me like about a decade's work, off an on, in the
 > planning and design stages and the result is wonderful.  The
 > designer should have full recognition of that and entitled to
 > copyright protection on his work, but if R is to be a modern
 > graphics system it has to have multi-paneled conditioning at
 > least.  Has anyone thought about graphics in R, perhaps with a
 > view to putting together a quite different scheme of high quality
 > graphics procedures?  Tr*llis may be excellent, but it does not
 > have to be unique.  I would even favour an entirely different
 > scheme that could stand as a real alternative to Tr*llis rather
 > than a simple immitator, but that is going to take real talent.
 > \end{idleMusing}

I have also come to the conclusion that the R graphics model has to
go.  It was a quick hack which was meant to fill a gap until the real
thing happened.  The present model is an imitation of the GRZ package
developed at Bell Labs before S came on the scene.  It is based on
arcane notions which are appropriate for pen plotters, but not modern
raster devices.

The major problem happens when graphics windows are resized.  To see
this have a look at
	> data(islands)
	> dotplot(islands)
Now reshape the graphics window.  The labels don't stay in the right
places.  This is because after a resize the "mar" and "mai" parameters
are in conflict.  (I have a band-aid for this particular problem, but
it a general one).

S gets around this by not allowing resizing of devices.  Yes, you can
reshape windows, but if you look at the device dimensions in inches
they never change.

At some point I would like to completely redo the graphics system in
the light of what I've learned from one of our PhD student's research
(and some of mny own tinkering).  But it won't happen for a while.  My
priority at present is to get something out which will be stable,
documented and useful for a reasonable subset of statistics.


As for trellis.  I don't really think that it is all that deep or
difficult.  It would be pretty easy to implement a passable "copy" and
there would be no legal problems provided that it was a clean room
implementation.  It's patents that create the real problem and as far
as I know there is no trellis patent (prior art can probably be traced
as far back as Decartes).

I even have a name.  How do you like "lattice". :-)

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 29 09:07:52 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Apr 1998 09:07:52 +0200
Subject: R-beta: Copy/use  and Copy/omit on dataframes
In-Reply-To: Murray Jorgensen's message of Wed, 29 Apr 1998 13:38:12 +1200
References: <Murray Jorgensen's message of Wed, 29 Apr 1998 10:26:58 +1200>
	<x2emyjc4yp.fsf@biostat.ku.dk>
	<3.0.3.32.19980429102658.00bddb10@pop.stats.waikato.ac.nz>
	<3.0.3.32.19980429133812.00a31a90@pop.stats.waikato.ac.nz>
Message-ID: <x2emyhumuv.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> >e.g. new.frame<-subset(old.frame,age>25)
> >
> 
> Apparently not!  In R 0.49

Upgrade...! It's in 0.61.2. (If you're on windows, it should work
simply to run the R source in frametools.R from the unix version)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Wed Apr 29 09:23:49 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 29 Apr 1998 09:23:49 +0200 (MET DST)
Subject: R-beta: image(x,y,z)?
In-Reply-To: <199804290234.OAA07623@stat1.stat.auckland.ac.nz> from "Ross Ihaka" at Apr 29, 98 02:34:39 pm
Message-ID: <9804290723.AA16508@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 608 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980429/44ea7573/attachment.pl

From ihaka at stat.auckland.ac.nz  Wed Apr 29 22:16:52 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 30 Apr 1998 08:16:52 +1200 (NZST)
Subject: R-beta: image(x,y,z)?
Message-ID: <199804292016.IAA15888@stat1.stat.auckland.ac.nz>

>  From: Jim Lindsey <jlindsey at luc.ac.be>
>  Subject: Re: R-beta: image(x,y,z)?
>  To: ihaka at stat.auckland.ac.nz (Ross Ihaka)
>  Date: Wed, 29 Apr 1998 09:23:49 +0200 (MET DST)
>  Cc: r-help at stat.math.ethz.ch (r-help)
> 
>  Ross,
>    A very long time ago, you told me that you planned to adapt the
>  graphics from Xlisp-Stat. Is this no longer a feasible option? The
>  dynamic aspects are especially interesting - and the whole thing is
>  lisp, although not the variant underlying R.
>

Its on the medium to long term list (my immediate priority is stability
and documentation).  The real advantage of XlispStat is that the graphics
can be customized and adapted.  We are more likely to have relatively
fixed dynamic displays.

In mean time you might want to have a look at the XGobi package at
CRAN.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Apr 30 22:15:31 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Apr 1998 15:15:31 -0500
Subject: R-beta: postscript in R and R
In-Reply-To: Thomas Lumley's message of Sun, 26 Apr 1998 12:07:40 -0700 (PDT)
References: <Pine.LNX.3.96.980426115435.31515A-100000@buffy>
Message-ID: <6raf93ukv0.fsf@verdi.stat.wisc.edu>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> On Sat, 25 Apr 1998, Helgi Tomasson wrote: 
> > I am creating postscript-graphics in R.  When I import them into
> >  a LATEX document it is impossible to get the caption close 
> >  to the figure.  I run the same program in Splus, and no problem
> > of getting the caption just below the figure.  Another thing,
> > the ps file that S created is only 10% of the size of the file
> >  that R created.  What is wrong?  Are there some parameters to
> >  be set?
> 
> I haven't noticed this problem with figures from R in LaTeX. Which version
> of R is it, and do you have a specific example?
> 
> You can always fix the amount of space a PostScript file takes up in LaTeX
> by altering its bounding box.  The bounding box is given by a line
> %%BoundingBox: 46 169 549 673
> near the top of the PostScript file, and it specifies the amount of the
> page that the graph actually occupies, measured in 72ths of an inch, from
> the lower left corner of the paper. The four numbers are the distances to
> the left, bottom, right and top margins of the picture.
> 
> The \epsfig{} command in LaTeX lets you specify a new bounding box if the
> one in the file is missing or incorrect, or you could edit the file.
> 
> Of course it's better if the bounding box is right to begin with.

Sorry to get into this late - I have been off at a conference.  

The Aladdin distribution of ghostscript contains a script called
ps2epsi that re-calculates and inserts a tighter bounding box.  It
does this essentially by rendering the postscript code on a raster
then determining a minimal bounding box for the raster.  

A disadvantage of using ps2epsi is that it also includes the raster
image in the file so the figure can be rendered in a word processor,
for example.  If you don't need that you can strip the file down a bit
using a script that Bill Venables and I called ps2eps.

#!/bin/sh
infile=$1
if [ $# -eq 2 ]
then
	outfile=$2
else
	outfile=`basename ${infile} .ps`.eps
fi
ps2epsi $infile /tmp/X$$.epsi
sed -e '/^%%BeginPreview/,/^%%EndPreview/d' -e '/^%%EOF/d' < /tmp/X$$.epsi > $outfile
rm -f /tmp/X$$.epsi
exit 0
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From afi_pk at hotmail.com  Wed Apr 29 02:12:36 1998
From: afi_pk at hotmail.com (Ahmed Siddiqi)
Date: Tue, 28 Apr 1998 20:12:36 -0400
Subject: [R] L-estimators
Message-ID: <OE69A2DreBBsQwY6YHk00005cc4@hotmail.com>

Hi,

I want to use R to extract L / S -estimators. Can anybody help me in locating the appropriate library or routine.

Waiting for a response,

Ahmed Siddiqi
Department of Statistics,
University of Michigan,
afi at umich.edu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19980428/9229ff5e/attachment.html

