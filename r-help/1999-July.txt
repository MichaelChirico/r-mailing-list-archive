From HYoon at exchange.ml.com  Thu Jul  1 00:57:38 1999
From: HYoon at exchange.ml.com (Yoon, Hoon (CICG - NY Program Trading))
Date: Wed, 30 Jun 1999 18:57:38 -0400
Subject: [R] Compile on NT
Message-ID: <A1AFC4253BA3D111BFF70001FA7E9AACD6217C@ewfd19.exchange.ml.com>

Hi,

  I am getting following error messages while trying to compile:

cp -p man/*.Rd  ../../library/base/man
rm -f  ../../library/base/man/BATCH.Rd  ../../library/base/man/COMPILE.Rd
../..

/library/base/man/INSTALL.Rd  ../../library/base/man/REMOVE.Rd
../../library/ba

se/man/RHOME.Rd  ../../library/base/man/SHLIB.Rd
echo done > fixRd
cp -p  bin/fwf2table bin/helpPRINT.bat ../../../bin
echo done > fixbin
cp -pr unzip ../..
rm -f ../../unzip/*.h
make -C ./regex
gcc    -DHAVE_STRING_H  -c regex.c -o regex.o
gcc: installation problem, cannot exec `cpp': No such file or directory
make[1]: *** [regex.o] Error 1
make: *** [rlibs] Error 2

   Is this due to the unzip32.dll? Hope not. I am trying to recompile
packages most of all, especially modreg.

Plus, has anyone been able to extend or embed R using VC++? From what I
hear, gcc and VC have different runtime, so this is a no go task. However,
it is possible to use VC runtime by overwriting the original ones that comes
with distriubution. That's why I am trying to recompile.
  Thanks much!

P.S.: I just reregistered for the mail list, so it may take little time.
Could any responder cc: to this e-mail box until then?


**************************************************************
S. Hoon Yoon                   (Quant)                    Merrill Lynch
Equity Trading 
yelled at yahoo.com hoon at bigfoot.com(w)
"Miracle is always only few standard deviations away, but so is
catastrophe."
* Expressed opinions are often my own, but NOT my employer's.
"I feel like a fugitive from the law of averages."    Mauldin
**************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  1 08:35:15 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Jul 1999 07:35:15 +0100 (BST)
Subject: [R] Compile on NT
In-Reply-To: <A1AFC4253BA3D111BFF70001FA7E9AACD6217C@ewfd19.exchange.ml.com>
Message-ID: <Pine.GSO.4.05.9907010723130.7469-100000@auk.stats>

On Wed, 30 Jun 1999, Yoon, Hoon (CICG - NY Program Trading) wrote:

> Hi,
> 
>   I am getting following error messages while trying to compile:
> 
> cp -p man/*.Rd  ../../library/base/man
> rm -f  ../../library/base/man/BATCH.Rd  ../../library/base/man/COMPILE.Rd
> ../..
> 
> /library/base/man/INSTALL.Rd  ../../library/base/man/REMOVE.Rd
> ../../library/ba
> 
> se/man/RHOME.Rd  ../../library/base/man/SHLIB.Rd
> echo done > fixRd
> cp -p  bin/fwf2table bin/helpPRINT.bat ../../../bin
> echo done > fixbin
> cp -pr unzip ../..
> rm -f ../../unzip/*.h
> make -C ./regex
> gcc    -DHAVE_STRING_H  -c regex.c -o regex.o
> gcc: installation problem, cannot exec `cpp': No such file or directory
> make[1]: *** [regex.o] Error 1
> make: *** [rlibs] Error 2
> 
>    Is this due to the unzip32.dll? Hope not. I am trying to recompile
> packages most of all, especially modreg.

No, it means what is says, that you have not installed gcc correctly.
Without knowing if you are trying to use Cygwin or mingw32 let alone which
version it is hard to help, but I would suspect GCC_EXEX_PREFIX (or some
such) is set incorrectly (or not set when it needs to be).  Make sure gcc
works for `hello world' programs first. If that works, check you set up
MkRules correctly.

> Plus, has anyone been able to extend or embed R using VC++? From what I
> hear, gcc and VC have different runtime, so this is a no go task. However,
> it is possible to use VC runtime by overwriting the original ones that comes
> with distriubution. That's why I am trying to recompile.

I don't understand. R uses the Windows libcrt.dll, and that is compatible
with VC++. It says in the documentation that you can compile packages with
VC++: look in the file readme.packages!  As for embedding, you can do that
too, but you will need to get the R-devel version and to compile it from
scratch.  (Embedding is `work in progress'.)  [gcc does not itself use a
runtime: different Windows implementations use libcrt, msvcrt and
cygwin1.dll. If you want to use msvcrt, patch egcs-1.1.2 with the 
patches on Mumit Kahn's site: but this is untested by us (more accurately,
tested once with some problems) and is not necessary for use with VC++.]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Thu Jul  1 09:12:58 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Thu, 1 Jul 1999 08:12:58 +0100
Subject: [R] grid command
Message-ID: <004101bec391$262fe5a0$54566f83@capc03t.medlan.cam.ac.uk>

hi

>2nd) solution, more closely linked with asking for
>    ``grid where the labels are'' : Use the "tck"  par() :
>
>   plot(1:10,axes=F, frame=T)
>   axis(1, at=1:10, tck = 1)
>   axis(2, at=2*(1:5), tck=1)
>
>  However, I don't think you can set `col', 'lty',... of these
>
>  [--> Do we need more  par()s , such as   col.tck, lwd.tck, lty.tck ,
>      or at least new axis arguments ?   Paul ?
>  ]



i would prefer to avoid even more par()s.

i think the abline() solution is the best for doing what grid() won't.  like
you say, grid() is just a simple front-end to abline().

it is possible to control other par()s via axis().  specifically ...

axis(1, tck=1, lwd=?, lty=?)

... works as you might expect, although getting colour is a bit unintuitive
...

axis(1, tck=1, fg=?)

the problem with this solution is that the whole axis (actually, NOT the
labels, but  importantly NOT JUST the tick-marks), is affected.  also, you
have to draw another axis if you want the normal tick-marks as well as the
grid lines.

hence, i would go for abline().

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Thu Jul  1 10:32:44 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Thu, 1 Jul 1999 09:32:44 +0100
Subject: [R] Compile on NT
In-Reply-To: <A1AFC4253BA3D111BFF70001FA7E9AACD6217C@ewfd19.exchange.ml.com>; from Yoon, Hoon (CICG - NY Program Trading) on Wed, Jun 30, 1999 at 06:57:38PM -0400
References: <A1AFC4253BA3D111BFF70001FA7E9AACD6217C@ewfd19.exchange.ml.com>
Message-ID: <19990701093244.31292@hal.stat.unipd.it>

On Wed, Jun 30, 1999 at 06:57:38PM -0400, Yoon, Hoon (CICG - NY Program Trading) wrote:
> Hi,
> 
>   I am getting following error messages while trying to compile:
> 
> cp -p man/*.Rd  ../../library/base/man
> omitted
> gcc    -DHAVE_STRING_H  -c regex.c -o regex.o
> gcc: installation problem, cannot exec `cpp': No such file or directory
> make[1]: *** [regex.o] Error 1
> make: *** [rlibs] Error 2
> 
>    Is this due to the unzip32.dll? Hope not. I am trying to recompile
> packages most of all, especially modreg.
> 

  This seems a gcc installation problem. Which shell tools and compiler 
  are you using? From the message above, I am supposing you are 
  using the mingw32 version of egcs (there is no -mno-cygwin flags in the
  gcc line). Only clue, if this it true, : you get that kind of
  error ("cannot exec 'cpp'") if the environment variable
  GCC_EXEC_PREFIX is not set correctly.
  Anyway, unzip32.dll is not used before your error. So,...


> Plus, has anyone been able to extend or embed R using VC++? From what I
> hear, gcc and VC have different runtime, so this is a no go task. However,
> it is possible to use VC runtime by overwriting the original ones that comes
> with distriubution. That's why I am trying to recompile.

  If 'extend' means 'compiling packages' look to the R Venables and
  Ripley on-line complement at http://www.stats.ox.ac.uk/pub/MASS2/Compl.shtml.
  Note that full installation means more that just recompiling the dll
  and, in particular, needs more tool than the one offered by a
  standalone VC++ (perl and groff at least).

  About embedding, Brian Ripley added to the devel branch (available
  as R-devel from CRAN) some code which make this easier than in the past.
  Look for an example to the src/gnuwin32/front-ends/rtest.c file which
  shows how R.dll and the interpreter can be initialized and used.
  However, remember that R-devel should be considered experimental.
  

  I am also pretty sure that R.dll can be re-built using VC++ but this
  will require some work (and Brian additions  make this point much less
  relevant).

  guido

  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at amadeus.statistik.uni-dortmund.de  Thu Jul  1 09:35:13 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Thu, 1 Jul 1999 09:35:13 +0200 (MET DST)
Subject: [R] qr and Moore-Penrose
In-Reply-To: <199906301412.PAA17620@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.05.9907010913530.16803-100000@anubis>



On Wed, 30 Jun 1999, Prof Brian Ripley wrote:

> 
> > Date: Wed, 30 Jun 1999 15:44:58 +0200 (MET DST)
> > From: Torsten Hothorn <hothorn at amadeus.statistik.uni-dortmund.de>
> > To: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> > cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] qr and Moore-Penrose
> > 
> > 
> > > What is a correct result, by the way?  There are infinitely many solutions
> > > for the regression of y on X, and the Moore-Penrose one is just one choice
> > > (that assumes that the coefficients are somehow comparable).
> > 
> > hm, 1.5, -0.5, 0.5, 1.5 should be a unique solution to Xb = y (with
> > minimal 2-norm). 
> 
> And my point was `what has `minimal 2-norm' got to do with this'?
> Regression coefficients are not necessarily in the same units: they are
> not in a Euclidean space.  There are lots of other solutions with
> claims to be reasonable, including those which use just `rank' of the
> columns. qr gives one of the latter.
> 

my formulation was not strikt. what we all expect from least squares is a
solution b1 of the system Xb = y with 2-norm || Xb1 - y || minimal. if we
set the NA value of the qr.coef to 0, the 2-norm is 0 (the system is
solveable). 

what I additionally expected is a solution b1 with || b1 || minimal
(under all solutions with ||Xb1 -y|| minimal). well,
the solution of qr has 2-norm sqrt(14), the solution with mpinv(X) has
2-norm sqrt(5).

with Moore-Penrose Xp, b2 <- Xp%*%y returns a solution which has minimal
2-norm || b2 ||. if we do not expect this from qr, the qr solution is
correct (but, is NA an admissible value for 0? splus returns 0 here).

Torsten



> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From magni at omega.ien.it  Thu Jul  1 10:20:06 1999
From: magni at omega.ien.it (Alessandro Magni)
Date: Thu, 01 Jul 1999 10:20:06 +0200
Subject: [R] Grid
Message-ID: <377B24B5.EFB643EE@omega.ien.it>

Many thanks to anybody that helped me (Martin, Paul, Terry): I was badly
in need,
and the axis() method has been the best one.
It is tricky, anyway. Pity the plot/grid commands are not "intelligent"
enough to do the work
themselves...

Best regards
    Alessandro

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\ Alessandro Magni
/                               IEN Galileo Ferraris
\                               c.M.d'Azeglio 42, 10125 Torino (ITALIA)
/                               magni at omega.ien.it
\                               Fax (39)11-6507611
/                               Tel (39)11-3919757
\                               Homepage at:
http://alpha.ien.it/~magni/home.html
/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Jul  1 12:34:07 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 1 Jul 1999 12:34:07 +0200 (MET DST)
Subject: [R] version 0.5 of my libraries
Message-ID: <199907011034.MAA20472@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1534 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990701/51ad9da6/attachment.pl

From mandevip at uaslp.mx  Thu Jul  1 06:02:14 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Thu, 01 Jul 1999 06:02:14
Subject: [R] lme
Message-ID: <3.0.5.16.19990701060214.219f5fc2@deimos.tc.uaslp.mx>

I am using rw0641. 

In my continuing quest to understand repeated measures analysis, I again
return to lme. I exported the Potthoff and Roy data Orthodont.dat from
S-PLUS 4.5 to avoid capture errors and ran the examples in the R help. I
imported the data.frame with

	data <- read.table("Orthodont.dat",header=T)
	attach(data)

and created the objects

	Orthodont.fit1 <- lme(fixed=distance~age,random=~age)
	Orthodont.fit2 <- lme(fixed=distance~age*Sex,random=~age)

which appear to be the R equivalent of the objects created in Pinheiro and
Bates 1995 (lme and nlme).

The code

	fm1 <- lmList(distance~age|Subject,data)

generated the error message

	Error: couldn't find function "restart"

without 'data' it doesn't run.

The code

	plot(Orthodont.fit1)

generated the error message

	Error: couldn't find function "xyplot"

I suppose that a graph such as appears in Pinheiro and Bates 1995 (lme and
nlme) and in S-PLUS4 : Guide to Statistics is generated by the plot method?
The code given in S-PLUS4 : Guide to Statistics page 285 does generate the
graph.

	plot(age,distance,type="n",xlab="Age (years)",ylab="Distance (mm)")
	points(age[Sex=="0"],distance[Sex=="0"],type="p",pch=0)
	points(Age[Sex=="1"],distance[Sex=="1"],type="p",pch=5)
	for(i in unique(Subject))
lines(Age[Subject==i],distance[Subject==i],type="l",lty=2)

The function numIter doesn't function

	Orthodont.fit1$numIter

produces

	NULL


Most distressing is the fact that

	summary(Orthodont.fit2)

produces the same fixed effects values

	(Intercept) 	16.340625
	Age		0.784375
	Sex		1.032102
	Age.Sex		-0.0304830

as Pinheiro and Bates 1995 (lme and nlme) but everything else is very
distinct.

Can someone please help?

Thank you very much.

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jul  1 17:54:24 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Jul 1999 10:54:24 -0500
Subject: [R] lme
In-Reply-To: "Peter B. Mandeville"'s message of "Thu, 01 Jul 1999 06:02:14"
References: <3.0.5.16.19990701060214.219f5fc2@deimos.tc.uaslp.mx>
Message-ID: <6ru2roqsb3.fsf@verdi.stat.wisc.edu>

"Peter B. Mandeville" <mandevip at uaslp.mx> writes:

> I am using rw0641. 

Thanks for identifying that.  Can you also tell us which version of
the lme library you are using?

> In my continuing quest to understand repeated measures analysis, I again
> return to lme. I exported the Potthoff and Roy data Orthodont.dat from
> S-PLUS 4.5 to avoid capture errors and ran the examples in the R help. I
> imported the data.frame with

> 	data <- read.table("Orthodont.dat",header=T)
> 	attach(data)

Those data are also available with the lme library for R.  Just use
 data(Orthodont)

It seems in some of your later descriptions that you are using the
data and the documentation from S-PLUS 4.0.  MathSoft incorporated
version 2.1 of the NLME library into S-PLUS 4.0.  After that Jose
Pinheiro and I did extensive revisions on the library - essentially
rewriting it from scratch - and modified many of the estimation
routines and results.  We hope that the version in NLME 3.0 for S-PLUS
is a substantial improvement over that in NLME 2.1.

The lme_3.0 package for R has the same code base as NLME 3.0 for
S-PLUS.  Not everything in 2.1 works exactly the same in 3.0.  Not
everything in NLME 3.0 for S-PLUS works in lme_3.0 for R.  I'll try to
explain some of the differences below.

> and created the objects
> 
> 	Orthodont.fit1 <- lme(fixed=distance~age,random=~age)
> 	Orthodont.fit2 <- lme(fixed=distance~age*Sex,random=~age)
> 
> which appear to be the R equivalent of the objects created in Pinheiro and
> Bates 1995 (lme and nlme).

I expect that they may be different from those in the 1995 document.
They should be equivalent to the objects created using the NLME 3.0
library in S-PLUS.  The NLME 3.0 library is described at
		      http://nlme.stat.wisc.edu/

> The code
> 
> 	fm1 <- lmList(distance~age|Subject,data)
> 
> generated the error message
> 
> 	Error: couldn't find function "restart"

We work from the same code base for the S-PLUS 3.4 and the R versions
of the libraries even though we call it NLME 3.0 for S-PLUS and
lme-3.0 for R.  The lme_3.0 name is to indicate that we do not, at
present, offer capabilities for nonlinear mixed-effects models in R.

The restart function is available in S-PLUS and will be available in
version 0.65 of R.  Since it is not far off for R we did not rewrite
the lmList code for the lme_3.0 library.  The lmList function should
run with R-0.65.1

> The code
> 
> 	plot(Orthodont.fit1)
> 
> generated the error message
> 
> 	Error: couldn't find function "xyplot"

Again, we make extensive use of the trellis graphics functions in
S-PLUS for the display of grouped data and for assessing model fits.
At present trellis-like capabilities in R are rather limited.  I have
done a bit of playing around with coplot to try to emulate xyplot but
I have not been terribly successful.  Trellis graphics in S-PLUS is a
powerful but very complicated system.  Emulating it is not easy.

> I suppose that a graph such as appears in Pinheiro and Bates 1995 (lme and
> nlme) and in S-PLUS4 : Guide to Statistics is generated by the plot method?
> The code given in S-PLUS4 : Guide to Statistics page 285 does generate the
> graph.
> 
> 	plot(age,distance,type="n",xlab="Age (years)",ylab="Distance (mm)")
> 	points(age[Sex=="0"],distance[Sex=="0"],type="p",pch=0)
> 	points(Age[Sex=="1"],distance[Sex=="1"],type="p",pch=5)
> 	for(i in unique(Subject))
> lines(Age[Subject==i],distance[Subject==i],type="l",lty=2)

That was the way that we produced the graphs before switching to
trellis.  You can use those kinds of calls in R.

> The function numIter doesn't function
> 
> 	Orthodont.fit1$numIter
> 
> produces
> 
> 	NULL

That's a difference between the optimizers used in S-PLUS's ms
function and the nlm function in R.  The nlm function does not return
the number of iterations or, if it does, we didn't pick up that
information.

> Most distressing is the fact that
> 
> 	summary(Orthodont.fit2)
> 
> produces the same fixed effects values
> 
> 	(Intercept) 	16.340625
> 	Age		0.784375
> 	Sex		1.032102
> 	Age.Sex		-0.0304830
> 
> as Pinheiro and Bates 1995 (lme and nlme) but everything else is very
> distinct.

The results can be different because of changes in the ways that the
standard errors, degrees of freedom, and p-values are calculated.  We
expect that the results in the current version (NLME 3.0 for S-PLUS
and lme_3.0 for R) are more reliable.

There is an EXAMPLES file with the library that contains an analysis
of these data in R.  Did you check that?  If you get answers that are
different from that then I would be concerned.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jul  1 18:32:23 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Jul 1999 11:32:23 -0500
Subject: Contacting Peter Mandeville [ was Re: [R] lme]
In-Reply-To: Douglas Bates's message of "01 Jul 1999 10:54:24 -0500"
References: <3.0.5.16.19990701060214.219f5fc2@deimos.tc.uaslp.mx> <6ru2roqsb3.fsf@verdi.stat.wisc.edu>
Message-ID: <6roghwqqjs.fsf_-_@verdi.stat.wisc.edu>

Has anyone been successful in contacting Peter Mandeville, the person
who asked a question on this list about lme?  My replies to him always
end up bouncing.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From N.J.Lee at statslab.cam.ac.uk  Thu Jul  1 23:40:16 1999
From: N.J.Lee at statslab.cam.ac.uk (Nicholas Lee)
Date: Thu, 1 Jul 1999 22:40:16 +0100 (GMT)
Subject: [R] Plot of means with error bounds
Message-ID: <Pine.LNX.3.96.990701223642.686C-100000@hearts.statslab.cam.ac.uk>


With a sequence of means and variances from a simulation, and given a plot
of the means, is there a nice way to add error bounds?

eg.
 ---   /---
  |/--/
 -* 
/ |
 ---

Thanks,
Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pconnolly at hort.cri.nz  Fri Jul  2 04:11:02 1999
From: pconnolly at hort.cri.nz (Patrick Connolly)
Date: Fri, 02 Jul 1999 14:11:02 +1200
Subject: [R] What's analagous to data.restore?
Message-ID: <377C1FB6.CD4E5584@hort.cri.nz>

I've used Splus for 5 or 6 years and recently installed R for Linux.

I want to get a whole bunch of objects from S over to R.  I'd have
thought data.dump and data.restore would work, but it's done a different
way.  I looked all through the FAQ but my question doesn't seem to be
"Frequent" enough to be mentioned.

Thanks

Patrick


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  2 08:45:12 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Jul 1999 07:45:12 +0100 (BST)
Subject: [R] What's analagous to data.restore?
In-Reply-To: <377C1FB6.CD4E5584@hort.cri.nz>
Message-ID: <Pine.GSO.4.05.9907020742090.3732-100000@auk.stats>

On Fri, 2 Jul 1999, Patrick Connolly wrote:

> I've used Splus for 5 or 6 years and recently installed R for Linux.
> 
> I want to get a whole bunch of objects from S over to R.  I'd have
> thought data.dump and data.restore would work, but it's done a different
> way.  I looked all through the FAQ but my question doesn't seem to be
> "Frequent" enough to be mentioned.

data.dump/restore uses the internal representation of S objects. You
need to go via the `outside world' text representation, that is use
dump and source. The R equivalents of data.dump/restore are save/load,
again for R's use only.

In any case, you will probably need to do _some_ editing of the objects,
especially functions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jul  2 18:40:16 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 2 Jul 1999 18:40:16 +0200 (MET DST)
Subject: [R] R-0.64.2 vs Spls 5.0
In-Reply-To: <x2wvwjb03f.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.91.990702183210.463B-100000@paleo.ija.csic.es>

Dear R makers and users:

After reading the FAQ and the comments on the
comparison between R and S, I still have an important
(at least for me) question: How is R compared
to the new version of Splus 5.0  (for unix including Linux)?

I must pay particular atention to the efficiency
with large datasets and, more generally speaking,
to the efficiency with memory management.
I use Splus since version 3.x (on Unix) and now
use Splus 4.5 for Windows (which gives me tons
of memory problems). I'm considering whether
going on with Splus and get Splus 5.0 for Linux
or switch to R or to X-ploRe. 

I normally use Splus to process (large)
datasets retrieved from multi-spectral remotely-sensed
imagery.

Your opinions are most valuable for me!

Thanks


****NOTE NEW PHONE NUMBER*****
Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jul  2 18:40:16 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 2 Jul 1999 18:40:16 +0200 (MET DST)
Subject: [R] R-0.64.2 vs Spls 5.0
In-Reply-To: <x2wvwjb03f.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.91.990702183210.463B-100000@paleo.ija.csic.es>

Dear R makers and users:

After reading the FAQ and the comments on the
comparison between R and S, I still have an important
(at least for me) question: How is R compared
to the new version of Splus 5.0  (for unix including Linux)?

I must pay particular atention to the efficiency
with large datasets and, more generally speaking,
to the efficiency with memory management.
I use Splus since version 3.x (on Unix) and now
use Splus 4.5 for Windows (which gives me tons
of memory problems). I'm considering whether
going on with Splus and get Splus 5.0 for Linux
or switch to R or to X-ploRe. 

I normally use Splus to process (large)
datasets retrieved from multi-spectral remotely-sensed
imagery.

Your opinions are most valuable for me!

Thanks


****NOTE NEW PHONE NUMBER*****
Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jul  2 19:10:46 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 2 Jul 1999 10:10:46 -0700 (PDT)
Subject: [R] R-0.64.2 vs Spls 5.0
In-Reply-To: <Pine.OSF.3.91.990702183210.463B-100000@paleo.ija.csic.es>
Message-ID: <Pine.GSO.4.10.9907020952370.7141-100000@wompom.biostat.washington.edu>

On Fri, 2 Jul 1999, Agustin Lobo wrote:

> Dear R makers and users:
> 
> After reading the FAQ and the comments on the
> comparison between R and S, I still have an important
> (at least for me) question: How is R compared
> to the new version of Splus 5.0  (for unix including Linux)?
> 
> I must pay particular atention to the efficiency
> with large datasets and, more generally speaking,
> to the efficiency with memory management.

There is not a lot known about the precise circumstances that affect the
relative performance of R and S-PLUS.  Tests based on code from "Modern
Applied Statistics with S-PLUS" by Venables and Ripley show R as somewhat
slower. A number of people (including me) have found R to be substantially
faster on specific simulation problems, sometimes involving large datasets
and sometimes not. This is by no means universally true, and we don't have
good rules for predicting when R is faster.  Basically, R copies things
less often but doesn't recover memory particularly efficiently.

If your object size is a substantial fraction of available memory R will
not perform well. S-PLUS may well be better, but it won't be very good
either. 

There are a number of planned changes to the internals of R that should
provide some speedup (better garbage collection, hashing of all
environments), but we don't know how much.

> I use Splus since version 3.x (on Unix) and now
> use Splus 4.5 for Windows (which gives me tons
> of memory problems). I'm considering whether
> going on with Splus and get Splus 5.0 for Linux
> or switch to R or to X-ploRe. 

If you already have substantial experience with S-PLUS 3.x then it would
be relatively inexpensive in time and effort to try R and see if its
performance is satisfactory on your problems. 

If there are strong cost constraints and memory size is an important
barrier it may be worth using R and buying extra memory, which is
comparatively cheap for Intel machines.

Also, you say that you work with spectral analysis of time series. You
would want to make sure that R supports the analyses you want to do, as
its coverage of time series is not as good as some other areas. 

I have no experience at all with XploRe and can't comment on its
performance. 


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  2 19:27:01 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Jul 1999 18:27:01 +0100 (BST)
Subject: [R] R-0.64.2 vs Spls 5.0
Message-ID: <199907021727.SAA00662@toucan.stats.ox.ac.uk>

> Date: Fri, 2 Jul 1999 18:40:16 +0200 (MET DST)
> From: Agustin Lobo <alobo at ija.csic.es>
> 
> Dear R makers and users:
> 
> After reading the FAQ and the comments on the
> comparison between R and S, I still have an important
> (at least for me) question: How is R compared
> to the new version of Splus 5.0  (for unix including Linux)?

The current version of S-PLUS for Unix/Linux is 5.1. This is
not being pedantic: its memory management is much better than 5.0.
It is likely that 5.1 has not yet reached European distributors,
but it is imminent.

> I must pay particular atention to the efficiency
> with large datasets and, more generally speaking,
> to the efficiency with memory management.
> I use Splus since version 3.x (on Unix) and now
> use Splus 4.5 for Windows (which gives me tons
> of memory problems). I'm considering whether
> going on with Splus and get Splus 5.0 for Linux
> or switch to R or to X-ploRe. 
> 
> I normally use Splus to process (large)
> datasets retrieved from multi-spectral remotely-sensed
> imagery.

I would say this has much more to do with programming well than the
choice between S-PLUS and R. I have happily processed time-series of
MRI images on my (192Mb RAM) laptop in all of S-PLUS 4.5, 5.1 and
pre-R-0.64.2.  These are large (ca 50Mb per dataset). What `well'
means differs between these systems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Mon Jul  5 01:31:53 1999
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Mon, 5 Jul 1999 11:31:53 +1200 (NZST)
Subject: [R] Summary: What's analagous to data.restore?
Message-ID: <199907042331.LAA00854@atlas.marc.cri.nz>

Thanks to Bill Venables, Brian Ripley and John Maindonald.

The differences between the way R and S use objects means that
data.restore is inappropriate for R.  Bill advised the use of
libraries to deal with objects.

Functions and data objects are treated differently, requiring source()
and read.table() respectively to create R objects from text files that
are produced from dump() and write.table() respectively.

I notice that the data() function has some intelligence built into it.
I think I like R already, but this information could be put into the
FAQ somewhere where the differences between R and S are covered.  I
could have a suggestion as to where when I've become more familiar
with how it's all set up.  (Perhaps it already is, but I missed it.)

best

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ensia.inra.fr  Mon Jul  5 11:00:30 1999
From: iosu at ensia.inra.fr (=?iso-8859-1?Q?Jes=FAs_Mar=EDa_Fr=EDas_Celayeta?=)
Date: Mon, 5 Jul 1999 11:00:30 +0200 (CEST)
Subject: [R] Parameter confidence regions for  regression
In-Reply-To: <199906301412.PAA17620@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.3.96.990705104001.12976C-100000@joxepa.ensia.inra.fr>

Hi!

	I am starting to  use R-0.64.1 for linux, and I would like to know if
there is a way to plot parameter confidence regions for linear or nonlinear
regressions (though I am more interested in the later).
 
	I am trying to use the nls library for R and I have actually find in
the netlib repository a code that does this work, called ellipse, and I
managed to install the code (not the help pages) but it seems that the
structure of the nls object in R differs from its equivalent in S-plus I
cannot work it out (I understood as well that this is a significativea
difference between R and S-plus). Any help of this would be very welcomed. 


Thanks in advance,

IOsu

-------------------------------------------------------------------------------
Jes?s Mar?a Fr?as Celayeta		"Valeu a pena? Tudo vale a pena
ENSIA-INRA, Av. des Olimpiades, 1	se a alma n?o ? pequena
91744, Massy. FRANCE			Quem quer passar al?m do Bojador
Fax:intl+33+1+69935185			Tem que passar al?m da dor.
Phone:intl+33+1+69935191		Deus ao mar o perigo e abismo deu,
					Mas nele ? que espelhou o c?u"
-------------------------------------------------------------------------------






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  5 11:54:49 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Jul 1999 11:54:49 +0200
Subject: [R] Re: A Problem I'm having with R
In-Reply-To: <19990703181556.44893.qmail@hotmail.com> (message from Stuart
	Washington on Sat, 03 Jul 1999 14:15:55 EDT)
References: <19990703181556.44893.qmail@hotmail.com>
Message-ID: <199907050954.LAA02350@sophie.ethz.ch>


Dear Stuart Washington,

  please ask these kind of questions on the mailing list "R-help"
  to which I am now forwarding.
  [Read any "CRAN" mirror, e.g. http://lib.stat.cmu.edu/R/CRAN/,
   to find out on subscribing to R-help
   or how to access the mailing list archives.]

Regards : Martin Maechler


    StuW> Dear Sir, I'm having a problem getting R to do a particular
    StuW> action which I know it's likely to be able to perform.  I'm new
    StuW> to programming so I know the answer to this question could range
    StuW> from the very simple to the very complex, but here goes:

    StuW> 	I have a while loop which, in each of its iterations, is
    StuW> supposed to reassign a filename with a number at the end.  I'll
    StuW> illustrate below:

    StuW> M<-function(n,...)
    StuW> {
    StuW>  while(n > 0)
    StuW>  {
    StuW>     fn.[n]<-sample(...)
    StuW>     ###Here, a number n is supposed to be appended to the end of
    StuW>     ###a filename fn
    StuW>     n <- n-1
    StuW>     ###Here, the value of n is decremented by one
    StuW>  }
    StuW>  c(fn.[1:n])
    StuW>  ###Here, all filenames created from the loop which have a number
    StuW>  at the end ranging from 1 through whatever number n is assigned
    StuW>  to (obviously n MUST be an interger) are concatenated into one
    StuW>  matrix.
    StuW> }


    StuW>     I am fully aware that what I've written above has no
    StuW> chance in hell of working in R.  Somehow, there must be a command
    StuW> which will allow me to assign numbers to the end of a file name
    StuW> for each loop iteration. And then a command which will allow me
    StuW> to concatenate them all together.  If you don't have the time to
    StuW> answer this directly, just point me in the direction of a command
    StuW> that will do so.


    StuW> Thank you for your time,
    StuW> Stuart z Washington
------- End of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.A.Wooff at durham.ac.uk  Mon Jul  5 13:00:58 1999
From: D.A.Wooff at durham.ac.uk (D.A.Wooff@durham.ac.uk)
Date: Mon, 5 Jul 1999 12:00:58 +0100 (BST)
Subject: [R] win.metafile use
Message-ID: <19987.199907051100@bayes>

Platform: Windows 95
Version : R0641

Problem : I wish to plot and save a large number of graphics files in
windows metafont format. I have a very crude postscript printing
function, which happily handles repeated calls:

   psf<-function(filename){
      dev.print(postscript,file=paste(sep="",filename,".ps"),horizontal=F)
      return()
   }

To produce metafont files, I adapt this to, for example, 

   test<-function(filename){
      dev.print(device=win.metafile,file=paste(sep="",filename,".wmf"))
      return()
   }


Repeated calls to this function work satisfactorily for the first few
calls, (e.g 15 calls work, the next does not) but finally it fails
with these messages:

(in a new windows box) 
Impossible to create metafile

(in Rgui)
Error in X11(paste("win.metafile: ", filename, sep = "" ....

folowed by corruption of Rgui. 

What am I missing? I would guess there is some aspect of device handling I've
omitted, and that as a consequence I run out of available handles. 

Can anyone help?

Thanks,

David.


---------------------------------------------------------------------
  David Wooff, Director, Statistics and Mathematics Consultancy Unit,
  Department of Mathematical Sciences, University of Durham.
  Science Laboratories, South Road, Durham, DH1 3LE, UK.
  Tel. 0191 374 4531, Fax 0191 374 7388.
---------------------------------------------------------------------
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Athula.Herath at ogs.co.uk  Mon Jul  5 15:02:29 1999
From: Athula.Herath at ogs.co.uk (Athula Herath)
Date: Mon, 05 Jul 1999 14:02:29 +0100
Subject: [R] Anomaly in MIN (MAX) ?
Message-ID: <3780ACE5.515BB2A0@ogs.co.uk>




I have observed the following differences in the use of min/max
functions between R and Splus (4.5)

R (0.64.1): 

min(c(NA,NA,NA),na.rm=T)

returns the following

Warning in min(..., na.rm = na.rm) : no finite arguments to min/max;
returning extreme.
[1] 2147483647


S-Plus 4.5( Win32 edition)

min(c(NA,NA,NA),na.rm=T)

returns

[1] NA


The S-PLUS behaviour seems to be the right one


Thanks,

Athula.


-- 
Athula Herath, PhD
Oxford GlycoSciences,10, The Quadrant
Abingdon Science Park, Abingdon, OXON OX14 3YS
Email:Athula.Herath at ogs.co.uk Phone:+44 [0]1235 544202  FAX:+44 [0]1235
554701
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h0444idm at student.hu-berlin.de  Mon Jul  5 15:01:10 1999
From: h0444idm at student.hu-berlin.de (h0444idm@student.hu-berlin.de)
Date: Mon, 5 Jul 1999 15:01:10 +0200 (MET DST)
Subject: [R] plot population-pyramides
Message-ID: <199907051301.PAA28908@amor.rz.hu-berlin.de>


Dear R-Users,
how to plot population-pyramides in R?
Rotated barplots or using special functions?
The data is a frequency-table, one bar is one year.
Any hints welcome.

THX
tino.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  5 15:20:54 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Jul 1999 15:20:54 +0200
Subject: [R] Anomaly in MIN (MAX) ?
In-Reply-To: <3780ACE5.515BB2A0@ogs.co.uk> (message from Athula Herath on Mon,
	05 Jul 1999 14:02:29 +0100)
References: <3780ACE5.515BB2A0@ogs.co.uk>
Message-ID: <199907051320.PAA05346@sophie.ethz.ch>


    Athula> I have observed the following differences in the use of min/max
    Athula> functions between R and Splus (4.5)

    Athula> R (0.64.1):

    Athula> min(c(NA,NA,NA),na.rm=T)

    Athula> returns the following

    Athula> Warning in min(..., na.rm = na.rm) : no finite arguments to
    Athula> min/max; returning extreme.  
    Athula> [1] 2147483647


    Athula> S-Plus 4.5( Win32 edition)

    Athula> min(c(NA,NA,NA),na.rm=T)

    Athula> returns
    Athula> [1] NA


    Athula> The S-PLUS behaviour seems to be the right one

Some of us disagree.
One property of min()/max() should be the following:

x , y : any (vector like) objects :

  min(x1,y,.., x2,...) == min(x1, min(y),.. min(x2),..)

This property is fulfilled by R, but not by S-plus.
The idea is that the logically entails

    min({empty}) = +Inf
    max({empty}) = -Inf

and then  min({empty},x) == min(x) = min(x, min({empty})
etc.

Only problem being that "+/-Inf" for integers have to be coded as
"+/- Max.Integer".
---------

The only thing I could think of changing
  --  with some extra effort, unfortunately -- 
is the default type from "integer" to "numeric" ("double").

Reason why this seems to  need quite an extra effort:

Think of  
      min(i1,i2,i3,i4,  d1,...)
where i* are integer (vectors) and d1 is a double one.

The current implementation starts with integer type (and hence +Inf = +MaxInt)
and only switches to double when 'd1' is encountered.

    Athula> Thanks,
    Athula> Athula.


    Athula> -- Athula Herath, PhD Oxford GlycoSciences,10, The Quadrant
    Athula> Abingdon Science Park, Abingdon, OXON OX14 3YS
    Athula> Email:Athula.Herath at ogs.co.uk Phone:+44 [0]1235 544202
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Mon Jul  5 14:21:53 1999
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Mon, 05 Jul 1999 13:21:53 +0100
Subject: [R] Re: A Problem I'm having with R
References: <19990703181556.44893.qmail@hotmail.com> <199907050954.LAA02350@sophie.ethz.ch>
Message-ID: <3780A361.8D0C7B87@mh-hannover.de>

a hint:

xx <- data.frame(matrix (rnorm(10000),,10))
temp <- attach(xx)
temp<-paste(ls("xx"),".rda",sep="")
for(i in ls("xx"))save(i,file=temp[i])

g.l.
Peter

Martin Maechler wrote:

> Dear Stuart Washington,
>
>   please ask these kind of questions on the mailing list "R-help"
>   to which I am now forwarding.
>   [Read any "CRAN" mirror, e.g. http://lib.stat.cmu.edu/R/CRAN/,
>    to find out on subscribing to R-help
>    or how to access the mailing list archives.]
>
> Regards : Martin Maechler
>
>     StuW> Dear Sir, I'm having a problem getting R to do a particular
>     StuW> action which I know it's likely to be able to perform.  I'm new
>     StuW> to programming so I know the answer to this question could range
>     StuW> from the very simple to the very complex, but here goes:
>
>     StuW>       I have a while loop which, in each of its iterations, is
>     StuW> supposed to reassign a filename with a number at the end.  I'll
>     StuW> illustrate below:
>
>     StuW> M<-function(n,...)
>     StuW> {
>     StuW>  while(n > 0)
>     StuW>  {
>     StuW>     fn.[n]<-sample(...)
>     StuW>     ###Here, a number n is supposed to be appended to the end of
>     StuW>     ###a filename fn
>     StuW>     n <- n-1
>     StuW>     ###Here, the value of n is decremented by one
>     StuW>  }
>     StuW>  c(fn.[1:n])
>     StuW>  ###Here, all filenames created from the loop which have a number
>     StuW>  at the end ranging from 1 through whatever number n is assigned
>     StuW>  to (obviously n MUST be an interger) are concatenated into one
>     StuW>  matrix.
>     StuW> }
>
>     StuW>     I am fully aware that what I've written above has no
>     StuW> chance in hell of working in R.  Somehow, there must be a command
>     StuW> which will allow me to assign numbers to the end of a file name
>     StuW> for each loop iteration. And then a command which will allow me
>     StuW> to concatenate them all together.  If you don't have the time to
>     StuW> answer this directly, just point me in the direction of a command
>     StuW> that will do so.
>
>     StuW> Thank you for your time,
>     StuW> Stuart z Washington
> ------- End of forwarded message -------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--



---------------------------------------------------
* P. Malewski
* Hannover Medical School
* Department of Psychosomatics and Psychotherapy
* Carl-Neuberg-Str. 1
* Tel.:+49 511 532 3194
* Fax.:+49 511 532 3190
---------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at MH-Hannover.de  Mon Jul  5 14:48:32 1999
From: malewski.peter at MH-Hannover.de (Peter Malewski)
Date: Mon, 05 Jul 1999 13:48:32 +0100
Subject: [R] Re: A Problem I'm having with R
References: <19990703181556.44893.qmail@hotmail.com> <199907050954.LAA02350@sophie.ethz.ch> <3780A361.8D0C7B87@mh-hannover.de>
Message-ID: <3780A99F.328CFAF9@mh-hannover.de>

of course, this is wrong


> temp <- attach(xx)
>

attach(xx)

is it (...too fast with email...)

P.

> g.l.
> Peter
>
> Martin Maechler wrote:
>
> > Dear Stuart Washington,
> >
> >   please ask these kind of questions on the mailing list "R-help"
> >   to which I am now forwarding.
> >   [Read any "CRAN" mirror, e.g. http://lib.stat.cmu.edu/R/CRAN/,
> >    to find out on subscribing to R-help
> >    or how to access the mailing list archives.]
> >
> > Regards : Martin Maechler
> >
> >     StuW> Dear Sir, I'm having a problem getting R to do a particular
> >     StuW> action which I know it's likely to be able to perform.  I'm new
> >     StuW> to programming so I know the answer to this question could range
> >     StuW> from the very simple to the very complex, but here goes:
> >
> >     StuW>       I have a while loop which, in each of its iterations, is
> >     StuW> supposed to reassign a filename with a number at the end.  I'll
> >     StuW> illustrate below:
> >
> >     StuW> M<-function(n,...)
> >     StuW> {
> >     StuW>  while(n > 0)
> >     StuW>  {
> >     StuW>     fn.[n]<-sample(...)
> >     StuW>     ###Here, a number n is supposed to be appended to the end of
> >     StuW>     ###a filename fn
> >     StuW>     n <- n-1
> >     StuW>     ###Here, the value of n is decremented by one
> >     StuW>  }
> >     StuW>  c(fn.[1:n])
> >     StuW>  ###Here, all filenames created from the loop which have a number
> >     StuW>  at the end ranging from 1 through whatever number n is assigned
> >     StuW>  to (obviously n MUST be an interger) are concatenated into one
> >     StuW>  matrix.
> >     StuW> }
> >
> >     StuW>     I am fully aware that what I've written above has no
> >     StuW> chance in hell of working in R.  Somehow, there must be a command
> >     StuW> which will allow me to assign numbers to the end of a file name
> >     StuW> for each loop iteration. And then a command which will allow me
> >     StuW> to concatenate them all together.  If you don't have the time to
> >     StuW> answer this directly, just point me in the direction of a command
> >     StuW> that will do so.
> >
> >     StuW> Thank you for your time,
> >     StuW> Stuart z Washington
> > ------- End of forwarded message -------
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
>
> ---------------------------------------------------
> * P. Malewski
> * Hannover Medical School
> * Department of Psychosomatics and Psychotherapy
> * Carl-Neuberg-Str. 1
> * Tel.:+49 511 532 3194
> * Fax.:+49 511 532 3190
> ---------------------------------------------------

--



---------------------------------------------------
* P. Malewski
* Hannover Medical School
* Department of Psychosomatics and Psychotherapy
* Carl-Neuberg-Str. 1
* Tel.:+49 511 532 3194
* Fax.:+49 511 532 3190
---------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  5 17:10:30 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Jul 1999 17:10:30 +0200
Subject: [R] version 0.5 of my libraries
In-Reply-To: <199907011034.MAA20472@alpha.luc.ac.be> (message from Jim Lindsey
	on Thu, 1 Jul 1999 12:34:07 +0200 (MET DST))
References: <199907011034.MAA20472@alpha.luc.ac.be>
Message-ID: <199907051510.RAA05589@sophie.ethz.ch>

>>>>> On Thu, 1 Jul 1999 12:34, Jim Lindsey <jlindsey at alpha.luc.ac.be> said:

    Jim> I have just uploaded version 0.5 of my libraries to the CRAN site.
    Jim> Hopefully, they will shortly become available.

    Jim> New features include:

    Jim> 1. A function (binnest in repeated) for binary data with two levels of
    Jim> nesting based on Tom Ten Have's recent Stat in Medicine paper.
    Jim> (Tom's Fortran90 routines have a builtin Newton Raphson-type
    Jim> optimizer with analytic first derivatives for these models.
    Jim> Unfortunately, this does not appear to work nearly as well as the
    Jim> Dennis and Schnabel routine in nlm that calculates numerical
    Jim> derivatives. However, as it was part of the package, I left it as
    Jim> is.)

And that part is not Fortran77, 
e.g. Solaris' f77  (which is said to have good properties) 
cannot compile it.

1) End-line-comments starting with "!" work,
   but not when the "!" comes too early in an otherwise empty line.

   Note however that endline "!" may not work at all on other f77's,
   since afaik these are newer than Fortran77.

2) `<=' instead of `.le.' are not liked at all


[I'll send diffs to Jim privately]

    Jim> 2. The elliptic function in growth now fits multivariate Student t
    Jim> models as well as multivariate normal and multivariate power
    Jim> exponential (all are multivariate elliptical distributions).
    Jim> 3. elliptic now provides recursive predicted values for many models.
    Jim> 4. many functions can now have common parameters in the location
    Jim> regression and in the dispersion regression models.
    Jim> 5. Plus many enhancements and a few bug corrections (see changes.txt).

Thank you !

    Jim> Bug reports are welcome. Alpha version 0.6 will shortly start to
    Jim> appear on www.luc.ac.be/~jlindsey/rcode.html.
(not yet)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Jul  6 11:59:17 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 6 Jul 1999 10:59:17 +0100
Subject: [R] win.metafile use
In-Reply-To: <19987.199907051100@bayes>; from D.A.Wooff@durham.ac.uk on Mon, Jul 05, 1999 at 12:00:58PM +0100
References: <19987.199907051100@bayes>
Message-ID: <19990706105917.12044@hal.stat.unipd.it>

On Mon, Jul 05, 1999 at 12:00:58PM +0100, D.A.Wooff at durham.ac.uk wrote:
> Platform: Windows 95
> Version : R0641
> 
> Problem : I wish to plot and save a large number of graphics files in
> windows metafont format. I have a very crude postscript printing
> function, which happily handles repeated calls:
> ..................................
> To produce metafont files, I adapt this to, for example, 
> 
>    test<-function(filename){
>       dev.print(device=win.metafile,file=paste(sep="",filename,".wmf"))
>       return()
>    }
> 
> 
> Repeated calls to this function work satisfactorily for the first few
> calls, (e.g 15 calls work, the next does not) but finally it fails

  David,
  I have just now runned the following lines
     for (i in 1:10000) {
        hist(rnorm(100))
        dev.print(win.metafile,paste(i,".wmf",sep="")
        print(i)
     }
  on:
  1) A WinNT system (v4.0,SP4): no problems, Task Manager shows no trend
     in memory and handles usage for Rgui;
  2) A Win95 system (Original version, i.e., never updated since 1995):
     no problems;
  3) A Win98 system (BTW, installed as 1) on my notebook, i.e., sharing
     hardware and R installation with 1)): it blocks around i=65 (small
     differences in different trials).

  Hence, I suspect that you hit on one of the nasty Windows version
  incompatibility problems.
  Today, I will update binaries for Windows at CRAN to R-0.64.2 (using,
  actual metafile handling code).
  After, I will try to understand if I can devise a workaround (suggestions
  are warmly welcomed since my Win32 API manual seems
  useless in this regard: no pointer to a change in the API).  

  In the meantime, could you send me more information on your Windows version
  (and in particular, on the version of gdi32.dll installed (this dll 
   includes the metafile code; locate it, then right-click and choose
   'Properties' from the pop-up menu). Given your and mine results
   I suspect that the problem should be confined in recent versions of Win9X.

  You can also try to look to MS site (http://www.microsoft.com) to understand
  if the problem is known and if an udpdated gdi32.dll is available.

> folowed by corruption of Rgui. 
> 

 What 'corruption' means ? I can reproduce this point (i.e., after failure
 to create a metafile, I cannot create metafiles anymore but the rest of
 the system seems to work).

 guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Tue Jul  6 13:05:36 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Tue, 6 Jul 1999 13:05:36 CET (+0100)
Subject: [R] eval(), expression()
Message-ID: <13BE907346F@fgr.wu-wien.ac.at>

Dear R-Users!

My aim is to produce boxplots without the outliers included in the 
plot. I started to write a function that looks something like:

myboxplot <-function(x,fa) {
  bpdata <- boxplot(x~fa,plot=FALSE)
  bpnames <- names(bpdata)
  for (JJ in bpnames) { 
    command <- paste("bpdata$",JJ,"$out <- numeric(0)",sep="");
    eval(command)
  }
  bxp(bpdata)
}

Obviously this does not work as I intended since the argument 
of eval() should be of type expression. However, with 
expression() there is no way to have variable JJ evaluated first.

Does anybody see a way to solve this problem?

Thanks for any suggestions!

Wolfgang Koller

P.S.: Similar problems with expression() can arise with producing 
annotations in plots.




----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Research Institute for European Affairs
Vienna University of Economics and Business Administration
Althanstrasse 39-45, 1090 Vienna, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sysadmin at Statistik.Uni-Dortmund.DE  Tue Jul  6 13:42:47 1999
From: sysadmin at Statistik.Uni-Dortmund.DE (System Administration)
Date: Tue, 6 Jul 1999 13:42:47 +0200 (MET DST)
Subject: [R] Re: New packages (tcl/tk <-> R glue + Visual Tcl)
In-Reply-To: <19990630102526.A13430@sirio.stat.unipd.it> from "Guido Masarotto" at Jun 30, 99 10:25:26 am
Message-ID: <199907061142.NAA18468@Statistik.Uni-Dortmund.DE>

> 'tcltk': this package let to create and use tcl/tk interpreters
>          from R.  The tcl interpreters have an additional command 
>          'R some R commands' which let to execute R commands, e.g, 
>          'R a<-rnorm(100)'.  This can be used to define button's
>          call-backs,... This package requires tcl/tk (tested only
>          with versions 8.0 and 8.1) installed. Please, look to the
>          README before installation. Status of this package is alpha. 
> 
> I will be happy to hear comments, suggestions, ... . 
> I also hope that someone else will find the time to contribute to the 
> development.
> 
> guido masarotto

When I try to install the package, I get the following message:

Installing package cltk' ...
 libs
gcc -g -O2 -fPIC -I/sw/sun4_55/R-0.65.0/lib/R/include -c tcltk.c -o tcltk.o
tcltk.c:19: tk.h: No such file or directory
*** Error code 1
make: Fatal error: Command failed for target cltk.o'
 R
 exec
 help
 >>> Building/Updating help pages for package cltk'
     Formats: text html latex example 
  tcltk                             text    html    latex   example
 DONE (tcltk)

DONE (INSTALL)


A bug?

frx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  6 13:47:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 1999 13:47:53 +0200
Subject: [R] eval(), expression()
In-Reply-To: "Wolfgang Koller"'s message of "Tue, 6 Jul 1999 13:05:36 CET (+0100)"
References: <13BE907346F@fgr.wu-wien.ac.at>
Message-ID: <x2hfniuhhy.fsf@blueberry.kubism.ku.dk>

"Wolfgang Koller" <koller2 at fgr.wu-wien.ac.at> writes:

> Dear R-Users!
> 
> My aim is to produce boxplots without the outliers included in the 
> plot. I started to write a function that looks something like:
> 
> myboxplot <-function(x,fa) {
>   bpdata <- boxplot(x~fa,plot=FALSE)
>   bpnames <- names(bpdata)
>   for (JJ in bpnames) { 
>     command <- paste("bpdata$",JJ,"$out <- numeric(0)",sep="");
>     eval(command)
>   }
>   bxp(bpdata)
> }
> 
> Obviously this does not work as I intended since the argument 
> of eval() should be of type expression. However, with 
> expression() there is no way to have variable JJ evaluated first.
> 
> Does anybody see a way to solve this problem?

bp <- boxplot(..etc..)
for (n in names(bp)) bp[[n]]$out<-numeric(0)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  6 14:10:33 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 1999 14:10:33 +0200
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: Friedrich Leisch's message of "Tue, 6 Jul 1999 13:29:32 +0200 (CEST)"
References: <14209.59548.671786.553380@galadriel.ci.tuwien.ac.at>
Message-ID: <x2emimugg6.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

> 	http://www.ci.tuwien.ac.at/R
> 
> here in Vienna and it should propagate to the
> various miroors within the next 24 hours or so.

Thanks. Are you doing the Freshmeat thing as well?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  6 14:46:19 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 1999 14:46:19 +0200
Subject: [R] Re: New packages (tcl/tk <-> R glue + Visual Tcl)
In-Reply-To: sysadmin@Statistik.Uni-Dortmund.DE's message of "Tue, 6 Jul 1999 13:42:47 +0200 (MET DST)"
References: <199907061142.NAA18468@Statistik.Uni-Dortmund.DE>
Message-ID: <x2d7y6uesk.fsf@blueberry.kubism.ku.dk>

sysadmin at Statistik.Uni-Dortmund.DE (System Administration) writes:

> Installing package cltk' ...
>  libs
> gcc -g -O2 -fPIC -I/sw/sun4_55/R-0.65.0/lib/R/include -c tcltk.c -o tcltk.o
> tcltk.c:19: tk.h: No such file or directory
> *** Error code 1
> make: Fatal error: Command failed for target cltk.o'
>  R
>  exec
>  help
>  >>> Building/Updating help pages for package cltk'
>      Formats: text html latex example 
>   tcltk                             text    html    latex   example
>  DONE (tcltk)
> 
> DONE (INSTALL)
> 
> 
> A bug?

Well, the package name looks a bit odd and it's a bug that installs
can complete when there are errors in creating .o files...

But did you install Tcl/Tk on your system first? If so, where does it
keep the tk.h file? If it isn't in the normal search path, there's no
(obvious) way for an add-on package to figure out where to find it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jul  6 17:20:10 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 6 Jul 1999 10:20:10 -0500
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: <14209.59548.671786.553380@galadriel.ci.tuwien.ac.at> (message
	from Friedrich Leisch on Tue, 6 Jul 1999 13:29:32 +0200 (CEST))
Message-ID: <199907061520.KAA17576@mean.stat.purdue.edu>

   X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to owner-r-announce at stat.math.ethz.ch using -f
   From: Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at>
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Date: Tue, 6 Jul 1999 13:29:32 +0200 (CEST)
   X-Mailer: VM 6.72 under Emacs 19.34.1
   Sender: owner-r-announce at stat.math.ethz.ch
   Precedence: bulk
   Reply-To: r-help at stat.math.ethz.ch
   X-loop: r-announce



   Hi,

   due to some FTP problems in Auckland and me not being in office
   yesterday R 0.64.2 took some time to travel from Denmark to New
   Zealand and then back to Europe ... but now it is finally available at
   the CRAN master site

	   http://www.ci.tuwien.ac.at/R

   here in Vienna and it should propagate to the
   various miroors within the next 24 hours or so.

   Best,
   Fritz
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


I downloaded 64.2 from blueberry a few days ago and compiled with no
problem.  There seems to be some problem with the netscape help pages,
however.

> help.start()

starts fine, but some clickable links don't work.  For example,
clicking on \link{dyn.load} brought on by the search engine gets
bumped, as the page it's looking for was dyn.load.html, whereas typing

>help(dyn.load) 

from the command line brings up the desired page dynload.html.  There
were several instances like this, but I can't remember the others at
the moment.

I don't remember running into the problem with 64.1.

Is this a bug?

Also, can someone double check the negative binomial distribution
documentation?  I raised the question a while ago but no one seems
interested.  This concerns the composite Poisson scenario: according
my algebra, size=(1-prob)/prob instead of its reciprocal as
documented.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jul  6 17:40:21 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 6 Jul 1999 08:40:21 -0700 (PDT)
Subject: [R] eval(), expression()
In-Reply-To: <13BE907346F@fgr.wu-wien.ac.at>
Message-ID: <Pine.GSO.4.10.9907060823030.20054-100000@wompom.biostat.washington.edu>

On Tue, 6 Jul 1999, Wolfgang Koller wrote:

> Dear R-Users!
> 
> My aim is to produce boxplots without the outliers included in the 
> plot. I started to write a function that looks something like:
> 
> myboxplot <-function(x,fa) {
>   bpdata <- boxplot(x~fa,plot=FALSE)
>   bpnames <- names(bpdata)
>   for (JJ in bpnames) { 
>     command <- paste("bpdata$",JJ,"$out <- numeric(0)",sep="");
>     eval(command)
>   }
>   bxp(bpdata)
> }
> 
> Obviously this does not work as I intended since the argument 
> of eval() should be of type expression. However, with 
> expression() there is no way to have variable JJ evaluated first.


There are various possibilities. One is just to 
write
   for(JJ in names(bpdata))
	bpdata[[JJ]]$out<-numeric(0)

without all that parsing and deparsing.

In a situation where this doesn't work you can use substitute()

for(nn in names(bpdata){
command<-substitute(expression(bpdata$JJ$out<-numeric(0)),list(JJ="1"))
eval(eval(command))
}

This sort of thing is sometimes useful for annotating plots.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  6 18:11:07 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 1999 18:11:07 +0200
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: Chong Gu's message of "Tue, 6 Jul 1999 10:20:10 -0500"
References: <199907061520.KAA17576@mean.stat.purdue.edu>
Message-ID: <x2aet9vjvo.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> > help.start()
> 
> starts fine, but some clickable links don't work.  For example,
> clicking on \link{dyn.load} brought on by the search engine gets
> bumped, as the page it's looking for was dyn.load.html, whereas typing
> 
> >help(dyn.load) 
> 
> from the command line brings up the desired page dynload.html.  There
> were several instances like this, but I can't remember the others at
> the moment.
> 
> I don't remember running into the problem with 64.1.
> 
> Is this a bug?

Yes, of course. I don't think it's new, though.

> 
> Also, can someone double check the negative binomial distribution
> documentation?  I raised the question a while ago but no one seems
> interested.  This concerns the composite Poisson scenario: according
> my algebra, size=(1-prob)/prob instead of its reciprocal as
> documented.

It would seem that you're right:

> mean(rnbinom(1000,2,0.1))
[1] 18.253
> mean(rpois(1000,rgamma(1000,2,0.1/0.9)))
[1] 0.224
> mean(rpois(1000,rgamma(1000,2,0.9/0.1)))
[1] 18.129

(and the text needs rewriting too, it's a "compound Poisson
distribution", not "heterogeneous Poisson process", right?)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Tue Jul  6 18:28:29 1999
From: ben at eno.princeton.edu (Ben Bolker)
Date: Tue, 6 Jul 1999 12:28:29 -0400 (EDT)
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: <x2aet9vjvo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.95.990706122257.17507A-100000@paca>

On 6 Jul 1999, Peter Dalgaard BSA wrote:
> 
> > 
> > Also, can someone double check the negative binomial distribution
> > documentation?  I raised the question a while ago but no one seems
> > interested.  This concerns the composite Poisson scenario: according
> > my algebra, size=(1-prob)/prob instead of its reciprocal as
> > documented.
> 
> It would seem that you're right:
> 
> > mean(rnbinom(1000,2,0.1))
> [1] 18.253
> > mean(rpois(1000,rgamma(1000,2,0.1/0.9)))
> [1] 0.224
> > mean(rpois(1000,rgamma(1000,2,0.9/0.1)))
> [1] 18.129
> 
> (and the text needs rewriting too, it's a "compound Poisson
> distribution", not "heterogeneous Poisson process", right?)
> 
> 

  Mea culpa.
  Both of these corrections are right.

  (Just out of curiousity--I know that "compound Poisson process" is
the technically correct term.  I meant "heterogeneous" in a non-technical
sense, although I can see that "compound" is better.  Does "heterogeneous"
in this context have any exact implied technical meaning?)

  Ben Bolker



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  6 18:44:36 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 1999 18:44:36 +0200
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: Ben Bolker's message of "Tue, 6 Jul 1999 12:28:29 -0400 (EDT)"
References: <Pine.SUN.3.95.990706122257.17507A-100000@paca>
Message-ID: <x27lodvibv.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at eno.princeton.edu> writes:

> > (and the text needs rewriting too, it's a "compound Poisson
> > distribution", not "heterogeneous Poisson process", right?)
> > 
> > 
> 
>   Mea culpa.
>   Both of these corrections are right.
> 
>   (Just out of curiousity--I know that "compound Poisson process" is
> the technically correct term.  I meant "heterogeneous" in a non-technical
> sense, although I can see that "compound" is better.  Does "heterogeneous"
> in this context have any exact implied technical meaning?)

I think "heterogeneous Poisson process" is OK for a Poisson
process where the intensity varies over time. But there is no
"process" here, only a distribution obtained by compounding the
Gamma and Poisson. 

A (single) distribution cannot in my mind be heterogeneous, unless
perhaps if it's "lumpy", "multimodal", etc...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jul  6 18:48:04 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 6 Jul 1999 18:48:04 +0200 (CEST)
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: <199907061520.KAA17576@mean.stat.purdue.edu>
References: <14209.59548.671786.553380@galadriel.ci.tuwien.ac.at>
	<199907061520.KAA17576@mean.stat.purdue.edu>
Message-ID: <14210.13124.923121.839717@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 6 Jul 1999 10:20:10 -0500,
>>>>> Chong Gu (CG) wrote:


>> help.start()

CG> starts fine, but some clickable links don't work.  For example,
CG> clicking on \link{dyn.load} brought on by the search engine gets
CG> bumped, as the page it's looking for was dyn.load.html, whereas typing

>> help(dyn.load) 

CG> from the command line brings up the desired page dynload.html.  There
CG> were several instances like this, but I can't remember the others at
CG> the moment.

I have fixed the dynload problem (in the development version), but
please report others when you find them as these little problems are
hard to find.

.fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhuerzeler at aicos.com  Wed Jul  7 09:17:30 1999
From: mhuerzeler at aicos.com (Markus Huerzeler)
Date: Wed, 07 Jul 1999 08:17:30 +0100
Subject: [R] hclust
Message-ID: <3782FF0A.AE28F61A@aicos.com>

I'm using the hclust method from the package mva (pre-compiled-version
on Win NT) and would like to cut the tree in pieces. 
Have someone implemented the function cutree (as in S-PLUS)  in R?

Many thanks

Markus Huerzeler
-- 
Dr. Markus Huerzeler        Phone: +41 / 61 / 686 98 83
AICOS Technologies AG       Fax:   +41 / 61 / 686 98 88
Efringerstrasse 32          mailto:mhuerzeler at aicos.com
CH-4057 Basel, Switzerland  web:   http://www.aicos.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jul  7 09:06:58 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 7 Jul 1999 09:06:58 +0200 (CEST)
Subject: [R] hclust
In-Reply-To: <3782FF0A.AE28F61A@aicos.com>
References: <3782FF0A.AE28F61A@aicos.com>
Message-ID: <14210.64658.382515.978889@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 07 Jul 1999 08:17:30 +0100,
>>>>> Markus Huerzeler (MH) wrote:

MH> I'm using the hclust method from the package mva (pre-compiled-version
MH> on Win NT) and would like to cut the tree in pieces. 
MH> Have someone implemented the function cutree (as in S-PLUS)  in R?

The function members in the multiv package should mostly do what you
want (split by number of groups).

As you are not the first one to ask I'll put something in the manpage
until we have our own cutree.

Best,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul  7 16:08:57 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 7 Jul 1999 16:08:57 +0200
Subject: [R] Re: R 0.64.2 at CRAN
In-Reply-To: <Pine.SUN.3.95.990706122257.17507A-100000@paca> (message from Ben
	Bolker on Tue, 6 Jul 1999 12:28:29 -0400 (EDT))
References: <Pine.SUN.3.95.990706122257.17507A-100000@paca>
Message-ID: <199907071408.QAA16282@sophie.ethz.ch>

I now fixed the two errors/typos in the help page for NegBinomial.
-- should be visible in the patch file  R-release-diff.gz on 
   CRAN in day or two.

Sorry Chong, for never having reacted on your first problem report;
{{ We probably would have rememberd it, if it would have been "official"
   bug report -- bug.report() ... }}

Martin Maechler
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris at gfm-mbh.de  Wed Jul  7 16:48:16 1999
From: chris at gfm-mbh.de (Christoph M. Friedrich)
Date: Wed, 07 Jul 1999 16:48:16 +0200
Subject: [R] Linear Models with positive coefficients? 
Message-ID: <378368B0.9C905114@gfm-mbh.de>

Hi,
is it possible in one of the libraries on linear methods to constrain
the coefficients to 
be positive? 

Thanks
  Chris
-- 
Christoph M. Friedrich        | mailto:friedrich at computer.org 
Gesellschaft f?r Modulfermenterbau mbH (GfM mbH) |
http://www.tussy.uni-wh.de/~chris
Alfred-Herrhausen Str. 44 ; D-58455 Witten, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.Gallagher at csc.liv.ac.uk  Wed Jul  7 17:13:15 1999
From: R.Gallagher at csc.liv.ac.uk (Ray Gallagher)
Date: Wed, 7 Jul 1999 16:13:15 +0100
Subject: [R] Calling S-Plus routines from C or Fortran
Message-ID: <01BEC893.A2FD2780@rayg.staff.csc.liv.ac.uk>

I am told it is common practice to call C/Fortran routines from one's S-PLUS/R. However is it possible to call S-Plus routines into C and Fortran programs using them as executable functions/subroutines ?

Grateful for any answers to this.

Regards

Ray

P.S. Please direct emails directly to rayg at csc.liv.ac.uk as I am not on the mailing list.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Wed Jul  7 21:43:33 1999
From: ben at eno.princeton.edu (Ben Bolker)
Date: Wed, 7 Jul 1999 15:43:33 -0400 (EDT)
Subject: [R] superscript -,+?
Message-ID: <Pine.SUN.3.95.990707153807.18452A-100000@paca>


  In Version 0.64.1  (May 8, 1999), Solaris 2.5.1,

   expression(theta^{-})
      
      and

   expression(theta^{+})

 (and the equivalent subscripts) give syntax errors.

  (Superscript or subscripts of numbers, letters, or "+1" or "-1" all
work.)

  Anyone have a workaround or a patch?
  Or should I just use psfrag as god intended?

  Ben


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben at eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Wed Jul  7 21:52:47 1999
From: ben at eno.princeton.edu (Ben Bolker)
Date: Wed, 7 Jul 1999 15:52:47 -0400 (EDT)
Subject: [R] answering my own question
Message-ID: <Pine.SUN.3.95.990707155129.18476A-100000@paca>


  expression(theta^{"+"})
  expression(theta^{"-"})
  expression({theta^{"+"}}(mu)})

  etc., work fine (once I actually *thought* about what the problem was)

 Ben B.

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben at eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From szarkos at ath.forthnet.gr  Wed Jul  7 22:38:41 1999
From: szarkos at ath.forthnet.gr (Spyros G. Zarkos)
Date: Wed, 7 Jul 1999 23:38:41 +0300
Subject: [R] Calling S-Plus routines from C or Fortran
References: <01BEC893.A2FD2780@rayg.staff.csc.liv.ac.uk>
Message-ID: <000201bec8b8$ec94e070$aec8dbc2@bigbully>

Since I'm interested in the topic, could the answers be also addressed to
the r-help mailing list?

Best,

Spyros

----- Original Message -----
From: Ray Gallagher <R.Gallagher at csc.liv.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Wednesday, July 07, 1999 6:13 PM
Subject: [R] Calling S-Plus routines from C or Fortran


> I am told it is common practice to call C/Fortran routines from one's
S-PLUS/R. However is it possible to call S-Plus routines into C and Fortran
programs using them as executable functions/subroutines ?
>
> Grateful for any answers to this.
>
> Regards
>
> Ray
>
> P.S. Please direct emails directly to rayg at csc.liv.ac.uk as I am not on
the mailing list.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From szarkos at ath.forthnet.gr  Wed Jul  7 22:43:20 1999
From: szarkos at ath.forthnet.gr (Spyros G. Zarkos)
Date: Wed, 7 Jul 1999 23:43:20 +0300
Subject: [R] Calling S-Plus routines from C or Fortran
Message-ID: <000c01bec8b9$5a572c80$aec8dbc2@bigbully>

 Since I (others) am (are) interested in the topic, could the answers be
also addressed to the r-help mailing list?

 Best,

 Spyros

> ----- Original Message -----
> From: Ray Gallagher <R.Gallagher at csc.liv.ac.uk>
> To: <r-help at stat.math.ethz.ch>
> Sent: Wednesday, July 07, 1999 6:13 PM
> Subject: [R] Calling S-Plus routines from C or Fortran
>
>
> > I am told it is common practice to call C/Fortran routines from one's
> S-PLUS/R. However is it possible to call S-Plus routines into C and
Fortran
> programs using them as executable functions/subroutines ?
> >
> > Grateful for any answers to this.
> >
> > Regards
> >
> > Ray
> >
> > P.S. Please direct emails directly to rayg at csc.liv.ac.uk as I am not on
> the mailing list.
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul  7 23:17:55 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 1999 23:17:55 +0200
Subject: [R] superscript -,+?
In-Reply-To: Ben Bolker's message of "Wed, 7 Jul 1999 15:43:33 -0400 (EDT)"
References: <Pine.SUN.3.95.990707153807.18452A-100000@paca>
Message-ID: <x2lncsupks.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at eno.princeton.edu> writes:

>   In Version 0.64.1  (May 8, 1999), Solaris 2.5.1,
> 
>    expression(theta^{-})
>       
>       and
> 
>    expression(theta^{+})
> 
>  (and the equivalent subscripts) give syntax errors.
> 
>   (Superscript or subscripts of numbers, letters, or "+1" or "-1" all
> work.)
> 
>   Anyone have a workaround or a patch?
>   Or should I just use psfrag as god intended?
> 

Both theta^"+" and theta^+{} seem to work ok. The thing to remember is
that + is an operator so if it is used in an expression, it needs to
have something to operate on, or you need to explicitly use it as a
character.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jul  8 09:07:51 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 8 Jul 1999 09:07:51 +0200
Subject: plot expressions {was: [R] superscript -,+?}
In-Reply-To: <Pine.SUN.3.95.990707153807.18452A-100000@paca> (message from Ben
	Bolker on Wed, 7 Jul 1999 15:43:33 -0400 (EDT))
References: <Pine.SUN.3.95.990707153807.18452A-100000@paca>
Message-ID: <199907080707.JAA21603@sophie.ethz.ch>


    Ben>   In Version 0.64.1 (May 8, 1999), Solaris 2.5.1,

    Ben>    expression(theta^{-})
      
    Ben>       and

    Ben>    expression(theta^{+})

    Ben>  (and the equivalent subscripts) give syntax errors.

    Ben>   (Superscript or subscripts of numbers, letters, or "+1" or "-1"
    Ben> all work.)

    Ben>   Anyone have a workaround or a patch?  Or should I just use
    Ben> psfrag as god intended?

The following works:

  plot(1,type='n', axes=F)
  text(1,1,  expression(theta^"-"))
  text(1,1.1,expression(theta["+"]))

and is probably the most concise here.
The following would have worked as well :

  text(1.1,1,  expression(tau^{-{}}))
  text(1.1,1.1,expression(tau[ +{}]))


You see that `expression' needs to be an expression, i.e. 
the "-" operator needs at least one argument, but that one can be empty.

-----

BTW, Ben, I think it's not desired to post both to R-help and R-devel...
{{R-devel'ers are supposed to also get R-help -- even though this is not
  ensured as is the case with R-help and R-announce}}.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mim78 at cict.fr  Thu Jul  8 09:47:25 1999
From: mim78 at cict.fr (ROS Mathieu)
Date: Thu, 8 Jul 1999 09:47:25 +0200 (MET)
Subject: [R] Linear Models with positive coefficients? 
In-Reply-To: <378368B0.9C905114@gfm-mbh.de>
Message-ID: <Pine.SGI.3.95.990708093716.8957C-200000@ondine.cict.fr>

> is it possible in one of the libraries on linear methods to constrain
> the coefficients to
> be positive?

I'm not sure this is available in R, but I send the same question  one
month ago to Snews and the point is to use nnls.fit.
I put the answers I get in attachment.
regards,
     Mathieu
-------------------------------------------------------
Mathieu Ros
mathieuros at bigfoot.com
Universite Paul Sabatier, Toulouse.
-------------------------------------------------------


-------------- next part --------------
 Prof Brian D Ripley <ripley at stats.ox.ac.uk>
nnls() is for this purpose.

 Christian Keller <ckeller at aicos.com>
You can use 'nnls.fit' (Linear least-squares fit with coefficients
constrained to be nonnegative). See help(nnls.fit) for details.

Note that 'nnls.fit' can't handle model formulas, 
e.g. you have to write
  nnls.fit(cbind(x1,x2), y)

where x1 and x2 are the explanatory variables and y is the
response.

Note also that (by default) 'nnls.fit' does not estimate an 
intercept term. To include an intercept, use 
  nnls.fit(cbind(1,x1,x2), y)

Unfortunately the output is rather poor 
(no special print and summary methods).

I hope this helps.

marcel.baumgartner at rdls.nestle.com
Try nlminb(). This has so-called box-constraints. You need just to write
your model slightly
differently. The help file and Venables and Ripley have examples. By the
way, using the Solver in
Excel, you can do also very easily ...

Marcel


Berwin A Turlach
nnls.fit()?

Caveat 1:
nnls.fit stems from the time before models were introduced.  It expects
you to give down the design matrix x and the y-vector.  No
specification via a formula.  But you can always do, say,
> X <- model.matrix(Hard~Dens+Dens^2+Dens^3,data=janka)
> Y <- janka[,"Hard"]
> nnls.fit(X,Y)
$coefficients:
 (Intercept)     Dens I(Dens^2) I(Dens^3) 
           0 4.243751 0.5619766         0


Caveat 2:
nnls.fit by default restricts *all* coefficients to be non-negative,

also the intercept.  If you don't want to impose the non-negativity
constraint on one of the parameters, then the standard trick is to
replicate the corresponding column and to multiplying that new column
by -1.  For example, if in the above example you wouldn't want to have
the intercept constrained to be non-negative, then you could do:
> X <- cbind(-X[,1],X)
> nnls.fit(X,Y)
$coefficients:
          (Intercept)     Dens I(Dens^2)   I(Dens^3) 
 431.8919           0 31.99779         0 0.003626301

So the estimated coefficient for the intercept is -431.8919.


From wsimpson at gcal.ac.uk  Thu Jul  8 12:06:31 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 8 Jul 1999 10:06:31 +0000 (GMT)
Subject: [R] Linear Models with positive coefficients? 
In-Reply-To: <Pine.SGI.3.95.990708093716.8957C-200000@ondine.cict.fr>
Message-ID: <Pine.LNX.3.96.990708100058.7139B-100000@cbe207.gcal.ac.uk>

I don't think nnls.fit is available in R.

I would guess the way to do it would be to use a nonlinear optimizer that
allows constraints on the search space. R has a nonlinear optimizer called
nlm, but it does an unconstrained search. (nlm is just a standard routine
from netlib I think that is glued onto R. It would be nice to have a
nonlin optimizer with constraints, and several exist at netlib and
elsewhere; perhaps someone with the need for it and the knowledge of how
to do it will glue one onto R)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Jul  8 12:15:03 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 8 Jul 1999 11:15:03 +0100 (BST)
Subject: [R] Linear Models with positive coefficients? 
In-Reply-To: <Pine.LNX.3.96.990708100058.7139B-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.LNX.3.95.990708110417.16170B-100000@mercury.quantex>



On Thu, 8 Jul 1999, Bill Simpson wrote:

> I don't think nnls.fit is available in R.
> 
> I would guess the way to do it would be to use a nonlinear optimizer that
> allows constraints on the search space. R has a nonlinear optimizer called
> nlm, but it does an unconstrained search. (nlm is just a standard routine
> from netlib I think that is glued onto R. It would be nice to have a
> nonlin optimizer with constraints, and several exist at netlib and
> elsewhere; perhaps someone with the need for it and the knowledge of how
> to do it will glue one onto R)
> 
> Bill
> 

I have used nlm with constraints imposed by minimising

-loglik+scale*(alpha^4)I(alpha<0)

where alpha bears some relation to the parameter(s) of interest, the
(positive) scale is chosen to ensure sensible dominance whenever alpha
strays into the negative regime and the indicator function ensures that it
operates only where alpha<0.  The properties of the log-likelihood were
not of immediate interest ... It worked pretty well to ensure a negative
intercept (in this case) but then I realised that only a few cases were
leading to the problem and some further thought and a better analysis
meant that I could approach the problem in a different way.

Just a thought.  Otherwise a constrained optimisation algorithm, which is
not available in R.  Or parameterise so that the log of the parameter is
used, as in the gnlr suite for the shape parameter.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jul  8 15:14:32 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 Jul 1999 08:14:32 -0500
Subject: [R] Linear Models with positive coefficients?
In-Reply-To: John Logsdon's message of "Thu, 8 Jul 1999 11:15:03 +0100 (BST)"
References: <Pine.LNX.3.95.990708110417.16170B-100000@mercury.quantex>
Message-ID: <6rlncrfflz.fsf@verdi.stat.wisc.edu>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> Just a thought.  Otherwise a constrained optimisation algorithm, which is
> not available in R.  Or parameterise so that the log of the parameter is
> used, as in the gnlr suite for the shape parameter.

There are simpler ways of going about the task because it is
essentially an integer programming problem.  You are just searching
for the subset of the coefficients that should be set equal to zero.

Dennis Wolf and I wrote about it several years ago including some
Fortran code.

@article{bate:wolf:1984,
    Author = {Bates, Douglas M. and Wolf, Dennis A.},
    Title = {Non-negative Regression By {G}ivens Rotations},
    Year = 1984,
    Journal = {Communications in Statistics, Part B -- Simulation and
              Computation},
    Volume = 13,
    Pages = {841--850}
}

Given the number of things I am supposed to be working on, I will not
be able to make an R implementation of this soon.  If anyone wants to
try I would be happy to offer what advice I can.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul  8 21:18:34 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 1999 21:18:34 +0200
Subject: [R] Hack for making old R binaries work after glibc upgrade
Message-ID: <x2r9mjq7at.fsf@blueberry.kubism.ku.dk>

Perhaps a bit of a moot point since Martyn now does 6.0 RPM's, but I
thought someone might have a use for it, now that I've stumbled across
it...

$ cat > dummy.c
__setfpucw(){}
$ gcc -shared -o dummy.so dummy.c
$ LD_PRELOAD=$PWD/dummy.so R

R : Copyright 1999, The R Development Core Team
Version 0.64.2  (July 3, 1999)

...
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jul  9 09:32:40 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 9 Jul 1999 09:32:40 +0200 (CEST)
Subject: [R] Re: new time series package available
In-Reply-To: <3784CFDC.C81BC8E6@wu-wien.ac.at>
References: <3784CFDC.C81BC8E6@wu-wien.ac.at>
Message-ID: <14213.42392.562744.22240@galadriel.ci.tuwien.ac.at>


gebe es soeben nach CRAN. habe die version auf 0.1-1 ge?ndert.
und das file hei?t nat?rlich nicht tseries.tgz, sondern
tseries_0.1-1.tar.gz. 

lg
.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jul  9 09:44:01 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 9 Jul 1999 09:44:01 +0200 (CEST)
Subject: [R] Re: new time series package available
In-Reply-To: <14213.42392.562744.22240@galadriel.ci.tuwien.ac.at>
References: <3784CFDC.C81BC8E6@wu-wien.ac.at>
	<14213.42392.562744.22240@galadriel.ci.tuwien.ac.at>
Message-ID: <14213.43073.804642.336009@galadriel.ci.tuwien.ac.at>


oops ... sorry, this email was meant for adrian only, hence the german
language. (I forgot that r-announce is the only (?) r-list that has an
reply-to set).

fritz

>>>>> On Fri, 9 Jul 1999 09:32:40 +0200 (CEST),
>>>>> Friedrich Leisch (FL) wrote:

FL> gebe es soeben nach CRAN. habe die version auf 0.1-1 ge?ndert.
FL> und das file hei?t nat?rlich nicht tseries.tgz, sondern
FL> tseries_0.1-1.tar.gz. 

FL> lg
FL> .f
FL> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
FL> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
FL> Send "info", "help", or "[un]subscribe"
FL> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
FL> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fears at roycastle.liv.ac.uk  Fri Jul  9 15:49:24 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Fri, 9 Jul 1999 14:49:24 +0100 
Subject: [R] Calling S-Plus routines from C or Fortran
Message-ID: <B7F24F2B48ACD11196F600805FC7F43020A570@pdc.rc.liv.ac.uk>

Ray,

what you've been told is true but pessimistic. On the bright side you
*can* use call_R in your C code, provided you call your C program from a
running R session. Your R session need only be this long:

> dyn.load('myprogram')
> .C('myprogram',arg1,arg2,...)

There is an alternative. Because *all* the R source code is available,
you could strip in the relevant routine and compile it from source. This
won't work for R routines that depend on big things like the interpreter
running, but simple functions could be called this way. Warning: apart
from its limitations, I'm sure this would violate the licence agreement.
It's not an option if you're intending to distribute your code.

By the way, I have never found a good reason for using call_R(). Mostly
you go into C to avoid looping within the R interpreter, and the
temptation is to write a C loop with the convenience of an R function
body. But forget it; it's not actually quicker, ever. The other
situation in which call_R looks tempting is that in the middle of some C
code you want to do something rather complex, such as fitting a linear
model. However, rather than use call_R, which really just calls an
embedded R session, it's best to just split your C code in two, so your
R function has

ans1 <- .C('firsthalf',...)
lm(y~x,data=as.data.frame(ans1))
ans2 <- .C('secondhalf',...)

avoiding the embedding.

Simon

> -----Original Message-----
> From: Ray Gallagher [mailto:R.Gallagher at csc.liv.ac.uk]
> Sent: 09 July 1999 13:47
> To: 'Simon Fear'
> Subject: RE: [R] Calling S-Plus routines from C or Fortran
> 
> 
> Ah this seems to conflict with what has come back so far Simon.
> 
> The information so far has been that you can only call C or 
> Fortran from S-Plus or R
> 
> See text below in quotes from Douglas Bates ( not sure if 
> this is what you meant to say Simon?
> 
> "In general, no.
> There is a mechanism using a C function call_R (also available as
> call_S, for historical reasons) to evaluate an expression in R from
> within a C function.  This mechanism only works, however, when the C
> function has itself been called from R.  It needs the runtime R
> facilities to be working at the time it is called.  Thus the sequence
> is 
> 1)	R evaluates an R expression
> 2)	This evaluation calls a C function through .C and 
> passes another R expression.
> 3)	The C function (usually an iterative function for 
> optimization or something like that) sets up some values of 
> parameters then calls call_R 
> 
> If what you are looking for is a general embedding mechanism, 
> it does not currently exist."
> Regards
> 
> Ray
> 
> 
> -----Original Message-----
> From:	Simon Fear [SMTP:fears at roycastle.liv.ac.uk]
> Sent:	09 July 1999 10:45
> To:	'Ray Gallagher'
> Subject:	RE: [R] Calling S-Plus routines from C or Fortran
> 
> Ray,
> 
> I could have told you the answer to this when I saw you on 
> Wednesday if
> you'd had a chance to ask ...
> 
> Anyway, yes, read the Splus documentation, then do the same in R.
> Basically, look at the R source for the name of the routine, 
> and call it
> in the appropriate wrapper function. RTFM, as they say ... (hint: look
> for call_R)
> 
> Simon
> 
> cc to the list per Spiros' request.
> 
> > -----Original Message-----
> > From: Ray Gallagher [mailto:R.Gallagher at csc.liv.ac.uk]
> > Sent: 07 July 1999 16:13
> > To: 'r-help at stat.math.ethz.ch'
> > Subject: [R] Calling S-Plus routines from C or Fortran
> > 
> > 
> > I am told it is common practice to call C/Fortran routines 
> > from one's S-PLUS/R. However is it possible to call S-Plus 
> > routines into C and Fortran programs using them as executable 
> > functions/subroutines ?
> > 
> > Grateful for any answers to this.
> > 
> > Regards
> > 
> > Ray
> > 
> > P.S. Please direct emails directly to rayg at csc.liv.ac.uk as I 
> > am not on the mailing list.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sat Jul 10 13:42:07 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sat, 10 Jul 1999 13:42:07 +0200 (MET DST)
Subject: [R] R,S,Octave,Matlab:SUMMARY
Message-ID: <Pine.OSF.3.91.990710134006.15553A-100000@paleo.ija.csic.es>


Dear R makers and users.

I summarize answers to my question. Thanks 
for your help. 
The conclusion seems to be
that, in terms of performance with large datasets,

Matlab=Octave > R > Splus5.1 > Splus5.0

but Matlab/Octave lack many of the stat 
functions of R/S, and,

R does not have as many time-series functions
as S+ (but see last message to r-announce by adrian.trapletti at wu-wien.ac.at
on new time series package available).


SUMMARY:

alobo at ija.csic.es

> Dear R makers and users:
> 
> After reading the FAQ and the comments on the
> comparison between R and S, I still have an important
> (at least for me) question: How is R compared
> to the new version of Splus 5.0  (for unix including Linux)?
> 
> I must pay particular atention to the efficiency
> with large datasets and, more generally speaking,
> to the efficiency with memory management.




jsekhon at fas.harvard.edu

1. I've found Splus 5.1 for LINUX to have far worse memory management than
Splus 3.x.  There are several key memory bugs listed in the release notes.
One being that Splus doesn't recover memory well (at all?) in for loops.
2. I've found R to be much faster than 5.1 in handling loops.
3. Also, R seems to be much faster when being called from C (using
call_R) than Splus.
4. Splus 5.1 seems to handle large data sets better---if you don't do much
with them.  

###########################################################################

thomas at biostat.washington.edu

1. There is not a lot known about the precise circumstances that affect the
relative performance of R and S-PLUS.
2. Tests based on code from "Modern
Applied Statistics with S-PLUS" by Venables and Ripley show R as somewhat
slower.
3. A number of people (including me) have found R to be substantially
faster on specific simulation problems, sometimes involving large datasets
and sometimes not. This is by no means universally true, and we don't have
good rules for predicting when R is faster.  Basically, R copies things
less often but doesn't recover memory particularly efficiently.
4. If your object size is a substantial fraction of available memory R will
not perform well.
5. S-PLUS may well be better, but it won't be very good
either. 
6. There are a number of planned changes to the internals of R 
that should provide some speedup (better garbage collection, hashing of all
environments), but we don't know how much.
7. If there are strong cost constraints and memory size is an important
barrier it may be worth using R and buying extra memory, which is
comparatively cheap for Intel machines.

#############################################################################

ripley at stats.ox.ac.uk

1. The memory management of Splus 5.1 is much better than 5.0.
It is likely that 5.1 has not yet reached European distributors,
but it is imminent.
2. I would say this has much more to do with programming well than the
choice between S-PLUS and R. I have happily processed time-series of
MRI images on my (192Mb RAM) laptop in all of S-PLUS 4.5, 5.1 and
pre-R-0.64.2.  These are large (ca 50Mb per dataset). What `well'
means differs between these systems.


#####################################################################


ammann at utdallas.edu


1. I also work with remote sensing satellite data, mainly Landsat
and AVIRIS.
2. I have found Octave to be very useful
since it includes functions for reading unsigned integer data
sets, and its handling of these very large data sets seems to be
more efficient than R or S+, at least for standard matrix
functions like BLAS, QR, and SVD
3. Various clustering algorithms and statistical models beyond the
standard least squares would be better handled using either R or
S+.
4. I taught a class last year on
image processing for remote sensing data and had the students
use Octave for Linux in my computer lab to do the processing
and they were able to progress rather successfully.





Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pbouman at sachs.com  Sat Jul 10 23:20:07 1999
From: pbouman at sachs.com (Peter Bouman)
Date: Sat, 10 Jul 1999 16:20:07 -0500
Subject: [R] Creating shared libraries for dyn.load() in R
Message-ID: <171FE977C33BD211B420000629B3118C4EFAC0@exchange2.sachs.com>

 
Dear R-users,

I am working to install Chong Gu's new gss library on my Linux system
(Redhat 5.1/i386), and have run into the following roadblock:  Dr. Gu's R
code is a front end for a package of Fortran routines called RKPACK.  While
I have no trouble compiling
the individual bits of Fortran code with fort77 in Linux, I don't know how
to link the resulting *.o files into a shared library that R
will read with dyn.load() (I am following the procedure recommended by V&R
in their R Complements to MASS).

I suspect, of course, that the problem is that I don't really understand how
to use ld to produce the shared libraries correctly.  Could anyone indulge a
newbie and offer some advice?  Even a pointer to documentation on how to
build shared libraries would be great.

(Alternatively:  Dr. Gu's Makefile for GKPACK uses "ranlib" to put the
object code into a *.a file.  Can R be persuaded to use this kind of file?)

Thanks,

Peter Bouman
Senior Analyst 
Sachs Group
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Sun Jul 11 06:15:45 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Sat, 10 Jul 1999 23:15:45 -0500
Subject: [R] Creating shared libraries for dyn.load() in R
In-Reply-To: <171FE977C33BD211B420000629B3118C4EFAC0@exchange2.sachs.com>
	(message from Peter Bouman on Sat, 10 Jul 1999 16:20:07 -0500)
Message-ID: <199907110415.XAA25712@mean.stat.purdue.edu>


   X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to owner-r-help at stat.math.ethz.ch using -f
   From: Peter Bouman <pbouman at sachs.com>
   Date: Sat, 10 Jul 1999 16:20:07 -0500
   MIME-Version: 1.0
   X-Mailer: Internet Mail Service (5.5.2232.9)
   Content-Type: text/plain;
	   charset="iso-8859-1"
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk


   Dear R-users,

   I am working to install Chong Gu's new gss library on my Linux system
   (Redhat 5.1/i386), and have run into the following roadblock:  Dr. Gu's R
   code is a front end for a package of Fortran routines called RKPACK.  While
   I have no trouble compiling
   the individual bits of Fortran code with fort77 in Linux, I don't know how
   to link the resulting *.o files into a shared library that R
   will read with dyn.load() (I am following the procedure recommended by V&R
   in their R Complements to MASS).

   I suspect, of course, that the problem is that I don't really understand how
   to use ld to produce the shared libraries correctly.  Could anyone indulge a
   newbie and offer some advice?  Even a pointer to documentation on how to
   build shared libraries would be great.

   (Alternatively:  Dr. Gu's Makefile for GKPACK uses "ranlib" to put the
   object code into a *.a file.  Can R be persuaded to use this kind of file?)

   Thanks,

   Peter Bouman
   Senior Analyst 
   Sachs Group
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Please don't compile RKPACK separately.  Simply use

    R INSTALL -l library gss

in a directory, say $(DIR), which has library and gss as
subdirectories.  The command will automatically compile the gss.so and
the documentation and put them under $(DIR)/library/gss.  Put
$(DIR)/library in your RLIB environment and run library(gss) at the R
prompt, and you are there.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jul 11 13:17:18 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 1999 13:17:18 +0200
Subject: [R] Creating shared libraries for dyn.load() in R
In-Reply-To: Chong Gu's message of "Sat, 10 Jul 1999 23:15:45 -0500"
References: <199907110415.XAA25712@mean.stat.purdue.edu>
Message-ID: <x2lncn3075.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> Please don't compile RKPACK separately.  Simply use
> 
>     R INSTALL -l library gss
> 
> in a directory, say $(DIR), which has library and gss as
> subdirectories.  The command will automatically compile the gss.so and
> the documentation and put them under $(DIR)/library/gss.  Put
> $(DIR)/library in your RLIB environment and run library(gss) at the R
> prompt, and you are there.

Or even just

	R INSTALL gss

which will place it in the default location along with the ones that
came with R (eda, modreg, etc.). You need to have installer privileges
to do that, though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Mon Jul 12 15:05:22 1999
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Mon, 12 Jul 1999 14:05:22 +0100 (BST)
Subject: [R] Error is dynamivally loaded code
Message-ID: <199907121305.OAA03596@rameau.mrc-bsu.cam.ac.uk>


Changing from 0.64.1 to 0.64.2 is causing some dynamically-loaded code to
crash with the message:


ld.so.1: /usr/local/lib/R/bin/R.binary: 
fatal: relocation error: file /homef/jonm/glib/ggg/libs/glmm.so: 
symbol R_chk_calloc: referenced symbol not found

(I've added carriage returns)

what am I doing wrong?

Jonathan

-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330371
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Mon Jul 12 15:27:27 1999
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Mon, 12 Jul 1999 15:27:27 +0200
Subject: [R] how to find index of maximum?
Message-ID: <199907121327.PAA00630@aryness.ethz.ch>

Dear R-users,

Is there a simple way to find the index of the maximum of a vector? 

Ex.

1 3 6 2

result: 3

Thanks for any help, Peter

____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, SOL F7    fax:   + 41 1 632 10 86
(Sonneggstr. 33)                  <holzer at stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at MH-Hannover.de  Mon Jul 12 14:42:23 1999
From: malewski.peter at MH-Hannover.de (Peter Malewski)
Date: Mon, 12 Jul 1999 13:42:23 +0100
Subject: [R] Re: S+ code
References: <20E7B092D01ED311AF3F0060972CE3B5019275@hermod.ieminc.com> <3784B41A.D3F1C9F7@umdnj.edu>
Message-ID: <3789E2AF.DFC9ADC0@mh-hannover.de>

Dear Mr. Cleland, SEM-ueser, R-User, ...

    there isn't s-plus or R (a GNU-free version of the programming language
S) code for structural equation modelling. I always wondered why. I
personally think the language S, with the implementations S+ and R, is a
good-perhaps the best-environment for statistical analyses. Why? It is
object orientated, logical, etc. For example: the code for least squares
regression is: lm(y~x). And isn?t it a waste of time to learn for a new
analyses a new programming language?

Several month ago I thought about including structural eq. modelling  in
R---either by writing an interface to the MX-Language (which unfortunately
isn?t under the GNU-licence but nearly ?free?) or built it up from scratch.
I haven?t because I haven?t got time and ...

Surely I the philosophies of the people who use S and SEM-Models are
different. Personally I think that this is the main reason why there isn?t
code for SEM for S. Perhaps one of the R-users might explain why there SEM
should not be included in R...

Greetings from an R but not yet SEM user (perhaps never)

P.Malewski

ps. Sorry for the bad Engish...


Chuck Cleland wrote:

> Boechler, Mike wrote:
> >
> > Good day,
> > Is anyone aware of any objects written in S+ that allow one to fit
> > structural equation models (latent variable and otherwise)? Thanks in
> > advance.
> > Mike
>
>   I am not aware of any libraries or functions, but you might try
> posting the question on the S-Plus list.
>
> s-news at wubios.wustl.edu
>
>   Also check the S-Plus archives for available libraries and functions.
>
> UNIX
>
> http://lib.stat.cmu.edu/S/
>
> AND Windows
>
> http://lib.stat.cmu.edu/DOS/S/
>
> Chuck Cleland

--



---------------------------------------------------
* P. Malewski
* Hannover Medical School
* Department of Psychosomatics and Psychotherapy
* Carl-Neuberg-Str. 1
* Tel.:+49 511 532 3194
* Fax.:+49 511 532 3190
---------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul 12 16:49:47 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 12 Jul 1999 16:49:47 +0200
Subject: [R] how to find index of maximum?
In-Reply-To: <199907121327.PAA00630@aryness.ethz.ch> (message from Peter
	Holzer on Mon, 12 Jul 1999 15:27:27 +0200)
References: <199907121327.PAA00630@aryness.ethz.ch>
Message-ID: <199907121449.QAA13622@sophie.ethz.ch>


    Peter> Dear R-users, Is there a simple way to find the index of the
    Peter> maximum of a vector?

Peter meant:
     Something more efficient than

      		  x == max(x)
or
		which(x == max(x))
or
		match(max(x), x)


    Peter> Ex.

    Peter> 1 3 6 2

    Peter> result: 3

    Peter> Thanks for any help, Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 12 17:42:45 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Jul 1999 16:42:45 +0100 (BST)
Subject: [R] how to find index of maximum?
In-Reply-To: <199907121449.QAA13622@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.05.9907121637280.7506-100000@auk.stats>

On Mon, 12 Jul 1999, Martin Maechler wrote:

> 
>     Peter> Dear R-users, Is there a simple way to find the index of the
>     Peter> maximum of a vector?
> 
> Peter meant:
>      Something more efficient than
> 
>       		  x == max(x)
> or
> 		which(x == max(x))
> or
> 		match(max(x), x)

The first does not give what Peter asked for.  I usually use

seq(along=x)[x == max(x)]

Also, watch out for duplicates, as match only gives the first one.

Now, one can be more efficient than seq(along=x)[x == max(x)], but you
need an enormous vector to need to do so. The usual problem is that
one wants to do this for each row of a matrix, and my library nnet
(VR5.x) or MASS (VR6.x) has a function in C to do that (and break ties).

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon Jul 12 18:21:22 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 12 Jul 1999 11:21:22 -0500
Subject: [R] how to find index of maximum?
In-Reply-To: <199907121327.PAA00630@aryness.ethz.ch> (message from Peter
	Holzer on Mon, 12 Jul 1999 15:27:27 +0200)
Message-ID: <199907121621.LAA24240@mean.stat.purdue.edu>


   X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to owner-r-help at stat.math.ethz.ch using -f
   Date: Mon, 12 Jul 1999 15:27:27 +0200
   From: Peter Holzer <holzer at stat.math.ethz.ch>
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   Dear R-users,

   Is there a simple way to find the index of the maximum of a vector? 

   Ex.

   1 3 6 2

   result: 3

   Thanks for any help, Peter

   ____________________________________________________________

   Peter Holzer                      phone: + 41 1 632 46 34
   Seminar fuer Statistik, SOL F7    fax:   + 41 1 632 10 86
   (Sonneggstr. 33)                  <holzer at stat.math.ethz.ch>
   ETH (Federal Inst. Technology)
   8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


rev(order(x))[1]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Wed Jul 14 04:09:21 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Wed, 14 Jul 1999 04:09:21
Subject: [R] vector of NA indices
Message-ID: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>

I have a vector Pes with 600 elements some of which are NA's. How can I
form a vector of the indices of the NA's.

	for(i in 1:600) if(is.na(Pes[i])) print(i)

prints the indices of the NA's but I can't figure out how to put the
results in a vector.

Thank you very much.

Peter B.


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Wed Jul 14 04:13:48 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Wed, 14 Jul 1999 04:13:48
Subject: [R] How to cite
Message-ID: <3.0.5.16.19990714041348.2fa72a28@deimos.tc.uaslp.mx>

I am updating my lab manual in Spanish. How should I cite your supplements
to Venables and Ripley 1997 and the scripts.

Thank you very much

Peter B.


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 14 17:13:57 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 14 Jul 1999 17:13:57 +0200
Subject: [R] vector of NA indices
In-Reply-To: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>
	(mandevip@uaslp.mx)
References: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>
Message-ID: <199907141513.RAA27270@sophie.ethz.ch>


    PBM> I have a vector Pes with 600 elements some of which are NA's. How can I
    PBM> form a vector of the indices of the NA's.

    PBM> for(i in 1:600) if(is.na(Pes[i])) print(i)

    PBM> prints the indices of the NA's but I can't figure out how to put the
    PBM> results in a vector.

which(is.na(Pes))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jul 14 17:21:12 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 14 Jul 1999 17:21:12 +0200 (CEST)
Subject: [R] vector of NA indices
In-Reply-To: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>
References: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>
Message-ID: <14220.43752.712438.90322@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 14 Jul 1999 04:09:21,
>>>>> Peter B Mandeville (PBM) wrote:

PBM> I have a vector Pes with 600 elements some of which are NA's. How can I
PBM> form a vector of the indices of the NA's.

PBM> 	for(i in 1:600) if(is.na(Pes[i])) print(i)

PBM> prints the indices of the NA's but I can't figure out how to put the
PBM> results in a vector.

try this:

x <- (1:length(Pes))[is.na(Pes)]


.fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.princeton.edu  Wed Jul 14 17:34:41 1999
From: ben at eno.princeton.edu (Ben Bolker)
Date: Wed, 14 Jul 1999 11:34:41 -0400 (EDT)
Subject: [R] vector of NA indices
In-Reply-To: <3.0.5.16.19990714040921.2cbf80b6@deimos.tc.uaslp.mx>
Message-ID: <Pine.SUN.3.95.990714113303.26269A-100000@paca>

On Wed, 14 Jul 1999, Peter B. Mandeville wrote:

> I have a vector Pes with 600 elements some of which are NA's. How can I
> form a vector of the indices of the NA's.
> 
> 	for(i in 1:600) if(is.na(Pes[i])) print(i)
> 
> prints the indices of the NA's but I can't figure out how to put the
> results in a vector.
> 
> Thank you very much.
> 
> Peter B.

x <- 1:100
> x[round(runif(20)*100)] <- NA
> (1:length(x))[is.na(x)]
 [1]  1  2  3 17 23 24 31 54 58 64 70 76 84 85 92 96


 (or in your case,

(1:600)[is.na(Pes)]

 )

Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben at eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 14 19:49:29 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 14 Jul 1999 18:49:29 +0100 (BST)
Subject: [R] vector of NA indices
In-Reply-To: <14220.43752.712438.90322@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.05.9907141845280.19526-100000@auk.stats>

On Wed, 14 Jul 1999, Friedrich Leisch wrote:

> >>>>> On Wed, 14 Jul 1999 04:09:21,
> >>>>> Peter B Mandeville (PBM) wrote:
> 
> PBM> I have a vector Pes with 600 elements some of which are NA's. How can I
> PBM> form a vector of the indices of the NA's.
> 
> PBM> 	for(i in 1:600) if(is.na(Pes[i])) print(i)
> 
> PBM> prints the indices of the NA's but I can't figure out how to put the
> PBM> results in a vector.
> 
> try this:
> 
> x <- (1:length(Pes))[is.na(Pes)]

Tip: that sort of thing often fails for a length 0 vector. The `approved'
spell is

seq(along=Pes)[is.na(Pes)]

In this case it does not matter as the subscript is of length 0, but it
has floored enough library/package writers to be worth thinking about.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 14 19:44:42 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 14 Jul 1999 18:44:42 +0100 (BST)
Subject: [R] How to cite
In-Reply-To: <3.0.5.16.19990714041348.2fa72a28@deimos.tc.uaslp.mx>
Message-ID: <Pine.GSO.4.05.9907141843340.19526-100000@auk.stats>

On Wed, 14 Jul 1999, Peter B. Mandeville wrote:

> I am updating my lab manual in Spanish. How should I cite your supplements
> to Venables and Ripley 1997 and the scripts.

Via the URLs for the complements. The scripts are part of the R packages,
so cite those (with a URL).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Wed Jul 14 20:30:51 1999
From: posse at talariainc.com (Christian Posse)
Date: Wed, 14 Jul 1999 11:30:51 -0700
Subject: [R] Weird behavior with names()
Message-ID: <378CD75B.3C899307@talariainc.com>

Dear R fellows,

Is the following a feature or a bug of names() ??
It does  not seem to be reported as a bug in the R Bug Tracking System.


(RedHat 6.0, R-0.64.2 compiled from source, not RPM).

# a trivial test
x <- 1:5
y <- 6:10
names(x) <- c("a", "b", "c", "d", "e")
names(y) <- c("a", "b", "c", "d", "e")
 xy <- cbind(x,y)

## test names()

>  names(x)
[1] "a" "b" "c" "d" "e"
>  names(xy)
NULL
>  names(xy[,1])
[1] "a" "b" "c" "d" "e"


So far, so good.  But now look at what happens when I tried
to extract from the array:

>  names(x[-(1:3)])
[1] "d" "e"
 >  names(xy[-(1:3),1])                   it works
[1] "d" "e"
> names(xy[,1])[-(1:3)]                 it works too.....
[1] "d" "e"

>  names(x[-(1:4)])
[1] "e"
>  names(xy[-(1:4),1])
NULL                                                   ??????? should be
"e"
>  names(xy[,1])[-(1:4)]                That works......
[1] "e"

Similarly

>  names(x[5])
[1] "e"
>  names(x[4:5])
[1] "d" "e"
>  names(xy[5,1])
NULL                                                 ????????
>  names(xy[4:5,1])
[1] "d" "e"


Thanks for enlightening me!
Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jul 14 21:38:50 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 14 Jul 1999 12:38:50 -0700 (PDT)
Subject: [R] Weird behavior with names()
In-Reply-To: <378CD75B.3C899307@talariainc.com>
Message-ID: <Pine.GSO.4.10.9907141226500.17753-100000@wompom.biostat.washington.edu>

On Wed, 14 Jul 1999, Christian Posse wrote:

> Dear R fellows,
> 
> Is the following a feature or a bug of names() ??
> It does  not seem to be reported as a bug in the R Bug Tracking System.

Neither. It is a side effect of a feature of matrices. 

Consider the following three ways to get at the (1,1) element of xy
	names(xy[,1][1])  #returns name of row 1
	names(xy[1,][1])  #returns name of column 1
	names(xy[1,1])	  #returns NULL

What is happening is that xy[1,1] is a 1x1 matrix, which is coerced by
default to a scalar, which does not have a names attribute (since it's not
clear whether it should be the row 1 or column 1 name)

On the other hand xy[,1][1] is computed by coercing xy[,1] to a vector,
retaining the row names of xy as the names, and then taking the first
element, whose name is the name of the first row of xy. Similarly,
names(xy[1,][1]) is the name of the first column of xy.  In your example
there weren't any column names so it was less obvious.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 15 08:13:30 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jul 1999 07:13:30 +0100 (BST)
Subject: [R] Weird behavior with names()
In-Reply-To: <378CD75B.3C899307@talariainc.com>
Message-ID: <Pine.GSO.4.05.9907150659060.20241-100000@auk.stats>

On Wed, 14 Jul 1999, Christian Posse wrote:

> Dear R fellows,
> 
> Is the following a feature or a bug of names() ??

It is a feature of matrix indexing.

> It does  not seem to be reported as a bug in the R Bug Tracking System.
> 
> 
> (RedHat 6.0, R-0.64.2 compiled from source, not RPM).
> 
> # a trivial test
> x <- 1:5
> y <- 6:10
> names(x) <- c("a", "b", "c", "d", "e")
> names(y) <- c("a", "b", "c", "d", "e")
>  xy <- cbind(x,y)
> 
> ## test names()
> 
> >  names(x)
> [1] "a" "b" "c" "d" "e"
> >  names(xy)
> NULL
> >  names(xy[,1])
> [1] "a" "b" "c" "d" "e"
> 
> 
> So far, so good.  But now look at what happens when I tried
> to extract from the array:
> 
> >  names(x[-(1:3)])
> [1] "d" "e"
>  >  names(xy[-(1:3),1])                   it works
> [1] "d" "e"
> > names(xy[,1])[-(1:3)]                 it works too.....
> [1] "d" "e"
> 
> >  names(x[-(1:4)])
> [1] "e"
> >  names(xy[-(1:4),1])
> NULL                                                   ??????? should be
> "e"

No, it should not:

> xy[-(1:4),1]
[1] 5

has no names, so names is reporting correctly.  I believe you think it
should have names, but it does not in R nor S. Try (in S)
> xy[-(1:4),1, drop=F]
  x 
e 5

Now, should the name be "e" (xy[, 1][-(1:4)]) or "x" (xy[-(1:4),][1])?
Sensibly, S does not try to choose.

In R, cbind works slightly differently: use xy <- cbind(x=x, y=y)
to see the dilemma more clearly.

[BTW, I think this is a bug in R's cbind and should be fixed.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jul 15 08:51:21 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 15 Jul 1999 08:51:21 +0200
Subject: [R] vector of NA indices
In-Reply-To: <Pine.GSO.4.05.9907141845280.19526-100000@auk.stats> (message
	from Prof Brian D Ripley on Wed, 14 Jul 1999 18:49:29 +0100 (BST))
References: <Pine.GSO.4.05.9907141845280.19526-100000@auk.stats>
Message-ID: <199907150651.IAA28446@sophie.ethz.ch>

>>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Wed, 14 Jul 1999, Friedrich Leisch wrote:
    >> >>>>> On Wed, 14 Jul 1999 04:09:21, >>>>> Peter B Mandeville (PBM)
    >> wrote:
    >> 
    PBM> I have a vector Pes with 600 elements some of which are NA's. How
    PBM> can I form a vector of the indices of the NA's.
    >>
    PBM> for(i in 1:600) if(is.na(Pes[i])) print(i)
    >>
    PBM> prints the indices of the NA's but I can't figure out how to put
    PBM> the results in a vector.
    >>  try this:
    >> 
    >> x <- (1:length(Pes))[is.na(Pes)]

    BDR> Tip: that sort of thing often fails for a length 0 vector. The
    BDR> `approved' spell is

    BDR> seq(along=Pes)[is.na(Pes)]

    BDR> In this case it does not matter as the subscript is of length 0,
    BDR> but it has floored enough library/package writers to be worth
    BDR> thinking about.

Good teaching about seq() vs.  1:n 

However, the solution I gave 

     which(is.na(Pes))

is the one I stilly really recommend; 
it does deal with 0-length objects, and it keeps names when there are some,
and it has an `arr.ind = FALSE' argument to return array indices instead of
vector indices when so desired.


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Thu Jul 15 11:09:03 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Thu, 15 Jul 1999 11:09:03 GMT+2
Subject: [R] matrix indices
Message-ID: <32DC4BA37E6@gecko.biol.wits.ac.za>

Hi

Could somebody please explain the following to me:
If x is a 10x10 matrix,
typing x[3] prints all 10 values of column 3, although the length of 
the vector =1. Why?
x[,3] and x[[3]] both give all 10 values of column 3, length=10. 
What is the difference between these two, actually?

Thanks
Karen Kotschy
Centre for Water in the Environment
Department of Botany
University of the Witwatersrand
Johannesburg
South Africa
Tel : +2911 716-2218

Postal address:
P/Bag 3
P.O Wits
2050
South Africa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jul 15 12:17:58 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 15 Jul 1999 12:17:58 +0200 (MET DST)
Subject: [R] attaching directories in R?
Message-ID: <Pine.OSF.3.91.990715120938.18914C-100000@paleo.ija.csic.es>


Hi!

I'm trying to use R. In S+ I use to have different projects
in different directories. To make
the functions and other objects 
from a directory available
and to use that directory as default,
I just do:

attach(directory, pos = 1)

where directory is, for example,

"/home/alobo/S/bolivia1"

Acutually, I have a simpe function
(work) to do this:

> work
function(directorio)
{
	if(any(search() == directorio))

		detach(what = directorio)

	attach(directorio, pos = 1)

	options(prompt = paste("Splus/", paste(directorio, ">", sep = ""), 
sep = ""))

	search()
}

And I have a simpe function for each directory, i.e.,
for directory $home/Sutil

> util

function()
{

	work(paste(home, "/Sutil", sep = ""))
}


Now, if I try to do the same in R, I get:

> util()
Error: attach only works for lists and data frames

How could I do the equivalent function in R?


Thanks


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jul 15 12:24:48 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 15 Jul 1999 12:24:48 +0200 (MET DST)
Subject: [R] S objects to R
Message-ID: <Pine.OSF.3.91.990715122148.18914D-100000@paleo.ija.csic.es>


I've tried to move objects from S to R.
In S+, I use data.dump() and data.restore().
I've made a file all.dum using
data.dump(ls()) in S+,
but the R command 
load("all.dum") gives an error:

> load("/jaz/all.dum")
Error: restore file corrupted -- no data loaded

Is there any way to pass my objects from S+ to R?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 15 12:21:28 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jul 1999 11:21:28 +0100 (BST)
Subject: [R] matrix indices
In-Reply-To: <32DC4BA37E6@gecko.biol.wits.ac.za>
Message-ID: <Pine.GSO.4.05.9907151117360.25738-100000@auk.stats>

On Thu, 15 Jul 1999, KAREN KOTSCHY wrote:

> Hi
> 
> Could somebody please explain the following to me:
> If x is a 10x10 matrix,
> typing x[3] prints all 10 values of column 3, although the length of 
> the vector =1. Why?
> x[,3] and x[[3]] both give all 10 values of column 3, length=10. 
> What is the difference between these two, actually?

I suspect that x is actually a data frame in your application, as matrices
do not behave that way:

> x <- matrix(1:100, 10, 10)
> x[3]
[1] 3
> x[[3]]
[1] 3
> x[, 3]
 [1] 21 22 23 24 25 26 27 28 29 30
> x <- as.data.frame(x)
> x[[3]]
 [1] 21 22 23 24 25 26 27 28 29 30
> x[3]
   V3
1  21
2  22
3  23
4  24
5  25
6  26
7  27
8  28
9  29
10 30
> length(x[3])
[1] 1

The reason is that a data frame is a list of columns: x[3] is a data frame
consisting of just one column: x[[3]] and x[, 3] give that column (as a
vector). You get length 1 as the length of the list.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Jul 15 12:51:33 1999
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 15 Jul 1999 12:51:33 +0200
Subject: [R] R: history buffer
Message-ID: <378DBD35.BDC51C74@physik.uni-marburg.de>

Hello,
how can I change (enlarge) the history buffer? I use R.64.1 
and ESS5.1, emacs.
Thanks -
Marcus Eger

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 284169
| Fax  +49 6421 287034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
| http://www.physik.uni-marburg.de/bio/mitarbei/eger.htm
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Jul 15 12:59:32 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 15 Jul 1999 22:59:32 +1200 (NZST)
Subject: [R] S objects to R
In-Reply-To: <Pine.OSF.3.91.990715122148.18914D-100000@paleo.ija.csic.es>
Message-ID: <Pine.GSO.4.10.9907152248350.2200-100000@stat1.stat.auckland.ac.nz>


Try using the S function "dump" rather than "data.dump".  Many files can
be transfered that way (data.dump and data.restore will appear in the next
few months).

R does not yet support attaching S .Data directories, but the format for S
objects on disk appears to be pretty straightforward (except for lists)
so we will probably eventually provide some way of grabbing data files
directly from a .Data directory.

+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 15 13:16:13 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 1999 13:16:13 +0200
Subject: [R] S objects to R
In-Reply-To: Agustin Lobo's message of "Thu, 15 Jul 1999 12:24:48 +0200 (MET DST)"
References: <Pine.OSF.3.91.990715122148.18914D-100000@paleo.ija.csic.es>
Message-ID: <x27lo2f9j6.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> I've tried to move objects from S to R.
> In S+, I use data.dump() and data.restore().
> I've made a file all.dum using
> data.dump(ls()) in S+,
> but the R command 
> load("all.dum") gives an error:
> 
> > load("/jaz/all.dum")
> Error: restore file corrupted -- no data loaded
> 
> Is there any way to pass my objects from S+ to R?

Data.dump/restore is a bit too intimately linked with the internal
storage of objects in S to be directly portable to R. Somewhere on the
not-too-distant horizon I have plans to do a data.restore that can
handle the base types (vectors/factors/matrices/dataframes), but
functions and expressions are troublesome; even if it did work to
load them in, it is doubtful whether they would work afterwards... 

Currently, the best bet is to use dump() from S and source() the
resulting file in R. Some hand-editing may be required. Then just
save.image() from R. This may be slow and have some rather hefty
memory requirements if you have large objects, but hey, you only have
to do it once...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Jul 15 13:18:19 1999
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 15 Jul 1999 13:18:19 +0200
Subject: [R] R: ts - objects
Message-ID: <378DC37B.C11D784A@physik.uni-marburg.de>

Hello,
I faced some difficulties using time series objects.

----------------------------------------------------------------------------
1. Why is the time data changed, when I, e.g., apply sqrt(arrts), but
not
   when arrts^0.5 ?
   This is my examples time series:
----------------------------------------------------------------------------
> arrts
Time Series:
Start = 3 
End = 23 
Frequency = 0.2 
     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10
> time(arrts)
Time Series:
Start = 3 
End = 23 
Frequency = 0.2 
[1]  3  8 13 18 23
> 
> time(sqrt(arrts))
Time Series:
Start = c(1, 1) 
End = c(5, 1) 
Frequency = 1 
[1] 1 2 3 4 5
>
> time(arrts^0.5)
Time Series:
Start = 3 
End = 23 
Frequency = 0.2 
[1]  3  8 13 18 23
>

----------------------------------------------------------------------------
2. (At least) boolean indexing with matrices does not seem to work
properly:
----------------------------------------------------------------------------
> arrts[is.finite(arrts)]
Error: subscript (10) out of bounds, should be at most 5
> 
> unclass(arrts)[is.finite(arrts)]
 [1]  1  2  3  4  5  6  7  8  9 10

----------------------------------------------------------------------------
This problem arose when I tried to plot my time series: > plot(arrts)
It was easy to fix in plot.ts:
----------------------------------------------------------------------------
....
  if (is.null(ylim)) 
    ylim <- range(unclass(x)[is.finite(x)])  #by ME, 14-07-99
#    ylim <- range(x[is.finite(x)])
  plot.new()
....

-----------------------------------------------------------------------------
3. Another problem had to do with the value of delta and/or start:
-----------------------------------------------------------------------------
> time(ts(c(1,2,3,4),start=3,delta=1.5))
Error: invalid start
> 
> time(ts(c(1,2,3,4),start=3,delta=1.4))
Time Series:
Start = 3 
End = 7.2 
Frequency = 0.7142857 
[1] 3.0 4.4 5.8 7.2
> 

-----------------------------------------------------------------------------
I? not sure whether I understood the complete philosphy behind the time
series concept. For me, I just need a structure that supports multiple 
repetitions/ensembles of the same random variable/signal and a time
scale.

Thanks for feedback
 - Marcus Eger

+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 284169
| Fax  +49 6421 287034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
| http://www.physik.uni-marburg.de/bio/mitarbei/eger.htm
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 15 13:37:48 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 1999 13:37:48 +0200
Subject: [R] R: history buffer
In-Reply-To: Marcus Eger's message of "Thu, 15 Jul 1999 12:51:33 +0200"
References: <378DBD35.BDC51C74@physik.uni-marburg.de>
Message-ID: <x2hfn6dtyr.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Hello,
> how can I change (enlarge) the history buffer? I use R.64.1 
> and ESS5.1, emacs.
> Thanks -
> Marcus Eger

It's probably the one in ESS that's causing grief... According to some
unverified (by me) info from Kurt Hornik, one should increase

	comint-input-ring-size

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 15 13:58:59 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 1999 13:58:59 +0200
Subject: [R] R: ts - objects
In-Reply-To: Marcus Eger's message of "Thu, 15 Jul 1999 13:18:19 +0200"
References: <378DC37B.C11D784A@physik.uni-marburg.de>
Message-ID: <x2g12qdszg.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> > time(sqrt(arrts))
> Time Series:
> Start = c(1, 1) 
> End = c(5, 1) 
> Frequency = 1 
> [1] 1 2 3 4 5

Looks like a bug...

> ----------------------------------------------------------------------------
> 2. (At least) boolean indexing with matrices does not seem to work
> properly:
> ----------------------------------------------------------------------------
> > arrts[is.finite(arrts)]
> Error: subscript (10) out of bounds, should be at most 5
> > 
> > unclass(arrts)[is.finite(arrts)]
>  [1]  1  2  3  4  5  6  7  8  9 10

Yes, we discussed that a short while ago on R-devel. It's trying too
hard to retain the ts attributes in these cases.

> 
> ----------------------------------------------------------------------------
> This problem arose when I tried to plot my time series: > plot(arrts)
> It was easy to fix in plot.ts:
> ----------------------------------------------------------------------------
> ....
>   if (is.null(ylim)) 
>     ylim <- range(unclass(x)[is.finite(x)])  #by ME, 14-07-99
> #    ylim <- range(x[is.finite(x)])
>   plot.new()
> ....

...although range(x,finite=T) is probably a better fix.

> 
> -----------------------------------------------------------------------------
> 3. Another problem had to do with the value of delta and/or start:
> -----------------------------------------------------------------------------
> > time(ts(c(1,2,3,4),start=3,delta=1.5))
> Error: invalid start

or just: 

> ts(c(1,2,3,4),start=3,delta=1.5)
Time Series:
Start = c(3, 1) 
End = c(7, 1) 
Frequency = 0.666666666666667 
Error: invalid start

.which is pretty darn weird! CC'ed to R-bugs.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Jul 15 17:45:29 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 15 Jul 1999 17:45:29 +0200 (CEST)
Subject: [R] R: history buffer
In-Reply-To: <x2hfn6dtyr.fsf@blueberry.kubism.ku.dk>
References: <378DBD35.BDC51C74@physik.uni-marburg.de>
	<x2hfn6dtyr.fsf@blueberry.kubism.ku.dk>
Message-ID: <14222.537.676736.647334@balin.ci.tuwien.ac.at>

>>>>> Peter Dalgaard BSA writes:

> Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:
>> Hello,
>> how can I change (enlarge) the history buffer? I use R.64.1 
>> and ESS5.1, emacs.
>> Thanks -
>> Marcus Eger

> It's probably the one in ESS that's causing grief... According to some
> unverified (by me) info from Kurt Hornik, one should increase

> 	comint-input-ring-size

Correct.  Something like

	(setq comint-input-ring-size 512)

in your emacs startup file (the default is 32).

ESS developers: we may want to make this buffer-local for the
interaction buffers ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Jul 15 20:02:21 1999
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 15 Jul 1999 20:02:21 +0200
Subject: [R] R: UseMethod with primitives?
Message-ID: <378E222D.DCF41484@physik.uni-marburg.de>

Hello,
is the following somehow possible with Mod() being a primitive:

"Mod" <- function(x)
  UseMethod("Mod")


"Mod.default" <- function(x) {
  .Primitive("Mod")  ### I know it?s wrong. How can I access the
original Mod ?
}

Thanks for help
M. Eger

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 284169
| Fax  +49 6421 287034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
| http://www.physik.uni-marburg.de/bio/mitarbei/eger.htm
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 15 21:23:49 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 1999 21:23:49 +0200
Subject: [R] R: UseMethod with primitives?
In-Reply-To: Marcus Eger's message of "Thu, 15 Jul 1999 20:02:21 +0200"
References: <378E222D.DCF41484@physik.uni-marburg.de>
Message-ID: <x2n1wxaf96.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Hello,
> is the following somehow possible with Mod() being a primitive:
> 
> "Mod" <- function(x)
>   UseMethod("Mod")
> 
> 
> "Mod.default" <- function(x) {
>   .Primitive("Mod")  ### I know its wrong. How can I access the
> original Mod ?
> }

Try starting with 

 .Mod <- .Alias(Mod)
 Mod.default <- function(z) .Mod(z)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Jul 15 22:42:22 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 16 Jul 1999 08:42:22 +1200 (NZST)
Subject: [R] R: UseMethod with primitives?
In-Reply-To: <378E222D.DCF41484@physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.10.9907160835530.5334-100000@stat1.stat.auckland.ac.nz>

On Thu, 15 Jul 1999, Marcus Eger wrote:

> Hello,
> is the following somehow possible with Mod() being a primitive:
> 
> "Mod" <- function(x)
>   UseMethod("Mod")
> 
> 
> "Mod.default" <- function(x) {
>   .Primitive("Mod")  ### I know its wrong. How can I access the
> original Mod ?
> }

I've been meaning to add a .Primitive function for some time and have
just done so.  It will show up in snapshots soon.  You will be able
to do what you want as follows:

	Mod.default <- Mod
	Mod <- function(x) UseMethod("Mod")

What did you have in mind here?  (Should we be thinking of building
this in).

+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Fri Jul 16 04:04:46 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 16 Jul 1999 14:04:46 +1200
Subject: [R] Randomization tests
Message-ID: <3.0.5.32.19990716140446.00ab4b90@pop.stats.waikato.ac.nz>

Please excuse this request from a beginner.

I'm teaching an introductory module on experimental design and I want to
illustrate the idea of tests based on the randomization distribution.

If anyone has written any R code to do a randomization test in a particular
example I'd be very grateful if you could show me your code.

Murray Jorgensen


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.cs.waikato.ac.nz/stats/Staff/maj.html       - Henri Poincare'
    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Beare at cmis.csiro.au  Fri Jul 16 06:21:18 1999
From: Richard.Beare at cmis.csiro.au (Richard Beare)
Date: Fri, 16 Jul 1999 14:21:18 +1000
Subject: [R] Advice interfacing to an imaging library
Message-ID: <378EB33E.2D9D25DA@cmis.csiro.au>

Hi All,
I've done some work recently making some of our image analysis library
callable from R and Splus. Most of the C image functions use an abstract
data type, and R only sees a pointer to this. All memory allocation is
done by the library. This leads to some interesting problems. I'm
interested in your views about possible solutions.

1) assignment. something like a<-b, where a and b are image pointers
will only copy the pointer, not the image. We'd like to overload the <-
operator to call the library copy routine.

2) garbage collection. It is now easy to lose track of memory, and this
is likely to be significant because images are usually quite big. There
is a delete function in the library, so it is possible to dispose of
images manually, but an automated method would be nice. One option is to
keep a global list of all pointers returned from C function calls,
generate a list of all image class objects visible in R and compare the
two. Any pointers not on the image class list can be disposed. Does
anyone have any other ideas?

All advice welcome.

-- 
Richard Beare
Richard.Beare at cmis.csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsy at gras.de  Fri Jul 16 09:28:31 1999
From: rsy at gras.de (Reinhard Sy)
Date: Fri, 16 Jul 1999 09:28:31 +0200
Subject: [R] writing geotiff from R
Message-ID: <19990716092831.D1749@gras.de>

Hi

has anybody written some code to save data you can use with the 
image-function as a geotiff ? 


 I think it would be nice to create some georeferencing images from
R directly.

Thanks for any information .

-- 
Reinhard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Fri Jul 16 10:49:58 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 16 Jul 1999 20:49:58 +1200
Subject: [R] Randomization tests
Message-ID: <199907160841.UAA30542@pat.stats.waikato.ac.nz>

Yes, and many thanks to V & R for this example. However it is based on a
complete description of the permutation distribution and I was rather
thinking of possibly larger distributions where one might want to sample.

Murray

----------
> From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> To: Murray Jorgensen <maj at waikato.ac.nz>
> Subject: Re: [R] Randomization tests
> Date: Friday, 16 July 1999 18:24
> 
> On Fri, 16 Jul 1999, Murray Jorgensen wrote:
> 
> > Please excuse this request from a beginner.
> > 
> > I'm teaching an introductory module on experimental design and I want
to
> > illustrate the idea of tests based on the randomization distribution.
> > 
> > If anyone has written any R code to do a randomization test in a
particular
> > example I'd be very grateful if you could show me your code.
> 
> The example in Venables & Ripley chapter 5 works in R (see the ch05.R
> script).
> 
> > 
> > Murray Jorgensen
> > 
> > 
> > Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton,
NZ
> >
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
> > "Doubt everything or believe everything:these are two equally
convenient
> > strategies. With either we dispense with the need to think."
> > http://www.cs.waikato.ac.nz/stats/Staff/maj.html       - Henri
Poincare'
> >     
> > 
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> > 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Jul 15 19:42:03 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 15 Jul 1999 19:42:03 +0200 (CEST)
Subject: [R] Strange behavior using .Fortran
Message-ID: <Pine.LNX.3.95.990715190850.17609A-100000@pcinternet.biochem.dshs-koeln.de>

Hello everybody,

I observed some strange behavior of R (0.64.1/Linux 2.0.25) when trying
to use FORTRAN-libraries.

I downloaded "ALGORITHM AS 304" from StatLib. All I changed  at
the code, was to substitute "REAL"-routines by "DOUBLE PRECISION".

Compiling went o.k. ...

> g77 -fpic -O2 -shared -o rtest.o fisher.f

 ("g77 --version" gives 2.7.2.1)


Here are the first lines of the code from AS 304, "FISHER" being the
routine to be used from within R:

      SUBROUTINE FISHER (X, M, Y, N, TOTAL, POSSIB, P, IFAULT)
C
C        ALGORITHM AS 304.1 APPL.STATIST. (1996), VOL.45, NO.3
C
C        Fisher's non-parametric randomization test for two small
C        independent random samples
C
      INTEGER M, N, TOTAL, POSSIB, IFAULT
      DOUBLE PRECISION X(*), Y(*), P

C
	... etc., lots of code ...



Here is the prototype of R-code that I used ...

> dyn.load("/path-to-lib/rtest.o")

> fisher.ts.test<-function(x,y){

   nx<-length(x)
   ny<-length(y)

         
   ftr.out<-..Fortran("fisher",
                     as.real(x),
                     as.integer(nx),
                     as.real(y),
                     as.integer(ny),
                     as.integer(0),
                     as.integer(0),
                     as.real(0.0),
                     as.integer(0))

return(ftr.out)
}


Loading the code was no problem. Now, here is what I obtained when using
it:

> a<-c(18,19,25)
> b<-c(20,29,29,30,31,31,31)

> fisher.ts.test(a,b)
[[1]]
[1] 18 19 25

[[2]]
[1] 3

[[3]]
[1] 20 29 29 30 31 31 31

[[4]]
[1] 7

[[5]]
[1] 1

[[6]]
[1] 120

[[7]]
[1] 0.01666667

[[8]]
[1] 0

... which are the correct results.


But invoking the thing exchanging "a" and "b" gives the following strange
things ...

> fisher.ts.test(b,a)
[[1]]
[1] 31 31 31 30 31 31 31

[[2]]
[1] 3

[[3]]
[1] 20 29 29

[[4]]
[1] 0

[[5]]
[1] 0

[[6]]
[1] 1

[[7]]
[1] 1

[[8]]
[1] 0


Furthermore ...

> x<-round(rnorm(3,10),2)
> y<-round(rnorm(7,5),2)
> fisher.ts.test(x,y)
Process R segmentation fault at Thu Jul 15 19:08:01 1999


This could not be observed when using a similar routine written in
Xlisp-Stat:

(dyn-load "/path-to-lib/rtest.o")

(defun tse-test (x y)
  (let* (
	 (out-list (call-fsub "fisher" (float x) (length x)
			               (float y) (length y)
				        0 0 (float 0) 0))
	 
	 (pval   (elt out-list 6))
	 (poss   (elt out-list 5))
	 (par    (elt out-list 4))
	 )


(format T "\nFISHER's non-parametric Randomization Test
for two small independent Samples

Z             :~8,d          
Possibilities :~8,d
p (one-sided) :~8,5,f\n" (elt par  0)(elt poss 0)(elt pval 0)) 
)
)

This function worked fine under any circumstances until now.
(Xlisp-Stat 3.52.9)

A small FORTRAN-Program that allowed to type in the data
interactively also didn't care about the order of the size
or sum of the samples.

All this makes me conclude the reason is somewhere in R.

Any ideas?

If the thing is very obvious, please have mercy on a user of R,
who for the first time tries to dig a little deeper ... 

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne/Germany

        Phone: 0049/0221/4982-493
                             -494

 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Jul 15 14:32:20 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 15 Jul 1999 14:32:20 +0200 (CEST)
Subject: [R] Strange behaviour using .Fortran
Message-ID: <Pine.LNX.3.95.990715133946.17205A-100000@pcinternet.biochem.dshs-koeln.de>

Hello everybody,

I observed some strange behaviour of R (0.64.1/Linux 2.0.25) when trying
to use FORTRAN-libraries.

I first downloaded "ALGORITHM AS 304" from StatLib. All I changed  at
the code, was to substitute "REAL"-routines by "DOUBLE PRECISION".

Compiling went o.k.:

> g77 -fpic -O2 -shared -o rtest.o fisher.f

 ("g77 --version" gives 2.7.2.1)


Here are the first lines of the code from AS 304, "FISHER" being the
routine to be used from within R:

      SUBROUTINE FISHER (X, M, Y, N, TOTAL, POSSIB, P, IFAULT)
C
C        ALGORITHM AS 304.1 APPL.STATIST. (1996), VOL.45, NO.3
C
C        Fisher's non-parametric randomization test for two small
C        independent random samples
C
      INTEGER M, N, TOTAL, POSSIB, IFAULT
      DOUBLE PRECISION X(*), Y(*), P

C
	... etc., lots of code ...



Here is the prototype of R-code that I used ...


> dyn.load("/path-to-lib/rtest.o")

> fisher.ts.test<-function(x,y){

   nx<-length(x)
   ny<-length(y)

         
   ftr..out<-.Fortran("fisher",
                     as.real(x),
                     as.integer(nx),
                     as.real(y),
                     as.integer(ny),
                     as.integer(0),
                     as.integer(0),
                     as.real(0.0),
                     as.integer(0))

return(ftr.out)
}


Loading the code was no Problem. Now, here is what I obtained when using
it:

> a<-c(18,19,25)
> b<-c(20,29,29,30,31,31,31)

> fisher.ts.test(x,y)
[[1]]
[1] 18 19 25

[[2]]
[1] 3

[[3]]
[1] 20 29 29 30 31 31 31

[[4]]
[1] 7

[[5]]
[1] 1

[[6]]
[1] 120

[[7]]
[1] 0.01666667

[[8]]
[1] 0

.. which are the correct results.


But invoking it exchanging "a" and "b" gives the following weird result:

> tse.test(b,a)
[[1]]
[1] 31 31 31 30 31 31 31

[[2]]
[1] 3

[[3]]
[1] 20 29 29

[[4]]
[1] 0

[[5]]
[1] 0

[[6]]
[1] 1

[[7]]
[1] 1

[[8]]
[1] 0


This could not be observed when using a similar routine written in
Xlisp-Stat. A small FORTRAN-Program that allowed to type in the data
interactively also didn't care about the order of the size or sum of the
samples, which makes me conclude the reason is somewhere in R.

Any ideas?


If the problem is very obvious, please have mercy with a pure user of R,
who makes his first attempts to dig a little deeper ... 

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne/Germany

        Phone: 0049/0221/4982-493
                             -494

 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 16 12:22:18 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Jul 1999 11:22:18 +0100 (BST)
Subject: [R] Strange behavior using .Fortran
Message-ID: <199907161022.LAA27382@toucan.stats.ox.ac.uk>

You need to read the assumptions:

      SUBROUTINE EXCHNG (X, M, Y, N, SX, SY)
C
C        ALGORITHM AS 304.2 APPL.STATIST. (1996), VOL.45, NO.3
C
C        Exchanges the sample data.  Assumes both X and Y have been
C        previously dimensioned to at least max(M, N) elements

and you have not done this!  Try

fisher.ts.test <- function(x,y)
{
  nx <- length(x)
  ny <- length(y)
  xx <- yy <- double(max(nx, ny))
  xx[1:nx] <- x
  yy[1:ny] <- y
  .Fortran("fisher", xx, as.integer(nx),
           yy, as.integer(ny),
           total=integer(1),
           possib=integer(1),
           P=double(1),
           ierr=integer(1)
           )
}

I also suggest you compile by 

R SHLIB fisher.f

as you will then get, correctly, a shared library with an .so extension.


> From: "Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de>
> To: R-Mailing-List <r-help at stat.math.ethz.ch>
> Subject: [R] Strange behavior using .Fortran
> 
> Hello everybody,
> 
> I observed some strange behavior of R (0.64.1/Linux 2.0.25) when trying
> to use FORTRAN-libraries.
> 
> I downloaded "ALGORITHM AS 304" from StatLib. All I changed  at
> the code, was to substitute "REAL"-routines by "DOUBLE PRECISION".
> 
> Compiling went o.k. ...
> 
> > g77 -fpic -O2 -shared -o rtest.o fisher.f
> 
>  ("g77 --version" gives 2.7.2.1)
> 
> 
> Here are the first lines of the code from AS 304, "FISHER" being the
> routine to be used from within R:
> 
>       SUBROUTINE FISHER (X, M, Y, N, TOTAL, POSSIB, P, IFAULT)
> C
> C        ALGORITHM AS 304.1 APPL.STATIST. (1996), VOL.45, NO.3
> C
> C        Fisher's non-parametric randomization test for two small
> C        independent random samples
> C
>       INTEGER M, N, TOTAL, POSSIB, IFAULT
>       DOUBLE PRECISION X(*), Y(*), P
> 
> C
> 	... etc., lots of code ...
> 
> 
> 
> Here is the prototype of R-code that I used ...
> 
> > dyn.load("/path-to-lib/rtest.o")
> 
> > fisher.ts.test<-function(x,y){
> 
>    nx<-length(x)
>    ny<-length(y)
> 
>          
>    ftr.out<-..Fortran("fisher",
>                      as.real(x),
>                      as.integer(nx),
>                      as.real(y),
>                      as.integer(ny),
>                      as.integer(0),
>                      as.integer(0),
>                      as.real(0.0),
>                      as.integer(0))
> 
> return(ftr.out)
> }
> 
> 
> Loading the code was no problem. Now, here is what I obtained when using
> it:
> 
> > a<-c(18,19,25)
> > b<-c(20,29,29,30,31,31,31)
> 
> > fisher.ts.test(a,b)
> [[1]]
> [1] 18 19 25
> 
> [[2]]
> [1] 3
> 
> [[3]]
> [1] 20 29 29 30 31 31 31
> 
> [[4]]
> [1] 7
> 
> [[5]]
> [1] 1
> 
> [[6]]
> [1] 120
> 
> [[7]]
> [1] 0.01666667
> 
> [[8]]
> [1] 0
> 
> ... which are the correct results.
> 
> 
> But invoking the thing exchanging "a" and "b" gives the following strange
> things ...
> 
> > fisher.ts.test(b,a)
> [[1]]
> [1] 31 31 31 30 31 31 31
> 
> [[2]]
> [1] 3
> 
> [[3]]
> [1] 20 29 29
> 
> [[4]]
> [1] 0
> 
> [[5]]
> [1] 0
> 
> [[6]]
> [1] 1
> 
> [[7]]
> [1] 1
> 
> [[8]]
> [1] 0
> 
> 
> Furthermore ...
> 
> > x<-round(rnorm(3,10),2)
> > y<-round(rnorm(7,5),2)
> > fisher.ts.test(x,y)
> Process R segmentation fault at Thu Jul 15 19:08:01 1999
> 
> 
> This could not be observed when using a similar routine written in
> Xlisp-Stat:
> 
> (dyn-load "/path-to-lib/rtest.o")
> 
> (defun tse-test (x y)
>   (let* (
> 	 (out-list (call-fsub "fisher" (float x) (length x)
> 			               (float y) (length y)
> 				        0 0 (float 0) 0))
> 	 
> 	 (pval   (elt out-list 6))
> 	 (poss   (elt out-list 5))
> 	 (par    (elt out-list 4))
> 	 )
> 
> 
> (format T "\nFISHER's non-parametric Randomization Test
> for two small independent Samples
> 
> Z             :~8,d          
> Possibilities :~8,d
> p (one-sided) :~8,5,f\n" (elt par  0)(elt poss 0)(elt pval 0)) 
> )
> )
> 
> This function worked fine under any circumstances until now.
> (Xlisp-Stat 3.52.9)
> 
> A small FORTRAN-Program that allowed to type in the data
> interactively also didn't care about the order of the size
> or sum of the samples.
> 
> All this makes me conclude the reason is somewhere in R.

No, the problem is in your reading of the conditions of the Fortran code.
You were just lucky that this works in Xlisp-Stat, as you were
writing off the end of a Fortran array.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jul 16 12:35:50 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jul 1999 12:35:50 +0200
Subject: [R] Strange behavior using .Fortran
In-Reply-To: "Uli Flenker; Raum 704"'s message of "Thu, 15 Jul 1999 19:42:03 +0200 (CEST)"
References: <Pine.LNX.3.95.990715190850.17609A-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <x2k8s0x4op.fsf@blueberry.kubism.ku.dk>

"Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de> writes:

> Hello everybody,
> 
> I observed some strange behavior of R (0.64.1/Linux 2.0.25) when trying
> to use FORTRAN-libraries.
> 
> I downloaded "ALGORITHM AS 304" from StatLib. All I changed  at
> the code, was to substitute "REAL"-routines by "DOUBLE PRECISION".
> 
....
> Here is the prototype of R-code that I used ...
> 
> > dyn.load("/path-to-lib/rtest.o")
> 
> > fisher.ts.test<-function(x,y){
> 
>    nx<-length(x)
>    ny<-length(y)
> 
>          
>    ftr.out<-..Fortran("fisher",
              ??

>                      as.real(x),
>                      as.integer(nx),
>                      as.real(y),
>                      as.integer(ny),
>                      as.integer(0),
>                      as.integer(0),
>                      as.real(0.0),
>                      as.integer(0))
> 
> return(ftr.out)
> }
> 
> 
> Loading the code was no problem. Now, here is what I obtained when using
> it:
> 
> > a<-c(18,19,25)
> > b<-c(20,29,29,30,31,31,31)
> 
> > fisher.ts.test(a,b)
> [[1]]
> [1] 18 19 25
> 
> [[2]]
> [1] 3
> 
> [[3]]
> [1] 20 29 29 30 31 31 31
...
> ... which are the correct results.
> 
> 
> But invoking the thing exchanging "a" and "b" gives the following strange
> things ...
> 
> > fisher.ts.test(b,a)
> [[1]]
> [1] 31 31 31 30 31 31 31
...
> 
> Furthermore ...
> 
> > x<-round(rnorm(3,10),2)
> > y<-round(rnorm(7,5),2)
> > fisher.ts.test(x,y)
> Process R segmentation fault at Thu Jul 15 19:08:01 1999

Hmm... I can't offhand spot any obvious blunders. Are you sure you got
*all* reals converted to double in the Fortran routines? If you have
data that reliably causes segfault, try running it with R -d gdb (use
-g for the compilation) to get the exact line where it crashes. And,
btw, eliminate optimizer errors by compiling without -O.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jul 16 12:48:52 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 16 Jul 1999 12:48:52 +0200 (MET DST)
Subject: [R] R:how to separate stuff?
Message-ID: <Pine.OSF.3.91.990716124212.10315H-100000@paleo.ija.csic.es>


Thanks for your help on moving files from
S+ to R and on attaching directories.

If attaching directories is NOT possible in R,
is there any other way to separate
objects into different folders or something similar?
For example, to keep user functions for multivariate
analysis in a different "place" than user functions on 
time series, or to keep data objects of project_1 
in a different place than data objects of project_2.

Also, where does R put the objects that are saved? 
in .Rdata? Could not be possible to have different .Rdata
(.Rdata_1, .Rdata_2...) ?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jul 16 13:14:41 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 16 Jul 1999 13:14:41 +0200 (CEST)
Subject: [R] R:how to separate stuff?
In-Reply-To: <Pine.OSF.3.91.990716124212.10315H-100000@paleo.ija.csic.es>
References: <Pine.OSF.3.91.990716124212.10315H-100000@paleo.ija.csic.es>
Message-ID: <14223.5153.483804.657352@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 16 Jul 1999 12:48:52 +0200 (MET DST),
>>>>> Agustin Lobo (AL) wrote:

AL> Thanks for your help on moving files from
AL> S+ to R and on attaching directories.

AL> If attaching directories is NOT possible in R,
AL> is there any other way to separate
AL> objects into different folders or something similar?
AL> For example, to keep user functions for multivariate
AL> analysis in a different "place" than user functions on 
AL> time series, or to keep data objects of project_1 
AL> in a different place than data objects of project_2.

The preferred way of doing this is creating a seperate package for
these, see help(library) for details.

AL> Also, where does R put the objects that are saved? 
AL> in .Rdata? Could not be possible to have different .Rdata
AL> (.Rdata_1, .Rdata_2...) ?

R creates the .RData file in the current working directory, so the
easiest way is to create a directory for each project and simply
start R there.

.fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 16 13:17:43 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Jul 1999 12:17:43 +0100 (BST)
Subject: [R] R:how to separate stuff?
Message-ID: <199907161117.MAA02274@toucan.stats.ox.ac.uk>

> Date: Fri, 16 Jul 1999 12:48:52 +0200 (MET DST)
> From: Agustin Lobo <alobo at ija.csic.es>
> 
> 
> Thanks for your help on moving files from
> S+ to R and on attaching directories.
> 
> If attaching directories is NOT possible in R,
> is there any other way to separate
> objects into different folders or something similar?
> For example, to keep user functions for multivariate
> analysis in a different "place" than user functions on 
> time series, or to keep data objects of project_1 
> in a different place than data objects of project_2.
> 
> Also, where does R put the objects that are saved? 
> in .Rdata? Could not be possible to have different .Rdata
> (.Rdata_1, .Rdata_2...) ?

You have more or less answered the question: you can save groups
of objects by the save() command and load them again by the load()
command.  That is `all' the save and restore of .RData does (and
save.image is a wrapper to save to save all current objects).

However, what you seem really to want to do is the purpose of packages:
put different groups of functions and datasets in your own packages.
You can have a private library of packages: the `folders' are the the
packages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Fri Jul 16 14:06:35 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Fri, 16 Jul 1999 14:06:35 +0200 (CEST)
Subject: [R] Strange behavior using .Fortran
In-Reply-To: <199907161022.LAA27382@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.3.95.990716132656.11562B-100000@pcinternet.biochem.dshs-koeln.de>


First of all, sorry for sending my stuff twice!

Concerning my problems, thanks to Prof Brian Ripley now everything works
fine. I really did not read the assumptions of the Fortran code carefully
enough. That's when you start to learn programming using awk, Perl and so
on, where you don't have to care about array sizes!


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Koeln / Germany

        Phone 0049/0221/4982-493
                            -494

 



On Fri, 16 Jul 1999, Prof Brian Ripley wrote:

> You need to read the assumptions:
> 
>       SUBROUTINE EXCHNG (X, M, Y, N, SX, SY)
> C
> C        ALGORITHM AS 304.2 APPL.STATIST. (1996), VOL.45, NO.3
> C
> C        Exchanges the sample data.  Assumes both X and Y have been
> C        previously dimensioned to at least max(M, N) elements
> 
> and you have not done this!  Try
> 
> fisher.ts.test <- function(x,y)
> {
>   nx <- length(x)
>   ny <- length(y)
>   xx <- yy <- double(max(nx, ny))
>   xx[1:nx] <- x
>   yy[1:ny] <- y
>   .Fortran("fisher", xx, as.integer(nx),
>            yy, as.integer(ny),
>            total=integer(1),
>            possib=integer(1),
>            P=double(1),
>            ierr=integer(1)
>            )
> }
> 
> I also suggest you compile by 
> 
> R SHLIB fisher.f
> 
> as you will then get, correctly, a shared library with an .so extension.
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hyoon at nyptsrv1.etsd.ml.com  Fri Jul 16 15:52:05 1999
From: hyoon at nyptsrv1.etsd.ml.com (Hoon Yoon - IPT Quant)
Date: Fri, 16 Jul 1999 09:52:05 -0400 (EDT)
Subject: [R] Contractor needed for MSVC wrapper to Loess
Message-ID: <199907161352.JAA19316@ptq2.etsd.ml.com>

Hi,


  Our firm is looking to see if it is possible to wrap some of more advanced lib 
in R like modreg.dll and specifically Loess function in there for both 
regression and prediction into MSVC++. We will probably take it to either VB or 
Python for implementation issues. Given that locfit has many utitlities built in 
for data transformation, this would be a good thing.
  If that's not possible, I would like to have cloess from Netlib compiled under 
MSVC++, either linked by g77 or f2c or other fortran compiler.
  I am trying to make sure the final version is available to public. It does not 
seem to be a major prb from our stand point, but that may change. If developer 
wishes not to disclose his sources to public. That's fine with us. We, however, 
need full sources, projects, obj, and exec files. Please submit bid with 
timeframe and qualification back to this e-mail.
  The objective is quickly implent Loess with VB or Python for regression and 
prediction. I would prefer to use existing R dll's, because I can just piggie 
back off of it everytime source changes or for new analytics; however, quick 
timing is crucial. Any quick workable solution with high degree of confidence 
would be chosen. I need to do multivariate regression with loess.
  We are Fortune 500 company.

  
S.Y.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pbouman at sachs.com  Sat Jul 17 17:36:45 1999
From: pbouman at sachs.com (Peter Bouman)
Date: Sat, 17 Jul 1999 10:36:45 -0500
Subject: [R] RPM for gss package
Message-ID: <171FE977C33BD211B420000629B3118C4EFADC@exchange2.sachs.com>

Has anyone posted an RPM (for i386) for Dr. Chong Gu's new gss package?
I am trying to install it on a Linux system too small to compile
the Fortran code directly.

Thanks for any help.

Peter Bouman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Beare at cmis.csiro.au  Mon Jul 19 02:16:52 1999
From: Richard.Beare at cmis.csiro.au (Richard Beare)
Date: Mon, 19 Jul 1999 10:16:52 +1000
Subject: [R] configuration options for Alpha
Message-ID: <37926E74.982AF25@cmis.csiro.au>

Hi everyone,
I've had no success compiling recent version of R for the Alpha. I know
there is a binary distribution, but I don't have root access to my
machine. The compiler options mentioned in one of the older
distributions dont seem to work anymore. Can anyone provide any
guidance.

machine details are

OSF1 bondi V4.0 878 alpha
-- 
Richard Beare
Richard.Beare at cmis.csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.baker at qut.edu.au  Mon Jul 19 10:00:04 1999
From: p.baker at qut.edu.au (Peter Baker)
Date: Mon, 19 Jul 1999 18:00:04 +1000 (EST)
Subject: [R] AARNET mirror (Australia) of CRAN/R now available
Message-ID: 
 <Pine.OSF.3.95.990719174919.2452C-100000@einstein.math.sci.qut.edu.au>

Thanks to the efforts of Jason Andrade at AARNET and the CRAN people
there is now an Australian mirror of CRAN/R. The mirror will be
updated daily. It is

http://mirror.aarnet.edu.au/CRAN/
ftp://mirror.aarnet.edu.au/pub/CRAN/

To quote the web page

"R, also known as `GNU S', is a system for statistical computation and
graphics. It consists of a language plus a run-time environment with
graphics, a debugger, access to certain system functions, and the
ability to run programs stored in script files. R implements a
language which is not entirely unlike the S language developed at AT&T
Bell Laboratories by Rick Becker, John Chambers and Allan
Wilks. Indeed in the absence of an R manual, you can (mostly) get
along by using the S manual."

Regards
Peter Baker

=========================================================================
|| Peter Baker  email: p.baker at fsc.qut.edu.au    ph: 07 3864 1293  (W)  ||
||              Mail:  School of Math. Sci., Queensland University      ||
||                     of Technology,  GPO Box 2434, Brisbane  QLD 4001 ||
=========================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Jul 19 10:39:40 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 19 Jul 1999 10:39:40 +0200 (CEST)
Subject: [R] RPM for gss package
In-Reply-To: <171FE977C33BD211B420000629B3118C4EFADC@exchange2.sachs.com>
Message-ID: <XFMail.990719103940.plummer@iarc.fr>

I have not recently updated the RPMs for contributed R packages.
I was hoping to be able to quietly drop them.

There are good reasons for providing an RPM for the base distribution:
1) Compilation of R is rather slow on older machines.
2) Compilation requires a lot of "devel" packages which take up disk
   space.
3) System administration is easier with rpm.

None of these really applies to contrib packages which are all
1) small, and hence compile quickly,
2) require only a C and Fortran compiler (usually).
3) pose no admin problems: there are builtin R commands for installing,
   removing and upgrading them.

If you con't have enough space for a Fortran compiler, you are probably
pushing the limits of what you can do with your PC anyway.

Martyn

On 17-Jul-99 Peter Bouman wrote:
> Has anyone posted an RPM (for i386) for Dr. Chong Gu's new gss package?
> I am trying to install it on a Linux system too small to compile
> the Fortran code directly.
> 
> Thanks for any help.
> 
> Peter Bouman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 19 13:33:00 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jul 1999 13:33:00 +0200
Subject: [R] RPM for gss package
In-Reply-To: Martyn Plummer's message of "Mon, 19 Jul 1999 10:39:40 +0200 (CEST)"
References: <XFMail.990719103940.plummer@iarc.fr>
Message-ID: <x2lnccx4b7.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> I have not recently updated the RPMs for contributed R packages.
> I was hoping to be able to quietly drop them.
> 
> There are good reasons for providing an RPM for the base distribution:
> 1) Compilation of R is rather slow on older machines.
> 2) Compilation requires a lot of "devel" packages which take up disk
>    space.
> 3) System administration is easier with rpm.
> 
> None of these really applies to contrib packages which are all
> 1) small, and hence compile quickly,
> 2) require only a C and Fortran compiler (usually).
> 3) pose no admin problems: there are builtin R commands for installing,
>    removing and upgrading them.
> 
> If you con't have enough space for a Fortran compiler, you are probably
> pushing the limits of what you can do with your PC anyway.

Well, if you include perl, you get to at least 25M for a development
environment on a RedHat 6.0, which could be pushing the limits too far
on small but otherwise quite usable laptops...

However, I suppose that most people with laptops will also have access
to somewhat larger systems and the libraries should be quite easily
cross-built?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Mon Jul 19 18:14:32 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 19 Jul 1999 09:14:32 -0700
Subject: [R] RPM for gss package
In-Reply-To: Peter Dalgaard BSA's message of "19 Jul 1999 13:33:00 +0200"
References: <XFMail.990719103940.plummer@iarc.fr> <x2lnccx4b7.fsf@blueberry.kubism.ku.dk>
Message-ID: <87vhbg4nx3.fsf@alpha.cfas.washington.edu>


>>>>> "PDB" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PDB> Martyn Plummer <plummer at iarc.fr> writes:

    >> I have not recently updated the RPMs for contributed R
    >> packages.  I was hoping to be able to quietly drop them.

    PDB> However, I suppose that most people with laptops will also
    PDB> have access to somewhat larger systems and the libraries
    PDB> should be quite easily cross-built?

It might be useful to have rpm/deb's for "sumo" package (i.e. the
entire contents of CRAN contrib), to save time.

best,
-tony


-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research	UW Biostatistics     
206-720-4282 (4209=fax)		206-543-1044 (xxxx=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos at pcweb.net  Mon Jul 19 18:19:03 1999
From: carlos at pcweb.net (carlos)
Date: Mon, 19 Jul 1999 09:19:03 -0700
Subject: [R] Using Scompile with R on Linux
Message-ID: <37934FF7.E3805C4F@pcweb.net>

I am using R 0.64.2 on Redhat 6.0 Linux and am trying to use R with a
program called Scompile that translates S (or R) code into C code.
Although Scompile has an option for dyn.load.shared, it evidently isn't
exactly equivalent to dyn.load in R, because when compiled using
Scompile, the resulting object causes the complaint by dyn.load that
"ELF file's phentsize not the expected size". Compiling the C code
produced by Scompile with R's SHLIB creates a shared library that
dyn.load's OK, but it seems that the associated library libscompile.a is
not being loaded correctly, as there are now complaints about undefined
symbols. Scompile's syntax is tuned to Solaris, and Linux is probably
different. Has anyone successfully run Scompile with R in Linux and can
offer tips on changing the syntax? 
Thanks in advance for any help.
-- 
Carlos Carroll, M.S.
Conservation Biology Institute and
Dept. of Forest Science, Oregon State University
Mailing address: PO Box 104
Orleans, CA 95556
e-mail: carlos at pcweb.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From magni at omega.ien.it  Tue Jul 20 09:29:10 1999
From: magni at omega.ien.it (Alessandro Magni)
Date: Tue, 20 Jul 1999 09:29:10 +0200
Subject: [R] color plot
References: <37934FF7.E3805C4F@pcweb.net>
Message-ID: <37942544.4020CE7E@omega.ien.it>

newbie question:
anytime I try something like...
plot(a[1],a[3],type="l",color="red"), or lines(a[1],a[3],type="l",color="red") ...
I get:
            Warning: parameter "color" couldn't be set in high-level plot()
function

How do I get color line plots?

Thank you

    Alessandro

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\ Alessandro Magni
/                               IEN Galileo Ferraris
\                               c.M.d'Azeglio 42, 10125 Torino (ITALIA)
/                               magni at omega.ien.it
\                               Fax (39)11-6507611
/                               Tel (39)11-3919757
\                               Homepage at: http://alpha.ien.it/~magni/home.html
/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19990720/44774dd4/attachment.html

From maechler at stat.math.ethz.ch  Tue Jul 20 09:55:20 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 20 Jul 1999 09:55:20 +0200
Subject: [R] color plot
In-Reply-To: <37942544.4020CE7E@omega.ien.it> (message from Alessandro Magni
	on Tue, 20 Jul 1999 09:29:10 +0200)
References: <37934FF7.E3805C4F@pcweb.net> <37942544.4020CE7E@omega.ien.it>
Message-ID: <199907200755.JAA19045@sophie.ethz.ch>

It's
	plot(....... , col = "red")
NOT
	plot(....... , color = "red")

((and btw, please try to re-configure your mail software.
  it sent the whole message twice, once in ASCII, and once HTMLified,
  and for that it packaged everything using MIME
  which made 3044 bytes in total for a very short question.
))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Jul 20 11:37:45 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 20 Jul 1999 10:37:45 +0100
Subject: [R] color plot
In-Reply-To: <37942544.4020CE7E@omega.ien.it>; from Alessandro Magni on Tue, Jul 20, 1999 at 09:29:10AM +0200
References: <37934FF7.E3805C4F@pcweb.net> <37942544.4020CE7E@omega.ien.it>
Message-ID: <19990720103745.39595@hal.stat.unipd.it>

On Tue, Jul 20, 1999 at 09:29:10AM +0200, Alessandro Magni wrote:
> newbie question:
> anytime I try something like...
> plot(a[1],a[3],type="l",color="red"), or lines(a[1],a[3],type="l",color="red") ...
> I get:
>             Warning: parameter "color" couldn't be set in high-level plot()
> function
> 
> How do I get color line plots?
> 

  > plot(rnorm(100),type="l",col="red")

  or
  
  > par(col="red")
  > plot(rnorm(100),type="l")

  Try
  > ?par
  to see the 'setable' graphics parameter (including col, bg (bacground color),
  and col.axis,...).

  g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David.Brahm at fmr.com  Tue Jul 20 15:30:17 1999
From: David.Brahm at fmr.com (Brahm, David)
Date: Tue, 20 Jul 1999 09:30:17 -0400
Subject: [R] Data storage in R vs. S
Message-ID: <BDFB8C2A6273D211B73C0060B067443C5A51BD@msgbos537nts.fmr.com>

Hi,

   Another newbie question; I only just now downloaded and tried the R
software.  My big initial objection is the way R stores the entire working
database in one file between sessions.  In S, I have always stored many
large parallel objects in a database (e.g. stock-by-date matrices of close,
high, low, volume, ...), knowing that S would only read the one or two files
I wanted to work with at any given time.  Also, I'd attach and detach many
different databases (e.g. one per year's worth of data).  I don't think R
can handle that, and I'd guess that scanning a lot of ASCII files each time
would be slow.  Can anybody share their experience with large datasets?  Are
the developers of R planning to eventually change the way data is stored to
be more like S?

 -- David Brahm
    Fidelity Investments
    (617)563-7438


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jul 20 17:41:26 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 20 Jul 1999 08:41:26 -0700 (PDT)
Subject: [R] Data storage in R vs. S
In-Reply-To: <BDFB8C2A6273D211B73C0060B067443C5A51BD@msgbos537nts.fmr.com>
Message-ID: <Pine.GSO.4.10.9907200825190.8241-100000@wompom.biostat.washington.edu>

On Tue, 20 Jul 1999, Brahm, David wrote:

> Hi,
> 
>    Another newbie question; I only just now downloaded and tried the R
> software.  My big initial objection is the way R stores the entire working
> database in one file between sessions.  In S, I have always stored many
> large parallel objects in a database (e.g. stock-by-date matrices of close,
> high, low, volume, ...), knowing that S would only read the one or two files
> I wanted to work with at any given time.  Also, I'd attach and detach many
> different databases (e.g. one per year's worth of data).  I don't think R
> can handle that, and I'd guess that scanning a lot of ASCII files each time
> would be slow.  Can anybody share their experience with large datasets?  Are
> the developers of R planning to eventually change the way data is stored to
> be more like S?

I think in the moderately distant future we would like to save things
automatically in separate files with some degree of caching, but this is
not at all straightforward because of the lexical scoping rules. 

At the moment you can do this by hand, by saving the data sets in
binary format using save(), loading them using load(), and deleting them
with rm() when not in use. It should also be possible to put them in a
package so that they don't ever end up in the global environment and won't
be saved in your workspace accidentally. Making each one into a package
would also allow autoload()ing. 


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle









-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Jul 20 23:43:53 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 21 Jul 1999 09:43:53 +1200 (NZST)
Subject: [R] Data storage in R vs. S
In-Reply-To: <Pine.GSO.4.10.9907200825190.8241-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.10.9907210938310.14612-100000@stat1.stat.auckland.ac.nz>

On Tue, 20 Jul 1999, Thomas Lumley wrote:

> On Tue, 20 Jul 1999, Brahm, David wrote:
> 
> > Hi,
> > 
> >    Another newbie question; I only just now downloaded and tried the R
> > software.  My big initial objection is the way R stores the entire working
> > database in one file between sessions.  In S, I have always stored many
> > large parallel objects in a database (e.g. stock-by-date matrices of close,
> > high, low, volume, ...), knowing that S would only read the one or two files
> > I wanted to work with at any given time.  Also, I'd attach and detach many
> > different databases (e.g. one per year's worth of data).  I don't think R
> > can handle that, and I'd guess that scanning a lot of ASCII files each time
> > would be slow.  Can anybody share their experience with large datasets?  Are
> > the developers of R planning to eventually change the way data is stored to
> > be more like S?
> 
> I think in the moderately distant future we would like to save things
> automatically in separate files with some degree of caching, but this is
> not at all straightforward because of the lexical scoping rules. 
> 
> At the moment you can do this by hand, by saving the data sets in
> binary format using save(), loading them using load(), and deleting them
> with rm() when not in use. It should also be possible to put them in a
> package so that they don't ever end up in the global environment and won't
> be saved in your workspace accidentally. Making each one into a package
> would also allow autoload()ing. 

This is actually quite close (two months?).  We are building the
infrastructure for adding external databases which can be attached in the
S fashion. One of the class of external data base will be that of S .Data
directories.  In addition I'd like to see zip files containing individual
objects and perhaps an R ".Data" directory containing a machine
independent version of data files (i.e. written with xdr).

	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Jul 21 10:30:51 1999
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 21 Jul 1999 10:30:51 +0200
Subject: [R] R as a standard statistical package
Message-ID: <3.0.32.19990721103051.009114e0@162.38.183.200>

Dear R users,

I discovered R a few months ago and find it is a very exciting alternative
to packages such as SAS. We are now thinking to use R as a standard
statistical package in my research unit. Most of my colleagues are
biologists or paleontologists who have a very slight training on
statistics. I wonder if anybody on the list has already experienced setting
R similarly for people who are not familiar with stats. Any advice or
suggestion would be useful. Many thanks.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tra at proteus.co.uk  Wed Jul 21 13:29:01 1999
From: tra at proteus.co.uk (tra)
Date: Wed, 21 Jul 1999 12:29:01 +0100
Subject: [R] Getting R graphics into MS Word
Message-ID: <3795AEFD.9DFA385D@proteus.co.uk>

I am just downloaded R, and am using it on Windows NT.

I would like to use it to generate graphics, which will be included in
Microsoft word or Powerpoint.

The graphics window allows me to save an image as an enhanced metafile.
However, if I then insert this image into a Word document, only part of
it is visible.
Has anyone on the list experience of trying to do this?
Do I need to change the graphics options in R or is there a problem with
the input filter of Word?

Thanks for your help and interest.

Tim




--
T R Auton PhD MSc C.Math
Head of Biomedical Statistics
Proteus Molecular Design Ltd
Beechfield House
Lyme Green Business Park
Macclesfield
Cheshire SK11 0JL
UK
email: tra at proteus.co.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Wed Jul 21 15:12:51 1999
From: d.scott at auckland.ac.nz (David Scott)
Date: Thu, 22 Jul 1999 01:12:51 +1200 (NZST)
Subject: [R] Getting R graphics into MS Word
In-Reply-To: <3795AEFD.9DFA385D@proteus.co.uk>
Message-ID: <Pine.SOL.3.96.990722010527.14578A-100000@aitken.scitec.auckland.ac.nz>

On Wed, 21 Jul 1999, tra wrote:

> I am just downloaded R, and am using it on Windows NT.
> 
> I would like to use it to generate graphics, which will be included in
> Microsoft word or Powerpoint.
> 
> The graphics window allows me to save an image as an enhanced metafile.
> However, if I then insert this image into a Word document, only part of
> it is visible.
> Has anyone on the list experience of trying to do this?
> Do I need to change the graphics options in R or is there a problem with
> the input filter of Word?
> 
I have just been trying this out myself and getting ready to report it.
Cutting and pasting is fine with bitmaps, but gives incomplete graphs with
metafile. Saving as gif or metafile then insert picture into Word doesn't
appear to work either. There is no bug report on this as far as I could
see.

I am using rw0.64.1 with Windows 95 V4.0 and Word 97

David Scott
 _________________________________________________________________
David Scott     Division of Science and Technology, Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 308 2377 or 373 7001
Email:  d.scott at Auckland.ac.nz or dscott at scitec.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venkat at biosta.mskcc.org  Wed Jul 21 15:44:17 1999
From: venkat at biosta.mskcc.org (E. S. Venkatraman)
Date: Wed, 21 Jul 1999 09:44:17 -0400 (EDT)
Subject: [R] R 0.64.2 for Windows 95/NT
Message-ID: <Pine.OSF.4.05.9907210933100.17007-100000@biosta.mskcc.org>

I installed R 0.64.2 using "rwinst.exe" on a Windows 95 machine.  The zip
files and rwinst.exe were stored in a directory "rtmp" and I wanted R to
be installed in "r0642" (by setting c:\rtmp for source directory and c:\
for install directory).  After the installation was completed the main
program was in r0642 whereas all the documentation in c:\rtmp\r0642.  

Is this a known bug?  

Furthermore if I set the install directory to be c:\rbeta instead of c:\
(in the hope that the distribution will be installed in c:\rbeta and not
c:\r0642) I end up with the files in c:\rbeta\r0642.

E. S. Venkatraman

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Jul 21 15:59:26 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 21 Jul 1999 13:59:26 GMT
Subject: [R] Getting R graphics into MS Word
Message-ID: <OFA0A45950.5C4C58B8-ON852567B5.004CB763@hgsi.com>


Could you give a little more detail so I can duplicate the effect (as I
have not encountered this problem with R 0.64.1 and Word97 on a Win95
platform)?
Your R version?
Your Word version?
Your powerpoint version?



                                                                                                              
                    tra                                                                                       
                    <tra at proteus.co.uk>         To:     r-help at stat.math.ethz.ch                              
                    Sent by:                    cc:                                                           
                    owner-r-help at stat.ma        Subject:     [R] Getting R graphics into MS Word              
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    07/21/1999 07:29 AM                                                                       
                                                                                                              
                                                                                                              



I am just downloaded R, and am using it on Windows NT.

I would like to use it to generate graphics, which will be included in
Microsoft word or Powerpoint.

The graphics window allows me to save an image as an enhanced metafile.
However, if I then insert this image into a Word document, only part of
it is visible.
Has anyone on the list experience of trying to do this?
Do I need to change the graphics options in R or is there a problem with
the input filter of Word?

Thanks for your help and interest.

Tim




--
T R Auton PhD MSc C.Math
Head of Biomedical Statistics
Proteus Molecular Design Ltd
Beechfield House
Lyme Green Business Park
Macclesfield
Cheshire SK11 0JL
UK
email: tra at proteus.co.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Jul 21 16:18:43 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Wed, 21 Jul 1999 09:18:43 -0500
Subject: [R] Getting R graphics into MS Word
References: <Pine.SOL.3.96.990722010527.14578A-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <99072109234700.02500@friedman>

On Wed, 21 Jul 1999, you wrote:
> On Wed, 21 Jul 1999, tra wrote:
> 
> > I am just downloaded R, and am using it on Windows NT.
> > 
> > I would like to use it to generate graphics, which will be included in
> > Microsoft word or Powerpoint.
> > 
> > The graphics window allows me to save an image as an enhanced metafile.
> > However, if I then insert this image into a Word document, only part of
> > it is visible.
> > Has anyone on the list experience of trying to do this?
> > Do I need to change the graphics options in R or is there a problem with
> > the input filter of Word?
> > 
> I have just been trying this out myself and getting ready to report it.
> Cutting and pasting is fine with bitmaps, but gives incomplete graphs with
> metafile. Saving as gif or metafile then insert picture into Word doesn't
> appear to work either. There is no bug report on this as far as I could
> see.
> 
> I am using rw0.64.1 with Windows 95 V4.0 and Word 97

I don't use Windows, but it seems to me that you are probably not specifying
the size of your pictures, say, 8cm x 8cm, and R produces by default larger
pictures than would fit in a regular sized MS Word page.

With postscript( ), the way around is to specify width= and height= as
arguments to postscript.

Hope it helps,

Alvaro Novo

 >  > David Scott
>  _________________________________________________________________
> David Scott     Division of Science and Technology, Tamaki Campus
>                 The University of Auckland, PB 92019
>                 Auckland        NEW ZEALAND
> Phone: +64 9 373 7599 ext 6830     Fax: +64 9 308 2377 or 373 7001
> Email:  d.scott at Auckland.ac.nz or dscott at scitec.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
--
--	--	--	--	--
Alvaro A. Novo
2116-304 S. Orchard St.
Urbana, IL 61801
USA

novo at uiuc.edu (Ph.D. Econ)
(217)337-4893 or (217)369-4872
--	--	--	--	--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 21 17:13:20 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Jul 1999 16:13:20 +0100 (BST)
Subject: [R] Getting R graphics into MS Word
In-Reply-To: <Pine.SOL.3.96.990722010527.14578A-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <Pine.GSO.4.05.9907211607570.476-100000@auk.stats>

On Thu, 22 Jul 1999, David Scott wrote:

> On Wed, 21 Jul 1999, tra wrote:
> 
> > I am just downloaded R, and am using it on Windows NT.
> > 
> > I would like to use it to generate graphics, which will be included in
> > Microsoft word or Powerpoint.
> > 
> > The graphics window allows me to save an image as an enhanced metafile.
> > However, if I then insert this image into a Word document, only part of
> > it is visible.
> > Has anyone on the list experience of trying to do this?
> > Do I need to change the graphics options in R or is there a problem with
> > the input filter of Word?
> > 
> I have just been trying this out myself and getting ready to report it.
> Cutting and pasting is fine with bitmaps, but gives incomplete graphs with
> metafile. Saving as gif or metafile then insert picture into Word doesn't
> appear to work either. There is no bug report on this as far as I could
> see.
> 
> I am using rw0.64.1 with Windows 95 V4.0 and Word 97

There is a bug with clipping on that version, I believe. It is cured in
rw0642, so please upgrade.  Guido will be able to give a definitive answer:
this is certainly the solution for gifs. I have found copying a metafile to
the clipboard and pasting into e.g. Word works where saving as a metfaile
does not.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 21 17:17:31 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Jul 1999 16:17:31 +0100 (BST)
Subject: [R] R 0.64.2 for Windows 95/NT
In-Reply-To: <Pine.OSF.4.05.9907210933100.17007-100000@biosta.mskcc.org>
Message-ID: <Pine.GSO.4.05.9907211614070.476-100000@auk.stats>

On Wed, 21 Jul 1999, E. S. Venkatraman wrote:

> I installed R 0.64.2 using "rwinst.exe" on a Windows 95 machine.  The zip
> files and rwinst.exe were stored in a directory "rtmp" and I wanted R to
> be installed in "r0642" (by setting c:\rtmp for source directory and c:\
> for install directory).  After the installation was completed the main
> program was in r0642 whereas all the documentation in c:\rtmp\r0642.  
> 
> Is this a known bug?  

No. I have never tried installing in the root directory, and that
probably fails, since c: vs c:\ is handled differently from c:\rbeta vs
c:\rbeta\.  I'll add a special-case check for this.

You can just move the files, of course.

> Furthermore if I set the install directory to be c:\rbeta instead of c:\
> (in the hope that the distribution will be installed in c:\rbeta and not
> c:\r0642) I end up with the files in c:\rbeta\r0642.

Yes, that is what is specified to happen.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 21 17:58:48 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Jul 1999 16:58:48 +0100 (BST)
Subject: [R] R 0.64.2 for Windows 95/NT
In-Reply-To: <Pine.GSO.4.05.9907211614070.476-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.9907211657180.569-100000@auk.stats>

On Wed, 21 Jul 1999, Prof Brian D Ripley wrote:

> On Wed, 21 Jul 1999, E. S. Venkatraman wrote:
> 
> > I installed R 0.64.2 using "rwinst.exe" on a Windows 95 machine.  The zip
> > files and rwinst.exe were stored in a directory "rtmp" and I wanted R to
> > be installed in "r0642" (by setting c:\rtmp for source directory and c:\
> > for install directory).  After the installation was completed the main
> > program was in r0642 whereas all the documentation in c:\rtmp\r0642.  
> > 
> > Is this a known bug?  
> 
> No. I have never tried installing in the root directory, and that
> probably fails, since c: vs c:\ is handled differently from c:\rbeta vs
> c:\rbeta\.  I'll add a special-case check for this.

I have checked this out: actually it is a bug in the unzip code used, and
so only affects the second and subsequent zip files in a rwinst session.
I've sent a revised binary to Guido to put on CRAN.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 21 18:18:19 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 21 Jul 1999 18:18:19 +0200
Subject: [R] R-mailinglists will be "on hold" for a few hours on Saturday.
Message-ID: <199907211618.SAA01553@sophie.ethz.ch>

Our main server [www/ftp/mail]  "stat.ethz.ch" (if you want to ping)
will be getting more RAM, new disks with new filesystems, etc.

This will start on Saturday July 24, 10:30 GMT+2 (=MEST) and last several
hours.
In case it would take more than 4 hours or so, you might get messages back
that you sent to the mailing lists R-help, R-devel, R-announce or R-core.

DO NOT REPOST THEM, 
since they should be delivered as soon as the server comes backup !

I hope we won't see any other disturbances as I will be vacationing for two
weeks from then on...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Wed Jul 21 20:05:17 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Wed, 21 Jul 1999 19:05:17 +0100
Subject: [R] rwinst + metafile + gif
Message-ID: <19990721190517.06470@hal.stat.unipd.it>

1) rwinst   
Brian Ripley has provided me a new version of 'rwinst.exe' which
should solve the signaled problem (installing in the root of the hard-disk).
It should be available tomorrow from Wien (and in few days from the other
mirrors).

2) gif
There was some problems in rw0641. It used to work before and it should
work again in rw0642 (at least, it does on my system). So, please,
if you need it, follow Brian advice: update to 0.64.2.

3) metafile
Can someone send me some code which reproduce the problem. I have just
now tried with some of the demo plots (demo(graphics) and demo(image))
without experimenting problems. What happens if plots are sent directly
to the metafile (not copied from a running window device)? I.e.,
> win.metafile(height=4,width=4)
> hist(rnorm(100))
> dev.off()
should save in the clipboard the histogram as a metafile.

guido


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tra at proteus.co.uk  Fri Jul 23 12:19:46 1999
From: tra at proteus.co.uk (tra)
Date: Fri, 23 Jul 1999 11:19:46 +0100
Subject: [R] Getting R graphics into MS Word (more)
Message-ID: <379841C1.5AE8A7E0@proteus.co.uk>

Further to my earlier question.

Thank you to:
John Maindonald, Ramon Diaz-Uriarte, Brian Ripley, Alvaro Novo, Simon
Bond and David Scott
for your helpful replies.

I have looked at the problem in some more detail.

I am using
Rgui.exe Version 0.64.2  (July 3, 1999)
running under Windows NT

To demonstrate the problem, I run the program:

> win.graph(width=5, height=3)
> data(women)
> plot(women)

Then, in the graph window, I select the command
Save as metafile
using the right mouse button, and save the file in c:\temp\women2.emf

Then, in Microsoft Word (97 SR 2) , I can import this file using
Insert/Picture/FromFile

When I do this, the picture is truncated to about 70% of its correct
width and height.

I have looked at the metafile produced by R, and can make it import
correctly into Word by increasing the FrameRight and FrameBottom
parameters (at offset 0020x and 0024x in the file) by a factor of 1.49.

Using Copy as Metafile and the Paste in Word does the same as using an
intermediate file, but with no chance to view or edit the emf file
header.

It looks to me as if there is a problem, either in the way that R
calculates the Frame or Scaling parameters, or in the way that the Word
import filter handles them.

Is there any way I can change the Frame information that R puts in the
emf file?
Has anyone managed to get this to work nicely in Word - perhaps there is
a Word configuration file that needs to be amended.

I have attached the emf file, in case it is of use to any of you.

Thanks for your help

Tim Auton




--
T R Auton PhD MSc C.Math
Head of Biomedical Statistics
Proteus Molecular Design Ltd
Beechfield House
Lyme Green Business Park
Macclesfield
Cheshire SK11 0JL
UK
email: tra at proteus.co.uk

-------------- next part --------------
A non-text attachment was scrubbed...
Name: women2.emf
Type: application/x-unknown-content-type-emf_auto_file
Size: 16136 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990723/0971c366/women2.bin

From mandevip at uaslp.mx  Fri Jul 23 04:26:58 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Fri, 23 Jul 1999 04:26:58
Subject: [R] rw0642
Message-ID: <3.0.5.16.19990723042658.22773d6c@deimos.tc.uaslp.mx>

Among other computers, I am using rw0642 on an IBM 300GL with 32MB RAM and
Windows98.

1. If after opening rw0642 the first command is to help such as "? par",
when the help window is closed by clicking X in the upper right corner of
the help window the following message is shown

	This program has performed an illegal operation and will be shut down.
	If the problem persists contact the program vendor.

2. I often cut code from wordpad and notepad to the clipboard and paste it
in rw0642. If I cut and paste the following code

	par(ask=T)
	plot(rnorm(500),main="First")
	plot(rnorm(500),main="Second")

The first plot is shown and I get the following in the console

	> par(ask=T)
	> plot(rnorm(500),main="First")
	Hit <Return> to see next plot: plot(rnorm(500
	> ,main="Second")
	Error: syntax error

If I cut and paste the following code

	par(ask=T)
	plot(rnorm(500),main="First")

	plot(rnorm(500),main="Second")

Sometimes it works properly. This is didn't occur in previous versions.

2. The graphics pointer in "identify()" and "locator()" isn't visible in
the Graphics Window. This didn't occur in versions before Rw0641.

3. Many times Rwinst reports "zip files not found" when I try to install an
add-on package using Windows95. This appears not to happen using Windows98.

4. The subdirectories Mass, nnet, spatial, and class have to be copied to
rw0642\library after instalation of VR5_3pl037 which complicates students'
lives.

5. What is the minimum RAM necessary for Rw0642? I have found that it will
run on computers with 32MB RAM but not with 16MB RAM.

6. It has been reported to me that the command "windows()" only copies the
last graph rather then all of them as it did previously in other versions.

7. While running Rw0642 a single click on another minimized application on
the task bar highlights the icon for Rw0642 and doesn't change
applications. It requieres 2 clicks to change to the other application.
 
Can someone help me with these details?

Thank you very much.

PBM


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From k.m.syring at t-online.de  Fri Jul 23 16:17:38 1999
From: k.m.syring at t-online.de (Karl M. Syring)
Date: Fri, 23 Jul 1999 16:17:38 +0200
Subject: [R] Getting R graphics into MS Word (more)
In-Reply-To: <379841C1.5AE8A7E0@proteus.co.uk>
Message-ID: <000101bed516$1e48b1f0$856e9fc1@fenris>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of tra
> Sent: Freitag, 23. Juli 1999 12:20
> To: r-help at stat.math.ethz.ch
> Subject: [R] Getting R graphics into MS Word (more)
>

<Snip> <\Snip>

Tim,
in respect to importing an emf directly to MS-Word you are probably out of
luck. To put it mildly, the problem is mostly on the importing side.
You can try indirect imports. If you have Corel Draw, you get better
results. You graphics looks like the attached gif file. You can see, that
the ordinate labeling is turned by 180 degrees.
Usually, I get the best results by using the postscript output from R. You
can display the postscript files with the Windows version of Ghostscript;
this allows you to add a metafile preview that is usable by Word.

Regards
Karl


-------------- next part --------------
A non-text attachment was scrubbed...
Name: women2.gif
Type: image/gif
Size: 2098 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990723/c233ac31/women2.gif

From ripley at stats.ox.ac.uk  Sat Jul 24 00:22:11 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Jul 1999 23:22:11 +0100 (BST)
Subject: [R] rw0642
In-Reply-To: <3.0.5.16.19990723042658.22773d6c@deimos.tc.uaslp.mx>
Message-ID: <Pine.GSO.4.05.9907232312510.18838-100000@auk.stats>

On Fri, 23 Jul 1999, Peter B. Mandeville wrote:

> Among other computers, I am using rw0642 on an IBM 300GL with 32MB RAM and
> Windows98.

> 3. Many times Rwinst reports "zip files not found" when I try to install an
> add-on package using Windows95. This appears not to happen using Windows98.

> Can someone help me with these details?

`It sometimes does not work' reports are frustratingly unhelpful. Could
_you_ give the details and then we may be able to give the help. 
I no longer have a Win95 machine, so need very detailed diagnostics.


Yes, I know VR53pl037 unpacks into its own directory: that is intentional,
as you are supposed to read the top-level files. If your students can't
cope with that, you could re-package a version of R for them as you like it
(and write your own installer?). Alternatively, I could remove
VR53pl037.zip, and let them install from the CRAN sources, when that
tiny extra step will not be needed.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Sun Jul 25 19:11:45 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Sun, 25 Jul 1999 18:11:45 +0100
Subject: [R] rw0642
In-Reply-To: <3.0.5.16.19990723042658.22773d6c@deimos.tc.uaslp.mx>; from Peter B. Mandeville on Fri, Jul 23, 1999 at 02:53:03PM +0000
References: <3.0.5.16.19990723042658.22773d6c@deimos.tc.uaslp.mx>
Message-ID: <19990725181144.30325@hal.stat.unipd.it>

On Fri, Jul 23, 1999 at 02:53:03PM +0000, Peter B. Mandeville wrote:
> Among other computers, I am using rw0642 on an IBM 300GL with 32MB RAM and
> Windows98.
> 
> 1. If after opening rw0642 the first command is to help such as "? par",
> when the help window is closed by clicking X in the upper right corner of
> the help window the following message is shown

  This is a bug. Strangely enough, I can replicate it under Win98 but not under  WinNT. And also under Win98, it didn't happen all the time.
  Can you confirm that closing the help window after more than one have been
  open NEVER gives problems (I tried for 20 minutes today) ?


> 2. I often cut code from wordpad and notepad to the clipboard and paste it
> in rw0642. If I cut and paste the following code
> 
> 	par(ask=T)
> 	plot(rnorm(500),main="First")
> 	plot(rnorm(500),main="Second")
> 
> The first plot is shown and I get the following in the console
> 
> 	> par(ask=T)
> 	> plot(rnorm(500),main="First")
> 	Hit <Return> to see next plot: plot(rnorm(500
> 	> ,main="Second")
> 	Error: syntax error

  This is what is expected to happen: answer to "Hit <Return>..." is 
  expected from the console but the console has some input pending..
  Perhaps, you are wondering why the console 'automatically' return
  after processing only a part of the third line. The answer is that
  the R "read console" function returns either when a <Return> key
  is seen or when a maximum number of characters are seen (to avoid
  buffer overflow).


> If I cut and paste the following code
> 
> 	par(ask=T)
> 	plot(rnorm(500),main="First")
> 
> 	plot(rnorm(500),main="Second")
> 
> Sometimes it works properly. This is didn't occur in previous versions.
> 
  I suppose that the blank line means "two pasting operation". This 
  should work if the second paste is done AFTER responding to the
  "Hit <Return>...".


> 2. The graphics pointer in "identify()" and "locator()" isn't visible in
> the Graphics Window. This didn't occur in versions before Rw0641.
> 

  Are you running some 'complicated' desktop theme? If so, does
  the problem disappear when you run the default theme (from Control
  Pane - Desktop themes - select 'Predefined Windows').
  Motivation of the two questions: starting from Rw0641, identify() and 
  locator() change the cursor to a cross hair looking one; this should exist
  in every Windows installation; anyway, I observed that the way the event loop
  is run during 'identify' and friends is not appropriate if drawing the 
  cursor require more time than the standard one. For this I have a
  fix which would appear in the next release. If you want, I will
  be glad to provide you with a revised 0.64.2 R.dll for testing.


> 5. What is the minimum RAM necessary for Rw0642? I have found that it will
> run on computers with 32MB RAM but not with 16MB RAM.

  I always test any new release on my daughter P100 16MB RAM Win95 machine
  (which is the lowest end machine I have access).
  So, at least on that machine, 16MB are enough. 
  However, keep in mind that that standard values for vsize and nsize
  has been increased since 0.64.1. So, probably, you want to set them
  again to a smaller values.

> 
> 6. It has been reported to me that the command "windows()" only copies the
> last graph rather then all of them as it did previously in other versions.
> 
   I am lost. 'windows()' open a new graphic device. It shouldn't copy
   anything.


   guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peterf at fs2.ma.man.ac.uk  Mon Jul 26 16:16:50 1999
From: peterf at fs2.ma.man.ac.uk (Peter Foster)
Date: Mon, 26 Jul 1999 16:16:50 BST
Subject: [R]: Repeated measurements data
Message-ID: <487C1C3665A@fs2.ma.man.ac.uk>

I have repeated measures data (over time) for each of 40 individuals
with the number of observations per person varying greatly from 4 to
51.  There are 578 measurements in total.  There are no grouping
variables or other covariates.

I have been using the function carma in the library called growth to
fit a cubic polynomial in time with AR(1) serial correlation plus
measurement error.  However, I have encountered a number of
problems:

1.  Varying the initial estimates of the ARMA parameters results in
different fitted models and, in particular, the values of minus
log-likelihood.  How can I choose a "best" model?  Some fitted
models return NaN for some of the se's and/or correlations of the
parameter estiamtes so presumably these can be ruled out.

2.  I am not sure how I specify that I want random effects in the
model and nor the nature of these (eg random intercept or random
intercept and slope, etc).

Any help would be greatly appreciated.

Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Mon Jul 26 18:36:20 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 26 Jul 1999 09:36:20 -0700
Subject: [R] success with R-unix postscript plots into Mac?
Message-ID: <87so6b74hn.fsf@alpha.cfas.washington.edu>



Has anyone had success getting R-unix postscript plots into powerpoint
for the Mac?  Mac powerpoint doesn't seem to like postscript, and
conversions to tiff, jpeg, and gif, using the netpbm converters, have
produced less than stellar results (i.e. bitmaps with unaliases
pixels, sigh...).

Thoughts?  The next one I had was to use GIMP (this is a linux system) 
to clean it up, and it worked, but it seems like overkill, so I'm
looking for a simpler solution.

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research	UW Biostatistics     
206-720-4282 (4209=fax)		206-543-1044 (xxxx=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 26 19:18:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 1999 19:18:46 +0200
Subject: [R] success with R-unix postscript plots into Mac?
In-Reply-To: rossini@biostat.washington.edu's message of "26 Jul 1999 09:36:20 -0700"
References: <87so6b74hn.fsf@alpha.cfas.washington.edu>
Message-ID: <x2n1wj8h3d.fsf@blueberry.kubism.ku.dk>

rossini at biostat.washington.edu (A.J. Rossini) writes:

> Has anyone had success getting R-unix postscript plots into powerpoint
> for the Mac?  Mac powerpoint doesn't seem to like postscript, and
> conversions to tiff, jpeg, and gif, using the netpbm converters, have
> produced less than stellar results (i.e. bitmaps with unaliases
> pixels, sigh...).
> 
> Thoughts?  The next one I had was to use GIMP (this is a linux system) 
> to clean it up, and it worked, but it seems like overkill, so I'm
> looking for a simpler solution.

gs -antialias something, perhaps? I can do a bit of experimenting and
tell you the result, in particular if if you'd tell *me* how to get
ESS to check R transcripts used in a LaTeX file... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrn at supermta.hg.med.umich.edu  Mon Jul 26 18:57:26 1999
From: mrn at supermta.hg.med.umich.edu (Matthew R. Nelson)
Date: Mon, 26 Jul 1999 12:57:26 -0400
Subject: [R] success with R-unix postscript plots into Mac?
References: <87so6b74hn.fsf@alpha.cfas.washington.edu>
Message-ID: <99072614134101.07660@mrnlinux.hg.med.umich.edu>

Tony,

I have had very good success with ImageMagick which can convert nearly
any image format into nearly any other image format.  It has a GPL-like
lisence and is available for nearly any platform at

http://www.wizards.dupont.com/cristy/ImageMagick.html

The source code and binaries are available here or at your favorite Linux
download sites.  

>From the command line, converting from postscript to jpg is as easy as
# convert plot.ps plot.jpg

Resolution can be improved by arguements like
# convert -density 288 -geometry 25% plot.ps plot.gif

which essentially says to put more information into a smaller region.

Additionally, there are all kinds of wrappers for the ImageMagick
libraries, including Perl, Python, and C/C++.

Regards,

Matt

On Mon, 26 Jul 1999, you wrote:
>Has anyone had success getting R-unix postscript plots into powerpoint
>for the Mac?  Mac powerpoint doesn't seem to like postscript, and
>conversions to tiff, jpeg, and gif, using the netpbm converters, have
>produced less than stellar results (i.e. bitmaps with unaliases
>pixels, sigh...).
>
>Thoughts?  The next one I had was to use GIMP (this is a linux system) 
>to clean it up, and it worked, but it seems like overkill, so I'm
>looking for a simpler solution.
>
>best,
>-tony
----------------------------------------------------------------------------
Matthew R. Nelson
Dept. of Human Genetics             http://www-personal.umich.edu/~ticul/
University of Michigan              email: ticul at umich.edu
4711 Medical Science II             phone: (734) 763-8090 or 647-3151
Ann Arbor, MI  48109-0618           fax:   (734) 763-5477
----------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Mon Jul 26 20:52:18 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 26 Jul 1999 11:52:18 -0700
Subject: [R] success with R-unix postscript plots into Mac?
In-Reply-To: "Matthew R. Nelson"'s message of "Mon, 26 Jul 1999 12:57:26 -0400"
References: <87so6b74hn.fsf@alpha.cfas.washington.edu> <99072614134101.07660@mrnlinux.hg.med.umich.edu>
Message-ID: <87aesj6y71.fsf@alpha.cfas.washington.edu>


>>>>> "MRN" == Matthew R Nelson <mrn at supermta.hg.med.umich.edu> writes:

    MRN> Tony, I have had very good success with ImageMagick which can

Thanks!  I'd forgotten about ImageMagick (senility is setting in
early, sigh...).

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research	UW Biostatistics     
206-720-4282 (4209=fax)		206-543-1044 (xxxx=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Mon Jul 26 22:51:13 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Mon, 26 Jul 1999 20:51:13 GMT
Subject: [R] R-Graphics
Message-ID: <OF32EEC709.1170D9CE-ON852567BA.0071E316@hgsi.com>

I am having a strange problem with R graphics:
I am testing out R on a Sun Solaris machine. I generate a simple postscript
graph as:

postscript(file="temp.ps", paper= "letter")
plot(c(1:10), xlab= "index", ylab= "Cell Count")
title("Generic Test of R-Graphics")
dev.off()

When I view the temp.ps file with gs (version 5.50) I get the graph rotated
by at least 90 deg. Is this a bug or have I missed something?
TIA.

> version
           _
platform   sparc-sun-solaris2.6
arch       sparc
os         solaris2.6
system     sparc, solaris2.6
status
status.rev 0
major      0
minor      64.1
year       1999
month      May
day        8
language   R
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bvandeven at austin.rr.com  Mon Jul 26 22:13:50 1999
From: bvandeven at austin.rr.com (Bryan Van de Ven)
Date: Mon, 26 Jul 1999 13:13:50 -0700
Subject: [R] error bars
Message-ID: <379CC17E.7A4DC6FB@austin.rr.com>

How does one add error bars to an XY plot?  I looked but could not find
anything about this.  (I'm sure I just missed something simple)

Regards,

--
Bryan Van de Ven
Applied Research Laboratories
University of Texas, Austin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 26 23:50:14 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 1999 23:50:14 +0200
Subject: [R] R-Graphics
In-Reply-To: partha_bagchi@hgsi.com's message of "Mon, 26 Jul 1999 20:51:13 GMT"
References: <OF32EEC709.1170D9CE-ON852567BA.0071E316@hgsi.com>
Message-ID: <x2hfmrt71l.fsf@blueberry.kubism.ku.dk>

partha_bagchi at hgsi.com writes:

> I am having a strange problem with R graphics:
> I am testing out R on a Sun Solaris machine. I generate a simple postscript
> graph as:
> 
> postscript(file="temp.ps", paper= "letter")
> plot(c(1:10), xlab= "index", ylab= "Cell Count")
> title("Generic Test of R-Graphics")
> dev.off()
> 
> When I view the temp.ps file with gs (version 5.50) I get the graph rotated
> by at least 90 deg. Is this a bug or have I missed something?
> TIA.

PostScript, bounding boxes, and paper orientations are tricky issues.
"gv" gets this one right. I suspect that the trouble is that gs
doesn't really know what to do with the metacomment

%%Orientation: Landscape

so it assumes that the paper is portrait and displays it like that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 26 23:54:15 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 1999 23:54:15 +0200
Subject: [R] error bars
In-Reply-To: Bryan Van de Ven's message of "Mon, 26 Jul 1999 13:13:50 -0700"
References: <379CC17E.7A4DC6FB@austin.rr.com>
Message-ID: <x2g12bt6uw.fsf@blueberry.kubism.ku.dk>

Bryan Van de Ven <bvandeven at austin.rr.com> writes:

> How does one add error bars to an XY plot?  I looked but could not find
> anything about this.  (I'm sure I just missed something simple)

You didn't. They can be rather nicely fudged using arrows(...,
angle=90) though. Some fine day we got to get around to write up a
routine for it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Tue Jul 27 00:24:42 1999
From: posse at talariainc.com (Christian Posse)
Date: Mon, 26 Jul 1999 15:24:42 -0700
Subject: [R] Logistic regression with coef>0
Message-ID: <379CE029.765C7087@talariainc.com>

Hi,

recently I saw but did not pay too much attention to a question
that concerned regression with positive coefficients. In Splus,
thereis the nnls() function that can be used if I am not wrong,
but what about R ?
Now I have the same problem: doing a logistic regression under
constraint that coefs are non negative. What can I do with R?
is there a (weighted) nnls() counterpart available?

Thanks for any help!
Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Jul 27 11:02:15 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 27 Jul 1999 10:02:15 +0100
Subject: [R] Getting R graphics into MS Word (more)
In-Reply-To: <379841C1.5AE8A7E0@proteus.co.uk>; from tra on Fri, Jul 23, 1999 at 11:19:46AM +0100
References: <379841C1.5AE8A7E0@proteus.co.uk>
Message-ID: <19990727100215.43014@hal.stat.unipd.it>

On Fri, Jul 23, 1999 at 11:19:46AM +0100, tra wrote:
> 
> To demonstrate the problem, I run the program:
> 
> > win.graph(width=5, height=3)
> > data(women)
> > plot(women)
> 
> Then, in the graph window, I select the command
> Save as metafile
> using the right mouse button, and save the file in c:\temp\women2.emf
> 
> Then, in Microsoft Word (97 SR 2) , I can import this file using
> Insert/Picture/FromFile
> 
> When I do this, the picture is truncated to about 70% of its correct
> width and height.
> 
> I have looked at the metafile produced by R, and can make it import
> correctly into Word by increasing the FrameRight and FrameBottom
> parameters (at offset 0020x and 0024x in the file) by a factor of 1.49.
> 
> Using Copy as Metafile and the Paste in Word does the same as using an
> intermediate file, but with no chance to view or edit the emf file
> header.
> 
> It looks to me as if there is a problem, either in the way that R
> calculates the Frame or Scaling parameters, or in the way that the Word
> import filter handles them.
> 

  I think I got the point and, as Tim confirmed using an updated R.dll,
  fixed it in the R-devel source.

  Problem was that Windows and R disagreed on the number of "reference
  pixels" of the metafile when metric information reported by Windows
  are inconsistent,i.e., Windows seems to compute the number of reference
  pixels using (number of pixels) and (dimension in mm of the screen),
  I used (pixels for inch) and on some systems, like Tim one,
               ((mm for inch)*wp)/wmm != ppi
  where wp  = screen dimension in pixels,
        wmm = screen dimension in mm,
        ppi = pixels for inch.
  Just to give an example on Tim machine, rigth side was around 65,
  while left one was 96, which explain the 1.49 factor empirically
  determined by Tim.

  Strangely enough (pure Microsoft style?), the not coherent values 
  for wp, wmm and ppi are all got from the same Win32 API function.

  Thanks to Tim Auton and Partha Bagchi for helping me in testing.

  guido  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Tue Jul 27 11:11:00 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Tue, 27 Jul 1999 09:11:00 +0000 (GMT)
Subject: [R] error bars
In-Reply-To: <x2g12bt6uw.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.96.990727091022.1863A-100000@cbe207.gcal.ac.uk>

Here is how to do it.

x<-c(1,2,3,4,5)
y<-c(1.1, 2.3, 3.0, 3.9, 5.1)
ucl<-c(1.3, 2.4, 3.5, 4.1, 5.3)
lcl<-c(.9, 1.8, 2.7, 3.8, 5.0)
plot(x,y, ylim=range(c(lcl,ucl)))
arrows(x,ucl,x,lcl,length=.05,angle=90,code=3) 
#or
segments(x,ucl,x,lcl)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Tue Jul 27 11:13:13 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Tue, 27 Jul 1999 09:13:13 +0000 (GMT)
Subject: [R] R-Graphics
In-Reply-To: <x2hfmrt71l.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.96.990727091223.1863B-100000@cbe207.gcal.ac.uk>

I produce .ps files like this:
dev.print(horizontal=FALSE,width=7,height=7,file="rstuff/file.ps")

It works OK.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Jul 27 10:35:49 1999
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 27 Jul 1999 10:35:49 +0200
Subject: [R] error bars
Message-ID: <3.0.32.19990727103548.00903720@162.38.183.200>

At 13:13 26/07/99 -0700, you wrote:
>How does one add error bars to an XY plot?  I looked but could not find
>anything about this.  (I'm sure I just missed something simple)
>
>Regards,
>
>--
>Bryan Van de Ven

Bryan,

I met the problem recently. It's quite simple actually. I have "file" which
contains 3 columns: lag, ccc, and ci. The last one is 1.96*se(ccc), then
the following does the trick:

	dat <- read.table("file")
	lag <- dat$V1
	ccc <- dat$V2
	ci <- dat$V3
	plot(lag, ccc)
	segments(lag, ccc+ci, lag, ccc-ci)

I also added this to draw small horizontal bars at the ends of the vertical
bar:

	segments(lag-.05, ccc-ci, lag+.05, ccc-ci)
	segments(lag-.05, ccc+ci, lag+.05, ccc+ci)

Emmanuel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue Jul 27 14:20:51 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 27 Jul 1999 12:20:51 GMT
Subject: [R] R-Graphics
Message-ID: <OF0857AF9A.949808F2-ON852567BB.0043C29B@hgsi.com>


I suspect you are right. Its more gs issue than an R issue. I will give gv
a try.
Thanks.



                                                                                                              
                    Peter Dalgaard BSA                                                                        
                    <p.dalgaard at biostat.        To:     partha_bagchi at hgsi.com                                
                    ku.dk>                      cc:     r-help at stat.math.ethz.ch                              
                    Sent by:                    Subject:     Re: [R] R-Graphics                               
                    owner-r-help at stat.ma                                                                      
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    07/26/1999 05:50 PM                                                                       
                                                                                                              
                                                                                                              



partha_bagchi at hgsi.com writes:

> I am having a strange problem with R graphics:
> I am testing out R on a Sun Solaris machine. I generate a simple
postscript
> graph as:
>
> postscript(file="temp.ps", paper= "letter")
> plot(c(1:10), xlab= "index", ylab= "Cell Count")
> title("Generic Test of R-Graphics")
> dev.off()
>
> When I view the temp.ps file with gs (version 5.50) I get the graph
rotated
> by at least 90 deg. Is this a bug or have I missed something?
> TIA.

PostScript, bounding boxes, and paper orientations are tricky issues.
"gv" gets this one right. I suspect that the trouble is that gs
doesn't really know what to do with the metacomment

%%Orientation: Landscape

so it assumes that the paper is portrait and displays it like that.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue Jul 27 15:13:56 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 27 Jul 1999 13:13:56 GMT
Subject: Summary - Re: [R] R-Graphics
Message-ID: <OFE19ABBEC.D9168B0B-ON852567BB.0044DF23@hgsi.com>


Thanks to all who replied. Mostly the suggestion was to add the argument
horizontal= FALSE to the postscript function. However, I was trying to
generate a landscape graph. The "fault" lies with gs as Peter Dalgaard
pointed out. Under Windows 95, gsview has an option to view landscape or
portrait and therefore this problem does not arise on that platform.



                                                                                                              
                    partha_bagchi at hgsi.c                                                                      
                    om                          To:     r-help at stat.math.ethz.ch                              
                    Sent by:                    cc:                                                           
                    owner-r-help at stat.ma        Subject:     [R] R-Graphics                                   
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    07/26/1999 04:51 PM                                                                       
                                                                                                              
                                                                                                              



I am having a strange problem with R graphics:
I am testing out R on a Sun Solaris machine. I generate a simple postscript
graph as:

postscript(file="temp.ps", paper= "letter")
plot(c(1:10), xlab= "index", ylab= "Cell Count")
title("Generic Test of R-Graphics")
dev.off()

When I view the temp.ps file with gs (version 5.50) I get the graph rotated
by at least 90 deg. Is this a bug or have I missed something?
TIA.

> version
           _
platform   sparc-sun-solaris2.6
arch       sparc
os         solaris2.6
system     sparc, solaris2.6
status
status.rev 0
major      0
minor      64.1
year       1999
month      May
day        8
language   R
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cve at smc.kiruna.se  Tue Jul 27 15:42:17 1999
From: cve at smc.kiruna.se (Coomaren Pillay Vencatasawmy)
Date: Tue, 27 Jul 1999 15:42:17 +0200
Subject: [R] S+ files
Message-ID: <F15C524057E0D111A24B00805FAD0CE1069CFA@opera.smc.kiruna.se>

A very basic question:

How can I make R read some S+ files that I had originally. The source
command says "file format unknown"

Thanks


Coomaren
........................................................................
........................................................
Dr Coomaren P Vencatasawmy
Senior Research Fellow
Spatial Modelling Centre (SMC)
P.O. Box 839
S-981 28
Kiruna
Sweden
coomaren.vencatasawmy at smc.kiruna.se
Telephone: 46 980 67013
Fax           : 46 980 67190
"Perfection is achieved, not when there is nothing more to add, but when
there is nothing left to take away."  - Antoine de Saint Exupery 
........................................................................
........................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Jul 27 16:11:58 1999
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 27 Jul 1999 16:11:58 +0200
Subject: [R] R archive for DEC alpha (osf4.0)
Message-ID: <379DBE2E.B159432E@physik.uni-marburg.de>

Hello,
I?m looking for a compiled R archive that can be installed without
being root, i.e. I?d like to set the installation path manually.
Thanks for ideas -
 M. Eger

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 284169
| Fax  +49 6421 287034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
| http://www.physik.uni-marburg.de/bio/mitarbei/eger.htm
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at hsph.harvard.edu  Tue Jul 27 17:12:24 1999
From: rgentlem at hsph.harvard.edu (Robert Gentleman)
Date: Tue, 27 Jul 1999 11:12:24 -0400 (EDT)
Subject: [R] S+ files
In-Reply-To: <F15C524057E0D111A24B00805FAD0CE1069CFA@opera.smc.kiruna.se>
Message-ID: <Pine.SV4.4.05.9907271105450.29701-100000@hsph.harvard.edu>

Coomaren,
  The only real way to do this is to save the files from S/Splus using 
dump (or dput with a bit more work). This function creates ascii versions
of your data and functions and these can then be read into R using source.
R cannot currently restore S/Splus binary files (this may happen in the
future though). 
  This should make it into the FAQ....

On Tue, 27 Jul 1999, Coomaren Pillay Vencatasawmy wrote:

> A very basic question:
> 
> How can I make R read some S+ files that I had originally. The source
> command says "file format unknown"
> 
> Thanks
> 
> 
> Coomaren
> ........................................................................
> ........................................................
> Dr Coomaren P Vencatasawmy
> Senior Research Fellow
> Spatial Modelling Centre (SMC)
> P.O. Box 839
> S-981 28
> Kiruna
> Sweden
> coomaren.vencatasawmy at smc.kiruna.se
> Telephone: 46 980 67013
> Fax           : 46 980 67190
> "Perfection is achieved, not when there is nothing more to add, but when
> there is nothing left to take away."  - Antoine de Saint Exupery 
> ........................................................................
> ........................................................
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Jul 27 18:17:53 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 27 Jul 1999 12:17:53 -0400 (EDT)
Subject: [R] tick marks and layout
Message-ID: <Pine.SGI.3.96.990727121009.2280A-100000@ln.nimh.nih.gov>

Hi, all.

Layout seems to put tick marks only in the leftmost column (for the y
axis) and bottom row (for the x axis).  This is easy to see using the
following trivial program:

function (nr, nc)  {
    layout(matrix(1:(nr * nc), nr, nc)) 
    for (i in 1:(nr * nc)) {
        plot(rnorm(10), rnorm(10)) 
    }
    layout(matrix(1, 1, 1)) 
}


I'd like to be able to override this behavior and put
tick marks everywhere, but I can't find one.  Does anyone know of a way?
(Some values of the "respect" argument to layout eliminate the ticks on
the leftmost y axes, but none seem to get *more* ticks.)

I'll summarize to the list (until tomorrow afternoon, when I go away for a
few days).

Thanks,

Matt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 27 19:41:03 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 27 Jul 1999 18:41:03 +0100 (BST)
Subject: Summary - Re: [R] R-Graphics
In-Reply-To: <OFE19ABBEC.D9168B0B-ON852567BB.0044DF23@hgsi.com>
Message-ID: <Pine.GSO.4.05.9907271830380.10660-100000@auk.stats>

On Tue, 27 Jul 1999 partha_bagchi at hgsi.com wrote:

> Thanks to all who replied. Mostly the suggestion was to add the argument
> horizontal= FALSE to the postscript function. However, I was trying to
> generate a landscape graph. The "fault" lies with gs as Peter Dalgaard
> pointed out. Under Windows 95, gsview has an option to view landscape or
> portrait and therefore this problem does not arise on that platform.

Oh yes, it does, if you use gs not gsview on Windows (as you can). As Peter
pointed out, on Solaris you can use ghostview (I think he said gv, but that
is not so easily compilable on Solaris: it comes with Linux but needs an
X11 toolkit that Solaris does not come with, and has `cleaner' human
interface IMHO) or CDE's (or OpenLook's) *.ps viewer.

The trick with gs is to tell it you want a landscape page: everywhere that
has the courtesy to respect international standards (Ineternational
Standards Organisation a4, no less) this need gs -g842x595. In North
American, RTFM (.../ghostscript/doc/Use.htm).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 27 19:46:42 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 27 Jul 1999 18:46:42 +0100 (BST)
Subject: [R] S+ files
In-Reply-To: <Pine.SV4.4.05.9907271105450.29701-100000@hsph.harvard.edu>
Message-ID: <Pine.GSO.4.05.9907271843060.10660-100000@auk.stats>

On Tue, 27 Jul 1999, Robert Gentleman wrote:

> Coomaren,
>   The only real way to do this is to save the files from S/Splus using 
> dump (or dput with a bit more work). This function creates ascii versions
> of your data and functions and these can then be read into R using source.
> R cannot currently restore S/Splus binary files (this may happen in the
> future though). 
>   This should make it into the FAQ....

I would add, do this on the same S-PLUS architecture and version as you
created them. (Unlike recent R images, they are not platform-independent.)
So `this may happen in the future though' probably will mean `on the same
architecture prior to S-PLUS 5'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 27 21:08:39 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jul 1999 21:08:39 +0200
Subject: Summary - Re: [R] R-Graphics
In-Reply-To: Prof Brian D Ripley's message of "Tue, 27 Jul 1999 18:41:03 +0100 (BST)"
References: <Pine.GSO.4.05.9907271830380.10660-100000@auk.stats>
Message-ID: <x2emht6hc8.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

...
> The trick with gs is to tell it you want a landscape page: everywhere that
> has the courtesy to respect international standards (Ineternational
> Standards Organisation a4, no less) this need gs -g842x595. In North
> American, RTFM (.../ghostscript/doc/Use.htm).

Close, but no seegar... You also need to rotate the plot:

$ pstrans="-90 rotate 595 neg 0  translate"
$ echo $pstrans | cat - Rplots.ps > xxx ;  gs -g842x595 xxx 

Figuring out how to do it without the temporary file is left as the
proverbial "exercise for the reader"...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Victor.Barajas at HSC.com  Wed Jul 28 00:25:53 1999
From: Victor.Barajas at HSC.com (Victor.Barajas@HSC.com)
Date: Tue, 27 Jul 1999 15:25:53 -0700
Subject: [R] R hangs when hist() gets vector with a single value
Message-ID: <882567BB.007B423A.00@Hughes.com>



Hi, I'm not sure if this is a bug or due to my ignorance of R syntax.  I'm using
hist() to plot a sample set of data, some sets contain the same  value (i.e.
3000, 3000, 3000, 3000).  I find that hist() hangs when It gets to sets with a
single value.  ....help ?                ...victor


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 28 01:18:07 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jul 1999 01:18:07 +0200
Subject: [R] R hangs when hist() gets vector with a single value
In-Reply-To: Victor.Barajas@HSC.com's message of "Tue, 27 Jul 1999 15:25:53 -0700"
References: <882567BB.007B423A.00@Hughes.com>
Message-ID: <x24sipd6mo.fsf@blueberry.kubism.ku.dk>

Victor.Barajas at HSC.com writes:

> Hi, I'm not sure if this is a bug or due to my ignorance of R syntax.  I'm using
> hist() to plot a sample set of data, some sets contain the same  value (i.e.
> 3000, 3000, 3000, 3000).  I find that hist() hangs when It gets to sets with a
> single value.  ....help ?                ...victor
> 

Version? There was a bug of the sort some time ago, but recent
versions seem to have no trouble doing e.g. hist(rep(10,10))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Victor.Barajas at HSC.com  Wed Jul 28 01:25:51 1999
From: Victor.Barajas at HSC.com (Victor.Barajas@HSC.com)
Date: Tue, 27 Jul 1999 16:25:51 -0700
Subject: [R] R hangs when hist() gets vector with a single value
Message-ID: <882567BB.0080BFB8.00@Hughes.com>



Yikes !    ... I'm using 0.61.1 Alpha.   Guess I'd better upgrade.       Sorry
to bother and thanks.      ......victor


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cve at smc.kiruna.se  Wed Jul 28 09:11:54 1999
From: cve at smc.kiruna.se (Coomaren Pillay Vencatasawmy)
Date: Wed, 28 Jul 1999 09:11:54 +0200
Subject: [R] S+ files
Message-ID: <F15C524057E0D111A24B00805FAD0CE1069D02@opera.smc.kiruna.se>

Dear All


I would like to thank all those who promptly answered my query about
reading S+ files. 

Unfortunately, I do not have access to Splus. This is why I am dabbling
with R. Is there a demo version of Splus that will do a dump?


Coomaren


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Wed Jul 28 09:34:40 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Wed, 28 Jul 1999 09:34:40 +0200
Subject: [R] problem to install R-0.64.2 on mips-sgi-irix6.4
Message-ID: <379EB28F.26105BFF@lion-ag.de>

Dear all,


I hope the following problem haven't been discussed here recently (I
could not find anything about it the help archive files) :

I tried to compile R-0.64.2 from the source files without much
success...
the last lines from the output of the ./configure command were :
----------------------------------------------------------
R is now configured for mips-sgi-irix6.4

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc -g -prototypes
  FORTRAN compiler:         g77 -O2
  Gnome support:            no



Then I tried unsuccessfully the make command, so I switched to the gmake
command, which replied me the following lines.

May be the problem is not really one for some people... but, well, I
need help...



Laurent Gautier



----------------------------------------------------------
> gmake
gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/afm'
gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/afm'
gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/demos'
gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/demos'
gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/doc'
gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/doc'
gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/etc'
gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/etc'
gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/src'
gmake[2]: Entering directory `/home/gautier/RHome/R-0.64.2/src/include'
gmake[2]: Leaving directory `/home/gautier/RHome/R-0.64.2/src/include'
gmake[2]: Entering directory `/home/gautier/RHome/R-0.64.2/src/appl'
gcc -g -prototypes -I../include -I../../src/include  -c S_compat.c -o
S_compat.o
gcc: unrecognized option `-prototypes'
In file included from ../include/Fortran.h:21,
                 from ../include/S_compat.h:29,
                 from S_compat.c:24:
../include/Mathlib.h:329: conflicting types for `gammal'
/software/pub_gen/lib32/gcc-lib/mips-sgi-irix6.4/egcs-2.91.60/include/math.h:819:
previous declaration of `gammal'
gmake[2]: *** [S_compat.o] Error 1
gmake[2]: Leaving directory `/home/gautier/RHome/R-0.64.2/src/appl'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/src'
gmake: *** [R] Error 1


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Wed Jul 28 10:36:23 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Wed, 28 Jul 1999 10:36:23 CET (+0100)
Subject: [R] R-graphics: insert PS in MS Word
In-Reply-To: <OFE19ABBEC.D9168B0B-ON852567BB.0044DF23@hgsi.com>
Message-ID: <1620E497582@fgr.wu-wien.ac.at>

Dear R-Users,

one more advice for those who produce .ps-files with R (on 
unix-machines) and want to insert them in MS-Word:

It is not enough to include the argument horizontal= FALSE in the 
postscript function. The width-option has to be set small enough so 
that the plot fits (in upright position) on a ("portrait") a4 paper 
(or letter paper). Otherwise R obviously adjusts the width-parameter, 
so that this condition is fullfilled, and the width and height of the 
plot may not have the proportions intended by the user.
 E.g. :
postscript(file="figtest.ps",width=8,height=6.4,horizontal=FALSE)

Then the file can be transferred to the Windows computer, and after 
adding bounding boxes and a preview with Ghostview (the "PS to EPS" 
and "Add EPS Preview" commands are well documented in the online 
help) the file should be ready for inserting in MS-Word.

WK


----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Research Institute for European Affairs
Vienna University of Economics and Business Administration
Althanstrasse 39-45, 1090 Vienna, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Wed Jul 28 10:57:25 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Wed, 28 Jul 1999 10:57:25 CET (+0100)
Subject: [R] skewness, kurtosis
Message-ID: <16267A12623@fgr.wu-wien.ac.at>

Dear R-Users and Developpers,

Currently R does not include functions to compute the skewness and 
kurtosis. I programmed it myself in the following way, but probably 
*real* programmers/statisticians can do that better:
 
mykurtosis <- function(x) {  
m4 <- mean((x-mean(x))^4) 
kurt <- m4/(sd(x)^4)-3  
kurt
}

myskewness <-  function(x) {
m3 <- mean((x-mean(x))^3)
skew <- m3/(sd(x)^3)
skew
}

I would also suggest to include the quartile-coefficient of skewness 
(sorry if this translation from German is not correct). This measure 
is confined to the interval [0,1] and much easier to interpret. 
My try:

myqcskewness <-  function(x) {
  x25 <- as.double(quantile(x,prob=0.25))
  x75 <- as.double(quantile(x,prob=0.75))
  qcsk <- (x25+x75-2*mean(x))/(x75-x25)
  qcsk
}

Finally a question which actually is not R-related (please excuse 
this misuse of the list):
Is there something like a "quantile-coefficient of kurtosis"??
 Maybe:
k = (2b-a)/a  with   a = x_{p} - x_{1-p},   b = x_{q} - x_{1-q},
x_{} are quantiles, and p and q are chosen so that k=0 for the normal 
distribution.

Thanks for help!!

WK


----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Research Institute for European Affairs
Vienna University of Economics and Business Administration
Althanstrasse 39-45, 1090 Vienna, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andreas.Weingessel at ci.tuwien.ac.at  Wed Jul 28 11:32:55 1999
From: Andreas.Weingessel at ci.tuwien.ac.at (Andreas Weingessel)
Date: Wed, 28 Jul 1999 11:32:55 +0200 (CEST)
Subject: [R] skewness, kurtosis
In-Reply-To: <16267A12623@fgr.wu-wien.ac.at>
References: <16267A12623@fgr.wu-wien.ac.at>
Message-ID: <14238.52807.267524.917177@elendil.ci.tuwien.ac.at>

>>>>> On Wed, 28 Jul 1999 10:57:25 CET (+0100),
>>>>> Wolfgang Koller (WK) wrote:

WK> Dear R-Users and Developpers,
WK> Currently R does not include functions to compute the skewness and 
WK> kurtosis. I programmed it myself in the following way, but probably 
WK> *real* programmers/statisticians can do that better:

The package e1071 (available at CRAN) contains some statistical
functions we find useful, including our versions of skewness and
kurtosis. (They are more or less the same as your functions, besides
an additional na.rm-flag).

WK> mykurtosis <- function(x) {  
WK> m4 <- mean((x-mean(x))^4) 
WK> kurt <- m4/(sd(x)^4)-3  
WK> kurt
WK> }

WK> myskewness <-  function(x) {
WK> m3 <- mean((x-mean(x))^3)
WK> skew <- m3/(sd(x)^3)
WK> skew
WK> }

-aw

************************************************************************
*                          Andreas Weingessel                          *
************************************************************************
* Institut f?r Statistik      *               Tel: (+43 1) 58801 10716 *
* Technische Universit?t Wien *               Fax: (+43 1) 58801 10798 *
* Wiedner Hauptstr. 8-10/1071 *     Andreas.Weingessel at ci.tuwien.ac.at *
* A-1040 Wien, Austria        * http://www.ci.tuwien.ac.at/~weingessel *
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jul 28 12:28:16 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 28 Jul 1999 12:28:16 +0200 (MET DST)
Subject: [R] 3d in R
Message-ID: <Pine.OSF.3.91.990728122418.17443A-100000@paleo.ija.csic.es>


Dear R-users and R-developpers,

I've not been able to find 3d graphics in R, like
Splus spin() or brush(). Are there any that I've missed
and/or is anybody working on implementing these
type of functions?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Jul 28 13:30:48 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 28 Jul 1999 13:30:48 +0200 (CEST)
Subject: [R] problem to install R-0.64.2 on mips-sgi-irix6.4
In-Reply-To: <379EB28F.26105BFF@lion-ag.de>
References: <379EB28F.26105BFF@lion-ag.de>
Message-ID: <14238.59880.373142.432833@fangorn.ci.tuwien.ac.at>

>>>>> Laurent Gautier writes:

> Dear all,
> I hope the following problem haven't been discussed here recently (I
> could not find anything about it the help archive files) :

> I tried to compile R-0.64.2 from the source files without much
> success...

Can you please try the current 0.65 (r-devel) snapshot instead?  The
configure/make systems has been substantially changed/improved in this
version.

> the last lines from the output of the ./configure command were :
> ----------------------------------------------------------
> R is now configured for mips-sgi-irix6.4

>   Source directory:         .
>   Installation directory:   /usr/local
>   C compiler:               gcc -g -prototypes
>   FORTRAN compiler:         g77 -O2
>   Gnome support:            no

Where does the `-prototypes' come from?  Something you set somewhere?

> Then I tried unsuccessfully the make command, so I switched to the gmake
> command, which replied me the following lines.

What is the problem with native make?  (I assume it is gone in 0.65).

> May be the problem is not really one for some people... but, well, I
> need help...



> Laurent Gautier



> ----------------------------------------------------------
>> gmake
> gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/afm'
> gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/afm'
> gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/demos'
> gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/demos'
> gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/doc'
> gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/doc'
> gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/etc'
> gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/etc'
> gmake[1]: Entering directory `/home/gautier/RHome/R-0.64.2/src'
> gmake[2]: Entering directory `/home/gautier/RHome/R-0.64.2/src/include'
> gmake[2]: Leaving directory `/home/gautier/RHome/R-0.64.2/src/include'
> gmake[2]: Entering directory `/home/gautier/RHome/R-0.64.2/src/appl'
> gcc -g -prototypes -I../include -I../../src/include  -c S_compat.c -o
> S_compat.o
> gcc: unrecognized option `-prototypes'
> In file included from ../include/Fortran.h:21,
>                  from ../include/S_compat.h:29,
>                  from S_compat.c:24:
> ../include/Mathlib.h:329: conflicting types for `gammal'
> /software/pub_gen/lib32/gcc-lib/mips-sgi-irix6.4/egcs-2.91.60/include/math.h:819:
> previous declaration of `gammal'
> gmake[2]: *** [S_compat.o] Error 1
> gmake[2]: Leaving directory `/home/gautier/RHome/R-0.64.2/src/appl'
> gmake[1]: *** [R] Error 1
> gmake[1]: Leaving directory `/home/gautier/RHome/R-0.64.2/src'
> gmake: *** [R] Error 1

I recall that something similar was posted some time ago, but I thought
it had been fixed.  Can you send me

/software/pub_gen/lib32/gcc-lib/mips-sgi-irix6.4/egcs-2.91.60/include/math.h

???

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Wed Jul 28 13:58:54 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Wed, 28 Jul 1999 13:58:54 +0200 (CEST)
Subject: [R] 3d in R
In-Reply-To: <Pine.OSF.3.91.990728122418.17443A-100000@paleo.ija.csic.es>
Message-ID: <Pine.LNX.3.95.990728134019.250A-100000@pcinternet.biochem.dshs-koeln.de>

I'm not familiar with S/S+, but I think the "xgobi" software package can
do what you want (spin plots, brushing, etc. ...).

There is an interface to R as well as to S/S+. The program itself and the
interface are both available at StatLib (Mirror from
http://www.research.att.com/areas/stat/xgobi).

I don't know what kind of platform you are using, but as far as I remember
"xgobi" is included in a number of Linux distributions, which could make
life a little easier for you. 


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493
                            -494

 



On Wed, 28 Jul 1999, Agustin Lobo wrote:

> 
> Dear R-users and R-developpers,
> 
> I've not been able to find 3d graphics in R, like
> Splus spin() or brush(). Are there any that I've missed
> and/or is anybody working on implementing these
> type of functions?
> 
> Thanks
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> http://pangea.ija.csic.es/alobo
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at infiniti.ece.cmu.edu  Wed Jul 28 14:26:14 1999
From: tov at infiniti.ece.cmu.edu (Thomas Vogels)
Date: Wed, 28 Jul 1999 08:26:14 -0400
Subject: [R] 3d in R 
In-Reply-To: Your message of "Wed, 28 Jul 1999 12:28:16 EDT."
             <Pine.OSF.3.91.990728122418.17443A-100000@paleo.ija.csic.es> 
Message-ID: <199907281226.IAA20778@infiniti.ece.cmu.edu>


Agustin,

  Take a look at XGobi and XGvis, which are data visualization tools
very similar to spin and brush.  You can find it at:
  http://lib.stat.cmu.edu/general/XGobi/
There is also a R package "xgobi" providing the interface between R
and XGobi.  With this package it's quite easy to load a dataset to
XGobi and "brush" it to your heart's content.

  This brings up another question:  Has anybody looked at bringing
XGobi "closer" to R.  At the moment, the data exchange between the two
programs works with files.  It would be nice if it all could happen in
memory.  (I haven't checked the copyright from Bellcore about this...)

Enjoy,
  -tom


"Agustin" == Agustin Lobo <alobo at ija.csic.es> writes:

Agustin> I've not been able to find 3d graphics in R, like
Agustin> Splus spin() or brush(). Are there any that I've missed
Agustin> and/or is anybody working on implementing these
Agustin> type of functions?
 
--
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Wed Jul 28 15:56:43 1999
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Wed, 28 Jul 1999 14:56:43 +0100
Subject: (Fwd) Re: [R] 3d in R
Message-ID: <199907281256.OAA30474@benes.incoma.cz>

In Win95/NT you can use xgobi (program and R interface) as well, 
provided you will install an x-server on your machine (a free one is 
available from http://www.microimages.com/freestuf/mix/).
Regards!
Zdenek Skala


*****************************************************
Uli Flenker wrote:
I'm not familiar with S/S+, but I think the "xgobi" software package 
can
do what you want (spin plots, brushing, etc. ...).

There is an interface to R as well as to S/S+. The program itself 
and the
interface are both available at StatLib (Mirror from
http://www.research.att.com/areas/stat/xgobi).

I don't know what kind of platform you are using, but as far as I 
remember
"xgobi" is included in a number of Linux distributions, which could 
make
life a little easier for you. 


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493
                            -494





On Wed, 28 Jul 1999, Agustin Lobo wrote:

> 
> Dear R-users and R-developpers,
> 
> I've not been able to find 3d graphics in R, like
> Splus spin() or brush(). Are there any that I've missed
> and/or is anybody working on implementing these
> type of functions?
 

++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Wed Jul 28 15:20:26 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 28 Jul 1999 06:20:26 -0700
Subject: [R] 3d in R
In-Reply-To: Thomas Vogels's message of "Wed, 28 Jul 1999 08:26:14 -0400"
References: <199907281226.IAA20778@infiniti.ece.cmu.edu>
Message-ID: <87d7xcvrl1.fsf@alpha.cfas.washington.edu>


>>>>> "TV" == Thomas Vogels <tov at infiniti.ece.cmu.edu> writes:


    TV> This brings up another question: Has anybody looked at
    TV> bringing XGobi "closer" to R.  At the moment, the data
    TV> exchange between the two programs works with files.  It would
    TV> be nice if it all could happen in memory.  (I haven't checked
    TV> the copyright from Bellcore about this...)

There currently is work on a general purpose 3-d front end and toolkit
(using Java3d) for visualization (and for exploring uses of VR in
statistics), which has been shown to work with R via the socket
interface, and eventually with Omega via CORBA.  It's called ORCA.

Grand tour code, preliminary work on linking and brushing, and
infrastructure are somewhat done.  Example visualizations have also
been written.

Hopefully, an initial version will be available (under the GNU GPL)
late this fall.  And it'll be demo'd at the upcoming joint statistical
meetings in Baltimore (but probably not the R-interface).

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research	UW Biostatistics     
206-720-4282 (4209=fax)		206-543-1044 (xxxx=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 28 18:16:41 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Jul 1999 17:16:41 +0100 (BST)
Subject: (Fwd) Re: [R] 3d in R
In-Reply-To: <199907281256.OAA30474@benes.incoma.cz>
Message-ID: <Pine.GSO.4.05.9907281713140.14236-100000@auk.stats>

On Wed, 28 Jul 1999, Zdenek Skala wrote:

> In Win95/NT you can use xgobi (program and R interface) as well, 
> provided you will install an x-server on your machine (a free one is 
> available from http://www.microimages.com/freestuf/mix/).

And provided you use the Windows xgobi package and not the Unix one.

I would have appreciated being given credit for this: it was (and continues
to be) a not inconsiderable effort. xgobi for Windows is at
http://www.stats.ox.ac.uk/pub/SWin.

The free X-server from tnt is rahter port, and there are better ones: see
the documentation in my xgobi port.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Wed Jul 28 11:30:49 1999
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Wed, 28 Jul 1999 02:30:49 -0700
Subject: [R] hatch or line fill
Message-ID: <199907280930.CAA00997@babylon.cnrs.humboldt.edu>

Colleagues--

Is there any way to fill the bars in a barplot() with solid lines for postscript output, i.e. cross hatch or parallel lines, or a halftone gray rather than (semi) continuous-tone gray produced by gray()?  S allows this, or at least used to, via the angle and density arguments to barplot().  The objective of course, is to produce camera ready black and white plots on a laser printer.  The gray values produced by gray() do not reproduce well.

--Mike

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann            mac24 at axe.humboldt.edu
Assistant Professor of Zoology        Voice: 707-826-3676
Dept. of Biological Sciences        Fax: 707-826-3201
Humboldt State University
Arcata, CA 95521-8299

    http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Thu Jul 29 10:32:35 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Thu, 29 Jul 1999 09:32:35 +0100
Subject: [R] hatch or line fill
Message-ID: <005601bed99c$e9df3e80$54566f83@capc03t.medlan.cam.ac.uk>

hi


>Is there any way to fill the bars in a barplot() with solid lines for
postscript output, i.e. cross hatch or parallel lines, or a halftone gray
rather than (semi) continuous-tone gray produced by gray()?  S allows this,
or at least used to, via the angle and density arguments to barplot().  The
objective of course, is to produce camera ready black and white plots on a
laser printer.  The gray values produced by gray() do not reproduce well.
>



implementing density and angle arguments are on the todo list.  the bad news
is that they're behind a number of more important bugs.  the good news is
that they get closer to the front of the todo list as more people request it
:)

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Thu Jul 29 12:00:22 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Thu, 29 Jul 1999 10:00:22 +0000
Subject: [R] scan
Message-ID: <37A02634.D7D4BC6@wu-wien.ac.at>

Is there a way to efficiently read large datasets directly into a matrix
byrow? I know data.frame, but for large datasets it doesn't efficiently
work, also if I increase the cons memory.

R --nsize 1000k --vsize 90M
...
> x<-read.table("pendler.luft.txt")
Error: cons memory (1000000 cells) exhausted
       See "help(Memory)" on how to increase the number of cons cells.
>

Also the following is problematic:

R --nsize 1000k --vsize 90M
...
> x<-scan("pendler.luft.txt",skip=1)
Read 3164832 items
> x<-matrix(x,nrow=3164832/6,ncol=6,byrow=T)
Error: heap memory (92160 Kb) exhausted [needed 24725 Kb more]
       See "help(Memory)" on how to increase the heap size.
>

The following works but is not very elegant I think

> x<-matrix(NA,nrow=6,ncol=3164832/6)
> x[,]<-scan("pendler.luft.txt",skip=1)
Read 3164832 items
> x<-t(x)
> x[1,]
[1] 10101 10405 10349  3945    89     0
>

Is there a better way to do that? How can I avoid copying of such large
objects? E.g., does x<-t(x) copy x or not?

Thanks,
Adrian

--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Thu Jul 29 16:43:48 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Thu, 29 Jul 1999 14:43:48 +0000
Subject: [R] call_R
Message-ID: <37A068A3.D33EA531@wu-wien.ac.at>

I would like to use the call_R mechanism. Unfortunately I don't fully
understand what the arguments are from the example in
"R-0.64.2/demos/dynload".

Could anybody explain me how I have to define the arguments, e.g., I
want to call R with 5 doubles (or double[5]) and func does not return a
value (is that possible or is it necessary to return at least a dummy?).

This is from the example and func takes one double and returns one:

void *args[1];
char *mode[1], *values[1];
long length[1];
double zz[1], *result;

mode[0] = "double"; length[0] = 1;
args[0] = (void*)(zz); zz[0] = z;


call_S(func, 1L, args, mode, length, 0L, 1L, values);

Thanks for the help

Adrian

--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dajm at deeq.demon.co.uk  Fri Jul 30 00:35:53 1999
From: dajm at deeq.demon.co.uk (David Middleton)
Date: Thu, 29 Jul 1999 19:35:53 -0300
Subject: [R] R-graphics: insert PS in MS Word
In-Reply-To: <1620E497582@fgr.wu-wien.ac.at>
References: <OFE19ABBEC.D9168B0B-ON852567BB.0044DF23@hgsi.com>
Message-ID: <3.0.5.32.19990729193553.007b7100@pop3.demon.co.uk>

>Then the file can be transferred to the Windows computer, and after 
>adding bounding boxes and a preview with Ghostview (the "PS to EPS" 
>and "Add EPS Preview" commands are well documented in the online 
>help) the file should be ready for inserting in MS-Word.

The Ghostview documentation also makes the point that the "initclip"
operator should not be used in EPS files, or files you convert to EPS
using the "PS to EPS" command.  It's worth noting that the postscript
produced by R _does_ use the initclip operator, despite the fact that
the postscript() help page suggests R postscript is EPS compatible.
(I'm currently on R 0.64.1 win32).

That said, I've had very few problems using the postscript produced by
R in either MS word or latex documents.  R postscript does include
a bounding box, so it is often unnecessary to run it through ghostview,
especially if you don't need a preview image added.

As I recall the one.page=T argument to the Splus postscript device caused
fully compliant EPS to be produced, which could potentially be a useful
feature
for R.

David Middleton
dajm at deeq.demon.co.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 30 09:05:01 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Jul 1999 08:05:01 +0100 (BST)
Subject: [R] R-graphics: insert PS in MS Word
In-Reply-To: <3.0.5.32.19990729193553.007b7100@pop3.demon.co.uk>
Message-ID: <Pine.GSO.4.05.9907300738510.25392-100000@auk.stats>

On Thu, 29 Jul 1999, David Middleton wrote:

[DM quoting from an unattributed source]

> >Then the file can be transferred to the Windows computer, and after 
> >adding bounding boxes and a preview with Ghostview (the "PS to EPS" 
> >and "Add EPS Preview" commands are well documented in the online 
> >help) the file should be ready for inserting in MS-Word.

Let's try to stamp this usage out. Ghostview has no such operations. The
program under discussion is called GSView: it is a different program by a
different author (Russell Lang) which runs on Windows, and he deserves his
credit.  It seems that a high proportion of GSView users don't read the
title line, for example.

> The Ghostview documentation also makes the point that the "initclip"
> operator should not be used in EPS files, or files you convert to EPS
> using the "PS to EPS" command.  It's worth noting that the postscript
> produced by R _does_ use the initclip operator, despite the fact that
> the postscript() help page suggests R postscript is EPS compatible.
> (I'm currently on R 0.64.1 win32).

It _may_ use it, but the Adobe documentation of EPS says it should not
contain the initclip operator. There are many more restrictions, for
example only having one page of output. (A quick check on my examples
showed no instances of the cl operator (defined in terms of initclip)
actually being used.)

> That said, I've had very few problems using the postscript produced by
> R in either MS word or latex documents.  R postscript does include
> a bounding box, so it is often unnecessary to run it through ghostview,
> especially if you don't need a preview image added.

> As I recall the one.page=T argument to the Splus postscript device caused
> fully compliant EPS to be produced, which could potentially be a useful
> feature
> for R.

(onefile=T) That is S-PLUS on Unix, not Windows, unfortunately.

David: could you please send a succinct bug report to R-bugs, so this (it
is not EPS-compliant, needs a one.page argument) gets logged and on the
TODO list.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stel at hail.ersa.fvg.it  Fri Jul 30 15:27:33 1999
From: stel at hail.ersa.fvg.it (Fulvio Stel)
Date: Fri, 30 Jul 1999 15:27:33 +0200 (CST)
Subject: [R] 3D scatter plot
Message-ID: <199907301327.PAA06827@andromeda.hail.ersa.fvg.it>

Hi,
I'd like to know if is it possible to make a 3D scatter plot (x y z) using R.
In the on-line help and in the help mailing list I found only ways in which
plot surfaces.
Thanks for the help

                                fulvio 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jul 30 17:35:13 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 30 Jul 1999 08:35:13 -0700 (PDT)
Subject: [R] 3D scatter plot
In-Reply-To: <199907301327.PAA06827@andromeda.hail.ersa.fvg.it>
Message-ID: <Pine.GSO.4.10.9907300827310.16227-100000@wompom.biostat.washington.edu>

On Fri, 30 Jul 1999, Fulvio Stel wrote:

> Hi,
> I'd like to know if is it possible to make a 3D scatter plot (x y z) using R.
> In the on-line help and in the help mailing list I found only ways in which
> plot surfaces.

Not directly.  You can do this and much more with XGobi, connecting it to
R with the xgobi package on CRAN. If you are working under Windows you
need an X server and Brian Ripley's Windows port 
(http://www.stats.ox.ac.uk/pub/Swin) of XGobi.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Jul 30 18:19:15 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 30 Jul 1999 12:19:15 -0400
Subject: [R] options(width=220)
Message-ID: <37A1D083.4691BDCF@bank-banque-canada.ca>

I'm trying to increase the line width to print a large table but there seems to
be a limit of 200:

> options(width=220)
Error in options(...) : invalid width parameter

Can someone tell me how to increase this?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jul 30 18:24:50 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Jul 1999 11:24:50 -0500
Subject: [R] 3D scatter plot
In-Reply-To: Thomas Lumley's message of "Fri, 30 Jul 1999 08:35:13 -0700 (PDT)"
References: <Pine.GSO.4.10.9907300827310.16227-100000@wompom.biostat.washington.edu>
Message-ID: <6r1zdqm7fx.fsf@verdi.stat.wisc.edu>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> If you are working under Windows you need an X server and Brian
> Ripley's Windows port (http://www.stats.ox.ac.uk/pub/Swin) of XGobi.
                                                       
That's http://www.stats.ox.ac.uk/pub/SWin  (both "S" and "W" are upper
case in the last part of the path)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Sat Jul 31 18:50:50 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Sat, 31 Jul 1999 12:50:50 -0400
Subject: [R] HTML Output from R
In-Reply-To: <OF8F1FF647.7341B987-ON852567C1.004131A1@hgsi.com>
Message-ID: <NABBLIOAJNIMENKGLDDGOEIDCNAA.twestley@buffalo.veridian.com>

I recommend that you model your HTML write function after
write.table().  It's got many of the features you'd like
to have and also will give you some good hints on how
to handle row and column names and avoid that "forbidden"
for loop.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
> partha_bagchi at hgsi.com
> Sent: Monday, August 02, 1999 8:11 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] HTML Output from R
> 
> 
> Task: To generate HTML output from R
> Details: I am trying to serve up HTML output from R. That is analyses or
> table of data from R saved as HTML output with formatted tables etc. This
> file is then called in a CGI script to output to user browser. The CGI
> script inspired by Mark J. Ray reads the HTML output, formats the header
> and footer and any graphic output if necessary.
> My question is: Has anyone done any HTML output from R?
> 
> My first attempt at this is the following:
> (Note: this function is not intended for "production" work; in particular
> no error checking - all the niceties I intend to add in the end)
> 
> mat2html <- function(x, y, capt="The Default Title", file= file){
> #x: The matrix to be written in HTML
> #y: A vector  of length m containing the colnames of x
> #capt: The title for the table
> #file: The HTML file to write to
>   n <- dim(x)[1] #no. of rows
>   m <- dim(x)[2] #no. of columns
>   sink(paste(file))
>   cat("<table border= 1, align= \"center\">\n")
>   cat(paste("<caption>", capt, "</caption>\n"))
>   cat("<tr>")
>   for(i in 1:m)cat(paste("<th>", y[i]))
>   cat("</tr>\n")
>   for(i in 1:n){
>      cat("<tr>\n")
>      for(j in 1:m){
>         cat(paste("<td>", x[i,j]))
>      }
>      cat("</tr>\n")
>   }
>   cat("</table>\n")
>   sink()
> }
> #---------------------------------------------------------------------------------------
> 
> Note that I am using the "forbidden" for loop. I am unable to see a
> solution otherwise.
> Comments and improvements obviously welcome.
> TIA.
> Partha.
> PS: I will summarize all the replies I get.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Sat Jul 31 18:18:51 1999
From: twestley at buffalo.veridian.com (Terry J. Westley)
Date: Sat, 31 Jul 1999 12:18:51 -0400
Subject: [R] Performance & capacity characteristics of R?
In-Reply-To: <Pine.GSO.4.05.9908030900300.25656-100000@auk.stats>
Message-ID: <NABBLIOAJNIMENKGLDDGOEIHCNAA.twestley@buffalo.veridian.com>

> On Tuesday, August 03, 1999 4:15 AM, Prof Brian D Ripley wrote:
> Can you tell us what statistical procedures need 1 million to 100s of
> millions or rows (observations)?  Some of us have doubted that there are
> even datasets of 100,000 examples that are homogeneous and for which a
> small subsample would not give all the statistical information. (If they
> are not homogeneous, one could/should analyse homogeneous subsets and do a
> meta-analysis.)
> 
> Your datasets appear to be (taking a mid-range value) around 1Gbyte
> in size.

I won't speak for Karsten, but will describe my own use of R for
(potentially) large datasets, just to give you an idea of what at
least one large dataset user is attempting to do...

The application is a simulation of radar detection and tracking of
aircraft.  The data collected is radar detections and tracks.  There
are potentially (though not typically) 200 radars by 200 aircraft in
the simulation.  In this extreme case, I expect to collect approx.
2GB of data in a 4-hour simulation run.  Fortunately, this is not
typical; I'm trying to get a better handle on what's typical.

There are two primary uses.  One is to produce various plots, such as
   a) detections and tracks against time, and 
   b) detections and tracks against geographic location with
      respect to true aircraft position.

The other is to perform statistical measures across multiple runs.
I don't know all the details of what functions will be performed,
but paired t-test has been mentioned.  A typical question to be
answered is: how well did a jammer perform in reducing the
number of detections and tracks?  Another one is:  how much
better did this aircraft perform (in avoiding detection)
compared to that other aircraft?  Another: which flight path is
better to avoid detection and tracking?

The largest datasets contain approx 50M observations of 20 variables
for detections.  For handling these large datasets, I'm counting on
the fact that typical analyses focus on smaller time ranges and on
specific aircraft.  So, I plan to preprocess the data to select just
the radars, aircraft, and time range of interest before loading the
data file into R.

Currently, the dataset is kept in Oracle; I hope to transition
to HDF (http://hdf.ncsa.uiuc.edu/).  Oracle has lots of advantages,
but is very slow to load this much data.  I have yet to evaluate
HDF for large datasets.

--
Terry J. Westley, Principal Engineer
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


