From jmiyamot at u.washington.edu  Thu Nov  1 00:46:22 2001
From: jmiyamot at u.washington.edu (John Miyamoto)
Date: Wed, 31 Oct 2001 15:46:22 -0800 (PST)
Subject: [R] Summary: t.test
Message-ID: <Pine.A41.4.33.0110311543120.14686-100000@mead5.u.washington.edu>

Dear R-News,

I sent a query to r-help asking why t.test did not exist on my
installation of R.  Thanks to Douglas Bates, Michael Camann, Kjetil
Halvorsen, Ko-Kang Kevin Wang, Peter Dalgaard, and Jonathan Baron who
pointed out that t.test is in the package, ctest, which should be
installed automatically.  I did some checking as to why I had the problem.
First, ctest was not on the search path when I start up R; library(ctest)
gave me access to ctest, thereby solving the problem at a practical level,
but it did not explain why I had the problem.  I found that I had defined
a .First function in the Rprofile file in rw1031\etc.  Apparently this
function masked or otherwise disabled the .First function in
rw1031\library\base\R\Rprofile; the latter .First function loads ctest, so
my .First function in rw1031\etc\Rprofile prevented the loading of ctest.
Once I removed the .First function from rw1031\etc\Rprofile, t.test was
accessible as were other objects in ctest.

Thanks,

John

--------------------------------------------------------------------
John Miyamoto                           |
Department of Psychology, Box 351525    |  If ignorance is bliss,
University of Washington                |  why are so many people
Seattle, WA 98195-1525.                 |  unhappy?
Phone: 206-543-0805, Fax: 206-685-3157  |
Email: jmiyamot at u.washington.edu        |
--------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  1 01:30:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Nov 2001 01:30:23 +0100
Subject: [R] seg fault with mclust
In-Reply-To: <Pine.LNX.4.33.0110312333370.12075-100000@tal.stat.umu.se>
References: <Pine.LNX.4.33.0110312333370.12075-100000@tal.stat.umu.se>
Message-ID: <x2k7xbnxi8.fsf@blueberry.kubism.ku.dk>

G?ran Brostr?m <gb at stat.umu.se> writes:

> > > Another oddity with RedHat gcc: RH7.2 comes with "gcc3" which claims to be 
> > > gcc 3.0.2; but, it was released _before_ gcc 3.0.2 was released at 
> > > gcc.gnu.org! 
> > > 
> > > G?ran 
> > 
> > Mmmno..? According to the web sites, the announcement of gcc 3.0.2 was
> > on Oct 25 and RH 7.2 on the 26th. 
> 
> Really? RH 7.2 was available at Sunet (ftp.sunet.se) on the 22nd.
> And I installed it on one of my computers a day or two later.

No, my bad... the RH announcement is dated 22nd. The thing on the web
site is a followup.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From freud at starpower.net  Thu Nov  1 01:59:21 2001
From: freud at starpower.net (Brett Magill)
Date: Wed, 31 Oct 2001 19:59:21 -0500
Subject: [R] cor.test for a correlation matrix
Message-ID: <001b01c16270$71ce76e0$22312c42@freud>

Is there a simple way to run cor.test on for a matrix of correlations?

Of course, cor on a data frame produces a correlation matrix, but cor.test will only take two variables at a time.  Is there a way to get behavior similar to that of cor with cor.test?

I suppose the programming alternative would be to run two for loops with the number of items and cor test embedded accessing the columns of the data frame.  

Is there a simpler way?

Thanks,

Brett
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011031/21f0f50b/attachment.html

From janef at stat.berkeley.edu  Thu Nov  1 03:43:40 2001
From: janef at stat.berkeley.edu (Jane Fridlyand)
Date: Wed, 31 Oct 2001 18:43:40 -0800
Subject: [R] image function
Message-ID: <3BE0B6DC.3C595908@stat.berkeley.edu>


Hi,

I am trying  to use image() function in R and  for the set  of the
x-locations I am providing, it keeps giving me an error:

Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

I have looked over the cases  which inclusion causes the message  but
could not identify the problem. I did notice that it does not l accept
non-unique x-values (the  other message was about ascending order ) and
removed those. I know that the error is due to "x-values" since when i
supply arbitrary equally spaces locations, the function works fine.

Any ideas what the error message i get may refer to?

Thank you!
Jane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov  1 09:43:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 08:43:02 +0000 (GMT)
Subject: [R] image function
In-Reply-To: <3BE0B6DC.3C595908@stat.berkeley.edu>
Message-ID: <Pine.LNX.4.31.0111010839100.12658-100000@gannet.stats>

On Wed, 31 Oct 2001, Jane Fridlyand wrote:

> I am trying  to use image() function in R and  for the set  of the
> x-locations I am providing, it keeps giving me an error:
>
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> I have looked over the cases  which inclusion causes the message  but
> could not identify the problem. I did notice that it does not l accept
> non-unique x-values (the  other message was about ascending order ) and
> removed those. I know that the error is due to "x-values" since when i
> supply arbitrary equally spaces locations, the function works fine.
>
> Any ideas what the error message i get may refer to?

It's from the C code in plot3d.c.  It happens if

1) x or y is of length 0.
2) any element of x or y is not finite (infinite or NA or NaN)
3) the x or y values are not strictly increasing.

My guess is that you have 2, but debug image.default and print x and y
just prior to the .Internal call to find out.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Nov  1 10:30:23 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 1 Nov 2001 09:30:23 +0000 (GMT)
Subject: [R] image function
In-Reply-To: <3BE0B6DC.3C595908@stat.berkeley.edu>
Message-ID: <Pine.LNX.4.10.10111010929180.4123-100000@localhost.localdomain>

> 
> I am trying  to use image() function in R and  for the set  of the
> x-locations I am providing, it keeps giving me an error:

Here is an example for you to follow.

Suppose you have a datafile in this form:
x y z
1 1 1 
1 2 2
1 3 5
2 1 3
2 2 9
2 3 2
3 1 8
3 2 4
3 3 7

data<-read.table("rstuff/data.dat",header=TRUE)
image(unique(data$x),unique(data$y),data$z, col=gray(19:0/19))

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov  1 10:32:52 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 01 Nov 2001 10:32:52 +0100
Subject: [R] t.test
Message-ID: <3.0.32.20011101103252.008fc100@162.38.183.200>

At 10:47 01/11/01 +1300, you wrote:
>I think both are in the ctest package which is installed automatically
when you install R.  I do not have this problem and I ma running R 1.3.1 on
Windows too.
>
>As for your second question, it is in CRAN.  Once you get to the CRAN main
page (http://cran.r-project.org/), you should see a table and under "All
Platforms" there is this line:
>  Download the source code of the latest release: R-1.3.1.tgz (or read
what's new in the latest version). 
>click on "new" which is a hyperlink that shall direct you to see the changes.

You can also look at the archives of the "r-announce" mailing list: Peter
posts on this list the announcement of the release of each new version of
R. His message lists what's new in the release. The URL is:

http://www.R-project.org/mail.html


Emmanuel Paradis

>Cheers,
>
>Ko-Kang Wang
>
>---------------------------------------------------------------------------
---
>Ko-Kang Kevin Wang
>Statistical Analysis Division Leader
>Software Developers' Klub (SDK)
>University of Auckland
>New Zealand
>
>-----Original Message-----
>From: owner-r-help at stat.math.ethz.ch
>[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of John Miyamoto
>Sent: Thursday, November 01, 2001 9:53 AM
>To: R discussion group
>Subject: [R] t.test
>
>
>Dear R-users,
>   I am learning to use R 1.3.1 on a Pentium running Windows '98.  I'm
>puzzled that several statistical procedures, t.test and chisq.test, do not
>appear to be available on R version 1.3.1.  For example, if I type
>"t.test", I get the reply, "Object "t.test" not found".  Is there a
>package that I have to load in order to have access to these procedures,
>or have they been dropped from the R program?  On a related question, is
>there a web site that lists changes from one version of R to the next?  I
>tried unsuccessfully to find such a list at the CRAN website.
>
>John
>
>--------------------------------------------------------------------
>John Miyamoto                           |
>Department of Psychology, Box 351525    |  If ignorance is bliss,
>University of Washington                |  why are so many people
>Seattle, WA 98195-1525.                 |  unhappy?
>Phone: 206-543-0805, Fax: 206-685-3157  |
>Email: jmiyamot at u.washington.edu        |
>--------------------------------------------------------------------
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov  1 10:36:02 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 1 Nov 2001 09:36:02 +0000
Subject: [R] Applicability of "Programming with Data" Text
In-Reply-To: <Pine.LNX.4.33.0110311922400.32496-100000@mulligan.atm.ox.ac.uk>
References: <Pine.LNX.4.33.0110311922400.32496-100000@mulligan.atm.ox.ac.uk>
Message-ID: <0td1DBACeR47EwAh@myatt.demon.co.uk>

Randall Skelton <rhskelto at atm.ox.ac.uk> writes:

>Before I consider purchasing it, can someone comment on the general
>applicability of John Chambers' book titled "Programming with Data" for R
>programming.  I am currently using R-1.3.1 with the Omega SLanguage and
>RSMethod packages.

If you are in a situation where you want to buy one good book on R
programming then I think 'Programming with Data' might disappoint. It
does have some strong points particularly on getting data in odd formats
into R/S. I find the text a little abstract and the examples quite S-
Plus specific. I find:

        Venables, W.N., Ripley, B.D., ?S Programming?, Springer, New
        York, 2000

better and:

        Krause A., Olson M., ?The Basics of S and S-Plus (Second
        Edition)?, Springer, New York, 2000

Is a pretty good basic text.

Just my tuppence.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov  1 10:41:34 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 01 Nov 2001 10:41:34 +0100
Subject: [R] cor.test for a correlation matrix
Message-ID: <3.0.32.20011101104133.008f9a40@162.38.183.200>

At 19:59 31/10/01 -0500, "Brett Magill" wrote: 
>>>>
Is there a simple way to run cor.test on for a  matrix of correlations?  Of
course, cor on a data frame produces a  correlation matrix, but cor.test
will only take two variables at a time.   Is there a way to get behavior
similar to that of cor with  cor.test?  I suppose the programming
alternative would be to  run two for loops with the number of items and cor
test embedded accessing  the columns of the data frame.    Is there a
simpler way?  Thanks,  Brett 


A solution was posted on r-help some time ago by Bill Venables: here is his
message.

Emmanuel Paradis
-----------------------------------
To: "Pete St. Onge" <pete at seul.org>
CC: r-help at stat.math.ethz.ch
Subject: Re: [R] correlation matricies: getting p-values? 
Date: Tue, 04 Jan 2000 15:05:39 +1000
From: Bill Venables <William.Venables at cmis.CSIRO.AU>
Sender: owner-r-help at stat.math.ethz.ch
Content-Length: 3025

> I have to admit that I'm at a bit of a loss here; any pointers would be
> greatly appreciated.
> 
> I've been making correlation matricies from some of my datasets, and
> have been instructed to get the probability values for each of these
> correlations.

To be precise I take it this means the significance probability,
that is the chance of getting a value of the correlation as far
from zero in absolute value or more so as the one you got...

> 
> I've checked the online help for info on both the cor and cov functions,
> but I was unable to find any relevant info on finding how to obtain
> these probability values. 

The connexion between r and t is known to be

    t = r*sqrt(n - 2)/(1 - r^2)

that is, F = t^2 = r^2*(n-2)/(1 - r^2) ~ F(1, n-2)

This allows you to find the probabilities in a line or two of code.
Here is the calculation as a function that puts the correlations
below the diagonal and the significance probabilities above.

cor.prob <- function(X, dfr = nrow(X) - 2) {
	 R <- cor(X)
	 above <- row(R) < col(R)
	 r2 <- R[above]^2
	 Fstat <- r2 * dfr / (1 - r2)
	 R[above] <- 1 - pf(Fstat, 1, dfr)
	 R
}

> X <- matrix(rnorm(1000), 200, 5)
> cor.prob(X)
          [,1]      [,2]     [,3]      [,4]    [,5]
[1,]  1.000000  0.359702 0.872159  0.296850 0.07346
[2,] -0.065106  1.000000 0.111743  0.569198 0.41012
[3,] -0.011450  0.112807 1.000000  0.386409 0.47407
[4,]  0.074129  0.040488 0.061574  1.000000 0.40357
[5,]  0.126853 -0.058560 0.050906 -0.059382 1.00000

You can spot-check the results by regression, for example:

> X <- as.data.frame(X)
> names(X)
[1] "V1" "V2" "V3" "V4" "V5"
> summary(lm(V2 ~ V1, X))

....

Residual standard error: 1 on 198 degrees of freedom
Multiple R-Squared: 0.00424,	Adjusted R-squared: -0.00079 
F-statistic: 0.843 on 1 and 198 degrees of freedom,	p-value: 0.36 

-------

The final p-value compares with  0.359702 in the 1,2 position of
the matrix.

This assumes you have a common degrees of freedom (n-2) for all
correlations in the table.  If you are using something like
"pairwise deletion" of missing values you have a bit more work to
do (and I hope your matrix comes out as positive definite - there
is no guarantee it will).

-- 
-----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  1 10:50:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Nov 2001 10:50:04 +0100
Subject: [R] t.test
In-Reply-To: <3.0.32.20011101103252.008fc100@162.38.183.200>
References: <3.0.32.20011101103252.008fc100@162.38.183.200>
Message-ID: <x2itcux1kj.fsf@blueberry.kubism.ku.dk>

Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

> You can also look at the archives of the "r-announce" mailing list: Peter
> posts on this list the announcement of the release of each new version of
> R. His message lists what's new in the release. The URL is:
> 
> http://www.R-project.org/mail.html

...but actually, the Windows installation already has this stuff in
the News and Changes files in the rw1031 directory. You can read them
in WordPad.

The NEWS file also gets copied to
http://cran.r-project.org/src/base/NEWS
upon every release.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at maths.uwa.edu.au  Thu Nov  1 10:55:31 2001
From: rolf at maths.uwa.edu.au (Rolf Turner)
Date: Thu, 1 Nov 2001 17:55:31 +0800 (WST)
Subject: [R] Bug in identify() ?
Message-ID: <200111010955.RAA11464@salvia.maths.uwa.edu.au>


If I execute, e.g.

> x <- round(runif(20,0,1),2)
> y <- round(runif(20,0,1),2)
> plot(x,y,xlim=c(0,1),ylim=c(0,1))
> identify(x,y,n=1,plot=F)

then I get the index of the identified point printed in the
command window, and ***initially*** the index is NOT displayed
in the graphics window (which is the behaviour I had hoped
and expected to obtain by setting ``plot=F'').

BUT THEN if I lower and then raise the graphics window, poof!!!
the index appears, unwanted, in the plot.

I think a workaround is to issue the identify command
as

> identify(x,y,n=1,col=0)

but still, shouldn't the function work as advertized?

Version information:

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R

				cheers,

					Rolf Turner
					rolf at math.unb.ca

P. S.  I'm sending this message to r-help rather than submitting
a bug report, because when I previously tried the latter I was
met with a deafening silence, and I'm not at all sure that my
bug report got through --- I ***thought*** I had the address right,
and the message didn't bounce .....
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  1 12:25:32 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Nov 2001 12:25:32 +0100
Subject: [R] Bug in identify() ?
In-Reply-To: <200111010955.RAA11464@salvia.maths.uwa.edu.au>
References: <200111010955.RAA11464@salvia.maths.uwa.edu.au>
Message-ID: <x2elniwx5f.fsf@blueberry.kubism.ku.dk>

Rolf Turner <rolf at maths.uwa.edu.au> writes:

> P. S.  I'm sending this message to r-help rather than submitting
> a bug report, because when I previously tried the latter I was
> met with a deafening silence, and I'm not at all sure that my
> bug report got through --- I ***thought*** I had the address right,
> and the message didn't bounce .....

You can always check that a bug report arrived by checking
http://bugs.r-project.org. Once in there, someone will take a look
eventually and move it to the relevant category (say "Graphics") and
eventually to "Graphics-fixed". We don't do automated replies on
receipt (should we?).

This particular item doesn't seem to be in there, though. Please
resubmit to r-bugs at r-project.org. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Thu Nov  1 14:44:49 2001
From: jmc at research.bell-labs.com (John Chambers)
Date: Thu, 01 Nov 2001 08:44:49 -0500
Subject: [R] Applicability of "Programming with Data" Text
References: <Pine.LNX.4.33.0110311922400.32496-100000@mulligan.atm.ox.ac.uk>
Message-ID: <3BE151D1.C6F3838E@research.bell-labs.com>

Randall Skelton wrote:
> 
> Hello,
> 
> Before I consider purchasing it, can someone comment on the general
> applicability of John Chambers' book titled "Programming with Data" for R
> programming.  I am currently using R-1.3.1 with the Omega SLanguage and
> RSMethod packages.
> 
> Many thanks,
> Randall
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

A couple of clarifications, since you mention RSMethods.

1.  The methods package has been moved from Omegahat into the
development version (not the standard version) of R, as package
"methods".  You currently get it when downloading the development
version of R, and the SLanguage package isn't needed to run it.

The RSMethods package is still there, but you're better off using
r-devel if you can, since that is the up-to-date version.  Omegahat will
likely get back in the picture later on, as we move ahead to new ideas
for both R and S-Plus, beyond what's in "Programming with Data".

2.  Discussion of the new methods package is on the r-devel list, since
it's not part of standard R.  Postings should go there, not to r-help. 
(Look for a posting on the latest changes, in the next few days.)

So then, Programming with Data.  We've been using it as the API for the
methods package. The description in the book is the target, as far as
reasonable, for what users of the R package should see.  (It's also true
that some of the other new things in Programming with Data are reflected
in r-devel).  My (perhaps biased?) recommendation is that it would be
good to use if you want to work with the methods package.

The book is definitely _not_ a description of R 1.3; it describes a
version of S written at Bell Labs and forming the basis for the current
version of S-Plus.  As general guides to R, the books by Venables and
Ripley, and other introductions, would be better.

Regards,
 John Chambers
-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mvgelder at vt.edu  Thu Nov  1 16:06:17 2001
From: mvgelder at vt.edu (Maarten van Gelder)
Date: Thu, 01 Nov 2001 10:06:17 -0500
Subject: [R] Stratified study.
Message-ID: <5.1.0.14.0.20011031143547.00a694b0@mail.vt.edu>

Hello,

I am analyzing the results of a survey of the student body on the use of 
certain technologies. The student body was divided in strata according to 
two criteria, college and user class. The resulting 24 strata were sampled. 
Subjects filled out a survey with a number of questions, most of them of 
the yes-no variety. I created a data.frame with the results for the survey. 
One row for each subject, one column for each question. Additional columns 
are for a subject identifier, college, and user class. The 'yes' and 'no' 
responses were represented by '1' and '0' respectively. The other responses 
were already numeric.

The design is that of a stratified random sampling with unequal weights. I 
created a weight vector 'wt' with the weight for each observation 
(subject), from the total population, the stratum size, and the number of 
subjects in each stratum. Using the weighted.mean procedure, I calculated 
the mean for each question. Per strata means I can calculate with the 
aggregate function. This is about as far as my knowledge of statistics and 
of R has taken me. I am not sure how to go about testing for a stratum 
effect (on a per question basis, or across all questions), or pair wise 
comparisons between strata (e.g. are there proportionally more laptop 
owners among the undergraduate engineering students than among their peers 
in architecture). I would greatly appreciate it if someone could steer me 
in the right direction.

Thank you,

Maarten.

M. F. van Gelder
Network Analyst
Communications Network Services
Virginia Polytechnic Institute & State University
1700 Pratt Dr, Blacksburg VA 24061
Voice: (540)231-4146;  Fax: (540)231-3928;  E-mail: mvgelder at vt.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.milkosky at xpedite.com  Thu Nov  1 16:29:35 2001
From: c.milkosky at xpedite.com (Chris Milkosky)
Date: Thu, 1 Nov 2001 10:29:35 -0500
Subject: [R] More of a stats question I suppose...
Message-ID: <NEEALIKPCPOEAMABNNLLOELECOAA.c.milkosky@xpedite.com>

Hi all.  Sorry to post this here, but I figure that you may know the answer to my question...

I analyze data sets very frequently, and it becomes cumbersome to try to find sustained peaks (my def - high points that exist for
about 6 minutes or more - 3 poll intervals) in these data sets all the time.  Right now I graph the data and then look for what
looks to be a sustained peak and then go to the raw data itself to make the determination.  I'm actually embarassed to say that I do
that because it is SO time consuming and I'm sure there are other ways.  I just haven't had the time to explore them.  Well, now
it's becoming more critical.

So, here's my question - can anyone suggest a good method using R to analyze a set of data that consists of time (polled every 2
minutes) and values at that time, so that I can just plop the data set in, and then have R find sustained peaks?  Maybe then it can
report them to me, or just point out the poll intervals where they occurred...  Or something like that...

Any ideas?  Does my question make sense? =)

Thanks in advance.  I'd really appreciate any help I can get on this.

Chris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ip19 at unt.edu  Thu Nov  1 16:47:12 2001
From: ip19 at unt.edu (Joel Allen)
Date: Thu, 01 Nov 2001 09:47:12 -0600 (CST)
Subject: [R] textConnection
Message-ID: <1004629632.3be16e805091e@eaglemail.unt.edu>

List Members,

I am using R 1.3.1 for windows and trying to capture the output of some 
summaries using textConnection.  I then want to incorporate the text with 
summary graphics output.  The code below works (captures the output) when it is 
not used in a loop or function.  When placed in a loop or function, the cat 
outputs are captured to 'foo' but the summary outputs are not.  The help 
mentions something about writing to the user's environment but I'm afraid I 
don't know enough to know if this is the problem.  Any help would be 
appreciated.

aov.diagnostic <- function(x)
{
dat.tmp <- na.exclude(cbind(Time,Site,get(x)))
layout(matrix(c(1,5,2,5,3,5,4,5),4,2,T), c(2,2), T)
interaction.plot(dat.tmp[,1],dat.tmp[,2],dat.tmp[,3],fun=median,type='p',pch=c('
C','1','3'),col=seq(1:3),legend=F,xlab=dimnames(dat.tmp)[[2]][1],ylab=paste('med
ian(',x,')',sep=''))
title(paste('Interaction Plot ',x,', Time*Site',sep=''))
par(new=T)
interaction.plot(dat.tmp[,1],dat.tmp[,2],dat.tmp[,3],fun=median,na.rm=T,pch=c('C
','1','3'),col=seq(1:3),legend=F,xlab='',ylab='')
dat <- get(x)
tmp.aov <- aov(dat~Time*Site)
hist(resid(tmp.aov),xlab=paste('resid(',x,'.aov)',sep=''))
qqnorm(resid(tmp.aov))   
plot(fitted(tmp.aov),resid(tmp.aov),xlab=paste('fitted(',x,'.aov)',sep=''),ylab=
paste('resid(',x,'.aov)',sep=''))
title('Fitted vs. Reduals')
plot(seq(0,28),seq(0,28),type='n',axes=F,xlab="",ylab="")
zz <- textConnection("foo", "w")
sink(zz)
cat('Diagnostics and Summary\n')
shapiro.test(get(x))
bartlett.test(get(x),Site)
bartlett.test(get(x),Time)
cat(paste('ANOVA ',x,'~Time*Site\n',sep=''))
summary(tmp.aov)
sink()
close(zz)
print(length(foo))
for(y in 0:(length(foo)-1))# by=.1){
print(y)
print(foo[y+1])
text(3,(length(foo)-y),foo[y+1],pos=4,cex=0.75)
}
mtext(paste('ANOVA and Diagnostics for ',trfm,' ',x,sep=''),side=3,outer=T)
}

Thanks,

Joel Allen
Institute of Applied Sciences
University of North Texas
hjallen at unt.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov  1 17:39:03 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 1 Nov 2001 08:39:03 -0800 (PST)
Subject: [R] textConnection
In-Reply-To: <1004629632.3be16e805091e@eaglemail.unt.edu>
Message-ID: <Pine.A41.4.33.0111010837500.28952-100000@homer31.u.washington.edu>

On Thu, 1 Nov 2001, Joel Allen wrote:

> List Members,
>
> I am using R 1.3.1 for windows and trying to capture the output of some
> summaries using textConnection.  I then want to incorporate the text with
> summary graphics output.  The code below works (captures the output) when it is
> not used in a loop or function.  When placed in a loop or function, the cat
> outputs are captured to 'foo' but the summary outputs are not.  The help
> mentions something about writing to the user's environment but I'm afraid I
> don't know enough to know if this is the problem.  Any help would be
> appreciated.

No, the problem is something else (actually a FAQ)

The summary() function doesn't print any output, which is why nothing is
captured.  To print a summary use print(summary(object)).


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov  1 17:48:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 1 Nov 2001 08:48:53 -0800 (PST)
Subject: [R] More of a stats question I suppose...
In-Reply-To: <NEEALIKPCPOEAMABNNLLOELECOAA.c.milkosky@xpedite.com>
Message-ID: <Pine.A41.4.33.0111010844370.28952-100000@homer31.u.washington.edu>

On Thu, 1 Nov 2001, Chris Milkosky wrote:

> Hi all.  Sorry to post this here, but I figure that you may know the answer to my question...
>
> I analyze data sets very frequently, and it becomes cumbersome to try to find sustained peaks (my def - high points that exist for
> about 6 minutes or more - 3 poll intervals) in these data sets all the time.  Right now I graph the data and then look for what
> looks to be a sustained peak and then go to the raw data itself to make the determination.  I'm actually embarassed to say that I do
> that because it is SO time consuming and I'm sure there are other ways.  I just haven't had the time to explore them.  Well, now
> it's becoming more critical.
>
> So, here's my question - can anyone suggest a good method using R to analyze a set of data that consists of time (polled every 2
> minutes) and values at that time, so that I can just plop the data set in, and then have R find sustained peaks?  Maybe then it can
> report them to me, or just point out the poll intervals where they occurred...  Or something like that...
>

Suppose x is your series and you want to find more than LONG consecutive
values equal to HIGH or greater

p<-cumsum(x>HIGH)
padding<-rep(0,LONG)
longpeaks<-which(c(padding,p)+LONG==c(p,padding))

longpeaks now contains the index of the start of each long peak (in fact
it contains all but the first LONG-1 indices of each long peak, but that
shouldn't matter).

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Nov  1 18:00:25 2001
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Thu, 01 Nov 2001 13:00:25 -0400
Subject: [R] Matrix multiplication ...
References: <200110291421.f9TELrA01140@srv9-sao.sao.terra.com.br>
Message-ID: <3BE17FA9.CFFA1C22@acadiau.ca>

I know that %*% is used for matrix multiplication.  However, if I
multiply t(Y) %*% Y, where Y is an n by 1 vector, then the product is a
scalar.  However, if I
multiply this scalar by a matrix, I get a non-conformability error.

Suggestions?

John.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Nov  1 18:19:00 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 12:19:00 -0500
Subject: [R] Matrix multiplication ...
References: <200110291421.f9TELrA01140@srv9-sao.sao.terra.com.br> <3BE17FA9.CFFA1C22@acadiau.ca>
Message-ID: <3BE18404.89D3C40B@bank-banque-canada.ca>

>I know that %*% is used for matrix multiplication.  However, if I
>multiply t(Y) %*% Y, where Y is an n by 1 vector, then the product is
>a scalar.

No, it is a 1 x 1 matrix.  c(t(Y) %*% Y) is a scalar and should work:

> Y <- matrix(1:5,5,1)
> t(Y) %*% Y
     [,1]
[1,]   55
> is.matrix(t(Y) %*% Y)
[1] TRUE
> is.matrix(c(t(Y) %*% Y))
[1] FALSE

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lorenmc at socrates.berkeley.edu  Thu Nov  1 20:12:40 2001
From: lorenmc at socrates.berkeley.edu (loren mccarter)
Date: Thu, 1 Nov 2001 11:12:40 -0800 (PST)
Subject: [R] Re: [Omega-help] RSPython_0.3.0 on FreeBSD 4.*:
In-Reply-To: <20011101114036.A25083@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.21.0111011024260.24438-100000@socrates.Berkeley.EDU>

Thanks for your help Duncan. Your last comment helped me to figure
out what FreeBSD was doing differently than Linux/Solaris. This fix worked
on a machine with Python 2.1, R 1.3.1 and FreeBSD 4.1. Here are the
details: 

The pthreads fix: I added '-lc_r' to the PKG_LIBS  definition in
src/Makevars.in. The FreeBSD 'man pthread' page suggests that adding
-pthread to the gcc statement (as opposed to -lpthread) will tell gcc to
use libc_r instead of libc to find pthreads (see more on pthread man page
in previous emails below). This did not work for me, but using '-lc_r' did
work. libc_r is located  in /usr/lib on my machine. This got me to the
state you describe below where 'openpty' was missing. The fix you
described worked for me also. After editing src/Makevars.in to add
-lutil, the following command worked for the install: 

    R INSTALL -c RSPython

library(RSPython) reported no errors. I ran example(.Python) and
example(.PythonPath) and they both worked fine. 


Some miscellaneous notes about FreeBSD and this Package: 

  --with-threads: Using the configure-arg 'with-threads' resulted in the
following error on FreeBSD:

gcc -shared  -o RSPython.so GeneralConverters.o PythonCall.o
PythonFunctionConverters.o PythonReferences.o PythonReflectance.o RCall.o
RPythonConverters.o RPythonReferences.o UserConverters.o -L/usr/local/lib
-L/usr/local/lib/python2.1/config -lpython2.1 -L/usr/local/lib/R/bin
-lpthread -lc_r -lutil 
/usr/libexec/elf/ld: cannot find -lpthread
*** Error code 1

  Replacing '-lpthread' with '-pthread' in configure* (i.e., configure.in)
fixes the error message, but pthreads are still undefined in
RSPython.so unless -lc_r is an argument to gcc. I don't know much more
about why this is the case. 

  --without-threads: For some reason, specifying --without-threads also
includes -lpthread as an argument to gcc. The statement I'm using is: 

    R CMD INSTALL --configure-args='--without-threads' -c RSPython


  ldd and objdump: In trying to find out about the dependencies of
RSPython.so, I had difficulty getting the dependency list from objdump
that ldd provides. On FreeBSD, ldd works on a.out and elf executables but
not elf shared libraries (at least that's all I could seem to find on the
topic).

Thanks again for your help! It appears to be working fine. 

Loren


On Thu, 1 Nov 2001, Duncan Temple Lang wrote:

> 
> The installation of Python2.2b1 was painless and easy, so I did that
> and then installed RSPython. I got amlost the same error message that
> you did, except mine was for a slightly different symbol in
> libpthread.so and we expect the order of the symbol resolution might
> be different on FreeBSD and Yellow Dog Linux.
> 
> So, then I tried adding the --with-threads to the configuration options
> for the RSPython, i.e.
>    R CMD INSTALL --configure-args='--with-threads' RSPython
> and that got me one step closer. Loading the RSPython
> library gave me an error about the missing symbol `openpty'.
> On my system, that is in /usr/lib/libutil.so, so I modified
> the src/Makevars.in file in the RSPython distribution
> and appended  
>    -lutil 
> to the definition of PKG_LIBS.
> 
> Then, I did I reinstallation and RSPython loaded as expected, and even
> works as expected! 
> 
> I'll look into how autoconf should figure out if libutil.so is needed.
> 
> Please let me know if this sorts things out on FreeBSD.
>  D.
> 
> Duncan Temple Lang wrote:
> > 
> > Hi Loren.
> > 
> >  So I'm not clear whether you did the install using the --with-threads argument to
> > configure, i.e.
> >   R CMD INSTALL --configure-args='--with-threads' RSPython
> > and hence end up with a link command that included -lpthread?
> > 
> >  On Linux and Solaris, ldd will tell me what other dependent shared
> > libraries will be loaded when I load RSPython.so.  Does the FreeBSD
> > equivalent (objdump -xtT) mention libpthread.so at all?
> > 
> >  I haven't actually tried this package with Python 2.1 yet. Perhaps
> > this could be related to this. I'll try to find time to install using
> > 2.1.
> > 
> >  This shouldn't be too hard to fix, just a matter of getting the
> > linking command correct. Can you send me the output from the R CMD
> > INSTALL so that I can look at the link step. Thanks.
> > 
> >   D.
> > 
> > 
> > 
> > loren mccarter wrote:
> > > I'm trying to install RSPython for use with R-1.3.1 on FreeBSD 4.4. The R
> > > INSTALL process appears to go smoothly, but when I call RSPython in R
> > > "library(RSPython)" I get the following: 
> > > 
> > >   Error in dyn.load(x, as.logical(local), as.logical(now)) : 
> > >   	unable to load shared library
> > >   "/usr/local/lib/R/library/RSPython/libs/RSPython.so":
> > >     /usr/local/lib/R/library/RSPython/libs/RSPython.so: Undefined symbol
> > >   "pthread_create"
> > >   Error in library(RSPython) : .First.lib failed
> > > 
> > > I've peeked into RSPython.so using 'nm -g' and 'objdump -xtT' (ldd for
> > > elf files on FreeBSD) and the pthread symbols are undefined. In the
> > > FreeBSD man pages (see excerpts below), there's some detail about pthread
> > > that led me to try using '-pthread' rather than -lpthread as an option to
> > > gcc. I also tried configure --without-threads but none of these seemed to
> > > fix the problem. Note that there's also an warning from gcc during
> > > compilation process that may be relevant because it's about POSIX THEADS: 
> > > 
> > > $ gcc -I/usr/local/lib/R/include -I../inst/include
> > >   -I/usr/local/include/python2.1 -D_R_=1 -DUSE_R=1 -I/usr/local/include
> > >   -mieee-fp  -fPIC  -g -O2 -c PythonReferences.c -o PythonReferences.o
> > > In file included from /usr/include/unistd.h:42,
> > >                  from PythonReferences.c:7:
> > > /usr/include/sys/unistd.h:71: warning: `_POSIX_THREADS' redefined
> > > 
> > > 
> > > Thanks for any help you can provide!
> > > 
> > > Loren
> > > 
> > > 
> > > MAN PAGE ENTRIES BELOW: 
> > > 
> > > >From 'man pthread':
> > > 
> > > INSTALLATION
> > > 
> > >   The current FreeBSD POSIX thread implementation is built in the library
> > >   libc_r which contains both thread-safe libc functions and the thread
> > >   functions.  This library replaces libc for threaded applications.
> > > 
> > >   By default, libc_r is built as part of a 'make world'.  To disable the
> > >   build of libc_r you must supply the '-DNOLIBC_R' option to make(1).
> > > 
> > >   A FreeBSD specific option has been added to gcc to make linking threaded
> > >   processes simple.  gcc -pthread links a threaded process against libc_r
> > >   instead of libc.
> > > 
> > > >From 'man gcc':
> > > 
> > >     -pthread
> > >               Link a user-threaded process against libc_r instead
> > >               of libc. Objects linked into user-threaded process-
> > >               es should be compiled with -D_THREAD_SAFE.
> > > 
> > > 
> > > _______________________________________________
> > > Omega-help maillist  -  Omega-help at www.omegahat.org
> > > http://www.omegahat.org/mailman/listinfo/omega-help
> > 
> > -- 
> > _______________________________________________________________
> > 
> > Duncan Temple Lang                duncan at research.bell-labs.com
> > Bell Labs, Lucent Technologies    office: (908)582-3217
> > 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> > Murray Hill, NJ  07974-2070       
> >          http://cm.bell-labs.com/stat/duncan
> > _______________________________________________
> > Omega-help maillist  -  Omega-help at www.omegahat.org
> > http://www.omegahat.org/mailman/listinfo/omega-help
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Thu Nov  1 22:39:25 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Thu, 1 Nov 2001 16:39:25 -0500 (EST)
Subject: [R] Lost backslashes in parse()
Message-ID: <200111012139.fA1LdPO03593@arbres1a.FMR.Com>

I'm comparing R-1.3.0 on Solaris 2.6 to R-1.3.1 on WindowsNT.  The following
5-line script returns TRUE on Unix but FALSE on NT:

fnam <- tempfile()
file.create(fnam)
txt <- paste("file.exists(\"", fnam, "\")", sep="")
expr <- parse(text=txt)
eval(expr)

The issue seems to be that backslashes get lost in the parsing.  A workaround
is to change the 3rd line to the rather ugly:
  txt <- paste("file.exists(\"", gsub("\\\\","\\\\\\\\",fnam), "\")", sep="")

Do you think this is something parse() should handle better?  If not, would it
be preferable for tempfile() to return a forward-slash filename on NT?  How
else could you make this script return TRUE on NT?  Thanks!

			   -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschultz at foxboro.com  Thu Nov  1 22:53:47 2001
From: mschultz at foxboro.com (Schultz, Mark R)
Date: Thu, 1 Nov 2001 16:53:47 -0500 
Subject: [R] Interrupted Time Series Analysis
Message-ID: <3F613FAD0EA1C84EBA5D34C3B4EBA94F2B7EB8@ips-dc80-xch>

Frequently one is interested in comparing the underlying model of a time
series
before and after an event has occured which is supposed to have changed the
fundamental
process which generated the series. Does anyone know if there is a r-package
which
does this?
Mark Schultz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu Nov  1 23:08:31 2001
From: york at noaa.gov (Anne York)
Date: Thu, 1 Nov 2001 14:08:31 -0800 (PST)
Subject: [R] overly light printing HP 8000 
Message-ID: <Pine.GSO.4.05.10111011338500.18281-100000@ofis450a.akctr.noaa.gov>

Points, axes and  axes labels on graphs  printed from R are very
light- almost unreadable.  I am using the gui interface on the windows
version to print the plot on the screen to an HP 8000 set as a postscript
printer or PCL printer; the postscript output is light and the PCL output
is very light. If I specify lwd =2 in the plot command, the lines are
readable, but the points (open circles, in this case) also appear to have
been generated with thick pen.

If I start a postscript device, generate the plot, and print it, the output
quality is good.

I've played with the printer settings, to no avail. Generating the same
plot and printing from the gui in Splus results in readable output.

           
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R   

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  2 00:26:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 1 Nov 2001 15:26:21 -0800 (PST)
Subject: [R] Lost backslashes in parse()
In-Reply-To: <200111012139.fA1LdPO03593@arbres1a.FMR.Com>
Message-ID: <Pine.A41.4.33.0111011523520.28952-100000@homer31.u.washington.edu>

On Thu, 1 Nov 2001, David Brahm wrote:

> I'm comparing R-1.3.0 on Solaris 2.6 to R-1.3.1 on WindowsNT.  The following
> 5-line script returns TRUE on Unix but FALSE on NT:
>
> fnam <- tempfile()
> file.create(fnam)
> txt <- paste("file.exists(\"", fnam, "\")", sep="")
> expr <- parse(text=txt)
> eval(expr)
>
> The issue seems to be that backslashes get lost in the parsing.  A workaround
> is to change the 3rd line to the rather ugly:
>   txt <- paste("file.exists(\"", gsub("\\\\","\\\\\\\\",fnam), "\")", sep="")
>
> Do you think this is something parse() should handle better?  If not, would it
> be preferable for tempfile() to return a forward-slash filename on NT?  How
> else could you make this script return TRUE on NT?  Thanks!
>

I don't understand why you are doing the paste and parse step, so I may
not be able to help properly, but it seems to be that


 fnam <- tempfile()
 file.create(fnam)
 file.exists(fnam)

would work. There are also functions to manipulate paths described in
help(file.path) and help(basename)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Nov  2 03:05:33 2001
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 1 Nov 2001 18:05:33 -0800
Subject: [R] png and jpeg libs for Solaris
Message-ID: <p0510100eb807acdb8a89@[128.115.153.6]>

I'm also having trouble installing R 1.3.1 on Solaris and getting png 
and jpeg support.
It looks like perhaps the png and jpeg libraries I installed weren't 
built with all the support R needs.
If that's the case I'd appreciate confirmation. Or perhaps there's 
something else I can do?
(with all the details I've included this message is rather long)

Thanks
-Don

I did make clean and removed config.cache before starting.

./configure reports:

checking for jpeglib.h... yes
checking if jpeglib version >= 6b... yes
checking for jpeg_destroy_compress in -ljpeg... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... yes
checking for png_create_write_struct in -lpng... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... yes

But:
>  capabilities()
     jpeg      png    tcltk      X11     libz http/ftp  sockets 
libxml     fifo   cledit
    FALSE    FALSE    FALSE     TRUE     TRUE     TRUE     TRUE 
TRUE     TRUE     TRUE
>  version
          _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

I have the png and jpeg libraries in a non-standard location, due to 
the peculiarities of our system. So I've edited config.site
   CPPFLAGS="-I/erd/statistic/apps/R/libs-2.7/include"
   LIBS="-L/erd/statistic/apps/R/libs-2.7/lib"
and this was successful for readline and libz support (I put the 
readline and libz libraries there also)

./configure also reports this:

configure:13630: checking for png.h
configure:13640: gcc -E -I/erd/statistic/apps/R/libs-2.7/include 
conftest.c >/dev/null 2>conftest.out
configure:13658: checking if libpng version >= 1.0.5
configure:13675: checking for png_create_write_struct in -lpng
configure:13694: gcc -o conftest -g -O2 
-I/erd/statistic/apps/R/libs-2.7/include  conftest.c -lpng -lnsl 
-lsocket -lreadline -ldl -ltermcap -lm 
-L/erd/statistic/apps/R/libs-2.7/lib -lnsl -lsocket -lreadline -ldl 
-ltermcap -lm -L/erd/statistic/apps/R/libs-2.7/lib 1>&5
Undefined			first referenced
  symbol  			    in file
deflateInit2_ 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwutil.o)
deflateReset 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwutil.o)
deflate 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwrite.o)
deflateEnd 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwrite.o)
inflateReset 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(png.o)
crc32 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(png.o)
ld: fatal: Symbol referencing errors. No output written to conftest

and the "nm" command on libpng.a confirms that those symbols are 
undefined. Do I just have a libpng that was built without everything 
R needs, or might there be something else?

configure's report on jpeg looks a little different

configure:13494: checking for jpeglib.h
configure:13504: gcc -E -I/erd/statistic/apps/R/libs-2.7/include 
conftest.c >/dev/null 2>conftest.out
configure:13522: checking if jpeglib version >= 6b
configure:13539: checking for jpeg_destroy_compress in -ljpeg
configure:13558: gcc -o conftest -g -O2 
-I/erd/statistic/apps/R/libs-2.7/include  conftest.c -ljpeg -lnsl 
-lsocket -lreadline -ldl -ltermcap -lm 
-L/erd/statistic/apps/R/libs-2.7/lib -lnsl -lsocket -lreadline -ldl 
-ltermcap -lm -L/erd/statistic/apps/R/libs-2.7/lib 1>&5
ld: fatal: library -ljpeg: not found
ld: fatal: File processing errors. No output written to conftest
collect2: ld returned 1 exit status
collect2: ld returned 1 exit status
configure: failed program was:
#line 13547 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
     builtin and then its argument prototype would still apply.  */
char jpeg_destroy_compress();

int main() {
jpeg_destroy_compress()
; return 0; }
configure:13597: checking for main in -lz
configure:13612: gcc -o conftest -g -O2 
-I/erd/statistic/apps/R/libs-2.7/include  conftest.c -lz  -lnsl 
-lsocket -lreadline -ldl -ltermcap -lm 
-L/erd/statistic/apps/R/libs-2.7/lib 1>&5
configure:13630: checking for png.h
configure:13640: gcc -E -I/erd/statistic/apps/R/libs-2.7/include 
conftest.c >/dev/null 2>conftest.out
configure:13658: checking if libpng version >= 1.0.5
configure:13675: checking for png_create_write_struct in -lpng
configure:13694: gcc -o conftest -g -O2 
-I/erd/statistic/apps/R/libs-2.7/include  conftest.c -lpng -lnsl 
-lsocket -lreadline -ldl -ltermcap -lm 
-L/erd/statistic/apps/R/libs-2.7/lib -lnsl -lsocket -lreadline -ldl 
-ltermcap -lm -L/erd/statistic/apps/R/libs-2.7/lib 1>&5
Undefined			first referenced
  symbol  			    in file
deflateInit2_ 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwutil.o)
deflateReset 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwutil.o)
deflate 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwrite.o)
deflateEnd 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(pngwrite.o)
inflateReset 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(png.o)
crc32 
/erd/statistic/apps/R/libs-2.7/lib/libpng.a(png.o)
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mscarr at excitehome.net  Fri Nov  2 03:19:21 2001
From: mscarr at excitehome.net (Mark Scarr)
Date: Thu, 1 Nov 2001 18:19:21 -0800
Subject: [R] User defined axis on image plots
In-Reply-To: <3BE01881.2DFEEDFB@bank-banque-canada.ca>
Message-ID: <000701c16344$c926e560$82121018@CORPNT.NET>

Hi All,

As a newbie to R I have the following question, which I couldn't
find an answer to in the documentation.

I have an x, y, z image plot of some data, where x and y are vectors
of the form x = c(1:nrow(z)), y = (1:ncol(z)). As a result this places
integer values on the X-axis, whereas they are in fact dates. I have
another string vector of dates which I would like to use on the X-axis
instead, suitably spaced and preferably vertical (rather than horizontal).

Any help would be most appreciated,

Thanks

Mark.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at maths.uwa.edu.au  Fri Nov  2 05:27:27 2001
From: rolf at maths.uwa.edu.au (Rolf Turner)
Date: Fri, 2 Nov 2001 12:27:27 +0800 (WST)
Subject: [R] Testing for the existence of a file.
Message-ID: <200111020427.MAA13021@salvia.maths.uwa.edu.au>


Is there any way to do this (test for the existence of a file)
in R?  In Splus (3.4) I can do

        unix(paste("test -r", fnm), output = F)

where ``fnm'' is a character string giving the pathname of the file.

This returns 0 if the file exists and 256 if it doesn't.

I thought in R to do something like

        system(paste("test -r", fnm), intern =T)

but this returns ``character(0)'' irrespective of the existence of
the file.

Any ideas?

					cheers,

						Rolf Turner
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Nov  2 08:02:15 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 02 Nov 2001 08:02:15 +0100
Subject: [R] Testing for the existence of a file.
References: <200111020427.MAA13021@salvia.maths.uwa.edu.au>
Message-ID: <3BE244F7.6F82B24D@statistik.uni-dortmund.de>



Rolf Turner wrote:
> 
> Is there any way to do this (test for the existence of a file)
> in R?  In Splus (3.4) I can do
> 
>         unix(paste("test -r", fnm), output = F)
> 
> where ``fnm'' is a character string giving the pathname of the file.
> 
> This returns 0 if the file exists and 256 if it doesn't.
> 
> I thought in R to do something like
> 
>         system(paste("test -r", fnm), intern =T)
> 
> but this returns ``character(0)'' irrespective of the existence of
> the file.

Try
  file.exists(fnm)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joerg.maeder at ethz.ch  Fri Nov  2 08:57:44 2001
From: joerg.maeder at ethz.ch (Joerg Maeder)
Date: Fri, 02 Nov 2001 08:57:44 +0100
Subject: [R] Testing for the existence of a file.
References: <200111020427.MAA13021@salvia.maths.uwa.edu.au>
Message-ID: <3BE251F8.AD91080D@ethz.ch>

hello

try this :  system('ls tmp.tmp',T)
it will return the filename (in this examplte tmp.tmp) if the file exist 
or character(0) if not

to change the return value to True/False you can use the following code

as.numeric(system('ls tmp.tmp |wc -l',T))>0

Rolf Turner wrote:
> 
> Is there any way to do this (test for the existence of a file)
> in R?  In Splus (3.4) I can do
> 
>         unix(paste("test -r", fnm), output = F)
> 
> where ``fnm'' is a character string giving the pathname of the file.
> 
> This returns 0 if the file exists and 256 if it doesn't.
> 
> I thought in R to do something like
> 
>         system(paste("test -r", fnm), intern =T)
> 
> but this returns ``character(0)'' irrespective of the existence of
> the file.
> 
> Any ideas?
> 
>                                         cheers,
> 
>                                                 Rolf Turner
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joerg.maeder at ethz.ch  Fri Nov  2 09:09:51 2001
From: joerg.maeder at ethz.ch (Joerg Maeder)
Date: Fri, 02 Nov 2001 09:09:51 +0100
Subject: [R] User defined axis on image plots
References: <000701c16344$c926e560$82121018@CORPNT.NET>
Message-ID: <3BE254CF.3B3ADFB0@ethz.ch>

hello,

for my example i used the following datas

z <- matrix(runif(20),5,4) #random datas
x <- c(1:nrow(z)); y <- (1:ncol(z))
xs <- letters[1:nrow(z)] # for the text labels

image(x,y,z,xaxt='n') # with xaxt='n' R doesn't write the x-axis
# now you can do it manually
text(x,par()$usr[3],xs,xpd=T,srt=90,adj=2) 
# par()$usr[3] gives the lowest y-value
# xpd=T allows printing ouside the inner region of the image
# srt=90 string rotation
# adj=2 the strings are adjusted at the rigth side and have a small
space to the defined place
#   adj=1 wouold adjust rigth without space, adj=.05 center adj=0 left
and so on
# you can do the same thing with the y-axis (yaxt='n', par()$usr[1] but
still xpd!)

tip: have a look to the help of par, there are many useful things.

gruess

joerg

Mark Scarr wrote:
> 
> Hi All,
> 
> As a newbie to R I have the following question, which I couldn't
> find an answer to in the documentation.
> 
> I have an x, y, z image plot of some data, where x and y are vectors
> of the form x = c(1:nrow(z)), y = (1:ncol(z)). As a result this places
> integer values on the X-axis, whereas they are in fact dates. I have
> another string vector of dates which I would like to use on the X-axis
> instead, suitably spaced and preferably vertical (rather than horizontal).
> 
> Any help would be most appreciated,
> 
> Thanks
> 
> Mark.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  2 09:17:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 08:17:30 +0000 (GMT)
Subject: [R] png and jpeg libs for Solaris
In-Reply-To: <p0510100eb807acdb8a89@[128.115.153.6]>
Message-ID: <Pine.LNX.4.31.0111020812100.2198-100000@gannet.stats>

On Thu, 1 Nov 2001, Don MacQueen wrote:

> I'm also having trouble installing R 1.3.1 on Solaris and getting png
> and jpeg support.
> It looks like perhaps the png and jpeg libraries I installed weren't
> built with all the support R needs.
> If that's the case I'd appreciate confirmation. Or perhaps there's
> something else I can do?
> (with all the details I've included this message is rather long)

For png, the symbol missing is not one the configure test is looking for,
so it seems your png library is incomplete.  I'd rebuild it.  It's also
strange since on Solaris it would be normal to have a shared library.

For jpeg, I think you are seeing a consequence of the incomplete libpng.a,
which you can't link *anything* against.  To stress this: it is not that
it is missing things R needs but that it is missing things it needs
itself.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  2 09:24:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 08:24:41 +0000 (GMT)
Subject: [R] Lost backslashes in parse()
In-Reply-To: <200111012139.fA1LdPO03593@arbres1a.FMR.Com>
Message-ID: <Pine.LNX.4.31.0111020821450.2198-100000@gannet.stats>

On Thu, 1 Nov 2001, David Brahm wrote:

> I'm comparing R-1.3.0 on Solaris 2.6 to R-1.3.1 on WindowsNT.  The following
> 5-line script returns TRUE on Unix but FALSE on NT:
>
> fnam <- tempfile()
> file.create(fnam)
> txt <- paste("file.exists(\"", fnam, "\")", sep="")
> expr <- parse(text=txt)
> eval(expr)
>
> The issue seems to be that backslashes get lost in the parsing.  A workaround
> is to change the 3rd line to the rather ugly:
>   txt <- paste("file.exists(\"", gsub("\\\\","\\\\\\\\",fnam), "\")", sep="")
>
> Do you think this is something parse() should handle better?  If not, would it
> be preferable for tempfile() to return a forward-slash filename on NT?  How

No!  It should be a name that Windows utilities can make use of, as it is
often used in conjunction with system or shell.  If you want a
forward-slash version, that is easy to do in R (and you will see examples
throughout the code).

> else could you make this script return TRUE on NT?  Thanks!

It seems to me that you just want file.exists(fam).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov  2 09:35:16 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Nov 2001 09:35:16 +0100
Subject: [R] cluster: "graph with circles"
In-Reply-To: <200110291421.f9TELrA01140@srv9-sao.sao.terra.com.br>
References: <200110291421.f9TELrA01140@srv9-sao.sao.terra.com.br>
Message-ID: <15330.23236.279296.639271@gargle.gargle.HOWL>

>>>>> "Ronaldo" == Ronaldo Reis <chrysopa at terra.com.br> writes:

    Ronaldo> Hi,
    Ronaldo> I have the graph below:

    Ronaldo> |                  422
    Ronaldo> |          1       321
    Ronaldo> |   1
    Ronaldo> |          1
    Ronaldo> |32   1
    Ronaldo> |23
    Ronaldo> |_______________________

    Ronaldo> The numbers are points in coordinates (simplified graph).  I
    Ronaldo> need make a cluster analysis of this for identify groups and
    Ronaldo> make a graph with this groups under circle.  In R exist
    Ronaldo> several packages for cluster analysis, but, which the package
    Ronaldo> for this analysis and graphs?

As you note, there are many clustering algorithms available in R
package(mva)     has hclust, kmeans,..
package(cluster) has agnes,diana,clara,...

  [these two above should be available everywhere: 
	 mva is `standard';  cluster is `recommended]

  package(cclust)
  package(e1071)
  package(mclust)

and even more.

I don't understand  ``make a graph with these(!) groups under circle''.

Maybe you mean Kaufman&Rousseeuw's  ``clusplot'' (which use ellipses).

Try
	library(cluster)
	example(clusplot)

  {where when interactive, you must use your mouse to identify interesting
   points in the first plot}

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov  2 10:28:57 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Nov 2001 10:28:57 +0100
Subject: [R] Re: Cluster Analysis
In-Reply-To: <200111011708.MAA15413@newton.stat.wmich.edu>
References: <200111011708.MAA15413@newton.stat.wmich.edu>
Message-ID: <15330.26457.578257.966627@gargle.gargle.HOWL>

>>>>> "Grace" == Grace Manguba <manguba at stat.wmich.edu> writes:

    Grace> Dear R-project staff,
			  =====
usually "staff" is payed.  Instead, we are the group of core volunteers.
Questions like these belong to the "R-help" mailing list where there's a
much larger group of volunteers willing to help out (as time permits).

    Grace> I am a graduate teaching assistant at Western Michigan
    Grace> University.I am now currently assigned on a project/research
    Grace> about the capability of R in doing cluster analysis e.g. compute
    Grace> times and output quality.

    Grace> With regards to this, I would like to request some information
    Grace> from you about how cluster analysis is done in R, and other
    Grace> pertinent info.

I assume you have not even installed R?  If you did,

   help.search("cluster")

gave you a lot of "pointers" (in the form  "<function name>(<package name>)")
to all the *installed* (on your particular system) functionality.

    Grace> Would it be possible for me to download information about it in
    Grace> the web?  I look forward to your reply about this.

Try any CRAN mirror, e.g. the US one. 
Under Documentation, Manual, you can see the 6th part of "The R Manual",
the reference index (880 pages) of all ``standard'' functionality

   http://CRAN.us.R-project.org/doc/manuals/refman.pdf

For all the contributed extension packages (more than 100), the following
is a direct link 

   http://CRAN.us.R-project.org/src/contrib/PACKAGES.html

    Grace> Thank you very much.    Grace Manguba
    Grace> Statistics Graduate Teaching Assistant
    Grace> Western Michigan University
 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Nov  2 10:31:43 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 2 Nov 2001 09:31:43 +0000
Subject: [R] User defined axis on image plots
In-Reply-To: <000701c16344$c926e560$82121018@CORPNT.NET>
References: <3BE01881.2DFEEDFB@bank-banque-canada.ca>
 <000701c16344$c926e560$82121018@CORPNT.NET>
Message-ID: <3KiF6KA$fm47EwTV@myatt.demon.co.uk>

Mark Scarr <mscarr at excitehome.net> writes:
>Hi All,
>
>As a newbie to R I have the following question, which I couldn't
>find an answer to in the documentation.
>
>I have an x, y, z image plot of some data, where x and y are vectors
>of the form x = c(1:nrow(z)), y = (1:ncol(z)). As a result this places
>integer values on the X-axis, whereas they are in fact dates. I have
>another string vector of dates which I would like to use on the X-axis
>instead, suitably spaced and preferably vertical (rather than horizontal).
>
>Any help would be most appreciated,

Plot without axes (i.e. use axes = FALSE) in the plot() function and
then add the axes:

        axis(side = 1, labels = YourLabelVar)
        axis(side = 2)

Changing label orientation can be done with par(las = 2) for
perpendicular labels, par(las = 3) for vertical labels. Remember to use
the par() function prior to the plot() function.

I cover this with a few examples in me R-Notes at:

        http://www.myatt.demon.co.uk

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at maths.uwa.edu.au  Fri Nov  2 11:27:31 2001
From: rolf at maths.uwa.edu.au (Rolf Turner)
Date: Fri, 2 Nov 2001 18:27:31 +0800 (WST)
Subject: [R] Summary --- testing for existence of file.
Message-ID: <200111021027.SAA13337@salvia.maths.uwa.edu.au>



Many thanks to those who answered my question about how to test
for the existence of a file:  Berwin Turlach, Jari Oksanen, Henrik
Bengtsson, Uwe Ligges, and Joerg Maeder.

The simplest solution is to use the built-in (!!!) function
file.exists() which returns TRUE if the file exists, and FALSE
if it doesn't.  Like, duhhhhhh!!!  It's exactly what I wanted.

Special thanks to Berwin Turlach who explained to me how I might
have found out about file.exists() for my own self ---

> 1.) In R type help.start().
> 2.) Go to browser and select "Search Engine & Keywords".
> 3.) Enter "file" as search keyword and press the search button
> 4.) Peruse the list of hits until something suitable comes up

A couple of suggestions to the developers:

	1) It would nice for us bunnies if, say, help.search() made
	a suggestion to do Berwin's four steps if help.search()
	itself turns up nothing useful.

	2) The ``See also'' for file.access et al. should include
	``files'' which contains the documentation on a whole
	elephantful of useful functions.  The item ``files'' comes
	last in the items of the list turned up by the search wherein
	the word ``file'' actually appears in the link.  The faint
	of heart might well become discouraged before getting there.
        I also think that an explicit link from file.access to
	file.exists (the two are closely related) would be helpful.

Thanks again to all my enlighteners.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From georarg at cytanet.com.cy  Fri Nov  2 12:06:59 2001
From: georarg at cytanet.com.cy (George Argyrou)
Date: Fri, 2 Nov 2001 13:06:59 +0200
Subject: [R] CD-ROM Request
Message-ID: <000a01c1638e$82ffe9c0$84920ec3@PC>

Dear Sir/Madam,

I would like to know if it is possiple to send me a CD-ROM of the latest release of R: R - 1.3.1.tgz.

Thank you.
Joe Andrews.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011102/4419d16a/attachment.html

From Kurt.Hornik at ci.tuwien.ac.at  Fri Nov  2 08:33:24 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 2 Nov 2001 08:33:24 +0100
Subject: [R] Testing for the existence of a file.
In-Reply-To: <200111020427.MAA13021@salvia.maths.uwa.edu.au>
References: <200111020427.MAA13021@salvia.maths.uwa.edu.au>
Message-ID: <15330.19524.787638.581860@mithrandir.hornik.net>

>>>>> Rolf Turner writes:

> Is there any way to do this (test for the existence of a file)
> in R?  In Splus (3.4) I can do

>         unix(paste("test -r", fnm), output = F)

> where ``fnm'' is a character string giving the pathname of the file.

> This returns 0 if the file exists and 256 if it doesn't.

> I thought in R to do something like

>         system(paste("test -r", fnm), intern =T)

> but this returns ``character(0)'' irrespective of the existence of
> the file.

Use file.exists() to find out whether a file exists.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Nov  2 10:53:29 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 2 Nov 2001 10:53:29 +0100
Subject: [R] shared libraries on FreeBSD 4.*
In-Reply-To: <Pine.GSO.4.21.0110311111140.2776-100000@socrates.Berkeley.EDU>
References: <Pine.LNX.4.31.0110311709220.10322-100000@gannet.stats>
	<Pine.GSO.4.21.0110311111140.2776-100000@socrates.Berkeley.EDU>
Message-ID: <15330.27929.291043.697272@mithrandir.hornik.net>

>>>>> loren mccarter writes:

> Thanks for your help. As was suggested by Prof Ripley, the problem
> appears to be related to the environment variables for FLIB, LIBS and
> LD_LIBRARY_PATH. I was able to solve the problem with RODBC by setting
> the LIBS variable in the current shell immediately before the install
> (LIBS was already set correctly in $RHOME/etc/Makeconf but RODBC must
> not have been reading it). Below is a log that might be useful for
> understanding the issue. It uses a modified version of the
> RODBC/configure script that simply prints to screen the relevant
> environment variables before AC_SEARCH_LIBS is invoked. I have yet to
> figure out what's happening with RSPython, but that is probably more
> approporate for omegahat-help if Prof Ripley's suggestion does not
> work. Thanks!

> Loren

> /* First showing that build does not work despite correct settings in  
>  * LD_LIBRARY_PATH  
>  * Note that LIBS='' despite correct settings in $RHOME/etc/Makeconf
>  */

Hmm ... why did you think that LIBS from R_HOME/etc/Makeconf was being
used?  (This is the value that was obtained from the R configure
process, and I think it is a leftover from the past.  Older versions of
R would add $LIBS when linking shlib bundles for add-on packages.)

The recommended is documented in the INSTALL help page:

     Some package sources contain a `configure' script that can be
     passed arguments or variables via the option `--configure-args'
     and `--configure-vars', respectively, if necessary.  The latter is
     useful in particular if libraries or header files needed for the
     package are in non-system directories.  In this case, one can use
     the configure variables `LIBS' and `CPPFLAGS' to specify these
     locations (and set these via `--configure-vars'), see section
     `Configuration variables' in ``R Installation and Adminstration''
     for more information.  One can also bypass the configure mechanism
     using the option `--no-configure'.

but of course you can also set LIBS and export before calling INSTALL.
The question is whether

	LIBS=... R CMD INSTALL /path/to/package

should work (in which case INSTALL should always export LIBS and
CPPFLAGS)?

It is not clear whether one should use the information about libs and
headers in non-standard locations which was used when building R also
when building add-on packages.  What we could maybe do was to provide
some autoconf macros for accessing such information, and we definitely
need to do this for BLAS (which has been on my TODO list for some
time).

Best,
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Fri Nov  2 16:44:26 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Fri, 2 Nov 2001 15:44:26 +0000 (GMT)
Subject: [R] maps in R
In-Reply-To: <Pine.GSO.4.05.10110311433550.2143-100000@virga.rap.ucar.edu>
Message-ID: <Pine.LNX.4.33.0111021529380.22904-100000@moriarty.atm.ox.ac.uk>

While I am not an expert in either R or S, I believe the maps library is
somewhat broken with respect to projections.  I have downloaded the
PDF of 'Maps in S' by R.A. Becker and A.R. Wilks and attempted in vain to
reproduce the figures.  I have no trouble drawing simple maps, i.e.
'map("world")' and 'map("world.full", "canada")' work fine.  However,
when I attempt to incorporate a projection and parameter arguments, I
usually end up with a plot representing an amoeba (full res maps)
or a badly drawn parallelogram (low res maps).

map('world',xlim=range(-180,180),ylim=range(-90,90),proj='rectangular',pa='0')
map('state', proj='albers', param=c(30,40))
map('world.full', ylim=c(-85,85), xlim=c(-180,180), pr='mercator')

Any ideas, comments and suggestions are greatly appreciated.  Does anyone
know who the author of this package is?  I found it at
ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ and I am using R-1.3.1 on
Linux 2.4.x-x.

Cheers,
Randall

On Wed, 31 Oct 2001, Claudia Tebaldi wrote:

> Here is the answer to an old question of mine, regarding maps in R
> Hope this help.
>
> claudia
>
>
>
> ---------- Forwarded message ----------
> Date: Mon, 25 Jun 2001 13:48:05 -0400
> From: Kieran Healy <kjhealy at Princeton.EDU>
> To: Claudia Tebaldi <tebaldi at ucar.edu>
> Subject: Re: [R] maps in R
>
> Hi  Claudia --
>
> you can get the maps() library from here:
>
> ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/
>
> It's not on CRAN because it's still in development. I've been using it
> for a while with no trouble, though. As far as I remember, it installs
> like a regular R library.
>
> Kieran
>
> Claudia Tebaldi wrote:
> >
> > Hi everybody
> >
> > Does any of you know how to mimick the functionality of the Splus
> > library "maps "  in R?
> >
> > I.E.:I'd like to draw contours of the US and individual states, and be
> > able to overlay points by giving lat/long coordinates to points() or
> > text() functions.  I'd be a happy camper with just the state-level
> > resolution. . . .
> >
> > thanks in advance
> >
> > claudia
>
> --
> Kieran Healy
> Department of Sociology, Princeton University,
> Princeton NJ 08544. kjhealy at princeton.edu
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Fri Nov  2 17:18:22 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Fri, 2 Nov 2001 11:18:22 -0500 (EST)
Subject: [R] Lost backslashes in parse()
Message-ID: <200111021618.fA2GIM216716@arbres1a.FMR.Com>

Hi all,

   Yesterday I gave this 5-line example of a script that returns TRUE in Unix
(R-1.3.0 on Solaris 2.6) but FALSE in NT (R-1.3.1):
R> fnam <- tempfile()
R> file.create(fnam)
R> txt <- paste("file.exists(\"", fnam, "\")", sep="")
R> expr <- parse(text=txt)
R> eval(expr)

Thanks to Thomas Lumley <tlumley at u.washington.edu> and Brian D. Ripley
<ripley at stats.ox.ac.uk> for responding.  Both asked why lines 3-5 weren't
just replaced by the much simpler:
R> file.exists(fnam)

The short answer is that this was a toy, and in the real situation I need to
eval() in a different environment.

If nobody else is disturbed by this behavior in parse(), I can easily work
around it, so don't worry about it.  For anyone masochistic enough to dig
further, though, here's a snippet of the real code:

R> for (i in obj) {
R>  file <- file.path(dir, "data", paste(i,"RData",sep="."))
R>  expr <- parse(text=paste("save(list=\"",i,"\", file=\"",file,"\")",sep=""))
R>  eval(expr, pos.to.env(pos))
R> }

Since the object named in "i" may exist somewhere besides "pos", I need to
eval() the save() command in the environment of position "pos".  But in that
environment, "i" and "file" don't exist, so I need to build the command ahead
of time as a text string [i.e. evalq() won't work].  Again, this all works OK
for me except for backslash dropping in NT.  Thanks again for listening!

			    -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  2 17:27:12 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 2 Nov 2001 08:27:12 -0800 (PST)
Subject: [R] Lost backslashes in parse()
In-Reply-To: <200111021618.fA2GIM216716@arbres1a.FMR.Com>
Message-ID: <Pine.A41.4.33.0111020822300.165432-100000@homer04.u.washington.edu>

On Fri, 2 Nov 2001, David Brahm wrote:

> Hi all,
>
>    Yesterday I gave this 5-line example of a script that returns TRUE in Unix
> (R-1.3.0 on Solaris 2.6) but FALSE in NT (R-1.3.1):
> R> fnam <- tempfile()
> R> file.create(fnam)
> R> txt <- paste("file.exists(\"", fnam, "\")", sep="")
> R> expr <- parse(text=txt)
> R> eval(expr)
>
> Thanks to Thomas Lumley <tlumley at u.washington.edu> and Brian D. Ripley
> <ripley at stats.ox.ac.uk> for responding.  Both asked why lines 3-5 weren't
> just replaced by the much simpler:
> R> file.exists(fnam)
>
> The short answer is that this was a toy, and in the real situation I need to
> eval() in a different environment.
>
> If nobody else is disturbed by this behavior in parse(), I can easily work
> around it, so don't worry about it.  For anyone masochistic enough to dig
> further, though, here's a snippet of the real code:
>
> R> for (i in obj) {
> R>  file <- file.path(dir, "data", paste(i,"RData",sep="."))
> R>  expr <- parse(text=paste("save(list=\"",i,"\", file=\"",file,"\")",sep=""))
> R>  eval(expr, pos.to.env(pos))
> R> }
>
> Since the object named in "i" may exist somewhere besides "pos", I need to
> eval() the save() command in the environment of position "pos".  But in that
> environment, "i" and "file" don't exist, so I need to build the command ahead
> of time as a text string [i.e. evalq() won't work].  Again, this all works OK
> for me except for backslash dropping in NT.  Thanks again for listening!

That makes a lot more sense.

You can often do this sort of thing more easily with substitute rather
than deparsing and reparsing.
eg
  file<-file.path(dir, "data", paste(i,"RData",sep="."))
  expr<-substitute(save(list=i,file=file), list(i=i,file=file))
  eval(expr, pos.to.env(pos))


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  2 17:45:30 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2001 17:45:30 +0100
Subject: [R] Lost backslashes in parse()
In-Reply-To: <200111021618.fA2GIM216716@arbres1a.FMR.Com>
References: <200111021618.fA2GIM216716@arbres1a.FMR.Com>
Message-ID: <x23d3x86l1.fsf@blueberry.kubism.ku.dk>

David Brahm  <a215020 at agate.fmr.com> writes:

> 
> R> for (i in obj) {
> R>  file <- file.path(dir, "data", paste(i,"RData",sep="."))
> R>  expr <- parse(text=paste("save(list=\"",i,"\", file=\"",file,"\")",sep=""))
> R>  eval(expr, pos.to.env(pos))
> R> }
> 
> Since the object named in "i" may exist somewhere besides "pos", I need to
> eval() the save() command in the environment of position "pos".  But in that
> environment, "i" and "file" don't exist, so I need to build the command ahead
> of time as a text string [i.e. evalq() won't work].  Again, this all works OK
> for me except for backslash dropping in NT.  Thanks again for listening!

I suspect what you really want is something like

eval(substitute(save(list=n, file=fn), list(fn=file, n=i)), pos)

I still don't see the problem with the backslashes, though. Yes, stuff
like this *is* needed:

> parse(text="\"\\\"\"")
expression("\"")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lorenmc at socrates.berkeley.edu  Fri Nov  2 18:07:47 2001
From: lorenmc at socrates.berkeley.edu (loren mccarter)
Date: Fri, 2 Nov 2001 09:07:47 -0800 (PST)
Subject: [R] shared libraries on FreeBSD 4.*
In-Reply-To: <15330.27929.291043.697272@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.21.0111020830170.27268-100000@socrates.Berkeley.EDU>

Thanks for the additional information! In response to the question: 

> Kurt Hornik writes:
>
> Hmm ... why did you think that LIBS from R_HOME/etc/Makeconf was being
> used?  

I thought $R_HOME/etc/Makeconf was being used because I had a similar
problem with the Matrix package (0.3-9) where it could not find my BLAS
library. The solution in that case was to add -L/usr/local/lib to the
FLIBS definition in $R_HOME/etc/Makeconf. I incorrectly assumed that
packages will look there for library paths. 

>
> It is not clear whether one should use the information about libs and
> headers in non-standard locations which was used when building R also
> when building add-on packages.  What we could maybe do was to provide
> some autoconf macros for accessing such information, and we definitely
> need to do this for BLAS (which has been on my TODO list for some
> time).

Yes, this would be helpful, although I think you've already done an
excellent job because with most packages and base R I really haven't had a
problem, just three packages (RODBC, RSPython and Matrix). I've learned a
bit more about shared libraries on FreeBSD over the past couple of days
and it appears that the issues I've had are quite simple: I just needed to
tell the R package where the library is located (e.g., -L/usr/local/lib,
LIBS=, FLIBS= or LD_LIBRARY_PATH) and make sure I specify the correct name
of the actual library that should be used (e.g., -lc_r). Pretty basic
stuff that I had neglected (the R Core team has done such a wonderful job
with making things easy that I haven't had to learn about these technical
issues until now). I'm actually glad I was 'forced' to dig in and
figure it out. The libraries were available on FreeBSD (or could be
installed through the FreeBSD Ports collection) but I just wasn't telling
the R packages where to find them. 

Thanks,

Loren






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Fri Nov  2 19:17:49 2001
From: robert at compete.com (Robert Abugov)
Date: Fri, 2 Nov 2001 13:17:49 -0500
Subject: [R] Applying lm() to weighted cell.means
Message-ID: <IFECIJELMCKDEACBAHGLOEJCCFAA.robert@compete.com>

Dear R,

We are seeking a version of summary.lm appropriate for a fit of cell means
(with specified weights and variance).

Imagine one had 5 observations from each of two groups and wished to test a
difference in means.  A simple call to lm() and summary.lm() will return the
appropriate test:

raw.data <- data.frame(x = rep(0:1, rep(5, 2)), y = 1:10)
fit.raw <- lm(y ~ x, data=raw.data)
summary(fit.raw)

One should be able to perform an equivalent analysis based on the cell means
(with the previously estimated residual variance and assuming independence
of observations).  However, the vanilla summary.lm() does not allow explicit
specification of estimated residual variance and will assume that we have no
residual degrees of freedom:

cell.means <- data.frame(x = unique(raw.data$x),
	y = c(unlist(tapply(raw.data$y, raw.data$x, mean))))
fit.cell <- lm(y ~ x, data=cell.means)
summary(fit.cell)

We would like to generate a similar summary from an analysis of cell means
for a weighted least squares problem where we can specify the cell-wise
variance to accommodate heteroscedasticity in my data (and the number of
observations in each cell).  For example, assume var(y|x==0) = var.y0 and
var(y|x==1) = var.y1.  We could get the correct betas using the 'weights'
option in lm().  To calculate summary statistics, we would like to be able
to make a call such as:

summary.cell(fit.cell, cov=diag(c(var.y0,var.y1)), n=table(fit.raw$x))

As much as possible, we would like to avoid re-writing summary.lm().

Thanks in advance,

Bob and Eric

-----
Robert Abugov
Compete, Inc.
Boston, MA  02116
<bob at compete.com>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Nov  2 20:39:22 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Sat, 3 Nov 2001 08:39:22 +1300
Subject: [R] Summary --- testing for existence of file.
In-Reply-To: <200111021027.SAA13337@salvia.maths.uwa.edu.au>; from rolf@maths.uwa.edu.au on Fri, Nov 02, 2001 at 06:27:31PM +0800
References: <200111021027.SAA13337@salvia.maths.uwa.edu.au>
Message-ID: <20011103083922.A8562@camille.indigoindustrial.co.nz>

> 	1) It would nice for us bunnies if, say, help.search() made
> 	a suggestion to do Berwin's four steps if help.search()
> 	itself turns up nothing useful.

As a fellow bunny, I have to add: if Berwin's 4 steps don't turn
up what you want, or give you so many anwers you don't know what to
do, the next (unoffical) step is to go to Jonathan Baron's R
documentation search engine:

http://finzi.psych.upenn.edu/search.html

This has the docs, *and* the archives of the r-help discussion list.
Nice!  (thanks, Jonathan!)  Jonathan has announced it on r-help 
before, but it really needs to be crowed about.  Punching 
"existance file"  into the search came up with 27 hits; item
five was a similar discussion group thread in June 2000 that 
gave the same answer (thread: [R] Checking the existence of a file)

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Fri Nov  2 21:52:30 2001
From: tchur at optushome.com.au (Tim Churches)
Date: Sat, 03 Nov 2001 07:52:30 +1100
Subject: [R] maps in R
References: <Pine.LNX.4.33.0111021529380.22904-100000@moriarty.atm.ox.ac.uk>
Message-ID: <3BE3078E.888FAAB2@optushome.com.au>

Randall Skelton wrote:
> Any ideas, comments and suggestions are greatly appreciated.  Does anyone
> know who the author of this package is?  I found it at
> ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ and I am using R-1.3.1 on
> Linux 2.4.x-x.

Ray Brownrigg did the port of the original S code to R and/or wrote  the
package (not sure how much is original S code and how much is new for
R). His home page complete with email address is at
http://www.mcs.vuw.ac.nz/~ray/

We have found the package to work well but haven't bothered about trying
different projections.

Tim Churches
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Nov  2 23:33:26 2001
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 3 Nov 2001 11:33:26 +1300 (NZDT)
Subject: [R] maps in R
Message-ID: <200111022233.fA2MXQT23488@tahi.mcs.vuw.ac.nz>

> While I am not an expert in either R or S, I believe the maps library is
> somewhat broken with respect to projections.  

Correct.
> 
> Any ideas, comments and suggestions are greatly appreciated.  Does anyone
> know who the author of this package is?  I found it at
> ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ and I am using R-1.3.1 on
> Linux 2.4.x-x.
>
The authors are the original authors (Becker and Wilks).  I merely
ported their code to R (with their permission), as much of it as was
necessary for my purposes.  The projection sources are included so that
if anyone wants those for their purposes, they may fix them and make
them available to all.

Note: the thinning code does not work either, there is no version of
the package for Windows, and the databases are only available as
platform-dependent binaries [hence the package is not available on
CRAN].

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Nov  2 23:53:27 2001
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 2 Nov 2001 14:53:27 -0800
Subject: [R] png and jpeg libs for Solaris: Summary
In-Reply-To: <Pine.LNX.4.31.0111020812100.2198-100000@gannet.stats>
References: <Pine.LNX.4.31.0111020812100.2198-100000@gannet.stats>
Message-ID: <p0510100fb8086dd2c53e@[128.115.153.6]>

Thank you; this is helpful.

>On Thu, 1 Nov 2001, Don MacQueen wrote:
>
>>  I'm also having trouble installing R 1.3.1 on Solaris and getting png
>>  and jpeg support.
>>  It looks like perhaps the png and jpeg libraries I installed weren't
>>  built with all the support R needs.
>>  If that's the case I'd appreciate confirmation. Or perhaps there's
>>  something else I can do?
>>  (with all the details I've included this message is rather long)
>
>For png, the symbol missing is not one the configure test is looking for,
>so it seems your png library is incomplete.  I'd rebuild it.  It's also
>strange since on Solaris it would be normal to have a shared library.

The version I used is libpng-1.2.0-sol7-sparc-local
The libraries I used were the ones installed by that package 
(pre-compiled, however; looks like I will have to try building them 
myself). Or perhaps I should try to get v 1.0.11.

>For jpeg, I think you are seeing a consequence of the incomplete libpng.a,
>which you can't link *anything* against.  To stress this: it is not that
>it is missing things R needs but that it is missing things it needs
>itself.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov  3 10:22:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 3 Nov 2001 09:22:37 +0000 (GMT)
Subject: [R] png and jpeg libs for Solaris: Summary
In-Reply-To: <p0510100fb8086dd2c53e@[128.115.153.6]>
Message-ID: <Pine.GSO.4.31.0111030903010.20336-100000@auk.stats>

It is usual (and required by copyright law) to attribute quotes to their
authors, and to send a reply to the author and not just the list!

A few empirical facts from Solaris 2.7.

1) Libpng 1.2.0 is later than R 1.3.1, so R 1.3.1 had not been tested
with it.

2) There is no Solaris binary in the official libpng distribution.

3) The official Solaris makefile does build a shared library.

4) When libpng is built using that makefile, R's configure works correctly,
finds png support and compiles without any warnings (except those related
to X11 header files without declared types).  It works too!


So I took a closer look.  deflateInit2_ is in my libz.  So the issue
appears to be that your libpng is not matching your libz.  Perhaps your
libz is too old for your version of libpng?  If so, I think R's configure
did the right thing.

BDR

On Fri, 2 Nov 2001, Don MacQueen wrote, quoting me without attribution:

> Thank you; this is helpful.
>
> >On Thu, 1 Nov 2001, Don MacQueen wrote:
> >
> >>  I'm also having trouble installing R 1.3.1 on Solaris and getting png
> >>  and jpeg support.
> >>  It looks like perhaps the png and jpeg libraries I installed weren't
> >>  built with all the support R needs.
> >>  If that's the case I'd appreciate confirmation. Or perhaps there's
> >>  something else I can do?
> >>  (with all the details I've included this message is rather long)
> >
> >For png, the symbol missing is not one the configure test is looking for,
> >so it seems your png library is incomplete.  I'd rebuild it.  It's also
> >strange since on Solaris it would be normal to have a shared library.
>
> The version I used is libpng-1.2.0-sol7-sparc-local
> The libraries I used were the ones installed by that package
> (pre-compiled, however; looks like I will have to try building them
> myself). Or perhaps I should try to get v 1.0.11.
>
> >For jpeg, I think you are seeing a consequence of the incomplete libpng.a,
> >which you can't link *anything* against.  To stress this: it is not that
> >it is missing things R needs but that it is missing things it needs
> >itself.
> >
> >
> >--
> >Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861 (self)
> >1 South Parks Road,                     +44 1865 272860 (secr)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bved01 at hia.net  Sat Nov  3 12:59:33 2001
From: bved01 at hia.net (Bill Vedder)
Date: Sat, 03 Nov 2001 05:59:33 -0600
Subject: [R] ApEn
Message-ID: <3BE3DC25.77742477@hia.net>

Greetings Rlisters,

Could not find any references to Approximate Entropy using the R search
engine. Can anyone tell me if there is a function in R to calculate this
statistic?

Regards,

Bill Vedder



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Sun Nov  4 14:37:56 2001
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Sun, 4 Nov 2001 21:37:56 +0800 (GMT-8)
Subject: [R] Size of ps files with loess smoother
In-Reply-To: <1rd8ut8h4vqmjc85v6jjsvkcl1lpdrdabn@4ax.com>
Message-ID: <Pine.GSO.4.21.0111042131190.24182-100000@sun450.comp.nus.edu.sg>

Hi,
I am plotting smoothed curves from a large data set (over 1000 points) and
I am finding that loess supsmu, etc. produce incredibly large postscript
files, the reason of course is that most of the smoothers seem to be
quadratic in the number of points returned. Hence when the plot with 1000
over points and 5000 ove rsegments from the smoohter is written to a
postscrpit file it is humongous. Is there a way to thin the number of
segements so that the postscript file is of reasonable size but the
features of the curve are still apparent?

Nicholas

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin at iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho at comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sun Nov  4 14:55:33 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sun, 4 Nov 2001 11:55:33 -0200
Subject: [R] merging columns
Message-ID: <000a01c16538$b9a5a860$ae54fea9@nautilus>

Dear R-list members

I?m trying, without success, to create new a column (YQ) into a data.frame
from another two columns (Y and Q):
Y       Q   YQ
1998  1    98-1

I?ve tried several commands. cbind, for instance, gives me "98" "-" "1" and
not 98-1.

Could someone help me? Many thanks.

Antonio Olinto


Example:

> data.dat <- data.frame(rep(1998:2001,c(4,4,4,4)),rep(1:4,4))
> names(data.dat)<- c("Y","Q")
> attach(data.dat)
> cbind(substring(Y,3,4),"-",Q)
                     Q
 [1,] "98" "-" "1"
 [2,] "98" "-" "2"
 [3,] "98" "-" "3"
 [4,] "98" "-" "4"
 [5,] "99" "-" "1"
 [6,] ...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Nov  4 14:01:26 2001
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sun, 4 Nov 2001 14:01:26 +0100 (CET)
Subject: [R] Segmentation fault
In-Reply-To: <3BE151D1.C6F3838E@research.bell-labs.com>
Message-ID: <Pine.LNX.4.33.0111041344400.12626-100000@tal.stat.umu.se>

Dear R-afficionados,

I have made a package that uses compiled C code, and I use the
Calloc/Free mechanism in that code. When I run a function calling 
the C code, everything is fine, but when I run it once more I get
('R -d gdb', RH 7.2, R-1.3.1):

> te()

Program received signal SIGSEGV, Segmentation fault.
RunGenCollect (size_needed=41992) at memory.c:1007
1007			SEXP next = NEXT_NODE(s);

My guess is that I haven't Free'd enough in the C code. Before I start
searching, I would like to have an expert opinion. Could the reason be 
something else?

Thanks a lot!

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov  4 15:03:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Nov 2001 14:03:07 +0000 (GMT)
Subject: [R] merging columns
In-Reply-To: <000a01c16538$b9a5a860$ae54fea9@nautilus>
Message-ID: <Pine.LNX.4.31.0111041401520.19171-100000@gannet.stats>

On Sun, 4 Nov 2001, Antonio Olinto wrote:

> Dear R-list members
>
> Im trying, without success, to create new a column (YQ) into a data.frame
> from another two columns (Y and Q):
> Y       Q   YQ
> 1998  1    98-1
>
> Ive tried several commands. cbind, for instance, gives me "98" "-" "1" and
> not 98-1.
>
> Could someone help me? Many thanks.
>
> Antonio Olinto
>
>
> Example:
>
> > data.dat <- data.frame(rep(1998:2001,c(4,4,4,4)),rep(1:4,4))
> > names(data.dat)<- c("Y","Q")
> > attach(data.dat)
> > cbind(substring(Y,3,4),"-",Q)
>                      Q
>  [1,] "98" "-" "1"
>  [2,] "98" "-" "2"
>  [3,] "98" "-" "3"
>  [4,] "98" "-" "4"
>  [5,] "99" "-" "1"
>  [6,] ...

data.dat$YQ <- paste(substring(Y,3,4), Q, sep="-")
data.dat
      Y Q   YQ
1  1998 1 98-1
2  1998 2 98-2
3  1998 3 98-3
4  1998 4 98-4
5  1999 1 99-1
6  1999 2 99-2
...

>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Nov  4 15:19:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2001 15:19:22 +0100
Subject: [R] Segmentation fault
In-Reply-To: <Pine.LNX.4.33.0111041344400.12626-100000@tal.stat.umu.se>
References: <Pine.LNX.4.33.0111041344400.12626-100000@tal.stat.umu.se>
Message-ID: <x2ofmi4o0l.fsf@blueberry.kubism.ku.dk>

G?ran Brostr?m <gb at stat.umu.se> writes:

> Dear R-afficionados,
> 
> I have made a package that uses compiled C code, and I use the
> Calloc/Free mechanism in that code. When I run a function calling 
> the C code, everything is fine, but when I run it once more I get
> ('R -d gdb', RH 7.2, R-1.3.1):
> 
> > te()
> 
> Program received signal SIGSEGV, Segmentation fault.
> RunGenCollect (size_needed=41992) at memory.c:1007
> 1007			SEXP next = NEXT_NODE(s);
> 
> My guess is that I haven't Free'd enough in the C code. Before I start
> searching, I would like to have an expert opinion. Could the reason be 
> something else?

That should just give you a memory leak where some memory is not
returned to the system.

More likely, you Free'd something that wasn't Calloc'd...

You might want to try a gc() immediately after the first call to te()
or turning on gctorture().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov  4 15:23:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Nov 2001 14:23:57 +0000 (GMT)
Subject: [R] Segmentation fault
In-Reply-To: <Pine.LNX.4.33.0111041344400.12626-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.31.0111041421260.19214-100000@gannet.stats>

On Sun, 4 Nov 2001, [iso-8859-1] Gran Brostrm wrote:

> Dear R-afficionados,
>
> I have made a package that uses compiled C code, and I use the
> Calloc/Free mechanism in that code. When I run a function calling
> the C code, everything is fine, but when I run it once more I get
> ('R -d gdb', RH 7.2, R-1.3.1):
>
> > te()
>
> Program received signal SIGSEGV, Segmentation fault.
> RunGenCollect (size_needed=41992) at memory.c:1007
> 1007			SEXP next = NEXT_NODE(s);
>
> My guess is that I haven't Free'd enough in the C code. Before I start
> searching, I would like to have an expert opinion. Could the reason be
> something else?

You can't Free() too little.  You can Free() too much.  That is, not
freeing memory merely gives a memory leak, but freeing unallocated memory
corrupts the memory management system.  One way to check this is to zero
pointers initially. As Free zeroes them, check before calling Free that
you have a non-NULL pointer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Nov  4 15:51:48 2001
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sun, 4 Nov 2001 15:51:48 +0100 (CET)
Subject: [R] Segmentation fault
In-Reply-To: <x2ofmi4o0l.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0111041543270.12626-100000@tal.stat.umu.se>

On 4 Nov 2001, Peter Dalgaard BSA wrote:

> G?ran Brostr?m <gb at stat.umu.se> writes:
> 
> > Dear R-afficionados,
> > 
> > I have made a package that uses compiled C code, and I use the
> > Calloc/Free mechanism in that code. When I run a function calling 
> > the C code, everything is fine, but when I run it once more I get
> > ('R -d gdb', RH 7.2, R-1.3.1):
> > 
> > > te()
> > 
> > Program received signal SIGSEGV, Segmentation fault.
> > RunGenCollect (size_needed=41992) at memory.c:1007
> > 1007			SEXP next = NEXT_NODE(s);
> > 
> > My guess is that I haven't Free'd enough in the C code. Before I start
> > searching, I would like to have an expert opinion. Could the reason be 
> > something else?
> 
> That should just give you a memory leak where some memory is not
> returned to the system.
> 
> More likely, you Free'd something that wasn't Calloc'd...
> 
> You might want to try a gc() immediately after the first call to te()

I actually did, and that also gave a segfault.

> or turning on gctorture().

I'm just trying that (it runs very slow now!).
I will also follow Brian's advise, to check pointers before Free'ing them!  

Thanks a lot for all the advise!

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lijohnathan at prodigy.net  Mon Nov  5 01:06:28 2001
From: lijohnathan at prodigy.net (JOHNATHAN  LI)
Date: Sun, 4 Nov 2001 16:06:28 -0800
Subject: [R] tcltk for windows
Message-ID: <000a01c1658d$b91c5380$0b1f0242@zack>

Hi,

I installed R-1.3.1 for Windows and tried to use tcltk interface and got an error message like 
> library(tcltk)
Error in firstlib(which.lib.loc, package) : 
        TCL_LIBRARY is not set
Error in library(tcltk) : .First.lib failed

I then proceed to install tcltk for windows assuming the problem has something to do with it. The same message appears after installation of tcltk. 

Any suggestion is appreciated.

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011104/df31639d/attachment.html

From lee.belbin at aad.gov.au  Mon Nov  5 01:41:26 2001
From: lee.belbin at aad.gov.au (Lee Belbin)
Date: Mon, 5 Nov 2001 11:41:26 +1100
Subject: [R] Data Miner position
Message-ID: <NDBBICPDPDCBIKPNKBFNGEFDDHAA.lee.belbin@aad.gov.au>

EXPLORATORY DATA ANALYST / DATA MINER
Australian Antarctic Division Band 6-7 (Research Scientist)
AUS$47,563 - 63,922 pa

The Exploratory Data Analyst (Data Miner) will use exploratory data analysis
techniques to identify patterns in scientific data held in the Australian
Antarctic Data Centre and elsewhere. The position has an equal emphasis on the
exploratory and confirmatory aspects of statistics. An important quality
required of the position is advanced skills in communicating with data
custodians and scientists that may not necessarily have good quantitative or
statistical backgrounds.

The Data Miner will be expected to have advanced skills in statistical tools.
The successful applicant will have a Doctor of Philosophy or equivalent
qualification, scientific research ability, and a breadth and depth of
scientific interests and the potential to vary those scientific interests. Other
mandatory and job specific criteria apply.

The estimated period of engagement in this non-ongoing task position is 3 years.
Contact Officer for further information : Lee Belbin +61 0417 541 016.

Applicants must frame their application to address the specific selection
criteria. These may be obtained by visiting our web site at :
http://www.antdiv.gov.au/employ/Current_Vacancies/dataan.asp or by contacting
the Human Resources Officer on 1800 030 755. Please send applications to Human
Resources Officer, Australian Antarctic Division, Channel Highway, Kingston, TAS
7050 no later than 17 August 2001.

Note: Applications will not be acknowledged.

Lee

Lee Belbin?????????????????????????????????????! "I have never been lost,
Manager, Australian Antarctic Data Centre??????! but I will admit to being
Australian Antarctic Division??????????????????! confused for several weeks".
Channel Highway, Kingston, Tas, Australia 7050?!
E-mail lee.belbin at aad.gov.au                   ! - Daniel Boone
phone: +61 3 6232 3460??fax: +61 3 6232 3351
Web: http://www-aadc.aad.gov.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at math.uncc.edu  Mon Nov  5 05:05:01 2001
From: jkawczak at math.uncc.edu (Janusz Kawczak)
Date: Sun, 04 Nov 2001 23:05:01 -0500
Subject: [R] L-Moments
References: <3BE3DC25.77742477@hia.net>
Message-ID: <3BE60FED.FD1B7F86@math.uncc.edu>

Dear R-users:

do you know of an efficient algorithm for calculating sample L-moments
(especially of higher order, 3 and up) under R (and/or Splus)?
Any advice/help would be greatly appreciated.

Janusz Kawczak.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycchang at sinica.edu.tw  Mon Nov  5 05:26:53 2001
From: ycchang at sinica.edu.tw (Ivan)
Date: Mon, 05 Nov 2001 12:26:53 +0800
Subject: [R] TCL/TK package for Mac
Message-ID: <B80C360C.CC%ycchang@sinica.edu.tw>

Is there a TCL/TK package for Mac (running OS 9.x)?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycchang at sinica.edu.tw  Mon Nov  5 05:25:29 2001
From: ycchang at sinica.edu.tw (Ivan)
Date: Mon, 05 Nov 2001 12:25:29 +0800
Subject: [R] TCL/TK package for Mac
Message-ID: <B80C35B9.80%ycchang@sinica.edu.tw>

Is there a TCL/YK package for Mac OS 9.x?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michel.arnaud at cirad.fr  Mon Nov  5 08:15:18 2001
From: michel.arnaud at cirad.fr (Michel ARNAUD)
Date: Mon, 05 Nov 2001 08:15:18 +0100
Subject: [R] Problem to transfer Splus functions
Message-ID: <3BE63C86.6345F77A@cirad.fr>

Hello
I would like to transfer some Splus functions in R.
But I have a problem first about this assignation in Splus :
 xnom <- deparse(substitute(x))

I am a bad programmer : I don't understand the R help
How to modify these functions ?
Thank you very much for your help

Here are the four functions and a data test
####################################################################################

acp <- function(x, wt = rep(1/nrow(x), nrow(x)), d = rep(1, ncol(x)),
ctr = T,
 reduc = T, contav = F, method = "acp", tol = 10^(-8))
{
#============================================================
#       Methode d'analyse en composantes principales
#       avec des metriques diagonales:
#       wt vecteur des poids
#       d vecteurs des elements diagonaux de la metrique
#       si ctr=T l'acp est centree
#       si reduc=T l'acp est reduite
#             Method = "acp" or "afc" or "afcm"
#              method that produced the call to the function acp
#             tol values of the eigenvalues that are set to zero
#                to avoid zero "negative" values
#============================================================
 x <- as.matrix(x)
 wt <- wt/sum(wt) #Normalisation des poids
 x <- crenom(x)
 nam <- dimnames(x)
 y <- centre(x, wt)
 moy <- (x - y)[1,  ]
 names(moy) <- nam[[2]]
 if(ctr)
  x <- y
 y <- reduct(x, wt, ctr = ctr)
 sigm <- attr(y, "std")
 names(sigm) <- nam[[2]] #    ..si reduc=T..alors
 if(reduc) x <- y
 #------------------------------controle prealable: impression des
contributions (si contav=T)
 if(contav) {
  conta(x, d, wt)
  cat("\n")
  tex <- c("On continue ?", "Arret")
  ski <- menu(tex)
  switch(ski,
   ,
   stop())
 }
 y <- wt * x
 v <- t(x) %*% y #  Calcul de la matrice a diagonaliser
 d12 <- sqrt(d)
 v <- d12 * v
 v <- t(d12 * t(v))
 res <- eigen(v, symmetric = T)
 #  Recherche des elements propres de v
#------------------------------------------------------------------------

# Factors associated with very small eigenvalues removed
#------------------------------------------------------------------------

 nf <- length(res$values)
 cond <- res$values < tol * sum(res$values)
 nfmax <- if(sum(cond) > 0) min((1:length(res$values))[cond]) -
   1 else nf
 res$values <- res$values[1:nfmax]
 res$vectors <- res$vectors[, 1:nfmax]
 vecp <- res$vectors
 #   Reorientation des deux premiers vecteurs propres pour avoir un max
#   de saturations positives
 v12 <- rep(1, ncol(x)) %*% (vecp[, 1:2]/abs(vecp[, 1:2]))
 v12 <- 2 * (as.numeric(v12 >= 0) - 0.5)
 vecp[, 1:2] <- t(v12 * t(vecp[, 1:2]))
 #        calcul des vecteurs propres M normes
 res$vectors <- (1/sqrt(d)) * vecp
 # Generation des noms de facteurs
 nomf <- as.vector(outer("f", 1:nfmax, paste, sep = ""))
 dimnames(res$vectors) <- list(nam[[2]], nomf)
 #Affectation des noms
#         des vecteurs principaux
 res$cmpr <- x %*% (d12 * vecp)
 #Calcul des composantes principales

 xnom <- deparse(substitute(x))
 wtnom <- deparse(substitute(wt))
 wtequal <- F
 if(wtnom == paste("rep(1/nrow(", xnom, "), nrow(", xnom, "))",
  sep = ""))
  wtequal <- T
 dnom <- deparse(substitute(d))
 dusual <- F
 if(dnom == paste("rep(1, ncol(", xnom, "))", sep = ""))
  dusual <- T
 dimnames(res$cmpr)[[2]] <- nomf
 names(res$values) <- nomf
 res$d <- d
 res$pi <- wt
 res$reduc <- reduc
 res$ctr <- ctr
 res$moy <- moy
 res$sigma <- sigm
 attr(res, "class") <- "acp"
 res$xnom <- xnom
 res$wtequal <- wtequal
 if(!wtequal)
  res$wtnom <- wtnom
 res$dusual <- dusual
 if(!dusual)
  res$dnom <- dnom
 if(method == "acp")
  print(res)
 res
}

####################################################################################

crenom <- function(x, nl = "i", nv = "v")
{
#--------------------------------------------------------------------------

#  Cree des noms pour le tableau x si ces noms n'existent pas
#  Par defaut, les noms de ligne commencent par "i", ceux de colonnes
#  par "v"
#--------------------------------------------------------------------------

 nomi <- if((!is.null(dimnames(x)) && !is.null(dimnames(x)[[1]])
  ) && length(dimnames(x)[[1]]) != 0) dimnames(x)[[1]]
   else (paste(nl, 1:nrow(x), sep = ""))
 nomv <- if(!is.null(dimnames(x)) && !is.null(dimnames(x)[[2]]) &&
  length(dimnames(x)[[2]]) != 0) dimnames(x)[[2]] else (
   paste(nv, 1:ncol(x), sep = ""))
 dimnames(x) <- list(nomi, nomv)
 x
}
####################################################################################

centre <- function(x, wt = rep(1, nrow(as.matrix(x))))
{
# centre le nuage des lignes de x ponderees par wt
 x <- as.matrix(x)
 g <- as.vector((wt %*% x)/sum(wt))
 t(t(x) - g)
}
####################################################################################

reduct <- function(x, wt = rep(1/nrow(x), nrow(x)), ctr = T)
{
# Calcul d'une matrice reduite (avec poids)
#
#               wt vecteur des poids
#============================================================
 nc <- ncol(x)
 nr <- nrow(x)
 nam <- dimnames(x)
 wt <- wt/sum(wt)
 mx <- wt %*% x
 xx <- t(t(x) - as.vector(mx))
 rwt <- sqrt(wt)
 y <- rwt * xx #.. integration des poids..
 stdx <- sqrt(diag(t(y) %*% y))
 if(ctr)
  x <- xx
 x <- t(t(x)/stdx)
 dimnames(x) <- nam
 attr(x, "std") <- stdx
 x
}
   ca  mg   cl  so4 hco3  co2   c    te   deb
 62.8 3.5 1.75 27.5  173 2.93 300 10.40 0.092
 62.8 4.0 1.65 27.0  177 2.92 300 10.40 0.490
 64.5 3.6 1.65 28.5  179 3.10 303 10.40 0.560
 64.0 5.0 1.70 26.0  184 3.33 308 10.40 0.605
 61.6 5.0 1.90 28.0  178 3.08 303 10.40 0.690
 63.5 4.4 1.75 27.5  179 2.76 302 10.50 0.740
 66.8 4.4 1.65 31.5  183 2.82 311 10.50 0.760
 69.3 4.4 1.85 37.0  188 3.02 330 10.45 0.810
 66.3 5.5 1.80 35.5  186 2.92 327 10.45 0.830
 66.5 4.7 1.75 32.5  182 2.86 317 10.45 0.860
 66.1 3.3 1.80 28.5  181 2.78 307 10.45 0.890
 62.8 3.2 1.70 23.0  177 2.79 293 10.40 0.950
 62.3 3.8 1.60 23.0  177 1.92 294 10.40 1.050
 69.0 3.9 1.85 35.5  185 3.44 324 10.35 1.190
 71.5 5.0 1.95 38.5  195 3.94 344 10.35 1.220
 73.2 5.5 2.25 40.5  208 4.38 352 10.35 1.220
 71.7 5.7 2.20 35.0  204 4.94 347 10.35 1.240
 73.0 4.9 2.30 36.5  200 4.64 348 10.35 1.260
 69.3 4.5 2.25 29.5  193 4.38 333 10.35 1.350
 64.5 3.3 2.00 18.5  187 4.25 306 10.35 1.630
 60.8 3.9 2.00 14.0  183 4.08 292 10.30 1.830
 62.5 3.8 2.45 12.5  190 4.81 296 10.10 1.580
 61.7 3.4 2.25 11.0  187 4.77 288 10.05 2.210
 62.9 3.0 2.20 10.5  189 4.61 291 10.05 1.930
 66.0 2.7 2.30  9.5  198 3.49 301 10.10 1.200
 66.5 2.3 2.25  9.5  198 3.65 303 10.05 1.050
 65.5 3.0 2.40 11.0  198 3.82 304 10.05 0.905
 65.5 2.5 2.30 11.0  195 3.61 298 10.05 0.490
 64.7 3.0 2.25  9.5  195 3.69 297 10.05 0.495
 66.5 3.4 2.25 13.0  198 3.91 308 10.10 0.830
 66.9 3.5 2.50 14.0  199 4.21 309 10.05 1.010
 64.5 3.4 2.20 11.5  192 3.79 298 10.00 0.920
 63.7 3.3 2.20 11.5  189 3.92 297 10.00 0.650
 63.7 3.4 2.30 13.0  190 3.95 297 10.10 0.560


--
Michel ARNAUD
CIRAD
TA60/15
73, av. Jean Fran?ois Breton
34938 MONTPELLIER CEDEX 5
tel   04 67 59 38 34 - Fax 04 67 59 38 27

-------------- next part --------------
A non-text attachment was scrubbed...
Name: michel.arnaud.vcf
Type: text/x-vcard
Size: 204 bytes
Desc: Carte pour Michel ARNAUD
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011105/522667a4/michel.arnaud.vcf

From ripley at stats.ox.ac.uk  Mon Nov  5 08:26:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 07:26:28 +0000 (GMT)
Subject: [R] Problem to transfer Splus functions
In-Reply-To: <3BE63C86.6345F77A@cirad.fr>
Message-ID: <Pine.LNX.4.31.0111050725070.5000-100000@gannet.stats>

On Mon, 5 Nov 2001, Michel ARNAUD wrote:

> Hello
> I would like to transfer some Splus functions in R.
> But I have a problem first about this assignation in Splus :
>  xnom <- deparse(substitute(x))

You need to move such lines in R to the top of the function, before x
(etc) is altered.  It's in the R FAQ.


> I am a bad programmer : I don't understand the R help
> How to modify these functions ?
> Thank you very much for your help
>
> Here are the four functions and a data test
> ####################################################################################
>
> acp <- function(x, wt = rep(1/nrow(x), nrow(x)), d = rep(1, ncol(x)),
> ctr = T,
>  reduc = T, contav = F, method = "acp", tol = 10^(-8))
> {
> #============================================================
> #       Methode d'analyse en composantes principales
> #       avec des metriques diagonales:
> #       wt vecteur des poids
> #       d vecteurs des elements diagonaux de la metrique
> #       si ctr=T l'acp est centree
> #       si reduc=T l'acp est reduite
> #             Method = "acp" or "afc" or "afcm"
> #              method that produced the call to the function acp
> #             tol values of the eigenvalues that are set to zero
> #                to avoid zero "negative" values
> #============================================================
>  x <- as.matrix(x)
>  wt <- wt/sum(wt) #Normalisation des poids
>  x <- crenom(x)
>  nam <- dimnames(x)
>  y <- centre(x, wt)
>  moy <- (x - y)[1,  ]
>  names(moy) <- nam[[2]]
>  if(ctr)
>   x <- y
>  y <- reduct(x, wt, ctr = ctr)
>  sigm <- attr(y, "std")
>  names(sigm) <- nam[[2]] #    ..si reduc=T..alors
>  if(reduc) x <- y
>  #------------------------------controle prealable: impression des
> contributions (si contav=T)
>  if(contav) {
>   conta(x, d, wt)
>   cat("\n")
>   tex <- c("On continue ?", "Arret")
>   ski <- menu(tex)
>   switch(ski,
>    ,
>    stop())
>  }
>  y <- wt * x
>  v <- t(x) %*% y #  Calcul de la matrice a diagonaliser
>  d12 <- sqrt(d)
>  v <- d12 * v
>  v <- t(d12 * t(v))
>  res <- eigen(v, symmetric = T)
>  #  Recherche des elements propres de v
> #------------------------------------------------------------------------
>
> # Factors associated with very small eigenvalues removed
> #------------------------------------------------------------------------
>
>  nf <- length(res$values)
>  cond <- res$values < tol * sum(res$values)
>  nfmax <- if(sum(cond) > 0) min((1:length(res$values))[cond]) -
>    1 else nf
>  res$values <- res$values[1:nfmax]
>  res$vectors <- res$vectors[, 1:nfmax]
>  vecp <- res$vectors
>  #   Reorientation des deux premiers vecteurs propres pour avoir un max
> #   de saturations positives
>  v12 <- rep(1, ncol(x)) %*% (vecp[, 1:2]/abs(vecp[, 1:2]))
>  v12 <- 2 * (as.numeric(v12 >= 0) - 0.5)
>  vecp[, 1:2] <- t(v12 * t(vecp[, 1:2]))
>  #        calcul des vecteurs propres M normes
>  res$vectors <- (1/sqrt(d)) * vecp
>  # Generation des noms de facteurs
>  nomf <- as.vector(outer("f", 1:nfmax, paste, sep = ""))
>  dimnames(res$vectors) <- list(nam[[2]], nomf)
>  #Affectation des noms
> #         des vecteurs principaux
>  res$cmpr <- x %*% (d12 * vecp)
>  #Calcul des composantes principales
>
>  xnom <- deparse(substitute(x))
>  wtnom <- deparse(substitute(wt))
>  wtequal <- F
>  if(wtnom == paste("rep(1/nrow(", xnom, "), nrow(", xnom, "))",
>   sep = ""))
>   wtequal <- T
>  dnom <- deparse(substitute(d))
>  dusual <- F
>  if(dnom == paste("rep(1, ncol(", xnom, "))", sep = ""))
>   dusual <- T
>  dimnames(res$cmpr)[[2]] <- nomf
>  names(res$values) <- nomf
>  res$d <- d
>  res$pi <- wt
>  res$reduc <- reduc
>  res$ctr <- ctr
>  res$moy <- moy
>  res$sigma <- sigm
>  attr(res, "class") <- "acp"
>  res$xnom <- xnom
>  res$wtequal <- wtequal
>  if(!wtequal)
>   res$wtnom <- wtnom
>  res$dusual <- dusual
>  if(!dusual)
>   res$dnom <- dnom
>  if(method == "acp")
>   print(res)
>  res
> }
>
> ####################################################################################
>
> crenom <- function(x, nl = "i", nv = "v")
> {
> #--------------------------------------------------------------------------
>
> #  Cree des noms pour le tableau x si ces noms n'existent pas
> #  Par defaut, les noms de ligne commencent par "i", ceux de colonnes
> #  par "v"
> #--------------------------------------------------------------------------
>
>  nomi <- if((!is.null(dimnames(x)) && !is.null(dimnames(x)[[1]])
>   ) && length(dimnames(x)[[1]]) != 0) dimnames(x)[[1]]
>    else (paste(nl, 1:nrow(x), sep = ""))
>  nomv <- if(!is.null(dimnames(x)) && !is.null(dimnames(x)[[2]]) &&
>   length(dimnames(x)[[2]]) != 0) dimnames(x)[[2]] else (
>    paste(nv, 1:ncol(x), sep = ""))
>  dimnames(x) <- list(nomi, nomv)
>  x
> }
> ####################################################################################
>
> centre <- function(x, wt = rep(1, nrow(as.matrix(x))))
> {
> # centre le nuage des lignes de x ponderees par wt
>  x <- as.matrix(x)
>  g <- as.vector((wt %*% x)/sum(wt))
>  t(t(x) - g)
> }
> ####################################################################################
>
> reduct <- function(x, wt = rep(1/nrow(x), nrow(x)), ctr = T)
> {
> # Calcul d'une matrice reduite (avec poids)
> #
> #               wt vecteur des poids
> #============================================================
>  nc <- ncol(x)
>  nr <- nrow(x)
>  nam <- dimnames(x)
>  wt <- wt/sum(wt)
>  mx <- wt %*% x
>  xx <- t(t(x) - as.vector(mx))
>  rwt <- sqrt(wt)
>  y <- rwt * xx #.. integration des poids..
>  stdx <- sqrt(diag(t(y) %*% y))
>  if(ctr)
>   x <- xx
>  x <- t(t(x)/stdx)
>  dimnames(x) <- nam
>  attr(x, "std") <- stdx
>  x
> }
>    ca  mg   cl  so4 hco3  co2   c    te   deb
>  62.8 3.5 1.75 27.5  173 2.93 300 10.40 0.092
>  62.8 4.0 1.65 27.0  177 2.92 300 10.40 0.490
>  64.5 3.6 1.65 28.5  179 3.10 303 10.40 0.560
>  64.0 5.0 1.70 26.0  184 3.33 308 10.40 0.605
>  61.6 5.0 1.90 28.0  178 3.08 303 10.40 0.690
>  63.5 4.4 1.75 27.5  179 2.76 302 10.50 0.740
>  66.8 4.4 1.65 31.5  183 2.82 311 10.50 0.760
>  69.3 4.4 1.85 37.0  188 3.02 330 10.45 0.810
>  66.3 5.5 1.80 35.5  186 2.92 327 10.45 0.830
>  66.5 4.7 1.75 32.5  182 2.86 317 10.45 0.860
>  66.1 3.3 1.80 28.5  181 2.78 307 10.45 0.890
>  62.8 3.2 1.70 23.0  177 2.79 293 10.40 0.950
>  62.3 3.8 1.60 23.0  177 1.92 294 10.40 1.050
>  69.0 3.9 1.85 35.5  185 3.44 324 10.35 1.190
>  71.5 5.0 1.95 38.5  195 3.94 344 10.35 1.220
>  73.2 5.5 2.25 40.5  208 4.38 352 10.35 1.220
>  71.7 5.7 2.20 35.0  204 4.94 347 10.35 1.240
>  73.0 4.9 2.30 36.5  200 4.64 348 10.35 1.260
>  69.3 4.5 2.25 29.5  193 4.38 333 10.35 1.350
>  64.5 3.3 2.00 18.5  187 4.25 306 10.35 1.630
>  60.8 3.9 2.00 14.0  183 4.08 292 10.30 1.830
>  62.5 3.8 2.45 12.5  190 4.81 296 10.10 1.580
>  61.7 3.4 2.25 11.0  187 4.77 288 10.05 2.210
>  62.9 3.0 2.20 10.5  189 4.61 291 10.05 1.930
>  66.0 2.7 2.30  9.5  198 3.49 301 10.10 1.200
>  66.5 2.3 2.25  9.5  198 3.65 303 10.05 1.050
>  65.5 3.0 2.40 11.0  198 3.82 304 10.05 0.905
>  65.5 2.5 2.30 11.0  195 3.61 298 10.05 0.490
>  64.7 3.0 2.25  9.5  195 3.69 297 10.05 0.495
>  66.5 3.4 2.25 13.0  198 3.91 308 10.10 0.830
>  66.9 3.5 2.50 14.0  199 4.21 309 10.05 1.010
>  64.5 3.4 2.20 11.5  192 3.79 298 10.00 0.920
>  63.7 3.3 2.20 11.5  189 3.92 297 10.00 0.650
>  63.7 3.4 2.30 13.0  190 3.95 297 10.10 0.560
>
>
> --
> Michel ARNAUD
> CIRAD
> TA60/15
> 73, av. Jean Franois Breton
> 34938 MONTPELLIER CEDEX 5
> tel   04 67 59 38 34 - Fax 04 67 59 38 27
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  5 08:36:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 07:36:28 +0000 (GMT)
Subject: [R] tcltk for windows
In-Reply-To: <000a01c1658d$b91c5380$0b1f0242@zack>
Message-ID: <Pine.LNX.4.31.0111050733360.5000-100000@gannet.stats>

See the rw-FAQ, question 3.6.

On Sun, 4 Nov 2001, JOHNATHAN  LI wrote:

> Hi,
>
> I installed R-1.3.1 for Windows and tried to use tcltk interface and got an error message like
> > library(tcltk)
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in library(tcltk) : .First.lib failed
>
> I then proceed to install tcltk for windows assuming the problem has something to do with it. The same message appears after installation of tcltk.
>
> Any suggestion is appreciated.
>
> Jonathan
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Nov  5 08:38:10 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 05 Nov 2001 08:38:10 +0100
Subject: [R] tcltk for windows
References: <000a01c1658d$b91c5380$0b1f0242@zack>
Message-ID: <3BE641E2.10C20F92@statistik.uni-dortmund.de>



JOHNATHAN LI wrote:

<not easy readable format (not-only-text-mail)>

Relevant part of your mail:

> I installed R-1.3.1 for Windows and tried to use tcltk interface and got an error message like 
> > library(tcltk)
> Error in firstlib(which.lib.loc, package) : 
>         TCL_LIBRARY is not set
> Error in library(tcltk) : .First.lib failed
>
> I then proceed to install tcltk for windows assuming the problem has something to do with it. 
> The same message appears after installation of tcltk. 

Please read the R for Windows FAQs, chapter 3.6: Package TclTk does not
work.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gonin at diogene.genethon.fr  Mon Nov  5 09:39:42 2001
From: gonin at diogene.genethon.fr (Patrick Gonin)
Date: Mon, 5 Nov 2001 09:39:42 +0100 (MET)
Subject: [R] jpeg device
Message-ID: <200111050839.fA58dgR12680@diogene.genethon.fr>

Dear R colleagues,

Could someone please help me to have the jpeg/png device work ?
When I try the jpeg device, here's the error I get:

"jpeg(filename="test.jpg",width=480,height=480)
Error in X11(paste("jpeg::", quality, ":", filename, sep = ""), width,  : 
        unable to start device JPEG
In addition: Warning message: 
No jpeg support in this version of R "

While ?Devices shows jpeg and png as available.

R.Version(): 1.3.0 built under "sparc-sun-solaris2.6"

Thanks for your time and advice.

Regards


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Mon Nov  5 09:48:15 2001
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Mon, 05 Nov 2001 09:48:15 +0100
Subject: [R] seg fault with mclust
References: <Pine.LNX.4.31.0110311809590.12071-100000@gannet.stats> <x28zdrli24.fsf@blueberry.kubism.ku.dk> <3BE651EC.CF6932CA@pasteur.fr>
Message-ID: <3BE6524F.2211CC37@pasteur.fr>



> Peter Dalgaard BSA wrote:
>
> > Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> >
> > > On 31 Oct 2001, Andy Jacobson wrote:
> > >
> > > >         I'm experiencing a segmentation fault when trying to load
> > > >         mclust.so from mclust-1.1-4.  I'm using R-1.3.1 on RedHat 6.2,
> > > >         and `gcc --version` reports "egcs-2.91.66".
> > >
> > > Standard problem: the Fortran on that system is broken.  It works with
> > > gcc 2.95.3 or gcc 3.0.2, for example.  Avoid unreleased compilers put out
> > > by RedHat!
> > >
> > > If this is a problem I can make available a known working mclust.so for
> > > RedHat 6.2.
> >
> > (Actually, I think egcs-2.91.66 aka EGCS 1.1.2 *was* released by
> > someone responsible, it's just buggy...)
> >
> > Beware that this is not the only one! Several other packages also fail
> > to load in the same way. When 1.4.0 comes out, builds of R itself will
> > fail with stock 6.2. (Unless someone can figure out a workaround,
> > which hardly seems worth the effort. F2c is a workaround, btw, but it
> > is not standard with RH.)
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> Effectively many packages present the same problems as mclust, for ex the package
> permax.  It's  Dr Gentleman who was helped me to solve the problem  because I have
> installed by
> radically using Mandrake instead of RedHat. So now I haven't any problem of
> segmentation
> fault with mclust, permax .and all is correct on Mandrake......
>
> Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Mon Nov  5 12:18:01 2001
From: noel at univ-lille3.fr (Noel Yvonnick)
Date: Mon, 5 Nov 2001 12:18:01 +0100
Subject: [R] Item Response Analysis
Message-ID: <200111051018.LAA06320@stat.math.ethz.ch>

Hello,

Would someone have ever heard or developed any Item Response Models library 
for R ? Of course, a Rasch model can be estimated through glm() but it is not 
the case for more complex (polytomous) response models.

Similarly I would be interested in any R implementation of nonlinear 
multivariate analyses a la GIFI (HOMALS, PRINCALS, OVERALS).

Thanks a lot in advance,

Yvonnick Noel, PhD.
U. of Lille 3
Dpt. of Psychology
F-59653 Villeneuve d'Ascq Cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  5 11:32:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Nov 2001 11:32:07 +0100
Subject: [R] TCL/TK package for Mac
In-Reply-To: <B80C360C.CC%ycchang@sinica.edu.tw>
References: <B80C360C.CC%ycchang@sinica.edu.tw>
Message-ID: <x2bsih4ifs.fsf@blueberry.kubism.ku.dk>

Ivan <ycchang at sinica.edu.tw> writes:

> Is there a TCL/TK package for Mac (running OS 9.x)?

Not at this moment. There's a piece missing in getting the event
handling integrated with that of R. Steve Cassidy said he was going to
look into it at some point. It is not believed to be a hard problem,
but there is some lack of coincidence between heads knowing about Tcl
and heads knowing R internals on the Mac....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  5 11:47:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 5 Nov 2001 10:47:04 +0000 (GMT Standard Time)
Subject: [R] removing duplicated rows from a data.frame
In-Reply-To: <Pine.LNX.4.31.0110311338160.8064-100000@gannet.stats>
Message-ID: <Pine.WNT.4.31.0111051046320.1296-100000@gannet>

On Wed, 31 Oct 2001, Prof Brian Ripley wrote:

> On Wed, 31 Oct 2001, Liaw, Andy wrote:
>
> > Should one of the suggestion be implemented as the unique method for
> > data.frame?  Or maybe uniquerows.data.frame?  Just a thought...  This is
> > probably nearly a FAQ.
>
> Yes. I'd noted earler that S4 has unique.data.frame and
> duplicated.data.frame via a variant on the paste method.
>
> Will add.

Now done for R-devel.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  5 11:46:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 5 Nov 2001 10:46:07 +0000 (GMT Standard Time)
Subject: [R] Item Response Analysis
In-Reply-To: <200111051018.LAA06320@stat.math.ethz.ch>
Message-ID: <Pine.WNT.4.31.0111051043570.1296-100000@gannet>

On Mon, 5 Nov 2001, Noel Yvonnick wrote:

> Would someone have ever heard or developed any Item Response Models library
> for R ? Of course, a Rasch model can be estimated through glm() but it is not
> the case for more complex (polytomous) response models.

Not at present, but we have some plans to develop such a suite (mainly for
polytomous responses), so would be interested in any further information.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.rees at ic.ac.uk  Mon Nov  5 11:50:29 2001
From: m.rees at ic.ac.uk (Rees, Mark)
Date: Mon, 5 Nov 2001 10:50:29 -0000 
Subject: [R] Why doesn't outer work?
Message-ID: <A0F836836670D41183A800508BAF190B47FB53@icex1.cc.ic.ac.uk>

Hello

I'm a population ecologist and use R for all my stats and modelling.
Recently I have been using R to numerically solve integral projection
models. This involves constructing several large matrices. The current code
by Easterling (Size-specific sensitivity: Applying a new structured
population model. Ecology, 2000, 81, 694-708) uses nested loops to construct
the matrices. To speed up the code I decided to replace these with outer
functions. One of these works just as expected and the other almost works!
Having spent 2 days trying to work out what's going wrong I have decided to
ask for help. The R-code is given below, the first part sets various
parameters, then there are several functions. The main functions are called
bigmatrix and new.bigmatrix which construct the matrices, these should give
the same answers, as all I've done is replace the nested loops with outer
functions. The Bmatrix calculation is correct but the Pmatrix calculation
gets some of the answers wrong. The final lines of code test the functions.

Any advice on what's going wrong would be greatly appreciated, also any tips
for speeding up the code would fantastic.

Many thanks

Mark

Dr Mark Rees
Imperial College, Silwood Park,
Ascot, Berks, SL5 7PY

Direct line 0207 5942488
Fax  0207 594 2339

#Parameters
minsize<-log(0.1); maxsize<-log(32);

p.vec.names<-rep(NA,11)
p.vec<-rep(0,11);
p.vec[1]<-  0.36	;	 p.vec.names[1]<-"1st survival param";
p.vec[2]<-  0.17	; 	 p.vec.names[2]<-"2nd survival param";
p.vec[3]<- -18.27;	 p.vec.names[3]<-"1st flow param    "; 
p.vec[4]<-  6.91	;	 p.vec.names[4]<-"2nd flow param    ";
p.vec[5]<-  0.96	;	 p.vec.names[5]<-"ag                ";
p.vec[6]<-  0.59	;	 p.vec.names[6]<-"bg                ";
p.vec[7]<-  0.67^2; 	 p.vec.names[7]<-"sigma2 growth     ";
p.vec[8]<-  1.036;	 p.vec.names[8]<-"intercept seeds   ";
p.vec[9]<-  2.22;		 p.vec.names[9]<-"slope seeds       ";
p.vec[10]<- log(10)*(-0.304+0.27);
                          	p.vec.names[10]<-"mean kids size   ";
p.vec[11]<- (log(10)^2)*(0.172^2+0.28^2); 
                          	p.vec.names[11]<-"sigma2 kids size ";


p.est<-0.48*0.0205        #actual

# Part (II) ##############################################################
# Compute the kernel component functions from the fitted models

#survival function

sx<-function(x) {
	u<-p.vec[2]*x+p.vec[1];
              if(u>=0.7) u<-0.7;
              if(u<0) u<-0;
return(u);
}

#flowering functiom

fx<-function(x) {
	u<-exp(p.vec[3]+p.vec[4]*x);
              
return(u/(1+u));
}

#growth function

gxy<-function(x,y) {
	sigmax2<-p.vec[7];
	sigmax<-sqrt(sigmax2);
	mux<-p.vec[5]+p.vec[6]*x;
	fac1<-sqrt(2*pi)*sigmax;
	fac2<-((y-mux)^2)/(2*sigmax2);
	return(exp(-fac2)/fac1);
}

#survival-growth function

pxy<-function(x,y) { return(sx(x)*(1-fx(x))*gxy(x,y)) }

#fecundity function

fxy<-function(x,y) {
	nkids<-p.est*exp(p.vec[8]+p.vec[9]*x);
	kidsize.mean<- p.vec[10];
	kidsize.var<- p.vec[11]; 
	fac1<-sqrt(2*pi)*sqrt(kidsize.var);
	fac2<-((y-kidsize.mean)^2)/(2*kidsize.var);
	f<-fx(x)*nkids*exp(-fac2)/fac1;
	return(f);
}

# Part (III)
################################################################
# THE KERNEL K(y,x) 
# note the chopoff
Kyx<-function(y,x) {
	xeval<-max(x,minsize); xeval<-min(xeval,maxsize);
	yeval<-max(y,minsize); yeval<-min(yeval,maxsize);
	#return(pxy(xeval,yeval)+fxy(xeval,yeval))
            return(pxy(x,y)+fxy(x,y))
	};


############## The 'big matrix' M of size n x n this uses outer and doesn't
work, don't know why??!!
new.bigmatrix<-function(n) {
# upper and lower integration limits
	L<-minsize; U<-maxsize;
	
# boundary points b and mesh points y
	b<-L+c(0:n)*(U-L)/n;
	y<-0.5*(b[1:n]+b[2:(n+1)]);

# construct the matrix
            I<-diag(n);
	M<-matrix(0,n,n);
            P<-matrix(0,n,n);
            B<-matrix(0,n,n);
	P<-t(outer(y,y,pxy))
	B<-t(outer(y,y,fxy))
	M<-P+B
	K<-M; 
	M<-(U-L)*M/n;
            P<-(U-L)*P/n;
            B<-(U-L)*B/n;
	
return(list(matrix=M,kernel=K,meshpts=y,Pmatrix=P,Bmatrix=B,Imatrix=I)); 
}

bigmatrix<-function(n) {
# upper and lower integration limits
	L<-minsize; U<-maxsize;
	
# boundary points b and mesh points y
	b<-L+c(0:n)*(U-L)/n;
	y<-0.5*(b[1:n]+b[2:(n+1)]);

# loop to construct the matrix
            I<-diag(n);
	M<-matrix(0,n,n);
            P<-matrix(0,n,n);
            B<-matrix(0,n,n);
	for (i in 1:n){ 
		for(j in 1:n){
			M[i,j]<-Kyx(y[i],y[j])
                                    P[i,j]<-pxy(y[j],y[i])
                                    B[i,j]<-fxy(y[j],y[i])
		}
	}
	K<-M; 
	M<-(U-L)*M/n;
            P<-(U-L)*P/n;
            B<-(U-L)*B/n;
	
return(list(matrix=M,kernel=K,meshpts=y,Pmatrix=P,Bmatrix=B,Imatrix=I)); 
}

#Test code

M<-bigmatrix(5)
N<-new.bigmatrix(5)
M$Bmatrix==N$Bmatrix
M$Pmatrix==N$Pmatrix


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  5 12:03:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Nov 2001 12:03:53 +0100
Subject: [R] Why doesn't outer work?
In-Reply-To: <A0F836836670D41183A800508BAF190B47FB53@icex1.cc.ic.ac.uk>
References: <A0F836836670D41183A800508BAF190B47FB53@icex1.cc.ic.ac.uk>
Message-ID: <x27kt54gyu.fsf@blueberry.kubism.ku.dk>

"Rees, Mark" <m.rees at ic.ac.uk> writes:

> Hello
> 
> I'm a population ecologist and use R for all my stats and modelling.
> Recently I have been using R to numerically solve integral projection
> models. This involves constructing several large matrices. The current code
> by Easterling (Size-specific sensitivity: Applying a new structured
> population model. Ecology, 2000, 81, 694-708) uses nested loops to construct
> the matrices. To speed up the code I decided to replace these with outer
> functions. One of these works just as expected and the other almost works!
> Having spent 2 days trying to work out what's going wrong I have decided to
> ask for help. The R-code is given below, the first part sets various
> parameters, then there are several functions. The main functions are called
> bigmatrix and new.bigmatrix which construct the matrices, these should give
> the same answers, as all I've done is replace the nested loops with outer
> functions. The Bmatrix calculation is correct but the Pmatrix calculation
> gets some of the answers wrong. The final lines of code test the functions.
> 
> Any advice on what's going wrong would be greatly appreciated, also any tips
> for speeding up the code would fantastic.

(In general, it is easier to answer queries if you also tell us what
is going wrong...)

The standard way of messing up outer() is to pass it a function that
doesn't vectorize. As far as I can see, your sx() will sometimes
return a scalar.

BTW: t(outer(y,y,...)) is transposing a symmetric matrix?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiaz at inner.es  Mon Nov  5 12:19:56 2001
From: rdiaz at inner.es (rdiaz)
Date: Mon, 05 Nov 2001 12:19:56 +0100
Subject: [R] seg fault with mclust
References: <Pine.LNX.4.33.0110312333370.12075-100000@tal.stat.umu.se> <x2k7xbnxi8.fsf@blueberry.kubism.ku.dk>
Message-ID: <3BE675DC.8020102@inner.es>



Peter Dalgaard BSA wrote:

>G?ran Brostr?m <gb at stat.umu.se> writes:
>
>>>>Another oddity with RedHat gcc: RH7.2 comes with "gcc3" which claims to be 
>>>>gcc 3.0.2; but, it was released _before_ gcc 3.0.2 was released at 
>>>>gcc.gnu.org! 
>>>>
>>>>G?ran 
>>>>
>>>Mmmno..? According to the web sites, the announcement of gcc 3.0.2 was
>>>on Oct 25 and RH 7.2 on the 26th. 
>>>
>>Really? RH 7.2 was available at Sunet (ftp.sunet.se) on the 22nd.
>>And I installed it on one of my computers a day or two later.
>>
>
>No, my bad... the RH announcement is dated 22nd. The thing on the web
>site is a followup.
>

I must be missing something: the list for packages in Red Hat 7.2 seems 
to indicate it includes gcc 3.0.1, not gcc 3.0.2 (search for gcc3 in:
http://www.redhat.com/software/linux/pl_rhl.html).
And then, they are still shipping 2.96, though a 2.96-RH (which RH seems 
to think its a great bonus, from "Updated development toolchain--gcc 
2.96-RH" in http://www.redhat.com/software/linux/7-2_standard.html/).
What gives here?

Ram?n

Ram?n D?az
Inner Research
Vel?zquez 109
28006 Madrid
Spain










-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Nov  5 11:33:41 2001
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 5 Nov 2001 11:33:41 +0100 (CET)
Subject: [R] seg fault with mclust
In-Reply-To: <3BE675DC.8020102@inner.es>
Message-ID: <Pine.LNX.4.33.0111051132001.14187-100000@tal.stat.umu.se>

On Mon, 5 Nov 2001, rdiaz wrote:

> 
> 
> Peter Dalgaard BSA wrote:
> 
> >G?ran Brostr?m <gb at stat.umu.se> writes:
> >
> >>>>Another oddity with RedHat gcc: RH7.2 comes with "gcc3" which claims to be 
> >>>>gcc 3.0.2; but, it was released _before_ gcc 3.0.2 was released at 
> >>>>gcc.gnu.org! 
> >>>>
> >>>>G?ran 
> >>>>
> >>>Mmmno..? According to the web sites, the announcement of gcc 3.0.2 was
> >>>on Oct 25 and RH 7.2 on the 26th. 
> >>>
> >>Really? RH 7.2 was available at Sunet (ftp.sunet.se) on the 22nd.
> >>And I installed it on one of my computers a day or two later.
> >>
> >
> >No, my bad... the RH announcement is dated 22nd. The thing on the web
> >site is a followup.
> >
> 
> I must be missing something: the list for packages in Red Hat 7.2 seems 
> to indicate it includes gcc 3.0.1, not gcc 3.0.2 (search for gcc3 in:
> http://www.redhat.com/software/linux/pl_rhl.html).

Well, I just tried 'gcc3 -v' and got

[gb at tal gb]$ gcc3 -v
Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/3.0.2/specs
Configured with: ../configure --prefix=/usr --mandir=/usr/share/man 
--infodir=/usr/share/info --enable-shared --enable-threads=posix 
--disable-checking --host=i386-redhat-linux
Thread model: posix
gcc version 3.0.2 20010905 (Red Hat Linux 7.1 3.0.1-3)

G?ran

> And then, they are still shipping 2.96, though a 2.96-RH (which RH seems 
> to think its a great bonus, from "Updated development toolchain--gcc 
> 2.96-RH" in http://www.redhat.com/software/linux/7-2_standard.html/).
> What gives here?
> 
> Ram?n
> 
> Ram?n D?az
> Inner Research
> Vel?zquez 109
> 28006 Madrid
> Spain
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  5 12:46:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 5 Nov 2001 11:46:03 +0000 (GMT Standard Time)
Subject: [R] jpeg device
In-Reply-To: <200111050839.fA58dgR12680@diogene.genethon.fr>
Message-ID: <Pine.WNT.4.31.0111051143500.1048-100000@gannet>

On Mon, 5 Nov 2001, Patrick Gonin wrote:

> Dear R colleagues,
>
> Could someone please help me to have the jpeg/png device work ?

You need to configure R to make use of png/jpeg.  If configure did not find
them, they are marked as unsupported.

> When I try the jpeg device, here's the error I get:
>
> "jpeg(filename="test.jpg",width=480,height=480)
> Error in X11(paste("jpeg::", quality, ":", filename, sep = ""), width,  :
>         unable to start device JPEG
> In addition: Warning message:
> No jpeg support in this version of R "
>
> While ?Devices shows jpeg and png as available.

Yes, they are available, but they are disabled.

> R.Version(): 1.3.0 built under "sparc-sun-solaris2.6"

Works for me on Solaris 2.7.

I suggest you start again with R 1.3.1 and look carefully at the configure
output.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov  5 11:34:16 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 5 Nov 2001 10:34:16 +0000
Subject: [R] tcltk for windows
In-Reply-To: <Pine.LNX.4.31.0111050733360.5000-100000@gannet.stats>
References: <000a01c1658d$b91c5380$0b1f0242@zack>
 <Pine.LNX.4.31.0111050733360.5000-100000@gannet.stats>
Message-ID: <G62J2DAosm57Ew+f@myatt.demon.co.uk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

>See the rw-FAQ, question 3.6.

Regarding:

>> I installed R-1.3.1 for Windows and tried to use tcltk interface and got an 
>error message like
>> > library(tcltk)
>> Error in firstlib(which.lib.loc, package) :
>>         TCL_LIBRARY is not set
>> Error in library(tcltk) : .First.lib failed
>>
>> I then proceed to install tcltk for windows assuming the problem has something 
>to do with it. The same message appears after installation of tcltk.

The FAQ is not particularly thorough on this. You do need to set the
TCL_LIBRARY environment variable to point to the TCL libraries:

        Sys.putenv("TCL_LIBRARY"="c:\\Program Files\\Tcl\\lib\\tcl8.3")

But you also need to put TCL's BIN directory on the MSDOS / Windows
PATH:

        Sys.putenv("PATH"="c:\\Program Files\\Tcl\\bin")

before trying library(tcltk).

I suppose the confusion arises because TCL/TK is usually installed and
on the path on UNIX (and derivative) boxes.

The FAQ is wrong to state that the installer for ActiveTCL "will put the
bin directory containing the Tcl and Tk DLLs in your path". It does not
on my Win98 box.

Mark 

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From davisco at tiscalinet.it  Mon Nov  5 14:51:14 2001
From: davisco at tiscalinet.it (Damiano Visconti)
Date: Mon, 5 Nov 2001 14:51:14 +0100
Subject: [R] HELP ME
Message-ID: <000d01c16601$25e2b720$c5100e97@viscontidamiano>

I have a problem with R-graphics.
Infact, I would want to plot a graphic with a logaritmic-scale on the axis Y, 
and I would want to see only the tickmarks (10e-1, 10e-2, 10e-3 etc.).
More easily, I must plot a cell loss probability in a node of telecomunication system.

Thanks in advance,
Damiano.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011105/bed9d29b/attachment.html

From chris at fonnesbeck.net  Mon Nov  5 16:01:40 2001
From: chris at fonnesbeck.net (Christopher Fonnesbeck)
Date: 05 Nov 2001 10:01:40 -0500
Subject: [R] vector problems
Message-ID: <1004972500.16027.8.camel@CI519122-B>

I dont get it:

> is.vector(c(mydf[1]))
[1] TRUE
> unique(c(mydf[1]))
Error in unique(c(mydf[1])) : unique() applies only to vectors
> 

Is it a vector or not? This stuff is driving me nuts. I'm simply trying
to convince R that my grouping vector is actually a vector so that
unique will work. Its just a vector of numbers, so why shouldnt it work?
-- 
~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*

Christopher J. Fonnesbeck 
Ph.D. Student

Georgia Co-operative Wildlife Unit
University of Georgia 
Athens, GA 30602

email: chris at fonnesbeck.net
       cfonnesb at stat.uga.edu
Yahoo: fonnesbeck_chris

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  5 16:22:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 15:22:07 +0000 (GMT)
Subject: [R] vector problems
In-Reply-To: <1004972500.16027.8.camel@CI519122-B>
Message-ID: <Pine.LNX.4.31.0111051517150.1438-100000@gannet.stats>

On 5 Nov 2001, Christopher Fonnesbeck wrote:

> I dont get it:
>
> > is.vector(c(mydf[1]))
> [1] TRUE
> > unique(c(mydf[1]))
> Error in unique(c(mydf[1])) : unique() applies only to vectors
> >
>
> Is it a vector or not? This stuff is driving me nuts. I'm simply trying
> to convince R that my grouping vector is actually a vector so that
> unique will work. Its just a vector of numbers, so why shouldnt it work?

Well, how about giving us some reasonable amount of information and an
example we can check over for you?

A reasonable guess is that mydf is a data frame. In that case mydf[1] is a
list, which is a vector, but not an atomic vector and so unique() does not
apply.  I don't know what you think c() does: it is strips attributes of
atomic vectors, but also works for lists, in a different way.

My guess is that you intended mydf[[1]].

> mydf <- data.frame(x=1:10, y=1:10)
> is.vector(c(mydf[1]))
[1] TRUE
> unique(c(mydf[1]))
Error in unique(c(mydf[1])) : unique() applies only to vectors
> unique(mydf[[1]])
 [1]  1  2  3  4  5  6  7  8  9 10

would seem to match the scanty evidence given.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris at fonnesbeck.net  Mon Nov  5 16:31:20 2001
From: chris at fonnesbeck.net (Christopher Fonnesbeck)
Date: 05 Nov 2001 10:31:20 -0500
Subject: [R] vector problems
Message-ID: <1004974280.16490.8.camel@CI519122-B>

A chunk of c(mydf[1]) looks like this:

    [1]   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15 
16  17
   [19]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33 
34  35
   [37]  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51 
52  53
   [55]  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69 
70  71
   [73]  72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87 
88  89
   [91]  90  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105
106 107

They are the iteration numbers corresponding to some simulation output.
I am trying to use this vector as a grouping vector for ave(). Trying to
run vector(mydf[1]) gives: 

Error in vector(mydf[1]) : vector: cannot make a vector of mode "c(0, 1,
2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, ".

So I am at a loss for what to do in order to convince this list to
become a vector. My ignorance stems from the fact that I was trained in
SAS.

Thanks,
Chris Fonnesbeck

-- 
~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*

Christopher J. Fonnesbeck 
Ph.D. Student

Georgia Co-operative Wildlife Unit
University of Georgia 
Athens, GA 30602

email: chris at fonnesbeck.net
       cfonnesb at stat.uga.edu
Yahoo: fonnesbeck_chris

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon Nov  5 17:10:14 2001
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 5 Nov 2001 08:10:14 -0800
Subject: [R] png and jpeg libs for Solaris: Summary
In-Reply-To: <Pine.GSO.4.31.0111030903010.20336-100000@auk.stats>
References: <Pine.GSO.4.31.0111030903010.20336-100000@auk.stats>
Message-ID: <p05101009b80c5dfd4b0e@[128.115.153.6]>

At 9:22 AM +0000 11/3/01, Prof Brian D Ripley wrote:
>It is usual (and required by copyright law) to attribute quotes to their
>authors, and to send a reply to the author and not just the list!

Users of Eudora should be aware that when one uses the "reply to all" 
command, Eudora inserts a reference to the original author at the top 
of the quoted section, but when one uses "reply to sender" it does 
not. I made the wrong choice--inadvertently omitting the reference 
from the top of the quoted section. I apologize, and will be more 
careful.

The additional information is much appreciated.

>A few empirical facts from Solaris 2.7.
>
>1) Libpng 1.2.0 is later than R 1.3.1, so R 1.3.1 had not been tested
>with it.

I have since tried libpng 1.0.12 (also the binary from 
sunfreeware.com); it didn't work either. I didn't find a 1.0.11 
binary. At this point, even if I found a 1.0.11 binary, I doubt it 
would work.

>2) There is no Solaris binary in the official libpng distribution.

The libpng website does, however, have a link to the Solaris binaries 
at www.sunfreeware.com

>
>3) The official Solaris makefile does build a shared library.
>
>4) When libpng is built using that makefile, R's configure works correctly,
>finds png support and compiles without any warnings (except those related
>to X11 header files without declared types).  It works too!
>

I never had any doubt it would work, of course. Looks like I have to 
give up on using somebody else's binaries.

>So I took a closer look.  deflateInit2_ is in my libz.  So the issue
>appears to be that your libpng is not matching your libz.  Perhaps your
>libz is too old for your version of libpng?  If so, I think R's configure
>did the right thing.

I agree.

>BDR
>
>On Fri, 2 Nov 2001, Don MacQueen wrote, quoting me without attribution:

The signature section of your message was included in the quote.  But 
I agree that proper attribution should include the reference at the 
top, and will make sure to do so in the future.

>  > Thank you; this is helpful.
>>
>>  >On Thu, 1 Nov 2001, Don MacQueen wrote:
>>  >
>>  >>  I'm also having trouble installing R 1.3.1 on Solaris and getting png
>>  >>  and jpeg support.
>>  >>  It looks like perhaps the png and jpeg libraries I installed weren't
>>  >>  built with all the support R needs.
>>  >>  If that's the case I'd appreciate confirmation. Or perhaps there's
>>  >>  something else I can do?
>>  >>  (with all the details I've included this message is rather long)
>>  >
>>  >For png, the symbol missing is not one the configure test is looking for,
>>  >so it seems your png library is incomplete.  I'd rebuild it.  It's also
>>  >strange since on Solaris it would be normal to have a shared library.
>>
>>  The version I used is libpng-1.2.0-sol7-sparc-local
>>  The libraries I used were the ones installed by that package
>>  (pre-compiled, however; looks like I will have to try building them
>>  myself). Or perhaps I should try to get v 1.0.11.
>>
>>  >For jpeg, I think you are seeing a consequence of the incomplete libpng.a,
>>  >which you can't link *anything* against.  To stress this: it is not that
>>  >it is missing things R needs but that it is missing things it needs
>>  >itself.
>>  >
>>  >
>>  >--
>>  >Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>  >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>  >University of Oxford,             Tel:  +44 1865 272861 (self)
>>  >1 South Parks Road,                     +44 1865 272860 (secr)
>>  >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>  > 
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From davisco at tiscalinet.it  Mon Nov  5 17:26:17 2001
From: davisco at tiscalinet.it (Damiano Visconti)
Date: Mon, 5 Nov 2001 17:26:17 +0100
Subject: [R] help me again
Message-ID: <001601c16616$eaccf9a0$e60f0e97@viscontidamiano>

I would like to know how I can set with a R-command 
the values from decimal to exponential (e.g. from 0.001 to 10^-3)
on the axis y.

Thank you

Damiano


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011105/472776fb/attachment.html

From davisco at tiscalinet.it  Mon Nov  5 17:40:37 2001
From: davisco at tiscalinet.it (Damiano Visconti)
Date: Mon, 5 Nov 2001 17:40:37 +0100
Subject: [R] apex ??
Message-ID: <004401c16618$9c38c920$e60f0e97@viscontidamiano>

I would to know if it's possible with R
put an apex on a character ( i.e 10-2 or aij )
Thanks in advance
Damiano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011105/75518704/attachment.html

From tlumley at u.washington.edu  Mon Nov  5 18:29:49 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 5 Nov 2001 09:29:49 -0800 (PST)
Subject: [R] apex ??
In-Reply-To: <004401c16618$9c38c920$e60f0e97@viscontidamiano>
Message-ID: <Pine.A41.4.33.0111050929160.34716-100000@homer08.u.washington.edu>

On Mon, 5 Nov 2001, Damiano Visconti wrote:

> I would to know if it's possible with R
> put an apex on a character ( i.e 10-2 or aij )

Mathematical expressions can be used in graph labels. help(plotmath)
describes how to do it.

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isrtdu at yahoo.com  Mon Nov  5 17:05:34 2001
From: isrtdu at yahoo.com (wildscop)
Date: Mon, 05 Nov 2001 22:05:34 +0600
Subject: [R] QUERY:  Linking all statistical institutes / departments
Message-ID: <5.1.0.14.2.20011105214317.0194f270@mail.aitlbd.net>


         Please accept my apology if you find my mail unwanted . I'm sorry 
to use this faq for this out of subject e-mail but i guess it was the best 
statistics related faq to find my required information.

         This information will be used for the purpose of linking all the 
web-sites of statistical institutes/departments around the world. I already 
collected some information about this , but its not completed yet. Please 
send the addresses of your known university where statistics or related 
subjects are being studied as per the following format :

#1#Name of the country , and state [if any],
#2#name of the university,
#3#URL ,
#4#Name of the department where statistics or related subjects are being 
studied

Example :
#1#Bangladesh, [no state],
#2#University of Dhaka
#3#URL http://www.univdhaka.edu
#4#"Department of Statistics" and "Institute of Statistical Research and 
Training"

Sites like http://www.ma.hw.ac.uk/stat/depts.html [Statistics Departments 
in UK and Irish Universities] has helpful information but it is so tedious 
work to find out required information by the above format. Please help me 
to listing up all the statistical institutes / departments in the above 
format : which i'll surely publish in a site later and send all the 
collected data to whoever contacts me or helps me by providing ANY 
information , no matter how small it is. Also information about / URL of 
any site which contains such informations in similar manner will be highly 
appreciable. Please accept my apology once again if you find my mail 
unwanted .

Thanks for your time.



Best regards,


_______________________
Mohammad Ehsanul karim
Email : isrtdu at yahoo.com
Voice : 880 - 02 - 9870390
[7-10 PM at GMT +06:00 ]
_______________________


_________________________________________________________

Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From doraiss at auburn.edu  Mon Nov  5 21:06:37 2001
From: doraiss at auburn.edu (Sundar Dorai-Raj)
Date: Mon, 5 Nov 2001 14:06:37 -0600
Subject: [R] apex ??
In-Reply-To: <004401c16618$9c38c920$e60f0e97@viscontidamiano>
Message-ID: <004201c16635$60527100$4a35cc83@sundar>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of > Damiano Visconti
> Sent: Monday, November 05, 2001 10:41 AM
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] apex ??
> 
> 
> I would to know if it's possible with R
> put an apex on a character ( i.e 10-2 or aij )
> Thanks in advance
> Damiano 


Look in the help files for plotmath, expression, and substitute.

Sundar

--
Sundar Dorai-Raj, Ph.D.
Assistant Professor
Discrete & Statistical Sciences   Office: (334) 844-3647
231 Allison Lab                   Fax: (334) 844-3611
Auburn University                 Email: dorairaj at dms.auburn.edu
Auburn AL 36849-5307              http://www.dms.auburn.edu/~dorairaj/ 
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From doraiss at auburn.edu  Mon Nov  5 21:22:42 2001
From: doraiss at auburn.edu (Sundar Dorai-Raj)
Date: Mon, 5 Nov 2001 14:22:42 -0600
Subject: [R] help me again
In-Reply-To: <001601c16616$eaccf9a0$e60f0e97@viscontidamiano>
Message-ID: <004301c16637$9fdba150$4a35cc83@sundar>


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of > Damiano Visconti
> Sent: Monday, November 05, 2001 10:26 AM
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] help me again
> 
> 
> I would like to know how I can set with a R-command 
> the values from decimal to exponential (e.g. from 0.001 to 10^-3)
> on the axis y.
> 
> Thank you
> 
> Damiano

Look in the help files for the axis(). Here's an example:


plot(x,y,axes=F,ylim=c(10^-5,10^-2))
axis(side=1)
axis(side=2,at=10^c(-5:-2),label=expression(10^-5,10^-4,10^-3,10^-2))
box()


Sundar

--
Sundar Dorai-Raj, Ph.D.
Assistant Professor
Discrete & Statistical Sciences   Office: (334) 844-3647
231 Allison Lab                   Fax: (334) 844-3611
Auburn University                 Email: dorairaj at dms.auburn.edu
Auburn AL 36849-5307              http://www.dms.auburn.edu/~dorairaj/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Nov  6 04:32:05 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 5 Nov 2001 21:32:05 -0600 
Subject: [R] ATLAS
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D5B6@jupiter.sc.arbitrade.com>

Dear R-users,

I want to install R on our new Red Hat machine and I want R to use ATLAS for
its linear algebra calculations. The R-admin manual recommends building
ATLAS into a shared BLAS library, which means that R should be able of
detecting the library at RUN-TIME and fall back if there is none.

I remember there was a discussion how to make R use BLAS, but that seems to
deal with static linking only. Actually the very existence of that
discussion made me doubt about the things that are probably obvious. So here
are my questions:

* Do I need to make any modifications to the configure in order to build R
that can dynamically link with BLAS shared library? If not, than the
precompiled binary distribution should be able of doing this as well, right?
* I assume that the order of building BLAS and R does not matter (as opposed
to the static linking case).
* How do I tell that R successfully finds the BLAS shared library?

Thanks,
Vadim 

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Nov  6 05:14:48 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 5 Nov 2001 22:14:48 -0600
Subject: [R] ATLAS
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D5B6@jupiter.sc.arbitrade.com>
References: <AFD78192EC49D311BFAE00902798AB8F23D5B6@jupiter.sc.arbitrade.com>
Message-ID: <15335.25528.827655.23119@sonny.eddelbuettel.com>


  Vadim> * Do I need to make any modifications to the configure in order to
  Vadim> build R that can dynamically link with BLAS shared library? If not,
  Vadim> than the precompiled binary distribution should be able of doing
  Vadim> this as well, right?  

That is how we worked it out for Debian where both Atlas and the standard
(non-optimized) Blas provide a shared library libblas.so.  The default one
is /usr/lib/libblas.so.* and is found by default; the optimized Atlas
version sits in /usr/lib/$ARCH/libblas.so.*  [1] 

Currently, this requires us to tell the dynamic linker ld.so about it via the
LD_LIBRARY_PATH variable which is set from the R shell script. We tried to
get the glibc maintainers to automatically look into /usr/lib/$ARCH but were
unsuccessful. 

  Vadim> * I assume that the order of building BLAS and R does not matter (as
  Vadim> opposed to the static linking case).

Correct.

  Vadim> * How do I tell that R successfully finds the BLAS shared library?

Use ldd.  Without the variable, the default libblas is found:
edd at homebud:~> ldd /usr/lib/R/bin/R.bin
        libblas.so.2 => /usr/lib/libblas.so.2 (0x40023000)     <---- HERE
        libm.so.6 => /lib/libm.so.6 (0x40074000)
        libz.so.1 => /usr/lib/libz.so.1 (0x40096000)
        libreadline.so.4 => /lib/libreadline.so.4 (0x400a6000)
        libdl.so.2 => /lib/libdl.so.2 (0x400cb000)
        libncurses.so.5 => /lib/libncurses.so.5 (0x400cf000)
        libc.so.6 => /lib/libc.so.6 (0x4010f000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

With LD_LIBRARY_PATH set, the Atlas one is found 

edd at homebud:~> LD_LIBRARY_PATH=/usr/lib/atlas/ ldd /usr/lib/R/bin/R.bin
        libblas.so.2 => /usr/lib/atlas/libblas.so.2 (0x40016000)    <--- HERE
        libm.so.6 => /lib/libm.so.6 (0x402a4000)
        libz.so.1 => /usr/lib/libz.so.1 (0x402c6000)
        libreadline.so.4 => /lib/libreadline.so.4 (0x402d6000)
        libdl.so.2 => /lib/libdl.so.2 (0x402fb000)
        libncurses.so.5 => /lib/libncurses.so.5 (0x402ff000)
        libc.so.6 => /lib/libc.so.6 (0x4033f000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

This works for us. You could of course install Debian instead of RH.

Hope this helps,  Dirk

[1] Here, $ARCH will vary for "optimisable" processors such as the pIII or
k7; my Celeron uses the default /usr/lib/atlas.

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Tue Nov  6 07:15:33 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Mon, 5 Nov 2001 22:15:33 -0800 (PST)
Subject: [R] Canonical Correspondence analysis-CoCoAn package
Message-ID: <20011106061533.16539.qmail@web20110.mail.yahoo.com>

Hi R-users,

   I am new to R environment.I want to carry out a
correspondence analysis on a contigency table with 64
columns and 298 observation of Environmental data.In
many cells of the contigency table the frequency is
just the value '1'.

I got the  following error.


> CAIV(Eplankton)
Error in if (L[i, j] < 0) return("Table L must contain
non-negative numbers") : 
        missing value where logical needed
In addition: Warning message: 
"<" not meaningful for factors in:Ops.factor(L[i,j],0)


Any suggestion on what went wrong.

Thanks in advance

srinivas 



__________________________________________________

Find a job, post your resume.
http://careers.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Nov  6 10:29:17 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 06 Nov 2001 10:29:17 +0100 (CET)
Subject: [R] ATLAS
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D5B6@jupiter.sc.arbitrade.com>
Message-ID: <XFMail.20011106102917.plummer@iarc.fr>

On 06-Nov-2001 Vadim Ogranovich wrote:
> Dear R-users,
> 
> I want to install R on our new Red Hat machine and I want R to use ATLAS for
> its linear algebra calculations. The R-admin manual recommends building
> ATLAS into a shared BLAS library, which means that R should be able of
> detecting the library at RUN-TIME and fall back if there is none.
> 
> I remember there was a discussion how to make R use BLAS, but that seems to
> deal with static linking only. Actually the very existence of that
> discussion made me doubt about the things that are probably obvious. So here
> are my questions:
> 
> * Do I need to make any modifications to the configure in order to build R
> that can dynamically link with BLAS shared library? If not, than the
> precompiled binary distribution should be able of doing this as well, right?

Unfortunately not, because the precompiled binary is not dynamically linked
with BLAS.  As a matter of policy, I only link with libraries that are provided
on the main Red Hat distribution.  The blas library only appeared in the main
distribution in release 7.1 (Previously it was on the Powertools CD).
I have to cater for 7.0, 7.1 and 7.2, which means that you get the lowest
common denominator.  

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Tue Nov  6 10:41:46 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Tue, 6 Nov 2001 10:41:46 +0100
Subject: [R] Canonical Correspondence analysis-CoCoAn package
In-Reply-To: <20011106061533.16539.qmail@web20110.mail.yahoo.com>
References: <20011106061533.16539.qmail@web20110.mail.yahoo.com>
Message-ID: <a05010400b80d5fc45037@[134.214.32.69]>

I don't understand why.. your matrix must contain only non-negative 
number. I think that the problem is that your data "Eplankton" is not 
convenient for CAIV. Can you send me your data set so i will see 
where is the problem.


>Hi R-users,
>
>    I am new to R environment.I want to carry out a
>correspondence analysis on a contigency table with 64
>columns and 298 observation of Environmental data.In
>many cells of the contigency table the frequency is
>just the value '1'.
>
>I got the  following error.
>
>
>>  CAIV(Eplankton)
>Error in if (L[i, j] < 0) return("Table L must contain
>non-negative numbers") :
>         missing value where logical needed
>In addition: Warning message:
>"<" not meaningful for factors in:Ops.factor(L[i,j],0)
>
>
>Any suggestion on what went wrong.
>
>Thanks in advance

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve.cassidy at mq.edu.au  Tue Nov  6 11:22:17 2001
From: steve.cassidy at mq.edu.au (Steve Cassidy)
Date: Tue, 6 Nov 2001 21:22:17 +1100
Subject: [R] TCL/TK package for Mac
In-Reply-To: <x2bsih4ifs.fsf@blueberry.kubism.ku.dk>
References: <B80C360C.CC%ycchang@sinica.edu.tw> <x2bsih4ifs.fsf@blueberry.kubism.ku.dk>
Message-ID: <E1613N3-0000V1-00@sputnik>

On Mon, 5 Nov 2001 21:32, you wrote:
> Ivan <ycchang at sinica.edu.tw> writes:
> > Is there a TCL/TK package for Mac (running OS 9.x)?
>
> Not at this moment. There's a piece missing in getting the event
> handling integrated with that of R. Steve Cassidy said he was going to
> look into it at some point. It is not believed to be a hard problem,
> but there is some lack of coincidence between heads knowing about Tcl
> and heads knowing R internals on the Mac....

I might have a look at this fairly soon, at least to dedicate a few hours of 
my Mac expert's time to it (he's one of the Tcl maintainers so should make 
short work of it). No promises, but watch this space.

Steve
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov  6 14:58:48 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 6 Nov 2001 13:58:48 +0000
Subject: [R] Stratified study.
In-Reply-To: <5.1.0.14.0.20011031143547.00a694b0@mail.vt.edu>
References: <5.1.0.14.0.20011031143547.00a694b0@mail.vt.edu>
Message-ID: <ZiKOwEAYy+57Ew96@myatt.demon.co.uk>

Maarten van Gelder <mvgelder at vt.edu> writes:

>I am analyzing the results of a survey of the student body on the use of 
>certain technologies. The student body was divided in strata according to 
>two criteria, college and user class. The resulting 24 strata were sampled. 
>Subjects filled out a survey with a number of questions, most of them of 
>the yes-no variety. I created a data.frame with the results for the survey. 
>One row for each subject, one column for each question. Additional columns 
>are for a subject identifier, college, and user class. The 'yes' and 'no' 
>responses were represented by '1' and '0' respectively. The other responses 
>were already numeric.
>
>The design is that of a stratified random sampling with unequal weights. I 
>created a weight vector 'wt' with the weight for each observation 
>(subject), from the total population, the stratum size, and the number of 
>subjects in each stratum. Using the weighted.mean procedure, I calculated 
>the mean for each question. Per strata means I can calculate with the 
>aggregate function. This is about as far as my knowledge of statistics and 
>of R has taken me. I am not sure how to go about testing for a stratum 
>effect (on a per question basis, or across all questions), or pair wise 
>comparisons between strata (e.g. are there proportionally more laptop 
>owners among the undergraduate engineering students than among their peers 
>in architecture). I would greatly appreciate it if someone could steer me 
>in the right direction.

This looks like a job for GEE methods. These are implemented in the gee
add-in package.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov  6 12:09:18 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 6 Nov 2001 11:09:18 +0000
Subject: [R] vector problems
In-Reply-To: <1004972500.16027.8.camel@CI519122-B>
References: <1004972500.16027.8.camel@CI519122-B>
Message-ID: <5ALmoAAeT857Ew7c@myatt.demon.co.uk>

Christopher Fonnesbeck <chris at fonnesbeck.net> writes:
>I dont get it:
>
>> is.vector(c(mydf[1]))
>[1] TRUE
>> unique(c(mydf[1]))
>Error in unique(c(mydf[1])) : unique() applies only to vectors
>> 
>
>Is it a vector or not? This stuff is driving me nuts. I'm simply trying
>to convince R that my grouping vector is actually a vector so that
>unique will work. Its just a vector of numbers, so why shouldnt it work?

See the "Operators" section of the language definition in the help
system ... data.frames are implemented as lists and the way to access
list components is to use the $ operator with the component name (e.g.
(mydf$var) or using the [[ operator with the index of the component
(e.g. mydf[[1]]). You need something like:

        unique(mydf[[1]])

I hope that helps.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov  6 12:22:51 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 6 Nov 2001 11:22:51 +0000
Subject: [R] HELP ME
In-Reply-To: <000d01c16601$25e2b720$c5100e97@viscontidamiano>
References: <000d01c16601$25e2b720$c5100e97@viscontidamiano>
Message-ID: <LQuq8FALg857EwdE@myatt.demon.co.uk>

Damiano Visconti <davisco at tiscalinet.it> writes:
>    I have a problem with R-graphics.
>    Infact, I would want to plot a graphic with a logaritmic-scale on 
>    the axis Y, 
>    and I would want to see only the tickmarks (10e-1, 10e-2, 10e-3 
>    etc.).
>    More easily, I must plot a cell loss probability in a node of 
>    telecomunication system.
>    ?
>    Thanks in advance,
>    Damiano.

Use log="y" and axes = FALSE on with plot() and then set the axes
directly using axis(). Something like:

        plot(runif(100, 0, 100000), log = "y", axes = FALSE)
        axis(1)
        axis(2, at = 10^c(0:5), 
             labels = expression(10^0, 10^1, 10^2, 10^ 3, 10^4, 10^5))

Hope that helps,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Tue Nov  6 16:21:18 2001
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Tue, 6 Nov 2001 16:21:18 +0100
Subject: [R] Inverse Matrices
Message-ID: <20011106152118.IBPH3187.fep06-svc.ttyl.com@localhost>

I have a problem with finding the inverse of a matrix. I have a square
9x9 matrix, A, and when I do solve(A) to find the inverse I get the
following error message:

Error in solve.default(A) : singular matrix `a' in solve

Has anybody got any ideas as to why this is happening?

Thanks 

Laura Gross



_______________________________________________________________________
Never pay another Internet phone bill!
Freeserve AnyTime, for all the Internet access you want, day and night, only ?12.99 per month.
Sign-up at http://www.freeserve.com/time/anytime


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  6 16:27:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 15:27:40 +0000 (GMT)
Subject: [R] Inverse Matrices
In-Reply-To: <20011106152118.IBPH3187.fep06-svc.ttyl.com@localhost>
Message-ID: <Pine.LNX.4.31.0111061526010.22427-100000@gannet.stats>

On Tue, 6 Nov 2001 laura at bayesian-bay.freeserve.co.uk wrote:

> I have a problem with finding the inverse of a matrix. I have a square
> 9x9 matrix, A, and when I do solve(A) to find the inverse I get the
> following error message:
>
> Error in solve.default(A) : singular matrix `a' in solve
>
> Has anybody got any ideas as to why this is happening?

Because the matrix probably does not have an inverse, or is extremely
close to one that does not.  Look at its eigendecomposition or svd to
learn more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Tue Nov  6 17:10:04 2001
From: pem at theriver.com (Patrick E. McKnight)
Date: Tue, 6 Nov 2001 16:10:04 -0000
Subject: [R] Item Response Analysis
Message-ID: <20011106161004.74D7E7D4C@galileo.mcknightconsulting.com>

For those interested in Item Response models in R, please consult the 
following URL:

http://ssm.sf.net

We would greatly appreciate help integrating our existing C++ parameter 
estimation code into R.  I have completed the graphics functions and am just 
about finished with the fit indices (all in R/S code), however, I still use 
the estimation code outside R.  Brian, we have both dichotomous as well as 
polytomous (generalized partial credit model) parameter estimation 
procedures.  The code is released under a suitable license for R folks.  If 
anyone who has R and C++ knowledge would be willing to help, we would greatly 
appreciate it.  Thanks.

-- 
Cheers,

Patrick


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl1973 at yahoo.com  Tue Nov  6 17:07:35 2001
From: brianscholl1973 at yahoo.com (Brian Scholl)
Date: Tue, 6 Nov 2001 08:07:35 -0800 (PST)
Subject: [R] batch mode
In-Reply-To: <3BE3078E.888FAAB2@optushome.com.au>
Message-ID: <20011106160735.67383.qmail@web12202.mail.yahoo.com>

Is there a way to run R in batch mode on windows?



__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl1973 at yahoo.com  Tue Nov  6 17:12:31 2001
From: brianscholl1973 at yahoo.com (Brian Scholl)
Date: Tue, 6 Nov 2001 08:12:31 -0800 (PST)
Subject: [R] time series-V+R
In-Reply-To: <3BE3078E.888FAAB2@optushome.com.au>
Message-ID: <20011106161231.48155.qmail@web12206.mail.yahoo.com>

I tried to follow the code in Venables + Ripley
regarding time series.  When I compute the
periodogram, no confidence intervals are spit out as
per the book, and none are drawn on the figure. 
Actually, I don't even really understand what the
intervals printed in the book relate to, the interval
ranges should be different at different cycles. How do
I get them on the graph, and also get the values as a
series.

Thanks

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  6 17:38:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 16:38:07 +0000 (GMT)
Subject: [R] batch mode
In-Reply-To: <20011106160735.67383.qmail@web12202.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0111061637060.22594-100000@gannet.stats>

On Tue, 6 Nov 2001, Brian Scholl wrote:

> Is there a way to run R in batch mode on windows?

See the rw-FAQ Q 2.7.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Nov  6 17:46:45 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 06 Nov 2001 12:46:45 -0400
Subject: [R] batch mode
References: <20011106160735.67383.qmail@web12202.mail.yahoo.com>
Message-ID: <3BE813F5.3C245CA9@umsanet.edu.bo>

Yes. See the R for windows FAQ 2.7

Kjetil Halvorsen


Brian Scholl wrote:
> 
> Is there a way to run R in batch mode on windows?
> 
> __________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Nov  6 18:40:00 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 06 Nov 2001 18:40:00 +0100 (CET)
Subject: [R] time series-V+R
In-Reply-To: <20011106161231.48155.qmail@web12206.mail.yahoo.com>
Message-ID: <XFMail.20011106184000.plummer@iarc.fr>

On 06-Nov-2001 Brian Scholl wrote:
> I tried to follow the code in Venables + Ripley
> regarding time series.  When I compute the
> periodogram, no confidence intervals are spit out as
> per the book, and none are drawn on the figure.

It works for me.  It is true that the confidence interval
is not printed alongside the bandwidth on the bottom
of the plot in the R version.  However, an error bar is
plotted (in blue) in the top right hand corner of the graph.
If this doesn't appear, then you need to give a more specific
example.

> Actually, I don't even really understand what the
> intervals printed in the book relate to, the interval
> ranges should be different at different cycles.

The confidence intervals are relative intervals.
To get a confidence interval for a particular frequency
then you must add the spectral density estimate (in
decibels) at that frequency.  If you don't believe that
then you need to consult a book on time series. Follow
the references in help(spectrum).

> How do
> I get them on the graph, and also get the values as a
> series.

The function that calculates the confidence intervals
is spec.ci() which is defined inside plot.spec(). You
can copy and paste it and use it on the output from
spec.pgram().

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov  6 18:57:33 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 6 Nov 2001 12:57:33 -0500 (EST)
Subject: [R] time series-V+R
In-Reply-To: <20011106161231.48155.qmail@web12206.mail.yahoo.com>
Message-ID: <Pine.LNX.4.30.0111061248460.2280-100000@bolker.zoo.ufl.edu>


  Have you looked at the online R complements?
  Although R and S-PLUS have similar functionality, this is one place
where the cosmetic details are somewhat different.
  As it turns out, the logarithmic confidence intervals are constant for
spectra, so they *are* the same for all frequencies.  (I don't know how
much detail V&R provide, since my copy is 5000 miles away, but I'm sure
they at least give references.)

  Ben Bolker


On Tue, 6 Nov 2001, Brian Scholl wrote:

> I tried to follow the code in Venables + Ripley
> regarding time series.  When I compute the
> periodogram, no confidence intervals are spit out as
> per the book, and none are drawn on the figure.
> Actually, I don't even really understand what the
> intervals printed in the book relate to, the interval
> ranges should be different at different cycles. How do
> I get them on the graph, and also get the values as a
> series.
>
> Thanks
>
> __________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Nov  6 18:57:14 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 06 Nov 2001 18:57:14 +0100
Subject: [R] Creating a dataframe from several numeric and character vectors
Message-ID: <3BE8247A.DD194BEE@psy.uni-muenchen.de>

Hi all,

I want to combine some numeric vectors and one character vector to a
dataframe and did this:

    dat <- cbind(type, key,response, st)
    dimnames(dat) <- list(NULL, labels)
    dat <- data.frame(as.numeric(dat$"type"),
as.numeric(dat$"key"),                                            
as.numeric(dat$"response"), dat$"st")

where st is the character vector. I got this error:

Error in "names<-.default"(*tmp*, value = vnames) : 
	names attribute must be the same length as the vector

If I only type

    dat <- data.frame(dat)

then all variables are factors. I need all variables as numeric except
st. How can I do it?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From doraiss at auburn.edu  Tue Nov  6 18:58:25 2001
From: doraiss at auburn.edu (Sundar Dorai-Raj)
Date: Tue, 6 Nov 2001 11:58:25 -0600
Subject: [R] Inverse Matrices
In-Reply-To: <20011106152118.IBPH3187.fep06-svc.ttyl.com@localhost>
Message-ID: <001601c166ec$a1fecd30$4a35cc83@sundar>

Looks like A is a singular matrix, hence no inverse. Try det(A) to see
if the determinant is 0 (or close to zero).

If that's not the case, perhaps you can send the actual matrix you're
working with?

Sundar

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch 
> [mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of 
> laura at bayesian-bay.freeserve.co.uk
> Sent: Tuesday, November 06, 2001 9:21 AM
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] Inverse Matrices
> 
> 
> I have a problem with finding the inverse of a matrix. I have 
> a square 9x9 matrix, A, and when I do solve(A) to find the 
> inverse I get the following error message:
> 
> Error in solve.default(A) : singular matrix `a' in solve
> 
> Has anybody got any ideas as to why this is happening?
> 
> Thanks 
> 
> Laura Gross
> 
> 
> 
> ______________________________________________________________
> _________
> Never pay another Internet phone bill!
> Freeserve AnyTime, for all the Internet access you want, day 
> and night, only ?12.99 per month. Sign-up at 
> http://www.freeserve.com/time/anytime
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  6 20:31:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 19:31:53 +0000 (GMT)
Subject: [R] Creating a dataframe from several numeric and character
 vectors
In-Reply-To: <3BE8247A.DD194BEE@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.31.0111061930280.22803-100000@gannet.stats>

On Tue, 6 Nov 2001, Sven Garbade wrote:

> Hi all,
>
> I want to combine some numeric vectors and one character vector to a
> dataframe and did this:
>
>     dat <- cbind(type, key,response, st)
>     dimnames(dat) <- list(NULL, labels)
>     dat <- data.frame(as.numeric(dat$"type"),
> as.numeric(dat$"key"),
> as.numeric(dat$"response"), dat$"st")
>
> where st is the character vector. I got this error:
>
> Error in "names<-.default"(*tmp*, value = vnames) :
> 	names attribute must be the same length as the vector
>
> If I only type
>
>     dat <- data.frame(dat)
>
> then all variables are factors. I need all variables as numeric except
> st. How can I do it?

dat <- data.frame(type=as.numeric(dat$"type"),, key =
as.numeric(dat$"key"), response = as.numeric(dat$"response"), st=dat$"st")

It needs to be given suitable names.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue Nov  6 20:34:52 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 6 Nov 2001 14:34:52 -0500
Subject: [R] R CMD check, undoc and package checking
Message-ID: <15336.15196.523055.625172@gargle.gargle.HOWL>

As cool and wonderful as the package checking tools for R are, I sometimes am
stymied when trying to track down a problem. For example, I occasionally see
error messages when running R CMD check like the following:

[...]
* checking Rd files ... OK
* checking for undocumented objects ... ERROR
*   in parse(file, n, text, prompt) : syntax error on line 932
*  in undoc(dir = "/home/a296180/tmp/pyri.port") : 

At this point, I want to go look at line 932 of some file. Question 1: Where is
this file? I wonder if this is connected to the tendency of R CMD check to
delete files when it finishes, even when there is an error. Going well beyond
my level of technical competence, I see in the code (lines 600-604)

        open Rout,  "< $Rout";
        while (<Rout>) {chomp; push(@out, $_);}
        close Rout;
        unlink($Rcmd);
        unlink($Rout);

Question 2: Is there some way (other than commenting out all the unlink
commands) to have R CMD check not delete any files? I suspect that this would
make searching for the problem easier in some cases.

Of course, I am given a clue because of the reference to undoc. I can then read
the help page and run undoc from the R prompt:

> undoc(dir= "/home/a296180/tmp/pyri.port")
Error in parse(file, n, text, prompt) : syntax error on line 932
Error in undoc(dir = "/home/a296180/tmp/pyri.port") : 
	cannot source package code

Again, I am sent to line 932, but still don't know what file to look
in. Looking into the undoc code, I see (line 455-458):

        if (file.exists(codeDir <- file.path(dir, "R"))) {
            codeFile <- tempfile("Rbuild")
            on.exit(unlink(codeFile))
            codeExts <- c("R", "r", "S", "s", "q")

It seems like the on.exit command is key. The error is in codeFile, but there is
no way to save codeFile, other than commenting out this line. When I do so, I
see, of course, that around line 932 is the following:

reporting <- function(mode,
                      univ = NULL
                      ...){

which is, indeed, an error (I need a comma after the NULL). However, finding
this error seemed harder than it should be.

Question 3: Am I missing something? Is there some methodology that I should be
following which would have made it much easier to discover the missing comma?


> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   
> 


Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Nov  6 22:28:12 2001
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 06 Nov 2001 16:28:12 -0500
Subject: [R] Creating a dataframe from several numeric and
  character vectors
In-Reply-To: <3BE8247A.DD194BEE@psy.uni-muenchen.de>
Message-ID: <5.1.0.14.2.20011106162414.01d259b8@mcmail.cis.mcmaster.ca>

Dear Svend,

At 06:57 PM 11/6/2001 +0100, Sven Garbade wrote:

>I want to combine some numeric vectors and one character vector to a
>dataframe and did this:
>
>     dat <- cbind(type, key,response, st)
>     dimnames(dat) <- list(NULL, labels)
>     dat <- data.frame(as.numeric(dat$"type"),
>as.numeric(dat$"key"),
>as.numeric(dat$"response"), dat$"st")
>
>where st is the character vector. I got this error:
>
>Error in "names<-.default"(*tmp*, value = vnames) :
>         names attribute must be the same length as the vector
>
>If I only type
>
>     dat <- data.frame(dat)
>
>then all variables are factors. I need all variables as numeric except
>st. How can I do it?

The problem here is that cbind coerces all of the data to character, since 
the matrix that it creates has to be homogenous. The solution is simply to 
use data.frame directly, as in:

         data <- data.frame(type, key, response, st)

Note that, by default, st will be converted into a factor in the data 
frame. If you want to preserve it as a character vector, protect it with 
the I function:

         data <- data.frame(type, key, response, I(st))

I hope that this helps,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Wed Nov  7 00:53:37 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Tue, 6 Nov 2001 17:53:37 -0600 
Subject: [R] RPM digital signature
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D5BA@jupiter.sc.arbitrade.com>

I thought I'd install the binary RPM for Red Hat 7.1. Following the advice
from the ReadMe I checked the GPG signature (sorry, I have very little idea
what it is) of the .rpm files. Here is what I got.

% rpm --checksig *.rpm
R-base-1.3.1-3.i386.rpm: md5 GPG NOT OK
R-recommended-1.3.1-1.i386.rpm: md5 (GPG) OK (MISSING KEYS: GPG#97D3544E) 

Does it indicate any problem?

Thanks, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Wed Nov  7 02:21:32 2001
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Wed, 7 Nov 2001 12:21:32 +1100 
Subject: [R] adding text to persp
Message-ID: <576A86EC05E22742A26B1D742DE752921F16CE@molly.tas.csiro.au>

On a related topic to this - can someone tell me how to independently alter
the fontsize and position of text on a persp plot?? 
I've tried using titles() and axes() but they seem to only apply to the
standard plot() and contour plots (contour() and filled.contour(). 

Toby 

-----Original Message-----
From: Paul Murrell [mailto:p.murrell at auckland.ac.nz]
Sent: 15 October, 2001 9:29 AM
To: dorairaj at dms.auburn.edu; r-help at stat.math.ethz.ch
Subject: Re: [R] adding text to persp


Hi


> Any ideas on adding text to persp plots? The perspp function from S-plus
> is not implemented. I'm using R1.3.0 on Win2000.


One thing that might be useful to try is something like ...

    persp(1:10, 1:10, outer(1:10, 1:10))
    text(locator(1), "Here's some text")  # click on graph where you want
text

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpocerni at math.cudenver.edu  Wed Nov  7 04:39:54 2001
From: mpocerni at math.cudenver.edu (Matt Pocernich)
Date: Tue, 6 Nov 2001 20:39:54 -0700 (MST)
Subject: [R] Filtering data
Message-ID: <Pine.LNX.4.33.0111062028470.25690-100000@math.cudenver.edu>

Hello,

I am having difficulty filtering data.  I am working with flow data
collected at a stream gage.  For each record, I have a date and flow
value.  I have filtered this data to only include days when flow values
exceed a given threshold.

Here is my problem.  Within this subset of data, I often have several
consecutive days above the threshold.  From this group of days, I wish to
select the record (both date and flow) containing the maximum flow.  If an
exceedance is isolated ( the preceeding and succeeding day is below the
threshold) I also wish to select that record.

For example from the data set

Day 	Flow

1	10
4 	13
5	20
6	15
9	13

I would like the 1st, 3rd and 5th record filered.

Any ideas on how I would write such and algorithm would be appreciated.

Thanks,

Matt Pocernich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From perlt at reinforcement.de  Wed Nov  7 09:12:49 2001
From: perlt at reinforcement.de (Holger Perlt)
Date: Wed, 07 Nov 2001 09:12:49 +0100
Subject: [R] C code
Message-ID: <3BE8ED01.E5C8DA9B@reinforcement.de>

Hello,


I am new  as R user. After reading the manual I did not understand one
thing:

Is it possible to write a stand-alone C-program (e.g. with its own GUI
etc.) using
R functions inside? (via the R.dll in the Windows case)

I understand that it is possible to write C-code to be used inside R,
which
1. do not use R-functions itself (called with .C)
2. do use R-structures inside (called with .Call)

Is this right?
Are there very simple introductionary examples for my case - if this is
possible
at all?

Best regards,
Holger

-- 
PD Dr. habil. Holger Perlt
Diplomphysiker/Gesch?ftsf?hrer
Reinforcement Control GmbH
Karl-Heine-Str. 99
04229 Leipzig
Germany
Phone: 	++49 (0)341 9410370
Fax:	++49 (0)341 9410372
http://www.reinforcement.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From perlt at reinforcement.de  Wed Nov  7 10:25:16 2001
From: perlt at reinforcement.de (Holger Perlt)
Date: Wed, 07 Nov 2001 10:25:16 +0100
Subject: [R] Rcmd?
Message-ID: <3BE8FDFC.97929280@reinforcement.de>

Hello,

a short question:
I cannot find the Rcmd file in the my installed Windows R Program.
It is not known as a command inside R (which is not intended as I
suppose)
nor as an executable or similar file elsewhere?

How can I make my own package?

Holger

-- 
PD Dr. habil. Holger Perlt
Diplomphysiker/Gesch?ftsf?hrer
Reinforcement Control GmbH
Karl-Heine-Str. 99
04229 Leipzig
Germany
Phone: 	++49 (0)341 9410370
Fax:	++49 (0)341 9410372
http://www.reinforcement.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joerg.maeder at ethz.ch  Wed Nov  7 10:58:02 2001
From: joerg.maeder at ethz.ch (Joerg Maeder)
Date: Wed, 07 Nov 2001 10:58:02 +0100
Subject: [R] Filtering data
References: <Pine.LNX.4.33.0111062028470.25690-100000@math.cudenver.edu>
Message-ID: <3BE905AA.DABFF845@ethz.ch>

here a way to do it

#your data (days have to be sorted!)
da <- cbind(c(1,4,5,6,9),c(10,13,20,15,13))
#the length of it
l <- dim(da)[1]
#make day-groups
gr <- cumsum(c(T,da[2:l]-da[2:l-1]>1))
#find the index of the maximum of each group
mi <- tapply(da[,2],gr,function(a)(1:length(a))[a==max(a)])
#add them to the start index of each group
mi <- c(0,cumsum(tapply(da[,2],gr,length)))[1:length(mi)]+mi
#output
da[mi,]

Matt Pocernich wrote:
> 
> Hello,
> 
> I am having difficulty filtering data.  I am working with flow data
> collected at a stream gage.  For each record, I have a date and flow
> value.  I have filtered this data to only include days when flow values
> exceed a given threshold.
> 
> Here is my problem.  Within this subset of data, I often have several
> consecutive days above the threshold.  From this group of days, I wish to
> select the record (both date and flow) containing the maximum flow.  If an
> exceedance is isolated ( the preceeding and succeeding day is below the
> threshold) I also wish to select that record.
> 
> For example from the data set
> 
> Day     Flow
> 
> 1       10
> 4       13
> 5       20
> 6       15
> 9       13
> 
> I would like the 1st, 3rd and 5th record filered.
> 
> Any ideas on how I would write such and algorithm would be appreciated.
> 
> Thanks,
> 
> Matt Pocernich
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Baxter at ru.ac.za  Wed Nov  7 11:23:53 2001
From: J.Baxter at ru.ac.za (Jeremy Baxter)
Date: Wed, 7 Nov 2001 12:23:53 +0200
Subject: [R] Teaching with R. Quick survey.
Message-ID: <01110712235307.01151@st27.stats.ru.ac.za>

Hi

I am presenting a "little" talk at the annual South African Statistical 
Association on why/how/what R is and why we should be using R for teaching.

I would like to compile a list of where (institution/country) and how (what 
sections of statistics/mathematics) R is being used.

Please post your reply to me directly, j.baxter at ru.ac.za.  I will post a 
summary to the list.

Thankx you.
Jeremy

-- 
Jeremy Baxter
J.Baxter at ru.ac.za
Views expressed above, no matter how badly spelt, are my own... i think?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Wed Nov  7 11:56:05 2001
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 7 Nov 2001 10:56:05 +0000
Subject: [R] Mapping in R - in the common sense
Message-ID: <20011107105604.C1491@socrates-a.ucl.ac.uk>

Dear R people,

I am wondering how difficult it would be to produce graphs based on maps in R (like "a county is red
where x is high").  I reckon this requires the coordinates for the polygons that make up the 
map and also a mapping to a set of identifiers to assign colours, hatches, etc.
Would it be possible to pass R a vector graphics of the map and back out the polygon definitions from 
that (supposing that the map is drawn the same way, ie redundantly with full polygons)?  If yes, there 
could be a matrix with the identifiers and the polygon parameters....  If no, is there any other/better 
idea.  Has anyone tried this before?

Thanks,
Zsbombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Wed Nov  7 12:37:44 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Wed, 7 Nov 2001 12:37:44 +0100
Subject: [R] Canonical Correspondence analysis-CoCoAn package
In-Reply-To: <20011107103523.4247.qmail@web20108.mail.yahoo.com>
References: <20011107103523.4247.qmail@web20108.mail.yahoo.com>
Message-ID: <a05010403b80eca23aad7@[134.214.32.69]>

Dear srinivasa,
i've look at your file.. There is an empty cell (species: the second 
RO81, row:76) that crash the CAIV function !!.
So you must modify your file, save it in text and do:

Eplank_read.table("Zoo_plankton.txt",heder=T,sep="\t")
matE_data.matrix(Eplank[,3:67]) #dim(matE): 296 by 65
CAIV(matE)

Sincerely

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Nov  7 13:28:54 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 7 Nov 2001 13:28:54 +0100 (MET)
Subject: [R] C code
In-Reply-To: <3BE8ED01.E5C8DA9B@reinforcement.de>
Message-ID: <Pine.OSF.3.96.1011107132714.6923J-100000@ija.csic.es>


Holger,

Check in the r-help archives 
an excellent example (with comments) provided
by Duncan Temple Lang <duncan at research.bell-labs.com>
on Fri, 19 Oct 2001 10:11:07 -0400

(I can forward it to you if you cannot find the
message)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 7 Nov 2001, Holger Perlt wrote:

> Hello,
> 
> 
> I am new  as R user. After reading the manual I did not understand one
> thing:
> 
> Is it possible to write a stand-alone C-program (e.g. with its own GUI
> etc.) using
> R functions inside? (via the R.dll in the Windows case)
> 
> I understand that it is possible to write C-code to be used inside R,
> which
> 1. do not use R-functions itself (called with .C)
> 2. do use R-structures inside (called with .Call)
> 
> Is this right?
> Are there very simple introductionary examples for my case - if this is
> possible
> at all?
> 
> Best regards,
> Holger
> 
> -- 
> PD Dr. habil. Holger Perlt
> Diplomphysiker/Geschftsfhrer
> Reinforcement Control GmbH
> Karl-Heine-Str. 99
> 04229 Leipzig
> Germany
> Phone: 	++49 (0)341 9410370
> Fax:	++49 (0)341 9410372
> http://www.reinforcement.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Nov  7 13:46:59 2001
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 07 Nov 2001 07:46:59 -0500
Subject: [R] Filtering data
In-Reply-To: <Pine.LNX.4.33.0111062028470.25690-100000@math.cudenver.edu
 >
Message-ID: <5.1.0.14.2.20011107074401.01d6bf30@mcmail.cis.mcmaster.ca>

At 08:39 PM 11/6/2001 -0700, Matt Pocernich wrote:

>I am having difficulty filtering data.  I am working with flow data
>collected at a stream gage.  For each record, I have a date and flow
>value.  I have filtered this data to only include days when flow values
>exceed a given threshold.
>
>Here is my problem.  Within this subset of data, I often have several
>consecutive days above the threshold.  From this group of days, I wish to
>select the record (both date and flow) containing the maximum flow.  If an
>exceedance is isolated ( the preceeding and succeeding day is below the
>threshold) I also wish to select that record.
>
>For example from the data set
>
>Day     Flow
>
>1       10
>4       13
>5       20
>6       15
>9       13
>
>I would like the 1st, 3rd and 5th record filered.
>
>Any ideas on how I would write such and algorithm would be appreciated.

Dear Matt,

Here's a function that does what you want with loops. Perhaps someone else 
will produce a more elegant solution:

     > select.rows <- function(data) {
     +     indices <- data[,1]
     +     values <- data[,2]
     +     n <- length(indices)
     +     if (n == 0) stop('no data')
     +     if (n == 1) return(data)
     +     selection <- rep(0, n)  # so as not to grow the selection vector
     +     current <- 1
     +     number <- 1
     +     for (i in 2:n){
     +         if (indices[i] == 1 + indices[i - 1]){
     +             if (values[i] > values[current]) current <- i
     +             }
     +         else {
     +             selection[number] <- current
     +             number <- number + 1
     +             current <- i
     +             }
     +         }
     +     selection[number] <- current
     +     data[selection,]
     +     }
     >
     > data <- matrix(c(1,4,5,6,9, 10,13,20,15,13), 5, 2)
     > colnames(data) <- c('Day', 'Flow')
     > select.rows(data)
         Day Flow
     [1,]   1   10
     [2,]   5   20
     [3,]   9   13


I hope that this isn't too inefficient.

John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From banks_bob at hotmail.com  Wed Nov  7 15:02:07 2001
From: banks_bob at hotmail.com (Bob Banks)
Date: Wed, 07 Nov 2001 14:02:07 +0000
Subject: [R] Help on programming
Message-ID: <F101ZnxV9j1TWCKis9n0000187d@hotmail.com>

I am a new user of R and would like a bit of advice.

I wish to write a short program in R that I can call up when I want to run 
it. How do I go about storing and recalling the particular code that I 
write?

Many thanks
Bob Banks

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Nov  7 15:25:47 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 07 Nov 2001 15:25:47 +0100 (CET)
Subject: [R] RPM digital signature
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D5BA@jupiter.sc.arbitrade.com>
Message-ID: <XFMail.20011107152547.plummer@iarc.fr>

On 06-Nov-2001 Vadim Ogranovich wrote:
> I thought I'd install the binary RPM for Red Hat 7.1. Following the advice
> from the ReadMe I checked the GPG signature (sorry, I have very little idea
> what it is) of the .rpm files. Here is what I got.
> 
> % rpm --checksig *.rpm
> R-base-1.3.1-3.i386.rpm: md5 GPG NOT OK
> R-recommended-1.3.1-1.i386.rpm: md5 (GPG) OK (MISSING KEYS: GPG#97D3544E) 
> 
> Does it indicate any problem?

The "missing keys" message tells you that you don't have my public key
(97D3544E) on your public key ring.  You need to download it from a key
server and add it.  See the man page for gpg for details.

The other message suggests that you have a corrupted RPM.  Try
% rpm --checksig --nogpg *.rpm
to exclude the gpg check.  If the md5 sum is not correct then you need
to download again (A corrupt RPM won't install anyway so you don't need
to do this check).  I just checked the original source files and they
are both correct.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Nov  7 15:21:39 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 07 Nov 2001 09:21:39 -0500
Subject: [R] Mapping in R - in the common sense
In-Reply-To: <20011107105604.C1491@socrates-a.ucl.ac.uk>
References: <20011107105604.C1491@socrates-a.ucl.ac.uk>
Message-ID: <ohgiutouc579f3kn7ocev5qq82ju5iifva@4ax.com>

On Wed, 7 Nov 2001 10:56:05 +0000, you wrote in message
<20011107105604.C1491 at socrates-a.ucl.ac.uk>:

>Dear R people,
>
>I am wondering how difficult it would be to produce graphs based on maps in R (like "a county is red
>where x is high").  I reckon this requires the coordinates for the polygons that make up the 
>map and also a mapping to a set of identifiers to assign colours, hatches, etc.
>Would it be possible to pass R a vector graphics of the map and back out the polygon definitions from 
>that (supposing that the map is drawn the same way, ie redundantly with full polygons)?  If yes, there 
>could be a matrix with the identifiers and the polygon parameters....  If no, is there any other/better 
>idea.  Has anyone tried this before?

There's a maps library for S that can do this.  It's incompletely
ported to R; currently it mostly works on Unix, and just recently I
got it working on Windows, but it's not packaged up and ready to
distribute yet.  It's quite large (there's a lot of data in a world
map), so I won't email it to you, but if you want the Unix version,
you can get it from Ray Brownrigg's ftp site:

ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Wed Nov  7 15:45:50 2001
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 7 Nov 2001 14:45:50 +0000
Subject: [R] Re: Mapping in R - in the common sense
In-Reply-To: <20011107105604.C1491@socrates-a.ucl.ac.uk>; from uctpzcs on Wed, Nov 07, 2001 at 10:56:05AM +0000
References: <20011107105604.C1491@socrates-a.ucl.ac.uk>
Message-ID: <20011107144549.A5466@socrates-a.ucl.ac.uk>

Thank you both for the pointer (without the STFW I deserved).  I am currently downloading the package 
from the suggested mirror.  I use Linux, so assuming it is Unix, I have hope.  To get a map I need 
(Hungary, with counties, etc inside), it seems that I need to negotiate with some local people thigh.

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Nov  7 16:20:28 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 7 Nov 2001 15:20:28 +0000 (GMT)
Subject: [R] Help on programming
In-Reply-To: <F101ZnxV9j1TWCKis9n0000187d@hotmail.com>
Message-ID: <Pine.LNX.4.10.10111071517570.5323-100000@localhost.localdomain>



On Wed, 7 Nov 2001, Bob Banks wrote:

> I am a new user of R and would like a bit of advice.
> 
> I wish to write a short program in R that I can call up when I want to run 
> it. How do I go about storing and recalling the particular code that I 
> write?
There are different ways to do it.
I usually write the code in a text file using some text editor. Then I do
source("~/papers/file.r"). Then the functions in that file are available
for use.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luisf.rivera at uah.es  Wed Nov  7 17:07:36 2001
From: luisf.rivera at uah.es (Rivera Galicia Luis Felipe)
Date: Wed, 7 Nov 2001 17:07:36 +0100
Subject: [R] Examples for Markov Chain in Economics
Message-ID: <B577AC6E5249174B87CCE9632FC54B0D467527@osiris.uah.es>

Could anyone tell me where can I find some examples of the applications
to economics of a Markov chain?
 
Many thanks in advance.
 
Luis Rivera.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Nov  7 17:26:28 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Nov 2001 08:26:28 -0800 (PST)
Subject: [R] Rcmd?
In-Reply-To: <3BE8FDFC.97929280@reinforcement.de>
Message-ID: <Pine.A41.4.33.0111070823390.199508-100000@homer07.u.washington.edu>

On Wed, 7 Nov 2001, Holger Perlt wrote:

> Hello,
>
> a short question:
> I cannot find the Rcmd file in the my installed Windows R Program.
> It is not known as a command inside R (which is not intended as I
> suppose)
> nor as an executable or similar file elsewhere?
>
> How can I make my own package?

There are various possible problems

* When installing R you need to select support for source packages

* You need Perl

* The path may be set incorrectly. In the rw1031/bin directory you should
find Rcmd.exe and files for the various Rcmd commands (eg INSTALL, REMOVE,
build, check)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed Nov  7 18:35:57 2001
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 7 Nov 2001 17:35:57 -0000
Subject: [R] Filtering data
In-Reply-To: <5.1.0.14.2.20011107074401.01d6bf30@mcmail.cis.mcmaster.ca>
Message-ID: <NEBBJLLBCLEDFLCCBKDAGEKOCBAA.mel@mcs.st-andrews.ac.uk>

How about:

grouped<-cumsum(ifelse(c(Data$Day[1]-2,Data$Day[-length(Data$Day)])!=(Data$D
ay-1) ,1,0))
peaks<-unlist(tapply(-Data$Flow,grouped,order,simplify=FALSE))
Data[peaks==1,]

 (if  I haven't messed up this finds all the rows that don't follow one from
the day before & uses them to number each group of consecutive days, then
sorts the Flows in each group, giving a vector with the groups' maxima
having value '1'. But I probably have.)

I don't know how much time it'd save.

Cheers,

Mike.


----------------------------------------------------------------
Mike Lonergan
Research Unit for Wildlife Population Assessment
Mathematical Institute
University of St Andrews
North Haugh                             Tel: +44 (0) 1334 463760
St Andrews                              Fax: +44 (0) 1334 463748
Fife KY16 9SS                      Email: mel at mcs.st-and.ac.uk
Scotland                       http://www-ruwpa.mcs.st-and.ac.uk
----------------------------------------------------------------




-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of John Fox
Sent: 07 November 2001 12:47
To: Matt Pocernich
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Filtering data


At 08:39 PM 11/6/2001 -0700, Matt Pocernich wrote:

>I am having difficulty filtering data.  I am working with flow data
>collected at a stream gage.  For each record, I have a date and flow
>value.  I have filtered this data to only include days when flow values
>exceed a given threshold.
>
>Here is my problem.  Within this subset of data, I often have several
>consecutive days above the threshold.  From this group of days, I wish to
>select the record (both date and flow) containing the maximum flow.  If an
>exceedance is isolated ( the preceeding and succeeding day is below the
>threshold) I also wish to select that record.
>
>For example from the data set
>
>Day     Flow
>
>1       10
>4       13
>5       20
>6       15
>9       13
>
>I would like the 1st, 3rd and 5th record filered.
>
>Any ideas on how I would write such and algorithm would be appreciated.

Dear Matt,

Here's a function that does what you want with loops. Perhaps someone else
will produce a more elegant solution:

     > select.rows <- function(data) {
     +     indices <- data[,1]
     +     values <- data[,2]
     +     n <- length(indices)
     +     if (n == 0) stop('no data')
     +     if (n == 1) return(data)
     +     selection <- rep(0, n)  # so as not to grow the selection vector
     +     current <- 1
     +     number <- 1
     +     for (i in 2:n){
     +         if (indices[i] == 1 + indices[i - 1]){
     +             if (values[i] > values[current]) current <- i
     +             }
     +         else {
     +             selection[number] <- current
     +             number <- number + 1
     +             current <- i
     +             }
     +         }
     +     selection[number] <- current
     +     data[selection,]
     +     }
     >
     > data <- matrix(c(1,4,5,6,9, 10,13,20,15,13), 5, 2)
     > colnames(data) <- c('Day', 'Flow')
     > select.rows(data)
         Day Flow
     [1,]   1   10
     [2,]   5   20
     [3,]   9   13


I hope that this isn't too inefficient.

John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Wed Nov  7 18:52:02 2001
From: smcnary at charm.net (Scot W McNary)
Date: Wed, 7 Nov 2001 12:52:02 -0500 (EST)
Subject: [R] Help on programming
In-Reply-To: <Pine.LNX.4.10.10111071517570.5323-100000@localhost.localdomain>
Message-ID: <Pine.BSI.4.40.0111071249150.19836-100000@fellspt.charm.net>



and if you add "echo=TRUE" and "verbose=TRUE" to the source statement you
get back a log of what commands you sent and diagnostics:

source("~/somedirectory/somefilewithcode.R", echo=TRUE, verbose=TRUE)

Typing

?source

gives yet more information.

Scot



--
  Scot W. McNary  email:smcnary at charm.net

On Wed, 7 Nov 2001, Bill Simpson wrote:

>
>
> On Wed, 7 Nov 2001, Bob Banks wrote:
>
> > I am a new user of R and would like a bit of advice.
> >
> > I wish to write a short program in R that I can call up when I want to run
> > it. How do I go about storing and recalling the particular code that I
> > write?
> There are different ways to do it.
> I usually write the code in a text file using some text editor. Then I do
> source("~/papers/file.r"). Then the functions in that file are available
> for use.
>
> Bill
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From serge at rohan.sdsu.edu  Wed Nov  7 22:11:03 2001
From: serge at rohan.sdsu.edu (Serge Rey)
Date: Thu, 8 Nov 2001 07:11:03 +1000
Subject: [R] Examples for Markov Chain in Economics
In-Reply-To: <B577AC6E5249174B87CCE9632FC54B0D467527@osiris.uah.es>
References: <B577AC6E5249174B87CCE9632FC54B0D467527@osiris.uah.es>
Message-ID: <20011108071103.A2157@typhoon.sdsu.edu>

On Wed, Nov 07, 2001 at 05:07:36PM +0100, Rivera Galicia Luis Felipe wrote:
> Could anyone tell me where can I find some examples of the applications
> to economics of a Markov chain?

here are a few applications in the context of regional income
convergence:

@article{Quah93,
   author    = {Danny Quah},
   title     = {Galton's fallacy and tests of the convergence hypothesis},
   journal   = {Scandinavian Journal of Economics},
   pages     = {427-443},
   year      = 1993,
   volume    = 95
}

@article{Quah96,
   author    = {Danny T. Quah},
   title     = {Empirics for economic growth and convergence},
   journal   = {European Economic Review},
   pages     = {1353-1375},
   year      = 1996,
   volume    = 40
}

@article{Rey01ga,
 author={Sergio J. Rey},
title={Spatial empirics for regional economic growth and convergence},
journal={Geographical Analysis},
year={2001},
volume={33},
number={3},
pages={195-214}}


-- 
Sergio J. Rey	http://typhoon.sdsu.edu/rey.html
GPG fingerprint =  16DB 4934 E0F1 B386 AE81  D379 914C 33E5 F690 95DF
emacs "Powerful, but only for those who have more time than sense."
	Stewart Stremler
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011108/23d13f82/attachment.bin

From alobo at ija.csic.es  Wed Nov  7 22:55:24 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 7 Nov 2001 22:55:24 +0100 (MET)
Subject: [R] Rcmd?
In-Reply-To: <3BE8FDFC.97929280@reinforcement.de>
Message-ID: <Pine.OSF.3.96.1011107225120.23433A-100000@ija.csic.es>


You must install Rw1031 (using SetupR.exe) INCLUDING the option
for compiling source files. If not, run setupR again.You should have
Rcmd in rw1031/bin

Then, following directions in
www.stats.ox.ac.uk/pub/Rtools 
install:

-tools.zip
-Perl (Active Perl)
-mingw-1.1.tar.gz

Remember copying sh.exe to c:\bin\sh.exe as stated in
www.stats.ox.ac.uk/pub/Rtools.html

Check that the bin directory of Perl is in your path (autoexec.bat).
Add the path for mingw32\bin and the one for your R home,
if you don't have it yet (i.e., mine is E:\rw1031\bin) and
the one for the Rtools.

On a console window, a command such as

Rcmd SHLIB test.c

should work.

Hope this helps.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 7 Nov 2001, Holger Perlt wrote:

> Hello,
> 
> a short question:
> I cannot find the Rcmd file in the my installed Windows R Program.
> It is not known as a command inside R (which is not intended as I
> suppose)
> nor as an executable or similar file elsewhere?
> 
> How can I make my own package?
> 
> Holger
> 
> -- 
> PD Dr. habil. Holger Perlt
> Diplomphysiker/Geschftsfhrer
> Reinforcement Control GmbH
> Karl-Heine-Str. 99
> 04229 Leipzig
> Germany
> Phone: 	++49 (0)341 9410370
> Fax:	++49 (0)341 9410372
> http://www.reinforcement.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lee.belbin at aad.gov.au  Wed Nov  7 23:48:23 2001
From: lee.belbin at aad.gov.au (Lee Belbin)
Date: Thu, 8 Nov 2001 09:48:23 +1100
Subject: [R] Data Miner position - Australian Antarctic Division, Kingston, Tasmania - ERROR
Message-ID: <NDBBICPDPDCBIKPNKBFNEEHNDHAA.lee.belbin@aad.gov.au>

Apologies. I just noticed an error in the EXPLORATORY DATA ANALYST / DATA MINER
position for the Australian Antarctic Division Band 6-7 (Research Scientist:
AUS$47,563 - 63,922 pa) position. Closing date is November 15, not August17.

Lee Belbin?????????????????????????????????????! "I have never been lost,
Manager, Australian Antarctic Data Centre??????! but I will admit to being
Australian Antarctic Division??????????????????! confused for several weeks".
Channel Highway, Kingston, Tas, Australia 7050?!
E-mail lee.belbin at aad.gov.au                   ! - Daniel Boone
phone: +61 3 6232 3460??fax: +61 3 6232 3351
Web: http://www-aadc.aad.gov.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Thu Nov  8 01:59:27 2001
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Thu, 8 Nov 2001 11:59:27 +1100 
Subject: [R] -Altering labels and tickmarks on persp() plots
Message-ID: <576A86EC05E22742A26B1D742DE752921F16D9@molly.tas.csiro.au>

All,
This was posted earlier but may have got lost in another thread. 

Can someone tell me how to independently alter the fontsize and position of
labels on a persp plot?? 

I've tried using titles() and axes() but they seem to only apply to the
standard plot() and contour plots (contour() and filled.contour(). Commands
like text() seem only to add to the margin of the plot rather than
overwriting the default lables. 

Cheers 
Toby 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michaell.taylor at reis.com  Thu Nov  8 03:11:23 2001
From: michaell.taylor at reis.com (Michaell Taylor)
Date: Wed, 7 Nov 2001 21:11:23 -0500
Subject: [R] Generalized Lambda
Message-ID: <20011108021143.CEE57170236@newman.bestweb.net>


Anyone know of a package for numerically estimating lambda(3) and lambda(4) 
using location, position, skew and kurtosis estimates.  I have a distribution 
and would like to use the gld package to do some simulations of the 
distribution, but need the lambda estimates to feed into gld.

I have a program in Maple, which I may convert to C code for use in R, but 
before moving down that road I wanted to make sure there wasn't a package out 
there somewhere.


=========================================
Michaell Taylor, PhD
Senior Economist, Reis, New York, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Thu Nov  8 09:41:59 2001
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Thu, 08 Nov 2001 09:41:59 +0100
Subject: [R] Examples for Markov Chain in Economics
References: <B577AC6E5249174B87CCE9632FC54B0D467527@osiris.uah.es> <20011108071103.A2157@typhoon.sdsu.edu> <3BEA4522.A54D4891@pasteur.fr>
Message-ID: <3BEA4557.753B1689@pasteur.fr>

Aboubakar Maitournam wrote:

> Serge Rey wrote:
>
> > On Wed, Nov 07, 2001 at 05:07:36PM +0100, Rivera Galicia Luis Felipe wrote:
> > > Could anyone tell me where can I find some examples of the applications
> > > to economics of a Markov chain?
> >
> > here are a few applications in the context of regional income
> > convergence:
> >
> > @article{Quah93,
> >    author    = {Danny Quah},
> >    title     = {Galton's fallacy and tests of the convergence hypothesis},
> >    journal   = {Scandinavian Journal of Economics},
> >    pages     = {427-443},
> >    year      = 1993,
> >    volume    = 95
> > }
> >
> > @article{Quah96,
> >    author    = {Danny T. Quah},
> >    title     = {Empirics for economic growth and convergence},
> >    journal   = {European Economic Review},
> >    pages     = {1353-1375},
> >    year      = 1996,
> >    volume    = 40
> > }
> >
> > @article{Rey01ga,
> >  author={Sergio J. Rey},
> > title={Spatial empirics for regional economic growth and convergence},
> > journal={Geographical Analysis},
> > year={2001},
> > volume={33},
> > number={3},
> > pages={195-214}}
> >
> > --
> > Sergio J. Rey   http://typhoon.sdsu.edu/rey.html
> > GPG fingerprint =  16DB 4934 E0F1 B386 AE81  D379 914C 33E5 F690 95DF
> > emacs "Powerful, but only for those who have more time than sense."
> >         Stewart Stremler
> >
> >   ------------------------------------------------------------------------
> >    Part 1.2Type: application/pgp-signatur
>
> We know the links between time series and markov processes.  I think that the
> famous book
> of Brockwell Davies "times series, theory and practices" will be helpful for
> you. In addition there is
> in R packages for times series (ts). But the book of Brockwell Davies is
> implicitely dedicated for Markov chain.
> And sorry because I have not the complete reference of the book (ten years ago
> I used it).
>
> Aboubakar  Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Soren.Hojsgaard at agrsci.dk  Thu Nov  8 10:00:23 2001
From: Soren.Hojsgaard at agrsci.dk (=?iso-8859-1?Q?S=F8ren_H=F8jsgaard?=)
Date: Thu, 8 Nov 2001 10:00:23 +0100 
Subject: [R] dyn.load'ing dll's created by Scompile causes R to crash
Message-ID: <5166A14C6887D111991100805F8BB749072C435A@foulum01.agrsci.dk>

Dear all,

I have used the Scompile package (by Mathhew Calder) on previous releases of
R (on Windows), and it has worked well. However, R.1.3.1 crashes when
dyn.load'ing C-functions created by Scompile.

>From the last R-newsletter it seems that there has been some changes to how
external routines are being included in version 1.3.1. I won't claim to
understand the details, but I was wondering whether these changes are the
source of my problem? If so, I would like to know if there is a way of
"getting back" to the old way of doing things such that Scompile can still
be used?

(For those who don't know Scompile, it is a package which takes an R/Splus
function and converts it into C-code. This is subsequently compiled and
loaded into R/Splus. The homepage of Scompile is
http://people.ne.mediaone.net/mncalder/scompile/scompile.html
It seems that no development has taken place on this package for several
years.)

Thanks in advance

S?ren H?jsgaard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Thu Nov  8 10:07:15 2001
From: bob.ohara at helsinki.fi (Anon.)
Date: Thu, 08 Nov 2001 11:07:15 +0200
Subject: [R] Error Bars
Message-ID: <3BEA4B43.89F6B9D8@helsinki.fi>

I'm trying to draw some error bars on a bar chart.  I'm using code like
this:

thing <- c(3,3,3)
se <- c(1,1,1)
names(thing) <- c("A", "B", "C")
barplot(thing, ylim=c(0,4))
arrows(c(1:3), thing-se, c(1:3), thing+se, code=3, angle=90,length=0.1)

Using c(1:3) has 2 problems: 
1. Obviously it is untidy, but using names(thing) doesn't work, and I
can't find out what will work.
2. It draws the lines in the wrong place (i.e. not in the middle of the
bars)

I'm sure this problem has a well know and obvious solution, but it's not
so well known or obvious to me.

Thanks in advance.

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

NOTE: NEW TELEPHONE NUMBER
tel: +358 9 191 28779  fax: +358 9 191 28701
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov  8 10:29:47 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 8 Nov 2001 04:29:47 -0500 (EST)
Subject: [R] Error Bars
In-Reply-To: <3BEA4B43.89F6B9D8@helsinki.fi>
Message-ID: <Pine.LNX.4.30.0111080428350.6743-100000@bolker.zoo.ufl.edu>


  there's a simple solution.  barplot returns the locations of the
horizontal centers of the bars, so replace your last two lines with
something like:

bloc <- barplot(thing, ylim=c(0,4))
arrows(bloc, thing-se, bloc, thing+se, code=3, angle=90,length=0.1)

On Thu, 8 Nov 2001, Anon. wrote:

> I'm trying to draw some error bars on a bar chart.  I'm using code like
> this:
>
> thing <- c(3,3,3)
> se <- c(1,1,1)
> names(thing) <- c("A", "B", "C")
> barplot(thing, ylim=c(0,4))
> arrows(c(1:3), thing-se, c(1:3), thing+se, code=3, angle=90,length=0.1)
>
> Using c(1:3) has 2 problems:
> 1. Obviously it is untidy, but using names(thing) doesn't work, and I
> can't find out what will work.
> 2. It draws the lines in the wrong place (i.e. not in the middle of the
> bars)
>
> I'm sure this problem has a well know and obvious solution, but it's not
> so well known or obvious to me.
>
> Thanks in advance.
>
> Bob
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov  8 10:40:25 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 08 Nov 2001 10:40:25 +0100
Subject: [R] Error Bars
References: <3BEA4B43.89F6B9D8@helsinki.fi>
Message-ID: <3BEA5309.124297D2@statistik.uni-dortmund.de>



"Anon." wrote:
> 
> I'm trying to draw some error bars on a bar chart.  I'm using code like
> this:
> 
> thing <- c(3,3,3)
> se <- c(1,1,1)
> names(thing) <- c("A", "B", "C")
> barplot(thing, ylim=c(0,4))
> arrows(c(1:3), thing-se, c(1:3), thing+se, code=3, angle=90,length=0.1)
> 
> Using c(1:3) has 2 problems:
> 1. Obviously it is untidy, but using names(thing) doesn't work, and I
> can't find out what will work.
> 2. It draws the lines in the wrong place (i.e. not in the middle of the
> bars)
> 
> I'm sure this problem has a well know and obvious solution, but it's not
> so well known or obvious to me.


Barplot tells you where it has drawn the bars:

 temp <- barplot(thing, ylim=c(0,4)) 
 arrows(temp, thing-se, temp, thing+se, code=3, angle=90,length=0.1)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toth at uvt.tuzvo.sk  Thu Nov  8 11:44:59 2001
From: toth at uvt.tuzvo.sk (Milan Toth)
Date: Thu, 8 Nov 2001 11:44:59 +0100 (CET)
Subject: [R] news letters
Message-ID: <Pine.LNX.4.21.0111081142130.3234-100000@uvt.tuzvo.sk>

Hello every body,

	there is no earlier edition of news letter then january 2001.


-=-=-=-=-=-=-=-=-=-=-=-=-=-
Milan Toth
TU Zvolen
http://uvt.tuzvo.sk/~toth/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  8 11:57:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 2001 11:57:54 +0100
Subject: [R] news letters
In-Reply-To: <Pine.LNX.4.21.0111081142130.3234-100000@uvt.tuzvo.sk>
References: <Pine.LNX.4.21.0111081142130.3234-100000@uvt.tuzvo.sk>
Message-ID: <x2lmhhlebx.fsf@blueberry.kubism.ku.dk>

Milan Toth <toth at uvt.tuzvo.sk> writes:

> Hello every body,
> 
> 	there is no earlier edition of news letter then january 2001.

That was the first issue.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov  8 14:05:40 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 8 Nov 2001 13:05:40 +0000
Subject: [R] Teaching with R. Quick survey.
In-Reply-To: <01110712235307.01151@st27.stats.ru.ac.za>
References: <01110712235307.01151@st27.stats.ru.ac.za>
Message-ID: <n0mh1HAkMo67EwCI@myatt.demon.co.uk>

Jeremy Baxter <J.Baxter at ru.ac.za> writes:
>Hi
>
>I am presenting a "little" talk at the annual South African Statistical 
>Association on why/how/what R is and why we should be using R for teaching.
>
>I would like to compile a list of where (institution/country) and how (what 
>sections of statistics/mathematics) R is being used.

>Please post your reply to me directly, j.baxter at ru.ac.za.  I will post a 
>summary to the list.

I have been teaching R at the Nordic School of Public Health for two
years. We use it for analysis of epidemiological data and custom
graphical presentation.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From doraiss at auburn.edu  Thu Nov  8 15:20:05 2001
From: doraiss at auburn.edu (Sundar Dorai-Raj)
Date: Thu, 8 Nov 2001 08:20:05 -0600
Subject: [R] adding text to persp
In-Reply-To: <576A86EC05E22742A26B1D742DE752921F16CE@molly.tas.csiro.au>
Message-ID: <001a01c16860$764929e0$4a35cc83@sundar>

> 
> On a related topic to this - can someone tell me how to 
> independently alter the fontsize and position of text on a 
> persp plot?? 
> I've tried using titles() and axes() but they seem to only 
> apply to the standard plot() and contour plots (contour() and 
> filled.contour(). 
> 

Here's the solution I came up with, though it's not general enough to
write into a function. It uses text() instead of axis() and title().

Sundar

x <- seq(-10, 10, length=50)
y <- x
f <- function(x,y)
{
  r <- sqrt(x^2+y^2)
  10 * sin(r)/r
}
z <- outer(x, y, f)
z[is.na(z)] <- 1

par(mar=c(1,1,1,1))
persp(x, y, z, theta = 30, phi = 30, expand = 0.5, col = "lightblue",
           ltheta = 120, shade = 0.75, ticktype = "detailed",
           xlab = "", ylab = "", zlab = "")

u.x <- par("usr")[1:2]
u.y <- par("usr")[3:4]
text(x=u.x[1]+.94*diff(u.x),
     y=u.y[1]+.34*diff(u.y),
     labels=expression(theta),
     srt=45,cex=1.2)
text(x=u.x[1]+.21*diff(u.x),
     y=u.y[1]+.16*diff(u.y),
     labels=expression(gamma[r]),
     srt=-45,cex=1.2)
text(x=u.x[1]+.04*diff(u.x),
     y=u.y[1]+.60*diff(u.y),
     labels=expression(italic(f)[Theta](theta,gamma[r])),
     srt=100,cex=1.2)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov  8 14:03:36 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 8 Nov 2001 13:03:36 +0000
Subject: [R] Help on programming
In-Reply-To: <F101ZnxV9j1TWCKis9n0000187d@hotmail.com>
References: <F101ZnxV9j1TWCKis9n0000187d@hotmail.com>
Message-ID: <g0VgFDAoKo67EwDn@myatt.demon.co.uk>

Bob Banks <banks_bob at hotmail.com> writes:
>I am a new user of R and would like a bit of advice.
>
>I wish to write a short program in R that I can call up when I want to run 
>it. How do I go about storing and recalling the particular code that I 
>write?
>
>Many thanks
>Bob Banks

Put the function definitions, calls, &c, in a plain text file and use
source() to 'run' the 'program'.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Thu Nov  8 17:04:47 2001
From: isabelle.zabalza-mezghani at ifp.fr (Isabelle ZABALZA)
Date: Thu, 08 Nov 2001 17:04:47 +0100
Subject: [R] Problem with optim (method L-BFGS-B)
Message-ID: <3BEAAD1F.C2731278@ifp.fr>

Hello,

I've just a little problem using the function optim.
Here is the function I want to optimize :

test_function(x){(exp(-0.06751 + 0.25473*((x[1]-350)/150) +
0.04455*((x[2]-40)/20) + 0.09399*((x[3]-400)/100) -
0.17238*((x[4]-250)/50)-
0.45984*((x[5]-550)/150)-0.39508*((x[1]-350)/150)* ((x[1]-350)/150) -
0.05116*((x[2]-40)/20)* ((x[2]-40)/20) -
0.27735*((x[3]-400)/100)*((x[3]-400)/100) - 0.12902*((x[4]-250)/50)*
((x[4]-250)/50)-1.07812*((x[5]-550)/150)* ((x[5]-550)/150) -
0.14650*((x[1]-350)/150)*((x[2]-40)/20) - 0.39647*((x[1]-350)/150)*
((x[3]-400)/100) + 0.09800*((x[1]-350)/150)* ((x[4]-250)/50) +
1.01607*((x[1]-350)/150)*((x[5]-550)/150) -0.04202*((x[2]-40)/20)*
((x[3]-400)/100) + 0.05057*((x[2]-40)/20)* ((x[4]-250)/50) +
0.17933*((x[2]-40)/20)*((x[5]-550)/150) + 0.10944*((x[3]-400)/100)*
((x[4]-250)/50) + 0.62105*((x[3]-400)/100)* ((x[5]-550)/150) -
0.22426*((x[4]-250)/50)*((x[5]-550)/150))/219741978624 )}

Then I run the following command, and I get a pretty good result (I know
approximatively the theoritical maximum)

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1))$par
[1] 398.17520  31.34863 372.17182 217.30874 533.49458

Fortunately, all the optimal values fall in their range of possible
value. But to be rigourous, I should perform a box-constrained
optimization.
Then, I do so with the following command  (in fixing the lower and upper
args and not):

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B",lower=c(200,20,300,200,400),upper=c(500,60,500,300,700))$par

[1] 200  60 500 300 700

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B")$par

[1] 200.00000  60.00007 500.00000 300.00000 700.00000

Here the result I get is wrong, and in fact it is more or less the
initial guess I 've set.

Can someone explain me what is going wrong with the method "L-BFGS-B"

Thanks in advance

Isabelle Zabalza-Mezghani



--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011108/89539955/attachment.html

From ben at zoo.ufl.edu  Thu Nov  8 17:39:06 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 8 Nov 2001 11:39:06 -0500 (EST)
Subject: [R] Problem with optim (method L-BFGS-B)
In-Reply-To: <3BEAAD1F.C2731278@ifp.fr>
Message-ID: <Pine.LNX.4.30.0111081133350.7421-100000@bolker.zoo.ufl.edu>


  A few general suggestions:

 1. you should always check the $convergence of your result -- in this
case it tells you that the optimization failed, and tells you something
about why (although admittedly not much you could interpret without
looking at the source code).
 2.  control(fnscale=-1,trace=4) gives you some details of the progress of
the optimization.
 3.  I would probably never start a box-constrained algorithm on the
boundaries of the allowable region -- that's just making things hard for
yourself ...
  4.  nonlinear optimizers are notoriously finicky.  I found that, even
starting from the same place, changing fnscale from -1 to -1e-12 (so that
the values given by the function are around 1.0) allowed me to get to the
right answer.  Whenever possible, too, providing analytical derivatives
for the function will make the algorithms much faster and more stable.  If
you're going to do a lot of this it's worthwhile -- particularly as it
looks pretty easy for your functions, if this one is at all typical.

  Ben Bolker


On Thu, 8 Nov 2001, Isabelle ZABALZA wrote:

> Hello,
>
> I've just a little problem using the function optim.
> Here is the function I want to optimize :
>
> test_function(x){(exp(-0.06751 + 0.25473*((x[1]-350)/150) +
> 0.04455*((x[2]-40)/20) + 0.09399*((x[3]-400)/100) -
> 0.17238*((x[4]-250)/50)-
> 0.45984*((x[5]-550)/150)-0.39508*((x[1]-350)/150)* ((x[1]-350)/150) -
> 0.05116*((x[2]-40)/20)* ((x[2]-40)/20) -
> 0.27735*((x[3]-400)/100)*((x[3]-400)/100) - 0.12902*((x[4]-250)/50)*
> ((x[4]-250)/50)-1.07812*((x[5]-550)/150)* ((x[5]-550)/150) -
> 0.14650*((x[1]-350)/150)*((x[2]-40)/20) - 0.39647*((x[1]-350)/150)*
> ((x[3]-400)/100) + 0.09800*((x[1]-350)/150)* ((x[4]-250)/50) +
> 1.01607*((x[1]-350)/150)*((x[5]-550)/150) -0.04202*((x[2]-40)/20)*
> ((x[3]-400)/100) + 0.05057*((x[2]-40)/20)* ((x[4]-250)/50) +
> 0.17933*((x[2]-40)/20)*((x[5]-550)/150) + 0.10944*((x[3]-400)/100)*
> ((x[4]-250)/50) + 0.62105*((x[3]-400)/100)* ((x[5]-550)/150) -
> 0.22426*((x[4]-250)/50)*((x[5]-550)/150))/219741978624 )}
>
> Then I run the following command, and I get a pretty good result (I know
> approximatively the theoritical maximum)
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1))$par
> [1] 398.17520  31.34863 372.17182 217.30874 533.49458
>
> Fortunately, all the optimal values fall in their range of possible
> value. But to be rigourous, I should perform a box-constrained
> optimization.
> Then, I do so with the following command  (in fixing the lower and upper
> args and not):
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B",lower=c(200,20,300,200,400),upper=c(500,60,500,300,700))$par
>
> [1] 200  60 500 300 700
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B")$par
>
> [1] 200.00000  60.00007 500.00000 300.00000 700.00000
>
> Here the result I get is wrong, and in fact it is more or less the
> initial guess I 've set.
>
> Can someone explain me what is going wrong with the method "L-BFGS-B"
>
> Thanks in advance
>
> Isabelle Zabalza-Mezghani
>
>
>
> --
> Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
> Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
> 1-4 Av. Bois Preau - Bat Lauriers
> 92852 Rueil Malmaison Cedex, France
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov  8 17:38:04 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 8 Nov 2001 08:38:04 -0800 (PST)
Subject: [R] dyn.load'ing dll's created by Scompile causes R to crash
In-Reply-To: <5166A14C6887D111991100805F8BB749072C435A@foulum01.agrsci.dk>
Message-ID: <Pine.A41.4.33.0111080824140.84380-100000@homer14.u.washington.edu>

On Thu, 8 Nov 2001, [iso-8859-1] Sren Hjsgaard wrote:

> Dear all,
>
> I have used the Scompile package (by Mathhew Calder) on previous releases of
> R (on Windows), and it has worked well. However, R.1.3.1 crashes when
> dyn.load'ing C-functions created by Scompile.
>
> From the last R-newsletter it seems that there has been some changes to how
> external routines are being included in version 1.3.1. I won't claim to
> understand the details, but I was wondering whether these changes are the
> source of my problem? If so, I would like to know if there is a way of
> "getting back" to the old way of doing things such that Scompile can still
> be used?

The old way is still the default. Duncan Temple Lang's article describes
an optional new way.

Looking at the CHANGES file for R 1.3.1 under Windows, the recommended
compiler system has been changed. Possibly the new system isn't
quite compatible with lcc, though DLLs should be fairly standard.
Unfortunately I think debugging under Windows is tricky.

A long-term fix would be to patch Scompile so that it uses Rcmd SHLIB to
compile things.  This would mean that the recommended compilers for R
could always be used in compiling. The patch to Scompile would be fairly
easy, but it would also mean downloading Perl, gcc and the other things
needed to compile R. I did something like this a few years ago to get
Scompile to work with R on Solaris (probably about R 0.50), but I
didn't find it useful enough to keep updated.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed Nov  7 19:13:23 2001
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Wed, 07 Nov 2001 10:13:23 -0800
Subject: [R] Course: R Programming Techniques in Seattle (December 19-21) 
Message-ID: <200111081707.SAA17121@stat.math.ethz.ch>

 XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a three-day R course, "R Fundamentals and Programming
Techniques" in:

Seattle - December 19-21, 2001.

Cost for 3-day course:


Academic $875
Commercial $985 Ask for early bird and group discounts.

Payment due 7 days AFTER the class and Includes course materials, 
90 days Technical Support for R, snacks and continental breakfast!)

PARTICIPANTS TO OUR CLASSES ARE ALWAYS PROVIDED WITH A COMPUTER!

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.

Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the 
essentials of data manipulation, graphical visualization and R 
programming. We will explore statistical data analysis tools, including 
graphics with data sets from areas such as Finance, Biopharm, 
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.


Registration and more information on outline and trainer: 

Visit us: www.xlsolutions-corp.com/training.htm

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221



Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with 
bound copies of the notes and a CD-ROM containing all examples, 
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


================================================


Three-day R Fundamentals and Programming Techniques (Seattle)

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and 
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

...............................................................

...............................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer

Sincerely

Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com


XLSolutions also offer customized private courses delivered by expert
trainers with a track teaching and training record in their fields.

XLSolutions Consulting Group meets your needs from design to development.
Reading message number 12 of Sent   Next Message  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Nov  8 18:58:23 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 8 Nov 2001 11:58:23 -0600
Subject: [R] Problem with optim (method L-BFGS-B)
Message-ID: <OFE20240F9.734A9C22-ON06256AFE.00623E8F@mmm.com>


The problem is with scaling of the objective function.  The values of test
near the starting point are of the order of 1e-13 or so.

I used the fnscale value of -1e-15 (the scaling is done by the inverse of
fnscale) and I got essentially the same results from Nelder-Mead, BFGS, and
L-BFGS-B.

Cheers,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


|--------+---------------------------------->
|        |          Isabelle ZABALZA        |
|        |          <isabelle.zabalza-mezgha|
|        |          ni at ifp.fr>              |
|        |                                  |
|        |          11/08/2001 10:04 AM     |
|        |                                  |
|--------+---------------------------------->
  >----------------------------------------------------------------------------------------------------------|
  |                                                                                                          |
  |     To:     mailingr <r-help at stat.math.ethz.ch>                                                          |
  |     cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                |
  |     Subject:     [R] Problem with optim (method L-BFGS-B)                                                |
  >----------------------------------------------------------------------------------------------------------|




Hello,

I've just a little problem using the function optim.
Here is the function I want to optimize :

test_function(x){(exp(-0.06751 + 0.25473*((x[1]-350)/150) +
0.04455*((x[2]-40)/20) + 0.09399*((x[3]-400)/100) -
0.17238*((x[4]-250)/50)-
0.45984*((x[5]-550)/150)-0.39508*((x[1]-350)/150)* ((x[1]-350)/150) -
0.05116*((x[2]-40)/20)* ((x[2]-40)/20) -
0.27735*((x[3]-400)/100)*((x[3]-400)/100) - 0.12902*((x[4]-250)/50)*
((x[4]-250)/50)-1.07812*((x[5]-550)/150)* ((x[5]-550)/150) -
0.14650*((x[1]-350)/150)*((x[2]-40)/20) - 0.39647*((x[1]-350)/150)*
((x[3]-400)/100) + 0.09800*((x[1]-350)/150)* ((x[4]-250)/50) +
1.01607*((x[1]-350)/150)*((x[5]-550)/150) -0.04202*((x[2]-40)/20)*
((x[3]-400)/100) + 0.05057*((x[2]-40)/20)* ((x[4]-250)/50) +
0.17933*((x[2]-40)/20)*((x[5]-550)/150) + 0.10944*((x[3]-400)/100)*
((x[4]-250)/50) + 0.62105*((x[3]-400)/100)* ((x[5]-550)/150) -
0.22426*((x[4]-250)/50)*((x[5]-550)/150))/219741978624 )}

Then I run the following command, and I get a pretty good result (I know
approximatively the theoritical maximum)

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1))$par
[1] 398.17520  31.34863 372.17182 217.30874 533.49458

Fortunately, all the optimal values fall in their range of possible
value. But to be rigourous, I should perform a box-constrained
optimization.
Then, I do so with the following command  (in fixing the lower and upper
args and not):

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method
="L-BFGS-B",lower=c(200,20,300,200,400),upper=c(500,60,500,300,700))$par

[1] 200  60 500 300 700

 optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method
="L-BFGS-B")$par

[1] 200.00000  60.00007 500.00000 300.00000 700.00000

Here the result I get is wrong, and in fact it is more or less the
initial guess I 've set.

Can someone explain me what is going wrong with the method "L-BFGS-B"

Thanks in advance

Isabelle Zabalza-Mezghani



--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail :
isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France



<< File att1.htm not included with reply >>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at holos.pt  Thu Nov  8 20:18:08 2001
From: hjm at holos.pt (Hugo Morganho)
Date: Thu, 08 Nov 2001 19:18:08 +0000
Subject: [R] Java
In-Reply-To: <Pine.OSF.3.96.1011107132714.6923J-100000@ija.csic.es>
References: <3BE8ED01.E5C8DA9B@reinforcement.de>
Message-ID: <5.0.2.1.0.20011108191346.0272e4a0@127.0.0.1>

         Hi..
         I'm getting initiated to R and i'm getting some dificulties.
         I need to call R programs from Java.
         I know that omegahat is the solution but i don't get understand 
how to put all working.
         I download all the files from The sites, but theres begins my 
questions. Wich one to use?
         I think that i get a final configuration (getting files from 
several .tar) wich don't have error, but one i'm starting to write my code 
i get problems like no REvaluator() class, RInterpretor ()... etc...
         I try to find some doc in the net that could teach me to use R on 
Java but i don't find.
         Is there anyone that could help me? i'm getting frustraded, and i 
need R to my master degree :(

         Thanks
         Hugo
         

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HOSKING at watson.ibm.com  Thu Nov  8 21:57:28 2001
From: HOSKING at watson.ibm.com (HOSKING@watson.ibm.com)
Date: Thu, 8 Nov 01 15:57:28 EST
Subject: [R] Re: L-moments
Message-ID: <200111082059.fA8Kxff47122@sp1n189at0.watson.ibm.com>

> Dear R-users:
>
> do you know of an efficient algorithm for calculating sample L-moments
> (especially of higher order, 3 and up) under R (and/or Splus)?
> Any advice/help would be greatly appreciated.
>
> Janusz Kawczak.

Here is an R/Splus implementation of routine SAMLMU from my LMOMENTS
Fortran package (http://lib.stat.cmu.edu/general/lmoments).  It has
been lightly tested, but carries no guarantees of accuracy.

samlmr<-function(x,nmom=4){
  xok<-x!is.na(x)
  n<-length(xok)
  if (nmom<=0) return(numeric(0))
  if (nmom<=2) rnames <- paste("l",1:nmom,sep="_")
  else rnames <- c("l_1","l_2",paste("t",3:nmom,sep="_"))
  lmom <- rep(NA,nmom)
  names(lmom) <- rnames
  if (n==0) return(lmom)
  xok<-sort(xok)
  nmom.actual<-min(nmom,n)
  lmom1 <- mean(xok)
  if (nmom.actual==1) return(lmom)
  temp<-seq(1-n,n-1,by=2)
  p1<-rep(1,n)
  p<-temp/(n-1)
  lmom2<-mean(xok*p)
  if (nmom.actual==2) return(lmom)
  if (xok1==xokn) {
    warning("all data values equal")
    return(lmom)
  }
  for(j in 3:nmom.actual) {
    p2<-p1
    p1<-p
    p<-((2*j-3)*temp*p1-(j-2)*(n+j-2)*p2)/((j-1)*(n-j+1))
    lmomj<-mean(xok*p)/lmom2
  }
  return(lmom)
}

J. R. M. Hosking
hosking at watson.ibm.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Thu Nov  8 22:24:24 2001
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 8 Nov 2001 13:24:24 -0800
Subject: [R] programming question
In-Reply-To: <9A4B2157EFDBE546BECD68C62AC3B1C806CF6B15@es05snlnt>; from bhawkin@sandia.gov on Tue, Nov 06, 2001 at 04:09:28PM -0700
References: <9A4B2157EFDBE546BECD68C62AC3B1C806CF6B15@es05snlnt>
Message-ID: <20011108132424.C22262@brandybuck>

Dear r-help,

I am trying to build a new function (to process rpart objects) that will
output matrix that has a row for each node and a column for
each feature. With each entry in the table is a numerical property
at that node for that feature (e.g. surrogate split agreement, improvement).

My current trouble is that the only clue to the identity of the feature is 
stored as the *name* of the feature.  Whereas a table is indexed by *number*.

I have a list of sorted names, but I am having trouble translating a name
into a number. If this where perl the answer would be a hash.

Or can I directly index a table with an alphanumeric string. (ie. a hash).

Any help would be greatly appreciated,

--Clayton





-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov  8 22:35:51 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 8 Nov 2001 13:35:51 -0800 (PST)
Subject: [R] programming question
In-Reply-To: <20011108132424.C22262@brandybuck>
Message-ID: <Pine.A41.4.33.0111081331560.84380-100000@homer14.u.washington.edu>

On Thu, 8 Nov 2001, Clayton Springer wrote:

> Dear r-help,
>
> I am trying to build a new function (to process rpart objects) that will
> output matrix that has a row for each node and a column for
> each feature. With each entry in the table is a numerical property
> at that node for that feature (e.g. surrogate split agreement, improvement).
>
> My current trouble is that the only clue to the identity of the feature is
> stored as the *name* of the feature.  Whereas a table is indexed by *number*.
>
> I have a list of sorted names, but I am having trouble translating a name
> into a number. If this where perl the answer would be a hash.
>
> Or can I directly index a table with an alphanumeric string. (ie. a hash).
>

You can index a matrix, dataframe, or list by names

eg using part of the summary.lm output
data(swiss)
cc<-summary(lm(Fertility ~ . , data = swiss))$coef
cc["Agriculture",]
cc[,"Estimate"]
cc["Education","Pr(>|t|)"]


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  8 22:40:46 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 2001 22:40:46 +0100
Subject: [R] programming question
In-Reply-To: <20011108132424.C22262@brandybuck>
References: <9A4B2157EFDBE546BECD68C62AC3B1C806CF6B15@es05snlnt>
	<20011108132424.C22262@brandybuck>
Message-ID: <x2bsidkkkh.fsf@blueberry.kubism.ku.dk>

Clayton Springer <csprin at brandybuck.ca.sandia.gov> writes:

> Dear r-help,
> 
> I am trying to build a new function (to process rpart objects) that will
> output matrix that has a row for each node and a column for
> each feature. With each entry in the table is a numerical property
> at that node for that feature (e.g. surrogate split agreement, improvement).
> 
> My current trouble is that the only clue to the identity of the feature is 
> stored as the *name* of the feature.  Whereas a table is indexed by *number*.
> 
> I have a list of sorted names, but I am having trouble translating a name
> into a number. If this where perl the answer would be a hash.
> 
> Or can I directly index a table with an alphanumeric string. (ie. a hash).
> 
> Any help would be greatly appreciated,

You can easily index with names:

> x<-1:3
> names(x)<-letters[1:3]
> x
a b c 
1 2 3 
> x["b"]
b 
2 

It's not a hash in the perl sense, though. Each lookup does a linear
search. The match() function could also be used.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wbkiii at citrus.ucr.edu  Thu Nov  8 23:24:24 2001
From: wbkiii at citrus.ucr.edu (Bill Kristan)
Date: Thu, 8 Nov 2001 14:24:24 -0800
Subject: [R] Manova in R vs. SAS
Message-ID: <200111082224.XAA09018@stat.math.ethz.ch>

While I was helping a SAS-using friend with an analysis I noticed some 
differences in the multivariate test statistics, approximate F statistics, 
and p-values in the manova function using R and proc GLM using SAS. The 
univariate coefficients are identical. Is there a reason to expect R and SAS 
to give different results?

Thanks,

Bill Kristan.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Nov  9 00:41:19 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 9 Nov 2001 12:41:19 +1300
Subject: [R] adding text to persp
References: <576A86EC05E22742A26B1D742DE752921F16CE@molly.tas.csiro.au>
Message-ID: <015b01c168ae$dd7f24e0$175dd882@stat.auckland.ac.nz>

Hi


> On a related topic to this - can someone tell me how to independently
alter
> the fontsize and position of text on a persp plot??
> I've tried using titles() and axes() but they seem to only apply to the
> standard plot() and contour plots (contour() and filled.contour().


The functions title() and axis() [and other "annotation" functions] rely
very much on the standard layout of 2D plots in R.

persp() does its own internal calculations to layout graphics in 3D and
title() and axis() [and other "annotation" functions] do not have access to
that layout information so they cannot be used to place (or size) text [or
lines, or ...] in a meaningful way relative to the 3D plot.

In S-Plus, the situation is slightly better because there the persp()
function returns some information about the translation between 2D and 3D,
which allows the user to do some meaningful annotations using lines(),
points(), etc...

There is nothing in principle that prevents us from doing something similar
in R and there _may_ be something like this done in the next couple of
months.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  9 09:03:44 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2001 09:03:44 +0100
Subject: [R] Manova in R vs. SAS
In-Reply-To: <200111082224.XAA09018@stat.math.ethz.ch>
References: <200111082224.XAA09018@stat.math.ethz.ch>
Message-ID: <x2eln8qskf.fsf@blueberry.kubism.ku.dk>

Bill Kristan <wbkiii at citrus.ucr.edu> writes:

> While I was helping a SAS-using friend with an analysis I noticed some 
> differences in the multivariate test statistics, approximate F statistics, 
> and p-values in the manova function using R and proc GLM using SAS. The 
> univariate coefficients are identical. Is there a reason to expect R and SAS 
> to give different results?

Could you expand on wherein the difference lies?

I don't think there is more than one definition of Wilks' Lambda, but
are they testing the same hypothesis?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  9 09:23:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 9 Nov 2001 08:23:42 +0000 (GMT)
Subject: [R] Problem with optim (method L-BFGS-B)
In-Reply-To: <3BEAAD1F.C2731278@ifp.fr>
Message-ID: <Pine.LNX.4.31.0111090820540.27692-100000@gannet.stats>

On Thu, 8 Nov 2001, Isabelle ZABALZA wrote:

> Hello,
>
> I've just a little problem using the function optim.
> Here is the function I want to optimize :
>
> test_function(x){(exp(-0.06751 + 0.25473*((x[1]-350)/150) +
> 0.04455*((x[2]-40)/20) + 0.09399*((x[3]-400)/100) -
> 0.17238*((x[4]-250)/50)-
> 0.45984*((x[5]-550)/150)-0.39508*((x[1]-350)/150)* ((x[1]-350)/150) -
> 0.05116*((x[2]-40)/20)* ((x[2]-40)/20) -
> 0.27735*((x[3]-400)/100)*((x[3]-400)/100) - 0.12902*((x[4]-250)/50)*
> ((x[4]-250)/50)-1.07812*((x[5]-550)/150)* ((x[5]-550)/150) -
> 0.14650*((x[1]-350)/150)*((x[2]-40)/20) - 0.39647*((x[1]-350)/150)*
> ((x[3]-400)/100) + 0.09800*((x[1]-350)/150)* ((x[4]-250)/50) +
> 1.01607*((x[1]-350)/150)*((x[5]-550)/150) -0.04202*((x[2]-40)/20)*
> ((x[3]-400)/100) + 0.05057*((x[2]-40)/20)* ((x[4]-250)/50) +
> 0.17933*((x[2]-40)/20)*((x[5]-550)/150) + 0.10944*((x[3]-400)/100)*
> ((x[4]-250)/50) + 0.62105*((x[3]-400)/100)* ((x[5]-550)/150) -
> 0.22426*((x[4]-250)/50)*((x[5]-550)/150))/219741978624 )}
>
> Then I run the following command, and I get a pretty good result (I know
> approximatively the theoritical maximum)
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1))$par
> [1] 398.17520  31.34863 372.17182 217.30874 533.49458
>
> Fortunately, all the optimal values fall in their range of possible
> value. But to be rigourous, I should perform a box-constrained
> optimization.
> Then, I do so with the following command  (in fixing the lower and upper
> args and not):
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B",lower=c(200,20,300,200,400),upper=c(500,60,500,300,700))$par
>
> [1] 200  60 500 300 700
>
>  optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B")$par
>
> [1] 200.00000  60.00007 500.00000 300.00000 700.00000
>
> Here the result I get is wrong, and in fact it is more or less the
> initial guess I 've set.
>
> Can someone explain me what is going wrong with the method "L-BFGS-B"

Not looking at all the output.  There's a typo in your code, but I get

>
optim(c(200,60,500,300,700),test,control=list(fnscale=-1),method="L-BFGS-B",lower=c(200,20,300,200,400),upper=c(500,60,500,300,700))
$par
[1] 200  60 500 300 700

$value
[1] 3.301069e-13

$counts
function gradient
       1        1

$convergence
[1] 52

$message
[1] "ERROR: ABNORMAL_TERMINATION_IN_LNSRCH"

In short, the line search is failing.


MORAL: always check that optim says it has converged.

You need to scale your problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Fri Nov  9 10:20:32 2001
From: noel at univ-lille3.fr (Noel Yvonnick)
Date: Fri, 9 Nov 2001 10:20:32 +0100
Subject: [R] Installing packages
Message-ID: <200111090921.KAA25431@stat.math.ethz.ch>

Hello,

I have upgraded from Mandrake Linux 8.0 to Mandrake 8.1 and try to reinstall 
my favourite R... Everything is OK for the base software but I have trouble 
to get some packages installed.

Specifically, for some packages, a "collect2" binary seems to be necessary 
during the compilation/linking process of the library, and LD complains about 
not finding it :

Installing source package `waveslim' ...
 libs
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-ffast-math -fno-fast-math -c bell-p-w.f -o bell-p-w.o
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  
-fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-ffast-math -fno-fast-math -c dwt.c -o dwt.o
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  
-fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-ffast-math -fno-fast-math -c hosking.c -o hosking.o
gcc -shared  -o waveslim.so bell-p-w.o dwt.o hosking.o  -L/usr/local/lib 
-lg2c -lm -L/usr/lib/gcc-lib/i586-mandrake-linux/2.96 
-L/usr/lib/gcc-lib/i586-mandrake-linux/2.96/../../../../i586-mandrake-linux/lib 
-L/usr/lib/gcc-lib/i586-mandrake-linux/2.96/../../.. -lm
/usr/bin/ld: cannot find -lg2c
collect2: ld returned 1 exit status
make: *** [waveslim.so] Erreur 1
ERROR: compilation failed for package `waveslim'

It seems to be looking for it in usr/lib/gcc-lib/i586-mandrake-linux/2.96 
when it is actually in usr/lib/gcc-lib/i586-mandrake-linux-gnu/2.96 on my 
system. I tried to set conveniently the LD_LIBRARY_PATH variable, or to 
create a symbolic link "usr/lib/gcc-lib/i586-mandrake-linux/2.96" to 
usr/lib/gcc-lib/i586-mandrake-linux-gnu/2.96 but nothing worked.

Note that I have both gcc-2.96 and gcc-3.0 installed, but I don't know if it 
is part of the problem.

I am no Linux guru and wonder whether some good soul would have a hint...

Thank you very much in advance,

Yvonnick Noel, PhD.
U. of Lille 3
Dpt. of Psychology
FRANCE
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Nov  9 12:30:46 2001
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 9 Nov 2001 11:30:46 -0000
Subject: [R] adding text to persp
In-Reply-To: <015b01c168ae$dd7f24e0$175dd882@stat.auckland.ac.nz>
Message-ID: <NEBBJLLBCLEDFLCCBKDACELHCBAA.mel@mcs.st-andrews.ac.uk>

A very crude solution is to superimpose two plots.

Though I don't quite understand why:

persp(a)
par(new=T)
persp(a')

puts the plot of a' on top of a (R1.3.1, Windows), while

par(new=T)
persp(a)
persp(a')

doesn't.

Apologies if this is already common knowledge.
If it is unintended, I would prefer nobody fixed it!

Cheers,

Mike.

----------------------------------------------------------------
Mike Lonergan
Research Unit for Wildlife Population Assessment
Mathematical Institute
University of St Andrews
North Haugh                             Tel: +44 (0) 1334 463760
St Andrews                              Fax: +44 (0) 1334 463748
Fife KY16 9SS                      Email: mel at mcs.st-and.ac.uk
Scotland                       http://www-ruwpa.mcs.st-and.ac.uk
----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Nov  9 14:15:42 2001
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 09 Nov 2001 08:15:42 -0500
Subject: [R] Manova in R vs. SAS
In-Reply-To: <x2eln8qskf.fsf@blueberry.kubism.ku.dk>
References: <200111082224.XAA09018@stat.math.ethz.ch>
 <200111082224.XAA09018@stat.math.ethz.ch>
Message-ID: <5.1.0.14.2.20011109071317.01d2a5a0@mcmail.cis.mcmaster.ca>

At 09:03 AM 11/9/2001 +0100, Peter Dalgaard BSA wrote:
>Bill Kristan <wbkiii at citrus.ucr.edu> writes:
>
> > While I was helping a SAS-using friend with an analysis I noticed some
> > differences in the multivariate test statistics, approximate F statistics,
> > and p-values in the manova function using R and proc GLM using SAS. The
> > univariate coefficients are identical. Is there a reason to expect R 
> and SAS
> > to give different results?
>
>Could you expand on wherein the difference lies?
>
>I don't think there is more than one definition of Wilks' Lambda, but
>are they testing the same hypothesis?

Dear Peter and Bill,

The manova function in R and PROC GLM in SAS both calculate the same four 
multivariate test statistics and associated F approximations.

For curiosity, I ran the example in the help file for manova through PROC 
GLM, as follows:

proc glm;
  classes rate additive;
  model tear gloss opacity = rate  additive rate*additive;
  manova h=rate;
  manova h=additive;
  manova h=rate*additive;
  run;

I get the same mulitvariate test statistics (and F approximations) as from 
manova in R.

This is a balanced manova, however. By default, SAS computes "types I and 
III" univariate F-tests but only "type III" multivariate tests, while the 
summary for manova gives sequential ("type I") tests. These coincide for 
balanced data, but not for unbalanced data. Is it possible that Bill is 
comparing the sequential tests from manova to the "type III" tests from SAS?

If this is the source of the discrepancy, you can add " / type = 1" to the 
manova statements in SAS to make the programs agree. Of course, you might 
not really want "type I" tests.

John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Fri Nov  9 14:52:26 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Fri, 9 Nov 2001 14:52:26 +0100
Subject: [R] Installing packages
References: <200111090921.KAA25431@stat.math.ethz.ch>
Message-ID: <007101c16925$c5726700$cd981291@psy.uva.nl>


----- Original Message -----
From: "Noel Yvonnick" <noel at univ-lille3.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, November 09, 2001 10:20 AM
Subject: [R] Installing packages


> Hello,
>
> I have upgraded from Mandrake Linux 8.0 to Mandrake 8.1 and try to
reinstall
> my favourite R... Everything is OK for the base software but I have
trouble
> to get some packages installed.
>
> Specifically, for some packages, a "collect2" binary seems to be necessary
> during the compilation/linking process of the library, and LD complains
about
> not finding it :
>
> Installing source package `waveslim' ...
>  libs
> g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-fast-math -c bell-p-w.f -o bell-p-w.o
>
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
> -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-fast-math -c dwt.c -o dwt.o
>
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
> -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-fast-math -c hosking.c -o hosking.o
> gcc -shared  -o waveslim.so bell-p-w.o dwt.o hosking.o  -L/usr/local/lib
> -lg2c -lm -L/usr/lib/gcc-lib/i586-mandrake-linux/2.96
> -L/usr/lib/gcc-lib/i586-mandrake-linux/2.96/../../../../i586-mandrake-linu
x/lib
> -L/usr/lib/gcc-lib/i586-mandrake-linux/2.96/../../.. -lm
> /usr/bin/ld: cannot find -lg2c
> collect2: ld returned 1 exit status
> make: *** [waveslim.so] Erreur 1
> ERROR: compilation failed for package `waveslim'
>

looks like your missing the lib g2c. Usually this is called 'f2c' instead.
check if you have a f2c.so or f2c.a, and symlink this to 'g2c.so' or 'g2c.a'

or change the makefile accordingly


> It seems to be looking for it in usr/lib/gcc-lib/i586-mandrake-linux/2.96
> when it is actually in usr/lib/gcc-lib/i586-mandrake-linux-gnu/2.96 on my
> system. I tried to set conveniently the LD_LIBRARY_PATH variable, or to
> create a symbolic link "usr/lib/gcc-lib/i586-mandrake-linux/2.96" to
> usr/lib/gcc-lib/i586-mandrake-linux-gnu/2.96 but nothing worked.
>
> Note that I have both gcc-2.96 and gcc-3.0 installed, but I don't know if
it
> is part of the problem.
>
> I am no Linux guru and wonder whether some good soul would have a hint...
>
> Thank you very much in advance,
>
> Yvonnick Noel, PhD.
> U. of Lille 3
> Dpt. of Psychology
> FRANCE
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Nov  9 15:04:48 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Fri, 9 Nov 2001 14:04:48 GMT
Subject: [R] ks.test
Message-ID: <200111091405.fA9E5Bv30452@vs.bignet.com.br>

Dear R-List members,

I want to check if a set of measurements follows better a 
gamma or a lognormal distribution (see data below).

Using shapiro.test I can test for normality (shapiro.test(log
(Lt)).

To test for gamma (and normal) distribution I would use 
ks.test but I need to specify its shape and scale. How should 
I calculate these values in R?

I tried

> Lt.fit <- glm(Lt ~ 1, family=Gamma)
> gamma.shape(Lt.fit)
                
Alpha: 18.851759
SE:     3.737472

> ks.test(Lt,"pgamma",18.851759,3.737472)

        One-sample Kolmogorov-Smirnov test

data:  Lt 
D = 0.4063, p-value = 1.358e-07 
alternative hypothesis: two.sided

But I'm not sure about it. Using the software Statistica I got 
shape = 18.853508 and scale = 3.114434 and

> ks.test(Lt,"pgamma",18.853508,3.114434)

        One-sample Kolmogorov-Smirnov test

data:  Lt 
D = 0.1122, p-value = 0.5553 
alternative hypothesis: two.sided

With

> hist(Lt, freq=F)
> curve(dgamma(x,18.851759,3.737472),add=T,col="blue") 
> curve(dgamma(x,18.853508,3.114434),add=T,col="red") 

I could see that Statistica's parameters fitted better to Lt 
distribution. Probably I'm doing something wrong in R.

Thanks in advance,

Antonio Olinto

--------
> sample.dat

      Lt
1   60.0
2   79.0
3   48.0
4   57.0
5   84.0
6   57.0
7   57.0
8   43.0
9   58.0
10  63.0
11  66.0
12  53.5
13  60.0
14  62.0
15  41.0
16  65.0
17  50.0
18  85.0
19  68.0
20  46.0
21  45.0
22  59.0
23  53.0
24  37.0
25  61.0
26 106.0
27  47.0
28  49.0
29  56.0
30  42.0
31  54.0
32  87.0
33  51.0
34  78.0
35  45.0
36  49.4
37  67.0
38  84.5
39  54.0
40  57.0
41  49.0
42  57.0
43  59.0
44  83.0
45  43.5
46  42.5
47  59.5
48  65.0
49  44.0
50  49.0


-----------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  9 15:13:41 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2001 15:13:41 +0100
Subject: [R] adding text to persp
In-Reply-To: <NEBBJLLBCLEDFLCCBKDACELHCBAA.mel@mcs.st-andrews.ac.uk>
References: <NEBBJLLBCLEDFLCCBKDACELHCBAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <x2vggk117u.fsf@blueberry.kubism.ku.dk>

"Mike Lonergan" <mel at mcs.st-and.ac.uk> writes:

> A very crude solution is to superimpose two plots.
> 
> Though I don't quite understand why:
> 
> persp(a)
> par(new=T)
> persp(a')
> 
> puts the plot of a' on top of a (R1.3.1, Windows), while
> 
> par(new=T)
> persp(a)
> persp(a')
> 
> doesn't.
> 
> Apologies if this is already common knowledge.
> If it is unintended, I would prefer nobody fixed it!

It's intended. Basically, it par(new=T) tells the system "Pretend that
this page is blank".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Fri Nov  9 15:15:10 2001
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Fri, 9 Nov 2001 15:15:10 +0100
Subject: [R] R for Mac OS X
Message-ID: <2F35742C-D51C-11D5-B777-0003930EA956@gmx.net>


It seems that R 1.3.1 is not very stable for Mac OS X.
I installed it some days ago and had about 10-20 crashes
in the last days.
In S-Plus I never had these problems (or seldom), but
I worked on Win NT.

Who can help?
Meinhard

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andrew.Bernat at bea.doc.gov  Fri Nov  9 15:19:41 2001
From: Andrew.Bernat at bea.doc.gov (Andrew Bernat)
Date: Fri, 09 Nov 2001 09:19:41 -0500
Subject: [R] confused by switch() and the letter E
Message-ID: <sbeb9fba.054@beamail.bea.doc.gov>

I can't get switch() to work as expected with the letter 'E'.  The following example from help  works just fine.

> ccc <- c("b","QQ","a","A","bb")
> for(ch in ccc) cat(ch,":",switch(ch, a=1,    b=2:3),            "\n")
b : 2 3 
QQ : 
a : 1 
A : 
bb : 

Now I replace "a=1" with "E=1"

> for(ch in ccc) cat(ch,":",switch(ch, E=1,    b=2:3),            "\n")
b : b 
QQ : QQ 
a : a 
A : A 
bb : bb 

If instead I replace "b=2:3" with "E=2:3"  I get this:
 
> for(ch in ccc) cat(ch,":",switch(ch, a=1,   E=2:3),            "\n")
Error in switch(ch, a = 1, E = 2:3) : switch: EXPR must return a length 1 vector
> 

"E" is the only letter that does this.  Even 'e' works fine.  Am I missing something obvious?  Thanks in advance for any help.   I'm using R 1.3.1 on Windows 2000.  

Kind regards,
Andy Bernat.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xiaodong.Jin at cable.alcatel.com  Fri Nov  9 15:23:36 2001
From: Xiaodong.Jin at cable.alcatel.com (Jin Xiaodong)
Date: Fri, 9 Nov 2001 09:23:36 -0500 
Subject: [R] free installation of R
Message-ID: <98020C834B13D511898100508BB89CA9C16ACF@clrexchange.uscable.alcatel.com>

Hi,

May I ask how to download and install R software freely from internet?
Thanks a lot!

Best Regards,
Shelton


--------------------------------------------------
Industrial Statistician - Quality Engineering
Alcatel Fiber Plant
2512 Penny Road
Claremont, NC 28610-0039
Tel: 828-459-3092
Fax: 828-459-8840
xiaodong.jin at cable.alcatel.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Fri Nov  9 15:24:57 2001
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Fri, 9 Nov 2001 15:24:57 +0100
Subject: [R] problems with <fix> and <edit>
Message-ID: <8CF9FE9C-D51D-11D5-B777-0003930EA956@gmx.net>

sometimes I get the following error message with the editor command 
<fix>:

Error in edit.default(get(subx, envir = parent), ...) :
	cannot write tempfile

what happens?

Similarly, after a syntax error I get the message

Error in edit(name, file, editor) : An error occurred on line 3
  use a command like
  x <- edit()

and now the command  x<-edit() opens an empty window. (instead of <x> I 
wrote the name of the function, as usual)
--------

thanks for help
Meinhard Ploner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 592 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011109/c8018bd9/attachment.bin

From zeileis at ci.tuwien.ac.at  Fri Nov  9 15:30:19 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 09 Nov 2001 15:30:19 +0100
Subject: [R] free installation of R
References: <98020C834B13D511898100508BB89CA9C16ACF@clrexchange.uscable.alcatel.com>
Message-ID: <3BEBE87B.F64E1724@ci.tuwien.ac.at>

Jin Xiaodong wrote:
> 
> Hi,
> 
> May I ask how to download and install R software freely from internet?

Well, it's not so hard: go to
  http://cran.R-project.org/
and download it and install it.
You will find more info in section 2 of the FAQ on CRAN.
Z

> Thanks a lot!
>
> Best Regards,
> Shelton
> 
> --------------------------------------------------
> Industrial Statistician - Quality Engineering
> Alcatel Fiber Plant
> 2512 Penny Road
> Claremont, NC 28610-0039
> Tel: 828-459-3092
> Fax: 828-459-8840
> xiaodong.jin at cable.alcatel.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Fri Nov  9 15:29:29 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Fri, 09 Nov 2001 15:29:29 +0100
Subject: [R] library mclust
Message-ID: <3BEBE849.53644004@inrialpes.fr>

Hi all,

I have installed the mclust library but i can't load it.
When i execute  library(mclust), a segmentation fault appears and stops
R.
My R version is 1.2.1 and is installed on a linux system redhat.
Could anyone help me?
Thanks

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011109/cd1898b3/attachment.html

From ripley at stats.ox.ac.uk  Fri Nov  9 15:40:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 9 Nov 2001 14:40:41 +0000 (GMT)
Subject: [R] confused by switch() and the letter E
In-Reply-To: <sbeb9fba.054@beamail.bea.doc.gov>
Message-ID: <Pine.LNX.4.31.0111091437250.1705-100000@gannet.stats>

On Fri, 9 Nov 2001, Andrew Bernat wrote:

> I can't get switch() to work as expected with the letter 'E'.  The following example from help  works just fine.
>
> > ccc <- c("b","QQ","a","A","bb")
> > for(ch in ccc) cat(ch,":",switch(ch, a=1,    b=2:3),            "\n")
> b : 2 3
> QQ :
> a : 1
> A :
> bb :
>
> Now I replace "a=1" with "E=1"
>
> > for(ch in ccc) cat(ch,":",switch(ch, E=1,    b=2:3),            "\n")
> b : b
> QQ : QQ
> a : a
> A : A
> bb : bb
>
> If instead I replace "b=2:3" with "E=2:3"  I get this:
>
> > for(ch in ccc) cat(ch,":",switch(ch, a=1,   E=2:3),            "\n")
> Error in switch(ch, a = 1, E = 2:3) : switch: EXPR must return a length 1 vector
> >
>
> "E" is the only letter that does this.  Even 'e' works fine.  Am I missing something obvious?  Thanks in advance for any help.   I'm using R 1.3.1 on Windows 2000.

Yes. The arguments to switch are switch(EXPR, ...).  If anything in ...
would partially match EXPR, you have to name the first argument, e.g.

switch(EXPR=ch, a= 1, E = 2:3)

It's often good practice to name arguments rather than rely on positional
matching, and it's a bad idea to abbreviate argument names in R code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andrew.Bernat at bea.doc.gov  Fri Nov  9 15:49:47 2001
From: Andrew.Bernat at bea.doc.gov (Andrew Bernat)
Date: Fri, 09 Nov 2001 09:49:47 -0500
Subject: [R] confused by switch() and the letter E
Message-ID: <sbeba6cd.042@beamail.bea.doc.gov>

Thanks for the very prompt solution and good advice, Dr. Ripley.
...Andy.

>>> Prof Brian Ripley <ripley at stats.ox.ac.uk> 11/09/01 09:40AM >>>
On Fri, 9 Nov 2001, Andrew Bernat wrote:

> I can't get switch() to work as expected with the letter 'E'.  The following example from help  works just fine.
>
> > ccc <- c("b","QQ","a","A","bb")
> > for(ch in ccc) cat(ch,":",switch(ch, a=1,    b=2:3),            "\n")
> b : 2 3
> QQ :
> a : 1
> A :
> bb :
>
> Now I replace "a=1" with "E=1"
>
> > for(ch in ccc) cat(ch,":",switch(ch, E=1,    b=2:3),            "\n")
> b : b
> QQ : QQ
> a : a
> A : A
> bb : bb
>
> If instead I replace "b=2:3" with "E=2:3"  I get this:
>
> > for(ch in ccc) cat(ch,":",switch(ch, a=1,   E=2:3),            "\n")
> Error in switch(ch, a = 1, E = 2:3) : switch: EXPR must return a length 1 vector
> >
>
> "E" is the only letter that does this.  Even 'e' works fine.  Am I missing something obvious?  Thanks in advance for any help.   I'm using R 1.3.1 on Windows 2000.

Yes. The arguments to switch are switch(EXPR, ...).  If anything in ...
would partially match EXPR, you have to name the first argument, e.g.

switch(EXPR=ch, a= 1, E = 2:3)

It's often good practice to name arguments rather than rely on positional
matching, and it's a bad idea to abbreviate argument names in R code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/ 
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From glwang99 at yahoo.com  Fri Nov  9 16:12:43 2001
From: glwang99 at yahoo.com (guolingwang guolingwang)
Date: Fri, 9 Nov 2001 07:12:43 -0800 (PST)
Subject: [R] cluster analysis
Message-ID: <20011109151243.33310.qmail@web14505.mail.yahoo.com>

To be it concerned,

I want to know how to use R to do cluster analysis and
outcomes can include the computing time.
 
Thanks a lot

Guoling Wang 




__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth.1 at osu.edu  Fri Nov  9 16:33:10 2001
From: vasishth.1 at osu.edu (Shravan Vasishth)
Date: Fri, 09 Nov 2001 10:33:10 -0500
Subject: [R] Re-sent to correct list: passing parameters
Message-ID: <3BEBF736.D3C7049D@osu.edu>

Hi,

My apologies for sending this message earlier to the wrong list (next
time I'll wait till I'm fully awake).

I'm a new R user.  I want to do the following:

I want to pass a filename to R repeatedly (about 400 times) in order to
do a repetitive task (calculating regressions).

The way I'm setting it up is to write a bash script that will create an
R source file on the fly for each file. Here's the script in the
abstract:

#!/bin/sh

for f in *.vec; do

#for each file f with extension .vec,  create an
#R source file that reads in the  file f (as a table or whatever) and
#then  load it as an object (here, "foo"); there will be other  code
#as well, of course, after that.  After that R source file has
#completed its job, remove it  and repeat with the next file

TEMPFILE=temp$$.R
echo "foo <- read.table(\"$f\"); bar <- t(foo); bar;" | cat - template.R
> $TEMPFILE
R --silent --slave < $TEMPFILE >> outfile.test
rm -f  $TEMPFILE done

It works, but this is a really ugly hack, so my question is: is there a
better way to do this? For example, is there some way to pass a
filehandle as a parameter to R? From reading the manuals and old news
posts and responses, it seems the answer is no. I'm thinking of a
command like

R --silent -slave < source.R  $f  >> outfile.test

where $f will be used as the variable for the file to be converted to an

object ("foo" in my toy example above).

I hope my explanation makes sense.

Thanks in advance,

Shravan Vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xiaodong.Jin at cable.alcatel.com  Fri Nov  9 16:35:43 2001
From: Xiaodong.Jin at cable.alcatel.com (Jin Xiaodong)
Date: Fri, 9 Nov 2001 10:35:43 -0500 
Subject: [R] Goodness of Fit test (K-S, Anderson Darling, Chi-Square, etc) on 
	an estimated Burr Distribution (simulated data wth n=10002)
Message-ID: <98020C834B13D511898100508BB89CA9C16AD1@clrexchange.uscable.alcatel.com>

I wish to perform a goodness-of-fit (GoF) test (such as K-S, Anderson
Darling, etc) on a simulated Burr Data. 

May I ask where can I find any existing GoF codes in R, so that I may feed
in my own data & probability density function (such as Burr)? 

Thanks a lot!

Best Regards,
Shelton


--------------------------------------------------
Industrial Statistician - Quality Engineering
Alcatel Fiber Plant
2512 Penny Road
Claremont, NC 28610-0039
Tel: 828-459-3092
Fax: 828-459-8840
xiaodong.jin at cable.alcatel.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  9 17:24:00 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 9 Nov 2001 08:24:00 -0800 (PST)
Subject: [R] R for Mac OS X
In-Reply-To: <2F35742C-D51C-11D5-B777-0003930EA956@gmx.net>
Message-ID: <Pine.A41.4.33.0111090822180.117920-100000@homer06.u.washington.edu>

On Fri, 9 Nov 2001, Meinhard Ploner wrote:

>
> It seems that R 1.3.1 is not very stable for Mac OS X.
> I installed it some days ago and had about 10-20 crashes
> in the last days.
> In S-Plus I never had these problems (or seldom), but
> I worked on Win NT.
>

We need more information: for a start, which R -- the Carbon or the Darwin
one, and in what way it is crashing.

I have been using R 1.3.1 regularly on OS X (10.0.4 and 10.1) and it
hasn't crashed yet.  It *is* impossible to interrupt on OS X (a known
bug).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  9 17:29:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 9 Nov 2001 08:29:14 -0800 (PST)
Subject: [R] Re-sent to correct list: passing parameters
In-Reply-To: <3BEBF736.D3C7049D@osu.edu>
Message-ID: <Pine.A41.4.33.0111090828130.117920-100000@homer06.u.washington.edu>

On Fri, 9 Nov 2001, Shravan Vasishth wrote:

> Hi,
>
> My apologies for sending this message earlier to the wrong list (next
> time I'll wait till I'm fully awake).
>
> I'm a new R user.  I want to do the following:
>
> I want to pass a filename to R repeatedly (about 400 times) in order to
> do a repetitive task (calculating regressions).
>
<snip>
> It works, but this is a really ugly hack, so my question is: is there a
> better way to do this? For example, is there some way to pass a
> filehandle as a parameter to R? From reading the manuals and old news
> posts and responses, it seems the answer is no. I'm thinking of a
> command like
>
> R --silent -slave < source.R  $f  >> outfile.test
>
> where $f will be used as the variable for the file to be converted to an
>
> object ("foo" in my toy example above).

THe commandArgs() function reports the arguments that R was called with.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov  9 17:41:57 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 9 Nov 2001 17:41:57 +0100
Subject: [R] ks.test
In-Reply-To: <200111091405.fA9E5Bv30452@vs.bignet.com.br>
References: <200111091405.fA9E5Bv30452@vs.bignet.com.br>
Message-ID: <15340.1877.517999.258085@gargle.gargle.HOWL>

>>>>> "aolinto" == aolinto  <aolinto at bignet.com.br> writes:

    aolinto> I want to check if a set of measurements follows better a 
    aolinto> gamma or a lognormal distribution (see data below).

        ....

    aolinto> To test for gamma (and normal) distribution I would use 
    aolinto> ks.test but I need to specify its shape and scale. How should 
    aolinto> I calculate these values in R?

    aolinto> I tried

    >> Lt.fit <- glm(Lt ~ 1, family=Gamma)
    >> gamma.shape(Lt.fit)
                
    aolinto> Alpha: 18.851759
    aolinto> SE:     3.737472

As the function name suggests and  help(gamma.shape) clearly says,
its estimating the shape parameter alpha, and *ITS* standard error which is
not at all the same as the scale parameter you need (and in your case get 
from  coef(Lt.fit) !


    >> ks.test(Lt,"pgamma",18.851759,3.737472)
				     ^^^^^^^^
which is wrong!


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Fri Nov  9 18:00:12 2001
From: mai at ms.uky.edu (Mai Zhou)
Date: Fri, 9 Nov 2001 12:00:12 -0500 (EST)
Subject: [R] A chinese R-info page and a question
Message-ID: <200111091700.fA9H0C110787@t1.mscf.uky.edu>

Dear R community, 

I wrote and someone else helped me type a 5-page R-info in Chinese,
covering the most basic information on how to get and install 
and start using R on Wintel PC.

This could serve those not fluent in/intimidated by  
English but want to start using R.
(I met a lot of those in China)

<http://www.ms.uky.edu/~mai/ZhongWen.htm> 

also a MSword version of the same (may print better).

<http://www.ms.uky.edu/~mai/ZhongWen.doc>


Now I have a question: I am packaging several functions doing
empirical likelihood ratio as an R package.

Using R CMD check emplik, 
There is warning about undocumented functions.

Those are "utility functions" used by the main function.
What do I suppose to do for those functions? where do I document them?

I do not think they warrant a full document like the regular function.

Thanks!

Mai Zhou

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  9 18:00:39 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2001 18:00:39 +0100
Subject: [R] Re-sent to correct list: passing parameters
In-Reply-To: <Pine.A41.4.33.0111090828130.117920-100000@homer06.u.washington.edu>
References: <Pine.A41.4.33.0111090828130.117920-100000@homer06.u.washington.edu>
Message-ID: <x2lmhf2820.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Fri, 9 Nov 2001, Shravan Vasishth wrote:
> 
> > Hi,
> >
> > My apologies for sending this message earlier to the wrong list (next
> > time I'll wait till I'm fully awake).
> >
> > I'm a new R user.  I want to do the following:
> >
> > I want to pass a filename to R repeatedly (about 400 times) in order to
> > do a repetitive task (calculating regressions).
> >
> <snip>
> > It works, but this is a really ugly hack, so my question is: is there a
> > better way to do this? For example, is there some way to pass a
> > filehandle as a parameter to R? From reading the manuals and old news
> > posts and responses, it seems the answer is no. I'm thinking of a
> > command like
> >
> > R --silent -slave < source.R  $f  >> outfile.test
> >
> > where $f will be used as the variable for the file to be converted to an
> >
> > object ("foo" in my toy example above).
> 
> THe commandArgs() function reports the arguments that R was called with.

Also, things can be made somewhat cleaner by utilizing the fact that 
substitution takes place in here scripts, e.g.

#!/bin/sh
for i in *.c ; do R --vanilla --quiet << EOF
print("$i")
EOF

However, the question is whether it wouldn't be better to have loop
coded internally to R.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  9 18:26:40 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 9 Nov 2001 09:26:40 -0800 (PST)
Subject: [R] A chinese R-info page and a question
In-Reply-To: <200111091700.fA9H0C110787@t1.mscf.uky.edu>
Message-ID: <Pine.A41.4.33.0111090923100.117920-100000@homer06.u.washington.edu>

On Fri, 9 Nov 2001, Mai Zhou wrote:

> Now I have a question: I am packaging several functions doing
> empirical likelihood ratio as an R package.
>
> Using R CMD check emplik,
> There is warning about undocumented functions.
>
> Those are "utility functions" used by the main function.
> What do I suppose to do for those functions? where do I document them?
>
> I do not think they warrant a full document like the regular function.

The solution (in 'Writing R Extension' section 1.1.3 for version 1.3.1) is
to have a single 'internals' page for each package that lists all
these functions.  For an example, do
  library(ts)
  help("ts-internal")
This confirms that you haven't just forgotten to document these functions.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  9 18:56:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 9 Nov 2001 17:56:29 +0000 (GMT)
Subject: [R] A chinese R-info page and a question
In-Reply-To: <200111091700.fA9H0C110787@t1.mscf.uky.edu>
Message-ID: <Pine.LNX.4.31.0111091753420.1837-100000@gannet.stats>

On Fri, 9 Nov 2001, Mai Zhou wrote:

> Dear R community,
>
> I wrote and someone else helped me type a 5-page R-info in Chinese,
> covering the most basic information on how to get and install
> and start using R on Wintel PC.
>
> This could serve those not fluent in/intimidated by
> English but want to start using R.
> (I met a lot of those in China)
>
> <http://www.ms.uky.edu/~mai/ZhongWen.htm>
>
> also a MSword version of the same (may print better).
>
> <http://www.ms.uky.edu/~mai/ZhongWen.doc>
>
>
> Now I have a question: I am packaging several functions doing
> empirical likelihood ratio as an R package.
>
> Using R CMD check emplik,
> There is warning about undocumented functions.
>
> Those are "utility functions" used by the main function.
> What do I suppose to do for those functions? where do I document them?
>
> I do not think they warrant a full document like the regular function.

Right, but this is described in `Writing R Extensions'.  To see the
style, see e.g. ts-internal.Rd.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mathias.Picker at virtual-earth.de  Fri Nov  9 19:40:48 2001
From: Mathias.Picker at virtual-earth.de (Mathias.Picker@virtual-earth.de)
Date: Fri, 9 Nov 2001 19:40:48 +0100 (CET)
Subject: [R] spider / radar plot
Message-ID: <200111091840.TAA13091@stat.math.ethz.ch>

Hmmmm, not quite statistics,

but can R do spider plot like shown in

http://seamonkey.ed.asu.edu/~behrens/asu/msms/student/recent_vis/spider.html

or

http://www.caesarsystems.com/Technica/spiderPlots.htm


Thanks for any hints, Mathias
-- 
                            virtual earth
 Mathias Picker
 Gesch?ftsf?hrer      Gesellschaft f?r Wissens re/pr? sentation mbH

                            Mathias.Picker at virtual-earth.de 
			    Fon +49 89  / 540 7425-1
                            Fax +49 89  / 540 7425-9


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov  9 19:52:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 9 Nov 2001 10:52:21 -0800 (PST)
Subject: [R] spider / radar plot
In-Reply-To: <200111091840.TAA13091@stat.math.ethz.ch>
Message-ID: <Pine.A41.4.33.0111091051590.117920-100000@homer06.u.washington.edu>

On Fri, 9 Nov 2001 Mathias.Picker at virtual-earth.de wrote:

> Hmmmm, not quite statistics,
>
> but can R do spider plot like shown in
>
> http://seamonkey.ed.asu.edu/~behrens/asu/msms/student/recent_vis/spider.html
>
> or
>
> http://www.caesarsystems.com/Technica/spiderPlots.htm
>

I think you can use stars() to do this.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Fri Nov  9 20:31:34 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Fri, 9 Nov 2001 14:31:34 -0500 (EST)
Subject: [R] R for Mac OS X
In-Reply-To: <Pine.A41.4.33.0111090822180.117920-100000@homer06.u.washington.edu>
Message-ID: <Pine.GSO.4.20.0111091428140.21462-100000@jade.saintmarys.edu>

On Fri, 9 Nov 2001, Thomas Lumley wrote:

> On Fri, 9 Nov 2001, Meinhard Ploner wrote:
> 
> >
> > It seems that R 1.3.1 is not very stable for Mac OS X.
> > I installed it some days ago and had about 10-20 crashes
> > in the last days.
> > In S-Plus I never had these problems (or seldom), but
> > I worked on Win NT.
> >
> 
> We need more information: for a start, which R -- the Carbon or the Darwin
> one, and in what way it is crashing.
> 
> I have been using R 1.3.1 regularly on OS X (10.0.4 and 10.1) and it
> hasn't crashed yet.  It *is* impossible to interrupt on OS X (a known
> bug).
> 

R131 should be interruptable on X, you need to set the Interrupt flag to
true in the .Renviron file. 

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Fri Nov  9 19:40:53 2001
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Fri, 09 Nov 2001 18:40:53 +0000
Subject: [R] One package calling C-code from another package.
Message-ID: <3BEC2335.C6A1DB47@lancs.ac.uk>

Dear R people

We have two packages, where the first package (geoR) is required by the
second (geoRglmm). 
Both packages have functions calling  C-code via .C().

We would like to call C-functions included in the first package 
from within the C-code in the second package.
Is this possible?

An appropriate header file was included in the src directory of the
second package but this alone did not solve the problem, probably 
because we have to link things properly when compiling the second
package.

We've browse the "Writing R extensions" manual and tried to use
"Makevars" but we did not succeed/got it right.

Any ideas?

Thanks in advance for any help
 Ole Christensen / Paulo Ribeiro


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                



-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Nov  9 20:37:20 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sat, 10 Nov 2001 08:37:20 +1300
Subject: [R] A chinese R-info page and a question
In-Reply-To: <200111091700.fA9H0C110787@t1.mscf.uky.edu>
Message-ID: <JLECJACFMBHFAAPLJNECAELNCAAA.Ko-Kang@xtra.co.nz>

This is excellent!  I've been thinking of writing one like that myself for quite a while.

Would you mind if I translate it into Traditional (Big-5) Chinese and add more stuff to it?  And does anyone out there know if there are any tutorials/documentations using traditional Chinese?

BTW, have you thought of using LaTeX to write the documentation ;-)?

Ko-Kang Wang


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Mai Zhou
Sent: Saturday, November 10, 2001 6:00 AM
To: r-help at stat.math.ethz.ch
Subject: [R] A chinese R-info page and a question


Dear R community, 

I wrote and someone else helped me type a 5-page R-info in Chinese,
covering the most basic information on how to get and install 
and start using R on Wintel PC.

This could serve those not fluent in/intimidated by  
English but want to start using R.
(I met a lot of those in China)

<http://www.ms.uky.edu/~mai/ZhongWen.htm> 

also a MSword version of the same (may print better).

<http://www.ms.uky.edu/~mai/ZhongWen.doc>




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Nov  9 20:46:57 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 9 Nov 2001 20:46:57 +0100 (MET)
Subject: [R] Transforming matrix to data.frame: problems
Message-ID: <Pine.OSF.3.96.1011109204321.25520A-100000@ija.csic.es>

Hi all,

I have problems transforming a matrix 
into a data.frame:

If I do:

> is.matrix(parcelas.cobtot.conti)
[1] TRUE
> dim(parcelas.cobtot.conti)
[1] 25 64

> a  <- data.frame(parcelas.cobtot.conti)
> is.data.frame(a)
[1] TRUE
> 
> dim(a)
[1] 1600    3

Why a does not have the same dimensions than 
parcelas.cobtot.conti?

I've tested with caith and the behaviour there
is different:

> data(caith)
> is.data.frame(caith)
[1] TRUE
> dim(caith)
[1] 4 5

> a <- as.matrix(caith)
> dim(a)
[1] 4 5
> b <- data.frame(a)
> dim(b)
[1] 4 5

What can be wrong with parcelas.cobtot.conti ?
I'd appreciate any help

Thanks,

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  9 21:11:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2001 21:11:07 +0100
Subject: [R] Transforming matrix to data.frame: problems
In-Reply-To: <Pine.OSF.3.96.1011109204321.25520A-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011109204321.25520A-100000@ija.csic.es>
Message-ID: <x2wv0zaen8.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Hi all,
> 
> I have problems transforming a matrix 
> into a data.frame:
> 
> If I do:
> 
> > is.matrix(parcelas.cobtot.conti)
> [1] TRUE
> > dim(parcelas.cobtot.conti)
> [1] 25 64
> 
> > a  <- data.frame(parcelas.cobtot.conti)
> > is.data.frame(a)
> [1] TRUE
> > 
> > dim(a)
> [1] 1600    3
> 
> Why a does not have the same dimensions than 
> parcelas.cobtot.conti?
...
> What can be wrong with parcelas.cobtot.conti ?
> I'd appreciate any help

Anything interesting coming out of 

str(parcelas.cobtot.conti)

?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bsp at stoneanalytics.com  Fri Nov  9 21:52:50 2001
From: bsp at stoneanalytics.com (Bradley S. Paye)
Date: Fri, 9 Nov 2001 12:52:50 -0800 
Subject: [R] Examples for Markov Chain in Economics
Message-ID: <714345630B87D3118C810090274E7643025EE540@enterprise.stoneanalytics.com>


Some additional starting points for Markov Chains in economics are:

Hamilton, J., "Estimation, Inference, and Forecasting of Time Series Subject
to Changes in Regime," Handbook of Statistics, Volume 11, edited by G. S.
Maddala, C. R. Rao, and H. D. Vinod, North-Holland, 1993. 

Hamilton, J., "Analysis of Time Series Subject to Changes in Regime,"
Journal of Econometrics, July/August 1990

Hamilton, J., Time Series Analysis. Princeton University Press, 1994 (last
chapter)

Timmermann, A., "Moments of Markov Switching Models", Journal of
Econometrics, 2000, 96, 75-111

Chang-Jin Kim and Charles R. Nelson, State-Space Models with Regime
Switching. MIT Press, 1999 

For an application to finance:
Perez-Quiros, G. and Timmermann, A., "Firm Size and Cyclical Variations in
Stock Returns", Journal of Finance, 2000, 1229-1262 

Hope these are helpful,

-Bradley Paye 

-----Original Message-----
From: Serge Rey [mailto:serge at rohan.sdsu.edu]
Sent: Wednesday, November 07, 2001 1:11 PM
To: r-help at stat.math.ethz.ch
Subject: Re: [R] Examples for Markov Chain in Economics


On Wed, Nov 07, 2001 at 05:07:36PM +0100, Rivera Galicia Luis Felipe wrote:
> Could anyone tell me where can I find some examples of the applications
> to economics of a Markov chain?

here are a few applications in the context of regional income
convergence:

@article{Quah93,
   author    = {Danny Quah},
   title     = {Galton's fallacy and tests of the convergence hypothesis},
   journal   = {Scandinavian Journal of Economics},
   pages     = {427-443},
   year      = 1993,
   volume    = 95
}

@article{Quah96,
   author    = {Danny T. Quah},
   title     = {Empirics for economic growth and convergence},
   journal   = {European Economic Review},
   pages     = {1353-1375},
   year      = 1996,
   volume    = 40
}

@article{Rey01ga,
 author={Sergio J. Rey},
title={Spatial empirics for regional economic growth and convergence},
journal={Geographical Analysis},
year={2001},
volume={33},
number={3},
pages={195-214}}


-- 
Sergio J. Rey	http://typhoon.sdsu.edu/rey.html
GPG fingerprint =  16DB 4934 E0F1 B386 AE81  D379 914C 33E5 F690 95DF
emacs "Powerful, but only for those who have more time than sense."
	Stewart Stremler
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Nov  9 22:48:52 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Fri, 9 Nov 2001 16:48:52 -0500
Subject: [R] One package calling C-code from another package.
In-Reply-To: <3BEC2335.C6A1DB47@lancs.ac.uk>; from o.christensen@lancaster.ac.uk on Fri, Nov 09, 2001 at 06:40:53PM +0000
References: <3BEC2335.C6A1DB47@lancs.ac.uk>
Message-ID: <20011109164852.D3844@jessie.research.bell-labs.com>

Hi Ole,

This is an interesting question to handle generally.  However, if you
want a Linux-specific solution, the answer is reasonably simple.
The dyn.load() function has an argument named local and on Linux
and some other operating systems, you can do the following

dyn.load("bar.so", local = FALSE)
dyn.load("foo.so")

and then the symbols that are referenced in foo.so but that are
actually in bar.so will be available to foo.so and all will work.
Here's a simple example

In bar.c, put
void
myFoo(char **names)
{
  fprintf(stderr, "In myFoo %s\n", names[0]);fflush(stderr);
}

In foo.c, put

void
myCall()
{
  char *str = "from myCall";
  fprintf(stderr, "In myCall\n");fflush(stderr);
  myFoo(&str);
}

and then compile bar.so and foo.so as

 R CMD SHLIB -o bar.so bar.c
and 
 R CMD SHLIB -o foo.so foo.o

Then in R

> dyn.load("bar.so",local=FALSE)
> dyn.load("foo.so")

> .C("myFoo", letters[1:2])
In myFoo a
[[1]]
[1] "a" "b"

> .C("myCall")
In myCall
In myFoo from myCall
list()

Note that the order in which you load the shared libraries is
important.  (Unless you exercise the now argument which makes the
solution even more OS-dependent.)


AND NOW THE BAD NEWS.  If you expect this to work on Windows you may
be expecting too much.  Instead there are two solutions available to
you.  The first is to take the set of routines that are called by
_both_ libraries and put them into a 3rd libary, say libMyUtils.so
Then, link foo.so and bar.so against that library and they will both
work correctly. Even with this approach, if you have global
variables/data in the library, things will not always work as expected
and you may end up with two separate copies of those variables.  This
may not be what you want and it is very OS and dynamic loader
specific.

A second approach is to explicitly look up the symbol you want.  You
can ask R to fetch the symbol in the other library and then
invoke. This makes the C code more ugly but will work in most if not
all circumstances. So for example, in foo.c, if I want to call
myFoo(), I ask R for a reference to the myCall() routine and then
invoke that pointer.

void
myRCall()
{
  Sig f;
  char *str = "from myCall";
  fprintf(stderr, "In myCall\n");fflush(stderr);

  f = (Sig) R_FindSymbol("myFoo","bar", NULL);  
  if(f)
    f(&str);
}

Of course, if you were invoking the routine in many places in the
code, you could do the lookup when the library is loaded and store the
addresses in an array or structure and write the calls to refer to
those.


Hopefully you only care about the Linux-specific solution and using
the local = FALSE approach will suffice.

  D.


Ole Christensen wrote:
> Dear R people
> 
> We have two packages, where the first package (geoR) is required by the
> second (geoRglmm). 
> Both packages have functions calling  C-code via .C().
> 
> We would like to call C-functions included in the first package 
> from within the C-code in the second package.
> Is this possible?
> 
> An appropriate header file was included in the src directory of the
> second package but this alone did not solve the problem, probably 
> because we have to link things properly when compiling the second
> package.
> 
> We've browse the "Writing R extensions" manual and tried to use
> "Makevars" but we did not succeed/got it right.
> 
> Any ideas?
> 
> Thanks in advance for any help
>  Ole Christensen / Paulo Ribeiro
> 
> 
> > version
>          _                
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    3.1              
> year     2001             
> month    08               
> day      31               
> language R                
> 
> 
> 
> -- 
> Ole F. Christensen
> Department of Mathematics and Statistics
> Fylde College, Lancaster University 
> Lancaster, LA1 4YF, England
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Fri Nov  9 23:22:17 2001
From: mai at ms.uky.edu (Mai Zhou)
Date: Fri, 9 Nov 2001 17:22:17 -0500 (EST)
Subject: [R] A chinese R-info page and a question
In-Reply-To: <JLECJACFMBHFAAPLJNECAELNCAAA.Ko-Kang@xtra.co.nz> from "Ko-Kang Kevin Wang" at Nov 10, 2001 08:37:20 AM
Message-ID: <200111092222.fA9MMHw13344@t1.mscf.uky.edu>

Thanks for the kind word. 
> 
> This is excellent!  I've been thinking of writing one like that myself for quite a while.
> 
> Would you mind if I translate it into Traditional (Big-5) Chinese and add more stuff to it?  And does anyone out there know if there are any tutorials/documentations using traditional Chinese?

I have no problem, go ahead. May be I should state that I am putting this
document in GPL 2 copyright etc. or something like that 
(in fact my friend in China also saved the 
file in Traditional Chinese. But I lost it)

> 
> BTW, have you thought of using LaTeX to write the documentation ;-)?

Yes, but input Chinese is difficult (at least for me). I chose the 
easy way: wrote it down and mail to my friend in China, let them
input it for me. (they do not seem to have latex).

The next step may be to start translate the "Introduction to R", 
at least some sections. 


> 
> Ko-Kang Wang
> 

Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Sat Nov 10 00:23:32 2001
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 9 Nov 2001 15:23:32 -0800
Subject: [R] Transforming matrix to data.frame: problems
In-Reply-To: <Pine.OSF.3.96.1011109204321.25520A-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011109204321.25520A-100000@ija.csic.es>
Message-ID: <p05101001b812146410ad@[128.115.153.6]>

At 8:46 PM +0100 11/9/01, Agustin Lobo wrote:
>Hi all,
>
>I have problems transforming a matrix
>into a data.frame:
>
>If I do:
>
>>  is.matrix(parcelas.cobtot.conti)
>[1] TRUE
>  > dim(parcelas.cobtot.conti)
>[1] 25 64
>
>  > a  <- data.frame(parcelas.cobtot.conti)
>>  is.data.frame(a)
>[1] TRUE
>>
>>  dim(a)
>[1] 1600    3
>
>Why a does not have the same dimensions than
>parcelas.cobtot.conti?
>
>

...

What does
   a[1:3,]
look like? Compared with, perhaps,
   parcelas.cobtot.conti[1:2,]

This may suggest something.

It is probably not a coincidence that
>  25*64
[1] 1600

It might be worth trying
   as.data.frame(parcelas.cobtot.conti)

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Baxter at ru.ac.za  Sat Nov 10 10:50:57 2001
From: J.Baxter at ru.ac.za (Jeremy Baxter)
Date: Sat, 10 Nov 2001 11:50:57 +0200
Subject: [R] Summary: Teaching with R a quick survey.
Message-ID: <01111011505708.01024@st27.stats.ru.ac.za>

Hi
I would like to start by thanking everyone that replied. Thank you for the 
information, and for the comments about how or why you use it and thankx for 
the encouragement re my talk....

Please note that I do not claim to have ellicited a reply from all users of 
R, this is a quick survey not a census. 

I have tried to break the responces down to the following categories:

Where: (hopefully my geography is not as bad as my teachers claimed??)

When: Undergraduate level or post graduate level.


I included all the posts that i recieved. 

Thank you.
jeremy



-----------------------
Where:

Austria
Vienna University of Technology, Department of Statistics
Vienna University of Economics and Business Administration:
Vienna University of Technology

Austalia:
University of Technology, Sydney

Brazil:
Universidade Federal de Pernambuco, Recife/PE

France:
University of Lyon

The Netherlands:
University of Nijmegen, Dept. of Chemometrics, ED Nijmegen

SPAIN:
Instituto de Ciencias de la Tierra (CSIC), Barcelona
Royal College "Escorial-Maria Cristina", San Lorenzo del Escorial(Madrid)
University of the Basque Country, Bilbao
Institut Catala d'Oncologia Hospitalet, Barcelona


Switzerland :
ETH, Zurich
Swiss Federal Research Institute WSL

Germany:
Fachbereich Statistik, Universit?t Dortmund.

New Zealand:
The University of Auckland    

Portugal:
Escola Superior de Tecnologia e Gest?o in Viana do Castelo 

Taiwan:
National Cheng-Kung University

United Kingdom:
UEA, Norwich
St Andrews University, Scotland
Durham University
Nordic School of Public Health 


United States:
University of Florida
University of Pennsylvania
Appalachian State University
University of Virginia
University of Waterloo
College of Staten Island/ City University of New York
University of Washington, Seattle
Reed University


Non Teaching:
Rhode Island, USA
National Eye Institute, USA
Sao Paulo Fisheries Institute, Sao Paulo State, Brazil.
Bank of Canada (Canada's central bank)
Forest Insect Group of the Royal Forest Department, Thailand.
University of Madras, India


Undergrad:
1. not-only-theoretical-parts (e.g. Statistics 2, Computational Statistics,
Quality Assurance, Factorial Design, ...).

2. 1 third year course on either genralized linear models or time series 
( is switches)

3. Will use this year with our second year statistical modelling course

4. If I am brave enough with the new first year stats course

5. Main first year course + one first year service course, and for 3rd/4th 
year modules in generalized linear modelling, sampling and computer intensive 
stats. Our main 2nd year course will be converted to R (from Minitab) this 
year

6. A first course in probability and statistics for computer science majors, 
Linear regression, and occasionally in math stat (all undergraduate classes). 

7. Introductory stats class (pre-calc assumption only).

8. An undergrad/grad categorical data analysis course and a service course for
undergraduate computer science majors

9. Main second year Statistics course (about 1500 students per year) and 
either R or S-PLUS for most of our third year course and subsequent ones. 

10. inear models, design of experiments, and basically whatever other course 
I might be teaching. The students are using this from about the 5 semester.


11. All the way through the undergraduate degree, with explicit R practicals
given to the 1st and 2nd year students

12. Introductory statistics courses (all disciplines, with strongr 
epresentation of biology, economics, sociology, political science, and the 
occasional math student)

13. Industrial Statistics.

14. Teaching (introductory) statistics to chemistry students.

15. Epidemiological data and custom graphical presentation.

16. 1st and 2nd year stats courses

Postgrad:
1. Ecology/statistics: postgraduate course in ecological modeling and
estimation).

2. Teaching to stats, maths, comp.science, and other students; but not to 
biology, agricultural, plant sciences (where SyStat is used)

3. Graduate methods course in psychology

4. We have 2 masters courses coming on stream this year that will use R. 

5. PhD work: analyse oznoe datasets and compare them with many different 
variables from the atmosphere and so.

6. Graduate course entitled Analysis of Survival Data.

7. R for simulations in their PhD research.

8.  for both teaching (masters, under and post graduate) and research, in all 
fields of statistics and particularly multivariate analysis.

9. Econometrics I and II (4th year curriculum students)

10. Master/Ph.D.)
    Statistical Methods, Linear Model,
    Statistical Computation and Simulation,
    Reliability Analysis,
    Special Topics in Regression Analysis

11. Postgraduate courses on Linear Models (Regression, ANOVA)
and Multivariate Analysis to third and fourth year Economics students.

12. Graduate courses on computational statistics and on applied statistics

13. stats course in PhD program



not specified:
Applied Mathematics
Data Engineering and Statistics

Teaching survival analysis and analysis of categorical data (glm)

Sensory analysis as part of the Food Engineering degree 

Data mining course
Biostatistics
Business Statistics
Statistical Computing
Actuarial Mathematics


<All messages included... i hope!>

-----------------------------------------
ecology/statistics (postgraduate course in ecological modeling and
estimation), University of Florida, US
-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704
-----------------------------------------

ETH Zurich / Switzerland :
 1) Teaching Postgradaute course Statistics
    Teaching to stats, maths, comp.science, and other students;
      but not to biology, agricultural, plant sciences (where SyStat is used)
 2) almost all of research in (Mathematical) Statistics
 3) for all data analysis including paid projects
I'm very interested in your summary.
Also wondering how you can try to make sure to get an answer from almost
every institution that *does* use R..

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>      
http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10     Leonhardstr. 27
ETH (Federal Inst. Technology)   8092 Zurich     SWITZERLAND
phone: x-41-1-632-3408           fax: ...-1228                   <><
-----------------------------------------

Where: Fachbereich Statistik, Universit?t Dortmund, Germany.
Sections: Dependent on who is teaching in nearly all
not-only-theoretical-parts (e.g. Statistics 2, Computational Statistics,
Quality Assurance, Factorial Design, ...).

Uwe Ligges
-----------------------------------------

Health Psychology Unit
University of Technology, Sydney

uses R for statistical analysis.

Jim
(Research Psychologist, Health Psychology Unit, UTS)
-----------------------------------------
R is used
1 third year course on either genralized linear models or time series 
( is switches)

Will use this year with our second year statistical modelling course

If I am brave enough with the new first year stats course
-- 
G.Janacek                                        44 (0) 1603 592489
Dean                                    fax     44 (0) 1603 593868
School of Maths                   secretary     44 (0) 1603 592488
UEA
Norwich NR4 7TJ
-----------------------------------------

Vienna University of Technology, Department of Statistics, Austria

R is used in several classes of the programs
         Applied Mathematics
         Data Engineering and Statistics

and of course in most of our research.

Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria       
-----------------------------------------

I'm using it in a graduate methods course in psychology here.
See my web page for the syllabus.  I'm not sure how many
students will continue to use it, or revert to SPSS (or,
worse, JMP-IN) to do their data analysis.  But I am sure
that it is more than zero!  Jon

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron      
http://www.ci.tuwien.ac.at/~leisch
-----------------------------------------
Hi,

We're using R quite extensively in the School of Mathematics and
Statistics at St Andrews Uni. Scotland. 
Currently we're using it for our main first year course + one first year
service course, and for 3rd/4th year modules in generalized linear
modelling, sampling and computer intensive stats. Our main 2nd year course
will be converted to R (from Minitab) this year, and we have 2 masters
courses coming on stream this year that will use R. 

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 
-----------------------------------------

I have been using R to teach a first course in probability 
and statistics for computer science majors, Linear 
regression, and occasionally in math stat (all 
undergraduate classes).  Started using R in the first class 
fall 1998.  Thinking about using it in a new class (read: 
... yet to be developed) for biology majors.

Alan
 
----------------------
Alan T. Arnholt
Associate Professor
Department of Mathematical Sciences
Appalachian State University

Tel: (828) 262-2863
Fax: (828) 265-8617
-----------------------------------------

Hi 

I am using R for all statistical problems which are coming along. At the
moment I have finished the evaluation of a survey on big predator acceptance.

Kind regards
--christian

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/
-----------------------------------------

We use R for statistical analysis of ecological 
data and time series of climate records. We also
use it, integrated with other tools, for the
classification of remotely-sensed imagery.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
-----------------------------------------

hi jeremy

i use R for my PhD work. I analyse oznoe datasets and compare them with
many different variables from the atmosphere and so. I work in the
Institute for Atmopheric and Climate Science, it's part of the federal
institute of technology Zurich (ETH Zurich) Switzerland.

links

the university: www.ethz.ch
the institute: www.iac.ethz.ch
my page: www.iac.ethz.ch/staff/maeder/

greuss

joerg
-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-----------------------------------------

I do a lot of teaching with S-Plus which would apply to
most R users.  I have a lot of material at
http://hesweb1.med.virginia.edu/biostat/teaching/statcomp
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-----------------------------------------


We use R in Statistics and Actuarial Science at the University of
Waterloo.  In particular, I use the software to teach a graduate course
entitled Analysis of Survival Data.

Other instructors may also use R in their teaching.  I'm afraid I don't
have any firm details.

David Matthews 
-----------------------------------------

I am using R for an introductory stats class (pre-calc assumption
only). It seems to be working out well. I've developed some notes for
using R at this level which one day may make it to CRAN.

Institution: College of Staten Island/ City University of New York
Course: Applied statistics with computers

--JOhn
....................................................................
.  John Verzani                  mailto:verzani at math.csi.cuny.edu  .
.  Dept. of Mathematics      http://www.math.csi.cuny.edu/~verzani .
  City University of New York                 tel: (718) 982-3623 .
.  College of Staten Island                    fax: (718) 982-3631 .
.  Staten Island, NY 10314                                         .
....................................................................
-----------------------------------------

We use S for statistics courses for graduate students in Statistics and
Biostatistics. Some of the students and a couple of the faculty use R
rather than S-PLUS.

Many students use R for simulations in their PhD research (I don't know if
you include this as teaching)

         -thomas

Thomas Lumley                    Asst. Professor, Biostatistics
tlumley at u.washington.edu         University of Washington, Seattle
-----------------------------------------

We use it here at the University of Lyon, Biometry Lab, France, for both
teaching (masters, under and post graduate) and research, in all fields
of statistics and particularly multivariate analysis.

http://pbil.univ-lyon1.fr/R/enseignement.html

Jean
-- 
Jean Thioulouse - Equipe "Ecologie  Statistique" - UMR CNRS 5558
Universite Lyon 1, Bat. Mendel, 69622 Villeurbanne Cedex, France
Fax: (33) 4 78 89 27 19                  Tel: (33) 4 72 43 27 56
          http://pbil.univ-lyon1.fr/ADE-4/JTHome.html
-----------------------------------------

FWIW, I have used R in two courses so far (an undergrad/grad
categorical data analysis course and a service course for
undergraduate computer science majors).  In the future I'll probably
use it an all the courses that I teach that require computing.  I
believe that a few of my colleagues in the Dept. of Statistics are
using R in classes as well.

There is also someone in the Department of Political Science here who
has used R in a graduate course over there.  Finally, Ben Bolker in
our zoology department posts to the R lists quite regularly and I
imagine that he is also using R in his teaching (unfortunately I don't
know him personally).

Hope that helps.

-- 
Brett Presnell
Department of Statistics
University of Florida
http://www.stat.ufl.edu/~presnell/
-----------------------------------------

where:  Rhode Island, USA
how: self-employed consultant; preparing and analyzing statistical
experimental designs for chemical, biotechnology industries

-- 
Robert Burrows
New England Biometrics
rbb at nebiometrics.com
-----------------------------------------

I use R for biostatistical research and analysis, I use it as a calculator,
and I use it to manage my lists of bird sightings (the latter is not part of
my official duties). 

TAC
----------------------------------------------
Terry A. Cox, MD, PhD
Division of Epidemiology and Clinical Research
National Eye Institute 

National Institutes of Health 
31 Center Drive, MSC 2510 
Building 31, Room 6A52 
Bethesda, MD 20892-2510

Phone: 301-496-6583 
FAX:   301-496-2297 
mailto:tac at nei.nih.gov 
-----------------------------------------

At Auckland we use R for our main second year Statistics course (about
1500 students per year) and either R or S-PLUS for most of our third year
course and subsequent ones. We also use SAS from third year. R use would
be increasing, S-PLUS declining I think. Most of what we expect students
to do can now be done using R.

Hope  this helps.

David Scott
_________________________________________________________________
David Scott     Department of Statistics
                Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7000
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
-----------------------------------------

Hola!

We use R (or at least I use it) for linear models, design of
experiments, and basically whatever other course I might be teaching.
The students are using this from about the 5 semester.

Kjetil Halvoersen
-----------------------------------------

My name is Antonio Olinto. I'm a marine biologist and I work at Sao Paulo
Fisheries Institute, Sao Paulo State, Brazil.

I'm using R in many things related to fish dymanics (linear and non-linear
model adjustment, statistical tests and descriptive stat. ), fishing effort
standardization (glm), etc.

Why to use it? It's a freeware and it's mailing list is too much better than
any technical support. The way it works helps a non-statistician to
understand better modelling and statistics in general.

Best wishes,

Antonio
-----------------------------------------

In the Maths Dept at Durham (U.K.) we use R in Statistics teaching all
the way through the undergraduate degree, with explicit R practicals
given to the 1st and 2nd year students.  Incidentally many of us also
use R as our primary research tool.

Cheers, Jonathan.
-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-----------------------------------------

I use R in the introductory statistics courses here at Reed.  
The intro courses are taken by students from all disciplines,
with strong representation of biology, economics, sociology,
political science, and the occasional math student.  It does not
assume calculus, though in recent years about 80-90% of the students 
have had at least a semester of calculus, or a high school calculus
course.  There is a weekly lab section.

In the mathematical statistics course I do less data analysis,
because most of those students have already had the intro
course, but whatever we do will be in R.

Reed is a small (1100 students) liberal arts school, in Portland
Or, USA. 

regards

albyn
-- 
--------------------------------------------------------------
http://www.reed.edu/~jones    Albyn Jones          jones at reed.edu
Reed College, Portland OR 97202             (503)-771-1112 x7418
-----------------------------------------

I do teach a course in Econometrics using R. This is a two semester course, 
after another course in Mathematical Statistics.

Here are my data:

    Prof. Agustin Alonso
    Royal College "Escorial-Maria Cristina"
    San Lorenzo del Escorial(Madrid)
    Spain
    
Course: Econometrics I and II.
Fourth year of the curriculum in Business Administration.
Enrolled: 70 students.

I wish you a good luck in your talk to the South African Statistical 
Association 

Sincerely yours

Agustin Alonso
-----------------------------------------

I am using R, since version 1.1.1, 
in my teaching of the following courses
(from that time to now):
Graduate level (Master/Ph.D.)
    Statistical Methods, Linear Model,
    Statistical Computation and Simulation,
    Reliability Analysis,
    Special Topics in Regression Analysis
Undergraduate level:
    Industrial Statistics

I had being an user of S-Plus since I was a Ph.D. student
(around 1990) till I found R (version 1.1.1).
S-Plus has being the primary tool for my Ph.D. research,
research afterwards, teaching, and consulting.

Since my students are statistics-majored, I strongly believe
that they should understand how statistical methods being 
carried out, or even done by themselves,  besides knowing
how and when to apply them.
Due to this reason, I emphsize the capability of programming
of some statistical methods and carring out simulation study,
via the use of non-menu-driven R.
Certainly, as S-Plus turned to version 4, its heavily using
computer system resouce to build up its menu-driven stuff and
its increasing in puchasing cost are my other reasons to be
away from it.

Best regards,

C. Joseph Lu
Associate Professor
Department of Statistics
National Cheng-Kung University
Tainan
Taiwan, ROC
-----------------------------------------

University of the Basque Country (Bilbao, Spain)
School of Economics

Used to teach postgraduate courses on Linear Models (Regression, ANOVA)
and Multivariate Analysis to third and fourth year Economics students.

I myself and several other faculty members use it for research and as
an "all around" statistical package.

ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
-----------------------------------------

Hi... I use R for teaching at the Universidade Federal of Pernambuco 
in Brazil (Department of Statistics). I teach graduate courses on 
computational statistics and on applied statistics. I have been 
using R in this courses. 

We produce graphics, fit linear regressions, fit GLMs, fit ARIMA 
models, etc. We also perform simple Monte Carlo simulations 
using R. The students enjoy R and it has been a pleasant 
experience. Cheers, Francisco.

--
Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         http://www.de.ufpe.br/~cribari
-----------------------------------------

I use R for teaching (introductory) statistics to chemistry students; in
order not to have them learn the ins and outs of R syntax, I coupled it to a
web interface (similar to Rweb). You can find the web pages at
www.sci.kun.nl/cgi-bin-webchem/Stat/index.pl

Cheers,
Ron

---------------------------------+------------------------------------
Ron Wehrens                      |  Dept. of Chemometrics
Email: rwehrens at sci.kun.nl       |  University of Nijmegen
http://www.sci.kun.nl/cac/       |  Toernooiveld 1
Tel: +31 24 365 2053             |  6525 ED Nijmegen       
Fax: +31 24 365 2653             |  The Netherlands        
-----------------------------------------

I have been teaching R at the Nordic School of Public Health for two
years. We use it for analysis of epidemiological data and custom
graphical presentation.

Mark

--
Mark Myatt
-----------------------------------------

I work at the Bank of Canada (Canada's central bank) and use R (and sometimes
Splus) extensively for my research in time series. However, neither R nor 
Splus
are used very much in the institution, other than by me.

Paul Gilbert

<pgilbert at bank-banque-canada.ca> or <PaulGilbert at ottawa.com>
Head Statistician/Statisticien en chef,
Department of Monetary and Financial Analysis,
     /D?partement des ?tudes mon?taires et financiers,
Bank of Canada/Banque du Canada
234 Wellington St.,
Ottawa,
Canada K1A 0G9
(613) 782-7346
<http://www.bank-banque-canada.ca/pgilbert>
-----------------------------------------

I'm working here in the Forest Insect Group of the Royal Forest
Department, Thailand.

I discovered R early this year after a posting to ENTOMO-L.

I, and I hope later we (including some associates in Laos) use it for
rather classic stats and plotting-the sort that biologist do a lot of.

Cheers,
Robert Cunningham
-----------------------------------------

I read your posting in R-group. We also use R for
our research purposes

   Country: India
University: University of Madras
 Institute: School of Life Sciences
  study: Ecological and Environmental studies
-----------------------------------------

I have been using R for teaching survival analysis and analysis of 
categorical data (glm) for 2 years at the Autonomous University of Barcelona, 
Spain.

Reasons:
1. R is free and low wheight. Students can have their own copy.
2. We have campus license of SPSS but this does not have easy capabilities 
for glm nor parametric survivam models.


-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812                  fax +34 93260 7787
-----------------------------------------

I am teaching a course on sensory analysis as part of the Food Engineering 
degree 
at the Escola Superior de Tecnologia e Gest?o in Viana do Castelo (Portugal). 
I
have been using R in my practical classes to demonstrate R's capabilities in 
terms
of graphing, simple hypothesis testing, nonparametric methods (Friedman,
Chi-square, etc), ANOVA, multiple comparisons. My students have been given a
mini-project, where they will have to conduct a sensory test (most of them 
opted
for affective tests) and later analyse their results from that study. Some of 
these
students may also need to use some multivariate methods, such as PCA.I have
suggested that they use R, although they could also use other softwares that 
are
available to them. Many of my students have regular jobs and find it 
difficult to
obtain permission from their employer to attend classes. One of the reasons 
for
choosing R was to allow these students to work on tutorials outside of the
scheduled classes, either at home or at work.

For the next semester, I intend to introduce R in a class on Shelf-life 
testing.
This will be based on regression analysis and introducing shelf-life models, 
such as those based on the Weibull distribution.

Peter
--------------------------------------------------------------------
Peter Ho GradIFST
Departamento de Ci?ncias de Engenharia e Tecnol?gica
Escola Superior de Tecnologia e Gest?o
Instituto Polit?nico de Viana do Castelo
Avenida do Atl?ntico- Apartado 574
4901-908 Viana do Castelo
Email: peter at estg.ipvc.pt
-----------------------------------------

Current use
@ Vienna University of Economics and Business Administration:
         1st and 2nd year stats courses
         stats course in PhD program
         data mining course
@ Vienna University of Technology
         Biostatistics
         Business Statistics
         Statistical Computing
         Actuarial Mathematics
Best
-k





-- 
Jeremy Baxter
J.Baxter at ru.ac.za
Views expressed above, no matter how badly spelt, are my own... i think?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Nov 10 11:34:02 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 10 Nov 2001 11:34:02 +0100
Subject: [R] spider / radar plot
In-Reply-To: <200111091840.TAA13091@stat.math.ethz.ch>
References: <200111091840.TAA13091@stat.math.ethz.ch>
Message-ID: <15341.666.233257.588599@gargle.gargle.HOWL>

>>>>> "Mathias" == Mathias Picker <Mathias.Picker at virtual-earth.de> writes:

    Mathias> Hmmmm, not quite statistics,

yes, graphics *do* belong to statistics;  
Statistics is more than Math.Stats!

    Mathias> but can R do spider plot like shown in

    Mathias> http://seamonkey.ed.asu.edu/~behrens/asu/msms/student/recent_vis/spider.html

    Mathias> or

    Mathias> http://www.caesarsystems.com/Technica/spiderPlots.htm

Almost, using the stars() function, and its `locations' argument.
Probably I should add a version of this to the example(stars):

data(mtcars)
stars(mtcars[, 1:7], locations = cbind(0,rep(0,32)), radius=FALSE,
      key.loc=c(0,0), main="Motor Trend Cars")


    Mathias> Thanks for any hints, Mathias

you're welcome!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xjin at uncc.edu  Sat Nov 10 17:11:30 2001
From: xjin at uncc.edu (Xiaodong (Shelton) Jin)
Date: Sat, 10 Nov 2001 11:11:30 -0500 (EST)
Subject: [R] Goodness-of-fit on Burr distributed data
Message-ID: <Pine.SOL.4.33.0111101105260.17216-100000@ws101.uncc.edu>

I simulate a uniform data and then transformed into Burr(1,3,1) data,
which is of pdf:
f(x)=[3*(x^2)] / [(1+x^3)^2], x>0
How can I perform a goodness-of-fit test (k-s,
anderson-darling,chisq,cramer-von mises,...) on it (should highly accept)
to get test-statistics & p-values?

Thanks!



Sincerely,
Shelton Jin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sat Nov 10 17:38:38 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sat, 10 Nov 2001 17:38:38 +0100
Subject: [R] Goodness-of-fit on Burr distributed data
References: <Pine.SOL.4.33.0111101105260.17216-100000@ws101.uncc.edu>
Message-ID: <3BED580E.AACDAE27@ci.tuwien.ac.at>

"Xiaodong (Shelton) Jin" wrote:
> 
> I simulate a uniform data and then transformed into Burr(1,3,1) data,
> which is of pdf:
> f(x)=[3*(x^2)] / [(1+x^3)^2], x>0
> How can I perform a goodness-of-fit test (k-s,
> anderson-darling,chisq,cramer-von mises,...) on it (should highly accept)
> to get test-statistics & p-values?

help.search("kolmogorov")
for example leads you to the package "ctest", where you will find the
Kolmogorov-Smirnov test, the Chi-squared test or the Shapiro-Wilk test.
I think the Cramer test is the one implemented in the package "cramer".
Z
 
> Thanks!
> 
> Sincerely,
> Shelton Jin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Nov 10 21:23:15 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 10 Nov 2001 15:23:15 -0500 (EST)
Subject: [R] piecewise linear regression
Message-ID: <200111102023.fAAKNFc00834@cattell.psych.upenn.edu>

We sent questionnaires to lots of folks.  The questionnaires
differed in word count (wc).  For each questionnaire, I know wc
and whether the questionnaire was returned or not (status).  It
looks like there is a fixed rate of return when wc is below a
break point, and the rate of return falls off linearly after
that.

I want to do a piecewise linear regression with two pieces
meeting at a common breakpoint.  I think it is important that I
don't specify the breakpoint in advance (although, if I get
desperate, I'll do that).

I've tried to fit a model in nls, several different ways
(including using the "hockey stick" method described in
http://www5.biostat.wustl.edu/s-news/s-news-archive/200004/msg00215.html)
and I keep getting a "singular gradient matrix" error (sometimes
the "initial" matrix, sometimes not).  I also got the same thing
with very simple artificial data (using a continuous dependent
measure).  For example:

nls(status~A+B*wc+C*pmin(A,D-wc)),start=list(A=1,B=0,C=0,D=0))

(I know I should use a logistic version, but if this version
doesn't work, I can't imagine that would work.)

Ideas?

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Nov 10 22:54:58 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 10 Nov 2001 13:54:58 -0800 (PST)
Subject: [R] piecewise linear regression
In-Reply-To: <200111102023.fAAKNFc00834@cattell.psych.upenn.edu>
Message-ID: <Pine.A41.4.33.0111101349310.218154-100000@homer04.u.washington.edu>

On Sat, 10 Nov 2001, Jonathan Baron wrote:

> We sent questionnaires to lots of folks.  The questionnaires
> differed in word count (wc).  For each questionnaire, I know wc
> and whether the questionnaire was returned or not (status).  It
> looks like there is a fixed rate of return when wc is below a
> break point, and the rate of return falls off linearly after
> that.
>
> I want to do a piecewise linear regression with two pieces
> meeting at a common breakpoint.  I think it is important that I
> don't specify the breakpoint in advance (although, if I get
> desperate, I'll do that).
>

One simple approach is a grid search for the best breakpoint. Since the
model with specified breakpoint is linear it's very easy and quick to
try a fairly fine grid of possible breakpoints.

The problem with more sophisticated approaches is that if the two slopes
are equal or the breakpoint is at either end of the data the problem is
not identifiable, so bad luck or bad data can make a Newton-type search
break down.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mattes at mailhost.rfc.ucl.ac.uk  Sun Nov 11 02:08:11 2001
From: mattes at mailhost.rfc.ucl.ac.uk (Frank Mattes)
Date: Sun, 11 Nov 2001 01:08:11 +0000
Subject: [R] help with compiling under hpux
Message-ID: <p05100305b8137db992af@[213.123.45.3]>

Dear all,

to begin with, I'm not a professional programmer and this might 
explain my problems. I apologize tis in advance.
I tried to compile R-1.3.1 under hpux 10.20 and have problems with 
the configure script.
I have installed the hpux c and f77 compiler and gcc 3.01

The configue script (started with ./configure) stops with the following lines:

checking for unzip... no
checking for zip... no
checking for main in -lm... yes
defining F77 to be f77
checking whether the Fortran 77 compiler (f77  ) works... no
configure: error: installation or configuration problem: Fortran 77 
compiler can
not create executables.

the config.log shows:

----------------------------
configure:6749: checking whether the Fortran 77 compiler (f77  ) works
configure:6762: f77 -o conftest   conftest.f -L/usr/local/lib 1>&5
f77: Option not recognized: -/
f77: Option not recognized: -r
f77: Option not recognized: -/
conftest.f:
    MAIN conftest:
HP FORTRAN 77                               Sat Nov 10 23:57:50 2001
Ver: B.10.20                                conftest.f               Page     1

     1
     2         program conftest
     3         end


Compilation statistics for procedure: conftest

Number of errors:       0               Number of Warnings:     0
Procedure number:     1

Accumulated number of source lines read:      3

     4


Final Compilation Statistics for file: conftest.f

Accumulated errors:     0               Number of Warnings:     0
Total number of procedures:     1

Accumulated number of source lines read:      4


Timing Statistics for:

f77pass1:       real:   0.08s   user:   0.00s    sys:   0.00s

/usr/ccs/bin/ld: Can't find library for -local/lib
configure: failed program was:

       program conftest
       end
--------------------------------------
Could anybody advise me how to fix these problems ?
Or has someone already generated hpux binaries ?

Many thanks

Frank Mattes
London

Many t
-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Nov 11 01:18:07 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 11 Nov 2001 01:18:07 +0100
Subject: [R] R CMD check, undoc and package checking
In-Reply-To: <15336.15196.523055.625172@gargle.gargle.HOWL>
References: <15336.15196.523055.625172@gargle.gargle.HOWL>
Message-ID: <15341.50111.308258.678779@mithrandir.hornik.net>

>>>>> "David Kane writes:

> As cool and wonderful as the package checking tools for R are, I
> sometimes am stymied when trying to track down a problem. For example,
> I occasionally see error messages when running R CMD check like the
> following:

> [...]
> * checking Rd files ... OK
> * checking for undocumented objects ... ERROR
> *   in parse(file, n, text, prompt) : syntax error on line 932
> *  in undoc(dir = "/home/a296180/tmp/pyri.port") :

> ...

One can never be defensive enough :-)

In R 1.3.1 I had already wrapped code loading parts of documentation
objects inside try() which gives much nicer error messages (telling you
in which documentation object, i.e. Rd file, the problem occurred).

But of course one should also say that loading the package R code failed
in case it did.  Done now in R-devel.  Thanks for spotting this.

> ...

> Question 3: Am I missing something? Is there some methodology that I
> should be following which would have made it much easier to discover
> the missing comma?

Once you know that the problem is in the package R code you can easily
start R and try to load the package: this will tell you where the
problem occurred.

One could maybe have a simple test in R CMD check which verifies that
the package can not only be installed but also loaded.  Will think about
this.

Best,
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bved01 at hia.net  Sun Nov 11 08:21:47 2001
From: bved01 at hia.net (Bill Vedder)
Date: Sun, 11 Nov 2001 07:21:47 +0000
Subject: [R] 3D Plots
Message-ID: <3BEE270B.F979B47B@hia.net>

Good Evening,

I'm using R1.2.1.  Is 3D plotting available? The only reference I find
is to "plot.locfit.3d {locfit}" and the documentation says the function
is not currently available in R.

Any help is appreciated.

Best Regards,
Bill Vedder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 11 08:59:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 11 Nov 2001 07:59:27 +0000 (GMT)
Subject: [R] 3D Plots
In-Reply-To: <3BEE270B.F979B47B@hia.net>
Message-ID: <Pine.GSO.4.31.0111110757290.8786-100000@auk.stats>

On Sun, 11 Nov 2001, Bill Vedder wrote:

> Good Evening,
>
> I'm using R1.2.1.  Is 3D plotting available? The only reference I find
> is to "plot.locfit.3d {locfit}" and the documentation says the function
> is not currently available in R.

See ?persp, which may be what you are looking for.  Some people call
contour() and image() 3D plots too, as they plot z vs (x, y), but the
result is 2D.

I think locfit is well out-of-date on this.

BTW, so is your R version: 1.3.1 is current.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Nov 11 11:26:44 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sun, 11 Nov 2001 23:26:44 +1300
Subject: [R] 3D Plots
In-Reply-To: <3BEE270B.F979B47B@hia.net>
Message-ID: <JLECJACFMBHFAAPLJNECEEMBCAAA.Ko-Kang@xtra.co.nz>

Depends on what you want.  As Prof. Ripley pointed out persp is one of the functions to try.

Another alternative is to use scatterplot3d package, which is available from CRAN.  However you may want to upgrade your R to the latest (1.3.1) version.

Cheers,

Ko-Kang Wang

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Bill Vedder
Sent: Sunday, November 11, 2001 8:22 PM
To: r-help at stat.math.ethz.ch
Subject: [R] 3D Plots


Good Evening,

I'm using R1.2.1.  Is 3D plotting available? The only reference I find
is to "plot.locfit.3d {locfit}" and the documentation says the function
is not currently available in R.

Any help is appreciated.

Best Regards,
Bill Vedder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Sun Nov 11 18:08:59 2001
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Sun, 11 Nov 2001 13:08:59 -0400
Subject: [R] Exact distribution, dwtest
References: <JLECJACFMBHFAAPLJNECEEMBCAAA.Ko-Kang@xtra.co.nz>
Message-ID: <3BEEB0AB.E12756ED@acadiau.ca>

Hello All,

Some time ago I enquired about the Durbin-Watson statistic.  The package
'lmtest' calculates the statistic, but reports NA on the P value.  Is
there a package in R that calculates the exact distribution of the 'd'
statistic?

Thanks,

John.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Sun Nov 11 17:41:32 2001
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Sun, 11 Nov 2001 16:41:32 -0000
Subject: [R] Exact distribution, dwtest
References: <JLECJACFMBHFAAPLJNECEEMBCAAA.Ko-Kang@xtra.co.nz> <3BEEB0AB.E12756ED@acadiau.ca>
Message-ID: <005d01c16acf$b880ae20$cb8801a3@sbs.ox.ac.uk>

The durbin.watson function in the car package "Computes residual
autocorrelations and generalized Durbin-Watson statistics and their
bootstrapped p-values."

Dave

----- Original Message -----
From: "John Janmaat" <john.janmaat at acadiau.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Sunday, November 11, 2001 5:08 PM
Subject: [R] Exact distribution, dwtest


> Hello All,
>
> Some time ago I enquired about the Durbin-Watson statistic.  The package
> 'lmtest' calculates the statistic, but reports NA on the P value.  Is
> there a package in R that calculates the exact distribution of the 'd'
> statistic?
>
> Thanks,
>
> John.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sun Nov 11 17:49:01 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sun, 11 Nov 2001 17:49:01 +0100
Subject: [R] Exact distribution, dwtest
References: <JLECJACFMBHFAAPLJNECEEMBCAAA.Ko-Kang@xtra.co.nz> <3BEEB0AB.E12756ED@acadiau.ca>
Message-ID: <3BEEABFD.A26F249B@ci.tuwien.ac.at>

John Janmaat wrote:
> 
> Hello All,
> 
> Some time ago I enquired about the Durbin-Watson statistic.  The package
> 'lmtest' calculates the statistic, but reports NA on the P value.  Is
> there a package in R that calculates the exact distribution of the 'd'
> statistic?

In the package "car" there is a version of the test in the function
durbin.watson(), that computes the p-value by bootstrapping.
In the next version of "lmtest" (hopefully out on CRAN by the end of the
month) dwtest() will have p-values as well - not based on bootstrapping,
but on the "gradsol" or "pan" algorithm. If you like, I can send you a
snapshot of the forthcoming "lmtest" package.
Z


> Thanks,
> 
> John.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lbaring at stochastik.uni-hannover.de  Mon Nov 12 09:25:35 2001
From: lbaring at stochastik.uni-hannover.de (Ludwig Baringhaus)
Date: Mon, 12 Nov 2001 09:25:35 +0100
Subject: [R] Goodness-of-fit on Burr distributed data
In-Reply-To: <3BED580E.AACDAE27@ci.tuwien.ac.at>
References: <Pine.SOL.4.33.0111101105260.17216-100000@ws101.uncc.edu> <3BED580E.AACDAE27@ci.tuwien.ac.at>
Message-ID: <200111120734.IAA03908@gauss.stochastik.uni-hannover.de>

Am Samstag, 10. November 2001 17:38 schrieben Sie:
> "Xiaodong (Shelton) Jin" wrote:
> > I simulate a uniform data and then transformed into Burr(1,3,1) data,
> > which is of pdf:
> > f(x)=[3*(x^2)] / [(1+x^3)^2], x>0
> > How can I perform a goodness-of-fit test (k-s,
> > anderson-darling,chisq,cramer-von mises,...) on it (should highly accept)
> > to get test-statistics & p-values?
>
> help.search("kolmogorov")
> for example leads you to the package "ctest", where you will find the
> Kolmogorov-Smirnov test, the Chi-squared test or the Shapiro-Wilk test.
> I think the Cramer test is the one implemented in the package "cramer".
No, the package "cramer" provides a multivariate two-sample test. 

L. Baringhaus
Institut fuer 
Mathematische Stochastik
Universitaet Hannover
Welfengarten 1
30167 Hannover
Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Mon Nov 12 09:38:27 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Mon, 12 Nov 2001 00:38:27 -0800
Subject: [R] simultaneous equation estimation?
Message-ID: <000701c16b55$69b77ef0$01000001@godzilla>

Can R (which as I am quickly discovering is a awsome package) easily perform
Two-Stage, Three-Stage, and Seemingly Unrelated Regression?


Jeff D. Hamann


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Mon Nov 12 10:17:17 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Mon, 12 Nov 2001 10:17:17 +0100
Subject: [R] Generalized Lambda
Message-ID: <OF55103D5C.EAA8321A-ONC1256B02.00326F4F@eurotel.cz>


Hi,
There is a

gld

package at CRAN,
described as "Basic functions for the generalised (Tukey) lambda
distribution "

May be it helps.
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos, PhD,         Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------



- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 11/8/01 5:49:41 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Generalized Lambda

Anyone know of a package for numerically estimating lambda(3) and lambda(4)
using location, position, skew and kurtosis estimates.  I have a
distribution
and would like to use the gld package to do some simulations of the
distribution, but need the lambda estimates to feed into gld.

I have a program in Maple, which I may convert to C code for use in R, but
before moving down that road I wanted to make sure there wasn't a package
out
there somewhere.


=========================================
Michaell Taylor, PhD
Senior Economist, Reis, New York, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Mon Nov 12 10:22:18 2001
From: laura at bayesian-bay.freeserve.co.uk (Laura Gross)
Date: Mon, 12 Nov 2001 09:22:18 +0000
Subject: [R] 'subscript out of bounds' in matrices
Message-ID: <VzFRhLAKT577Ew9d@bayesian-bay.freeserve.co.uk>

Dear list

Having read through all the archives of the mailing lists, I've had no
luck finding the answer to my problem.

I am running a for(i in 1:n) loop and am creating a matrix, p, for each
of the n observations. This matrix p is a 2x1 matrix. I am then doing
the following:

diagp<-diag(c(p[1,1],p[2,1]))

to create a matrix with the elements of P on the diagonal (i.e. a 4x4
matrix).

This works fine when I have n=60, however when I increase the size of
the data set to n=100, I get the error message:

Error in diag(c(p[1, 1], p[2, 1])) : subscript out of bounds

I put this down to a problem with memory at first so increased the
memory in my PC from 128Mb to 256Mb yet it made no difference and the
error still occurred. I am eventually going to need to run this command
for n=8000.

Could anybody suggest what I can do to solve this problem? Do I need to
store my matrix as another type of variable?

Thanks in advance for any help
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at holos.pt  Mon Nov 12 10:33:42 2001
From: hjm at holos.pt (Hugo Morganho)
Date: Mon, 12 Nov 2001 09:33:42 +0000
Subject: [R] Using C in R
In-Reply-To: <3BEEB0AB.E12756ED@acadiau.ca>
References: <JLECJACFMBHFAAPLJNECEEMBCAAA.Ko-Kang@xtra.co.nz>
Message-ID: <5.0.2.1.0.20011112093248.0383f720@127.0.0.1>

         It's possible to use C to call a package and use it ?
         Thanks
         Hugo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 12 10:53:57 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 12 Nov 2001 10:53:57 +0100 (MET)
Subject: [R] Transforming matrix to data.frame: problems
In-Reply-To: <x2wv0zaen8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1011112102941.28108B-100000@ija.csic.es>

Thanks for the answer, 

here is the output of str()

> str(parcelas.cobtot.conti)
 xtabs [1:25, 1:64] 0 0 0 0 0 0 0 0 0 0 ...
 - attr(*, "dimnames")=List of 2
  ..$ v1: chr [1:25] "6" "13" "15" "23" ...
  ..$ v2: chr [1:64] "11" "19" "25" "28" ...
 - attr(*, "class")= chr [1:2] "xtabs" "table"
 - attr(*, "call")= language xtabs(formula = z ~ v1 + v2)

Also, the first 2 lines and 10 cols. of parcelas.cobtot.conti:

> parcelas.cobtot.conti[1:2,1:10]
    v2
v1   11   19   25 28 38 39 42  44    46 48
  6   0 1.25 1.25  0  0  0  0 2.5  1.25  0
  13  0 0.00 0.00  0  0  0  0 0.0 24.25  0

while,

>  a  <- data.frame(parcelas.cobtot.conti)
> a[1:2,]
  v1 v2 Freq
1  6 11    0
2 13 11    0

and 
>  a  <- as.data.frame(parcelas.cobtot.conti)
> a[1:2,]
  v1 v2 Freq
1  6 11    0
2 13 11    0

Note:
parcelas.cobtot.conti was produced by 
xtabs(z~v1+v2)

where v1 are sites (6,13,...), v2 are species (11   19   25 28 38 ...)
and z a vector of area covered by each sps in each site:

> summary(parcelas.cobtot.conti)
Call: xtabs(formula = z ~ v1 + v2)
Number of cases in table: 3907.25 
Number of factors: 2 
Test for independence of all factors:
        Chisq = 16235, df = 1512, p-value = 0
        Chi-squared approximation may be incorrect

According to the doc, the output 
of as.data.frame(parcelas.cobtot.conti)
is the one of as.data.frame.table(parcelas.cobtot.conti)
and, therefore, object "a" is as described by the doc.
Now, then, the question becomes 
how can I get a data.frame with the same dimensions of
parcelas.cobtot.conti ?

My goal is runing MASS function corresp(parcelas.cobtot.conti), and I find
that corresp only accepts data.frames (which is in contradiction
with the doc, but this is a different issue that I send in another
message).

Agus


On 9 Nov 2001, Peter Dalgaard BSA wrote:

> Agustin Lobo <alobo at ija.csic.es> writes:
> 
> > Hi all,
> > 
> > I have problems transforming a matrix 
> > into a data.frame:
> > 
> > If I do:
> > 
> > > is.matrix(parcelas.cobtot.conti)
> > [1] TRUE
> > > dim(parcelas.cobtot.conti)
> > [1] 25 64
> > 
> > > a  <- data.frame(parcelas.cobtot.conti)
> > > is.data.frame(a)
> > [1] TRUE
> > > 
> > > dim(a)
> > [1] 1600    3
> > 
> > Why a does not have the same dimensions than 
> > parcelas.cobtot.conti?
> ...
> > What can be wrong with parcelas.cobtot.conti ?
> > I'd appreciate any help
> 
> Anything interesting coming out of 
> 
> str(parcelas.cobtot.conti)
> 
> ?
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Mon Nov 12 10:46:22 2001
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Mon, 12 Nov 2001 10:46:22 +0100
Subject: [R] cluster analysis
References: <20011109151243.33310.qmail@web14505.mail.yahoo.com>
Message-ID: <3BEF9A6E.B97949BE@pasteur.fr>

guolingwang guolingwang wrote:

> To be it concerned,
>
> I want to know how to use R to do cluster analysis and
> outcomes can include the computing time.
>
> Thanks a lot
>
> Guoling Wang
>
> __________________________________________________
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

There are many librairies in R dedicated for clustering analysis as mva, mclust
(to load by cran),
cclust,(cran) and cluster(cran). Naturally you must first load the library under
R. Then you have
many choices which depend of what you want to do (ACP ? in order to reduce the
dimensions of your
data and if you "have chance" to see the classes, K-means if you know the number
of classes you want,
hierarchical clustering in order to obtain a tree  or the more sure (robust) et
sophisticated stochastic techniques
as those contained in mclust).
You have for each of these packages examples.

Aboubakar Maitournam.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov 12 11:01:54 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 12 Nov 2001 05:01:54 -0500 (EST)
Subject: [R] 'subscript out of bounds' in matrices
In-Reply-To: <VzFRhLAKT577Ew9d@bayesian-bay.freeserve.co.uk>
Message-ID: <Pine.LNX.4.30.0111120457410.10334-100000@bolker.zoo.ufl.edu>


  Can you give us just a little bit more detail, or an example (with
simulated data if necessary) that recreates your problem?  I'm a little
bit confused: if p is a 2x1 matrix (dim(p)==c(2,1)), then your diag()
command below should give a 2x2 matrix.  Also, from just the detail you've
given it's hard to see how n could make any difference at all.  Is it
possible that for some value of n you're getting an empty matrix which is
triggering the error?

  Ben Bolker

On Mon, 12 Nov 2001, Laura Gross wrote:

> Dear list
>
> Having read through all the archives of the mailing lists, I've had no
> luck finding the answer to my problem.
>
> I am running a for(i in 1:n) loop and am creating a matrix, p, for each
> of the n observations. This matrix p is a 2x1 matrix. I am then doing
> the following:
>
> diagp<-diag(c(p[1,1],p[2,1]))
>
> to create a matrix with the elements of P on the diagonal (i.e. a 4x4
> matrix).
>
> This works fine when I have n=60, however when I increase the size of
> the data set to n=100, I get the error message:
>
> Error in diag(c(p[1, 1], p[2, 1])) : subscript out of bounds
>
> I put this down to a problem with memory at first so increased the
> memory in my PC from 128Mb to 256Mb yet it made no difference and the
> error still occurred. I am eventually going to need to run this command
> for n=8000.
>
> Could anybody suggest what I can do to solve this problem? Do I need to
> store my matrix as another type of variable?
>
> Thanks in advance for any help
> Laura
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 12 10:56:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 2001 10:56:04 +0100
Subject: [R] Transforming matrix to data.frame: problems
In-Reply-To: <Pine.OSF.3.96.1011112102941.28108B-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011112102941.28108B-100000@ija.csic.es>
Message-ID: <x21yj4wbwr.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> According to the doc, the output 
> of as.data.frame(parcelas.cobtot.conti)
> is the one of as.data.frame.table(parcelas.cobtot.conti)
> and, therefore, object "a" is as described by the doc.
> Now, then, the question becomes 
> how can I get a data.frame with the same dimensions of
> parcelas.cobtot.conti ?

By overriding the method dispatch:

as.data.frame.matrix(parcelas.cobtot.conti)

or

as.data.frame(unclass(parcelas.cobtot.conti))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 12 11:23:03 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 12 Nov 2001 11:23:03 +0100 (MET)
Subject: [R] Error in doc of corresp?
Message-ID: <Pine.OSF.3.96.1011112111916.28108C-100000@ija.csic.es>

I think that there is a problem in the doc
of MASS function corresp:

man(corresp) states:

"...
Arguments:

       x: The function is generic, accepting various forms of the
          principal argument for specifying a two-way frequency table. 
          Currently accepted forms are matrices, data frames..."

Nevertheless,

> data(caith)
> caith            
       fair red medium dark black
blue    326  38    241  110     3
light   688 116    584  188     4
medium  343  84    909  412    26
dark     98  48    403  681    85
> is.data.frame(caith)
[1] TRUE
> as.matrix(caith)
       fair red medium dark black
blue    326  38    241  110     3
light   688 116    584  188     4
medium  343  84    909  412    26
dark     98  48    403  681    85
> corresp(as.matrix(caith))
Error in corresp.default(as.matrix(caith)) : 
        invalid table specification

While corresp(caith) works fine.

Is this an error in the doc or am I not
transforming into matrix in the right way?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 11:58:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Nov 2001 10:58:13 +0000 (GMT)
Subject: [R] Error in doc of corresp?
In-Reply-To: <Pine.OSF.3.96.1011112111916.28108C-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0111121052190.15517-100000@gannet.stats>

On Mon, 12 Nov 2001, Agustin Lobo wrote:

> I think that there is a problem in the doc
> of MASS function corresp:

No, the problem is in R itself.  Remember MASS is a port from S code, and
this works as documented in S.  I am fairly sure it once worked in R too.

Try calling corresp.matrix directly to work around an R bug.

corresp is

> corresp
function (x, ...)
{
    if (is.null(class(x)))
        class(x) <- data.class(x)
    UseMethod("corresp")
}

That correctly sets the class of x to "matrix", but it then dispatches
corresp.default, even though corresp.matrix exists.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 12 12:12:18 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 12 Nov 2001 12:12:18 +0100 (MET)
Subject: [R] Error in doc of corresp?
In-Reply-To: <Pine.LNX.4.31.0111121052190.15517-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1011112121006.28108E-100000@ija.csic.es>



On Mon, 12 Nov 2001, Prof Brian Ripley wrote:
> 
> No, the problem is in R itself.  Remember MASS is a port from S code, and
> this works as documented in S.  I am fairly sure it once worked in R too.
> 
> Try calling corresp.matrix directly to work around an R bug.

Yes, it works fine that way. Should I fill an R  bug report or
is this a known issue?

Thanks

Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 12 12:19:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 2001 12:19:37 +0100
Subject: [R] Error in doc of corresp?
In-Reply-To: <Pine.LNX.4.31.0111121052190.15517-100000@gannet.stats>
References: <Pine.LNX.4.31.0111121052190.15517-100000@gannet.stats>
Message-ID: <x2snbkuth2.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Mon, 12 Nov 2001, Agustin Lobo wrote:
> 
> > I think that there is a problem in the doc
> > of MASS function corresp:
> 
> No, the problem is in R itself.  Remember MASS is a port from S code, and
> this works as documented in S.  I am fairly sure it once worked in R too.
> 
> Try calling corresp.matrix directly to work around an R bug.
> 
> corresp is
> 
> > corresp
> function (x, ...)
> {
>     if (is.null(class(x)))
>         class(x) <- data.class(x)
>     UseMethod("corresp")
> }
> 
> That correctly sets the class of x to "matrix", but it then dispatches
> corresp.default, even though corresp.matrix exists.

Not sure this is a bug. Not a very useful feature either, though...

It is as far as I can see behaving according to the documentation. To
force dispatch based on the modified x , you could use
UseMethod("corresp", x). As in

> f.matrix <- function(x)print("matrix")
> f <- function(x) {if(is.null(class(x))) class(x) <- data.class(x);UseMethod("f")}
> m <- matrix(1:4,2)
> f(m)
Error in f(m) : no applicable method for "f"
> f <- function(x) {if(is.null(class(x))) class(x) <- data.class(x);UseMethod("f",x)}
> f(m)
[1] "matrix"



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 12:30:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Nov 2001 11:30:15 +0000 (GMT)
Subject: [R] Error in doc of corresp?
In-Reply-To: <x2snbkuth2.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0111121123570.15585-100000@gannet.stats>

On 12 Nov 2001, Peter Dalgaard BSA wrote:

> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
> > On Mon, 12 Nov 2001, Agustin Lobo wrote:
> >
> > > I think that there is a problem in the doc
> > > of MASS function corresp:
> >
> > No, the problem is in R itself.  Remember MASS is a port from S code, and
> > this works as documented in S.  I am fairly sure it once worked in R too.
> >
> > Try calling corresp.matrix directly to work around an R bug.
> >
> > corresp is
> >
> > > corresp
> > function (x, ...)
> > {
> >     if (is.null(class(x)))
> >         class(x) <- data.class(x)
> >     UseMethod("corresp")
> > }
> >
> > That correctly sets the class of x to "matrix", but it then dispatches
> > corresp.default, even though corresp.matrix exists.
>
> Not sure this is a bug. Not a very useful feature either, though...
>
> It is as far as I can see behaving according to the documentation. To

Which documentation?  Not how I read ?UseMethod, and remember R uses
modified arguments in e.g. substitute where S does not.

> force dispatch based on the modified x , you could use
> UseMethod("corresp", x). As in
>
> > f.matrix <- function(x)print("matrix")
> > f <- function(x) {if(is.null(class(x))) class(x) <- data.class(x);UseMethod("f")}
> > m <- matrix(1:4,2)
> > f(m)
> Error in f(m) : no applicable method for "f"
> > f <- function(x) {if(is.null(class(x))) class(x) <- data.class(x);UseMethod("f",x)}
> > f(m)
> [1] "matrix"

That's not how S works, and it is not in the incompatibility list in the
FAQ.  If this is not regarded as bug then I think it needs to be mentioned
in both UseMethod.Rd and in the FAQ.

On the other hand, I see I once knew this: `S Programming' p.84.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Nov 12 12:48:54 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 12 Nov 2001 12:48:54 +0100
Subject: [R] histogram question
Message-ID: <3BEFB726.C361464A@univie.ac.at>

hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
gives a histogram with "touching bars"

hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
gives a histogram with space between the bars.

is there a way to control the space betweent he bars easily?



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov 12 13:23:30 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 12 Nov 2001 07:23:30 -0500 (EST)
Subject: [R] histogram question
In-Reply-To: <3BEFB726.C361464A@univie.ac.at>
Message-ID: <Pine.LNX.4.30.0111120716210.10394-100000@bolker.zoo.ufl.edu>


  The basic problem is that hist() is really designed for continuous data,
and you're using it with discrete data.  You can either say

r <- rbinom(100000,10,0.5)
hist(r,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000),
     breaks=seq(-0.5,10.5,by=0.1))

so that the bins span (-0.5 to 0.5, 0.5 to 1.5, ...)

or (arguably better, because it is more sensible with discrete data)

barplot(table(r),space=0)

## note that if you're building tables of sparser data where all
## levels may not be represented you may want something like

barplot(table(factor(r,levels=0:10)),space=0)

# instead


On Mon, 12 Nov 2001, Erich Neuwirth wrote:

> hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> gives a histogram with "touching bars"
>
> hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> gives a histogram with space between the bars.
>
> is there a way to control the space betweent he bars easily?
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Mon Nov 12 13:20:43 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Mon, 12 Nov 2001 13:20:43 +0100
Subject: [R] 'subscript out of bounds' in matrices
Message-ID: <OF9614F006.1F8AE634-ONC1256B02.004321AA@eurotel.cz>


Hi,

the "subscript out of bounds" error nas nothing to do with memory.
It reads exactly what it says: that subscript (index) is out of given
bounds
of a vector/matrix/general array...

Do you still have p as a _matrix_  2by1?, not as a _vector_ of length 2?
Moreover, if p is 2by1 matrix,

diagp<-diag(c(p[1,1],p[2,1])) is 2by2, not 4by4.

Anyway, store p using

as.matrix

command (or try ?as.matrix for help)

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos, PhD          Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 11/12/01 1:03:53 PM
To: r-help at stat.math.ethz.ch
Subject: [R] 'subscript out of bounds' in matrices

Dear list

Having read through all the archives of the mailing lists, I've had no
luck finding the answer to my problem.

I am running a for(i in 1:n) loop and am creating a matrix, p, for each
of the n observations. This matrix p is a 2x1 matrix. I am then doing
the following:

diagp<-diag(c(p[1,1],p[2,1]))

to create a matrix with the elements of P on the diagonal (i.e. a 4x4
matrix).

This works fine when I have n=60, however when I increase the size of
the data set to n=100, I get the error message:

Error in diag(c(p[1, 1], p[2, 1])) : subscript out of bounds

I put this down to a problem with memory at first so increased the
memory in my PC from 128Mb to 256Mb yet it made no difference and the
error still occurred. I am eventually going to need to run this command
for n=8000.

Could anybody suggest what I can do to solve this problem? Do I need to
store my matrix as another type of variable?

Thanks in advance for any help
Laura
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Nov 12 13:48:44 2001
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 12 Nov 2001 07:48:44 -0500
Subject: [R] simultaneous equation estimation?
In-Reply-To: <000701c16b55$69b77ef0$01000001@godzilla>
Message-ID: <5.1.0.14.2.20011112073242.01d25f90@mcmail.cis.mcmaster.ca>

At 12:38 AM 11/12/2001 -0800, Jeff D. Hamann wrote:
>Can R (which as I am quickly discovering is a awsome package) easily perform
>Two-Stage, Three-Stage, and Seemingly Unrelated Regression?

Dear Jeff,

The sem package does 2SLS (but not 3SLS or SUR).

A more general question that is implicit in many postings to the list is 
how to find functions in contributed packages on CRAN. One can use the 
help.search function for this purpose to search installed packages, but I'm 
unaware of a means for searching the contents of *all* packages. It would 
be nice to be able to do so.

John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gep at urisan.tche.br  Mon Nov 12 14:20:30 2001
From: gep at urisan.tche.br (Gep)
Date: Mon, 12 Nov 2001 11:20:30 -0200
Subject: [R] Doubt
Message-ID: <000801c16b7c$cda45420$8001010a@urisan.com.br>

As to call files of another softwares(as, Excel, minitab)  
 to be manipulated inside of R-plus?
Respectfully
Regiane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011112/23b21666/attachment.html

From hb at maths.lth.se  Mon Nov 12 15:30:47 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 12 Nov 2001 15:30:47 +0100 (MET)
Subject: [R] histogram question
In-Reply-To: <3BEFB726.C361464A@univie.ac.at>
Message-ID: <Pine.GSO.4.10.10111121522290.9309-100000@speed.maths.lth.se>

I have a modified version of the plot.histogram that also takes the two
arguments width and offset. This might be what you are looking for. See
the Rd-page at:

 http://www.maths.lth.se/matstat/bioinformatics/software/R/library/R.base/html/plot.histogram.html

The function can be downloaded at

 http://www.maths.lth.se/matstat/staff/hb/mypackages/R/plot.histogram.R

I haven't used it in a while, but I wrote it to be able to place two or
more histograms in the same plot.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e



On Mon, 12 Nov 2001, Erich Neuwirth wrote:

> hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> gives a histogram with "touching bars"
> 
> hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> gives a histogram with space between the bars.
> 
> is there a way to control the space betweent he bars easily?
> 
> 
> 
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Nov 12 16:34:23 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 12 Nov 2001 10:34:23 -0500
Subject: [R] Survey: R in Pharma
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEFD5@groexmbcr02.pfizer.com>

Hi All,

We're interested in finding other users of R in pharmaceutical companies.
Please reply if you are or know of someone who is.

-Greg

Gregory R. Warnes, Ph.D.
Pfizer Global Research and Development




LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Mon Nov 12 17:46:36 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Mon, 12 Nov 2001 16:46:36 GMT
Subject: [R] Doubt
Message-ID: <200111111649.fABGnDO09622@vs.bignet.com.br>

> As to call files of another softwares(as, Excel, minitab)  
>  to be manipulated inside of R-plus?
> Respectfully
> Regiane

Dear Regiane

The easiest way I found to transfer data from Excel to 
data.frames in R was to use copy and paste function.

Lets say you have a 4 column x 101 row data set in Excel 
(columns A to D; row 1 with titles: Species, Sex, Weight and 
Length, rows 2 to 101 with data).

In Excel make a new column (column E) and in cell E2 write 
=A2&" "&B2&" "&C2&" "&D2. Fill all lines (2 to 101) of column 
E with this formula. Copy cells E2 to E101.

In R write:
data.dat <- data.frame(scan(what = list (Sp=" ", Sex=" ", 
Wt=0, Lt=0), sep=" "))

*** use dec=","  if your system uses comma (,) as decimal 
separator: ... sep=" ", dec=","))
Also note that in this example Sp and Sex are factors.

When "1:" appears in R press Ctrl+v

Good luck,

Antonio Olinto



-----------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Nov 12 16:49:36 2001
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 12 Nov 2001 16:49:36 +0100 (CET)
Subject: [R] Merging factor levels.
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CEFD5@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.33.0111121633360.19262-100000@tal.stat.umu.se>

This must be a FAQ, but I can't find the answer:
I have a factor 'okk':

> table(okk)
okk
     Other   STORKAGE SKELLEFTEA    FALMARK       BOLE  NEAR_TOWN 
     14064        560        346        526        332         34 

Now I want to put the cases in 'NEAR_TOWN' into the 'Other' category',
so I try:

> okk <- ifelse(okk == "NEAR_TOWN", "Other", okk)
> table(okk)
okk
    1     2     3     4     5 Other 
14064   560   346   526   332    34 
> is.factor(okk)
[1] FALSE

This is not what I intended. I can do what I want the hard way (i.e., by
converting  okk  to character an then back again) but there 
must be something simpler?

Thanks,

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 18:05:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Nov 2001 17:05:19 +0000 (GMT Standard Time)
Subject: [R] Merging factor levels.
In-Reply-To: <Pine.LNX.4.33.0111121633360.19262-100000@tal.stat.umu.se>
Message-ID: <Pine.WNT.4.31.0111121703510.344-100000@gannet>

On Mon, 12 Nov 2001, [iso-8859-1] Gran Brostrm wrote:

> This must be a FAQ, but I can't find the answer:
> I have a factor 'okk':
>
> > table(okk)
> okk
>      Other   STORKAGE SKELLEFTEA    FALMARK       BOLE  NEAR_TOWN
>      14064        560        346        526        332         34
>
> Now I want to put the cases in 'NEAR_TOWN' into the 'Other' category',
> so I try:
>
> > okk <- ifelse(okk == "NEAR_TOWN", "Other", okk)
> > table(okk)
> okk
>     1     2     3     4     5 Other
> 14064   560   346   526   332    34
> > is.factor(okk)
> [1] FALSE
>
> This is not what I intended. I can do what I want the hard way (i.e., by
> converting  okk  to character an then back again) but there
> must be something simpler?

Something like

levels(okk) <- c(levels(okk)[1:5], "Other")

If you set two levels to be the same label, they get merged.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Nov 12 18:15:04 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 12 Nov 2001 18:15:04 +0100 (MET)
Subject: [R] Is there a way to detect when gc() is called?
Message-ID: <Pine.GSO.4.10.10111121806050.11755-100000@speed.maths.lth.se>

I would like to run a method, which removes obsolete/redundant data in my
data structures, when gc() will/is/has been called. In other words, is it
possible to make the garbage collector to trig another function?

Thanks in advance

Henrik Bengtsson
h b @ m a t h s . l t h . s e



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 12 18:46:19 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 12 Nov 2001 18:46:19 +0100 (MET)
Subject: [R] uninstal rw1030 (Win9*)
Message-ID: <Pine.OSF.3.96.1011112184432.1212C-100000@ija.csic.es>


Hi all,

I installed rw1031 but not uninstalled rw1030 just
to make sure everything was working normally with
the new version. After few weeks, I'm ready to uninstal
rw1030. My question is: should I use the rw1030 unins00.exe
program or could this program damage the rw1031 inatallation (perhaps
modifies the registry...) ? Perhaps
should I just delete the rw1030 directory?


Thanks


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Nov 12 18:49:34 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 12 Nov 2001 18:49:34 +0100
Subject: [R] gamma parameter estimation [was "ks.test"]
In-Reply-To: <200111091405.fA9E5Bv30452@vs.bignet.com.br>
References: <200111091405.fA9E5Bv30452@vs.bignet.com.br>
Message-ID: <15344.2990.3342.334351@gargle.gargle.HOWL>

>>>>> "AOlinto" == aolinto  <aolinto at bignet.com.br> writes:

    AOlinto> Dear Dr. Maechler, Thanks for your e-mail.

       MM> As the function name suggests and help(gamma.shape) clearly says,
       MM> its estimating the shape parameter alpha, and *ITS* standard error
       MM> which is not at all the same as the scale parameter you need (and
       MM> in your case get from coef(Lt.fit) !

{to R-help;  I allow myself to CC this back to R-help again..}

    AOlinto> As you stated, I was not using the scale parameter, but the SE
    AOlinto> of the shape parameter.

    AOlinto> Nevertheless, in my exemple, using coef(Lt.fit) I got the
    AOlinto> value 0.01703055(Intercept) which doesn't seem to be the scale
    AOlinto> parameter either. I read carefully some books and the R help
    AOlinto> but I couldn't find a solution (probably because I'm not a
    AOlinto> statistician and, as biologist, I often have problems with
    AOlinto> mathematical language - but I'm trying to do my best).

    AOlinto> Would you please explain me how to get the scale parameter
    AOlinto> from coef?

Here is a valid R script I did for you  [ ~/R/MM/STATISTICS/gamma-mle.R ]:
the comments should contain all the explanations:

Note that it also contains a very simple ("method of moments") procedure
for estimation of gamma parameters.  `Method of moments' is sub-optimal
theoretically, but in this case has the advantage to be much easier.

----------------------

### Create reproducible sample data (large N such that estim. ~= true):
### 		try a smaller N, e.g., N = 100, to see that MLE is better
set.seed(35)
hist(xx <- rgamma(10000, shape = 2, scale = 0.1))
##                      =alpha     =sigma = 1/rate

## help(rgamma):  shape = alpha =: a,   scale = sigma =: s
## ------------->  E[X] = a * s;   Var[X] = a * s^2
c(mean = (m <- mean(xx)), var = (v <- var(xx)))

## 1) Method of moment estimator :
## =============================
sigma0 <- v/m
alpha0 <- m / sigma0
c(alpha0 = alpha0, sigma0 = sigma0)
##-    alpha0    sigma0
##- 1.9794580 0.1001518

all(alpha0*sigma0 ^ (1:2) == c(m,v)) # TRUE : moments match

## 2) Better method: MLE -- via GLM and gamma.shape():
##    ------------------------------------------------

## What does the Gamma family do?
(aicG <- Gamma()$aic) # is -2 * logLik(.) + 2
## i.e.,
## logLik() = sum(dgamma(y, 1/disp, scale = mu * disp, log = TRUE) * wt)
## or the *unweighted* likelihood
##    Lik() = prod( dgamma(y, shape = 1/disp, scale = mu * disp) )
Gamma()$link ## "inverse", i.e. the intercept below is c0 =  1/mu
## c0 = 1 / mu = 1/ (sigma * alpha) = "rate" / alpha
## or equivalently :  sigma = 1/(c0 * alpha)


gx <- glm(xx ~ 1, family = Gamma)
(sgx <- summary(gx))# see also "corrected" summary below
(cc <- coef(gx))# 5.044 +/- 0.036
ccV <- sgx $ coefficients["(Intercept)" , ]
cc == ccV[1] # TRUE
ccV["Estimate"] + c(-2,2)* ccV["Std. Error"] # [ 4.97, 5.12 ]

library(MASS)
(gs <- gamma.shape(gx, eps = 1e-7, verbose=TRUE)) # alpha = 1.974 (+/- 0.026)
gs$alpha + c(-2,2)* gs$SE # [1.922, 2.025 ]

## corrected summary  using mle dispersion (but here, change is minuscule!):
(sgxC <- summary(gx, dispersion = 1 / gs$alpha))
## = summary(gx, dispersion = gamma.dispersion(gx))
ccV. <- sgxC $ coefficients["(Intercept)" , ]
ccV - ccV. ## no difference in this case

## `MLE' sigma:
(sigma <- 1 / (coef(gx) * gs$alpha))# = 0.1004 in the example


    AOlinto> Thanks for your attention,

    AOlinto> Antonio Olinto

you're welcome!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 12 19:00:22 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 10:00:22 -0800 (PST)
Subject: [R] histogram question
In-Reply-To: <3BEFB726.C361464A@univie.ac.at>
Message-ID: <Pine.A41.4.33.0111120959540.152720-100000@homer40.u.washington.edu>

On Mon, 12 Nov 2001, Erich Neuwirth wrote:

> hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> gives a histogram with "touching bars"
>
> hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> gives a histogram with space between the bars.
>
> is there a way to control the space betweent he bars easily?

If you want to control space between the bars you probably want a
barplot(), which does have this sort of control

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 19:03:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Nov 2001 18:03:56 +0000 (GMT)
Subject: [R] uninstal rw1030 (Win9*)
In-Reply-To: <Pine.OSF.3.96.1011112184432.1212C-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.31.0111121802510.23916-100000@auk.stats>

On Mon, 12 Nov 2001, Agustin Lobo wrote:

>
> Hi all,
>
> I installed rw1031 but not uninstalled rw1030 just
> to make sure everything was working normally with
> the new version. After few weeks, I'm ready to uninstal
> rw1030. My question is: should I use the rw1030 unins00.exe
> program or could this program damage the rw1031 inatallation (perhaps
> modifies the registry...) ? Perhaps
> should I just delete the rw1030 directory?

The latter.  The rw1030 unins00.exe will remove some registry entries
that have been updated.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 19:14:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Nov 2001 18:14:31 +0000 (GMT)
Subject: [R] gamma parameter estimation [was "ks.test"]
In-Reply-To: <15344.2990.3342.334351@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.31.0111121804200.23916-100000@auk.stats>

On Mon, 12 Nov 2001, Martin Maechler wrote:

> >>>>> "AOlinto" == aolinto  <aolinto at bignet.com.br> writes:
>
>     AOlinto> Dear Dr. Maechler, Thanks for your e-mail.
>
>        MM> As the function name suggests and help(gamma.shape) clearly says,
>        MM> its estimating the shape parameter alpha, and *ITS* standard error
>        MM> which is not at all the same as the scale parameter you need (and
>        MM> in your case get from coef(Lt.fit) !
>
> {to R-help;  I allow myself to CC this back to R-help again..}
>
>     AOlinto> As you stated, I was not using the scale parameter, but the SE
>     AOlinto> of the shape parameter.
>
>     AOlinto> Nevertheless, in my exemple, using coef(Lt.fit) I got the
>     AOlinto> value 0.01703055(Intercept) which doesn't seem to be the scale
>     AOlinto> parameter either. I read carefully some books and the R help
>     AOlinto> but I couldn't find a solution (probably because I'm not a
>     AOlinto> statistician and, as biologist, I often have problems with
>     AOlinto> mathematical language - but I'm trying to do my best).
>
>     AOlinto> Would you please explain me how to get the scale parameter
>     AOlinto> from coef?
>
> Here is a valid R script I did for you  [ ~/R/MM/STATISTICS/gamma-mle.R ]:
> the comments should contain all the explanations:

[...]

Another way to do this is to use fitdistr in package MASS (recent version).
Unfortunately because R uses incompatible arguments with S for [dqpr]gamma
prior to 1.4.0, the default usage needs R-devel

> set.seed(35)
> xx <- rgamma(10000, shape = 2, scale = 0.1)
> fitdistr(xx, "gamma")
     shape         rate
  1.97356054   9.95524474
 (0.02589806) (0.14862019)

One can make it work in R 1.3.1 by specifying starting values.

> fitdistr(xx, "gamma", list(shape = 2, scale = 0.1))
      shape         scale
  1.973444351   0.100454939
 (0.025871453) (0.001497758)

These are MLEs, with standard errors based on the observed information.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 12 19:20:24 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 10:20:24 -0800 (PST)
Subject: [R] Is there a way to detect when gc() is called?
In-Reply-To: <Pine.GSO.4.10.10111121806050.11755-100000@speed.maths.lth.se>
Message-ID: <Pine.A41.4.33.0111121013380.152720-100000@homer40.u.washington.edu>

On Mon, 12 Nov 2001, Henrik Bengtsson wrote:

> I would like to run a method, which removes obsolete/redundant data in my
> data structures, when gc() will/is/has been called. In other words, is it
> possible to make the garbage collector to trig another function?
>

There is a finalizer mechanism now in R. I don't know if the documentation
at http://developer.r-project.org is completely up to date, but it should
show you were to look (mostly in memory.c)

Finalizers don't quite do what you want, because it is very difficult.
It turns out to be impractical to guarantee that every finalizer is run
exactly once. Languages have to choose between running it at least once
and at most once.  As I understand it (Luke Tierney is the authority) R
follows Java in ensuring that the finalizer is run at most once, but some
objects that are removable may never be removed.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Nov 12 19:29:15 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 12 Nov 2001 19:29:15 +0100
Subject: [R] Is there a way to detect when gc() is called?
In-Reply-To: <Pine.A41.4.33.0111121013380.152720-100000@homer40.u.washington.edu>
Message-ID: <KKEGJOGBELBHDIKPINBMOEBPCIAA.hb@maths.lth.se>

A finalizer feature is really great. However, currently this is actually
more than I need. I only need to know when the garbage collector is started,
not what object it is removing. In other words, I would like to have
function myGC(...) called *automatically* when the memory is running low,
almost like a onLowMemory="myGC()".

Thanks

Henrik


> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Monday, November 12, 2001 7:20 PM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Is there a way to detect when gc() is called?
>
>
> On Mon, 12 Nov 2001, Henrik Bengtsson wrote:
>
> > I would like to run a method, which removes obsolete/redundant
> data in my
> > data structures, when gc() will/is/has been called. In other
> words, is it
> > possible to make the garbage collector to trig another function?
> >
>
> There is a finalizer mechanism now in R. I don't know if the documentation
> at http://developer.r-project.org is completely up to date, but it should
> show you were to look (mostly in memory.c)
>
> Finalizers don't quite do what you want, because it is very difficult.
> It turns out to be impractical to guarantee that every finalizer is run
> exactly once. Languages have to choose between running it at least once
> and at most once.  As I understand it (Luke Tierney is the authority) R
> follows Java in ensuring that the finalizer is run at most once, but some
> objects that are removable may never be removed.
>
> 	-thomas
>
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 12 19:33:29 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 10:33:29 -0800 (PST)
Subject: [R] Is there a way to detect when gc() is called?
In-Reply-To: <KKEGJOGBELBHDIKPINBMOEBPCIAA.hb@maths.lth.se>
Message-ID: <Pine.A41.4.33.0111121032310.152720-100000@homer40.u.washington.edu>

On Mon, 12 Nov 2001, Henrik Bengtsson wrote:

> A finalizer feature is really great. However, currently this is actually
> more than I need. I only need to know when the garbage collector is started,
> not what object it is removing. In other words, I would like to have
> function myGC(...) called *automatically* when the memory is running low,
> almost like a onLowMemory="myGC()".
>

For that I think you'd have to hack into the garbage collector code
yourself.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stem at stem.de  Mon Nov 12 21:35:42 2001
From: stem at stem.de (Stefan Meyer)
Date: Mon, 12 Nov 2001 21:35:42 +0100
Subject: [R] [Q] Setting elements of a vector
Message-ID: <005301c16bb9$9aa1c7a0$0f01a8c0@zuse>

Hi!

I'm new to R and have problems with the following code:

<code>

awprob<-c(0.4,0.4,0.1,0.1)
awsample<-sample(c(1:4),3,awprob,replace=TRUE)

vec<-vector(mode="numeric",10000)
vec[]<-sum(sample(c(1:4),20,awprob,replace=TRUE))

</code>

My problem: The elements of vec have the same value. How
can I tell R that I want to have a *new* sample for each value
and not 10000 times the same sample?

A for-loop is not a good solution as it made R hang up ...

Thanx alot

Stefan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Nov 12 21:52:45 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 12 Nov 2001 15:52:45 -0500
Subject: [R] is auto-save possible?
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC839A@usrymx10.merck.com>

Dear R-help,

This is just a wishlist item:  Is it possible at all to make R (optionally)
automagically do save.image() periodically (e.g., every fixed number of
commands or >= fixed amount of time)?  

The reason I asked is that I frequently run R-1.3.1 inside XEmacs 21.4.5/ESS
5.1.19 under WinNT, and had seen Rterm.exe crashed a few times for no
apparent reason (and not reproducible).  When that happens, I lost all the
objects created in that R session and had to re-run the script (which could
be time consuming).  At one time R crashed right in the middle of quitting,
which corrupted the .Rdata file.  Luckily I had a backup that was fairly
recent that I didn't loose everything.  (Admittedly, auto-save wouldn't help
this last problem though.)

Cheers,
Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Nov 12 21:56:27 2001
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 12 Nov 2001 12:56:27 -0800 (PST)
Subject: [R] 'subscript out of bounds' in matrices
In-Reply-To: <VzFRhLAKT577Ew9d@bayesian-bay.freeserve.co.uk>
Message-ID: <Pine.GSO.4.10.10111121255150.16953-100000@quetelet.stat.ucla.edu>

I'm not entirely sure what's wrong with the code you have, but you might
be better off doing the following:  If p is a 2x1 matrix and you want to
make a diagonal matrix with elements of p on the diagonal, maybe:

diagp <- diag(as.vector(p))

would work better?

-roger
_____________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu

On Mon, 12 Nov 2001, Laura Gross wrote:

> Dear list
> 
> Having read through all the archives of the mailing lists, I've had no
> luck finding the answer to my problem.
> 
> I am running a for(i in 1:n) loop and am creating a matrix, p, for each
> of the n observations. This matrix p is a 2x1 matrix. I am then doing
> the following:
> 
> diagp<-diag(c(p[1,1],p[2,1]))
> 
> to create a matrix with the elements of P on the diagonal (i.e. a 4x4
> matrix).
> 
> This works fine when I have n=60, however when I increase the size of
> the data set to n=100, I get the error message:
> 
> Error in diag(c(p[1, 1], p[2, 1])) : subscript out of bounds
> 
> I put this down to a problem with memory at first so increased the
> memory in my PC from 128Mb to 256Mb yet it made no difference and the
> error still occurred. I am eventually going to need to run this command
> for n=8000.
> 
> Could anybody suggest what I can do to solve this problem? Do I need to
> store my matrix as another type of variable?
> 
> Thanks in advance for any help
> Laura
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Nov 12 22:17:20 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 12 Nov 2001 22:17:20 +0100
Subject: [R] [Q] Setting elements of a vector
References: <005301c16bb9$9aa1c7a0$0f01a8c0@zuse>
Message-ID: <3BF03C60.1F6C12A1@statistik.uni-dortmund.de>



Stefan Meyer wrote:
> 
> Hi!
> 
> I'm new to R and have problems with the following code:
> 
> <code>
> 
> awprob<-c(0.4,0.4,0.1,0.1)
> awsample<-sample(c(1:4),3,awprob,replace=TRUE)
> 
> vec<-vector(mode="numeric",10000)
> vec[]<-sum(sample(c(1:4),20,awprob,replace=TRUE))
> 
> </code>
> 
> My problem: The elements of vec have the same value. How
> can I tell R that I want to have a *new* sample for each value
> and not 10000 times the same sample?

I don't really understand what you are going to do, but vectorizing the
last statement correctly should result in something like:

 awprob <- c(0.4, 0.4, 0.1, 0.1)
  # Matrix with 20 * 10000 samples (20 columns, 1000 rows):
 X <- matrix(sample(c(1:4), 200000, awprob, replace=TRUE), ncol=20)
  # Now applying for each row the sum():
 vec <- apply(X, 1, sum)

  
> A for-loop is not a good solution as it made R hang up ...

No, it won't hang up! But for such a data set a for loop is very slow.
Just wait a few minutes - or don't use for()!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Nov 12 22:20:19 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 13 Nov 2001 10:20:19 +1300
Subject: [R] Plotting symbols
Message-ID: <200111122119.KAA28088@gosset.stats.waikato.ac.nz>

Has anyone got a cute way of compiling a table of the available plotting
symbols?

I've been repeatedly pasting in

cno <- cno + 1
cno
plot(x,y,pch=cno)

which is tedious, and besides I have to note down the symbols by hand.


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Mon Nov 12 22:39:09 2001
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Mon, 12 Nov 2001 21:39:09 -0000
Subject: [R] Plotting symbols
References: <200111122119.KAA28088@gosset.stats.waikato.ac.nz>
Message-ID: <009601c16bc2$7659ab20$cb8801a3@sbs.ox.ac.uk>

Have look at the last example in ?points.  I think that does what you want.

David

----- Original Message -----
From: "Murray Jorgensen" <maj at waikato.ac.nz>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, November 12, 2001 9:20 PM
Subject: [R] Plotting symbols


> Has anyone got a cute way of compiling a table of the available plotting
> symbols?
>
> I've been repeatedly pasting in
>
> cno <- cno + 1
> cno
> plot(x,y,pch=cno)
>
> which is tedious, and besides I have to note down the symbols by hand.
>
>
> Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
> Department of Statistics, University of Waikato, Hamilton, New Zealand
> Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
> Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 22:47:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Nov 2001 21:47:44 +0000 (GMT)
Subject: [R] Plotting symbols
In-Reply-To: <200111122119.KAA28088@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0111122144010.24219-100000@auk.stats>

On Tue, 13 Nov 2001, Murray Jorgensen wrote:

> Has anyone got a cute way of compiling a table of the available plotting
> symbols?
>
> I've been repeatedly pasting in
>
> cno <- cno + 1
> cno
> plot(x,y,pch=cno)
>
> which is tedious, and besides I have to note down the symbols by hand.

Just run

example(points)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Nov 12 22:48:56 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 12 Nov 2001 16:48:56 -0500
Subject: [R] [Q] Setting elements of a vector
Message-ID: <OF4C192D99.0F1EA2B7-ON85256B02.0076B060@rtp.epa.gov>


Your code samples from 1:4 20 times with replacement, sums the results,
then assigns the value to all 10000 elements of vec.  There is no way
for 'sample' to 'know' that you want 20*10000 samples!  Try the
following instead:

>  vec <-
apply(matrix(sample(1:4,20*10000,awprob,replace=TRUE),nrow=20),2,sum)

> length(vec)
[1] 10000
> vec[1:10]
 [1] 43 38 35 41 35 37 41 42 40 36
> summary(vec)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
  23.00   35.00   38.00   37.93   41.00   56.00

or

> vec2 <-
tapply(sample(1:4,20*10000,awprob,replace=TRUE),rep(1:10000,rep(20,10000)),sum)
> summary(vec2)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
  25.00   35.00   38.00   37.99   41.00   57.00
> length(vec2)
[1] 10000

Though on my system (R-1.3.1 on Windows 98) the latter is about 50%
slower.


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                               
                    Stefan Meyer                                                                               
                    <stem at stem.de>              To:     r-help at lists.R-project.org                             
                    Sent by:                    cc:                                                            
                    owner-r-help at stat.ma        Subject:     [R] [Q] Setting elements of a vector              
                    th.ethz.ch                                                                                 
                                                                                                               
                                                                                                               
                    11/12/01 03:35 PM                                                                          
                                                                                                               
                                                                                                               




Hi!

I'm new to R and have problems with the following code:

<code>

awprob<-c(0.4,0.4,0.1,0.1)
awsample<-sample(c(1:4),3,awprob,replace=TRUE)

vec<-vector(mode="numeric",10000)
vec[]<-sum(sample(c(1:4),20,awprob,replace=TRUE))

</code>

My problem: The elements of vec have the same value. How
can I tell R that I want to have a *new* sample for each value
and not 10000 times the same sample?

A for-loop is not a good solution as it made R hang up ...

Thanx alot

Stefan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoffman at zappa.sax.de  Mon Nov 12 22:58:05 2001
From: thoffman at zappa.sax.de (Thomas Hoffmann)
Date: Mon, 12 Nov 2001 22:58:05 +0100
Subject: [R] check() warnings for survival-2.6
Message-ID: <3BF045ED.1A7BBE29@zappa.sax.de>

I am not sure if this is the right place for that kind of questions, but
I wondered
that the recommended package survival did not pass R's check procedure
without
warnings:

1) unbalanced braces:
*   Rd files with unbalanced braces:
*     man/Surv.Rd
*     man/cluster.Rd
*     man/cox.zph.Rd
*     man/coxph.Rd
*     man/coxph.detail.Rd
*     man/date.ddmmmyy.Rd
*     man/lines.survfit.Rd
*     man/plot.cox.zph.Rd
*     man/predict.survreg.Rd
*     man/pyears.Rd
*     man/residuals.coxph.Rd
*     man/stanford2.Rd
*     man/strata.Rd
*     man/summary.survfit.Rd
*     man/survdiff.Rd
*     man/survexp.Rd
*     man/survfit.Rd
*     man/survreg.control.Rd
*     man/survsum.Rd
*     man/untangle.specials.Rd

2) missing docs:
* checking for undocumented objects ... WARNING
 [1] "[.Surv"                  "[.coxph.penalty"        
 [3] "[.ratetable"             "[.ratetable2"           
 [5] "[.survfit"               "[.tcut"                 
 [7] "[.terms"                 "anova.survreg"          
 [9] "anova.survreglist"       "as.character.Surv"      
[11] "as.data.frame.Surv"      "as.data.frame.difftime" 
[13] "as.matrix.ratetable"     "coxpenal.fit"           
[15] "format.Surv"             "is.category"            
[17] "is.na.Surv"              "is.na.coxph.penalty"    
[19] "is.na.ratetable"         "is.na.ratetable2"       
[21] "labels.survreg"          "match.ratetable"        
[23] "model.frame.coxph"       "model.frame.survreg"    
[25] "model.newframe"          "print.coxph.penal"      
[27] "print.ratetable"         "print.summary.survreg"  
[29] "print.survdiff"          "print.survexp"          
[31] "print.survreg.penal"     "residuals.survreg.penal"
[33] "summary.coxph.penal"     "summary.ratetable"      
[35] "survexp.cfit"            "survpenal.fit"          
[37] "survreg.fit"             "tcut"                   

3) non-matching docs:
* checking for code/documentation mismatches ... WARNING
$as.date
$as.date$code
[1] "x"     "order" "..."  
$as.date$docs
[1] "x"


If I did not miss something, these are bugs, but not of R, but of a
contributed
package. What is the right place for reporting such bugs?

Kind regards,
Thomas.

-- 
Thomas Hoffmann                                    Telephone:
49-351-4598831
thoffman at zappa.sax.de                                       Dresden,
Germany

..sig under construction ...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 12 23:05:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 12 Nov 2001 22:05:08 +0000 (GMT)
Subject: [R] check() warnings for survival-2.6
In-Reply-To: <3BF045ED.1A7BBE29@zappa.sax.de>
Message-ID: <Pine.GSO.4.31.0111122159510.24219-100000@auk.stats>

On Mon, 12 Nov 2001, Thomas Hoffmann wrote:

> I am not sure if this is the right place for that kind of questions, but
> I wondered
> that the recommended package survival did not pass R's check procedure
> without
> warnings:

Well, that's the check for the next version of R applied to code prepared
for the last version of R.  You could try the checks on R 1.3.0 say ....

Having these tools (principally thanks to Kurt) has enabled us to catch
literally hundreds of small problems and a few bigger ones.

[...]

> If I did not miss something, these are bugs, but not of R, but of a
> contributed
> package. What is the right place for reporting such bugs?

R-bugs, Cc:ed the package maintainer, I think.  R-bugs has a section called
`Add-ons' for contributed code.

Do remember that survival is a port, and porters do find it hard to
document other people's code.  Certainly some of the packages I have ported
have undocumented functions solely because I do not know what they
are supposed to do.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 12 23:16:52 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 14:16:52 -0800 (PST)
Subject: [R] check() warnings for survival-2.6
In-Reply-To: <3BF045ED.1A7BBE29@zappa.sax.de>
Message-ID: <Pine.A41.4.33.0111121414520.152720-100000@homer40.u.washington.edu>

On Mon, 12 Nov 2001, Thomas Hoffmann wrote:

> I am not sure if this is the right place for that kind of questions, but
> I wondered
> that the recommended package survival did not pass R's check procedure
> without
> warnings:

In general reports on packages should go to the maintainer. In fact, I
know about these, and some of them have been fixed.

For CRAN packages you can usually rely on the CRAN maintainers to have
told the package maintainer about this sort of thing (and the package
maintainer probably already knew even before that).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Mon Nov 12 23:20:51 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Mon, 12 Nov 2001 14:20:51 -0800
Subject: [R] help uses only netscape?
Message-ID: <003f01c16bc8$49e9b9d0$01000001@godzilla>

> I don't have netscape installed on my machine (FreeBSD 4.4) and when I
type
> the command help.start(), I get
>
> > netscape: not found
>
> error. I do have mozilla installed. Is this a defect? can I run any web
> browser?
>
> jeff.
>
>
> ----- Original Message -----
> From: <Majordomo at stat.math.ethz.ch>
> To: <jeff_hamann at hamanndonald.com>
> Sent: Monday, November 12, 2001 10:17 AM
> Subject: Welcome to r-help
>
>
> > --
> >
> > Welcome to the r-help mailing list!
> >
> > Please save this message for future reference.  Thank you.
> >
> > If you ever want to remove yourself from this mailing list,
> > send the following command in email to
> > <r-help-request at stat.math.ethz.ch>:
> >
> >     unsubscribe
> >
> > Or you can send mail to <Majordomo at stat.math.ethz.ch> with the following
> > command in the body of your email message:
> >
> >     unsubscribe r-help
> >
> > or from another account, besides "Jeff D. Hamann"
> <jeff_hamann at hamanndonald.com>:
> >
> >     unsubscribe r-help "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>
> >
> > If you ever need to get in contact with the owner of the list,
> > (if you have trouble unsubscribing, or have questions about the
> > list itself) send email to <owner-r-help at stat.math.ethz.ch> .
> > This is the general rule for most mailing lists when you need
> > to contact a human.
> >
> >  Here's the general information for the list you've subscribed to,
> >  in case you don't already have it:
> >
> > [Last updated on: Sep 26 22:02 2000]
> >
> > * public list for getting help on "R" (statistics environment ~ "GNU S")
*
> >
> > The purposes of the mailing list  "R-help"  include
> >
> > - - Announcement about the development of R; availability of new code,
> etc.
> > - - Questions and Answers about problems and solutions using R.
> > - - Enhancements and patches to the source code and documentation of R.
> > - - Comparison with S / S-plus, compatibility.
> > - - Posting of nice examples, benchmarks, .....
> >
> > The list has had
> > 516  (Jan  1, 2000)
> > 315  (Jan  1, 1999)
> > 205  (Jan 26, 1998)
> > 116  (Apr  1, 1997)
> > 77  (Nov 14, 1996)
> > entries [persons or sub-lists] from all continents.
> >
> > There are 3 mailing lists dedicated to "R" :
> >
> > 1) R-announce : Only announcement of new versions / important patches
> > 2) R-help : Questions / Answers about ("released versions of") R
> > 3) R-devel : The list of pre-testers and "developers" of R.
> >
> > where "R-announce" is gatewayed to "R-help",
> > i.e., if you are only interested in announcements on R,
> > you could rather subscribe to  R-announce  instead of  R-help.
>
> - ------------------------------------------------------------------------
> ---
> >
> > The list is archived ==> see R's Web site
> >
> > http://www.R-project.org/
>
> - ------------------------------------------------------------------------
> ----
> >
> > CRAN (= Comprehensive R Archive Network)  and its mirror sites
> > ==== should carry ALL available files relevant to R,
> >      including  source, binaries, contributed software and
documentation.
> >      The `mother of the CRAN' is
> > http://cran.R-project.org/
>
> - ------------------------------------------------------------------------
> -----
> >
> > A `FAQ' (list of Frequently Asked Questions) is available
> > from CRAN or
> >       Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> at
> >       http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 12 23:29:09 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 12 Nov 2001 23:29:09 +0100 (MET)
Subject: [R] Doubt
In-Reply-To: <000801c16b7c$cda45420$8001010a@urisan.com.br>
Message-ID: <Pine.OSF.3.96.1011112231844.24516C-100000@ija.csic.es>


I use to save the data in Excell as ascii text 
with cols separated by spaces. Then, in R, I use
scan (although there are now more sophisticated
functions). For example, if your data matrix is
10cols x 1000 rows, you save it as a file text and then
import it to R with:

mydatain <- scan(matrix("path_and_filename"),byrow=T,ncol=10)

Then you can copy the names of the col.  variables to 
another text file and:

mynames <- scan("path_and_file_name",what="")

dimnames(mydatain) <- list(NA,mynames)

And an analogous procedure for the row names.

Hope it helps!

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 12 Nov 2001, Gep wrote:

> As to call files of another softwares(as, Excel, minitab)  
>  to be manipulated inside of R-plus?
> Respectfully
> Regiane
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Nov 12 23:21:02 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 12 Nov 2001 17:21:02 -0500
Subject: [R] Plotting symbols
Message-ID: <OF3EAEAF9F.DD76ACC1-ON85256B02.007A85D3@rtp.epa.gov>


I don't think this is cute, but it works:

> plot(0:1,0:1,type="n",xaxt="n",yaxt="n",xlab="",ylab="",bty="n")
> legend(0,1,legend=as.character(1:25),pch=1:25)

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                               
                    Murray Jorgensen                                                                           
                    <maj at waikato.ac.nz>         To:     r-help at stat.math.ethz.ch                               
                    Sent by:                    cc:                                                            
                    owner-r-help at stat.ma        Subject:     [R] Plotting symbols                              
                    th.ethz.ch                                                                                 
                                                                                                               
                                                                                                               
                    11/13/01 05:20 AM                                                                          
                                                                                                               
                                                                                                               




Has anyone got a cute way of compiling a table of the available plotting
symbols?

I've been repeatedly pasting in

cno <- cno + 1
cno
plot(x,y,pch=cno)

which is tedious, and besides I have to note down the symbols by hand.


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
Department of Statistics, University of Waikato, Hamilton, New Zealand
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Mon Nov 12 23:41:10 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 14:41:10 -0800
Subject: [R] help uses only netscape?
In-Reply-To: <003f01c16bc8$49e9b9d0$01000001@godzilla>
Message-ID: <5E73B502-D7BE-11D5-835E-00039319314A@stat.ucla.edu>

just make a symbolic link. i.e.

ln -s /usr/local/bin/mozilla /usr/local/bin/netscape

On Monday, November 12, 2001, at 02:20 , Jeff D. Hamann wrote:

>> I don't have netscape installed on my machine (FreeBSD 4.4) and when I
> type
>> the command help.start(), I get
>>
>>> netscape: not found
>>
>> error. I do have mozilla installed. Is this a defect? can I run any web
>> browser?
>>
>> jeff.
>>
>>
>> ----- Original Message -----
>> From: <Majordomo at stat.math.ethz.ch>
>> To: <jeff_hamann at hamanndonald.com>
>> Sent: Monday, November 12, 2001 10:17 AM
>> Subject: Welcome to r-help
>>
>>
>>> --
>>>
>>> Welcome to the r-help mailing list!
>>>
>>> Please save this message for future reference.  Thank you.
>>>
>>> If you ever want to remove yourself from this mailing list,
>>> send the following command in email to
>>> <r-help-request at stat.math.ethz.ch>:
>>>
>>>     unsubscribe
>>>
>>> Or you can send mail to <Majordomo at stat.math.ethz.ch> with the 
>>> following
>>> command in the body of your email message:
>>>
>>>     unsubscribe r-help
>>>
>>> or from another account, besides "Jeff D. Hamann"
>> <jeff_hamann at hamanndonald.com>:
>>>
>>>     unsubscribe r-help "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>
>>>
>>> If you ever need to get in contact with the owner of the list,
>>> (if you have trouble unsubscribing, or have questions about the
>>> list itself) send email to <owner-r-help at stat.math.ethz.ch> .
>>> This is the general rule for most mailing lists when you need
>>> to contact a human.
>>>
>>>  Here's the general information for the list you've subscribed to,
>>>  in case you don't already have it:
>>>
>>> [Last updated on: Sep 26 22:02 2000]
>>>
>>> * public list for getting help on "R" (statistics environment ~ "GNU 
>>> S")
> *
>>>
>>> The purposes of the mailing list  "R-help"  include
>>>
>>> - - Announcement about the development of R; availability of new code,
>> etc.
>>> - - Questions and Answers about problems and solutions using R.
>>> - - Enhancements and patches to the source code and documentation of 
>>> R.
>>> - - Comparison with S / S-plus, compatibility.
>>> - - Posting of nice examples, benchmarks, .....
>>>
>>> The list has had
>>> 516  (Jan  1, 2000)
>>> 315  (Jan  1, 1999)
>>> 205  (Jan 26, 1998)
>>> 116  (Apr  1, 1997)
>>> 77  (Nov 14, 1996)
>>> entries [persons or sub-lists] from all continents.
>>>
>>> There are 3 mailing lists dedicated to "R" :
>>>
>>> 1) R-announce : Only announcement of new versions / important patches
>>> 2) R-help : Questions / Answers about ("released versions of") R
>>> 3) R-devel : The list of pre-testers and "developers" of R.
>>>
>>> where "R-announce" is gatewayed to "R-help",
>>> i.e., if you are only interested in announcements on R,
>>> you could rather subscribe to  R-announce  instead of  R-help.
>>
>> - 
>> ------------------------------------------------------------------------
>> ---
>>>
>>> The list is archived ==> see R's Web site
>>>
>>> http://www.R-project.org/
>>
>> - 
>> ------------------------------------------------------------------------
>> ----
>>>
>>> CRAN (= Comprehensive R Archive Network)  and its mirror sites
>>> ==== should carry ALL available files relevant to R,
>>>      including  source, binaries, contributed software and
> documentation.
>>>      The `mother of the CRAN' is
>>> http://cran.R-project.org/
>>
>> - 
>> ------------------------------------------------------------------------
>> -----
>>>
>>> A `FAQ' (list of Frequently Asked Questions) is available
>>> from CRAN or
>>>       Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> at
>>>       http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>
>>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 12 23:45:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 14:45:48 -0800 (PST)
Subject: [R] help uses only netscape?
In-Reply-To: <003f01c16bc8$49e9b9d0$01000001@godzilla>
Message-ID: <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>

On Mon, 12 Nov 2001, Jeff D. Hamann wrote:

> > I don't have netscape installed on my machine (FreeBSD 4.4) and when I
> type
> > the command help.start(), I get
> >
> > > netscape: not found
> >
> > error. I do have mozilla installed. Is this a defect? can I run any web
> > browser?

To paraphrase Henry Ford, you can run any browser as long as it's
netscape (at the moment).

The difficulty is that R needs to be able to tell the browser to load a
new page (rather than starting a new instance with that new page) when you
ask for help on a topic.  Most browsers don't allow this. Apparently
recent Mozillas do, and it's possible that Konqueror may have a way to do
this, but we don't really know how.

It does need fixing, at it would be Really Nice if someone were to work
out how to support more browsers.

If you just want to browse through the help yourself, rather than
directing help() output to the browser, you can point any browser at
    $R_HOME/doc/index.html

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Tue Nov 13 00:57:10 2001
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Mon, 12 Nov 2001 15:57:10 -0800
Subject: [R] Additional Documentation for rpart?
Message-ID: <20011112155710.B7249@brandybuck>

Dear r-help,

I am looking for additional documentation on the "adj" column in rpart's
splits matrix.  The help says:

adj
         gives the adjusted concordance for surrogate splits

I am looking info about "adjusted concordance". I cannot find this phrase
in either Therneau & Atkinson original RPART documentation or the CART
book.


This question came up in the context of trying to calculate what the 
"improve" for the node would have been if surrogate split were used
instead.  So if anybody knows how to do (or extract) that would be very
helpful too.

Thanks in advance,

Clayton Springer


-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Nov 13 00:20:32 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 12 Nov 2001 17:20:32 -0600
Subject: [R] Announcement:  Automatic ATLAS support under Debian GNU/Linux
Message-ID: <15344.22848.700322.689712@sonny.eddelbuettel.com>


[ If this is considered off-topic please let me know in private mail. ]

With the current version of the glibc library in Debian's "testing" and
"unstable" distributions, ldconfig now loads the ATLAS optimised BLAS without
any user intervention beyond installation of the Atlas and R or Octave
packages.

ATLAS can lead to very dramatic speed increases (up to a factor of ten, see
below for simple examples) for common linear algebra operations.  The ability
to use these optimised libraries along with either R or Octave without having
to compile any code is probably a first among Linux, and Unix, distributions.

The README file below (included with Debian's R and Octave packages) provides
a few more details, and has the appropriate acknowledgements.

Comments or questions are welcome.  

Best regards, Dirk



	     Notes on using Atlas libs with GNU Octave and GNU R

I. Overview

As of the Debian releases 2.1.34-6 (for GNU Octave) and 1.3.0-3 (for GNU R),
both Octave and R can be used with Atlas, the Automatically Tuned Linear
Algebra Software, in order to obtain much faster linear algebra operations.

To make use of Atlas, Debian users need to install the Atlas libraries for
their given cpu architecture. Concretely, one of

    atlas2-base - Automatically Tuned Linear Algebra Software
    atlas2-p3 - Automatically Tuned Linear Algebra Software
    atlas2-p4 - Automatically Tuned Linear Algebra Software
    atlas2-athlon - Automatically Tuned Linear Algebra Software

must be installed. Here, 'base' provides generic libraries which run on all
platforms whereas 'p3', 'p4' and 'athlon' stand for the Pentium III and IV as
well as the AMD Athlon, respectively.  The actual libraries are installed in
/usr/lib/atlas (in the case of 'base') and in /usr/lib/$arch/atlas for the
cpu-specific versions. Here $arch stands for the cpu code used by the kernel
and shown in /proc/cpuinfo.

The Atlas libraries can be loaded dynamically instead of the (non-optimised)
blas libraries against which both Octave and R are compiled.

Section III below briefly describes how Atlas libraries can be compiled for
your specific machine to further optimise performance.

II. Using the Atlas libraries

II.A New default behaviour with automatic loading of the Atlas libraries

In order to have the libraries loaded at run-time, the location needs to be
communicated to the dynamic linker/loader. As of the Debian release
libc6_2.2.4-5 of the glibc library, a patch to ldconfig automates the use of
the Atlas library. If an Atlas package is installed, and correctly registered
in /etc/ld.so.conf as done by its postinst script, ldconfig will
automatically load the Atlas' version of the Blas instead of the (slower)
default Blas.

The following text is hence only relevant for systems which have not yet
upgraded to libc6_2.2.4-5 or later.

II.B Old behaviour requiring LD_LIBRARY_PATH for Octave

For Octave, use the variable LD_LIBRARY_PATH. On a computer with the
atlas2-base package:

    $ LD_LIBRARY_PATH=/usr/lib/atlas octave2.1 -q
    octave2.1:1> X=randn(1000,1000);t=cputime();Y=X'*X;cputime-t
    ans = 7.9600

    $ edd at homebud:~> octave2.1 -q
    octave2.1:1> X=randn(1000,1000);t=cputime();Y=X'*X;cputime-t
    ans = 61.520

For R version 1.3.0-4, the R_LD_LIBRARY_PATH variable has to be used, and its
value needs to be copied out of /usr/bin/R (or edited therein). For R version
1.3.1 or later this is done automatically in the R startup shell script.  For
an Athlon machine, and with the explicit definition which is no longer needed
as of R 1.3.1, the example becomes

    $ R_LD_LIBRARY_PATH=/usr/lib/R/bin:/usr/local/lib:/usr/X11R6/lib:/usr/lib/3dnow/atlas:/usr/lib:/usr/X11R6/lib:/usr/lib/gcc-lib/i386-linux/2.95.4:. R --vanilla -q
    > mm <- matrix(rnorm(10^6), ncol = 10^3)
    > system.time(crossprod(mm))
    [1] 2.38 0.04 2.84 0.00 0.00

    $ R --vanilla -q
    > mm <- matrix(rnorm(10^6), ncol = 10^3)
    > system.time(crossprod(mm))
    [1] 28.28  0.08 33.54  0.00  0.00
    > 

Running such a small example is highly recommded to ascertain that the
libraries are indeed found, and to "prove" that the speed gain is real (and
significant) for problems of at least a medium size as the 1000x1000 examples
above.

Note that the example use "/usr/lib/atlas" for the atlas2-base package;
Athlon users should employ "/usr/lib/3dnow/atlas", Pentium III users should
employ "/usr/lib/xmm/atlas" and Pentium IV users should employ
"/usr/lib/26/atlas".

Lastly, it should be pointed out that it is probably worthwhile to locally
compile, and thereby optimise, the Atlas libraries if at least a moderately
intensive load is expected. This is described in the next section.

III. Locally compiling the Atlas libraries

The Debian Atlas packages have been setup to allow for local recompilation of
the Atlas libraries. This way the behaviour will be tuned exactly to the
specific CPU rather than the broader class of CPUs. It has been reported that
this can increase performance by a further 12% on the examples above.
Detailed instructions are in /usr/share/doc/atlas2-base/README.debian.gz but
the process is essentially the following  [ courtesy of Doug Bates ]

   apt-get source atlas2-base
   cd atlas2-$VERSION
   fakeroot debian/rules/custom
   # wait for a *very* long time
   dpkg -i ../atlas2-base*.deb


IV.  See also

The Atlas packages have a very detailed README.Debian file which should be
consulted; it also details local recompilation. Sources and documentation for
Atlas are at   http://www.netlib.org/atlas.


V.  Acknowledgements

Camm Maguire developed the scheme of overloading Atlas over the default blas
libraries and deserves all the credit. Many thanks to John Eaton for helping
debug some errors in the initial setup, and to Doug Bates for work on the R
package. Special thanks to Ben Collins for providing a patched ldconfig as
part of the libc6 package.


Initial version
 -- Dirk Eddelbuettel <edd at debian.org>  Tue, 21 Aug 2001 21:37:15 -0500

First updated
 -- Dirk Eddelbuettel <edd at debian.org>  Sun, 11 Nov 2001 11:03:19 -0600



-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Tue Nov 13 01:04:46 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Mon, 12 Nov 2001 17:04:46 -0700 (MST)
Subject: [R] models for polytomous data
Message-ID: <Pine.GSO.4.05.10111121652200.6225-100000@virga.rap.ucar.edu>

Hi all

I have a dataset whose response is a categorical variable of the
ordinal scale type (6 levels).
I'm interested in building classification models, and I'm wondering if
there is something implemented in R (or its packages) that I'm not aware
of, to treat the ordinal scale measurements straightforwardly. I can think
of the alternative of building a conditional (hierarchical) binomial model
by glm() or other binary classifiers, but besides that I'm kind of at
a loss.
(I'm familiar with classification methods for nominal scales, I haven't 
seen much for the ordinal kind).
thanks in advance

claudia

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Nov 13 01:49:36 2001
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 12 Nov 2001 19:49:36 -0500
Subject: [R] Merging factor levels.
In-Reply-To: <Pine.WNT.4.31.0111121703510.344-100000@gannet>
References: <Pine.LNX.4.33.0111121633360.19262-100000@tal.stat.umu.se>
Message-ID: <5.1.0.14.2.20011112194648.01d19638@mcmail.cis.mcmaster.ca>

Dear Goran,

The recode function in the car package does a variety of recodes, including 
of factors. In your case, you would specify:

         okk <- recode(okk, " 'NEAR_TOWN' = 'Other' ")

I hope that you find this useful.

John

At 05:05 PM 11/12/2001 +0000, Prof Brian D Ripley wrote:
>On Mon, 12 Nov 2001, [iso-8859-1] G?ran Brostr?m wrote:
>
> > This must be a FAQ, but I can't find the answer:
> > I have a factor 'okk':
> >
> > > table(okk)
> > okk
> >      Other   STORKAGE SKELLEFTEA    FALMARK       BOLE  NEAR_TOWN
> >      14064        560        346        526        332         34
> >
> > Now I want to put the cases in 'NEAR_TOWN' into the 'Other' category',
> > so I try:
> >
> > > okk <- ifelse(okk == "NEAR_TOWN", "Other", okk)
> > > table(okk)
> > okk
> >     1     2     3     4     5 Other
> > 14064   560   346   526   332    34
> > > is.factor(okk)
> > [1] FALSE
> >
> > This is not what I intended. I can do what I want the hard way (i.e., by
> > converting  okk  to character an then back again) but there
> > must be something simpler?
>
>Something like
>
>levels(okk) <- c(levels(okk)[1:5], "Other")
>
>If you set two levels to be the same label, they get merged.
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Nov 13 02:43:53 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 12 Nov 2001 20:43:53 -0500 (EST)
Subject: [R] help uses only netscape?
Message-ID: <200111130143.fAD1hrd24232@cattell.psych.upenn.edu>

>just make a symbolic link. i.e.
>
>ln -s /usr/local/bin/mozilla /usr/local/bin/netscape
>
>On Monday, November 12, 2001, at 02:20 , Jeff D. Hamann wrote:
>
>>> I don't have netscape installed on my machine (FreeBSD 4.4) and when I
>> type
>>> the command help.start(), I get
>>>
>>>> netscape: not found
>>>
>>> error. I do have mozilla installed. Is this a defect? can I run any web
>>> browser?
>>>
>>> jeff.

I set out to take this sensible advice about making a symbolic
link, but just to be sure I typed

help.start()

in R.  I have both Mozilla 0.9.5 and Netscape 4.7 installed, on
Linux (RH 7.1).  (I don't know why I keep Netscape.)  The help
pages came up in Mozilla (which was open).  I have no idea why,
and I think I tried it once before without success.  I installed
Mozilla locally with the installer.  I did not use the RPM, nor
the tar file.  (I think when I tried without success I had used
the tar file.)  Probably this won't work the next time I try it!

Jon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Nov 13 02:48:15 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 13 Nov 2001 14:48:15 +1300
Subject: [R] help uses only netscape?
In-Reply-To: <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washin
 gton.edu>
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
Message-ID: <200111130147.OAA29107@gosset.stats.waikato.ac.nz>

Straying a bit from the topic, I used to like the alphabetical list of
functions that has been replaced by a search engine.

Is there any way to get the alphabetical list of commands in 1.3.1 ?


Murray Jorgensen


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Nov 13 04:57:16 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Mon, 12 Nov 2001 19:57:16 -0800
Subject: [R] how do I install add on packages?
Message-ID: <004f01c16bf7$48f9d030$01000001@godzilla>

I'm having some trouble installing the add on packages.

I would like to install the RMySQL_0.4-3.tar.gz add on package. I've
downloaded it and unzipped the package. The INSTALL file says

R CMD INSTALL [-l<alternate-dir>] RMySQL_<version>.tar.gz
does this mean in the R system enter the following?
> INSTALL -l /root/RMySQL_0.4-3.tar.gz    (?)
when I do this I get...
Error: couldn't find function "INSTALL"

so I them typed help.search("install")

and got

remove.packages(base)
update.packages(base)
INSTALL(base)

what's base? And why is the help.search() working when I log on as root. It
doesn't work when  I log on as a regular user. I'm using FreeBSD 4.4.

Jeff.




Jeff D. Hamann
Hamann, Donald and Associates
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Nov 13 05:25:55 2001
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 12 Nov 2001 20:25:55 -0800 (PST)
Subject: [R] how do I install add on packages?
In-Reply-To: <004f01c16bf7$48f9d030$01000001@godzilla>
Message-ID: <Pine.GSO.4.10.10111122023140.25290-100000@quetelet.stat.ucla.edu>

At the shell prompt (i.e. NOT in R), you should be able to type:

R CMD INSTALL RMySQL_0.4-3.tar.gz

and R will try to install the package in the system library directory.  If
you don't want to (or don't have permission to) install the package in the
system directory, you can specify a different directory with the -l flag,
so:

R CMD INSTALL -l ~/myLibs RMySQL_0.4-3.tar.gz

I'm not sure why help.search() only works when yo log on as root....

-roger
_____________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu

On Mon, 12 Nov 2001, Jeff D. Hamann wrote:

> I'm having some trouble installing the add on packages.
> 
> I would like to install the RMySQL_0.4-3.tar.gz add on package. I've
> downloaded it and unzipped the package. The INSTALL file says
> 
> R CMD INSTALL [-l<alternate-dir>] RMySQL_<version>.tar.gz
> does this mean in the R system enter the following?
> > INSTALL -l /root/RMySQL_0.4-3.tar.gz    (?)
> when I do this I get...
> Error: couldn't find function "INSTALL"
> 
> so I them typed help.search("install")
> 
> and got
> 
> remove.packages(base)
> update.packages(base)
> INSTALL(base)
> 
> what's base? And why is the help.search() working when I log on as root. It
> doesn't work when  I log on as a regular user. I'm using FreeBSD 4.4.
> 
> Jeff.
> 
> 
> 
> 
> Jeff D. Hamann
> Hamann, Donald and Associates
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Nov 13 06:27:26 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Mon, 12 Nov 2001 21:27:26 -0800
Subject: [R] how do I install add on packages?
References: <Pine.GSO.4.10.10111122023140.25290-100000@quetelet.stat.ucla.edu>
Message-ID: <001301c16c03$e1ebc030$01000001@godzilla>

Ack!

> I'm not sure why help.search() only works when yo log on as root....

'Cause I don't check the free space on the machine. FreeBSD sets the mount
point / to something like 98MB or so. When I downloaded the source and
compiled it, not thinking that I should have checked the version in the
/usr/ports(which is the same), the "disk" filled up and I couldn't write to
/ (unless I was logged on as root)? Strange... I got rid of the object
files, the available space on the disk went from -4.6MB to 45MB and he
help.search() works fine when logged in as a normal user.

And the install worked fine.

Thanks all,
Jeff.

----- Original Message -----
From: "Roger Peng" <rpeng at stat.ucla.edu>
To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>
Cc: <r-help at stat.math.ethz.ch>
Sent: Monday, November 12, 2001 8:25 PM
Subject: Re: [R] how do I install add on packages?


> At the shell prompt (i.e. NOT in R), you should be able to type:
>
> R CMD INSTALL RMySQL_0.4-3.tar.gz
>
> and R will try to install the package in the system library directory.  If
> you don't want to (or don't have permission to) install the package in the
> system directory, you can specify a different directory with the -l flag,
> so:
>
> R CMD INSTALL -l ~/myLibs RMySQL_0.4-3.tar.gz
>
> I'm not sure why help.search() only works when yo log on as root....
>
> -roger
> _____________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
>
> On Mon, 12 Nov 2001, Jeff D. Hamann wrote:
>
> > I'm having some trouble installing the add on packages.
> >
> > I would like to install the RMySQL_0.4-3.tar.gz add on package. I've
> > downloaded it and unzipped the package. The INSTALL file says
> >
> > R CMD INSTALL [-l<alternate-dir>] RMySQL_<version>.tar.gz
> > does this mean in the R system enter the following?
> > > INSTALL -l /root/RMySQL_0.4-3.tar.gz    (?)
> > when I do this I get...
> > Error: couldn't find function "INSTALL"
> >
> > so I them typed help.search("install")
> >
> > and got
> >
> > remove.packages(base)
> > update.packages(base)
> > INSTALL(base)
> >
> > what's base? And why is the help.search() working when I log on as root.
It
> > doesn't work when  I log on as a regular user. I'm using FreeBSD 4.4.
> >
> > Jeff.
> >
> >
> >
> >
> > Jeff D. Hamann
> > Hamann, Donald and Associates
> > PO Box 1421
> > Corvallis, Oregon USA 97339-1421
> > Bus. 541-753-7333
> > Cell. 541-740-5988
> > jeff_hamann at hamanndonald.com
> > www.hamanndonald.com
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Tue Nov 13 08:00:14 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 13 Nov 2001 20:00:14 +1300 (NZDT)
Subject: [R] help uses only netscape?
In-Reply-To: <200111130143.fAD1hrd24232@cattell.psych.upenn.edu> from "Jonathan Baron" at Nov 12, 2001 08:43:53 PM
Message-ID: <200111130700.fAD70E912050@biomat1.marc.hort.cri.nz>

According to Jonathan Baron:
|> 
|> >just make a symbolic link. i.e.
|> >
|> >ln -s /usr/local/bin/mozilla /usr/local/bin/netscape
|> >
|> >On Monday, November 12, 2001, at 02:20 , Jeff D. Hamann wrote:
|> >
|> >>> I don't have netscape installed on my machine (FreeBSD 4.4) and when I
|> >> type
|> >>> the command help.start(), I get
|> >>>
|> >>>> netscape: not found
|> >>>
|> >>> error. I do have mozilla installed. Is this a defect? can I run any web
|> >>> browser?
|> >>>
|> >>> jeff.
|> 
|> I set out to take this sensible advice about making a symbolic
|> link, but just to be sure I typed
|> 
|> help.start()

I can use help.start(browser = "opera") to get it to use Opera.
Mozilla also works also.

However, I think Murray's question was what has become of the
alphabetical function list?  We get ~/.R/doc/html/index.html

which seems to be the same as

 $R_HOME/doc/index.html 

which is not what it used to be.

I think the browser part is working very well.  It's just that they
aren't directed to what we'd like them to.

I'd be very interested to know how to get that list again.



-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 13 08:48:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 07:48:19 +0000 (GMT)
Subject: [R] help uses only netscape?
In-Reply-To: <200111130147.OAA29107@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.LNX.4.31.0111130746490.1788-100000@gannet.stats>

On Tue, 13 Nov 2001, Murray Jorgensen wrote:

> Straying a bit from the topic, I used to like the alphabetical list of
> functions that has been replaced by a search engine.
>
> Is there any way to get the alphabetical list of commands in 1.3.1 ?

No.  It wasn't a list of commands anyway, but a list of documented objects
in some (not all) packages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 13 08:51:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 07:51:48 +0000 (GMT)
Subject: [R] help uses only netscape?
In-Reply-To: <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0111130748370.1788-100000@gannet.stats>

On Mon, 12 Nov 2001, Thomas Lumley wrote:

> On Mon, 12 Nov 2001, Jeff D. Hamann wrote:
>
> > > I don't have netscape installed on my machine (FreeBSD 4.4) and when I
> > type
> > > the command help.start(), I get
> > >
> > > > netscape: not found
> > >
> > > error. I do have mozilla installed. Is this a defect? can I run any web
> > > browser?
>
> To paraphrase Henry Ford, you can run any browser as long as it's
> netscape (at the moment).

Not really.  The current ?help.start in R-devel says

     The `browser' needs to work with a `"-remote openURL(...)"' call.
     Then, the hypertext R help interface is opened in any already
     running browser or a new one if necessary.  Browsers that support
     this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
     and Mozilla 0.9.5.

Note that not even `netscape' suffices (and some versions of 4.7 fail
too).

> The difficulty is that R needs to be able to tell the browser to load a
> new page (rather than starting a new instance with that new page) when you
> ask for help on a topic.  Most browsers don't allow this. Apparently
> recent Mozillas do, and it's possible that Konqueror may have a way to do
> this, but we don't really know how.
>
> It does need fixing, at it would be Really Nice if someone were to work
> out how to support more browsers.

(On Unix-like operating systems, that is.)

> If you just want to browse through the help yourself, rather than
> directing help() output to the browser, you can point any browser at
>     $R_HOME/doc/index.html
>
> 	-thomas
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 13 09:13:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 08:13:05 +0000 (GMT)
Subject: [R] is auto-save possible?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC839A@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0111130801410.1788-100000@gannet.stats>

On Mon, 12 Nov 2001, Liaw, Andy wrote:

> Dear R-help,
>
> This is just a wishlist item:  Is it possible at all to make R (optionally)
> automagically do save.image() periodically (e.g., every fixed number of
> commands or >= fixed amount of time)?

It's not possible currently, but it has been mentioned as a possibility.
Ideally one would do it by time, but that needs a concurrent operation.
It would be safest to save only at the top-level prompt (and make more
sense given that the objects are most likely to be complete), but then
there would be no saves during loops.

> The reason I asked is that I frequently run R-1.3.1 inside XEmacs 21.4.5/ESS
> 5.1.19 under WinNT, and had seen Rterm.exe crashed a few times for no
> apparent reason (and not reproducible).  When that happens, I lost all the
> objects created in that R session and had to re-run the script (which could
> be time consuming).  At one time R crashed right in the middle of quitting,
> which corrupted the .Rdata file.  Luckily I had a backup that was fairly
> recent that I didn't loose everything.  (Admittedly, auto-save wouldn't help
> this last problem though.)

That's also on the agenda.  Most word-processors do something like save
the file to another name, then rename the files in a non-interruptible
operation.  The problem there is that one needs double the diskspace,
temporarily, so we would need a means to switch this one or off.

Several things are going on re saves.  There is a new, more compact,
format for 1.4.0, we are planning to allow compression, saving over
connections, ....


For now, I would arrange to call save.image() (or save on the critical
files) at strategic points in the calculation).


As someone said recently on S-news, it is sometimes (often?) Windows that
crashes, not R (or S-PLUS).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Nov 13 09:14:50 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 13 Nov 2001 09:14:50 +0100
Subject: [R] models for polytomous data: "ordered factor response"
In-Reply-To: <Pine.GSO.4.05.10111121652200.6225-100000@virga.rap.ucar.edu>
References: <Pine.GSO.4.05.10111121652200.6225-100000@virga.rap.ucar.edu>
Message-ID: <15344.54906.289567.666645@gargle.gargle.HOWL>

>>>>> "Claudia" == Claudia Tebaldi <tebaldi at rap.ucar.edu> writes:

    Claudia> I have a dataset whose response is a categorical variable of the
    Claudia> ordinal scale type (6 levels).

    Claudia> I'm interested in building classification models, and I'm
    Claudia> wondering if there is something implemented in R (or its packages)
    Claudia> that I'm not aware of, to treat the ordinal scale measurements
    Claudia> straightforwardly. I can think of the alternative of building a
    Claudia> conditional (hierarchical) binomial model by glm() or other binary
    Claudia> classifiers, but besides that I'm kind of at a loss.  (I'm
    Claudia> familiar with classification methods for nominal scales, I haven't
    Claudia> seen much for the ordinal kind).  thanks in advance


> help(polr, package = MASS)

polr                  package:MASS                  R Documentation

Proportional Odds Logistic Regression

Description:

     Fits a proportional odd logistic regression model to an ordered
     factor response.

Usage:

     polr(formula, data=NULL, weights, start, ..., subset, 
          na.action=na.fail, contrasts=NULL, Hess=FALSE)

....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 13 09:31:28 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 2001 09:31:28 +0100
Subject: [R] help uses only netscape?
In-Reply-To: <Pine.LNX.4.31.0111130746490.1788-100000@gannet.stats>
References: <Pine.LNX.4.31.0111130746490.1788-100000@gannet.stats>
Message-ID: <x2wv0vysv3.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Tue, 13 Nov 2001, Murray Jorgensen wrote:
> 
> > Straying a bit from the topic, I used to like the alphabetical list of
> > functions that has been replaced by a search engine.
> >
> > Is there any way to get the alphabetical list of commands in 1.3.1 ?
> 
> No.  It wasn't a list of commands anyway, but a list of documented objects
> in some (not all) packages.

However, it seems to be easily overlooked that a *per-package* (and
this includes the base package) alphabetical listing is available
under "Packages".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 13 09:49:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 2001 09:49:52 +0100
Subject: [R] is auto-save possible?
In-Reply-To: <Pine.LNX.4.31.0111130801410.1788-100000@gannet.stats>
References: <Pine.LNX.4.31.0111130801410.1788-100000@gannet.stats>
Message-ID: <x2snbjys0f.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Mon, 12 Nov 2001, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > This is just a wishlist item:  Is it possible at all to make R (optionally)
> > automagically do save.image() periodically (e.g., every fixed number of
> > commands or >= fixed amount of time)?
> 
> It's not possible currently, but it has been mentioned as a possibility.
> Ideally one would do it by time, but that needs a concurrent operation.
> It would be safest to save only at the top-level prompt (and make more
> sense given that the objects are most likely to be complete), but then
> there would be no saves during loops.

In principle, tkcmd("after",...) from the tcltk package can schedule
timed events, but I'm a little unsure what happens if you put
save.image() inside of it... It might be worth a try, but don't do it
on valuable data! This should save once per minute (although not
during computations):

library(tcltk)
f <- function() {save.image() ; tkcmd("after", 60e3, f)}
f()

(One way of stopping it is to remove f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Tue Nov 13 11:46:28 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Tue, 13 Nov 2001 11:46:28 +0100
Subject: [R] plot and its options
Message-ID: <3BF0FA03.749C41EA@inrialpes.fr>

Hi all,

I have some some difficulties to use plot and its options.
This is what i would like to do.
I want to put three plot in a same window
so i use par(mfrow=c(1,3)) and i obtain three columns for my three
graphics.
But, i would like that the two first take 90% of the window and the last
10%.
Could anyone give me a soultion??
Best regards,
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011113/9c7bc91c/attachment.html

From ripley at stats.ox.ac.uk  Tue Nov 13 12:06:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 11:06:14 +0000 (GMT)
Subject: [R] plot and its options
In-Reply-To: <3BF0FA03.749C41EA@inrialpes.fr>
Message-ID: <Pine.LNX.4.31.0111131104260.2332-100000@gannet.stats>

Use layout() or screen() or par(fig=).  There are examples of the last two
in MASS: layout is R-specific.

On Tue, 13 Nov 2001, Olivier Martin wrote:

> Hi all,
>
> I have some some difficulties to use plot and its options.
> This is what i would like to do.
> I want to put three plot in a same window
> so i use par(mfrow=c(1,3)) and i obtain three columns for my three
> graphics.
> But, i would like that the two first take 90% of the window and the last
> 10%.
> Could anyone give me a soultion??
> Best regards,
> Olivier
>
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN
> PhD student                  phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                   e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 13 12:17:04 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 13 Nov 2001 06:17:04 -0500 (EST)
Subject: [R] plot and its options
In-Reply-To: <3BF0FA03.749C41EA@inrialpes.fr>
Message-ID: <Pine.LNX.4.30.0111130614290.11298-100000@bolker.zoo.ufl.edu>


  ?layout

  Specifically,

  layout(matrix(1:3,nrow=1),widths=c(45,45,10))

  layout.show()

  plot(whatever) ...


On Tue, 13 Nov 2001, Olivier Martin wrote:

> Hi all,
>
> I have some some difficulties to use plot and its options.
> This is what i would like to do.
> I want to put three plot in a same window
> so i use par(mfrow=c(1,3)) and i obtain three columns for my three
> graphics.
> But, i would like that the two first take 90% of the window and the last
> 10%.
> Could anyone give me a soultion??
> Best regards,
> Olivier
>
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN
> PhD student                  phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                   e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Nov 13 12:21:23 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 13 Nov 2001 22:21:23 +1100
Subject: [R] help uses only netscape?
Message-ID: <3BF10233.F7BD5400@ozemail.com.au>

On Mon, 12 Nov 2001, Jeff D. Hamann wrote:

> ... can I run any web browser?

I have used kdehelp and konqueror successfully. Both will load the URL
passed as an argument. There is a description of how to modify
help.start() in "Kickstarting R". The only shortcoming is that the
Java-based search engine will not run.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Nov 13 12:35:06 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 13 Nov 2001 12:35:06 +0100 (MET)
Subject: [R] VEGAN: R functions for vegetation ecologists
Message-ID: <Pine.OSF.3.96.1011113123214.18472C-100000@ija.csic.es>


A colleague has just passed me this interesting
address:

http://cc.oulu.fi/~jarioksa/softhelp/vegan.html

"Vegan: R functions for vegetation ecologists"

"Vegan package is intended to help vegetation ecologists and
other community ecologists to use R. It is not a completely
self-contained package, but it complements other R functions.  
.../...
At this first stage, vegan implements some of the
functionality of Peter Michin's DECODA which is the only
program to perform non-metric multidimensional scaling (NMDS) like
recommended in community ecology (Vegetatio 71, 145-156;
1987). NMDS itself can be run with function isoMDS (library
MASS), but vegan adds some supporting functions "

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Nov 13 11:53:46 2001
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Tue, 13 Nov 2001 11:53:46 +0100 (CET)
Subject: [R] Merging factor levels.
In-Reply-To: <5.1.0.14.2.20011112194648.01d19638@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.33.0111131148270.20963-100000@tal.stat.umu.se>

Thanks to John and Brian, who helped me out on this one. But, one question 
about 'ifelse' and factors remains to be answered:

> table(okk)
okk
     Other   STORKAGE SKELLEFTEA    FALMARK       BOLE 
     14098        560        346        526        332 

> for (i in 1:length(okk)) if(okk[i] == "BOLE") okk[i] <- "Other"
> table(okk)
okk
     Other   STORKAGE SKELLEFTEA    FALMARK       BOLE 
     14430        560        346        526          0 
> is.factor(okk)
[1] TRUE

works. I think of 'ifelse' as a replacement for the loop, so why doesn't
it work here? 

G?ran

On Mon, 12 Nov 2001, John Fox wrote:

> Dear Goran,
> 
> The recode function in the car package does a variety of recodes, including 
> of factors. In your case, you would specify:
> 
>          okk <- recode(okk, " 'NEAR_TOWN' = 'Other' ")
> 
> I hope that you find this useful.
> 
> John
> 
> At 05:05 PM 11/12/2001 +0000, Prof Brian D Ripley wrote:
> >On Mon, 12 Nov 2001, [iso-8859-1] G?ran Brostr?m wrote:
> >
> > > This must be a FAQ, but I can't find the answer:
> > > I have a factor 'okk':
> > >
> > > > table(okk)
> > > okk
> > >      Other   STORKAGE SKELLEFTEA    FALMARK       BOLE  NEAR_TOWN
> > >      14064        560        346        526        332         34
> > >
> > > Now I want to put the cases in 'NEAR_TOWN' into the 'Other' category',
> > > so I try:
> > >
> > > > okk <- ifelse(okk == "NEAR_TOWN", "Other", okk)
> > > > table(okk)
> > > okk
> > >     1     2     3     4     5 Other
> > > 14064   560   346   526   332    34
> > > > is.factor(okk)
> > > [1] FALSE
> > >
> > > This is not what I intended. I can do what I want the hard way (i.e., by
> > > converting  okk  to character an then back again) but there
> > > must be something simpler?
> >
> >Something like
> >
> >levels(okk) <- c(levels(okk)[1:5], "Other")
> >
> >If you set two levels to be the same label, they get merged.
> >
> >--
> >Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861 (self)
> >1 South Parks Road,                     +44 1865 272860 (secr)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Tue Nov 13 13:13:29 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 13 Nov 2001 06:13:29 -0600
Subject: [R] is auto-save possible?
In-Reply-To: <x2snbjys0f.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Tue, Nov 13, 2001 at 09:49:52AM +0100
References: <Pine.LNX.4.31.0111130801410.1788-100000@gannet.stats> <x2snbjys0f.fsf@blueberry.kubism.ku.dk>
Message-ID: <20011113061329.A18701@nokomis.stat.umn.edu>

On Tue, Nov 13, 2001 at 09:49:52AM +0100, Peter Dalgaard BSA wrote:
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > On Mon, 12 Nov 2001, Liaw, Andy wrote:
> > 
> > > Dear R-help,
> > >
> > > This is just a wishlist item:  Is it possible at all to make R (optionally)
> > > automagically do save.image() periodically (e.g., every fixed number of
> > > commands or >= fixed amount of time)?
> > 
> > It's not possible currently, but it has been mentioned as a possibility.
> > Ideally one would do it by time, but that needs a concurrent operation.
> > It would be safest to save only at the top-level prompt (and make more
> > sense given that the objects are most likely to be complete), but then
> > there would be no saves during loops.
> 
> In principle, tkcmd("after",...) from the tcltk package can schedule
> timed events, but I'm a little unsure what happens if you put
> save.image() inside of it... It might be worth a try, but don't do it
> on valuable data! This should save once per minute (although not
> during computations):

On Windows I think you get it during computations too, for better or
worse, given the way event handling works there.

> 
> library(tcltk)
> f <- function() {save.image() ; tkcmd("after", 60e3, f)}
> f()
> 
> (One way of stopping it is to remove f)

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 13 13:32:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 2001 13:32:37 +0100
Subject: [R] is auto-save possible?
In-Reply-To: <20011113061329.A18701@nokomis.stat.umn.edu>
References: <Pine.LNX.4.31.0111130801410.1788-100000@gannet.stats>
	<x2snbjys0f.fsf@blueberry.kubism.ku.dk>
	<20011113061329.A18701@nokomis.stat.umn.edu>
Message-ID: <x2lmhakg0q.fsf@blueberry.kubism.ku.dk>

Luke Tierney <luke at nokomis.stat.umn.edu> writes:

> > In principle, tkcmd("after",...) from the tcltk package can schedule
> > timed events, but I'm a little unsure what happens if you put
> > save.image() inside of it... It might be worth a try, but don't do it
> > on valuable data! This should save once per minute (although not
> > during computations):
> 
> On Windows I think you get it during computations too, for better or
> worse, given the way event handling works there.

Yes. Not during internal (e.g. .C) computation, though. I don't think
you'd get much of a problem from it, though. It should be the same as
calling save.image() inside a function, i.e. you might get to save a
bunch of current invocation environments which will be useless when
the workspace is reloaded.

(The Windows Tcl/Tk has another slight problem in that it allows
events to be handled between calls to .Tcl within the same function.
This breaks some constructs that work on Unix, but it can be worked
around.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 13 13:52:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 2001 13:52:04 +0100
Subject: [R] Merging factor levels.
In-Reply-To: <Pine.LNX.4.33.0111131148270.20963-100000@tal.stat.umu.se>
References: <Pine.LNX.4.33.0111131148270.20963-100000@tal.stat.umu.se>
Message-ID: <x2herykf4b.fsf@blueberry.kubism.ku.dk>

G?ran Brostr?m <gb at stat.umu.se> writes:

> Thanks to John and Brian, who helped me out on this one. But, one question 
> about 'ifelse' and factors remains to be answered:
> 
> > table(okk)
> okk
>      Other   STORKAGE SKELLEFTEA    FALMARK       BOLE 
>      14098        560        346        526        332 
> 
> > for (i in 1:length(okk)) if(okk[i] == "BOLE") okk[i] <- "Other"
> > table(okk)
> okk
>      Other   STORKAGE SKELLEFTEA    FALMARK       BOLE 
>      14430        560        346        526          0 
> > is.factor(okk)
> [1] TRUE
> 
> works. I think of 'ifelse' as a replacement for the loop, so why doesn't
> it work here? 
...
> > > > > okk <- ifelse(okk == "NEAR_TOWN", "Other", okk)
> > > > > table(okk)
> > > > okk
> > > >     1     2     3     4     5 Other
> > > > 14064   560   346   526   332    34
> > > > > is.factor(okk)
> > > > [1] FALSE

This is a quirk of ifelse (and an S-PLUS compatible quirk): factor
arguments are converted to integer. Even in this case:

 x <- factor(LETTERS)
 ifelse(rep(TRUE,26),x,x)

If there is a logic to this, then it would probably be that ifelse()
can't know whether to take attributes from the "if" or the "else"
parts, so it deletes attributes from both.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Nov 13 15:43:05 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Nov 2001 09:43:05 -0500
Subject: [R] help uses only netscape?
References: <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
Message-ID: <3BF13179.67992362@bank-banque-canada.ca>

      Thomas Lumley wrote:
>The difficulty is that R needs to be able to tell the browser to load
>a new page (rather than starting a new instance with that new page)

Why does R not start a new instance? Then one could more easily look at the help
for two things at the same time.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hamannj at hamanndonald.com  Tue Nov 13 17:42:52 2001
From: hamannj at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 13 Nov 2001 08:42:52 -0800 (PST)
Subject: [R] help uses only netscape?
In-Reply-To: <200111130700.fAD70E912050@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.33.0111130839470.6904-100000@stimpy.hamanndonald.com>


well help.start( browser = "mozilla" ) started the browser, but I get the 
mozilla web page, not the R index.html page. Can I use help.start( 
browser="mozilla", page="$R_HOME/doc/index.html" )?

Thanks,
Jeff


 On Tue, 13 Nov 2001, 
Patrick Connolly wrote:

> According to Jonathan Baron:
> |> 
> |> >just make a symbolic link. i.e.
> |> >
> |> >ln -s /usr/local/bin/mozilla /usr/local/bin/netscape
> |> >
> |> >On Monday, November 12, 2001, at 02:20 , Jeff D. Hamann wrote:
> |> >
> |> >>> I don't have netscape installed on my machine (FreeBSD 4.4) and when I
> |> >> type
> |> >>> the command help.start(), I get
> |> >>>
> |> >>>> netscape: not found
> |> >>>
> |> >>> error. I do have mozilla installed. Is this a defect? can I run any web
> |> >>> browser?
> |> >>>
> |> >>> jeff.
> |> 
> |> I set out to take this sensible advice about making a symbolic
> |> link, but just to be sure I typed
> |> 
> |> help.start()
> 
> I can use help.start(browser = "opera") to get it to use Opera.
> Mozilla also works also.
> 
> However, I think Murray's question was what has become of the
> alphabetical function list?  We get ~/.R/doc/html/index.html
> 
> which seems to be the same as
> 
>  $R_HOME/doc/index.html 
> 
> which is not what it used to be.
> 
> I think the browser part is working very well.  It's just that they
> aren't directed to what we'd like them to.
> 
> I'd be very interested to know how to get that list again.
> 
> 
> 
> 

-- 

Jeff D. Hamann
Hamann, Donald and Associates
PO Box 1421
Corvallis, Oregon USA 97339-1421
bus. 541-753-7333
cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 13 16:53:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 15:53:45 +0000 (GMT)
Subject: [R] help uses only netscape?
In-Reply-To: <3BF13179.67992362@bank-banque-canada.ca>
Message-ID: <Pine.LNX.4.31.0111131550420.2930-100000@gannet.stats>

On Tue, 13 Nov 2001, Paul Gilbert wrote:

>       Thomas Lumley wrote:
> >The difficulty is that R needs to be able to tell the browser to load
> >a new page (rather than starting a new instance with that new page)
>
> Why does R not start a new instance? Then one could more easily look at the help
> for two things at the same time.

Modern browsers have a 25Mb or more footprint.  You really don't want too
many of those in memory at once.  Starting a new window is more reasonable
(and could be made an option, I think, for some browsers).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 13 17:24:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 2001 17:24:23 +0100
Subject: [R] help uses only netscape?
In-Reply-To: <Pine.LNX.4.31.0111131550420.2930-100000@gannet.stats>
References: <Pine.LNX.4.31.0111131550420.2930-100000@gannet.stats>
Message-ID: <x2zo5qiqq0.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Tue, 13 Nov 2001, Paul Gilbert wrote:
> 
> >       Thomas Lumley wrote:
> > >The difficulty is that R needs to be able to tell the browser to load
> > >a new page (rather than starting a new instance with that new page)
> >
> > Why does R not start a new instance? Then one could more easily look at the help
> > for two things at the same time.
> 
> Modern browsers have a 25Mb or more footprint.  You really don't want too
> many of those in memory at once.  Starting a new window is more reasonable
> (and could be made an option, I think, for some browsers).

But that is already built into some of them:

Try (NS 4.7x)

netscape fee.fie.foo &
netscape foo.bar.baz &

then press Alt-Q in either and both will die. 

Mozilla 0.7 seems effectively to have -remote as the default.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mealonso at cirsa.com  Tue Nov 13 17:32:33 2001
From: mealonso at cirsa.com (Miguel Angel Merino Alonso)
Date: Tue, 13 Nov 2001 17:32:33 +0100
Subject: [R] plotting text tables
Message-ID: <01294F3FC12BD41183BD00D0B7176A1D62118A@srvexch>

Could anyone provide me a function to plot text tables (formatted)
in a graphical device (ie postcript) ???

Thanks in advance

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Nov 13 17:30:55 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Nov 2001 11:30:55 -0500
Subject: [R] help uses only netscape?
References: <Pine.LNX.4.31.0111131550420.2930-100000@gannet.stats>
Message-ID: <3BF14ABF.5946CCA6@bank-banque-canada.ca>

>> >The difficulty is that R needs to be able to tell the browser to load
>> >a new page (rather than starting a new instance with that new page)
>
>> Why does R not start a new instance? Then one could more easily
>>look at the help for two things at the same time.

>Modern browsers have a 25Mb or more footprint.  You really don't want too
>many of those in memory at once.  Starting a new window is more reasonable
>(and could be made an option, I think, for some browsers).

Yes, "new window" is what I mistakenly understood by "new instance. " I would
not want to start a completely new copy, but web pages these days are always
starting new windows. There  does not seem to be too much overhead for a new
window, but I guess that would not solve the original problem if  "new instance"
means a new 25Mb footprint.

Thanks,
Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Nov 13 17:55:10 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 13 Nov 2001 17:55:10 +0100 (MET)
Subject: [R] Selecting transitive couples
Message-ID: <Pine.OSF.3.96.1011113175336.18472K-100000@ija.csic.es>


Dear list,

I'm trying to improve the following process:

Let pairs be a 2 col matrix of integers such as:

2 5
3 6
4 56
5 2
6 8
7 56
8 6
etc.

My goal is to select the transitive pairs, i.e., in
the above example:

2 5 (because there is 5 2 as well)
6 8 (because there is 8 6 as well)

The task is simple with a for loop, but
can anybody suggest a "genuine R" solution?
(That is, a vectorised operation).

Note that, in practice, matrix pairs
can have ~60000 rows.

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Nov 13 18:20:12 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 13 Nov 2001 12:20:12 -0500 (EST)
Subject: [R] plotting text tables
Message-ID: <200111131720.fADHKC801367@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Tue Nov 13 12:07:32 2001
>Could anyone provide me a function to plot text tables (formatted)
>in a graphical device (ie postcript) ???

If you mean you want to print the table, the xtable package in
CRAN will make very nice LaTeX output of a table.  Then use LaTeX
to convert that to PostScript (through dvi - although dvi itself
may be useful as a substitute a Power-Point-type presentation,
using xdvi full screen).

If you mean that you want a graph of the contents of the table,
just try plot(table(...)), or perhaps plot.table().  I was amazed
to see what happened when I did this.  It is a truly clever idea,
and I had never seen it before.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Nov 13 19:33:49 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 13 Nov 2001 13:33:49 -0500
Subject: [R] Selecting transitive couples
In-Reply-To: <Pine.OSF.3.96.1011113175336.18472K-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011113175336.18472K-100000@ija.csic.es>
Message-ID: <1jo2vtca8r649lk3iff8erflc9hpir7jbq@4ax.com>

On Tue, 13 Nov 2001 17:55:10 +0100 (MET), you wrote in message
<Pine.OSF.3.96.1011113175336.18472K-100000 at ija.csic.es>:

>My goal is to select the transitive pairs, i.e., in
>the above example:
>
>2 5 (because there is 5 2 as well)
>6 8 (because there is 8 6 as well)
>
>The task is simple with a for loop, but
>can anybody suggest a "genuine R" solution?
>(That is, a vectorised operation).

This isn't as fast as it could be (it sorts the data twice), and might
not give the results in the format you like, but it should provide a
starting point:

transitive <- function(pairs)
{  both <- rbind(cbind(0,pairs), 
                 cbind(1,pairs[,2],pairs[,1]))
   both <- paste(both[,1],both[,2],both[,3])
   both <- unique(both)
   both <- substring(both,first=3)
   both[duplicated(both)]
}

It works by sticking together the original data with a transposed
copy, then looking for duplicates. ( The 0's and 1's, the unique()
call in the middle, and the substring extraction are only necessary if
you haven't already assured that each pair is unique.)  It works with
strings, so if you've got real values that might be displayed
identically even when not identical, it won't work.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Anders.Loland at nr.no  Tue Nov 13 19:37:50 2001
From: Anders.Loland at nr.no (=?iso-8859-1?Q?Anders_L=F8land?=)
Date: Tue, 13 Nov 2001 19:37:50 +0100 (MET)
Subject: [R] nlme and large data sets
Message-ID: <Pine.GSO.4.30.0111131929070.16920-100000@naos.nr.no>

I have model
Y=mu+A+B+C+D+E+F+G+H+5 interactions,
that is 8 main effects and 5 interactions, all considered to be random
effects (except for th mu).

I will have about 300000 observed y-s. My question to you is if this is
possible to do with nlme and R? If not, what is the approximate upper
limit?

Thanks in advance!

-- 
 Anders L?land      Norsk Regnesentral
 Tel. 22 85 26 64   http://www.nr.no/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rggefrm at ucl.ac.uk  Tue Nov 13 19:47:06 2001
From: rggefrm at ucl.ac.uk (rggefrm)
Date: Tue, 13 Nov 2001 18:47:06 +0000
Subject: [R] help with compiling R under hpux 10.20
Message-ID: <3.0.6.32.20011113184706.00d06c50@pop-server.ucl.ac.uk>

Dear R users,

I tried to compile R under hpux 10.20 and have sveral problems. R-1.3.1
stopped
 making strdup.d from strdup.c
> >>         gcc -I. -I../../src/include -I../../src/include
> >> -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c CConverters.c -o
> >> CConverters.o
> >>         gcc -I. -I../../src/include -I../../src/include
> >> -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
> >> Rdynload.c: In function `R_FindSymbol':
> >> Rdynload.c:781: `CFunTab' undeclared (first use in this function)
> >> Rdynload.c:781: (Each undeclared identifier is reported only once
> >> Rdynload.c:781: for each function it appears in.)
> >> *** Error exit code 

I heard from Luke Tierney that this is a known problem. I tried to compile 
R-1.2.3. Compiling went through without error however 

make check 

produced:
virol-s1 64: make check
running code in base-Ex.R ...
        ../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
*** Error exit code 2

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.
*** Error exit code 1

Stop.
.
Nevertheless I did 

make install

and started R with:

/usr/local/lib/R/bin/R

which produces the following error:

virol-s1 65: /usr/local/lib/R/bin/R
Fatal error: The X11 shared library could not be loaded.
  The error was can't open /usr/local/lib/R/bin/R_X11.sl

However the library excists in /usr/lib/R/bin

My question now. Has anyone been able to compile R under hp-ux 10.20,
and if yes which version was this.

I appreciate any thoughts

Framk Mattes
Department of Virology
Royal Free Hospital
London

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Tue Nov 13 20:55:57 2001
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Tue, 13 Nov 2001 11:55:57 -0800 (PST)
Subject: [R] rarefaction variance
Message-ID: <Pine.LNX.4.10.10111131048450.27691-100000@babylon.cnrs.humboldt.edu>

Here's a question for ecologists on the r-help list-- I'm addressing this
to ecologists in particular because they're most likely to be familiar
with the equation in question but I'll be happy to discuss the problem
with anyone who's willing to take a whack at it.

I'm trying to write a function to calculate the large sample variance of
species richness estimates by rarefaction using the Heck et al (1975)
equation.  I won't try to reproduce the equation here because it's complex
and I don't know how to render it readibly in ASCII characters, but if
anyone wishes a faxed copy I'll gladly provide one.  If you have Krebs
_Ecological_Methodology_ it's on page 415 of the second edition.  It's on
page 27 of Gotelli and Graves _Null_Models_in_Ecology_, and in lots of
other references as well.

The problem is not the calculations of binary coefficients
(combinatorials) per se-- I use lgamma(x+1) to do it with logs of
factorials-- but rather the 1-(quotient of combinatorials) term in the
first summation which forces me to exp() the log terms before the
calculation is complete.  This invariably causes an overflow (Inf) with
all but the most unrealistically small data sets.

So, my questions are: 1) has anyone written an R function to calculate
this variance and would they be willing to share it, and 2) failing #1, is
anyone familiar with this equation willing to take a whack at helping me
write such a function?  As I said, I'll be happy to fax a copy of the
equation to anyone who does not have it handy but who wants to help solve
this problem.

Thanks in advance!

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Tue Nov 13 21:30:21 2001
From: sway at tanox.com (Shawn Way)
Date: Tue, 13 Nov 2001 14:30:21 -0600
Subject: [R] RODBC
Message-ID: <0565F48FC373D411BE4D00B0D049602628E624@nt40hou1.tanox.com>

I'm tryuing to get the RODBC package to work with a MS Sql database
(Wonderware's InSQL).  I'm able to connect to the database using the
following:

version
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      29                          
language R                           
> library(RODBC)
library(RODBC)

> channel <- odbcConnect("SCADA2","ways1","LO&B*O",case="msaccess")
> channel
channel
[1] 0

And an abreviated table list is:

...
25    Runtime                dbo                   AnalogHistory
TABLE
...

When I try to query the table, I get:

> test <- sqlQuery(channel,"select datetime, value from analoghistory where
tagname = 'a055-re-0020_ph_pv_flt' and datetime >= 'nov 1, 2001 2:00pm'")

> test
test
[1] "37000 201 [Microsoft][ODBC SQL Server Driver][SQL Server]Procedure
'sp_prepare' expects parameter '@stmt', which was not supplied."
[2] "[RODBC]ERROR: Could not SQLPrepare"                           

Any thoughts?                                                    

Shawn Way
Tanox, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011113/74d57dd0/attachment.html

From pem at theriver.com  Tue Nov 13 22:32:03 2001
From: pem at theriver.com (Patrick E. McKnight)
Date: Tue, 13 Nov 2001 21:32:03 -0000
Subject: [R] reading in data contingent upon a character at col 1
Message-ID: <20011113213203.6936E7C55@galileo.mcknightconsulting.com>

Greetings,

I have a text file that is output from a statistics package that I would like 
to read into R.  Since I have several hundred of these output files I would 
prefer not to edit them manually.  The problem is that it has a ";" (without 
the quotes) as the first character for some lines - lines that I do not 
necessarily want to read in.  Use of tr, sed, awk or any other unix command 
line utilities would not be suitable for this application.   

A sample of the file looks like this:

; Title of the run
; some other information
; subject var1 var2 var3 var4
   000001   23   34   12   23
;  000002   00   00   00   00
   000003   15   18   30   29
;  000004   00   00   00   00
   000005   00   12   34   56

Essentially the commented out lines with the ";" characters were not 
estimated in the analysis so I do not want them to be read into the data 
frame.  Is there a way to skip the line if it contains a ";" in column 1?  If 
so, how might I accomplish this feat?  Thanks in advance for your help.

-- 
Cheers,

Patrick


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Tue Nov 13 23:34:07 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 14 Nov 2001 11:34:07 +1300 (NZDT)
Subject: [R] help uses only netscape?
In-Reply-To: <x2zo5qiqq0.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Nov 13, 2001 05:24:23 PM
Message-ID: <200111132234.fADMY7612834@biomat1.marc.hort.cri.nz>

According to Peter Dalgaard BSA:
|> 
|> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
|> 
|> > On Tue, 13 Nov 2001, Paul Gilbert wrote:
|> > 
|> > >       Thomas Lumley wrote:
|> > > >The difficulty is that R needs to be able to tell the browser to load
|> > > >a new page (rather than starting a new instance with that new page)
|> > >
|> > > Why does R not start a new instance? Then one could more easily look at the help
|> > > for two things at the same time.
|> > 
|> > Modern browsers have a 25Mb or more footprint.  You really don't want too
|> > many of those in memory at once.  Starting a new window is more reasonable
|> > (and could be made an option, I think, for some browsers).
|> 
|> But that is already built into some of them:
|> 
|> Try (NS 4.7x)
|> 
|> netscape fee.fie.foo &
|> netscape foo.bar.baz &
|> 
|> then press Alt-Q in either and both will die. 
|> 
|> Mozilla 0.7 seems effectively to have -remote as the default.

Mozilla has changed quite a lot since 0.7.  With 0.9.5, there is a
small problem in that if Mozilla isn't running, 

	help.start(browser = "mozilla")

will begin Mozilla, but not open the URL.  However, simply running it
again will get what it should.

Opera 5 manages to find it in one go, but the Java search won't work
in either.

Closing R will close the browser if it wasn't running before
help.start() was run.  That appears appropriate.

best

-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 13 22:44:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 21:44:41 +0000 (GMT)
Subject: [R] reading in data contingent upon a character at col 1
In-Reply-To: <20011113213203.6936E7C55@galileo.mcknightconsulting.com>
Message-ID: <Pine.LNX.4.31.0111132141580.3528-100000@gannet.stats>

On Tue, 13 Nov 2001, Patrick E. McKnight wrote:

> Greetings,
>
> I have a text file that is output from a statistics package that I would like
> to read into R.  Since I have several hundred of these output files I would
> prefer not to edit them manually.  The problem is that it has a ";" (without
> the quotes) as the first character for some lines - lines that I do not
> necessarily want to read in.  Use of tr, sed, awk or any other unix command
> line utilities would not be suitable for this application.
>
> A sample of the file looks like this:
>
> ; Title of the run
> ; some other information
> ; subject var1 var2 var3 var4
>    000001   23   34   12   23
> ;  000002   00   00   00   00
>    000003   15   18   30   29
> ;  000004   00   00   00   00
>    000005   00   12   34   56
>
> Essentially the commented out lines with the ";" characters were not
> estimated in the analysis so I do not want them to be read into the data
> frame.  Is there a way to skip the line if it contains a ";" in column 1?  If
> so, how might I accomplish this feat?  Thanks in advance for your help.

We've anticipated your request!  Take a look at ?read.table in R-devel.
That has a `comment.char' argument.  Just one warning: by default R-devel
saves in a different format from 1.3.1, so if you want to transfer a
workspace back, check the options on save.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Tue Nov 13 23:28:15 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Tue, 13 Nov 2001 14:28:15 -0800 (PST)
Subject: [R] reading in data contingent upon a character at col 1
In-Reply-To: <20011113213203.6936E7C55@galileo.mcknightconsulting.com>
Message-ID: <Pine.LNX.4.04.10111131423330.7589-100000@xyzzy.dsl.speakeasy.net>

On Tue, 13 Nov 2001, Patrick E. McKnight wrote:
> necessarily want to read in.  Use of tr, sed, awk or any other unix command 
> line utilities would not be suitable for this application.   

If you could use awk, it would work just fine for this.  Tell R
to open a pipe..

scan( pipe("awk '!/^;/' filename") )


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Wed Nov 14 00:50:06 2001
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Wed, 14 Nov 2001 10:50:06 +1100
Subject: [R] Floating windows in TCLTK
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A7F98@anaconda>

Dear anybody dealing with TCLTK on R

I'm trying, without any success, to get a simple TCLTK window to remain
floating on top of the RGui and RConsol windows when the later have focus. I
cannot find reference in the TCKTK documentation and fear that I'm missing
something quite fundamental. 

My objective is to make a simple button populated menu to invoke R
functions. I wish the TCLTK menu to remain on top so that I can manually
invoke a sequence of functions without restarting the TCLTK menu after each
invocation. Some of the R functions used have screen interactions in the
form of locator() and identify()

Any tips or abbreviated code snippets would be very much appreciated.

I'm running R in Windows 2000

Simon Gatehouse
CSIRO Division of Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW 2113
Australia 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Nov 14 09:23:45 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 14 Nov 2001 09:23:45 +0100
Subject: [R] plotting text tables
Message-ID: <3.0.32.20011114092344.00917910@162.38.183.200>

At 17:32 13/11/01 +0100, Miguel Angel Merino Alonso wrote:
>Could anyone provide me a function to plot text tables (formatted)
>in a graphical device (ie postcript) ???
>
>Thanks in advance
>
>Michael

I am not sure there is a function designed to do that. You can play with
plot(..., type="n"), and text(), e.g.:


# generate a table of Poisson counts
table(rpois(100,5)) -> tt
n <- length(tt)
# the following plot() command gives a blank device but sets the axes
# you may adjust the ylim option for your precise need
plot(1:n, type="n", xaxt="n", yaxt="n", xlab="", ylab="", ylim=c(1, 2),
bty="n")
# here also you may adjust the "1.5", "1.3", and "1.4" for your data
text(1:n, rep(1.5, n), dimnames(tt)[[1]])
text(1:n, rep(1.3, n), as.character(tt))
abline(h=1.4)


Hope this helps.

Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 14 11:29:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 11:29:00 +0100
Subject: [R] Floating windows in TCLTK
In-Reply-To: <0504018E9DCAD1119FE900A0C9A39AF8050A7F98@anaconda>
References: <0504018E9DCAD1119FE900A0C9A39AF8050A7F98@anaconda>
Message-ID: <x2bsi5ejdf.fsf@blueberry.kubism.ku.dk>

Simon.Gatehouse at csiro.au writes:

> Dear anybody dealing with TCLTK on R
> 
> I'm trying, without any success, to get a simple TCLTK window to remain
> floating on top of the RGui and RConsol windows when the later have focus. I
> cannot find reference in the TCKTK documentation and fear that I'm missing
> something quite fundamental. 
> 
> My objective is to make a simple button populated menu to invoke R
> functions. I wish the TCLTK menu to remain on top so that I can manually
> invoke a sequence of functions without restarting the TCLTK menu after each
> invocation. Some of the R functions used have screen interactions in the
> form of locator() and identify()
> 
> Any tips or abbreviated code snippets would be very much appreciated.
> 
> I'm running R in Windows 2000

This kind of thing is notoriously difficult to do on Windows. The
focused application wants pretty badly to be on top. However, a
toplevel Tk window generates an entry in the -whatsitsname- bar at the
bottom of the screen, so it seems that it would be fairly easy to get
your buttons back on top.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov 14 11:47:34 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 14 Nov 2001 05:47:34 -0500 (EST)
Subject: [R] rarefaction variance
In-Reply-To: <Pine.LNX.4.10.10111131048450.27691-100000@babylon.cnrs.humboldt.edu>
Message-ID: <Pine.LNX.4.30.0111140545470.11992-100000@bolker.zoo.ufl.edu>


 This isn't a direct answer to your question, but

http://www.uga.edu/~strata/software/AnRareReadme.html

documents a program by Steven Holland, and says:

The program uses the rarefaction equations for E given by Hurlbert (1971)
and for Var given by Heck et al. (1975). These are the same equations used
by Raup (1975) and Tipper (1979). In particular, this program uses the
formulation of Tipper (1979), as his equations (1) and (2) are easy to
program and avoid the overflow errors associated with the large
combinatorials.

The Tipper reference is:

Tipper, J.C., 1979. Rarefaction and rarefiction - the use and abuse of a
method in paleontology. Paleobiology 5: 423-434.

  Sounds like this might help fix your problem.

  Ben Bolker


On Tue, 13 Nov 2001, Michael Camann wrote:

> Here's a question for ecologists on the r-help list-- I'm addressing this
> to ecologists in particular because they're most likely to be familiar
> with the equation in question but I'll be happy to discuss the problem
> with anyone who's willing to take a whack at it.
>
> I'm trying to write a function to calculate the large sample variance of
> species richness estimates by rarefaction using the Heck et al (1975)
> equation.  I won't try to reproduce the equation here because it's complex
> and I don't know how to render it readibly in ASCII characters, but if
> anyone wishes a faxed copy I'll gladly provide one.  If you have Krebs
> _Ecological_Methodology_ it's on page 415 of the second edition.  It's on
> page 27 of Gotelli and Graves _Null_Models_in_Ecology_, and in lots of
> other references as well.
>
> The problem is not the calculations of binary coefficients
> (combinatorials) per se-- I use lgamma(x+1) to do it with logs of
> factorials-- but rather the 1-(quotient of combinatorials) term in the
> first summation which forces me to exp() the log terms before the
> calculation is complete.  This invariably causes an overflow (Inf) with
> all but the most unrealistically small data sets.
>
> So, my questions are: 1) has anyone written an R function to calculate
> this variance and would they be willing to share it, and 2) failing #1, is
> anyone familiar with this equation willing to take a whack at helping me
> write such a function?  As I said, I'll be happy to fax a copy of the
> equation to anyone who does not have it handy but who wants to help solve
> this problem.
>
> Thanks in advance!
>
> --Mike C.
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Michael A. Camann                                  Voice: 707-826-3676
> Associate Professor of Zoology                       Fax: 707-826-3201
> Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
> Department of Biology                            ifcr at axe.humboldt.edu
> Humboldt State University
> Arcata, CA 95521
>
>                  URL:http://www.humboldt.edu/~mac24/
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmiddleton at fisheries.gov.fk  Wed Nov 14 11:37:00 2001
From: dmiddleton at fisheries.gov.fk (David Middleton)
Date: Wed, 14 Nov 2001 08:37:00 -0200
Subject: [R] Floating windows in TCLTK
Message-ID: <698C02D452EDD411A42300A0C982E91E0839D6@MAIL>

Simon.Gatehouse at csiro.au wrote:

> I'm trying, without any success, to get a simple TCLTK window to remain
> floating on top of the RGui and RConsol windows when the later have focus.

...
> I'm running R in Windows 2000

I suspect that this is a windows issue rather than anything specific to
Tk/Tcl in R.  Under windows NT, and presumably win 2000, you can download a
utility from microsoft called TweakUI which allows you to change the
behaviour of windows.  If you choose to have the focus following the mouse,
and no raising of windows with the focus, you should get the behaviour you
want.

David

Dr David A. J. Middleton, Stock Assessment Scientist
Fisheries Department, Falkland Islands Government
Stanley, Falkland Islands
Tel: +500 27260  Fax +500 27265  Email: dmiddleton at fisheries.gov.fk
Web: http://www.falklandislands.com/business/fisheries.htm

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 14 14:00:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 Nov 2001 13:00:37 +0000 (GMT)
Subject: [R] Floating windows in TCLTK
In-Reply-To: <698C02D452EDD411A42300A0C982E91E0839D6@MAIL>
Message-ID: <Pine.LNX.4.31.0111141257080.11707-100000@gannet.stats>

On Wed, 14 Nov 2001, David Middleton wrote:

> Simon.Gatehouse at csiro.au wrote:
>
> > I'm trying, without any success, to get a simple TCLTK window to remain
> > floating on top of the RGui and RConsol windows when the later have focus.
>
> ...
> > I'm running R in Windows 2000
>
> I suspect that this is a windows issue rather than anything specific to
> Tk/Tcl in R.  Under windows NT, and presumably win 2000, you can download a
> utility from microsoft called TweakUI which allows you to change the
> behaviour of windows.  If you choose to have the focus following the mouse,
> and no raising of windows with the focus, you should get the behaviour you
> want.

Unfortunately not (I use TweakUI to have focus following the mouse: it
doesn't raise focussed windows for me).  This works perfectly with
multiple R windows in --sdi mode, *except* with package tcltk.
It seems Tcl/Tk on Windows uses some hidden windows to manage its event
queue, with the result that all visible windows lose focus, and you have
to click on one of them.  So I think it is a Tcl/Tk issue.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 14 14:26:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 14:26:03 +0100
Subject: [R] Floating windows in TCLTK
In-Reply-To: <Pine.LNX.4.31.0111141257080.11707-100000@gannet.stats>
References: <Pine.LNX.4.31.0111141257080.11707-100000@gannet.stats>
Message-ID: <x23d3heb6c.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > I suspect that this is a windows issue rather than anything specific to
> > Tk/Tcl in R.  Under windows NT, and presumably win 2000, you can download a
> > utility from microsoft called TweakUI which allows you to change the
> > behaviour of windows.  If you choose to have the focus following the mouse,
> > and no raising of windows with the focus, you should get the behaviour you
> > want.
> 
> Unfortunately not (I use TweakUI to have focus following the mouse: it
> doesn't raise focussed windows for me).  This works perfectly with
> multiple R windows in --sdi mode, *except* with package tcltk.
> It seems Tcl/Tk on Windows uses some hidden windows to manage its event
> queue, with the result that all visible windows lose focus, and you have
> to click on one of them.  So I think it is a Tcl/Tk issue.

Just a hunch: There's one window that we hide ourselves (because
quitting it kills the Tcl interpreter), namely the "." (root) window.
What happens if you do a .Tcl("wm deiconify .") ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Wed Nov 14 15:20:25 2001
From: sway at tanox.com (Shawn Way)
Date: Wed, 14 Nov 2001 08:20:25 -0600
Subject: [R] RODBC
Message-ID: <0565F48FC373D411BE4D00B0D049602628E62A@nt40hou1.tanox.com>


I'm trying to get the RODBC package to work with a MS Sql database
(Wonderware's InSQL).  I'm able to connect to the database using the
following:

version
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      29                          
language R                           
> library(RODBC)
library(RODBC)

> channel <- odbcConnect("SCADA2","ways1","LO&B*O",case="msaccess")
> channel
channel
[1] 0

And an abbreviated table list is:

...
25    Runtime                dbo                   AnalogHistory
TABLE
...

A abbreviated Column List is as follows:

> odbcColumns(channel,"AnalogHistory")
odbcColumns(channel,"AnalogHistory")
[1] 1
> sqlGetResults(channel)
sqlGetResults(channel)

  TABLE_CAT TABLE_SCHEM    TABLE_NAME   COLUMN_NAME DATA_TYPE TYPE_NAME
1   Runtime         dbo AnalogHistory      DateTime        11  datetime
2   Runtime         dbo AnalogHistory       TagName        12   varchar
3   Runtime         dbo AnalogHistory         Value         6     float
4   Runtime         dbo AnalogHistory       Quality        -6   tinyint
5   Runtime         dbo AnalogHistory QualityDetail         4       int
6   Runtime         dbo AnalogHistory      wwTagKey         4       int

...

When I try to query the table, I get:

> test <- sqlQuery(channel,"select DateTime, value from AnalogHistory 
> where Tagname = 'a055-re-0020_ph_pv_flt' and DateTime >= 'nov 1, 2001 
> 2:00pm'")

> test
test
[1] "37000 201 [Microsoft][ODBC SQL Server Driver][SQL Server]Procedure
'sp_prepare' expects parameter '@stmt', which was not supplied."
[2] "[RODBC]ERROR: Could not SQLPrepare"                           

Any thoughts?                                                    

Shawn Way
Tanox, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011114/f60a921a/attachment.html

From a215020 at agate.fmr.com  Wed Nov 14 16:30:20 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Wed, 14 Nov 2001 10:30:20 -0500 (EST)
Subject: [R] how do I install add on packages?
Message-ID: <200111141530.fAEFUKo09949@arbres1a.FMR.Com>

The result of help.search("install") is:
   remove.packages(base)
   update.packages(base)
   INSTALL(base)

Jeff D. Hamann <jeff_hamann at hamanndonald.com> wrote:
> what's base?

In each case, the function was found in the package called "base".  If you type
   R> search()
   R> ls("package:base")
you'll see "base" is last on your search path, and it contains all the core R
functions.

One cool thing about help.search() is that it searches all packages in your
library, even ones that aren't attached, so the name in parentheses may be
critical to finding the function.  Example:
  R> help.search("predict.nlme")
     ...
     predict.nlme(nlme)     Predictions from an nlme Object
  R> find("predict.nlme")
     character(0)
  R> require(nlme)
     ...
  R> find("predict.nlme")
    [1] "package:nlme"

				-- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.van.de.kraats at kabelfoon.nl  Wed Nov 14 16:41:00 2001
From: jan.van.de.kraats at kabelfoon.nl (J A van de Kraats)
Date: Wed, 14 Nov 2001 16:41:00 +0100
Subject: [R] European Water Management News
Message-ID: <595922-220011131415410910@kabelfoon.nl>

Dear Colleague,
 
Our journal, European Water Management, the official journal of the European Water Association (EWA), has started a free e-mail news service.

If you subscribe, you get weekly a mail with press releases, etc. concerning water (management, research, policy, industry, etc.).

It is completely free for all people working in the water sector in its broadest sense.

Older issues of the news are available at www.riza.nl (click on European Water Management News). You can visit this site to get an idea what you will get and if this is useful for you. You can subscribe via this site, but you can subscribe too by sending me at jan.van.de.kraats at kabelfoon.nl a mail with in the subject line "Subscribe European Water Management News."

Unsubscribing later is as easy, just send me a mail with "Unsubscribe European Water Management News" in the subject line.
I am looking forward to your answer.
 
Best regards,
Jan van de Kraats
Institute for Inland Water Treatment and Waste Water Treatment (RIZA)



European Water Management
Official Journal of the European Water Association (EWA)
Editor-in-Chief
Drs J A van de Kraats
Institute for Inland Water Management
and Waste Water Treatment (RIZA)
PO Box 17
8200 AA Lelystad
The Netherlands
Tel +31 320 298 793
Fax +31 320 280883
E-mail j.vdkraats at riza.rws.minvenw.nl
Private Fax +15308844520
Private E-mail jan.van.de.kraats at kabelfoon.nl





Drs Jan A van de Kraats
Editor-in-Chief European Water Management
INSTITUTE FOR INLAND WATER MANAGEMENT
AND WASTE WATER TREATMENT(RIZA)
Lelystad,
The Netherlands
jan.van.de.kraats at kabelfoon.nl
www.riza.nl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From muw at meteoswiss.ch  Wed Nov 14 17:09:55 2001
From: muw at meteoswiss.ch (Wolfgang Mueller)
Date: Wed, 14 Nov 2001 17:09:55 +0100
Subject: [R] netCDF
Message-ID: <3BF29753.6CAA0072@meteoswiss.ch>

dear R community

for this is my first call in the r news group, i hope i'm right.
anyway, does anyone knows how to let R  writing data into netCDF format.

(not using package from unidata)

wolfgang



--
Wolfgang Mueller               Phone +41 1 256-9203,
MeteoSwiss
Kraehbuehlstr. 58,             mailto:muw at meteoswiss.ch
CH-8044 Zuerich, Switzerland   http://www.meteoswiss.ch/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Nov 14 17:56:09 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 14 Nov 2001 08:56:09 -0800 (PST)
Subject: [R] netCDF
In-Reply-To: <3BF29753.6CAA0072@meteoswiss.ch>
Message-ID: <Pine.A41.4.33.0111140855270.54200-100000@homer20.u.washington.edu>

On Wed, 14 Nov 2001, Wolfgang Mueller wrote:

> dear R community
>
> for this is my first call in the r news group, i hope i'm right.
> anyway, does anyone knows how to let R  writing data into netCDF format.
>

I don't think so.  I think we can only read from netCDF at the moment.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmiddleton at fisheries.gov.fk  Wed Nov 14 16:58:40 2001
From: dmiddleton at fisheries.gov.fk (David Middleton)
Date: Wed, 14 Nov 2001 13:58:40 -0200
Subject: [R] Floating windows in TCLTK
Message-ID: <698C02D452EDD411A42300A0C982E91E0839D7@MAIL>

Brian Ripley wrote:

> Unfortunately not (I use TweakUI to have focus following the mouse: it
> doesn't raise focussed windows for me).  This works perfectly with
> multiple R windows in --sdi mode, *except* with package tcltk.

I confess I wrote my original reply without actually trying it.  However I
have now done some experimentation and, as far as I can tell, both
standalone tk windows _and_ those from R's tcltk package work as expected.
I'm also using R in sdi mode and the window with the mouse seems to get the
focus as expected.  Maybe I'm missing the point - I have only experimented
briefly with the tkcanvas and tkdensity demos.  Or possibly this is another
of those things that is specific to particular windows setups?

Just checked the TweakUI control panel and it doesn't have the option to
auto-raise the window with the focus that I implied in my earlier reply.
Must have been a residual memory from some X windows manager...

David

Dr David A. J. Middleton, Stock Assessment Scientist
Fisheries Department, Falkland Islands Government
Stanley, Falkland Islands
Tel: +500 27260  Fax +500 27265  Email: dmiddleton at fisheries.gov.fk
Web: http://www.falklandislands.com/business/fisheries.htm

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Wed Nov 14 19:14:25 2001
From: sway at tanox.com (Shawn Way)
Date: Wed, 14 Nov 2001 12:14:25 -0600
Subject: [R] RODBC: Minor problem, I hope.
Message-ID: <0565F48FC373D411BE4D00B0D049602628E62C@nt40hou1.tanox.com>

Sorry for the numerous posts, I found that an old (~ June) post had the same
title and confused me (and the list server) greatly (and made it hard to get
this as a new thread).

Anyway...

I'm trying to get the RODBC package to work with a MS Sql database
(Wonderware's InSQL).  I'm able to connect to the database using the
following:

version
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      29                          
language R                           
> library(RODBC)
library(RODBC)

> channel <- odbcConnect("SCADA2","ways1","LO&B*O",case="msaccess")
> channel
channel
[1] 0

And an abbreviated table list is:

...
25    Runtime                dbo                   AnalogHistory
TABLE
...

A abbreviated Column List is as follows:

> odbcColumns(channel,"AnalogHistory")
odbcColumns(channel,"AnalogHistory")
[1] 1
> sqlGetResults(channel)
sqlGetResults(channel)

  TABLE_CAT TABLE_SCHEM    TABLE_NAME   COLUMN_NAME DATA_TYPE TYPE_NAME
1   Runtime         dbo AnalogHistory      DateTime        11  datetime
2   Runtime         dbo AnalogHistory       TagName        12   varchar
3   Runtime         dbo AnalogHistory         Value         6     float
4   Runtime         dbo AnalogHistory       Quality        -6   tinyint
5   Runtime         dbo AnalogHistory QualityDetail         4       int
6   Runtime         dbo AnalogHistory      wwTagKey         4       int

...

When I try to query the table, I get:

> test <- sqlQuery(channel,"select DateTime, value from AnalogHistory
> where Tagname = 'a055-re-0020_ph_pv_flt' and DateTime >= 'nov 1, 2001 
> 2:00pm'")

> test
test
[1] "37000 201 [Microsoft][ODBC SQL Server Driver][SQL Server]Procedure
'sp_prepare' expects parameter '@stmt', which was not supplied."
[2] "[RODBC]ERROR: Could not SQLPrepare"                           

Any thoughts?                                                 

Shawn Way
Tanox, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011114/644d71e0/attachment.html

From aperrin at email.unc.edu  Wed Nov 14 19:55:35 2001
From: aperrin at email.unc.edu (Andrew Perrin)
Date: Wed, 14 Nov 2001 13:55:35 -0500 (EST)
Subject: [R] xtable and table()
Message-ID: <Pine.LNX.4.21L1.0111141352020.9434-100000@hm269-26876.socsci.unc.edu>

Greetings-

A relatively small request, but here goes.

I have some crosstabs, generated with table(), in R:

> table(pg.df$grouptype,pg.df$age)
   
    0  1  2  3  4
  B 1  3  6  8  3
  C 1  3  4 10  7
  P 0  2  9  9  8
  S 2  9  4  5 16
  U 0 15 15  3  0
  X 0  0  0  0  0


I would like to export these in latex format using xtable(). But it
appears there's no appropriate method for xtable():

xtable(data.frame(table(pg.df$grouptype,pg.df$age)))

gives a flattened three-way matrix:
1 & B & 0 & 1.00 \\
2 & C & 0 & 1.00 \\
3 & P & 0 & 0.00 \\
4 & S & 0 & 2.00 \\

(etc.)

xtable(data.frame(table(pg.df$grouptype,pg.df$age)))

gives a similar result.  I'd like:

& 0 & 1 & 2 & 3 & 4 \\
B & 1 & 3 & 6 & 8 & 3 \\
(etc.)

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rifat99 at mac.com  Wed Nov 14 20:28:48 2001
From: rifat99 at mac.com (rifat99@mac.com)
Date: Wed, 14 Nov 2001 14:28:48 -0500
Subject: [R] dylib error
Message-ID: <D3F854BF-D935-11D5-8527-0050E4568350@mac.com>

I am a naive  OS X user. I followed  Jan de Leeuw's readme file to 
install R for Mac OS X. Darwin X is working fine. When I try to run R I 
am getting error message as follows;

dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
/usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater than 
library's version: 1.0.0)

Please respond

Goren

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v_bill_pikounis at merck.com  Wed Nov 14 20:46:52 2001
From: v_bill_pikounis at merck.com (Pikounis, V. Bill)
Date: Wed, 14 Nov 2001 14:46:52 -0500
Subject: [R] Fitting Pareto dist in a mixture
Message-ID: <53E1616C2129D511BE8900508B68D4720186968D@usrymx09.merck.com>

Dear all:
First, apologies for cross-posting multiplicities and for a query that is
more
analytically related than S-language related.

The bottom-line wish is:

Could you please provide and advice, references, etc on S software
approaches for
fitting a distribution with density:

p*g(x) + (1-p)*f(x) 

where g(x) is the familiar lognormal 2-parameter density
and f(x) is Pareto as defined below?

Here is the lengthier story:
I am collaborating with a scientific colleague who has constructed a
database
of binding assay data, namely EC/IC50's across a wide variety of chemical
entities and experimental conditions.  Among other things, he has an
interest
in characterizing tails of the distribution.  We have been studying various
fields in the literature to get a sense of what density forms we should
focus
on.

In addition to lognormal, weibull, & gamma, we found several references to
the
Pareto distribution.  It is of course easy enough to fit all of these with
existing S language functions (and reference to MASS and S Programming), and
even when considering lognormal mixtures as we are.

However, I have been attempting to use the Pareto
density form 

f(x) = ( a *  k^a  ) / ( x^{a + 1} ) ; k > 0, a > 0, x >= k

as part of a mixture with a lognormal.  Reparametrizing the density to 

f(x) = ( a *  k^a  ) / ( (x + k)^{a + 1} ) ; k > 0, a > 0, x > 0

seems to help but the optimization routines remain balky and / or give
convergences that do not make sense to me.  (I understand that starting
values, scales, etc. are very important.) I suspect that the support aspect
of
the Pareto ( i.e.  f(x) > 0 only for x >= k ) imposes an indentifiability
problem with the mixing proportion parameter.

Again, any advice is welcome.

Thanks in advance,
Bill

----------------------------------------
Bill Pikounis, Ph.D.
Biometrics Research Department
Merck Research Laboratories
PO Box 2000, MailDrop RY70-38
126 E. Lincoln Avenue
Rahway, New Jersey 07065-0900
USA

v_bill_pikounis at merck.com

Phone: 732 594 3913
Fax: 732 594 1565

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 14 22:17:33 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 22:17:33 +0100
Subject: [R] dylib error
In-Reply-To: <D3F854BF-D935-11D5-8527-0050E4568350@mac.com>
References: <D3F854BF-D935-11D5-8527-0050E4568350@mac.com>
Message-ID: <x2668d2gsy.fsf@blueberry.kubism.ku.dk>

rifat99 at mac.com writes:

> I am a naive  OS X user. I followed  Jan de Leeuw's readme file to
> install R for Mac OS X. Darwin X is working fine. When I try to run R
> I am getting error message as follows;
> 
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library:
> /usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater
> than library's version: 1.0.0)
> 
> Please respond

Sounds like you need a newer version of libz, but you'll need a Mac
user to tell you where to get it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Wed Nov 14 22:43:56 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 14 Nov 2001 13:43:56 -0800
Subject: [R] dylib error
In-Reply-To: <D3F854BF-D935-11D5-8527-0050E4568350@mac.com>
Message-ID: <B49A04BA-D948-11D5-8334-003065A21C86@stat.ucla.edu>

a. make /sw/lib
b. move libz.1.1.3.dylib from http://gifi.stat.ucla.edu/R/dylibs into 
/sw/lib
c. say in /sw/lib

sudo ln -s libz.1.1.3.dylib libz.1.dylib
sudo ln -s libz.1.1.3.dylib libz.dylib

c. put in your .cshrc

if ( $?DYLD_LIBRARY_PATH ) then
   setenv DYLD_LIBRARY_PATH /sw/lib:$DYLD_LIBRARY_PATH
else
   setenv DYLD_LIBRARY_PATH /sw/lib
endif

or do something similar which has the same effect.

d. source .cshrc
e. try again
f. if this still fails, contact me


On Wednesday, November 14, 2001, at 11:28 AM, rifat99 at mac.com wrote:

> I am a naive  OS X user. I followed  Jan de Leeuw's readme file to 
> install R for Mac OS X. Darwin X is working fine. When I try to run R I 
> am getting error message as follows;
>
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater 
> than library's version: 1.0.0)
>
> Please respond
>
> Goren
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Wed Nov 14 22:50:33 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 14 Nov 2001 13:50:33 -0800
Subject: [R] dylib error
In-Reply-To: <x2668d2gsy.fsf@blueberry.kubism.ku.dk>
Message-ID: <A110409E-D949-11D5-8334-003065A21C86@stat.ucla.edu>

If you have upgraded to OS X 10.1 you should see

-rwxr-xr-x    1 root     wheel       60468 Sep  2 18:27 libz.1.1.3.dylib
lrwxr-xr-x    1 root     wheel          16 Oct 29 14:28 libz.1.dylib -> 
libz.1.1.3.dylib
lrwxr-xr-x    1 root     wheel          16 Oct 29 14:28 libz.dylib -> 
libz.1.1.3.dylib

in /usr/lib. Did you ? Do you ?

On Wednesday, November 14, 2001, at 01:17 PM, Peter Dalgaard BSA wrote:

> rifat99 at mac.com writes:
>
>> I am a naive  OS X user. I followed  Jan de Leeuw's readme file to
>> install R for Mac OS X. Darwin X is working fine. When I try to run R
>> I am getting error message as follows;
>>
>> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library:
>> /usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater
>> than library's version: 1.0.0)
>>
>> Please respond
>
> Sounds like you need a newer version of libz, but you'll need a Mac
> user to tell you where to get it.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Thu Nov 15 00:49:41 2001
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Thu, 15 Nov 2001 10:49:41 +1100
Subject: [R] Floating windows in TCLTK
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A7F99@anaconda>

Brian Ripley, David Middleton, Peter Dalgaard and Jim Lemon all provided
some insight to optimizing TCLTK
in my application. 

Unfortunately, at this time, I am still unable to maintain a TCLTK window
'topmost' (ie a floating toolbar) when focus shifts or is shifted to another
window. Nevertheless changing to sdi mode and using tweakUI have provided a
useful workaround. Incidentally, tweakUI does raise the focussed window
following the mouse for me (windows 2000)when the mouse options are set. 

I have not investigated the hidden parent window of TCLTK issue suggested by
Peter Dalgaard but will do so and report if beneficial.

The following may be useful to somebody. I completed a similar task sometime
ago using VB4 with SPLUS V3 (I think).
There, a call to the windows API achieved the desired floating toolbar.
Using the same technique within R recently failed to achieve the float with
R always grabbing the topmost position when it got focus. This indicates,
perhaps, that R is a little quirky in the manner in which it handles windows
in W2000.

Many thanks to all for their advice. 

Any compliments on R and the core team would be inadequate.
Simon Gatehouse     
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mscarr at excitehome.net  Thu Nov 15 01:03:34 2001
From: mscarr at excitehome.net (Mark Scarr)
Date: Wed, 14 Nov 2001 16:03:34 -0800
Subject: [R] Generating date variables
In-Reply-To: <3BE254CF.3B3ADFB0@ethz.ch>
Message-ID: <000701c16d68$f89e6100$0e090018@CORPNT.NET>

Hi there,

I would like to generate a vector of dates
to plot on a graph (i.e a string vector)
for example 05/04/2001 would be 4th May 2001
(American format).
I need to do this for a complete year, taking into 
account number of days in the month, leap year etc...
Is there an easy way to do this in R?

Any help would be most appreciated.

Regards,

Mark.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Nov 15 01:23:13 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 14 Nov 2001 19:23:13 -0500 (EST)
Subject: [R] help.start() works with Mozilla, but not with ESS
Message-ID: <200111150023.fAF0NDf20563@cattell.psych.upenn.edu>

In a recent post, I reported that help.start worked with Mozilla,
although it had not worked before.  I now have discovered the
difference.  I'm using RH Linux 7.1 and Mozilla 0.9.5 and R
1.3.1.

When I tried it before, I had use ESS to start R.  If I run R
without ESS, help.start() will start the browser (Mozilla), but
help(apply), for example, will produce help in ESS but not in the
browser.  If I say

help(apply,htmlhelp=T)

then I do get help in the browser.  If I say help(x) or ?x
(knowing that x does not exist), I get an error message telling
me that htmlhelp is FALSE.  So ESS is somehow setting htmlhelp to
FALSE, although I cannot figure out where that is happening from
looking at the code for the help function.

I have tried defining a new function
h(x) <- function(x) {help(x,htmlhelp=T)}
but this does not work at all.  It thinks that "x" is what I want
help about.

I haven't looked yet at the code for ESS.  I'm hoping that
someone can suggest a workaround.  The browser is really much
better than ESS's way of displaying help.  (But not enough better
for me to give up ESS.)

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Nov 15 01:50:47 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 14 Nov 2001 16:50:47 -0800
Subject: [R] help.start() works with Mozilla, but not with ESS
In-Reply-To: <200111150023.fAF0NDf20563@cattell.psych.upenn.edu>
References: <200111150023.fAF0NDf20563@cattell.psych.upenn.edu>
Message-ID: <87d72kdfh4.fsf@jeeves.blindglobe.net>

>>>>> "JB" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:


    JB> I haven't looked yet at the code for ESS.  I'm hoping that
    JB> someone can suggest a workaround.  The browser is really much
    JB> better than ESS's way of displaying help.  (But not enough
    JB> better for me to give up ESS.)

This is actually on purpose.  We grab all help requests and work from
there.  So what does the WWW browser do better?  (you'll have to tell
me, I try to stay away from 'em :-).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Nov 15 01:56:30 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 14 Nov 2001 19:56:30 -0500 (EST)
Subject: [R] help.start() works with Mozilla, but not with ESS
Message-ID: <200111150056.fAF0uUd21586@cattell.psych.upenn.edu>

>From rossini at blindglobe.net Wed Nov 14 19:50:05 2001
>
>>>>>> "JB" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:
>
>    JB> I haven't looked yet at the code for ESS.  I'm hoping that
>    JB> someone can suggest a workaround.  The browser is really much
>    JB> better than ESS's way of displaying help.  (But not enough
>    JB> better for me to give up ESS.)
>
>This is actually on purpose.  We grab all help requests and work from
>there.  So what does the WWW browser do better?  (you'll have to tell

1. It allows you to go to related topics by clicking links.  This
is VERY convenient and important.

2 (less important).  It opens in a separate window so that you
can use alt-tab or something like that rather than having it
obscure half your R work space on the screen.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Nov 15 02:13:08 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 14 Nov 2001 17:13:08 -0800
Subject: [R] help.start() works with Mozilla, but nont with ESS
In-Reply-To: <200111150056.fAF0uUd21586@cattell.psych.upenn.edu>
References: <200111150056.fAF0uUd21586@cattell.psych.upenn.edu>
Message-ID: <877kssdefv.fsf@jeeves.blindglobe.net>

>>>>> "JB" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:

    >> From rossini at blindglobe.net Wed Nov 14 19:50:05 2001
    >> 
    >>>>>>> "JB" == Jonathan Baron <baron at cattell.psych.upenn.edu>
    >>>>>>> writes:
    >>
    JB> I haven't looked yet at the code for ESS.  I'm hoping that
    JB> someone can suggest a workaround.  The browser is really much
    JB> better than ESS's way of displaying help.  (But not enough
    JB> better for me to give up ESS.)
    >> This is actually on purpose.  We grab all help requests and
    >> work from there.  So what does the WWW browser do better?
    >> (you'll have to tell

    JB> 1. It allows you to go to related topics by clicking links.
    JB> This is VERY convenient and important.

True -- the closest we've got is to place the cursor on the point and
hit C-c C-v <return>.  So instead of one click, around 5-6
keystrokes/clicks ("s s" to "see-also", a bit of movement, and
then...).

Probably worth just linking to w3-fetch, and using remote html viewer
if configured...

I'm sure we could figure this out (the option to not snarf help) in
the next release, though it will probably continue to be an option,
and not a default (though we probably could use a prefix, i.e. 
C-u C-c C-v prompts for help in the browser...

    JB> 2 (less important).  It opens in a separate window so that you
    JB> can use alt-tab or something like that rather than having it
    JB> obscure half your R work space on the screen.

Sure, we could bring up a separate Emacs window similar to a browser
:-).

Seriously, it's probably a good  point, we just need someone (or us)
to change the code :-).  On a more serious note, it probably won't be
me soon, cc'ing ess-bugs on this one :-(.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.baker at cmis.csiro.au  Thu Nov 15 05:15:41 2001
From: peter.baker at cmis.csiro.au (Peter Baker)
Date: Thu, 15 Nov 2001 14:15:41 +1000 (EST)
Subject: [R] Re: xtable and table()
Message-ID: <Pine.LNX.4.33.0111151405530.24958-100000@lindeman-cv.cmis.csiro.au>

Andrew

I believe that in order to get the correct format, xtable() needs its
argument as a matrix rather than a table

For example, try something like

  library(xtable)
  data(state)
  x <- matrix(table(state.division, state.region),
            nrow=nlevels(state.division),ncol=nlevels(state.region))
  rownames(x) <- levels(state.division)
  colnames(x) <- levels(state.region)

  xtable(x)

Regards
Peter Baker

==========================================================
Andrew Perrin (aperrin at email.unc.edu) wrote

Greetings-

A relatively small request, but here goes.

I have some crosstabs, generated with table(), in R:

> table(pg.df$grouptype,pg.df$age)

    0 1 2 3 4
  B 1 3 6 8 3
  C 1 3 4 10 7
  P 0 2 9 9 8
  S 2 9 4 5 16
  U 0 15 15 3 0
  X 0 0 0 0 0


-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences, 233 Middle St/
PO Box 120, CLEVELAND, QLD 4163 Australia.
Email: Peter.Baker at csiro.au
Phone:+61 7 3826 7263 Fax:+61 7 3826 7304

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From charles.raux at let.ish-lyon.cnrs.fr  Thu Nov 15 09:24:36 2001
From: charles.raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 15 Nov 2001 09:24:36 +0100
Subject: [R] ploting axes plaxes ?
Message-ID: <200111150829.JAA20792@docsrvr.ish-lyon.cnrs.fr>

I used in previous versions of R (R 1.1) to plot axes on projections of 
factorial coordinates using the function plaxes. This doesn't exist any 
more. Why this change ? No alternative ?
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 15 10:15:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 Nov 2001 09:15:46 +0000 (GMT)
Subject: [R] ploting axes plaxes ?
In-Reply-To: <200111150829.JAA20792@docsrvr.ish-lyon.cnrs.fr>
Message-ID: <Pine.LNX.4.31.0111150909160.1620-100000@gannet.stats>

On Thu, 15 Nov 2001, Charles Raux wrote:

> I used in previous versions of R (R 1.1) to plot axes on projections of
> factorial coordinates using the function plaxes. This doesn't exist any
> more. Why this change ? No alternative ?

plaxes was never part of R.  My memory was that it was part of the add-on
package multiv, and indeed in the S sources I find

plaxes <- function(a,b) {

       segments(   min(a),0,  max(a),0   )
       segments(   0,min(b),  0,max(b)   )

}

Looks like it has been removed from multiv in the R port, quite possibly
because it appears it was completely undocumented.  If you can supply a
help file plaxes.Rd I am sure the maintainer of multiv will be happy to
consider adding it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joerg.maeder at ethz.ch  Thu Nov 15 10:37:12 2001
From: joerg.maeder at ethz.ch (Joerg Maeder)
Date: Thu, 15 Nov 2001 10:37:12 +0100
Subject: [R] Generating date variables
References: <000701c16d68$f89e6100$0e090018@CORPNT.NET>
Message-ID: <3BF38CC8.3E0B708B@ethz.ch>

Hello,

one way is
#generate a date sequence
a <- seq(ISOdate(2001,1,1,0), ISOdate(2001,12,31,0),"days")
#extract the part that is neede (date, without time)
a <- strptime(as.character(a),format="%Y-%m-%d")
#convert it to the wished format
strftime(a,format="%m/%d/%Y")

gruess

joerg

Mark Scarr wrote:
> 
> Hi there,
> 
> I would like to generate a vector of dates
> to plot on a graph (i.e a string vector)
> for example 05/04/2001 would be 4th May 2001
> (American format).
> I need to do this for a complete year, taking into
> account number of days in the month, leap year etc...
> Is there an easy way to do this in R?
> 
> Any help would be most appreciated.
> 
> Regards,
> 
> Mark.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Thu Nov 15 11:46:16 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 15 Nov 2001 11:46:16 +0100
Subject: [R] histogram question
References: <Pine.LNX.4.30.0111120716210.10394-100000@bolker.zoo.ufl.edu>
Message-ID: <3BF39CF8.333B86B5@univie.ac.at>

thanks for all the help.

one question remains.
if histogram is meant for continuous data
(which makes sense)
why is it changing the defaults of the graphics
depending on the amount of data,
and not on the scale of the data.

in both my examples, i had a data vector with numbers ranging from 0 to
10,
once with 1000 elements,
once with 100000 elements.

this is the same "quality" of data.
should the graphics defaults not stay consistent with that?






Ben Bolker wrote:
> 
>   The basic problem is that hist() is really designed for continuous data,
> and you're using it with discrete data.  You can either say
> 
> r <- rbinom(100000,10,0.5)
> hist(r,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000),
>      breaks=seq(-0.5,10.5,by=0.1))
> 
> so that the bins span (-0.5 to 0.5, 0.5 to 1.5, ...)
> 
> or (arguably better, because it is more sensible with discrete data)
> 
> barplot(table(r),space=0)
> 
> On Mon, 12 Nov 2001, Erich Neuwirth wrote:
> 
> > hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> > gives a histogram with "touching bars"
> >
> > hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> > gives a histogram with space between the bars.
> >
> > is there a way to control the space betweent he bars easily?

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov 15 12:19:52 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 15 Nov 2001 06:19:52 -0500 (EST)
Subject: [R] histogram question
In-Reply-To: <3BF39CF8.333B86B5@univie.ac.at>
Message-ID: <Pine.LNX.4.30.0111150616480.12889-100000@bolker.zoo.ufl.edu>


  Use the option(s) freq=FALSE or prob=TRUE (see the help page).  [This
was temporarily broken in some earlier version of R.] I believe there is a
reasonable argument for making freq=FALSE be the default option (we get a
certain number of questions along these lines), but I also seem to recall
that this was debated in the R mailing lists before and that there are
other opinions ...

  Ben Bolker

On Thu, 15 Nov 2001, Erich Neuwirth wrote:

> thanks for all the help.
>
> one question remains.
> if histogram is meant for continuous data
> (which makes sense)
> why is it changing the defaults of the graphics
> depending on the amount of data,
> and not on the scale of the data.
>
> in both my examples, i had a data vector with numbers ranging from 0 to
> 10,
> once with 1000 elements,
> once with 100000 elements.
>
> this is the same "quality" of data.
> should the graphics defaults not stay consistent with that?
>
>
>
>
>
>
> Ben Bolker wrote:
> >
> >   The basic problem is that hist() is really designed for continuous data,
> > and you're using it with discrete data.  You can either say
> >
> > r <- rbinom(100000,10,0.5)
> > hist(r,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000),
> >      breaks=seq(-0.5,10.5,by=0.1))
> >
> > so that the bins span (-0.5 to 0.5, 0.5 to 1.5, ...)
> >
> > or (arguably better, because it is more sensible with discrete data)
> >
> > barplot(table(r),space=0)
> >
> > On Mon, 12 Nov 2001, Erich Neuwirth wrote:
> >
> > > hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> > > gives a histogram with "touching bars"
> > >
> > > hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> > > gives a histogram with space between the bars.
> > >
> > > is there a way to control the space betweent he bars easily?
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 15 12:17:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 Nov 2001 11:17:44 +0000 (GMT)
Subject: [R] histogram question
In-Reply-To: <3BF39CF8.333B86B5@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0111151109430.1876-100000@gannet.stats>

On Thu, 15 Nov 2001, Erich Neuwirth wrote:

> thanks for all the help.
>
> one question remains.
> if histogram is meant for continuous data
> (which makes sense)
> why is it changing the defaults of the graphics
> depending on the amount of data,
> and not on the scale of the data.

That's implied by the theory for the choice of histogram bandwidths ....

> in both my examples, i had a data vector with numbers ranging from 0 to
> 10,
> once with 1000 elements,
> once with 100000 elements.
>
> this is the same "quality" of data.

It's not: more data is higher quality for a density estimate (as a
histogram is).

> should the graphics defaults not stay consistent with that?

The issue is that the bandwidth has been reduced, and in the second case
you have empty histogram bins which you interpreted as gaps.


Now R follows an early version of S in using Sturges' formula.  There are
much better rules of thumb, and after seeing the account in Venables &
Ripley, S-PLUS integrated them.  Perhaps R should do so too, but you will
find them in package MASS.

> Ben Bolker wrote:
> >
> >   The basic problem is that hist() is really designed for continuous data,
> > and you're using it with discrete data.  You can either say
> >
> > r <- rbinom(100000,10,0.5)
> > hist(r,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000),
> >      breaks=seq(-0.5,10.5,by=0.1))
> >
> > so that the bins span (-0.5 to 0.5, 0.5 to 1.5, ...)
> >
> > or (arguably better, because it is more sensible with discrete data)
> >
> > barplot(table(r),space=0)
> >
> > On Mon, 12 Nov 2001, Erich Neuwirth wrote:
> >
> > > hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
> > > gives a histogram with "touching bars"
> > >
> > > hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
> > > gives a histogram with space between the bars.
> > >
> > > is there a way to control the space betweent he bars easily?
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Nov 15 12:22:26 2001
From: fharrell at virginia.edu (Frank E. Harrell Jr)
Date: Thu, 15 Nov 2001 06:22:26 -0500
Subject: [R] histogram question
References: <Pine.LNX.4.30.0111120716210.10394-100000@bolker.zoo.ufl.edu> <3BF39CF8.333B86B5@univie.ac.at>
Message-ID: <3BF3A572.60009@virginia.edu>

The optimum bin widths to use in estimating the underlying
density function need to shrink as the sample size increases.
A histogram with 10 bins for a sample size of 20 would
be almost pure noise.

Frank

Erich Neuwirth wrote:

> thanks for all the help.
> 
> one question remains.
> if histogram is meant for continuous data
> (which makes sense)
> why is it changing the defaults of the graphics
> depending on the amount of data,
> and not on the scale of the data.
> 
> in both my examples, i had a data vector with numbers ranging from 0 to
> 10,
> once with 1000 elements,
> once with 100000 elements.
> 
> this is the same "quality" of data.
> should the graphics defaults not stay consistent with that?
> 
> 
> 
> 
> 
> 
> Ben Bolker wrote:
> 
>>  The basic problem is that hist() is really designed for continuous data,
>>and you're using it with discrete data.  You can either say
>>
>>r <- rbinom(100000,10,0.5)
>>hist(r,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000),
>>     breaks=seq(-0.5,10.5,by=0.1))
>>
>>so that the bins span (-0.5 to 0.5, 0.5 to 1.5, ...)
>>
>>or (arguably better, because it is more sensible with discrete data)
>>
>>barplot(table(r),space=0)
>>
>>On Mon, 12 Nov 2001, Erich Neuwirth wrote:
>>
>>
>>>hist(rbinom(1000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,300))
>>>gives a histogram with "touching bars"
>>>
>>>hist(rbinom(100000,10,0.5),col=2,xlim=c(0,10),ylim=c(0,30000))
>>>gives a histogram with space between the bars.
>>>
>>>is there a way to control the space betweent he bars easily?
>>>
> 
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 



-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From muw at meteoswiss.ch  Thu Nov 15 13:44:13 2001
From: muw at meteoswiss.ch (Wolfgang Mueller)
Date: Thu, 15 Nov 2001 13:44:13 +0100
Subject: [R] matrices
Message-ID: <3BF3B89D.145BE087@meteoswiss.ch>

hihi

i've a matrix say a(30,10,5). how can a function (for example histogram)
be used
to calculate along the first axis, or to create a 10x5 matrix of
histograms?

wolfgang


--
Wolfgang Mueller               Phone +41 1 256-9203,
MeteoSwiss
Kraehbuehlstr. 58,             mailto:muw at meteoswiss.ch
CH-8044 Zuerich, Switzerland   http://www.meteoswiss.ch/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov 15 14:13:27 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 15 Nov 2001 08:13:27 -0500 (EST)
Subject: [R] matrices
In-Reply-To: <3BF3B89D.145BE087@meteoswiss.ch>
Message-ID: <Pine.LNX.4.30.0111150813210.12946-100000@bolker.zoo.ufl.edu>


  apply()

On Thu, 15 Nov 2001, Wolfgang Mueller wrote:

> hihi
>
> i've a matrix say a(30,10,5). how can a function (for example histogram)
> be used
> to calculate along the first axis, or to create a 10x5 matrix of
> histograms?
>
> wolfgang
>
>
> --
> Wolfgang Mueller               Phone +41 1 256-9203,
> MeteoSwiss
> Kraehbuehlstr. 58,             mailto:muw at meteoswiss.ch
> CH-8044 Zuerich, Switzerland   http://www.meteoswiss.ch/
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From davisco at tiscali.it  Thu Nov 15 15:18:32 2001
From: davisco at tiscali.it (davisco@tiscali.it)
Date: Thu, 15 Nov 2001 15:18:32 +0100
Subject: [R] =?iso-8859-1?Q?Histogram=20?=
In-Reply-To: <15346.38288.225530.231076@gargle.gargle.HOWL>
Message-ID: <3BC5399600035D28@mail.tiscalinet.it>



I would want to know if it's possible to plot two histograms
on the same graphic in order to compare the bins one to one,
like a Excel graphic.
If it is possible can you help me to do it, because I don't know the exact
R-commands.
 
Thanks for your help
 
Damiano
>
>
>Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
>Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
>ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
>phone: x-41-1-632-3408		fax: ...-1228			<><
>



__________________________________________________________________
Abbonati a Tiscali!
Con Tiscali By Phone puoi anche ascoltare ed inviare email al telefono.
Chiama Tiscali By Phone all' 892 800        http://byphone.tiscali.it




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Nov 15 15:55:55 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 15 Nov 2001 09:55:55 -0500 (EST)
Subject: [R] =?iso-8859-1?Q?Histogram=20?=
Message-ID: <200111151455.fAFEttw18893@cattell.psych.upenn.edu>

See http://www.psych.upenn.edu/~baron/rpsych.htm#tth_sEc5.4
for an example of how to plot two histograms together so
that you can compare them.  Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Thu Nov 15 16:00:02 2001
From: GPetris at uark.edu (Giovanni Petris)
Date: Thu, 15 Nov 2001 09:00:02 -0600 (CST)
Subject: [R] matrices
In-Reply-To: <3BF3B89D.145BE087@meteoswiss.ch> (message from Wolfgang Mueller
	on Thu, 15 Nov 2001 13:44:13 +0100)
References: <3BF3B89D.145BE087@meteoswiss.ch>
Message-ID: <200111151500.JAA19284@definetti.uark.edu>


Check the apply function:

> ?apply

Giovanni

> i've a matrix say a(30,10,5). how can a function (for example histogram)
> be used
> to calculate along the first axis, or to create a 10x5 matrix of
> histograms?

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Nov 15 16:32:47 2001
From: fharrell at virginia.edu (Frank E. Harrell Jr)
Date: Thu, 15 Nov 2001 10:32:47 -0500
Subject: [R] Histogram 
References: <3BC5399600035D28@mail.tiscalinet.it>
Message-ID: <3BF3E01F.7070106@virginia.edu>

Try the attached histbackback function by Pat Burns and myself,
which will be part of the Hmisc library for R.  If you find problems
and wish to debug this function for R I would be delighted to
receive fixes from you.  -Frank Harrell

davisco at tiscali.it wrote:

> 
> I would want to know if it's possible to plot two histograms
> on the same graphic in order to compare the bins one to one,
> like a Excel graphic.
> If it is possible can you help me to do it, because I don't know the exact
> R-commands.
>  
> Thanks for your help
>  
> Damiano
> 
>>
>>Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
>>Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
>>ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
>>phone: x-41-1-632-3408		fax: ...-1228			<><
>>
> 
> 
> 
> __________________________________________________________________
> Abbonati a Tiscali!
> Con Tiscali By Phone puoi anche ascoltare ed inviare email al telefono.
> Chiama Tiscali By Phone all' 892 800        http://byphone.tiscali.it
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 



-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: histbackback.s
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20011115/ac4aa95c/histbackback.pl
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: histbackback
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20011115/ac4aa95c/histbackback-0001.pl

From afarcome at stat.cmu.edu  Thu Nov 15 17:00:50 2001
From: afarcome at stat.cmu.edu (Alessio Farcomeni)
Date: Thu, 15 Nov 2001 11:00:50 -0500 (EST)
Subject: [R] Polytomic Logistic  Regression
Message-ID: <Pine.LNX.4.33.0111151058430.3924-100000@hydra3.stat.cmu.edu>

Actually I`m not really sure that`s the way you call it in English...
Anyway, is there a way to do a logistic regression with 0-1-2-3-4 
qualitative response variable in R? I know how to do 0-1 logistic 
regression, but it doesn`t appear to be a way to generalize it directly.
Hope I was enough clear.

Thanks,
Alessio

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Alessio Farcomeni
http://www.stat.cmu.edu/~afarcome
BH 132M  (412) 268.2724
PC Lab   (412) 268.8719
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 15 17:15:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 Nov 2001 16:15:02 +0000 (GMT)
Subject: [R] Polytomic Logistic  Regression
In-Reply-To: <Pine.LNX.4.33.0111151058430.3924-100000@hydra3.stat.cmu.edu>
Message-ID: <Pine.LNX.4.31.0111151614381.2342-100000@gannet.stats>

On Thu, 15 Nov 2001, Alessio Farcomeni wrote:

> Actually I`m not really sure that`s the way you call it in English...
> Anyway, is there a way to do a logistic regression with 0-1-2-3-4
> qualitative response variable in R? I know how to do 0-1 logistic
> regression, but it doesn`t appear to be a way to generalize it directly.
> Hope I was enough clear.

Use multinom in package nnet in the VR bundle.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 15 17:56:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Nov 2001 17:56:52 +0100
Subject: [R] Polytomic Logistic  Regression
In-Reply-To: <Pine.LNX.4.31.0111151614381.2342-100000@gannet.stats>
References: <Pine.LNX.4.31.0111151614381.2342-100000@gannet.stats>
Message-ID: <x2adxo0y7f.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 15 Nov 2001, Alessio Farcomeni wrote:
> 
> > Actually I`m not really sure that`s the way you call it in English...
> > Anyway, is there a way to do a logistic regression with 0-1-2-3-4
> > qualitative response variable in R? I know how to do 0-1 logistic
> > regression, but it doesn`t appear to be a way to generalize it directly.
> > Hope I was enough clear.
> 
> Use multinom in package nnet in the VR bundle.

...or polr() from MASS if the response is ordered.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Nov 15 18:38:47 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 15 Nov 2001 12:38:47 -0500
Subject: [R] Generating date variables
References: <000701c16d68$f89e6100$0e090018@CORPNT.NET> <3BF38CC8.3E0B708B@ethz.ch>
Message-ID: <3BF3FDA7.5711FA61@bank-banque-canada.ca>

Mark Scarr wrote:
> I would like to generate a vector of dates
> to plot on a graph (i.e a string vector)
> for example 05/04/2001 would be 4th May 2001

You can do this with

a <- seq(ISOdate(2001,1,1,tz="GMT"), ISOdate(2001,12,31,tz="GMT"),"days")
format(a, format="%m/%d/%Y", tz="GMT")

If you live in GMT then I think you can omit the tz. There may be an easier way
if you don't live in GMT, but I can't find it. The problem is getting ISOdate to
generate a time at midnight, so that format will automatically drop the time
from the date.

Paul Gilbert




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Nov 15 19:13:08 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 15 Nov 2001 11:13:08 -0700 (MST)
Subject: [R] Polytomic Logistic  Regression
In-Reply-To: <Pine.LNX.4.33.0111151058430.3924-100000@hydra3.stat.cmu.edu>
Message-ID: <Pine.GSO.4.05.10111151111570.8032-100000@virga.rap.ucar.edu>

Just asked the same question!

polr 

in library MASS

c
-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Nov 15 19:44:14 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 15 Nov 2001 11:44:14 -0700 (MST)
Subject: [R] misread the  q. about polytomous regression
Message-ID: <Pine.GSO.4.05.10111151141350.8032-100000@virga.rap.ucar.edu>

Sorry about my reply about polytomous regression. 

"polr" is for fitting multiple levels of an ordinal scale, not the levels
of a qualitative categorization. 

c
 



-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Thu Nov 15 20:00:16 2001
From: jonqli at labs.agilent.com (Jonathan Li)
Date: Thu, 15 Nov 2001 11:00:16 -0800
Subject: [R] the computational complexity of sample() 
Message-ID: <3BF410C0.9C60E84F@labs.agilent.com>

Hi all,

	I am studying R's sample() function's behaviour when we are sampling
from a large vector with weights. For instance,
the following code measures the time it takes to do a weighted Bootstrap
sampling. 

>logfile <-  file("/home/jonqli/nortel/logfile.txt", "at")
>cat("\n", file=logfile)
>cat(date(), file=logfile)
>UPPER <- 1e5
>tmp <- sample(UPPER, replace=T, prob=1:UPPER)
>cat(date(), file=logfile)

	Here is a table for the time it takes in a Pentium III with 750 M
memory running Debian Linux.

UPPER = 1e6	TIME = 24600 seconds.
UPPER = 1e5 	TIME = 218 seconds
UPPER = 1e4 	TIME = 1~2 seconds

Clearly this is an algorithm with complexity of O(n^2). When I use
sample(UPPER) instead (no weights),
the complexity seems to go up in O(n).

UPPER = 1e6	TIME < 1 second
UPPER = 1e7	TIME = 7 seconds
UPPER = 1e8	TIME = 95 seconds

(UPPER = 1e9 didn't run because of memory allocation error).

	Am I right in these observations? If I am right, are there ways to
speed up the weighted bootstrap
sampling to O(nlogn), for instance? 	

Thanks in advance!

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed Nov 14 21:48:53 2001
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Wed, 14 Nov 2001 12:48:53 -0800
Subject: [R] Course: The R system: Complementing and Extending Statistical Computing for SAS Users: Boston, December 12-13, 2001. 
Message-ID: <200111151942.UAA03882@stat.math.ethz.ch>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a two-day course, "The R system: Complementing and Extending
Statistical Computing for SAS Users" www.xlsolutions-corp.com/Rsas.htm

Dates/City: December 12-13, 2001 in Boston

This course is designed for SAS users who want to learn how to complement 
and extend statistical computing with the S or R system. 
The course will give participants a strong foundation for becoming 
a versatile programmer. 

Course Description:

This two-day course focuses on a broad spectrum of topics:

*Data manipulations in S and R (data frame and matrix operations) 
and SAS (the data step) -- issues of importing, formatting, transformation,
cataloging, exporting 
*Specific comparison: linear modeling, glms, gees, lmes.
*etc

Complete course description: www.xlsolutions-corp.com/Rsas.htm

Price: 

Accademic $875
Commercial $985 Ask for group discount!


(Includes course materials and 90 days Technical Support.)

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221




Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


========================================================================

Pre-registration Form 

Please email the following details with the course code: R2SASBoston
XLsolutions Corporation: For your Solutions needs, Consulting and Training.
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

....................................................................

...................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcfay at lbl.gov  Thu Nov 15 22:49:29 2001
From: jcfay at lbl.gov (Justin Fay)
Date: Thu, 15 Nov 2001 13:49:29 -0800
Subject: [R] two plots in one frame
Message-ID: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>

I would like to plot two different scatterplots in the same frame (say with 
different colors) but everytime plot is called a new frame is created.  Is 
there a way around this?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Nov 15 23:16:21 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 15 Nov 2001 23:16:21 +0100
Subject: [R] two plots in one frame
References: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>
Message-ID: <3BF43EB5.52079398@ci.tuwien.ac.at>

Justin Fay wrote:
> 
> I would like to plot two different scatterplots in the same frame (say with
> different colors) but everytime plot is called a new frame is created.  Is
> there a way around this?

try points()
or par(new=TRUE)

Best,
Z


> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Nov 15 23:25:30 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 15 Nov 2001 18:25:30 -0400
Subject: [R] two plots in one frame
References: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>
Message-ID: <3BF440DA.66AD9AE1@umsanet.edu.bo>

First scatterplot:

plot(x,y,col="blue")

second:

points(z,t, col="red")

Note that the coordinate system fixed by the first call to plot
cannot be changed, so if tthe (z,t) points fall outside, it is necessary
to include xlim=c(,) and ylim=c(,) as arguments to the first call.

Kjetil Halvorsen.

Justin Fay wrote:
> 
> I would like to plot two different scatterplots in the same frame (say with
> different colors) but everytime plot is called a new frame is created.  Is
> there a way around this?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Fri Nov 16 01:07:47 2001
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 16 Nov 2001 12:07:47 +1200
Subject: [R] two plots in one frame
Message-ID: <20011116000747.EWSN3964.mta1-rme.xtra.co.nz@[192.168.69.132]>

You can try something like:
  x <- rnorm(100)
  y <- rnorm(100)
  plot(x)
  points(y, col = "Red")

Cheers,

Ko-Kang Wang


> 
> From: Justin Fay <jcfay at lbl.gov>
> Date: 2001/11/16 Fri AM 09:49:29 GMT+12:00
> To: r-help at stat.math.ethz.ch
> Subject: [R] two plots in one frame
> 
> I would like to plot two different scatterplots in the same frame (say with 
> different colors) but everytime plot is called a new frame is created.  Is 
> there a way around this?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ross at turing.une.edu.au  Fri Nov 16 01:07:37 2001
From: ross at turing.une.edu.au (Ross Darnell)
Date: 16 Nov 2001 11:07:37 +1100
Subject: [R] two plots in one frame
In-Reply-To: Justin Fay's message of "Thu, 15 Nov 2001 13:49:29 -0800"
References: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>
Message-ID: <x85668blgs6.fsf@turing.une.edu.au>

Justin Fay <jcfay at lbl.gov> writes:

> I would like to plot two different scatterplots in the same frame (say with 
> different colors) but everytime plot is called a new frame is created.  Is 
> there a way around this?

[...]

Justin

To answer your question try the "points" function.

Might I also recommend one of the introductory guides like

``Using R for Data Analysis and Graphics'' by John Maindonald (PDF
[702kB], data sets and scripts are available at JM's homepage).

you can get from a CRAN mirror.

Regards
Ross Darnell


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From geert_aarts at fishgame.state.ak.us  Fri Nov 16 02:59:17 2001
From: geert_aarts at fishgame.state.ak.us (Geert Aarts)
Date: Thu, 15 Nov 2001 16:59:17 -0900
Subject: [R] Memory problems using Krige (sgeostat)
Message-ID: <000401c16e42$4d1c1ef0$b2f53f92@Domain>

I?m trying to make an estimation of sea-depth for 2000 animal locations
using 2 million depth soundings. The result was:
Cannot allocate vector of size 20351 Kb

I've tried to overcome this problem by making the following adaptations.
-Increased the max-mem-size to 1.5Gb (Thanks to Thomas Lumley for his help)
-Use a max.dist (10km) for the function Krige
-Run the Krige computation for each separate animal location while using a
repeat loop
-Select only those sample locations and data (depth soundings) within a 20km
by 20km box around the animal location (So the Krige function does not need
to calculate the distance between the animal location and all the 2 million
sample locations)

However the error: cannot allocate vector of 24432 Kb still remains. For
that particular computation only 1500 sample locations and data where used.
After that computation my memory.size (TRUE) is 1,654,243,233  and
memory.size() is 654,345,998.
Does this mean that this (small) computation requires 1 Gb?

Below I outline how I heard, understood and think the memory problem is
explained
During one computation several vectors can be created (fragmentation).
During this computation some vectors might be removed. These objects and
there associated memory are put in the garbage collection. Although the
object is removed, the memory.size() is unchanged. After the computation or
during following computation the memory in the garbage collection is
deallocated.
Is this correct?
And if so, does this mean that the memory is  piled up during a computation
and also during a repeat loop?

I hope somebody can help me with this.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Nov 16 03:14:51 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 15 Nov 2001 18:14:51 -0800
Subject: [R] Finite Mixture Analysis
Message-ID: <5.1.0.14.2.20011115181237.00a862e0@pop4.attglobal.net>

Are there any S-Plus or R libraries/packages that do Finite Mixture 
Analysis following the algorithms similar to those implemented in Geoffrey 
MacLachlan's EMMIX program?

Thanks.


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Fri Nov 16 03:24:27 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Thu, 15 Nov 2001 21:24:27 -0500 (EST)
Subject: [R] two plots in one frame
In-Reply-To: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>
Message-ID: <Pine.GSO.4.20.0111152115441.12352-100000@jade.saintmarys.edu>

On Thu, 15 Nov 2001, Justin Fay wrote:

> I would like to plot two different scatterplots in the same frame (say with 
> different colors) but everytime plot is called a new frame is created.  Is 
> there a way around this?

if, say, you want to plot 2 sets of y's against the same x, the
following:

plot(x,y1,ylim=range(c(y1,y2)))
points(x,y2,pch=17)

makes sure that all the data from y2 are displayed in the plot. If you
don't specify the 'ylim=...' option, you won't get all the data in if some
values of y2 are outside the range of y1. pch=17 tells it to use a
different symbol (the default symbol is a circle, and pch=17 is a
triangle).

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 16 09:22:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 16 Nov 2001 08:22:45 +0000 (GMT)
Subject: [R] Memory problems using Krige (sgeostat)
In-Reply-To: <000401c16e42$4d1c1ef0$b2f53f92@Domain>
Message-ID: <Pine.GSO.4.31.0111160817140.26897-100000@auk.stats>

On Thu, 15 Nov 2001, Geert Aarts wrote:

> Im trying to make an estimation of sea-depth for 2000 animal locations
> using 2 million depth soundings. The result was:
> Cannot allocate vector of size 20351 Kb
>
> I've tried to overcome this problem by making the following adaptations.
> -Increased the max-mem-size to 1.5Gb (Thanks to Thomas Lumley for his help)
> -Use a max.dist (10km) for the function Krige
> -Run the Krige computation for each separate animal location while using a
> repeat loop
> -Select only those sample locations and data (depth soundings) within a 20km
> by 20km box around the animal location (So the Krige function does not need
> to calculate the distance between the animal location and all the 2 million
> sample locations)
>
> However the error: cannot allocate vector of 24432 Kb still remains. For
> that particular computation only 1500 sample locations and data where used.
> After that computation my memory.size (TRUE) is 1,654,243,233  and
> memory.size() is 654,345,998.

Well, you must be using Windows then, but please tell us.

> Does this mean that this (small) computation requires 1 Gb?

No, it means what you did in that session did.


> Below I outline how I heard, understood and think the memory problem is
> explained
> During one computation several vectors can be created (fragmentation).
> During this computation some vectors might be removed. These objects and
> there associated memory are put in the garbage collection. Although the
> object is removed, the memory.size() is unchanged. After the computation or
> during following computation the memory in the garbage collection is
> deallocated.
> Is this correct?

memory.size() is about the memory allocator, not R's memory usage: use
gc() for the latter.  On Windows (ONLY) when you set --max-mem-size above
256Mb there is a danger of fragmentation in the memory allocator (not in
R's usage) and the memory allocated may never be returned to the OS.
It is still available for use, though.

That Windows-specific snag is removed in the R-devel code base.


> And if so, does this mean that the memory is  piled up during a computation
> and also during a repeat loop?

It doesn't mean that. Garbage collection occurs whenever no free workspace
can be found, potentially at any R operation that allocated memory.

> I hope somebody can help me with this.

I suspect that whatever you are doing actually needs large amounts of
memory.  Windows is not good at that.  Also, none of the developers use R
under Windows for large tasks, so R under Windows may not be as good as it
could be at this.  Windows users need to remember that R is a volunteer
project, which has received very little contribution of Windows expertise.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 16 09:37:28 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 16 Nov 2001 09:37:28 +0100
Subject: [R] Finite Mixture Analysis
In-Reply-To: <5.1.0.14.2.20011115181237.00a862e0@pop4.attglobal.net>
References: <5.1.0.14.2.20011115181237.00a862e0@pop4.attglobal.net>
Message-ID: <15348.53320.61545.468161@gargle.gargle.HOWL>

>>>>> "Marc" == Marc R Feldesman <feldesmanm at pdx.edu> writes:

    Marc> Are there any S-Plus or R libraries/packages that do Finite
    Marc> Mixture Analysis following the algorithms similar to those
    Marc> implemented in Geoffrey MacLachlan's EMMIX program?

Depending on the definition of "similar",
I think you get some of it in package  
mclust

AFAIRemember, the R and S+ versions of mclust have some differences, I
think mostly because Insightful had changed (improved?) the original
Fraley/Raftery code.

Note that Venables and Ripley MASS (p.262-6) also have a somewhat extended
example of (normal) mixture fitting.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From muw at meteoswiss.ch  Fri Nov 16 10:10:07 2001
From: muw at meteoswiss.ch (Wolfgang Mueller)
Date: Fri, 16 Nov 2001 10:10:07 +0100
Subject: [R] R BATCH mode
Message-ID: <3BF4D7EF.864D1CAA@meteoswiss.ch>

hihi

easy!
i would like run r in batch mode. how could i pass through arguments for
my r.script.
for example: r batch my_script.R arg1 arg2

and how must i modify the r script.

wolfgang



--
Wolfgang Mueller               Phone +41 1 256-9203,
MeteoSwiss
Kraehbuehlstr. 58,             mailto:muw at meteoswiss.ch
CH-8044 Zuerich, Switzerland   http://www.meteoswiss.ch/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Fri Nov 16 10:40:39 2001
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Fri, 16 Nov 2001 10:40:39 +0100 (CET)
Subject: [R] Finite Mixture Analysis
In-Reply-To: <5.1.0.14.2.20011115181237.00a862e0@pop4.attglobal.net>
Message-ID: <Pine.LNX.4.21.0111161039140.5805-100000@sara>

On Thu, 15 Nov 2001, Marc R. Feldesman wrote:

> Are there any S-Plus or R libraries/packages that do Finite Mixture 
> Analysis following the algorithms similar to those implemented in Geoffrey 
> MacLachlan's EMMIX program?

Try package mclust. Not exactly the same, but similar. (If I remember it
correctly, differences are explained in McLachlan and Peel, Finite Mixture
Models, 2000.

Best,
Christian

> 
> Thanks.
> 
> 
> Dr. Marc R. Feldesman
> email:  feldesmanm at pdx.edu
> email:  feldesman at attglobal.net
> fax:    503-725-3905
> 
> "Don't know where I'm going.
> Don't like where I've been.
> There may be no exit.
> But hell, I'm going in."  Jimmy Buffett
> 
> Powered by Superchoerus - the 700 MHz Coppermine Box
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Fri Nov 16 12:37:55 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Fri, 16 Nov 2001 11:37:55 +0000 (GMT)
Subject: [R] case conversion and/or string comparison
Message-ID: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>

This is no doubt trivial but after searching the help files and the web, I 
cannot seem to find it.

1) How do I convert 'hgt' into 'HGT' in R?
2) How should I have used the help facilities to find this?

At the end of the day, all I want to do is case insensitive string 
matching... i.e. 'if ("HGT" == 'hgt') print('this should be true')'

I tried using some of the regular expression tools but I had some trouble 
interpreting the results:

 > grep("HGT", "hgt", ignore.case = T)     
 [1] 1
 > grep("HGT", "tem", ignore.case = T)
 numeric(0)

This appears to be what I want. However, putting an 'if' around this 
fails for the false case.

 > if ( grep("HGT", "tem", ignore.case = T) ) print('hi');
 Error in if (grep("HGT", "tem", ignore.case = T)) print("hi") : 
         argument of if(*) is not interpretable as logical

I suppose that R cannot interpret 'if (numeric(0))'.  I would think the 
following would work?

 > grep("HGT", "hgt", ignore.case = T) == 1
 [1] TRUE
 > grep("HGT", "tem", ignore.case = T) == 1
 logical(0)

Note that the bottom is not 'FALSE'?  Why?

 > if (grep("HGT", "tem", ignore.case = T) == 1) print('hi');
 Error in if (grep("HGT", "tem", ignore.case = T) == 1) print("hi") : 
         missing value where logical needed

I suppose that R cannot interpret 'if (logical(0))' either?

So my question is:  How to I return a logical 'TRUE/FALSE' when 
comparing 2 strings?  Clearly, I am missing something.

Thanks in advance,
Randall

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Fri Nov 16 12:52:58 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Fri, 16 Nov 2001 06:52:58 -0500
Subject: [R] sub directories in the tests directory of a package
Message-ID: <15348.65050.824365.207891@gargle.gargle.HOWL>

It seems like any directories (and their contents) beneath the /tests directory of an R package are
not copied over completely when R CMD check is run. This causes problems (for
me) when the tests for a function require some sort of directory structure. For
example, I have an R function that iteratively searches through a directory
tree for a specific file. Currently, I can not put the inputs for a test for
that function in the /tests directory. It would seem that better behavior would
be for R CMD check to simply (recursively) copy everything from the /tests
directory in the package into the /tests directory in the .Rcheck directory,
similar to the way that everything in /inst is copied over during INSTALL.

Any suggestions? I poked around in the R CMD check code, but my Perl is even
worse than my R. Or am I missing something?

Thanks,

Dave Kane 


> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Fri Nov 16 12:56:48 2001
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Fri, 16 Nov 2001 11:56:48 -0000
Subject: [R] case conversion and/or string comparison
References: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>
Message-ID: <00bb01c16e95$c555c6c0$cb8801a3@sbs.ox.ac.uk>

>
>  > grep("HGT", "hgt", ignore.case = T) == 1
>  [1] TRUE
>  > grep("HGT", "tem", ignore.case = T) == 1
>  logical(0)
>
> Note that the bottom is not 'FALSE'?  Why?
>

That's because grep returns the *indices* of the elements of x that yielded
a match.  If there are no matches, then grep returns a (numeric) vector of
length 0.  A quick and dirty way of achieving what you want would therefore
be to test the length of the vector returned, eg,

if (length(grep("HGT","tem",ignore.case=T))==0) print("hi")

I'm sure there is a better way, though!

Dave



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov 16 13:20:51 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 16 Nov 2001 07:20:51 -0500 (EST)
Subject: [R] case conversion and/or string comparison
In-Reply-To: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>
Message-ID: <Pine.LNX.4.30.0111160719330.13849-100000@bolker.zoo.ufl.edu>


  Here are some hacks:

test <- "BIG"
letters[match(strsplit(test,"")[[1]],LETTERS)]

test2 <- "BIGsmall"
v <- strsplit(test2,"")[[1]]
ucase <- v %in% LETTERS
v[ucase] <- letters[match(v[ucase],LETTERS)]
paste(v,collapse="")

 I'm not sure how you would have found this in the help system ...


On Fri, 16 Nov 2001, Randall Skelton wrote:

> This is no doubt trivial but after searching the help files and the web, I
> cannot seem to find it.
>
> 1) How do I convert 'hgt' into 'HGT' in R?
> 2) How should I have used the help facilities to find this?
>
> At the end of the day, all I want to do is case insensitive string
> matching... i.e. 'if ("HGT" == 'hgt') print('this should be true')'
>
> I tried using some of the regular expression tools but I had some trouble
> interpreting the results:
>
>  > grep("HGT", "hgt", ignore.case = T)
>  [1] 1
>  > grep("HGT", "tem", ignore.case = T)
>  numeric(0)
>
> This appears to be what I want. However, putting an 'if' around this
> fails for the false case.
>
>  > if ( grep("HGT", "tem", ignore.case = T) ) print('hi');
>  Error in if (grep("HGT", "tem", ignore.case = T)) print("hi") :
>          argument of if(*) is not interpretable as logical
>
> I suppose that R cannot interpret 'if (numeric(0))'.  I would think the
> following would work?
>
>  > grep("HGT", "hgt", ignore.case = T) == 1
>  [1] TRUE
>  > grep("HGT", "tem", ignore.case = T) == 1
>  logical(0)
>
> Note that the bottom is not 'FALSE'?  Why?
>
>  > if (grep("HGT", "tem", ignore.case = T) == 1) print('hi');
>  Error in if (grep("HGT", "tem", ignore.case = T) == 1) print("hi") :
>          missing value where logical needed
>
> I suppose that R cannot interpret 'if (logical(0))' either?
>
> So my question is:  How to I return a logical 'TRUE/FALSE' when
> comparing 2 strings?  Clearly, I am missing something.
>
> Thanks in advance,
> Randall
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tarfanelli at cipolla.polito.it  Fri Nov 16 13:23:52 2001
From: tarfanelli at cipolla.polito.it (Davide Tarfanelli)
Date: Fri, 16 Nov 2001 13:23:52 +0100 (CET)
Subject: [R] histogram 
Message-ID: <Pine.LNX.4.10.10111161321240.32341-100000@cipolla.polito.it>



---------- Forwarded message ----------
Hey, I'm student of Politecnico,Torino
 and I'm starting to employ R.
Can you help me to plot 
two series of dates (e.g A and B) on the same
histogram.I would like to
see on the graphic one histogram
with the bins of A near to these of B 
Thanks
Davide



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Nov 16 13:45:00 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 16 Nov 2001 13:45:00 +0100
Subject: [R] case conversion and/or string comparison
In-Reply-To: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>
Message-ID: <B81AC8DC.C265%pflugshaupt@geobot.umnw.ethz.ch>

On 16.11.2001 12:37 Uhr, Randall Skelton wrote:

> This is no doubt trivial but after searching the help files and the web, I
> cannot seem to find it.
> 
> 1) How do I convert 'hgt' into 'HGT' in R?

There are the functions tolower() and toupper(). They work as one would
expect:

> toupper("hgt")
[1] "HGT"

With either of them, the comparison you mention is easy:

compareCaseless <- function(string1, string2)
    return(toupper(string1) == toupper(string2))

> compareCaseless("hgt", "HGT")
[1] TRUE

> 2) How should I have used the help facilities to find this?
> 

Hmm. help.search("case") does not give them, nor does help.search("string").
Nor do, in fact, help.search("upper") or "lower". I just found them
indirectly via help.search("character"), which mentioned the chartr()
function. On its help page, those two functions are noted.

Maybe they deserve to be better advertised?


Cheers

Kapar Pflugshaupt 



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 16 13:48:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Nov 2001 12:48:59 +0000 (GMT)
Subject: [R] case conversion and/or string comparison
In-Reply-To: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>
Message-ID: <Pine.LNX.4.31.0111161240001.8599-100000@gannet.stats>

On Fri, 16 Nov 2001, Randall Skelton wrote:

> This is no doubt trivial but after searching the help files and the web, I
> cannot seem to find it.
>
> 1) How do I convert 'hgt' into 'HGT' in R?

Use toupper().

> 2) How should I have used the help facilities to find this?

We need real keywords in the help system. One day ....



> At the end of the day, all I want to do is case insensitive string
> matching... i.e. 'if ("HGT" == 'hgt') print('this should be true')'

As in fitdistr (in MASS) which has

        distname <- tolower(densfun)
        densfun <- switch(distname, beta = dbeta, cauchy = dcauchy,
            "chi-squared" = dchisq, exponential = dexp, f = df,
            gamma = dgamma, "log-normal" = dlnorm, lognormal = dlnorm,
            logistic = dlogis, "negative binomial" = dnbinom,
            normal = dnorm, t = mydt, uniform = dunif, weibull = dweibull,
            NULL)
....

> I tried using some of the regular expression tools but I had some trouble
> interpreting the results:
>
>  > grep("HGT", "hgt", ignore.case = T)
>  [1] 1
>  > grep("HGT", "tem", ignore.case = T)
>  numeric(0)
>
> This appears to be what I want. However, putting an 'if' around this
> fails for the false case.
>
>  > if ( grep("HGT", "tem", ignore.case = T) ) print('hi');
>  Error in if (grep("HGT", "tem", ignore.case = T)) print("hi") :
>          argument of if(*) is not interpretable as logical
>
> I suppose that R cannot interpret 'if (numeric(0))'.  I would think the
> following would work?
>
>  > grep("HGT", "hgt", ignore.case = T) == 1
>  [1] TRUE
>  > grep("HGT", "tem", ignore.case = T) == 1
>  logical(0)
>
> Note that the bottom is not 'FALSE'?  Why?
>
>  > if (grep("HGT", "tem", ignore.case = T) == 1) print('hi');
>  Error in if (grep("HGT", "tem", ignore.case = T) == 1) print("hi") :
>          missing value where logical needed
>
> I suppose that R cannot interpret 'if (logical(0))' either?

Right.  You would do better to use regexpr than grep.

>
> So my question is:  How to I return a logical 'TRUE/FALSE' when
> comparing 2 strings?  Clearly, I am missing something.
>
> Thanks in advance,
> Randall
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Fri Nov 16 14:35:19 2001
From: markhall at gol.com (Mark E. Hall)
Date: Fri, 16 Nov 2001 22:35:19 +0900
Subject: [R] Finite Mixture Analysis
In-Reply-To: <Pine.LNX.4.21.0111161039140.5805-100000@sara>
Message-ID: <000801c16ea3$94bb1de0$8c14d8cb@01680437>



> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Christian Hennig
> Sent: Friday, November 16, 2001 6:41 PM
> To: Marc R. Feldesman
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Finite Mixture Analysis
> 
> On Thu, 15 Nov 2001, Marc R. Feldesman wrote:
> 
> > Are there any S-Plus or R libraries/packages that do Finite Mixture
> > Analysis following the algorithms similar to those implemented in
Geoffrey
> > MacLachlan's EMMIX program?
> 
> Try package mclust. Not exactly the same, but similar. (If I remember
it
> correctly, differences are explained in McLachlan and Peel, Finite
Mixture
> Models, 2000.
> 
> Best,
> Christian


The differences in implementation and their resulting effects are
discussed in 
Papageorgiou et al., "Model-based cluster analysis of artifact
compositional data," ARCHAEOMETRY, Vol. 43, No. 4, 2001, pp. 571-588.

Best, MEH



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri Nov 16 15:18:58 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 16 Nov 2001 15:18:58 +0100 (MET)
Subject: [R] $name vs. [["name"]]
Message-ID: <Pine.OSF.4.30.0111161512210.130123-100000@alrami>

Dear all,

I have been away for a month, but some time ago, I noted something that
was very surprising to me. I think this example illustrates it well:
> test <- data.frame(col1 = c(1,2), col2=c(3, 4))
> test
  col1 col2
1    1    3
2    2    4
> apply(test, 1, function(x) browser())
Called from: FUN(newX[, i], ...)
Browse[1]> x$col1
NULL
Browse[1]> x[["col1"]]
[1] 1
Browse[1]> x[["col2"]]
[1] 3
Browse[1]> x$col2
NULL

it seems like the $name notation and the [["name"]] notation are
different, yet, what I understand from the intro, they should be
identical.

What's the deal?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 16 15:31:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 15:31:05 +0100
Subject: [R] $name vs. [["name"]]
In-Reply-To: <Pine.OSF.4.30.0111161512210.130123-100000@alrami>
References: <Pine.OSF.4.30.0111161512210.130123-100000@alrami>
Message-ID: <x2zo5mvlcm.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> Dear all,
> 
> I have been away for a month, but some time ago, I noted something that
> was very surprising to me. I think this example illustrates it well:
> > test <- data.frame(col1 = c(1,2), col2=c(3, 4))
> > test
>   col1 col2
> 1    1    3
> 2    2    4
> > apply(test, 1, function(x) browser())
> Called from: FUN(newX[, i], ...)
> Browse[1]> x$col1
> NULL
> Browse[1]> x[["col1"]]
> [1] 1
> Browse[1]> x[["col2"]]
> [1] 3
> Browse[1]> x$col2
> NULL
> 
> it seems like the $name notation and the [["name"]] notation are
> different, yet, what I understand from the intro, they should be
> identical.
> 
> What's the deal?

x is a vector at that stage and $ works on lists and data frames. Try

x <- 1:3 ; names(x)<-letters[1:3] ; x[["b"]] ; x$b

(Actually, I'm mildly surprised that x$b doesn't give an error...)

Even for data frames $ and [[ aren't quite the same since method
dispatch differs.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Nov 16 15:31:02 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 16 Nov 2001 15:31:02 +0100
Subject: [R] case conversion and/or string comparison
Message-ID: <OFA9B2328B.7FAD88FE-ONC1256B06.004FA124@eurotel.cz>


?toupper

converts lower-case to upper-case.
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 11/16/01 2:53:33 PM
To: <r-help at stat.math.ethz.ch>
Subject: [R] case conversion and/or string comparison

This is no doubt trivial but after searching the help files and the web, I
cannot seem to find it.

1) How do I convert 'hgt' into 'HGT' in R?
2) How should I have used the help facilities to find this?

At the end of the day, all I want to do is case insensitive string
matching... i.e. 'if ("HGT" == 'hgt') print('this should be true')'

I tried using some of the regular expression tools but I had some trouble
interpreting the results:

 > grep("HGT", "hgt", ignore.case = T)
 [1] 1
 > grep("HGT", "tem", ignore.case = T)
 numeric(0)

This appears to be what I want. However, putting an 'if' around this
fails for the false case.

 > if ( grep("HGT", "tem", ignore.case = T) ) print('hi');
 Error in if (grep("HGT", "tem", ignore.case = T)) print("hi") :
         argument of if(*) is not interpretable as logical

I suppose that R cannot interpret 'if (numeric(0))'.  I would think the
following would work?

 > grep("HGT", "hgt", ignore.case = T) == 1
 [1] TRUE
 > grep("HGT", "tem", ignore.case = T) == 1
 logical(0)

Note that the bottom is not 'FALSE'?  Why?

 > if (grep("HGT", "tem", ignore.case = T) == 1) print('hi');
 Error in if (grep("HGT", "tem", ignore.case = T) == 1) print("hi") :
         missing value where logical needed

I suppose that R cannot interpret 'if (logical(0))' either?

So my question is:  How to I return a logical 'TRUE/FALSE' when
comparing 2 strings?  Clearly, I am missing something.

Thanks in advance,
Randall

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov 16 17:04:03 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 16 Nov 2001 11:04:03 -0500 (EST)
Subject: [R] simultaneous equation estimation?
In-Reply-To: <5.1.0.14.2.20011112073242.01d25f90@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.30.0111161042200.14130-100000@bolker.zoo.ufl.edu>

On Mon, 12 Nov 2001, John Fox wrote:

> A more general question that is implicit in many postings to the list is
> how to find functions in contributed packages on CRAN. One can use the
> help.search function for this purpose to search installed packages, but I'm
> unaware of a means for searching the contents of *all* packages. It would
> be nice to be able to do so.
>

  Somewhere within my "bbmisc" package bundle (available from
http://www.zoo.ufl.edu/bolker/R/linux or .../R/windows) is a package
"CRANsearch".  The function CRAN.create.index() downloads all of the
current package descriptions from
CRAN, processes them slightly, and stores a local copy.  One can then use
a function "help.search.CRAN" to do the equivalent of "help.search" over
all of those packages ...

  e.g.

cind <- create.CRAN.index()
help.search.CRAN("structur",cind)
help.search.CRAN("structur",cind,packages.only=TRUE)
help.search.CRAN("2SLS",cind) ## still doesn't work -- experts are better...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hrthiess at student.math.uwaterloo.ca  Fri Nov 16 17:39:44 2001
From: hrthiess at student.math.uwaterloo.ca (Heather Thiessen)
Date: Fri, 16 Nov 2001 11:39:44 -0500 (EST)
Subject: [R] problems with assigning classes
Message-ID: <Pine.SOL.4.05.10111161134360.27448-100000@bacon.math.uwaterloo.ca>


I am applying classification methods to a dataset with 2 classes; where
y=0 - non survival and y=1 - survival.  When using ldq, qda, glm, gam
,etc. y=0 is assigned as class 1 and y=1 is assigned as class 0.  How can
I always assign y=0 as class 0 and y=1 as class 1?

Thank you for your time,

Heather Thiessen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Nov 16 18:03:51 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 16 Nov 2001 12:03:51 -0500 (EST)
Subject: [R] simultaneous equation estimation?
Message-ID: <200111161703.fAGH3pp10172@cattell.psych.upenn.edu>

>> A more general question that is implicit in many postings to the list is
>> how to find functions in contributed packages on CRAN. One can use the
>> help.search function for this purpose to search installed packages, but I'm
>> unaware of a means for searching the contents of *all* packages. It would
>> be nice to be able to do so.

I have also been thinking about this, as a result of looking at
error logs on http://finzi.psych.upenn.edu.  Most of the errors
(aside from worms looking for a Microsoft web server to infect)
are attempts to find help files of contributed packages.  My
current plan is to install as many of these as possible -
possibly all of them - by the end of the month.  Then you will be
able to use my search engine (url above) to look through
packages.  This should be REALLY powerful when the new version of
HdDig becomes available, which will allow searching by phrases.
(It is in "beta" now, but I'm waiting.)

I will post to this list if and when these changes are made.
Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Nov 16 18:41:16 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 16 Nov 2001 18:41:16 +0100 (MET)
Subject: [R] Best/safest way to use UseMethod()?
Message-ID: <Pine.GSO.4.10.10111161839100.19558-100000@speed.maths.lth.se>

I raised the questions below a couple of months ago by sending it to the developers mailing list, but I don't know if it got through since no one replied to it.
 
Looking at the [R] distribution, the UseMethod() is used in the following way:
 
  alias <- function(object, ...) UseMethod("alias")
 
or
 
  barplot <- function(height, ...) UseMethod("barplot")
 
What I would like to point out here is that there is a first argument ('object' and 'height'). This might give a conflict if some one do like this    

  foo.Bar <- function(this, x=0, xidx=0) {
  	cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
  }
  
  foo.default <- function(...) {
  	str("Error: No default function found!");
  }
  
  foo <- function(x, ...) UseMethod("foo");
  
  obj <- "Hello world!";
  class(obj) <- "Bar";
  
  foo(obj);
  foo(obj, xidx=1);
  foo(obj, x=1);             # <- PROBLEM HERE!
  foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
  foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
  foo.Bar(obj, x=1);
  foo.Bar(obj, x=1, xidx=1);

you will get that all the calls with an 'x=1' will call the default function. I just reported this as a bug, but as Peter Dalgaard kindly replied, the problem is that I used the argument 'x' in the defintion of the generic foo() function. Obvious, but I never saw since I kept all the foo() functions in different files. 

So to my question, is it correct to write a generic function without a first argument, e.g.

  foo <- function(...) UseMethod("foo");

It is obvious you would like to have '...'. It works for me, but can I expect it to work in the future? Also, is there are reason for not doing like this in the [R] core distribution? I think it would be safer and remove some strange behaviour for programmers "down the stream".



A related question here is, is there a reason why not all methods are defined generic with a '.default' definition too? For instance, now 'cat' is defined as

  cat <- function(..., file="", sep=" ", fill=FALSE, labels=NULL, append=FALSE) { ... }

If I create a class MyClass with a function cat (very probable), I would have to create a generic cat() function. Now I would like to distribute my class in a library/package and I do not have control of what libraries the user will load. Then I would need to do

  if (!exists("cat.default")) {
    if (exists("cat")) 
      cat.default <- cat
    else
      cat <- function(x, ...) stop("No default method defined!");
  }
  cat <- function(x, ...) UseMethod("cat");

to make sure that 1) there is a generic cat() function and that possible previously defined cat() functions are still available. I think this is "almost" a safe strategy, but I am not sure.


Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
hb at maths.lth.se, http://www.maths.lth.se/matstat/staff/hb/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Fri Nov 16 19:19:30 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Fri, 16 Nov 2001 18:19:30 +0000 (GMT)
Subject: [R] Data Structures
Message-ID: <Pine.LNX.4.33.0111161719560.11752-100000@mulligan.atm.ox.ac.uk>

Hi all,

Thanks to everyone who replied to my change of case question... I doubt I
would have ever randomly guessed 'toupper' or 'tolower'.

I am trying to be cleaver[1] and make a flexible data structure in R.  I 
have a relatively large quantity of data that can be broadly grouped into 
blocks/chunks which are identical in their form:

  blockid = numeric
  blocktype = string
  dbname = string
  tblname = string
  quality = numeric
  errortype = numeric
  columnamount = data vector
  distr = data vector
  ...

I have grouped the above into a list as it contains mixed variable types.

Now is where things get a little more interesting... I have a large number
of the above blocks which I would like to assemble into an array of 
lists or perhaps a 'list of lists' (if I choose to include some other 
ancillary variables that apply to the global list structure).  Of course,
I am trying to do this generically in a function:

    for (i in 1:N) {
	...
        # Get each data block
        block <- get.DataBlockFromDb(db,tbl,name);
	...
    } 

where N is of unknown size (depends on the amount of data I am trying to
assimilate) and block is my list object from above.  I have tried to make
an array of list objects (like an array of structures in C?) but this
doesn't seem to work.  i.e.

        block[i] <- get.DataBlockFromDb(db,tbl,name);

where block is some form of a 1 dimensional array.

About the only thing I can seem to do is make a list of lists but I cannot
figure out how to create such a list in my for-loop construction above?  
Is there a function in R that would allow me to add/remove a new object to
an already defined list?  i.e. is it possible to 'grow' or 'shrink' a
previously defined list?  If nothing like this exists, is it *possible* to 
create a set of functions in R or C?

Cheers,
Randall

[1] I am using the term 'cleaver' rather loosely here-- especially given
the amount of time and thought this is taking.  What this really boils
down to is how to encapsulate complicated data structures in R so that I
can make an object and write code that then will act appropriately on the
object.  In my case, each block contains data which is not necessarily
taken from the same source and may be of completely different quality,
length, etc.  In this case, it isn't particularly clear to me how I can
invoke a standard 2 dimensional table (aka data frame). Am I missing 
something?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at julius.ling.ohio-state.edu  Sat Nov 17 13:05:19 2001
From: vasishth at julius.ling.ohio-state.edu (Shravan Vasishth)
Date: Sat, 17 Nov 2001 07:05:19 -0500 (EST)
Subject: [R] xyplot link missing
Message-ID: <Pine.SOL.4.33.0111170623520.23777-100000@julius.ling.ohio-state.edu>

Hi,

I am trying to install the nlme package, but during installation I get
the message

<snip>

  pdSymm                            text    html    latex   example
  plot.ACF                          text    html    latex   example
     missing link(s):  xyplot
  plot.Variogram                    text    html    latex   example
     missing link(s):  xyplot
  plot.augPred                      text    html    latex   example
     missing link(s):  xyplot
  plot.compareFits                  text    html    latex   example

<snip>

  plot.nffGroupedData               text    html    latex   example
  plot.nfnGroupedData               text    html    latex   example
     missing link(s):  xyplot
  plot.nmGroupedData                text    html    latex   example

<snip>

These missing links occur only because S(PLUS) has xyplot but R does not,
correct?  That's what the old  mailing list messages (1999) suggest.

Thanks,

-- 
Shravan Vasishth
Dept. of Linguistics
Ohio State University
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 17 14:38:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 Nov 2001 13:38:33 +0000 (GMT)
Subject: [R] xyplot link missing
In-Reply-To: <Pine.SOL.4.33.0111170623520.23777-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.31.0111171334430.14605-100000@gannet.stats>

On Sat, 17 Nov 2001, Shravan Vasishth wrote:

> I am trying to install the nlme package, but during installation I get
> the message
>
> <snip>
>
>   pdSymm                            text    html    latex   example
>   plot.ACF                          text    html    latex   example
>      missing link(s):  xyplot
>   plot.Variogram                    text    html    latex   example
>      missing link(s):  xyplot
>   plot.augPred                      text    html    latex   example
>      missing link(s):  xyplot
>   plot.compareFits                  text    html    latex   example
>
> <snip>
>
>   plot.nffGroupedData               text    html    latex   example
>   plot.nfnGroupedData               text    html    latex   example
>      missing link(s):  xyplot
>   plot.nmGroupedData                text    html    latex   example
>
> <snip>
>
> These missing links occur only because S(PLUS) has xyplot but R does not,
> correct?  That's what the old  mailing list messages (1999) suggest.

R does not have xyplot *unless* lattice (on CRAN in Devel, need grid too)
has been installed.

It would be better if the links were of the form \link[lattice]{xyplot},
I believe.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asmagro at uol.com.br  Sat Nov 17 14:58:43 2001
From: asmagro at uol.com.br (Alexandre Magro)
Date: Sat, 17 Nov 2001 11:58:43 -0200
Subject: [R] R for Mac: running other apps simultaneously
Message-ID: <B81C0173.848%asmagro@uol.com.br>

How can I run other applications in the Macintosh while R is processing
program (e.g. A loop)?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sat Nov 17 17:01:45 2001
From: ozric at web.de (ozric@web.de)
Date: Sat, 17 Nov 2001 17:01:45 +0100
Subject: [R] tracking data
Message-ID: <200111171601.fAHG1ik18830@mailgate5.cinetic.de>

hello,
is it possible in R to combine with a RODBC query 
a timing/date function to refresh plots and analysis after 
a time step automatic ( example: i get via php/mySql every day 100 records and would like refresh a linear regression every end of day at 8.00 p.m. ) ?

thanks for advance
& Regards,christian



____________________________________________________
Berufsunf?higskeitversicherung von Mamax bei WEB.DE. 
Jetzt informieren! http://bu.web.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Nov 17 18:27:44 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 17 Nov 2001 12:27:44 -0500 (EST)
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
Message-ID: <Pine.LNX.4.33.0111171215480.1339-100000@Chrestomanci>


Dear People,

After considerable effort, I managed to install gcc-3.0 on my Debian
system. However, Debian keeps gcc-2.95 around as the default compiler, and
gcc, g++ point to the 2.95 version. The 3.0 versions need to be explicitly
invoked as gcc-3.0, g++-3.0 etc. How can I get R CMD SHLIB to invoke
gcc-3.0 instead of gcc and g++-3.0 instead of g++? I would like this to be
done by default but only for R. That is, I would like everything except R
CMD SHLIB to call the 2.95 versions by default, but have R CMD SHLIB to
call the 3.0 versions by default.

I didn't see this issue addressed in "Writing R Extensions". Is there a
way to do this?

                                  Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Nov 17 18:42:30 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 17 Nov 2001 11:42:30 -0600
Subject: [R] tracking data
In-Reply-To: <200111171601.fAHG1ik18830@mailgate5.cinetic.de>
References: <200111171601.fAHG1ik18830@mailgate5.cinetic.de>
Message-ID: <15350.41350.486868.212670@sonny.eddelbuettel.com>


  "Christian" == ozric  <ozric at web.de> writes:
  Christian>  hello, is it possible in R to combine with a RODBC query a
  Christian> timing/date function to refresh plots and analysis after a time
  Christian> step automatic ( example: i get via php/mySql every day 100
  Christian> records and would like refresh a linear regression every end of
  Christian> day at 8.00 p.m. ) ?

Yes, in particular with the tcltk toolkit and its event loop.  I can't name
the command with which you would control the event loop, though.

If you want to keep it in R itself, just use something like 

   while(1) {
     do_my_data_gathering_from_mySQL()
     do_my_plotting()
     Sys.sleep(24*60*60)	# sleep one day
   }

with suitable code in those two do_my_* functions.

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 17 18:49:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 Nov 2001 17:49:11 +0000 (GMT)
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <Pine.LNX.4.33.0111171215480.1339-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.31.0111171742170.14748-100000@gannet.stats>

On Sat, 17 Nov 2001, Faheem Mitha wrote:

>
> Dear People,
>
> After considerable effort, I managed to install gcc-3.0 on my Debian
> system. However, Debian keeps gcc-2.95 around as the default compiler, and
> gcc, g++ point to the 2.95 version. The 3.0 versions need to be explicitly
> invoked as gcc-3.0, g++-3.0 etc. How can I get R CMD SHLIB to invoke
> gcc-3.0 instead of gcc and g++-3.0 instead of g++? I would like this to be
> done by default but only for R. That is, I would like everything except R
> CMD SHLIB to call the 2.95 versions by default, but have R CMD SHLIB to
> call the 3.0 versions by default.
>
> I didn't see this issue addressed in "Writing R Extensions". Is there a
> way to do this?

It's nothing to do with "Writing R Extensions": it is an installation
issue.  If you build R with CC=gcc-3.0, CXX=g++-3.0 then these will be
recorded in RHOME/etc/Makeconf and used by R CMD SHLIB (at least, that
works for me).  I suspect manually editing that file will do what you
want.

However, a warning.  FLIBS is also set at build time (configure time),
and the correct specification for gcc 3.0.x is not the same as for gcc
2.95.x.   I think it would be a lot safer to rebuild R under your favoured
compilers.

The FLIBS problem arises if compilers are updated so g77 refers to 3.0.x,
BTW.  It may not be relevant is you only want to compile C and C++.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Nov 17 18:53:23 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 17 Nov 2001 11:53:23 -0600
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <Pine.LNX.4.33.0111171215480.1339-100000@Chrestomanci>
References: <Pine.LNX.4.33.0111171215480.1339-100000@Chrestomanci>
Message-ID: <15350.42003.656767.37374@sonny.eddelbuettel.com>


  "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:
  Faheem>  Dear People,
  Faheem> 
  Faheem> After considerable effort, I managed to install gcc-3.0 on my
  Faheem> Debian system. However, Debian keeps gcc-2.95 around as the default

Provided you told apt about testing or unstable, all you need is 

     $ apt-get update; apt-get install gcc-3.0

What is wrong with that?

  Faheem> compiler, and gcc, g++ point to the 2.95 version. The 3.0 versions

Depends. Some architectures (hppa) only have the 3.0* branch of gcc.

  Faheem> need to be explicitly invoked as gcc-3.0, g++-3.0 etc. How can I
  Faheem> get R CMD SHLIB to invoke gcc-3.0 instead of gcc and g++-3.0
  Faheem> instead of g++? I would like this to be done by default but only
  Faheem> for R. That is, I would like everything except R CMD SHLIB to call
  Faheem> the 2.95 versions by default, but have R CMD SHLIB to call the 3.0
  Faheem> versions by default.

One full-blown way is to re-configure and build R with these.  An easy is to
(provided you told apt about source archives)

     $ apt-get source r-base
     $ cd r-base-1.3.1
     [ go off and edit debian/rules; just uncomment my stanza about using
       gcc/g++/g77-3.0 on i386 in lines 62-68 in the r-base_1.3.1-5 package
       currently in http://incoming.debian.org ] 
     [ you also want to change debian/changelog to make the revision, say,
       1.3.1-5local to protect it from being overwritten by the one from the
       archive ] 
     $ fakeroot dpkg-buildpackage
     $ su -c "dpkg -i ../r-base_1.3.1-5local_i386.deb"

and you should be all set.

A more hackish way is to simply define CC=gcc-3.0, CXX=g++-3.0, FC=g77-3.0
and to export those. You will end up mixing gcc-2.95 and gcc-3.0, not sure if
that works.
 
  Faheem> I didn't see this issue addressed in "Writing R Extensions". Is
  Faheem> there a way to do this?

It is way too distribution-specific to be covered there, and almost too
specific for this list.

Hope this helps. Bug me privately if you need more help.

Cheers, Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 17 18:54:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 17 Nov 2001 17:54:56 +0000 (GMT)
Subject: [R] tracking data
In-Reply-To: <15350.41350.486868.212670@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111171749480.14748-100000@gannet.stats>

On Sat, 17 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Christian" == ozric  <ozric at web.de> writes:
>   Christian>  hello, is it possible in R to combine with a RODBC query a
>   Christian> timing/date function to refresh plots and analysis after a time
>   Christian> step automatic ( example: i get via php/mySql every day 100
>   Christian> records and would like refresh a linear regression every end of
>   Christian> day at 8.00 p.m. ) ?
>
> Yes, in particular with the tcltk toolkit and its event loop.  I can't name
> the command with which you would control the event loop, though.
>
> If you want to keep it in R itself, just use something like
>
>    while(1) {
>      do_my_data_gathering_from_mySQL()
>      do_my_plotting()
>      Sys.sleep(24*60*60)	# sleep one day
>    }
>
> with suitable code in those two do_my_* functions.

Or run a shorter sleep loop, say for 5 minutes, and use Sys.time()) to
check that it's after 8pm and the update has not been run that day.

But I would set a cron job to launch R and run an update script at 8pm
every night.  That would work even if you get a system reboot (or even an
R crash).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Nov 17 19:38:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 10:38:48 -0800 (PST)
Subject: [R] R BATCH mode
In-Reply-To: <3BF4D7EF.864D1CAA@meteoswiss.ch>
Message-ID: <Pine.A41.4.33.0111171038330.137786-100000@homer34.u.washington.edu>

On Fri, 16 Nov 2001, Wolfgang Mueller wrote:

> hihi
>
> easy!
> i would like run r in batch mode. how could i pass through arguments for
> my r.script.
> for example: r batch my_script.R arg1 arg2
>
> and how must i modify the r script.
>

Look at help(commandArgs)

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Nov 17 19:54:17 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 10:54:17 -0800 (PST)
Subject: [R] case conversion and/or string comparison
In-Reply-To: <Pine.LNX.4.33.0111161117450.11752-100000@mulligan.atm.ox.ac.uk>
Message-ID: <Pine.A41.4.33.0111171044140.137786-100000@homer34.u.washington.edu>

On Fri, 16 Nov 2001, Randall Skelton wrote:

<stuff that was already answered>
>
> I suppose that R cannot interpret 'if (numeric(0))'.  I would think the
> following would work?
>
>  > grep("HGT", "hgt", ignore.case = T) == 1
>  [1] TRUE
>  > grep("HGT", "tem", ignore.case = T) == 1
>  logical(0)
>
> Note that the bottom is not 'FALSE'?  Why?

In S everything is a vector, so TRUE is actually a vector of 1 logical
value and logical(0) is a vector of no logical values.  For many functions
the sensible thing to do is to operate on the vector one element at a
time, but if() can't do that -- it has to take one branch or the other. So
for if() you need a vector of length 1 -- it has to make 1 decision.  If
you give it more than one logical value it uses the first one to make its
decision; if you give it fewer than one it doesn't know what to do.

One other way around this is to use any().  any() is TRUE if its argument
is TRUE (or a number other than 0) and FALSE if its argument is FALSE, 0,
or has zero length.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Nov 18 00:57:35 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 17 Nov 2001 18:57:35 -0500 (EST)
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <Pine.LNX.4.31.0111171742170.14748-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0111171840541.1339-100000@Chrestomanci>



On Sat, 17 Nov 2001, Prof Brian Ripley wrote:

> On Sat, 17 Nov 2001, Faheem Mitha wrote:
> > How can I get R CMD SHLIB to invoke  gcc-3.0 instead of gcc and
> > g++-3.0 instead of g++?
[snip]

> It's nothing to do with "Writing R Extensions": it is an installation
> issue.  If you build R with CC=gcc-3.0, CXX=g++-3.0 then these will be
> recorded in RHOME/etc/Makeconf and used by R CMD SHLIB (at least, that
> works for me).  I suspect manually editing that file will do what you
> want.

Yes, this works. Thanks.

> However, a warning.  FLIBS is also set at build time (configure time),
> and the correct specification for gcc 3.0.x is not the same as for gcc
> 2.95.x.   I think it would be a lot safer to rebuild R under your favoured
> compilers.
>
> The FLIBS problem arises if compilers are updated so g77 refers to 3.0.x,
> BTW.  It may not be relevant is you only want to compile C and C++.

If I understand you correctly, this will only be an issue if I was to use
R to do complilation of Fortran code. I have no such plans. I have changed
all the stuff that seems relevant, CC = gcc-3.0, CXX = g++-3.0, CXXCPP =
g++-3.0 -E, SHLIB_CXXLD = g++-3.0. I have left the Fortran stuff alone, so
FC = g77 still refers to 2.95.x. In any case, I don't even have g77
installed.

Just one more question. Is it possible to override ../etc/Makeconf
locally, in the directory in which I am doing the complilation? I can use
Makevars to set flags, but it doesn't seem to work with choosing the
compiler. Ie setting CC=.. in Makevars has no effect.

Thanks for the valuable help.

                                 Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Nov 18 05:15:02 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 17 Nov 2001 23:15:02 -0500
Subject: [R] simultaneous equation estimation?
In-Reply-To: <200111161703.fAGH3pp10172@cattell.psych.upenn.edu>
Message-ID: <5.1.0.14.2.20011117231145.01d70f28@mcmail.cis.mcmaster.ca>

Dear Jonathan,

Thank you for addressing my query. I generally find your search engine very 
useful, and this should make it even more so. I wonder whether it would be 
possible to restrict searches to particular classes of documents, such as 
documentation or the rhelp archive.

John

At 12:03 PM 11/16/2001 -0500, Jonathan Baron wrote:
> >> A more general question that is implicit in many postings to the list is
> >> how to find functions in contributed packages on CRAN. One can use the
> >> help.search function for this purpose to search installed packages, 
> but I'm
> >> unaware of a means for searching the contents of *all* packages. It would
> >> be nice to be able to do so.
>
>I have also been thinking about this, as a result of looking at
>error logs on http://finzi.psych.upenn.edu.  Most of the errors
>(aside from worms looking for a Microsoft web server to infect)
>are attempts to find help files of contributed packages.  My
>current plan is to install as many of these as possible -
>possibly all of them - by the end of the month.  Then you will be
>able to use my search engine (url above) to look through
>packages.  This should be REALLY powerful when the new version of
>HdDig becomes available, which will allow searching by phrases.
>(It is in "beta" now, but I'm waiting.)
>
>I will post to this list if and when these changes are made.
>Jon Baron

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Nov 18 05:21:02 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 17 Nov 2001 23:21:02 -0500
Subject: [R] simultaneous equation estimation?
In-Reply-To: <Pine.LNX.4.30.0111161042200.14130-100000@bolker.zoo.ufl.ed
 u>
References: <5.1.0.14.2.20011112073242.01d25f90@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20011117231627.01d77a20@mcmail.cis.mcmaster.ca>

Dear Ben,

Your CRANsearch package seems like a very useful idea, but I've had trouble 
getting it to work; following your examples,

 > library(CRANsearch)
 > cind <- create.CRAN.index()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain' length 5677 bytes
opened URL
downloaded 5677 bytes

trying URL 
`http://cran.r-project.org/bin/windows/contrib/Descriptions/AnalyzeFMRI.INDEX'
Error in download.file(paste(descrip, "/", pkg, ".INDEX", sep = ""), 
paste(pkg,  :
         cannot open: HTTP status was `404'
 > help.search.CRAN("structur",cind)
Error in help.search.CRAN("structur", cind) :
         Can't find CRAN index file to load
 > help.search.CRAN("structur",cind,packages.only=TRUE)
Error in help.search.CRAN("structur", cind, packages.only = TRUE) :
         Can't find CRAN index file to load
 > help.search.CRAN("2SLS",cind) ## still doesn't work -- experts are better...
Error in help.search.CRAN("2SLS", cind) : Can't find CRAN index file to load
 >

This is on a Windows 2000 PC running version 1.3.1 of R.

John

At 11:04 AM 11/16/2001 -0500, Ben Bolker wrote:
>On Mon, 12 Nov 2001, John Fox wrote:
>
> > A more general question that is implicit in many postings to the list is
> > how to find functions in contributed packages on CRAN. One can use the
> > help.search function for this purpose to search installed packages, but I'm
> > unaware of a means for searching the contents of *all* packages. It would
> > be nice to be able to do so.
> >
>
>   Somewhere within my "bbmisc" package bundle (available from
>http://www.zoo.ufl.edu/bolker/R/linux or .../R/windows) is a package
>"CRANsearch".  The function CRAN.create.index() downloads all of the
>current package descriptions from
>CRAN, processes them slightly, and stores a local copy.  One can then use
>a function "help.search.CRAN" to do the equivalent of "help.search" over
>all of those packages ...
>
>   e.g.
>
>cind <- create.CRAN.index()
>help.search.CRAN("structur",cind)
>help.search.CRAN("structur",cind,packages.only=TRUE)
>help.search.CRAN("2SLS",cind) ## still doesn't work -- experts are better...

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 18 09:51:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 08:51:27 +0000 (GMT)
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <Pine.LNX.4.33.0111171840541.1339-100000@Chrestomanci>
Message-ID: <Pine.GSO.4.31.0111180838570.6298-100000@auk.stats>

On Sat, 17 Nov 2001, Faheem Mitha wrote:

>
>
> On Sat, 17 Nov 2001, Prof Brian Ripley wrote:
>
> > On Sat, 17 Nov 2001, Faheem Mitha wrote:
> > > How can I get R CMD SHLIB to invoke  gcc-3.0 instead of gcc and
> > > g++-3.0 instead of g++?
> [snip]
>
> > It's nothing to do with "Writing R Extensions": it is an installation
> > issue.  If you build R with CC=gcc-3.0, CXX=g++-3.0 then these will be
> > recorded in RHOME/etc/Makeconf and used by R CMD SHLIB (at least, that
> > works for me).  I suspect manually editing that file will do what you
> > want.
>
> Yes, this works. Thanks.
>
> > However, a warning.  FLIBS is also set at build time (configure time),
> > and the correct specification for gcc 3.0.x is not the same as for gcc
> > 2.95.x.   I think it would be a lot safer to rebuild R under your favoured
> > compilers.
> >
> > The FLIBS problem arises if compilers are updated so g77 refers to 3.0.x,
> > BTW.  It may not be relevant is you only want to compile C and C++.
>
> If I understand you correctly, this will only be an issue if I was to use
> R to do complilation of Fortran code. I have no such plans. I have changed
> all the stuff that seems relevant, CC = gcc-3.0, CXX = g++-3.0, CXXCPP =
> g++-3.0 -E, SHLIB_CXXLD = g++-3.0. I have left the Fortran stuff alone, so
> FC = g77 still refers to 2.95.x. In any case, I don't even have g77
> installed.

It's only an issue if you plan to compile or link against compiled Frtran
code.  In either case you need g77 installed.  Quite a few packages need
Fortran, though.

> Just one more question. Is it possible to override ../etc/Makeconf
> locally, in the directory in which I am doing the complilation? I can use
> Makevars to set flags, but it doesn't seem to work with choosing the
> compiler. Ie setting CC=.. in Makevars has no effect.

I believe that is intentional.  Neither setting CC in the environment nor
in Makevars works for me.  Makevars precedes the standard makefile.
I did make setting CC in the environment work by setting MAKE to `gmake
-e', as in (under tcsh)

auk% env MAKE='gmake -e' CC=cc R CMD SHLIB test.c


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.hagen at biologie.hu-berlin.de  Sun Nov 18 13:23:05 2001
From: e.hagen at biologie.hu-berlin.de (Edward Hagen)
Date: Sun, 18 Nov 2001 13:23:05 +0100
Subject: [R] plotting overlapping data points
Message-ID: <3BF7A829.5319DCF4@biologie.hu-berlin.de>


I am just learning to use R.  The data from my current project are
integer-valued.  I am able to create scatterplots, but I would like to
have some indication on the plots when multiple data points overlap at
the same x-y coordinate. SPSS uses 'petals', and other packages use
jitter.  Are there similar options in R?  I have not been able to find
any in the documentation.

Thanks very much,

Ed.

ps. Please respond to this email address as I am not subscribed to the
list.

-- 
Dr. Ed Hagen                     Humboldt-Universit?t zu Berlin
Innovationskolleg Theoretische Biologie  Invalidenstra?e 43
phone: +49/30 2093-8649; fax: -8801      10115 Berlin, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Sun Nov 18 14:03:14 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Sun, 18 Nov 2001 14:03:14 +0100 (MET)
Subject: [R] plotting overlapping data points
In-Reply-To: <3BF7A829.5319DCF4@biologie.hu-berlin.de>
Message-ID: <Pine.SO4.4.10.10111181352130.10538-100000@ufobi7.uni-forst.gwdg.de>

On Sun, 18 Nov 2001, Edward Hagen wrote:

> 
> I am just learning to use R.  The data from my current project are
> integer-valued.  I am able to create scatterplots, but I would like to
> have some indication on the plots when multiple data points overlap at
> the same x-y coordinate. SPSS uses 'petals', and other packages use
> jitter.  Are there similar options in R?  I have not been able to find
> any in the documentation.

jitter?????????
as in 
x<-c(2,2,3,3,5)
y<-c(2,2,4,4,7)
plot(x,jitter(y))
?
> 
> Thanks very much,
> 
> Ed.
> 
> ps. Please respond to this email address as I am not subscribed to the
> list.
> 
> -- 
> Dr. Ed Hagen                     Humboldt-Universitt zu Berlin
> Innovationskolleg Theoretische Biologie  Invalidenstrae 43
> phone: +49/30 2093-8649; fax: -8801      10115 Berlin, Germany
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.hagen at biologie.hu-berlin.de  Sun Nov 18 14:12:23 2001
From: e.hagen at biologie.hu-berlin.de (Edward Hagen)
Date: Sun, 18 Nov 2001 14:12:23 +0100
Subject: [R] plotting overlapping data points
References: <Pine.SO4.4.10.10111181352130.10538-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <3BF7B3B7.C5F18C9D@biologie.hu-berlin.de>


Oops...I think I first learned about jitter from the R-documentation
(but then forgot this)!  Is there any way to plot petals?

Thanks for your rapid reply!

Ed.

Jens Nieschulze wrote:
> 
> On Sun, 18 Nov 2001, Edward Hagen wrote:
> 
> >
> > I am just learning to use R.  The data from my current project are
> > integer-valued.  I am able to create scatterplots, but I would like to
> > have some indication on the plots when multiple data points overlap at
> > the same x-y coordinate. SPSS uses 'petals', and other packages use
> > jitter.  Are there similar options in R?  I have not been able to find
> > any in the documentation.
> 
> jitter?????????
> as in
> x<-c(2,2,3,3,5)
> y<-c(2,2,4,4,7)
> plot(x,jitter(y))
> ?
> >
> > Thanks very much,
> >
> > Ed.
> >
> > ps. Please respond to this email address as I am not subscribed to the
> > list.
> ***********************************************************************
> Jens Nieschulze
> 
> Institute for Forest Biometrics &       Phone: ++49-551-39-12107
> Applied Computer Science                Fax  : ++49-551-39-3465
> Buesgenweg 4
> 37077 Goettingen                E-mail: jniesch at uni-forst.gwdg.de
> GERMANY                         http://www.uni-forst.gwdg.de/~jniesch

-- 
Dr. Ed Hagen                     Humboldt-Universit?t zu Berlin
Innovationskolleg Theoretische Biologie  Invalidenstra?e 43
phone: +49/30 2093-8649; fax: -8801      10115 Berlin, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Nov 18 15:18:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 2001 15:18:35 +0100
Subject: [R] plotting overlapping data points
In-Reply-To: <3BF7B3B7.C5F18C9D@biologie.hu-berlin.de>
References: <Pine.SO4.4.10.10111181352130.10538-100000@ufobi7.uni-forst.gwdg.de>
	<3BF7B3B7.C5F18C9D@biologie.hu-berlin.de>
Message-ID: <x2elmwdux0.fsf@blueberry.kubism.ku.dk>

Edward Hagen <e.hagen at biologie.hu-berlin.de> writes:

> Oops...I think I first learned about jitter from the R-documentation
> (but then forgot this)!  Is there any way to plot petals?
> 
> Thanks for your rapid reply!

?sunflowerplot, perhaps?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.hagen at biologie.hu-berlin.de  Sun Nov 18 15:20:12 2001
From: e.hagen at biologie.hu-berlin.de (Edward Hagen)
Date: Sun, 18 Nov 2001 15:20:12 +0100
Subject: [R] plotting overlapping data points
References: <Pine.SO4.4.10.10111181352130.10538-100000@ufobi7.uni-forst.gwdg.de>
		<3BF7B3B7.C5F18C9D@biologie.hu-berlin.de> <x2elmwdux0.fsf@blueberry.kubism.ku.dk>
Message-ID: <3BF7C39C.E1FE3398@biologie.hu-berlin.de>


> ?sunflowerplot, perhaps?

That's it!

Thanks very much for everyone's rapid response!

Ed.

Peter Dalgaard BSA wrote:
> 
> Edward Hagen <e.hagen at biologie.hu-berlin.de> writes:
> 
> > Oops...I think I first learned about jitter from the R-documentation
> > (but then forgot this)!  Is there any way to plot petals?
> >
> > Thanks for your rapid reply!
> 
> ?sunflowerplot, perhaps?
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-- 
Ed Hagen                     Humboldt-Universit?t zu Berlin
Innovationskolleg Theoretische Biologie  Invalidenstra?e 43
phone: +49/30 2093-8649; fax: -8801      10115 Berlin, Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sun Nov 18 16:56:19 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sun, 18 Nov 2001 13:56:19 -0200
Subject: [R] plotting overlapping data points
References: <Pine.SO4.4.10.10111181352130.10538-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <003801c17049$bb5de160$ae54fea9@nautilus>

> I am just learning to use R.  The data from my current project are
> integer-valued.  I am able to create scatterplots, but I would like to
> have some indication on the plots when multiple data points overlap at
> the same x-y coordinate. SPSS uses 'petals', and other packages use
> jitter.  Are there similar options in R?  

You may also try

x<-c(2,2,3,3,5)
y<-c(2,2,4,4,7)
sunflowerplot(x,y) 

See ?sunflowerplot for details.

Antonio Olinto
Sao Paulo Fisheries Institute
BRAZIL

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Nov 18 20:18:41 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 18 Nov 2001 20:18:41 +0100
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <Pine.GSO.4.31.0111180838570.6298-100000@auk.stats>
References: <Pine.LNX.4.33.0111171840541.1339-100000@Chrestomanci>
	<Pine.GSO.4.31.0111180838570.6298-100000@auk.stats>
Message-ID: <15352.2449.900196.318167@mithrandir.hornik.net>

>>>>> Prof Brian D Ripley writes:

> On Sat, 17 Nov 2001, Faheem Mitha wrote:

>> Just one more question. Is it possible to override ../etc/Makeconf
>> locally, in the directory in which I am doing the complilation? I can use
>> Makevars to set flags, but it doesn't seem to work with choosing the
>> compiler. Ie setting CC=.. in Makevars has no effect.

> I believe that is intentional.  Neither setting CC in the environment nor
> in Makevars works for me.  Makevars precedes the standard makefile.
> I did make setting CC in the environment work by setting MAKE to `gmake
> -e', as in (under tcsh)

> auk% env MAKE='gmake -e' CC=cc R CMD SHLIB test.c

This is actually an FAQ:

How can I change compilation flags?
===================================

   Suppose you have C code file for dynloading into R, but you want to
use `R CMD SHLIB' with compilation flags other than the default ones
(which were determined when R was built).  You could change the file
``R_HOME'/etc/Makeconf' to reflect your preferences.  If you are a
Bourne shell user, you can also pass the desired flags to Make (which
is used for controlling compilation) via the Make variable `MAKEFLAGS',
as in

     MAKEFLAGS="CFLAGS=-O3" R CMD SHLIB *.c

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoffman at zappa.sax.de  Sun Nov 18 21:37:38 2001
From: thoffman at zappa.sax.de (Thomas Hoffmann)
Date: Sun, 18 Nov 2001 21:37:38 +0100
Subject: [R] Configuration: libpng needs zlib, but ...
Message-ID: <3BF81C12.322A75C4@zappa.sax.de>

I noticed that congigure reported libpng as "not found" although a
recent version exists.

Further looking into this issue told me, that the test failed because
the test
from R.m4

        AC_CHECK_LIB(png, png_create_write_struct, [
          BITMAP_LIBS="${BITMAP_LIBS} -lpng -lz"
          AC_DEFINE(HAVE_PNG)
        ], , ${LIBS})
      ], AC_MSG_RESULT([no]))
    ])

did fail:

gcc.exe -o conftest.exe -g -m486 -Zmt -Ig:/include -I/xfree86/include
-Zmt -Zcrtdll -Zsysv-signals conftest.c -lpng -lsocket -lreadline -ldl
-lncurses -lm -lcExt
g:\lib/png.a(pngwrite.o): Undefined symbol _deflateEnd referenced from
text segment
g:\lib/png.a(pngwrite.o): Undefined symbol _deflate referenced from text
segment
g:\lib/png.a(png.o): Undefined symbol _inflateReset referenced from text
segment
g:\lib/png.a(png.o): Undefined symbol _crc32 referenced from text
segment
g:\lib/png.a(png.o): Undefined symbol _crc32 referenced from text
segment
......

This is because zlib is not included in the command line (-lz). And this
has to do
with the order of calls in configure in: libz is looked for AFTER the
bitmap libs, so it 
is not in $(LIBS) yet:

......
## Bitmap headers and libraries.
R_BITMAPS

## XDR headers and library routines.
R_XDR

## zlib headers and libraries.
R_ZLIB

## POSIX times.
R_USES_LEAPSECONDS
......

I think either the order in configure.in should be changed or in R.m4
the zlib 
should be included into the OTHER-LIBRARIES branch of the macro.

-- 
Thomas Hoffmann                                    Telephone:
49-351-4598831
thoffman at zappa.sax.de                                       Dresden,
Germany

..sig under construction ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Nov 18 22:09:56 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 18 Nov 2001 16:09:56 -0500 (EST)
Subject: [R] choosing g/g++ compiler executable in R CMD SHLIB
In-Reply-To: <15352.2449.900196.318167@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.33.0111181608050.1339-100000@Chrestomanci>



On Sun, 18 Nov 2001, Kurt Hornik wrote:

> This is actually an FAQ:
>
> How can I change compilation flags?
> ===================================
>
>    Suppose you have C code file for dynloading into R, but you want to
> use `R CMD SHLIB' with compilation flags other than the default ones
> (which were determined when R was built).  You could change the file
> ``R_HOME'/etc/Makeconf' to reflect your preferences.  If you are a
> Bourne shell user, you can also pass the desired flags to Make (which
> is used for controlling compilation) via the Make variable `MAKEFLAGS',
> as in
>
>      MAKEFLAGS="CFLAGS=-O3" R CMD SHLIB *.c
>
> -k

Oh, right. Sorry, I usually look at FAQs. I feel stupid not to have
checked this one out before posting to the list. Sorry.

                                                  Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Sun Nov 18 22:26:27 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Mon, 19 Nov 2001 10:26:27 +1300
Subject: [R] documentation / Rdconv/ Perl v.5
Message-ID: <3BF8DE53.14875.14C9C75D@localhost>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1703 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011119/52a0cd2f/attachment.bin

From ripley at stats.ox.ac.uk  Sun Nov 18 22:43:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Nov 2001 21:43:05 +0000 (GMT)
Subject: [R] Configuration: libpng needs zlib, but ...
In-Reply-To: <3BF81C12.322A75C4@zappa.sax.de>
Message-ID: <Pine.LNX.4.31.0111182134550.22294-100000@gannet.stats>

Despite your claim, libz *is* looked for before the png call, for example

configure:13761: checking for main in -lz
configure:13794: checking for png.h
configure:13822: checking if libpng version >= 1.0.5
configure:13839: checking for png_create_write_struct in -lpng

in R-devel.

The bit of code you quote is inside

  AC_CHECK_LIB(z, main, [

in R_BITMAP.

Looks like LIBS gets reset in the course of that nested construct,
and I'll leave deciphering that to the expert.


On Sun, 18 Nov 2001, Thomas Hoffmann wrote:

> I noticed that congigure reported libpng as "not found" although a
> recent version exists.
>
> Further looking into this issue told me, that the test failed because
> the test
> from R.m4
>
>         AC_CHECK_LIB(png, png_create_write_struct, [
>           BITMAP_LIBS="${BITMAP_LIBS} -lpng -lz"
>           AC_DEFINE(HAVE_PNG)
>         ], , ${LIBS})
>       ], AC_MSG_RESULT([no]))
>     ])
>
> did fail:
>
> gcc.exe -o conftest.exe -g -m486 -Zmt -Ig:/include -I/xfree86/include
> -Zmt -Zcrtdll -Zsysv-signals conftest.c -lpng -lsocket -lreadline -ldl
> -lncurses -lm -lcExt
> g:\lib/png.a(pngwrite.o): Undefined symbol _deflateEnd referenced from
> text segment
> g:\lib/png.a(pngwrite.o): Undefined symbol _deflate referenced from text
> segment
> g:\lib/png.a(png.o): Undefined symbol _inflateReset referenced from text
> segment
> g:\lib/png.a(png.o): Undefined symbol _crc32 referenced from text
> segment
> g:\lib/png.a(png.o): Undefined symbol _crc32 referenced from text
> segment
> ......
>
> This is because zlib is not included in the command line (-lz). And this
> has to do
> with the order of calls in configure in: libz is looked for AFTER the
> bitmap libs, so it
> is not in $(LIBS) yet:
>
> ......
> ## Bitmap headers and libraries.
> R_BITMAPS
>
> ## XDR headers and library routines.
> R_XDR
>
> ## zlib headers and libraries.
> R_ZLIB
>
> ## POSIX times.
> R_USES_LEAPSECONDS
> ......
>
> I think either the order in configure.in should be changed or in R.m4
> the zlib
> should be included into the OTHER-LIBRARIES branch of the macro.
>
> --
> Thomas Hoffmann                                    Telephone:
> 49-351-4598831
> thoffman at zappa.sax.de                                       Dresden,
> Germany
>
> ..sig under construction ...
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Nov 18 22:48:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 2001 22:48:04 +0100
Subject: [R] documentation / Rdconv/ Perl v.5
In-Reply-To: <3BF8DE53.14875.14C9C75D@localhost>
References: <3BF8DE53.14875.14C9C75D@localhost>
Message-ID: <x2y9l3agyz.fsf@blueberry.kubism.ku.dk>

"S.McClatchie" <s.mcclatchie at niwa.cri.nz> writes:

> OK, so I hope this isn't naive, but are there instructions somewhere
> for getting and installing Perl ver. 5 for Windows 2000 (and
> configuring it to work with R?) or do I just search the web?
> 
> Help will be appreciated,
> 
> Sam

You could take a look at Brian's instructions in

http://www.stats.ox.ac.uk/pub/Rtools/

(Why is that one so difficult to locate via CRAN? It's in the
readme.packages file and in gnuwin32/INSTALL, but not e.g. in the
Windows FAQ.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 18 22:51:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Nov 2001 21:51:57 +0000 (GMT)
Subject: [R] documentation / Rdconv/ Perl v.5
In-Reply-To: <3BF8DE53.14875.14C9C75D@localhost>
Message-ID: <Pine.LNX.4.31.0111182147120.22294-100000@gannet.stats>

On Mon, 19 Nov 2001, S.McClatchie wrote:

> System info:
>
> R ver. 1.3.0  (2001-06-22) on Windows 2000

[...]

> I want to start documenting my functions and see from the writing R
> extensions manual that "The translation [of Rd files] is carried out by the
> Perl script Rdconv in $R_HOME/bin and by the installation scripts for
> packages". This suggests that I need to install Perl on my PC (is that
> right?).

Yes.

> Again, I see that: "Perl version 5 is needed for converting documentation
> written in Rd format to plain text, html, LaTEX, and to extract the
> examples. In addition, several other tools, in particular check and build
> (see Section 1.3 [Checking and building packages], page 7), require
> Perl."
>
> OK, so I hope this isn't naive, but are there instructions somewhere for
> getting and installing Perl ver. 5 for Windows 2000 (and configuring it to
> work with R?) or do I just search the web?

On Windows, see the file README.packages.  If you don't have that in the
top directory of your R installation, you didn't install support for
installing source packages, and you will need that.

The first thing to do is to upgrade to R 1.3.1 and check that option when
you do so.

You'll find it much the easiest to put your functions and documentation
into a source package and use Rcmd INSTALL on that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Nov 18 23:15:41 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 18 Nov 2001 17:15:41 -0500 (EST)
Subject: [R] documentation / Rdconv/ Perl v.5
Message-ID: <200111182215.fAIMFfO07566@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Sun Nov 18 17:05:09 2001
>Again, I see that: "Perl version 5 is needed for converting documentation 
>written in Rd format to plain text, html, LaTEX, and to extract the 
>examples. In addition, several other tools, in particular check and build 
>(see Section 1.3 [Checking and building packages], page 7), require 
>Perl."
>
>OK, so I hope this isn't naive, but are there instructions somewhere for 
>getting and installing Perl ver. 5 for Windows 2000 (and configuring it to=
> 
>work with R?) or do I just search the web?

Well, yes, you could type "perl" into www.google.com,
and you would find www.perl.org and www.perl.com

Perl does exist for Windows, and it works.  (At least it did two
years ago, when I last used Windows.)  But if you're going to get
into this sort of thing you might consider getting Linux.  It
comes with most Linux distributions.

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sun Nov 18 23:39:22 2001
From: ozric at web.de (ozric@web.de)
Date: Sun, 18 Nov 2001 23:39:22 +0100
Subject: [R] Save Results in a file
Message-ID: <200111182239.fAIMdMk31766@mailgate5.cinetic.de>

Hello R profis,
i would like save automatic my refreshed results
or plots with the nice Sys.sleep function (thanks to D.Eddelbuettel & Prof.Ripley).
I found the save.plot and the package xtable for text outputs both works fine for my intention,but how can i save table results like the examaples in package "xtable" in a HTML-file or if not possible in text-file!

To the contributors: R is really great and i forget more and more use SPSS!
Thanks for advance & regards,
christian
  





______________________________________________________________________________
Sichern Sie sich Ihre Chancen auf den Jackpot: Mit dem WEB.DE 
Lottoservice bequem und sicher tippen: http://tippen2.web.de/?x=11

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Sun Nov 18 23:46:06 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Sun, 18 Nov 2001 23:46:06 +0100 (CET)
Subject: [R] How to build R-base on Mandrake 8.1 ?
In-Reply-To: <15344.22848.700322.689712@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.33L2.0111182154530.19260-100000@localhost.localdomain>


I have recently done a clean install of Mandrake 8.1 and am trying to
compile R with an aim to preparing a working RPM.
If anyone has managed to compile R-base on a Mandrake 8.1 please tell me.
When I try, R-base build keeps on failing both with gcc-2.96 and
gcc-3.0.1, no matter what the optimizations. The details vary according to
the choice of compiler and options, but failure is during build of lapack.
Installing the liblapack3 and liblapack3-devel rpms present on the
Mandrake 8.1 distribution hasn't solved the problem.

Switching between versions of gcc is simple, as /usr/bin/gcc is actually a
link to /etc/alternatives/gcc which is a link to /usr/bin/gcc-2.96 but can
be changed to /usr/bin/gcc-3.0.1 (or even /usr/bin/kgcc which immediately
gives "/usr/include/stdio.h:300 parse error before `__gnuc_va_list' ").

The following examples were run cleanly, i.e. the entire old build directory
was cancelled each time. Result: five different errors in double.f, one in
cmplx.f. I have kept the config.cache and config.log if anyone is
interested.


Example 1:
		gcc 3.0.1, no optimizations set in R-base.spec
....
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
Lapack.lo
g77  -fPIC  -g -O2 -c double.f -o double.lo
double.f: In subroutine `dgees':
double.f:2362: Internal error: Segmentation fault.


Example 2:
		gcc 3.0.1, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS but
		-ffast-math removed (this flag has always caused R build
		to fail in the past)
....
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
-fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-fno-strength-reduce -c Lapack.c -o Lapack.lo
g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-fno-strength-reduce -c double.f -o double.lo
double.f: In subroutine `dbdsqr':
double.f:731: Internal error: Segmentation fault.


Example 3:
		gcc 3.0.1, $RPM-OPT-FLAGS enabled
....
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
-fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 -ffast-math
-fno-strength-reduce -c Lapack.c -o Lapack.lo
etc.    gives a segmentation fault in yet another subroutine of double.f


Example 4:
                gcc 2.96, no optimizations set in R-base.spec
....
make[4]: Entering directory
`/home/mike/rpm/BUILD/R-1.3.1/src/modules/lapack'
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
Lapack.lo
g77  -fPIC  -g -O2 -c double.f -o double.lo
double.f: In subroutine `dtrsyl':
double.f:27942: Internal error: Segmentation fault.


Example 5:
                gcc 2.96, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS
		but -ffast-math removed (this flag has always caused R
		build to fail in the past)
....
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
-fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-fno-strength-reduce -c Lapack.c -o Lapack.lo
g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-fno-strength-reduce -c double.f -o double.lo
double.f: In subroutine `dgecon':
double.f:1931: Internal error: Segmentation fault.


Example 6:
		gcc 2.96, $RPM-OPT-FLAGS enabled
....
mcpu=pentiumpro -march=i586 -ffast-math -fno-strength-reduce -c Lapack.c
-o Lapack.lo
g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-ffast-math -fno-strength-reduce -c double.f -o double.lo
g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
-ffast-math -fno-strength-reduce -c cmplx.f -o cmplx.lo
cmplx.f: In subroutine `zbdsqr':
cmplx.f:783: Internal error: Segmentation fault.

Any suggestions ?

-- 
Dr. Michele Alzetta



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 19 00:10:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 00:10:35 +0100
Subject: [R] How to build R-base on Mandrake 8.1 ?
In-Reply-To: <Pine.LNX.4.33L2.0111182154530.19260-100000@localhost.localdomain>
References: <Pine.LNX.4.33L2.0111182154530.19260-100000@localhost.localdomain>
Message-ID: <x28zd3r7ys.fsf@blueberry.kubism.ku.dk>

mikalzet at libero.it writes:

> I have recently done a clean install of Mandrake 8.1 and am trying to
> compile R with an aim to preparing a working RPM.
> If anyone has managed to compile R-base on a Mandrake 8.1 please tell me.
> When I try, R-base build keeps on failing both with gcc-2.96 and
> gcc-3.0.1, no matter what the optimizations. The details vary according to
> the choice of compiler and options, but failure is during build of lapack.
> Installing the liblapack3 and liblapack3-devel rpms present on the
> Mandrake 8.1 distribution hasn't solved the problem.
> 
> Switching between versions of gcc is simple, as /usr/bin/gcc is actually a
> link to /etc/alternatives/gcc which is a link to /usr/bin/gcc-2.96 but can
> be changed to /usr/bin/gcc-3.0.1 (or even /usr/bin/kgcc which immediately
> gives "/usr/include/stdio.h:300 parse error before `__gnuc_va_list' ").
> 
> The following examples were run cleanly, i.e. the entire old build directory
> was cancelled each time. Result: five different errors in double.f, one in
> cmplx.f. I have kept the config.cache and config.log if anyone is
> interested.
> 
> 
> Example 1:
> 		gcc 3.0.1, no optimizations set in R-base.spec
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
> Lapack.lo
> g77  -fPIC  -g -O2 -c double.f -o double.lo
> double.f: In subroutine `dgees':
> double.f:2362: Internal error: Segmentation fault.
> 
> 
> Example 2:
> 		gcc 3.0.1, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS but
> 		-ffast-math removed (this flag has always caused R build
> 		to fail in the past)
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c double.f -o double.lo
> double.f: In subroutine `dbdsqr':
> double.f:731: Internal error: Segmentation fault.
> 
> 
> Example 3:
> 		gcc 3.0.1, $RPM-OPT-FLAGS enabled
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 -ffast-math
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> etc.    gives a segmentation fault in yet another subroutine of double.f
> 
> 
> Example 4:
>                 gcc 2.96, no optimizations set in R-base.spec
> ....
> make[4]: Entering directory
> `/home/mike/rpm/BUILD/R-1.3.1/src/modules/lapack'
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
> Lapack.lo
> g77  -fPIC  -g -O2 -c double.f -o double.lo
> double.f: In subroutine `dtrsyl':
> double.f:27942: Internal error: Segmentation fault.
> 
> 
> Example 5:
>                 gcc 2.96, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS
> 		but -ffast-math removed (this flag has always caused R
> 		build to fail in the past)
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c double.f -o double.lo
> double.f: In subroutine `dgecon':
> double.f:1931: Internal error: Segmentation fault.
> 
> 
> Example 6:
> 		gcc 2.96, $RPM-OPT-FLAGS enabled
> ....
> mcpu=pentiumpro -march=i586 -ffast-math -fno-strength-reduce -c Lapack.c
> -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-strength-reduce -c double.f -o double.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-strength-reduce -c cmplx.f -o cmplx.lo
> cmplx.f: In subroutine `zbdsqr':
> cmplx.f:783: Internal error: Segmentation fault.
> 
> Any suggestions ?

First check that your RAM is not defective, and that your CPU cooler is
running.... double.f and cmplx.f are pretty big and normally take long
to compile, so system overloads are likely to happen there.

gcc 2.96 is an ill-defined quantity. The current RedHat versions are
working OK, but have build numbers in the eighties... The earlier
versions had various problems, but I don't think compiler segfaults
were among them. 3.0.1 have been reported to succeed, although we see
at least one problem on Solaris with it, but segfaults have not been
reported.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Mon Nov 19 00:36:17 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Mon, 19 Nov 2001 00:36:17 +0100 (CET)
Subject: [R] How to build R-base on Mandrake 8.1 ?
In-Reply-To: <x28zd3r7ys.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33L2.0111190027160.5902-100000@localhost.localdomain>

On 19 Nov 2001, Peter Dalgaard BSA wrote:

> First check that your RAM is not defective, and that your CPU cooler is
> running.... double.f and cmplx.f are pretty big and normally take long
> to compile, so system overloads are likely to happen there.
>
> gcc 2.96 is an ill-defined quantity. The current RedHat versions are
> working OK, but have build numbers in the eighties... The earlier
> versions had various problems, but I don't think compiler segfaults
> were among them. 3.0.1 have been reported to succeed, although we see
> at least one problem on Solaris with it, but segfaults have not been
> reported.

Well it's possible my RAM or CPU may be out of order .. how would I check
that ?
Everything else on my system seems to work ok and R-base 1.3.1 compiled
perfectly with Mandrake 8.0 on the same system. If someone else has
managed that would prove my PC to be flakey of course.
By the way, gcc-2.96 on mandrake 8.1 is different from red hat ...
gcc-2.96-0.62mdk at the moment.

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Mon Nov 19 01:44:36 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Mon, 19 Nov 2001 01:44:36 +0100 (CET)
Subject: [R] R-base on Mandrake 8.1 
Message-ID: <Pine.LNX.4.33L2.0111190143080.2062-100000@localhost.localdomain>


BTW the problems had compiling made me try the mandrake 8.0
R-base 1.3.1 RPM on mandrake 8.1.
No problem so far; folks who asked me for the new RPMs can
just use the previous ones fot the moment it seems.

-- 
Dr. Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wileyrittenhouse at mac.com  Mon Nov 19 06:11:17 2001
From: wileyrittenhouse at mac.com (Wiley Rittenhouse)
Date: Sun, 18 Nov 2001 23:11:17 -0600
Subject: [R] installation on Mac OS X
Message-ID: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>

Help !   I am a graduate student in statistics, nearing the end of my 
first semester, and recently discovered R, but cannot figure out how to 
install it on my Mac.  I am currently running OS 10.1.1, and know next 
to nothing about Unix or anything related.  I would like to install this 
program on my Powerbook, as it come highly recommended, so I can use it 
for a class next semester.  Any help would be greatly appreciated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 19 09:23:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Nov 2001 08:23:38 +0000 (GMT)
Subject: [R] How to build R-base on Mandrake 8.1 ?
In-Reply-To: <Pine.LNX.4.33L2.0111182154530.19260-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0111190818540.22669-100000@gannet.stats>

Do you have enough tmp space?

double.f is large, and compiling with -g -O2 takes up a lot of space in
whereever you compiler is set to use (/tmp?, /var/tmp?).  My experience is
that gcc does segfault if it runs out of space.  I've even seen it
compiling double.c.

The current gcc is 3.0.2, but 3.0.1 used to build R for me on RH Linux.


On Sun, 18 Nov 2001 mikalzet at libero.it wrote:

>
> I have recently done a clean install of Mandrake 8.1 and am trying to
> compile R with an aim to preparing a working RPM.
> If anyone has managed to compile R-base on a Mandrake 8.1 please tell me.
> When I try, R-base build keeps on failing both with gcc-2.96 and
> gcc-3.0.1, no matter what the optimizations. The details vary according to
> the choice of compiler and options, but failure is during build of lapack.
> Installing the liblapack3 and liblapack3-devel rpms present on the
> Mandrake 8.1 distribution hasn't solved the problem.

R won't use those: there's a bug in the lapack source,s so we need our own
patched version.

>
> Switching between versions of gcc is simple, as /usr/bin/gcc is actually a
> link to /etc/alternatives/gcc which is a link to /usr/bin/gcc-2.96 but can
> be changed to /usr/bin/gcc-3.0.1 (or even /usr/bin/kgcc which immediately
> gives "/usr/include/stdio.h:300 parse error before `__gnuc_va_list' ").
>
> The following examples were run cleanly, i.e. the entire old build directory
> was cancelled each time. Result: five different errors in double.f, one in
> cmplx.f. I have kept the config.cache and config.log if anyone is
> interested.
>
>
> Example 1:
> 		gcc 3.0.1, no optimizations set in R-base.spec
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
> Lapack.lo
> g77  -fPIC  -g -O2 -c double.f -o double.lo
> double.f: In subroutine `dgees':
> double.f:2362: Internal error: Segmentation fault.
>
>
> Example 2:
> 		gcc 3.0.1, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS but
> 		-ffast-math removed (this flag has always caused R build
> 		to fail in the past)
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c double.f -o double.lo
> double.f: In subroutine `dbdsqr':
> double.f:731: Internal error: Segmentation fault.
>
>
> Example 3:
> 		gcc 3.0.1, $RPM-OPT-FLAGS enabled
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 -ffast-math
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> etc.    gives a segmentation fault in yet another subroutine of double.f
>
>
> Example 4:
>                 gcc 2.96, no optimizations set in R-base.spec
> ....
> make[4]: Entering directory
> `/home/mike/rpm/BUILD/R-1.3.1/src/modules/lapack'
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c Lapack.c -o
> Lapack.lo
> g77  -fPIC  -g -O2 -c double.f -o double.lo
> double.f: In subroutine `dtrsyl':
> double.f:27942: Internal error: Segmentation fault.
>
>
> Example 5:
>                 gcc 2.96, CFLAGS and FFLAGS set to $RPM-OPT-FLAGS
> 		but -ffast-math removed (this flag has always caused R
> 		build to fail in the past)
> ....
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -O3
> -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c Lapack.c -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -fno-strength-reduce -c double.f -o double.lo
> double.f: In subroutine `dgecon':
> double.f:1931: Internal error: Segmentation fault.
>
>
> Example 6:
> 		gcc 2.96, $RPM-OPT-FLAGS enabled
> ....
> mcpu=pentiumpro -march=i586 -ffast-math -fno-strength-reduce -c Lapack.c
> -o Lapack.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-strength-reduce -c double.f -o double.lo
> g77  -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586
> -ffast-math -fno-strength-reduce -c cmplx.f -o cmplx.lo
> cmplx.f: In subroutine `zbdsqr':
> cmplx.f:783: Internal error: Segmentation fault.
>
> Any suggestions ?
>
> --
> Dr. Michele Alzetta
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mi5542 at mail.goo.ne.jp  Mon Nov 19 10:55:32 2001
From: mi5542 at mail.goo.ne.jp (mi5542@mail.goo.ne.jp)
Date: 19 Nov 2001 18:55:32 +0900
Subject: No subject
Message-ID: <20011119095532.96831.qmail@mail.goo.ne.jp>


Dear?Sir?

?Would?you please introduce me the software of MARS (multivariate 

adaptive regression spline ) written by the R or the S language 

if anybody would know it ?  I am interested 

in non parametric regression model.


Sincerely yours,







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov 19 11:03:56 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 19 Nov 2001 05:03:56 -0500 (EST)
Subject: [R] simultaneous equation estimation?
In-Reply-To: <5.1.0.14.2.20011117231627.01d77a20@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.30.0111190500040.16018-100000@bolker.zoo.ufl.edu>


  [Just to make sure this gets back to the help list] -- to fix this
problem, change 'contrib.url' to 'paste(CRAN,"/src/contrib",sep="")'
throughout -- a fixed version should be up on the site listed earlier.

  Thanks to Brian Ripley for the fix.

On Sat, 17 Nov 2001, John Fox wrote:

> Dear Ben,
>
> Your CRANsearch package seems like a very useful idea, but I've had trouble
> getting it to work; following your examples,
>
>  > library(CRANsearch)
>  > cind <- create.CRAN.index()
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> Content type `text/plain' length 5677 bytes
> opened URL
> downloaded 5677 bytes
>
> trying URL
> `http://cran.r-project.org/bin/windows/contrib/Descriptions/AnalyzeFMRI.INDEX'
> Error in download.file(paste(descrip, "/", pkg, ".INDEX", sep = ""),
> paste(pkg,  :
>          cannot open: HTTP status was `404'
>  > help.search.CRAN("structur",cind)
> Error in help.search.CRAN("structur", cind) :
>          Can't find CRAN index file to load
>  > help.search.CRAN("structur",cind,packages.only=TRUE)
> Error in help.search.CRAN("structur", cind, packages.only = TRUE) :
>          Can't find CRAN index file to load
>  > help.search.CRAN("2SLS",cind) ## still doesn't work -- experts are better...
> Error in help.search.CRAN("2SLS", cind) : Can't find CRAN index file to load
>  >
>
> This is on a Windows 2000 PC running version 1.3.1 of R.
>
> John
>
> At 11:04 AM 11/16/2001 -0500, Ben Bolker wrote:
> >On Mon, 12 Nov 2001, John Fox wrote:
> >
> > > A more general question that is implicit in many postings to the list is
> > > how to find functions in contributed packages on CRAN. One can use the
> > > help.search function for this purpose to search installed packages, but I'm
> > > unaware of a means for searching the contents of *all* packages. It would
> > > be nice to be able to do so.
> > >
> >
> >   Somewhere within my "bbmisc" package bundle (available from
> >http://www.zoo.ufl.edu/bolker/R/linux or .../R/windows) is a package
> >"CRANsearch".  The function CRAN.create.index() downloads all of the
> >current package descriptions from
> >CRAN, processes them slightly, and stores a local copy.  One can then use
> >a function "help.search.CRAN" to do the equivalent of "help.search" over
> >all of those packages ...
> >
> >   e.g.
> >
> >cind <- create.CRAN.index()
> >help.search.CRAN("structur",cind)
> >help.search.CRAN("structur",cind,packages.only=TRUE)
> >help.search.CRAN("2SLS",cind) ## still doesn't work -- experts are better...
>
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 19 11:14:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Nov 2001 10:14:36 +0000 (GMT)
Subject: [R] Re: your mail
In-Reply-To: <20011119095532.96831.qmail@mail.goo.ne.jp>
Message-ID: <Pine.LNX.4.31.0111191014210.22773-100000@gannet.stats>

It's part of package mda on CRAN.

On 19 Nov 2001 mi5542 at mail.goo.ne.jp wrote:

>
> Dear$B!!(BSir$B!"(B
>
> $B!!(BWould$B!!(Byou please introduce me the software of MARS (multivariate
>
> adaptive regression spline ) written by the R or the S language
>
> if anybody would know it ?  I am interested
>
> in non parametric regression model.
>
>
> Sincerely yours,
>
>
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 19 11:02:34 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 19 Nov 2001 10:02:34 +0000
Subject: [R] help uses only netscape?
In-Reply-To: <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
 <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
Message-ID: <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk>

Thomas Lumley <tlumley at u.washington.edu> writes:
>To paraphrase Henry Ford, you can run any browser as long as it's
>netscape (at the moment).
>
>The difficulty is that R needs to be able to tell the browser to load a
>new page (rather than starting a new instance with that new page) when you
>ask for help on a topic.  Most browsers don't allow this. Apparently
>recent Mozillas do, and it's possible that Konqueror may have a way to do
>this, but we don't really know how.
>
>It does need fixing, at it would be Really Nice if someone were to work
>out how to support more browsers.

I have just started using Konqueror as my help browser (Netscape seems a
bit too prone to crashing and leaving dead processes in memory) and it
seems to work OK. One problem is that it spills some stuff to the
console while browsing the help files. A little annoying but no big
problem.

I think that Jeff's request might have been a bit simpler than that ...
you can specify a different browser using:

        options(browser = "mybrowser")

You can change the Netscape default in the system or local Rprofile file
(you'll probably need root privileges to edit the system Rprofile).

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 19 10:52:27 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 19 Nov 2001 09:52:27 +0000
Subject: [R] Doubt
In-Reply-To: <200111111649.fABGnDO09622@vs.bignet.com.br>
References: <200111111649.fABGnDO09622@vs.bignet.com.br>
Message-ID: <zht0ABAbZN+7EwR0@myatt.demon.co.uk>

aolinto at bignet.com.br writes:
>> As to call files of another softwares(as, Excel, minitab)  
>>  to be manipulated inside of R-plus?
>> Respectfully
>> Regiane
>
>Dear Regiane
>
>The easiest way I found to transfer data from Excel to 
>data.frames in R was to use copy and paste function.

I find that comma separated files come in OK and Excel writes these from
File -> Save and File -> Save As...

Remember to use sep = "," and header = TRUE as in:

        my.df <- read.table(myfile.csv, sep = ",", header = TRUE)

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 19 11:23:12 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 19 Nov 2001 10:23:12 +0000
Subject: [R] two plots in one frame
In-Reply-To: <3BF43EB5.52079398@ci.tuwien.ac.at>
References: <200111152151.fAFLpTr16676@SpamWall.lbl.gov>
 <3BF43EB5.52079398@ci.tuwien.ac.at>
Message-ID: <YRf+sRAQ2N+7Ew2o@myatt.demon.co.uk>

Achim Zeileis <zeileis at ci.tuwien.ac.at> writes:
>Justin Fay wrote:
>> 
>> I would like to plot two different scatterplots in the same frame (say with
>> different colors) but everytime plot is called a new frame is created.  Is
>> there a way around this?
>
>try points()
>or par(new=TRUE)

You might get an axes scaling problem if the range of the two datasets
are different. To get over this set xlim and ylim on the first call to
plot ... something like:

        plot(x1, y1, xlim = c(min(x1, x2), max(x1, x2)),
             ylim = c(min(y1, y2), max(y1, y2)), col = "red")
        points(x2, y2, col = "blue")

You could replace min() and max() with range().

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 19 11:06:52 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 19 Nov 2001 10:06:52 +0000
Subject: [R] help uses only netscape?
In-Reply-To: <3BF10233.F7BD5400@ozemail.com.au>
References: <3BF10233.F7BD5400@ozemail.com.au>
Message-ID: <OR07cLA8mN+7Ew1U@myatt.demon.co.uk>

Jim Lemon <bitwrit at ozemail.com.au> writes:
>On Mon, 12 Nov 2001, Jeff D. Hamann wrote:
>
>> ... can I run any web browser?
>
>I have used kdehelp and konqueror successfully. Both will load the URL
>passed as an argument. There is a description of how to modify
>help.start() in "Kickstarting R". The only shortcoming is that the
>Java-based search engine will not run.

Konqueror supports Java if you have a Java Virtual Machine in place and
configure it to run Java applets.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 19 13:00:50 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 13:00:50 +0100
Subject: [R] Doubt
In-Reply-To: <zht0ABAbZN+7EwR0@myatt.demon.co.uk>
References: <200111111649.fABGnDO09622@vs.bignet.com.br>
	<zht0ABAbZN+7EwR0@myatt.demon.co.uk>
Message-ID: <x2herr9dhp.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> aolinto at bignet.com.br writes:
> >> As to call files of another softwares(as, Excel, minitab)  
> >>  to be manipulated inside of R-plus?
> >> Respectfully
> >> Regiane
> >
> >Dear Regiane
> >
> >The easiest way I found to transfer data from Excel to 
> >data.frames in R was to use copy and paste function.
> 
> I find that comma separated files come in OK and Excel writes these from
> File -> Save and File -> Save As...
> 
> Remember to use sep = "," and header = TRUE as in:
> 
>         my.df <- read.table(myfile.csv, sep = ",", header = TRUE)

or read.csv()

Notice that in several non-English locales CSV files come out with
sep=";",dec="," - which is what read.csv2() is for.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gs at statlab.uni-heidelberg.de  Mon Nov 19 14:04:33 2001
From: gs at statlab.uni-heidelberg.de (G. Sawitzki)
Date: Mon, 19 Nov 2001 14:04:33 +0100
Subject: [R] installation on Mac OS X
In-Reply-To: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>
References: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>
Message-ID: <p05100301b81eaf1c590a@[129.206.113.199]>

For a start, try the Macintosh version. It is carbonized, so it will 
run under 10.1.1 as expected. It comes as a usual Macintosh self 
extracting archive.

If you need features not provided by the Macintosh version (e.g. if 
you need INSTALL or other specialfeatures), use the proper MacX 
version. You have to install the files in your UNIX search path. To 
use the MacX version, you need XWindows (either xfree or the 
commercial version XTools from Tenon will do). Public software like 
Xfree is available from
	<http://fink.sourceforge.net/>
or	<http://gnu-dawin.sourceforce.net/>
The only trick seems to be that you need dylib on your machine. Check 
for Jan de Leeuw's message on "Re: [R] dylib error" in the r-help 
mailing list.

More background information is given in Jan de LEEUW'S ARTILE IN R 
NEWS VOL 1/3. See
	<http://cran.R-projects/doc/Rnews/>


   gs.

At 06:11 +0100 19.11.01, Wiley Rittenhouse wrote:
>Help !   I am a graduate student in statistics, nearing the end of 
>my first semester, and recently discovered R, but cannot figure out 
>how to install it on my Mac.  I am currently running OS 10.1.1, and 
>know next to nothing about Unix or anything related.  I would like 
>to install this program on my Powerbook, as it come highly 
>recommended, so I can use it for a class next semester.  Any help 
>would be greatly appreciated.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 19 14:22:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 14:22:35 +0100
Subject: [R] installation on Mac OS X
In-Reply-To: <p05100301b81eaf1c590a@[129.206.113.199]>
References: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>
	<p05100301b81eaf1c590a@[129.206.113.199]>
Message-ID: <x2d72eao9w.fsf@blueberry.kubism.ku.dk>

"G. Sawitzki" <gs at statlab.uni-heidelberg.de> writes:


> commercial version XTools from Tenon will do). Public software like
> Xfree is available from
> 	<http://fink.sourceforge.net/>
> or	<http://gnu-dawin.sourceforce.net/>
> The only trick seems to be that you need dylib on your machine. Check
> for Jan de Leeuw's message on "Re: [R] dylib error" in the r-help
> mailing list.
> 
> More background information is given in Jan de LEEUW'S ARTILE IN R
> NEWS VOL 1/3. See
> 	<http://cran.R-projects/doc/Rnews/>
> 

Um, make that
  <http://cran.R-project.org/doc/Rnews/>
  <http://gnu-darwin.sourceforge.net/>
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Mon Nov 19 14:31:43 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Mon, 19 Nov 2001 13:31:43 +0000 (GMT)
Subject: [R] installation on Mac OS X
In-Reply-To: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>
Message-ID: <Pine.LNX.4.33.0111191304220.10919-100000@moriarty.atm.ox.ac.uk>

If you are not a unix hack, and just want to play around with R, try
dowloading the precompiled binaries at:

http://cran.r-project.org/bin/macos/

Be sure to read both the Macintosh and standard FAQs.


Otherwise, if you want to compile the unix source yourself, you will need
to:

1) install a compiler (i.e. apple developer tools)

2) install a fortran compiler (g77 patch for the apple developer tools can
be found at http://www-jlc.kek.jp/~fujiik/macosx/10.1.X/ and
http://floyd.liunet.edu/~gkhanna/hpc.html) or install f2c (fortran -> C
converter).

3) install Xwindows.  Either a binary package or build from the XFree
Source see http://www.xfree86.org and http://www.xdarwin.org.

4) compile R. Should be easy if you managed to do steps 1-3 and read the
Install directions/Readme files './configure; make; make install'

Much of the above code can be compiled (relatively) painlessly using fink
see http://fink.sourceforge.net/.

I'd recommend the first method unless you are familiar with programming or
are very motivated to *learn* unix development.



On Sun, 18 Nov 2001, Wiley Rittenhouse wrote:

> Help !   I am a graduate student in statistics, nearing the end of my
> first semester, and recently discovered R, but cannot figure out how to
> install it on my Mac.  I am currently running OS 10.1.1, and know next
> to nothing about Unix or anything related.  I would like to install this
> program on my Powerbook, as it come highly recommended, so I can use it
> for a class next semester.  Any help would be greatly appreciated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 19 15:08:20 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 19 Nov 2001 15:08:20 +0100 (MET)
Subject: [R] dist
Message-ID: <Pine.OSF.3.96.1011119150237.2152A-100000@ija.csic.es>


Hi list!

I'm computing multivar. distances from a set of centroids
to a (large) set of individuals. I'm now just using rbind
to create a matrix (x) with the centroid and the individuals,
then run as.matrix(dist(x)) and finally select the appropriate columns,
as I'm not interested on the distances among individuals.
Therefore, this procedure implies a waste of computing time.
Is there any way to use dist only between each individual
and the centroids (avoiding loops in R)? or should I just go and try to
make
a modified version of dist by hacking the C code?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 19 15:08:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Nov 2001 14:08:58 +0000 (GMT)
Subject: [R] dist
In-Reply-To: <Pine.OSF.3.96.1011119150237.2152A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0111191407060.1971-100000@gannet.stats>

On Mon, 19 Nov 2001, Agustin Lobo wrote:

>
> Hi list!
>
> I'm computing multivar. distances from a set of centroids
> to a (large) set of individuals. I'm now just using rbind
> to create a matrix (x) with the centroid and the individuals,
> then run as.matrix(dist(x)) and finally select the appropriate columns,
> as I'm not interested on the distances among individuals.
> Therefore, this procedure implies a waste of computing time.
> Is there any way to use dist only between each individual
> and the centroids (avoiding loops in R)? or should I just go and try to
> make
> a modified version of dist by hacking the C code?

You don't need C code for this.  Take a look at e.g. predict.lda and
predict.qda.  You might want to do the individuals in batches if the
number really is large (millions?).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Mon Nov 19 15:21:30 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Mon, 19 Nov 2001 14:21:30 +0000 (GMT)
Subject: [R] dist
In-Reply-To: <Pine.OSF.3.96.1011119150237.2152A-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.21.0111191417520.6059-100000@unixb.lancs.ac.uk>

Hi Agustin
You mingth not need this after Brain's reply but just in case...
The package geoR has a function which might help 
loccoords(coords, locations)

where the arguments are 2 column matrices with coordinates.
The function which returns the distance between each element of coords
(centroids) to each element of locations(individuals)

The function is just a "wrapper" to a piece of C code

Cheers
P.J.


On Mon, 19 Nov 2001, Agustin Lobo wrote:

> 
> Hi list!
> 
> I'm computing multivar. distances from a set of centroids
> to a (large) set of individuals. I'm now just using rbind
> to create a matrix (x) with the centroid and the individuals,
> then run as.matrix(dist(x)) and finally select the appropriate columns,
> as I'm not interested on the distances among individuals.
> Therefore, this procedure implies a waste of computing time.
> Is there any way to use dist only between each individual
> and the centroids (avoiding loops in R)? or should I just go and try to
> make
> a modified version of dist by hacking the C code?
> 
> Thanks
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Mon Nov 19 15:24:13 2001
From: rls at pincock.com (Bob Sandefur)
Date: Mon, 19 Nov 2001 06:24:13 -0800
Subject: [R] NOT R SPECIFIC The mean of a group of lines
Message-ID: <sbf8a59e.055@smtp>

Hi-

  Suppose I  have a group of lines which are similar given as serial points (assuming the individual points on the lines are close enough spaced that the straight line between points is the true line). (These are called polylines in Autocad). Examples include:
 1. Different contour lines on a single topographic map.
 2. Topographic contour maps of the same area from different surveys.
 3. GPS logs of the driving to work by the same route daily over several years. (X Y Z position at 1 second intervals)
 4. Redigitization of the same contour line on a map.
Can anyone suggest methods or references on how to compare two or more lines? For just two polylines, resampling at a fixed step and doing vector nearest distance to the other line and then doing dx dy dz (or (dx^2+dy^2)^0.5 dz) statistics seems a reasonable approach, but I so far have not found a reference for finding the "mean" of several lines. One way of finding the mean of several lines would seem to be to find then mean of two lines as the midpoint of resampled nearest distance; Make this a new line and then add the next line and find the "mean" of this and the first two by weighting the distance by 1/3 and 2/3; add the next line and weight by 1/4 3/4 and so on to get the "mean" line; after finding the "mean" then statistics of the dx dy dz to each line from the mean might be appropriate.

Thanx 


Robert (Bob) L Sandefur 
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f
rls at pincock.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Nov 19 15:27:31 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 19 Nov 2001 15:27:31 +0100
Subject: [R] reading tiff files
Message-ID: <3BF916D3.52A592C2@cbs.dtu.dk>

Dear all,



I am looking for a way to read tiff data into R (this could be something
the pixmap package users could find intersting).
I could not find anything related but I suspect something to
exists...somewhere... is it really the case ?



Thanking in advancing for help/pointers,



Laurent





-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Mon Nov 19 15:33:33 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Mon, 19 Nov 2001 15:33:33 +0100 (CET)
Subject: [R] How to build R-base on Mandrake 8.1 ?
In-Reply-To: <Pine.LNX.4.31.0111190818540.22669-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33L2.0111191531230.2190-100000@localhost.localdomain>

On Mon, 19 Nov 2001, Prof Brian Ripley wrote:

> Do you have enough tmp space?

A little more than 1 Gigabyte; my processor is AMD K-6II 400 MHz;
really seems that the resources should be sufficient ...

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Fri Nov 16 19:49:45 2001
From: robert at compete.com (Robert Abugov)
Date: Fri, 16 Nov 2001 13:49:45 -0500
Subject: [R] non-negative least squares?
Message-ID: <IFECIJELMCKDEACBAHGLOEPOCFAA.robert@compete.com>


In July of 1999 Douglas Bates invited R users to implement an algorithm for
non-negative least squares based on Bates and Wolf, 1984: Communications in
Statistics, Part B 13:841-850.
<http://www.ens.gu.edu.au/robertk/R/help/99b/0058.html>

I'm wondering if anybody has implemented this or something similar so I
won't have to reinvent the wheel.

Thanks!

Bob Abugov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 19 15:59:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Nov 2001 14:59:25 +0000 (GMT)
Subject: [R] non-negative least squares?
In-Reply-To: <IFECIJELMCKDEACBAHGLOEPOCFAA.robert@compete.com>
Message-ID: <Pine.LNX.4.31.0111191457180.2169-100000@gannet.stats>

On Fri, 16 Nov 2001, Robert Abugov wrote:

>
> In July of 1999 Douglas Bates invited R users to implement an algorithm for
> non-negative least squares based on Bates and Wolf, 1984: Communications in
> Statistics, Part B 13:841-850.
> <http://www.ens.gu.edu.au/robertk/R/help/99b/0058.html>
>
> I'm wondering if anybody has implemented this or something similar so I
> won't have to reinvent the wheel.

I just use optim() on the sum of squares with non-negativity constraints.
That did not exist in 1999.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 19 16:02:31 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 19 Nov 2001 15:02:31 +0000
Subject: [R] Doubt
In-Reply-To: <01111914520600.01022@st27.stats.ru.ac.za>
References: <200111111649.fABGnDO09622@vs.bignet.com.br>
 <zht0ABAbZN+7EwR0@myatt.demon.co.uk>
 <01111914520600.01022@st27.stats.ru.ac.za>
Message-ID: <W9693AAH8R+7Ew0x@myatt.demon.co.uk>

Jeremy,

You write:

>i am folloing the thread.... thankx for the info thus far. most of the people 
>who pop into my office for a "quick question" end up leaving their excel data 
>sheets with me which i then import  into R(usually via S+, but i am on the 
>only member in the dept with a windows copy of s+!).
>
>my question is how to deal with missing data. can you leave the cells blank 
>in excel and use the import as you have suggested below or do you have to do 
>a find replace or something equivalent...? i.e. does R import 8,,8 as 8 mdata 
>8?

Yes, it works fine. Prof Ripley writes:

        It's easier to use read.csv, on the same help page, or consult
        the Data Import/Export Manual.

And he is right ... it has the appropriate defaults for the sep, dec
and header parameters set so you don't have to bother with that.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Mon Nov 19 17:42:49 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Mon, 19 Nov 2001 16:42:49 +0000 (GMT)
Subject: [R] Vectors of objects...
Message-ID: <Pine.LNX.4.33.0111191628530.10919-100000@moriarty.atm.ox.ac.uk>

Surely I am confused about something... still.  Having read parts of
S-programming, MASS, and Programming with Data, I am no closer to
understanding how to make a simple vector containing list objects. If I
have somehow skipped over a relevant section in these books, please let me
know what sections I should have read.  This is a simpler case of what I
posted on Friday.  I am trying to build something in R that resembles an
array of structures in C.

> # Create some simple objects (ordinarily objects generated by a function)
> object <- list(a="test", b=c(1.0,2.0,3.0,4.0))
> object2 <- list(a="test2", b=c(2.0,4.0,6.0,8.0))
> # Create a vector of length 2
> mega <- 1:2

At this point I want to insert object 1 into the first element of the
vector 'mega' and object 2 into the second element.

> mega[[1]] <- object
Error: more elements supplied than there are to replace
> print(mega)
[1] 1 2

No luck there...

> mega[1] <- object
Warning message:
number of items to replace is not a multiple of replacement length
> print(mega)
[[1]]
[1] "test"

[[2]]
[1] 2

Still no luck... BUT, if I once again try:

> mega[[1]] <- object
> print(mega)
[[1]]
[[1]]$a
[1] "test"

[[1]]$b
[1] 1 2 3 4


[[2]]
[1] 2

Moreover,

> mega[[2]] <- object2
> print(mega)
[[1]]
[[1]]$a
[1] "test"

[[1]]$b
[1] 1 2 3 4


[[2]]
[[2]]$a
[1] "test2"

[[2]]$b
[1] 2 4 6 8

Clearly I am missing something here.  The end result of 'mega' is exactly
what I wanted in the first place, but it seems I needed to make 2 mistakes
before I could get there?  Can someone please explain?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefano.calza at unimi.it  Mon Nov 19 17:47:11 2001
From: stefano.calza at unimi.it (stefano)
Date: Mon, 19 Nov 2001 17:47:11 +0100
Subject: [R] where is survsum?
Message-ID: <20011119174711.A4559@stefano>


Hi everybody.

I'm using the survival packages but, though described in the help, I can't find the survsum function. Where's the problem?

TIA,
Stefano


-- 
Stefano Calza
Istituto di Statistica Medica e Biometria
Universita' degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 19 17:53:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Nov 2001 16:53:46 +0000 (GMT)
Subject: [R] Vectors of objects...
In-Reply-To: <Pine.LNX.4.33.0111191628530.10919-100000@moriarty.atm.ox.ac.uk>
Message-ID: <Pine.LNX.4.31.0111191649200.2295-100000@gannet.stats>

On Mon, 19 Nov 2001, Randall Skelton wrote:

> Surely I am confused about something... still.  Having read parts of
> S-programming, MASS, and Programming with Data, I am no closer to
> understanding how to make a simple vector containing list objects. If I
> have somehow skipped over a relevant section in these books, please let me
> know what sections I should have read.  This is a simpler case of what I
> posted on Friday.  I am trying to build something in R that resembles an
> array of structures in C.
>
> > # Create some simple objects (ordinarily objects generated by a function)
> > object <- list(a="test", b=c(1.0,2.0,3.0,4.0))
> > object2 <- list(a="test2", b=c(2.0,4.0,6.0,8.0))
> > # Create a vector of length 2
> > mega <- 1:2
>
> At this point I want to insert object 1 into the first element of the
> vector 'mega' and object 2 into the second element.

You can't.  Vectors are atomic, except for lists (also known as
generic vectors).  You can do

mega <- vector("list", 2)
names(mega) <- 1:2
mega[[1]] <- object
mega[[2]]<- object2

$"1"
$"1"$a
[1] "test"

$"1"$b
[1] 1 2 3 4


$"2"
$"2"$a
[1] "test2"

$"2"$b
[1] 2 4 6 8

[...]

You accidentally overwrote an integer vector by a list in the [...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 19 17:57:07 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 19 Nov 2001 08:57:07 -0800 (PST)
Subject: [R] Vectors of objects...
In-Reply-To: <Pine.LNX.4.33.0111191628530.10919-100000@moriarty.atm.ox.ac.uk>
Message-ID: <Pine.A41.4.33.0111190850430.25226-100000@homer40.u.washington.edu>

On Mon, 19 Nov 2001, Randall Skelton wrote:

> Surely I am confused about something... still.  Having read parts of
> S-programming, MASS, and Programming with Data, I am no closer to
> understanding how to make a simple vector containing list objects. If I
> have somehow skipped over a relevant section in these books, please let me
> know what sections I should have read.  This is a simpler case of what I
> posted on Friday.  I am trying to build something in R that resembles an
> array of structures in C.
>
> > # Create some simple objects (ordinarily objects generated by a function)
> > object <- list(a="test", b=c(1.0,2.0,3.0,4.0))
> > object2 <- list(a="test2", b=c(2.0,4.0,6.0,8.0))
> > # Create a vector of length 2
> > mega <- 1:2
>
> At this point I want to insert object 1 into the first element of the
> vector 'mega' and object 2 into the second element.
>
> > mega[[1]] <- object
> Error: more elements supplied than there are to replace
> > print(mega)
> [1] 1 2
>
> No luck there...
>
> > mega[1] <- object
> Warning message:
> number of items to replace is not a multiple of replacement length
> > print(mega)
> [[1]]
> [1] "test"
>
> [[2]]
> [1] 2
>
> Still no luck... BUT, if I once again try:
>
> > mega[[1]] <- object
> > print(mega)
> [[1]]
> [[1]]$a
> [1] "test"
>
> [[1]]$b
> [1] 1 2 3 4
>
>
> [[2]]
> [1] 2
>
> Moreover,
>
> > mega[[2]] <- object2
> > print(mega)
> [[1]]
> [[1]]$a
> [1] "test"
>
> [[1]]$b
> [1] 1 2 3 4
>
>
> [[2]]
> [[2]]$a
> [1] "test2"
>
> [[2]]$b
> [1] 2 4 6 8
>
> Clearly I am missing something here.  The end result of 'mega' is exactly
> what I wanted in the first place, but it seems I needed to make 2 mistakes
> before I could get there?  Can someone please explain?


The problem is that you need mega to be a vector of mode `list'.  As it
happens,
   mega[1]<-object
coerces mega to mode list. You get a warning because you're trying to put
a whole list into a single element, and only the first element of object
ends up being assigned.  As you now have a vector of mode `list' the
proper assignment
  mega[[1]]<-object
works.

What you wanted was something like
> mega<-vector("list",2)
> mega[[1]]<-object
> mega[[2]]<-object2
> mega
[[1]]
[[1]]$a
[1] "test"

[[1]]$b
[1] 1 2 3 4


[[2]]
[[2]]$a
[1] "test2"

[[2]]$b
[1] 2 4 6 8

or
> mega<-list(1,2)
> mega[[1]]<-object
> mega[[2]]<-object2
would work just as well.

You can now extend the list by assigning to mega[[3]] if you like.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jccorrea at perseus.unalmed.edu.co  Mon Nov 19 18:16:57 2001
From: jccorrea at perseus.unalmed.edu.co (Juan Carlos Correa Morales)
Date: Mon, 19 Nov 2001 12:16:57 -0500 (GMT)
Subject: [R] loglin output
In-Reply-To: <Pine.GSO.4.21.0111191417520.6059-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.GSO.4.21.0111191214220.23491-100000@perseus.unalmed.edu.co>

Hi all R-users:

I am getting some differences from the loglin function in R and S-Plus. Is
there a bug in the R function? 

Juan C. Correa  

> parentesco<-array(c(27,12,23,7,394,142,421,94,18,13,24,4,48,25,55,
13,2,2,4,1,32,19,38,11,1,1,0,3,6,4,15,4),c(2,2,2,2,2))

Output from R 1.3.1

> temp<-loglin(parentesco,list(c(3,4),c(1,2)), param=T)
2 iterations: deviation 2.273737e-13 
> temp
$lrt
[1] 1126.472

$pearson
[1] 968.6632

$df
[1] 25

$margin
$margin[[1]]
[1] 1 2

$margin[[2]]
[1] 3 4


$param
$param$"(Intercept)"
[1] 2.927703

$param$"1.5"
           [,1]       [,2]
[1,]  0.5819121  0.5819121
[2,] -0.5819121 -0.5819121

$param$"2"
[1]  0.09264558 -0.09264558

$param$"3"
[1] -0.9171482  0.9171482

$param$"4"
[1]  0.5276034 -0.5276034

$param$"1.2.5"
, , 1

           [,1]       [,2]
[1,] -0.1396115  0.1396115
[2,]  0.1396115 -0.1396115

, , 2

           [,1]       [,2]
[1,] -0.1396115  0.1396115
[2,]  0.1396115 -0.1396115


$param$"3.4"
           [,1]       [,2]
[1,] -0.4286906  0.4286906
[2,]  0.4286906 -0.4286906

============================================================
Output from S-Plus 6

> temp<-loglin(parentesco,list(c(3,4),c(1,2)), param=T)
2 iterations: deviation 1.52588e-005 
> temp
$lrt:
[1] 1126.472

$pearson:
[1] 968.6632

$df:
[1] 25

$margin:
$margin[[1]]:
[1] 3 4

$margin[[2]]:
[1] 1 2



$param:
$constant:
[1] 2.927703

$"1":
[1]  0.5819121 -0.5819121

$"2":
[1]  0.09264556 -0.09264556

$"1 X 2":
           [,1]       [,2] 
[1,] -0.1396115  0.1396115
[2,]  0.1396115 -0.1396115

$"3":
[1] -0.9171482  0.9171482

$"4":
[1]  0.5276034 -0.5276034

$"3 X 4":
           [,1]       [,2] 
[1,] -0.4286905  0.4286905
[2,]  0.4286905 -0.4286905


> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 19 19:04:06 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 19:04:06 +0100
Subject: [R] loglin output
In-Reply-To: <Pine.GSO.4.21.0111191214220.23491-100000@perseus.unalmed.edu.co>
References: <Pine.GSO.4.21.0111191214220.23491-100000@perseus.unalmed.edu.co>
Message-ID: <x2ofly8wo9.fsf@blueberry.kubism.ku.dk>

Juan Carlos Correa Morales <jccorrea at perseus.unalmed.edu.co> writes:

> Hi all R-users:
> 
> I am getting some differences from the loglin function in R and S-Plus. Is
> there a bug in the R function? 

Yes, there's a bug(let): If the last k variables are missing from the
model specification, the "dyadic" array has too few columns for the 
 
 vars <- (1:nvar)[dyadic[i - 1, ] > 0]

construction and you get vector recycling, etc. Models with a variable
completely missing rarely make sense, though:

> margin.table(temp$fit,5)
[1] 731.5 731.5
> margin.table(parentesco,5)
[1] 1320  143


For a quick workaround it seems to work to replace the above with

 vars <- (1:nvar)[which(dyadic[i - 1, ] > 0)]



> Juan C. Correa  
> 
> > parentesco<-array(c(27,12,23,7,394,142,421,94,18,13,24,4,48,25,55,
> 13,2,2,4,1,32,19,38,11,1,1,0,3,6,4,15,4),c(2,2,2,2,2))
> 
> Output from R 1.3.1
> 
> > temp<-loglin(parentesco,list(c(3,4),c(1,2)), param=T)
> 2 iterations: deviation 2.273737e-13 
> > temp
> $lrt
> [1] 1126.472
> 
> $pearson
> [1] 968.6632
> 
> $df
> [1] 25
> 
> $margin
> $margin[[1]]
> [1] 1 2
> 
> $margin[[2]]
> [1] 3 4
> 
> 
> $param
> $param$"(Intercept)"
> [1] 2.927703
> 
> $param$"1.5"
>            [,1]       [,2]
> [1,]  0.5819121  0.5819121
> [2,] -0.5819121 -0.5819121
> 
> $param$"2"
> [1]  0.09264558 -0.09264558
> 
> $param$"3"
> [1] -0.9171482  0.9171482
> 
> $param$"4"
> [1]  0.5276034 -0.5276034
> 
> $param$"1.2.5"
> , , 1
> 
>            [,1]       [,2]
> [1,] -0.1396115  0.1396115
> [2,]  0.1396115 -0.1396115
> 
> , , 2
> 
>            [,1]       [,2]
> [1,] -0.1396115  0.1396115
> [2,]  0.1396115 -0.1396115
> 
> 
> $param$"3.4"
>            [,1]       [,2]
> [1,] -0.4286906  0.4286906
> [2,]  0.4286906 -0.4286906
> 
> ============================================================
> Output from S-Plus 6
> 
> > temp<-loglin(parentesco,list(c(3,4),c(1,2)), param=T)
> 2 iterations: deviation 1.52588e-005 
> > temp
> $lrt:
> [1] 1126.472
> 
> $pearson:
> [1] 968.6632
> 
> $df:
> [1] 25
> 
> $margin:
> $margin[[1]]:
> [1] 3 4
> 
> $margin[[2]]:
> [1] 1 2
> 
> 
> 
> $param:
> $constant:
> [1] 2.927703
> 
> $"1":
> [1]  0.5819121 -0.5819121
> 
> $"2":
> [1]  0.09264556 -0.09264556
> 
> $"1 X 2":
>            [,1]       [,2] 
> [1,] -0.1396115  0.1396115
> [2,]  0.1396115 -0.1396115
> 
> $"3":
> [1] -0.9171482  0.9171482
> 
> $"4":
> [1]  0.5276034 -0.5276034
> 
> $"3 X 4":
>            [,1]       [,2] 
> [1,] -0.4286905  0.4286905
> [2,]  0.4286905 -0.4286905
> 
> 
> > 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Mon Nov 19 20:48:36 2001
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Mon, 19 Nov 2001 11:48:36 -0800
Subject: [R] R-base on Mandrake 8.1
In-Reply-To: <200111190301.EAA21756@stat.math.ethz.ch>
References: <200111190301.EAA21756@stat.math.ethz.ch>
Message-ID: <01111911483600.01824@ewilliams.ucsd.edu>

On Sunday 18 November 2001 19:01, you wrote:

> I have recently done a clean install of Mandrake 8.1 and am trying to
> compile R with an aim to preparing a working RPM.
> If anyone has managed to compile R-base on a Mandrake 8.1 please tell me.

Michele, 

I just compiled R and a bunch of packages on a fresh Mandrake 8.1 last week.  
No problems at all.   I just downloaded the R source from CRAN, binaries for 
ATLAS, LAPACK, and libreadline, and away it went.  Packages all compiled fine 
with install.packages().

I'll double-check where I got the LAPACK binaries from, but I think it was 
from the 8.1 rpms.  ATLAS was precompiled from their website.  libreadline 
was definately from the 8.1 rpms.

Good luck.  

			Elliot.


 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gaidar_garrett at yahoo.com  Mon Nov 19 20:59:53 2001
From: gaidar_garrett at yahoo.com (Jim Garrett)
Date: Mon, 19 Nov 2001 11:59:53 -0800 (PST)
Subject: [R] scope of data in groupedData
Message-ID: <20011119195953.80332.qmail@web20804.mail.yahoo.com>

I'm trying to write a function that has a dataframe as
an argument.  Within the function, I call groupedData
to create a grouped-data object from the dataframe
argument.  However, the groupedData function doesn't
seem to see the data.  I'm guessing it's getting the
argument name rather than its value, but I'm not
positive.

My system:  R 1.3.1 on WinNT 4.0 (Pentium II), nlme
version 3.1-17.

My goal:  see below if curious.

My code:  (apologies for the very narrow format)

# theta:  parameter specifying which indicators
#         to use, i.e., specifying the model
# in.dat: data frame to which to fit the model.
# Groups: Maximum possible number of groups
#         represented in the data.
# param.orderings: order of group means and SD's, not
#                  relevant to this question.
# k:      complexity cost for AIC
# BIC:    Use BIC rather than AIC (and ignore k).
gls.loss <-
  function(theta, in.dat, Groups,
           param.orderings, k = 2, BIC = T)
{
...
  if(any(theta[1:(Groups - 1)] == 1))
  {
    # partition wells into groups by mu
    mu.ind <-
      make.indicators(temp.params$well,
                      temp.params$mu, in.dat)
    # error definitely occurs in the next line:
    new.dat.gpd <-
      groupedData(y ~ Well | Inst / tier,
                  outer = ~ mu.ind, data = in.dat)
...
}

An example (all arguments are already defined):
> gls.loss(theta, test.dat, 6, param.orderings,
           BIC = T)
Error in inherits(data, "data.frame") : Object
"in.dat" not found

I've traced the error to the function nmGroupedData,
specifically:

if (missing(data)) {
...
  }
  else {
# error at next line
    if (!inherits(data, "data.frame")) {
      stop("second argument to groupedData must  
            inherit from data.frame")
....

Any help is welcome!

Finally, here is my overall goal (and I'll also
welcome questions and comments regarding this goal): 
I have data comprised of several groups.  For each
observation in each group I have a
normally-distributed response, and groups may or may
not differ in mean and/or variance.  Using the
varIdent function for weights with gls or lme looks
like a way to model both mean and variance, and I'd
like to "cluster" these groups by finding a
parsimonious (but effective) model.  That is, I plan
to create indicator variables for each group and use
model-selection techniques to determine what "group
grouping" is warranted (hoping that most will be
similar!).  The model-selection technique I have in
mind is to use simulated annealing to find the model
optimizing BIC or AIC.  I've got the SA aspect of this
covered, and my last obstacle is getting a working
loss function.  Any comments or questions regarding
this overall goal are also welcomed.

Thanks in advance,

Jim Garrett
Becton Dickinson Diagnostic Systems
Baltimore, Maryland, USA



__________________________________________________

Find the one for you at Yahoo! Personals

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 19 22:43:06 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 19 Nov 2001 13:43:06 -0800 (PST)
Subject: [R] scope of data in groupedData
In-Reply-To: <20011119195953.80332.qmail@web20804.mail.yahoo.com>
Message-ID: <Pine.A41.4.33.0111191335010.25226-100000@homer40.u.washington.edu>

On Mon, 19 Nov 2001, Jim Garrett wrote:

> I'm trying to write a function that has a dataframe as
> an argument.  Within the function, I call groupedData
> to create a grouped-data object from the dataframe
> argument.  However, the groupedData function doesn't
> seem to see the data.  I'm guessing it's getting the
> argument name rather than its value, but I'm not
> positive.
>

Yes, groupedData seems to pass arguments by name and to evaluate the
nmGroupedData call in the local environment, where in your case the name
is not available

This is unusual -- a more common idiom for formula-based functions is
  m<-match.call()
  m[[1]]<-as.name("someotherfunction")
  eval(m,sys.frame(sys.parent()))


I would think that replacing
  do.call("nmGroupedData",mCall)
with
  eval(call("nmGroupedData", mCall), parent.frame())
would fix the problem, but I'm not sure what other side-effects this would
have.  You could also make a case for environment(formula) instead of
parent.frame().


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Nov 19 23:09:43 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 19 Nov 2001 16:09:43 -0600
Subject: [R] scope of data in groupedData
In-Reply-To: <Pine.A41.4.33.0111191335010.25226-100000@homer40.u.washington.edu>
References: <Pine.A41.4.33.0111191335010.25226-100000@homer40.u.washington.edu>
Message-ID: <6r1yiu2z14.fsf@franz.stat.wisc.edu>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Mon, 19 Nov 2001, Jim Garrett wrote:
> 
> > I'm trying to write a function that has a dataframe as
> > an argument.  Within the function, I call groupedData
> > to create a grouped-data object from the dataframe
> > argument.  However, the groupedData function doesn't
> > seem to see the data.  I'm guessing it's getting the
> > argument name rather than its value, but I'm not
> > positive.
> >
> 
> Yes, groupedData seems to pass arguments by name and to evaluate the
> nmGroupedData call in the local environment, where in your case the name
> is not available
> 
> This is unusual -- a more common idiom for formula-based functions is
>   m<-match.call()
>   m[[1]]<-as.name("someotherfunction")
>   eval(m,sys.frame(sys.parent()))
> 
> 
> I would think that replacing
>   do.call("nmGroupedData",mCall)
> with
>   eval(call("nmGroupedData", mCall), parent.frame())
> would fix the problem, but I'm not sure what other side-effects this would
> have.  You could also make a case for environment(formula) instead of
> parent.frame().

Thanks for the suggestion, Thomas.  I'll take a look at it but not, I
regret, immediately.

The reason for the do.call() idiom in the current code is S
compatibility.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdybowski at btinternet.com  Mon Nov 19 23:21:58 2001
From: rdybowski at btinternet.com (Richard Dybowski)
Date: Mon, 19 Nov 2001 22:21:58 +0000
Subject: [R] Symbol escape sequence in xlab
Message-ID: <5.1.0.14.2.20011119221534.00a7a5b0@mail.btinternet.com>

I would like to label an x-axis with the nabla symbol. I have tried this 
with the following symbol escape sequence

     plot(1:5, 1:5, xlab=""); title(xlab="\\dl", vfont=c("serif symbol", 
"plain"))

but I got the warning message

     parameter "vfont" couldn't be set in high-level plot() function

Is it possible to use a symbol escape sequence in xlab?

Richard


-------------------------------
Richard Dybowski, 143 Village Way, Pinner, Middlesex  HA5 5AA, UK
Tel (mobile): 079 76 25 00 92

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Nov 20 00:14:25 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 19 Nov 2001 18:14:25 -0500
Subject: [R] Update for SJava package for Windows
Message-ID: <20011119181425.A10293@jessie.research.bell-labs.com>


Numerous people have asked for a binary version of the SJava package
for Windows that will work with R-1.3.1, and finally I found time to
build one.

Additionally, this version now provides a mechanism to call R from a
Java application (as well as Java from R) on Windows in much the same
way as is available for Unix. (And the Windows version is
significantly more stable given the thread-aware libraries on that
OS.)

The new version is available from 
  http://www.omegahat.org/RSJava/SJavaWin_0.62-7.zip

You will have to set your PATH variable correctly to access the
relevant DLLs.

 Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Tue Nov 20 00:59:50 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Tue, 20 Nov 2001 00:59:50 +0100 (CET)
Subject: [R] R-base on Mandrake 8.1
In-Reply-To: <01111911483600.01824@ewilliams.ucsd.edu>
Message-ID: <Pine.LNX.4.33L2.0111200050010.20058-100000@localhost.localdomain>

On Mon, 19 Nov 2001, Elliot Williams wrote:

> I just compiled R and a bunch of packages on a fresh Mandrake 8.1 last week.
> No problems at all.   I just downloaded the R source from CRAN, binaries for
> ATLAS, LAPACK, and libreadline, and away it went.  Packages all compiled fine
> with install.packages().

Thank you ! As it is, I did intensive memory testing on my PC (thanks
for the hints) without any errors coming up; then I finally succeeded:
your mail got to me about one hour after having solved the problem.
Everything compiles fine as long as the "-fno-fast-math" flag is ADDED to
RPM-OPT's; just removing the "-ffast-math" flag isn't sufficient.

gcc-3.0.1 -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES  -O3 -fomit-frame-pointer
-pipe -mcpu=pentiumpro -march=i586 -fno-fast-math -fno-strength-reduce
did the trick.

I don't know if this is an issue with amd k6II processor or with mandrake
8.1. Anyway it was an interesting experience.

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Nov 20 02:10:32 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 20 Nov 2001 12:10:32 +1100
Subject: [R] help uses only netscape?
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
	 <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu> <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk>
Message-ID: <3BF9AD88.7895EAD9@ozemail.com.au>

Mark Myatt wrote:
> 
> ... One problem is that it spills some stuff to the
> console while browsing the help files. A little annoying but no big
> problem.
> 
Make sure that ignore.stderr=T in the system() command that starts
konqueror. That fixed it for me.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Tue Nov 20 03:10:28 2001
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Tue, 20 Nov 2001 15:10:28 +1300
Subject: [R] quiver plot help
Message-ID: <200111200210.fAK2AST18840@r.hankin.sems.auckland.ac.nz>

Hello everybody

I'm trying to write a simple version of matlab's "quiver".

The idea is that I have fluid with velocity defined on a grid.  I have
a matrix of x-components of velocity and a matrix of y-components and
I want to see the overall flow pattern.  (I work with 2D fluid
mechanics problems).

My first-stab function is below:

quiver  <- function(u,v,scale=1)
# first stab at matlab's quiver in R
  {
    xpos <- col(u)
    ypos <- max(row(u))-row(u)

    speed <- sqrt(u*u+v*v)
    maxspeed <- max(speed)

    u <- u*scale/maxspeed
    v <- v*scale/maxspeed

    matplot(xpos,ypos,type="p",cex=0)
    arrows(xpos,ypos,xpos+u,ypos+v,length=0.05)
  }


Thus, for example

u <- matrix(rnorm(100),nrow=10)
v <- matrix(rnorm(100),nrow=10)
quiver(u,v)



This works (after a fashion), but I want to do two things:

(1) scale the arrows so that the longest of them is the same length as
    the distance between two adjacent points plotted by matplot

(2) scale the arrow head to (say) one tenth of the length of its
    arrow.

I can't see how to do either of these because "length" argument to
arrows specifies the length of the edges of the arrow head in inches,
not in the units of the axes.  Also, any tips on how to improve the
programming style above would also be welcome.

thanks in advance


robin

-- 

Robin Hankin, Lecturer,
School of Environmental and Marine Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at julius.ling.ohio-state.edu  Tue Nov 20 05:08:40 2001
From: vasishth at julius.ling.ohio-state.edu (Shravan Vasishth)
Date: Mon, 19 Nov 2001 23:08:40 -0500 (EST)
Subject: [R] Looking for "data" library for Statistical Models in S
Message-ID: <Pine.SOL.4.33.0111191659230.11597-100000@julius.ling.ohio-state.edu>

Hi all,

Does anyone know where one can get the library called "data", for the
above book edited by Chambers and Hastie?

Thanks,

-- 
Shravan Vasishth
Dept. of Linguistics, OSU
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Tue Nov 20 05:42:21 2001
From: arc at arcriswell.com (Andrew Criswell)
Date: Tue, 20 Nov 2001 11:42:21 +0700
Subject: [R] Sampling from a population
Message-ID: <014801c1717d$c6a7a210$1009090a@bangkok6map8oe>

Hi ALL:

Suppose you have a population of N <- 5 observations, x <- c(43, 28, 7, 61, 39). From that you can draw a maximum of 10 samples without replacement of size n <- 3. (Command choose(N,n) yields 10). For instance the samples I seek are

    43, 61, 7
    39, 7, 28  ...etc

How can I get R to do that for me, to get an exhaustive list of samples of size n drawn without replacement from a population of size N?  The command, sample(x, 3, replace=FALSE), works well for one draw. Is there a package that will handle multiple draws?

Thanks and best wishes,
ANDREW

    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011120/40da9b3e/attachment.html

From l.e.loe at bio.uio.no  Tue Nov 20 09:28:13 2001
From: l.e.loe at bio.uio.no (Leif Egil Loe)
Date: Tue, 20 Nov 2001 09:28:13 +0100
Subject: [R] Help to conduct a random factor analysis with binomial response
Message-ID: <5.0.0.25.2.20011120092028.030aff00@uio-pop.uio.no>

Dear users of the R mailing list,

I am a ph.d. student in biology working on red deer in Norway, who would 
like to conduct an analysis with random factor where the response is 
binomially distributed. This cannot be conducted in S-plus, and I was told 
by others that it may be possible in R. However, I soon got into trouble 
which I hope you can help me to solve.

My model is on this form:
cbind(success,1-success) ~ variable 1 (numeric) + variable 2 (numeric) + 
variable 3 (factor) + variable 4 (factor). I have only one random factor, 
variable 5 (factor).

We assume that the analysis to be used is a non-linear mixed effects model, 
and hence use the nlme function in R. However, we failed to specify this 
model in a correct way. My question is therefore:

What is the syntax for this specific model (we got especially confused by 
the "start" argument)? If anyone could write the entire formula for this 
specific model we would be very greatful!


Thank you!


With regrads, Leif Egil Loe


.................................................................................................................................................
Leif Egil Loe                                        Privatadresse:
Avdeling for Zoologi                               c/o Hafting
Biologisk institutt                                 Hauges vei 31
Universitetet i Oslo                               N-0871 Oslo
Postboks 1050 Blindern
N-0316 Oslo

Tlf.    +47 22 85 72 94
Fax.  +47 22 85 46 05
Mob. +47 91 77 33 40
E-post. l.e.loe at bio.uio.no

.................................................................................................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 10:05:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 09:05:08 +0000 (GMT)
Subject: [R] Sampling from a population
In-Reply-To: <014801c1717d$c6a7a210$1009090a@bangkok6map8oe>
Message-ID: <Pine.LNX.4.31.0111200858260.12181-100000@gannet.stats>

On Tue, 20 Nov 2001, Andrew Criswell wrote:

> Hi ALL:
>
> Suppose you have a population of N <- 5 observations, x <- c(43, 28, 7, 61, 39). From that you can draw a maximum of 10 samples without replacement of size n <- 3. (Command choose(N,n) yields 10). For instance the samples I seek are
>
>     43, 61, 7
>     39, 7, 28  ...etc
>
> How can I get R to do that for me, to get an exhaustive list of samples of size n drawn without replacement from a population of size N?  The command, sample(x, 3, replace=FALSE), works well for one draw. Is there a package that will handle multiple draws?

This is a question about drawing subsets, as covered in the Programmer's
Niche articles in Rnews.  You want all subsets (not subvectors, as order
does not matter) of size n=3 from N=5 items.

There is some C code to so it in package lqs, where it is used for
exhaustive searching, but that doesn't currently have an R interface (it
did once).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 10:13:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 09:13:52 +0000 (GMT)
Subject: [R] quiver plot help
In-Reply-To: <200111200210.fAK2AST18840@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0111200905250.12181-100000@gannet.stats>

On Tue, 20 Nov 2001, Robin Hankin wrote:

> Hello everybody
>
> I'm trying to write a simple version of matlab's "quiver".
>
> The idea is that I have fluid with velocity defined on a grid.  I have
> a matrix of x-components of velocity and a matrix of y-components and
> I want to see the overall flow pattern.  (I work with 2D fluid
> mechanics problems).
>
> My first-stab function is below:
>
> quiver  <- function(u,v,scale=1)
> # first stab at matlab's quiver in R
>   {
>     xpos <- col(u)
>     ypos <- max(row(u))-row(u)
>
>     speed <- sqrt(u*u+v*v)
>     maxspeed <- max(speed)
>
>     u <- u*scale/maxspeed
>     v <- v*scale/maxspeed
>
>     matplot(xpos,ypos,type="p",cex=0)
>     arrows(xpos,ypos,xpos+u,ypos+v,length=0.05)
>   }
>
>
> Thus, for example
>
> u <- matrix(rnorm(100),nrow=10)
> v <- matrix(rnorm(100),nrow=10)
> quiver(u,v)
>
>
>
> This works (after a fashion), but I want to do two things:
>
> (1) scale the arrows so that the longest of them is the same length as
>     the distance between two adjacent points plotted by matplot
>
> (2) scale the arrow head to (say) one tenth of the length of its
>     arrow.
>
> I can't see how to do either of these because "length" argument to
> arrows specifies the length of the edges of the arrow head in inches,
> not in the units of the axes.  Also, any tips on how to improve the

S has a par("uin") telling you the number of inches per axes units.
R does not, but

uin <- function()
{
    u <- par("usr")
    p <- par("pin")
    c(p[1]/(u[2] - u[1]), p[2]/(u[4] - u[3]))
}

reproduces that information.  You can then compute arrow lengths in device
space, which should be all you need.

> programming style above would also be welcome.

Adding some spaces (around +, after ,) would help readability.

> thanks in advance
>
>
> robin
>
> --
>
> Robin Hankin, Lecturer,
> School of Environmental and Marine Science
> Private Bag 92019 Auckland
> New Zealand
>
> r.hankin at auckland.ac.nz
> tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Tue Nov 20 10:36:31 2001
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Tue, 20 Nov 2001 10:36:31 +0100
Subject: [R] Mac OS X and lost underlines
Message-ID: <142BDED6-DD9A-11D5-B0E4-0003930EA956@gmx.net>

I have installed the Mac OS X (Carbon) on my system; Mac OS 10.1.1
If I use fix(), which invokes edit(), sometimes (every 2nd time) the 
underlines get lost.
e.g.

function  (file="M_x_se.txt") {  cat(file) }
gets
function  (file="Mxse.txt") {  cat(file) }
.
What happens??
Can I use the emacs of the Mac/Unix-shell on my Carbon R?
Thanks
Meinhard Ploner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 413 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011120/682d7708/attachment.bin

From jasont at indigoindustrial.co.nz  Tue Nov 20 10:46:08 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 20 Nov 2001 22:46:08 +1300
Subject: [R] reading tiff files
In-Reply-To: <3BF916D3.52A592C2@cbs.dtu.dk>; from laurent@cbs.dtu.dk on Mon, Nov 19, 2001 at 03:27:31PM +0100
References: <3BF916D3.52A592C2@cbs.dtu.dk>
Message-ID: <20011120224608.A1481@camille.indigoindustrial.co.nz>

> I am looking for a way to read tiff data into R 

e1071 used to have read.pnm() for pnm images (perhaps after 
application of ImageMagik's convert(1), if you're on a Un*x
system).  Unfortunately, I can't find read.pnm() after 
an upgrade.packages() or two.  Looks like e1071 doesn't have
it any more.  Anyone know where to get it?

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 20 11:41:02 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 20 Nov 2001 05:41:02 -0500 (EST)
Subject: [R] reading tiff files
In-Reply-To: <20011120224608.A1481@camille.indigoindustrial.co.nz>
Message-ID: <Pine.LNX.4.30.0111200540500.26752-100000@bolker.zoo.ufl.edu>


  got moved to package pixmap, on CRAN

On Tue, 20 Nov 2001, Jason Turner wrote:

> > I am looking for a way to read tiff data into R
>
> e1071 used to have read.pnm() for pnm images (perhaps after
> application of ImageMagik's convert(1), if you're on a Un*x
> system).  Unfortunately, I can't find read.pnm() after
> an upgrade.packages() or two.  Looks like e1071 doesn't have
> it any more.  Anyone know where to get it?
>
> Jason
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov 20 11:40:46 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 20 Nov 2001 10:40:46 +0000
Subject: [R] help uses only netscape?
In-Reply-To: <3BF9AD88.7895EAD9@ozemail.com.au>
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
 <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
 <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk> <3BF9AD88.7895EAD9@ozemail.com.au>
Message-ID: <mfwRfCAuMj+7EwQE@myatt.demon.co.uk>

Jim Lemon <bitwrit at ozemail.com.au> writes:
>Mark Myatt wrote:
>> 
>> ... One problem is that it spills some stuff to the
>> console while browsing the help files. A little annoying but no big
>> problem.
>> 
>Make sure that ignore.stderr=T in the system() command that starts
>konqueror. That fixed it for me.

Brilliant. I managed to get a (sort of) fix by redirecting output to
/dev/null. This worked well for mozilla but sometimes failed for
konqueror. I am new to Unix (just moved to Linux from windows) and it is
al taking a bit of getting used to.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ruimanuelcerqueira at hotmail.com  Tue Nov 20 13:12:08 2001
From: ruimanuelcerqueira at hotmail.com (Rui Cerqueira)
Date: Tue, 20 Nov 2001 12:12:08 +0000
Subject: [R] warning message
Message-ID: <F204JMa0JpIGRFh6qb900003459@hotmail.com>

   Hello everybody.

   I would like to pose a question regarding a warning message after running 
a function of my own. The function I created for computing the p-value of 
the dw statistic has a command line like this:

dwf0 <- function(dw,eigen) { carfun <- function(x) { 
(prod(1+2*(eigen-dw)*1i*x)^(-1/2)-prod(1-2*(eigen-dw)*1i*x)^(-1/2))/(1i*x) } 
; 1/2+integrate(f=carfun,lower = 0,upper = Inf, 
subdivisions=10000)$value/(2*pi) }

, with arguments "dw" as a real and "eigen" as a vector.
   After I run:

dwf0(1.314416,c(3.4420282, 2.6472097, 1.8375986, 1.2928912, 0.6768543, 
0.4187899, 0.1058144))

, the console replies:

[1] 0.3576019
There were 50 or more warnings (use warnings() to see the first 50)

. The first 50 warnings are similar to this (the first):

1: longer object length
        is not a multiple of shorter object length in: 2 * (eigen - dw)* 
0+1i * x

. Altough R gives a solution (0.3576019), I wasn't able to confirm this 
value until now and I can't get rid of that warning message. I did a "trial 
and error" on subdivisions to get a mid-term between a "out of memory" and a 
"maximum number of subdivisions reached".
   I thank you for your time on reading my message.

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Nov 20 13:53:05 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Nov 2001 13:53:05 +0100
Subject: [R] warning message
References: <F204JMa0JpIGRFh6qb900003459@hotmail.com>
Message-ID: <3BFA5231.E730FE3D@statistik.uni-dortmund.de>



Rui Cerqueira wrote:
> 
>    Hello everybody.
> 
>    I would like to pose a question regarding a warning message after running
> a function of my own. The function I created for computing the p-value of
> the dw statistic has a command line like this:
> 
> ?dwf0 <- function(dw,eigen) { carfun <- function(x) {
> (prod(1+2*(eigen-dw)*1i*x)^(-1/2)-prod(1-2*(eigen-dw)*1i*x)^(-1/2))/(1i*x) }
> ; 1/2+integrate(f=carfun,lower = 0,upper = Inf,
> subdivisions=10000)$value/(2*pi) }


It might be worth making above lines a bit less confusing and extend it
to some more (easier to read) lines.
Then you can check at which place you are calculating with vectors of
not maching lengths.

Particularly check if the vectors "(eigen-dw)" and "x" in your function
carfun() have got the same lengths (does it make sense?)!!!


> , with arguments "dw" as a real and "eigen" as a vector.
>    After I run:
> 
> ?dwf0(1.314416,c(3.4420282, 2.6472097, 1.8375986, 1.2928912, 0.6768543,
> 0.4187899, 0.1058144))
> 
> , the console replies:
> 
> ?[1] 0.3576019
> ?There were 50 or more warnings (use warnings() to see the first 50)
> 
> . The first 50 warnings are similar to this (the first):
> 
> ?1: longer object length
> ?        is not a multiple of shorter object length in: 2 * (eigen - dw)*
> 0+1i * x
> 
> . Altough R gives a solution (0.3576019), I wasn't able to confirm this
> value until now and I can't get rid of that warning message. I did a "trial
> and error" on subdivisions to get a mid-term between a "out of memory" and a
> "maximum number of subdivisions reached".
>    I thank you for your time on reading my message.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Nov 20 14:03:43 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 20 Nov 2001 14:03:43 +0100 (MET)
Subject: [R] reading tiff files
In-Reply-To: <20011120224608.A1481@camille.indigoindustrial.co.nz>
Message-ID: <Pine.OSF.3.96.1011120140248.24940E-100000@ija.csic.es>

There is an improved version in package
pixmap.


Agus

On Tue, 20 Nov 2001, Jason Turner wrote:

> > I am looking for a way to read tiff data into R 
> 
> e1071 used to have read.pnm() for pnm images (perhaps after 
> application of ImageMagik's convert(1), if you're on a Un*x
> system).  Unfortunately, I can't find read.pnm() after 
> an upgrade.packages() or two.  Looks like e1071 doesn't have
> it any more.  Anyone know where to get it?
> 
> Jason
> -- 
> Indigo Industrial Controls Ltd.
> 64-21-343-545
> jasont at indigoindustrial.co.nz
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Nov 20 14:37:35 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 20 Nov 2001 14:37:35 +0100
Subject: [R] reading tiff files
References: <Pine.LNX.4.30.0111200540500.26752-100000@bolker.zoo.ufl.edu>
Message-ID: <3BFA5C9F.77C6583A@cbs.dtu.dk>

Dear all,


Following the answers to my previous post, it seems that the way is to
convert first the picture before being abble to read it using the
pixmap package.

Would it make sense to have a function in pixmap to directly read tiff
file ?

I was thinking of making a function for that would do the job, and would
be ready to make the extra step to have something eventually usefull for
others (and why not included in the pixmap package).

suggestions ?



Laurent


-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 15:33:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 14:33:41 +0000 (GMT)
Subject: [R] reading tiff files
In-Reply-To: <3BFA5C9F.77C6583A@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0111201431120.12746-100000@gannet.stats>

On Tue, 20 Nov 2001, Laurent Gautier wrote:

> Dear all,
>
>
> Following the answers to my previous post, it seems that the way is to
> convert first the picture before being abble to read it using the
> pixmap package.
>
> Would it make sense to have a function in pixmap to directly read tiff
> file ?
>
> I was thinking of making a function for that would do the job, and would
> be ready to make the extra step to have something eventually usefull for
> others (and why not included in the pixmap package).
>
> suggestions ?

Unfortunately, I believe tiff is not well-defined as it is an extensible
format with a very large number of possibilities.  I think this is best
left to an external tool, none of which are (AFAIK) comprehensive.

AFAIR, pdftex took out tiff support after a while for exactly this reason.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Nov 20 15:36:41 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Tue, 20 Nov 2001 08:36:41 -0600
Subject: [R] Time series count model?
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
	 <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
	 <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk> <3BF9AD88.7895EAD9@ozemail.com.au> <mfwRfCAuMj+7EwQE@myatt.demon.co.uk>
Message-ID: <3BFA6A79.C00A7067@ukans.edu>

I fear I need someone to throw a brick at my head to shake loose
the cobwebs. And it might as well be the r friends as anybody!

I am trying to counsel a student who has count data (with many
0's and small nuumbers) that is a time series.  He was fitting
linear models to this data, but the count nature of the data
causes me a lot of concern, and I am looking around for a time
series approach to a model which allows all the bells and
whistles of count models. By chance, I notice that Congdon's
WinBUGS examples have an example that has a count model with
time series issues, but I fear it might be too great of a leap
for us to justify a paradigm switch to Bayesian statistics in
order to fit this one model. 

If you were using R, how would you get a foot hold on this
problem?

I want a NegativeBinomial count model (terminology maybe
ambiguous: that means a Poisson with input (mean) value derived
from a Gamma(Xb,1) process) and the possiblity of zero-inflated
data, which means the likelihood of an observation is multiplied
by 1 or 0 according to a draw from a logistic distribution. (I
realize this is starting to sound junked up, but Scott Long's
book on Regression with Qualitative Depenedent Variables writes
out all the details.)  

Because the theory that inspires this model is a dynamic
process, it has a lagged dependent variable on the right hand
side. So when I say X here, I mean a matrix in which lagged y's
are included as columns. So the individual observation's
likelihood is (I believe this is the Negative Binomial model
with zero inflagion factor)

input = draw from Gamma(exp(Xb),1))
zif = draw from logistic(Xb)

if (zif == 1) then:
p(y |X,b) = Pois( input )

if (zif == 0) then: 
y=0

I suppose it is not necessarily true the zero inflation logit
part depends on the exact same coefficients as the Gamma part,
but lets worry about that later....

We have a copy of Stata sitting around here and the students
have found in there a canned procedure to estimate that model,
it does various specificiation tests, such as a test for whether
the zero inflation part is necessary.  But that does not attend
to the time-series part. I don't do Stata myself, I am learning
R, and would like to see if I can do this in R.

We need to incorporate the possibility of an "error term" that
is influenced by its own lagged values in the usual ARIMA
sense.  Looking back to the justification for the Negative
Binomial in the first place, I remember one justification for
the NB model was a Poisson with heterogeneity.

p(y | X,b) = Pois (exp(Xb + e))

I don't think I ever understood very well why this leads to a NB
model. Maybe that's where I need to study. 

Nevertheless, where can I go if I start with that theory, but
the e are not independent, say they are MA(1)

e_t = g*e_{t-1} + u_t

and u_t is Normal(0,sigma^2).

Should I just write out a big log likelihood function and use
R's optim to fit it?

It seems like I'm missing out on something by going that route,
though.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science           
http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Tue Nov 20 16:05:34 2001
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Tue, 20 Nov 2001 15:05:34 -0000
Subject: [R] Time series count model?
References: <003f01c16bc8$49e9b9d0$01000001@godzilla> <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu> <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk> <3BF9AD88.7895EAD9@ozemail.com.au> <mfwRfCAuMj+7EwQE@myatt.demon.co.uk> <3BFA6A79.C00A7067@ukan
Message-ID: <009801c171d4$ce61b5c0$cb8801a3@sbs.ox.ac.uk>

One way to do this in R is using the package gee (Generalized Estimation
Equations).  The people to read are Liang and Zeger, who also describe a
quasi-likelihood approach to your problem (I don't have the references to
hand, but they are probably in the help pages for gee).  You might also want
to look at an old paper of mine:  David N. Barron 1992. "The Analysis of
Count Data: Over-dispersion and Autocorrelation." In Peter V. Marsden (ed.)
Sociological Methodology 22:179-220. New York: Blackwell.  I think I'm right
in saying that Stata also has a way of estimating gee models, though I've
never used Stata so I might be wrong.

David

----- Original Message -----
From: <pauljohn at ukans.edu>
Cc: <r-help at stat.math.ethz.ch>
Sent: Tuesday, November 20, 2001 2:36 PM
Subject: [R] Time series count model?


> I fear I need someone to throw a brick at my head to shake loose
> the cobwebs. And it might as well be the r friends as anybody!
>
> I am trying to counsel a student who has count data (with many
> 0's and small nuumbers) that is a time series.  He was fitting
> linear models to this data, but the count nature of the data
> causes me a lot of concern, and I am looking around for a time
> series approach to a model which allows all the bells and
> whistles of count models. By chance, I notice that Congdon's
> WinBUGS examples have an example that has a count model with
> time series issues, but I fear it might be too great of a leap
> for us to justify a paradigm switch to Bayesian statistics in
> order to fit this one model.
>
> If you were using R, how would you get a foot hold on this
> problem?
>
> I want a NegativeBinomial count model (terminology maybe
> ambiguous: that means a Poisson with input (mean) value derived
> from a Gamma(Xb,1) process) and the possiblity of zero-inflated
> data, which means the likelihood of an observation is multiplied
> by 1 or 0 according to a draw from a logistic distribution. (I
> realize this is starting to sound junked up, but Scott Long's
> book on Regression with Qualitative Depenedent Variables writes
> out all the details.)
>
> Because the theory that inspires this model is a dynamic
> process, it has a lagged dependent variable on the right hand
> side. So when I say X here, I mean a matrix in which lagged y's
> are included as columns. So the individual observation's
> likelihood is (I believe this is the Negative Binomial model
> with zero inflagion factor)
>
> input = draw from Gamma(exp(Xb),1))
> zif = draw from logistic(Xb)
>
> if (zif == 1) then:
> p(y |X,b) = Pois( input )
>
> if (zif == 0) then:
> y=0
>
> I suppose it is not necessarily true the zero inflation logit
> part depends on the exact same coefficients as the Gamma part,
> but lets worry about that later....
>
> We have a copy of Stata sitting around here and the students
> have found in there a canned procedure to estimate that model,
> it does various specificiation tests, such as a test for whether
> the zero inflation part is necessary.  But that does not attend
> to the time-series part. I don't do Stata myself, I am learning
> R, and would like to see if I can do this in R.
>
> We need to incorporate the possibility of an "error term" that
> is influenced by its own lagged values in the usual ARIMA
> sense.  Looking back to the justification for the Negative
> Binomial in the first place, I remember one justification for
> the NB model was a Poisson with heterogeneity.
>
> p(y | X,b) = Pois (exp(Xb + e))
>
> I don't think I ever understood very well why this leads to a NB
> model. Maybe that's where I need to study.
>
> Nevertheless, where can I go if I start with that theory, but
> the e are not independent, say they are MA(1)
>
> e_t = g*e_{t-1} + u_t
>
> and u_t is Normal(0,sigma^2).
>
> Should I just write out a big log likelihood function and use
> R's optim to fit it?
>
> It seems like I'm missing out on something by going that route,
> though.
>
> --
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science
> http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Tue Nov 20 16:12:50 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Tue, 20 Nov 2001 16:12:50 +0100
Subject: [R] Time series count model?
References: <003f01c16bc8$49e9b9d0$01000001@godzilla>
		 <Pine.A41.4.33.0111121439380.152720-100000@homer40.u.washington.edu>
		 <JxF6EHA6iN+7Ew2Q@myatt.demon.co.uk> <3BF9AD88.7895EAD9@ozemail.com.au> <mfwRfCAuMj+7EwQE@myatt.demon.co.uk> <3BFA6A79.C00A7067@ukans.edu>
Message-ID: <3BFA72F2.F752F89@ci.tuwien.ac.at>

pauljohn at ukans.edu wrote:
> 
> I fear I need someone to throw a brick at my head to shake loose
> the cobwebs. And it might as well be the r friends as anybody!
> 
> I am trying to counsel a student who has count data (with many
> 0's and small nuumbers) that is a time series.  He was fitting
> linear models to this data, but the count nature of the data
> causes me a lot of concern, and I am looking around for a time
> series approach to a model which allows all the bells and
> whistles of count models. By chance, I notice that Congdon's
> WinBUGS examples have an example that has a count model with
> time series issues, but I fear it might be too great of a leap
> for us to justify a paradigm switch to Bayesian statistics in
> order to fit this one model.
> 
> If you were using R, how would you get a foot hold on this
> problem?

I remember that I experimented with some code I hacked according to

  HARVEY, A.C. "Forecasting, structural time series models and the
Kalman filter"

who has a chapter about count data and Poisson observations. He suggests
a time series of Poisson observations, whose mean is chosen by a gamma
distribution with time-variable paramters (if I recall it correctly).

Maybe that reference might help
Z

 
> I want a NegativeBinomial count model (terminology maybe
> ambiguous: that means a Poisson with input (mean) value derived
> from a Gamma(Xb,1) process) and the possiblity of zero-inflated
> data, which means the likelihood of an observation is multiplied
> by 1 or 0 according to a draw from a logistic distribution. (I
> realize this is starting to sound junked up, but Scott Long's
> book on Regression with Qualitative Depenedent Variables writes
> out all the details.)
> 
> Because the theory that inspires this model is a dynamic
> process, it has a lagged dependent variable on the right hand
> side. So when I say X here, I mean a matrix in which lagged y's
> are included as columns. So the individual observation's
> likelihood is (I believe this is the Negative Binomial model
> with zero inflagion factor)
> 
> input = draw from Gamma(exp(Xb),1))
> zif = draw from logistic(Xb)
> 
> if (zif == 1) then:
> p(y |X,b) = Pois( input )
> 
> if (zif == 0) then:
> y=0
> 
> I suppose it is not necessarily true the zero inflation logit
> part depends on the exact same coefficients as the Gamma part,
> but lets worry about that later....
> 
> We have a copy of Stata sitting around here and the students
> have found in there a canned procedure to estimate that model,
> it does various specificiation tests, such as a test for whether
> the zero inflation part is necessary.  But that does not attend
> to the time-series part. I don't do Stata myself, I am learning
> R, and would like to see if I can do this in R.
> 
> We need to incorporate the possibility of an "error term" that
> is influenced by its own lagged values in the usual ARIMA
> sense.  Looking back to the justification for the Negative
> Binomial in the first place, I remember one justification for
> the NB model was a Poisson with heterogeneity.
> 
> p(y | X,b) = Pois (exp(Xb + e))
> 
> I don't think I ever understood very well why this leads to a NB
> model. Maybe that's where I need to study.
> 
> Nevertheless, where can I go if I start with that theory, but
> the e are not independent, say they are MA(1)
> 
> e_t = g*e_{t-1} + u_t
> 
> and u_t is Normal(0,sigma^2).
> 
> Should I just write out a big log likelihood function and use
> R's optim to fit it?
> 
> It seems like I'm missing out on something by going that route,
> though.
> 
> --
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science
> http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbowers at csm.berkeley.edu  Tue Nov 20 16:22:11 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Tue, 20 Nov 2001 07:22:11 -0800 (PST)
Subject: [R] squared coherency in R and Splus
In-Reply-To: <200111200210.fAK2AST18840@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.SV4.3.96.1011119193824.23403B-100000@csm.Berkeley.EDU>

Hi All.

I have two questions about "coherency" in R versus Splus:

1) Why plot x$coh surrounded by confidence intervals based on
   sqrt(x$coh)? Why not just plot sqrt(x$coh) surrounded by ci's based
   on sqrt(x$coh) OR plot x$coh surrounded by ci's based on x$coh? [A
   function I had used to plot squared coherency using Splus output
   does it the second way, while R (and Bloomfield 2000) seem to plot
   x$coh surrounded by ci's based on sqrt(x$coh).]

2) I think that spectrum() in Splus (6.0 Release 1 for Linux 2.2.12)
   and spectrum() in R 1.4.0 (rev 2001-11-19) do not produce the same
   numbers for their estimates of coherency although both claim to
   produce "squared coherency" in their help files [and R clearly does
   so on line 72 of spec.pgram()]. I ran the following test on both
   setups (using Linux, kernel 2.4):

t<-1:240   #Monthly Time for 20 Years
y1<-2*cos(2*pi*t*5/240)+3*sin(2*pi*t*5/240) #Series with a 4 year cycle
y2<-.5*y1+rnorm(length(t)) #Second series
y1ts<-ts(y1,freq=12)
y2ts<-ts(y2,freq=12)
Y<-ts.union(y1ts,y2ts)
specy<-spectrum(Y,plot=FALSE,spans=c(3,3),taper=.1,demean=FALSE,detrend=FALSE)

#Write out the results to file:
#with: dput(specy$coh,file="specycohR.r") in R
#with: dput(specy$coh,file="specycohS.s") in S

specycohS<-dget("specycohS.s") #Get the Splus version into R.
specycohR<-specy$coh

#I know that Splus includes freq=0 and R does not so I exclude the
#first entry in the Splus vector.

Rcompare<-sapply(list(Sversion=specycohS[-1],Rversion=specycohR),
	FUN=function(x){
		c(length=length(x),mean=mean(x),sd=sd(x),quantile(x))})

round(Rcompare,5)

        Sversion  Rversion
length 120.00000 120.00000
mean     0.23751   0.28726
sd       0.22376   0.26523
0%       0.00061   0.00266
25%      0.07786   0.07150
50%      0.17793   0.22233
75%      0.31521   0.44021
100%     0.99619   1.22397

#I also plotted the two vectors against one another, and did not see
#any easily discernible pattern [i.e. it doesn't look like one is a
#simple function of the other.] But when I plotted both against
#x$freq, both did get the relationship at freq=.25 [4 year cycle], 
#but otherwise they looked quite different.

For now I'm going to trust the R version for both the calculation of
ci's for x$coh AND for the calculation of x$coh itself. But, it would
set my mind at ease to know what is going on. Does anyone know?

Thanks very much!

Jake Bowers
Dept of Political Science
UC-Berkeley




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From berthold.kramm at epost.de  Tue Nov 20 16:58:31 2001
From: berthold.kramm at epost.de (Dr. Berthold Kramm)
Date: Tue, 20 Nov 2001 16:58:31 +0100
Subject: [R] ROC: AUC test
Message-ID: <3BFA7DA6.1EB74E5E@epost.de>

Is there a statistical test implemented within R to compare the area
under two ROC curves ??

Thanks,
Berthold
-------------- next part --------------
A non-text attachment was scrubbed...
Name: berthold.kramm.vcf
Type: text/x-vcard
Size: 214 bytes
Desc: Card for Dr. Berthold Kramm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011120/dc0f7bf1/berthold.kramm.vcf

From jbowers at csm.berkeley.edu  Tue Nov 20 17:15:52 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Tue, 20 Nov 2001 08:15:52 -0800 (PST)
Subject: [R] Time series count model?
In-Reply-To: <3BFA6A79.C00A7067@ukans.edu>
Message-ID: <Pine.SV4.3.96.1011120081231.26163B-100000@csm.Berkeley.EDU>

Hi Paul,

Check out Jim Lindsey's packages for Nonlinear Regression and Repeated
Measurements available here:
http://alpha.luc.ac.be/~lucp0753/rcode.html

Best,
Jake

--
Jake Bowers
Dept of Political Science
UC-Berkeley

On Tue, 20 Nov 2001 pauljohn at ukans.edu wrote:

> I fear I need someone to throw a brick at my head to shake loose
> the cobwebs. And it might as well be the r friends as anybody!
> 
> I am trying to counsel a student who has count data (with many
> 0's and small nuumbers) that is a time series.  He was fitting
> linear models to this data, but the count nature of the data
> causes me a lot of concern, and I am looking around for a time
> series approach to a model which allows all the bells and
> whistles of count models. By chance, I notice that Congdon's
> WinBUGS examples have an example that has a count model with
> time series issues, but I fear it might be too great of a leap
> for us to justify a paradigm switch to Bayesian statistics in
> order to fit this one model. 
> 
> If you were using R, how would you get a foot hold on this
> problem?
> 
> I want a NegativeBinomial count model (terminology maybe
> ambiguous: that means a Poisson with input (mean) value derived
> from a Gamma(Xb,1) process) and the possiblity of zero-inflated
> data, which means the likelihood of an observation is multiplied
> by 1 or 0 according to a draw from a logistic distribution. (I
> realize this is starting to sound junked up, but Scott Long's
> book on Regression with Qualitative Depenedent Variables writes
> out all the details.)  
> 
> Because the theory that inspires this model is a dynamic
> process, it has a lagged dependent variable on the right hand
> side. So when I say X here, I mean a matrix in which lagged y's
> are included as columns. So the individual observation's
> likelihood is (I believe this is the Negative Binomial model
> with zero inflagion factor)
> 
> input = draw from Gamma(exp(Xb),1))
> zif = draw from logistic(Xb)
> 
> if (zif == 1) then:
> p(y |X,b) = Pois( input )
> 
> if (zif == 0) then: 
> y=0
> 
> I suppose it is not necessarily true the zero inflation logit
> part depends on the exact same coefficients as the Gamma part,
> but lets worry about that later....
> 
> We have a copy of Stata sitting around here and the students
> have found in there a canned procedure to estimate that model,
> it does various specificiation tests, such as a test for whether
> the zero inflation part is necessary.  But that does not attend
> to the time-series part. I don't do Stata myself, I am learning
> R, and would like to see if I can do this in R.
> 
> We need to incorporate the possibility of an "error term" that
> is influenced by its own lagged values in the usual ARIMA
> sense.  Looking back to the justification for the Negative
> Binomial in the first place, I remember one justification for
> the NB model was a Poisson with heterogeneity.
> 
> p(y | X,b) = Pois (exp(Xb + e))
> 
> I don't think I ever understood very well why this leads to a NB
> model. Maybe that's where I need to study. 
> 
> Nevertheless, where can I go if I start with that theory, but
> the e are not independent, say they are MA(1)
> 
> e_t = g*e_{t-1} + u_t
> 
> and u_t is Normal(0,sigma^2).
> 
> Should I just write out a big log likelihood function and use
> R's optim to fit it?
> 
> It seems like I'm missing out on something by going that route,
> though.
> 
> -- 
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science           
> http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Nov 20 17:35:58 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 20 Nov 2001 08:35:58 -0800 (PST)
Subject: [R] Time series count model?
In-Reply-To: <3BFA6A79.C00A7067@ukans.edu>
Message-ID: <Pine.A41.4.33.0111200809160.123074-100000@homer41.u.washington.edu>

On Tue, 20 Nov 2001 pauljohn at ukans.edu wrote:

> I am trying to counsel a student who has count data (with many
> 0's and small nuumbers) that is a time series.  He was fitting
> linear models to this data, but the count nature of the data
> causes me a lot of concern, and I am looking around for a time
> series approach to a model which allows all the bells and
> whistles of count models. By chance, I notice that Congdon's
> WinBUGS examples have an example that has a count model with
> time series issues, but I fear it might be too great of a leap
> for us to justify a paradigm switch to Bayesian statistics in
> order to fit this one model.
>
> If you were using R, how would you get a foot hold on this
> problem?
>

<snip details of model>
>
> We have a copy of Stata sitting around here and the students
> have found in there a canned procedure to estimate that model,
> it does various specificiation tests, such as a test for whether
> the zero inflation part is necessary.  But that does not attend
> to the time-series part. I don't do Stata myself, I am learning
> R, and would like to see if I can do this in R.
>
> We need to incorporate the possibility of an "error term" that
> is influenced by its own lagged values in the usual ARIMA
> sense.  Looking back to the justification for the Negative
> Binomial in the first place, I remember one justification for
> the NB model was a Poisson with heterogeneity.
>
> p(y | X,b) = Pois (exp(Xb + e))
>
> I don't think I ever understood very well why this leads to a NB
> model. Maybe that's where I need to study.

It only does if exp(e) is Gamma distributed.  If e is Normal it leads to a
Poisson-Normal mixture. They're going to be almost indistinguishable in
practice.


> Nevertheless, where can I go if I start with that theory, but
> the e are not independent, say they are MA(1)
>
> e_t = g*e_{t-1} + u_t
>
> and u_t is Normal(0,sigma^2).
>
> Should I just write out a big log likelihood function and use
> R's optim to fit it?
>
> It seems like I'm missing out on something by going that route,
> though.

Some other things to consider, in addition to maximum likelihood

- Zeger (Biometrika 1988, pp621-629) gives an estimation procedure for a
time series count model that is based on a Poisson-Normal mixture.

- Something more or less similar is discussed by Davis et al (Biometrika
2000, p491-505)

- There are standard methods for standard error estimation in time series
regression problems, based on the same principles as the sandwich
estimators used for longitudinal data.  Some of these (eg the Newey-West
estimator) have been used in econometrics for a long time. Although they
are most often used for continuous response variables they work perfectly
well for counts.  Stata 7.0 does the Newey-West estimator for generalised
linear models, which may be what you had heard about.  These and related
sandwich-type estimators are reviewed by Lumley & Heagerty (JRSSB
1999,pp459-477).  I have R code, but again only for generalised linear
models, not for zero-inflation models.

- The Poisson-Normalmodel leads to a loglinear marginal model that can be
fitted by glm(), and I would expect something similar  to be true of
the zero-inflation model. This means that you may be able to just estimate
a marginal model (unless you are actually interested in inference about
the correlation structure).  In principle this could be inefficient, but
for very discrete data there isn't much information in the
autocorrelation.

- The full likelihood is intractable anyway -- it doesn't factorise the
way a Gaussian AR-1 does.  That's one reason Bayesians like these models:
MCMC is the easy way out computationally (though still not trivial).
There's a fairly popular approximate maximum likelihood method called PQL
that works reasonably well except in binary and small count data.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Nov 20 17:40:20 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 20 Nov 2001 17:40:20 +0100
Subject: [R] reading tiff files
References: <Pine.LNX.4.31.0111201431120.12746-100000@gannet.stats>
Message-ID: <3BFA8774.33228CC5@cbs.dtu.dk>


I have not expertise in the tiff format, but browsing the documentation
for the libtiff C library I thought something suitable for some cases
could be done (see the quote below).

If anybody reports having experienced problems with that..... it's a
different story....


-------------------------------------------------------------------
TIFFRGBAImage Support

libtiff provides a high-level interface for reading image data from a
TIFF file. This interface handles the details of data organization and
format for a wide variety of TIFF files; at least the large majority of
those files that one
would normally encounter. Image data is, by default, returned as ABGR
pixels packed into 32-bit words (8 bits per sample). Rectangular rasters
can be read or data can be intercepted at an intermediate level and
packed
into memory in a format more suitable to the application. The library
handles all the details of the format of data stored on disk and, in
most cases, if any colorspace conversions are required: bilevel to RGB,
greyscale to
RGB, CMYK to RGB, YCbCr to RGB, 16-bit samples to 8-bit samples,
associated/unassociated alpha, etc. 
--------------------------------------------------------------------




regards,



Laurent







Prof Brian Ripley wrote:
> 
> On Tue, 20 Nov 2001, Laurent Gautier wrote:
> 
> > Dear all,
> >
> >
> > Following the answers to my previous post, it seems that the way is to
> > convert first the picture before being abble to read it using the
> > pixmap package.
> >
> > Would it make sense to have a function in pixmap to directly read tiff
> > file ?
> >
> > I was thinking of making a function for that would do the job, and would
> > be ready to make the extra step to have something eventually usefull for
> > others (and why not included in the pixmap package).
> >
> > suggestions ?
> 
> Unfortunately, I believe tiff is not well-defined as it is an extensible
> format with a very large number of possibilities.  I think this is best
> left to an external tool, none of which are (AFAIK) comprehensive.
> 
> AFAIR, pdftex took out tiff support after a while for exactly this reason.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mario.Sendra at uv.es  Tue Nov 20 17:44:05 2001
From: Mario.Sendra at uv.es (Mario Sendra Pina)
Date: Tue, 20 Nov 2001 17:44:05 +0100
Subject: [R] Sampling from a population
References: <014801c1717d$c6a7a210$1009090a@bangkok6map8oe>
Message-ID: <001601c171e2$91412dc0$43169c93@uv.es>


  Suppose you have a population of N <- 5 observations, x <- c(43, 28, 7, 61, 39). From that you can draw a maximum of 10 samples without replacement of size n <- 3. (Command choose(N,n) yields 10). For instance the samples I seek are

      43, 61, 7
      39, 7, 28  ...etc

  How can I get R to do that for me, to get an exhaustive list of samples of size n drawn without replacement from a population of size N?  The command, sample(x, 3, replace=FALSE), works well for one draw. Is there a package that will handle multiple draws?


  # First solution

  combix<-function(x,r) {
  n<-length(x)
  total<-choose(n,r)
  a<-matrix(0,total,r)
  ind<-c(1:r)
  for (i in 1:total){
     for (j in 1:r){a[i,j]<-x[ind[j]]}
     for (j in r:1){
          miro<-j
          ind[j]<-ind[j]+1
     if (ind[j]<n-r+j+1) break()
  }
     while(miro<r) {
     ind[miro+1]<-ind[miro]+1
      miro<-miro+1
        }
  }
  return(a)
  }

  print(combix(x=1:5,r=3))


  x<-c(8,3,1,11,4,7)
  print(mean(x))


  medias<- apply(combix(x,2),1,mean)
  print(mean(medias))



  #With-Replacement

  combixr<-function(x,r) {
  n<-length(x)
  total<-n**r
  a<-matrix(0,total,r)
  ind<-rep(1,r)
  for (i in 1:total){
     for (j in 1:r){a[i,j]<-x[ind[j]]}
     for (j in r:1){
          miro<-j
          ind[j]<-ind[j]+1
     if (ind[j]<n+1) break()
  }
     while(miro<r) {
     ind[miro+1]<-1
      miro<-miro+1
        }
  }
  return(a)
  }
  print(combixr(x=1:5,r=3))


  x<-c(8,3,1,11,4,7)
  print(mean(x))


  medias<- apply(combixr(x,2),1,mean)
  mean(medias)





  #Other form


  darcombi<- function(N,n,caso){
  vecpeq<-rep(0,n)
  ante<-0
  ante1<-0
  for(i in 1:n){
  N1<- N-(ante1+1)
  n1<- n-i
  v1<-cumsum(choose(N1:n1,n1))
  ante<-min(which(caso<=v1))
  vecpeq[i]<-ante+ante1
  resta<-0
  if (ante>1) resta<-v1[ante-1]
  caso<-caso-resta
  ante1<-vecpeq[i]
  }
  return(vecpeq)
  }

  N<-5
  n<-3

  for (i in 1:choose(N,n)){
  print(darcombi(N=N,n=n,i))
  }



  x <- c(43, 28, 7, 61, 39)
  N<-length(x)
  n<-3

  for (i in 1:choose(N,n)){
  print(x[darcombi(N=N,n=n,i)])
  }
      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011120/5dd9b6ff/attachment.html

From brostaux.y at fsagx.ac.be  Tue Nov 20 17:57:47 2001
From: brostaux.y at fsagx.ac.be (Yves Brostaux)
Date: Tue, 20 Nov 2001 17:57:47 +0100
Subject: [R] Formulating anova for partially nested model
Message-ID: <5.0.0.25.1.20011120175034.00a799a0@fusamail.fsagx.ac.be>

Hello,

I'm trying to analyse data from an incomplete design with four factor :
- fr : number of the batch
- op : ID of operator
- meth : method used
- mat : nature of the material used
and one variable
- mv : mesure
- trmv : transformed mesure

  str(matvol)
`data.frame':   120 obs. of  6 variables:
  $ fr  : Factor w/ 30 levels "1","2","3","4",..: 1 1 1 1 2 2 2 2 3 3 ...
  $ op  : Factor w/ 3 levels "1","2","3": 3 3 3 3 1 1 1 1 2 2 ...
  $ meth: Factor w/ 2 levels "1","2": 2 2 2 2 1 1 1 1 2 2 ...
  $ mat : Factor w/ 5 levels "1","2","3","4",..: 1 5 2 4 2 1 3 5 2 1 ...
  $ mv  : num  0.761 0.806 0.837 0.264 0.799 ...
  $ trmv: num  2.12 2.23 2.31 1.08 2.21 ...


op, meth and mat are crossed and fr is nested in op*meth interaction. op 
and fr are taken as random. For each batch, only 4 on the total 5 matrices 
are mesured (oven constraint), and op and meth are constant.

I spent time trying every kind of aov models seeming sensible to me, read 
the according chapters in MASS2 and still didn't succeed writing the 
formula to obtain the results I expected (e.a. meth tested vs meth*op, mat 
vs mat*op, etc.).

Can someone bring some light to my clouded mind ?

Thanks in advance,

Y. Brostaux
=====================================================================
	YVES BROSTAUX - Ing?nieur agronome Orientation Eaux & For?ts
	Assistant - Unit? de Statistique et Informatique
	Gembloux Agricultural University
	8, avenue de la Facult? B-5030 Gembloux (Belgium)
         T?l:      +32 (0)81 62 24 69
         E-mail :  brostaux.y at fsagx.ac.be
=====================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 18:09:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 17:09:12 +0000 (GMT)
Subject: [R] reading tiff files
In-Reply-To: <3BFA8774.33228CC5@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0111201701310.12894-100000@gannet.stats>

On Tue, 20 Nov 2001, Laurent Gautier wrote:

> I have not expertise in the tiff format, but browsing the documentation
> for the libtiff C library I thought something suitable for some cases
> could be done (see the quote below).

`some cases', yes.   libtiff is widely used in those conversion tools.
Just be careful not to claim all tiff files.  In particular some include
patent-encumbered compression and are probably incompatible with GPL-ed
software.

> If anybody reports having experienced problems with that..... it's a
> different story....

We've met quite a lot of tiff files that libtiff does not handle. Our
scanner software generates them unless forced to turn all compression off.
Others came from some digital cameras.

BTW, one problem with libtiff is that some Unix-alike OSes include
modified versions, which makes linking against it tricky.

>
>
> -------------------------------------------------------------------
> TIFFRGBAImage Support
>
> libtiff provides a high-level interface for reading image data from a
> TIFF file. This interface handles the details of data organization and
> format for a wide variety of TIFF files; at least the large majority of
> those files that one
> would normally encounter. Image data is, by default, returned as ABGR
> pixels packed into 32-bit words (8 bits per sample). Rectangular rasters
> can be read or data can be intercepted at an intermediate level and
> packed
> into memory in a format more suitable to the application. The library
> handles all the details of the format of data stored on disk and, in
> most cases, if any colorspace conversions are required: bilevel to RGB,
> greyscale to
> RGB, CMYK to RGB, YCbCr to RGB, 16-bit samples to 8-bit samples,
> associated/unassociated alpha, etc.
> --------------------------------------------------------------------
>
>
>
>
> regards,
>
>
>
> Laurent
>
>
>
>
>
>
>
> Prof Brian Ripley wrote:
> >
> > On Tue, 20 Nov 2001, Laurent Gautier wrote:
> >
> > > Dear all,
> > >
> > >
> > > Following the answers to my previous post, it seems that the way is to
> > > convert first the picture before being abble to read it using the
> > > pixmap package.
> > >
> > > Would it make sense to have a function in pixmap to directly read tiff
> > > file ?
> > >
> > > I was thinking of making a function for that would do the job, and would
> > > be ready to make the extra step to have something eventually usefull for
> > > others (and why not included in the pixmap package).
> > >
> > > suggestions ?
> >
> > Unfortunately, I believe tiff is not well-defined as it is an extensible
> > format with a very large number of possibilities.  I think this is best
> > left to an external tool, none of which are (AFAIK) comprehensive.
> >
> > AFAIR, pdftex took out tiff support after a while for exactly this reason.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> Laurent Gautier			CBS, Building 208, DTU
> PhD. Student			D-2800 Lyngby,Denmark
> tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Nov 20 18:26:18 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 20 Nov 2001 18:26:18 +0100 (MET)
Subject: [R] is match slow?
Message-ID: <Pine.OSF.3.96.1011120182143.9862A-100000@ija.csic.es>


I'm doing

m <- match(matriz, origen, 0)

where matriz is a 270x900 matrix and
origen a 11675 elements vector, and is taking
a very long time. 

Is match a function
implemented in C? If not, would a C
code be faster?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Nov 20 18:18:13 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Tue, 20 Nov 2001 11:18:13 -0600
Subject: [R] Time Series Event Count: Great Responses So Far!
Message-ID: <3BFA9055.B5FFDB9E@ukans.edu>

In case more of you come across my request from this morning, I've
already gotten several great tips, which I summarize here since one or
two of these did not come across R-help as well.

A team of fellow political scientists is on this problem like
"white-on-rice"!

Brandt, Patrick, John T. Williams Benjamin O. Fordham, and Brian
Pollins. 
2000. "Dynamic Modeling for Persistent Event Count Time Series" American 
Journal of Political Science. 44(4): 823-843.

Brandt, Patrick and John T. Williams. 2001. "A Linear Poisson
Autoregressive 
Model: The Poisson AR(p)" Political Analysis. 9(2): 164-184.

There is software for implementing these models in GAUSS on Patrick
Brandt's webpage, 
http://www.psci.unt.edu/~brandt/pests/pests.htm. He said he is working
out R versions as well!


Jake Bowers pointed me to Jim Lindsey's packages for Nonlinear
Regression and Repeated
Measurements which has some functions which appear very promising:
http://alpha.luc.ac.be/~lucp0753/rcode.html

Thomas Lumley pointed out that instead of NB, one can get a
Poisson-Normal mixture out of this by changing the assumption on the
error term.  He pointed me at some articles that are exactly on point

- Zeger (Biometrika 1988, pp621-629) gives an estimation procedure for a
time series count model that is based on a Poisson-Normal mixture.

- Something more or less similar is discussed by Davis et al (Biometrika
2000, p491-505)

And he to consider "sandwich estimators" (or similar) for longitudinal
data. He wrote "Some of these (eg the Newey-West estimator) have been
used in econometrics for a long time. Although they
are most often used for continuous response variables they work
perfectly well for counts.  Stata 7.0 does the Newey-West estimator for
generalised linear models, which may be what you had heard about.  These
and related sandwich-type estimators are reviewed by Lumley & Heagerty
(JRSSB
1999,pp459-477).  I have R code, but again only for generalised linear
models, not for zero-inflation models."

Thomas added:
- The Poisson-Normal model leads to a loglinear marginal model that can
be fitted by glm(), and I would expect something similar  to be true of
the zero-inflation model. This means that you may be able to just
estimate a marginal model (unless you are actually interested in
inference about
the correlation structure).  In principle this could be inefficient, but
for very discrete data there isn't much information in the
autocorrelation.

- The full likelihood is intractable anyway -- it doesn't factorise the
way a Gaussian AR-1 does.  That's one reason Bayesians like these
models:
MCMC is the easy way out computationally (though still not trivial).
There's a fairly popular approximate maximum likelihood method called
PQL
that works reasonably well except in binary and small count data.

I've also learned that I should look up these articles:

McKenzie, E. 1988. Some ARMA models for dependent sequences of Poisson
counts. Advanced Applied Probability. 20: 822-835

Bockenholt, U. 1999. Mixed INAR(1) Poisson regression models. J. of
Econometrics, 89: 317-338.


-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Nov 20 18:35:38 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 20 Nov 2001 09:35:38 -0800 (PST)
Subject: [R] is match slow?
In-Reply-To: <Pine.OSF.3.96.1011120182143.9862A-100000@ija.csic.es>
Message-ID: <Pine.A41.4.33.0111200923040.123074-100000@homer41.u.washington.edu>

On Tue, 20 Nov 2001, Agustin Lobo wrote:

>
> I'm doing
>
> m <- match(matriz, origen, 0)
>
> where matriz is a 270x900 matrix and
> origen a 11675 elements vector, and is taking
> a very long time.
>
> Is match a function
> implemented in C? If not, would a C
> code be faster?

Well, typing the function name at the R prompt gives
R> match
function (x, table, nomatch = NA, incomparables = FALSE)
{
    if (!is.logical(incomparables) || incomparables)
        .NotYetUsed("incomparables != FALSE")
    .Internal(match(if (is.factor(x)) as.character(x) else x,
        if (is.factor(table)) as.character(table) else table,
        nomatch))

showing that it is .Internal and thus in compiled C code. Looking at
src/main/unique.c reveals that it is implemented by sticking `table' in a
hash table and looking up each element of x, which is a pretty good
algorithm for this problem. If the hash function is good it will take
about length(table)+length(x) hash computations, and you won't be able to
beat that easily.

I don't even find it that slow

> matriz<-matrix(rnorm(270*900),ncol=900)
> origen<-rnorm(11675)
> system.time(match(matriz,origen,0))
[1] 0.27 0.01 0.33 0.00 0.00

or with a lot of matches
> matriz<-matrix(sample(270*900,1:20,TRUE),ncol=900)
> origen<-1:11675
> system.time(match(matriz,origen,0))
[1] 0.01 0.00 0.01 0.00 0.00


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 18:35:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 17:35:45 +0000 (GMT)
Subject: [R] is match slow?
In-Reply-To: <Pine.OSF.3.96.1011120182143.9862A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0111201727450.12894-100000@gannet.stats>

On Tue, 20 Nov 2001, Agustin Lobo wrote:

>
> I'm doing
>
> m <- match(matriz, origen, 0)
>
> where matriz is a 270x900 matrix and
> origen a 11675 elements vector, and is taking
> a very long time.
>
> Is match a function
> implemented in C? If not, would a C

All of R is implemented in C or Fortran, ultimately.  But you could do
> match
function (x, table, nomatch = NA, incomparables = FALSE)
{
    if (!is.logical(incomparables) || incomparables)
        .NotYetUsed("incomparables != FALSE")
    .Internal(match(if (is.factor(x)) as.character(x) else x,
        if (is.factor(table)) as.character(table) else table,
        nomatch))
}
to see that it is a direct call to an internal function, and they
are in C.

> code be faster?

The internal C code (do_match in src/main/unique.c) uses hashing,
so unless that is not doing a good job on your particular data it ought
to be about as fast as possible.

You could have looked at the source code in the same way I did: that's
the beauty of an open-source system.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 20 18:35:57 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 20 Nov 2001 11:35:57 -0600
Subject: [R] Help to conduct a random factor analysis with binomial response
In-Reply-To: <5.0.0.25.2.20011120092028.030aff00@uio-pop.uio.no>
References: <5.0.0.25.2.20011120092028.030aff00@uio-pop.uio.no>
Message-ID: <6rwv0luyyq.fsf@franz.stat.wisc.edu>

Leif Egil Loe <l.e.loe at bio.uio.no> writes:

> I am a ph.d. student in biology working on red deer in Norway, who
> would like to conduct an analysis with random factor where the
> response is binomially distributed. This cannot be conducted in
> S-plus, and I was told by others that it may be possible in
> R. However, I soon got into trouble which I hope you can help me to
> solve.

This type of model is a generalized linear mixed model.

I think you would have to use the GLMMGibbs package in R to analyze
it.  You can't fit this type of model with the nlme package in R or in
S-PLUS.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 18:58:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 17:58:21 +0000 (GMT)
Subject: [R] Help to conduct a random factor analysis with binomial
 response
In-Reply-To: <6rwv0luyyq.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0111201742540.12894-100000@gannet.stats>

On 20 Nov 2001, Douglas Bates wrote:

> Leif Egil Loe <l.e.loe at bio.uio.no> writes:
>
> > I am a ph.d. student in biology working on red deer in Norway, who
> > would like to conduct an analysis with random factor where the
> > response is binomially distributed. This cannot be conducted in
> > S-plus, and I was told by others that it may be possible in
> > R. However, I soon got into trouble which I hope you can help me to
> > solve.
>
> This type of model is a generalized linear mixed model.
>
> I think you would have to use the GLMMGibbs package in R to analyze
> it.  You can't fit this type of model with the nlme package in R or in
> S-PLUS.

Since there was just a single additive random factor, another alternative
is another glmm() in one of Jim Lindsey's packages (gnlr, I think).

I had a student exploring some of these over the summer, and there were
lots of problem getting GLMMGibbs' glmm to keep running with binary
responses (it got internal errors), and a couple of times Lindsey's glmm
gave (practically) different answers to all other methods.

There will soon be some alternatives.  I have a wrapper around lme that
fits GLMMs by PQL, and that is working in R and S-PLUS. It will make the
MASS library soon, and I can make beta versions available.  (For S-PLUS
Jose' Pinheiro has at alpha/beta a more sophisticated wrapper called GLME,
but that depends on the very latest S-PLUS version of NLME).  James
McBroom and I have at alpha stage an adaptively tilted numerical
quadrature method that seems to do ML fitting fast and accurately thus
far.

There are some alternatives for S code for PQL about, too, although
those I have seen are none too flexible.

We (James and I) would be happy to try out what we have on the deer data
for you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneandco.com  Tue Nov 20 19:03:15 2001
From: andys at neptuneandco.com (Andrew Schuh)
Date: Tue, 20 Nov 2001 11:03:15 -0700
Subject: [R] trouble running pixmap examples
Message-ID: <3BFA9AE3.7060504@neptuneandco.com>

I am having trouble running the 'read.pnm' examples in this package. 
 Can anyone tell me what is wrong?

I am using the current package and running Redhat 7.2 (intel).  The 
other examples seem fine but I can't seem to pull in files.

[root at KENNY root]# R

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

 > library(pixmap)
 > x_read.pnm(system.file("pictures/logo.ppm",package="pixmap")[1])
Error in readBin(con, "integer", n = ncells, size = 1, signed = F) :
    unused argument(s) (signed ...)
 >


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 20 19:08:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Nov 2001 18:08:17 +0000 (GMT)
Subject: [R] trouble running pixmap examples
In-Reply-To: <3BFA9AE3.7060504@neptuneandco.com>
Message-ID: <Pine.LNX.4.31.0111201807280.12894-100000@gannet.stats>

On Tue, 20 Nov 2001, Andrew Schuh wrote:

> I am having trouble running the 'read.pnm' examples in this package.
>  Can anyone tell me what is wrong?
>
> I am using the current package and running Redhat 7.2 (intel).  The
> other examples seem fine but I can't seem to pull in files.

You aren't using the current R, though.  You need R 1.3.1 for

readBin(con, "integer", n = ncells, size = 1, signed = F)

>
> [root at KENNY root]# R
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.0  (2001-06-22)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
> [Previously saved workspace restored]
>
>  > library(pixmap)
>  > x_read.pnm(system.file("pictures/logo.ppm",package="pixmap")[1])
> Error in readBin(con, "integer", n = ncells, size = 1, signed = F) :
>     unused argument(s) (signed ...)
>  >
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Tue Nov 20 21:22:50 2001
From: robert at compete.com (Robert Abugov)
Date: Tue, 20 Nov 2001 15:22:50 -0500
Subject: [R] Summary: non-negative least squares
Message-ID: <IFECIJELMCKDEACBAHGLOECACGAA.robert@compete.com>


Thank you Brian Ripley, Gardar Johannesson, and Marcel Wolbers for your
prompt
and friendly help! I will share any further learnings as I move through
these suggestions.    -Bob Abugov


Brian Ripley wrote:

I just use optim() on the sum of squares with non-negativity constraints.
That did not exist in 1999.


Gardar Johannesson wrote:

You can always just use the quadratic programing library in R (quadprog).
That is, if you have

y as your data vector
X as your design matrix

Then do,

D <- t(X) %*% X
d <- t(t(y) %*% X)
A <- diag(ncol(X))
b <- rep(0,ncol(X))
fit <- solve.QP(D=D,d=d,A=t(A),b=b,meq=0)

and the solution is in fit$solution

Good luck,
Gardar


Marcel Wolbers wrote:

Hi Bob

I use the routine below which uses library quadprog for
non-negative least squares.
The scaling (xscale, yscale) is in principle unnecessary; it's
only there because there's a minor bug in the library quadprog
and the scaling is often a workaround.
I don't know how this compares to Brian Ripleys suggestion (use
optim) in times of speed and accuracy, but it should be competitive.

Yours,
Marcel


#---------------------------------------------------------------------------
--
nnls.fit <- function(x,y,wsqrt=1,eps=0,rank.tol=1e-07) {
  ## Purpose: Nonnegative Least Squares (similar to the S-Plus function
  ## with the same name) with the help of the R-library quadprog

 ## ------------------------------------------------------------------------
  ## Attention:
  ## - weights are square roots of usual weights
  ## - the constraint is coefficient>=eps

 ## ------------------------------------------------------------------------
  ## Author: Marcel Wolbers, July 99
  ##
========================================================================
  require ("quadprog")
  m <- NCOL(x)
  if (length(eps)==1) eps <- rep(eps,m)
  x <- x * wsqrt
  y <- y * wsqrt
  #sometimes a rescaling of x and y helps (if solve.QP.compact fails
otherwise)
  xscale <- apply(abs(x),2,mean)
  yscale <- mean(abs(y))
  x <- t(t(x)/xscale)
  y <- y/yscale
  Rinv <- backsolve(qr.R(qr(x)),diag(m))
  cf <- solve.QP.compact(Dmat=Rinv,dvec=t(x)%*%y,Amat=rbind(rep(1,m)),
                   Aind=rbind(rep(1,m),1:m),bvec=eps*xscale/yscale,
                         factorized=TRUE)$sol
  cf <- cf*yscale/xscale  #scale back
  cf
}

##- #PS: Why the scaling in nnls.fit?
##- # Consider the following
##- y <-  c(1659799.4,2741065.6,652875.7)
##- x <-  matrix(c(24950.79,34825.50,14387.05,102962.14,15525.89,24074.87),
##- ncol=2)
##- nnls.fit(x,y) #would unfortunately give an error without the scaling











On Fri, 16 Nov 2001, Robert Abugov wrote:

>
> In July of 1999 Douglas Bates invited R users to implement an algorithm
for
> non-negative least squares based on Bates and Wolf, 1984: Communications
in
> Statistics, Part B 13:841-850.
> <http://www.ens.gu.edu.au/robertk/R/help/99b/0058.html>
>
> I'm wondering if anybody has implemented this or something similar so I
> won't have to reinvent the wheel.
>
> Thanks!
>
> Bob Abugov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Nov 21 00:33:25 2001
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Tue, 20 Nov 2001 18:33:25 -0500
Subject: [R] Time series count model?
Message-ID: <00f501c1721b$c1113b60$aa101eac@newmicronpc>

You may want to take a look at a paper by Julia Kelsall and Scott Zeger in
JRSS(C) - 1999, pp. 331-344. This paper describes a frequency domain
approach to log-linear regression modeling of poisson-distributed count
data, accounting for correlation and over-dispersion. There are also some S
functions available to implement the methodology.

Ravi.

-----Original Message-----
From: pauljohn at ukans.edu <pauljohn at ukans.edu>
Cc: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Date: Tuesday, November 20, 2001 11:04 AM
Subject: [R] Time series count model?


>I fear I need someone to throw a brick at my head to shake loose
>the cobwebs. And it might as well be the r friends as anybody!
>
>I am trying to counsel a student who has count data (with many
>0's and small nuumbers) that is a time series.  He was fitting
>linear models to this data, but the count nature of the data
>causes me a lot of concern, and I am looking around for a time
>series approach to a model which allows all the bells and
>whistles of count models. By chance, I notice that Congdon's
>WinBUGS examples have an example that has a count model with
>time series issues, but I fear it might be too great of a leap
>for us to justify a paradigm switch to Bayesian statistics in
>order to fit this one model.
>
>If you were using R, how would you get a foot hold on this
>problem?
>
>I want a NegativeBinomial count model (terminology maybe
>ambiguous: that means a Poisson with input (mean) value derived
>from a Gamma(Xb,1) process) and the possiblity of zero-inflated
>data, which means the likelihood of an observation is multiplied
>by 1 or 0 according to a draw from a logistic distribution. (I
>realize this is starting to sound junked up, but Scott Long's
>book on Regression with Qualitative Depenedent Variables writes
>out all the details.)
>
>Because the theory that inspires this model is a dynamic
>process, it has a lagged dependent variable on the right hand
>side. So when I say X here, I mean a matrix in which lagged y's
>are included as columns. So the individual observation's
>likelihood is (I believe this is the Negative Binomial model
>with zero inflagion factor)
>
>input = draw from Gamma(exp(Xb),1))
>zif = draw from logistic(Xb)
>
>if (zif == 1) then:
>p(y |X,b) = Pois( input )
>
>if (zif == 0) then:
>y=0
>
>I suppose it is not necessarily true the zero inflation logit
>part depends on the exact same coefficients as the Gamma part,
>but lets worry about that later....
>
>We have a copy of Stata sitting around here and the students
>have found in there a canned procedure to estimate that model,
>it does various specificiation tests, such as a test for whether
>the zero inflation part is necessary.  But that does not attend
>to the time-series part. I don't do Stata myself, I am learning
>R, and would like to see if I can do this in R.
>
>We need to incorporate the possibility of an "error term" that
>is influenced by its own lagged values in the usual ARIMA
>sense.  Looking back to the justification for the Negative
>Binomial in the first place, I remember one justification for
>the NB model was a Poisson with heterogeneity.
>
>p(y | X,b) = Pois (exp(Xb + e))
>
>I don't think I ever understood very well why this leads to a NB
>model. Maybe that's where I need to study.
>
>Nevertheless, where can I go if I start with that theory, but
>the e are not independent, say they are MA(1)
>
>e_t = g*e_{t-1} + u_t
>
>and u_t is Normal(0,sigma^2).
>
>Should I just write out a big log likelihood function and use
>R's optim to fit it?
>
>It seems like I'm missing out on something by going that route,
>though.
>
>--
>Paul E. Johnson                       email: pauljohn at ukans.edu
>Dept. of Political Science
>http://lark.cc.ukans.edu/~pauljohn
>University of Kansas                  Office: (785) 864-9086
>Lawrence, Kansas 66045                FAX: (785) 864-5700
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Nov 21 00:51:27 2001
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Tue, 20 Nov 2001 18:51:27 -0500
Subject: [R] Sampling from a population
Message-ID: <014001c1721e$458c6a20$aa101eac@newmicronpc>

There is a recursive function called "subsets" in the S-Programming book by V&R, that lets you generate all unique combinations of n objects taken k at a time.  Tim Hesterberg also has a non-recursive function called "combinations", which may also be used.  Note that the recursive function uses a lot more memory. You can use any of these functions to generate unique, exhaustive samples.  

Hope this helps,
Ravi.

Here is the non-recursive function (courtesy: Tim Hesterberg):

combinations _ function(n, k){
  # Compute all n choose k combinations of size k from 1:n
  # Return matrix with k rows and choose(n,k) columns.
  # Avoids recursion.
  if(!is.numeric(n) || length(n) != 1 || n%%1) stop("'n' must be an integer")
  if(!is.numeric(k) || length(k) != 1 || k%%1) stop("'k' must be an integer")
  if(k > n || k <= 0) return(numeric(0))
  rowMatrix _ function(n) structure(1:n, dim=c(1,n))
  colMatrix _ function(n) structure(1:n, dim=c(n,1))
  if(k == n) return(colMatrix(n))
  if(k == 1) return(rowMatrix(n))
  L _ vector("list", k)
  # L[[j]] will contain combinations(N, j) for N = 2:n
  L[[1]] _ rowMatrix(2)
  L[[2]] _ colMatrix(2)
  Diff _ n-k
  for(N in seq(3, n, by=1)){
    # loop over j in reverse order, to avoid overwriting
    for(j in seq(min(k, N-1), max(2, N-Diff), by= -1))
      L[[j]] _ cbind(L[[j]], rbind(L[[j-1]], N, deparse.level=0))
    if(N <= Diff+1) L[[1]] _ rowMatrix(N)
    else L[[N-(Diff+1)]] _ numeric(0)
    if(N <= k) L[[N]] _ colMatrix(N)
  }
  L[[k]]
}


    -----Original Message-----
    From: Andrew Criswell <arc at arcriswell.com>
    To: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
    Date: Tuesday, November 20, 2001 12:52 AM
    Subject: [R] Sampling from a population
    
    
    Hi ALL:
    
    Suppose you have a population of N <- 5 observations, x <- c(43, 28, 7, 61, 39). From that you can draw a maximum of 10 samples without replacement of size n <- 3. (Command choose(N,n) yields 10). For instance the samples I seek are
    
        43, 61, 7
        39, 7, 28  ...etc
    
    How can I get R to do that for me, to get an exhaustive list of samples of size n drawn without replacement from a population of size N?  The command, sample(x, 3, replace=FALSE), works well for one draw. Is there a package that will handle multiple draws?
    
    Thanks and best wishes,
    ANDREW
    
        
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011120/f1e9cc8a/attachment.html

From smarston at pharmastatsci.com  Wed Nov 21 04:17:04 2001
From: smarston at pharmastatsci.com (Sarah Anne Marston)
Date: Tue, 20 Nov 2001 22:17:04 -0500
Subject: [R] drug discovery and drug development
Message-ID: <000401c1723c$1085e860$375bfea9@entersarah>

Dear R-Users working in biopharm discovery and development,

Would you like to help out and contribute to an article about R by
completing a quick survey? Please follow the link below to access the
survey.

http://www.pharmastatsci.com/R_survey.htm

Your feedback will be appreciated, thanks!

Sincerely,

Sarah Marston

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Wed Nov 21 09:05:42 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Wed, 21 Nov 2001 09:05:42 +0100
Subject: [R] distances from points to line
Message-ID: <3.0.6.32.20011121090542.00a11320@mail.anst.uu.se>

Dear all,

I have discovered that there are many things that I used to do in my GIS
which are easily done directly in R, for example calculating interpoint
distances using geoR and pick out points inside a polygon using splancs.

I now wonder, is there a function to create a line object like a
watercourse and then calculate the distances between many points in space
and this line?

I couldn't find it in geoR, splancs, spatial or RArcInfo.

Thanks in advance!


Sincerely,
Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Wed Nov 21 11:02:06 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Wed, 21 Nov 2001 11:02:06 +0100
Subject: [R] Re: [S] selecting arbitrary subsets from data frames
In-Reply-To: <6B677297622ED311A8E100902785F93104BFB5FB@ribes.for.orst.edu>
Message-ID: <3BFB89AE.26241.BC2A3D@localhost>

On 20 Nov 2001 at 17:55, Schwarz, Paul wrote:

> 
> I realize that this is a FAQ, and I have spent some time perusing 
the
> S-News archives trying to better understand the various 
approaches,
> but I would still appreciate advice from others on the list.
> 
> I have data stored as a data frame and individual rows are 
identified
> by plot number and by the individual within the plot.  Thus, 
there are
> several rows of data in the data frame corresponding to different
> individuals within each plot.  I would like to extract arbitrary
> subsets of plots (with all of the rows for each of the plot) from 
the
> data frame using a vector of plot numbers.  For example:
> 
> plotlist <- c(2,9,23,46,58)
> 
> So plotlist identifies the individual plot numbers but not the 
rows in
> the data frame.  How do I go about extracting all of the rows of 
data
> in the data frame for the plots contained in plotlist?  It seems 
like
> match() or is.element() are candidates for this task

Yes, something like

daf[is.element(daf$plotno,plotlist),]

suppose

daf is your data frame and plotno is column name with all plot 
numbers.

If you do not want whole row you can specify a vector of columns 
in front of ].

This works in R and I hope it will work in S+ too.
 
, but I must be
> missing the nuances of how to use these functions, and I would
> appreciate some insights.
> 
> Thanks for your time and patience.
> 
> -Paul
> 

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Nov 21 11:17:42 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 21 Nov 2001 11:17:42 +0100 (MET)
Subject: [R] Time series count model?
In-Reply-To: <3BFA72F2.F752F89@ci.tuwien.ac.at> from "Achim Zeileis" at Nov 20, 2001 04:12:50 PM
Message-ID: <200111211017.LAA00794@luc.ac.be>

> 
> pauljohn at ukans.edu wrote:
> > 
> > I fear I need someone to throw a brick at my head to shake loose
> > the cobwebs. And it might as well be the r friends as anybody!
> > 
> > I am trying to counsel a student who has count data (with many
> > 0's and small nuumbers) that is a time series.  He was fitting
> > linear models to this data, but the count nature of the data
> > causes me a lot of concern, and I am looking around for a time
> > series approach to a model which allows all the bells and
> > whistles of count models. By chance, I notice that Congdon's
> > WinBUGS examples have an example that has a count model with
> > time series issues, but I fear it might be too great of a leap
> > for us to justify a paradigm switch to Bayesian statistics in
> > order to fit this one model.
> > 
> > If you were using R, how would you get a foot hold on this
> > problem?
> 
> I remember that I experimented with some code I hacked according to
> 
>   HARVEY, A.C. "Forecasting, structural time series models and the
> Kalman filter"
> 
> who has a chapter about count data and Poisson observations. He suggests
> a time series of Poisson observations, whose mean is chosen by a gamma
> distribution with time-variable paramters (if I recall it correctly).

Essentially this model is implemented in the kalcount function of my
repeated library. Jim

> 
> Maybe that reference might help
> Z
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed Nov 21 11:45:42 2001
From: vito.muggeo at giustizia.it (MUGGEO VITO)
Date: Wed, 21 Nov 2001 11:45:42 +0100
Subject: [R] installing R for unix on PC
Message-ID: <00ea01c17279$b09be2e0$5c13070a@it.giustizia.it>

Dear R-users,
Probably this is rather general  question and I apologize for this:
I'm using R and other softwares on Win and I would like to install Linux
on my PC in order to be able to install R for unix. 
Is there anyone that wants to suggest me what do I need to partion my
hard disk and to install linux and then R?
In this way I could use both Win and Linux on my PC, am I right?
Is there any web-page where I can find some information?
Thank you very much,
vito

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011121/5603e340/attachment.html

From vito.muggeo at giustizia.it  Wed Nov 21 12:07:30 2001
From: vito.muggeo at giustizia.it (MUGGEO VITO)
Date: Wed, 21 Nov 2001 12:07:30 +0100
Subject: [R] Help to conduct a random factor analysis with binomial response
References: <Pine.LNX.4.31.0111201742540.12894-100000@gannet.stats>
Message-ID: <00fb01c1727c$ba80d100$5c13070a@it.giustizia.it>

Estimation of GLMM is also implemented in statmod library (reglm() function,
it should be) by Smith for S+ (unfortunaly I don' t remember the web page)
that uses the method decribed in Schall (1991).
This method is substantially a PQL, isn't it or am I wrong?

Dear Prof. Ripley, were can I find your wrapper around lme that fits GLMMs
by PQL? maybe can you send me it? Thank you

vito


----- Original Message -----
From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
To: "Douglas Bates" <bates at stat.wisc.edu>
Cc: "Leif Egil Loe" <l.e.loe at bio.uio.no>; <r-help at stat.math.ethz.ch>;
<atle.mysterud at bio.uio.no>
Sent: Tuesday, November 20, 2001 6:58 PM
Subject: Re: [R] Help to conduct a random factor analysis with binomial
response


> On 20 Nov 2001, Douglas Bates wrote:
>
> > Leif Egil Loe <l.e.loe at bio.uio.no> writes:
> >
> > > I am a ph.d. student in biology working on red deer in Norway, who
> > > would like to conduct an analysis with random factor where the
> > > response is binomially distributed. This cannot be conducted in
> > > S-plus, and I was told by others that it may be possible in
> > > R. However, I soon got into trouble which I hope you can help me to
> > > solve.
> >
> > This type of model is a generalized linear mixed model.
> >
> > I think you would have to use the GLMMGibbs package in R to analyze
> > it.  You can't fit this type of model with the nlme package in R or in
> > S-PLUS.
>
> Since there was just a single additive random factor, another alternative
> is another glmm() in one of Jim Lindsey's packages (gnlr, I think).
>
> I had a student exploring some of these over the summer, and there were
> lots of problem getting GLMMGibbs' glmm to keep running with binary
> responses (it got internal errors), and a couple of times Lindsey's glmm
> gave (practically) different answers to all other methods.
>
> There will soon be some alternatives.  I have a wrapper around lme that
> fits GLMMs by PQL, and that is working in R and S-PLUS. It will make the
> MASS library soon, and I can make beta versions available.  (For S-PLUS
> Jose' Pinheiro has at alpha/beta a more sophisticated wrapper called GLME,
> but that depends on the very latest S-PLUS version of NLME).  James
> McBroom and I have at alpha stage an adaptively tilted numerical
> quadrature method that seems to do ML fitting fast and accurately thus
> far.
>
> There are some alternatives for S code for PQL about, too, although
> those I have seen are none too flexible.
>
> We (James and I) would be happy to try out what we have on the deer data
> for you.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Nov 21 12:37:18 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 21 Nov 2001 06:37:18 -0500 (EST)
Subject: [R] installing R for unix on PC
Message-ID: <200111211137.fALBbI111911@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Wed Nov 21 06:23:46 2001
>Dear R-users,
>Probably this is rather general  question and I apologize for this:
>I'm using R and other softwares on Win and I would like to install =
>Linux
>on my PC in order to be able to install R for unix.=20
>Is there anyone that wants to suggest me what do I need to partion my
>hard disk and to install linux and then R?
>In this way I could use both Win and Linux on my PC, am I right?
>Is there any web-page where I can find some information?
>Thank you very much,
>vito

You can install Linux along with Windows.  I think the best
advice is found in http://sunsite.dk/linux-newbie/

Jon Baron

P.S.  Please try to send text only when sending messages to a
list.  (I am one who archives the list, and html triples the
size of messages.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ruimanuelcerqueira at hotmail.com  Wed Nov 21 13:09:12 2001
From: ruimanuelcerqueira at hotmail.com (Rui Cerqueira)
Date: Wed, 21 Nov 2001 12:09:12 +0000
Subject: [R] dw statistic
Message-ID: <F134F8tBYCfD1fVjhhs0002178a@hotmail.com>

  Hello Uwe

  First, I want to thank you for spending your time replying to my mail. I'm 
very impressed with the speed that my question was answered.
I'm new at R (about two weeks) and reading your mail made me realize that it 
was indeed a question of vectors of different lengths. I thinked that I 
could create a function ("carfun") without creating a "x" vector, since the 
only purpose of that function is to be integrated right away in the same "x" 
(I re-posted my function again at the end).
  But now I have another question: since "x" must be of "(dw-eigen)"'s 
length, how can I create a polynom in "x" of variable degree 
(=length("(dw-eigen)")) to be integrated? The computation of the exact 
p-value of DW is a hard one (since it depends on X matrices and the formula 
is a bit complicated), but the DW statistic is a valuable calculation in 
econometrics. The package "lmtest" has a function "dwtest", but it doesn't 
give any p-value.
  Thank you once more.



> > dwf0 <- function(dw,eigen) { carfun <- function(x) {
> > 
>(prod(1+2*(eigen-dw)*1i*x)^(-1/2)-prod(1-2*(eigen-dw)*1i*x)^(-1/2))/(1i*x) 
>}
> > ; 1/2+integrate(f=carfun,lower = 0,upper = Inf,
> > subdivisions=10000)$value/(2*pi) }


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Nov 21 13:18:49 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 21 Nov 2001 07:18:49 -0500 (EST)
Subject: [R] installing R for unix on PC
Message-ID: <200111211218.fALCInx13257@cattell.psych.upenn.edu>

One more thing.  If you install Linux, use the RPM to
install R.  R may come with Linux, but it won't be the
most recent version.  You can get the most recent version
from CRAN.  Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Nov 21 13:38:30 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 21 Nov 2001 13:38:30 +0100
Subject: [R] dw statistic
References: <F134F8tBYCfD1fVjhhs0002178a@hotmail.com>
Message-ID: <3BFBA046.4F564B4E@ci.tuwien.ac.at>

Rui Cerqueira wrote:
> 
>   Hello Uwe
> 
>   First, I want to thank you for spending your time replying to my mail. I'm
> very impressed with the speed that my question was answered.
> I'm new at R (about two weeks) and reading your mail made me realize that it
> was indeed a question of vectors of different lengths. I thinked that I
> could create a function ("carfun") without creating a "x" vector, since the
> only purpose of that function is to be integrated right away in the same "x"
> (I re-posted my function again at the end).
>   But now I have another question: since "x" must be of "(dw-eigen)"'s
> length, how can I create a polynom in "x" of variable degree
> (=length("(dw-eigen)")) to be integrated? The computation of the exact
> p-value of DW is a hard one (since it depends on X matrices and the formula
> is a bit complicated), but the DW statistic is a valuable calculation in
> econometrics. The package "lmtest" has a function "dwtest", but it doesn't
> give any p-value.

Not yet. We're still working on the last refinements of a new version of
"lmtest", hopefully out on CRAN by the end of the month.
For the moment you can either use the function durbin.watson() in "car",
which gives a bootstrapped p-value or I could send you a snapshot of the
forthcoming "lmtest", which calculates the p-values with the "pan" or
"gradsol" algorithm (which seems to be quite similar to your approach).
Best,
Z


>   Thank you once more.
> 
> > > ?dwf0 <- function(dw,eigen) { carfun <- function(x) {
> > >
> >(prod(1+2*(eigen-dw)*1i*x)^(-1/2)-prod(1-2*(eigen-dw)*1i*x)^(-1/2))/(1i*x)
> >}
> > > ; 1/2+integrate(f=carfun,lower = 0,upper = Inf,
> > > subdivisions=10000)$value/(2*pi) }
> 
> _________________________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Wed Nov 21 14:08:02 2001
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Wed, 21 Nov 2001 14:08:02 +0100
Subject: [R] reading data from stdin
Message-ID: <OF9CD78C87.BCB92C2B-ONC1256B0B.003C7033@evotecoai.com>

Hello s/r users!

I've been digging around in the s- and r-mailing lists, 
but i actually didn't find any answer to my question. 
So here it is:

How can i realize the following:

        myexec  |  R r_script >  outfile.txt

with 
        myexec          some executable writing data to stdout
                        "cat data.txt" can serve as a test
        R               is supposed to be "Rcmd BATCH" or "S BATCH" in 
case of S+6
        r_script        a script including a 
read_data_form_stdin_statement
                        something like: scan(stdin()) 

In this case myexec and R use the standard pipes. 
Are there any other possibilities? something like named pipes?
So that R could be invoked with a parameter containing the name of the 
pipe, 
to be used for reading data?

I've been playing around with connections, but i can't imagine how i could 

solve the problem.

I hope someone has any suggestions. 

Additionally, if there are any differences in that case, 
between R and S+6 on unix (linux) as well on windows, 
please give me a hint.

sincerely,

maciej

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011121/980392eb/attachment.html

From alobo at ija.csic.es  Wed Nov 21 14:43:14 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 21 Nov 2001 14:43:14 +0100 (MET)
Subject: [R] installing R for unix on PC
In-Reply-To: <00ea01c17279$b09be2e0$5c13070a@it.giustizia.it>
Message-ID: <Pine.OSF.3.96.1011121143801.14136H-100000@ija.csic.es>

This is a bit tricky if you don't want
to lose data. The SuSe manual has clear
directions on
reclaiming space from Win to install Linux. BUT, personally,
I would buy a second hard disk: disks are not expensive
and this can save you a lot of trouble (unless you are
willing to re-format your current disk).

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 21 Nov 2001, MUGGEO VITO wrote:

> Dear R-users,
> Probably this is rather general  question and I apologize for this:
> I'm using R and other softwares on Win and I would like to install Linux
> on my PC in order to be able to install R for unix. 
> Is there anyone that wants to suggest me what do I need to partion my
> hard disk and to install linux and then R?
> In this way I could use both Win and Linux on my PC, am I right?
> Is there any web-page where I can find some information?
> Thank you very much,
> vito
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Nov 21 14:33:21 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 21 Nov 2001 13:33:21 +0000
Subject: [R] installing R for unix on PC
In-Reply-To: <200111211137.fALBbI111911@cattell.psych.upenn.edu>
References: <200111211137.fALBbI111911@cattell.psych.upenn.edu>
Message-ID: <e2zPlCAh06+7EwFB@myatt.demon.co.uk>

Jonathan Baron <baron at cattell.psych.upenn.edu> writes:
>>From owner-r-help at stat.math.ethz.ch Wed Nov 21 06:23:46 2001
>>Dear R-users,
>>Probably this is rather general  question and I apologize for this:
>>I'm using R and other softwares on Win and I would like to install =
>>Linux
>>on my PC in order to be able to install R for unix.=20
>>Is there anyone that wants to suggest me what do I need to partion my
>>hard disk and to install linux and then R?
>>In this way I could use both Win and Linux on my PC, am I right?
>>Is there any web-page where I can find some information?
>>Thank you very much,
>>vito

>
>You can install Linux along with Windows.  I think the best
>advice is found in http://sunsite.dk/linux-newbie/

Most Linux distributions will handle this for you. You have to 'defrag'
your drive(s) first. Make a backup of everything as repartitioning disks
can go wrong. The installer with Linux will (usually) do the
partitioning for you.

It is possible to install Linux into a container file on a Windows drive
and this is good for a 'suck it and see' installation but will be a bit
slow.

Go for a big name distro because there are packages available for them
form CRAN. Installation from source can be tricky and can fail for no
apparent (to a newbie) reason. Using a package takes away the hassle.

Hope that helps.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Nov 21 15:08:20 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 21 Nov 2001 15:08:20 +0100 (MET)
Subject: [R] Announcement:  Automatic ATLAS support under Debian GNU/Linux
In-Reply-To: <15344.22848.700322.689712@sonny.eddelbuettel.com>
Message-ID: <Pine.OSF.3.96.1011121150743.14136J-100000@ija.csic.es>


What about other distributions? Can ATLAS be used with, i.e., SuSe?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ruimanuelcerqueira at hotmail.com  Wed Nov 21 15:08:08 2001
From: ruimanuelcerqueira at hotmail.com (Rui Cerqueira)
Date: Wed, 21 Nov 2001 14:08:08 +0000
Subject: [R] dw statistic
Message-ID: <F134O3iV4ElxrbfbNed0002197a@hotmail.com>

Hello Achim

  I would appreciate very much the snapshot you told, even for learning 
purpose (developing is, in my opinion, a bit soon). Nevertheless, I'm going 
to look at the durbin.watson() in "car".
  I can't stop saying how admired I am with the quickness my question was 
solved. Thanks to all.


>From: Achim Zeileis <zeileis at ci.tuwien.ac.at>
>To: Rui Cerqueira <ruimanuelcerqueira at hotmail.com>
>CC: ligges at statistik.uni-dortmund.de, r-help at stat.math.ethz.ch
>Subject: Re: [R] dw statistic
>Date: Wed, 21 Nov 2001 13:38:30 +0100
>
>Rui Cerqueira wrote:
> >
> >   Hello Uwe
> >
> >   First, I want to thank you for spending your time replying to my mail. 
>I'm
> > very impressed with the speed that my question was answered.
> > I'm new at R (about two weeks) and reading your mail made me realize 
>that it
> > was indeed a question of vectors of different lengths. I thinked that I
> > could create a function ("carfun") without creating a "x" vector, since 
>the
> > only purpose of that function is to be integrated right away in the same 
>"x"
> > (I re-posted my function again at the end).
> >   But now I have another question: since "x" must be of "(dw-eigen)"'s
> > length, how can I create a polynom in "x" of variable degree
> > (=length("(dw-eigen)")) to be integrated? The computation of the exact
> > p-value of DW is a hard one (since it depends on X matrices and the 
>formula
> > is a bit complicated), but the DW statistic is a valuable calculation in
> > econometrics. The package "lmtest" has a function "dwtest", but it 
>doesn't
> > give any p-value.
>
>Not yet. We're still working on the last refinements of a new version of
>"lmtest", hopefully out on CRAN by the end of the month.
>For the moment you can either use the function durbin.watson() in "car",
>which gives a bootstrapped p-value or I could send you a snapshot of the
>forthcoming "lmtest", which calculates the p-values with the "pan" or
>"gradsol" algorithm (which seems to be quite similar to your approach).
>Best,
>Z
>
>
> >   Thank you once more.
> >
> > > > dwf0 <- function(dw,eigen) { carfun <- function(x) {
> > > >
> > 
> >(prod(1+2*(eigen-dw)*1i*x)^(-1/2)-prod(1-2*(eigen-dw)*1i*x)^(-1/2))/(1i*x)
> > >}
> > > > ; 1/2+integrate(f=carfun,lower = 0,upper = Inf,
> > > > subdivisions=10000)$value/(2*pi) }
> >
> > _________________________________________________________________
> >
> > 
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Nov 21 15:36:06 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 21 Nov 2001 15:36:06 +0100
Subject: [R] installing R for unix on PC
References: <200111211218.fALCInx13257@cattell.psych.upenn.edu>
Message-ID: <3BFBBBD6.1531889C@psy.uni-muenchen.de>

Jonathan Baron wrote:
> 
> One more thing.  If you install Linux, use the RPM to
> install R.  R may come with Linux, but it won't be the
> most recent version.  You can get the most recent version
> from CRAN.  Jon

or one of the debs if you use Debian.

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Wed Nov 21 15:47:18 2001
From: c.schulz at metafacts.de (Christian Schulz)
Date: Wed, 21 Nov 2001 15:47:18 +0100
Subject: [R] save results from cron job
Message-ID: <3BFBBE76.6020705@metafacts.de>

hello,
i would like  program in future
more complex analysis, but i
have problems find a good way to save
the result's (i.e. correlation's, anova, clusterSolutions)
in a textfile.....

i attempt several things  i.e. "save" but when i use it and save it
to my htdocs folder for visualize in WWW it works , but i can't use it
in a html-formular (open the file)) , beacuse R "sitting on it"
Graphic output works fine !!!

Have got anybody an idea ???

Thanks for advance & regards,
christian


query_ausgaben <- function() {
library(RODBC)
channel <- odbcConnect("chris_db","","")
ausgaben <- sqlFetch(channel,"ausgaben")
plot(ausgaben$kosten,type="l")
cor(ausgaben$kosten,ausgaben$kategorie)
# str(hist(ausgaben$KATEGORIE, col="gray", labels = TRUE))
savePlot(filename= "c:/test/apache/htdocs/testplot" ,
type=("jpg"),device=dev.cur())
odbcClose(channel)}
while(1) {
query_ausgaben()
Sys.sleep(15)}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Nov 21 15:38:20 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 21 Nov 2001 15:38:20 +0100
Subject: [R] installing R for unix on PC
Message-ID: <OF78204664.F72F44B7-ONC1256B0B.004F6C1E@eurotel.cz>


Hi,

there is no need of disk partitioning for "partitionless" versions of
installations in a few Linux distributions (at least RH, MDK).
The instalator installs Linux in "images" on disk with FAT32 fs, but system
runs slower than when insalled on native (ext2, ext3,...)
Linux partition, therefore partitioning your harddisk is better.

If you have access to some Linux systems, try

man fdisk
or
fdisk --help

If you have Windows on the whole disk (for example when one partition ==
whole disk), then
fips
utility helps (it shrinks primary DOS/Win partitions and you then can use
the freed area for Linux).

Jan


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 11/21/01 2:17:47 PM
To: "RmailingList" <r-help at stat.math.ethz.ch>
Subject: [R] installing R for unix on PC

Dear R-users,
Probably this is rather  general? question and I apologize for this:
I'm using R and other  softwares on Win and I would like to install Linux
on my
PC in order to be able  to install R for unix.
Is there anyone that wants to suggest me what do I  need to partion my hard

disk and to install linux and then R?
In this way I  could use both Win and Linux on my PC, am I right?
Is there any web-page  where I can find some information?
Thank you very  much,
vito


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Wed Nov 21 16:19:08 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Wed, 21 Nov 2001 16:19:08 +0100
Subject: [R] Slow printing in batch?
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95B03F@exdkba03.novo.dk>

For doumentation purposes I run a batch R program that does reshaping etc. 
of data and finally prints things.

When I paste the code into an R-window everything runs in a few seconds,
but in Batch mode i get in the output file the result below.

Any clues why R uses 4 min to print a 1129\times 6 dataframe in batch mode?
The scrit I use to run R is:

c:\stat\r\%R_VERS%\bin\Rterm --no-restore --no-save -q < %1.R > %1.Rl

and in the .Rl file i get:
....
> Sys.time()
[1] "2001-11-21 16:00:23 Romance Standard Time"
> 
> summary( hbl )
       sample     lab             dev             cal           day
HbA1c%      
 0289 3962: 50   SDC:1055   nyTosoh :470   BioRad   :135   Min.   :1.0
Min.   : 4.700  
 0308 5530: 25   AAS:  74   Tosoh   : 74   DEKS-0521:577   1st Qu.:6.0   1st
Qu.: 7.300  
 0303 9481: 25              V2BioRad:450   DEKS-1321:276   Median :7.0
Median : 8.200  
 0303 8453: 25              VCBioRad:135   Tosoh    :141   Mean   :6.8
Mean   : 8.583  
 0299 7761: 25                                             3rd Qu.:8.0   3rd
Qu.:10.000  
 0294 7744: 25                                             Max.   :9.0
Max.   :13.700  
 (Other)  :954

> 
> Sys.time()
[1] "2001-11-21 16:00:27 Romance Standard Time"
>  
> hbl
         sample lab      dev       cal day HbA1c%
1     0294 7744 SDC VCBioRad DEKS-0521   6    7.9
2     0294 7744 SDC VCBioRad DEKS-0521   7    7.8
3     0294 7744 SDC VCBioRad DEKS-0521   8    7.7
4     0294 7744 SDC V2BioRad    BioRad   6    8.0
(deleted lines)
1171      10322 SDC  nyTosoh DEKS-1321   6   10.7
1172      10322 SDC  nyTosoh DEKS-1321   7   10.7
1173      10322 SDC  nyTosoh DEKS-1321   8   10.7
> 
> Sys.time()
[1] "2001-11-21 16:04:41 Romance Standard Time"


I use:
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R             

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novonordisk.com
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Wed Nov 21 17:06:13 2001
From: robert at compete.com (Robert Abugov)
Date: Wed, 21 Nov 2001 11:06:13 -0500
Subject: [R] installing R for unix on PC
In-Reply-To: <Pine.OSF.3.96.1011121143801.14136H-100000@ija.csic.es>
Message-ID: <IFECIJELMCKDEACBAHGLCECICGAA.robert@compete.com>


I've had pretty good luck installing Linux on a Windows '98 machine using
Partition Magic. As their instructions suggest, you need to make sure you
start your Linux partition somewhere in the first eight megabytes or so.
Also, I've heard that Win2k machines can be a problem.

Bob Abugov
bob at compete.com

Staff Statistician
Compete, Inc.


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Agustin Lobo
Sent: Wednesday, November 21, 2001 8:43 AM
To: MUGGEO VITO
Cc: RmailingList
Subject: Re: [R] installing R for unix on PC


This is a bit tricky if you don't want
to lose data. The SuSe manual has clear
directions on
reclaiming space from Win to install Linux. BUT, personally,
I would buy a second hard disk: disks are not expensive
and this can save you a lot of trouble (unless you are
willing to re-format your current disk).

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 21 Nov 2001, MUGGEO VITO wrote:

> Dear R-users,
> Probably this is rather general  question and I apologize for this:
> I'm using R and other softwares on Win and I would like to install Linux
> on my PC in order to be able to install R for unix.
> Is there anyone that wants to suggest me what do I need to partion my
> hard disk and to install linux and then R?
> In this way I could use both Win and Linux on my PC, am I right?
> Is there any web-page where I can find some information?
> Thank you very much,
> vito
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefano.calza at unimi.it  Wed Nov 21 17:11:43 2001
From: stefano.calza at unimi.it (stefano)
Date: Wed, 21 Nov 2001 17:11:43 +0100
Subject: [R] installing R for unix on PC
In-Reply-To: <e2zPlCAh06+7EwFB@myatt.demon.co.uk>
References: <200111211137.fALBbI111911@cattell.psych.upenn.edu> <e2zPlCAh06+7EwFB@myatt.demon.co.uk>
Message-ID: <20011121171143.A303@stefano>



Try with www.ibiblio.org/mdw/HOWTO/Linux+Widows-HOWTO/index.html

There are plenty of howtos, for almost you'll ever need to know about linux & Co. Have a look to the list in the same site.

Bye,
Stefano


On Wed, Nov 21, 2001 at 01:33:21PM +0000, Mark Myatt wrote:
> Jonathan Baron <baron at cattell.psych.upenn.edu> writes:
> >>From owner-r-help at stat.math.ethz.ch Wed Nov 21 06:23:46 2001
> >>Dear R-users,
> >>Probably this is rather general  question and I apologize for this:
> >>I'm using R and other softwares on Win and I would like to install =
> >>Linux
> >>on my PC in order to be able to install R for unix.=20
> >>Is there anyone that wants to suggest me what do I need to partion my
> >>hard disk and to install linux and then R?
> >>In this way I could use both Win and Linux on my PC, am I right?
> >>Is there any web-page where I can find some information?
> >>Thank you very much,
> >>vito
> 
> >
> >You can install Linux along with Windows.  I think the best
> >advice is found in http://sunsite.dk/linux-newbie/
> 
> Most Linux distributions will handle this for you. You have to 'defrag'
> your drive(s) first. Make a backup of everything as repartitioning disks
> can go wrong. The installer with Linux will (usually) do the
> partitioning for you.
> 
> It is possible to install Linux into a container file on a Windows drive
> and this is good for a 'suck it and see' installation but will be a bit
> slow.
> 
> Go for a big name distro because there are packages available for them
> form CRAN. Installation from source can be tricky and can fail for no
> apparent (to a newbie) reason. Using a package takes away the hassle.
> 
> Hope that helps.
> 
> Mark
> 
> --
> Mark Myatt
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Stefano Calza
Istituto di Statistica Medica e Biometria
Universita' degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Wed Nov 21 17:21:04 2001
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 21 Nov 2001 16:21:04 +0000
Subject: [R] Re: Mapping in R - in the common sense
In-Reply-To: <Pine.LNX.4.21.0111071639390.7360-100000@reclus.nhh.no>; from Roger.Bivand@nhh.no on Wed, Nov 07, 2001 at 06:25:21PM +0100
References: <20011107144549.A5466@socrates-a.ucl.ac.uk> <Pine.LNX.4.21.0111071639390.7360-100000@reclus.nhh.no>
Message-ID: <20011121162103.A12781@socrates-a.ucl.ac.uk>

Thank you for the help. I have installed the functions and the Intel 
version maps. I have tried the world map and those of the USA -- they 
look nice and useful.
I am offered actually offered MapInfo maps, but have no idea how to 
convert them to use in this framework. Moreover, I do not have MapInfo 
itself, so I can not check wherther it is willing to output its knowledge 
in any useful form. Is there any experience with this?

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Wed Nov 21 17:27:25 2001
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Wed, 21 Nov 2001 17:27:25 +0100
Subject: [R] Expectation Maximization (EM) clustering available?
Message-ID: <3.0.6.32.20011121172725.008e95d0@del2s1.decrc.abb.de>


I am looking for an implementation of the EM clustering algorithm in R.
This method is quite interesting and, for example, realized in the WEKA
data mining package -- and very slow, unfortunately.

Is there an R package containing the EM (clustering) algorithm or something
that could be used to implement it? Should be possible in a powerful
statistical package.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Wed Nov 21 17:36:49 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 21 Nov 2001 08:36:49 -0800
Subject: [R] VMS?
Message-ID: <004601c172aa$b81427e0$01000001@godzilla>

I've got a friend that is interested in trying out R on VMS. Are there any R
users running on VMS out there? Was it easy to install, build?

Thanks,
Jeff.

Jeff D. Hamann
Hamann, Donald and Associates
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Nov 21 17:52:11 2001
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 21 Nov 2001 08:52:11 -0800 (PST)
Subject: [R] Expectation Maximization (EM) clustering available?
In-Reply-To: <3.0.6.32.20011121172725.008e95d0@del2s1.decrc.abb.de>
Message-ID: <Pine.GSO.4.10.10111210851460.2372-100000@fisher.stat.ucla.edu>

Check out the mclust package on CRAN.

-roger
_____________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu

On Wed, 21 Nov 2001, Hans W. Borchers wrote:

> 
> I am looking for an implementation of the EM clustering algorithm in R.
> This method is quite interesting and, for example, realized in the WEKA
> data mining package -- and very slow, unfortunately.
> 
> Is there an R package containing the EM (clustering) algorithm or something
> that could be used to implement it? Should be possible in a powerful
> statistical package.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Wed Nov 21 19:30:22 2001
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Wed, 21 Nov 2001 19:30:22 +0100
Subject: [R] Re: Mapping in R - in the common sense
In-Reply-To: <20011121162103.A12781@socrates-a.ucl.ac.uk>
Message-ID: <NEBBLCMFGLNFBEBKHFCEEEONCDAA.cdeclercq@nordnet.fr>



> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Zsombor
> Cseres-Gergely
> Envoy? : mercredi 21 novembre 2001 17:21
> ? : Roger Bivand
> Cc : r-help at stat.math.ethz.ch
> Objet : Re: [R] Re: Mapping in R - in the common sense
>
>
> Thank you for the help. I have installed the functions and the Intel
> version maps. I have tried the world map and those of the USA -- they
> look nice and useful.
> I am offered actually offered MapInfo maps, but have no idea how to
> convert them to use in this framework. Moreover, I do not
> have MapInfo
> itself, so I can not check wherther it is willing to output
> its knowledge
> in any useful form. Is there any experience with this?

I have not yet used the maps library but the MapInfo Interchange File
(MIF) format is well and publicly documented (see
http://www.mapinfo.com/community/free/library/interchange_file.pdf).

Actually, you get 2 files: a MIF file with geographic data and a MID
file with attributes data.

It's not that difficult to parse, with a perl script for example.

I have used that way to draw cities contours behind a filled.contour
plot. The contours came from GeoConcept, a french GIS package wich can
export in the MIF format (you will have to be careful with datum and
projections, but they are written in the MIF file).

Hope it helps.

Christophe
--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at holos.pt  Wed Nov 21 19:12:59 2001
From: hjm at holos.pt (Hugo Morganho)
Date: Wed, 21 Nov 2001 18:12:59 +0000
Subject: [R] Instalation of R
In-Reply-To: <877kssdefv.fsf@jeeves.blindglobe.net>
References: <200111150056.fAF0uUd21586@cattell.psych.upenn.edu>
 <200111150056.fAF0uUd21586@cattell.psych.upenn.edu>
Message-ID: <5.0.2.1.0.20011121181112.00a7a0b0@127.0.0.1>

         Hi
         I'm running R on winNt, and i have a question:
         It's necessary to add any variable to the environment, to R runs 
correctly the packages (specialy the SJava)?

         Thanks
         Hugo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Wed Nov 21 21:17:33 2001
From: jonqli at labs.agilent.com (Jonathan Li)
Date: Wed, 21 Nov 2001 12:17:33 -0800
Subject: [R] src directory disappeared after installation of packages
Message-ID: <3BFC0BDD.7BDAE66C@labs.agilent.com>

Hi,

I am using R on Debian Linux. I tried to install packages from inside R
by calling
function install.packages(), e.g., install.packages("tree"). The
packages were
installed successfully. However, I couldn't find the "src" subdirectory 
under the /usr/lib/R/library/tree directory,, which is supposed to
contain the C, C++ and FORTRAIN source files, according to the "Writing
R Extensions" page 4. 
By looking at tree.R by BDR, I know that src is supposed to have files
such as BDRgrow1.c in it.

Did I look in a wrong directory or are there something wrong with the
way I use "install.packages()"?
Your insights are highly appreciated.

Regards,
-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ross at turing.une.edu.au  Wed Nov 21 22:51:21 2001
From: ross at turing.une.edu.au (Ross Darnell)
Date: 22 Nov 2001 08:51:21 +1100
Subject: [R] Help to conduct a random factor analysis with binomial response
In-Reply-To: Leif Egil Loe's message of "Tue, 20 Nov 2001 09:28:13 +0100"
References: <5.0.0.25.2.20011120092028.030aff00@uio-pop.uio.no>
Message-ID: <x85n11fkd2d.fsf@turing.une.edu.au>

Leif Egil Loe <l.e.loe at bio.uio.no> writes:

> Dear users of the R mailing list,
> 
> I am a ph.d. student in biology working on red deer in Norway, who
> would like to conduct an analysis with random factor where the
> response is binomially distributed. This cannot be conducted in
> S-plus, and I was told by others that it may be possible in
> R. However, I soon got into trouble which I hope you can help me to
> solve.
> 
> 
> My model is on this form:
> cbind(success,1-success) ~ variable 1 (numeric) + variable 2 (numeric)
> + variable 3 (factor) + variable 4 (factor). I have only one random
> factor, variable 5 (factor).
> 

[...]

I wrote a function in R that uses the EM algorithm for nonparametric
ML estimation in GLMs decribed by Aitkin (Biometrics 1999) first used
by Hinde ad Wood (1987). This is a generalization of the random
effects models for overdispersion in GLMs. The nice feature of this
approach is that you concurrently model normal as well as unknown
mixing distributions.  The algorithm alows for only one random effect.

The R function is based on the GLIM macro defined by AItkin and
Francis (1995 The GLIM Newsletter).

I would gladly run your data through for you.

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Nov 21 23:11:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 21 Nov 2001 14:11:41 -0800 (PST)
Subject: [R] src directory disappeared after installation of packages
In-Reply-To: <3BFC0BDD.7BDAE66C@labs.agilent.com>
Message-ID: <Pine.A41.4.33.0111211401010.31584-100000@homer32.u.washington.edu>

On Wed, 21 Nov 2001, Jonathan Li wrote:

> Hi,
>
> I am using R on Debian Linux. I tried to install packages from inside R
> by calling
> function install.packages(), e.g., install.packages("tree"). The
> packages were
> installed successfully. However, I couldn't find the "src" subdirectory
> under the /usr/lib/R/library/tree directory,, which is supposed to
> contain the C, C++ and FORTRAIN source files, according to the "Writing
> R Extensions" page 4.
> By looking at tree.R by BDR, I know that src is supposed to have files
> such as BDRgrow1.c in it.
>
> Did I look in a wrong directory or are there something wrong with the
> way I use "install.packages()"?
> Your insights are highly appreciated.


An installed package doesn't have a src directory. Under Linux,
install.packages() downloads and compiles the package and puts the
resulting binary in $R_HOME/library.  You have the option of whether to
delete the source package (a .tar.gz file). If you didn't it should be
in a subdirectory whose name begins with "Rinstdir", in your TMPDIR
(probably either ~/tmp or /tmp)

There seems to be confusion from time to time about the difference between
source packages (found on CRAN in /src/contrib/) and binary packages
(found on CRAN in bin/<operating system>/contrib or in your
$R_HOME/library directory).  As with some other R topics, it's not that it
isn't documented, but it may not be obvious where to look.


Source package:
src/
	lots of .c and .f files
R/
	lots of .R (or .s or .q) files
man/
	lots of .Rd files


Installed package (or binary package for Windows):
libs/
	A shared library
R/
	A single file with no .R extension
help/
	help pages
latex/
	latex help
html/
	html help
R-ex/
	examples from help pages


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Nov 21 23:56:47 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 21 Nov 2001 17:56:47 -0500 (EST)
Subject: [R] improved search site for R docs, functions, R-help
Message-ID: <200111212256.fALMulg21525@cattell.psych.upenn.edu>

Two improvements at http://finzi.psych.upenn.edu

1. I have added all packages from CRAN, including contributed
packages, so you can look for a package that does X.  Check out
the "Limit search to" box on the right, as well as "Sort by".

2. The new (beta) version of htdig (which I use) will search by
phrases as well as words (so long as the phrases are made of
words, it seems).  Thus you can search for "linear regression"
without getting everything that mentions "linear" and
"regression" somewhere.  Use quotes.

I welcome suggestions, and I would especially welcome email (to
me) from anyone familiar with hypermail and htdig, so that I can
ask for advice about how to update this page every month.  Right
now it takes 3 hours (doing it from scratch, using "rundig -a"),
and I'd like to cut that down.  (In principle I know what to do,
but I lack the confidence to try it.)

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Thu Nov 22 08:19:06 2001
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Thu, 22 Nov 2001 08:19:06 +0100
Subject: [R] installation on Mac OS X
In-Reply-To: <p05100301b81eaf1c590a@[129.206.113.199]>
References: <DCD4599D-DCAB-11D5-9686-0030657F9FE0@mac.com>
     <p05100301b81eaf1c590a@[129.206.113.199]>
Message-ID: <15356.42730.321112.822484@gargle.gargle.HOWL>

       [this was sent to "OWNER-r-help at ..." 
        please do NOT {and fix or switch your e-mail software if
        that does when you [reply] to an R-help message}
						-- MM, your list maintainer ]

> To: owner-r-help at stat.math.ethz.ch

Well I finally managed to get Xdarwin and R running on my Mac under 
OSX. Having turned my Mac into a UNIX box is a bit disconcerting but 
. . .
My problem now is how to get help to run - either as html or via R. I 
am sure it is my stupidity but any suggestions would be most welcome.

By the way if I run Stefano's OS9 R binary (current version) I can't 
seem to get the eps of any  graphics into my Latex program ( using 
graphics.sty or graphix.sty). The text goes wonky. Has anyone else 
noticed this problem - and if so is there a fix?

These are of course minor grips about a wonderful language.
Jan
-- 
G.Janacek					44 (0) 1603 592489
Dean                                    fax     44 (0) 1603 593868
School of Maths                   secretary     44 (0) 1603 592488
UEA
Norwich NR4 7TJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 09:07:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 08:07:16 +0000 (GMT)
Subject: [R] Help to conduct a random factor analysis with binomial
 response
In-Reply-To: <00fb01c1727c$ba80d100$5c13070a@it.giustizia.it>
Message-ID: <Pine.LNX.4.31.0111220802380.1603-100000@gannet.stats>

On Wed, 21 Nov 2001, MUGGEO VITO wrote:

> Estimation of GLMM is also implemented in statmod library (reglm() function,
> it should be) by Smith for S+ (unfortunaly I don' t remember the web page)
> that uses the method decribed in Schall (1991).
> This method is substantially a PQL, isn't it or am I wrong?

It is, but the code doesn't run in R without substantial change.  It is
one of the

> > There are some alternatives for S code for PQL about, too, although
> > those I have seen are none too flexible.

I mentioned: it is restricted to additive (unnested) random intercepts.

> Dear Prof. Ripley, were can I find your wrapper around lme that fits GLMMs
> by PQL? maybe can you send me it? Thank you

As I said below.  It is beta, and not released yet, but you can request a
beta version, privately.

> vito
>
>
> ----- Original Message -----
> From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
> To: "Douglas Bates" <bates at stat.wisc.edu>
> Cc: "Leif Egil Loe" <l.e.loe at bio.uio.no>; <r-help at stat.math.ethz.ch>;
> <atle.mysterud at bio.uio.no>
> Sent: Tuesday, November 20, 2001 6:58 PM
> Subject: Re: [R] Help to conduct a random factor analysis with binomial
> response
>
>
> > On 20 Nov 2001, Douglas Bates wrote:
> >
> > > Leif Egil Loe <l.e.loe at bio.uio.no> writes:
> > >
> > > > I am a ph.d. student in biology working on red deer in Norway, who
> > > > would like to conduct an analysis with random factor where the
> > > > response is binomially distributed. This cannot be conducted in
> > > > S-plus, and I was told by others that it may be possible in
> > > > R. However, I soon got into trouble which I hope you can help me to
> > > > solve.
> > >
> > > This type of model is a generalized linear mixed model.
> > >
> > > I think you would have to use the GLMMGibbs package in R to analyze
> > > it.  You can't fit this type of model with the nlme package in R or in
> > > S-PLUS.
> >
> > Since there was just a single additive random factor, another alternative
> > is another glmm() in one of Jim Lindsey's packages (gnlr, I think).
> >
> > I had a student exploring some of these over the summer, and there were
> > lots of problem getting GLMMGibbs' glmm to keep running with binary
> > responses (it got internal errors), and a couple of times Lindsey's glmm
> > gave (practically) different answers to all other methods.
> >
> > There will soon be some alternatives.  I have a wrapper around lme that
> > fits GLMMs by PQL, and that is working in R and S-PLUS. It will make the
> > MASS library soon, and I can make beta versions available.  (For S-PLUS
> > Jose' Pinheiro has at alpha/beta a more sophisticated wrapper called GLME,
> > but that depends on the very latest S-PLUS version of NLME).  James
> > McBroom and I have at alpha stage an adaptively tilted numerical
> > quadrature method that seems to do ML fitting fast and accurately thus
> > far.
> >
> > There are some alternatives for S code for PQL about, too, although
> > those I have seen are none too flexible.
> >
> > We (James and I) would be happy to try out what we have on the deer data
> > for you.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 09:15:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 08:15:45 +0000 (GMT)
Subject: [R] Slow printing in batch?
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020E95B03F@exdkba03.novo.dk>
Message-ID: <Pine.LNX.4.31.0111220813510.1603-100000@gannet.stats>

On Wed, 21 Nov 2001, BXC (Bendix Carstensen) wrote:

> For doumentation purposes I run a batch R program that does reshaping etc.
> of data and finally prints things.
>
> When I paste the code into an R-window everything runs in a few seconds,
> but in Batch mode i get in the output file the result below.
>
> Any clues why R uses 4 min to print a 1129\times 6 dataframe in batch mode?
> The scrit I use to run R is:
>
> c:\stat\r\%R_VERS%\bin\Rterm --no-restore --no-save -q < %1.R > %1.Rl
>
> and in the .Rl file i get:

That's not printing, as I see it, but writing to a file.  Try proc.time.
It looks like it is slow writing to your disk: is it fragmented?

I have no problem with much larger ouput to files.

> ....
> > Sys.time()
> [1] "2001-11-21 16:00:23 Romance Standard Time"
> >
> > summary( hbl )
>        sample     lab             dev             cal           day
> HbA1c%
>  0289 3962: 50   SDC:1055   nyTosoh :470   BioRad   :135   Min.   :1.0
> Min.   : 4.700
>  0308 5530: 25   AAS:  74   Tosoh   : 74   DEKS-0521:577   1st Qu.:6.0   1st
> Qu.: 7.300
>  0303 9481: 25              V2BioRad:450   DEKS-1321:276   Median :7.0
> Median : 8.200
>  0303 8453: 25              VCBioRad:135   Tosoh    :141   Mean   :6.8
> Mean   : 8.583
>  0299 7761: 25                                             3rd Qu.:8.0   3rd
> Qu.:10.000
>  0294 7744: 25                                             Max.   :9.0
> Max.   :13.700
>  (Other)  :954
>
> >
> > Sys.time()
> [1] "2001-11-21 16:00:27 Romance Standard Time"
> >
> > hbl
>          sample lab      dev       cal day HbA1c%
> 1     0294 7744 SDC VCBioRad DEKS-0521   6    7.9
> 2     0294 7744 SDC VCBioRad DEKS-0521   7    7.8
> 3     0294 7744 SDC VCBioRad DEKS-0521   8    7.7
> 4     0294 7744 SDC V2BioRad    BioRad   6    8.0
> (deleted lines)
> 1171      10322 SDC  nyTosoh DEKS-1321   6   10.7
> 1172      10322 SDC  nyTosoh DEKS-1321   7   10.7
> 1173      10322 SDC  nyTosoh DEKS-1321   8   10.7
> >
> > Sys.time()
> [1] "2001-11-21 16:04:41 Romance Standard Time"
>
>
> I use:
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> ----------------------
> Bendix Carstensen
> Senior Statistician
> Steno Diabetes Centre
> Niels Steensens Vej 2
> DK-2820 Gentofte
> Denmark
> tel: +45 44 43 87 38
> mob: +45 28 25 87 38
> fax: +45 44 43 73 13
> bxc at novonordisk.com
> www.biostat.ku.dk/~bxc
> ----------------------
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Nov 22 10:38:58 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 22 Nov 2001 10:38:58 +0100 (MET)
Subject: [R] Editing R graphics
Message-ID: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>


One of the few things that I miss from Splus is
the ability of interactively add text and symbols to graphics
that have been created by functions. I understand that the best
solution in R is to create a graphic file and use external 
software for editing the graphic. I know what to use in the
Win environment, but could anyone suggest what tools would
be appropriate under Linux?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Nov 22 11:04:16 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 22 Nov 2001 10:04:16 -0000 (GMT)
Subject: [R] Editing R graphics
In-Reply-To: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
Message-ID: <XFMail.011122100416.theis@statistik.uni-dortmund.de>

Hello!
On 22-Nov-01 Agustin Lobo wrote:
> 
> One of the few things that I miss from Splus is
> the ability of interactively add text and symbols to graphics
> that have been created by functions. I understand that the best
> solution in R is to create a graphic file and use external 
> software for editing the graphic. I know what to use in the
> Win environment, but could anyone suggest what tools would
> be appropriate under Linux?
Well, there are of course several options. My personal favourite is xfig and
there is even a device "xfig" to create xfig files directly from R. Xfig is a
vector-oriented graphics program easy to use and has a wide range of export
formats, such as eps combined postscript/latex and many others.

Cheers, Winfried

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 22-Nov-01
Time: 09:58:42
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov 22 11:01:25 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 22 Nov 2001 10:01:25 +0000
Subject: [R] New version of introductory text
Message-ID: <ZAHuoDA1zM$7EwPn@myatt.demon.co.uk>


All,

I have just uploaded a new version of my introductory notes to R to:

        http://www.myatt.demon.co.uk

This version add some more on graphical functions (use of par(), plots
with error bars &c.) as well as a section on data management covering
functions such as merge(), data.frame(), as.factor(), as.numeric(),
cut(), levels().

I think that this is about as far as I can go with this document so once
I get feedback from some of you out there I will finalise the document
and upload it to CRAN. So once again ... all reports of problems,
suggestions, &c. Gratefully received.

Best wishes,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Thu Nov 22 12:13:11 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Thu, 22 Nov 2001 12:13:11 +0100
Subject: [R] Editing R graphics
In-Reply-To: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>; from alobo@ija.csic.es on Thu, Nov 22, 2001 at 10:38:58AM +0100
References: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
Message-ID: <20011122121311.A28623@metropolitan.TechFak.Uni-Bielefeld.DE>

Hi!

You may try gimp, (http://www.gimp.org).
Yours
-- 
Frank G. Zoellner
AG Angewandte Informatik
Technische Fakult"at
Universit"at Bielefeld
phone: +49(0)521-106-5325
fax:   +49(0)521-106-2992
email: fzoellne at techfak.uni-bielefeld.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nikolai at eri.u-tokyo.ac.jp  Thu Nov 22 12:12:27 2001
From: nikolai at eri.u-tokyo.ac.jp (Nick Kostrov)
Date: Thu, 22 Nov 2001 20:12:27 +0900
Subject: [R] factanal {mva} question
Message-ID: <01112220122701.01581@nick-pc>

Hello!

I have a question about the factanal function. 
This function returns at the end  test statistics like this:

Test of the hypothesis that 4 factors are sufficient.
The chi square statistic is 4.63 on 2 degrees of freedom.
The p-value is 0.0988


Is it possible to get the chi square statistic and the p-value as variables, 
not the text on the screen? An object of class "factanal" have no components 
of the p-value and the chi square statistic but the function print  them on 
the screen.

Thanks in advance.


Nick.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Nov 22 12:32:16 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 22 Nov 2001 12:32:16 +0100
Subject: [R] changing the magnification of axis annotation 
Message-ID: <3BFCE240.8F6EB7AA@psy.uni-muenchen.de>

Hi all,

how do I change the magnification of xaxis annotation? I need a smaller
axis text size in some of my plots. I tried cex.axix=0.5 in plot(), but
this doesn't work.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Thu Nov 22 12:07:59 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 22 Nov 2001 12:07:59 +0100
Subject: [R] Missing panels in multipanel lme lattice/trellis
Message-ID: <JLEPLGAANFCEAEDCAGJNAEMCCAAA.dieter.menne@menne-biomed.de>

Dear R-supporters,

I have results of lme similar to those shown in Fig. 1.21, p.51 of
Pinheiro/Bates. However, In my data set, one of the panels is missing, leading
to an ugly frame shift of the following panels.

How can I replace one of the panels by an empty one to restore the raster?


Dieter Menne



---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Nov 22 12:51:07 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 22 Nov 2001 12:51:07 +0100
Subject: [R] Editing R graphics
References: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
Message-ID: <3BFCE6AB.7499AFE8@psy.uni-muenchen.de>

Agustin Lobo wrote:
> 
> One of the few things that I miss from Splus is
> the ability of interactively add text and symbols to graphics
> that have been created by functions. I understand that the best
> solution in R is to create a graphic file and use external
> software for editing the graphic. I know what to use in the
> Win environment, but could anyone suggest what tools would
> be appropriate under Linux?
> 
> Thanks
> 
> Agus

Hi,

you can try xfig. First open a xfig device with
xfig(file="mygraph.fig"), then create your plot.

Ciao, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov 22 13:06:19 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 22 Nov 2001 13:06:19 +0100
Subject: [R] Editing R graphics
Message-ID: <3.0.32.20011122130618.0090a5e0@162.38.183.200>

At 10:38 22/11/01 +0100, you wrote:
>
>One of the few things that I miss from Splus is
>the ability of interactively add text and symbols to graphics
>that have been created by functions. I understand that the best
>solution in R is to create a graphic file and use external 
>software for editing the graphic. I know what to use in the
>Win environment, but could anyone suggest what tools would
>be appropriate under Linux?
>
>Thanks
>
>Agus
>
>Dr. Agustin Lobo

Why not use low-level plotting commands and par() to add what you want on
your graphics? This is _really_ flexible, and you can do almost what you
want. The advantage is that you do that within R. I am revising "R for
beginners", and it includes an example illustrating how to use these
functions on a simple plot. I also posted an example on the list some time
ago. A limitation seems to be the impossibility to add pictures (such as
drawings of animals) in an R graphics.

About your question, I believe XFig is what you are looking for
(www.xfig.org).

Hope this helps.

Emmanuel Paradis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov 22 13:16:52 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 22 Nov 2001 07:16:52 -0500 (EST)
Subject: [R] factanal {mva} question
In-Reply-To: <01112220122701.01581@nick-pc>
Message-ID: <Pine.LNX.4.30.0111220709500.6365-100000@bolker.zoo.ufl.edu>


  The general answer to this kind of question is to look into the
print.factanal() function, which is what is called to do the printing
(by typing print.factanal , without parentheses or arguments, at the R
prompt).
in particular, the code contains ...

  p <- nrow(x$loadings)
  factors <- x$factors
  if (!is.na(x$n.obs) && x$dof > 0) {
        dof <- x$dof
        stat <- (x$n.obs - 1 - (2 * p + 5)/6 - (2 * factors)/3) *
            x$criteria["objective"]
        cat("\nTest of the hypothesis that", factors, if (factors ==
            1)
            "factor is"
        else "factors are", "sufficient.\n")
        cat("The chi square statistic is", round(stat, 2), "on",
            dof, if (dof == 1)
                "degree"
            else "degrees", "of freedom.\nThe p-value is", signif(1 -
                pchisq(stat, dof), 3), "\n")
    }

which shows you how those values are computed.

  Often, there will be a summary method (which would be summary.factanal()
in this case, but it doesn't seem to exist) that computes a richer set of
summary statistics (e.g., summary.lm()) from which you could extract these
values directly, rather than computing them yourself.  You could write
your own summary.factanal() function, so that something like
summary(ability.FA)$pvalue would work as expected.


On Thu, 22 Nov 2001, Nick Kostrov wrote:

> Hello!
>
> I have a question about the factanal function.
> This function returns at the end  test statistics like this:
>
> Test of the hypothesis that 4 factors are sufficient.
> The chi square statistic is 4.63 on 2 degrees of freedom.
> The p-value is 0.0988
>
>
> Is it possible to get the chi square statistic and the p-value as variables,
> not the text on the screen? An object of class "factanal" have no components
> of the p-value and the chi square statistic but the function print  them on
> the screen.
>
> Thanks in advance.
>
>
> Nick.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Nov 22 13:15:09 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 23 Nov 2001 01:15:09 +1300
Subject: [R] Editing R graphics
In-Reply-To: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>; from alobo@ija.csic.es on Thu, Nov 22, 2001 at 10:38:58AM +0100
References: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
Message-ID: <20011123011509.A3250@camille.indigoindustrial.co.nz>

On Thu, Nov 22, 2001 at 10:38:58AM +0100, Agustin Lobo wrote:
...
> I understand that the best
> solution in R is to create a graphic file and use external 
> software for editing the graphic. I know what to use in the
> Win environment, but could anyone suggest what tools would
> be appropriate under Linux?

I'm not an R-graphics guru, so I've no idea if this is the
best way.  Works for me, but there may be better...

xfig(file="myfile.fig")
... [plot commnands] ...
dev.off()

and use xfig, available at 
ftp://ftp.x.org/contrib/applications/drawing_tools/xfig/ 

If you like xfig, you might also want to check out pstoedit,
which takes Postscript or PDF files, and converts them to
fig format (nb it can actually convert to *many* more formats
than fig - it also does fig quite well).

http://www.pstoedit.net

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 13:28:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 12:28:56 +0000 (GMT)
Subject: [R] factanal {mva} question
In-Reply-To: <01112220122701.01581@nick-pc>
Message-ID: <Pine.LNX.4.31.0111221226560.1912-100000@gannet.stats>

On Thu, 22 Nov 2001, Nick Kostrov wrote:

> Hello!
>
> I have a question about the factanal function.
> This function returns at the end  test statistics like this:
>
> Test of the hypothesis that 4 factors are sufficient.
> The chi square statistic is 4.63 on 2 degrees of freedom.
> The p-value is 0.0988
>
>
> Is it possible to get the chi square statistic and the p-value as variables,
> not the text on the screen? An object of class "factanal" have no components
> of the p-value and the chi square statistic but the function print  them on
> the screen.

Yes.  Look at print.factanal for the code needed.

It's done that way for compatibility.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 13:36:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 12:36:45 +0000 (GMT)
Subject: [R] changing the magnification of axis annotation 
In-Reply-To: <3BFCE240.8F6EB7AA@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.31.0111221234130.1912-100000@gannet.stats>

On Thu, 22 Nov 2001, Sven Garbade wrote:

> how do I change the magnification of xaxis annotation? I need a smaller
> axis text size in some of my plots. I tried cex.axix=0.5 in plot(), but
> this doesn't work.

It's changed by cex.axis (not axix).

> plot(1:10, cex.axis=0.5)

works for me.  What scaling you can do to fonts is device-dependent,
though, and you may not be able to reduce the font that much on some.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 22 13:38:57 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 22 Nov 2001 13:38:57 +0100
Subject: [R] changing the magnification of axis annotation
References: <3BFCE240.8F6EB7AA@psy.uni-muenchen.de>
Message-ID: <3BFCF1E1.1C99FB15@statistik.uni-dortmund.de>

Sven Garbade wrote:
> 
> Hi all,
> 
> how do I change the magnification of xaxis annotation? I need a smaller
> axis text size in some of my plots. I tried cex.axix=0.5 in plot(), but
> this doesn't work.

Works both in plot():
cex.axis  for the tick mark labels or  
cex.lab  for the axes labels.

You can also set it in par()

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Nov 22 13:42:15 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 22 Nov 2001 13:42:15 +0100
Subject: [R] changing the magnification of axis annotation
References: <Pine.SOL.3.91.1011122072206.1982B-100000@godzilla4.acpub.duke.edu>
Message-ID: <3BFCF2A7.A2EF5CA1@psy.uni-muenchen.de>

Rashid Nassar wrote:
> 
> Sven,
> 
> I tried   cex.axis=.5  in R version 3.1 and it works.  You said you tried
> "cex.axix=0.5", could it be that you misspelled it (axiX) also in R?
> 
> Rashid

As Colin pointed out,

par(cex=0.5)
plot(x,y)

works, but not plot(x,y, cex.axix=0.5) (in R 3.1.1)

Thanks to all, Sven

> On Thu, 22 Nov 2001, Sven Garbade wrote:
> 
> > Date: Thu, 22 Nov 2001 12:32:16 +0100
> > From: Sven Garbade <garbade at psy.uni-muenchen.de>
> > To: R-Help <r-help at stat.math.ethz.ch>
> > Subject: [R] changing the magnification of axis annotation
> >
> > Hi all,
> >
> > how do I change the magnification of xaxis annotation? I need a smaller
> > axis text size in some of my plots. I tried cex.axix=0.5 in plot(), but
> > this doesn't work.
> >
> > Thanks, Sven
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Thu Nov 22 14:04:08 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Thu, 22 Nov 2001 13:04:08 GMT
Subject: [R] determination coef  (r?) in nls models
Message-ID: <200111221305.fAMD5iS04255@vs.bignet.com.br>

Hi,

I'd like to know if it's possible to estimate r 
(determination coef.) from a nls model in R.

Many thanks,

Antonio
Olinto

-----------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Thu Nov 22 14:06:17 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Thu, 22 Nov 2001 13:06:17 GMT
Subject: [R] comma as decimal separator in plots
Message-ID: <200111221307.fAMD7rS04301@vs.bignet.com.br>

Dear R list-members,

Is there any way to display numbers with comma as decimal 
separator, i.e., "5,4" instead of "5.4", in plots (x and y 
axis, expressions)?

Thanks for any suggestion,

Antonio
Olinto

-----------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov 22 14:25:08 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 22 Nov 2001 13:25:08 +0000
Subject: [R] changing the magnification of axis annotation
In-Reply-To: <3BFCE240.8F6EB7AA@psy.uni-muenchen.de>
References: <3BFCE240.8F6EB7AA@psy.uni-muenchen.de>
Message-ID: <fTnfsfA0yP$7Ewfm@myatt.demon.co.uk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:
>Hi all,
>
>how do I change the magnification of xaxis annotation? I need a smaller
>axis text size in some of my plots. I tried cex.axix=0.5 in plot(), but
>this doesn't work.                          ^^^^^^^^ 

It works for me (well cex.axis does).

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Nov 22 14:18:08 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 22 Nov 2001 13:18:08 +0000
Subject: [R] Editing R graphics
In-Reply-To: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
Message-ID: <ATeY8ZAQsP$7EwdF@myatt.demon.co.uk>

Agustin Lobo <alobo at ija.csic.es> writes:
>
>One of the few things that I miss from Splus is
>the ability of interactively add text and symbols to graphics
>that have been created by functions. I understand that the best
>solution in R is to create a graphic file and use external 
>software for editing the graphic. I know what to use in the
>Win environment, but could anyone suggest what tools would
>be appropriate under Linux?

xfig is one that R can talk to directly. It takes some getting used as
the user-interface is a little idiosyncratic but it is pretty powerful
once you get used to it. The GIMP is pretty good. You might also try one
of the vector packages such as Kontour (aka Killustrator).

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From idh at poulet.org  Thu Nov 22 14:56:23 2001
From: idh at poulet.org (Yannick Wurm)
Date: Thu, 22 Nov 2001 14:56:23 +0100
Subject: [R] Newbie
Message-ID: <B6EBCC52-DF50-11D5-B08E-0003934A808C@poulet.org>

Hi
I started studying Bioinformatics at my engineering school (INSA de 
lyon!) in september. We started learning statistics and did two classes 
of R hands-on, but I want to learn to use R better. (As in for my every 
day calculations - I'm in front of a computer anyway so why should I 
have to take out my TI-30?) I'm having trouble finding some of the 
simpler stat functions though. (despite help.search()-ing quite a bit)
	How can I calculate a factorial (as in 5! = 5*4*3*2*1)?
	How can I calculate Cnp,  the number of combinations of p elements 
out of n elements? I found binomial() but that is the binomial law and 
not simply Cnp.

	Does anyone have a *simple* R reference sheet for R beginners who 
only want to do simple things?

thanks in advance,

yannick.
----------------------------------------------
       yannick.wurm at insa-lyon.fr
tel: 06.16.41.71.92    icq: 22044361

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 15:33:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 14:33:42 +0000 (GMT)
Subject: [R] Newbie
In-Reply-To: <B6EBCC52-DF50-11D5-B08E-0003934A808C@poulet.org>
Message-ID: <Pine.LNX.4.31.0111221430040.2467-100000@gannet.stats>

On Thu, 22 Nov 2001, Yannick Wurm wrote:

> Hi
> I started studying Bioinformatics at my engineering school (INSA de
> lyon!) in september. We started learning statistics and did two classes
> of R hands-on, but I want to learn to use R better. (As in for my every
> day calculations - I'm in front of a computer anyway so why should I
> have to take out my TI-30?) I'm having trouble finding some of the
> simpler stat functions though. (despite help.search()-ing quite a bit)
> 	How can I calculate a factorial (as in 5! = 5*4*3*2*1)?

Use gamma.  gamma(n+1) = n!

> 	How can I calculate Cnp,  the number of combinations of p elements
> out of n elements? I found binomial() but that is the binomial law and
> not simply Cnp.

?choose

> 	Does anyone have a *simple* R reference sheet for R beginners who
> only want to do simple things?

Simple is in the eye of the beholder.  These seem fairly esoteric to me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Nov 22 15:59:33 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 22 Nov 2001 09:59:33 -0500 (EST)
Subject: [R] Newbie
Message-ID: <200111221459.fAMExXC12845@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Thu Nov 22 09:29:45 2001
>	How can I calculate a factorial (as in 5! = 5*4*3*2*1)?

A search of past news messages at finzi.psych.upenn.edu yields
two suggestions:
prod(1:n)
gamma(n+1)

If you use it a lot you can put
factorial <- function(x) {prod(1:x)}
in your .Rprofile

>	How can I calculate Cnp,  the number of combinations of p elements 
>out of n elements? I found binomial() but that is the binomial law and 
>not simply Cnp.

I haven't tested the following, but it may answer your question:
http://finzi.psych.upenn.edu/R/Rhelp/archive/14369.html

>	Does anyone have a *simple* R reference sheet for R beginners who 
>only want to do simple things?

Yes. http://www.psych.upenn.edu/~baron/refcard.pdf
and I think this is also in CRAN.  It is simpler than the kinds
of questions you just asked.  Soon I plan to add a second page
dealing mostly with graphics.  Jon Baron

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From higgins at oesa.ufz.de  Thu Nov 22 16:53:33 2001
From: higgins at oesa.ufz.de (Steven Higgins)
Date: Thu, 22 Nov 2001 15:53:33 +0000
Subject: [R] fac.design
Message-ID: <3.0.6.32.20011122155333.00a64640@pinus.oesa.ufz.de>

Dear all,
I am trying to find a R version of the S+ routine fac.design. In the help
of the package conf.design fac.design is listed under "see also". Any clues
as to where (which package) I can find fac.design?

thanks
Steve.
Steven Higgins
Department of Ecological Modelling
UFZ - Centre for Environmental Research Leipzig-Halle
Permoserstrasse 15
D-04318 Leipzig
Germany
Phone: +49-341-235 2479 
Fax:   +49-341-235 3500
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Nov 22 17:45:27 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 22 Nov 2001 17:45:27 +0100 (MET)
Subject: [R] ATLAS and SuSe
Message-ID: <Pine.OSF.3.96.1011122174120.10661F-100000@ija.csic.es>

Just to inform everyone:

From: Feedback <feedback at suse.de>
To: Agustin Lobo <alobo at ija.csic.es>
Subject: Ticket [20011122990000144]

> Could the same support be included in future Suse versions?


We have atlas in our distribtution since SuSE Linux 7.0.

You also find it on our FTP-server:

ftp.suse.com/pub/suse/i386/7.3/suse/beo1/atlas.rpm


I have Suse 6.4 and don't want to update on this machine, so
I cannot test it by now. I'll let you know as soon as I get
a new machine with SuSe > 7.0 .


Agus.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Nov 22 17:38:09 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 22 Nov 2001 12:38:09 -0400
Subject: [R] optim ???
Message-ID: <3BFD29F1.94638656@umsanet.edu.bo>

Hola!

santes<-c(210,169,187,160,167,176,185,206,173,146,174,201,198,148,154)
sdespues<-c(201,165,166,157,147,145,168,180,147,136,151,168,179,129,131)
dantes<-c(130,122,124,104,112,101,121,124,115,102,98,119,106,107,100)
ddespues<-c(125,121,121,106,101,85,98,105,103,98,90,98,110,103,82)
presion<-data.frame( santes, sdespues, dantes, ddespues)


logvero <- function(mu,delta,s2ksi,s2eps,beta,s2eta,x,z)
  {
    n <- length(x)
    sigma <- matrix(c(s2ksi+s2eps,beta*s2ksi-s2eps,beta*s2ksi-s2eps,
                    beta^2*s2ksi+s2eta+2*s2eps),2,2)
    xz <- sum((x-mu)*(z-delta))
    A <- matrix(c(sum((x-mu)^2),xz,xz,sum((z-delta)^2)),2,2)
    A <- (1/2)*solve(sigma) %*% A
    logdet <- (-1)*n*log(det(sigma))
    logdet-sum(diag(A))
  }

optim(par=c(mu=mean(santes),delta=mean(sdespues-santes),s2ksi=422,s2eps=1,s2eta=75), 
       fn=function(mu,delta,s2ksi,s2eps,s2eta)
           logvero(mu,delta,s2ksi,s2eps,0,s2eta,santes,sdespues-santes), 
           control=list(trace=1, fnscale=-1),
            method="BFGS")


gives the result:

Error in as.vector(data) : Argument "s2ksi" is missing, with no default


What is happening?

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 22 17:47:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 16:47:15 +0000 (GMT)
Subject: [R] optim ???
In-Reply-To: <3BFD29F1.94638656@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0111221642100.5158-100000@gannet.stats>

On Thu, 22 Nov 2001, kjetil halvorsen wrote:

> Hola!
>
> santes<-c(210,169,187,160,167,176,185,206,173,146,174,201,198,148,154)
> sdespues<-c(201,165,166,157,147,145,168,180,147,136,151,168,179,129,131)
> dantes<-c(130,122,124,104,112,101,121,124,115,102,98,119,106,107,100)
> ddespues<-c(125,121,121,106,101,85,98,105,103,98,90,98,110,103,82)
> presion<-data.frame( santes, sdespues, dantes, ddespues)
>
>
> logvero <- function(mu,delta,s2ksi,s2eps,beta,s2eta,x,z)
>   {
>     n <- length(x)
>     sigma <- matrix(c(s2ksi+s2eps,beta*s2ksi-s2eps,beta*s2ksi-s2eps,
>                     beta^2*s2ksi+s2eta+2*s2eps),2,2)
>     xz <- sum((x-mu)*(z-delta))
>     A <- matrix(c(sum((x-mu)^2),xz,xz,sum((z-delta)^2)),2,2)
>     A <- (1/2)*solve(sigma) %*% A
>     logdet <- (-1)*n*log(det(sigma))
>     logdet-sum(diag(A))
>   }
>
> optim(par=c(mu=mean(santes),delta=mean(sdespues-santes),s2ksi=422,s2eps=1,s2eta=75),
>        fn=function(mu,delta,s2ksi,s2eps,s2eta)
>            logvero(mu,delta,s2ksi,s2eps,0,s2eta,santes,sdespues-santes),
>            control=list(trace=1, fnscale=-1),
>             method="BFGS")
>
>
> gives the result:
>
> Error in as.vector(data) : Argument "s2ksi" is missing, with no default
>
>
> What is happening?

You are not using optim correctly.

     par: Initial values for the parameters to be optimized over.

      fn: A function to be minimized (or maximized), with first
          argument the vector of parameters over which minimization is
          to take place. It should return a scalar result.

     ...: Further arguments to be passed to `fn' and `gr'.

I think you wanted


optim(par=mean(santes),
        fn=function(mu,delta,s2ksi,s2eps,s2eta)
            logvero(mu,delta,s2ksi,s2eps,0,s2eta,santes,sdespues-santes),
            control=list(trace=1, fnscale=-1),
             method="BFGS",
            delta=mean(sdespues-santes), s2ksi=422, s2eps=1, s2eta = 75)

or something like that.  Otherwise fn needs to a function of one
parameter only.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raleandr at carpa.ciagri.usp.br  Thu Nov 22 17:55:21 2001
From: raleandr at carpa.ciagri.usp.br (Roseli Aparecida Leandro)
Date: Thu, 22 Nov 2001 14:55:21 -0200
Subject: [R] p-value using survdiff
Message-ID: <000d01bb1c56$0ff99280$09d46b8f@esalq.usp.br>


     Dear all,

     Does anyone knows how I could extract the p-value in:
 

> survdiff(Surv(tempo,status) ~ grupo,data=dados1,rho=1)
Call:
survdiff(formula = Surv(tempo, status) ~ grupo, data = dados1, rho = 1)

         N Observed Expected (O-E)^2/E (O-E)^2/V
grupo=1 21     5.12    12.00      3.94      14.5
grupo=2 21    14.55     7.68      6.16      14.5

 Chisq= 14.5  on 1 degrees of freedom, p= 0.000143 


Since with the commands below I cannot.

> fit<-survdiff(Surv(tempo,status) ~ grupo,data=dados1,rho=1)
> attributes(fit)
$names
[1] "n"     "obs"   "exp"   "var"   "chisq" "call" 

$class
[1] "survdiff"

I would appreciate any suggestion.
RAL


PS: Please send any to raleandr at carpa.ciagri.usp.br

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Thu Nov 22 17:54:07 2001
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Thu, 22 Nov 2001 17:54:07 +0100
Subject: [R] Newbie
References: <B6EBCC52-DF50-11D5-B08E-0003934A808C@poulet.org>
Message-ID: <3BFD2DAF.4D997244@pasteur.fr>

Yannick Wurm wrote:

> Hi
> I started studying Bioinformatics at my engineering school (INSA de
> lyon!) in september. We started learning statistics and did two classes
> of R hands-on, but I want to learn to use R better. (As in for my every
> day calculations - I'm in front of a computer anyway so why should I
> have to take out my TI-30?) I'm having trouble finding some of the
> simpler stat functions though. (despite help.search()-ing quite a bit)
>         How can I calculate a factorial (as in 5! = 5*4*3*2*1)?
>         How can I calculate Cnp,  the number of combinations of p elements
> out of n elements? I found binomial() but that is the binomial law and
> not simply Cnp.
>
>         Does anyone have a *simple* R reference sheet for R beginners who
> only want to do simple things?
>
> thanks in advance,
>
> yannick.
> ----------------------------------------------
>        yannick.wurm at insa-lyon.fr
> tel: 06.16.41.71.92    icq: 22044361
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

You can find many manuals on R at http://www.R-project.org/ (manuals).
There is also a simple, quick and practical manual written by Emmanuel
Paradis in french. By looking for at the same page  you must normally find it.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Thu Nov 22 18:06:20 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 22 Nov 2001 18:06:20 +0100
Subject: [R] Missing panels in multipanel lme lattice/trellis
In-Reply-To: <3BFD22B2.70F1518A@umsanet.edu.bo>
Message-ID: <JLEPLGAANFCEAEDCAGJNCEMGCAAA.dieter.menne@menne-biomed.de>

> Kjetil Halvorsen:
> I dont have the bates&Pinheiro book here now, but I think there is a
> skip= argument you can use to skip certain panels in the layout.

Thanks, that gives a workaround, but it leaves a hole instead of an empty plot.
I thought I was missing a standard mechanism that computes the position in the
array from the lme result.

Dieter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Thu Nov 22 18:09:15 2001
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Thu, 22 Nov 2001 12:09:15 -0500
Subject: [R] p-value using survdiff
In-Reply-To: <000d01bb1c56$0ff99280$09d46b8f@esalq.usp.br>; from Roseli Aparecida Leandro on Thu, Mar 28, 1996 at 12:24:23AM -0300
References: <000d01bb1c56$0ff99280$09d46b8f@esalq.usp.br>
Message-ID: <20011122120915.O9251@jimmy.harvard.edu>

I didn't see an obvious way (but there probably is one).
Anyways,
  getPval <- function(x)
{
  if( is.matrix(x$obs))
    etmp <- apply(x$exp, 1, sum)
  else
    etmp <- x$exp
  df<- (sum(1 * (etmp > 0))) - 1
  pv <- 1 - pchisq(x$chisq, df)
 pv
}

 mimics what is done in print.survdiff so it should be correct when
 print.survdiff is.

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Nov 22 18:48:43 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 22 Nov 2001 09:48:43 -0800
Subject: [R] installation on Mac OS X
In-Reply-To: <15356.42730.321112.822484@gargle.gargle.HOWL>
Message-ID: <2BC494F6-DF71-11D5-B67E-00039319314A@stat.ucla.edu>

You can get help using a browser such as dillo or mozilla or mosaic
and otherwise you just get help in the terminal or xterm window. If
you run "R --gui=gnome" you get separate help windows.

Also, if you run X11 rootless with an Aqua window manger such as
Xtools or OroborusX, you will not really be bothered much by the
two separate interfaces. Finally, it is not you, but Apple that has 
turned the Mac
into a Unix box. And wasn't it great that they did ?

--- Jan

On Wednesday, November 21, 2001, at 11:19 , G.Janacek wrote:

>        [this was sent to "OWNER-r-help at ..."
>         please do NOT {and fix or switch your e-mail software if
>         that does when you [reply] to an R-help message}
> 						-- MM, your list maintainer ]
>
>> To: owner-r-help at stat.math.ethz.ch
>
> Well I finally managed to get Xdarwin and R running on my Mac under
> OSX. Having turned my Mac into a UNIX box is a bit disconcerting but
> . . .
> My problem now is how to get help to run - either as html or via R. I
> am sure it is my stupidity but any suggestions would be most welcome.
>
> By the way if I run Stefano's OS9 R binary (current version) I can't
> seem to get the eps of any  graphics into my Latex program ( using
> graphics.sty or graphix.sty). The text goes wonky. Has anyone else
> noticed this problem - and if so is there a fix?
>
> These are of course minor grips about a wonderful language.
> Jan
> --
> G.Janacek					44 (0) 1603 592489
> Dean                                    fax     44 (0) 1603 593868
> School of Maths                   secretary     44 (0) 1603 592488
> UEA
> Norwich NR4 7TJ
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Nov 22 21:07:35 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 23 Nov 2001 09:07:35 +1300
Subject: [R] comma as decimal separator in plots
References: <200111221307.fAMD7rS04301@vs.bignet.com.br>
Message-ID: <00b901c17391$53b445e0$7632d882@stat.auckland.ac.nz>

Hi


> Is there any way to display numbers with comma as decimal 
> separator, i.e., "5,4" instead of "5.4", in plots (x and y 
> axis, expressions)?


You could try something with axis() and chartr(), like ...

    par(mfrow=c(2,1))
    plot(1:10/11, rep(1, 10), main="Standard X-Axis")    
    plot(1:10/11, rep(1, 10), main="Customised X-Axis", axes=F)
    axis(1, at=pretty(1:10/11), 
        labels=chartr(".", ",", as.character(pretty(1:10/11))))
    axis(2)
    box()

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov 22 21:29:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 22 Nov 2001 12:29:53 -0800 (PST)
Subject: [R] installation on Mac OS X
In-Reply-To: <15356.42730.321112.822484@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0111221228040.72380-100000@homer11.u.washington.edu>

On Thu, 22 Nov 2001, G.Janacek wrote:

>        [this was sent to "OWNER-r-help at ..."
>         please do NOT {and fix or switch your e-mail software if
>         that does when you [reply] to an R-help message}
> 						-- MM, your list maintainer ]
>
> > To: owner-r-help at stat.math.ethz.ch
>
> Well I finally managed to get Xdarwin and R running on my Mac under
> OSX. Having turned my Mac into a UNIX box is a bit disconcerting but
> . . .
> My problem now is how to get help to run - either as html or via R. I
> am sure it is my stupidity but any suggestions would be most welcome.
>
> By the way if I run Stefano's OS9 R binary (current version) I can't
> seem to get the eps of any  graphics into my Latex program ( using
> graphics.sty or graphix.sty). The text goes wonky. Has anyone else
> noticed this problem - and if so is there a fix?
>

I hadn't noticed, which suggests that a successful work-around is to make
pdf plots and use pdflatex.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Thu Nov 22 22:10:23 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 22 Nov 2001 22:10:23 +0100
Subject: [R] redhat 7.2 and rpm
References: <3BFD29F1.94638656@umsanet.edu.bo>
Message-ID: <3BFD69BF.55025DE5@univie.ac.at>

since less than 24 hours my notbook runs linux,
redhat 7.2

the first additional package i installed was R.
i used the rpm from the server.

then, R would not start, complaining that it could not find

libreadline.so.4.1

redhat 7.2 installed libreadline.so.4.2
and aliases 
libreadline.so.4
libreadline.so.

i i created a symbolic link named
libreadline.so.4.1
to
libreadline.so.4.2
and then things worked.

should it be like that.
or should R try libreadline.so or at least
libreadline.so.4?






--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Nov 22 23:11:09 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 23 Nov 2001 11:11:09 +1300
Subject: [R] Symbol escape sequence in xlab
References: <5.1.0.14.2.20011119221534.00a7a5b0@mail.btinternet.com>
Message-ID: <025f01c173a2$98e1de00$7632d882@stat.auckland.ac.nz>

Hi


> I would like to label an x-axis with the nabla symbol. I have tried this
> with the following symbol escape sequence
>
>      plot(1:5, 1:5, xlab=""); title(xlab="\\dl", vfont=c("serif symbol",
> "plain"))
>
> but I got the warning message
>
>      parameter "vfont" couldn't be set in high-level plot() function
>
> Is it possible to use a symbol escape sequence in xlab?


Unfortunately not.  Hershey fonts are yet to be implemented for text in the
plot margins.  A not-very-nice work around is to use text() with a bit of
trial-and-error to get the positioning right.  For example,

    plot(1:5, 1:5, xlab="")
    par(xpd=NA)
    text(3, .3, "\\dl", vfont=c("serif symbol", "plain"))

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 23 01:54:21 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 2001 01:54:21 +0100
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <3BFD69BF.55025DE5@univie.ac.at>
References: <3BFD29F1.94638656@umsanet.edu.bo>
	<3BFD69BF.55025DE5@univie.ac.at>
Message-ID: <x26682i9xe.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:

> since less than 24 hours my notbook runs linux,
> redhat 7.2
> 
> the first additional package i installed was R.
> i used the rpm from the server.
> 
> then, R would not start, complaining that it could not find
> 
> libreadline.so.4.1
> 
> redhat 7.2 installed libreadline.so.4.2
> and aliases 
> libreadline.so.4
> libreadline.so.
> 
> i i created a symbolic link named
> libreadline.so.4.1
> to
> libreadline.so.4.2
> and then things worked.
> 
> should it be like that.
> or should R try libreadline.so or at least
> libreadline.so.4?

No, that is a gross hack (which I inflicted on my notebook too...). 
The correct fix would be to install the real libreadline.so.4.1, or
recompile R for the newer library.

I wonder: Is this because configure selects the most precise version
number when looking for libraries? If so, it might get tricky to work
around for the RPM maintainer.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s195404 at student.uq.edu.au  Fri Nov 23 02:42:37 2001
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Fri, 23 Nov 2001 11:42:37 +1000 (EST)
Subject: [R] Changing strip widths in lattice plots
Message-ID: <1006479757.3bfda98d1863a@my.uq.edu.au>

Hello R users,

I'm using xyplot (lattice) to plot some data. Unfortunately, the text that goes 
into each strip is often too big to fit. For instance, one of the factors may 
be labelled "Satisfaction with waiting time" which is too wide to fit. If I use 
split.string() to wrap it onto two lines it is then too high to fit in the 
strip. I'd prefer to apply split.string on the fly than manually shorten each 
offending label.

I thought I could try
   1. making the strip wider (in the y direction) or
   2. removing it altogether and adding the strip text with ltext()

strip.default seemed a good place to look. I commented out any rect() 
statements, but the strips were still drawn. Could someone please tell me where 
to look for adjusting the strip width (or removing it entirely).

Thank you very much for your help!


Regards,


Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayan at stat.wisc.edu  Fri Nov 23 03:40:12 2001
From: deepayan at stat.wisc.edu (Deepayan Sarkar)
Date: Thu, 22 Nov 2001 20:40:12 -0600 (CST)
Subject: [R] Changing strip widths in lattice plots
Message-ID: <Pine.LNX.4.21.0111222033240.20921-100000@gstat205.stat.wisc.edu>


--- "Andrew C. Ward" <s195404 at student.uq.edu.au> wrote:
> Hello R users,
> 
> I'm using xyplot (lattice) to plot some data.
> Unfortunately, the text that goes 
> into each strip is often too big to fit. For
> instance, one of the factors may 
> be labelled "Satisfaction with waiting time" which
> is too wide to fit. If I use 
> split.string() to wrap it onto two lines it is then
> too high to fit in the 
> strip. I'd prefer to apply split.string on the fly
> than manually shorten each 
> offending label.
> 
> I thought I could try
>    1. making the strip wider (in the y direction) or
>    2. removing it altogether and adding the strip
> text with ltext()
> 
> strip.default seemed a good place to look. I
> commented out any rect() 
> statements, but the strips were still drawn. Could
> someone please tell me where 
> to look for adjusting the strip width (or removing
> it entirely).


The strip can be removed by calling xyplot with strip=F. To increase its
height (to double the current height, say),  you would have to change the
print.trellis function. In "print.trellis.R" in the package source, change 

for(crr in 1:number.of.cond)
   heights.x[number.of.cond + 4 + (1:rows.per.page - 1)*(number.of.cond+3) -crr] <-
       if (is.logical(x$strip)) 0  # which means strip = F, strips not to be drawn
       else x$par.strip.text$cex

(lines 865-868) to

for(crr in 1:number.of.cond)
   heights.x[number.of.cond + 4 + (1:rows.per.page - 1)*(number.of.cond+3) -crr] <-
       if (is.logical(x$strip)) 0  # which means strip = F, strips not to be drawn
       else 2 * x$par.strip.text$cex


Hope that gives what you want.

- Deepayan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david_p_finlayson at hotmail.com  Fri Nov 23 07:43:35 2001
From: david_p_finlayson at hotmail.com (David Finlayson)
Date: Thu, 22 Nov 2001 22:43:35 -0800
Subject: [R] Rose diagrams in R?
Message-ID: <OE611ndcx3Vp20N39x600006f44@hotmail.com>

I am looking for a function (or package) to plot histograms of directional
data such as wind direction.  I believe these are called rose diagrams.  Is
there an R script for this?  If not, can it be constructed in a function
calling primitive graphic calls (lines, circles, boxes or polygons)?

The stars function is not quite right.

--
David Finlayson
Geomorphogist and GIS Specialist
NearPRISM - Nearshore Research Group
University of Washington, Seattle, WA
(206) 543-7229

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Fri Nov 23 08:55:34 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Fri, 23 Nov 2001 08:55:34 +0100
Subject: [R] Missing panels in multipanel lme lattice/trellis
In-Reply-To: <02b701c173ab$c1cc7b50$7632d882@stat.auckland.ac.nz>
Message-ID: <JLEPLGAANFCEAEDCAGJNOEMGCAAA.dieter.menne@menne-biomed.de>

Paul,

> I don't have Pinheiro/Bates handy;  would you be able to send me the code
> that produces the output so I can take a look?

Here is a the example, with a simulated missing block/variety.
Following Kjetil's suggestion, I manually added a Skip-list.
Maybe a more general way to create the skip-list would be good 
enough, but possible one needs a dummy-panel that is inserted
for missing matrix-combinations.

# Trellis with missing graphs
library(nlme)
library(lattice)
data(Oats)
# Remove one set to simulate missing data
Oats1<-Oats[(Oats$Block!="III") | (Oats$Variety!="Victory"),]
# attempted correction, stupid, but good enough for ONE plot
SkipIt<-rep(F,18)
SkipIt[7]<-T # just "manual"
fm4Oats<-lme( yield ~ nitro, data = Oats1, random = ~ 1 | Block/Variety )
# produces Figure 1.21 of Pinheiro/Bates, 
# with one missing. 
plot( augPred( fm4Oats ), aspect = 2.5, layout = c(6, 3),
      between = list( x = c(0, 0, 0.5) ),skip=SkipIt ) 
# The plot is not really nice, I would prefer an empty
# box instead of the hole

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 23 08:58:52 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 23 Nov 2001 08:58:52 +0100
Subject: [R] fac.design
In-Reply-To: <3.0.6.32.20011122155333.00a64640@pinus.oesa.ufz.de>
References: <3.0.6.32.20011122155333.00a64640@pinus.oesa.ufz.de>
Message-ID: <15358.444.993149.581829@gargle.gargle.HOWL>

>>>>> "SteveH" == Steven Higgins <higgins at oesa.ufz.de> writes:

    SteveH> Dear all, I am trying to find a R version of the S+
    SteveH> routine fac.design. In the help of the package
    SteveH> conf.design fac.design is listed under "see
    SteveH> also". Any clues as to where (which package) I can
    SteveH> find fac.design?

Status:  fac.design() {and "friends"} for constructing
	 (anova) designs has been part of "New S" and is described in
	 chapter 5 of `The White Book' (Chambers & Hastie, 1992).

This S/S-plus code is copyright and we are not supposed to
"steal" the S-plus code and just port it to R.
I've started recently to write  plot.design() from scratch
{using the white book as API definition}, since for us,
plot.design() is much more importantly missing than fac.design.
Unfortunately, I'm not far yet, but will hopefully finish this
in ten days or so.

We need volunteers (R *is* a volunteer project !) with moderatly
good S programming skills who help out for the more general
class "design" utilities.  Note that the conf.design() you
mention probably could be used for fac.design().
If you do want to help out, please respond to me, privately.
I will summarize plans to R-help and we may have part of a
discussion on R-devel { : "Devel"opment of new features for R}.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Nov 23 09:18:28 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 23 Nov 2001 09:18:28 +0100 (CET)
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <x26682i9xe.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.20011123091828.plummer@iarc.fr>

On 23-Nov-2001 Peter Dalgaard BSA wrote:
> Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:
> 
>> since less than 24 hours my notbook runs linux,
>> redhat 7.2
>> 
>> the first additional package i installed was R.
>> i used the rpm from the server.
>> 
>> then, R would not start, complaining that it could not find
>> 
>> libreadline.so.4.1
>> 
>> redhat 7.2 installed libreadline.so.4.2
>> and aliases 
>> libreadline.so.4
>> libreadline.so.
>> 
>> i i created a symbolic link named
>> libreadline.so.4.1
>> to
>> libreadline.so.4.2
>> and then things worked.
>> 
>> should it be like that.
>> or should R try libreadline.so or at least
>> libreadline.so.4?
> 
> No, that is a gross hack (which I inflicted on my notebook too...). 
> The correct fix would be to install the real libreadline.so.4.1, or
> recompile R for the newer library.
> 
> I wonder: Is this because configure selects the most precise version
> number when looking for libraries? If so, it might get tricky to work
> around for the RPM maintainer.

For RedHat 7.2 you need to install readline41-4.1-10.i386.rpm, which
contains version 4.1 of the readline library.  This information is
contained in the file ReadMe-RH72, which you will find in the same CRAN
directory as the RPM.

Red Hat are pretty good about maintaining binary compatibility across
point releases.  When they do change something, they always provide
an RPM for backward compatibility.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 23 09:08:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 23 Nov 2001 08:08:31 +0000 (GMT)
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <x26682i9xe.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0111230800570.8807-100000@gannet.stats>

On 23 Nov 2001, Peter Dalgaard BSA wrote:

> Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:
>
> > since less than 24 hours my notbook runs linux,
> > redhat 7.2
> >
> > the first additional package i installed was R.
> > i used the rpm from the server.
> >
> > then, R would not start, complaining that it could not find
> >
> > libreadline.so.4.1
> >
> > redhat 7.2 installed libreadline.so.4.2
> > and aliases
> > libreadline.so.4
> > libreadline.so.
> >
> > i i created a symbolic link named
> > libreadline.so.4.1
> > to
> > libreadline.so.4.2
> > and then things worked.
> >
> > should it be like that.
> > or should R try libreadline.so or at least
> > libreadline.so.4?
>
> No, that is a gross hack (which I inflicted on my notebook too...).
> The correct fix would be to install the real libreadline.so.4.1, or
> recompile R for the newer library.
>
> I wonder: Is this because configure selects the most precise version
> number when looking for libraries? If so, it might get tricky to work
> around for the RPM maintainer.

AFAIK it is because the GNU linker does: the linker creates instructions
to link against foo.so.x.y.z, not foo.so.x  (which I had understood to the
ELF convention, and at least used to be on Solaris).

It is definitely nothing to do with configure, as I get the same problem
with libxml on ggobi, not using configure (in the cvs build).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 23 09:22:16 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 23 Nov 2001 09:22:16 +0100
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <3BFD69BF.55025DE5@univie.ac.at>
References: <3BFD69BF.55025DE5@univie.ac.at>
Message-ID: <15358.1848.869616.775264@gargle.gargle.HOWL>

>>>>> "Erich" == Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:

    Erich> since less than 24 hours my notbook runs linux,
    Erich> redhat 7.2

    Erich> the first additional package i installed was R.  i
    Erich> used the rpm from the server.
    
    ..........

Just to mention what I usually tell computer-literate people who are new
with a unixy system (e.g. Linux):

I myself have never installed an RPM for R, but always built from
the sources.  
     (Note: I *am very* grateful for the RPM and Deb packages !!))
Why?
    {ok, #1 : I'm an R developer, I want to see it works, 
     but then #2 :  }
This will be one test to see if your new Unix system is really
uptodate on the tools that you (as a math/stat-programmer/user)
will want to have available anyway.  
After unpacking, run
	./configure
(or even better  mkdir Rbuild; cd Rbuild ; ../R-<version>/configure)
and carefully look at the output, see if everything is found.
If not, get the missing stuff (from your CDs or ...),
       \rm config.* ; 
  and  ...../configure   again
Then do
	make
and	make check
If these complete fine, you know you have a system which is
useful for other purposes as well;  if not, "fix" your system.

Okey dokey, take the above with a grain of salt --
It really depends on who you are and how much time you've got.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 23 10:11:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 2001 10:11:23 +0100
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <XFMail.20011123091828.plummer@iarc.fr>
References: <XFMail.20011123091828.plummer@iarc.fr>
Message-ID: <x2wv0h6edg.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> For RedHat 7.2 you need to install readline41-4.1-10.i386.rpm, which
> contains version 4.1 of the readline library.  This information is
> contained in the file ReadMe-RH72, which you will find in the same CRAN
> directory as the RPM.
> 
> Red Hat are pretty good about maintaining binary compatibility across
> point releases.  When they do change something, they always provide
> an RPM for backward compatibility.

Thanks Martyn, I had missed that point. Back-linking the shared lib
does actually seem to work flawlessly for R, but it could have
severely antisocial consequences for other programs that link against
4.1.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Nov 23 10:16:48 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 23 Nov 2001 10:16:48 +0100
Subject: [R] redhat 7.2 and rpm
In-Reply-To: <XFMail.20011123091828.plummer@iarc.fr>
References: <x26682i9xe.fsf@blueberry.kubism.ku.dk>
	<XFMail.20011123091828.plummer@iarc.fr>
Message-ID: <15358.5120.217601.93977@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 23 Nov 2001 09:18:28 +0100 (CET),
>>>>> Martyn Plummer (MP) wrote:

  > On 23-Nov-2001 Peter Dalgaard BSA wrote:
  >> Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:
  >> 
  >>> since less than 24 hours my notbook runs linux,
  >>> redhat 7.2
  >>> 
  >>> the first additional package i installed was R.
  >>> i used the rpm from the server.
  >>> 
  >>> then, R would not start, complaining that it could not find
  >>> 
  >>> libreadline.so.4.1
  >>> 
  >>> redhat 7.2 installed libreadline.so.4.2
  >>> and aliases 
  >>> libreadline.so.4
  >>> libreadline.so.
  >>> 
  >>> i i created a symbolic link named
  >>> libreadline.so.4.1
  >>> to
  >>> libreadline.so.4.2
  >>> and then things worked.
  >>> 
  >>> should it be like that.
  >>> or should R try libreadline.so or at least
  >>> libreadline.so.4?
  >> 
  >> No, that is a gross hack (which I inflicted on my notebook too...). 
  >> The correct fix would be to install the real libreadline.so.4.1, or
  >> recompile R for the newer library.
  >> 
  >> I wonder: Is this because configure selects the most precise version
  >> number when looking for libraries? If so, it might get tricky to work
  >> around for the RPM maintainer.

  > For RedHat 7.2 you need to install readline41-4.1-10.i386.rpm, which
  > contains version 4.1 of the readline library.  This information is
  > contained in the file ReadMe-RH72, which you will find in the same CRAN
  > directory as the RPM.




Hmm, this is justy a note from an outsider, but for a Debian package I
would say that the R package must depend on libreadline41 such that it
gets installed automatically, when a user tries to install the R
package.

E.g., the .deb for debian testing has

Depends: perl, zlib-bin, blas2, libc6 (>= 2.2.4-4), libjpeg62,
 libncurses5 (>= 5.2.20010310-1), libpng2(>=1.0.12), libreadline4 (>=
 4.2-2), tcl8.3 (>= 8.3.0), tk8.3 (>= 8.3.0), xlibs (>> 4.1.0), zlib1g
 (>= 1:1.1.3)

I've never used RedHat, but I have rpm installed and the man pages
suggest that it offers the same functionality ... but maybe I'm
missing something obvious ...

Best,
Fritz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov 23 10:47:05 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 23 Nov 2001 04:47:05 -0500 (EST)
Subject: [R] Rose diagrams in R?
In-Reply-To: <OE611ndcx3Vp20N39x600006f44@hotmail.com>
Message-ID: <Pine.LNX.4.30.0111230434590.7025-100000@bolker.zoo.ufl.edu>


On Thu, 22 Nov 2001, David Finlayson wrote:

> I am looking for a function (or package) to plot histograms of directional
> data such as wind direction.  I believe these are called rose diagrams.  Is
> there an R script for this?

  I don't believe so (help.search() and searching Jonathan Baron's page at
finzi.psych.upenn.edu).

> If not, can it be constructed in a function
> calling primitive graphic calls (lines, circles, boxes or polygons)?

  Well, the answer to this is "yes" ...

> The stars function is not quite right.

  If you can specify what's wrong with it (i.e., specifications for what a
rose plot should look like, as opposed to what stars() already does) maybe
someone can help you change it.  The easiest thing may be to modify the
stars function to do what you want, or figure out how to pre-process your
data (e.g., inserting zero categories) so that stars() does do what you
want.  stars() is written in R rather than being a .Internal function,
which simplifies things.

  Ben Bolker

>
> --
> David Finlayson
> Geomorphogist and GIS Specialist
> NearPRISM - Nearshore Research Group
> University of Washington, Seattle, WA
> (206) 543-7229
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Nov 23 11:06:26 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 23 Nov 2001 10:06:26 +0000
Subject: [R] Editing R graphics
In-Reply-To: <20011123011509.A3250@camille.indigoindustrial.co.nz>
References: <Pine.OSF.3.96.1011122103500.10661A-100000@ija.csic.es>
 <20011123011509.A3250@camille.indigoindustrial.co.nz>
Message-ID: <Wdy9$KAi+h$7Ew+x@myatt.demon.co.uk>

Jason Turner wrote:

>> I understand that the best
>> solution in R is to create a graphic file and use external 
>> software for editing the graphic. I know what to use in the
>> Win environment, but could anyone suggest what tools would
>> be appropriate under Linux?
>
>I'm not an R-graphics guru, so I've no idea if this is the
>best way.  Works for me, but there may be better...
>
>xfig(file="myfile.fig")
>... [plot commnands] ...
>dev.off()
>
>and use xfig, available at 
>ftp://ftp.x.org/contrib/applications/drawing_tools/xfig/ 
>
>If you like xfig, you might also want to check out pstoedit,
>which takes Postscript or PDF files, and converts them to
>fig format (nb it can actually convert to *many* more formats
>than fig - it also does fig quite well).

Thanks for the pstoedit reference. I have just been checking on Kontour
(Killustrator) which is part of the KDE office suite. The xfig import
filter seems to be broken. I can import simples figures created in xfig
but not an xfig plot created in R even if I load it into xfig and re-
save it. Looking at the Kontour documentation, I note that the authors
are a little diffident about import and export filters and may need some
encouragement to fix this. I suggest that anyone interested check this
problem fro themselves and, if they can reproduce it, file a bug report.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rggefrm at ucl.ac.uk  Fri Nov 23 12:10:05 2001
From: rggefrm at ucl.ac.uk (rggefrm)
Date: Fri, 23 Nov 2001 11:10:05 +0000
Subject: [R] compiling R under hpux
Message-ID: <3.0.6.32.20011123111005.00d0d310@pop-server.ucl.ac.uk>

Dear R user,

I'm wondering if anyone was succesful in compiling R under hpux 10.20
I couldn't compile verion 1.2.1 or 1.3.
I asked this question two weeks ago, but nobody replyed. Looks that not
many people are using hpux machines.

Thanks
Frank Mattes
Department of Virology
Royal Free Hospital
London
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Fri Nov 23 12:34:29 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Fri, 23 Nov 2001 20:34:29 +0900
Subject: [R] Re: Mapping in R - in the common sense
References: <20011107144549.A5466@socrates-a.ucl.ac.uk> <Pine.LNX.4.21.0111071639390.7360-100000@reclus.nhh.no> <20011121162103.A12781@socrates-a.ucl.ac.uk>
Message-ID: <007f01c17412$e0c49ee0$690202c0@myvaio>

Hello.

> Thank you for the help. I have installed the functions and the Intel
> version maps.

 This Intel version for linux or win32?

> I am offered actually offered MapInfo maps, but have no idea how to
> convert them to use in this framework. Moreover, I do not have MapInfo
> itself, so I can not check wherther it is willing to output its knowledge
> in any useful form. Is there any experience with this?
>

 Are your files are in MIF or TAB. You will get a C++ library which can read
& write files in both formats. And Win binaries are also available.

 http://pages.infinit.net/danmo/e00/index-mitab.html

 For another GIS file converters, you can get many infos in the following
site.

 http://www.freegis.org/index.en.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mreineck at uos.de  Fri Nov 23 12:31:47 2001
From: mreineck at uos.de (Michael Reinecke)
Date: Fri, 23 Nov 2001 12:31:47 +0100
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend?
Message-ID: <003601c17412$7265ebc0$91ac363e@oemcomputer>

Hello!

Disapointed about SPSS I have to choose another statistic program. And altough I sympathise with the idea of a non-commercial software-project like R and I like the spirit of the R community (and of course I am not keen on paying 150$ to SAS for a one-year students license), I will probably buy SAS, because people I will work with use SAS and I want a close cooperation with them. Besides I guess that SAS is still much more powerful than SAS.

But: can ?t you convince me to choose R? I would appreciate that very much, because my sympathy is with the r-project. Maybe the syntax of both programs is quite similar, so I will still be able to exchange a lot of experience with my SAS-using future collegues!? Or I could even convince the newcomers to swap to R!?

If you know some arguments, I should consider for my decission, I am looking forward to hear (or read) of you!

Michael


Michael Reinecke
Turnerstr. 3a
49076 Osnabr?ck
Germany
Tel: +49-541-64147
mreineck at uos.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011123/93e030e7/attachment.html

From p.dalgaard at biostat.ku.dk  Fri Nov 23 12:29:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 2001 12:29:03 +0100
Subject: [R] compiling R under hpux
In-Reply-To: <3.0.6.32.20011123111005.00d0d310@pop-server.ucl.ac.uk>
References: <3.0.6.32.20011123111005.00d0d310@pop-server.ucl.ac.uk>
Message-ID: <x27kshraio.fsf@blueberry.kubism.ku.dk>

rggefrm <rggefrm at ucl.ac.uk> writes:

> Dear R user,
> 
> I'm wondering if anyone was succesful in compiling R under hpux 10.20
> I couldn't compile verion 1.2.1 or 1.3.
> I asked this question two weeks ago, but nobody replyed. Looks that not
> many people are using hpux machines.

Did you copy r-bugs with that? If you don't, such problems tend to be
forgotten. If you do (and it's not a spurious problem or non-bug), it
will haunt us until it eventually gets fixed.

However, in this particular case, there's a earlier bug report from Peter
Kleiweg which seems to contain a couple of vital clues.

http://r-bugs.biostat.ku.dk/cgi-bin/R/System-specific?id=1084

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Nov 23 12:36:12 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 23 Nov 2001 12:36:12 +0100
Subject: [R] compiling R under hpux
References: <3.0.6.32.20011123111005.00d0d310@pop-server.ucl.ac.uk>
Message-ID: <3BFE34AC.E3CAB445@ci.tuwien.ac.at>

rggefrm wrote:
> 
> Dear R user,
> 
> I'm wondering if anyone was succesful in compiling R under hpux 10.20
> I couldn't compile verion 1.2.1 or 1.3.
> I asked this question two weeks ago, but nobody replyed. Looks that not
> many people are using hpux machines.


I was just giving it a try and got:

checking for f77... f77
checking whether the Fortran 77 compiler (f77  ) works... no
configure: error: installation or configuration problem: Fortran 77
compiler cannot create executables.

Is this the same kind of problem you got?

> 
> Thanks
> Frank Mattes
> Department of Virology
> Royal Free Hospital
> London
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Nov 23 12:52:53 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 23 Nov 2001 11:52:53 +0000 (GMT)
Subject: [R] Editing R graphics
In-Reply-To: <Wdy9$KAi+h$7Ew+x@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.10.10111231148180.7009-100000@localhost.localdomain>

My 2 cents:
I find xfig to have a really awful user interface (after getting used to
Mac Draw and similar vector drawing software on Mac). I like TGIF
http://bourbon.cs.umd.edu:8001/tgif/
So you can save your R graphics as .ps, use pstoedit to convert it to tgif
format, then edit using tgif.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlm18 at hermes.cam.ac.uk  Fri Nov 23 12:10:48 2001
From: jlm18 at hermes.cam.ac.uk (Joslin Moore)
Date: Fri, 23 Nov 2001 11:10:48 +0000
Subject: [R] trouble downloading package car
Message-ID: <3.0.1.32.20011123111048.009ae740@zmuc.ku.dk>

Dear helpful person,
I have been trying to download package car from the CRAN website using the
install.packages command from within R. I have successfully used this
command to install other packages but can't make it work for car. 
When I try I get the following messages: 
trying URL `http://cran.uk.r-project.org//bin/windows/contrib/PACKAGES'
Content type `text/plain' length 5677 bytes
opened URL
downloaded 5677 bytes

Warning messages: 
1: argument `lib' is missing: using F:/USERS/Joslin2001/R/rw1031/library
in: install.packages(car) 
2: No package "-3.2" on CRAN. in: download.packages(pkgs, destdir = tmpd,
available
I have tried a couple of mirror sites but to no avail.
If you could give me any advice on how to install this package I would be
most grateful.
Thank you for your help,
Joslin

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr Joslin Moore
Conservation Biology
Zoology Dept.
15 Downing ST
Cambridge CB2 3EJ
UK

email: jlm18 at cam.ac.uk	
phone: ~44 (0)1223 336675 (wk)
       ~44 (0)1223 560249 (hm)
fax:   ~44 (0) 1223 336676 

http://www.zmuc.dk/VerWeb/STAFF/JLMoore.htm
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michafuchs at hotmail.com  Fri Nov 23 12:05:55 2001
From: michafuchs at hotmail.com (micha fuchs)
Date: Fri, 23 Nov 2001 12:05:55 
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
Message-ID: <F314W6sStwNeKjUbEtK000023e7@hotmail.com>

Hello!

Disapointed about SPSS I have to choose another statistic program. And 
altough I sympathise with the idea of a non-commercial software-project like 
R and I like the spirit of the R community (and of course I am not keen on 
paying 150$ to SAS for a one-year students license), I will probably buy 
SAS, because people I will work with use SAS and I want a close cooperation 
with them. Besides I guess that SAS is still much more powerful than SAS.

But: can ?t you convince me to choose R? I would appreciate that very much, 
because my sympathy is with the r-project. Maybe the syntax of both programs 
is quite similar, so I will still be able to exchange a lot of experience 
with my SAS-using future collegues!? Or I could even convince the newcomers 
to swap to R!?

If you know some arguments, I should consider for my decission, I am looking 
forward to hear (or read) of you!

Michael


Michael Reinecke
Turnerstr. 3a
49076 Osnabr?ck
Germany
Tel: +49-541-64147
mreineck at uos.de


_________________________________________________________________
Downloaden Sie MSN Explorer kostenlos unter http://explorer.msn.de/intl.asp

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joerg.maeder at ethz.ch  Fri Nov 23 13:46:52 2001
From: joerg.maeder at ethz.ch (Joerg Maeder)
Date: Fri, 23 Nov 2001 13:46:52 +0100
Subject: [R] Rose diagrams in R?
References: <OE611ndcx3Vp20N39x600006f44@hotmail.com>
Message-ID: <3BFE453C.EAED585A@ethz.ch>

Hello David,

i wrote a small function (rose) for that problem. It accept datas
between 0 and 360 and draw something
like you want. You also can

rose <- function(data,step=30,main='wind rose'){
  deg2rad <- 180/pi
  data <- (data+step/2)%%360# Values like 359 go to Sector 0
  histdata <- hist(data,breaks=seq(0,360,by=step),plot=F) #use hist for
counting
  counts <- histdata$counts
  maxcount <- max(counts)
  mids <- (histdata$mids-step/2)/deg2rad
  step <- step/deg2rad
  plot(c(-1,1),c(-1,1),,xlab='',ylab='',
       main=main,xaxt='n',yaxt='n',pch=' ')
  for (i in 1:length(counts)){
    w1 <- mids[i]-step/2
    w2 <- mids[i]+step/2
    lines(counts[i]/maxcount*c(0,sin(w1),sin(w2),0),
          counts[i]/maxcount*c(0,cos(w1),cos(w2),0))#draw sector
    text(sin(mids[i]),cos(mids[i]),counts[i])
  }
  names(counts) <- round(mids*deg2rad,3)
  counts
}

#Test with 500 values between 0 and 360 (uniform distribution)
rose(runif(500)*360,360/16) 

David Finlayson wrote:
> 
> I am looking for a function (or package) to plot histograms of directional
> data such as wind direction.  I believe these are called rose diagrams.  Is
> there an R script for this?  If not, can it be constructed in a function
> calling primitive graphic calls (lines, circles, boxes or polygons)?
> 
> The stars function is not quite right.
> 
> --
> David Finlayson
> Geomorphogist and GIS Specialist
> NearPRISM - Nearshore Research Group
> University of Washington, Seattle, WA
> (206) 543-7229
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Nov 23 14:02:09 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 23 Nov 2001 08:02:09 -0500 (EST)
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
Message-ID: <200111231302.fAND29109656@cattell.psych.upenn.edu>

>From: "micha fuchs" <michafuchs at hotmail.com>
>Subject: [R] Are you experienced in SAS and R as well? Which of
these would you recommend me?
>
>Disapointed about SPSS I have to choose another statistic program. And 
>altough I sympathise with the idea of a non-commercial software-project like 
>R and I like the spirit of the R community (and of course I am not keen on 
>paying 150$ to SAS for a one-year students license), I will probably buy 
>SAS, because people I will work with use SAS and I want a close cooperation 
>with them. Besides I guess that SAS is still much more powerful than SAS.
>
>But: can t you convince me to choose R? I would appreciate
that very much, 
>because my sympathy is with the r-project. Maybe the syntax of both programs 
>is quite similar, so I will still be able to exchange a lot of experience 
>with my SAS-using future collegues!? Or I could even convince the newcomers 
>to swap to R!?
>
>If you know some arguments, I should consider for my decission, I am looking 
>forward to hear (or read) of you!

First, thanks for sending text only, without the html (at least
the second time).

In my department, many people use SAS, and I have used it myself
(although I'm not an expert).  We have it on our Unix server,
which avoids having to pay the annual license fee.

It seems to me that, in some ways, R and SAS are complementary,
and it is good to know, and use, both, if you live in a world
where people use SAS.  SAS seems to be used for maintaining large
databases that many people work on.  It also has routines that
aren't available (yet) for R.  It is used by people who have big
grants, big labs, etc.  It works differently - more compiled
code - and is thus faster for some tasks.

R is (really) easier to use.  The help is better.  It is easier
to get to the "hello world" stage.  It can do things easily that
are done with difficulty on SAS, such as simulations.  The
graphics are excellent.  You get results quickly, and can correct
your errors faster.  There are probably contributed packages for
R that do things that SAS cannot do, although I don't know of
any.  When I see people use SAS, what impresses me is how little
exploration they do, compared to what I do when I use R.  It is
as if each analysis is a big deal, like the old days when SAS
worked with (literally) punched cards.  I don't know if this is a
necessary part of using SAS, but that is just my impression.

The syntax is NOT that similar, but the real difficulty that most
people have is in learning to use ANY syntax.  In a way, then,
the lack of similarity will make it easier to keep them separate,
and you will still get the benefits of positive transfer from the
idea of writing a program.

Best of all, both programs deal well with ascii data in standard
formats, so you can use both on the same data.

So, my recommendation - which I make to students here too - is to
learn R, and use SAS too if your colleagues use it.

Jon Baron (Prof. of Psychology, U. of Penna.)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Fri Nov 23 14:21:05 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Fri, 23 Nov 2001 22:21:05 +0900
Subject: [R] distances from points to line
References: <3.0.6.32.20011121090542.00a11320@mail.anst.uu.se>
Message-ID: <00f801c17421$b4ec1c80$690202c0@myvaio>

Hi.

>
> I now wonder, is there a function to create a line object like a
> watercourse and then calculate the distances between many points in space
> and this line?
>

 I've tried to port a fortran code of a distance from a line segment in
Bowyer, A. and Woodwark, J. (1983):"a programmer's geometry", Butterworth,
47-48,  to R function. But I know your request was calculating points
between polyline. So this function is not too enough. Just try this, if you
are interested.

#
# a function that returns a distance from a line
#
# a point coordinate: xj, yj
#
# a line segment coordinates: xk, yk, xl, yl
#
p2linedist<-function(xj, yj, xk, yk, xl, yl){
 xkj<- xk - xj
 ykj<- yk - yj
 xlk<- xl - xk
 ylk<- yl - yk

 denom <- xlk * xlk + ylk * ylk

 distance <- 0

 if(denom < 1.0e-6){
  sqrt(xkj*xkj + ykj*ykj) # segments ends coinside
 }else{
  t <- -(xkj*xlk + ykj*ylk)/denom
  t <- min(max(t,0),1)
  xfac <- xkj + t * xlk
  yfac <- ykj + t * ylk
  sqrt(xfac*xfac + yfac*yfac)
 }
}




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Nov 23 13:21:37 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 23 Nov 2001 13:21:37 +0100
Subject: [R] distances from points to line
In-Reply-To: <00f801c17421$b4ec1c80$690202c0@myvaio>
References: <3.0.6.32.20011121090542.00a11320@mail.anst.uu.se>
Message-ID: <3.0.6.32.20011123132137.00900e40@mail.anst.uu.se>

Hi,

Thanks! Adrian Baddeley have also answered my question directly to me and
he told me that there he will soon submit a library, spatstat, including
this kind of fuctions.

See
http://www.maths.uwa.edu.au/~adrian/spatstat.html


All the best,
Tord



I have At 22:21 2001-11-23 +0900, you wrote:
>Hi.
>
>>
>> I now wonder, is there a function to create a line object like a
>> watercourse and then calculate the distances between many points in space
>> and this line?
>>
>
> I've tried to port a fortran code of a distance from a line segment in
>Bowyer, A. and Woodwark, J. (1983):"a programmer's geometry", Butterworth,
>47-48,  to R function. But I know your request was calculating points
>between polyline. So this function is not too enough. Just try this, if you
>are interested.
>
>#
># a function that returns a distance from a line
>#
># a point coordinate: xj, yj
>#
># a line segment coordinates: xk, yk, xl, yl
>#
>p2linedist<-function(xj, yj, xk, yk, xl, yl){
> xkj<- xk - xj
> ykj<- yk - yj
> xlk<- xl - xk
> ylk<- yl - yk
>
> denom <- xlk * xlk + ylk * ylk
>
> distance <- 0
>
> if(denom < 1.0e-6){
>  sqrt(xkj*xkj + ykj*ykj) # segments ends coinside
> }else{
>  t <- -(xkj*xlk + ykj*ylk)/denom
>  t <- min(max(t,0),1)
>  xfac <- xkj + t * xlk
>  yfac <- ykj + t * ylk
>  sqrt(xfac*xfac + yfac*yfac)
> }
>}
>
>
>
>
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Nov 23 14:40:26 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 23 Nov 2001 08:40:26 -0500
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend?
In-Reply-To: <003601c17412$7265ebc0$91ac363e@oemcomputer>
References: <003601c17412$7265ebc0$91ac363e@oemcomputer>
Message-ID: <20011123084026.239040d8.fharrell@virginia.edu>

SAS is far behind R and S-Plus in statistical modeling, exploratory data analysis, and graphics.  You might want to look at my comparison of SAS and S-Plus in http://hesweb1.med.virginia.edu/biostat/s/doc/splus.pdf chapter 1.

See other sections of that text to become convinced that the S language is also superior to SAS for data manipulation (recoding variables, etc.).  SAS is superior for handling very large datasets.

Frank Harrell


On Fri, 23 Nov 2001 12:31:47 +0100
Michael Reinecke <mreineck at uos.de> wrote:

> Hello!
> 
> Disapointed about SPSS I have to choose another statistic program. And altough I sympathise with the idea of a non-commercial software-project like R and I like the spirit of the R community (and of course I am not keen on paying 150$ to SAS for a one-year students license), I will probably buy SAS, because people I will work with use SAS and I want a close cooperation with them. Besides I guess that SAS is still much more powerful than SAS.
> 
> But: can t you convince me to choose R? I would appreciate that very much, because my sympathy is with the r-project. Maybe the syntax of both programs is quite similar, so I will still be able to exchange a lot of experience with my SAS-using future collegues!? Or I could even convince the newcomers to swap to R!?
> 
> If you know some arguments, I should consider for my decission, I am looking forward to hear (or read) of you!
> 
> Michael
> 
> 
> Michael Reinecke
> Turnerstr. 3a
> 49076 Osnabrck
> Germany
> Tel: +49-541-64147
> mreineck at uos.de
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Nov 23 14:47:32 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 23 Nov 2001 08:47:32 -0500
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
In-Reply-To: <200111231302.fAND29109656@cattell.psych.upenn.edu>
References: <200111231302.fAND29109656@cattell.psych.upenn.edu>
Message-ID: <20011123084732.649628b9.fharrell@virginia.edu>

Jon you said that beautifully.  I want to emphasize one of your excellent points.  I have seen a big difference in the depth of statistical analysis accomplished by SAS users as opposed to S-Plus or R users.  SAS users seem to be more content with "off the shelf" analyses, and sub-standard model diagnostics.  Also in agreement with you, SAS is not really all that easy to learn.  Part of that is due to the separation of DATA and PROC steps.  But on the other hand since the average statistician doesn't try to get too fancy with SAS, there are fewer things to learn.

What got me instantly converted from SAS to S-Plus in 1991 when I visited Terry Therneau at Mayo Clinic is that he was using S-Plus routinely to do second-order analyses such as bootstrapping a stepwise variable selection procedure to show its volatility on the medical researcher's own dataset.

Frank Harrell

On Fri, 23 Nov 2001 08:02:09 -0500 (EST)
Jonathan Baron <baron at cattell.psych.upenn.edu> wrote:

> >From: "micha fuchs" <michafuchs at hotmail.com>
> >Subject: [R] Are you experienced in SAS and R as well? Which of
> these would you recommend me?
> >
> >Disapointed about SPSS I have to choose another statistic program. And 
> >altough I sympathise with the idea of a non-commercial software-project like 
> >R and I like the spirit of the R community (and of course I am not keen on 
> >paying 150$ to SAS for a one-year students license), I will probably buy 
> >SAS, because people I will work with use SAS and I want a close cooperation 
> >with them. Besides I guess that SAS is still much more powerful than SAS.
> >
> >But: can t you convince me to choose R? I would appreciate
> that very much, 
> >because my sympathy is with the r-project. Maybe the syntax of both programs 
> >is quite similar, so I will still be able to exchange a lot of experience 
> >with my SAS-using future collegues!? Or I could even convince the newcomers 
> >to swap to R!?
> >
> >If you know some arguments, I should consider for my decission, I am looking 
> >forward to hear (or read) of you!
> 
> First, thanks for sending text only, without the html (at least
> the second time).
> 
> In my department, many people use SAS, and I have used it myself
> (although I'm not an expert).  We have it on our Unix server,
> which avoids having to pay the annual license fee.
> 
> It seems to me that, in some ways, R and SAS are complementary,
> and it is good to know, and use, both, if you live in a world
> where people use SAS.  SAS seems to be used for maintaining large
> databases that many people work on.  It also has routines that
> aren't available (yet) for R.  It is used by people who have big
> grants, big labs, etc.  It works differently - more compiled
> code - and is thus faster for some tasks.
> 
> R is (really) easier to use.  The help is better.  It is easier
> to get to the "hello world" stage.  It can do things easily that
> are done with difficulty on SAS, such as simulations.  The
> graphics are excellent.  You get results quickly, and can correct
> your errors faster.  There are probably contributed packages for
> R that do things that SAS cannot do, although I don't know of
> any.  When I see people use SAS, what impresses me is how little
> exploration they do, compared to what I do when I use R.  It is
> as if each analysis is a big deal, like the old days when SAS
> worked with (literally) punched cards.  I don't know if this is a
> necessary part of using SAS, but that is just my impression.
> 
> The syntax is NOT that similar, but the real difficulty that most
> people have is in learning to use ANY syntax.  In a way, then,
> the lack of similarity will make it easier to keep them separate,
> and you will still get the benefits of positive transfer from the
> idea of writing a program.
> 
> Best of all, both programs deal well with ascii data in standard
> formats, so you can use both on the same data.
> 
> So, my recommendation - which I make to students here too - is to
> learn R, and use SAS too if your colleagues use it.
> 
> Jon Baron (Prof. of Psychology, U. of Penna.)
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 23 14:51:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Nov 2001 13:51:08 +0000 (GMT Standard Time)
Subject: [R] trouble downloading package car
In-Reply-To: <3.0.1.32.20011123111048.009ae740@zmuc.ku.dk>
Message-ID: <Pine.WNT.4.31.0111231347460.984-100000@gannet>

On Fri, 23 Nov 2001, Joslin Moore wrote:

> Dear helpful person,
> I have been trying to download package car from the CRAN website using the
> install.packages command from within R. I have successfully used this
> command to install other packages but can't make it work for car.
> When I try I get the following messages:
> trying URL `http://cran.uk.r-project.org//bin/windows/contrib/PACKAGES'
> Content type `text/plain' length 5677 bytes
> opened URL
> downloaded 5677 bytes
>
> Warning messages:
> 1: argument `lib' is missing: using F:/USERS/Joslin2001/R/rw1031/library
> in: install.packages(car)

It should be install.packages("car", .Library): see the help page.
Presumably you have an object car with value -3.2 ....

> 2: No package "-3.2" on CRAN. in: download.packages(pkgs, destdir = tmpd,
> available
> I have tried a couple of mirror sites but to no avail.
> If you could give me any advice on how to install this package I would be
> most grateful.

Use the menus: they are designed for people who don't read help pages.
Packages -> Update Packages for CRAN and click on car and then OK.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov 23 15:02:31 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 23 Nov 2001 09:02:31 -0500 (EST)
Subject: [R] Rose diagrams in R?
In-Reply-To: <3BFE453C.EAED585A@ethz.ch>
Message-ID: <Pine.LNX.4.30.0111230808510.7112-100000@bolker.zoo.ufl.edu>


  I played around a bit as well and I think you can do what you want with
appropriate parameter settings to stars():


rose <- function(x,breaks=NULL,col="blue",rscale=NULL) {
  y <- table(cut(x,breaks))  ## could also use hist(...,plot=FALSE)$counts
  stars(matrix(y,nrow=1),draw.segments=TRUE,scale=FALSE,colors=col,
        locations=c(0,0))
  if (length(rscale)==1)
    rscale <- pretty(y,rscale)
  if (!is.null(rscale)) {
    symbols(rep(0,length(rscale)),rep(0,length(rscale)),
            circles=rscale,inches=FALSE,add=TRUE)
  }
}

x <- runif(20)*360
rose(x,breaks=seq(0,360,by=10),rscale=5)

  This has the possible advantage that it builds on an existing function
...

  Ben Bolker

On Fri, 23 Nov 2001, Joerg Maeder wrote:

> Hello David,
>
> i wrote a small function (rose) for that problem. It accept datas
> between 0 and 360 and draw something
> like you want. You also can
>
> rose <- function(data,step=30,main='wind rose'){
>   deg2rad <- 180/pi
>   data <- (data+step/2)%%360# Values like 359 go to Sector 0
>   histdata <- hist(data,breaks=seq(0,360,by=step),plot=F) #use hist for
> counting
>   counts <- histdata$counts
>   maxcount <- max(counts)
>   mids <- (histdata$mids-step/2)/deg2rad
>   step <- step/deg2rad
>   plot(c(-1,1),c(-1,1),,xlab='',ylab='',
>        main=main,xaxt='n',yaxt='n',pch=' ')
>   for (i in 1:length(counts)){
>     w1 <- mids[i]-step/2
>     w2 <- mids[i]+step/2
>     lines(counts[i]/maxcount*c(0,sin(w1),sin(w2),0),
>           counts[i]/maxcount*c(0,cos(w1),cos(w2),0))#draw sector
>     text(sin(mids[i]),cos(mids[i]),counts[i])
>   }
>   names(counts) <- round(mids*deg2rad,3)
>   counts
> }
>
> #Test with 500 values between 0 and 360 (uniform distribution)
> rose(runif(500)*360,360/16)
>
> David Finlayson wrote:
> >
> > I am looking for a function (or package) to plot histograms of directional
> > data such as wind direction.  I believe these are called rose diagrams.  Is
> > there an R script for this?  If not, can it be constructed in a function
> > calling primitive graphic calls (lines, circles, boxes or polygons)?
> >
> > The stars function is not quite right.
> >
> > --
> > David Finlayson
> > Geomorphogist and GIS Specialist
> > NearPRISM - Nearshore Research Group
> > University of Washington, Seattle, WA
> > (206) 543-7229
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gerard.Keogh at cso.ie  Fri Nov 23 16:36:49 2001
From: Gerard.Keogh at cso.ie (Gerard.Keogh@cso.ie)
Date: Fri, 23 Nov 2001 15:36:49 +0000
Subject: [R] Are you experienced in SAS and R as well? Which of these would
 you recommend?
Message-ID: <OFE721876F.9405612C-ON80256B0D.00500785@cso.ie>


Michael,

I know something of SAS and a little of R.
I would think the big question is, "what do you intend using it for?"
Both R and SAS are interpreated stats computing languages. R is a great
stats tool  but I don't know about it's data management side where SAS is v
good at handling large datasets (I'm talking of 1-10M records by 100 vars)
not small stuff of 1000 obs by 5 or 10 vars.

SAS has a lot of built-in procedure that are easy to understand and follow
such as proc means/summary; the relative novice will get to grips with this
fairly quickly and be able to do basic but useful things.  The equivalent
functions in R are the "apply" variants and require a bit of getting used
to. Also, the editing features in PC-SAS are v. friendly and pleasant to
use. This (in my view) is in contrast to R where I have to use NOTEPAD (in
Windows anyway) to create a text file which is then included into the
console (I find it a bit cumbersome). SAS also has really good
documentation that explains a lot whereas with R you often have to be a bit
more expert.

Where R comes into its own is when things get a bit complicated - there's
lots of packages available on CRAN which do wonderful things that SAS
doesn't. In SAS you'll have to resort to MACROS and IML and even then the
building blocks won't always be available to you. Yes, SAS has proc's for
GLM and maximising nonlinear functions etc. which are not to hard to apply
but once you try to get outside the rigid SAS framework life gets difficult
- I once tried to put together a Neural Net with Proc NLIN and eventually
gave up because the of all the messy programming that had to be done -
mabye some day in another life I'll get back to it!

Even though R has great statistical functionality it's main drawback (to me
at any rate) is that most of the underlying code is written in C or
Fortran. Not a problem if you only require to work with R packages as they
stand. But if you want to get your hands dirty chances are you'll have to
hack someone else's C or Fortran code - and I have to say that some of the
Fortran I've seen has been fairly unintelligible. This makes it
particularly hard to make anything but rudimentary changes to the code
which then must be compiled and loaded into your R program.

The last point worth mentioning is that R, as I understand it, is designed
to work on vectors (that's why the "apply" function is so important). It
doesn't like loops so that any code involving large complex looping
constructs is better written in C or Fortran and loaded in. Loops in SAS on
the other hand don't seem to be too much of an issue.

Anyway I hope this helps. My advice is do what I tend to do - try to get
your dept or company to spend the $150 on SAS and get R free. You'll then
get be able to get answers using both tools. It's a little bit inefficient
but often the insight gained looking at a task from different viewpoints
helps the understanding and final product/output a lot better.

All the best,

Gerard




                                                                                                                       
                    Michael Reinecke                                                                                   
                    <mreineck at uos.de>           To:     r-help at lists.R-project.org                                     
                    Sent by:                    cc:                                                                    
                    owner-r-help at stat.ma        Subject:     [R] Are you experienced in SAS and R as well? Which of    
                    th.ethz.ch                  these would you recommend?                                             
                                                                                                                       
                                                                                                                       
                    23/11/01 11:31                                                                                     
                    Please respond to                                                                                  
                    Michael Reinecke                                                                                   
                                                                                                                       
                                                                                                                       




Hello!

Disapointed about SPSS I have to choose another statistic program. And
altough I sympathise with the idea of a non-commercial software-project
like R and I like the spirit of the R community (and of course I am not
keen on paying 150$ to SAS for a one-year students license), I will
probably buy SAS, because people I will work with use SAS and I want a
close cooperation with them. Besides I guess that SAS is still much more
powerful than SAS.

But: can ?t you convince me to choose R? I would appreciate that very much,
because my sympathy is with the r-project. Maybe the syntax of both
programs is quite similar, so I will still be able to exchange a lot of
experience with my SAS-using future collegues!? Or I could even convince
the newcomers to swap to R!?

If you know some arguments, I should consider for my decission, I am
looking forward to hear (or read) of you!

Michael


Michael Reinecke
Turnerstr. 3a
49076 Osnabr?ck
Germany
Tel: +49-541-64147
mreineck at uos.de



The information in this email, and any attachments transmitted with it, are confidential 
and are for the intended recipient only. If you receive this message in error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kademan at phz.com  Fri Nov 23 16:57:57 2001
From: kademan at phz.com (Ed Kademan)
Date: 23 Nov 2001 10:57:57 -0500
Subject: [R] porting R package to Splus
Message-ID: <ulgitc1bhtm.fsf@phz.com>

I am considering getting the rpvm package for running a parallel
virtual machine working on Splus.  That package contains a
considerable amount of C-level code written to interface R with the
pvm3 library functions and of course all of it uses the R macros and
conventions associated with the R-style ".Call".

It looks as though it might be possible to automatically transform
that code to code that would build and work under Splus.  Does that
sound realistic?  If so does anyone have a script of some kind that
performs such a transformation?  If not I may take a crack at it.

Thanks for any pointers or suggestions.

-- 
Ed Kademan              508.651.3700
PHZ Capital Partners    508.653.1745 (fax)
321 Commonwealth Road   <kademan at phz.com>
Wayland, MA 01778
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Nov 23 17:40:56 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 23 Nov 2001 17:40:56 +0100 (MET)
Subject: [R] Are you experienced in SAS and R as well? Which of thesewouldyou recommend?
In-Reply-To: <OFE721876F.9405612C-ON80256B0D.00500785@cso.ie>
Message-ID: <Pine.LNX.4.21.0111231734340.23493-100000@artemis.imbe.med.uni-erlangen.de>


<snip> some true comments
 
> 
> Even though R has great statistical functionality it's main drawback (to me
> at any rate) is that most of the underlying code is written in C or
> Fortran. Not a problem if you only require to work with R packages as they
> stand. But if you want to get your hands dirty chances are you'll have to
> hack someone else's C or Fortran code - and I have to say that some of the
> Fortran I've seen has been fairly unintelligible. This makes it
> particularly hard to make anything but rudimentary changes to the code
> which then must be compiled and loaded into your R program.

And how do you change such low-level things in SAS? 

*THE* advantage of R is that you *CAN* read, hack and copy other peoples
code (and, big thing, learn from it how to write better programs).

Anyway, we have this funny R <-> SAS discussion at nearly every coffee
break :-)

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Nov 23 17:41:42 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Nov 2001 10:41:42 -0600
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
In-Reply-To: <200111231302.fAND29109656@cattell.psych.upenn.edu>
References: <200111231302.fAND29109656@cattell.psych.upenn.edu>
Message-ID: <6rr8qpphh5.fsf@franz.stat.wisc.edu>

I have enjoyed reading this discussion of SAS and R.  I would add two
points regarding SAS.

- At a conference this summer I attended a presentation by a person
  from SAS Institute on "What's coming in SAS version 9?".  (Many of
  you may know that SAS uses odd numbers for beta test versions and
  even numbers for production releases so version 9 is the beta for
  the production release 10.0).  The main enhancements in version 9
  will be in graphics and choice of graphical presentation.  The
  speaker explicitly said that this meant you wouldn't have to have
  both SAS for the analysis and S-PLUS for the graphics.  Apparently
  SAS Institute views the strengths of the S language as being in the
  area of graphics.  Perhaps it is not surprising that they don't
  think of flexibility of analysis as an advantage of the S language.

- In terms of data management SAS seems to be moving to SQL with their
  PROC SQL and links to various databases.  I have found that Open
  Source SQL databases, notably PostgreSQL and, to a lesser extent,
  MySQL are much more flexible and easier to use than SAS for data
  management.  When working with very large data sets I prefer to
  store the data in PostgreSQL and do the data manipulation there then
  import parts of the data into R for analysis.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mreineck at rz.uni-osnabrueck.de  Fri Nov 23 17:47:48 2001
From: mreineck at rz.uni-osnabrueck.de (mreineck@rz.uni-osnabrueck.de)
Date: Fri, 23 Nov 2001 17:47:48 +0100
Subject: No subject
Message-ID: <200111231647.fANGlrf27266@omecihuatl.rz.uni-osnabrueck.de>

Thank you all very much for your very helpful and friendly comments!
You have assured me that it?s a good thing spending the following days
(or weeks?) by working me through the R-documentations. Some of you
reminded me, that file-size might be important. Well, my file is not
as big as several Million lines, just 500.000 cases x 200 variables
(130 Megabytes) - and I think I won?t be using more than two variables
at once. Bearing in mind your comments in the mailing list, my data
shouldn?t be too large for R, as long as my computer doesn?t complain.
It didn ?t complain using SPSS (except for exploratory analysis), so
128MByte RAM seem to be sufficient.

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Nov 23 17:55:52 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 23 Nov 2001 11:55:52 -0500 (EST)
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend?
Message-ID: <200111231655.fANGtqU16202@cattell.psych.upenn.edu>

Also, the editing features in PC-SAS are v. friendly and pleasant to
>use. This (in my view) is in contrast to R where I have to use NOTEPAD (in
>Windows anyway) to create a text file which is then included into the
>console (I find it a bit cumbersome).

Emacs, and ESS, are available for Windows, although I must admit
that it is much easier to configure them on Linux.  Other Windows
editors to try are Nedit (good for people used to Word), WinEdt
(not free) and JED.  You don't have to use Notepad.

See
http://www.nedit.org/
http://space.mit.edu/~davis/jed.html
http://www.winedit.com/
and the bottom of http://www.psych.upenn.edu/cattell/edit.html
for others.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Nov 23 18:08:29 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Nov 2001 09:08:29 -0800
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
In-Reply-To: <6rr8qpphh5.fsf@franz.stat.wisc.edu>
References: <200111231302.fAND29109656@cattell.psych.upenn.edu>
	<6rr8qpphh5.fsf@franz.stat.wisc.edu>
Message-ID: <878zcxs9de.fsf@jeeves.blindglobe.net>

>>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:

    DB> I have enjoyed reading this discussion of SAS and R.  I would
    DB> add two points regarding SAS.

    DB> - At a conference this summer I attended a presentation by a
    DB> person from SAS Institute on "What's coming in SAS version
    DB> 9?".  (Many of you may know that SAS uses odd numbers for beta
    DB> test versions and even numbers for production releases so
    DB> version 9 is the beta for the production release 10.0).  The
    DB> main enhancements in version 9 will be in graphics and choice
    DB> of graphical presentation.  The speaker explicitly said that
    DB> this meant you wouldn't have to have both SAS for the analysis
    DB> and S-PLUS for the graphics.  Apparently SAS Institute views
    DB> the strengths of the S language as being in the area of
    DB> graphics.  Perhaps it is not surprising that they don't think
    DB> of flexibility of analysis as an advantage of the S language.

Actually, a colleague just converted "to SAS" (from S-PLUS) based on
the strengths of IML :-).


Another interesting thing about SAS is that they've invarably done a
great done prototyping with new WWW technologies (not that they've
done it in a sensible manner, IMHO, but they've done so, similar to
Stata Corp).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomlinso at purdue.edu  Fri Nov 23 17:49:54 2001
From: tomlinso at purdue.edu (Nels Tomlinson)
Date: Fri, 23 Nov 2001 11:49:54 -0500
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend?
References: <003601c17412$7265ebc0$91ac363e@oemcomputer>
Message-ID: <3BFE7E32.4030204@purdue.edu>

Hello,

Here at Purdue, the Statistics department requires that its students 
learn both SAS and S/R.  SAS is a necessary skill for work in industry, 
since most employers use it, and since it handles large data sets well. 
  Unfortunately SAS is terribly awkward to actually DO anything with.  I 
used to program in FORTRAN IV, and the SAS data step reminds me of that, 
only it seems a good deal worse.

A little over a year ago I had to work with a large data set from a 
credit bureau.  It was close to a gigabyte, and I found that SAS could 
open the data and do things with it, even on a little laptop with only 
144MB of ram.  I used SAS to pick out several random samples of 10,000 
observations, and worked on them with R.  R is wonderfully flexible, and 
I was able to do some exploratory stuff that I just wouldn't have 
bothered to do with SAS.  I also used R to do some ad hoc plotting which 
suggested that my data followed a negative binomial distribution better 
than a Poisson.  Again, I could probably have done this in SAS, but I 
certainly wouldn't have bothered.

I don't think that the choice between SAS and the dialects of S is an 
``either this or that'' choice at all; you really should get familiar 
with both, and use whichever is best for the job at hand.

Hope this helps you,
Nels


Michael Reinecke wrote:

> Hello!
> 
>  
> 
> Disapointed about SPSS I have to choose another statistic program. And 
> altough I sympathise with the idea of a non-commercial software-project 
> like R and I like the spirit of the R community (and of course I am not 
> keen on paying 150$ to SAS for a one-year students license), I will 
> probably buy SAS, because people I will work with use SAS and I want a 
> close cooperation with them. Besides I guess that SAS is still much more 
> powerful than SAS.
> 
>  
> 
> But: can ?t you convince me to choose R? I would appreciate that very 
> much, because my sympathy is with the r-project. Maybe the syntax of 
> both programs is quite similar, so I will still be able to exchange a 
> lot of experience with my SAS-using future collegues!? Or I could even 
> convince the newcomers to swap to R!?
> 
>  
> 
> If you know some arguments, I should consider for my decission, I am 
> looking forward to hear (or read) of you!
> 
>  
> 
> Michael
> 
>  
> 
>  
> 
> Michael Reinecke
> Turnerstr. 3a
> 49076 Osnabr?ck
> 
> Germany
> Tel: +49-541-64147
> mreineck at uos.de <mailto:mreineck at uos.de>
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Fri Nov 23 21:38:23 2001
From: smcnary at charm.net (Scot W McNary)
Date: Fri, 23 Nov 2001 15:38:23 -0500 (EST)
Subject: [R] Are you experienced in SAS and R as well? Which of these
 would you recommend?
In-Reply-To: <200111231655.fANGtqU16202@cattell.psych.upenn.edu>
Message-ID: <Pine.BSI.4.40.0111231511000.6984-100000@fellspt.charm.net>



Here's another "use both" opinion.

I use SAS for large datasets, data manipulation/transformation,
subsetting, file creation, data aggregation, and canned data analysis
routines.  As an applied end user of software products, SAS serves me well
in these capacities.  However, as a perpetual student of the field, I find
that if I want to learn something, R is a tremendous resource as both a
software solution and a community of scholars (in r-help).  I find reading
r-help to be a daily tutorial on data analysis.  But the graphing
capabilities were astonishing to me.

As a data analyst I find that much of my work is designed to solve a
problem that needing solving yesterday.  As most of my colleagues use SAS,
it's often the path of least resistance to getting the job done.
However, it's a bit of a leviathan when it comes to manuals and support
and maintenance.  The exclusive SAS user can fall into a bit of a trap,
too: if a problem can't be solved in SAS, it can't be solved.

I've had to work 8 hours to get a set of plots to look like I want them to
look.  Here's a good example: if you want to make a scatterplot matrix in
SAS you have to borrow somebody's 180K macro that makes repeated calls to
PROC GPLOT sending them to the sphinx-like PROC GREPLAY.  When I finally
figured out how to _use_ it, I still was still unable to make it work for
my data.  Chalk up 8 hours to education.  To get the _same_ thing in R is:

pairs(somedata)

Plotting functions have "sensible defaults", which is a blissfully
generous accomodation for those of us who are trying to get a job done.

I'd side with Jon Baron, that learning both will ultimately benefit you.
I open an R session as soon as I sit down at the computer and leave it
running all day.  Any by-hand calculating or short demonstrations I need
I run on R.  I've even begun trying my hand at running simulations
(formerly the province of only the select few), because it's relatively
easy to figure out how to do in R.  Learning R has bent my head a bit to
think about computing entirely differently (open source, object-oriented
programming<-still trying to understand that).  When it comes right down
to it, I can get jobs done with SAS, but I learn when I use R.

Incidentally, an editor I'm very fond of (on a Windows platform) is
Ultraedit.  With syntax highlighting for both SAS and S (i.e., R), is what
I use to edit in both worlds.  It's not free, it's shareware for $15:

http://www.ultraedit.com

Scot


--
  Scot W. McNary  email:smcnary at charm.net

On Fri, 23 Nov 2001, Jonathan Baron wrote:

> Also, the editing features in PC-SAS are v. friendly and pleasant to
> >use. This (in my view) is in contrast to R where I have to use NOTEPAD (in
> >Windows anyway) to create a text file which is then included into the
> >console (I find it a bit cumbersome).
>
> Emacs, and ESS, are available for Windows, although I must admit
> that it is much easier to configure them on Linux.  Other Windows
> editors to try are Nedit (good for people used to Word), WinEdt
> (not free) and JED.  You don't have to use Notepad.
>
> See
> http://www.nedit.org/
> http://space.mit.edu/~davis/jed.html
> http://www.winedit.com/
> and the bottom of http://www.psych.upenn.edu/cattell/edit.html
> for others.
>
> Jon
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mreineck at rz.uni-osnabrueck.de  Fri Nov 23 21:42:05 2001
From: mreineck at rz.uni-osnabrueck.de (mreineck@rz.uni-osnabrueck.de)
Date: Fri, 23 Nov 2001 21:42:05 +0100
Subject: [R] Re: Are you experienced in SAS and R as =?iso-8859-1?q?well=3F?= Which of these would you recommend =?iso-8859-1?q?me=3F?=
Message-ID: <200111232042.fANKg7f08703@omecihuatl.rz.uni-osnabrueck.de>

Thank you all very much for your very helpful and friendly comments!
You have assured me that it?s a good thing spending the following days
(or weeks?) by working me through the R-documentations. Some of you
reminded me, that file-size might be important. Well, my file is not
as big as several Million lines, just 500.000 cases x 200 variables
(130 Megabytes) - and I think I won?t be using more than two variables
at once. Bearing in mind your comments in the mailing list, my data
shouldn?t be too large for R, as long as my computer doesn?t complain.
It didn ?t complain using SPSS (except for exploratory analysis), so
128MByte RAM seem to be sufficient.

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Nov 23 21:48:54 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Nov 2001 12:48:54 -0800
Subject: [R] Are you experienced in SAS and R as well? Which of these would you recommend?
In-Reply-To: <200111231655.fANGtqU16202@cattell.psych.upenn.edu>
References: <200111231655.fANGtqU16202@cattell.psych.upenn.edu>
Message-ID: <874rnlrz61.fsf@jeeves.blindglobe.net>

>>>>> "JB" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:

    JB> Emacs, and ESS, are available for Windows, although I must
    JB> admit that it is much easier to configure them on Linux.
    JB> Other Windows editors to try are Nedit (good for people used
    JB> to Word), WinEdt (not free) and JED.  You don't have to use
    JB> Notepad.

Note that Emacs/ESS works for both SAS and R/S-PLUS.  It's one of the
more useful/amusing features, IMHO.  The Literate Statistical Practice
tools for Emacs/ESS (a take-off on literate programming with Noweb)
allow you to write code for both SAS and R from the same "document"
(literate programs combine source code as well as commentary; I'll
refrain from calling it documentation, since it ought to be more in
this context).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoffman at zappa.sax.de  Fri Nov 23 22:43:04 2001
From: thoffman at zappa.sax.de (Thomas Hoffmann)
Date: Fri, 23 Nov 2001 22:43:04 +0100
Subject: [R] eval.c: possible issue with profiling for Windows
Message-ID: <3BFEC2E8.CD494106@zappa.sax.de>

I see a possible problem with the "wait" parameter for the profiler
thread:

static void R_InitProfiling(char * filename, int append, double
dinterval)
{
    int wait;

Here is the (automatic) variable.

    HANDLE Proc = GetCurrentProcess();
..........
    wait = interval/1000;
    if(!(ProfileEvent = CreateEvent(NULL, FALSE, FALSE, NULL)) ||
       (_beginthread(ProfileThread, 0, &wait) == -1))

Here the address of wait is given to the thread

	R_Suicide("unable to create profiling thread");
    R_Profiling = 1;

Here you leave your function, invalidating "wait" by freeing its memory.

}

Depending on the compiler (and/or hardware!) used, this can lead to a
race 
condition: You have invalidated "wait" by leaving R_InitProfiling,
before 
your new thread had a chance to copy it to its local storage.

One can either implement a semaphore handshake here (parent waits untils
the
thread has copied "wait" and then posted an event semaphore), or one can
of course simply make "wait" static.


(This concerns R 1.3.1, because I use a 33kb modem line: forget this
mail if
this has changed in newer release (or if it's a wrong conclusion, of
course)).
-- 
Thomas Hoffmann                                    Telephone:
49-351-4598831
thoffman at zappa.sax.de                                       Dresden,
Germany

..sig under construction ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Nov 23 23:44:44 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Nov 2001 16:44:44 -0600
Subject: [R] SQL implementations (was: Are you experienced in SAS and R ...)
Message-ID: <6rlmgxnm3n.fsf@franz.stat.wisc.edu>

An embedded message was scrubbed...
From: Douglas Bates <bates at stat.wisc.edu>
Subject: Re: [R] Are you experienced in SAS and R as well? Which of these would you recommend me?
Date: 23 Nov 2001 15:16:59 -0600
Size: 4446
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20011123/8d0399f0/attachment.mht

From bates at stat.wisc.edu  Fri Nov 23 23:58:30 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Nov 2001 16:58:30 -0600
Subject: [R] SQL implementations (was: Are you experienced in SAS and R ...)
In-Reply-To: <6rlmgxnm3n.fsf@franz.stat.wisc.edu>
References: <6rlmgxnm3n.fsf@franz.stat.wisc.edu>
Message-ID: <6radxdnlgp.fsf@franz.stat.wisc.edu>

Douglas Bates <bates at cs.wisc.edu> writes:

> My purpose is to give my opinions as a rather heave user of both MySQL
> and PostgreSQL.

That's a typo.  I meant to write "rather heavy user".

I was just creating a PostgreSQL database and realized another
advantage of PostgreSQL - in PostgreSQL tables you can use external
keys to enforce referential integrity.  In the example I was
describing where the records in the test score table include a student
identifier and a school identifier and a district identifier, I can
indicate in the definition of the table that the student id refers to
the primary key in the student table.  An attempt to insert a record
into the test score table with a student id that does not occur in the
student table will produce an error.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Sat Nov 24 00:18:51 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Fri, 23 Nov 2001 18:18:51 -0500
Subject: [R] SQL implementations (was: Are you experienced in SAS and R ...)
In-Reply-To: <6rlmgxnm3n.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Fri, Nov 23, 2001 at 04:44:44PM -0600
References: <6rlmgxnm3n.fsf@franz.stat.wisc.edu>
Message-ID: <20011123181851.F8281@jessie.research.bell-labs.com>

Douglas Bates wrote:
> PostgreSQL is extensible.  You can define your own functions using SQL
> or PL/PGSQL or Perl or Python.  You can also define new data types.

And indeed, the REmbeddedPostgres package allows one to use R
functions directly in Postgres.  While we have also done this in MySQL
it is not in any way supported by MySQL and requires some
modifications to the system. For Postgres, this is a straightforward
extension that follows the Postgres documentation!  Similarly, we may
well be able to use data types in R as elements in Postgres tables in
the future.

Personally, I think that as this sort of embedding within
sophisticated and well-tuned database management systems becomes more
secure and stable, we will be able to handle significantly larger
datasets with R code.

The reason that I bring this to the attention of the r-help now is
that if one thinks this facility is promising, one doesn't want to
commit to MySQL now and then convert subsequently.

 Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drm0 at yahoo.com  Sat Nov 24 01:12:19 2001
From: drm0 at yahoo.com (Deborah McNaughton)
Date: Fri, 23 Nov 2001 16:12:19 -0800 (PST)
Subject: [R] lme or nlme
Message-ID: <20011124001219.54958.qmail@web13908.mail.yahoo.com>


I'm trying to run a linear mixed effects model using
nlme.  It appears that lme is not available for R, but
looks like I should be able to run linear models using
nlme.  What I tryed looks something like this:
fit <- nlme (Y ~ A + B + C + D,
fixed=list(A,B,C,D),random=Z).  This didn't work.  I
got this error:  Error in reStruct(random, REML =
REML, data = NULL) : 
        Object must be a list or a formula

I also tryed creating a function fun <-
function(a,b,c,d) a+b+c+d
Then tryed
fit <- nlme(Y ~ fun(A,B,C,D),
fixed=list(A,B,C,D),random=list(Z)).  
I got this error message: 
Error in FUN(X[[1]], ...) : Elements in object must be
formulas or pdMat objects

Please help me!

Thank you,
Debbie


__________________________________________________

Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Sat Nov 24 02:04:17 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 23 Nov 2001 19:04:17 -0600
Subject: [R] SQL implementations (was: Are you experienced in SAS and 
	R ...)
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D639@jupiter.sc.arbitrade.com>

Dear R-users,

I am very much looking forward to the day when R will be able to handle very
large datasets. I however thought that getting there would be rather
difficult as most of the models are written assuming random access to the
data.

This makes me wonder how an embedded database mentioned by Duncan Temple
Lang (or R imbedded in the database) could help?

A related question. Prof. Ripley mentioned few times that one of his
approaches is to generate random samples from databases, which are then
analyzed in R (one doesn't need any sort of embedding for this). Are there
other techniques?

Thanks, Vadim

-----Original Message-----
From: Duncan Temple Lang [mailto:duncan at research.bell-labs.com]
Sent: Friday, November 23, 2001 3:19 PM
To: Douglas Bates
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] SQL implementations (was: Are you experienced in SAS
and R ...)


...

Personally, I think that as this sort of embedding within
sophisticated and well-tuned database management systems becomes more
secure and stable, we will be able to handle significantly larger
datasets with R code.

...

 Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at maths.uwa.edu.au  Sat Nov 24 02:09:32 2001
From: rolf at maths.uwa.edu.au (Rolf Turner)
Date: Sat, 24 Nov 2001 09:09:32 +0800 (WST)
Subject: [R] Are you experienced in SAS ...
Message-ID: <200111240109.JAA47354@salvia.maths.uwa.edu.au>



I'd just like to put in my two bob's worth:

The ***only*** thing for which I prefer SAS to R/Splus, but it's
a very important thing, is the analysis of mixed linear models.
One can do the same analyses in both languages.  The difference is
that the SAS syntax for specifying such a model, and its output, is
comprehensible to the human mind, which is what I'm equipped with.
The R/Splus syntax (which involves the bewildering notion of
``strata'') is not.

Actually, for this sort of problem, I prefer Minitab to SAS.
It has the same sytax as SAS, and is much more user-friendly.

Aside from that, R/Splus wins.  I find data manipulation far
***easier*** in R than in SAS.  SAS had ***one*** data structure:
The data frame.  You are hand-cuffed into it, and all manipulations
must be contorted to fit this structure.  In R/Splus, the sky's
the limit.  The flexibility of R/Splus puts the user in control,
and if the syntax gets unweildy, you can roll your own function
to turn a complex command into a single word.

It bears repeating that for mega-line data frames apparently SAS
can do easily things that bring R to its knees. I have no personal
experience in this regard, but.


				cheers,

					Rolf Turner

Usual email address:   rolf at math.unb.ca
Current email address: rolf at maths.uwa.edu.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Nov 24 02:34:35 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 23 Nov 2001 19:34:35 -0600
Subject: [R] SQL implementations (was: Are you experienced in SAS and 
	R ...)
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D639@jupiter.sc.arbitrade.com>
References: <AFD78192EC49D311BFAE00902798AB8F23D639@jupiter.sc.arbitrade.com>
Message-ID: <15358.63787.922586.693391@sonny.eddelbuettel.com>


  "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
  Vadim> A related question. Prof. Ripley mentioned few times that one of his
  Vadim> approaches is to generate random samples from databases, which are
  Vadim> then analyzed in R (one doesn't need any sort of embedding for
  Vadim> this). Are there other techniques?

You might be overlooking the fact that random subsampling from timeseries can
severely distory the dynamic structure of the series.  

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at gvdnet.dk  Sat Nov 24 09:34:29 2001
From: tring at gvdnet.dk (Troels Ring)
Date: Sat, 24 Nov 2001 09:34:29 +0100
Subject: [R] horsekicks
Message-ID: <5.1.0.14.0.20011124091843.02cadbc0@gvdnet.dk>

Dear friends. I have these well known data on horsekicks:
years <- c(109,  65,  22,   3 ,  1,   0)
deaths <- 0:5
and get a nice but wrong fit from
summary(z1 <- glm(years~deaths,family=poisson))
Can I take away the intercept ?

Best wishes
Troels Ring, Aalborg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 24 09:47:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 24 Nov 2001 08:47:05 +0000 (GMT)
Subject: [R] SQL implementations (was: Are you experienced in SAS and 
 R ...)
In-Reply-To: <15358.63787.922586.693391@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0111240836070.9104-100000@auk.stats>

On Fri, 23 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
>   Vadim> A related question. Prof. Ripley mentioned few times that one of his
>   Vadim> approaches is to generate random samples from databases, which are
>   Vadim> then analyzed in R (one doesn't need any sort of embedding for
>   Vadim> this). Are there other techniques?
>
> You might be overlooking the fact that random subsampling from timeseries can
> severely distory the dynamic structure of the series.

Sure, but I've never seen a very long time series which was homogeneous
enough to justify being regarded as one population.  For forecasting one
normally just uses the recent past.

Also, database theory (and some actual DBMSs) regard rows in tables as
unordered, hence the mathematical term `relation'.  A `random sample' need
not be a *simple* random sample and does often need to be stratified
or clustered on important characteristics.

For some problems there are better large-data algorithms than those
currently implemented in R.  But for others (general glms seems to be one),
there are none that do not require repeated access to the data.  As Doug
and Duncan have pointed out, one could do some of this in the DBMS, and
some DBMSs may be a lot easier than others to do it in.

We do have a project to look at these ideas, but as any one takes a lot of
implementation it will take a while to yield results.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 24 09:57:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 24 Nov 2001 08:57:40 +0000 (GMT)
Subject: [R] horsekicks
In-Reply-To: <5.1.0.14.0.20011124091843.02cadbc0@gvdnet.dk>
Message-ID: <Pine.GSO.4.31.0111240849530.9104-100000@auk.stats>

On Sat, 24 Nov 2001, Troels Ring wrote:

> Dear friends. I have these well known data on horsekicks:
> years <- c(109,  65,  22,   3 ,  1,   0)
> deaths <- 0:5
> and get a nice but wrong fit from
> summary(z1 <- glm(years~deaths,family=poisson))
> Can I take away the intercept ?

Yes, by

glm(years ~ deaths-1, family=poisson)

or

glm(years ~ 0+deaths, family=poisson)

*but* it would be nonsense.  That's a log-linear model with mean forced to
be one at 0 deaths!

My (decades old) memory of that dataset is that the numbers are observed
frequencies for years with Y occurrences, so the correct model is

glm(deaths ~ 1, family=poisson, weights = years)

This fits a Poisson with mean 0.6099978 = exp(-0.4943) with fitted values

> round(dpois(0:5, 0.6099978)*sum(years), 2)
[1] 108.67  66.29  20.22   4.11   0.63   0.08

a rather good match.  But, the estimate of the mean is the mean of the
observations:

> weighted.mean(deaths, years)
[1] 0.61

so you don't need glm to do this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Sat Nov 24 12:34:54 2001
From: vito.muggeo at giustizia.it (MUGGEO VITO)
Date: Sat, 24 Nov 2001 12:34:54 +0100
Subject: [R] lme or nlme
References: <20011124001219.54958.qmail@web13908.mail.yahoo.com>
Message-ID: <007501c174dc$1ec775e0$5c13070a@it.giustizia.it>

Hi,
The package nlme by Pinero & Bates provides both lme() and nlme().
The sintax for lme() is
lme(y~x1+x2, random=~1+x1|z, data)
where y is the response x1 and x2 two fixed effects and x1 the variable with
random effects.

However see the very-clear help files in the package

best,
vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov 24 13:25:01 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 2001 13:25:01 +0100
Subject: [R] Are you experienced in SAS ...
In-Reply-To: <200111240109.JAA47354@salvia.maths.uwa.edu.au>
References: <200111240109.JAA47354@salvia.maths.uwa.edu.au>
Message-ID: <x27ksgbbky.fsf@blueberry.kubism.ku.dk>

Rolf Turner <rolf at maths.uwa.edu.au> writes:

> I'd just like to put in my two bob's worth:
> 
> The ***only*** thing for which I prefer SAS to R/Splus, but it's
> a very important thing, is the analysis of mixed linear models.
> One can do the same analyses in both languages.  The difference is
> that the SAS syntax for specifying such a model, and its output, is
> comprehensible to the human mind, which is what I'm equipped with.
> The R/Splus syntax (which involves the bewildering notion of
> ``strata'') is not.

Not the sort of thing to make Doug and Jose happy. They've probably
heard these sentiments before, though.

But... There's an important difference between the two
implementations, exactly in the area of strata. These are BTW really
just "levels" in the sense of multilevel models (pupils within classes
within schools within municipalities within countries, etc.) and their
explicit specification makes some block-diagonal matrix optimizations
possible. For largish data sets, you will find that SAS loses out
efficiency-wise, because it doesn't do these optimizations.

In some cases, the model formula notation tends to cause complexity
that might seem unnecessary. The most conspicuous case is when you add
a traditional variance component that goes "across" the stratification
and need to do something like this (for a person*bread*time unbalanced
three-way layout)

        random=list(person=pdIdent(form=~time-1),
                    person=~1,
                    bread=~1)

in which the pdIdent(form=~time-1) is essentially caused by the fact
that model formulas were really designed for systematic effects that
are unchanged under contrast parametrizations, whereas random effects
are not. Thus to specify the model you have to know what the design
matrix looks like for a given model formula, and select the formula so
that the covariance structure you put on the random coefficients makes
sense. It is quite convoluted, but I think I can assure you that a
substantial amount of though went into the design of this.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Nov 24 19:59:36 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 24 Nov 2001 19:59:36 +0100
Subject: [R] about the function order()
Message-ID: <3BFFEE18.3CB2E788@cbs.dtu.dk>

Dear all,


I have recently experienced something with the function order I cannot
explain:


The help(order) (which I admit having overlooked before) rises even more
my confusion...

The following lines made me think order() was returning the 'order' each
value in a vector would take when sorted.
 
> a <- c(4.1, 3.2, 6.1)
> order(a)
[1] 2 1 3

Doing
> plot(a, order(a)/length(a))
gave what I expected (an empirical distribution function).



Hower the following made me think I have been misusing order():

> a <- c(4.1, 3.2, 6.1, 3.1)
> order(a)
[1] 4 2 1 3
>
> a <- rnorm(50)
> plot(a, order(a)/50)

My question is, what is really order() doing ?
(This question is like asking for RTFMs... I have no problem with that,
I just could not find much in the pdf about R I had).



Thanking in advance an help,



Laurent





-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Nov 24 20:27:56 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 24 Nov 2001 11:27:56 -0800 (PST)
Subject: [R] about the function order()
In-Reply-To: <3BFFEE18.3CB2E788@cbs.dtu.dk>
Message-ID: <Pine.A41.4.33.0111241119160.123630-100000@homer06.u.washington.edu>

On Sat, 24 Nov 2001, Laurent Gautier wrote:

> Dear all,
>
>
> I have recently experienced something with the function order I cannot
> explain:
>
>
> The help(order) (which I admit having overlooked before) rises even more
> my confusion...
>
> The following lines made me think order() was returning the 'order' each
> value in a vector would take when sorted.
>
> > a <- c(4.1, 3.2, 6.1)
> > order(a)
> [1] 2 1 3
>
> Doing
> > plot(a, order(a)/length(a))
> gave what I expected (an empirical distribution function).
>
>
>
> Hower the following made me think I have been misusing order():
>
> > a <- c(4.1, 3.2, 6.1, 3.1)
> > order(a)
> [1] 4 2 1 3
> >
> > a <- rnorm(50)
> > plot(a, order(a)/50)
>
> My question is, what is really order() doing ?

In a sense it's doing the opposite of what you thought.

The definition of order() is basically that
   a[order(a)]
is in increasing order. This works with your example, where the correct
order is the fourth, second, first, then third element.

You may have been looking for rank(), which returns the rank of the
elements
R> a <- c(4.1, 3.2, 6.1, 3.1)
R> order(a)
[1] 4 2 1 3
R> rank(a)
[1] 3 2 4 1
so rank() tells you what order the numbers are in, order() tells you how
to get them in ascending order.

plot(a, rank(a)/length(a)) will give a graph of the CDF.  To see why
order() is useful, though, try
	plot(a, rank(a)/length(a),type="S")
which gives a mess, because the data are not in increasing order

If you did
   oo<-order(a)
   plot(a[oo],rank(a[oo])/length(a),type="S")
or simply
   oo<-order(a)
   plot(a[oo],(1:length(a))/length(a)),type="S")
you get a line graph of the CDF


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Nov 24 20:45:27 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 24 Nov 2001 20:45:27 +0100
Subject: [R] about the function order()
References: <Pine.A41.4.33.0111241119160.123630-100000@homer06.u.washington.edu>
Message-ID: <3BFFF8D7.A01C8B99@cbs.dtu.dk>

Thomas Lumley wrote:
> 
> On Sat, 24 Nov 2001, Laurent Gautier wrote:
> 
> > Dear all,
> >
> >
> > I have recently experienced something with the function order I cannot
> > explain:
> >
> >
> > The help(order) (which I admit having overlooked before) rises even more
> > my confusion...
> >
> > The following lines made me think order() was returning the 'order' each
> > value in a vector would take when sorted.
> >
> > > a <- c(4.1, 3.2, 6.1)
> > > order(a)
> > [1] 2 1 3
> >
> > Doing
> > > plot(a, order(a)/length(a))
> > gave what I expected (an empirical distribution function).
> >
> >
> >
> > Hower the following made me think I have been misusing order():
> >
> > > a <- c(4.1, 3.2, 6.1, 3.1)
> > > order(a)
> > [1] 4 2 1 3
> > >
> > > a <- rnorm(50)
> > > plot(a, order(a)/50)
> >
> > My question is, what is really order() doing ?
> 
> In a sense it's doing the opposite of what you thought.
(...)


You are perfectly right.... How amazing things once clear blur with
tiredness...
I guess I should go home and rest before doing anything else silly... =)


Thanks for being around on a saturday and giving a fast answer... 



Laurent




-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bribeiro at softhome.net  Sat Nov 24 21:17:12 2001
From: bribeiro at softhome.net (Bernardo Ribeiro)
Date: Sat, 24 Nov 2001 18:17:12 -0200
Subject: [R] Is there a minimization function?
Message-ID: <000801c17525$029bf6e0$e880dec8@a>

    I was wondering if there is a minimizing function in R?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011124/fe9b9b48/attachment.html

From tlumley at u.washington.edu  Sat Nov 24 21:31:16 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 24 Nov 2001 12:31:16 -0800 (PST)
Subject: [R] Is there a minimization function?
In-Reply-To: <000801c17525$029bf6e0$e880dec8@a>
Message-ID: <Pine.A41.4.33.0111241230450.123630-100000@homer06.u.washington.edu>

On Sat, 24 Nov 2001, Bernardo Ribeiro wrote:

>     I was wondering if there is a minimizing function in R?
>

optim, optimize, nlm, depending on what sort of minimization.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bribeiro at softhome.net  Sat Nov 24 22:06:57 2001
From: bribeiro at softhome.net (Bernardo Ribeiro)
Date: Sat, 24 Nov 2001 19:06:57 -0200
Subject: [R] Re: Is there a minimization function?
Message-ID: <001b01c1752b$f8406da0$d180dec8@a>

I was trying to minimize this function but got this error:

> L_function(alfa,beta,sigma2){
+ -1* (-n/2*log(sigma2))+0.5*sum((y-g(alfa,beta))^2)/sigma2
+ }
> inic_c(0.3893,0.507,0.00228)
> optim(inic,L)
Error in log(sigma2) : Argument "sigma2" is missing, with no default

    Any clues?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011124/20e7e316/attachment.html

From tlumley at u.washington.edu  Sat Nov 24 22:11:46 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 24 Nov 2001 13:11:46 -0800 (PST)
Subject: [R] Re: Is there a minimization function?
In-Reply-To: <001b01c1752b$f8406da0$d180dec8@a>
Message-ID: <Pine.A41.4.33.0111241306380.123630-100000@homer06.u.washington.edu>

On Sat, 24 Nov 2001, Bernardo Ribeiro wrote:

> I was trying to minimize this function but got this error:
>
> > L_function(alfa,beta,sigma2){
> + -1* (-n/2*log(sigma2))+0.5*sum((y-g(alfa,beta))^2)/sigma2
> + }
> > inic_c(0.3893,0.507,0.00228)
> > optim(inic,L)
> Error in log(sigma2) : Argument "sigma2" is missing, with no default
>
>     Any clues?

In help(optim)

       fn: A function to be minimized (or maximized), with first
          argument the vector of parameters over which minimization is
          to take place. It should return a scalar result.


Optimisation is only done over the first argument for fixed values of the
others. If you want to optimise over three parameters put them in a vector
 L <- function(theta){
   alfa <- theta[1]
   beta <- theta[2]
   sigma2 <- theta[3]
   -1* (-n/2*log(sigma2))+0.5*sum((y-g(alfa,beta))^2)/sigma2
 }

or if you want to optimise alfa for fixed values of the other two
parameters you need to supply them
eg
 optim(inic, L, alfa=1, sigma2=1)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Nov 25 04:57:43 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 24 Nov 2001 22:57:43 -0500
Subject: [R] another optimization question
Message-ID: <5.1.0.14.2.20011124225441.01d20568@mcmail.cis.mcmaster.ca>

Dear R list members,

Since today seems to be the day for optimization questions, I have one that 
has been puzzling me:

I've been doing some work on sem, my structural-equation modelling package. 
The models that the sem function in this package fits are essentially 
parametrizations of the multinormal distribution.  The function uses optim 
and nlm sequentially to maximize a multinormal likelihood. One of the 
changes I've introduced is to use an analytic gradient rather than rely on 
numerical derivatives. (If I can figure it out, I'd like to use an analytic 
Hessian as well.)

I could provide additional details, but the question that I have is 
straightforward. I expected that using an analytic gradient would make the 
program faster and more stable. It *is* substantially faster, by up to an 
order of magnitude on the problems that I've tried. In one case, however, a 
model that converged (to the published solution) with numerical derivatives 
failed to converge with analytic derivatives. I can program around the 
problem, by having the program fall back to numerical derivatives when 
convergence fails, but I was surprised by this result, and I'm concerned 
that it reflects a programming problem or an error in my math. I suspect 
that if I had made such an error, however, the other examples I tried would 
not have worked so well.

So, my question is, is it possible in principle for an optimization to fail 
using a correct analytic gradient but to converge with a numerical 
gradient? If this is possible, is it a common occurrence?

Any help would be appreciated.

John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 25 09:26:23 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 25 Nov 2001 08:26:23 +0000 (GMT)
Subject: [R] another optimization question
In-Reply-To: <5.1.0.14.2.20011124225441.01d20568@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.GSO.4.31.0111250820530.24428-100000@auk.stats>

On Sat, 24 Nov 2001, John Fox wrote:

> Dear R list members,
>
> Since today seems to be the day for optimization questions, I have one that
> has been puzzling me:
>
> I've been doing some work on sem, my structural-equation modelling package.
> The models that the sem function in this package fits are essentially
> parametrizations of the multinormal distribution.  The function uses optim
> and nlm sequentially to maximize a multinormal likelihood. One of the
> changes I've introduced is to use an analytic gradient rather than rely on
> numerical derivatives. (If I can figure it out, I'd like to use an analytic
> Hessian as well.)
>
> I could provide additional details, but the question that I have is
> straightforward. I expected that using an analytic gradient would make the
> program faster and more stable. It *is* substantially faster, by up to an
> order of magnitude on the problems that I've tried. In one case, however, a
> model that converged (to the published solution) with numerical derivatives
> failed to converge with analytic derivatives. I can program around the
> problem, by having the program fall back to numerical derivatives when
> convergence fails, but I was surprised by this result, and I'm concerned
> that it reflects a programming problem or an error in my math. I suspect
> that if I had made such an error, however, the other examples I tried would
> not have worked so well.
>
> So, my question is, is it possible in principle for an optimization to fail
> using a correct analytic gradient but to converge with a numerical
> gradient? If this is possible, is it a common occurrence?

It's possible but rare.  You don't have a `correct analytic gradient', but
a numerical computation of it.  Inaccurately computed gradients are a
common cause of convergence problems. You may need to adjust the
tolerances.

It's also possible in principle that the optimizer takes a completely
different path from the starting point due to small differences in
calculated derivatives.  It's worth trying staritng near the expected
answer to rule this out.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Sun Nov 25 20:28:24 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 26 Nov 2001 08:28:24 +1300
Subject: [R] Rose diagrams in R?
References: <OE611ndcx3Vp20N39x600006f44@hotmail.com> <3BFE453C.EAED585A@ethz.ch>
Message-ID: <001301c175e7$59c9b110$7632d882@stat.auckland.ac.nz>

Hi


> i wrote a small function (rose) for that problem. It accept datas
> between 0 and 360 and draw something
> like you want. You also can
>
> rose <- function(data,step=30,main='wind rose'){
>   deg2rad <- 180/pi
>   data <- (data+step/2)%%360# Values like 359 go to Sector 0
>   histdata <- hist(data,breaks=seq(0,360,by=step),plot=F) #use hist for
> counting
>   counts <- histdata$counts
>   maxcount <- max(counts)
>   mids <- (histdata$mids-step/2)/deg2rad
>   step <- step/deg2rad
>   plot(c(-1,1),c(-1,1),,xlab='',ylab='',
>        main=main,xaxt='n',yaxt='n',pch=' ')
>   for (i in 1:length(counts)){
>     w1 <- mids[i]-step/2
>     w2 <- mids[i]+step/2
>     lines(counts[i]/maxcount*c(0,sin(w1),sin(w2),0),
>           counts[i]/maxcount*c(0,cos(w1),cos(w2),0))#draw sector
>     text(sin(mids[i]),cos(mids[i]),counts[i])
>   }
>   names(counts) <- round(mids*deg2rad,3)
>   counts
> }
>
> #Test with 500 values between 0 and 360 (uniform distribution)
> rose(runif(500)*360,360/16)


You might want to include a par(pty="s") in there somewhere (or something
equivalent) to make sure that the plot comes out "square".

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nick.Davis at treasury.govt.nz  Sun Nov 25 23:25:36 2001
From: Nick.Davis at treasury.govt.nz (Nick Davis)
Date: Mon, 26 Nov 2001 11:25:36 +1300
Subject: [R] Boxplots using percentiles?
Message-ID: <E1DB1E4A1D092145AE6D0F1FD6EFD0F502926B59@gertrude.hamlet.treasury.govt.nz>

The standard R boxplot appears to use quartiles to determine the height of
the rectangles and a range parameter - RNG - (default=1.5 I think) that
determines the length of the whiskers as <= RNG x Interquartile Range.  Is
it possible to instead define the range as extending to the 95th percentile?
If so, how would this be done?  
 
nb, I'm plotting multiple boxplots on a single chart so a function that
applies to multiple series would be useful.
 
Thanks,
 
Nick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011126/49c9a092/attachment.html

From rgentlem at jimmy.harvard.edu  Sun Nov 25 23:53:31 2001
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Sun, 25 Nov 2001 17:53:31 -0500
Subject: [R] Boxplots using percentiles?
In-Reply-To: <E1DB1E4A1D092145AE6D0F1FD6EFD0F502926B59@gertrude.hamlet.treasury.govt.nz>; from Nick Davis on Mon, Nov 26, 2001 at 11:25:36AM +1300
References: <E1DB1E4A1D092145AE6D0F1FD6EFD0F502926B59@gertrude.hamlet.treasury.govt.nz>
Message-ID: <20011125175331.F9251@jimmy.harvard.edu>

On Mon, Nov 26, 2001 at 11:25:36AM +1300, Nick Davis wrote:
> The standard R boxplot appears to use quartiles to determine the height of
> the rectangles and a range parameter - RNG - (default=1.5 I think) that
> determines the length of the whiskers as <= RNG x Interquartile Range.  Is
> it possible to instead define the range as extending to the 95th percentile?
> If so, how would this be done?  

 You need to create the right kind of thing to call bxp -- which has
 some documentation but basically it is the z component that you need
 to construct.

 You can call boxplot with plot=FALSE to get it to do most of the work
 and then just fiddle with the parts you want to change

>  
> nb, I'm plotting multiple boxplots on a single chart so a function that
> applies to multiple series would be useful.
>  
> Thanks,
>  
> Nick

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orca at alternex.com.br  Mon Nov 26 00:12:47 2001
From: orca at alternex.com.br (MAURICIO  ORTIZ CALVAO)
Date: Sun, 25 Nov 2001 21:12:47 -0200
Subject: [R] readline 4.2 versus 4.1
Message-ID: <200111252312.fAPNClf19822@vorlon.alternex.com.br>

Hi there,

I would like to try the newest version of R (1.3.1), under my Red Hat Linux 7.2, which uses the library readline 4.2. 
In some page of CRAN and in the corresponding rpm package, it is stated, when trying to install R, that the readline 4.1
is necessary... 

Shouldn't the newer readline 4.2 be completely compatible with the present version of R (1.3.1)?
Will I have any problems if I force the installation of the rpm package with the readline 4.2 version and not the 4.1?

Thanks for the help!
--
Mauricio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Nov 26 00:20:21 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 25 Nov 2001 18:20:21 -0500
Subject: [R] another optimization question
In-Reply-To: <Pine.GSO.4.31.0111250820530.24428-100000@auk.stats>
References: <5.1.0.14.2.20011124225441.01d20568@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20011125133536.01d32758@mcmail.cis.mcmaster.ca>

Dear Brian

At 08:26 AM 11/25/2001 +0000, Prof Brian D Ripley wrote:
>On Sat, 24 Nov 2001, John Fox wrote:
>
>. . .
>
> > So, my question is, is it possible in principle for an optimization to fail
> > using a correct analytic gradient but to converge with a numerical
> > gradient? If this is possible, is it a common occurrence?
>
>It's possible but rare.  You don't have a `correct analytic gradient', but
>a numerical computation of it.  Inaccurately computed gradients are a
>common cause of convergence problems. You may need to adjust the
>tolerances.
>
>It's also possible in principle that the optimizer takes a completely
>different path from the starting point due to small differences in
>calculated derivatives.  It's worth trying staritng near the expected
>answer to rule this out.

I didn't describe it in my original post, but I had messed around a fair 
bit with the problem before posting my question. (I say "messed around" 
because I'm far from expert in numerical optimization.) Since reading your 
response, I've checked over some of what I did, to make sure I that I 
remember it correctly. Without describing everything in tedious detail, 
here are some of my results:

First, if I start the optimization right at the solution, I get the 
solution back as a result. I took this as evidence that my calculation of 
the gradient is probably ok. (And, as I said, I get the correct solution to 
other problems.)

If I start reasonably near the solution, optim (which I use first) reports 
convergence, but doesn't quite reach the solution; nlm (which starts with 
the parameter values produced by optim) reports a return code of 3, which 
corresponds to "last global step failed to locate a point lower than 
estimate. Either estimate is an approximate local minimum of the function 
or steptol is too small." Changing the steptol (and other arguments to nlm) 
doesn't seem to help, however. (I do have a question about the fscale and 
typsize arguments, which default respectively to 1 and a vector of 1's: Why 
are these available independent of the start values, from which they can be 
inferred?)

So that you can get a more concrete sense of what's going on, here's a 
table of the different solutions (with the rows corresponding to parameters):

        optim        nlm(1)      nlm(2)    start(1)  start(2)
lamb   4.9017942   4.9250519   5.3688830   5.0    18.6204419
gam1  -0.5382103  -0.5912515  -0.6299493  -1.0    -0.4252919
beta   0.6141337   0.6046611   0.5931075   1.0     0.5207707
gam2  -0.1992669  -0.2189711  -0.2408609  -0.2    -0.1805793
the1   3.8618249   3.5585071   3.6077990   4.0     2.0121677
the2   4.3781542   3.6819272   3.5949141   4.0     1.5921868
the3   1.6595465   2.4249510   2.9937057   3.0     2.2103193
the4 299.7290498 299.6466428 259.5756196 300.0   103.5671443
the5   1.2506907   0.8819633   0.9057823   1.0     0.5174292
psi1   5.9471507   5.8307768   5.6705004  61.0     0.8191268
psi2   4.6063684   4.5328785   4.5149762   5.0     0.6161997
phi    9.3785360   7.1702049   6.6162702   7.0     1.0000000
-------------------------------------------------------------
obj fn 55.74172    18.41530    13.48505

Here, the solutions labelled optim and nlm(1) use the supplied expression 
for the gradient (your point that this too is a numerical approximation 
seems obvious once stated, but I didn't consider it previously), while the 
solution labelled nlm(2) uses the default numerical derivatives; the 
start(1) column gives the start values that I specified "near" to the 
solution nlm(2); the start(2) column gives the start values that the 
program calculates itself if start values are not supplied; and the last 
row gives the values of the objective function for each solution, scaled as 
a chi-square statistic with 9 df. (When the start values in start(2) are 
used, the solutions produced by optim and nlm(1) are different from those 
given above, but the symptoms are the same -- e.g., optim reports 
convergence, nlm returns a code of 3.)

I suspect that the problem is ill-conditioned in some way, but I haven't 
been able to figure out how. I guess that I should investigate further. I 
could supply other potentially relevant information, such as the hessian at 
the solution, but I'm reluctant to impose further on your time, or that of 
other list members.

Thanks for your help,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 26 00:37:51 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Nov 2001 00:37:51 +0100
Subject: [R] readline 4.2 versus 4.1
In-Reply-To: <200111252312.fAPNClf19822@vorlon.alternex.com.br>
References: <200111252312.fAPNClf19822@vorlon.alternex.com.br>
Message-ID: <x2oflq5smo.fsf@blueberry.kubism.ku.dk>

"MAURICIO  ORTIZ CALVAO" <orca at alternex.com.br> writes:

> Hi there,
> 
> I would like to try the newest version of R (1.3.1), under my Red Hat Linux 7.2, which uses the library readline 4.2. 
> In some page of CRAN and in the corresponding rpm package, it is stated, when trying to install R, that the readline 4.1
> is necessary... 
> 
> Shouldn't the newer readline 4.2 be completely compatible with the present version of R (1.3.1)?
> Will I have any problems if I force the installation of the rpm package with the readline 4.2 version and not the 4.1?
> 
> Thanks for the help!

This was discussed a few days ago on this very list. The correct
answer for redhat 7.2 is to install 

readline41-4.1-10.i386.rpm

By definition, symbolic libraries with different "sonames" (like
/usr/lib/libreadline.so.4.1 and ...4.2) may be incompatible, so
programs compiled for one of them shouldn't try to use the other. (Some
packages insist on letting the soname follow the release name whether
or not versions are binary compatible so there's no guarantee it would
break either.)

Empirically it seems to work for R if you make the .4.1 lib a symlink
to the .4.2 lib, but there is no telling what that might do to other
programs. 

Trying "rpm -i --force ...." will most likely crash R on startup.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Nov 26 01:16:07 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sun, 25 Nov 2001 19:16:07 -0500
Subject: [R] Boxplots using percentiles?
In-Reply-To: <E1DB1E4A1D092145AE6D0F1FD6EFD0F502926B59@gertrude.hamlet.treasury.govt.nz>
References: <E1DB1E4A1D092145AE6D0F1FD6EFD0F502926B59@gertrude.hamlet.treasury.govt.nz>
Message-ID: <20011125191607.3f1efc86.fharrell@virginia.edu>

Nick,

The last things to be ready in my porting the Hmisc library to R are Trellis-related functions.  When I have ported panel.bpplot, which extends work of Jeff Banfield, that panel function offers a huge number of options for constructing box plots.  You can specify multiple percentiles and various ranges of raw data (rug plots) to show.

If you are already familiar with Grid/Lattice and would like to port panel.bpplot as a replacement for panel.bwplot, I would be glad to send you the code.

Frank Harrell

On Mon, 26 Nov 2001 11:25:36 +1300
Nick Davis <Nick.Davis at treasury.govt.nz> wrote:

> The standard R boxplot appears to use quartiles to determine the height of
> the rectangles and a range parameter - RNG - (default=1.5 I think) that
> determines the length of the whiskers as <= RNG x Interquartile Range.  Is
> it possible to instead define the range as extending to the 95th percentile?
> If so, how would this be done?  
>  
> nb, I'm plotting multiple boxplots on a single chart so a function that
> applies to multiple series would be useful.
>  
> Thanks,
>  
> Nick
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbowers at csm.berkeley.edu  Mon Nov 26 02:05:19 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Sun, 25 Nov 2001 17:05:19 -0800 (PST)
Subject: [R] Boxplots using percentiles?
In-Reply-To: <20011125175331.F9251@jimmy.harvard.edu>
Message-ID: <Pine.SV4.3.96.1011125170150.1149A-100000@csm.Berkeley.EDU>

Hi.

I wrote a little replacement for boxplot.stats [making as few changes to
boxplot.stats as possible], and then edited boxplot.default to call
"myboxplot.stats" instead of "boxplot.stats": 

#This function replaces boxplot.stats --- it uses the middle 50% and
#middle 90% instead of middle 50%(IQR) and 1.5*IQR.
myboxplot.stats <-  function (x, coef = NULL, do.conf = TRUE, do.out =
TRUE) 
{
  nna <- !is.na(x)
  n <- sum(nna)
  stats <- quantile(x, c(.05,.25,.5,.75,.95), na.rm = TRUE)
  iqr <- diff(stats[c(2, 4)])
  out <- x < stats[1] | x > stats[5]
  conf <- if (do.conf) 
    stats[3] + c(-1.58, 1.58) * diff(stats[c(2, 4)])/sqrt(n)
  list(stats = stats, n = n, conf = conf, out = x[out & nna])
}

So, when I call boxplot(), the whiskers show the middle 90% of the
distribution.

I hope this helps.
Jake

--
Jake Bowers
Dept of Political Science
UC-Berkeley


On Sun, 25 Nov 2001, Robert Gentleman wrote:

> On Mon, Nov 26, 2001 at 11:25:36AM +1300, Nick Davis wrote:
> > The standard R boxplot appears to use quartiles to determine the height of
> > the rectangles and a range parameter - RNG - (default=1.5 I think) that
> > determines the length of the whiskers as <= RNG x Interquartile Range.  Is
> > it possible to instead define the range as extending to the 95th percentile?
> > If so, how would this be done?  
> 
>  You need to create the right kind of thing to call bxp -- which has
>  some documentation but basically it is the z component that you need
>  to construct.
> 
>  You can call boxplot with plot=FALSE to get it to do most of the work
>  and then just fiddle with the parts you want to change
> 
> >  
> > nb, I'm plotting multiple boxplots on a single chart so a function that
> > applies to multiple series would be useful.
> >  
> > Thanks,
> >  
> > Nick
> 
> -- 
> +---------------------------------------------------------------------------+
> | Robert Gentleman                 phone : (617) 632-5250                   |
> | Associate Professor              fax:   (617)  632-2444                   |
> | Department of Biostatistics      office: M1B28
> | Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
> +---------------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david_p_finlayson at hotmail.com  Mon Nov 26 04:22:52 2001
From: david_p_finlayson at hotmail.com (David Finlayson)
Date: Sun, 25 Nov 2001 19:22:52 -0800
Subject: [R] Rose diagrams in R?
References: <OE611ndcx3Vp20N39x600006f44@hotmail.com> <3BFE453C.EAED585A@ethz.ch> <001301c175e7$59c9b110$7632d882@stat.auckland.ac.nz>
Message-ID: <OE22mBySsxVY60mJWEs00007e46@hotmail.com>

Thanks all for the help.  I was inspired to write my own version.  It's a
hybrid of Joerg's, Ben's and my own doodling around.  It could still use
some finishing touches (like rings don't make sense when you have no numeric
scale against which to compare them) but it will function for my purposes.
It differs from Ben and Joerg's mainly in that it accepts the normal
graphics calls, only labels the top 10 percent of "petals" and it adds
cardinal direction labels.  Also, it rotates the plot so that 000 is
pointing towards the top of the page (normal convention in the West for map
data).  I don't believe that Ben's did this as written.  Finally, it makes
an effort to scale things correctly and returns a histogram object.

I was impressed by how (relatively) easy it was to implement.

David Finlayson

Code Follows:

# Directional Vector Histogram (Rose Diagrams).
# -------------------------------------------
# David Finlayson (with help from Joerg Maeder and Ben Bolker)
# david_p_finlayson at hotmail.com
# Version 1.0
# November 23, 2001
#
# Use for plotting directional data such as wind direction or the
# angles of imbricated pebbles in rivers and streams.  This is basically
# an extension of the hist(x) function though I did not implement all of
# hist.  I have placed limits on the range of bins so that they always
# fall within 0 and 360 (i.e. directions of the compass).  The standard
# color and line adjustment commands work as well but you will need to add
# annotation (i.e.. main, xlab, ylab) separately (see par).
#
# bins: Approximate number of bins see hist() function for details
# rscale: Ring Scale, the approximate number of rings for scaling see
pretty()
#            NULL value will call pretty() with default number of rings
# labels:  (T/F) draw labels for the top 10% largest petals and the cardinal
directions?
# rings: (T/F) draw scale rings?
#
# example:
# test <- runif(30) * 360
# rose(test)
# rose(test, bins=10, rscale=2, labels=TRUE, rings=TRUE, col="cyan", lwd=2)
#

rose <- function(x, bins=36, rscale=NULL, labels=TRUE, rings=TRUE, ...){

 ### Ensure that this is directional data (0-360)
 if (max(x) > 360 || min(x) < 0) {
  stop("Data is out of range (0 - 360)")
 }

 ### Histogram Data
 histogram.out <- hist(x, breaks=seq(0,360,length=bins+1), plot=FALSE)
 pieMid <- histogram.out$mids  # mid points of bins
 pieCount <- histogram.out$counts # count in each bin
 pieWidth <- 360 / length(pieMid) # width of each bin
 pieFreq <- histogram.out$density * pieWidth

 ### Initialize Plot Are
 oldpar <- par()
 par(pty="s")

 if (!is.null(rscale)){
  rscale <- pretty(pieFreq, rscale)
   } else {
  rscale <- pretty(pieFreq)
 }

 plotLimits <- c(-max(rscale), max(rscale)) * 1.04

 plot(0,0,
  ylim=plotLimits,
  xlim=plotLimits,
  axes=FALSE,
  xlab="",
  ylab="")

 abline(h=0)
 abline(v=0)

 ### Plot Rings
 if (rings == TRUE) {
  symbols(rep(0,length(rscale)), rep(0,length(rscale)),
   circles=rscale,inches=FALSE,add=TRUE)
 }

 ### Plot Rose

 # Helper function to draw the pie slices
 pie <- function(h, k, direction, spread, magnitude, ...){

  # adjust coordinate from compass to polar
  direction <- 360 - direction + 90

  # calculate theta start and stop
  start <- (direction + 0.5 * spread) * pi / 180
  stop  <- (direction - 0.5 * spread) * pi / 180

  # vertices
  x1 <- h
  y1 <- k

  x2 <- (magnitude * cos(start)) + h
  y2 <- (magnitude * sin(start)) + k

  x3 <- (magnitude * cos(stop)) + h
  y3 <- (magnitude * sin(stop)) + k

  # build pie slice
  x <- c(x1, x2, x3, x1)
  y <- c(y1, y2, y3, y1)

  polygon(x,y, ...)
 }

 # plot the slices
 for (i in 1:length(pieMid)){
   pie(0, 0, pieMid[i], pieWidth, pieFreq[i], ...)
 }

 # Plot Axes Labels

 if (labels == TRUE) {

     mtext("N", side=3, line=1)
     mtext("E", side=4, line=1)
     mtext("S", side=1, line=1)
     mtext("W", side=2, line=1)

     ### Plot top frequency labels

     # calculate indices of top 10 percent of bins
     pie10percent <- round(length(pieMid) * 0.1) + 1 # how many is 10
percent
     pieRank <- length(pieCount) - rank(pieCount)   # rank bins
     top10 <- which( pieRank < pie10percent )  # index to top 10 percent

     # Plot labels for these bins
     theta <- 360 - pieMid[top10] + 90 # compass to polar angles
     theta <- theta * pi/180  # degrees to rads

     x <- pieFreq[top10] * cos(theta)
     y <- pieFreq[top10] * sin(theta)

     text(x, y, format(pieFreq[top10], digits=2))

     ### Reset the par
     par <- oldpar

     ### Return Histogram Object
     histogram.out
 }
}


----- Original Message -----
From: "Paul Murrell" <p.murrell at auckland.ac.nz>
To: "Joerg Maeder" <joerg.maeder at ethz.ch>; "David Finlayson"
<david_p_finlayson at hotmail.com>; "'R-help at lists.R-project.org'"
<R-help at stat.math.ethz.ch>
Sent: Sunday, November 25, 2001 11:28 AM
Subject: Re: [R] Rose diagrams in R?


> Hi
>
>
> > i wrote a small function (rose) for that problem. It accept datas
> > between 0 and 360 and draw something
> > like you want. You also can
> >
> > rose <- function(data,step=30,main='wind rose'){
> >   deg2rad <- 180/pi
> >   data <- (data+step/2)%%360# Values like 359 go to Sector 0
> >   histdata <- hist(data,breaks=seq(0,360,by=step),plot=F) #use hist for
> > counting
> >   counts <- histdata$counts
> >   maxcount <- max(counts)
> >   mids <- (histdata$mids-step/2)/deg2rad
> >   step <- step/deg2rad
> >   plot(c(-1,1),c(-1,1),,xlab='',ylab='',
> >        main=main,xaxt='n',yaxt='n',pch=' ')
> >   for (i in 1:length(counts)){
> >     w1 <- mids[i]-step/2
> >     w2 <- mids[i]+step/2
> >     lines(counts[i]/maxcount*c(0,sin(w1),sin(w2),0),
> >           counts[i]/maxcount*c(0,cos(w1),cos(w2),0))#draw sector
> >     text(sin(mids[i]),cos(mids[i]),counts[i])
> >   }
> >   names(counts) <- round(mids*deg2rad,3)
> >   counts
> > }
> >
> > #Test with 500 values between 0 and 360 (uniform distribution)
> > rose(runif(500)*360,360/16)
>
>
> You might want to include a par(pty="s") in there somewhere (or something
> equivalent) to make sure that the plot comes out "square".
>
> Paul
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 26 11:04:45 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 26 Nov 2001 11:04:45 +0100 (MET)
Subject: [R] Editing R graphics (fwd)
Message-ID: <Pine.OSF.3.96.1011126110409.13392D-100000@ija.csic.es>


Thanks to the many people who adviced me on this topic. 
xfig works very well, at least for what I have to do now.

I'd like to answer the message by Paul Marrell as well as
encourage others to do so:

On Fri, 23 Nov 2001, Paul Murrell wrote:

> I would be very interested to know the sorts of things you do to add things
> interactively to plots.
> 
> As one reply mentioned, there is quite a lot of flexibility in R's graphics
> for placing additional text and graphical objects using functions like
> text(), rect(), lines(), polygon(), ...  This can even be done with a small
> interactive element using locator().  For example, ...
> 
>     plot(1:10)
>     text(locator(1), "some annotation")
>     # now click on the graph where you want it to go
> 
> However, there are things which are not possible (like selecting a piece of
> text on a graph and moving it with the mouse).
> 
> Some of the work I am doing in the graphics at the moment, and in the new
> graphics package grid, will allow *some* more interactivity (or at least
> provide the possibility to develop it), so it would be great to know what
> sorts of things people really would like to be able to do.
> 
> Any information gratefully received :)

Regarding myself, I try to get done as much I can 
writing my own R functions including the calls to some of the many
R graphic functions. Actually, I normally do it at 2 levels. First,
I try to write general (in the sense of my own work) functions. For
example, a personal CAIV.plot function or personal functions for
displaying results of discriminant analysis. Second, I use to write
an specific function for each figure that I want to include in a paper or
presentation. In that way it is (relatively) easy to include 
suggestions that come (usually several months later) from article
reviewers. 

But despite the R ability to display informative graphics 
as the result of graphic functions, there is often the need to add 
more information to the graphic, information that often has not been
explicitely included in the analysis. We could call this to convert
the graphic into a figure. For example, we can get a correct
biplot of the PCA or Corresp. An. of an species x sites table from an R
function, but we can also add information to facilitate
the interpretation of the graphic: for some of the sites diplayed
in the biplot I include an small excerpt of the most abundant species
in that site, and/or highlight some critical species and include
a mention to relevant biological characteristics (ie., shade-tolerant,
evergreen etc.). Sometimes I also include another (reduced) figure, for
example
a reduced map indicating the geographic location of some sites, and or
time-series of the phenology as shown by satellite imagery. Another
example of adding ancillary information to an statistic graphic is
adding field-collected information to a graphic that displays results
from the analysis od remotely-sensed imagery.

Thanks, Paul, for you work at improving the (many) R graphic capabilities.


Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 26 10:57:29 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 26 Nov 2001 09:57:29 +0000
Subject: [R] Named pipe connections and stdout
Message-ID: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>

All,

I am trying to use a named pipe to steer R from an external application.
Following the examples in RNEWS 1:1, I have created a simple listener:

        zz <- fifo("TESTFIFO", "r")
        repeat
  
         {
         a <- readLines(zz)
         if(length(a) != 0)
           {
           e <- try(eval(parse(text = a)))
           if (inherits(e, "try-error"))
             {
             # error handling code here
             cat("Error", "\n")
      
             }
           }
        }



I tested this by steering R from a simple console (e.g. using something
like:

        echo "<r-command> > TESTFIFO

This works OK but where has stdout gone?

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 26 11:25:43 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Nov 2001 11:25:43 +0100
Subject: [R] Named pipe connections and stdout
In-Reply-To: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>
References: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>
Message-ID: <x2itbxx1zs.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> All,
> 
> I am trying to use a named pipe to steer R from an external application.
> Following the examples in RNEWS 1:1, I have created a simple listener:
> 
>         zz <- fifo("TESTFIFO", "r")
>         repeat
>   
>          {
>          a <- readLines(zz)
>          if(length(a) != 0)
>            {
>            e <- try(eval(parse(text = a)))
>            if (inherits(e, "try-error"))
>              {
>              # error handling code here
>              cat("Error", "\n")
>       
>              }
>            }
>         }
> 
> 
> 
> I tested this by steering R from a simple console (e.g. using something
> like:
> 
>         echo "<r-command> > TESTFIFO
> 
> This works OK but where has stdout gone?

With eval() in a loop, wouldn't you need a print(e)? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Nov 26 11:43:52 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 26 Nov 2001 10:43:52 +0000
Subject: [R] Named pipe connections and stdout
In-Reply-To: <x2itbxx1zs.fsf@blueberry.kubism.ku.dk>
References: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>
 <x2itbxx1zs.fsf@blueberry.kubism.ku.dk>
Message-ID: <b9v+nJAozhA8Ew5m@myatt.demon.co.uk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>Mark Myatt <mark at myatt.demon.co.uk> writes:
>
>> All,
>> 
>> I am trying to use a named pipe to steer R from an external application.
>> Following the examples in RNEWS 1:1, I have created a simple listener:
>> 

[Code snippet deleted]

>> 
>> I tested this by steering R from a simple console (e.g. using something
>> like:
>> 
>>         echo "<r-command> > TESTFIFO
>> 
>> This works OK but where has stdout gone?
>
>With eval() in a loop, wouldn't you need a print(e)? 
>

Putting print() in there does the trick but this produces a slightly
different output for functions that return things 'quietly' using
invisible(), printing, for example, bar positions to barplot() as well
as producing the chart rather than just producing the chart as it would
if the command where issued directly in R. Is there a way around this?
Not a big problem but one I would be interested in solving.

Mark


--
Mark Myatt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Mon Nov 26 13:06:27 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon, 26 Nov 2001 07:06:27 -0500
Subject: [R] Editing R graphics (fwd)
In-Reply-To: <Pine.OSF.3.96.1011126110409.13392D-100000@ija.csic.es>
References: <Pine.OSF.3.96.1011126110409.13392D-100000@ija.csic.es>
Message-ID: <3mb40uol7o39f3vmdjbl45rn3ouatfftjr@4ax.com>


>On Fri, 23 Nov 2001, Paul Murrell wrote:
>
>> I would be very interested to know the sorts of things you do to add things
>> interactively to plots.

Not just adding, I'd like to change what's there:

I'd like to be able to change the scale of the plot (either to zoom
in, or to make room for some new data I'm adding).

An interactive way to change the size and position of the frame around
a graph would sometimes help with developing a layout.  

Being able to replace elements in a graph would be nice, rather than
"edit source and redo".

Keeping a replayable history of the changes (or being able to
construct a replay) would be nice:  often I want to design something
interactively, then re-use the design programmatically.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Mon Nov 26 15:01:00 2001
From: matthew_wiener at merck.com (Wiener, Matthew Charles)
Date: Mon, 26 Nov 2001 09:01:00 -0500
Subject: [R] installation on Mac OS X
Message-ID: <7C4F091F6140D411A29300508B5C73B905BDEE52@usrymx04.merck.com>

I'm also using the Mac OSX/unix version of R.  I went into the doc
subdirectory of the installation and dragged index.html to the dock.  Now I
can get help up by clicking on that icon (this may not get help in the
browser when you type help(x) in the R session, but I've never gotten used
to doing it that way).

For good measure, I copied the R logo from cran and replaced the standard
"web page" icon I got when I put index.html on the dock.

Hope this helps,

Matt

-----Original Message-----
From: G.Janacek [mailto:G.Janacek at uea.ac.uk]
Sent: Thursday, November 22, 2001 2:19 AM
To: R-help at stat.math.ethz.ch
Subject: Re: [R] installation on Mac OS X


       [this was sent to "OWNER-r-help at ..." 
        please do NOT {and fix or switch your e-mail software if
        that does when you [reply] to an R-help message}
						-- MM, your list maintainer
]

> To: owner-r-help at stat.math.ethz.ch

Well I finally managed to get Xdarwin and R running on my Mac under 
OSX. Having turned my Mac into a UNIX box is a bit disconcerting but 
. . .
My problem now is how to get help to run - either as html or via R. I 
am sure it is my stupidity but any suggestions would be most welcome.

By the way if I run Stefano's OS9 R binary (current version) I can't 
seem to get the eps of any  graphics into my Latex program ( using 
graphics.sty or graphix.sty). The text goes wonky. Has anyone else 
noticed this problem - and if so is there a fix?

These are of course minor grips about a wonderful language.
Jan
-- 
G.Janacek					44 (0) 1603 592489
Dean                                    fax     44 (0) 1603 593868
School of Maths                   secretary     44 (0) 1603 592488
UEA
Norwich NR4 7TJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Nov 26 16:36:53 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 26 Nov 2001 16:36:53 +0100
Subject: [R] Editing R graphics (fwd)
Message-ID: <3.0.32.20011126163653.00923900@162.38.183.200>

At 11:04 26/11/01 +0100, Agustin Lobo <alobo at ija.csic.es> wrote:

[...]

>On Fri, 23 Nov 2001, Paul Murrell wrote:
>
>> I would be very interested to know the sorts of things you do to add things
>> interactively to plots.
>> 
>> As one reply mentioned, there is quite a lot of flexibility in R's graphics
>> for placing additional text and graphical objects using functions like
>> text(), rect(), lines(), polygon(), ...  This can even be done with a small
>> interactive element using locator().  For example, ...
>> 
>>     plot(1:10)
>>     text(locator(1), "some annotation")
>>     # now click on the graph where you want it to go
>> 
>> However, there are things which are not possible (like selecting a piece of
>> text on a graph and moving it with the mouse).
>> 
>> Some of the work I am doing in the graphics at the moment, and in the new
>> graphics package grid, will allow *some* more interactivity (or at least
>> provide the possibility to develop it), so it would be great to know what
>> sorts of things people really would like to be able to do.
>> 
>> Any information gratefully received :)

[...]

>Sometimes I also include another (reduced) figure, for
>example
>a reduced map indicating the geographic location of some sites, and or
>time-series of the phenology as shown by satellite imagery. Another
>example of adding ancillary information to an statistic graphic is
>adding field-collected information to a graphic that displays results
>from the analysis od remotely-sensed imagery.

Would it be possible to have a low-level plotting command that includes in
a graph a picture read from the disk? That would be device-dependent I
guess, something like

postscript(file="figure1.ps")
plot(x, y)
include("C:/data/picts/map.ps", location=..., width=..., height=...)
dev.off()

would make a PostScript file with a bivariate plot that includes a map.

This is just a suggestion, and I do not know how difficult it could be.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 26 16:51:32 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Nov 2001 15:51:32 +0000 (GMT Standard Time)
Subject: [R] Editing R graphics (fwd)
In-Reply-To: <3.0.32.20011126163653.00923900@162.38.183.200>
Message-ID: <Pine.WNT.4.31.0111261546360.324-100000@gannet>

On Mon, 26 Nov 2001, Emmanuel Paradis wrote:

> At 11:04 26/11/01 +0100, Agustin Lobo <alobo at ija.csic.es> wrote:
>
> [...]
>
> >On Fri, 23 Nov 2001, Paul Murrell wrote:
> >
> >> I would be very interested to know the sorts of things you do to add things
> >> interactively to plots.
> >>
> >> As one reply mentioned, there is quite a lot of flexibility in R's graphics
> >> for placing additional text and graphical objects using functions like
> >> text(), rect(), lines(), polygon(), ...  This can even be done with a small
> >> interactive element using locator().  For example, ...
> >>
> >>     plot(1:10)
> >>     text(locator(1), "some annotation")
> >>     # now click on the graph where you want it to go
> >>
> >> However, there are things which are not possible (like selecting a piece of
> >> text on a graph and moving it with the mouse).
> >>
> >> Some of the work I am doing in the graphics at the moment, and in the new
> >> graphics package grid, will allow *some* more interactivity (or at least
> >> provide the possibility to develop it), so it would be great to know what
> >> sorts of things people really would like to be able to do.
> >>
> >> Any information gratefully received :)
>
> [...]
>
> >Sometimes I also include another (reduced) figure, for
> >example
> >a reduced map indicating the geographic location of some sites, and or
> >time-series of the phenology as shown by satellite imagery. Another
> >example of adding ancillary information to an statistic graphic is
> >adding field-collected information to a graphic that displays results
> >from the analysis od remotely-sensed imagery.
>
> Would it be possible to have a low-level plotting command that includes in
> a graph a picture read from the disk? That would be device-dependent I
> guess, something like
>
> postscript(file="figure1.ps")
> plot(x, y)
> include("C:/data/picts/map.ps", location=..., width=..., height=...)
> dev.off()
>
> would make a PostScript file with a bivariate plot that includes a map.
>
> This is just a suggestion, and I do not know how difficult it could be.

Potentially very difficult.  Including EPS files into postscript might
work quite easily, but verifying that it is EPS you included is not.
Including general PostScript could be disastrous.  So it depends how safe
one wants this to be.

Including .PDF into pdf or .fig into xfig is a lot harder, AFAIK.

We have talked about allowing the inclusion of bitmapped images, which
have lots of potential usages.  Again, hard to do in general across all
devices, but potentially very worthwhile.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 26 17:50:14 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 26 Nov 2001 17:50:14 +0100 (MET)
Subject: [R] summary() and range(): inconsistency?
Message-ID: <Pine.OSF.3.96.1011126174639.21891D-100000@ija.csic.es>


I've found the following and I'm kind
of confused:

> summary(delme)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1    2950    5699    5756    8572   11680 

> range(delme)
[1]     1 11675


summary() and range()  give different Max. value for the same
vector!


Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov 26 17:54:38 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 26 Nov 2001 11:54:38 -0500 (EST)
Subject: [R] summary() and range(): inconsistency?
In-Reply-To: <Pine.OSF.3.96.1011126174639.21891D-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0111261153380.9642-100000@bolker.zoo.ufl.edu>


  I think this has come up before -- try looking at the digits argument --
I think 11675 is getting round to 4 sig. dig.

  Ben

On Mon, 26 Nov 2001, Agustin Lobo wrote:

>
> I've found the following and I'm kind
> of confused:
>
> > summary(delme)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
>       1    2950    5699    5756    8572   11680
>
> > range(delme)
> [1]     1 11675
>
>
> summary() and range()  give different Max. value for the same
> vector!
>
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Nov 26 17:49:28 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 26 Nov 2001 08:49:28 -0800 (PST)
Subject: [R] summary() and range(): inconsistency?
In-Reply-To: <Pine.OSF.3.96.1011126174639.21891D-100000@ija.csic.es>
Message-ID: <Pine.A41.4.33.0111260847570.205318-100000@homer06.u.washington.edu>

On Mon, 26 Nov 2001, Agustin Lobo wrote:

>
> I've found the following and I'm kind
> of confused:
>
> > summary(delme)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
>       1    2950    5699    5756    8572   11680
>
> > range(delme)
> [1]     1 11675
>
>
> summary() and range()  give different Max. value for the same
> vector!

summary reports only a limited number of significant digits (4, by
default) and
R> signif(11675,4)
[1] 11680

See help(summary) for how to adjust this default.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Nov 26 17:55:29 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 26 Nov 2001 17:55:29 +0100
Subject: [R] compiling R under hpux
References: <3.0.6.32.20011123111005.00d0d310@pop-server.ucl.ac.uk>
Message-ID: <3C027401.76E19A4B@ci.tuwien.ac.at>

rggefrm wrote:
> 
> Dear R user,
> 
> I'm wondering if anyone was succesful in compiling R under hpux 10.20
> I couldn't compile verion 1.2.1 or 1.3.
> I asked this question two weeks ago, but nobody replyed. Looks that not
> many people are using hpux machines.

I could compile R 1.3.1 and R-devel (from 2001-11-26) successfully on
our hpux using the configure-option:

--with-f77=fort77

The problem is that f77 on the hpux seems not to be POSIX-compliant by
not accepting

-L/path/to/libraries

whereas ``fort77'' should be POSIX-compliant.

(This ``feature'' is even documented in the hpux-man page of f77).

-d

> 
> Thanks
> Frank Mattes
> Department of Virology
> Royal Free Hospital
> London
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Mon Nov 26 18:09:59 2001
From: sway at tanox.com (Shawn Way)
Date: Mon, 26 Nov 2001 11:09:59 -0600
Subject: [R] Sorting Posix Data
Message-ID: <0565F48FC373D411BE4D00B0D049602628E654@nt40hou1.tanox.com>

I have a fairly large set of data with the following attributes:

>str(raw.data)
`data.frame':	1429 obs. of  16 variables:
 $ TStamp       :`POSIXlt', format: chr  "2001-11-25 02:00:00" "2001-11-25
01:55:00" "2001-11-25 01:50:00" "2001-11-25 01:45:00" ...
 $ iPDT.AHU14.14: num  0.0122 0.0125 0.0120 0.0120 0.0122 ...
 $ iPDT.AHU14.15: num  0.0121 0.0123 0.0119 0.0119 0.0121 ...
 $ iPDT.AHU14.16: num  0.00635 0.00657 0.00608 0.00608 0.00631 ...
 $ iPDT.AHU14.17: num  0.0300 0.0304 0.0302 0.0300 0.0303 ...
 $ iPDT.AHU15.15: num  0.0986 0.0984 0.0980 0.0979 0.0983 ...
 $ iPDT.AHU15.16: num  0.0510 0.0521 0.0502 0.0507 0.0513 ...
 $ iPDT.AHU15.17: num  0.0665 0.0692 0.0683 0.0686 0.0674 ...
 $ PDT.AHU16.15 : num  0.0741 0.0753 0.0760 0.0747 0.0738 ...
 $ PDT.AHU16.16A: num  0.00152 0.00235 0.00167 0.00191 0.00172 ...
 $ PDT.AHU16.16B: num  0.0556 0.0563 0.0570 0.0560 0.0558 ...
 $ PDT.AHU16.17 : num  0.00883 0.00937 0.00877 0.00869 0.00873 ...
 $ PDT.AHU16.18 : num  0.141 0.142 0.142 0.144 0.141 ...
 $ PDT.AHU16.19 : num  0.0120 0.0123 0.0117 0.0116 0.0119 ...
 $ PDT.AHU16.20A: num  8.55e-06 1.55e-05 0.00e+00 2.36e-07 1.92e-06 ...
 $ PDT.AHU16.20B: num  0.0532 0.0536 0.0534 0.0532 0.0535 ...
> 

Unfortunately, the data is in the reverse order based on the date TStamp. Is
there any fairly easy method for reordering this set of data byt the first
column, a PosiX Date?  


"Don't rush me, you rush a miracle, you get a rotten miracle." 
-Miracle Max, The Princess Bride


Shawn Way
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011126/9199c570/attachment.html

From ripley at stats.ox.ac.uk  Mon Nov 26 18:18:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 26 Nov 2001 17:18:18 +0000 (GMT)
Subject: [R] Sorting Posix Data
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E654@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0111261716040.3300-100000@gannet.stats>

On Mon, 26 Nov 2001, Shawn Way wrote:

> I have a fairly large set of data with the following attributes:
>
> >str(raw.data)
> `data.frame':	1429 obs. of  16 variables:
>  $ TStamp       :`POSIXlt', format: chr  "2001-11-25 02:00:00" "2001-11-25
> 01:55:00" "2001-11-25 01:50:00" "2001-11-25 01:45:00" ...
>  $ iPDT.AHU14.14: num  0.0122 0.0125 0.0120 0.0120 0.0122 ...
>  $ iPDT.AHU14.15: num  0.0121 0.0123 0.0119 0.0119 0.0121 ...
>  $ iPDT.AHU14.16: num  0.00635 0.00657 0.00608 0.00608 0.00631 ...
>  $ iPDT.AHU14.17: num  0.0300 0.0304 0.0302 0.0300 0.0303 ...
>  $ iPDT.AHU15.15: num  0.0986 0.0984 0.0980 0.0979 0.0983 ...
>  $ iPDT.AHU15.16: num  0.0510 0.0521 0.0502 0.0507 0.0513 ...
>  $ iPDT.AHU15.17: num  0.0665 0.0692 0.0683 0.0686 0.0674 ...
>  $ PDT.AHU16.15 : num  0.0741 0.0753 0.0760 0.0747 0.0738 ...
>  $ PDT.AHU16.16A: num  0.00152 0.00235 0.00167 0.00191 0.00172 ...
>  $ PDT.AHU16.16B: num  0.0556 0.0563 0.0570 0.0560 0.0558 ...
>  $ PDT.AHU16.17 : num  0.00883 0.00937 0.00877 0.00869 0.00873 ...
>  $ PDT.AHU16.18 : num  0.141 0.142 0.142 0.144 0.141 ...
>  $ PDT.AHU16.19 : num  0.0120 0.0123 0.0117 0.0116 0.0119 ...
>  $ PDT.AHU16.20A: num  8.55e-06 1.55e-05 0.00e+00 2.36e-07 1.92e-06 ...
>  $ PDT.AHU16.20B: num  0.0532 0.0536 0.0534 0.0532 0.0535 ...
> >
>
> Unfortunately, the data is in the reverse order based on the date TStamp. Is
> there any fairly easy method for reordering this set of data byt the first
> column, a PosiX Date?

o <- sort(as.POSIXct(raw.data$TStamp))
raw.data[o, ]

or if you really just want to reverse the order

raw.data[nrow(raw.data):1, ]

>
>
> "Don't rush me, you rush a miracle, you get a rotten miracle."
> -Miracle Max, The Princess Bride
>
>
> Shawn Way
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 26 18:26:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 26 Nov 2001 17:26:54 +0000 (GMT)
Subject: [R] Sorting Posix Data
In-Reply-To: <Pine.LNX.4.31.0111261716040.3300-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0111261726290.3354-100000@gannet.stats>

On Mon, 26 Nov 2001, Prof Brian Ripley wrote:

> On Mon, 26 Nov 2001, Shawn Way wrote:
>
> > I have a fairly large set of data with the following attributes:
> >
> > >str(raw.data)
> > `data.frame':	1429 obs. of  16 variables:
> >  $ TStamp       :`POSIXlt', format: chr  "2001-11-25 02:00:00" "2001-11-25
> > 01:55:00" "2001-11-25 01:50:00" "2001-11-25 01:45:00" ...
> >  $ iPDT.AHU14.14: num  0.0122 0.0125 0.0120 0.0120 0.0122 ...
> >  $ iPDT.AHU14.15: num  0.0121 0.0123 0.0119 0.0119 0.0121 ...
> >  $ iPDT.AHU14.16: num  0.00635 0.00657 0.00608 0.00608 0.00631 ...
> >  $ iPDT.AHU14.17: num  0.0300 0.0304 0.0302 0.0300 0.0303 ...
> >  $ iPDT.AHU15.15: num  0.0986 0.0984 0.0980 0.0979 0.0983 ...
> >  $ iPDT.AHU15.16: num  0.0510 0.0521 0.0502 0.0507 0.0513 ...
> >  $ iPDT.AHU15.17: num  0.0665 0.0692 0.0683 0.0686 0.0674 ...
> >  $ PDT.AHU16.15 : num  0.0741 0.0753 0.0760 0.0747 0.0738 ...
> >  $ PDT.AHU16.16A: num  0.00152 0.00235 0.00167 0.00191 0.00172 ...
> >  $ PDT.AHU16.16B: num  0.0556 0.0563 0.0570 0.0560 0.0558 ...
> >  $ PDT.AHU16.17 : num  0.00883 0.00937 0.00877 0.00869 0.00873 ...
> >  $ PDT.AHU16.18 : num  0.141 0.142 0.142 0.144 0.141 ...
> >  $ PDT.AHU16.19 : num  0.0120 0.0123 0.0117 0.0116 0.0119 ...
> >  $ PDT.AHU16.20A: num  8.55e-06 1.55e-05 0.00e+00 2.36e-07 1.92e-06 ...
> >  $ PDT.AHU16.20B: num  0.0532 0.0536 0.0534 0.0532 0.0535 ...
> > >
> >
> > Unfortunately, the data is in the reverse order based on the date TStamp. Is
> > there any fairly easy method for reordering this set of data byt the first
> > column, a PosiX Date?
>
> o <- sort(as.POSIXct(raw.data$TStamp))
       ^^^^  I meant order
> raw.data[o, ]
>
> or if you really just want to reverse the order
>
> raw.data[nrow(raw.data):1, ]
>
> >
> >
> > "Don't rush me, you rush a miracle, you get a rotten miracle."
> > -Miracle Max, The Princess Bride
> >
> >
> > Shawn Way
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Mon Nov 26 19:08:30 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 26 Nov 2001 14:08:30 -0400
Subject: [R] Are you experienced in SAS ...
References: <200111240109.JAA47354@salvia.maths.uwa.edu.au> <x27ksgbbky.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C02851E.20D16DBA@umsanet.edu.bo>



Peter Dalgaard BSA wrote:
> 
> Rolf Turner <rolf at maths.uwa.edu.au> writes:

> 
> Not the sort of thing to make Doug and Jose happy. They've probably
> heard these sentiments before, though.
> 
> But... There's an important difference between the two
> implementations, exactly in the area of strata. These are BTW really
> just "levels" in the sense of multilevel models (pupils within classes
> within schools within municipalities within countries, etc.) and their
> explicit specification makes some block-diagonal matrix optimizations
> possible. For largish data sets, you will find that SAS loses out
                                    --------------------------------
> efficiency-wise, because it doesn't do these optimizations.
     --------------

Only a related question. Anybody have experience with lme with large
data sets? Specifically, I have a data set with almost 60000
observations. 
Anybody used lme with something like this? And, what kind of computer
would be necessary? Thats relevant for me, for I amabout to buying a
neqw box.

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 26 19:47:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 26 Nov 2001 18:47:41 +0000 (GMT)
Subject: [R] Are you experienced in SAS ...
In-Reply-To: <3C02851E.20D16DBA@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0111261845330.4772-100000@gannet.stats>

On Mon, 26 Nov 2001, kjetil halvorsen wrote:

>
>
> Peter Dalgaard BSA wrote:
> >
> > Rolf Turner <rolf at maths.uwa.edu.au> writes:
>
> >
> > Not the sort of thing to make Doug and Jose happy. They've probably
> > heard these sentiments before, though.
> >
> > But... There's an important difference between the two
> > implementations, exactly in the area of strata. These are BTW really
> > just "levels" in the sense of multilevel models (pupils within classes
> > within schools within municipalities within countries, etc.) and their
> > explicit specification makes some block-diagonal matrix optimizations
> > possible. For largish data sets, you will find that SAS loses out
>                                     --------------------------------
> > efficiency-wise, because it doesn't do these optimizations.
>      --------------
>
> Only a related question. Anybody have experience with lme with large
> data sets? Specifically, I have a data set with almost 60000
> observations.
> Anybody used lme with something like this? And, what kind of computer
> would be necessary? Thats relevant for me, for I amabout to buying a
> neqw box.

Yes, I have but only with simple models in a machine with 1Gb RAM.
On the other hand, I would tend to analyse such large datasets in pieces:
they are not usually homogeneous.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Mon Nov 26 21:07:25 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 26 Nov 2001 14:07:25 -0600
Subject: [R] SQL implementations (was: Are you experienced in SAS and 
	 R ...)
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D63F@jupiter.sc.arbitrade.com>

On Fri, 23 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
>   Vadim> A related question. Prof. Ripley mentioned few times that one of
his
>   Vadim> approaches is to generate random samples from databases, which
are
>   Vadim> then analyzed in R (one doesn't need any sort of embedding for
>   Vadim> this). Are there other techniques?
>
> You might be overlooking the fact that random subsampling from timeseries
can
> severely distory the dynamic structure of the series.

This is yet another reason I don't see the advantage of databases over
multi-pass algorithms. If you read a time series as a stream you can easily
stratify it, like Prof. Ripley mentioned in his other posting, and convert
it into another STREAM that looks like a DATASET of possibly large number of
columns. You can then feed this stream, which takes const memory, into the
multi-pass algorithm to model the temporal structure.
I don't know how one can practically do it with a database (certainly not
using SQL).

I believe I am missing the point behind the use of databases for modelling
very large data sets and would be grateful for any insight.

Thanks, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shane.miller at capitalone.com  Mon Nov 26 21:48:20 2001
From: shane.miller at capitalone.com (Miller, Shane CONT)
Date: Mon, 26 Nov 2001 15:48:20 -0500
Subject: [R] how to you use plot to plot multiple time series in one final gra
	ph
Message-ID: <A54F5A0E18D3D411B4F30002A52CC4EA096F7CD3@kdcnt4mbx01.kdc.capitalone.com>

FOLKS-

(R: PLOTTING)

|
|
| =========================== A
|
|
|
|
| *************************** B
|
-----------------------------
DIAGRAM 1

in this contrived example there are two
series A,B plotted against time. (x axis
is time)

problem: if the range for A and B are
quite different R goes stupid and only
shows either A or B but not both (depending
on what plot command came last i think). 

how do you fix that? 

i played around with all sorts of things
on plot including this last stab:

plot.new()
A <- c(...)
B <- c(...)
plot(a,axes=FALSE,ann=FALSE)
plot(b,axes=FALSE,ann=FALSE)
# using code NOT shown here I figure out the
# min, maxes for the X axis and therefore
# determine the right at and lab arguments
# for axis
axis(1,at...) 
axis(2,at...) # ditto for Y

I can routinely get R to do a nice job with the
X axis with above code BUT not Y. in the axis(2...)
command the graphics line for the Y axis in the
plot window goes DOWN beneath the X axis even
though all Y lables are positive.

R is too smart to be this crazy? what is my pilot
error?

i hesitate to ask (and this is NOT my burning
question) but what would happen if A and B had
different units. can you make R plot A against the
left hand side Y axis and B against the right 
hand side axis with appropriately labled and ticked?

shane


 
**************************************************************************
The information transmitted herewith is sensitive information intended only
for use by the individual or entity to which it is addressed. If the reader
of this message is not the intended recipient, you are hereby notified that
any review, retransmission, dissemination, distribution, copying or other
use of, or taking of any action in reliance upon this information is
strictly prohibited. If you have received this communication in error,
please contact the sender and delete the material from your computer.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon Nov 26 22:36:12 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Tue, 27 Nov 2001 10:36:12 +1300
Subject: [R] how to you use plot to plot multiple time series in one final graph
References: <A54F5A0E18D3D411B4F30002A52CC4EA096F7CD3@kdcnt4mbx01.kdc.capitalone.com>
Message-ID: <018001c176c2$5eb46c20$7632d882@stat.auckland.ac.nz>

Hi


> |
> |
> | =========================== A
> |
> |
> |
> |
> | *************************** B
> |
> -----------------------------
> DIAGRAM 1
>
> in this contrived example there are two
> series A,B plotted against time. (x axis
> is time)
>
> problem: if the range for A and B are
> quite different R goes stupid and only
> shows either A or B but not both (depending
> on what plot command came last i think).
>
> how do you fix that?
>
> i played around with all sorts of things
> on plot including this last stab:
>
> plot.new()
> A <- c(...)
> B <- c(...)
> plot(a,axes=FALSE,ann=FALSE)
> plot(b,axes=FALSE,ann=FALSE)
> # using code NOT shown here I figure out the
> # min, maxes for the X axis and therefore
> # determine the right at and lab arguments
> # for axis
> axis(1,at...)
> axis(2,at...) # ditto for Y
>
> I can routinely get R to do a nice job with the
> X axis with above code BUT not Y. in the axis(2...)
> command the graphics line for the Y axis in the
> plot window goes DOWN beneath the X axis even
> though all Y lables are positive.
>
> R is too smart to be this crazy? what is my pilot
> error?


It *sounds* like you need xlim and ylim.  Does this silly example do the
sort of thing you want ... ?

    Ax <- sort(runif(100, 1, 200))
    Ay <- runif(100, 1, 200)
    Bx <- sort(runif(10, 1, 1000))
    By <- runif(10, 1, 1000)
    plot(Ax, Ay, xlim=range(Ax, Bx), ylim=range(Ay, By), type="l")
    lines(Bx, By, lty="dashed")


> i hesitate to ask (and this is NOT my burning
> question) but what would happen if A and B had
> different units. can you make R plot A against the
> left hand side Y axis and B against the right
> hand side axis with appropriately labled and ticked?


Yes;  horrible example that hopefully shows the idea ...

    plot(1:10)
    par(usr=c(par("usr")[1:2], 0, 1000))
    points(seq(1000, 1, length=10), pch=16)
    axis(4)

Hope that helps.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gardar at stat.ohio-state.edu  Mon Nov 26 23:21:56 2001
From: gardar at stat.ohio-state.edu (Gardar Johannesson)
Date: Mon, 26 Nov 2001 17:21:56 -0500 (EST)
Subject: [R] R not giving memory back to system?
Message-ID: <Pine.SOL.4.33.0111261650240.17227-100000@spatial.stat.ohio-state.edu>

This might be because I didn't get it right, but; I thought R would
release memory back to the system as (big) objects get removed?

Here is my platform (with 1Gb of RAM):

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

A little example:

Start a new section of R, with no objects:

> ls()
character(0)
> gc()
         used (Mb) gc trigger (Mb)
Ncells 187633  5.1     407500 10.9
Vcells  36061  0.3     786432  6.0
>

And the top commands shows:

   PID USERNAME THR PRI NICE  SIZE   RES STATE    TIME    CPU COMMAND
 18068 gardar     1  32    0   15M   12M sleep    0:02  0.01% R.bin

Creating few objects:

> x <- numeric(1e7)
> gc()
           used (Mb) gc trigger (Mb)
Ncells   187642  5.1     407500 10.9
Vcells 10036062 76.6   10394092 79.4
> a <- x
> gc()
           used  (Mb) gc trigger  (Mb)
Ncells   187644   5.1     407500  10.9
Vcells 20036061 152.9   20394103 155.6
> b <- x
> gc()
           used  (Mb) gc trigger  (Mb)
Ncells   187646   5.1     407500  10.9
Vcells 30036061 229.2   30394103 231.9
>

And at the end the top command shows:

  PID USERNAME THR PRI NICE  SIZE   RES STATE    TIME    CPU COMMAND
 18068 gardar     1  42    0  244M  241M sleep    0:08  3.47% R.bin

Now, starting removing the objects:

> rm(b)
> gc()
           used  (Mb) gc trigger  (Mb)
Ncells   187646   5.1     407500  10.9
Vcells 20036061 152.9   30394103 231.9
> rm(a)
> gc()
           used (Mb) gc trigger  (Mb)
Ncells   187652  5.1     407500  10.9
Vcells 10036073 76.6   30394103 231.9
> rm(x)
> gc()
         used (Mb) gc trigger  (Mb)
Ncells 187650  5.1     407500  10.9
Vcells  36073  0.3   24315282 185.6
>

But the top command shows:

   PID USERNAME THR PRI NICE  SIZE   RES STATE    TIME    CPU COMMAND
 18068 gardar     1  32    0  244M  241M sleep    0:09  0.17% R.bin

A size of 244Mb (241Mb in memory).

If I run gc() few times...

> gc()
         used (Mb) gc trigger  (Mb)
Ncells 187657  5.1     407500  10.9
Vcells  36086  0.3   19452225 148.5
> gc()
         used (Mb) gc trigger  (Mb)
Ncells 187657  5.1     407500  10.9
Vcells  36086  0.3   15561780 118.8
>

[RUNNING gc() FEW TIMES MORE]

> gc()
         used (Mb) gc trigger (Mb)
Ncells 187657  5.1     407500 10.9
Vcells  36086  0.3     786432  6.0
>


But the top command still shows:

   PID USERNAME THR PRI NICE  SIZE   RES STATE    TIME    CPU COMMAND
 18068 gardar     1  32    0  244M  241M sleep    0:14  0.02% R.bin


My question is; are gc() and unix top telling the same memory story?  If
not, which one is not getting it right?


Cheers,
Gardar

________________________________________________________
Gardar Johannesson
 Department of Statistics
Ohio State University
304E Cockins Hall, 1958 Neil Av.
Columbus, OH 43210
_________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Mon Nov 26 23:28:56 2001
From: sway at tanox.com (Shawn Way)
Date: Mon, 26 Nov 2001 16:28:56 -0600
Subject: [R] Possible Bug?
Message-ID: <0565F48FC373D411BE4D00B0D049602628E657@nt40hou1.tanox.com>

I have this problem with the POSIX functions

>version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              
> 
> dates <- c("11/20/2001","11/20/2001")
dates <- c("11/20/2001","11/20/2001")
> times <- c("12:00:00 AM","12:00:00 PM")
times <- c("12:00:00 AM","12:00:00 PM")
> x <- paste(dates,times)
x <- paste(dates,times)
> z1 <- strptime(x[1], "%m/%d/%Y %H:%M:%S %p")
z1 <- strptime(x[1], "%m/%d/%Y %H:%M:%S %p")
> z1
z1
[1] "2001-11-20 12:00:00"
> z2 <- strptime(x[2], "%m/%d/%Y %H:%M:%S %p")
z2 <- strptime(x[2], "%m/%d/%Y %H:%M:%S %p")
> z1 == z2
z1 == z2
[1] TRUE
> 

As you can see, this is a problem, I believe...



"Don't rush me, you rush a miracle, you get a rotten miracle." 
-Miracle Max, The Princess Bride


Shawn Way
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011126/18836e9b/attachment.html

From tlumley at u.washington.edu  Mon Nov 26 23:51:16 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 26 Nov 2001 14:51:16 -0800 (PST)
Subject: [R] R not giving memory back to system?
In-Reply-To: <Pine.SOL.4.33.0111261650240.17227-100000@spatial.stat.ohio-state.edu>
Message-ID: <Pine.A41.4.33.0111261447030.205318-100000@homer06.u.washington.edu>

On Mon, 26 Nov 2001, Gardar Johannesson wrote:

> This might be because I didn't get it right, but; I thought R would
> release memory back to the system as (big) objects get removed?
>

You can give it back, but you can't force the OS to take it. This is from
the comp.lang.c newsgroup's FAQ (http://www.eskimo.com/~scs/C-faq/top.html)
---
Question 7.25
I have a program which mallocs and later frees a lot of memory, but memory
usage (as reported by ps) doesn't seem to go back down.
A: Most implementations of malloc/free do not return freed memory to the
operating system (if there is one), but merely make it available for
future malloc calls within the same program.
----

On the other hand, if the space isn't being used by R it will be paged out
to virtual memory after a while, so it doesn't really matter whether it's
reclaimed (unless you are very short on virtual memory).


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Nov 27 00:14:40 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 26 Nov 2001 17:14:40 -0600
Subject: [R] Doing things with POSIXt
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D642@jupiter.sc.arbitrade.com>

Dear R-Users,

I have a data file with timestamps and I wanted to use POSIXct time data
type to represent the respective column. I played around with the type and
found a couple of issues:

* there seems to be no direct way of reading datetimes into a variable.
Let's say this is my file
"1992-02-27 23:03:20 PST"
"1992-02-27 22:29:56 PST"
"1992-01-14 01:03:30 PST"


-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Nov 27 00:54:14 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 26 Nov 2001 17:54:14 -0600
Subject: [R] Doing things with POSIXt
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D643@jupiter.sc.arbitrade.com>

Sorry, I sent an incomplete mail before, here is a complete one.

Dear R-Users,

I have a csv data file with timestamps and I wanted to use POSIXct time data
type to represent the respective column. I played around with the type and
found a couple of issues:

* there seems to be no direct way of reading datetimes into a variable.
Let's say this is my file, named t,
"1992-02-27 23:03:20 PST"
"1992-02-27 22:29:56 PST"
"1992-01-14 01:03:30 PST"

then
> scan("t", what=list(as.POSIXct("1992-01-14 01:03:30 PST")))
Error in scan("t", what = list(as.POSIXct("1992-01-14 01:03:30 PST"))) : 
	"scan" expected a real, got ""1992-02-27"

The only way to read datetimes I could come up with is to first read them as
characters and then convert using strptime. This is OK, but the way I tried
it looks cleaner to me.

* Suppose 'datetime' is a vector of POSIXct. I want to index all elements
that are after 1am. Apparently there is no easy way of doing this (for
example there is no access function daytime(POSIXt)), or hour(POSIXt), or
anything like this).
To write my own function I tried to follow this line:
datetime <- as.POSIXct("1992-01-14 01:03:30 PST")
midnight <- trunc.POSIXt(datetime, "days")
isAfter1am <- difftime(datetime, midnight, "hours") >= 1	# should
yield TRUE

This didn't work since difftime(datetime, midnight, "hours") returned 
'Time difference of 9.058333 hours'
which is wrong

If I call difftime without the "hours" argument, i.e. difftime(datetime,
midnight), then it works fine:
'Time difference of 1.058333 hours'
I could probably use this latter version, but I need to gain some confidence
and understand what's going on with difftime(datetime, midnight, "hours").

Any clue?

Thanks, Vadim

P.S. I run R on Red Hat 7.2
> R.Version()
$platform
[1] "i686-pc-linux-gnu"

$arch
[1] "i686"

$os
[1] "linux-gnu"

$system
[1] "i686, linux-gnu"

$status
[1] ""

$major
[1] "1"

$minor
[1] "3.1"

$year
[1] "2001"

$month
[1] "08"

$day
[1] "31"

$language
[1] "R"

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Nov 27 03:31:55 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 26 Nov 2001 20:31:55 -0600
Subject: [R] Doing things with POSIXt
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D643@jupiter.sc.arbitrade.com>
References: <AFD78192EC49D311BFAE00902798AB8F23D643@jupiter.sc.arbitrade.com>
Message-ID: <15362.64283.163868.671585@sonny.eddelbuettel.com>


  "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
  Vadim> * Suppose 'datetime' is a vector of POSIXct. I want to index all
  Vadim> elements that are after 1am. Apparently there is no easy way of
  Vadim> doing this (for example there is no access function
  Vadim> daytime(POSIXt)), or hour(POSIXt), or anything like this).  To write
  Vadim> my own function I tried to follow this line: datetime <-
  Vadim> as.POSIXct("1992-01-14 01:03:30 PST") midnight <-
  Vadim> trunc.POSIXt(datetime, "days") isAfter1am <- difftime(datetime,
  Vadim> midnight, "hours") >= 1 # should yield TRUE
  Vadim> 
  Vadim> This didn't work since difftime(datetime, midnight, "hours")
  Vadim> returned 'Time difference of 9.058333 hours' which is wrong

You need to convert it to numeric

> datetime <- as.POSIXct("1992-01-14 01:03:30 PST")
> midnight <- trunc.POSIXt(datetime, "days")
> difftime(datetime, midnight, "hours")
Time difference of 7.058333 hours
> as.numeric(difftime(datetime, midnight, "hours"))
[1] 7.058333
> as.numeric(difftime(datetime, midnight, "hours")) >= 1
[1] TRUE

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Nov 27 03:39:21 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 26 Nov 2001 20:39:21 -0600
Subject: [R] Doing things with POSIXt
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D644@jupiter.sc.arbitrade.com>

The catch is that the daytime of "1992-01-14 01:03:30 PST" is 1.058333 and
not 7.058333 as your system produces. On my system it is 9.058333 hours,
which makes me think it has something to do with time zones.

-----Original Message-----
From: Dirk Eddelbuettel [mailto:edd at debian.org]
Sent: Monday, November 26, 2001 6:32 PM
To: Vadim Ogranovich
Cc: 'r-help at stat.math.ethz.ch'
Subject: [R] Doing things with POSIXt



  "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
  Vadim> * Suppose 'datetime' is a vector of POSIXct. I want to index all
  Vadim> elements that are after 1am. Apparently there is no easy way of
  Vadim> doing this (for example there is no access function
  Vadim> daytime(POSIXt)), or hour(POSIXt), or anything like this).  To
write
  Vadim> my own function I tried to follow this line: datetime <-
  Vadim> as.POSIXct("1992-01-14 01:03:30 PST") midnight <-
  Vadim> trunc.POSIXt(datetime, "days") isAfter1am <- difftime(datetime,
  Vadim> midnight, "hours") >= 1 # should yield TRUE
  Vadim> 
  Vadim> This didn't work since difftime(datetime, midnight, "hours")
  Vadim> returned 'Time difference of 9.058333 hours' which is wrong

You need to convert it to numeric

> datetime <- as.POSIXct("1992-01-14 01:03:30 PST")
> midnight <- trunc.POSIXt(datetime, "days")
> difftime(datetime, midnight, "hours")
Time difference of 7.058333 hours
> as.numeric(difftime(datetime, midnight, "hours"))
[1] 7.058333
> as.numeric(difftime(datetime, midnight, "hours")) >= 1
[1] TRUE

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Nov 27 04:22:11 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 26 Nov 2001 21:22:11 -0600
Subject: [R] Doing things with POSIXt
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D644@jupiter.sc.arbitrade.com>
References: <AFD78192EC49D311BFAE00902798AB8F23D644@jupiter.sc.arbitrade.com>
Message-ID: <15363.1763.732985.928518@sonny.eddelbuettel.com>


  "Vadim" == Vadim Ogranovich <vograno at arbitrade.com> writes:
  Vadim>  The catch is that the daytime of "1992-01-14 01:03:30 PST" is
  Vadim> 1.058333 and not 7.058333 as your system produces. On my system it
  Vadim> is 9.058333 hours, which makes me think it has something to do with
  Vadim> time zones.

> datetime <- as.POSIXct("1992-01-14 01:03:30 PST", tz="PST")
> as.numeric(difftime(datetime, midnight, "hours"))
[1] 1.058333

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Tue Nov 27 06:14:08 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 27 Nov 2001 18:14:08 +1300 (NZDT)
Subject: [R] What name-value pairs can be used in gpar()?
Message-ID: <200111270514.fAR5E8p04661@biomat1.marc.hort.cri.nz>



To use grid graphics with lattice, the help for gpar indicates that
any number of named arguments can be specified but where do we find
what names make any sense?

I have ascertained that fontsize is given in points such as one
would use in a postscript device argument and uses that same name.
It's not as I'd have thought, something corresponding to cex in
regular par() settings.  Evidently there is a good reason for that,
but what I'd like to know is how do I set the font to italic?  And in
general, is there a listing of what possible names can be set by
gpar()?

Thanks for ideas on where to look in the docs.

best


-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Goran.Arnoldsson at stat.umu.se  Tue Nov 27 09:09:17 2001
From: Goran.Arnoldsson at stat.umu.se (=?ISO-8859-1?Q?G=F6ran?= Arnoldsson)
Date: Tue, 27 Nov 2001 09:09:17 +0100
Subject: [R] horsekicks
References: <5.1.0.14.0.20011124091843.02cadbc0@gvdnet.dk>
Message-ID: <3C034A2D.2060108@stat.umu.se>

A log-linear fit with offset and linear predictor that reflects the 
Poisson hypothesis does it:

 > glm(years~offset(log(sum(years))-lgamma(deaths+1))+deaths,family=poisson)

...

Coefficients:
(Intercept)       deaths 
    -0.6100      -0.4943 

Degrees of Freedom: 6 Total (i.e. Null);  5 Residual
Null Deviance:        36.23
Residual Deviance: 0.8668     AIC: 27.34

...

Note that the intercept estimates mu directly whereas the slope does 
this indirectly: exp(-0.4943) = 0.6099978.
More details can be found in J.K. Lindsey: "Applying Generalized Linear 
Models", Springer, 1997, ch. 3.

G?ran Arnoldsson
Deapartment of statistics
Ume? University
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 27 09:25:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 08:25:04 +0000 (GMT)
Subject: [R] R not giving memory back to system?
In-Reply-To: <Pine.SOL.4.33.0111261650240.17227-100000@spatial.stat.ohio-state.edu>
Message-ID: <Pine.LNX.4.31.0111270818060.5300-100000@gannet.stats>

On Mon, 26 Nov 2001, Gardar Johannesson wrote:

> This might be because I didn't get it right, but; I thought R would
> release memory back to the system as (big) objects get removed?
>
> Here is my platform (with 1Gb of RAM):
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R

[...]

> My question is; are gc() and unix top telling the same memory story?  If
> not, which one is not getting it right?

No, so both are right in different ways.

They are referring to very different things.  gc() to the maximum amount
of memory that R will use before garbage collection and the amount
currently in use.  top refers to the amount that the malloc system has
marked as in use.  In my experience on Solaris the latter very rarely goes
down, but it does get swapped out.  On my Linux system it goes down, but
not by as much as it went up.

R does release memory back to the malloc system: what happens thereafter
is very machine (and even compiler) dependent.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 27 10:23:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 09:23:05 +0000 (GMT)
Subject: [R] Possible Bug?
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E657@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0111270918080.5410-100000@gannet.stats>

The only bug is in your reading of the documentation!

     `%H' Hours as decimal number (00-23).

     `%I' Hours as decimal number (01-12).

So if you want to use an AM/PM indicator, you need

strptime(x, "%m/%d/%Y %I:%M:%S %p")
[1] "2001-11-20 00:00:00" "2001-11-20 12:00:00"

AM/PM indicators are ignored with %H.
(And in case anyone says that the help page should say so: none of the
underlying OS's man pages I checked does so, so I had to read the code to
find out.  You could have done so too.)


On Mon, 26 Nov 2001, Shawn Way wrote:

> I have this problem with the POSIX functions
>
> >version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
> >
> > dates <- c("11/20/2001","11/20/2001")
> dates <- c("11/20/2001","11/20/2001")
> > times <- c("12:00:00 AM","12:00:00 PM")
> times <- c("12:00:00 AM","12:00:00 PM")
> > x <- paste(dates,times)
> x <- paste(dates,times)
> > z1 <- strptime(x[1], "%m/%d/%Y %H:%M:%S %p")
> z1 <- strptime(x[1], "%m/%d/%Y %H:%M:%S %p")
> > z1
> z1
> [1] "2001-11-20 12:00:00"
> > z2 <- strptime(x[2], "%m/%d/%Y %H:%M:%S %p")
> z2 <- strptime(x[2], "%m/%d/%Y %H:%M:%S %p")
> > z1 == z2
> z1 == z2
> [1] TRUE
> >
>
> As you can see, this is a problem, I believe...
>
>
>
> "Don't rush me, you rush a miracle, you get a rotten miracle."
> -Miracle Max, The Princess Bride
>
>
> Shawn Way
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov 27 10:33:21 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 27 Nov 2001 09:33:21 +0000
Subject: [R] how to you use plot to plot multiple time series in one final gra ph
In-Reply-To: <A54F5A0E18D3D411B4F30002A52CC4EA096F7CD3@kdcnt4mbx01.kdc.capitalone.com>
References: <A54F5A0E18D3D411B4F30002A52CC4EA096F7CD3@kdcnt4mbx01.kdc.capitalone.com>
Message-ID: <d5N$GBAh31A8Ew4Q@myatt.demon.co.uk>

Miller, Shane CONT <shane.miller at capitalone.com> writes:
>FOLKS-
>
>(R: PLOTTING)
>
>|
>|
>| =========================== A
>|
>|
>|
>|
>| *************************** B
>|
>-----------------------------
>DIAGRAM 1
>
>in this contrived example there are two
>series A,B plotted against time. (x axis
>is time)
>
>problem: if the range for A and B are
>quite different R goes stupid and only
>shows either A or B but not both (depending
>on what plot command came last i think). 
>
>how do you fix that? 
>
>i played around with all sorts of things
>on plot including this last stab:
>
>plot.new()
>A <- c(...)
>B <- c(...)
>plot(a,axes=FALSE,ann=FALSE)
>plot(b,axes=FALSE,ann=FALSE)
># using code NOT shown here I figure out the
># min, maxes for the X axis and therefore
># determine the right at and lab arguments
># for axis
>axis(1,at...) 
>axis(2,at...) # ditto for Y
>
>I can routinely get R to do a nice job with the
>X axis with above code BUT not Y. in the axis(2...)
>command the graphics line for the Y axis in the
>plot window goes DOWN beneath the X axis even
>though all Y lables are positive.
>
>R is too smart to be this crazy? what is my pilot
>error?
>
>i hesitate to ask (and this is NOT my burning
>question) but what would happen if A and B had
>different units. can you make R plot A against the
>left hand side Y axis and B against the right 
>hand side axis with appropriately labled and ticked?
>

The trick is to wrap it up in a function that examines both data series
and sets the axis on the first plot to the combined range. Set ylim on
the first plot call to:

        ylim = c(min(y1, y2), max(y1, y2))

For two series you need to use the axis() function. I have some examples
of this in my tutorial at:

        http://www.myatt.demon.co.uk

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From berthold.kramm at epost.de  Tue Nov 27 14:32:27 2001
From: berthold.kramm at epost.de (Dr. Berthold Kramm)
Date: Tue, 27 Nov 2001 14:32:27 +0100
Subject: [R] accessing information in data.frame
Message-ID: <3C0395EB.4E95CDA6@epost.de>

After reading a data.frame using, such as a <- read.spss("data.sav")
I want to give the column index 'i', or a[i] to a function, which after
some calculation, should print out the results to the standard output.

I am struggling how to access the data itself, as e.g. sum(a[i]) does
not work in this context. In addition I need to know the name of the
variable within the function in order to generate a meaningful output,
and  have not found any way to obtain the name of the variable.

Thanks for your input,
Berthold


-------------- next part --------------
A non-text attachment was scrubbed...
Name: berthold.kramm.vcf
Type: text/x-vcard
Size: 214 bytes
Desc: Card for Dr. Berthold Kramm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20011127/318db43d/berthold.kramm.vcf

From ligges at statistik.uni-dortmund.de  Tue Nov 27 14:56:39 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 27 Nov 2001 14:56:39 +0100
Subject: [R] accessing information in data.frame
References: <3C0395EB.4E95CDA6@epost.de>
Message-ID: <3C039B97.2C39ABA3@statistik.uni-dortmund.de>

"Dr. Berthold Kramm" wrote:
> 
> After reading a data.frame using, such as a <- read.spss("data.sav")
> I want to give the column index 'i', or a[i] to a function, which after
> some calculation, should print out the results to the standard output.
> 
> I am struggling how to access the data itself, as e.g. sum(a[i]) 

 sum(a[,i])

> does
> not work in this context. In addition I need to know the name of the
> variable within the function in order to generate a meaningful output,
> and  have not found any way to obtain the name of the variable.

 deparse(substitute(x))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Tue Nov 27 14:57:47 2001
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Tue, 27 Nov 2001 14:57:47 +0100
Subject: [R] workweek calculation
Message-ID: <E540DF203FFED21182EB0008C728756006A1829F@deexmta4.amd.com>

Hello everybody,

I'm looking for a library or function to calculate a workweek from 
a given date, but I didn't found it. Could anybody help, please?
Thank you in advance!

Best regards,

Lutz Thieme


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 15:07:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 15:07:20 +0100
Subject: [R] accessing information in data.frame
In-Reply-To: <3C039B97.2C39ABA3@statistik.uni-dortmund.de>
References: <3C0395EB.4E95CDA6@epost.de>
	<3C039B97.2C39ABA3@statistik.uni-dortmund.de>
Message-ID: <x2u1vgi9yf.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> "Dr. Berthold Kramm" wrote:
> > 
> > After reading a data.frame using, such as a <- read.spss("data.sav")
> > I want to give the column index 'i', or a[i] to a function, which after
> > some calculation, should print out the results to the standard output.
> > 
> > I am struggling how to access the data itself, as e.g. sum(a[i]) 
> 
>  sum(a[,i])

Or sum(a[[i]]) or a$age ? Notice that read.spss() gives a list,
not a data frame so a[i,j]-indexing is not going to work without

a <- as.data.frame(read.spss("data.sav"))

Also notice the attach() function.

> 
> > does
> > not work in this context. In addition I need to know the name of the
> > variable within the function in order to generate a meaningful output,
> > and  have not found any way to obtain the name of the variable.
> 
>  deparse(substitute(x))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 27 15:26:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 14:26:54 +0000 (GMT)
Subject: [R] workweek calculation
In-Reply-To: <E540DF203FFED21182EB0008C728756006A1829F@deexmta4.amd.com>
Message-ID: <Pine.LNX.4.31.0111271419320.11576-100000@gannet.stats>

On Tue, 27 Nov 2001 lutz.thieme at amd.com wrote:

> Hello everybody,
>
> I'm looking for a library or function to calculate a workweek from
> a given date, but I didn't found it. Could anybody help, please?
> Thank you in advance!

x <- Sys.time()
y <- as.POSIXlt(x)
(y$yday - y$wday)%/%7

is at least one definition of the week of the year (starting on Sundays).
Modify to suit your needs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From charpent at bacbuc.dyndns.org  Tue Nov 27 15:28:41 2001
From: charpent at bacbuc.dyndns.org (Emmanuel Charpentier)
Date: Tue, 27 Nov 2001 15:28:41 +0100
Subject: [R] about the function order()
Message-ID: <3C03A319.5050702@bacbuc.dyndns.org>

According to Thomas Lumley :

 >In a sense it's doing the opposite of what you thought.

 >The definition of order() is basically that
 >   a[order(a)]
 >is in increasing order. This works with your example, where the correct
 >order is the fourth, second, first, then third element.

 >You may have been looking for rank(), which returns the rank of the
 >elements
/>R> a <- c(4.1, 3.2, 6.1, 3.1) /
/>R> order(a) /
 >[1] 4 2 1 3
/>R> rank(a) /
 >[1] 3 2 4 1
 >so rank() tells you what order the numbers are in, order() tells you how
 >to get them in ascending order.

Hmmm ... meaning that order behaves like the (gradeup) APL function, 
right ? (Yes, I'm *that* old ...).

That should imply that, barring possible ties, rank(x) == 
order(order(x)). Right ?

So : why distinc implementations ? Are there efficiency considerations 
I'm missing ?

Or am I completely mistaken ?


--
                    Emmanuel Charpentier
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 27 15:41:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 14:41:27 +0000 (GMT)
Subject: [R] about the function order()
In-Reply-To: <3C03A319.5050702@bacbuc.dyndns.org>
Message-ID: <Pine.LNX.4.31.0111271437300.11624-100000@gannet.stats>

On Tue, 27 Nov 2001, Emmanuel Charpentier wrote:

> According to Thomas Lumley :
>
>  >In a sense it's doing the opposite of what you thought.
>
>  >The definition of order() is basically that
>  >   a[order(a)]
>  >is in increasing order. This works with your example, where the correct
>  >order is the fourth, second, first, then third element.
>
>  >You may have been looking for rank(), which returns the rank of the
>  >elements
> />R> a <- c(4.1, 3.2, 6.1, 3.1) /
> />R> order(a) /
>  >[1] 4 2 1 3
> />R> rank(a) /
>  >[1] 3 2 4 1
>  >so rank() tells you what order the numbers are in, order() tells you how
>  >to get them in ascending order.
>
> Hmmm ... meaning that order behaves like the (gradeup) APL function,
> right ? (Yes, I'm *that* old ...).
>
> That should imply that, barring possible ties, rank(x) ==
> order(order(x)). Right ?
>
> So : why distinc implementations ? Are there efficiency considerations
> I'm missing ?

Well, ties, as you mentioned.  rank averages ties.

Also, porting S code needs both, as S has both.  We've even added
sort.list to facilitate that.  (sort.list in S is a lighter-weight version
of order for just one vector as used here.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Nov 27 15:49:25 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 27 Nov 2001 15:49:25 +0100
Subject: [R] about the function order()
In-Reply-To: <3C03A319.5050702@bacbuc.dyndns.org>
References: <3C03A319.5050702@bacbuc.dyndns.org>
Message-ID: <15363.42997.18688.53666@gargle.gargle.HOWL>

>>>>> "Emmanuel" == Emmanuel Charpentier <charpent at bacbuc.dyndns.org> writes:

    Emmanuel> According to Thomas Lumley :

    >> In a sense it's doing the opposite of what you thought.

    >> The definition of order() is basically that
    >> a[order(a)]
    >> is in increasing order. This works with your example, where the correct
    >> order is the fourth, second, first, then third element.

    >> You may have been looking for rank(), which returns the rank of the
    >> elements
    /R> a <- c(4.1, 3.2, 6.1, 3.1) /
    />R> order(a) /
    >> [1] 4 2 1 3
    />R> rank(a) /
    >> [1] 3 2 4 1
    >> so rank() tells you what order the numbers are in, order() tells you how
    >> to get them in ascending order.

    Emmanuel> Hmmm ... meaning that order behaves like the
    Emmanuel> (gradeup) APL function, right ? (Yes, I'm *that*
    Emmanuel> old ...).

    Emmanuel> That should imply that, barring possible ties,
    Emmanuel> rank(x) == order(order(x)). Right ?

    Emmanuel> So : why distinc implementations ? Are there
    Emmanuel> efficiency considerations I'm missing ?

    Emmanuel> Or am I completely mistaken ?

no, only partly:

1) order(order(x)) is only the same as rank() when there are no ties :

 > set.seed(101); x <- round(runif(20),3) ; any(duplicated(x))
 [1] FALSE
 > rank(x)
  [1] 15 16 13 11  7 18  8 19 20 14  6 17  9  2 12  5  4 10  1  3
 > all(rank(x) == order(order(x)))
 [1] TRUE
ie. they *are* the same

 > x <- c(3, 4,2,4,2,5,2,1,5)
 > cbind(x = x, rankx = rank(x), oox = order(order(x)))
       x rankx oox
  [1,] 3   5.0   5
  [2,] 4   6.5   6
  [3,] 2   3.0   2
  [4,] 4   6.5   7
  [5,] 2   3.0   3
  [6,] 5   8.5   8
  [7,] 2   3.0   4
  [8,] 1   1.0   1
  [9,] 5   8.5   9
 > 

 So you see that rank(x) is really the mean of the corresponding
 oo(x) whenever x values are tied.


2) I used to be an APL afficionado myself: My first `real' (;-)
   computer language in high-school time.
   Efficiency considerations are quite a bit an issue.
   Iverson's APL came from the partly wrong idea that all we need
   in computing is just a bit more general than what math has
   been doing all along.  Hence all these monadic and dyadic
   operators which *did* have a beauty, but also *did* lead to
   contorted programming...
   The idea that you only needed new things if they were not
   available by a few compositions of APL operators lead to lots
   of inefficiencies.
   If there was no R (S), maybe I'd still be using APL
   occasionally (I'm kidding); I once was proud about a fast one-liner
   prime-number function.... ;-)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Nov 27 15:48:03 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 27 Nov 2001 09:48:03 -0500
Subject: [R] accessing information in data.frame
In-Reply-To: <3C0395EB.4E95CDA6@epost.de>
References: <3C0395EB.4E95CDA6@epost.de>
Message-ID: <mh970u0a2k1g8im2p69e50bu9qjib5kdnm@4ax.com>

On Tue, 27 Nov 2001 14:32:27 +0100, you wrote in message
<3C0395EB.4E95CDA6 at epost.de>:

>After reading a data.frame using, such as a <- read.spss("data.sav")
>I want to give the column index 'i', or a[i] to a function, which after
>some calculation, should print out the results to the standard output.
>
>I am struggling how to access the data itself, as e.g. sum(a[i]) does
>not work in this context. In addition I need to know the name of the
>variable within the function in order to generate a meaningful output,
>and  have not found any way to obtain the name of the variable.

Data frames are lists that act a lot like matrices.  To get at column
i, use a[,i]  (i.e. all rows of column i, in matrix notation) or
a[[i]] (i.e. list element i).

If you use a[i] you get a data frame that consists only of column i,
which is probably not what you want to work with.  You want to extract
the column into a vector. 

I recommend always using the matrix notation when you want numerical
columns.  Only use list notation when you are extracting a named
column, i.e. use a$somecol rather than a[,'somecol'].

To get the name of column i, use names(a)[i].

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajm6q at virginia.edu  Tue Nov 27 16:10:16 2001
From: ajm6q at virginia.edu (Aaron J Mackey)
Date: Tue, 27 Nov 2001 10:10:16 -0500 (EST)
Subject: [R] inclusion criteria help
Message-ID: <Pine.OSF.4.33.0111270947300.1954-100000@alpha10.bioch.virginia.edu>


I have a dataset that looks like this (many other variables not
shown. including a unique row identifier "id"):

> summary(hits)
    query               lib               coverage         percid
 Length:80664       Length:80664       Min.   :0.080   Min.   :0.2250
 Mode  :character   Mode  :character   1st Qu.:0.980   1st Qu.:0.8160
                                       Median :1.000   Median :0.9230
                                       Mean   :0.946   Mean   :0.8536
                                       3rd Qu.:1.000   3rd Qu.:0.9900
                                       Max.   :1.000   Max.   :1.0000

For any query/lib combination there may be 1 or more rows of data. I'd
like to be able to specify only the rows for each query/lib combination
that have the maximum (or minimum or whatever) coverage or percid or some
other data element, and carry along the other corresponding data elements
from that same row.

I know I can do this procedurally in a loop:

query <- c('')
lib <- c('')
coverage <- c(0)
percid <- c(0)

for(q in unique(hits$query)) {
  for(l in unique(hits$lib[hits$query == q])) {
    query <- c(query, q)
    lib <- c(lib, l)
    max.coverage <- 0
    for(id in hits$id[hits$query == q & hits$lib == l]) {
      if(hits$coverage[hits$id == id] > max.coverage) {
        max.coverage.id <- id
        max.coverage <- hits$coverage[hits$id == id]
      }
    }
    coverage <- c(coverage, hits$coverage[hits$id == max.coverage.id])
    percid <- c(percid, hits$percid[hits$id == max.coverage.id])
  }
}

filtered.hits <- data.frame(query=query[2:length(query)],
                            lib=lib[2:length(lib)],
                            coverage=coverage[2:length(coverage)],
                            percid=percid[2:length(percid)]
                           )

# finally get to do something with it now:
plot(filtered.hits$coverage[filtered.hits$query == 'ABC'],
     filtered.hits$percid[filtered.hits$query == 'ABC']
    )


So, how could I accomplish the same plot as above without the looping and
creating a new dataframe?

Thanks,

-Aaron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From charpent at bacbuc.dyndns.org  Tue Nov 27 16:11:47 2001
From: charpent at bacbuc.dyndns.org (Emmanuel Charpentier)
Date: Tue, 27 Nov 2001 16:11:47 +0100
Subject: [R] R/S and large datasets - Database access (also Re: SAS and S/R)
Message-ID: <3C03AD33.1050507@bacbuc.dyndns.org>

A consensus seems to emerge : R would excel to exploratory work on 
small/middle-sized datasets, while SAS would be able to munch much 
larger datasets.

However, I see the "size" problem as a red herring. The objects that 
have to stay "in core" are usually much smaller than the dataset. For 
example, for problems involving fixed-effects linear models, you need 
only some matrices whose size is proportional to the square of the 
number of *variables* and the (admittedly large) vector of residues 
(whose size is equl to the number of observations). Other cases 
(nonlinear mixed effects models come to mind) are not as easily tamed 
(any iterative process (shuch as ML estimation) has to get back  to 
original data), but at least, the time penalty involved in the use of 
such an interface pays back by allowing you to treat problems otherwise 
untractable.

I am aware of at least one database access package that allows to access 
data without dragging a whole table in memory : the RPgSql package 
offers what it calls a "proxy variable", which is an objet that behaves, 
for all practical purposes, as a dataframe, but is an interface to 
database tables. I see this kind of interface as a way to avoid 
overloading core memory with data scarcely used.

Unfortunately, the said package is now officially orphaned by its 
developper, which states that he now focuses on the next database access 
standard : the Rdbi interface, which is currently under development, and 
which I don't know a thing about.

So the question is : do the Rdbi interface offers such a proxy to data 
still residing in databases ?

Or am I barking up the wrong tree and trying to (re-)invent an 
oversophisticated virtual memory manager ?  SShould the use of a 
suficiently large swapfile be enough for these "large dataset" problems ?

--
                                        Emmanuel Charpentier


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Nov 27 17:24:20 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 27 Nov 2001 08:24:20 -0800 (PST)
Subject: [R] inclusion criteria help
In-Reply-To: <Pine.OSF.4.33.0111270947300.1954-100000@alpha10.bioch.virginia.edu>
Message-ID: <Pine.A41.4.33.0111270811200.19788-100000@homer40.u.washington.edu>

On Tue, 27 Nov 2001, Aaron J Mackey wrote:

>
> I have a dataset that looks like this (many other variables not
> shown. including a unique row identifier "id"):
>
> > summary(hits)
>     query               lib               coverage         percid
>  Length:80664       Length:80664       Min.   :0.080   Min.   :0.2250
>  Mode  :character   Mode  :character   1st Qu.:0.980   1st Qu.:0.8160
>                                        Median :1.000   Median :0.9230
>                                        Mean   :0.946   Mean   :0.8536
>                                        3rd Qu.:1.000   3rd Qu.:0.9900
>                                        Max.   :1.000   Max.   :1.0000
>
> For any query/lib combination there may be 1 or more rows of data. I'd
> like to be able to specify only the rows for each query/lib combination
> that have the maximum (or minimum or whatever) coverage or percid or some
> other data element, and carry along the other corresponding data elements
> from that same row.
>
> I know I can do this procedurally in a loop:
>
<snip: he does it>
>
> So, how could I accomplish the same plot as above without the looping and
> creating a new dataframe?

Well, for one query you can do the subsetting like

	hits[hits$coverage == max(hits$coverage),]

so for many queries you could tapply() or by() this process

  filter<-function(this.subset){
	this.subset[this.subset$coverage==max(this.subset$coverage),]
	}
  filtered<-by(hits, hits$query,filter)

This produces a list of dataframes, so you want to staple them back
together
  filtered<-do.call("rbind",filtered)

In the case of maximum or minimum it would be faster to use the
which.max/which.min functions instead of the expression
    hits$coverage == max(hits$coverage)

This may or may not be faster than the loop, but it should be easier to
read (at least if you understand by()).


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajm6q at virginia.edu  Tue Nov 27 18:02:16 2001
From: ajm6q at virginia.edu (Aaron J Mackey)
Date: Tue, 27 Nov 2001 12:02:16 -0500 (EST)
Subject: [R] inclusion criteria help
In-Reply-To: <Pine.A41.4.33.0111270811200.19788-100000@homer40.u.washington.edu>
Message-ID: <Pine.OSF.4.33.0111271147490.4432-100000@alpha10.bioch.virginia.edu>


On Tue, 27 Nov 2001, Thomas Lumley wrote:

> so for many queries you could tapply() or by() this process
>
>   filter<-function(this.subset){
> 	this.subset[this.subset$coverage==max(this.subset$coverage),]
> 	}
>   filtered<-by(hits, hits$query,filter)

Thank you, this was the bit of R programming style that I hadn't yet
learned.  A small followup question regarding the "selection" filter: what
if there are ties in (maximal) coverage that need to be broken by
additional logic ?

so that:

filter <- function(subset) { subset[which.max(subset$coverage),] }

becomes:

sort.func <- function(subsect) {
  # sort by max(coverage), break ties with additional logic ??
}
filter <- function(subset) { subset[sort.func(subset),] }

Thanks again,

-Aaron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Nov 27 18:10:11 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 27 Nov 2001 09:10:11 -0800 (PST)
Subject: [R] inclusion criteria help
In-Reply-To: <Pine.OSF.4.33.0111271147490.4432-100000@alpha10.bioch.virginia.edu>
Message-ID: <Pine.A41.4.33.0111270905020.19788-100000@homer40.u.washington.edu>

On Tue, 27 Nov 2001, Aaron J Mackey wrote:

>
> On Tue, 27 Nov 2001, Thomas Lumley wrote:
>
> > so for many queries you could tapply() or by() this process
> >
> >   filter<-function(this.subset){
> > 	this.subset[this.subset$coverage==max(this.subset$coverage),]
> > 	}
> >   filtered<-by(hits, hits$query,filter)
>
> Thank you, this was the bit of R programming style that I hadn't yet
> learned.  A small followup question regarding the "selection" filter: what
> if there are ties in (maximal) coverage that need to be broken by
> additional logic ?
>
> so that:
>
> filter <- function(subset) { subset[which.max(subset$coverage),] }
>
> becomes:
>
> sort.func <- function(subsect) {
>   # sort by max(coverage), break ties with additional logic ??
> }
> filter <- function(subset) { subset[sort.func(subset),] }
>

Actually, which.max already does break ties -- it finds the first maximum.

If you weren't using which.max you could just return the first best row
with
   filter<-function(this.subset){
      this.subset[this.subset$coverage==max(this.subset$coverage),,drop=FALSE]
      this.subset[1,]
     }
or
  filter<-function(this.subset){
      best<-which(this.subset$coverage==max(this.subset$coverage))[1]
      this.subset[best,]
  }


The drop=FALSE in the first example is needed to make sure that the subset
is still a dataframe whether it has one row or more than one row, allowing
matrix-like indexing in the next line.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajm6q at virginia.edu  Tue Nov 27 18:38:00 2001
From: ajm6q at virginia.edu (Aaron J Mackey)
Date: Tue, 27 Nov 2001 12:38:00 -0500 (EST)
Subject: [R] inclusion criteria help
In-Reply-To: <Pine.A41.4.33.0111270905020.19788-100000@homer40.u.washington.edu>
Message-ID: <Pine.OSF.4.33.0111271231110.4432-100000@alpha10.bioch.virginia.edu>


On Tue, 27 Nov 2001, Thomas Lumley wrote:

> Actually, which.max already does break ties -- it finds the first maximum.

Sorry, what I meant was: if there are ties, I want to apply additional
logic to decide which is the right row to return (i.e. I may not want the
first row that has the maximum coverage).  I may want to break ties by
finding the row with the minimal "percid" or some other calculated value.

I think it might end up looking something like this:

filter <- function(this.subset) {
   best <- which(this.subset$coverage == max(this.subset$coverage))
   best <- which(this.subset$percid[best] == min(this.subset$percid[best]))
   # any additional logic to narrow down best to the absolute best row index

   # now return the first best row:
   this.subset[best[1], , drop=FALSE]
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Nov 27 18:40:15 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 27 Nov 2001 12:40:15 -0500 (EST)
Subject: [R] printing captions in multiple panes
Message-ID: <Pine.SOL.4.33.0111271231420.24890-100000@julius.ling.ohio-state.edu>


Dear List,

I would like to add captions to a set of graphics. The graphs are each
composed of two scatter plots in an upper and lower pane.

I'd like to add a caption below the lower pane. The troubel I'm hitting is
that in order to fit the caption using mtext, I must increase the margins
for both panes-- these shrinks my plots considerably and leaves a big
blank area.

The second trouble I'm having is to get the mtext to appear at the left
margin.

I see that ?mtext refers to the possibility of placing the text in the
outer margin. What is this?

the look I want is:

-----------------
|               |
|               |
_________________
      xlab
_________________
|               |
|               |
_________________
      xlab
Fig. ***

Thanks,

David


S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 18:56:47 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 18:56:47 +0100
Subject: [R] printing captions in multiple panes
In-Reply-To: <Pine.SOL.4.33.0111271231420.24890-100000@julius.ling.ohio-state.edu>
References: <Pine.SOL.4.33.0111271231420.24890-100000@julius.ling.ohio-state.edu>
Message-ID: <x2lmgshzc0.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Dear List,
> 
> I would like to add captions to a set of graphics. The graphs are each
> composed of two scatter plots in an upper and lower pane.
> 
> I'd like to add a caption below the lower pane. The troubel I'm hitting is
> that in order to fit the caption using mtext, I must increase the margins
> for both panes-- these shrinks my plots considerably and leaves a big
> blank area.
> 
> The second trouble I'm having is to get the mtext to appear at the left
> margin.
> 
> I see that ?mtext refers to the possibility of placing the text in the
> outer margin. What is this?
> 
> the look I want is:
> 
> -----------------
> |               |
> |               |
> _________________
>       xlab
> _________________
> |               |
> |               |
> _________________
>       xlab
> Fig. ***

I think you want to take a look at "An introduction to R", page 76 in
particular. It is usually installed along with R itself, otherwise
take a look at

http://cran.r-project.org/doc/manuals/R-intro.pdf

(Requires Acrobat reader or similar software. The introduction is also
there in HTML format, but without pictures, and the one on p.76 is
fairly crucial to your issue.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue Nov 27 19:05:34 2001
From: dj at research.bell-labs.com (David James)
Date: Tue, 27 Nov 2001 13:05:34 -0500
Subject: [R] R/S and large datasets - Database access (also Re: SAS and S/R)
In-Reply-To: <3C03AD33.1050507@bacbuc.dyndns.org>; from charpent@bacbuc.dyndns.org on Tue, Nov 27, 2001 at 04:11:47PM +0100
References: <3C03AD33.1050507@bacbuc.dyndns.org>
Message-ID: <20011127130534.A10043@jessie.research.bell-labs.com>

The Rdbi (or perhaps simply DBI, for database interface, since it is
meant to include both R and Splus) is a simple interface to any database
management system or DBMS (so far only *relational* databases have been
considered) very similar in spirit to Java's Database Connectivity (JDBC),
Perl's Database Independent (DBI), Python's Database API.  It deals
primarily with a common set of function to interface R and Splus to
databases (PostgreSQL, Oracle, Access, MySQL, mSQL, etc.)  But we should
think of this DBI only as a first step, or the infrastructure on which
we can build more sophisticated tools.  The proxy table/variable is a
good example of such a tool.  But if it's good for PostgreSQL tables,
why not for Microsoft SQL tables? Or MySQL tables?  By having a common
interface, we hope to be able to build this sort of advanced tools
independent of the underlying DBMS.

Other applications may include the ability to attach() any database
to the search() path (together with the idea of proxy objects,
it could be helpful in some cases);  also, the possibility to do
"database apply" where we apply R functions to chunks on remote
tables.  (Roger Koenker and his colleague have an LM example, see
http://www.econ.uiuc.edu/~roger/research/rq/LM.html).  There has also
been some interest of approximating quantiles, applying GLM's, etc., to
very large datasets, but techniques like these will most likely require
new algorithms to work sequentially.

And of course, some also have pointed out (Brian Ripley, among others)
that sampling has been used quite successfully before by statisticians:-)
and thus could be quite useful in some of these cases.  I'm not aware
of any tools available yet to do this on remote DBMSes, but one would
hope that if such a tool were to be developed, it would be done on top
of the DBI so that it could be used with any DBMS.

Obviously, there's a lot to be done...

Regards,

Emmanuel Charpentier wrote:
> A consensus seems to emerge : R would excel to exploratory work on 
> small/middle-sized datasets, while SAS would be able to munch much 
> larger datasets.
> 
> However, I see the "size" problem as a red herring. The objects that 
> have to stay "in core" are usually much smaller than the dataset. For 
> example, for problems involving fixed-effects linear models, you need 
> only some matrices whose size is proportional to the square of the 
> number of *variables* and the (admittedly large) vector of residues 
> (whose size is equl to the number of observations). Other cases 
> (nonlinear mixed effects models come to mind) are not as easily tamed 
> (any iterative process (shuch as ML estimation) has to get back  to 
> original data), but at least, the time penalty involved in the use of 
> such an interface pays back by allowing you to treat problems otherwise 
> untractable.
> 
> I am aware of at least one database access package that allows to access 
> data without dragging a whole table in memory : the RPgSql package 
> offers what it calls a "proxy variable", which is an objet that behaves, 
> for all practical purposes, as a dataframe, but is an interface to 
> database tables. I see this kind of interface as a way to avoid 
> overloading core memory with data scarcely used.
> 
> Unfortunately, the said package is now officially orphaned by its 
> developper, which states that he now focuses on the next database access 
> standard : the Rdbi interface, which is currently under development, and 
> which I don't know a thing about.
> 
> So the question is : do the Rdbi interface offers such a proxy to data 
> still residing in databases ?
> 
> Or am I barking up the wrong tree and trying to (re-)invent an 
> oversophisticated virtual memory manager ?  SShould the use of a 
> suficiently large swapfile be enough for these "large dataset" problems ?
> 
> --
>                                         Emmanuel Charpentier
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Tue Nov 27 19:06:40 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Tue, 27 Nov 2001 19:06:40 +0100
Subject: [R] plot and subsets
References: <3C03A319.5050702@bacbuc.dyndns.org> <15363.42997.18688.53666@gargle.gargle.HOWL>
Message-ID: <3C03D630.A443EFF1@univie.ac.at>

when i need to plot the same variables
(size and weight e.g.)
for different groups (male and female)
in one scatterplot,
i seem have to use plot() for the first group and
points() for the second group.

is there a plotting function somewhere which would use a factor variable
automatically to represent the different groups
by different symbols and/or colors.

i know it is not too difficult
to write such a function for oneself,
the question is if this should be part of a standard toolkit already.

or am i just plainly overlooking something which is already there.


by(data,factor,plot)

could be a "role model".
and this seems not to work.


 

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Nov 27 19:17:12 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 27 Nov 2001 19:17:12 +0100
Subject: [R] plot and subsets
In-Reply-To: <3C03D630.A443EFF1@univie.ac.at>
References: <3C03D630.A443EFF1@univie.ac.at>
Message-ID: <15363.55464.548609.504795@gargle.gargle.HOWL>

>>>>> "Erich" == Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:

    Erich> when i need to plot the same variables (size and
    Erich> weight e.g.)  for different groups (male and female)
    Erich> in one scatterplot, i seem have to use plot() for the
    Erich> first group and points() for the second group.

    Erich> is there a plotting function somewhere which would
    Erich> use a factor variable automatically to represent the
    Erich> different groups by different symbols and/or colors.

    Erich> i know it is not too difficult to write such a
    Erich> function for oneself, the question is if this should
    Erich> be part of a standard toolkit already.

    Erich> or am i just plainly overlooking something which is
    Erich> already there.
yes, indeed you are :
plot() itself

    Erich> by(data,factor,plot)

    Erich> could be a "role model".  and this seems not to work.

Something like

  plot( <data>,  pch = as.integer(factor),
		 col = as.integer(factor))


 {which I think does not work in S-plus}

BTW:
  Please do not "reply" to an R-help message when you want to
  post something new to the list.  Those of us who use smart
  mail readers with `threading' are out-smarted by that.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 27 19:26:23 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 27 Nov 2001 13:26:23 -0500 (EST)
Subject: [R] plot and subsets
In-Reply-To: <3C03D630.A443EFF1@univie.ac.at>
Message-ID: <Pine.LNX.4.30.0111271323440.11636-100000@bolker.zoo.ufl.edu>



 e.g.: to plot with colors 1 and 2 (easiest) and plotting characters 1 and
16:

x <- runif(10)
y <- runif(10)
z <- factor(sample(1:2,size=10,replace=TRUE))
plot(x,y,col=as.numeric(z),pch=c(1,16)[as.numeric(z)])



On Tue, 27 Nov 2001, Erich Neuwirth wrote:

> when i need to plot the same variables
> (size and weight e.g.)
> for different groups (male and female)
> in one scatterplot,
> i seem have to use plot() for the first group and
> points() for the second group.
>
> is there a plotting function somewhere which would use a factor variable
> automatically to represent the different groups
> by different symbols and/or colors.
>
> i know it is not too difficult
> to write such a function for oneself,
> the question is if this should be part of a standard toolkit already.
>
> or am i just plainly overlooking something which is already there.
>
>
> by(data,factor,plot)
>
> could be a "role model".
> and this seems not to work.
>
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From charpent at bacbuc.dyndns.org  Tue Nov 27 19:28:06 2001
From: charpent at bacbuc.dyndns.org (Emmanuel Charpentier)
Date: Tue, 27 Nov 2001 19:28:06 +0100
Subject: [R] R/S and large datasets - Database access (also Re: SAS and S/R)
References: <3C03AD33.1050507@bacbuc.dyndns.org> <20011127130534.A10043@jessie.research.bell-labs.com>
Message-ID: <3C03DB36.8000903@bacbuc.dyndns.org>

David James wrote:

>The Rdbi (or perhaps simply DBI, for database interface, since it is
>meant to include both R and Splus) is a simple interface to any database
>management system or DBMS (so far only *relational* databases have been
>considered) very similar in spirit to Java's Database Connectivity (JDBC),
>Perl's Database Independent (DBI), Python's Database API.  It deals
>primarily with a common set of function to interface R and Splus to
>databases (PostgreSQL, Oracle, Access, MySQL, mSQL, etc.)  But we should
>think of this DBI only as a first step, or the infrastructure on which
>we can build more sophisticated tools.  The proxy table/variable is a
>good example of such a tool.  But if it's good for PostgreSQL tables,
>why not for Microsoft SQL tables? Or MySQL tables?  By having a common
>interface, we hope to be able to build this sort of advanced tools
>independent of the underlying DBMS.
>
That should make ODBC your first target ... More than half the work is 
already done by this interface.

>
>Other applications may include the ability to attach() any database
>to the search() path (together with the idea of proxy objects,
>it could be helpful in some cases);  also, the possibility to do
>"database apply" where we apply R functions to chunks on remote
>tables.  (Roger Koenker and his colleague have an LM example, see
>http://www.econ.uiuc.edu/~roger/research/rq/LM.html).  There has also
>been some interest of approximating quantiles, applying GLM's, etc., to
>very large datasets, but techniques like these will most likely require
>new algorithms to work sequentially.
>
That's something that seems to have been already on the mind of 
developpers of a large part of R. As far as I can tell, at least ...

>
>
>And of course, some also have pointed out (Brian Ripley, among others)
>that sampling has been used quite successfully before by statisticians:-)
>and thus could be quite useful in some of these cases.
>
That, IMHO, is aimed to a totally different set of problems. The 
sampling of a part of a ataset to elaborate a model to validate on the 
rest of the dataset is not specifc to very large datasets.

>  I'm not aware
>of any tools available yet to do this on remote DBMSes, but one would
>hope that if such a tool were to be developed, it would be done on top
>of the DBI so that it could be used with any DBMS.
>
The easiest way is to select the subset through SQL queries,  maybe 
creating  a small auxilliary table recording the subsetting for 
reference purposes. This does not require much tools, just a working 
knowledge of SQL and of the database structure. On large sites, with 
DBAs, the latter isn't even necessary : just request from them a view 
suiting your needs and the ability to create your subset index tables...

--
                                        Emmanuel Charpentier


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MChow at genelogic.com  Tue Nov 27 19:01:52 2001
From: MChow at genelogic.com (MChow@genelogic.com)
Date: Tue, 27 Nov 2001 12:01:52 -0600
Subject: [R] Is there someone working on an R interface for Numerical Recipes?
Message-ID: <OFE896D3DB.F81EC578-ON88256B11.0062D96C@genelogic.com>

Or can I easily call the routines in Numerical Recipes from within R?
Thanks.

Ming Chow



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Nov 27 19:40:32 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 27 Nov 2001 13:40:32 -0500
Subject: [R] R/S and large datasets - Database access (also Re: SAS and S/R)
In-Reply-To: <20011127130534.A10043@jessie.research.bell-labs.com>; from dj@research.bell-labs.com on Tue, Nov 27, 2001 at 01:05:34PM -0500
References: <3C03AD33.1050507@bacbuc.dyndns.org> <20011127130534.A10043@jessie.research.bell-labs.com>
Message-ID: <20011127134032.B23979@jessie.research.bell-labs.com>

David James wrote:
> Other applications may include the ability to attach() any database
> to the search() path (together with the idea of proxy objects,
> it could be helpful in some cases);  

I hope to complete the testing of and commit the code that allows one
to attach arbitrary tables of name-value pairs that can be implemented
by either C or S in the next few days and in time for R 1.4.0. This
will allow one to treat external data as regular R variables and to
define different mechanisms for dealing with operations on those
variables. This is essentially a generalized proxy object setup that
can handle values from not only RDBMS tables, but also other processes
and languages (e.g. CORBA, Java, Perl, Python) and other formats such
as tar, zip, XML archives and so on.  We have used this to good effect
in both S4 and Omegahat.

I just thought I'd mention that this will be available for R in the near
future.

 D.

> -- 
> David A. James
> Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
> Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
> Murray Hill, NJ 09794-0636
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Nov 27 19:54:59 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 27 Nov 2001 10:54:59 -0800
Subject: [R] overlaying qqnorm plots...
Message-ID: <002901c17775$03cd9c10$01000001@godzilla>

I know this topic has had plenty of discussion in the last couple of days,
but....

I've been trying to compare the effects of different fitted methods for
systems of equations (OLS, SUR, 2SLS, 3SLS ) and would like to compare the
residual plots (easy) and the qqnorm/qqplot of the fits for the different
fitted methdos. For example,

qqnorm( residuals( lm( q ~ p + f + a ) ) )
par( new = TRUE )
qqnorm( residuals( tsls( q ~ p + d, ~ d + f + a ) ) )

The resulting plot contains the two qqnorm plots, and the x axis stays the
same. The y axis ("Sample Quantiles") scales for the different plots. I
would to fix the y axis (fix the quantiles values?) and plot the different
plots in different colors. Is that possible?

Thanks,
Jeff.

Jeff D. Hamann
Hamann, Donald and Associates
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 19:59:09 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 19:59:09 +0100
Subject: [R] Is there someone working on an R interface for Numerical Recipes?
In-Reply-To: <OFE896D3DB.F81EC578-ON88256B11.0062D96C@genelogic.com>
References: <OFE896D3DB.F81EC578-ON88256B11.0062D96C@genelogic.com>
Message-ID: <x2herghwg2.fsf@blueberry.kubism.ku.dk>

MChow at genelogic.com writes:

> Or can I easily call the routines in Numerical Recipes from within R?
> Thanks.

Methods for interfacing to general C or Fortran code are outlined in
the "R Extensions" manual.

You should however beware that the licenses on R and NR are in
conflict, and that you might get into difficulties in distributing
your code. I don't think there's much material in NR that isn't
already covered by other routines in R.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 20:10:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 20:10:13 +0100
Subject: [R] overlaying qqnorm plots...
In-Reply-To: <002901c17775$03cd9c10$01000001@godzilla>
References: <002901c17775$03cd9c10$01000001@godzilla>
Message-ID: <x2d724hvxm.fsf@blueberry.kubism.ku.dk>

"Jeff D. Hamann" <jeff_hamann at hamanndonald.com> writes:

> The resulting plot contains the two qqnorm plots, and the x axis stays the
> same. The y axis ("Sample Quantiles") scales for the different plots. I
> would to fix the y axis (fix the quantiles values?) and plot the different
> plots in different colors. Is that possible?

Something along these lines:

q1 <- qqnorm( residuals( lm( q ~ p + f + a ) ), plot.it=F )
q2 <- qqnorm( residuals( tsls( q ~ p + d, ~ d + f + a ) ), plot.it=F  )

yl <- range(q1$y,q2$y)
qqnorm( residuals( lm( q ~ p + f + a ) ), ylim=yl)
points(q2, col="red")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Tue Nov 27 20:40:55 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 28 Nov 2001 08:40:55 +1300
Subject: [R] overlaying qqnorm plots...
References: <002901c17775$03cd9c10$01000001@godzilla>
Message-ID: <005601c1777b$6e00bf30$7632d882@stat.auckland.ac.nz>

Hi


> I know this topic has had plenty of discussion in the last couple of days,
> but....
>
> I've been trying to compare the effects of different fitted methods for
> systems of equations (OLS, SUR, 2SLS, 3SLS ) and would like to compare the
> residual plots (easy) and the qqnorm/qqplot of the fits for the different
> fitted methdos. For example,
>
> qqnorm( residuals( lm( q ~ p + f + a ) ) )
> par( new = TRUE )
> qqnorm( residuals( tsls( q ~ p + d, ~ d + f + a ) ) )
>
> The resulting plot contains the two qqnorm plots, and the x axis stays the
> same. The y axis ("Sample Quantiles") scales for the different plots. I
> would to fix the y axis (fix the quantiles values?) and plot the different
> plots in different colors. Is that possible?


Yep, ylim can be specified as usual ...

    y1 <- rnorm(100)
    y2 <- rexp(100)
    qqnorm(y1, ylim=range(y1, y2), col="blue")
    par(new=T)
    qqnorm(y2, ylim=range(y1, y2), col="red")

... NOTE that this does a lot of unnecessary drawing;  an alternative is to
get qqnorm to just tell you what x- and y-values it would plot and then use
points() to add the new points rather than draw a whole new plot ...

    y1 <- rnorm(100)
    y2 <- rexp(100)
    qqnorm(y1, ylim=range(y1, y2), col="blue")
    secondpts <- qqnorm(y2, plot.it=FALSE)
    points(secondpts, col="red")

Hope that helps.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Nov 27 20:24:45 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 27 Nov 2001 11:24:45 -0800 (PST)
Subject: [R] inclusion criteria help
In-Reply-To: <Pine.OSF.4.33.0111271231110.4432-100000@alpha10.bioch.virginia.edu>
Message-ID: <Pine.A41.4.33.0111271123510.19788-100000@homer40.u.washington.edu>

On Tue, 27 Nov 2001, Aaron J Mackey wrote:

>
> On Tue, 27 Nov 2001, Thomas Lumley wrote:
>
> > Actually, which.max already does break ties -- it finds the first maximum.
>
> Sorry, what I meant was: if there are ties, I want to apply additional
> logic to decide which is the right row to return (i.e. I may not want the
> first row that has the maximum coverage).  I may want to break ties by
> finding the row with the minimal "percid" or some other calculated value.
>
> I think it might end up looking something like this:
>
> filter <- function(this.subset) {
>    best <- which(this.subset$coverage == max(this.subset$coverage))
>    best <- which(this.subset$percid[best] == min(this.subset$percid[best]))
>    # any additional logic to narrow down best to the absolute best row index
>
>    # now return the first best row:
>    this.subset[best[1], , drop=FALSE]
> }

Yes, exactly like that,  though you wouldn't need the drop=FALSE in this
context (it's harmless).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Nov 27 20:28:59 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 27 Nov 2001 11:28:59 -0800
Subject: [R] overlaying qqnorm plots...
References: <002901c17775$03cd9c10$01000001@godzilla> <005601c1777b$6e00bf30$7632d882@stat.auckland.ac.nz>
Message-ID: <001001c17779$c3acbb70$01000001@godzilla>

Perfect!

Thanks,
Jeff.

----- Original Message -----
From: "Paul Murrell" <p.murrell at auckland.ac.nz>
To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>;
<r-help at stat.math.ethz.ch>
Sent: Tuesday, November 27, 2001 11:40 AM
Subject: Re: [R] overlaying qqnorm plots...


> Hi
>
>
> > I know this topic has had plenty of discussion in the last couple of
days,
> > but....
> >
> > I've been trying to compare the effects of different fitted methods for
> > systems of equations (OLS, SUR, 2SLS, 3SLS ) and would like to compare
the
> > residual plots (easy) and the qqnorm/qqplot of the fits for the
different
> > fitted methdos. For example,
> >
> > qqnorm( residuals( lm( q ~ p + f + a ) ) )
> > par( new = TRUE )
> > qqnorm( residuals( tsls( q ~ p + d, ~ d + f + a ) ) )
> >
> > The resulting plot contains the two qqnorm plots, and the x axis stays
the
> > same. The y axis ("Sample Quantiles") scales for the different plots. I
> > would to fix the y axis (fix the quantiles values?) and plot the
different
> > plots in different colors. Is that possible?
>
>
> Yep, ylim can be specified as usual ...
>
>     y1 <- rnorm(100)
>     y2 <- rexp(100)
>     qqnorm(y1, ylim=range(y1, y2), col="blue")
>     par(new=T)
>     qqnorm(y2, ylim=range(y1, y2), col="red")
>
> ... NOTE that this does a lot of unnecessary drawing;  an alternative is
to
> get qqnorm to just tell you what x- and y-values it would plot and then
use
> points() to add the new points rather than draw a whole new plot ...
>
>     y1 <- rnorm(100)
>     y2 <- rexp(100)
>     qqnorm(y1, ylim=range(y1, y2), col="blue")
>     secondpts <- qqnorm(y2, plot.it=FALSE)
>     points(secondpts, col="red")
>
> Hope that helps.
>
> Paul
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Tue Nov 27 20:33:01 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue, 27 Nov 2001 14:33:01 -0500
Subject: [R] printing captions in multiple panes
In-Reply-To: <Pine.SOL.4.33.0111271231420.24890-100000@julius.ling.ohio-state.edu>
References: <Pine.SOL.4.33.0111271231420.24890-100000@julius.ling.ohio-state.edu>
Message-ID: <udq70usdum0vd4fa5cpvv1lqpt7uhl12ha@4ax.com>

On Tue, 27 Nov 2001 12:40:15 -0500 (EST), you wrote:
>I see that ?mtext refers to the possibility of placing the text in the
>outer margin. What is this?

The outer margin is a margin around the whole page of plots.  It
sounds like that's where you want to put your text.  The problem
you're likely having is that by default there is no space reserved for
the outer margin.  You need something like 

  par(oma = c(2,0,0,0))

to reserve 2 lines at the bottom of the page, none on the other sides.
Do this after opening the graphics device, before drawing any plots on
the page.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 20:33:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 20:33:49 +0100
Subject: [R] overlaying qqnorm plots...
In-Reply-To: <005601c1777b$6e00bf30$7632d882@stat.auckland.ac.nz>
References: <002901c17775$03cd9c10$01000001@godzilla>
	<005601c1777b$6e00bf30$7632d882@stat.auckland.ac.nz>
Message-ID: <x28zcshuua.fsf@blueberry.kubism.ku.dk>

"Paul Murrell" <p.murrell at auckland.ac.nz> writes:

>     y1 <- rnorm(100)
>     y2 <- rexp(100)
>     qqnorm(y1, ylim=range(y1, y2), col="blue")
>     secondpts <- qqnorm(y2, plot.it=FALSE)
>     points(secondpts, col="red")

Um, yes... I seem to have forgotten that the y values are of course
the original data.

BTW: It may be a good idea to do it as line plots. For that, you'll need 

 qqnorm(sort(y1), ylim=range(y1, y2), col="blue", type="l")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Tue Nov 27 21:02:06 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Tue, 27 Nov 2001 21:02:06 +0100
Subject: [R] plot and subsets
References: <Pine.LNX.4.30.0111271323440.11636-100000@bolker.zoo.ufl.edu>
Message-ID: <3C03F13E.99C97FA@univie.ac.at>

i had not tried
as.integer or as.numeric
i just tried the factor variable itself.
now i know better.

thanks for all the help


Ben Bolker wrote:
> 
>  e.g.: to plot with colors 1 and 2 (easiest) and plotting characters 1 and
> 16:
> 
> x <- runif(10)
> y <- runif(10)
> z <- factor(sample(1:2,size=10,replace=TRUE))
> plot(x,y,col=as.numeric(z),pch=c(1,16)[as.numeric(z)])
> 

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Tue Nov 27 22:34:55 2001
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Tue, 27 Nov 2001 16:34:55 -0500
Subject: [R] Equations as arguments to functions
Message-ID: <20011127213457.CE9B99CF3B@mercury.bestweb.net>


I am trying to pass an equation as an arguement to a function, which seems 
pretty straightforward given lazy evaluation.  

I constructed the following little test to make sure I sort of knew what I 
was doing:

go <- function(X,eq) { C <<- X*2; d <<- eq}
a _ rnorm(100)
go(10,eq=a[.5*length(a)]+C+1)
> C
[1] 20
> d
[1] 21.10551
> a[.5*length(a)]
[1] 0.1055086

Everything looks good - (BTW seems like a really powerful feature of R)

Now on to my code of interest, which doesn't work (shown below).

rm(list=ls())
load("datasets/citycodes")
increments _ seq(5000,100000,by=5000)
makeindex <- function(Y,eq) {
	losers _ 0; levels_0
	index _ 0; location _ 0; cutoff _0; totalapt_0; houses_0
	for (C in city[1:2]) {
		counter _ 0
		if (file.exists(paste("datasets/2000income/",C,sep=""))) {
			load(paste("datasets/2000income/",C,sep=""))
			counter _ counter+1}
		if (file.exists(paste("datasets/rents/2000",toupper(C),sep=""))) {
			load(paste("datasets/rents/2000",toupper(C),sep=""))
			counter _ counter+1}
	        if (counter== 2) {
			totrent _ 0
			totrent _ rep(rent,units)
			totrent _ totrent[!is.na(totrent)]
			income2000 _ sort(income2000)
			print(C)
			print(length(income2000))  # for debugging   - notice this works fine
			print(ls())                 # for debugging    - notice this works fine
			level _ eq		 # FAILURE POINT
			print(level)
			maxrent _ level/12*Y
			tot _ length(totrent[totrent<=maxrent])/length(totrent)
			house _ length(income2000[income2000<=level])/length(income2000)
			location _ c(location,C)
			index _ c(index,tot)
			cutoff _ c(cutoff,maxrent)
			totalapt _ c(totalapt,length(totrent))
			levels _ c(levels,level)
			houses _ c(houses,house)
			}
		if (counter<2) {losers _ cat(losers,C)}
		}
	overall _ data.frame(location,levels,index,houses,cutoff,totalapt)
	overall <<- overall[-1,]
	print(overall)
	losers <<- losers[-1]
	rm("overall","losers","level","maxrent")
	}
makeindex(.35,eq=(income2000[.33*length(income2000)]))		


***************  GIVES ********************

> source("finalindex.R")
[1] "At"
[1] 1459919
 [1] "C"          "counter"    "cutoff"     "eq"         "houses"
 [6] "income2000" "index"      "levels"     "location"   "losers"
[11] "rent"       "totalapt"   "totrent"    "units"      "Y"
[16] "yr"
Error: Object "income2000" not found

Ummm. I see it in the list which immediately preceded it.

Please notice that I put a ls() in this function just prior to the calling of 
eq so as to verify that income2000 is indeed "found".

while,

makeindex(.35,eq=(20000*.9))	

works fine.

This smells like a "I am an idiot" sort of problem.  I must be missing 
something simple.  Thanks for any help  - BTW sorry for the long post, trying 
to give sufficient data.


=========================================
Michaell Taylor, PhD
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Tue Nov 27 23:29:22 2001
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Tue, 27 Nov 2001 16:29:22 -0600 (CST)
Subject: [R] Randomization/Permutation Tests
In-Reply-To: <20011127213457.CE9B99CF3B@mercury.bestweb.net>
Message-ID: <Pine.SOL.4.30.0111271617020.4503-100000@s.psych.uiuc.edu>

Dear R-Users,

I was wondering if anybody out there has written R/S code or knows of a
library for doing randomization tests (for example, permutating group
assignments to find a p-value that does not require making a normality
assumption). I looked through the available functions and the packages,
but did not find anything applicable. As an example of what I am
referring to, please see the rudimentary function below, which should
provide an approximate p-value for a 2-independent samples scenario
(this is only an approximation, since the function does not generate all
possible combinations, but instead just generate random permutations;
but with a large number of permuts, the error should be quite small). If
some similar code is already available, I would like to hear about it.
Thanks!

-------------

ran2ind <- function(x, y, permuts = 1000) {
	nx	<- length(x)
	ny	<- length(y)
	ntot	<- nx + ny
	xy	<- c(x, y)

	truet	<- ( mean(x) - mean(y) ) / ( sqrt( ( (nx-1)*var(x) + (ny-1)*var(y) ) / (nx + ny - 2) ) * sqrt( 1/nx + 1/ny ) )
	tstats	<- matrix(NA, 1, permuts)

	for (i in 1:permuts) {
		permute	<- sample(c(1:ntot), ntot, replace=F)
		group1	<- xy[permute[1:nx]]
		group2	<- xy[permute[(nx+1):ntot]]
		tstats[1,i]	<- ( mean(group1) - mean(group2) ) / ( sqrt( ( (nx-1)*var(group1) + (ny-1)*var(group2) ) / (nx + ny - 2) ) * sqrt( 1/nx + 1/ny ) )
	}
list(tvalues=tstats, truet=truet, pvalue=mean( abs(tstats) >= abs(truet) ) )
}


---------------------------------------------------------------------
Wolfgang Viechtbauer                       wviechtb at s.psych.uiuc.edu
Department of Quantitative Psychology      viechtba at students.uiuc.edu

University of Illinois, Champaign-Urbana   "Your  mouse   has  moved.
Room 409, Psychology Building               Windows must be restarted
603 E. Daniel Street                        for  the  change  to take
Champaign, IL 61820                         effect. Reboot now? [OK]"

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 27 23:39:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 23:39:38 +0100
Subject: [R] Equations as arguments to functions
In-Reply-To: <20011127213457.CE9B99CF3B@mercury.bestweb.net>
References: <20011127213457.CE9B99CF3B@mercury.bestweb.net>
Message-ID: <x2n117u9cl.fsf@blueberry.kubism.ku.dk>

Michaell Taylor <pols1oh at bestweb.net> writes:


> rm(list=ls())
> load("datasets/citycodes")
> increments _ seq(5000,100000,by=5000)
> makeindex <- function(Y,eq) {
> 	losers _ 0; levels_0
> 	index _ 0; location _ 0; cutoff _0; totalapt_0; houses_0
> 	for (C in city[1:2]) {
> 		counter _ 0
> 		if (file.exists(paste("datasets/2000income/",C,sep=""))) {
> 			load(paste("datasets/2000income/",C,sep=""))
> 			counter _ counter+1}
> 		if (file.exists(paste("datasets/rents/2000",toupper(C),sep=""))) {
> 			load(paste("datasets/rents/2000",toupper(C),sep=""))
> 			counter _ counter+1}
> 	        if (counter== 2) {
> 			totrent _ 0
> 			totrent _ rep(rent,units)
> 			totrent _ totrent[!is.na(totrent)]
> 			income2000 _ sort(income2000)
> 			print(C)
> 			print(length(income2000))  # for debugging   - notice this works fine
> 			print(ls())                 # for debugging    - notice this works fine
> 			level _ eq		 # FAILURE POINT

[snip]

> makeindex(.35,eq=(income2000[.33*length(income2000)]))		
...

> This smells like a "I am an idiot" sort of problem.  I must be missing 
> something simple. 

Yes. Arguments are evaluated *in the caller environment*. If you type

base <- 2
log(base)

then you don't get log(exp(1)) even though the log function has a
local variable called base.

I assume that income2000 is defined by the load(...) constructs, and
thus are only available in the evaluation environment of the function.

If you really want to pass an expression to be evaluated internally in
the function, try

        level <- eval(eq)

and call it with an explicitly quoted argument, like this

 makeindex(.35,eq=quote(income2000[.33*length(income2000)]))
 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Nov 28 00:38:35 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 28 Nov 2001 12:38:35 +1300
Subject: [R] What name-value pairs can be used in gpar()?
References: <200111270514.fAR5E8p04661@biomat1.marc.hort.cri.nz>
Message-ID: <006f01c1779c$a19da030$7632d882@stat.auckland.ac.nz>

Hi


> To use grid graphics with lattice, the help for gpar indicates that
> any number of named arguments can be specified but where do we find
> what names make any sense?


Sorry, hadn't got that far in the documentation yet (plus the list is not
yet fixed).
The following should work:

"col" colour for lines and borders,
"fill" colout for filling regions,
"lty"  line type
"lwd" line width
"fontsize" the size of text (in points)
"lineheight" the height of a line as a multiple of fontsize

I don't think that different font faces are implemented in the current
released version.
In the next version, the following will also work:

"font" font face


> I have ascertained that fontsize is given in points such as one
> would use in a postscript device argument and uses that same name.
> It's not as I'd have thought, something corresponding to cex in
> regular par() settings.  Evidently there is a good reason for that,
> but what I'd like to know is how do I set the font to italic?  And in
> general, is there a listing of what possible names can be set by
> gpar()?


I have used "fontsize" and "lineheight" in grid because I prefer that way of
expressing things.
I could try including "cex" too if there was sufficient demand.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Nov 28 00:27:14 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 Nov 2001 17:27:14 -0600
Subject: [R] lme on large data frames
Message-ID: <6r7ksb4wx9.fsf@franz.stat.wisc.edu>

Recently there was a question on using lme with large data sets. As an
experiment I fit a linear mixed-effects model to a data set with about
350,000 observations on 6 predictors, a numerical response, and a
single grouping factor.

The timings shown below were on a 1.2 GHz Athlon with 1 GB of PC133
memory and 2 GB of swap.  The operating system is Debian 3.0
GNU/Linux.  The kernel is 2.4.14.

> dim(dallas)
[1] 348478      8
> system.time(print(summary(dallas)))
   year       grade          ids               campus         sex        
 1994:47291   3:60207   Min.   :      3   57905049: 10725   F   :171388  
 1995:44397   4:58014   1st Qu.: 495362   57905051:  6296   M   :161423  
 1996:43159   5:57467   Median :1849290   57905043:  5982   NA's: 15667  
 1997:49306   6:59493   Mean   :1748909   57905042:  5728                
 1998:51978   7:58261   3rd Qu.:2856098   57905065:  5484                
 1999:53587   8:55036   Max.   :3584203   57905044:  5338                
 2000:58760                               (Other) :308925                
 ethnicity     disadvg            tli       
 B   :164680   N   : 92016   Min.   : 0.00  
 H   :124410   Y   :216169   1st Qu.:61.00  
 M   :  3394   NA's: 40293   Median :75.00  
 O   :  2926                 Mean   :71.24  
 W   : 39285                 3rd Qu.:84.00  
 NA's: 13783                 Max.   :93.00  
                                            
[1] 5.12 0.03 6.05 0.00 0.00
> gc()
          used (Mb) gc trigger (Mb)
Ncells  540528 14.5    2013967 53.8
Vcells 2303229 17.6    7300819 55.8
> object.size(dallas)
[1] 18126736

This shows that the data frame is about 18 MB, and the total memory
image for R is about 30 MB but has lots of room to grow.  Operations like
summarizing the columns are very fast.

I was able to fit an lme model with a random effect for student
(ids).

> system.time(fm1 <- lme(tli~year + grade + sex + ethnicity, data = dallas,
+   random = ~ 1 | ids, na.action = na.omit, control = lmeControl(niterEM=50, msVerbose = TRUE)))
initial  value 2916459.573268 
final  value 2916459.573268 
converged
[1] 7220.25   19.17 8447.31    0.00    0.00
> gc()
           used  (Mb) gc trigger  (Mb)
Ncells  1127215  30.1    2620392  70.0
Vcells 28941125 220.9   55752037 425.4
> object.size(fm1)
[1] 30863416

The memory image of R stayed at around 150 MB during most of the
function evaluation then went up to about 350 MB.  I imagine the
larger memory requirement occurred after convergence, although I did
not check this.  A lot of the work in lme (and many other
model-fitting functions) is in creating the fitted model object after
the parameter estimates have been obtained.

As you can see, this took a long time - over two hours- even on this
relatively fast computer.  I did set the number of EM iterations to be
50, which is probably larger than necessary for this model, and would
slow down the fitting.

As expected when you have this many observations, all the fixed
effects are statistically significant.

> summary(fm1)
Linear mixed-effects model fit by REML
 Data: dallas 
      AIC     BIC   logLik
  2557954 2558158 -1278958

Random effects:
 Formula: ~1 | ids
        (Intercept) Residual
StdDev:    12.90782 7.742589

Fixed effects: tli ~ year + grade + sex + ethnicity 
               Value Std.Error     DF   t-value p-value
(Intercept) 68.47575 0.0683054 196971 1002.4933  <.0001
year.L      10.17203 0.0710794 196971  143.1080  <.0001
year.Q      -1.10901 0.0426594 196971  -25.9968  <.0001
year.C      -0.41155 0.0403056 196971  -10.2108  <.0001
year^4       0.78151 0.0388381 196971   20.1223  <.0001
year^5      -0.84449 0.0385725 196971  -21.8935  <.0001
year^6       0.19431 0.0380664 196971    5.1046  <.0001
grade.L      1.42974 0.0597163 196971   23.9423  <.0001
grade.Q     -2.77355 0.0384930 196971  -72.0533  <.0001
grade.C     -0.33285 0.0364386 196971   -9.1345  <.0001
grade^4      1.10184 0.0355329 196971   31.0089  <.0001
grade^5      1.48623 0.0349311 196971   42.5477  <.0001
sexM        -1.83115 0.0770710 134707  -23.7592  <.0001
ethnicityH   1.85379 0.0836131 134707   22.1711  <.0001
ethnicityM   3.09373 0.4232054 134707    7.3102  <.0001
ethnicityO  10.47489 0.4083131 134707   25.6541  <.0001
ethnicityW  10.16495 0.1245893 134707   81.5876  <.0001
 Correlation: 
           (Intr) year.L year.Q year.C year^4 year^5 year^6 grad.L grad.Q
year.L     -0.001                                                        
year.Q     -0.048 -0.030                                                 
year.C      0.012 -0.075 -0.053                                          
year^4     -0.004  0.010 -0.019 -0.054                                   
year^5      0.001  0.000  0.020 -0.021 -0.055                            
year^6     -0.001 -0.009 -0.009  0.024 -0.001 -0.066                     
grade.L     0.013 -0.633  0.007  0.042  0.003  0.009 -0.003              
grade.Q    -0.037 -0.002  0.085 -0.014 -0.003  0.008 -0.006  0.011       
grade.C     0.004  0.021 -0.005 -0.048 -0.004  0.006  0.000 -0.029 -0.006
grade^4    -0.003 -0.001  0.004  0.005  0.020 -0.003  0.001  0.003 -0.006
grade^5    -0.001 -0.001  0.011  0.002 -0.002 -0.010  0.004 -0.003  0.010
sexM       -0.547 -0.006  0.000  0.001 -0.002  0.000  0.000  0.006 -0.002
ethnicityH -0.563 -0.092 -0.015 -0.010 -0.011 -0.010  0.008  0.037  0.010
ethnicityM -0.110  0.002  0.005  0.000 -0.001 -0.001  0.001  0.000  0.005
ethnicityO -0.113  0.013  0.005  0.000 -0.001 -0.003  0.002 -0.020  0.000
ethnicityW -0.380  0.041  0.004 -0.001  0.000 -0.001  0.001 -0.028  0.005
           grad.C grad^4 grad^5 sexM   ethncH ethncM ethncO
year.L                                                     
year.Q                                                     
year.C                                                     
year^4                                                     
year^5                                                     
year^6                                                     
grade.L                                                    
grade.Q                                                    
grade.C                                                    
grade^4    -0.005                                          
grade^5     0.001 -0.015                                   
sexM        0.003  0.000  0.000                            
ethnicityH -0.001  0.002 -0.003 -0.010                     
ethnicityM  0.001  0.001  0.000 -0.005  0.092              
ethnicityO  0.001  0.002  0.000 -0.007  0.094  0.019       
ethnicityW -0.001 -0.001  0.000 -0.005  0.308  0.062  0.065

Standardized Within-Group Residuals:
        Min          Q1         Med          Q3         Max 
-8.71167390 -0.43196123  0.06053214  0.47646735  7.23234387 

Number of Observations: 331695
Number of Groups: 134713 

Brian Ripley has pointed out that it is rare to have data sets this
size that are homogeneous.  The caution is warranted here.  These data
are not homogeneous but I won't go into details of exactly why the
results are questionable.

I started another model fit
  > system.time(fm2 <- update(fm1, random = ~ year | ids))
but that is still running.  R is using about half a gigabyte of memory.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From veronicafli at hotmail.com  Mon Nov 26 15:13:43 2001
From: veronicafli at hotmail.com (VERONICA URIBE)
Date: Mon, 26 Nov 2001 09:13:43 -0500
Subject: [R] I need Help!
Message-ID: <DAV23cx4vvsGOkevWWG000096b2@hotmail.com>

Hello!

I'm beginning to use R and I have a problem.

I've a data base of 1491 elements, I could create the points from this data frame but when I try to create the pairs the computer takes 30 minutes and a message appears: The memory limit was achieved!

Do you know how can I enlarge the memory size available for R in my computer?

I'll really appreciate your help.

Bye, Ver?nica.Obtenga el m?ximo provecho del Web. Descarga GRATUITA de MSN Explorer: http://explorer.msn.es/intl.asp#es
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011126/d8d37e63/attachment.html

From richards at upci.pitt.edu  Wed Nov 28 08:37:41 2001
From: richards at upci.pitt.edu (Richards, Tom)
Date: Wed, 28 Nov 2001 02:37:41 -0500
Subject: [R] Help with ICC
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A8D270D@mail.nsabp.pitt.edu>

Hello, R-folks:

Here is a statement I use to make a data frame:

iccdata <- data.frame(i=rep(1:10,rep(2,10)),j=rep(1:2,10),
x=c(0.35011,0.11989,0.13081,0.09919,0.16000,0.12000,0.00000,0.00000,
0.44023,0.32977,2.67081,2.63919,0.09050,0.03950,0.44019,0.30981,0.59000,
0.57000,4.03000,3.77000))

Then here are the data:

> iccdata
    i j       x
1   1 1 0.35011
2   1 2 0.11989
3   2 1 0.13081
4   2 2 0.09919
5   3 1 0.16000
6   3 2 0.12000
7   4 1 0.00000
8   4 2 0.00000
9   5 1 0.44023
10  5 2 0.32977
11  6 1 2.67081
12  6 2 2.63919
13  7 1 0.09050
14  7 2 0.03950
15  8 1 0.44019
16  8 2 0.30981
17  9 1 0.59000
18  9 2 0.57000
19 10 1 4.03000
20 10 2 3.77000


Variable i is for patient, j is for occasion, and x is measured on
each occasion.  These data have the same mean and variance listed on page 9
of Fleiss's book, Design and Analysis of Clinical Experiments, given below:

> lapply(split(iccdata$x,iccdata$i),function(x){c(mean(x),var(x))})
$"1"
[1] 0.23500000 0.02650062

$"2"
[1] 0.1150000000 0.0004999122

$"3"
[1] 0.1400 0.0008

$"4"
[1] 0 0

$"5"
[1] 0.385000000 0.006100706

$"6"
[1] 2.6550000000 0.0004999122

$"7"
[1] 0.0650000 0.0013005

$"8"
[1] 0.375000000 0.008499472

$"9"
[1] 0.5800 0.0002

$"10"
[1] 3.9000 0.0338

Now, how do you use (lme in) R to compute the Intraclass correlation for
these data?  I have written brute-force code to get the "right" answer, but
I cannot get the proper mean squares from any regression model I have tried.
It seems like it should be trivial, but I cannot do it!  I need this to work
in order to apply the technique to a much larger data set.  I could use my
silly code, in SAS, but I want to see and understand the variance
components.  After studying Pinheiro and Bates for a while, I naively tried
the following, which is not what I want.

> ICC <- groupedData(x~j|i,data=iccdata)
> ICC.lme <- lme(x~j,data=ICC)

Can you help me?  Thanks in advance!

Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 08:49:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 07:49:08 +0000 (GMT)
Subject: [R] Randomization/Permutation Tests
In-Reply-To: <Pine.SOL.4.30.0111271617020.4503-100000@s.psych.uiuc.edu>
Message-ID: <Pine.LNX.4.31.0111280744530.14358-100000@gannet.stats>

yOn Tue, 27 Nov 2001, Wolfgang Viechtbauer wrote:

> Dear R-Users,
>
> I was wondering if anybody out there has written R/S code or knows of a
> library for doing randomization tests (for example, permutating group
> assignments to find a p-value that does not require making a normality
> assumption). I looked through the available functions and the packages,
> but did not find anything applicable. As an example of what I am
> referring to, please see the rudimentary function below, which should
> provide an approximate p-value for a 2-independent samples scenario
> (this is only an approximation, since the function does not generate all
> possible combinations, but instead just generate random permutations;
> but with a large number of permuts, the error should be quite small). If
> some similar code is already available, I would like to hear about it.
> Thanks!

See MASS (the book) for ways to vectorize this problem (both all and
random permutations), with code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Nov 28 09:02:12 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 28 Nov 2001 09:02:12 +0100 (MET)
Subject: [R] Randomization/Permutation Tests
In-Reply-To: <Pine.SOL.4.30.0111271617020.4503-100000@s.psych.uiuc.edu>
Message-ID: <Pine.LNX.4.21.0111280856320.29533-100000@artemis.imbe.med.uni-erlangen.de>


> Dear R-Users,
> 
> I was wondering if anybody out there has written R/S code or knows of a
> library for doing randomization tests (for example, permutating group
> assignments to find a p-value that does not require making a normality
> assumption). I looked through the available functions and the packages,
> but did not find anything applicable. As an example of what I am
> referring to, please see the rudimentary function below, which should
> provide an approximate p-value for a 2-independent samples scenario
> (this is only an approximation, since the function does not generate all
> possible combinations, but instead just generate random permutations;
> but with a large number of permuts, the error should be quite small). If
> some similar code is already available, I would like to hear about it.
> Thanks!

the function `perm.test' for the paired and independent sample situation
will be available in the next version of `exactRankTests' (the function is
able to deal with arbitrary integer valued scores and I can send you a
snapshot). 

However, the current version
of `exactRankTests' allows you to compute the conditional p-values using
the function `pperm', for a description you may also have a look at

@article{on-exact-r:2001,   
   key       = {118},
   author    = {Torsten Hothorn},
   title     = {On Exact Rank Tests in {R}},
   journal   = {R News},
   year      = {2001},
   volume    = {1},   
   number    = {1},
   pages     = {11-12}
}
 
Torsten

> 
> -------------
> 
> ran2ind <- function(x, y, permuts = 1000) {
> 	nx	<- length(x)
> 	ny	<- length(y)
> 	ntot	<- nx + ny
> 	xy	<- c(x, y)
> 
> 	truet	<- ( mean(x) - mean(y) ) / ( sqrt( ( (nx-1)*var(x) + (ny-1)*var(y) ) / (nx + ny - 2) ) * sqrt( 1/nx + 1/ny ) )
> 	tstats	<- matrix(NA, 1, permuts)
> 
> 	for (i in 1:permuts) {
> 		permute	<- sample(c(1:ntot), ntot, replace=F)
> 		group1	<- xy[permute[1:nx]]
> 		group2	<- xy[permute[(nx+1):ntot]]
> 		tstats[1,i]	<- ( mean(group1) - mean(group2) ) / ( sqrt( ( (nx-1)*var(group1) + (ny-1)*var(group2) ) / (nx + ny - 2) ) * sqrt( 1/nx + 1/ny ) )
> 	}
> list(tvalues=tstats, truet=truet, pvalue=mean( abs(tstats) >= abs(truet) ) )
> }
> 
> 
> ---------------------------------------------------------------------
> Wolfgang Viechtbauer                       wviechtb at s.psych.uiuc.edu
> Department of Quantitative Psychology      viechtba at students.uiuc.edu
> 
> University of Illinois, Champaign-Urbana   "Your  mouse   has  moved.
> Room 409, Psychology Building               Windows must be restarted
> 603 E. Daniel Street                        for  the  change  to take
> Champaign, IL 61820                         effect. Reboot now? [OK]"
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h_m_ at po.harenet.ne.jp  Wed Nov 28 09:02:55 2001
From: h_m_ at po.harenet.ne.jp (Hiroto Miyoshi)
Date: Wed, 28 Nov 2001 17:02:55 +0900
Subject: [R] Can I see japanese in R run with Emacs(ESS) ?
Message-ID: <000d01c177e3$16f94140$0400a8c0@miyoshi>

Hello.

Could someone help me?
I can see Japanese language in R when I use RGui.
I can use Japanese language in Emacs using Mule option.
Now, Can I see Japanese language in R which is run with Emacs(ESS) ?
I am using windows 98 second edition.
Could someone help me ?
Sincerely
-----------------------
Hiroto Miyoshi
????
h_m_ at po.harenet.ne.jp


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Nov 28 09:46:24 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 28 Nov 2001 09:46:24 +0100 (MET)
Subject: [R] I need Help!
In-Reply-To: <DAV23cx4vvsGOkevWWG000096b2@hotmail.com>
Message-ID: <Pine.OSF.3.96.1011128094242.28081A-100000@ija.csic.es>


On Mon, 26 Nov 2001, VERONICA URIBE wrote:

> I've a data base of 1491 elements, I could create the points from this data frame but when I try to create the pairs the computer takes 30 minutes and a message appears: The memory limit was achieved!
> 
> Do you know how can I enlarge the memory size available for R in my computer?

1. What OS are you using, Win*, linux ...
2. What do you mean by "create the points"? What are the exact
R functions that your are using?

Not easy to help you without that information. Also, please
use a more descriptive Subject. Some people use the Subject field
to search the archives.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uebayasi at soum.co.jp  Wed Nov 28 11:01:33 2001
From: uebayasi at soum.co.jp (Masao Uebayashi)
Date: Wed, 28 Nov 2001 19:01:33 +0900 (JST)
Subject: [R] Can I see japanese in R run with Emacs(ESS) ?
In-Reply-To: <000d01c177e3$16f94140$0400a8c0@miyoshi>
References: <000d01c177e3$16f94140$0400a8c0@miyoshi>
Message-ID: <20011128.190133.84180170.uebayasi@soum.co.jp>

> Now, Can I see Japanese language in R which is run with Emacs(ESS) ?

Possibly, yes, if your Emacs can already display Japanese fonts.

> I am using windows 98 second edition.
> Could someone help me ?
> Sincerely

I don't have ESS installed and can't try now, but you may be able to
display Japanese characters if you set Emacs's language environment
correctly. Reading ``Specify a Coding System'' in Emacs's Info may
help you, I guess.

HTH,
Masao
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Nov 28 11:35:18 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 28 Nov 2001 11:35:18 +0100 (MET)
Subject: [R] Rprofile etc in Linux
Message-ID: <Pine.OSF.3.96.1011128104223.28081E-100000@ija.csic.es>


Hi!

I do not have an Rprofile file in $R_HOME/etc, but I do have one
in $R_HOME/library/base/R. I thought I could include a .First()
function in a new $R_HOME/etc/Rprofile file for attaching a couple
files which have custom "always needed" functions. But
would the new $R_HOME/etc/Rprofile create a conflict with
$R_HOME/library/base/R/Rprofile (in particular because the later
also has a .First() function)?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 12:20:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 11:20:19 +0000 (GMT)
Subject: [R] Rprofile etc in Linux
In-Reply-To: <Pine.OSF.3.96.1011128104223.28081E-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0111281107420.15561-100000@gannet.stats>

On Wed, 28 Nov 2001, Agustin Lobo wrote:

>
> Hi!
>
> I do not have an Rprofile file in $R_HOME/etc, but I do have one
> in $R_HOME/library/base/R. I thought I could include a .First()
> function in a new $R_HOME/etc/Rprofile file for attaching a couple
> files which have custom "always needed" functions. But
> would the new $R_HOME/etc/Rprofile create a conflict with
> $R_HOME/library/base/R/Rprofile (in particular because the later
> also has a .First() function)?

Yes.  See ?.First for the ordering.  This is deliberate: users should be
able to override the default .First.

Just put

    require("ctest", quietly=TRUE)

in your .First.

I suggest you load your `"always needed" functions' by using a local
library rather than load them into your workspace.


I would rather like to improve this mechanism. S4 implementations have
variants on .S.chapters and S.init: the latter corresponds to R's
Rprofile files, the former is a list of chapters (aka packages in R)
to be attached/loaded.  So the R analogue would be a system file
R.packages containing `ctest', and also ~/.R.packages containing a list of
packages to be loaded at startup *in addition to* those in R.packages.

Does that sound a worthwhile idea?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Nov 28 12:43:18 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 28 Nov 2001 12:43:18 +0100 (MET)
Subject: [R] Rprofile etc in Linux
In-Reply-To: <Pine.LNX.4.31.0111281107420.15561-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1011128124121.28081F-100000@ija.csic.es>

On Wed, 28 Nov 2001, Prof Brian Ripley wrote:

> 
> I would rather like to improve this mechanism. S4 implementations have
> variants on .S.chapters and S.init: the latter corresponds to R's
> Rprofile files, the former is a list of chapters (aka packages in R)
> to be attached/loaded.  So the R analogue would be a system file
> R.packages containing `ctest', and also ~/.R.packages containing a list of
> packages to be loaded at startup *in addition to* those in R.packages.
> 
> Does that sound a worthwhile idea?

Yes, it would be much more intuitive.

Thanks for your help!

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lynchs at nu.ac.za  Wed Nov 28 12:48:24 2001
From: lynchs at nu.ac.za (Steven Lynch)
Date: Wed, 28 Nov 2001 13:48:24 +0200
Subject: [R] memory.size ?
Message-ID: <sc04eb32.043@UNP-INTRA>

I am using Version 1.3.1  (2001-08-31) on a PC running Win98 and have
384MB RAM
The error that I get is

Reached total allocation of 256Mb: see help(memory.size)

According to the help I should issue a Command-line flag
`--max-mem-size'

Where do I do this and what is the statement ?

Thanks in advance


Steve Lynch
School of Bioresources Engineering and Environmental Hydrology
Univ of Natal
Private Bag X01
Scottsville, 3209, South Africa


lynchs at nu.ac.za
http://www.ccwr.ac.za/ageng/users/lynch
Fax +27-33-2605818
Tel +27-33-2605412


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From S.Hess at statslab.cam.ac.uk  Wed Nov 28 12:50:25 2001
From: S.Hess at statslab.cam.ac.uk (Stephane Hess)
Date: Wed, 28 Nov 2001 11:50:25 +0000 (GMT)
Subject: [R] Problems with rank()
Message-ID: <Pine.LNX.4.21.0111281146110.19201-100000@alkort.statslab.cam.ac.uk>

If you enter the following values for x and y:
x: 2.2 3.7 2.1 0.4 2.8 0.3 0.4 1.4 5.4 6.0
y: 6.0 8.1 1.8 1.3 5.2 0.6 1.0 1.9 6.8 6.5
and do rank(abs(y-x)),
you should get two ties, one at 0.3 and one at 0.5.
R, and S-Plus5 by that matter recognise the tie at 0.5 and give
it rank 3.5, but gives one of the two 0.3 values rank 1 and one of
them 2, whereas they should boh be 1.5.
Any suggestions?
when you declare a vector with the positive differences manually,
it ranks them in the correct order.
if you use rank(sqrt((y-x)^2), it produces the same mistake...

Stephane Hess,
Statslab Cambridge University 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 13:26:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 12:26:07 +0000 (GMT)
Subject: [R] Problems with rank()
In-Reply-To: <Pine.LNX.4.21.0111281146110.19201-100000@alkort.statslab.cam.ac.uk>
Message-ID: <Pine.LNX.4.31.0111281220590.10774-100000@gannet.stats>

On Wed, 28 Nov 2001, Stephane Hess wrote:

> If you enter the following values for x and y:
> x: 2.2 3.7 2.1 0.4 2.8 0.3 0.4 1.4 5.4 6.0
> y: 6.0 8.1 1.8 1.3 5.2 0.6 1.0 1.9 6.8 6.5
> and do rank(abs(y-x)),
> you should get two ties, one at 0.3 and one at 0.5.
> R, and S-Plus5 by that matter recognise the tie at 0.5 and give
> it rank 3.5, but gives one of the two 0.3 values rank 1 and one of
> them 2, whereas they should boh be 1.5.
> Any suggestions?
> when you declare a vector with the positive differences manually,
> it ranks them in the correct order.
> if you use rank(sqrt((y-x)^2), it produces the same mistake...
>
> Stephane Hess,
> Statslab Cambridge University

It's called rounding error.  You don't get 0.3: my machine gives

> print(sort(abs(x-y)), digits=17)
 [1] 0.29999999999999999 0.30000000000000004 0.50000000000000000
 [4] 0.50000000000000000 0.59999999999999998 0.90000000000000002
 [7] 1.39999999999999947 2.40000000000000036 3.79999999999999982
[10] 4.39999999999999947

0.3 is not exactly representable on machines with IEC 60559 (aka IEEE 754)
arithmetic, but 0.5 is a binary fraction.

It's always worth looking at what you've done to full machine precision!
Try round(abs(x-y), 1), for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 28 13:27:24 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Nov 2001 13:27:24 +0100
Subject: [R] Problems with rank()
In-Reply-To: <Pine.LNX.4.21.0111281146110.19201-100000@alkort.statslab.cam.ac.uk>
References: <Pine.LNX.4.21.0111281146110.19201-100000@alkort.statslab.cam.ac.uk>
Message-ID: <x24rnfnkr7.fsf@blueberry.kubism.ku.dk>

Stephane Hess <S.Hess at statslab.cam.ac.uk> writes:

> If you enter the following values for x and y:
> x: 2.2 3.7 2.1 0.4 2.8 0.3 0.4 1.4 5.4 6.0
> y: 6.0 8.1 1.8 1.3 5.2 0.6 1.0 1.9 6.8 6.5
> and do rank(abs(y-x)),
> you should get two ties, one at 0.3 and one at 0.5.
> R, and S-Plus5 by that matter recognise the tie at 0.5 and give
> it rank 3.5, but gives one of the two 0.3 values rank 1 and one of
> them 2, whereas they should boh be 1.5.
> Any suggestions?
> when you declare a vector with the positive differences manually,
> it ranks them in the correct order.
> if you use rank(sqrt((y-x)^2), it produces the same mistake...

Well,

> (2.1-1.8)-(0.6-0.3)
[1] 5.551115e-17

so to the machine, they are *not* identical. We could introduce a fuzz
factor I suppose, but do we want to.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Nov 28 13:36:42 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 28 Nov 2001 13:36:42 +0100
Subject: [R] memory.size ?
References: <sc04eb32.043@UNP-INTRA>
Message-ID: <3C04DA5A.B5A44DBC@statistik.uni-dortmund.de>



Steven Lynch wrote:
> 
> I am using Version 1.3.1  (2001-08-31) on a PC running Win98 and have
> 384MB RAM
> The error that I get is
> 
> Reached total allocation of 256Mb: see help(memory.size)
> 
> According to the help I should issue a Command-line flag
> `--max-mem-size'
> 
> Where do I do this and what is the statement ?
> 
> Thanks in advance
> 

It's descibed in sections 2.2 and 2.4 in the RW FAQs.

Uwe Logges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Nov 28 14:10:58 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 28 Nov 2001 13:10:58 +0000
Subject: [R] Named pipe connections and stdout
In-Reply-To: <3C04BAD2.53CF2B16@ozemail.com.au>
References: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>
 <x2itbxx1zs.fsf@blueberry.kubism.ku.dk> <b9v+nJAozhA8Ew5m@myatt.demon.co.uk>
 <3C04BAD2.53CF2B16@ozemail.com.au>
Message-ID: <my8BUVAiJOB8EwGC@myatt.demon.co.uk>

Jim,

>I've been trying to find out about how to connect NEdit to R using
>something like the system() command, but reading the input line by line.
>NEdit sends its stdout connection back to the program that invoked it,
>and it is quite easy to get blocks of text piped back from NEdit.
>However, I have not succeeded in working out how to get R to process the
>input, except in the rather trivial way of processing it all at once
>when NEdit exits.

I have not used NEdit and so will be of little help on that. Does NEdit
use something like Perl, Python or Tcl as its macro language? If so,
then you should be able to get something up and running by sending R a
line at a time through a pipe. I think the important thing would be to
set the FIFO connect in R to blocking and ensure that each line sent to
R is terminated with an EOL.

Perhaps I can tell you what / where I am up to? For all the usual
reasons, I have made a decision to move all my work to Linux. I find the
terminal based interface to R works but is a bit lacking. I know about
ESS but groan at the sound and look of the word 'emacs'. Inspecting ESS
code might provide some insight.

I felt that, In getting to know Linux, it would be a good idea to hack a
GUI shell that would make using R a bit more pleasurable. This lead to
my query to the list.

My thinking on this is to:

        1. Develop a shell with an editor window (that accepts R code
        that can be submitted in blocks to R), and an output window that
        displays the R output. This would be extensible so that (e.g.)
        menus that call functions could be easily added by simply
        editing an external text file and have syntax highlighting in
        the editor. I have, more or less, decided on using Tcl/TK for
        this.

        2. Connections between R and the shell will be handled using
        named pipes. I might need to hack a simple communications
        protocol so that the shell can tell when R is ready to accept
        input, pass input to R on a line by line basis, tell when R has
        some output, tell R that output can be received, &c. although
        most of this might be able to be done automatically using the
        options available to configure FIFOs in R. Simple experiments
        show that this should be relatively easy to code in both R and
        Tcl. One problem that I have is the loss of stdout without
        explicit calls to print() which provides different output from
        the standard terminal output and is particularly annoying as <-
        assignments print out the contents of the assignment.

>Could you point me to some documentation about this? I got a deathly
>silence last time I asked on the list...

There is little documentation on this. Brian Ripley has a brief piece on
connections in RNEWS 1:1, Peter Dalgaard presents a similar listener /
evaluator function in the context of writing a simple shell in Tcl/TK
from within R in RNEWS1:3. John Chambers discusses this in:

        Chambers, J. M. (1998) Programming with Data. A Guide to the S
        Language. Springer

But a lot of that applies to S not R (e.g. setReader() is not available
in R). Trying help(fifo), help(readLines) provides some info and useful
links around the help system.

It is a bit like the blind leading the blind. Sorry. Perhaps we can
share experiences.

I have posted this to R-Help in the hope that someone might pick it up.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Nov 28 14:50:58 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 28 Nov 2001 08:50:58 -0500
Subject: [R] Named pipe connections and stdout
In-Reply-To: <my8BUVAiJOB8EwGC@myatt.demon.co.uk>; from mark@myatt.demon.co.uk on Wed, Nov 28, 2001 at 01:10:58PM +0000
References: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk> <x2itbxx1zs.fsf@blueberry.kubism.ku.dk> <b9v+nJAozhA8Ew5m@myatt.demon.co.uk> <3C04BAD2.53CF2B16@ozemail.com.au> <my8BUVAiJOB8EwGC@myatt.demon.co.uk>
Message-ID: <20011128085058.A4542@jessie.research.bell-labs.com>

Hi Mark,
 Just some remarks on what may be available on this front in the near future.

Many months ago, I did extend the "event loop" in R to handle events
on connections (i.e. setReader()) and allow timers. Unfortunately, I
did not get to commit it the public R code. However, I do plan on
doing so quite soon and making the event loop more friendly to Tcl/Tk,
Gtk, etc.  when they run in R and when R runs within those
applications.  Given the imminent release of R-1.4.0, the changes will
not be in that version, but will be in soon after.

Also, I am just about to complete the RGtk package which provides R
bindings to the Gdk and Gtk libraries. This is a possible alternative
to Tcl/Tk and it appears to have more widgets. Of course, Tcl/Tk is on
many machines and is known to work on Unix, Windows and Mac.  Gtk
should work on Unix and Windows without much difficulty, and is being
ported to the Mac.  Most of the code is automatically generated from
what are termed .defs files describing the libraries and so it is a)
less buggy than manually generated code, b) easy to add new libraries
(e.g. the Gnome application library).


 D.


Mark Myatt wrote:
> Jim,
> 
> >I've been trying to find out about how to connect NEdit to R using
> >something like the system() command, but reading the input line by line.
> >NEdit sends its stdout connection back to the program that invoked it,
> >and it is quite easy to get blocks of text piped back from NEdit.
> >However, I have not succeeded in working out how to get R to process the
> >input, except in the rather trivial way of processing it all at once
> >when NEdit exits.
> 
> I have not used NEdit and so will be of little help on that. Does NEdit
> use something like Perl, Python or Tcl as its macro language? If so,
> then you should be able to get something up and running by sending R a
> line at a time through a pipe. I think the important thing would be to
> set the FIFO connect in R to blocking and ensure that each line sent to
> R is terminated with an EOL.
> 
> Perhaps I can tell you what / where I am up to? For all the usual
> reasons, I have made a decision to move all my work to Linux. I find the
> terminal based interface to R works but is a bit lacking. I know about
> ESS but groan at the sound and look of the word 'emacs'. Inspecting ESS
> code might provide some insight.
> 
> I felt that, In getting to know Linux, it would be a good idea to hack a
> GUI shell that would make using R a bit more pleasurable. This lead to
> my query to the list.
> 
> My thinking on this is to:
> 
>         1. Develop a shell with an editor window (that accepts R code
>         that can be submitted in blocks to R), and an output window that
>         displays the R output. This would be extensible so that (e.g.)
>         menus that call functions could be easily added by simply
>         editing an external text file and have syntax highlighting in
>         the editor. I have, more or less, decided on using Tcl/TK for
>         this.
> 
>         2. Connections between R and the shell will be handled using
>         named pipes. I might need to hack a simple communications
>         protocol so that the shell can tell when R is ready to accept
>         input, pass input to R on a line by line basis, tell when R has
>         some output, tell R that output can be received, &c. although
>         most of this might be able to be done automatically using the
>         options available to configure FIFOs in R. Simple experiments
>         show that this should be relatively easy to code in both R and
>         Tcl. One problem that I have is the loss of stdout without
>         explicit calls to print() which provides different output from
>         the standard terminal output and is particularly annoying as <-
>         assignments print out the contents of the assignment.
> 
> >Could you point me to some documentation about this? I got a deathly
> >silence last time I asked on the list...
> 
> There is little documentation on this. Brian Ripley has a brief piece on
> connections in RNEWS 1:1, Peter Dalgaard presents a similar listener /
> evaluator function in the context of writing a simple shell in Tcl/TK
> from within R in RNEWS1:3. John Chambers discusses this in:
> 
>         Chambers, J. M. (1998) Programming with Data. A Guide to the S
>         Language. Springer
> 
> But a lot of that applies to S not R (e.g. setReader() is not available
> in R). Trying help(fifo), help(readLines) provides some info and useful
> links around the help system.
> 
> It is a bit like the blind leading the blind. Sorry. Perhaps we can
> share experiences.
> 
> I have posted this to R-Help in the hope that someone might pick it up.
> 
> Mark
> 
> --
> Mark Myatt
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richard.nixon at mrc-bsu.cam.ac.uk  Wed Nov 28 15:55:03 2001
From: richard.nixon at mrc-bsu.cam.ac.uk (Richard Nixon)
Date: Wed, 28 Nov 2001 14:55:03 +0000
Subject: [R] Why are looping variables not local?
Message-ID: <E169674-0004R7-00@bernstein.mrc-bsu.cam.ac.uk>

Hello,
I've had a quick look on the list and can't find an answer to this niggle.

Whilst debugging some code, I noticed that looping variables in R are not 
local to the loop as seams common in procedural  languages.
For example consider the following piece of code: 

for(i in 1:3){
   cat(i,"")
   for(i in c("a","b","c")){
      cat(i,"")
   }
      cat(i,"\n")
}

In splus this will produce
1 a b c 1 
2 a b c 2 
3 a b c 3 

but in R it produces
1 a b c c 
2 a b c c 
3 a b c c 

That is the second "cat(i,"\n")" in the outer loop has taken the last value of 
i in the inner loop.

Is anyone in the know as to why R uses global variables in loops? Just curious 
really, now I know how it works I can watch for it!

Thanks
Richard

-- 
Dr. Richard Nixon
MRC Biostatistics Unit, Institute of Public Health,
Robinson Way, Cambridge, CB2 2SR

Alternative email: rmn20 at cam.ac.uk
http://www.mrc-bsu.cam.ac.uk/personal/richard
Tel: +44 (0)1223 330382, Fax: +44 (0)1223 330388

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 16:43:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 15:43:04 +0000 (GMT)
Subject: [R] Why are looping variables not local?
In-Reply-To: <E169674-0004R7-00@bernstein.mrc-bsu.cam.ac.uk>
Message-ID: <Pine.LNX.4.31.0111281540040.14042-100000@gannet.stats>

The difference is in the FAQ:

   * In S, the index variable in a `for()' loop is local to the inside of
     the loop.  In R it is local to the environment where the `for()'
     statement is executed.

It is related to the treatment of {...}.  In S that starts a separate
frame: in R it does not (do the equivalent).  So you are probably
interpreting { ... } in a C-like way, and R is not like that.



On Wed, 28 Nov 2001, Richard Nixon wrote:

> Hello,
> I've had a quick look on the list and can't find an answer to this niggle.
>
> Whilst debugging some code, I noticed that looping variables in R are not
> local to the loop as seams common in procedural  languages.
> For example consider the following piece of code:
>
> for(i in 1:3){
>    cat(i,"")
>    for(i in c("a","b","c")){
>       cat(i,"")
>    }
>       cat(i,"\n")
> }
>
> In splus this will produce
> 1 a b c 1
> 2 a b c 2
> 3 a b c 3
>
> but in R it produces
> 1 a b c c
> 2 a b c c
> 3 a b c c
>
> That is the second "cat(i,"\n")" in the outer loop has taken the last value of
> i in the inner loop.
>
> Is anyone in the know as to why R uses global variables in loops? Just curious
> really, now I know how it works I can watch for it!
>
> Thanks
> Richard
>
> --
> Dr. Richard Nixon
> MRC Biostatistics Unit, Institute of Public Health,
> Robinson Way, Cambridge, CB2 2SR
>
> Alternative email: rmn20 at cam.ac.uk
> http://www.mrc-bsu.cam.ac.uk/personal/richard
> Tel: +44 (0)1223 330382, Fax: +44 (0)1223 330388
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Nov 28 17:46:48 2001
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: Wed, 28 Nov 2001 11:46:48 -0500
Subject: [R] Is there someone working on an R interface for Numerical Recipes?
References: <OFE896D3DB.F81EC578-ON88256B11.0062D96C@genelogic.com> <x2herghwg2.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C0514F8.8080700@keittlab.bio.sunysb.edu>

I would recommend the GNU Scientific Library 
(http://sources.redhat.com/gsl/) over Numerical Recipes. The general 
concensus is that the NR code is pretty poor quality (and the algorithms 
are a bit out-of-date as well).

Tim

Peter Dalgaard BSA wrote:

>MChow at genelogic.com writes:
>
>>Or can I easily call the routines in Numerical Recipes from within R?
>>Thanks.
>>
>
>Methods for interfacing to general C or Fortran code are outlined in
>the "R Extensions" manual.
>
>You should however beware that the licenses on R and NR are in
>conflict, and that you might get into difficulties in distributing
>your code. I don't think there's much material in NR that isn't
>already covered by other routines in R.
>

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From giles.heywood at CommerzbankIB.com  Wed Nov 28 18:16:07 2001
From: giles.heywood at CommerzbankIB.com (Heywood, Giles)
Date: Wed, 28 Nov 2001 17:16:07 -0000
Subject: [R] Assignment to a list in a function
Message-ID: <8CBAA121CEB4D5118CB200508BB2BBEF53FD89@xmx8lonib.lonib.commerzbank.com>

Assignment to a list in a function does not behave as I would expect.

The following function illustrates the point

#----------------------------------------
temp	_ function()
{
nf	_ 2
ns	_ 5
z		_ vector("list",ns)
x		_ matrix(NA,nrow=ns,ncol=nf)
for(j in 1:ns) 
	{
	for(i in 1:nf) 
		{
		x[,i]	_ i+j*100
		}
		
	z[[j]] _ x
		
	print(z[[j]])
	}
z
}
#------------------------------------------

Replacing the line that assigns z[[j]] with the following 2 lines produces
the expected result

	y      _ x
	z[[j]] _ y

Furthermore, I get the expected result by running the function under Splus
6.

My question is: do we have an instance of assignment by reference here?  Is
this behaviour intended?

Giles Heywood



********************************************************************** 
This communication is confidential and is intended only for 
the person to whom it is addressed.  If you are not that person you
are not permitted to make use of the information and you are requested 
to notify <mailto:LONIB.Postmaster at commerzbankib.com> immediately that 
you have received it and then destroy the copy in your possession.
Commerzbank AG is regulated by the SFA for the conduct of investment
business in the UK.
**********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at uncc.edu  Wed Nov 28 18:28:21 2001
From: jkawczak at uncc.edu (Janusz Kawczak)
Date: Wed, 28 Nov 2001 12:28:21 -0500 (EST)
Subject: [R] Similar to NUOPT package in R
In-Reply-To: <Pine.LNX.4.31.0111281540040.14042-100000@gannet.stats>
Message-ID: <Pine.SOL.4.33.0111281222340.1879-100000@is-sm1.uncc.edu>

R-users and R-developers:

do you know of any package in R (or for R) that can perform optimizations
for a linear and non-linear systems? I am aware of the NUOPT module in
S-Plus that provides an optimizer engine to do just that and more.

Thank you in advance.

Janusz Kawczak.

** Janusz Kawczak							**
** UNC at Charlotte, Department of Mathematics, Room 350F		**
** 9201 University City Blvd.						**
** Charlotte, NC, 28223-0001, U.S.A.					**
** Tel.: (704) 687-2566 (W) (704) 921-0273 (H) Fax.: (704) 687-6415	**

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 28 18:46:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Nov 2001 18:46:49 +0100
Subject: [R] Assignment to a list in a function
In-Reply-To: <8CBAA121CEB4D5118CB200508BB2BBEF53FD89@xmx8lonib.lonib.commerzbank.com>
References: <8CBAA121CEB4D5118CB200508BB2BBEF53FD89@xmx8lonib.lonib.commerzbank.com>
Message-ID: <x2vgfulree.fsf@blueberry.kubism.ku.dk>

"Heywood, Giles" <giles.heywood at CommerzbankIB.com> writes:

> Assignment to a list in a function does not behave as I would expect.
> 
> The following function illustrates the point
> 
> #----------------------------------------
> temp	_ function()
> {
> nf	_ 2
> ns	_ 5
> z		_ vector("list",ns)
> x		_ matrix(NA,nrow=ns,ncol=nf)
> for(j in 1:ns) 
> 	{
> 	for(i in 1:nf) 
> 		{
> 		x[,i]	_ i+j*100
> 		}
> 		
> 	z[[j]] _ x
> 		
> 	print(z[[j]])
> 	}
> z
> }
> #------------------------------------------
> 
> Replacing the line that assigns z[[j]] with the following 2 lines produces
> the expected result
> 
> 	y      _ x
> 	z[[j]] _ y
> 
> Furthermore, I get the expected result by running the function under Splus
> 6.

Um, you're not telling us what you're expecting, nor what you're
getting, nor what is supposedly wrong, nor which version of R this
relates to, nor the operating system.... 

Running your code (after removing the tab and underscore damage) I get
exactly the same result with or without the intermediate assignment.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Nov 28 17:04:54 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Wed, 28 Nov 2001 10:04:54 -0600
Subject: [R] Value lables, variable lables
Message-ID: <3C050B26.3010008@ukans.edu>

I'm looking for an analogy to SPSS and "variable lable" and "value 
lable" in R. I have a copy of S+4.0 and can't find any info in their 
docs, and don't find it in R-intro either.


In SPSS, for each variable, there is a name like

VAR001

and a variable lable (a longer descriptive string) like

Respondent ID

and for many of the values of other variables there are value lables.
For example, VAR008 has the lable

GENDER of Respondent

and it has values of 0 and 1, and the values are labled

0   Male
1   Female

Sometimes value lables are much longer strings.

Whenever a person runs a model in SPSS, the printout automatically finds 
the lable and prints it along with the variable name and the values are 
replaced by their lables.

In R, does one keep a list of variable lables and value lables? If so, 
where?  It seems to me that an R collection type like Map or Hash would 
be needed so one could put in a variable name and get back a lable.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 19:09:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 18:09:13 +0000 (GMT)
Subject: [R] Similar to NUOPT package in R
In-Reply-To: <Pine.SOL.4.33.0111281222340.1879-100000@is-sm1.uncc.edu>
Message-ID: <Pine.LNX.4.31.0111281805210.17986-100000@gannet.stats>

On Wed, 28 Nov 2001, Janusz Kawczak wrote:

> R-users and R-developers:
>
> do you know of any package in R (or for R) that can perform optimizations
> for a linear and non-linear systems? I am aware of the NUOPT module in
> S-Plus that provides an optimizer engine to do just that and more.

That's not really NUOPT's description as I recognize it (and I do have
S+NUOPT on this machine).

R has optim, package quadprog, and function simplex in package boot
related to various types of constrained optimizations.  Don't expect
something of quality of NUOPT for free, at least not with a user
interface.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 19:16:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 18:16:28 +0000 (GMT)
Subject: [R] Value lables, variable lables
In-Reply-To: <3C050B26.3010008@ukans.edu>
Message-ID: <Pine.LNX.4.31.0111281810480.17986-100000@gannet.stats>

We've been here before, so check the archives.

Aren't they labels, not lables?

R can use sensible names directly.  In particular, given S/R has factors,
I don't see that `variable lables' add anything:

gender <- factor(c(0,1,1), labels=c("Male", "Female"))

seems all you need.

There are also comment attributes in R:

VAR001 <- gender
comment(VAR001) <- "Gender of Respondent"

which might play the role of "variable lable" if you really can't use
meaningful names.


On Wed, 28 Nov 2001, Paul E Johnson wrote:

> I'm looking for an analogy to SPSS and "variable lable" and "value
> lable" in R. I have a copy of S+4.0 and can't find any info in their
> docs, and don't find it in R-intro either.
>
>
> In SPSS, for each variable, there is a name like
>
> VAR001
>
> and a variable lable (a longer descriptive string) like
>
> Respondent ID
>
> and for many of the values of other variables there are value lables.
> For example, VAR008 has the lable
>
> GENDER of Respondent
>
> and it has values of 0 and 1, and the values are labled
>
> 0   Male
> 1   Female
>
> Sometimes value lables are much longer strings.
>
> Whenever a person runs a model in SPSS, the printout automatically finds
> the lable and prints it along with the variable name and the values are
> replaced by their lables.
>
> In R, does one keep a list of variable lables and value lables? If so,
> where?  It seems to me that an R collection type like Map or Hash would
> be needed so one could put in a variable name and get back a lable.
>
> --
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Nov 28 19:27:36 2001
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: Wed, 28 Nov 2001 13:27:36 -0500
Subject: [R] R/S and large datasets - Database access (also Re: SAS and S/R)
References: <3C03AD33.1050507@bacbuc.dyndns.org>
Message-ID: <3C052C98.2090002@keittlab.bio.sunysb.edu>

Emmanuel Charpentier wrote:

> A consensus seems to emerge : R would excel to exploratory work on 
> small/middle-sized datasets, while SAS would be able to munch much 
> larger datasets.
>
> However, I see the "size" problem as a red herring. The objects that 
> have to stay "in core" are usually much smaller than the dataset. For 
> example, for problems involving fixed-effects linear models, you need 
> only some matrices whose size is proportional to the square of the 
> number of *variables* and the (admittedly large) vector of residues 
> (whose size is equl to the number of observations). Other cases 
> (nonlinear mixed effects models come to mind) are not as easily tamed 
> (any iterative process (shuch as ML estimation) has to get back  to 
> original data), but at least, the time penalty involved in the use of 
> such an interface pays back by allowing you to treat problems 
> otherwise untractable.
>
> I am aware of at least one database access package that allows to 
> access data without dragging a whole table in memory : the RPgSql 
> package offers what it calls a "proxy variable", which is an objet 
> that behaves, for all practical purposes, as a dataframe, but is an 
> interface to database tables. I see this kind of interface as a way to 
> avoid overloading core memory with data scarcely used.
>
> Unfortunately, the said package is now officially orphaned by its 
> developper, which states that he now focuses on the next database 
> access standard : the Rdbi interface, which is currently under 
> development, and which I don't know a thing about.
>
> So the question is : do the Rdbi interface offers such a proxy to data 
> still residing in databases ?
>
> Or am I barking up the wrong tree and trying to (re-)invent an 
> oversophisticated virtual memory manager ?  SShould the use of a 
> suficiently large swapfile be enough for these "large dataset" problems ?
>
The problem with proxy data frames is that you can't pass them to 
functions like 'lm' (at least when I tried it long ago), because the 
functions that make the proxy object look like a data frame only exist 
at the R level. When you drop down to internal C code, you call a 
different set of (non-overloadable) functions, so it just appears as a 
scalar object. Duncan's news about the generic "attach" interface may 
soon make this possible however. Actually, I've found that having 
learned some SQL, I now find it indespensible. As you say, generally you 
only work with a small subset of your data, and SQL queries is the best 
way I've found to do the subsetting.

Also, there has been some recent discussion of a proposed generic DBI 
interface for R/S. Rdbi was my attempt (actually what I originally set 
out to do with RPgSQL, but some necessary internal functions were not 
yet documented or in some cases not yet implemented). We more-or-less 
settled on David James' proposal, but I do not know if anyone is 
actually implementing it. It would be nice to have a reference 
implementation so we can try it out and see what we do or don't like. I 
hope to see all of this resolved soon as I have less and less time to 
put into it and my interests are moving elsewhere (e.g., more GIS 
capabilities).

T.

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Nov 28 19:45:14 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 28 Nov 2001 13:45:14 -0500
Subject: [R] Similar to NUOPT package in R
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC83CA@usrymx10.merck.com>

From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]

> On Wed, 28 Nov 2001, Janusz Kawczak wrote:
>
> > R-users and R-developers:
> >
> > do you know of any package in R (or for R) that can perform
optimizations
> > for a linear and non-linear systems? I am aware of the NUOPT module in
> > S-Plus that provides an optimizer engine to do just that and more.
>
> That's not really NUOPT's description as I recognize it (and I do have
> S+NUOPT on this machine).
>
> R has optim, package quadprog, and function simplex in package boot
> related to various types of constrained optimizations.  Don't expect
> something of quality of NUOPT for free, at least not with a user
> interface.

Yes.  The last time I checked (~2 years ago), NUOPT costed about 8-9 times
that of Splus 2000 itself.  Not the kind of $$ I would want to spend unless
for a darn good reason.

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Wed Nov 28 20:41:00 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Wed, 28 Nov 2001 11:41:00 -0800
Subject: [R] shell()/system() question
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C5@pnlmse10.pnl.gov>

Hi folks:

How do I get shell() or system() to run external programs in a particular
directory (different from the current R working directory)?

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R              
>

TIA.

Rajiv.
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 21:13:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 20:13:17 +0000 (GMT)
Subject: [R] shell()/system() question
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C5@pnlmse10.pnl.gov>
Message-ID: <Pine.LNX.4.31.0111282013080.18680-100000@gannet.stats>

On Wed, 28 Nov 2001, Prasad, Rajiv wrote:

> Hi folks:
>
> How do I get shell() or system() to run external programs in a particular
> directory (different from the current R working directory)?

Give the full path.

>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> >
>
> TIA.
>
> Rajiv.
> --------
> Rajiv Prasad
> Postdoctoral Research Associate, Hydrology Group
> Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
> Richland, WA 99352
> Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Nov 28 21:25:41 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 28 Nov 2001 14:25:41 -0600
Subject: [R] PNG diver problem
Message-ID: <OF377A5C99.F9CFE374-ON86256B12.006D9C95@mmm.com>

Hi,

I am having the following problem and I am not sure if this is bug or I am
missing something obvious.

I have a bunch of R functions that automatically process large data sets.
The processing produces several numerical summaries and several graphs
which are subsequently put in reports.  I usually do my processing in R
BATCH mode on a Win2000 machine.

All the graphical functions in my package have a switch between the windows
and png drivers.  When I run the processing interactively I get the plots
on the screen, but in the batch mode, the plots are produced as PNG files.

Everything works fin on the Win machine.  Yesterday I tried to do some work
on my home Linux machine.  I edited my code replacing the windows driver
with x11 and tried it in the interactive mode.  Things worked fine.  When I
ran  the same thing in the batch mode I got the following:

     Error in png(filen, width = 685, height = 684) :
               the x11 device has not been loaded
     Execution halted

I tried to load the x11 driver before the processing started, but no matter
what I tried I got the above error or a variation of it saying that x11
cannot be loaded.  It almost looks like one cannot load x11 in the batch
mode, but png somehow depends on it.

Is it me or is it a bug?

A few details:

(1) Under Win2000 the command I am using is

      Rcmd BATCH --no-save --quiet xxx.R

       where xxx.R is the R script.

(2) Under Linux the command is

       R CMD BATCH --no-save --quiet xxx.R

(3) The Windows and Linux code that does the processing is identical with
the exception of windows/x11 driver change

(4) My Linux box is a Pentium-MMX  266MHz machine with 192Mb of memory
running RH 7.2 Linux with customized 2.4.16 kernel.  My Win2000 machine is
an IBM Intellistation with 1GHz Pentium III and
      512Mb of memory.

(5) Both machines run R-1.3.1 (original versions dated 2001-08-31).

Any help will be appreciated.

Andy


__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Wed Nov 28 21:28:54 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Wed, 28 Nov 2001 12:28:54 -0800
Subject: [R] shell()/system() question
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C6@pnlmse10.pnl.gov>


> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, November 28, 2001 12:13 PM
> To: Prasad, Rajiv
> Cc: R-Help (E-mail)
> Subject: Re: [R] shell()/system() question
> 
> 
> On Wed, 28 Nov 2001, Prasad, Rajiv wrote:
> 
> > Hi folks:
> >
> > How do I get shell() or system() to run external programs 
> > in a particular
> > directory (different from the current R working directory)?
> 
> Give the full path.

Guess I did not specify the problem entirely.  Apologies.  I'll try again.

The "program" that I am trying to run accesses files stored in the same
directory where it is run, and produces output to stdout, which I am trying
to capture directly into R via shell().  This works well if the current
working directory in R is the same as where the program to be run is
located.  If not, the program fails since it cannot access its supporting
data files.

Since my earlier mail, I figured a workaround, using getwd() and setwd() to
temporarily change the R working directory, run the program using shell(),
and reset the R working directory to where it originally was.  Works via a
wrapper function.

Just wondering if shell() or system() may be provided with a "wd" argument?
Not a big deal, since the wrapper is easy to write.

Thanks for your quick reply.

Rajiv.
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Wed Nov 28 21:59:37 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Wed, 28 Nov 2001 12:59:37 -0800
Subject: [R] fill patterns
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C8@pnlmse10.pnl.gov>

Hi folks:

Any idea when the density and angle arguments to polygon() are to be
implemented?  Or is there another way to achieve hatching fill patterns?

TIA.

Rajiv.
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Nov 28 22:11:49 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 28 Nov 2001 15:11:49 -0600
Subject: [R] PNG diver problem
Message-ID: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>


I got a couple of answers already indicating that this is a known
"problem".  Thanks to everyone who responded and apologies for reposting a
known problem.  I must have missed the last post about this - I searched
the mailing list archive and found it about a year ago.  Apparently, one of
the solutions is to use the bitmap driver which produces the PNG files by
default anyway.

I noticed that the png help page mentions that it depends on the x11
device.  It just was not clear to me that one cannot use x11 in batch mode.

Finally, I am still curious why this thing works under Windows.  Was the
png driver rewritten for it?  Does it still depend on the windows device
but it can be invoked in batch mode?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    "Liaw, Andy"                                                                                                               
                    <andy_liaw at merc      To:     Andrzej P. Jaworski/US-Corporate/3M/US at 3M-Corporate                                           
                    k.com>               cc:                                                                                                   
                                         Subject:     RE: [R] PNG diver problem                                                                
                    11/28/2001                                                                                                                 
                    03:00 PM                                                                                                                   
                                                                                                                                               
                                                                                                                                               





This is a known bug/problem/whatever-you-want-to-call-it.  The help page
for
png (and jpeg) does say they depend on x11(), so this should not be called
a
bug.

You can run R without the BATCH to get access to png/jpeg device.  This is
the only way I know how.

You could have found the answer by searching the archive of this list, too.
This has been raised way too many times...

Andy

-----Original Message-----
From: apjaworski at mmm.com [mailto:apjaworski at mmm.com]
Sent: Wednesday, November 28, 2001 3:26 PM
To: r-help at stat.math.ethz.ch
Subject: [R] PNG diver problem


Hi,

I am having the following problem and I am not sure if this is bug or I am
missing something obvious.

I have a bunch of R functions that automatically process large data sets.
The processing produces several numerical summaries and several graphs
which are subsequently put in reports.  I usually do my processing in R
BATCH mode on a Win2000 machine.

All the graphical functions in my package have a switch between the windows
and png drivers.  When I run the processing interactively I get the plots
on the screen, but in the batch mode, the plots are produced as PNG files.

Everything works fin on the Win machine.  Yesterday I tried to do some work
on my home Linux machine.  I edited my code replacing the windows driver
with x11 and tried it in the interactive mode.  Things worked fine.  When I
ran  the same thing in the batch mode I got the following:

     Error in png(filen, width = 685, height = 684) :
               the x11 device has not been loaded
     Execution halted

I tried to load the x11 driver before the processing started, but no matter
what I tried I got the above error or a variation of it saying that x11
cannot be loaded.  It almost looks like one cannot load x11 in the batch
mode, but png somehow depends on it.

Is it me or is it a bug?

A few details:

(1) Under Win2000 the command I am using is

      Rcmd BATCH --no-save --quiet xxx.R

       where xxx.R is the R script.

(2) Under Linux the command is

       R CMD BATCH --no-save --quiet xxx.R

(3) The Windows and Linux code that does the processing is identical with
the exception of windows/x11 driver change

(4) My Linux box is a Pentium-MMX  266MHz machine with 192Mb of memory
running RH 7.2 Linux with customized 2.4.16 kernel.  My Win2000 machine is
an IBM Intellistation with 1GHz Pentium III and
      512Mb of memory.

(5) Both machines run R-1.3.1 (original versions dated 2001-08-31).

Any help will be appreciated.

Andy


__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_.
_._





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 22:16:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 21:16:13 +0000 (GMT)
Subject: [R] shell()/system() question
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C6@pnlmse10.pnl.gov>
Message-ID: <Pine.LNX.4.31.0111282115300.18762-100000@gannet.stats>

On Wed, 28 Nov 2001, Prasad, Rajiv wrote:

>
> > -----Original Message-----
> > From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> > Sent: Wednesday, November 28, 2001 12:13 PM
> > To: Prasad, Rajiv
> > Cc: R-Help (E-mail)
> > Subject: Re: [R] shell()/system() question
> >
> >
> > On Wed, 28 Nov 2001, Prasad, Rajiv wrote:
> >
> > > Hi folks:
> > >
> > > How do I get shell() or system() to run external programs
> > > in a particular
> > > directory (different from the current R working directory)?
> >
> > Give the full path.
>
> Guess I did not specify the problem entirely.  Apologies.  I'll try again.
>
> The "program" that I am trying to run accesses files stored in the same
> directory where it is run, and produces output to stdout, which I am trying
> to capture directly into R via shell().  This works well if the current
> working directory in R is the same as where the program to be run is
> located.  If not, the program fails since it cannot access its supporting
> data files.
>
> Since my earlier mail, I figured a workaround, using getwd() and setwd() to
> temporarily change the R working directory, run the program using shell(),
> and reset the R working directory to where it originally was.  Works via a
> wrapper function.
>
> Just wondering if shell() or system() may be provided with a "wd" argument?
> Not a big deal, since the wrapper is easy to write.

So the problem is your application, not R.  That's what getwd() and
setwd() are for!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Nov 28 22:21:50 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 28 Nov 2001 13:21:50 -0800 (PST)
Subject: [R] PNG diver problem
In-Reply-To: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>
Message-ID: <Pine.A41.4.33.0111281319370.149458-100000@homer05.u.washington.edu>

On Wed, 28 Nov 2001 apjaworski at mmm.com wrote:
> Finally, I am still curious why this thing works under Windows.  Was the
> png driver rewritten for it?  Does it still depend on the windows device
> but it can be invoked in batch mode?
>

It's the opposite.  The driver was written under Windows and ported to
Unix, where it relies on X11 calls.  While it is unusual for free software
to move from Windows to Unix there are a number of examples in R.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 22:22:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 21:22:47 +0000 (GMT)
Subject: [R] PNG diver problem
In-Reply-To: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>
Message-ID: <Pine.LNX.4.31.0111282118301.18762-100000@gannet.stats>

On Wed, 28 Nov 2001 apjaworski at mmm.com wrote:

>
> I got a couple of answers already indicating that this is a known
> "problem".  Thanks to everyone who responded and apologies for reposting a
> known problem.  I must have missed the last post about this - I searched
> the mailing list archive and found it about a year ago.  Apparently, one of
> the solutions is to use the bitmap driver which produces the PNG files by
> default anyway.
>
> I noticed that the png help page mentions that it depends on the x11
> device.  It just was not clear to me that one cannot use x11 in batch mode.

Well, that's not true, which is why it is not on the help page.  You can't
use it in BATCH mode, because X11 is set explicitly off.  I can use it in
batch mode: Debian Linux users cannot.

>From R-devel:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be available
     if R has been started with `--gui=none' (and will give a different
     error message), and they may not be usable unless the X11 display
     is available to the owner of the R process.

See Also:

     `bitmap' provides an alternative way to generate PNG and JPEG
     plots that does not depend on accessing the X11 display but does
     depend on having GhostScript installed.

> Finally, I am still curious why this thing works under Windows.  Was the
> png driver rewritten for it?  Does it still depend on the windows device
> but it can be invoked in batch mode?

Same reason it works under batch modes on Solaris: the screen device is
available to write with.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 28 22:26:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Nov 2001 22:26:37 +0100
Subject: [R] PNG diver problem
In-Reply-To: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>
References: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>
Message-ID: <x2oflmbn8y.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

> I got a couple of answers already indicating that this is a known
> "problem".  Thanks to everyone who responded and apologies for reposting a
> known problem.  I must have missed the last post about this - I searched
> the mailing list archive and found it about a year ago.  Apparently, one of
> the solutions is to use the bitmap driver which produces the PNG files by
> default anyway.
> 
> I noticed that the png help page mentions that it depends on the x11
> device.  It just was not clear to me that one cannot use x11 in batch mode.
> 
> Finally, I am still curious why this thing works under Windows.  Was the
> png driver rewritten for it?  Does it still depend on the windows device
> but it can be invoked in batch mode?

I think it works in Linux too if you explicitly set you DISPLAY
variable (w/ Sys.putenv()), provided that the display is active and
you have the permissions to access it when the code runs. Windows has
no such thing and will not let you do anything without having the
display open anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 28 22:31:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 21:31:03 +0000 (GMT)
Subject: [R] fill patterns
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF04B1C8@pnlmse10.pnl.gov>
Message-ID: <Pine.LNX.4.31.0111282128320.18762-100000@gannet.stats>

On Wed, 28 Nov 2001, Prasad, Rajiv wrote:

> Any idea when the density and angle arguments to polygon() are to be
> implemented?  Or is there another way to achieve hatching fill patterns?

When someone contributes the code:

`R is a collaborative project with many contributors.'

Arbitrary fill patterns would be nicer, too ....

Until then, I find colours/greyscales quite adequate.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sauleauea at factorix.sdv.fr  Wed Nov 28 22:56:25 2001
From: sauleauea at factorix.sdv.fr (SAULEAU EA)
Date: Wed, 28 Nov 2001 22:56:25 +0100
Subject: [R] Sample size multinomial distribution
Message-ID: <3.0.6.32.20011128225625.007c36a0@mail.sdv.fr>

Dear R-users,

I have to estimate several proportions, with a fixed precision, in a
population, modelled by a multinomial distribution. Proportions are not
independent. My problem is to calculate the sample size for this (or these)
precision. Is there any R-programm for doing this? Can I sum each sample
size for each proportion separately? Is there any good paper on this?

Thanks for help,
EAS.
          ,,,                ,,,
!        (o-o)              (0-0)	!
!____ ooO-(_)-Ooo ______ ooO-(_)-Ooo____!
!					!
! SAULEAU Erik-A.  MD			!
! Medical Informatics Department	!
! Centre Hospitalier			!
! Mulhouse				!
! France				!
!					!
! sauleauea at sdv.fr			!
!_______________________________________!




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bbuchsba at uci.edu  Wed Nov 28 23:06:52 2001
From: bbuchsba at uci.edu (Brad Buchsbaum)
Date: Wed, 28 Nov 2001 14:06:52 -0800
Subject: [R] trellis plot
Message-ID: <3C055FFC.95E304C2@uci.edu>

Hi,

I'd like to plot 4 groups of data using xyplot and panel.superpose so
that the points are overlayed on a single plot.  For each group of data
I'd also like a loess smoothed function (using panel.loess).  I have
tried the following:

xyplot(series ~ time | gr, data=etable,
         panel = function(x,y, ...) {
           panel.superpose(x,y, ...)
           panel.loess(x,y,span=.15)

           }
)

However, this gives me only a single loess curve (collapsed across
groups) whereas I would like one curve for each group (just as I get one
color for each set of points from the panel.superpose).

Is there a way to accomplish this?


thanks,

Brad Buchsbaum

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneandco.com  Wed Nov 28 23:11:36 2001
From: andys at neptuneandco.com (Andrew Schuh)
Date: Wed, 28 Nov 2001 15:11:36 -0700
Subject: [R] PNG diver problem
References: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com> <x2oflmbn8y.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C056118.3060107@neptuneandco.com>

Do you have an example of this (code-wise)?  I am using RH7.2 and R1.3 
and do a lot of batch processing.  Currently I use ImageMagick to 
convert postscript images generated by R since I have had some trouble 
using the PNG device (strangely translated axis lines, etc).  However, 
it would be nice to be able to batch out bitmaps without using ImageMagick.

Peter Dalgaard BSA wrote:

>apjaworski at mmm.com writes:
>
>>I got a couple of answers already indicating that this is a known
>>"problem".  Thanks to everyone who responded and apologies for reposting a
>>known problem.  I must have missed the last post about this - I searched
>>the mailing list archive and found it about a year ago.  Apparently, one of
>>the solutions is to use the bitmap driver which produces the PNG files by
>>default anyway.
>>
>>I noticed that the png help page mentions that it depends on the x11
>>device.  It just was not clear to me that one cannot use x11 in batch mode.
>>
>>Finally, I am still curious why this thing works under Windows.  Was the
>>png driver rewritten for it?  Does it still depend on the windows device
>>but it can be invoked in batch mode?
>>
>
>I think it works in Linux too if you explicitly set you DISPLAY
>variable (w/ Sys.putenv()), provided that the display is active and
>you have the permissions to access it when the code runs. Windows has
>no such thing and will not let you do anything without having the
>display open anyway...
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011128/df3be4de/attachment.html

From ripley at stats.ox.ac.uk  Wed Nov 28 23:20:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Nov 2001 22:20:41 +0000 (GMT)
Subject: Lattice superposition: (was [R] trellis plot)
In-Reply-To: <3C055FFC.95E304C2@uci.edu>
Message-ID: <Pine.LNX.4.31.0111282216050.18837-100000@gannet.stats>

On Wed, 28 Nov 2001, Brad Buchsbaum wrote:

> Hi,
>
> I'd like to plot 4 groups of data using xyplot and panel.superpose so
> that the points are overlayed on a single plot.  For each group of data
> I'd also like a loess smoothed function (using panel.loess).  I have
> tried the following:
>
> xyplot(series ~ time | gr, data=etable,
>          panel = function(x,y, ...) {
>            panel.superpose(x,y, ...)
>            panel.loess(x,y,span=.15)
>
>            }
> )
>
> However, this gives me only a single loess curve (collapsed across
> groups) whereas I would like one curve for each group (just as I get one
> color for each set of points from the panel.superpose).
>
> Is there a way to accomplish this?

Make a copy of panel.superpose, say panel.multiloess, and replace the
call inside it to panel.xyplot by a call to panel.loess.

Or start with panel.loess and add subscripts and groups arguments a la
panel.superpose.

Generally, when using Trellis (and Lattice) you need to customize panel
(and prepanel) functions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mscarr at excitehome.net  Wed Nov 28 23:23:28 2001
From: mscarr at excitehome.net (Mark Scarr)
Date: Wed, 28 Nov 2001 14:23:28 -0800
Subject: [R] Converting date variables to integers for regression
In-Reply-To: <3BF3FDA7.5711FA61@bank-banque-canada.ca>
Message-ID: <000601c1785b$4e3667f0$0e090018@CORPNT.NET>

Hi All,

I am performing some piecewise linear 
regression where my X-variable is the date mm/dd/yyyy
stored as a character vector. I would like to convert this
to an integer vector so I can set up dummy variables for the knots
and then perform the regression. Alternatively is it possible to 
work with date objects? I was able to use certain binary operators
such as "-" with date objects, but am uncertain if it is possible
to use such objects for regression?


Any help would be most appreciated.


Thanks in advance

Mark.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 28 23:31:08 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Nov 2001 23:31:08 +0100
Subject: [R] PNG diver problem
In-Reply-To: <Pine.LNX.4.31.0111282209340.18837-100000@gannet.stats>
References: <Pine.LNX.4.31.0111282209340.18837-100000@gannet.stats>
Message-ID: <x2r8qih6j7.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > I think it works in Linux too if you explicitly set you DISPLAY
> > variable (w/ Sys.putenv()), provided that the display is active and
> > you have the permissions to access it when the code runs. Windows has
> > no such thing and will not let you do anything without having the
> > display open anyway...
> 
> It works for me on Solaris and my XIG Linux Xsever without doing anything
> at all, BTW, but I suspect I do have permissions set for ripley at gannet,
> say.

Actually it doesn't work on Linux... The issue is that the x11 device
is not *loaded*, i.e. it is in the shared library startup code. That
could take a while to figure out how to override. However, there seems
to be nothing wrong with this:

R --vanilla < try.R > try.Rout

and try.R containing

png("try.png")
plot(0)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lorenmc at socrates.berkeley.edu  Thu Nov 29 00:25:29 2001
From: lorenmc at socrates.berkeley.edu (loren mccarter)
Date: Wed, 28 Nov 2001 15:25:29 -0800 (PST)
Subject: [R] Value lables, variable lables
In-Reply-To: <3C050B26.3010008@ukans.edu>
Message-ID: <Pine.GSO.4.21.0111281454210.25655-100000@socrates.Berkeley.EDU>

Yes, when I first made the switch from SPSS to SAS and R, I had the same
question. I quite liked the way SPSS did this. I also liked the
FileInfo menu option (I think that was the name of it), which essentially
supplied a verbose description of the data set based on the variable and
value labels. Here's some pointers to help with the transition: 

VALUE LABELS:

   See help(factor). The factor() function has a label option that allows
the setting of value labels for R factors (e.g., Gender; Ethnicity).

VARIABLE LABELS:
   
   I'm not aware of an exact equivalent. To name a field/variable/column 
in an R data frame, I use the names() function. R allows for long names
(even with spaces as long as you use quotes) and thus I haven't found
variable labels to be all that necessary. The old SPSS allowed only 8
characters and thus labels were necessary for files with lots of
variables. 

The only time that I *really* want a longer, descriptive label is when I'm
creating figures or tables, at which point I use the xlab/ylab options for
plot. For tables, I usually create a separate dataframe containing only
those data that will be in the table and use the names() function. In
other words work with short names for 90% of the time and use long names
in plots for the other 10% where I'm presenting results. 

Finally, when I used SPSS for work in psychology, I found that people
often stored large SPSS data files with lots (e.g., 3000) of variables
(columns) and a few (e.g., 200) observations (rows). In these situations,
variable labels were absolutely necessary. If you need to deal with such
an issue, I would recommend that you look into using R with an underlying
database (e.g., MySQL, PostgreSQL). Store the large SPSS file in the
database where every field can be fully documented in a database
table. Then, when the time comes to do an analysis requiring R, pull only
the relevant fields into R using the database connection.

I've found the R/Database combo to be a fully functional system where both
parts outperform the all-in-one systems such as SPSS and SAS. 

Loren


On Wed, 28 Nov 2001, Paul E Johnson wrote:

> I'm looking for an analogy to SPSS and "variable lable" and "value 
> lable" in R. I have a copy of S+4.0 and can't find any info in their 
> docs, and don't find it in R-intro either.
> 
> 
> In SPSS, for each variable, there is a name like
> 
> VAR001
> 
> and a variable lable (a longer descriptive string) like
> 
> Respondent ID
> 
> and for many of the values of other variables there are value lables.
> For example, VAR008 has the lable
> 
> GENDER of Respondent
> 
> and it has values of 0 and 1, and the values are labled
> 
> 0   Male
> 1   Female
> 
> Sometimes value lables are much longer strings.
> 
> Whenever a person runs a model in SPSS, the printout automatically finds 
> the lable and prints it along with the variable name and the values are 
> replaced by their lables.
> 
> In R, does one keep a list of variable lables and value lables? If so, 
> where?  It seems to me that an R collection type like Map or Hash would 
> be needed so one could put in a variable name and get back a lable.
> 
> -- 
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Nov 29 02:38:12 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 29 Nov 2001 14:38:12 +1300
Subject: [R] fill patterns
References: <Pine.LNX.4.31.0111282128320.18762-100000@gannet.stats>
Message-ID: <019001c17876$81cc79e0$7632d882@stat.auckland.ac.nz>

Hi


> > Any idea when the density and angle arguments to polygon() are to be
> > implemented?  Or is there another way to achieve hatching fill patterns?
>
> When someone contributes the code:
>
> `R is a collaborative project with many contributors.'
>
> Arbitrary fill patterns would be nicer, too ....
>
> Until then, I find colours/greyscales quite adequate.


Ross has some (R) code contributed by someone else that he almost has ready
to commit.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu Nov 29 02:38:06 2001
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 28 Nov 2001 17:38:06 -0800
Subject: [R] PNG diver problem
In-Reply-To: 
 <Pine.A41.4.33.0111281319370.149458-100000@homer05.u.washington.edu>
References: 
 <Pine.A41.4.33.0111281319370.149458-100000@homer05.u.washington.edu>
Message-ID: <p05101034b82b3ec9f77f@[128.115.153.6]>

My experience agrees with what Peter Dalgaard mentioned.
That is, png() requires an active x11 server (process) to be 
available, and the DISPLAY environment variable set to such a server.

At 10:26 PM +0100 11/28/01, Peter Dalgaard BSA wrote:
>
>I think it works in Linux too if you explicitly set you DISPLAY
>variable (w/ Sys.putenv()), provided that the display is active and
>you have the permissions to access it when the code runs. Windows has
>no such thing and will not let you do anything without having the
>display open anyway...
>

At 1:21 PM -0800 11/28/01, Thomas Lumley wrote:
>On Wed, 28 Nov 2001 apjaworski at mmm.com wrote:
>>  Finally, I am still curious why this thing works under Windows.  Was the
>>  png driver rewritten for it?  Does it still depend on the windows device
>>  but it can be invoked in batch mode?
>>
>
>It's the opposite.  The driver was written under Windows and ported to
>Unix, where it relies on X11 calls.  While it is unusual for free software
>to move from Windows to Unix there are a number of examples in R.
>
>	-thomas
>

The phrase "relies on X11 calls" makes me wonder...if the machine has 
x11, then whether or not an X11 server running, the libraries are 
there. So perhaps png() could be made to work even so? Far beyond my 
capability, unfortunately.

I, too, would really appreciate having png() [and jpeg()] available 
without also having to have an x11 server running.

One possibility is Xvfb, which comes with at least one version of 
XFree86. As I understand it, it's intended for just these kinds of 
situations. I believe that "vfb" stands for "virtual frame buffer", 
so that if you have Xvfb running you can point DISPLAY at it and use 
drivers like png() and jpeg() that require a Xserver.

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Thu Nov 29 07:36:47 2001
From: pem at theriver.com (Patrick E. McKnight)
Date: Wed, 28 Nov 2001 23:36:47 -0700
Subject: [R] Help with ICC
Message-ID: <3C05D77F.1000708@theriver.com>

Tom,

Perhaps the following code will do the trick :

	ICC <- lm(x~j + i,data=iccdata)
	edf <- df.residual(ICC)
	ems <- deviance(ICC)/edf
	bdf <- anova(ICC)[1,1]
	bms <- anova(ICC)[1,2]/bdf
	msb <- bms
	jdf <- anova(ICC)[2,1]
	jms <- anova(ICC)[2,2]/jdf
	k <- jdf + 1
	msw <- ((ems*edf)+(jms*jdf))/(edf+jdf)
	wms <- msw
	n <- bdf + 1
	theta <- (msb - msw)/(k*msw)
	winer11 <- theta / (1+theta)
	winer1k <- (k*theta)/(1+k*theta)
	sf11 <- (bms - wms)/(bms+(k-1)*wms)
	sf21 <- (bms - ems)/((bms)+((k-1)*ems)+((k*(jms-ems))/n))
	sf31 <- (bms - ems)/(bms+((k-1)*ems))
	sf1k <- (bms - wms)/bms
	sf1k <- (bms - ems)/(bms+((jms-ems)/n))
	sf3k <- (bms - ems)/bms

Invoke a few print commands for the output desired and voila, Shrout and 
Fleiss ICC's right from R.  I might have a few typos in the above code 
but the general picture works.  I tested the critical parts.  In 
addition, the parceling of the anova output is rather clunky.  I hope 
others will show us a more efficient method of extracting the sums of 
squares. Let me know if the results are consistent with your hand 
calculations.

Cheers,

Patrick

NB:  The general approach above was abstracted from Robert M. Hamer's 
SAS macro.
__________________________________________________________________________________________
Patrick E. McKnight
Evaluation Group for Analysis of Data
University of Arizona
Department of Psychology
Tucson, AZ  85721
520-621-5463
pem at theriver.com

Original message....

Hello, R-folks:

Here is a statement I use to make a data frame:

iccdata <- data.frame(i=rep(1:10,rep(2,10)),j=rep(1:2,10),
x=c(0.35011,0.11989,0.13081,0.09919,0.16000,0.12000,0.00000,0.00000,
0.44023,0.32977,2.67081,2.63919,0.09050,0.03950,0.44019,0.30981,0.59000,
0.57000,4.03000,3.77000))

<snip>

Now, how do you use (lme in) R to compute the Intraclass correlation for
these data?  I have written brute-force code to get the "right" answer, but
I cannot get the proper mean squares from any regression model I have tried.
It seems like it should be trivial, but I cannot do it!  I need this to work
in order to apply the technique to a much larger data set.  I could use my
silly code, in SAS, but I want to see and understand the variance
components.  After studying Pinheiro and Bates for a while, I naively tried
the following, which is not what I want.


>> ICC <- groupedData(x~j|i,data=iccdata)
>> ICC.lme <- lme(x~j,data=ICC)
>

Can you help me?  Thanks in advance!

Tom



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Thu Nov 29 07:54:40 2001
From: mase at is.titech.ac.jp (Shigeru MASE)
Date: Thu, 29 Nov 2001 15:54:40 +0900
Subject: [R] Can I see japanese in R run with Emacs(ESS) ?
In-Reply-To: <000d01c177e3$16f94140$0400a8c0@miyoshi>
References: <000d01c177e3$16f94140$0400a8c0@miyoshi>
Message-ID: <20011129155440K.mase@is.titech.ac.jp>

Dear Mr. Hiroto Miyoshi, 

I am a Japanese R user. I cannot understand what you 
actually want to know. (I need to say I use R from Linux, 
not from MS Windows.) 

You can insert and see Japanese in R code if your
(X)Emacs has the mule (Japanized) option. This is 
so regardless to the use of ESS. I frequently insert 
Japanese comments in R codes.

If your question is whether or not you can use Japanese
symbols or names in R code, it seems problematic.
I heard this is apparently OK, but actually it usually 
seems to cause some character coding problems later.

If your question is whether or not you can use Japanese
in graphic outputs, the answer is OK. type "help(Japanese")
to R prompt. But the set of available Japanese characters 
is rather limited and you must input them by their code 
numbers. Experts can handle this problem by editing output 
ps file directly.

You can see several discussions about the use of Japanese in R
in past articles of R-jp (mailing list of a small Japanese 
R-user groups), see 

http://www.md.tsukuba.ac.jp/epidemiology/~mokada/ml/R-jp.html
 

By the way, let me introduce my Japanese web-page

http://www.is.titech.ac.jp/~mase/

This page includes Japanese translation of two basic manuals

"Introduction to R" and "Writing R Extensions"

as well as translation of about half of R basic help manuals
in html format. I hope they will help R-users in Japan.

------------------------------------------------------------------
Shigeru MASE <mase at is.titech.ac.jp>
Dept. of Math. and Comp. Sciences,
Tokyo Institute of Technology,
O-Okayama, Meguro-ku, Tokyo 152-8550, Japan
Tel(& Fax) +81-3-5734-3877 (Laboratory)
------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 29 09:17:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Nov 2001 08:17:59 +0000 (GMT)
Subject: [R] Can I see japanese in R run with Emacs(ESS) ?
In-Reply-To: <20011129155440K.mase@is.titech.ac.jp>
Message-ID: <Pine.LNX.4.31.0111290816060.19180-100000@gannet.stats>

On Thu, 29 Nov 2001, Shigeru MASE wrote:

> Dear Mr. Hiroto Miyoshi,
>
> I am a Japanese R user. I cannot understand what you
> actually want to know. (I need to say I use R from Linux,
> not from MS Windows.)
>
> You can insert and see Japanese in R code if your
> (X)Emacs has the mule (Japanized) option. This is
> so regardless to the use of ESS. I frequently insert
> Japanese comments in R codes.
>
> If your question is whether or not you can use Japanese
> symbols or names in R code, it seems problematic.
> I heard this is apparently OK, but actually it usually
> seems to cause some character coding problems later.
>
> If your question is whether or not you can use Japanese
> in graphic outputs, the answer is OK. type "help(Japanese")
> to R prompt. But the set of available Japanese characters
> is rather limited and you must input them by their code
> numbers. Experts can handle this problem by editing output
> ps file directly.

For Windows only, see the rw-FAQ: the Windows devices allow Japanese
TrueType fonts to be used directly.  (A feature added at the request of a
Japanese user, but one a visitor showed me working once on his laptop.)

>
> You can see several discussions about the use of Japanese in R
> in past articles of R-jp (mailing list of a small Japanese
> R-user groups), see
>
> http://www.md.tsukuba.ac.jp/epidemiology/~mokada/ml/R-jp.html
>
>
> By the way, let me introduce my Japanese web-page
>
> http://www.is.titech.ac.jp/~mase/
>
> This page includes Japanese translation of two basic manuals
>
> "Introduction to R" and "Writing R Extensions"
>
> as well as translation of about half of R basic help manuals
> in html format. I hope they will help R-users in Japan.
>
> ------------------------------------------------------------------
> Shigeru MASE <mase at is.titech.ac.jp>
> Dept. of Math. and Comp. Sciences,
> Tokyo Institute of Technology,
> O-Okayama, Meguro-ku, Tokyo 152-8550, Japan
> Tel(& Fax) +81-3-5734-3877 (Laboratory)
> ------------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Thu Nov 29 09:51:50 2001
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Thu, 29 Nov 2001 08:51:50 +0000
Subject: [R] trellis plot
References: <3C055FFC.95E304C2@uci.edu>
Message-ID: <3C05F726.9B47608@sentoo.sn>

Hi Brad,

Here is a function adapted from panel.superpose (S+ version). Please
note the use of llines instead of lines (bottom of the code).

Hope this helps;

Renaud

panel.superpose.loess <- function(x, y, subscripts, groups,
   lwd = superpose.line$lwd, lty = superpose.line$lty, col = NULL,
   f=2/3, iter=3, delta = 0.1*diff(range(x)), ...){
  superpose.line   <- trellis.par.get("superpose.line")
  groups           <- as.numeric(as.factor(groups))[subscripts]
  max.groups       <- max(groups)
  lty  <- rep(lty,  length = max.groups)
  lwd  <- rep(lwd,  length = max.groups)
  if(is.null(col)) {
    sl  <- rep(superpose.line$col, length = max.groups)
    col <- numeric(max.groups)
    for(i in 1:max.groups) col[i] <- sl[i]}
  else col <- rep(col, length = max.groups)
  N <- seq(along = groups)
  for(i in sort(unique(groups))) {
    which <- N[groups == i] 
    j <- which  # no sorting
    llines(lowess(x[j], y[j], f = f, iter = iter, delta = delta),
          col = col[i], lwd = lwd[i], lty = lty[i], ...)
  }
}


library(lattice)
data(ethanol)

EE <- cut(ethanol$E, breaks = quantile(ethanol$E, prob = seq(0, 1,
1/3)), include.lowest = T)

trellis.device(bg = 0)
xyplot(NOx ~ C, groups = EE, data = ethanol,
  key = list(space = "right", title = "EE",
              text = list(levels(EE), cex = 1.2),
              lines = list(lty = c(1,2,4), pch = c(1, 8, 16), col = 1:3,
type = "b", cex = 1.1)),
  panel = function(x, y, ...) {
    panel.superpose(x, y, pch = c(1, 8, 16), col = 1:3, ...)
    panel.superpose.loess(x, y, lty = c(1,2,4), col = 1:3, ...)
    }
  )



Brad Buchsbaum wrote:
> 
> Hi,
> 
> I'd like to plot 4 groups of data using xyplot and panel.superpose so
> that the points are overlayed on a single plot.  For each group of data
> I'd also like a loess smoothed function (using panel.loess).  I have
> tried the following:
> 
> xyplot(series ~ time | gr, data=etable,
>          panel = function(x,y, ...) {
>            panel.superpose(x,y, ...)
>            panel.loess(x,y,span=.15)
> 
>            }
> )
> 
> However, this gives me only a single loess curve (collapsed across
> groups) whereas I would like one curve for each group (just as I get one
> color for each set of points from the panel.superpose).
> 
> Is there a way to accomplish this?
> 
> thanks,
> 
> Brad Buchsbaum
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Nov 28 15:09:19 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 28 Nov 2001 14:09:19 +0000
Subject: [R] Named pipe connections and stdout
In-Reply-To: <20011128085058.A4542@jessie.research.bell-labs.com>
References: <it3wjDAJIhA8Ewfy@myatt.demon.co.uk>
 <x2itbxx1zs.fsf@blueberry.kubism.ku.dk> <b9v+nJAozhA8Ew5m@myatt.demon.co.uk>
 <3C04BAD2.53CF2B16@ozemail.com.au> <my8BUVAiJOB8EwGC@myatt.demon.co.uk>
 <20011128085058.A4542@jessie.research.bell-labs.com>
Message-ID: <qj3SgDAPAPB8Ew2D@myatt.demon.co.uk>

Duncan,

You write:

>Just some remarks on what may be available on this front in the near future.
>
>Many months ago, I did extend the "event loop" in R to handle events
>on connections (i.e. setReader()) and allow timers. Unfortunately, I
>did not get to commit it the public R code. However, I do plan on
>doing so quite soon and making the event loop more friendly to Tcl/Tk,
>Gtk, etc.  when they run in R and when R runs within those
>applications.  Given the imminent release of R-1.4.0, the changes will
>not be in that version, but will be in soon after.

That is very good news. I was thinking that connections are a relatively
new addition to R and that they would be improved over time.

>Also, I am just about to complete the RGtk package which provides R
>bindings to the Gdk and Gtk libraries. This is a possible alternative
>to Tcl/Tk and it appears to have more widgets. Of course, Tcl/Tk is on
>many machines and is known to work on Unix, Windows and Mac.  Gtk
>should work on Unix and Windows without much difficulty, and is being
>ported to the Mac.  Most of the code is automatically generated from
>what are termed .defs files describing the libraries and so it is a)
>less buggy than manually generated code, b) easy to add new libraries
>(e.g. the Gnome application library).

That should be an interesting development.

Thanks for the information,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 29 12:01:25 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Nov 2001 12:01:25 +0100
Subject: [R] PNG diver problem
In-Reply-To: <p05101034b82b3ec9f77f@[128.115.153.6]>
References: <Pine.A41.4.33.0111281319370.149458-100000@homer05.u.washington.edu>
	<p05101034b82b3ec9f77f@[128.115.153.6]>
Message-ID: <x28zcpx2m2.fsf@blueberry.kubism.ku.dk>

Don MacQueen <macq at llnl.gov> writes:

> The phrase "relies on X11 calls" makes me wonder...if the machine has
> x11, then whether or not an X11 server running, the libraries are
> there. So perhaps png() could be made to work even so? Far beyond my
> capability, unfortunately.

I believe the problem is that things like font metrics are only known
by the X11 server. Different servers may have different font sets
available. So to write text, programs must ask the X server for the
information. (R has no fonts, only metrics, so we need to rely on
those of either Ghostscript or X11.)

> I, too, would really appreciate having png() [and jpeg()] available
> without also having to have an x11 server running.
> 
> One possibility is Xvfb, which comes with at least one version of
> XFree86. As I understand it, it's intended for just these kinds of
> situations. I believe that "vfb" stands for "virtual frame buffer", so
> that if you have Xvfb running you can point DISPLAY at it and use
> drivers like png() and jpeg() that require a Xserver.

Yes. I believe that is essentially the point of that program. One
issue is that to use it you need to specify a display number that is
not currently in use. If you want an automated procedure, I think
there needs to be a way to get the program to find a new display for
you, and I'm not sure what is a nice way to do that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schutz at wehi.edu.au  Thu Nov 29 12:35:00 2001
From: schutz at wehi.edu.au (Frederic Schutz)
Date: Thu, 29 Nov 2001 22:35:00 +1100
Subject: [R] Variable selection in R
Message-ID: <7s6c0uk4lf2r5kg9md35a5c3ou086utpbi@4ax.com>

Hello,

I am pretty sure that my question is a FAQ, but I haven't been able to find
the answer...

I am looking for variable selection procedures (for a linear model), but
the only one that I have been able to find in R is "step". Isn't there an
equivalent of the "stepwise" function in SPlus ? step works, but I would
like to try an other method than AIC.

Thanks in advance for any information !

Fr?d?ric
--
Fr?d?ric SCH?TZ                      email: schutz at wehi.edu.au
Genetics and Bioinformatics Group
The Walter and Eliza Hall Institute of Medical Research
Phone: +61 3 9345 2627               Fax: +61 3 9347 0852
Post Office
Royal Melbourne Hospital, 3050
Victoria, Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at ling.ohio-state.edu  Thu Nov 29 15:06:57 2001
From: vasishth at ling.ohio-state.edu (Shravan Vasishth)
Date: Thu, 29 Nov 2001 09:06:57 -0500 (EST)
Subject: [R] plotting (a) confidence intervals (b) standard error
Message-ID: <Pine.SOL.4.33.0111290843140.1944-100000@julius.ling.ohio-state.edu>

Hi all,

I'm building a plot of the values in tmeant (below) against positions 1 to
5, using matplot.

tmeant looks like this:

        case1     case2
pos1 861.8466  818.5909
pos2 961.2841  976.3466
pos3 878.6080 1262.8523
pos4 950.8011 1129.6080
pos5 968.1080 1063.3920

I also have lower (object tl) and upper (object tu) bounds on the
confidence intervals as follows:

tl:

        pos1     pos2      pos3     pos4     pos5
case1 761.4777 872.8367  756.7253 806.7503 849.9667
case2 735.1803 878.2557 1058.0583 991.7346 895.0864

tu:

         pos1     pos2     pos3     pos4     pos5
case1 962.2155 1049.731 1000.491 1094.852 1086.249
case2 902.0015 1074.437 1467.646 1267.481 1231.698

My R code is given towards the end of this message; it plots the values in
tmeantmatrix against positions 1-5, and puts the confidence interval (CI)
bars at the right points using tl and tu.

However, I can't figure out how to get the CI bars to have those
delimiters (a shape like "I"), all I get is a straight line through the
relevant point.

A related question is: I also have standard errors in a matrix called tse:

          pos1     pos2     pos3     pos4     pos5
case1 49.76907 43.85765  60.4369 71.42927 58.58170
case2 41.36010 48.63950 101.5495 68.36609 83.45631

Is there some way to plot these (instead of CI bars) without having to
first compute lower and upper bounds (i.e., without having to specify x0,
y0, and x1, y1 in "segments") for each standard error? I guess this would
amount to having a way to refer to each point already plotted, and saying
something like: take each point as the dimension of an error bar, and put
it at the relevant point (I'm thinking of something like gnuplot, which
has a nice semantics for this: if you give it three columns to plot and
specify that you want error bars, it will use the third column as the
dimensions of the error bars).


#----------------The code for the graph with CI bars------------------------

tmeantmatrix<- matrix(tmeant,ncol=2)   # make tmeant a 2-column matrix

# plot using matplot:

matplot(c(1:5), tmeantmatrix, xlab = "Position", ylab = "Mean Reading Time
(msecs)", main = "Test")

# add lines connecting the points:

matplot(tmeantmatrix, pch = 1:2, type = "o", lty=1:2, lwd=3, col =
rainbow(ncol(tmeantmatrix)),add=TRUE)

# add CI bars:

xzero <- t(matrix(rep(1:5,2),ncol=2))

xone <- xzero

segments(x0=xzero, y0=tl, x1=xone, y1=tu)

#-------------------end of code------------------------------

Many thanks in advance,

-- 
Shravan Vasishth
Dept. of Linguistics, OSU
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu Nov 29 15:35:27 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Thu, 29 Nov 2001 09:35:27 -0500
Subject: [R] package argument to library as string
Message-ID: <15366.18351.557717.657457@gargle.gargle.HOWL>

The help page for library says that:

package, help: name or character string giving the name of a package.

Yet, I don't seem to be able to use a string variable here.

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   
> pkg <- "ts"
> pkg
[1] "ts"
> library(pkg)
Error in library(pkg) : There is no package called `pkg'
> library(ts)
> detach(2)
> library("ts")
> 

What am I misunderstanding? Why isn't pkg treated the same as "ts" by library()?

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov 29 15:50:31 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 29 Nov 2001 09:50:31 -0500 (EST)
Subject: [R] plotting (a) confidence intervals (b) standard error
In-Reply-To: <Pine.SOL.4.33.0111290843140.1944-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.30.0111290947001.13344-100000@bolker.zoo.ufl.edu>


  This is a FAQ (although you've gotten farther than most in figuring out
how to do it for yourself):

http://www.R-project.org/nocvs/mail/r-help/2000/0451.html
http://www.R-project.org/nocvs/mail/r-help/2000/2289.html
http://www.R-project.org/nocvs/mail/r-help/2000/3326.html
http://www.r-project.org/nocvs/mail/r-help/2001/2050.html

  In short, you can either use arrows() with angle=90 to construct your
own error bars, or look at the code for plotCI contained within

http://www.zoo.ufl.edu/bolker/R/{windows,linux}/bbmisc.{tar.gz,zip}
(pick your platform).

 Ben Bolker

On Thu, 29 Nov
2001, Shravan Vasishth wrote:

> Hi all,
>
> I'm building a plot of the values in tmeant (below) against positions 1 to
> 5, using matplot.
>
> tmeant looks like this:
>
>         case1     case2
> pos1 861.8466  818.5909
> pos2 961.2841  976.3466
> pos3 878.6080 1262.8523
> pos4 950.8011 1129.6080
> pos5 968.1080 1063.3920
>
> I also have lower (object tl) and upper (object tu) bounds on the
> confidence intervals as follows:
>
> tl:
>
>         pos1     pos2      pos3     pos4     pos5
> case1 761.4777 872.8367  756.7253 806.7503 849.9667
> case2 735.1803 878.2557 1058.0583 991.7346 895.0864
>
> tu:
>
>          pos1     pos2     pos3     pos4     pos5
> case1 962.2155 1049.731 1000.491 1094.852 1086.249
> case2 902.0015 1074.437 1467.646 1267.481 1231.698
>
> My R code is given towards the end of this message; it plots the values in
> tmeantmatrix against positions 1-5, and puts the confidence interval (CI)
> bars at the right points using tl and tu.
>
> However, I can't figure out how to get the CI bars to have those
> delimiters (a shape like "I"), all I get is a straight line through the
> relevant point.
>
> A related question is: I also have standard errors in a matrix called tse:
>
>           pos1     pos2     pos3     pos4     pos5
> case1 49.76907 43.85765  60.4369 71.42927 58.58170
> case2 41.36010 48.63950 101.5495 68.36609 83.45631
>
> Is there some way to plot these (instead of CI bars) without having to
> first compute lower and upper bounds (i.e., without having to specify x0,
> y0, and x1, y1 in "segments") for each standard error? I guess this would
> amount to having a way to refer to each point already plotted, and saying
> something like: take each point as the dimension of an error bar, and put
> it at the relevant point (I'm thinking of something like gnuplot, which
> has a nice semantics for this: if you give it three columns to plot and
> specify that you want error bars, it will use the third column as the
> dimensions of the error bars).
>
>
> #----------------The code for the graph with CI bars------------------------
>
> tmeantmatrix<- matrix(tmeant,ncol=2)   # make tmeant a 2-column matrix
>
> # plot using matplot:
>
> matplot(c(1:5), tmeantmatrix, xlab = "Position", ylab = "Mean Reading Time
> (msecs)", main = "Test")
>
> # add lines connecting the points:
>
> matplot(tmeantmatrix, pch = 1:2, type = "o", lty=1:2, lwd=3, col =
> rainbow(ncol(tmeantmatrix)),add=TRUE)
>
> # add CI bars:
>
> xzero <- t(matrix(rep(1:5,2),ncol=2))
>
> xone <- xzero
>
> segments(x0=xzero, y0=tl, x1=xone, y1=tu)
>
> #-------------------end of code------------------------------
>
> Many thanks in advance,
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Nov 29 15:47:18 2001
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 29 Nov 2001 09:47:18 -0500
Subject: [R] package argument to library as string
Message-ID: <15366.19062.258487.389327@gargle.gargle.HOWL>

Dave Kane <a296180 at onyx.fmr.com> (my next-door neighbor) wrote:
>  R> pkg <- "ts"
>  R> library(pkg)
>     Error in library(pkg) : There is no package called `pkg'

You need:
R> library(pkg, character.only=TRUE)

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 29 15:53:12 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Nov 2001 15:53:12 +0100
Subject: [R] package argument to library as string
In-Reply-To: <15366.18351.557717.657457@gargle.gargle.HOWL>
References: <15366.18351.557717.657457@gargle.gargle.HOWL>
Message-ID: <x2lmgpvdbb.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180 at mica.fmr.com> writes:

> > pkg <- "ts"
> > pkg
> [1] "ts"
> > library(pkg)
> Error in library(pkg) : There is no package called `pkg'
> > library(ts)
> > detach(2)
> > library("ts")
> > 
> 
> What am I misunderstanding? Why isn't pkg treated the same as "ts" by library()?

Welcome to the world of nonstandard argument evaluation... Similar
issues relate to the argument to help et al.

Basically, we have been trying to be nice to the user and allow them
to "forget" putting quotes around the package name. As a consequence,
library(pkg) might also have been intended to load someones "prototype
kernel generator" or so, and there's really no way to tell. As David
B. points out there is a way to override this.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov 29 15:55:24 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 29 Nov 2001 15:55:24 +0100
Subject: [R] errors in help("TDist")?
Message-ID: <3.0.32.20011129155524.008fade0@162.38.183.200>

Dear all,

The help page on the t distribution says:

     The most used applications are power calculations for t-tests:
     Let T= (mX - m0) / (S/sqrt(n)) where mX is the `mean' and S the
     sample standard deviation (`sd') of X_1,X_2,...,X_n which are
     i.i.d. N(mu,sigma^2). Then T is distributed as non-centrally t
     with `df'= n-1 degrees of freedom and non-centrality parameter
     `ncp'= mu - m0.

1) It seems that power.t.test() uses ncp = sqrt(n) * (mu - m0)/sigma. Is
the above incorrect, or am I missing something?

2) I thought the paramaters of the normal distribution were mean and
standard-deviation: should one read "N(mu, sigma)" above?

3) I understand that the non-central t is obtained from the t by "sliding"
its distribution by 'ncp': the density of the former could thus be obtained
with dt(x, nu) + ncp. If so, is it worth adding this to the help?


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu Nov 29 16:42:07 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 29 Nov 2001 07:42:07 -0800 (PST)
Subject: [R] trellis plot
In-Reply-To: <3C055FFC.95E304C2@uci.edu>
Message-ID: <20011129154207.10385.qmail@web13908.mail.yahoo.com>



For this particular problem, you can use :


xyplot(series ~ time, data=etable,
       groups = gr,
       panel = "panel.superpose",
       type = c("p", "smooth"),
       span=.15)

A similar example can be found in example(xyplot)
(the second example). Note, however, that this is NOT
S-compatible.

`type' is an argument accepted by panel.xyplot and
panel.superpose, and can be passed as extra arguments
to xyplot, as can be `span'.

Hope that helps.

--- Brad Buchsbaum <bbuchsba at uci.edu> wrote:
> Hi,
> 
> I'd like to plot 4 groups of data using xyplot and
> panel.superpose so
> that the points are overlayed on a single plot.  For
> each group of data
> I'd also like a loess smoothed function (using
> panel.loess).  I have
> tried the following:
> 
> xyplot(series ~ time | gr, data=etable,
>          panel = function(x,y, ...) {
>            panel.superpose(x,y, ...)
>            panel.loess(x,y,span=.15)
> 
>            }
> )
> 
> However, this gives me only a single loess curve
> (collapsed across
> groups) whereas I would like one curve for each
> group (just as I get one
> color for each set of points from the
> panel.superpose).
> 
> Is there a way to accomplish this?
> 
> 
> thanks,
> 
> Brad Buchsbaum
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Nov 29 16:56:10 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 29 Nov 2001 16:56:10 +0100 (CET)
Subject: [R] R CMD check
Message-ID: <XFMail.20011129165610.plummer@iarc.fr>

I have been checking my package coda with the current R-devel
using "R CMD check".  As usual, this has uncovered a large number
of errors and inconsistencies in my documentation, for which I
am very grateful.

The only problem I have is with code/documentation mismatches when I
have written a method for a generic function, e.g.

* checking for code/documentation mismatches ... WARNING
Objects with usage in documentation object `plot.mcmc' but missing from code:
[1] "plot"

Objects with usage in documentation object `summary.mcmc' but missing from
code:[1] "summary"

Objects with usage in documentation object `time.mcmc' but missing from code:
[1] "end"   "start" "time" 

Objects with usage in documentation object `window.mcmc' but missing from code:
[1] "window"

This occurs because, for example, I have documented the usage of 
summary.mcmc as

\usage{
summary(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

I'm being encouraged to document it as

\usage{
summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

but I don't think this is right. Surely the correct usage of a method
is to call the generic function?

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Nov 29 16:48:30 2001
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 29 Nov 2001 10:48:30 -0500
Subject: [R] package argument to library as string
Message-ID: <15366.22734.991644.155541@gargle.gargle.HOWL>

As seen in Dave Kane's question and my response, one needs the "character.only"
argument to library() in order to make a loop like this work:
R> for (i in rlibs) library(i, character.only=TRUE)

It seems like a similar option would be useful for detach():
R> for (i in rlibs) detach(paste("package",i,sep=":"))  # FAILS!
and any other functions which immediately run substitute() on their arguments.
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Nov 29 17:15:34 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 29 Nov 2001 17:15:34 +0100
Subject: [R] R CMD check
References: <XFMail.20011129165610.plummer@iarc.fr>
Message-ID: <3C065F26.D1DC50E2@ci.tuwien.ac.at>

Martyn Plummer wrote:
> 
> I have been checking my package coda with the current R-devel
> using "R CMD check".  As usual, this has uncovered a large number
> of errors and inconsistencies in my documentation, for which I
> am very grateful.
> 
> The only problem I have is with code/documentation mismatches when I
> have written a method for a generic function, e.g.
> 
> * checking for code/documentation mismatches ... WARNING
> Objects with usage in documentation object `plot.mcmc' but missing from code:
> [1] "plot"
> 
> Objects with usage in documentation object `summary.mcmc' but missing from
> code:[1] "summary"
> 
> Objects with usage in documentation object `time.mcmc' but missing from code:
> [1] "end"   "start" "time"
> 
> Objects with usage in documentation object `window.mcmc' but missing from code:
> [1] "window"
> 
> This occurs because, for example, I have documented the usage of
> summary.mcmc as
> 
> \usage{
> summary(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
> }
> 
> I'm being encouraged to document it as
> 
> \usage{
> summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
> }
> 
> but I don't think this is right. Surely the correct usage of a method
> is to call the generic function?

Documenting it as
\method{summary}{mcmc}(data, quantiles = c(0.025, 0.25, 0.5, 0.75,
0.975), ...)
should solve that problem, because then R knows that you're documenting
a method for a generic function.

Best,
Z

 
> Martyn
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Nov 29 17:35:06 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 29 Nov 2001 17:35:06 +0100 (CET)
Subject: [R] R CMD check
In-Reply-To: <3C065F26.D1DC50E2@ci.tuwien.ac.at>
Message-ID: <XFMail.20011129173506.plummer@iarc.fr>

On 29-Nov-2001 Achim Zeileis wrote:
> Martyn Plummer wrote:
>> 
>> I have been checking my package coda with the current R-devel
>> using "R CMD check".  As usual, this has uncovered a large number
>> of errors and inconsistencies in my documentation, for which I
>> am very grateful.
>> 
>> The only problem I have is with code/documentation mismatches when I
>> have written a method for a generic function

   [snip]

> Documenting it as
> \method{summary}{mcmc}(data, quantiles = c(0.025, 0.25, 0.5, 0.75,
> 0.975), ...)
> should solve that problem, because then R knows that you're documenting
> a method for a generic function.

Thanks.  I shall now sheepishly re-read the documentation.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov 29 17:35:58 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 29 Nov 2001 08:35:58 -0800 (PST)
Subject: [R] Variable selection in R
In-Reply-To: <7s6c0uk4lf2r5kg9md35a5c3ou086utpbi@4ax.com>
Message-ID: <Pine.A41.4.33.0111290833350.28148-100000@homer09.u.washington.edu>

On Thu, 29 Nov 2001, Frederic Schutz wrote:

> Hello,
>
> I am pretty sure that my question is a FAQ, but I haven't been able to find
> the answer...
>
> I am looking for variable selection procedures (for a linear model), but
> the only one that I have been able to find in R is "step". Isn't there an
> equivalent of the "stepwise" function in SPlus ? step works, but I would
> like to try an other method than AIC.
>

Well, there's stepAIC in the MASS package, which uses AIC.

If you did help.search("step") or help.search("stepwise") you would find
this.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov 29 17:53:50 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 29 Nov 2001 08:53:50 -0800 (PST)
Subject: [R] errors in help("TDist")?
In-Reply-To: <3.0.32.20011129155524.008fade0@162.38.183.200>
Message-ID: <Pine.A41.4.33.0111290841420.28148-100000@homer09.u.washington.edu>

On Thu, 29 Nov 2001, Emmanuel Paradis wrote:

> Dear all,
>
> The help page on the t distribution says:
>
>      The most used applications are power calculations for t-tests:
>      Let T= (mX - m0) / (S/sqrt(n)) where mX is the `mean' and S the
>      sample standard deviation (`sd') of X_1,X_2,...,X_n which are
>      i.i.d. N(mu,sigma^2). Then T is distributed as non-centrally t
>      with `df'= n-1 degrees of freedom and non-centrality parameter
>      `ncp'= mu - m0.
>
> 1) It seems that power.t.test() uses ncp = sqrt(n) * (mu - m0)/sigma. Is
> the above incorrect, or am I missing something?

Yes, the above is incorrect. The code is correct.

> 2) I thought the paramaters of the normal distribution were mean and
> standard-deviation: should one read "N(mu, sigma)" above?

The parameters of the functions {p,q,r,d}norm are mean and standard
deviation but the standard statistical notation is N(mu,sigma^2).

> 3) I understand that the non-central t is obtained from the t by "sliding"
> its distribution by 'ncp': the density of the former could thus be obtained
> with dt(x, nu) + ncp. If so, is it worth adding this to the help?

I think you mean dt(x-ncp,nu), but even that isn't correct. Life would be
much simpler if it were.

The problem is that the statistic is distributed as the sum of

   (sample mean-mX)/(S/sqrt(n)) + (mX-m0)/(S/sqrt(n))

The first part has the shifted t-distribution, but the second part is also
a random variable and for smallish sample sizes makes a big difference.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Nov 29 18:13:30 2001
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 29 Nov 2001 12:13:30 -0500
Subject: [R] memory issue trying to solve too large a problem using hclust
Message-ID: <7C4F091F6140D411A29300508B5C73B905BDEE83@usrymx04.merck.com>

Hi, all.

I'm trying to cluster 12,500 objects using hclust from package mva.  The
distance matrix takes up nearly 600 MB.  The distance matrix also needs to
be copied when being passed to the fortran routine that actually does the
clustering (it's modified during the clustering), so that's 1200 MB.  I'm
actually on a machine with 2.5 GB of memory (and nothing else running), so I
thought I could pull this off.  The routine quits with the error "cannot
allocate a vector of size 609131 KB", which by its size seems to be another
copy of the distance matrix, I think the one needed by the fortran routine.
As far as I can tell from looking at the code, no additional objects of the
size of the distance matrix are used.

After the error gc() says that the garbage collection threshold is 1433 MB.

I'm wondering whether some additional copies of the distance matrix are
being made, and whether I could somehow stop them from being made.  Any
other suggestions for how I could get around the memory problem would also
be appreciated.  (I know of clara in the "cluster" package, but would like
to use hierarchical methods.)

The function hierclust in multiv seems to demand even more memory, even when
bign = T.

I am running R-1.3.1 on Sun OS 5.6.

Thanks for any help.

Matthew Wiener
Applied Computer Science and Mathematics Department
Merck Research Labs
Rahway, NJ  07065-0900
732-594-5303


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nawlnz at yahoo.com  Thu Nov 29 18:19:40 2001
From: nawlnz at yahoo.com (Dennis L. Malandro)
Date: Thu, 29 Nov 2001 09:19:40 -0800 (PST)
Subject: [R] text in qqmath
Message-ID: <20011129171940.77117.qmail@web14405.mail.yahoo.com>

Hello,

I can't seem to make qqmath plot text.

v <- rnorm(8)
qqmath(~v)  # this is ok, but

qqmath(~v, panel=function(x, y) {
	points(x, y)
	text(0, 0, 'print me', cex=2)})

 isn't ok.

The axis frame is printed properly (ie, as in
qqmath(~v)), but neither 'print me' nor the points
show up on the graph.  I can, however, see the upper
half of the word 'me' in the lower left corner of the
graphics device.  So somehow things are being
translated down and to the left; well 'print me' is
anyway, but I don't see any points anywhere.

Could someone please lend me a helpin hand?

(R 1.3.1, Windows 95)

Thanks a lot,
Dennis

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Nov 29 18:33:24 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Nov 2001 09:33:24 -0800
Subject: [R] installing packages from CRAN, is this approach stupid?
Message-ID: <87herdiisb.fsf@jeeves.blindglobe.net>


In order to quickly install lots ("all") of CRAN packages on a nice
new machine here, I did the following:

        install.packages(CRAN.packages()[,1])

1. Is this sensible (other than the obvious, "who needs everything"?)
2. Should this be made easier to do (added as a possible option)?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneandco.com  Thu Nov 29 18:40:23 2001
From: andys at neptuneandco.com (Andrew Schuh)
Date: Thu, 29 Nov 2001 10:40:23 -0700
Subject: [R] PNG diver problem
References: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com> <x2oflmbn8y.fsf@blueberry.kubism.ku.dk> <3C056118.3060107@neptuneandco.com>
Message-ID: <3C067307.8080703@neptuneandco.com>

Let me expand my question some.  I use R in batch mode for interactive 
web statistics (via RH7.2 and R1.3).  I have experimented with using the 
Tcl/Tk and SJava packages, as well as starting gui apps from batch mode. 
 I haven't really been able to start any of them and I assume this is 
due to the discussion that has been going on here.  I work in parallel 
with someone who works in W2000.  He doesn't seem to have any problem 
with starting this kind of stuff.  It is a real development hinderance 
not to be able to start GUI apps from batch mode.  Does anyone out there 
have any suggestions?

Andrew Schuh wrote:

> Do you have an example of this (code-wise)?  I am using RH7.2 and R1.3 
> and do a lot of batch processing.  Currently I use ImageMagick to 
> convert postscript images generated by R since I have had some trouble 
> using the PNG device (strangely translated axis lines, etc).  However, 
> it would be nice to be able to batch out bitmaps without using 
> ImageMagick.
>
> Peter Dalgaard BSA wrote:
>
>>apjaworski at mmm.com writes:
>>
>>>I got a couple of answers already indicating that this is a known
>>>"problem".  Thanks to everyone who responded and apologies for reposting a
>>>known problem.  I must have missed the last post about this - I searched
>>>the mailing list archive and found it about a year ago.  Apparently, one of
>>>the solutions is to use the bitmap driver which produces the PNG files by
>>>default anyway.
>>>
>>>I noticed that the png help page mentions that it depends on the x11
>>>device.  It just was not clear to me that one cannot use x11 in batch mode.
>>>
>>>Finally, I am still curious why this thing works under Windows.  Was the
>>>png driver rewritten for it?  Does it still depend on the windows device
>>>but it can be invoked in batch mode?
>>>
>>
>>I think it works in Linux too if you explicitly set you DISPLAY
>>variable (w/ Sys.putenv()), provided that the display is active and
>>you have the permissions to access it when the code runs. Windows has
>>no such thing and will not let you do anything without having the
>>display open anyway...
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011129/61238093/attachment.html

From Friedrich.Leisch at ci.tuwien.ac.at  Thu Nov 29 18:43:10 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 29 Nov 2001 18:43:10 +0100
Subject: [R] installing packages from CRAN, is this approach stupid?
In-Reply-To: <87herdiisb.fsf@jeeves.blindglobe.net>
References: <87herdiisb.fsf@jeeves.blindglobe.net>
Message-ID: <15366.29614.393335.156763@galadriel.ci.tuwien.ac.at>

>>>>> On 29 Nov 2001 09:33:24 -0800,
>>>>> A J Rossini (AJR) wrote:

  > In order to quickly install lots ("all") of CRAN packages on a nice
  > new machine here, I did the following:

  >         install.packages(CRAN.packages()[,1])

  > 1. Is this sensible (other than the obvious, "who needs everything"?)

if you know what you're doing: yes ... BUT

this will probably fail for some packages where you don't have the
appropriate header files etc (the database and GIS packages come to mind).

  > 2. Should this be made easier to do (added as a possible option)?

I thought about it and didn't add the option because I'm frightened
that a lot of people will try it and the file bug reports because some
packages don't install properly due to the above reasons -> I don't
want to make it too easy (and people knowing what they do probably
figure out the above line anyway).

best,
fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Thu Nov 29 18:56:44 2001
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Thu, 29 Nov 2001 18:56:44 +0100
Subject: [R] Converting date variables to integers for regression
In-Reply-To: <000601c1785b$4e3667f0$0e090018@CORPNT.NET>
Message-ID: <002301c178ff$35c74550$1e00a8c0@MinorplanetDev>

Hello,

Regarding the conversion to integer, you can use through the library "chron"
the equivalent Julian Date associated to each of your "y" values.
I do not know, if  the library "date" offers the same kind of possibility.

Regarding the use of dates as objects for regression, I think that is
possible in the "dse" library.

Regards,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Mark Scarr
Enviado el: miercoles, 28 de noviembre de 2001 23:23
Para: 'R-help at lists.R-project.org'
Asunto: [R] Converting date variables to integers for regression


Hi All,

I am performing some piecewise linear
regression where my X-variable is the date mm/dd/yyyy
stored as a character vector. I would like to convert this
to an integer vector so I can set up dummy variables for the knots
and then perform the regression. Alternatively is it possible to
work with date objects? I was able to use certain binary operators
such as "-" with date objects, but am uncertain if it is possible
to use such objects for regression?


Any help would be most appreciated.


Thanks in advance

Mark.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Nov 29 19:04:39 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Nov 2001 10:04:39 -0800
Subject: [R] installing packages from CRAN, is this approach stupid?
In-Reply-To: <15366.29614.393335.156763@galadriel.ci.tuwien.ac.at>
References: <87herdiisb.fsf@jeeves.blindglobe.net>
	<15366.29614.393335.156763@galadriel.ci.tuwien.ac.at>
Message-ID: <873d2xihc8.fsf@jeeves.blindglobe.net>

>>>>> "FL" == Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

    FL> this will probably fail for some packages where you don't have
    FL> the appropriate header files etc (the database and GIS
    FL> packages come to mind).

Right -- actually, I just added the appropriate packages (the only
real failure was databases and XML, and they were reasonably easy to
fix when reasonable).

    >> 2. Should this be made easier to do (added as a possible
    >> option)?

    FL> I thought about it and didn't add the option because I'm
    FL> frightened that a lot of people will try it and the file bug
    FL> reports because some packages don't install properly due to
    FL> the above reasons -> I don't want to make it too easy (and
    FL> people knowing what they do probably figure out the above line
    FL> anyway).

Another thought would be solution by copious warnings at the end about
reasons for failure, but I'm not the one who would be reading the bug
reports (or checking in the warnings about why failures will and
should occurs :-).

Actually, it provides a nice list of packages failed, which turned out
to be useful in fixing the ones I wanted...

thanks!

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Nov 29 19:09:33 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 29 Nov 2001 12:09:33 -0600
Subject: [R] PNG diver problem
In-Reply-To: <3C067307.8080703@neptuneandco.com>
References: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com> <x2oflmbn8y.fsf@blueberry.kubism.ku.dk> <3C056118.3060107@neptuneandco.com> <3C067307.8080703@neptuneandco.com>
Message-ID: <20011129120933.A23855@sonny.eddelbuettel.com>


On Thu, Nov 29, 2001 at 10:40:23AM -0700, Andrew Schuh wrote:
> Let me expand my question some.  I use R in batch mode for interactive 
> web statistics (via RH7.2 and R1.3).  I have experimented with using the 
> Tcl/Tk and SJava packages, as well as starting gui apps from batch mode. 
> I haven't really been able to start any of them and I assume this is 
> due to the discussion that has been going on here.  I work in parallel 
> with someone who works in W2000.  He doesn't seem to have any problem 
> with starting this kind of stuff.  It is a real development hinderance 
> not to be able to start GUI apps from batch mode.  Does anyone out there 
> have any suggestions?

Yes, read the documentation, this thread and the previous ones on the same
topic. You can easily sail around the issue by doing

       echo 'bitmap("/tmp/foo.png"); plot(1:10)' > /tmp/foo.R
       
and foo.R can now be run in interactive sessions, or in batch sessions with
no controlling device as in       

       echo 'R --no-save < /tmp/foo.R' | at now

You should be able to adapt this to your needs.

Dirk

--
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 29 19:23:17 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Nov 2001 19:23:17 +0100
Subject: [R] PNG diver problem
In-Reply-To: <3C067307.8080703@neptuneandco.com>
References: <OFF16C3BBF.BBB99A09-ON86256B12.0073A3AB@mmm.com>
	<x2oflmbn8y.fsf@blueberry.kubism.ku.dk>
	<3C056118.3060107@neptuneandco.com>
	<3C067307.8080703@neptuneandco.com>
Message-ID: <x2d721v3l6.fsf@blueberry.kubism.ku.dk>

Andrew Schuh <andys at neptuneandco.com> writes:

> Let me expand my question some.  I use R in batch mode for interactive
> web statistics (via RH7.2 and R1.3).  I have experimented with using
> the Tcl/Tk and SJava packages, as well as starting gui apps from batch
> mode. I haven't really been able to start any of them and I assume
> this is due to the discussion that has been going on here.  I work in
> parallel with someone who works in W2000.  He doesn't seem to have any
> problem with starting this kind of stuff.  It is a real development
> hinderance not to be able to start GUI apps from batch mode.  Does
> anyone out there have any suggestions?

"GUI" and "batch" are incommensurable to my mind... A batch run is
something that might get executed in the middle of the night. You mean
start GUI from a shell script? For Tcl/Tk there's a slightly ugly hack
along these lines:

#!/bin/sh
R -q --vanilla << ___EOF___ > /dev/null
library(tcltk)
tkpack(tktext(tktoplevel()))
tkwait.variable("foo")
___EOF___

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nytaylor at bestweb.net  Thu Nov 29 20:16:17 2001
From: nytaylor at bestweb.net (Michaell Taylor)
Date: Thu, 29 Nov 2001 14:16:17 -0500
Subject: [R] of c, cat, paste, and lists??
Message-ID: <20011129191618.A24189CF11@mercury.bestweb.net>


Still trying to get a handle on c, cat, paste, and lists.

Here is my current problem.  I have a good number of vectors that I 
want to selectively combine into a dataframe.  The exact name of the 
vectors changes in a looping arrangement but can easily be grepped. The 
problem is: how can I use a list produced by a grep in a data.frame command: 
i.e.

> ls()
 [1] "a"            "a1"           "a2"           "a3"           "b3"
 [6] "c"            "compet1"      "compet10"     "compet2"      "compet3"
[11] "compet4"      "compet5"      "compet6"      "compet7"      "compet8"
[16] "compet9"      "d"            "g"            "h"            
"last.warning"
[21] "listing"      "pop1"         "pop10"        "pop2"         "pop3"
[26] "pop4"         "pop5"         "pop6"         "pop7"         "pop8"
[31] "pop9"         "s"            "vote1"        "vote10"       "vote2"
[36] "vote3"        "vote4"        "vote5"        "vote6"        "vote7"
[41] "vote8"        "vote9"        "X"

Now I want the "vote?" variables in a dataframe.  I can grep them by
> grep("vote",ls(),value=T)
 [1] "vote1"  "vote10" "vote2"  "vote3"  "vote4"  "vote5"  "vote6"  "vote7"
 [9] "vote8"  "vote9"

seems like some sort of:
mydata _ data.frame(as.list(grep("vote",ls(),value=T)))

should work, but doesn't.   The the list isn't being fed into the data.frame 
function properly, but I can't figure out how it needs to be feed.

Any help greatly appreciated.


=========================================
Curt Taylor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Nov 29 20:41:38 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 30 Nov 2001 08:41:38 +1300
Subject: [R] text in qqmath
References: <20011129171940.77117.qmail@web14405.mail.yahoo.com>
Message-ID: <009501c1790d$dc889980$7632d882@stat.auckland.ac.nz>

Hi


> I can't seem to make qqmath plot text.
>
> v <- rnorm(8)
> qqmath(~v)  # this is ok, but
>
> qqmath(~v, panel=function(x, y) {
> points(x, y)
> text(0, 0, 'print me', cex=2)})
>
>  isn't ok.
>
> The axis frame is printed properly (ie, as in
> qqmath(~v)), but neither 'print me' nor the points
> show up on the graph.  I can, however, see the upper
> half of the word 'me' in the lower left corner of the
> graphics device.  So somehow things are being
> translated down and to the left; well 'print me' is
> anyway, but I don't see any points anywhere.
>
> Could someone please lend me a helpin hand?


That is because qqmath is a lattice function and lattice is built on top of
grid, which uses a different set of graphics commands.  Try using ltext()
and lpoints() or grid.text() and grid.points() and it should work ok.

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Nov 29 20:33:12 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 29 Nov 2001 11:33:12 -0800 (PST)
Subject: [R] of c, cat, paste, and lists??
In-Reply-To: <20011129191618.A24189CF11@mercury.bestweb.net>
Message-ID: <Pine.A41.4.33.0111291121040.28148-100000@homer09.u.washington.edu>

On Thu, 29 Nov 2001, Michaell Taylor wrote:

>
> Now I want the "vote?" variables in a dataframe.  I can grep them by
> > grep("vote",ls(),value=T)
>  [1] "vote1"  "vote10" "vote2"  "vote3"  "vote4"  "vote5"  "vote6"  "vote7"
>  [9] "vote8"  "vote9"
>
> seems like some sort of:
> mydata _ data.frame(as.list(grep("vote",ls(),value=T)))
>
> should work, but doesn't.   The the list isn't being fed into the data.frame
> function properly, but I can't figure out how it needs to be feed.
>

There are two problems here.

The first is that you want the list of 10 names to be 10 arguments to
data.frame, not one argument as you have here. The second problem is that
you need to convert them from strings to variable names.

If  nm<-grep("vote",ls(),value=T)
then the second problem is fixed by using as.name() on the string to turn
them into names
	lapply(nm,as.name)
The first problem is fixed with the do.call() function, which takes a
single list and turns its elements into arguments for a function
	do.call("data.frame", lapply(nm, as.name))

So for example
R> b<-1:10
R> c<-1:10
R> d<-1:10
R>  do.call("data.frame",lapply(c("b","c","d"),as.name))
    b  c  d
1   1  1  1
2   2  2  2
3   3  3  3
4   4  4  4
5   5  5  5
6   6  6  6
7   7  7  7
8   8  8  8
9   9  9  9
10 10 10 10


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s215aas at stat.berkeley.edu  Thu Nov 29 20:44:28 2001
From: s215aas at stat.berkeley.edu (Matthew Crawford)
Date: Thu, 29 Nov 2001 11:44:28 -0800
Subject: [R] legends in barplots of factors
Message-ID: <3C06901C.ACF01741@stat.Berkeley.EDU>

How can I suppress a legend in a barplot when I'm plotting factors?

Here's what I'm doing, x and y are both factors:

plot(x,y)

This gives me a barplot with a legend where I don't want it.

My best solution so far is plot(x,y,legend=F) which just gives me an
error message and doesn't finish the plot, but at least it doesn't put
the legend on.  Then I can go back and add the legend myself.

Matt Crawford
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Thu Nov 29 21:20:40 2001
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Thu, 29 Nov 2001 15:20:40 -0500
Subject: [R] memory:  as.single in .Fortran creates another double
Message-ID: <7C4F091F6140D411A29300508B5C73B905BDEE84@usrymx04.merck.com>

Hi, everyone.

As mentioned in my message of earlier today, I'm trying to do hierarchical
clustering on a data set that's probably too big.  I may have to take a
subset eventually, but I'm spending a little time trying to try to reduce
memory use in the hope that I'll manage to do the full set.

One thing that occurred to me was to modify the underlying fortran code
(hclust.f, from library mva) to use single precision rather than double
precision.  I changed "DOUBLE PRECISION" to "REAL" in the fortran code and
saved the function as hclustsingle.f.  It created a .so file without
problem.  The hope is, of course, that I'll use half as much memory.

When I call hclustsingle, though, I get the same error as before (with the
same amounts of memory), and the traceback says:

11: structure(.Internal(as.vector(x, "double")), Csingle = TRUE)
10: as.single.default(d)
9: as.single(d)
...

So it looks as though changing to single can't help because the external
function interface creates a double precision vector anyway.

Is this correct?

Thanks very much.

Matthew Wiener
Applied Computer Science and Mathematics Department
Merck Research Labs
Rahway, NJ  07065-0900
732-594-5303


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Thu Nov 29 21:34:20 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Thu, 29 Nov 2001 15:34:20 -0500 (EST)
Subject: [R] pause/get input
Message-ID: <Pine.GSO.4.20.0111291532590.13300-100000@jade.saintmarys.edu>

Hi,
	Is there a simple command to pause a script until the user hits
return? Alternatively, is there a command which prompts the user for some
input and assigns the input into a variable?

dave

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Thu Nov 29 21:38:50 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Thu, 29 Nov 2001 20:38:50 +0000 (GMT)
Subject: [R] pause/get input
In-Reply-To: <Pine.GSO.4.20.0111291532590.13300-100000@jade.saintmarys.edu>
Message-ID: <Pine.GSO.4.21.0111292038370.10046-100000@unixb.lancs.ac.uk>

parse() ?


On Thu, 29 Nov 2001, David A Richmond wrote:

> Hi,
> 	Is there a simple command to pause a script until the user hits
> return? Alternatively, is there a command which prompts the user for some
> input and assigns the input into a variable?
> 
> dave
> 
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |      
> + Dept. of Sociology          complex scientific      + 
> |Saint Mary's College          principle, known as    |  
> + Notre Dame, IN 46556               "pot luck."      +
> |219-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 29 21:38:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Nov 2001 20:38:07 +0000 (GMT)
Subject: [R] pause/get input
In-Reply-To: <Pine.GSO.4.20.0111291532590.13300-100000@jade.saintmarys.edu>
Message-ID: <Pine.GSO.4.31.0111292037320.20783-100000@auk.stats>

On Thu, 29 Nov 2001, David A Richmond wrote:

> Hi,
> 	Is there a simple command to pause a script until the user hits
> return? Alternatively, is there a command which prompts the user for some
> input and assigns the input into a variable?

?readline


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 29 21:46:05 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 29 Nov 2001 21:46:05 +0100
Subject: [R] legends in barplots of factors
References: <3C06901C.ACF01741@stat.Berkeley.EDU>
Message-ID: <3C069E8D.550302D8@statistik.uni-dortmund.de>



Matthew Crawford wrote:
> 
> How can I suppress a legend in a barplot when I'm plotting factors?
> 
> Here's what I'm doing, x and y are both factors:
> 
> plot(x,y)
> 
> This gives me a barplot with a legend where I don't want it.
> 
> My best solution so far is plot(x,y,legend=F) which just gives me an
> error message and doesn't finish the plot, but at least it doesn't put
> the legend on.  Then I can go back and add the legend myself.

Have a look at 
 ?plot.factor

A possible solution to supress the legend is:
 plot(x,y, legend.text=NULL)
as in barplot().

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Thu Nov 29 22:51:41 2001
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Thu, 29 Nov 2001 16:51:41 -0500
Subject: [R] Reset trellis plot backgroud color
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BA2B@S2-EDM-R1>

Hello,

I run R on Windows 2000. When I load lattice library and plot some lme class
objects, the graphic window displays a dark-green color. Graphics look ok on
the screen, but lines and points become invisible whem I send the plot to a
printer because of the background color. Are there ways to reset the
background color? Both par(bg=) and windows() do not work. Any ideas?


Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schutz at wehi.EDU.AU  Thu Nov 29 22:56:37 2001
From: schutz at wehi.EDU.AU (Frederic Schutz)
Date: Fri, 30 Nov 2001 08:56:37 +1100 (EST)
Subject: [R] Variable selection in R
In-Reply-To: <Pine.A41.4.33.0111290833350.28148-100000@homer09.u.washington.edu>
Message-ID: <Pine.SOL.4.33.0111300854210.3131-100000@unix09.wehi.edu.au>

On Thu, 29 Nov 2001, Thomas Lumley wrote:

> > I am looking for variable selection procedures (for a linear model), but
> > the only one that I have been able to find in R is "step". Isn't there an
> > equivalent of the "stepwise" function in SPlus ? step works, but I would
> > like to try an other method than AIC.
>
> Well, there's stepAIC in the MASS package, which uses AIC.
> If you did help.search("step") or help.search("stepwise") you would find
> this.

I found it, but I was looking for something else than AIC. As pointed by
others, your package leaps will do exactly what I want.

Thanks for the answers !

Frederic

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From veronicafli at hotmail.com  Mon Nov 26 15:13:43 2001
From: veronicafli at hotmail.com (VERONICA URIBE)
Date: Mon, 26 Nov 2001 09:13:43 -0500
Subject: [R] I need Help!
Message-ID: <DAV37aMXa1UuXGD9waM0000a4bb@hotmail.com>

Hello!

I'm beginning to use R and I have a problem.

I've a data base of 1491 elements, I could create the points from this data frame but when I try to create the pairs the computer takes 30 minutes and a message appears: The memory limit was achieved!

Do you know how can I enlarge the memory size available for R in my computer?

I'll really appreciate your help.

Bye, Ver?nica.Obtenga el m?ximo provecho del Web. Descarga GRATUITA de MSN Explorer: http://explorer.msn.es/intl.asp#es
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20011126/dc222bf7/attachment.html

From Toby.Patterson at csiro.au  Fri Nov 30 00:24:34 2001
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Fri, 30 Nov 2001 10:24:34 +1100
Subject: [R] plotting (a) confidence intervals (b) standard error
Message-ID: <576A86EC05E22742A26B1D742DE752921F1755@molly.tas.csiro.au>

Perhaps this is crude but the way I have got the "I" shape is to use another
segments() call. 

ie. 

>x<-2
> y<-2
> CI<-0.5
> hseg
> segments(x,y+CI,x,y-CI)
> segments(x-1,y+CI,x+1,y+CI)
> segments(x-hseg,y-CI,x+hseg,y-CI)
> segments(x-hseg,y+CI,x+hseg,y+CI)

I would put this in a function if you want to repear the process. 


-----Original Message-----
From: Shravan Vasishth [mailto:vasishth at ling.ohio-state.edu]
Sent: 30 November, 2001 1:07 AM
To: r-help at stat.math.ethz.ch
Subject: [R] plotting (a) confidence intervals (b) standard error


Hi all,

I'm building a plot of the values in tmeant (below) against positions 1 to
5, using matplot.

tmeant looks like this:

        case1     case2
pos1 861.8466  818.5909
pos2 961.2841  976.3466
pos3 878.6080 1262.8523
pos4 950.8011 1129.6080
pos5 968.1080 1063.3920

I also have lower (object tl) and upper (object tu) bounds on the
confidence intervals as follows:

tl:

        pos1     pos2      pos3     pos4     pos5
case1 761.4777 872.8367  756.7253 806.7503 849.9667
case2 735.1803 878.2557 1058.0583 991.7346 895.0864

tu:

         pos1     pos2     pos3     pos4     pos5
case1 962.2155 1049.731 1000.491 1094.852 1086.249
case2 902.0015 1074.437 1467.646 1267.481 1231.698

My R code is given towards the end of this message; it plots the values in
tmeantmatrix against positions 1-5, and puts the confidence interval (CI)
bars at the right points using tl and tu.

However, I can't figure out how to get the CI bars to have those
delimiters (a shape like "I"), all I get is a straight line through the
relevant point.

A related question is: I also have standard errors in a matrix called tse:

          pos1     pos2     pos3     pos4     pos5
case1 49.76907 43.85765  60.4369 71.42927 58.58170
case2 41.36010 48.63950 101.5495 68.36609 83.45631

Is there some way to plot these (instead of CI bars) without having to
first compute lower and upper bounds (i.e., without having to specify x0,
y0, and x1, y1 in "segments") for each standard error? I guess this would
amount to having a way to refer to each point already plotted, and saying
something like: take each point as the dimension of an error bar, and put
it at the relevant point (I'm thinking of something like gnuplot, which
has a nice semantics for this: if you give it three columns to plot and
specify that you want error bars, it will use the third column as the
dimensions of the error bars).


#----------------The code for the graph with CI bars------------------------

tmeantmatrix<- matrix(tmeant,ncol=2)   # make tmeant a 2-column matrix

# plot using matplot:

matplot(c(1:5), tmeantmatrix, xlab = "Position", ylab = "Mean Reading Time
(msecs)", main = "Test")

# add lines connecting the points:

matplot(tmeantmatrix, pch = 1:2, type = "o", lty=1:2, lwd=3, col =
rainbow(ncol(tmeantmatrix)),add=TRUE)

# add CI bars:

xzero <- t(matrix(rep(1:5,2),ncol=2))

xone <- xzero

segments(x0=xzero, y0=tl, x1=xone, y1=tu)

#-------------------end of code------------------------------

Many thanks in advance,

-- 
Shravan Vasishth
Dept. of Linguistics, OSU
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Fri Nov 30 00:39:28 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 29 Nov 2001 15:39:28 -0800 (PST)
Subject: [R] text in qqmath
In-Reply-To: <20011129171940.77117.qmail@web14405.mail.yahoo.com>
Message-ID: <20011129233928.81021.qmail@web13908.mail.yahoo.com>



try replacing text and points by ltext and lpoints
respectively. R base graphics functions don't work
under grid. See help(ltext) for a list of implemented
replacements.

--- "Dennis L. Malandro" <nawlnz at yahoo.com> wrote:
> Hello,
> 
> I can't seem to make qqmath plot text.
> 
> v <- rnorm(8)
> qqmath(~v)  # this is ok, but
> 
> qqmath(~v, panel=function(x, y) {
>  points(x, y)
>  text(0, 0, 'print me', cex=2)})
> 
>  isn't ok.
> 
> The axis frame is printed properly (ie, as in
> qqmath(~v)), but neither 'print me' nor the points
> show up on the graph.  I can, however, see the upper
> half of the word 'me' in the lower left corner of
> the
> graphics device.  So somehow things are being
> translated down and to the left; well 'print me' is
> anyway, but I don't see any points anywhere.
> 
> Could someone please lend me a helpin hand?
> 
> (R 1.3.1, Windows 95)
> 
> Thanks a lot,
> Dennis
> 
> __________________________________________________
> 
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Fri Nov 30 00:51:06 2001
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Thu, 29 Nov 2001 15:51:06 -0800
Subject: [R] animations?
Message-ID: <00c601c17930$b6672a50$01000001@godzilla>

Is there a method for creating "animations" using R. Or is there another
piece of software (unix perferrably) that can generate a "movie" from many
ps/eps/gif/jpg files?


Thanks,
Jeff.


Jeff D. Hamann
Hamann, Donald and Associates
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andreas.Kiermeier at adelaide.edu.au  Fri Nov 30 00:51:44 2001
From: Andreas.Kiermeier at adelaide.edu.au (Andreas Kiermeier)
Date: Fri, 30 Nov 2001 10:21:44 +1030
Subject: [R] Reset trellis plot backgroud color
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BA2B@S2-EDM-R1>
Message-ID: <NFBBINEFFCGGAIJFNAJHGENCCDAA.Andreas.Kiermeier@adelaide.edu.au>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Yang, Richard
> Sent: Friday, 30 November 2001 08:22
> To: r-help at r-project.org
> Subject: [R] Reset trellis plot backgroud color
> 
> Hello,
> 
> I run R on Windows 2000. When I load lattice library and plot 
> some lme class
> objects, the graphic window displays a dark-green color. Graphics 
> look ok on
> the screen, but lines and points become invisible whem I send the 
> plot to a
> printer because of the background color. Are there ways to reset the
> background color? Both par(bg=) and windows() do not work. Any ideas?

Richard,

I have found the same doing some plots yesterday, only that I saved the
plot to a postscript file from the graphics window for inclusion in a
LaTeX report.  The only way I could get the background to be white was
by using

trellis.device(postscript,file="lattice1.ps",color=TRUE,bg="white")
...
dev.off()

which seems to work fine.

Cheers,

Andreas
(running WinNT4, R1.3.1, lattice 0.3-0, grid 0.2)

---
Andreas Kiermeier
Senior Biometrician
BiometricsSA (Adelaide University/SARDI)
GPO Box 397, Adelaide, SA 5001, Australia
Email: Andreas.Kiermeier at adelaide.edu.au
WWW: http://www.BiometricsSA.adelaide.edu.au/
Ph:  +61 8 8303 6819
Fax: +61 8 8303 6761
 
----------------------------------------------------------- 
This email message is intended only for the addressee(s) 
and contains information which may be confidential and/or
copyright. If you are not the intended recipient please
do not read, save, forward, disclose, or copy the contents
of this email. If this email has been sent to you in error,
please notify the sender by reply email and delete this 
email and any copies or links to this email completely and
immediately from your system. No representation is made
that this email is free of viruses. Virus scanning is 
recommended and is the responsibility of the recipient.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janef at stat.berkeley.edu  Fri Nov 30 01:05:05 2001
From: janef at stat.berkeley.edu (Jane Fridlyand)
Date: Thu, 29 Nov 2001 16:05:05 -0800 (PST)
Subject: [R] HMM in R
Message-ID: <Pine.SOL.4.31.0111291601420.18391-100000@witch.Berkeley.EDU>


Hi,

does anyone know whether where has ever been some sort of generic
version of HMM (forward, backward, viterbi ...) implemented in R? I do
realize that it may very well be easier to write one for specific cases
but i am inquiring just in case ...

Thanks!

jane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gindo.tampubolon at man.ac.uk  Fri Nov 30 01:19:37 2001
From: gindo.tampubolon at man.ac.uk (Gindo Tampubolon)
Date: Fri, 30 Nov 2001 00:19:37 GMT
Subject: [R] Script editor for R on Linux
Message-ID: <E169bQC-000LYF-00@probity.mcc.ac.uk>

Hi all,

Could you point me to a script editor in Linux that will allow me to a 
somewhat easy pasting of section(s) of an R script or function into 
R for execution? Something like WinEdt+RWinEdt macro in R for 
Windows?
(My time is a bit pressed. I haven't succeeded in my attempts to 
install ESS for XEmacs. No doubt due to my confusion and lack of 
competence. I am abandoning it for the moment.)

I can't see a somewhat easy way of running sections of my scripts 
and functions, written in WinEdt+RWinEdt, with the default vi. Or is 
there?

Those who do not use vi or ESS, what do you use? Would you 
mind giving me some pointers?

Just in case:
A fresh installation of Linux Mandrake 8.0 on i586, running R 1.3

Thanks a lot,


Gindo Tampubolon
University of Manchester
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Nov 30 01:38:49 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Thu, 29 Nov 2001 18:38:49 -0600
Subject: [R] linear regression of arbitrary large data
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D660@jupiter.sc.arbitrade.com>

Dear R-Users, A couple of month ago, maybe more, there was a posting
announcing a beta-version of a package that would be able to model data sets
of arbitrary sizes. I tried, but failed to find that message in the archive.
Could some one please re-send it to me or tell wich keywords to search for?
Thanks, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Fri Nov 30 03:53:38 2001
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Fri, 30 Nov 2001 13:53:38 +1100
Subject: [R] Script editor for R on Linux
Message-ID: <576A86EC05E22742A26B1D742DE752921F1758@molly.tas.csiro.au>

Being similarly effected by emacs I find glimmer an OK text editor (linux
version of textpad). I generally use the source() function to run scripts.



-----Original Message-----
From: Gindo Tampubolon [mailto:gindo.tampubolon at man.ac.uk]
Sent: 30 November, 2001 11:20 AM
To: r-help at hypatia.math.ethz.ch
Subject: [R] Script editor for R on Linux


Hi all,

Could you point me to a script editor in Linux that will allow me to a 
somewhat easy pasting of section(s) of an R script or function into 
R for execution? Something like WinEdt+RWinEdt macro in R for 
Windows?
(My time is a bit pressed. I haven't succeeded in my attempts to 
install ESS for XEmacs. No doubt due to my confusion and lack of 
competence. I am abandoning it for the moment.)

I can't see a somewhat easy way of running sections of my scripts 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isrtdu at yahoo.com  Thu Nov 29 03:37:50 2001
From: isrtdu at yahoo.com (wildscop)
Date: Thu, 29 Nov 2001 08:37:50 +0600
Subject: [R] ForTran Compiler & use of it in R / S+
Message-ID: <5.1.0.14.2.20011129083125.01af3650@pop.mail.yahoo.co.uk>

Dear [R] members,

         Can you provide me with the exact URL where can i find  ForTran 
Compilers [ free / commercial / trial / shareware / evaluation copy ] for 
WINDOWS [ Preferable ] or DOS ; and some source codes of different kind of 
Statistical calculation making programs made / coded in ForTran ?
         And how can i use a program (coded in ForTran) in R console ? Can 
i do it in S+ too ?




Best regards,


_______________________
Mohammad Ehsanul karim
Email : isrtdu at yahoo.com
Voice : 880 - 02 - 9870390
[7-10 PM at GMT +06:00 ]
_______________________


_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Nov 30 04:59:10 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 29 Nov 2001 21:59:10 -0600
Subject: [R] animations?
In-Reply-To: <00c601c17930$b6672a50$01000001@godzilla>
References: <00c601c17930$b6672a50$01000001@godzilla>
Message-ID: <15367.1038.714116.83941@sonny.eddelbuettel.com>


  Jeff> Is there a method for creating "animations" using R. Or is there
  Jeff> another piece of software (unix perferrably) that can generate a
  Jeff> "movie" from many ps/eps/gif/jpg files?

Calling "apropos gif" on my system leads to whirlgif:

  whirlgif (1)         - reads a series of GIF87a or GIF89a files, and \
  produces one single GIF89a file composed of those images.

The copyright file states 

  Whirlgif is now located at http://www.danbbs.dk/~dino/whirlgif/.  The
  previous version was at http://www.msg.net/utility/whirlgif/.

I have tried neither whirlgif nor the urls above. I also seem to recall that
imagemagick had a tool for this ...

Dirk

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at ling.ohio-state.edu  Fri Nov 30 05:29:33 2001
From: vasishth at ling.ohio-state.edu (Shravan Vasishth)
Date: Thu, 29 Nov 2001 23:29:33 -0500 (EST)
Subject: [R] animations?
Message-ID: <Pine.SOL.4.33.0111292323350.11500-100000@julius.ling.ohio-state.edu>

There's a helpful discussion at:

http://www.R-project.org/nocvs/mail/r-help/2001/1535.html

I use gnuplot to animate stuff, but that's because I didn't know about
all the other methods mentioned in the message(s) above.

-- 
Shravan Vasishth
Dept. of Linguistics, OSU
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Nov 30 06:05:55 2001
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 30 Nov 2001 00:05:55 -0500
Subject: [R] Reset trellis plot backgroud color
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BA2B@S2-EDM-R1>
Message-ID: <5.1.0.14.2.20011130000321.01d33878@mcmail.cis.mcmaster.ca>

Dear Richard,

At 04:51 PM 11/29/2001 -0500, Yang, Richard wrote:

>I run R on Windows 2000. When I load lattice library and plot some lme class
>objects, the graphic window displays a dark-green color. Graphics look ok on
>the screen, but lines and points become invisible whem I send the plot to a
>printer because of the background color. Are there ways to reset the
>background color? Both par(bg=) and windows() do not work. Any ideas?

You can open a trellis device directly, specifying color=F; see 
help(trellis.device). This is a good solution if you are satisfied with 
monochrome printed plots.

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Nov 30 07:50:47 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 30 Nov 2001 07:50:47 +0100 (MET)
Subject: [R] HMM in R
In-Reply-To: <Pine.SOL.4.31.0111291601420.18391-100000@witch.Berkeley.EDU> from "Jane Fridlyand" at Nov 29, 2001 04:05:05 PM
Message-ID: <200111300650.HAA11778@luc.ac.be>

> 
> 
> Hi,
> 
> does anyone know whether where has ever been some sort of generic
> version of HMM (forward, backward, viterbi ...) implemented in R? I do
> realize that it may very well be easier to write one for specific cases
> but i am inquiring just in case ...

My hidden and chidden function in my repeated library fit HMM by MLE
for a wide variety of distributions (about 30) in respectively
discrete and continuous time.
www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> Thanks!
> 
> jane
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Fri Nov 30 08:03:07 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 29 Nov 2001 23:03:07 -0800 (PST)
Subject: [R] Reset trellis plot backgroud color
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BA2B@S2-EDM-R1>
Message-ID: <20011130070307.28130.qmail@web13908.mail.yahoo.com>



The device that starts up by default is not meant for
printing; for that you should explicitly start a new
device. And this should be done by calling the
trellis.device() function. This function has a
parameter called bg. So, to start a pdf device with a
white background, try

trellis.device("pdf", bg = "white")

Just calling 

trellis.device(bg = "white")

should start a windows() device with a white
background, if that's what you want.



--- "Yang, Richard" <dyang at nrcan.gc.ca> wrote:
> Hello,
> 
> I run R on Windows 2000. When I load lattice library
> and plot some lme class
> objects, the graphic window displays a dark-green
> color. Graphics look ok on
> the screen, but lines and points become invisible
> whem I send the plot to a
> printer because of the background color. Are there
> ways to reset the
> background color? Both par(bg=) and windows() do not
> work. Any ideas?
> 
> 
> Richard
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 30 08:25:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Nov 2001 07:25:41 +0000 (GMT)
Subject: [R] ForTran Compiler & use of it in R / S+
In-Reply-To: <5.1.0.14.2.20011129083125.01af3650@pop.mail.yahoo.co.uk>
Message-ID: <Pine.GSO.4.31.0111300724170.108-100000@auk.stats>

On Thu, 29 Nov 2001, wildscop wrote:

> Dear [R] members,
>
>          Can you provide me with the exact URL where can i find  ForTran
> Compilers [ free / commercial / trial / shareware / evaluation copy ] for
> WINDOWS [ Preferable ] or DOS ; and some source codes of different kind of
> Statistical calculation making programs made / coded in ForTran ?
>          And how can i use a program (coded in ForTran) in R console ? Can
> i do it in S+ too ?

The exact URL is in the file readme.packages: see the rw-FAQ if you can't
find it.

You can use it in S-PLUS version 6 too, and with difficulty in earlier
versions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Fri Nov 30 08:50:44 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Fri, 30 Nov 2001 09:50:44 +0200
Subject: [R] ForTran Compiler & use of it in R / S+ 
In-Reply-To: Message from wildscop <isrtdu@yahoo.com> 
   of "Thu, 29 Nov 2001 08:37:50 +0600." <5.1.0.14.2.20011129083125.01af3650@pop.mail.yahoo.co.uk> 
Message-ID: <200111300750.fAU7omX27875@pc112145.oulu.fi>


isrtdu at yahoo.com said:
>  Can you provide me with the exact URL where can i find  ForTran
> Compilers [ free / commercial / trial / shareware / evaluation copy ]
> for  WINDOWS [ Preferable ] or DOS ; and some source codes of
> different kind of  Statistical calculation making programs made /
> coded in ForTran ?

Brian Ripley tells you everything you need to know (and something more):

http://www.stats.ox.ac.uk/pub/Rtools/

(this is a good URL, but not easy to find starting from Ripley's 
homepage).

isrtdu at yahoo.com said:
> And how can i use a program (coded in ForTran) in R console ? Can  i
> do it in S+ too ?

... and these you can find in your R documentation (Writing 
extensions...), and I guess, S+ tells this somewhere as well.

cheers, jari oksanen

PS. `ForTran' is a nice spelling, although some claim that it really 
isn't FORTRAN unless it's all in uppercase.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Nov 30 09:23:26 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 30 Nov 2001 09:23:26 +0100
Subject: [R] Script editor for R on Linux
References: <E169bQC-000LYF-00@probity.mcc.ac.uk>
Message-ID: <3C0741FE.226D6A36@psy.uni-muenchen.de>

Gindo Tampubolon wrote:
> 
> Hi all,
> 
> Could you point me to a script editor in Linux that will allow me to a
> somewhat easy pasting of section(s) of an R script or function into
> R for execution? Something like WinEdt+RWinEdt macro in R for
> Windows?
> (My time is a bit pressed. I haven't succeeded in my attempts to
> install ESS for XEmacs. No doubt due to my confusion and lack of
> competence. I am abandoning it for the moment.)

ESS can be installed via rpm on Mandrake. This should always work. There
is an ESS mailinglist and archive at http://www.stat.math.ethz.ch/ESS/.

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Nov 30 09:59:02 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 30 Nov 2001 09:59:02 +0100 (MET)
Subject: [R] memory issue trying to solve too large a problem using hclust
In-Reply-To: <7C4F091F6140D411A29300508B5C73B905BDEE83@usrymx04.merck.com>
Message-ID: <Pine.OSF.3.96.1011130094420.8635C-100000@ija.csic.es>


On Thu, 29 Nov 2001, Wiener, Matthew wrote:

> Hi, all.
> 
> I'm trying to cluster 12,500 objects using hclust from package mva.  The

But does this make sense? I often use R for the stat. analysis of remotely
sensed imagery, so have much larger datasets MIght I suggest the
following:

1. Study a subsample, applying 
many different methods (including hclust). 
2. Define the centroids
(both means and dispersions).
3. Use IDL, C or R amb C programs to 
assign all the objects to a centroid.
4. Select those objects with low maximum  similarity
and perform a dedicated analysis. Maybe there are rare
classes that must be added to the set that was 
produced in 2., or maybe
there are just rare objects that should be left
as unclassified.

This procedure would have the advantage of expending more of your
time at exploring the data than on system adm. issues.

But this is just a suggestion.

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Nov 30 10:03:13 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 30 Nov 2001 09:03:13 +0000 (GMT)
Subject: [R] animations?
In-Reply-To: <Pine.SOL.4.33.0111292323350.11500-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.10.10111300859520.6670-100000@localhost.localdomain>


Here's an example.
- down() generates a 21 frame movie of drifting sinewave in noise

down<-function(con=1, fy=5,sd=0)
{
x<-1:100
y<-1:100
xn<-length(x)
yn<-length(y)
xc<-xn/2
yc<-yn/2
sigx<-xn/5
sigy<-yn/5
m<-length(x)*length(y) 

par(mar=c(0,0,0,0))
for(i in 0:20)  #21 frames
{
#contrast waveform
f0<-function(x,y)
{
( (x-xc)^2 +(y-yc)^2 < (sigx*2.5)^2)*
 exp(-1/2*((x-xc)/sigx)^2 - 1/2*((y-yc)/sigy)^2)  *
                  con*cos(2*pi*fy*(y-yc)/yn + i*.299)
}


noise<-rnorm(m,0,sd)
#noise truncated at +/- 2.5 SDs
noise[noise>2.5*sd]<-2.5*sd
noise[noise< -2.5*sd]<- -2.5*sd
z0<-outer(x,y,f0)+noise
image(x,y,z0, col=gray(0:63/63), axes=FALSE,ann=FALSE,zlim=c(-1,1))
if(i<10)
filename<-paste("~/papers/helle/paper1/talk/movie/fig0", i, ".jpg",
sep = "")
else
filename<-paste("~/papers/helle/paper1/talk/movie/fig", i, ".jpg",
sep = "")
dev.print(device=jpeg,width=240,height=240,file=filename)
}
}


# then at bash prompt, do:
#        convert -delay 0 -loop 500 fig*.jpg movie.gif
# I find that jpeg makes much faster movies than png

- convert is from ImageMagick

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Nov 30 10:20:42 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 30 Nov 2001 10:20:42 +0100
Subject: [R] pause/get input
In-Reply-To: <Pine.GSO.4.20.0111291532590.13300-100000@jade.saintmarys.edu>
Message-ID: <MABBLJDICACNFOLGIHJOGEKECHAA.phgrosje@ulb.ac.be>

>Hi,
>	Is there a simple command to pause a script until the user hits
>return? Alternatively, is there a command which prompts the user for some
>input and assigns the input into a variable?

>dave

Pause <- function () { 
    cat("Hit <enter> to continue...")
    readline()
    invisible()
}

?readline for the second question.

Best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( ( 
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1" 
( ( ( ( (                                  L. Gonick & W. Smith (1993) 
 ) ) ) ) )
.......................................................................
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov 30 10:30:57 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 30 Nov 2001 04:30:57 -0500 (EST)
Subject: [R] I need Help!
In-Reply-To: <DAV37aMXa1UuXGD9waM0000a4bb@hotmail.com>
Message-ID: <Pine.LNX.4.30.0111300427020.14218-100000@bolker.zoo.ufl.edu>


  I think you've written to the list before ...
  You have to give us more detail before we can help!
  What platform (Windows, Macintosh, Linux, etc.), how much memory is in
your computer, and -- much more to the point -- what are you trying to do?
"create the points" doesn't tell us anything.  Including your whole data
set is probably not a good idea, but if you can send the R commands you're
using (in the cleanest, shortest form possible) someone might have an
idea.

  Ben Bolker


On Mon, 26 Nov 2001, VERONICA URIBE wrote:

> Hello!
>
> I'm beginning to use R and I have a problem.
>
> I've a data base of 1491 elements, I could create the points from this
> data frame but when I try to create the pairs the computer takes 30
> minutes and a message appears: The memory limit was achieved!
>
> Do you know how can I enlarge the memory size available for R in my
> computer?
>
> I'll really appreciate your help.
>
> Bye, Ver?nica.Obtenga el m?ximo provecho del Web. Descarga GRATUITA de
> MSN Explorer: http://explorer.msn.es/intl.asp#es
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Nov 30 11:12:43 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 30 Nov 2001 11:12:43 +0100
Subject: [R] identify() problem for graphs copied in Word (yet another Word bug to avoid with R?!)
Message-ID: <MABBLJDICACNFOLGIHJOAEKGCHAA.phgrosje@ulb.ac.be>

using:

identify(...., plot=FALSE)

allows identifying points in a graph without printing the corresponding
label in the graph. This works fine in R for Windows.

However, when I copy the graph as metafile into Word, the corresponding
label appears in black font in the copied picture. Obviously, identify()
prints the label anyway, in "invisible" font or so, in the graph, and this
invisible font is not recognized as such by the weird Word import filter.

Yes, I know: the first answer is: stop using Word...
But is there any other suggestion?

Best,

Philippe Grosjean



...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Nov 30 13:11:59 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 30 Nov 2001 13:11:59 +0100 (MET)
Subject: [R] fuzzy clustering in e1071
Message-ID: <Pine.OSF.3.96.1011130131131.2483A-100000@ija.csic.es>


Could anybody indicate me a more general reference(s)
for e1071 functions on fuzzy classification that the articles
that are mentioned in the help?
Or, perhaps, may be someone could explain 

1. How the fuzzy membership is calculated. I understand that
if m=1, the classification proceeds as a crisp classification
with the Euclidean distance and that m>1 modifies this
distance to make it fuzzy, but how?

2. What are the main differences among cmeanscl, cshell and
scaclust?

Thanks

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Nov 30 13:12:29 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 30 Nov 2001 13:12:29 +0100 (MET)
Subject: [R] Script editor for R on Linux
In-Reply-To: <3C0741FE.226D6A36@psy.uni-muenchen.de>
Message-ID: <Pine.OSF.3.96.1011130120340.6195A-100000@ija.csic.es>

On Fri, 30 Nov 2001, Sven Garbade wrote:

> ESS can be installed via rpm on Mandrake. This should always work. There
> is an ESS mailinglist and archive at http://www.stat.math.ethz.ch/ESS/.
> 

It would be very useful having this info in
http://cran.r-project.org/other-software.html
and 
http://cran.r-project.org/src/other/ess/readme.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at ling.ohio-state.edu  Fri Nov 30 13:17:29 2001
From: vasishth at ling.ohio-state.edu (Shravan Vasishth)
Date: Fri, 30 Nov 2001 07:17:29 -0500 (EST)
Subject: [R] Script editor for R on Linux
Message-ID: <Pine.SOL.4.33.0111300710480.27536-100000@julius.ling.ohio-state.edu>

Try pico.

There's no substitute for/comparison with emacs, though, IMHO.  By the
way, you probably know this, but just to be sure: you don't have to have
ESS to use (x)emacs for editing R scripts.  So if you're pressed for time,
just use (x)emacs.

-- 
Shravan Vasishth
Dept. of Linguistics, OSU
222 Oxley Hall, 1712 Neil Ave.
Columbus, OH 43210-1298
USA

URL: http://ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimi at ci.tuwien.ac.at  Fri Nov 30 13:54:04 2001
From: dimi at ci.tuwien.ac.at (Evgenia Dimitriadou)
Date: Fri, 30 Nov 2001 13:54:04 +0100 (CET)
Subject: [R] fuzzy clustering in e1071
In-Reply-To: <Pine.OSF.3.96.1011130131131.2483A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.40.0111301337380.11781-100000@gandalf.ci.tuwien.ac.at>


>
> Could anybody indicate me a more general reference(s)
> for e1071 functions on fuzzy classification that the articles
> that are mentioned in the help?
the references in the help pages *are* general, but if you need something
like a book then try

@InBook{clvalidity:Bezdek:1981b,
  author =       {James C. Bezdek},
  title =        {Pattern Recognition with Fuzzy Objective Function
Algorithms},  chapter =      {Cluster Validity},
  publisher =    {Plenum Press},
  year =         1981,
  address =      {N.Y.}
}

> Or, perhaps, may be someone could explain
>
> 1. How the fuzzy membership is calculated. I understand that
> if m=1, the classification proceeds as a crisp classification
> with the Euclidean distance and that m>1 modifies this
> distance to make it fuzzy, but how?

here is a very short description:

The $c$-means algorithm (or fuzzy $k$-means) is one of the classic
fuzzy clustering methods. As opposed to its competitive learning
variants, this is an off-line method, i.e., the center updates are
based on the whole training sample:
\begin{itemize}
 \item Fix the number of clusters $k$, $2\leq k<N$ where $N$ is the
  number of data points. Fix $q$, $1<q<\infty$, where $q$ is the
  defuzzification parameter.
 \item Set iteration counter $t=0$ and initialize the cluster centers
$v_i$.
 \item Calculate the fuzzy $k$-partition $U$ from
  \begin{equation}

U_{t+1}=u_{ij,~t+1}={\left[\sum_{l=1}^{k}{\left(\frac{||x_i-v_{j,t}||}{||x_i-v_{l,t}||}\right)}^{\frac{2}{q-1}}\right]}^{-1}
  \end{equation}
  and update the cluster centers according to
  \begin{equation}
    V_{t+1}=v_{t+1}=\frac{\sum_{i=1}^N{(u_{ij,~t+1})}^q
      x_i}{\sum_{i=1}^N{(u_{ij,~t+1})}^q}
  \end{equation}
  where  $1\leq i\leq N$ and $1\leq j\leq k$.
 \item If $||U_t-U_{t-1}||\leq \epsilon$ then stop or else $t=t+1$.
\end{itemize}


> 2. What are the main differences among cmeanscl, cshell and
> scaclust?
you should update your e1071 package. you are obviously
using an older version.
check the descriptions in the functions help pages to get the
differences among the algortihms. everything you need is already described
there.

-v
> Thanks
>
> Agus
>
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

************************************************************************
*                          Evgenia Dimitriadou                         *
************************************************************************
* Institut f?r Statistik      *               Tel: (+43 1) 58801 10773 *
* Technische Universit?t Wien *               Fax: (+43 1) 58801 10798 *
* Wiedner Hauptstr. 8-10/1071 *    Evgenia.Dimitriadou at ci.tuwien.ac.at *
* A-1040 Wien, Austria        *        http://www.ci.tuwien.ac.at/~dimi*
************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hlai at whsun1.wh.whoi.edu  Fri Nov 30 18:40:11 2001
From: hlai at whsun1.wh.whoi.edu (Han Lai)
Date: Fri, 30 Nov 2001 09:40:11 -0800
Subject: [R] Constructing simulataneous confidence intervals for residuals
Message-ID: <3C07C47B.58AD092C@whsun1.wh.whoi.edu>

Hi,

I use package "lme" and I am trying to construct the simultaneous
confidence intervals for subject residuals inorder to rank the
subject-effects.  The approach is found in the Fig. 2.12, p.37, and the
equation (2.17), p.36, by the textbook of Goldstein (1995): "Multilevel
Statistical Models".

Here, I quote from the book:

"Consider the JSP data where we have 48 estimated residuals together
with their comparative standard errors. .....
First, we order the residuals from smallest to largest.  We construct an
interval about each residual so that the creiterion for judging
statistical significance at the (1-a)% level for any pair of residuals
is whether their confidence intervals overlap.  For example, if we
consider a pair of residuals with a common standard error (s.e.), and
assuming nrmality, the confidence interval width for judging a
difference significant at the 5% level is given by +- 1.39(s.e.).
The genral procedure defines a set of confidence intervals for each
residual i as
            uhat_i += c(s.e.)_i                            (2.17)
For each possible pair of intervals (2.17), there is a significance
level associated with the overlap criterion, and the value c is
determined so that the average over all possible pairs is (1-a)%.  A
serach procedure can be devised to determine c.  When the ratio of the
standard errors do not vary appreciably, say by more than 2:1, the value
1.4 can be used for c.  As this ratio increases so does the value of c.
In present case, all but two of these ratios are greater than 2 and we
have used the cmmon value of 1.4"

My question is how to calculate c-value in that equation. Or, where can
I find the exact formula and procedures?  Also, is any other methods can
be used for this purpose (e.g., ranking the school-effects)?

Thank you very much for the help.


Cheers!
Han-Lin Lai, Ph.D
Northeast Fisheries Science Center
Woods Hole, MA 02543
Han-Lin.Lai at noaa.gov
Tel.  508 495 2312

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From C.Needle at marlab.ac.uk  Fri Nov 30 16:17:48 2001
From: C.Needle at marlab.ac.uk (Coby Needle)
Date: Fri, 30 Nov 2001 15:17:48 -0000
Subject: [R] R executables
Message-ID: <01CE32A7C170D3118414009027B1015501BABB46@mail2.marlab.ac.uk>

Dear all,

I am developing Fortran code for general distribution, which will
assist fisheries scientists in making forecasts about future fish-stock
population dynamics.  I have produced an S-PLUS script which
takes the output from this code and generates the necessary
summary plots, but I am aware that not everyone can afford
to buy S-PLUS.

Hence, I am interested in the use of R to produce these plots.
I could, of course, include an R-script in my software distribution
and direct people to where they could get R for themselves, but
it would preferable to use R to create a stand-alone plotting
executable with which plots could be produced without having
to run R.  My question is: is it possible to do this?

Thanks,

Coby Needle
FRS Marine Laboratory
Aberdeen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 30 16:30:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Nov 2001 15:30:26 +0000 (GMT)
Subject: [R] R executables
In-Reply-To: <01CE32A7C170D3118414009027B1015501BABB46@mail2.marlab.ac.uk>
Message-ID: <Pine.LNX.4.31.0111301528190.12628-100000@gannet.stats>

On Fri, 30 Nov 2001, Coby Needle wrote:

> Dear all,
>
> I am developing Fortran code for general distribution, which will
> assist fisheries scientists in making forecasts about future fish-stock
> population dynamics.  I have produced an S-PLUS script which
> takes the output from this code and generates the necessary
> summary plots, but I am aware that not everyone can afford
> to buy S-PLUS.
>
> Hence, I am interested in the use of R to produce these plots.
> I could, of course, include an R-script in my software distribution
> and direct people to where they could get R for themselves, but
> it would preferable to use R to create a stand-alone plotting
> executable with which plots could be produced without having
> to run R.  My question is: is it possible to do this?

I guess you mean on Windows?  Yes, you could by embedding R in your own
front end.  Note the requirements of GPL, though, which require you to
distribute all the source code for R with your executable.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgrandeau at free.fr  Fri Nov 30 17:37:48 2001
From: pgrandeau at free.fr (Pascal Grandeau)
Date: Fri, 30 Nov 2001 17:37:48 +0100
Subject: [R] Stepwise regression
Message-ID: <BOECJIPDBPNKIFOLLIKIOEMNCBAA.pgrandeau@free.fr>

I need to do a classic stepwise regression based not on AIC but on F in and
F out (or on R2, or R2 adjusted). I have many variables and it will very
useful for me to have a fast stepwise algorithm. Does anyone know if this
exists for R and where I can find that ?

Thank you very much.

Pascal Grandeau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Nov 30 18:04:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 30 Nov 2001 09:04:35 -0800 (PST)
Subject: [R] Stepwise regression
In-Reply-To: <BOECJIPDBPNKIFOLLIKIOEMNCBAA.pgrandeau@free.fr>
Message-ID: <Pine.A41.4.33.0111300902530.172898-100000@homer04.u.washington.edu>

uOn Fri, 30 Nov 2001, Pascal Grandeau wrote:

> I need to do a classic stepwise regression based not on AIC but on F in and
> F out (or on R2, or R2 adjusted). I have many variables and it will very
> useful for me to have a fast stepwise algorithm. Does anyone know if this
> exists for R and where I can find that ?
>

Stepwise regression using F tests is in the "leaps" package (as is
all-subsets regression).  It doesn't do adjusted R2 but there's not
much difference between AIC and adjusted R2.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Nov 30 18:58:08 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Fri, 30 Nov 2001 17:58:08 GMT
Subject: [R] x-axis in plots and interaction.plots
Message-ID: <20011130180127.1CEA1189C10@virtual.bignet.com.br>

Hi,

Here goes two plot questions I could not solve by myself:

1) I have a data frame with X (factors) and Y data, ordered by Y values.
When I make plot(X,Y) x-axis is rearranged. How to keep the original order?

To keep the original order (and to have points plotted, instead of horizontal 
lines) I tried, for X= names of 8 species and Y= median length: 

> par(lab = c(8, 5, 7))
> plot(Median,xaxt="n")
> axis(side=1,labels=Species)

But I had row numbers and not species names at x-axis.

2) In an interaction plot x-axis labels are overlapped. How to specify a step 
or frequency to x-axis labels?

Here I tried to use xaxt="n" and axes=F and then replace the axis with axis(1, 
at=seq(0,100,10)) but I could not erase the x-axis labels.

Thanks in advance.

Antonio
Olinto

-----------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mscarr at excitehome.net  Fri Nov 30 19:35:02 2001
From: mscarr at excitehome.net (Mark Scarr)
Date: Fri, 30 Nov 2001 10:35:02 -0800
Subject: [R] finite mixture modeling in R
In-Reply-To: <002301c178ff$35c74550$1e00a8c0@MinorplanetDev>
Message-ID: <000401c179cd$b9ec6b20$0e090018@CORPNT.NET>

Hi All,


Does anyone have any references/info on how to 
perform finite mixture modeling in R.
I have some bi-modal data, that I would like
to model/characterize.

Any help would be most appreciated.

Thanks,


Mark.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Fri Nov 30 21:04:29 2001
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Fri, 30 Nov 2001 21:04:29 +0100
Subject: [R] memory issue trying to solve too large a problem using hclust
References: <7C4F091F6140D411A29300508B5C73B905BDEE83@usrymx04.merck.com>
Message-ID: <3C07E637.9ECBAA58@EUnet.at>

Hi all, hi Matthew

I would like to extend this question and take the opportunity
to ask all the famous statisticians in this group for advice.

First a personal comment :-)
I am quite amused, how easy it is sometimes to find out on
which project someone writing to this group is working:
You mention that you want to cluster 12,500 objects. If I am
correct, you are trying to cluster the 12,500 genes on the
human Affymetrix GeneChip HgU95A, correct?
(At least this is what  I am just trying to do)

Now to the questions, which I wanted to ask for quite some time:

Since the time of the paper:
Eisen MB, Spellman PT, Brown PO, Botstein D.
Cluster analysis and display of genome-wide expression patterns.
Proc Natl Acad Sci U S A. 1998 Dec 8;95(25):14863-8.
most biologists working on gene expression use hierarchical
clustering to cluster all genes they have on their DNA-chips.
Next year we will see chips containing more than 20,000 genes
on one chip.

Thus the question is:
1, What is the best way to cluster this amount of genes?
Sometimes, I have heard, you should first use k-means to
divide the genes into few subclusters, and use hierarchical
clustering for the subclusters only. Is this correct?

2, When you do hierarchical clustering, what metric would
be best to use?
M.Eisen?s paper describes Pearson correlation as metric.
Is there a way to implement this metric for use in hclust?
Sorrowly, hclust supports only euclid and manhattan.

3, R/S contain some other cluster algorithms such as CLARA,
PAM, FANNY, AGNES. However, I have never seen any paper on
expression profiling using these algorithms. Is there a special
reason, why these functions are not used?

4, Meanwhile, new methods for cluster analysis have been
developed. For example, the book "Data Mining" of Han&Kamber
mentions BIRCH, CURE, DBSCAN, OPTICS, DENCLUE, STINGS
as some of these new algorithms.
Would it make sense to use one of these methods?
Does someone know if implementations of these functions
do exist?

5, As I understand, there does not exist a single "best" cluster
algorithm for this purpose, but you have to try different methods,
and try to find out which one describes the data best.
This is often easy when you cluster samples, but is hard to
find out when trying to cluster 20,000 or even more genes.

6, Do there exist better methods other than clustering, which
could group genes with similar behavior?
PCA may be one method, but is based on dimensionality reduction,
which may not be applicable in many cases?

I know, that in this group questions to cluster many data have
partly been answered, but I have the feeling, that many of these
questions remain open, especially, when applied to expression
profiling.

I also know that many people working in this field use R/S
as their main tool, so any help would be appreciated not only
from me.

Best regards
Christian Stratowa
----------------------------------
C.h.r.i.s.t.i.a.n  S.t.r.a.t.o.w.a
V.i.e.n.n.a,  A.u.s.t.r.i.a


"Wiener, Matthew" wrote:

> Hi, all.
>
> I'm trying to cluster 12,500 objects using hclust from package mva.  The
> distance matrix takes up nearly 600 MB.  The distance matrix also needs to
> be copied when being passed to the fortran routine that actually does the
> clustering (it's modified during the clustering), so that's 1200 MB.  I'm
> actually on a machine with 2.5 GB of memory (and nothing else running), so I
> thought I could pull this off.  The routine quits with the error "cannot
> allocate a vector of size 609131 KB", which by its size seems to be another
> copy of the distance matrix, I think the one needed by the fortran routine.
> As far as I can tell from looking at the code, no additional objects of the
> size of the distance matrix are used.
>
> After the error gc() says that the garbage collection threshold is 1433 MB.
>
> I'm wondering whether some additional copies of the distance matrix are
> being made, and whether I could somehow stop them from being made.  Any
> other suggestions for how I could get around the memory problem would also
> be appreciated.  (I know of clara in the "cluster" package, but would like
> to use hierarchical methods.)
>
> The function hierclust in multiv seems to demand even more memory, even when
> bign = T.
>
> I am running R-1.3.1 on Sun OS 5.6.
>
> Thanks for any help.
>
> Matthew Wiener
> Applied Computer Science and Mathematics Department
> Merck Research Labs
> Rahway, NJ  07065-0900
> 732-594-5303
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri Nov 30 21:02:07 2001
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 30 Nov 2001 15:02:07 -0500
Subject: [R] Problems with environmental variables set with Sys.putenv
Message-ID: <15367.58815.622366.946528@gargle.gargle.HOWL>

Environment variables set with Sys.putenv() "disappear" spontaneously (and
somewhat randomly) when I load large datasets.

This was reported in R-help by Dave Kane on June 4, 2001; I have not seen any
further discussion.  I'm not sure if I can report it as a "bug", since it is
not entirely reproducible.  Could someone try this and see if you have trouble
too?  The following ought to be an infinite loop, but isn't:

R> x <- matrix(1., 3000, 3000)
R> save(x, file="myx.RData")
R> Sys.putenv(HOME="/tmp")
R> while (Sys.getenv("HOME") != "") {cat("ok\n"); load("myx.RData")}
ok
ok
R>

The number of ok's I get varies from try to try.  Weird!

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:db, package:ts, package:ctest, Autoloads, package:base
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gerard.Keogh at cso.ie  Fri Nov 30 19:00:02 2001
From: Gerard.Keogh at cso.ie (Gerard.Keogh@cso.ie)
Date: Fri, 30 Nov 2001 18:00:02 +0000
Subject: [R] kalman
Message-ID: <OFADF83D3F.1EB6988E-ON80256B14.006285B7@cso.ie>

Hi all!

I'm sure this must have been asked many times before but here goes anyway.

I'm looking for a kalman filter in R for ar(i)ma time series. I'm sure
there must be one around but it does not seem to be in either ts or tseries
packages?

Any suggestions welcome.

Thanks

Gerard Keogh

The information in this email, and any attachments transmitted with it, are confidential 
and are for the intended recipient only. If you receive this message in error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 30 22:29:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Nov 2001 21:29:02 +0000 (GMT)
Subject: [R] kalman
In-Reply-To: <OFADF83D3F.1EB6988E-ON80256B14.006285B7@cso.ie>
Message-ID: <Pine.LNX.4.31.0111302128090.2245-100000@gannet.stats>

On Fri, 30 Nov 2001 Gerard.Keogh at cso.ie wrote:

> Hi all!
>
> I'm sure this must have been asked many times before but here goes anyway.
>
> I'm looking for a kalman filter in R for ar(i)ma time series. I'm sure
> there must be one around but it does not seem to be in either ts or tseries
> packages?

The code is in ts, but only at Fortran level.

I believe dse has it, though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From friendly at yorku.ca  Fri Nov 30 22:56:56 2001
From: friendly at yorku.ca (Michael Friendly)
Date: Fri, 30 Nov 2001 16:56:56 -0500
Subject: [R] mosaic.by(): vectorizing args passed by apply()?
Message-ID: <3C0800A7.794318D4@yorku.ca>

I've just started learning R, so I'm still on the steep part of the
learning curve, but my enthusiasm was heightened by learning that
there's a very nice implementation of mosaicplot().

As a learning project, I've already done a basic implementation
of a pairs.table() function which does a mosaic scatterplot matrix,
and now I'm trying to do conditional mosaic plots (discrete analog
of a coplot).

I found that
   apply(table, by, mosaicplot,...)
worked quite nicely, but I want to label each mosaic with the
combination of the factor name and level value, e.g., Sex: Male,
and I can't figure out how to get just one element of a list
passed by apply as an argument.  

In the function below, titles is a list like:
> paste("Sex: ", dimnames(Titanic)[[2]])
[1] "Sex:  Male"   "Sex:  Female"
and I want each element passed as the main= value for the corresponding
slice of the table.
Can someone help?

Try the function below with

data(HairEyeColor)
mosaic.by(HairEyeColor, 3)

## Conditional mosaics, one for each level of the by-variable(s) 
##   -- how to add factor levels as main= ?
##   -- how to do for more than one by-variable?
mosaic.by <- 
function(table, by=NULL, ...)
{
    n <- length(dim(table))
    if(n == 0)
        stop("invalid table `table'")
    if(length(by)>1)
        stop("Sorry, cannot handle >1 by variable yet.")
        
    np <- dim(table)[by]
    name <- names(dimnames(table))[by]
    titles <- paste(name, ":", dimnames(table)[[by]])
    
    opar <- par( mfrow=c(np, np), usr=c(1,1000,1,1000), mar=rep(1/2,4))
    on.exit(par(opar))
    
    apply(table, by, mosaicplot, main=titles, shade=T, legend=F, ...)    
}

thx,
-Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Nov 30 23:05:33 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 30 Nov 2001 17:05:33 -0500
Subject: [R] kalman
References: <OFADF83D3F.1EB6988E-ON80256B14.006285B7@cso.ie>
Message-ID: <3C0802AD.C2B43D01@bank-banque-canada.ca>

Gerard.Keogh at cso.ie wrote:

> I'm looking for a kalman filter in R for ar(i)ma time series. 

The dse bundle on CRAN handles multivariate ar(i)ma and state space models. It
does Kalman filtering for state space models, and can convert models back and
forth between state space and ar(i)ma.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


