From hzi at uol.com.br  Sun Apr  1 09:25:28 2001
From: hzi at uol.com.br (hzi)
Date: Sun, 1 Apr 2001 04:25:28 -0300
Subject: [R] Is this a bug with a simple arithmetic operation with a vector object?
Message-ID: <005d01c0ba7c$eda505a0$23c4bfc8@jarnt>

Hello-

    While I was reading a tutorial book for R (actually, for S-Plus:Brian S. Everitt. A Handbook of Statistical Analysis using S-PLUS. Chapman & Hall, London, 1994) I tried to execute this simple exercise:

        > x <- -c(1,2,3,4,5,6)
    > X <- -c(10,11,12,100,-5,-6)
    >x+X
    [1] -11, -13, -15, -104, 0, 0

    As you can see, the added vectors resulted in negative numbers ! (the answer should have been: [1] 11, 13, 15, 104, 0, 0)
    Mind you, this is R 1.2.1 for Windows, under WIndows ME, 64 Mb RAM, pIII 800 MHz. The same thing happens, however, with the recently distributed "R 1.2.2 patched".
    Clues, anyone?

    Thank you.
    Best regards,
      
    Henry
    hzi at uol.com.br
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010401/2eb13863/attachment.html

From hzi at uol.com.br  Sun Apr  1 10:43:32 2001
From: hzi at uol.com.br (hzi)
Date: Sun, 01 Apr 2001 08:43:32 +0000
Subject: [R] "all rows must have the same length" error while using read.table
Message-ID: <3AC6EA34.6080100@uol.com.br>

Hi-

    I tried to read the table bellow (table goes on with 54 rows) with 
the read.table

      

> AGE    MONTH    SEX    HEADLEN    HEADWTH    NECK    LENGTH    CHEST 
>    WEIGHT
> 19            7                1            11.0                5.5    
>             16.0            53.0            26.0            80
> 55            7                1            16.5                9.0    
>             28.8            67.5            45.0            344
> 81            9                1            15.5                8.0    
>             31.0            72.0            54.0            416
> 115          7                1            17.0                10.0    
>           31.5            72.0            49.0            348
> 104          8                2            15.5                6.5    
>             22.0            62.0            35.0            166



  

   > set3 <- read.table("/dos/mydocu~1/conjun~1.txt", header=T, 
sep="\t", row.names=1)

R (1.2.2 under Linux) produced the following error message:

   Error in  read.table("/dos/mydocu~1/conjun~1.txt", header=T, sep="\t", :
       all rows must have the same length.
  
What "length" is the error message referring to? The names of the variables?
Thanks in advance.


Regards,

   Henry



  


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Sun Apr  1 01:59:59 2001
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Sun, 1 Apr 2001 08:59:59 +0900
Subject: [R] Is this a bug with a simple arithmetic operation with a vector object?
In-Reply-To: <005d01c0ba7c$eda505a0$23c4bfc8@jarnt>
Message-ID: <000401c0ba3e$b1813eb0$0200a8c0@grandslam>

Thats because you have a minus sign before the c.  instead of
x<- -c(1,2,3..) use x<- c(1,2,3..)

cheers

dilip
-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of hzi
Sent: Sunday, April 01, 2001 4:25 PM
To: r-help at stat.math.ethz.ch
Subject: [R] Is this a bug with a simple arithmetic operation with a vector
object?


Hello-

    While I was reading a tutorial book for R (actually, for S-Plus:Brian S.
Everitt. A Handbook of Statistical Analysis using S-PLUS. Chapman & Hall,
London, 1994) I tried to execute this simple exercise:

       > x <- -c(1,2,3,4,5,6)
    > X <- -c(10,11,12,100,-5,-6)
    >x+X
    [1] -11, -13, -15, -104, 0, 0

    As you can see, the added vectors resulted in negative numbers ! (the
answer should have been: [1] 11, 13, 15, 104, 0, 0)
    Mind you, this is R 1.2.1 for Windows, under WIndows ME, 64 Mb RAM, pIII
800 MHz. The same thing happens, however, with the recently distributed "R
1.2.2 patched".
    Clues, anyone?

    Thank you.
    Best regards,

    Henry
    hzi at uol.com.br
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010401/bc4568df/attachment.html

From faheem at email.unc.edu  Sun Apr  1 05:18:50 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 31 Mar 2001 22:18:50 -0500 (EST)
Subject: [R] adjusting R's graphics display
Message-ID: <Pine.LNX.4.21.0103312207230.439-100000@Chrestomanci.home.earth>

Dear People,

I have code that looks like this

 par(mfcol=c(2,1))	
 image(z = as.matrix(val1))
 image(z = as.matrix(val2))

where val1 and val2 are two data frames which are each square arrays of -1
and 1 of side n. The above code displays them as yellow and red squares in
a grid (presumably default colours; whoever made the R default colours
clearly likes red, orange, and yellow) corresponding to -1 and 1. The
graphics display, however, displays these squares in a slightly squashed
fashion along the y axis. I would like the display to be bigger in such a
way that the squares actually look like squares, ie. elongated a suitable
amount in the y direction. What would be nicest way to do this?

Thanks for your time.

                          Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Sun Apr  1 05:19:53 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Sun, 1 Apr 2001 15:19:53 +1200
Subject: [R] "all rows must have the same length" error while using read.table
In-Reply-To: <3AC6EA34.6080100@uol.com.br>; from hzi@uol.com.br on Sun, Apr 01, 2001 at 08:43:32AM +0000
References: <3AC6EA34.6080100@uol.com.br>
Message-ID: <20010401151953.A5623@camille.indigoindustrial.co.nz>

>     I tried to read the table bellow (table goes on with 54 rows) with 
> the read.table
...
>   
> What "length" is the error message referring to? 

The number of columns in each row.  Apparently, it was different in
at least two rows.

Possible causes:
1)  repeated tabs, when there should've been one only.  From the 
format of the data you provided, this looks possible.  With \t 
representing a tab, R will interpret "3\t\t7" as a 3, two 
separators, with a non-value between them (NA), and a 7 rather 
than 3, separator, 7.  If you're comfortable with vi, you can find 
these in your file by ":s/\t\t" (without the quotes, of course).  
grep gets confused on my system between \t being a "t" and 
a tab.  If you're certain that there are no deliberately blank
entries (check this!), you can remove repeated tabs inside vi with
:1,$s,\t\t*,\t,g


2) trailing tabs.  Again, from within vi, you can clean these
up by 
:1,$s,[\t ]*,,  
which clears trailing spaces and tabs.

I usually leave a few perl, awk, or sed scripts lying around 
just for such tidy-ups (plus empty lines, leading spaces, and 
other annoyances).  Keeps me from having to remember all the
things that have bitten me before.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Sun Apr  1 11:01:43 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Sun, 1 Apr 2001 10:01:43 +0100 (BST)
Subject: [R] Is this a bug with a simple arithmetic operation with a
 vector object?
In-Reply-To: <005d01c0ba7c$eda505a0$23c4bfc8@jarnt>
Message-ID: <Pine.LNX.4.10.10104010959150.659-100000@localhost.localdomain>

R is working properly:

> x <- -c(1,2,3,4,5,6)
> x
[1] -1 -2 -3 -4 -5 -6
>  X <- -c(10,11,12,100,-5,-6)
> X
[1]  -10  -11  -12 -100    5    6
> x+X
[1]  -11  -13  -15 -104    0    0


If this is not what you expected, then you must have meant:

x <- c(1,2,3,4,5,6)

etc

You negated the vectors with a minus sign in front of the c(). The
assignment operator is <-, not <- -


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Sun Apr  1 23:15:22 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Mon, 2 Apr 2001 09:15:22 +1200
Subject: [R] ylab/ expression/ superscript to a bracket
Message-ID: <200104012116.f31LGXL73603@storm.niwa.cri.nz>

Colleagues

  ----------------------------------
  System info:
  R version rw1022 on NT
  ESS v. 5.1.18 using emacs ver. 20.4

  ----------------------------------
  I have some rather unusual units for acoustic volume backscattering
  integrated over several metres depth and 10 transmits (which happens to
  = 160 m along transect). I need to express these units in a graph label.

  My problem comes in applying a superscripted number to a bracket (see
  the )^{-3} below:

  ylab=expression(paste('mean SV dB [', m^{2},' (160 m',)^{-3},']'))

  This gives an error (due to what is interpreted as an extra bracket).
  However, superscript requires a character to superscript to, so I can
  either use a dot (which is confusing in the label) 

   ylab=expression(paste('mean SV dB [', m^{2},' (160 m)',.^{-3},']'))

  or use another kind of bracket. Unfortunately the label needs two kinds
  of brackets. Also using a brace, }^{-3} doesn't help for obvious
  reasons.

  Any hints? Help will be appreciated.

  Thanks

  Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Sun Apr  1 23:55:44 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 2 Apr 2001 09:55:44 +1200 (NZST)
Subject: [R] PICT output?
In-Reply-To: <Pine.LNX.4.31.0103300859100.12313-100000@shell1.aracnet.com> from "M. Edward (Ed) Borasky" at Mar 30, 2001 09:09:53 AM
Message-ID: <200104012155.f31LtiT05265@biomat1.marc.hort.cri.nz>

According to "M. Edward (Ed) Borasky":
|> 
|> On Fri, 30 Mar 2001, Greg Trafton wrote:
|> 
|> > hi, all.  I use R on a unix (linux) box and am quite happy with it.
|> > However, sometimes I need to create a graph that needs to be used with
|> > Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
|> > picture, but the text look pretty crummy because jpeg is bitmapped.  I
|> > can also create a PS/EPS version (my preference), but then it doesn't
|> > display properly in word or powerpoint (but it prints OK).
|> >
|> > I guess I have two questions:
|> >   1) Are there any plans for R to output a PICT format?  (which would
|> > solve this problem, I think, since PICT can be read by word/powerpoint
|> > and is not bitmapped).
|> >   2) Is there a way to get an R plot to come out looking good in
|> > powerpoint or word
|> >
|> > thanks for any suggestions!
|> 
|> I've crossed the same bridge; here's what I do:
|> 
|> I have both R for Windows and R for Linux. Since you have Word and
|> PowerPoint, I assume you have Windows :-). I do the analysis on the Linux box
|> and plot "png" files. They are fine for display, but they don't print very well.

It's not necessary to resort to using Windows.  You can improve the
printing quality of a png file by using the bitmap function, and
increasing the res from the default 72 to something like 200.  Your
png file will look fine in PowerPoint.  (It will look huge if you try
to view it in a file viewer, though).  

Another down side is that the type of compression is quite processor
intensive which can make it slow to appear in PowerPoint.  That might
be reason to use WMF instead.

best

Patrick


-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr  2 00:31:57 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Apr 2001 00:31:57 +0200
Subject: [R] ylab/ expression/ superscript to a bracket
In-Reply-To: "S.McClatchie"'s message of "Mon, 2 Apr 2001 09:15:22 +1200"
References: <200104012116.f31LGXL73603@storm.niwa.cri.nz>
Message-ID: <x2zoe0uu8y.fsf@blueberry.kubism.ku.dk>

"S.McClatchie" <s.mcclatchie at niwa.cri.nz> writes:

>   My problem comes in applying a superscripted number to a bracket (see
>   the )^{-3} below:
> 
>   ylab=expression(paste('mean SV dB [', m^{2},' (160 m',)^{-3},']'))
> 
>   This gives an error (due to what is interpreted as an extra bracket).
>   However, superscript requires a character to superscript to, so I can
>   either use a dot (which is confusing in the label) 
> 
>    ylab=expression(paste('mean SV dB [', m^{2},' (160 m)',.^{-3},']'))
> 
>   or use another kind of bracket. Unfortunately the label needs two kinds
>   of brackets. Also using a brace, }^{-3} doesn't help for obvious
>   reasons.
> 
>   Any hints? Help will be appreciated.

?plotmath will tell you about phantom() and group()...

I'd go for 

plot(0, ylab=expression('mean SV dB  ' * 
	                group("[", m^{2} * ("160 m")^{-3}, "]")))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Apr  2 01:49:22 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sun, 1 Apr 2001 16:49:22 -0700
Subject: [R] PICT output?
In-Reply-To: <200104012155.f31LtiT05265@biomat1.marc.hort.cri.nz>
Message-ID: <HBEHIIBBKKNOBLMPKCBBMEAJDEAA.znmeb@aracnet.com>

> -----Original Message-----
> From: Patrick Connolly [mailto:P.Connolly at hortresearch.co.nz]
> Sent: Sunday, April 01, 2001 2:56 PM
> To: "M. Edward (Ed) Borasky"
> Cc: R-help
> Subject: Re: [R] PICT output?
> |> PowerPoint, I assume you have Windows :-). I do the analysis
> on the Linux box
> |> and plot "png" files. They are fine for display, but they
> don't print very well.
>
> It's not necessary to resort to using Windows.  You can improve the
> printing quality of a png file by using the bitmap function, and
> increasing the res from the default 72 to something like 200.  Your
> png file will look fine in PowerPoint.  (It will look huge if you try
> to view it in a file viewer, though).
>
> Another down side is that the type of compression is quite processor
> intensive which can make it slow to appear in PowerPoint.  That might
> be reason to use WMF instead.

In fact, I am doing the Linux "png" output using "bitmap", "png16",
actually, with a resolution of 600 dpi. They look great on the screen, but
the Windows printer drivers translate them to something grainy and not at
all attractive. My recollection is that the biggest ones are about 90 KBytes
each at this resolution, and 1/4 that at 300 dpi. And yes, the *Linux*
viewers, at least the built-in ones, don't reproduce them as a single page
but just a small chunk of a page; you have to use a viewer with scrollbars
and zoom capability. That's not a problem for this application, because the
person viewing the pictures will *always* have a Windows system.

I discussed these issues a while back. My original design created ".eps"
output files, but I couldn't insert them as pictures in a Word document. So
I tried *all* the other possibilities on Linux before settling on "png" as
the most portable. If Linux R had ".emf" output, I would use that. But it
doesn't, and given my time constraints I did not have the option of
implementing a driver, and even if I did, it would remain proprietary to my
employer, and would not be contributable to the R community as a result.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Apr  2 03:21:06 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 1 Apr 2001 21:21:06 -0400 (EDT)
Subject: [R] PICT output?
Message-ID: <200104020121.VAA09997@cattell.psych.upenn.edu>

I'm coming into this thread late, and I haven't read all
the earlier messages, but I just had to find a way to
get R output to TWO different Windows users on the same
day.  (Never had to do this before.)  I finally solved it
by using eps output from R.  Then I said

convert myfile.eps bmp:myfile.bmp

which makes something that Windows knows and loves (although
it is very big).  In one case, it was also necessary to
say

mogrify -geometry 50%x50% myfile.bmp

because the original was too big.  The recipients were
happy.  "Convert" and "mogrify" are part of ImageMagick,
which requires many other programs to be installed.
This worked on Red Hat Linux 7.  ImageMagick also has a
function called "display" which is much quicker than any
other method of viewing most image files, and if you click
somewhere it will give you a nice menu of possible
conversions.

I think that ImageMagick is also available for Windows.
It actually makes use of many other programs installed on
the system, such as ghostscript (and I think also the
netpbm utilities, which themselves can do a lot of this
stuff).

I did not try the bitmap output from R itself.  Perhaps
that would work too.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Apr  2 06:55:26 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 2 Apr 2001 16:55:26 +1200
Subject: [R] "all rows must have the same length" error while using read.table - correction
In-Reply-To: <20010401151953.A5623@camille.indigoindustrial.co.nz>; from jasont@indigoindustrial.co.nz on Sun, Apr 01, 2001 at 03:19:53PM +1200
References: <3AC6EA34.6080100@uol.com.br> <20010401151953.A5623@camille.indigoindustrial.co.nz>
Message-ID: <20010402165526.C3012@camille.indigoindustrial.co.nz>

whoops

> 2) trailing tabs.  Again, from within vi, you can clean these
> up by 
> :1,$s,[\t ]*,,  
> which clears trailing spaces and tabs.

That should be
:1,$s,[\t ]*$,,

Note the second '$'.  The original form will seriously mess up your
data, guaranteed.

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Mon Apr  2 09:56:05 2001
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Mon, 2 Apr 2001 09:56:05 +0200 (METDST)
Subject: [R] PICT output?
Message-ID: <200104020756.JAA09848@ehmgs2.et.tu-dresden.de>

> |> 
> |> I have both R for Windows and R for Linux. Since you have Word and
> |> PowerPoint, I assume you have Windows :-). I do the analysis on the Linux box
> |> and plot "png" files. They are fine for display, but they don't print very well.
> 
> It's not necessary to resort to using Windows.  You can improve the
> printing quality of a png file by using the bitmap function, and
> increasing the res from the default 72 to something like 200.  Your
> png file will look fine in PowerPoint.  (It will look huge if you try
> to view it in a file viewer, though).  

Another possibility is to save the pictures as "eps" (->postscript) and under Windows
use ghostview's "Vectorize" function, which can produce quite good wmf/emf output
most of the time. (That assumes you have ghostscript/ghostview installed under Windows).

=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  2 10:32:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 09:32:21 +0100 (BST)
Subject: [R] PICT output?
In-Reply-To: <200104020756.JAA09848@ehmgs2.et.tu-dresden.de>
Message-ID: <Pine.LNX.4.31.0104020930070.22703-100000@gannet.stats>

On Mon, 2 Apr 2001, Thomas Hoffmann wrote:

> > |>
> > |> I have both R for Windows and R for Linux. Since you have Word and
> > |> PowerPoint, I assume you have Windows :-). I do the analysis on the Linux
box
> > |> and plot "png" files. They are fine for display, but they don't print
very well.
> >
> > It's not necessary to resort to using Windows.  You can improve the
> > printing quality of a png file by using the bitmap function, and
> > increasing the res from the default 72 to something like 200.  Your
> > png file will look fine in PowerPoint.  (It will look huge if you try
> > to view it in a file viewer, though).
>
> Another possibility is to save the pictures as "eps" (->postscript) and under
Windows
> use ghostview's "Vectorize" function, which can produce quite good wmf/emf
output
> most of the time. (That assumes you have ghostscript/ghostview installed under
Windows).

ghostview is a Unix program: I assume you mean Ghostgum's GSView?  If
you have Windows, you can use R under Windows to produce high-quality wmf
directly ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Apr  2 10:37:26 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 02 Apr 2001 10:37:26 +0200
Subject: [R] SVM support vector machine
References: <3AC4E626.A6CB3218@inrialpes.fr>
Message-ID: <3AC83A46.B6D184F1@ci.tuwien.ac.at>

Olivier Martin wrote:
> 
> Hi all,
> sorry for my previuos question that was incomplete...
> i would like to test  the SVM (support vector machine) algorithm?
> is somebody know if there are available program for R or S?
> thanks...

Bonjour Oliver,

just get the e1071-package, start R and try the following:

library (e1071)
example (svm)

perhaps this will suffice,

-d

> 
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN               phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                  e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> 

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Philip.Tennant at nre.vic.gov.au  Mon Apr  2 11:03:18 2001
From: Philip.Tennant at nre.vic.gov.au (Philip.Tennant@nre.vic.gov.au)
Date: Mon, 2 Apr 2001 19:03:18 +1000
Subject: [R] Stripplot - multiple plotting characters
Message-ID: <4A256A22.0031C11E.00@ctln06.nre.vic.gov.au>



Hello

I'm using R 1.2.1 on Windows.

I can't understand how to set up two different plotting
characters within a stripplot graph.  I would use plot(),
but I want to use the 'stacking' option in stripplot as the
overplotting is quite severe:

patch <- factor(rep(c("S", "M", "B"), c(7, 7, 7)))
struc <- c(4,6,6,8,8,8,12,4,6,6,6,8,10,10,6,6,6,8,8,8,8)
occur <- c(0,0,0,1,1,0,1,0,0,1,0,0,1,0,0,0,1,1,1,1,0)
woods <- data.frame(patch, struc, occur)

woods$sym <- woods$occur
woods$sym[woods$sym==1] <- 16 ; woods$sym[woods$sym==0] <- 1

attach(woods)
stripplot(struc~patch, method = "stack", pch = as.integer(sym))


I wanted the above code to give both open and filled circles in the
plot. I thought pg.84 from V&R3 may help me, (with the associated 'R
Complements'), but I am unable to understand how to adapt it.

Will summarise for the list if responses come directly.

Many thanks in advance.

Philip Tennant


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Apr  2 11:27:50 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 2 Apr 2001 10:27:50 +0100
Subject: [R] Independant-samples t-test
In-Reply-To: <004701c0b8ef$31d7e1a0$cee1f380@nottingham.ac.uk>
References: <Pine.LNX.4.30.0103290911470.15141-100000@bolker.zoo.ufl.edu>
 <004701c0b8ef$31d7e1a0$cee1f380@nottingham.ac.uk>
Message-ID: <24yl2SAWYEy6EwE2@myatt.demon.co.uk>

Dr Stuart Leask <stuart.leask at nottingham.ac.uk> writes:
>I can't find a 'group' option in t.test (library ctest).
>
>(eg. X = normally-distributed rating scale
>Y = sex
>I'd like to compare the means by sex, but can't do t.test(X,group=Y) or
>whatever).

Index the vector by group:


        t.test(x[sex == 1], x[sex == 2])

should do the trick. You could try:

        summary(aov(sex~group))

which is equivalent but assumes equal variances.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Apr  2 11:31:21 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 2 Apr 2001 10:31:21 +0100
Subject: [R] PICT output?
In-Reply-To: <15044.40177.695923.785538@viz.itd.nrl.navy.mil>
References: <15044.40177.695923.785538@viz.itd.nrl.navy.mil>
Message-ID: <0IdlKVApbEy6EwmU@myatt.demon.co.uk>

Greg Trafton <trafton at itd.nrl.navy.mil> writes:
>hi, all.  I use R on a unix (linux) box and am quite happy with it.
>However, sometimes I need to create a graph that needs to be used with
>Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
>picture, but the text look pretty crummy because jpeg is bitmapped.  I
>can also create a PS/EPS version (my preference), but then it doesn't
>display properly in word or powerpoint (but it prints OK).
>
>I guess I have two questions:
>  1) Are there any plans for R to output a PICT format?  (which would
>solve this problem, I think, since PICT can be read by word/powerpoint
>and is not bitmapped).
>  2) Is there a way to get an R plot to come out looking good in
>powerpoint or word

Why not create a Windows metafile using win.metafile()? I think this
functions might be available only in the Windows version of R.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Apr  2 11:15:34 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 2 Apr 2001 10:15:34 +0100
Subject: [R] export graph to Word/Excel
In-Reply-To: <20010328193610.40451.qmail@web11501.mail.yahoo.com>
References: <s2cDVJAWEKs6EwWs@myatt.demon.co.uk>
 <20010328193610.40451.qmail@web11501.mail.yahoo.com>
Message-ID: <l4Kh2MA2MEy6EwHk@myatt.demon.co.uk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:

>Thanks for your help. Now, I could write plots to 
>external files successfully.
>
>I am wondering if you could give me an example on
>how to write a VB program to make Word do two things:
>1. convert text into a table (dilimited by Tab)
>2. insert a object/plot
>
>I know some VB but I'm kind of newbie to it.

These are standard menu commands so the easiest way to get the right VB
syntax would be to record a macro of these actions (Tools -> Macro ->
Record). You can then see the code required by using Tools -> Macro ->
Edit). You can then use the VBA help system for the keywords / commands.

The above menu positions are for Word 7 (95). They may have changed in
later versions.

Mark

>--- Mark Myatt <mark at myatt.demon.co.uk> wrote:
>> Yu-Ling Wu <yuling5 at yahoo.com> writes:
>> >Hi,
>> >
>> >I have a set of script like this:
>> >
>> >----------------------
>> >summary(data)
>> >plot(time, users, type="o", xlab ="Time",
>> ylab="Number
>> >of Users")
>> >----------------------
>> >
>> >I type "rterm --slave < script.r > output.doc" and
>> the
>> >graphic doesn't
>> >actually in the output.doc file. How to make the
>> >graphic embedded in Word
>> >or Excel file?
>> 
>> I think you need to do to things:
>> 
>>         1. In R use win.metafile() or something
>> similar to store the
>>         plot in a file ... MS Office can handle a
>> variety of formats but
>>         some may need to be installed.
>> 
>>         2. Use a .VBA / .VBS script to automate Word
>> / Excel to insert
>>         an object from a file.
>> 
>> You can probable use system() to spark the .VBA
>> script from within R.


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Apr  2 11:05:17 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 2 Apr 2001 10:05:17 +0100
Subject: [R] Chart Size
In-Reply-To: <200103292328.RAA30701@uhddx01.dt.uh.edu>
References: <200103292328.RAA30701@uhddx01.dt.uh.edu>
Message-ID: <oIUiaHANDEy6Ewlk@myatt.demon.co.uk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:
>Dear R People:
>
>How do I change the size of the chart, please?
>
>I tried changing the mar option in par, but that didn't 
>do it.
>
>I'd like to have a larger chart.
>
>Thanks in advance.
>
>R 1.1.1 on Windows  (I know....I'll update soon)
>

Open a graphics device using x11() or windows() or win.graph() and
specify height and width (in inches). E.g.:

        win.graph(width = 3, height = 5)

for a 3" X 5" window.

Try help(x11) for more info.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Georgina.Bermann at astrazeneca.com  Mon Apr  2 12:29:05 2001
From: Georgina.Bermann at astrazeneca.com (Georgina.Bermann@astrazeneca.com)
Date: Mon, 2 Apr 2001 12:29:05 +0200 
Subject: [R] standard errors of fitted values are different S-plus survival pa
	ckage and R
Message-ID: <972D4394D961D211978500805F155398020D18FE@se-hsl-mail030.seml.astrazeneca.net>

Perhaps this question has been asked before: but using the function predict(
fit,type="terms",se.fit=T), where fit is a coxph object in S-plus, the
estimated standard errors are different.  It may be different estimators of
the variance of the residuals?  Which one is the default in R, I don't find
that too easily in the documentation.  Does anybody know?

I'll be very grateful if somebody can help in this matter.

Georgina Bermann
Biostatistics, AstraZeneca R&D M?lndal
----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  2 12:39:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 11:39:11 +0100 (BST)
Subject: [R] standard errors of fitted values are different S-plus survival
 pa ckage and R
In-Reply-To: <972D4394D961D211978500805F155398020D18FE@se-hsl-mail030.seml.astrazeneca.net>
Message-ID: <Pine.LNX.4.31.0104021137310.8626-100000@gannet.stats>

On Mon, 2 Apr 2001 Georgina.Bermann at astrazeneca.com wrote:

> Perhaps this question has been asked before: but using the function predict(
> fit,type="terms",se.fit=T), where fit is a coxph object in S-plus, the
> estimated standard errors are different.  It may be different estimators of
> the variance of the residuals?  Which one is the default in R, I don't find
> that too easily in the documentation.  Does anybody know?

Which version of S-PLUS?  Can you give an example?  Issues include the
setting of the contrasts options, and that survival5 in R is later than
that in most S-PLUS versions (e.g. except 6.0 post-Linux versions).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Apr  2 13:00:08 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 2 Apr 2001 23:00:08 +1200
Subject: [R] PICT output?
References: <15044.40177.695923.785538@viz.itd.nrl.navy.mil> <0IdlKVApbEy6EwmU@myatt.demon.co.uk>
Message-ID: <008d01c0bb64$1582ef00$b12437d2@KoKang>


----- Original Message -----
From: "Mark Myatt" <mark at myatt.demon.co.uk>
To: "Greg Trafton" <trafton at itd.nrl.navy.mil>
Cc: <r-help at stat.math.ethz.ch>
Sent: Monday, April 02, 2001 9:31 PM
Subject: Re: [R] PICT output?


> >  2) Is there a way to get an R plot to come out looking good in
> >powerpoint or word
>
> Why not create a Windows metafile using win.metafile()? I think this
> functions might be available only in the Windows version of R.


Yes.  I always create metafile of my plots, then paste them into
Word/PowerPoint.  It is the best way I've found so far.  Much better than
using bitmap or jepg.

Cheers,

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Apr  2 12:44:04 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 02 Apr 2001 11:44:04 +0100
Subject: [R] Multidimensional Scaling
Message-ID: <3AC857F3.89273D52@ipimar.pt>

Hi

Does anyone know if there's a package I can use to do Multidimensional
scaling ?

Thank's

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  2 13:10:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 12:10:41 +0100 (BST)
Subject: [R] Multidimensional Scaling
In-Reply-To: <3AC857F3.89273D52@ipimar.pt>
Message-ID: <Pine.LNX.4.31.0104021209270.8813-100000@gannet.stats>

On Mon, 2 Apr 2001, [iso-8859-1] José Ernesto Jardim wrote:

> Hi
>
> Does anyone know if there's a package I can use to do Multidimensional
> scaling ?

Depends what you mean, but cmdscale in mva and sammon and isoMDS in MASS
are three possibilities.  There are some more in multiv, or at least more
of the same.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Apr  2 13:12:05 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Apr 2001 04:12:05 -0700
Subject: [R] PICT files...
Message-ID: <87zodzwo6y.fsf@jeeves.blindglobe.net>


So, lots of comments about PICT.  If you have to go there (EPS to
PICT, but vectorized PICT for an investigator to use), does anyone
have suggestions?  

I've found EPStoPICT (www.artage.com), any other thoughts?  (these
are real Mac people, so while I could go the WMF route, it's about as
palatable as EPS).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Apr  2 15:12:00 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 2 Apr 2001 14:12:00 +0100 (BST)
Subject: [R] nlme analysis?
Message-ID: <Pine.LNX.4.10.10104021356410.2067-100000@localhost.localdomain>

Someone has asked me how to go about analysing the following study. I
think maybe nlme is appropriate, though I have never used it and know
little about it.

Each subject has either unilateral or bilateral case of disease under
study. Subjects are randomly assigned to treatments A or B.

The subjects are given 6 tests. One of these dependent measures is a 4
point categorical scale; the rest are continuous.

These measures are taken repeatedly:
Baseline measurement before treatment
Follow up 1, 3 months after treatment
Follow up 2, 6 months after treatment
Follow up 3, 9 months after treatment
Follow up 4, 12 months after treatment
Follow up 5, 18 months after treatment
Follow up 6, 24 months after treatment
Follow up 7, 36 months after treatment

I have never done an analysis of an expt like this, so any advice is
welcome. Naively it looks like one wants something like a regression of
each measure against time (there will be 6, one for each DV), and one
would hope that the slope of the functions obtained in groups A and B is
different. That would show that one treatment slows the progression of the
disease relative to the other treatment. The fancy part is that these
regressions are time series and so the autocorrelated errors must be
taken into account...

Is nlme a good tool for analysing this sort of thing? If so, how to do it?

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ralph.Leonhardt at lrz.uni-muenchen.de  Mon Apr  2 16:32:45 2001
From: Ralph.Leonhardt at lrz.uni-muenchen.de (Ralph Leonhardt)
Date: Mon, 02 Apr 2001 16:32:45 +0200
Subject: [R] Censored or truncated Regression Models/Tobit
Message-ID: <3AC88D8D.30E5D656@lrz.uni-muenchen.de>

Hi,

what is the best way to estimate a tobit(truncated) regression model in
R ?
Is there already a packet available ? 

	Gruss
		Ralph Leonhardt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cantonio at ch.ufpb.br  Mon Apr  2 16:14:22 2001
From: cantonio at ch.ufpb.br (Carlos Antonio S de Andrade)
Date: Mon, 02 Apr 2001 11:14:22 -0300
Subject: [R] tables of frequencies
Message-ID: <1.5.4.32.20010402141422.00b2c0e4@ch.ufpb.br>

        Hi!

        How to make tables of frequencies in R?
        
        Thanks.
Prof. Carlos A. S. de Andrade
Universidade Federal da Para?ba
Centro de Humanidades
Departamento de Economia e Finan?as
Tel.:83-333-5509(res)
	310-1215(DEF/CH)
E-mail: casandrade at super11.net
	cantonio at ch.ufpb.br

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr  2 16:23:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Apr 2001 16:23:22 +0200
Subject: [R] tables of frequencies
In-Reply-To: Carlos Antonio S de Andrade's message of "Mon, 02 Apr 2001 11:14:22 -0300"
References: <1.5.4.32.20010402141422.00b2c0e4@ch.ufpb.br>
Message-ID: <x2wv93z8h1.fsf@blueberry.kubism.ku.dk>

Carlos Antonio S de Andrade <cantonio at ch.ufpb.br> writes:

>         How to make tables of frequencies in R?

Table + prop.table.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Apr  2 16:36:12 2001
From: arnholt at math.appstate.edu (Alan Arnholt)
Date: Mon, 2 Apr 2001 10:36:12 -0400 (EDT)
Subject: [R] tables of frequencies
In-Reply-To: <1.5.4.32.20010402141422.00b2c0e4@ch.ufpb.br>
Message-ID: <SIMEON.10104021012.B@arnholt.math.appstate.edu>

Try table

example:

> tras <- rbinom(50,10,.5)
> table(tras)
tras
 2  3  4  5  6  7  8 
 1  5 10 11 11  7  5 

Alan

On Mon, 02 Apr 2001 11:14:22 -0300 Carlos Antonio S de 
Andrade <cantonio at ch.ufpb.br> wrote:

>         Hi!
> 
>         How to make tables of frequencies in R?
>         
>         Thanks.
> Prof. Carlos A. S. de Andrade
> Universidade Federal da Paraíba
> Centro de Humanidades
> Departamento de Economia e Finanças
> Tel.:83-333-5509(res)
> 	310-1215(DEF/CH)
> E-mail: casandrade at super11.net
> 	cantonio at ch.ufpb.br
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------
Alan T. Arnholt
Associate Professor
Dept. of Mathematical Sciences
TEL: (828) 262-2863
FAX: (828) 265-8617
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Apr  2 16:50:23 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 02 Apr 2001 16:50:23 +0200
Subject: [R] html
Message-ID: <3.0.6.32.20010402165023.00991dc0@mail.wsl.ch>

Hi all,

Excuse me please for posting a question concerning HTML.

How do I tell XEmacs to treat a file ".ehtml" like one with ".htm" (syntax
highlighting etc)?

Or more general: to treat file with ".x" as ".Y" ?

Thanks for any hints.
--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr  2 17:29:04 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 2 Apr 2001 08:29:04 -0700 (PDT)
Subject: [R] Censored or truncated Regression Models/Tobit
In-Reply-To: <3AC88D8D.30E5D656@lrz.uni-muenchen.de>
Message-ID: <Pine.A41.4.33.0104020825470.172020-100000@homer20.u.washington.edu>

On Mon, 2 Apr 2001, Ralph Leonhardt wrote:

> Hi,
>
> what is the best way to estimate a tobit(truncated) regression model in
> R ?
> Is there already a packet available ?
>


I'm not entirely sure what a tobit model is, but there are censored
parametric regression models in the survival5 package, function survreg().

You can have data truncated on one side and censored on the other, or
censored on both sides.  Distributions include the Gaussian.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Mon Apr  2 19:29:06 2001
From: helgito at hi.is (Helgi Tomasson)
Date: Mon, 02 Apr 2001 17:29:06 +0000
Subject: [R] degrees of freedom and glm
Message-ID: <3AC8B6E2.CADB0F15@rhi.hi.is>

To glm-experts

Is there a simple way of counting degrees of freedom when modeling
interactions with a lot of empty cells?

I am thinking of an example of McCulagh & Nelder where glm gives df=13
but there is only scope for df=10 due to empty cells.

best regards 

Helgi



-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration    
email:helgito at rhi.hi.is 
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raetzel at Mathematik.Uni-Marburg.de  Mon Apr  2 20:07:30 2001
From: raetzel at Mathematik.Uni-Marburg.de (Dirk F. Raetzel)
Date: Mon, 2 Apr 2001 20:07:30 +0200 (MET DST)
Subject: [R] segmentation fault with chron.times()
In-Reply-To: <3AB729D6.FFA58EF3@iriti.cnr.it>
Message-ID: <Pine.GSO.4.21.0104022006540.16589-100000@algol>

On Mar 20, F. Pollastri wrote:

> I am running a simple R program, its skeleton is enclosed below.
> The program reads about 80 files with about 5000 lines with coloumns of
> data. After an unpredictable and variable number of loops for run to
> run, it exits with segmentation fault or alternatively with the error

I had a similar problem and updated to the newest version of the chron
library. The error disappeared. Now I have a problem with cut.dates ...
(but already reported to Kurt Hornik, maintainer of the chron library)

Dirk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Mon Apr  2 20:07:19 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Mon, 2 Apr 2001 13:07:19 -0500 (CDT)
Subject: [R] Censored or truncated Regression Models/Tobit
In-Reply-To: <3AC88D8D.30E5D656@lrz.uni-muenchen.de>
Message-ID: <Pine.GSO.4.33.0104021304510.12240-100000@dahlia.la.utexas.edu>

Ralph --
You can do a censored regression with the survival5 library

library(survival5)
survreg(Surv(y,c), dist="normal")

where y is the censored dep-var and c is 1 if observed and 0 otherwise.

Cheers,
Dan
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology
University of Texas at Austin


On Mon, 2 Apr 2001, Ralph Leonhardt wrote:

> Hi,
>
> what is the best way to estimate a tobit(truncated) regression model in
> R ?
> Is there already a packet available ?
>
> 	Gruss
> 		Ralph Leonhardt
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Apr  2 22:14:10 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 02 Apr 2001 13:14:10 -0700
Subject: [R] Is it possible to...
Message-ID: <5.1.0.12.2.20010402130652.00a82d40@127.0.0.1>

I have a matrix (1000 x 224) that contains the output from the function 
boot.array.  For each row, there are 224 columns that represent the case 
numbers of the selected individuals from a bootstrap.  The cases are listed 
in selection order, not numerical order.  I'd like to rearrange the cells 
so that every row has the column entries listed ascending numeric order.

I've been able to do the sorting using two explicit for loops, but I cannot 
figure out a vectorized way to do it using apply, order, and/or sort.  Is 
there a clever vectorized way to do this?

Thanks.






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcelo.Castro at lighting.ge.com  Mon Apr  2 22:26:38 2001
From: Marcelo.Castro at lighting.ge.com (Castro, Marcelo T G (GEL, MSX))
Date: Mon, 2 Apr 2001 16:26:38 -0400 
Subject: [R] Nonparametric Question
Message-ID: <BB68EF307163D2119DE400805F6FD5800240B435@riolige.light.ge.com>


Dear Sirs,

My name is Marcelo Grimaldi and I work for GE Lighting Brazil in Six Sigma
Program. In order to accomplish a statistical project I need to generate
exact tables for the Kruskal-Wallis statistic ("Three or More Populations
Location Test") and I wonder if R could help me. In the past I have heard of
generating tables for Wilcoxon statistic using R. Could you help me ?

Thank you very much,
Marcelo Grimaldi
Six Sigma Black Belt - Manufacturing
GE Lighting Brazil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sean64 at xtra.co.nz  Mon Apr  2 22:35:30 2001
From: sean64 at xtra.co.nz (Sean D. Richards)
Date: Tue, 3 Apr 2001 08:35:30 +1200
Subject: [R] Re-shaping data
Message-ID: <MABBJBIAAOAIJBMEAFNOCEBNCAAA.sean64@xtra.co.nz>

Hi there R experts!,
I am a newcomer to R and this is also the first time I have strayed outside
the ms windows environment.  I need some help with reshaping data imported
from excel as a *.csv file. Say I have a table of data in excel with 1 col
of x values and  3 cols of measurements for each subject. A total of 4 cols.
I tried to use the information in the import/export manual but am not able
to get a sensible output. Any guidance to a poor university student greatly
appreciated. 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: winmail.dat
Type: application/ms-tnef
Size: 1632 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010403/63f4f119/winmail.bin

From hli at anvilinformatics.com  Mon Apr  2 23:03:30 2001
From: hli at anvilinformatics.com (Hongli Li)
Date: Mon, 2 Apr 2001 17:03:30 -0400
Subject: [R] Run out of memory
Message-ID: <000a01c0bbb8$623a2c10$1000a8c0@COPPER>

I am trying to use R to cluster 7129 samples, my data set is a 7129 x 38 matrix,  when I trying to get the distance matrix using function dist( ), the memory exhausted, and I tried to set the memory when I run R by 
R --vsize=250M --nsize=1000k

no matter what I set for vsize the result is the same, it says:

Error: heap memory (256000kb) exhausted [need 198498Kb more]
                                                                        (this doesn't change)

What can I do to solve this?

Thank you  very much!

Hongli Li
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010402/21156492/attachment.html

From aperrin at socrates.berkeley.edu  Mon Apr  2 23:12:05 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Mon, 2 Apr 2001 16:12:05 -0500 (EST)
Subject: [R] Constructing a contingency table
Message-ID: <Pine.LNX.4.21.0104021608070.446-100000@nujoma.perrins>

Greetings. I'm having some trouble constructing a contingency table from
raw data (actually read in via RPgSQL).  Here's the deal:

- What I've got: a data frame in the form:

Groupcode  code1  code2  code3  code4  code5 .. coden

where groupcode is one of {P,C,B,S,U,X} and code{1..n} is TRUE or
FALSE. code{1..n} are NOT mutually exclusive, so between 0 and n of them
can be TRUE.

- What I need: a contingency table in the form:

Groupcode  code1  code2 .. coden
    P       
    C
    B
    S
    U
    X

with each cell in the table being a count of TRUE values where groupcode
is the corresponding groupcode.

The table will eventually be analyzed using chisq.test.

I've tried using table() but It's not immediately clear how to include
values from two or more variables in a data frame.

Many thanks.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  2 23:32:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Apr 2001 22:32:55 +0100 (BST)
Subject: [R] Is it possible to...
In-Reply-To: <5.1.0.12.2.20010402130652.00a82d40@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0104022217130.18788-100000@auk.stats>

On Mon, 2 Apr 2001, Marc Feldesman wrote:

> I have a matrix (1000 x 224) that contains the output from the function
> boot.array.  For each row, there are 224 columns that represent the case
> numbers of the selected individuals from a bootstrap.  The cases are listed
> in selection order, not numerical order.  I'd like to rearrange the cells
> so that every row has the column entries listed ascending numeric order.
>
> I've been able to do the sorting using two explicit for loops, but I cannot
> figure out a vectorized way to do it using apply, order, and/or sort.  Is
> there a clever vectorized way to do this?

Yes.  Do a lexicographic sort on row then value, of the whole matrix
as a vector.  There's an example in S Programming p. 153

Simpler:

A <- matrix(rnorm(1000*224), 1000, 224)
A1 <- t(apply(A, 1, sort))

as compared to

A2 <- t(matrix(A[order(row(A), A)], ,1000))

On my test the first was a little faster.

E&OE, of course.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  2 23:45:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Apr 2001 22:45:41 +0100 (BST)
Subject: [R] Run out of memory
In-Reply-To: <000a01c0bbb8$623a2c10$1000a8c0@COPPER>
Message-ID: <Pine.GSO.4.31.0104022234131.18788-100000@auk.stats>

On Mon, 2 Apr 2001, Hongli Li wrote:

> I am trying to use R to cluster 7129 samples, my data set is a 7129 x 38
matrix,  when I trying to get the distance matrix using function dist( ), the
memory exhausted, and I tried to set the memory when I run R by
> R --vsize=250M --nsize=1000k

That's not the way to do it in recent versions of R.

> no matter what I set for vsize the result is the same, it says:
>
> Error: heap memory (256000kb) exhausted [need 198498Kb more]
>                                                                         (this
doesn't change)
>
> What can I do to solve this?

Upgrade your R and your computer's RAM?   To store the result needs
200Mb on my calculation, and then you need to do something with it.
It worked in about 5 minutes and 400Mb on a 1Gb 600MHz Linux machine.

However, what are you then going to do with this?  Hierarchical clustering
on 7000 points is not very sensible, and kmeans does not need a distance
matrix.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Tue Apr  3 03:29:10 2001
From: niels.waller at home.com (niels Waller)
Date: Mon, 2 Apr 2001 18:29:10 -0700
Subject: No subject
Message-ID: <NCBBKMNKKMFCIGDCHLDOEECCCHAA.niels.waller@home.com>




Is there a method to save a plot as a pdf file? 

Thanks for any suggestions,

Niels

*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
******************************************************* 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Tue Apr  3 04:26:51 2001
From: niels.waller at home.com (niels Waller)
Date: Mon, 2 Apr 2001 19:26:51 -0700
Subject: [R] R  Save As PDF
Message-ID: <NCBBKMNKKMFCIGDCHLDOEECDCHAA.niels.waller@home.com>




Is there an R function to save a plot as a pdf file? 

Thanks for any suggestions,

Niels


*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
******************************************************* 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Apr  3 03:24:07 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 2 Apr 2001 21:24:07 -0400 (EDT)
Subject: [R] R  Save As PDF
Message-ID: <200104030124.VAA12042@cattell.psych.upenn.edu>

If you want pdf, save as eps or ps, then use ps2pdf,
which comes with GhostScript (or gs, as the case may
be).  See http://www.cs.wisc.edu/~ghost/
Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Apr  3 04:03:43 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 03 Apr 2001 14:03:43 +1200
Subject: [R] Censored autoregression
In-Reply-To: <5.1.0.12.2.20010402130652.00a82d40@127.0.0.1>
Message-ID: <200104030206.OAA09662@gosset.stats.waikato.ac.nz>

A friend wants to fit the model of Zeger & Brookmeyer for censored
autoregressions. Is there any package available with this capability?

Murray Jorgensen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Apr  3 05:35:18 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 2 Apr 2001 22:35:18 -0500 (CDT)
Subject: [R] R  Save As PDF
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOEECDCHAA.niels.waller@home.com>
References: <NCBBKMNKKMFCIGDCHLDOEECDCHAA.niels.waller@home.com>
Message-ID: <15049.17654.295002.202847@sonny.eddelbuettel.com>


  "Niels" == niels Waller <niels.waller at home.com> writes:
  Niels> Is there an R function to save a plot as a pdf file? 

Yes, save it with dev2bitmap as in

     plot(rnorm(100),type='b')
     dev2bitmap("/tmp/foo.pdf",type="pdfwrite")

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Tue Apr  3 06:18:55 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Mon, 02 Apr 2001 18:18:55 -1000
Subject: [R] R  Save As PDF
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOEECDCHAA.niels.waller@home.com>
Message-ID: <3.0.5.32.20010402181855.00817c30@gfeeney.com>

At 07:26 PM 4/2/01 -0700, you wrote:
>
>Is there an R function to save a plot as a pdf file? 
>
>Thanks for any suggestions,

On windows, use File > Print and choose PDFWriter (assuming you have
Acrobat installed). This will do it, but you may want to fiddle in various
ways.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 07:53:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 06:53:18 +0100 (BST)
Subject: [R] Re: your mail
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOEECCCHAA.niels.waller@home.com>
Message-ID: <Pine.GSO.4.31.0104030652050.22896-100000@auk.stats>

On Mon, 2 Apr 2001, niels Waller wrote:

> Is there a method to save a plot as a pdf file?

(1) Use dev2bitmap(type="pdf")

(2) Use R-devel and dev.copy to a pdf() device.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Apr  3 09:45:37 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 3 Apr 2001 08:45:37 +0100 (BST)
Subject: [R] Re: your mail
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOEECCCHAA.niels.waller@home.com>
Message-ID: <Pine.LNX.4.10.10104030843240.3384-100000@localhost.localdomain>

> 
> Is there a method to save a plot as a pdf file? 
I would suggest to save as .eps from R, then do
ps2pdf file.eps
ps2pdf is a script that uses ghostscript

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Apr  3 14:47:01 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 03 Apr 2001 13:47:01 +0100
Subject: [R] Exporting from Splus into R
Message-ID: <3AC9C645.DB906EEF@ipimar.pt>

Hi

I want to export an array (dim=c(24,12,17)) from splus into R. I've
tried dump but R couldn't source it.

Is there a fast and clean way of doing this ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 15:58:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 14:58:20 +0100 (BST)
Subject: [R] Exporting from Splus into R
In-Reply-To: <3AC9C645.DB906EEF@ipimar.pt>
Message-ID: <Pine.GSO.4.31.0104031456590.1190-100000@auk.stats>

On Tue, 3 Apr 2001, [iso-8859-1] José Ernesto Jardim wrote:

> Hi
>
> I want to export an array (dim=c(24,12,17)) from splus into R. I've
> tried dump but R couldn't source it.

What happened?  Can you source it in S-PLUS?

> Is there a fast and clean way of doing this ?

data.dump in S-PLUS  and data.restore in package Rstreams should work ....

Otherwise just write() it as a vector, scan as a vector and add a
dimension.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Apr  3 15:48:57 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 03 Apr 2001 14:48:57 +0100
Subject: [R] Exporting from Splus into R
References: <Pine.GSO.4.31.0104031456590.1190-100000@auk.stats>
Message-ID: <3AC9D4C9.FB8CC63F@ipimar.pt>

Prof Brian D Ripley wrote:

> On Tue, 3 Apr 2001, [iso-8859-1] Jos? Ernesto Jardim wrote:
>
> > Hi
> >
> > I want to export an array (dim=c(24,12,17)) from splus into R. I've
> > tried dump but R couldn't source it.
>
> What happened?  Can you source it in S-PLUS?
>
> > Is there a fast and clean way of doing this ?
>
> data.dump in S-PLUS  and data.restore in package Rstreams should work ....
>
> Otherwise just write() it as a vector, scan as a vector and add a
> dimension.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Yes I can source it in Splus but R says

> source("dump.out")
Error in eval.with.vis(expr, envir, enclos) :
        couldn't find function "new"


I think I'll try the write(as.vector()) and scan.

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 16:12:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 15:12:20 +0100 (BST)
Subject: [R] Exporting from Splus into R
In-Reply-To: <3AC9D4C9.FB8CC63F@ipimar.pt>
Message-ID: <Pine.GSO.4.31.0104031510270.1190-100000@auk.stats>

On Tue, 3 Apr 2001, [iso-8859-1] José Ernesto Jardim wrote:

> Prof Brian D Ripley wrote:
>
> > On Tue, 3 Apr 2001, [iso-8859-1] José Ernesto Jardim wrote:
> >
> > > Hi
> > >
> > > I want to export an array (dim=c(24,12,17)) from splus into R. I've
> > > tried dump but R couldn't source it.
> >
> > What happened?  Can you source it in S-PLUS?
> >
> > > Is there a fast and clean way of doing this ?
> >
> > data.dump in S-PLUS  and data.restore in package Rstreams should work ....
> >
> > Otherwise just write() it as a vector, scan as a vector and add a
> > dimension.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> Yes I can source it in Splus but R says
>
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"

That looks like a bug: can you send the example to R-bugs please.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Apr  3 16:16:00 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 03 Apr 2001 15:16:00 +0100
Subject: [R] Exporting from Splus into R
References: <Pine.GSO.4.31.0104031510270.1190-100000@auk.stats>
Message-ID: <3AC9DB1F.4A31A42B@ipimar.pt>

Prof Brian D Ripley wrote:

> On Tue, 3 Apr 2001, [iso-8859-1] Jos? Ernesto Jardim wrote:
>
> > Prof Brian D Ripley wrote:
> >
> > > On Tue, 3 Apr 2001, [iso-8859-1] Jos? Ernesto Jardim wrote:
> > >
> > > > Hi
> > > >
> > > > I want to export an array (dim=c(24,12,17)) from splus into R. I've
> > > > tried dump but R couldn't source it.
> > >
> > > What happened?  Can you source it in S-PLUS?
> > >
> > > > Is there a fast and clean way of doing this ?
> > >
> > > data.dump in S-PLUS  and data.restore in package Rstreams should work ....
> > >
> > > Otherwise just write() it as a vector, scan as a vector and add a
> > > dimension.
> > >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > Yes I can source it in Splus but R says
> >
> > > source("dump.out")
> > Error in eval.with.vis(expr, envir, enclos) :
> >         couldn't find function "new"
>
> That looks like a bug: can you send the example to R-bugs please.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Yes, I'll do that !

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Apr  3 17:37:45 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Tue, 3 Apr 2001 08:37:45 -0700 (PDT)
Subject: [R] Can't install "e1071"
In-Reply-To: <3AC9DB1F.4A31A42B@ipimar.pt>
Message-ID: <Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>

I can't seem to get the "e1071" package to build. Here is a Linux log; the
Windows version behaves the same way:
--------------------------------------------------------------------------
# R CMD INSTALL e1071*.gz
Installing source package `e1071' ...
creating cache ./config.cache
checking for library containing pnm_readpnm... no
checking for library containing pbm_readpbm... -lpbm
checking for library containing pgm_readpgm... -lpgm
checking for library containing ppm_readppm... -lppm
checking for library containing pnm_writepnm... -lpnm
updating cache ./config.cache
creating ./config.status
creating R/pnm.R
creating src/Makevars
 libs
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
 -fPIC  -O2 -march=i386 -mcpu=i686 -c Rsvm.c -o Rsvm.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
 -fPIC  -O2 -march=i386 -mcpu=i686 -c cmeanscl.c -o cmeanscl.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
 -fPIC  -O2 -march=i386 -mcpu=i686 -c cshell.c -o cshell.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
 -fPIC  -O2 -march=i386 -mcpu=i686 -c pnm.c -o pnm.o
In file included from /usr/include/pbm.h:7,
                 from /usr/include/pgm.h:7,
                 from /usr/include/ppm.h:7,
                 from /usr/include/pnm.h:7,
                 from pnm.c:19:
/usr/include/pbmplus.h:305:20: shhopt.h: No such file or directory
make: *** [pnm.o] Error 1
ERROR: Compilation failed for package `e1071'
#
--------------------------------------------------------------------------
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Never play leapfrog with a unicorn.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Apr  3 18:01:48 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 03 Apr 2001 18:01:48 +0200
Subject: [R] 'arg list too long' error message with 'make check'
Message-ID: <3AC9F3EC.5C64D12A@cbs.dtu.dk>

All apologies if somebody came across this earlier, but I hit the
following problem with R-1.2.2 on IRIX6.5.
The 'make check' phase dies with
----------
collecting examples for package `base' ...
 >>> Building/Updating help pages for package `base'
     Formats: text example
sh[10]: ../../bin/massage-Examples: arg list too long
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
----------

Any hint would be greatly appreciated.



Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Apr  3 18:01:42 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 03 Apr 2001 09:01:42 -0700
Subject: [R] Can't install "e1071"
In-Reply-To: "M. Edward's message of "Tue, 3 Apr 2001 08:37:45 -0700 (PDT)"
References: <Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>
Message-ID: <871yraq8ex.fsf@jeeves.blindglobe.net>

>>>>> "MEB" == M Edward Borasky <M.> writes:

    MEB> I can't seem to get the "e1071" package to build. Here is a
    MEB> Linux log; the Windows version behaves the same way:

I'm not seeing that, R 1.2.2, Debian i386-Linux, unstable (sid):


500# R INSTALL e1071_1.1-0.tar.gz 
Installing source package `e1071' ...
creating cache ./config.cache
checking for library containing pnm_readpnm... no
checking for library containing pbm_readpbm... -lpbm
checking for library containing pgm_readpgm... -lpgm
checking for library containing ppm_readppm... -lppm
checking for library containing pnm_writepnm... -lpnm
updating cache ./config.cache
creating ./config.status
creating R/pnm.R
creating src/Makevars
 libs
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c Rsvm.c -o Rsvm.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c cmeanscl.c -o cmeanscl.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c cshell.c -o cshell.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c pnm.c -o pnm.o
gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c scaclust.c -o scaclust.o
c++ -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp  -fPIC  -g -O2 -c svm.cpp -o svm.o
c++ -shared  -o e1071.so Rsvm.o cmeanscl.o cshell.o pnm.o scaclust.o svm.o -L/usr/local/lib -lpnm -lppm -lpgm -lpbm  
 R
 help
 >>> Building/Updating help pages for package `e1071'
     Formats: text html latex example 
  Discrete                          text    html    latex   example
  Mvnorm                            text    html    latex   example
  bincombinations                   text    html    latex   example
  bootstrap.lca                     text    html    latex   example
  classAgreement                    text    html    latex   example
  cmeanscl                          text    html    latex   example
  countpattern                      text    html    latex   example
  cshell                            text    html    latex   example
  element                           text    html    latex   example
  hamming.distance                  text    html    latex   example
  hamming.window                    text    html    latex   example
  hanning.window                    text    html    latex   example
  ica                               text    html    latex   example
  impute                            text    html    latex   example
  interpolate                       text    html    latex   example
  kurtosis                          text    html    latex   example
  lca                               text    html    latex   example
  matchClasses                      text    html    latex   example
  moment                            text    html    latex   example
  permutations                      text    html    latex   example
  plot.fclust                       text    html    latex   example
  plot.stft                         text    html    latex   example
  pnm                               text    html    latex
  predict.svm                       text    html    latex   example
  print.fclust                      text    html    latex   example
  rbridge                           text    html    latex   example
  read.octave                       text    html    latex
  rectangle.window                  text    html    latex   example
  rwiener                           text    html    latex   example
  scaclust                          text    html    latex   example
  sigmoid                           text    html    latex   example
  skewness                          text    html    latex   example
  stft                              text    html    latex   example
  svm                               text    html    latex   example
 DONE (e1071)

DONE (INSTALL)
501# date
Tue Apr  3 09:05:37 PDT 2001
502# 

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtabb at scripps.edu  Tue Apr  3 18:05:26 2001
From: dtabb at scripps.edu (David L. Tabb)
Date: Tue, 3 Apr 2001 09:05:26 -0700 (PDT)
Subject: [R] R  Save As PDF
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOEECDCHAA.niels.waller@home.com>
Message-ID: <Pine.LNX.4.21.0104030901140.17204-100000@mojave.scripps.edu>

I would suggest saving the plot as a .ps or .eps file.  Then you can use
the perl script epstopdf.pl to make the conversion to .pdf.  This
conversion will create a page the size of the image, which is a big help
if you then include the pdf as a figure in a LaTeX document.

Dave

On Mon, 2 Apr 2001, niels Waller wrote:
> Is there an R function to save a plot as a pdf file? 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 18:21:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:21:44 +0100 (BST)
Subject: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>
Message-ID: <Pine.GSO.4.31.0104031721020.10524-100000@toucan.stats>

On Tue, 3 Apr 2001, M. Edward (Ed) Borasky wrote:

> I can't seem to get the "e1071" package to build. Here is a Linux log; the
> Windows version behaves the same way:

The problem is in your netpbm installation, not in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Tue Apr  3 18:28:02 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Tue, 3 Apr 2001 11:28:02 -0500 (EST)
Subject: [R] Still need help w/ making a table
Message-ID: <Pine.LNX.4.21.0104031125010.13603-100000@nujoma.perrins>

Greetings again. I'm still trying to coerce a pile of data into a
frequency table format.  I've managed to do so using perl, so I now have a
tab-delimited file that contains the contingency table I'm trying to use:

Group  var1  var2  ...  varn
  B     42   11          3
  C     44   1           12
...
  X     12   0           19

I can read the table in using read.table(), but I end up with a data
frame, and when I try to use as.table() it says:
Error in as.table.default(df) : cannot coerce into a table

What I need is a table object upon which I can perform a chi-square
analysis.

Any help will be very much appreciated!

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Apr  3 18:36:13 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Apr 2001 18:36:13 +0200
Subject: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>
References: <3AC9DB1F.4A31A42B@ipimar.pt>
	<Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>
Message-ID: <15049.64509.859169.759340@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 3 Apr 2001 08:37:45 -0700 (PDT),
>>>>> M Edward (Ed) Borasky (ME(B) wrote:

  > I can't seem to get the "e1071" package to build. Here is a Linux log; the
  > Windows version behaves the same way:
  > --------------------------------------------------------------------------
  > # R CMD INSTALL e1071*.gz
  > Installing source package `e1071' ...
  > creating cache ./config.cache
  > checking for library containing pnm_readpnm... no
  > checking for library containing pbm_readpbm... -lpbm
  > checking for library containing pgm_readpgm... -lpgm
  > checking for library containing ppm_readppm... -lppm
  > checking for library containing pnm_writepnm... -lpnm
  > updating cache ./config.cache
  > creating ./config.status
  > creating R/pnm.R
  > creating src/Makevars
  >  libs
  > gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
  >  -fPIC  -O2 -march=i386 -mcpu=i686 -c Rsvm.c -o Rsvm.o
  > gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
  >  -fPIC  -O2 -march=i386 -mcpu=i686 -c cmeanscl.c -o cmeanscl.o
  > gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
  >  -fPIC  -O2 -march=i386 -mcpu=i686 -c cshell.c -o cshell.o
  > gcc -I/usr/lib/R/include -I. -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES
  >  -fPIC  -O2 -march=i386 -mcpu=i686 -c pnm.c -o pnm.o
  > In file included from /usr/include/pbm.h:7,
  >                  from /usr/include/pgm.h:7,
  >                  from /usr/include/ppm.h:7,
  >                  from /usr/include/pnm.h:7,
  >                  from pnm.c:19:
  > /usr/include/pbmplus.h:305:20: shhopt.h: No such file or directory
  > make: *** [pnm.o] Error 1

which version of netpbm have you installed? the pbmplus.h contained in
the debian linux stable package with version 19940301.2 does not have
a reference to shhopt.h in pbmplus.h ...

but anyway, that is beyond R's domain and certainly a bug in your
netpbm installation.

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Apr  3 18:46:09 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 03 Apr 2001 18:46:09 +0200 (CEST)
Subject: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104030833560.27976-100000@shell1.aracnet.com>
Message-ID: <XFMail.20010403184609.plummer@iarc.fr>

On 03-Apr-2001 M. Edward (Ed) Borasky wrote:
> I can't seem to get the "e1071" package to build. Here is a Linux log; the
> Windows version behaves the same way:

  [snip]

> In file included from /usr/include/pbm.h:7,
>                 from /usr/include/pgm.h:7,
>                 from /usr/include/ppm.h:7,
>                 from /usr/include/pnm.h:7,
>                 from pnm.c:19:
>/usr/include/pbmplus.h:305:20: shhopt.h: No such file or directory

You need to install the sshopt package because your installation of libgr
(which supplies libpbn ... libpnm) requires it. sshopt is a package for
parsing command line arguments.  I can't imagine why the dependency is
there (it certainly isn't on Red Hat 6.2) but that is an issue for your
distribution supplier.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 18:41:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:41:44 +0100 (BST)
Subject: [R] R  Save As PDF
In-Reply-To: <Pine.LNX.4.21.0104030901140.17204-100000@mojave.scripps.edu>
Message-ID: <Pine.GSO.4.31.0104031738111.10524-100000@toucan.stats>

Can we terminate this thread?  R already has a function dev2bitmap to
do precisely this, so there is no advantage in re-inventing the wheel.
R's function also work on both Unix and Windows (which I believe Neils
uses) but most of the suggestions do not.

As I pointed out before, R-devel has an even better solution, a native
pdf driver.  And R-devel is available (even Windows binaries) for
testing.

On Tue, 3 Apr 2001, David L. Tabb wrote:

> I would suggest saving the plot as a .ps or .eps file.  Then you can use
> the perl script epstopdf.pl to make the conversion to .pdf.  This
> conversion will create a page the size of the image, which is a big help
> if you then include the pdf as a figure in a LaTeX document.
>
> Dave
>
> On Mon, 2 Apr 2001, niels Waller wrote:
> > Is there an R function to save a plot as a pdf file?
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Apr  3 18:53:15 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 03 Apr 2001 18:53:15 +0200 (CEST)
Subject: [R] Can't install "e1071"
In-Reply-To: <15049.64509.859169.759340@galadriel.ci.tuwien.ac.at>
Message-ID: <XFMail.20010403185315.plummer@iarc.fr>

On 03-Apr-2001 Friedrich Leisch wrote:
>>>>>> On Tue, 3 Apr 2001 08:37:45 -0700 (PDT),
>>>>>> M Edward (Ed) Borasky (ME(B) wrote:
> 
>   > checking for library containing pnm_readpnm... no
>   > checking for library containing pbm_readpbm... -lpbm
>   > checking for library containing pgm_readpgm... -lpgm
>   > checking for library containing ppm_readppm... -lppm
>   > checking for library containing pnm_writepnm... -lpnm

> which version of netpbm have you installed? 

Netpbm is not installed.  On RedHat (and presumably other rpm-based
distributions) this functionality is provided in separate libraries,
all of which are contained in the package libgr.  The "no" above tells
you that netpbm isn't installed, so the configure script searches for
the individual libraries, and evidently finds them.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Tue Apr  3 19:09:49 2001
From: mnelson at esperion.com (Matthew Nelson)
Date: Tue, 3 Apr 2001 13:09:49 -0400 
Subject: [R] Can't install "e1071"
Message-ID: <8156A6FE684ED21194D20008C756F8DFA015B1@independence.esperion.com>

I observed the same behavior as Edward this morning with R-1.2.2 on Red Hat
Linux 7.0.  There appears to be a problem with the library in netpbm-9.5-5,
even after hunting down the missing shhopt.h that pbmplus.h is looking for.
I worked around the problem by compiling e1071 without pbm support (moved
pbm.c to pbm.c.bak).

Matt

Matthew R. Nelson, Ph.D.
Director, Information Systems
Esperion Therapeutics, Inc.
Ann Arbor, MI 48108

> -----Original Message-----
> From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
> Sent: Tuesday, April 03, 2001 12:02 PM
> To: M. Edward (Ed) Borasky
> Cc: Mailing List R
> Subject: Re: [R] Can't install "e1071"
> 
> 
> >>>>> "MEB" == M Edward Borasky <M.> writes:
> 
>     MEB> I can't seem to get the "e1071" package to build. Here is a
>     MEB> Linux log; the Windows version behaves the same way:
> 
> I'm not seeing that, R 1.2.2, Debian i386-Linux, unstable (sid):
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Apr  3 20:22:52 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Tue, 3 Apr 2001 11:22:52 -0700 (PDT)
Subject: [R] Can't install "e1071"
In-Reply-To: <8156A6FE684ED21194D20008C756F8DFA015B1@independence.esperion.com>
Message-ID: <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>

Here's the Windows version of this problem:
F:\Team\R-20010325\ContributedSources>Rcmd INSTALL e1071*.gz

make: Entering directory `/cygdrive/d/rw1023/src/gnuwin32'
make DLLNM=  EXTRADOCS= \
  -C F:/Team/R-20010325/ContributedSources/R.INSTALL/e1071 PKG=e1071 RHOME=D:/rw
1023 RLIB=D:/rw1023/library \
  -f D:/rw1023/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
STALL/e1071'
if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  perl D:/rw1023/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
fi
---------- Making package e1071 ------------
mkdir -p D:/rw1023/library/e1071
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./COPYING ./COPYRIGHT.svm.cpp ./README D
:/rw1023/library/e1071/
   adding build stamp to DESCRIPTION
  installing R files
  making DLL
make[2]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
STALL/e1071/src'
make[3]: `libR.a' is up to date.
gcc    -ID:/rw1023/src/include -include D:/rw1023/src/include/globalvar.h  -Wall
 -O2   -c Rsvm.c -o Rsvm.o
Rsvm.c:3: svm.h: No such file or directory
make[2]: *** [Rsvm.o] Error 1
make[2]: Leaving directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.INS
TALL/e1071/src'
make[1]: *** [src/e1071.dll] Error 2
make[1]: Leaving directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.INS
TALL/e1071'
make: *** [pkg-e1071] Error 2
make: Leaving directory `/cygdrive/d/rw1023/src/gnuwin32'
*** Installation of e1071 failed ***


F:\Team\R-20010325\ContributedSources>
---
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

If there's nothing to astrology, how come so many famous men were born
on holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Apr  3 20:31:32 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Tue, 3 Apr 2001 13:31:32 -0500 
Subject: [R] single-pass algorithm for quantile calculation
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDEA0@jupiter.sc.arbitrade.com>

Dear R users, I am looking for a reference to an algorithm for estimation of
sample quantiles which does not require bringing the whole data into memory
(more precisely its memory complexity should be much less than linear,
ideally constant). I realize that such an algorithm can only be approximate
and actually quite wrong for some samples, but that's fine with me.

Thank you,
Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr  3 20:54:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 19:54:16 +0100 (BST)
Subject: [R] single-pass algorithm for quantile calculation
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDEA0@jupiter.sc.arbitrade.com>
Message-ID: <Pine.GSO.4.31.0104031952030.7595-100000@auk.stats>

On Tue, 3 Apr 2001, Vadim Ogranovich wrote:

> Dear R users, I am looking for a reference to an algorithm for estimation of
> sample quantiles which does not require bringing the whole data into memory
> (more precisely its memory complexity should be much less than linear,
> ideally constant). I realize that such an algorithm can only be approximate
> and actually quite wrong for some samples, but that's fine with me.

There is no approximately accurate algorithm (consider a sorted dataset)
that does not look at the whole file.

Try random subsampling (in whatever database holds your file, or by
bringing in chunks and sampling while in memory).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Tue Apr  3 21:01:13 2001
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Tue, 3 Apr 2001 15:01:13 -0400 (EDT)
Subject: [R] Rdconv.pm
Message-ID: <200104031901.PAA14141@aeolus.geo.umass.edu>

When I installed R 1.2.2 on a Sparc 20 running Solaris 2.5.1 and when
I install a package, I get the messages:

Bare word found where operator expected at /usr/local/lib/R/share/perl/R/Rdconv.pm line 1390, near "$txtout mywrap"
	(Missing operator before mywrap?)
Bare word found where operator expected at /usr/local/lib/R/share/perl/R/Rdconv.pm line 1405, near "$txtout txt_header"
	(Missing operator before txt_header?)
Bare word found where operator expected at /usr/local/lib/R/share/perl/R/Rdconv.pm line 1420, near "$txtout txt_header"
	(Missing operator before txt_header?)
Bare word found where operator expected at /usr/local/lib/R/share/perl/R/Rdconv.pm line 1448, near "$txtout txt_header"
	(Missing operator before txt_header?)
Bare word found where operator expected at /usr/local/lib/R/share/perl/R/Rdconv.pm line 1491, near "$txtout txt_header"
	(Missing operator before txt_header?)

Always the same 5 messages.  I have looked at the Rdconv.pm, but I
really don't know Perl.  I have Perl 5 on the Sparc, but it's 5.003.
Is it old enough that it doesn't understand the code?  It doesn't seem 
to be anything to worry about -- my documentation seems ok.  Is this a
bug worth reporting or should I just upgrade my Perl?

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Tue Apr  3 21:12:49 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Tue, 03 Apr 2001 09:12:49 -1000
Subject: [R] Still need help w/ making a table
In-Reply-To: <Pine.LNX.4.21.0104031125010.13603-100000@nujoma.perrins>
Message-ID: <3.0.5.32.20010403091249.007d6b00@gfeeney.com>

Use data.matrix(). From help(data.matrix):

data.matrix               package:base               R Documentation

Data Frame to Numeric Matrix

Description:

     Return the matrix obtained by converting all the variables in a
     data frame to numeric mode and then binding them together as the
     columns of a matrix.  Factors and ordered factors are replaced by
     their codes.

At 11:28 AM 4/3/01 -0500, you wrote:
>Greetings again. I'm still trying to coerce a pile of data into a
>frequency table format.  I've managed to do so using perl, so I now have a
>tab-delimited file that contains the contingency table I'm trying to use:
>
>Group  var1  var2  ...  varn
>  B     42   11          3
>  C     44   1           12
>...
>  X     12   0           19
>
>I can read the table in using read.table(), but I end up with a data
>frame, and when I try to use as.table() it says:
>Error in as.table.default(df) : cannot coerce into a table
>
>What I need is a table object upon which I can perform a chi-square
>analysis.
>
>Any help will be very much appreciated!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Apr  3 21:41:10 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Apr 2001 15:41:10 -0400
Subject: [R] single-pass algorithm for quantile calculation
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDEA0@jupiter.sc.arbitrade.com>
References: <AFD78192EC49D311BFAE00902798AB8F0BDEA0@jupiter.sc.arbitrade.com>
Message-ID: <gn9kct0sav72bjlj6rs7tktvbc99h6blt7@4ax.com>

On Tue, 3 Apr 2001 13:31:32 -0500 , you wrote in message
<AFD78192EC49D311BFAE00902798AB8F0BDEA0 at jupiter.sc.arbitrade.com>:

>Dear R users, I am looking for a reference to an algorithm for estimation of
>sample quantiles which does not require bringing the whole data into memory
>(more precisely its memory complexity should be much less than linear,
>ideally constant). I realize that such an algorithm can only be approximate
>and actually quite wrong for some samples, but that's fine with me.

What about a single pass SRS algorithm to get a fixed size subsample,
then approximate the quantiles of the real sample with the quantiles
of the subsample?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Apr  3 22:08:00 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Tue, 3 Apr 2001 15:08:00 -0500 (CDT)
Subject: [R] single-pass algorithm for quantile calculation
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDEA0@jupiter.sc.arbitrade.com>
Message-ID: <Pine.SOL.3.96.1010403142101.11266I-100000@ysidro>

As it happens, Gib Bassett recently mentioned to me a rather extreme version of
a procedure like this.  Consider the following estimator of the median:

Given iid observations arranged as a matrix {X_ij: i=1,...r, j=1,...,c} 
with rc=n,  let

	betahat_n = min_j {max_i {X_ij}}.

If you let r = r_n = [log_2 n] you can show that that betahat is a median
unbiased estimator of the median and you need only make one pass through
the data, with two storage locations (one for the current column max
and the other for the current row min and  you need only n + [log_2 n] 
comparisons.  Of course from a statistical standpoint the procedure
is awful, converging in distribution at rate 1/log_2 n.  A somewhat
less extreme version of this was suggested in Pearl, J. (1981) A
space efficient on-line method of computing quantile estimates, J. of
Algs, 2, 164-177. 



url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Tue, 3 Apr 2001, Vadim Ogranovich wrote:

> Dear R users, I am looking for a reference to an algorithm for estimation of
> sample quantiles which does not require bringing the whole data into memory
> (more precisely its memory complexity should be much less than linear,
> ideally constant). I realize that such an algorithm can only be approximate
> and actually quite wrong for some samples, but that's fine with me.
> 
> Thank you,
> Vadim
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Tue Apr  3 22:08:06 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Tue, 3 Apr 2001 15:08:06 -0500 (EST)
Subject: [R] Parse error in xtabs
Message-ID: <Pine.LNX.4.21.0104031502240.13603-100000@nujoma.perrins>

Greetings-

Using R 1.2.2 under linux, I get the following:
> l.agg<-xtabs(cbind(r.logic.interests, r.logic.morality,
+                    r.logic.enlightened, r.logic.capacity,
r.logic.mediate)
+              ~ grouptype,
+              data=gt)
Error in parse(file, n, text, prompt) : parse error


I know the data are structured fine, as I can use all the elements in
individual xtabs() calls such as the one below:

> l.agg<-xtabs(cbind(r.logic.morality,r.logic.capacity) ~ grouptype,
data=gt)
> summary(l.agg)
Call:
xtabs(formula = cbind(r.logic.morality, r.logic.capacity) ~ grouptype, 
    data = gt)
Number of cases in table: 693 
Number of factors: 2 
Test for independence of all factors:
        Chisq = 5.447, df = 4, p-value = 0.2444

Any advice?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Tue Apr  3 23:23:06 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 4 Apr 2001 09:23:06 +1200
Subject: [R] graph from unix into word
Message-ID: <200104032124.f33LOOL42695@storm.niwa.cri.nz>

On 31 Mar 01,, R-help Digest wrote (re: R-help Digest V2 #380): 

> Date: Fri, 30 Mar 2001 09:49:21 -0500 (EST)
> From: Greg Trafton <trafton at itd.nrl.navy.mil>
> Subject: [R] PICT output?
> 
> hi, all.  I use R on a unix (linux) box and am quite happy with it.
> However, sometimes I need to create a graph that needs to be used 
with
> Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
> picture, but the text look pretty crummy because jpeg is bitmapped.  I 
can
> also create a PS/EPS version (my preference), but then it doesn't 
display
> properly in word or powerpoint (but it prints OK).
> 
> I guess I have two questions:
>   1) Are there any plans for R to output a PICT format?  (which would
> solve this problem, I think, since PICT can be read by 
word/powerpoint and
> is not bitmapped).
>   2) Is there a way to get an R plot to come out looking good in
> powerpoint or word
> 

Greg

I had a similar problem when using Splus under UNIX, and this was one 
reason I switched to R under NT.

One (admittedly cumbersome) solution is to write the graph to a ps file, 
then take the file into Ghostview (freely available from web), convert the 
ps file to eps, and then insert an eps viewer. Then you can see it in 
word, but (yawn) it is all a bit of a hassle to straddle this particular  
UNIX/ microsoft divide. I did not notice degraded quality with this 
method. 

Or you can just put up with seeing only a graph frame in word (the graph 
will print fine on a ps printer, despite appearing as a frame on the 
screen).
----------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Tue Apr  3 23:35:37 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 4 Apr 2001 09:35:37 +1200
Subject: [R] PICT output? R plot to word
Message-ID: <200104032136.f33LatL43909@storm.niwa.cri.nz>

On 3 Apr 01,, R-help Digest wrote (re: R-help Digest V2 #382): 

> - ----- Original Message -----
> From: "Mark Myatt" <mark at myatt.demon.co.uk>
> To: "Greg Trafton" <trafton at itd.nrl.navy.mil>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Monday, April 02, 2001 9:31 PM
> Subject: Re: [R] PICT output?
> 
> > >  2) Is there a way to get an R plot to come out looking good in
> > >powerpoint or word
> >
> > Why not create a Windows metafile using win.metafile()? I think this
> > functions might be available only in the Windows version of R.
> -----------------------
> 
> Yes.  I always create metafile of my plots, then paste them into
> Word/PowerPoint.  It is the best way I've found so far.  Much better 
than
> using bitmap or jepg.
> 
> Cheers,

> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub
> University of Auckland
> New Zealand
------------------------------------

Colleagues

I simply use cut (ctrl-c) and paste (ctrl-v) from the graph window of R 
straight into word. Works a treat.....

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr  4 00:23:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Apr 2001 00:23:49 +0200
Subject: [R] Parse error in xtabs
In-Reply-To: Andrew Perrin's message of "Tue, 3 Apr 2001 15:08:06 -0500 (EST)"
References: <Pine.LNX.4.21.0104031502240.13603-100000@nujoma.perrins>
Message-ID: <x28zlhmxl6.fsf@blueberry.kubism.ku.dk>

Andrew Perrin <aperrin at socrates.berkeley.edu> writes:

> Greetings-
> 
> Using R 1.2.2 under linux, I get the following:
> > l.agg<-xtabs(cbind(r.logic.interests, r.logic.morality,
> +                    r.logic.enlightened, r.logic.capacity,
> r.logic.mediate)
> +              ~ grouptype,
> +              data=gt)
> Error in parse(file, n, text, prompt) : parse error
> 
> 
> I know the data are structured fine, as I can use all the elements in
> individual xtabs() calls such as the one below:
> 
> > l.agg<-xtabs(cbind(r.logic.morality,r.logic.capacity) ~ grouptype,
> data=gt)
> > summary(l.agg)
> Call:
> xtabs(formula = cbind(r.logic.morality, r.logic.capacity) ~ grouptype, 
>     data = gt)
> Number of cases in table: 693 
> Number of factors: 2 
> Test for independence of all factors:
>         Chisq = 5.447, df = 4, p-value = 0.2444
> 
> Any advice?

You might try debugging it further with traceback() and debug(). It's
pretty difficult to pinpoint the cause from the information you give.

In particular, what is in "text" at the point of the crash? My first
guess was that it was parse having trouble with the argument length,
but apparently not:

>  x <- (cbind(r.logic.interests, r.logic.morality,
+  r.logic.enlightened, r.logic.capacity,
+  r.logic.mediate) ~grouptype)
> parse(text=deparse(x))
expression(cbind(r.logic.interests, r.logic.morality, r.logic.enlightened, 
    r.logic.capacity, r.logic.mediate) ~ grouptype)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Wed Apr  4 03:37:01 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Tue, 3 Apr 2001 20:37:01 -0500 (EST)
Subject: [R] Parse error in xtabs
In-Reply-To: <x28zlhmxl6.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0104032034410.14920-100000@nujoma.perrins>

Well, for whatever reason debug() isn't stepping through for me:


> debug(xtabs(cbind(r.logic.interests,
r.logic.morality,r.logic.enlightened, r.logic.capacity,r.logic.mediate)~
grouptype,data=gt))
Error in parse(file, n, text, prompt) : parse error
> traceback()
11: parse(text = x)
10: eval(parse(text = x)[[1]])
9: formula(eval(parse(text = x)[[1]]))
8: switch(mode(x), "NULL" = structure(NULL, class = "formula"), 
       character = formula(eval(parse(text = x)[[1]])), call = eval(x), 
       stop("invalid formula"))
7: formula.default(paste(lhs, "~", rhs))
6: formula(paste(lhs, "~", rhs))
5: fixFormulaObject(tmp)
4: terms.formula(formula)
3: terms(formula)
2: any(attr(terms(formula), "order") > 1)
1: xtabs(cbind(r.logic.interests, r.logic.morality, r.logic.enlightened, 
       r.logic.capacity, r.logic.mediate) ~ grouptype, data = gt)
> 

Interestingly enough, the behavior is the same under R 1.2.2 under
Solaris and linux, but NOT under Windows. I solved the problem for the
short term by save()ing the data and opening it on a Windows machine to do
the analyses. Ugh.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

On 4 Apr 2001, Peter Dalgaard BSA wrote:

> Andrew Perrin <aperrin at socrates.berkeley.edu> writes:
> 
> > Greetings-
> > 
> > Using R 1.2.2 under linux, I get the following:
> > > l.agg<-xtabs(cbind(r.logic.interests, r.logic.morality,
> > +                    r.logic.enlightened, r.logic.capacity,
> > r.logic.mediate)
> > +              ~ grouptype,
> > +              data=gt)
> > Error in parse(file, n, text, prompt) : parse error
> > 
> > 
> > I know the data are structured fine, as I can use all the elements in
> > individual xtabs() calls such as the one below:
> > 
> > > l.agg<-xtabs(cbind(r.logic.morality,r.logic.capacity) ~ grouptype,
> > data=gt)
> > > summary(l.agg)
> > Call:
> > xtabs(formula = cbind(r.logic.morality, r.logic.capacity) ~ grouptype, 
> >     data = gt)
> > Number of cases in table: 693 
> > Number of factors: 2 
> > Test for independence of all factors:
> >         Chisq = 5.447, df = 4, p-value = 0.2444
> > 
> > Any advice?
> 
> You might try debugging it further with traceback() and debug(). It's
> pretty difficult to pinpoint the cause from the information you give.
> 
> In particular, what is in "text" at the point of the crash? My first
> guess was that it was parse having trouble with the argument length,
> but apparently not:
> 
> >  x <- (cbind(r.logic.interests, r.logic.morality,
> +  r.logic.enlightened, r.logic.capacity,
> +  r.logic.mediate) ~grouptype)
> > parse(text=deparse(x))
> expression(cbind(r.logic.interests, r.logic.morality, r.logic.enlightened, 
>     r.logic.capacity, r.logic.mediate) ~ grouptype)
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dowdingg at saturn.math.uaa.alaska.edu  Wed Apr  4 07:20:43 2001
From: dowdingg at saturn.math.uaa.alaska.edu (George A. Dowding)
Date: Tue, 3 Apr 2001 21:20:43 -0800 (AKDT)
Subject: [R] anova table
Message-ID: <15050.44843.246722.534034@mazzy.math.uaa.alaska.edu>

I am taking a stats class and need to do a single factor anova table 
with four treatments for an assignment.  The instructor showed the 
class how to do it with minitab, and I am unsure how to proceede in
R. 
 
Here is the data: 
 
I.   .8 .2 1.4 .9 .9 1.0 1.0 1.1 1.4 1.2 1.0 
II.  1.6 1.1 .2 1.3 1.5 .7 .5 1.3 1.3 .4 
III  1.8 .3 1.1 2.0 2.8 1.5 1.3 2.9 1.7 .8 
IV.  2.4 2.6 2.82.9 1.7 2.6 2.7 2.1 2.1 2.3 
 
I have been reading the various help files and can't quite finde the 
right example to get started from. 

-- 
Thanks,
George

dowdingg at math.uaa.alaska.edu 
http://www.math.uaa.alaska.edu/~dowdingg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Apr  4 09:44:54 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 4 Apr 2001 09:44:54 +0200
Subject: [R] anova table
In-Reply-To: <15050.44843.246722.534034@mazzy.math.uaa.alaska.edu>
References: <15050.44843.246722.534034@mazzy.math.uaa.alaska.edu>
Message-ID: <01040409445402.01645@Aconitum>

On Wednesday 04 April 2001 07:20, George A. Dowding wrote:
> I am taking a stats class and need to do a single factor anova table
> with four treatments for an assignment.  The instructor showed the
> class how to do it with minitab, and I am unsure how to proceede in
> R.
>
> Here is the data:
>
> I.   .8 .2 1.4 .9 .9 1.0 1.0 1.1 1.4 1.2 1.0
> II.  1.6 1.1 .2 1.3 1.5 .7 .5 1.3 1.3 .4
> III  1.8 .3 1.1 2.0 2.8 1.5 1.3 2.9 1.7 .8
> IV.  2.4 2.6 2.82.9 1.7 2.6 2.7 2.1 2.1 2.3
>
> I have been reading the various help files and can't quite finde the
> right example to get started from.

Try help(aov). Basically, you will have to  bring your data into a form like

treatment	response
1		.8
1		.2
2		1.6
2		1.1
...		...

and then use something like

model <- aov(response~treatment)
summary(model)

This will give you a standard ANOVA table.

Cheers (and good luck with the assignment)

Kaspar


-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Wed Apr  4 10:07:43 2001
From: gco at eortc.be (Gary Collins)
Date: Wed, 4 Apr 2001 10:07:43 +0200 
Subject: [R] factors and characters when attaching data...
Message-ID: <9180B261C5E0D411B22B0008C724AD3643C0CB@frank.eortc.be>

Can someone help me with the following problem...
I have a dataframe with 62 columns a number of these are as.character and a
number of these are as.double, I read these into R-1.2.0 as...

> Version3.Studies_read.table("c:\\Version3.Studies.dat",sep="\t",
as.is=TRUE, header=TRUE,strip.white=TRUE)

This is fine up to here, I've checked to see if the data has been correctly
read and everything is ok. I've forced as.is=TRUE, so as not to create
factors and I've stripped any leading white space before character strings,
as I will use the character strings as identifiers for analysis and
programming later.

To make programming slightly easier and slightly more readable I attach this
to the search path.

> attach(Version3.Studies)

>From here though the character fields in the attached data are forced into
factors, which is not what I want.
Is this what should happen? Or is it a bug?

My problem is that when I want to identify a number of rows with a common
"character" identifier, when the identifier is forced to become a factor I
have to mess around counting white space and dealing appropriately.
So for example, take one particular field.
this is what I have to account for when forced to a factor,

Site=="        Lung"

when what I ideally want...

Site=="Lung"
__________________________________________________
Gary S. Collins, PhD
Statistics Research Fellow,
Quality of Life Unit, 
European Organisation for Research and Treatment of Cancer, 
EORTC Data Center, 
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
Email: gco at eortc.be
http://www.eortc.be/home/qol/
__________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tr217 at cam.ac.uk  Wed Apr  4 13:18:39 2001
From: tr217 at cam.ac.uk (tr217@cam.ac.uk)
Date: Wed, 04 Apr 2001 12:18:39 +0100
Subject: [R] F tests for glms with binomial error
Message-ID: <2839208798.986386719@genpcc03.zoo.cam.ac.uk>

Hi, can anyone help with this:

I am trying to analyse some data in the form of proportions with the glm 
function in R and S-plus.  When comparing different models with an F test, 
I get different results from R and S-plus.  Here's an example (there are 
two factors and an interaction in the full model 
"glm1<-glm(resp~time*set,family=binomial"):

In R, entering "anova(glm1)" I get this:

		DF	Deviance	Resid. DF	Resid. Deviance	F		Pr(>F)
NULL					51		213.13		
time		1	1.403		50		211.727		1.4032	0.23618
set		6	98.527	44		113.2			16.4211	<2e-16***
time:set    6	13.659	38		99.541		2.2765	0.03368* 


But in S-plus, I get this:

		DF	Deviance	Resid. DF	Resid. Deviance	F		Pr(>F)
NULL					51		213.13		
time		1	1.403		50		211.727		0.6749	0.4165
set		6	98.527	44		113.2			7.8986	0.000015***
time:set    6	13.659	38		99.541		1.0950	0.3831

Everything is the same, except for the F ratios.  Does anyone know why (as 
you can see it makes quite a difference to the significance of the 
interaction term)?

Thanks,

Tom Reader.    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  4 13:30:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Apr 2001 12:30:10 +0100 (GMT Daylight Time)
Subject: [R] F tests for glms with binomial error
In-Reply-To: <2839208798.986386719@genpcc03.zoo.cam.ac.uk>
Message-ID: <Pine.WNT.4.31.0104041224460.1232-100000@gannet>

On Wed, 4 Apr 2001 tr217 at cam.ac.uk wrote:

> Hi, can anyone help with this:
>
> I am trying to analyse some data in the form of proportions with the glm
> function in R and S-plus.  When comparing different models with an F test,
> I get different results from R and S-plus.  Here's an example (there are
> two factors and an interaction in the full model
> "glm1<-glm(resp~time*set,family=binomial"):
>
> In R, entering "anova(glm1)" I get this:

Don't think so.  You specified an inappropriate test: the default is NULL.
See ?anova.glm for what actually happens.


> 		DF	Deviance	Resid. DF	Resid. Deviance	F		Pr(>F)
> NULL					51		213.13
> time		1	1.403		50		211.727		1.4032	0.23618
> set		6	98.527	44		113.2			16.4211	<2e-16***
> time:set    6	13.659	38		99.541		2.2765	0.03368*
>
>
> But in S-plus, I get this:
>
> 		DF	Deviance	Resid. DF	Resid. Deviance	F		Pr(>F)
> NULL					51		213.13
> time		1	1.403		50		211.727		0.6749	0.4165
> set		6	98.527	44		113.2			7.8986	0.000015***
> time:set    6	13.659	38		99.541		1.0950	0.3831
>
> Everything is the same, except for the F ratios.  Does anyone know why (as
> you can see it makes quite a difference to the significance of the
> interaction term)?

Yes. R uses a binomial as you requested. S-PLUS uses an overdispersed
binomial, which you did not request.  If that is what you wanted, specify
quasibinomial.

IMO, the author of this in S (and hence S-PLUS) was somewhat confused.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Apr  4 14:22:00 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 Apr 2001 07:22:00 -0500
Subject: [R] anova table
In-Reply-To: <01040409445402.01645@Aconitum>
References: <15050.44843.246722.534034@mazzy.math.uaa.alaska.edu>
	<01040409445402.01645@Aconitum>
Message-ID: <6rn19w26tz.fsf@franz.stat.wisc.edu>

Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:

> On Wednesday 04 April 2001 07:20, George A. Dowding wrote:
> > I am taking a stats class and need to do a single factor anova table
> > with four treatments for an assignment.  The instructor showed the
> > class how to do it with minitab, and I am unsure how to proceede in
> > R.
> >
> > Here is the data:
> >
> > I.   .8 .2 1.4 .9 .9 1.0 1.0 1.1 1.4 1.2 1.0
> > II.  1.6 1.1 .2 1.3 1.5 .7 .5 1.3 1.3 .4
> > III  1.8 .3 1.1 2.0 2.8 1.5 1.3 2.9 1.7 .8
> > IV.  2.4 2.6 2.82.9 1.7 2.6 2.7 2.1 2.1 2.3
> >
> > I have been reading the various help files and can't quite finde the
> > right example to get started from.
> 
> Try help(aov). Basically, you will have to  bring your data into a form like
> 
> treatment	response
> 1		.8
> 1		.2
> 2		1.6
> 2		1.1
> ...		...
> 
> and then use something like
> 
> model <- aov(response~treatment)
> summary(model)
> 
> This will give you a standard ANOVA table.

If the data are in the form of separate rows for each group, you could
read the data in as one column and use the gl function to generate the
treatment column.  If the data are stored as four columns in a table
then you could use read.table to read the data into a data frame and
the stack function to create one long response vector and the
corresponding treatment column.  (The name of the stack function is
taken from the similarly named command in Minitab.)

The simplest way of doing this is to bring in each level's data as a
separate vector and use stack.  That would look like

> grp1 <- c(.8, .2, 1.4, .9, .9, 1.0, 1.0, 1.1, 1.4, 1.2, 1.0)
> grp2 <- c(1.6, 1.1, .2, 1.3, 1.5, .7, .5, 1.3, 1.3, .4)
> grp3 <- c(1.8, .3, 1.1, 2.0, 2.8, 1.5, 1.3, 2.9, 1.7, .8)
> grp4 <- c(2.4, 2.6, 2.8, 2.9, 1.7, 2.6, 2.7, 2.1, 2.1, 2.3)
> dat <- stack(list(grp1, grp2, grp3, grp4))
Error in data.frame(values = unlist(unname(x)), ind = factor(rep(names(x),  : 
	arguments imply differing number of rows: 41, 0
> dat <- stack(list(I. = grp1, II. = grp2, III. = grp3, IV. = grp4))
> dat[1:10, ]
   values ind
1     0.8  I.
2     0.2  I.
3     1.4  I.
4     0.9  I.
5     0.9  I.
6     1.0  I.
7     1.0  I.
8     1.1  I.
9     1.4  I.
10    1.2  I.
> aov(values ~ ind, data = dat)
Call:
   aov(formula = values ~ ind, data = dat)

Terms:
                     ind Residuals
Sum of Squares  14.05771  10.57009
Deg. of Freedom        3        37

Residual standard error: 0.5344887 
Estimated effects may be unbalanced

Notice that you can save the result of the aov function 
> fm1 <- aov(values ~ ind, data = dat)
and do things like plot it to get diagnostic plots.
> plot(fm1)

If you need to do multiple comparisons of means, use the Tukey
function from the Devore5 package.  That package provides the data and
sample analyses from an introductory text for Engineering Statistics.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Wed Apr  4 15:27:25 2001
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Wed, 04 Apr 2001 09:27:25 -0400
Subject: [R] Parse error in xtabs
References: <Pine.LNX.4.21.0104032034410.14920-100000@nujoma.perrins> <x2ofudaye0.fsf@blueberry.kubism.ku.dk>
Message-ID: <3ACB213D.3A055F09@unc.edu>

Okay, here's the output done the right way :). I notice that the ~
grouptype shows up in both elements of the text vector - perhaps that's
a problem.

Andy Perrin

> debug(parse)
> l.agg<-xtabs(cbind(r.logic.interests, r.logic.morality,
+ r.logic.enlightened, r.logic.capacity,r.logic.mediate) ~ grouptype,
+ data=gt)
debugging in: parse(text = x)
debug: {
    if (is.character(file)) 
        if (file == "") 
            file <- stdin()
        else {
            file <- file(file, "r")
            on.exit(close(file))
        }
    .Internal(parse(file, n, text, prompt))
}
Browse[1]> text
[1] "cbind(r.logic.interests, r.logic.morality, r.logic.enlightened,  ~
grouptype"
[2] "    r.logic.capacity, r.logic.mediate) ~
grouptype"                          
Browse[1]> n
debug: if (is.character(file)) if (file == "") file <- stdin() else {
    file <- file(file, "r")
    on.exit(close(file))
}
Browse[1]> n
debug: .Internal(parse(file, n, text, prompt))
Browse[1]> n
Error in parse(file, n, text, prompt) : parse error


Peter Dalgaard BSA wrote:
> 
> Andrew Perrin <aperrin at socrates.berkeley.edu> writes:
> 
> > Well, for whatever reason debug() isn't stepping through for me:
> >
> >
> > > debug(xtabs(cbind(r.logic.interests,
> > r.logic.morality,r.logic.enlightened, r.logic.capacity,r.logic.mediate)~
> > grouptype,data=gt))
> > Error in parse(file, n, text, prompt) : parse error
> 
> That's not the way to do it:
> 
> debug(parse)
> 
> xtabs(cbind(r.logic.interests,
>  r.logic.morality,r.logic.enlightened, r.logic.capacity,r.logic.mediate)~
>  grouptype,data=gt)
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-- 
--------------------------------------------------------------
Andrew J. Perrin - Programmer/Analyst, Desktop Support
Children's Primary Care Research Group, UNC - Chapel Hill
(919)966-9394 * andrew_perrin at unc.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Wed Apr  4 15:44:58 2001
From: cof at agere.com (Ortega, Carlos (Carlos))
Date: Wed, 4 Apr 2001 14:44:58 +0100 
Subject: [R] Regression Time Series
Message-ID: <CB2D2F502B52D211BB3A00805F152151036A2861@SP0005EXCH001U>

Dear R-help,

I have been checking the different functions in the "ts" as well as
"tseries" libraries and I  could not find any reference to "regression time
series" or applying a model to a set of time series.

Please could you clarify if I missed any document or additional reference ?.

Thanks,
Carlos Ortega.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  4 16:33:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2001 15:33:03 +0100 (BST)
Subject: [R] Regression Time Series
In-Reply-To: <CB2D2F502B52D211BB3A00805F152151036A2861@SP0005EXCH001U>
Message-ID: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats>

On Wed, 4 Apr 2001, Ortega, Carlos (Carlos) wrote:

> Dear R-help,
>
> I have been checking the different functions in the "ts" as well as
> "tseries" libraries and I  could not find any reference to "regression time
> series" or applying a model to a set of time series.
>
> Please could you clarify if I missed any document or additional reference ?.

Look harder at arima0.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Fairouz_Makhlouf at hgsi.com  Wed Apr  4 17:04:50 2001
From: Fairouz_Makhlouf at hgsi.com (Fairouz_Makhlouf@hgsi.com)
Date: Wed, 4 Apr 2001 11:04:50 -0400
Subject: [R] png file
Message-ID: <OF3396DB03.FF48EA1C-ON85256A24.00528993@hgsi.com>

Dear R-help list users,

I have a question about saving a graph as .png file under Unix.  The R
version is 1.2.2.  The message I am getting is

Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,
:  unable to start device PNG
 No png support in this version of R

even though when I do help on png it shows that it should be working ok and
it should be supported.

Any help would be appreciated.

Thanks

Fairouz Makhlouf
Human Genome Sciences
(301)610-5790  x2552
http://www.hgsi.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  4 17:18:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2001 16:18:47 +0100 (BST)
Subject: [R] png file
In-Reply-To: <OF3396DB03.FF48EA1C-ON85256A24.00528993@hgsi.com>
Message-ID: <Pine.LNX.4.31.0104041616100.16937-100000@gannet.stats>

On Wed, 4 Apr 2001 Fairouz_Makhlouf at hgsi.com wrote:

> Dear R-help list users,
>
> I have a question about saving a graph as .png file under Unix.  The R
> version is 1.2.2.  The message I am getting is
>
> Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,
> :  unable to start device PNG
>  No png support in this version of R

That means exactly what it says.  Where did your version come from?

> even though when I do help on png it shows that it should be working ok and
> it should be supported.

What help?  R's help says nothing like that.

Look at the configure logs to see why it was not configured in, if you
compiled it yourself.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Fairouz_Makhlouf at hgsi.com  Wed Apr  4 17:52:02 2001
From: Fairouz_Makhlouf at hgsi.com (Fairouz_Makhlouf@hgsi.com)
Date: Wed, 4 Apr 2001 11:52:02 -0400
Subject: [R] png file
Message-ID: <OF50E698F4.3901F073-ON85256A24.0056A65E@hgsi.com>


Prof Ripley,

Sorry for not being clear !! What I meant is that when I type ?png under
UNIX it gives me the information about the png function so I thought that
it should be supported.
I will check what you suggested.

Thanks for your input.

Fairouz Makhlouf
Human Genome Sciences
(301)610-5790  x2552
http://www.hgsi.com/


                                                                                                                                        
                    Prof Brian Ripley                                                                                                   
                    <ripley at stats.ox.ac.        To:     <Fairouz_Makhlouf at hgsi.com>                                                     
                    uk>                         cc:     <r-help at stat.math.ethz.ch>                                                      
                    Sent by:                    Subject:     Re: [R] png file                                                           
                    owner-r-help at stat.ma                                                                                                
                    th.ethz.ch                                                                                                          
                                                                                                                                        
                                                                                                                                        
                    04/04/01 11:18 AM                                                                                                   
                                                                                                                                        
                                                                                                                                        




Wed, 4 Apr 2001 Fairouz_Makhlouf at hgsi.com wrote:

> Dear R-help list users,
>
> I have a question about saving a graph as .png file under Unix.  The R
> version is 1.2.2.  The message I am getting is
>
> Error in X11(paste("png::", filename, sep = ""), width, height,
pointsize,
> :  unable to start device PNG
>  No png support in this version of R

That means exactly what it says.  Where did your version come from?

> even though when I do help on png it shows that it should be working ok
and
> it should be supported.

What help?  R's help says nothing like that.

Look at the configure logs to see why it was not configured in, if you
compiled it yourself.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Apr  4 18:03:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Apr 2001 09:03:41 -0700 (PDT)
Subject: [R] standard errors of fitted values are different S-plus survival
 pa ckage and R
In-Reply-To: <972D4394D961D211978500805F155398020D18FE@se-hsl-mail030.seml.astrazeneca.net>
Message-ID: <Pine.A41.4.33.0104040901550.126950-100000@homer16.u.washington.edu>

On Mon, 2 Apr 2001 Georgina.Bermann at astrazeneca.com wrote:

> Perhaps this question has been asked before: but using the function predict(
> fit,type="terms",se.fit=T), where fit is a coxph object in S-plus, the
> estimated standard errors are different.  It may be different estimators of
> the variance of the residuals?  Which one is the default in R, I don't find
> that too easily in the documentation.  Does anybody know?

The variance of the residuals doesn't come into it for coxph.
predict.coxph(terms, se.fit=TRUE) was wrong and is now fixed. I'll send
you a revised version.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asone at latte.harvard.edu  Wed Apr  4 20:10:17 2001
From: asone at latte.harvard.edu (Akio Sone)
Date: Wed, 4 Apr 2001 14:10:17 -0400
Subject: [R] To execute jpeg() under a remotely accessed  Linux machine(via non-X-window emulation mode) 
Message-ID: <002101c0bd32$8126ec00$ded2f78c@fas.harvard.edu>

Dear R users:

When I tried to execute R(ver. 1.2.1)'s jpeg() command on a remotely
accessed (via the telnet line mode, NOT some X-window-emulated mode such as
tridiaVNC viewer for windows ) Linux machine,

platform: "i686-pc-linux-gnu"
arch    : "i686"
os      : "linux-gnu (RedHat ver.6.2)"
system  : "i686, linux-gnu"
major   : "1"
minor   : "2.1"
year    : "2001"
month   : "01"
day     : "15"


I got the following error message:

Error in X11(paste("jpeg::", quality, ":", filename, sep = ""), width,  :
        unable to start device JPEG

However, if I use tridiaVNC viewer, jpeg() works as expected.

My question is whether or not we can execute jpeg() command from a
non-X11-window(-emulated) window? If not, is there any workaround to
generate a jpeg file?

Thank you for your assistance.

Akio Sone
Research Fellow
Harvard-MIT Data Center
e-mail: asone at latte.harvard.edu
phone: (617) 495-5792






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr  4 21:33:23 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Apr 2001 20:33:23 +0100 (BST)
Subject: [R] To execute jpeg() under a remotely accessed  Linux machine(via
 non-X-window emulation mode) 
In-Reply-To: <002101c0bd32$8126ec00$ded2f78c@fas.harvard.edu>
Message-ID: <Pine.GSO.4.31.0104042032410.5424-100000@auk.stats>

On Wed, 4 Apr 2001, Akio Sone wrote:

> Dear R users:
>
> When I tried to execute R(ver. 1.2.1)'s jpeg() command on a remotely
> accessed (via the telnet line mode, NOT some X-window-emulated mode such as
> tridiaVNC viewer for windows ) Linux machine,
>
> platform: "i686-pc-linux-gnu"
> arch    : "i686"
> os      : "linux-gnu (RedHat ver.6.2)"
> system  : "i686, linux-gnu"
> major   : "1"
> minor   : "2.1"
> year    : "2001"
> month   : "01"
> day     : "15"
>
>
> I got the following error message:
>
> Error in X11(paste("jpeg::", quality, ":", filename, sep = ""), width,  :
>         unable to start device JPEG
>
> However, if I use tridiaVNC viewer, jpeg() works as expected.
>
> My question is whether or not we can execute jpeg() command from a
> non-X11-window(-emulated) window? If not, is there any workaround to
> generate a jpeg file?

No (jpeg, uses an Xserver), bitmap().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Thu Apr  5 01:16:52 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Wed, 4 Apr 2001 18:16:52 -0500 (CDT)
Subject: [R] ms function
Message-ID: <Pine.GSO.4.33.0104041813340.11230-100000@dahlia.la.utexas.edu>


R -users

Is anyone familiar with the ms function in Splus? I think this is a
general optimization tool (i.e., ML estimation). Is there a corresponding
function in R?

Cheers,
Dan

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology
University of Texas at Austin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr  5 01:31:38 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Apr 2001 16:31:38 -0700 (PDT)
Subject: [R] ms function
In-Reply-To: <Pine.GSO.4.33.0104041813340.11230-100000@dahlia.la.utexas.edu>
Message-ID: <Pine.A41.4.33.0104041628210.126950-100000@homer16.u.washington.edu>

On Wed, 4 Apr 2001, Daniel A. Powers wrote:

>
> R -users
>
> Is anyone familiar with the ms function in Splus? I think this is a
> general optimization tool (i.e., ML estimation). Is there a corresponding
> function in R?

If your question is whether there is a general optimisation tool in R,
the answer is yes.  help(optim) will give you more information

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dowdingg at math.uaa.alaska.edu  Thu Apr  5 04:24:33 2001
From: dowdingg at math.uaa.alaska.edu (George A. Dowding)
Date: Wed, 4 Apr 2001 18:24:33 -0800
Subject: [R] anova table
In-Reply-To: <6rn19w26tz.fsf@franz.stat.wisc.edu>
References: <15050.44843.246722.534034@mazzy.math.uaa.alaska.edu>
	<01040409445402.01645@Aconitum>
	<6rn19w26tz.fsf@franz.stat.wisc.edu>
Message-ID: <15051.55137.299222.532696@ayes.math.uaa.alaska.edu>

First, thanks, that worked perfectly.  I entered the data and read it
from a file using read.table.  You read my mind with the suggestion of
using Tukey's procedure. We are actually using the  book by Devore.
I am also supposed to do a contrast using a "method attributed to
Scheff\'e." to quote Devore.

Douglas Bates writes:
 > Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:
 > 
 > > On Wednesday 04 April 2001 07:20, George A. Dowding wrote:
 > > > I am taking a stats class and need to do a single factor anova table
 > > > with four treatments for an assignment.  The instructor showed the
 > > > class how to do it with minitab, and I am unsure how to proceede in
 > > > R.
 > > >
 > > > Here is the data:
 > > >
 > > > I.   .8 .2 1.4 .9 .9 1.0 1.0 1.1 1.4 1.2 1.0
 > > > II.  1.6 1.1 .2 1.3 1.5 .7 .5 1.3 1.3 .4
 > > > III  1.8 .3 1.1 2.0 2.8 1.5 1.3 2.9 1.7 .8
 > > > IV.  2.4 2.6 2.82.9 1.7 2.6 2.7 2.1 2.1 2.3
 > > >
 > > > I have been reading the various help files and can't quite finde the
 > > > right example to get started from.
 > > 
 > > Try help(aov). Basically, you will have to  bring your data into a form like
 > > 
 > > treatment	response
 > > 1		.8
 > > 1		.2
 > > 2		1.6
 > > 2		1.1
 > > ...		...
 > > 
 > > and then use something like
 > > 
 > > model <- aov(response~treatment)
 > > summary(model)
 > > 
 > > This will give you a standard ANOVA table.
 > 
 > If the data are in the form of separate rows for each group, you could
 > read the data in as one column and use the gl function to generate the
 > treatment column.  If the data are stored as four columns in a table
 > then you could use read.table to read the data into a data frame and
 > the stack function to create one long response vector and the
 > corresponding treatment column.  (The name of the stack function is
 > taken from the similarly named command in Minitab.)
 > 
 > The simplest way of doing this is to bring in each level's data as a
 > separate vector and use stack.  That would look like
 > 
 > > grp1 <- c(.8, .2, 1.4, .9, .9, 1.0, 1.0, 1.1, 1.4, 1.2, 1.0)
 > > grp2 <- c(1.6, 1.1, .2, 1.3, 1.5, .7, .5, 1.3, 1.3, .4)
 > > grp3 <- c(1.8, .3, 1.1, 2.0, 2.8, 1.5, 1.3, 2.9, 1.7, .8)
 > > grp4 <- c(2.4, 2.6, 2.8, 2.9, 1.7, 2.6, 2.7, 2.1, 2.1, 2.3)
 > > dat <- stack(list(grp1, grp2, grp3, grp4))
 > Error in data.frame(values = unlist(unname(x)), ind = factor(rep(names(x),  : 
 > 	arguments imply differing number of rows: 41, 0
 > > dat <- stack(list(I. = grp1, II. = grp2, III. = grp3, IV. = grp4))
 > > dat[1:10, ]
 >    values ind
 > 1     0.8  I.
 > 2     0.2  I.
 > 3     1.4  I.
 > 4     0.9  I.
 > 5     0.9  I.
 > 6     1.0  I.
 > 7     1.0  I.
 > 8     1.1  I.
 > 9     1.4  I.
 > 10    1.2  I.
 > > aov(values ~ ind, data = dat)
 > Call:
 >    aov(formula = values ~ ind, data = dat)
 > 
 > Terms:
 >                      ind Residuals
 > Sum of Squares  14.05771  10.57009
 > Deg. of Freedom        3        37
 > 
 > Residual standard error: 0.5344887 
 > Estimated effects may be unbalanced
 > 
 > Notice that you can save the result of the aov function 
 > > fm1 <- aov(values ~ ind, data = dat)
 > and do things like plot it to get diagnostic plots.
 > > plot(fm1)
 > 
 > If you need to do multiple comparisons of means, use the Tukey
 > function from the Devore5 package.  That package provides the data and
 > sample analyses from an introductory text for Engineering Statistics.
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Thanks,
George

dowdingg at math.uaa.alaska.edu 
http://www.math.uaa.alaska.edu/~dowdingg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.zwane at fss.uu.nl  Thu Apr  5 09:54:13 2001
From: e.zwane at fss.uu.nl (Nkosinathi ZWANE)
Date: Thu, 05 Apr 2001 09:54:13 +0200
Subject: [R] Assign
Message-ID: <5.0.2.1.0.20010405094637.009eedd0@pop.fss.uu.nl>

What is the R equivalent of "frame" used in the function "assign" in S+.
_______________________________________________________________________
Eugene ZWANE
Department of Methodology and Statistics
Postbus 80.140
3508 TC, Utrecht
The Netherlands

Tel: +31 (030) 253-7635
_______________________________________________________________________
The formulation of a problem is more often essential than its solution 
which may be merely a matter of mathematical or experimental skill. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Thu Apr  5 11:05:50 2001
From: gco at eortc.be (Gary Collins)
Date: Thu, 5 Apr 2001 11:05:50 +0200 
Subject: [R] factors and characters when attaching data...more info.
Message-ID: <9180B261C5E0D411B22B0008C724AD3643C0EC@frank.eortc.be>

R-helpers...
Please find an ammendment to a problem I posted yesterday (04/04/01).
Unfortunately I recieved only one response, so I will give some more details
to the problem.
I have read some data called Version3.Studies, and to make life slightly
easier and programming less wordy, I want to attach a dataframe, but when I
do, all of my charater fields are forced into factors.

> Version3.Studies_read.table("c:\\Version3.Studies.dat",
header=TRUE,as.is=TRUE, strip.white=TRUE) 
> summary(Version3.Studies$Group)
   Length      Mode 
     3103 character 
> is.character(Version3.Studies$Group) # Just to make sure...
[1] TRUE
> unique(Version3.Studies$Group)
 [1] "Lung"         "Mesothelioma" "Breast"       "HeadandNeck"
"Oesophagus"  
 [6] "Ovary"        "Brain"        "Prostate"     "Testes"       "Stomach"

[11] "ColonRectum" 
> 

Now I attach the data...

> attach(Version3.Studies)
> is.character(Group)
[1] FALSE
> is.factor(Group)
[1] TRUE
> 

> unique(Group)
 [1]         Lung Mesothelioma       Breast  HeadandNeck   Oesophagus
 [6]        Ovary        Brain     Prostate       Testes      Stomach
[11]  ColonRectum 
Levels:          Lung        Brain        Ovary       Breast       Testes
Stomach     Prostate   Oesophagus  ColonRectum  HeadandNeck Mesothelioma 

Now, consider the following simple example, I want to extract another field,
say PF in Version3.Studies but indexing by a label in Group, say Lung.
Without attaching the data, I can simply do

> Version3.Studies$PF[Version3.Studies$Group=="Lung"]

and this calls the apropriate data.

After attaching the data, to retrieve the same data, I need to do

> PF[Group=="        Lung"]

inserting the neccesary white space.

What my question is why is R forcing my character fields to factor when
attaching a dataframe, is this what is supposed to happen, and is there a
way around it, keeping my original character fields as character and not as
factor.
Trying to force the Group to a character field still keeps white space which
was created when attaching the dataframe.

> unique(as.character(Group))
 [1] "        Lung" "Mesothelioma" "      Breast" " HeadandNeck" "
Oesophagus"
 [6] "       Ovary" "       Brain" "    Prostate" "      Testes" "
Stomach"
[11] " ColonRectum"
> 
Any help would be greatly appreciated.

Gary Collins.
__________________________________________________
Dr. Gary S. Collins,
Statistics Research Fellow,
Quality of Life Unit, 
European Organisation for Research and Treatment of Cancer, 
EORTC Data Center, 
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
Email: gco at eortc.be
http://www.eortc.be/home/qol/
__________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gaelle.Rouault at orleans.inra.fr  Thu Apr  5 11:00:47 2001
From: Gaelle.Rouault at orleans.inra.fr (Gaelle Rouault)
Date: Thu, 05 Apr 2001 11:00:47 +0200
Subject: No subject
Message-ID: <4.3.0.20010405091204.00a77e30@orleans.inra.fr>

R-helpers,

Beginner in R language, I have a problem to install a package (multiv) in R 
for Windows 98 (R-Gui)

First I have got the  multiv.zip file from the CRAN precompiled contributed 
packages for Windows and put this file in C:/Program Files/rw1022.
in R-Gui I tried to install it as following
 > install.packages("C:/Program Files/rw1022/multiv.zip")

I received  the following error message
Commande ou nom de fichier incorrect
Commande ou nom de fichier incorrect
Error in scan(file = file, what = "", quote = "", sep = "\n", quiet = TRUE) :
         cannot open file `c:\windows\TEMP\file23281'
In addition: Warning messages:
1: argument `lib' is missing: using C:/PROGRA~1/RW1022/library in: 
install.packages("C:/Program Files/rw1022/multiv.zip")
2: wget not found

Then I have also unzipped wget.exe (from 
http://www.stats.ox.ac.uk/pub/Rtools/wget.zip ) in rw1022 but I don't know 
how to install it on my computer

I have  tried to unzip the multiv.zip files (from the CRAN precompiled 
contributed packages)  in my R file (C:/Program Files/rw1022/library) using 
rwinst.exe

But when I try to install it in R-Gui
 >install.packages("C:/Program.Files/rw1022/library/multiv")
I have always the same error message

Commande ou nom de fichier incorrect
Commande ou nom de fichier incorrect
Error in scan(file = file, what = "", quote = "", sep = "\n", quiet = TRUE) :
         cannot open file `c:\windows\TEMP\file9961'
In addition: Warning messages:
1: argument `lib' is missing: using C:/PROGRA~1/RW1022/library in: 
install.packages("C:/Program.Files/rw1022/library/multiv")
2: wget not found


Can Someone tell me to install wget first and install multiv package to use 
it in R-Gui?

Thanks a lot in advance for your help.

Sincerely,


Ga?lle






--------------------------------------
Ga?lle ROUAULT
INRA-Centre de Recherches d'Orl?ans
Station de Zoologie Foresti?re
avenue de la Pomme de Pin
BP 20619 ARDON
45166 Olivet cedex
FRANCE

tel: 02 38 41 78 00 / poste 77 65
fax : 02 38 41 78 79

e-mail : rouault at orleans.inra.fr
--------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr  5 11:33:10 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 05 Apr 2001 11:33:10 +0200
Subject: [R] Re: [no subject]
References: <4.3.0.20010405091204.00a77e30@orleans.inra.fr>
Message-ID: <3ACC3BD6.F4BF9E1E@statistik.uni-dortmund.de>

Gaelle Rouault wrote:
> 
> R-helpers,
> 
> Beginner in R language, I have a problem to install a package (multiv) in R
> for Windows 98 (R-Gui)
> 
> First I have got the  multiv.zip file from the CRAN precompiled contributed
> packages for Windows and put this file in C:/Program Files/rw1022.
> in R-Gui I tried to install it as following
>  > install.packages("C:/Program Files/rw1022/multiv.zip")
> 
> I received  the following error message
> Commande ou nom de fichier incorrect
> Commande ou nom de fichier incorrect
> Error in scan(file = file, what = "", quote = "", sep = "\n", quiet = TRUE) :
>          cannot open file `c:\windows\TEMP\file23281'
> In addition: Warning messages:
> 1: argument `lib' is missing: using C:/PROGRA~1/RW1022/library in:
> install.packages("C:/Program Files/rw1022/multiv.zip")
> 2: wget not found
> 
> Then I have also unzipped wget.exe (from
> http://www.stats.ox.ac.uk/pub/Rtools/wget.zip ) in rw1022 but I don't know
> how to install it on my computer

Just copy the files into your windows directory, for example.
 

> I have  tried to unzip the multiv.zip files (from the CRAN precompiled
> contributed packages)  in my R file (C:/Program Files/rw1022/library) using
> rwinst.exe

Alright - that should work, if there is a file DESCRIPTION in the
directory ...\library\multiv.
After unzipping the files, you should be able to strat R and say:
 library(multiv)
 

> But when I try to install it in R-Gui
>  >install.packages("C:/Program.Files/rw1022/library/multiv")
> I have always the same error message

1. It is not necessary to install it - it is already!
2. The folder-name is "Program.Files" ??? 


> Commande ou nom de fichier incorrect
> Commande ou nom de fichier incorrect
> Error in scan(file = file, what = "", quote = "", sep = "\n", quiet = TRUE) :
>          cannot open file `c:\windows\TEMP\file9961'
> In addition: Warning messages:
> 1: argument `lib' is missing: using C:/PROGRA~1/RW1022/library in:
> install.packages("C:/Program.Files/rw1022/library/multiv")
> 2: wget not found
> 
> Can Someone tell me to install wget first and install multiv package to use
> it in R-Gui?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Apr  5 16:31:42 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 05 Apr 2001 10:31:42 -0400
Subject: [R] Hmisc and Design libraries
Message-ID: <3ACC81CE.8767522A@virginia.edu>

After several nice and informative discussions with Bill Venables,
Duncan Temple Lang, Tony Rossini, Martin Maechler, and Robert
Gentleman, I am pleased to announce that I am becoming an R user
and have begun porting the Hmisc and Design libraries to R. 
I have been very impressed with the maturity of R and with its 
logical design, particularly its online documentation setup and
the way packages are downloaded and installed, not to mention the
scoping rules and other fundamentals.  Another factor that has
influenced me is the excellent book "Rebel Code" by Glyn Moody
which chronicles the open source movement and Linux.  I wish
to especially thank Bill Venables for his friendly wisdom.

My guess is that porting the libraries can be largely
accomplished in the next 4 months (there are about
350 functions), especially if any experienced R programmers
who want to use the libraries would like to help.  I am
in the process of setting up an ssh-accessed CVS repository
for each library so that functions can be checked in and
out.  Anyone wanting to help will of course get plenty
of acknowledgement.  I have already debugged about 1/4
of the Hmisc library under R.

Descriptions of functions in my libraries may be found
at http://hesweb1.med.virginia.edu/biostat/s/splus.html

As I will be maintaining the libraries for S-Plus (both
Windows and Linux/Unix versions, S version 3 and 4
languages) and for R, I would appreciate learning how
other users who do the same set up their directories
to facilitate distributing libraries for both R and
S-Plus in a way that is also consistent with CVS.  In
other words, I would like to be able to construct
distributions suitable for CRAN without making it too
hard to run Unix/Linux shell scripts that also create
S-Plus distributions.  I am using a single code base
for all platforms except for Fortran and C code
where I allow for single precision objects in S-Plus.

As I am now Microsoft-free (one of my colleagues creates
Microsoft Windows files for S-Plus; I have found that
Linux is amazingly more reliable and powerful than
Windows.  I have set up a web page at
http://hesweb1.med.virginia.edu/biostat/s/linux.setup.html
to help Windows users set up Linux) I am honestly not 
motivated to do special work to make a Windows distribution
for R.  If a Windows R user who has suitable Fortran and
C compilers wishes to periodically create a Windows
distribution once the libraries work under R on
Linux/Unix that would be great.

I am very glad to join the talented R community, and look
forward to collaborating with other users.

Sincerely,

Frank Harrell
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr  5 17:04:37 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 5 Apr 2001 08:04:37 -0700 (PDT)
Subject: [R] Assign
In-Reply-To: <5.0.2.1.0.20010405094637.009eedd0@pop.fss.uu.nl>
Message-ID: <Pine.A41.4.33.0104050800460.149362-100000@homer06.u.washington.edu>

On Thu, 5 Apr 2001, Nkosinathi ZWANE wrote:

> What is the R equivalent of "frame" used in the function "assign" in S+.

The pos= and envir= arguments perform this function.

An environment is roughly the equivalent of a frame, and you can assign
into the global environment with env=.GlobalEnv, the parent environment
with env=sys.frame(sys.parent()), the second position in the search() list
with pos=2, and so on.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjf at waca.sys.uea.ac.uk  Thu Apr  5 19:11:48 2001
From: rjf at waca.sys.uea.ac.uk (Robert John Foxall)
Date: Thu, 5 Apr 2001 18:11:48 +0100 (BST)
Subject: [R] predict.glm
Message-ID: <Pine.LNX.4.21.0104051802270.858-100000@waca.sys.uea.ac.uk>

Hello,
	Probably a stupidly easy question, but I have done the following
in order to make predictions from a fitted glm with new data:

my.glm <- glm(lt96~so296[,1:17],family=binomial(link=logit))
p96 <- predict.glm(my.glm,newdata=so293[,1:17],type="response")

but I always get the fitted linear predictors from the original model, ie
there doesn't seem to be acknowledgement of the new data. Linux on my
machine, running R version 1.1.1 (will upgrade soon!).

Cheers,
	Rob Foxall.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Miguel.Mediavilla at CCPEDQ.desjardins.com  Thu Apr  5 19:51:41 2001
From: Miguel.Mediavilla at CCPEDQ.desjardins.com (Miguel.Mediavilla@CCPEDQ.desjardins.com)
Date: Thu, 5 Apr 2001 13:51:41 -0400
Subject: [R] list with number tags
Message-ID: <85256A25.0062371A.00@ismmta01.desjardins.com>




Is it possible to create a list or a vector with tags being numbers?

e.g.  a <- list(1=2, 3=4)

thanks,
miguel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr  5 21:07:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 5 Apr 2001 20:07:46 +0100 (GMT Daylight Time)
Subject: [R] list with number tags
In-Reply-To: <85256A25.0062371A.00@ismmta01.desjardins.com>
Message-ID: <Pine.WNT.4.31.0104052006120.215-100000@tern.stats>

On Thu, 5 Apr 2001 Miguel.Mediavilla at CCPEDQ.desjardins.com wrote:

> Is it possible to create a list or a vector with tags being numbers?
>
> e.g.  a <- list(1=2, 3=4)

Yes, but you need to quote non-standard names like these, and you have to
be careful how you use them.  For example

> list("1"=2, "3"=4)
$"1"
[1] 2

$"3"
[1] 4


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr  5 21:26:33 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 05 Apr 2001 21:26:33 +0200
Subject: [R] list with number tags
References: <85256A25.0062371A.00@ismmta01.desjardins.com>
Message-ID: <3ACCC6E9.919FE8EC@statistik.uni-dortmund.de>

Miguel.Mediavilla at CCPEDQ.desjardins.com wrote:
> 
> Is it possible to create a list or a vector with tags being numbers?
> 
> e.g.  a <- list(1=2, 3=4)

Not really. What you can do is something like
 list("3"=c(1, 2), "2"=c(1, 5))
So you can use the "numbers" as characters. 

That's also possible for vectors:
 vec <- c(1, 3, 2)
 names(vec) <- c("8", "9", "10")

But be careful, I won't use it anyway ... !

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr  5 21:36:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Apr 2001 21:36:22 +0200
Subject: [R] predict.glm
In-Reply-To: Robert John Foxall's message of "Thu, 5 Apr 2001 18:11:48 +0100 (BST)"
References: <Pine.LNX.4.21.0104051802270.858-100000@waca.sys.uea.ac.uk>
Message-ID: <x2d7arb0ll.fsf@blueberry.kubism.ku.dk>

Robert John Foxall <rjf at waca.sys.uea.ac.uk> writes:

> Hello,
> 	Probably a stupidly easy question, but I have done the following
> in order to make predictions from a fitted glm with new data:
> 
> my.glm <- glm(lt96~so296[,1:17],family=binomial(link=logit))
> p96 <- predict.glm(my.glm,newdata=so293[,1:17],type="response")
> 
> but I always get the fitted linear predictors from the original model, ie
> there doesn't seem to be acknowledgement of the new data. Linux on my
> machine, running R version 1.1.1 (will upgrade soon!).
> 
> Cheers,
> 	Rob Foxall.

check the variable names! I kind of suspect that so293 has no
variables called something with so296...

I think you mean something like

glm(lt96~.,data=so296[,1:17],....
predict.glm(my.glm....
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Thu Apr  5 21:55:18 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Thu, 05 Apr 2001 09:55:18 -1000
Subject: [R] list with number tags
In-Reply-To: <85256A25.0062371A.00@ismmta01.desjardins.com>
Message-ID: <3.0.5.32.20010405095518.007d1100@gfeeney.com>

At 01:51 PM 4/5/01 -0400, Miguel.Mediavilla at CCPEDQ.desjardins.com wrote:
>
>Is it possible to create a list or a vector with tags being numbers?
>
>e.g.  a <- list(1=2, 3=4)

Try and see!

> a <- list(1=2, 3=4)
Error: syntax error

So no. But

> a <- list("1"=2, "3"=4)
> a
$"1"
[1] 2

$"3"
[1] 4



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at statsresearch.co.nz  Thu Apr  5 22:29:51 2001
From: peter at statsresearch.co.nz (Peter Thomson)
Date: Fri, 6 Apr 2001 08:29:51 +1200
Subject: [R] Using Gauss with R
Message-ID: <006b01c0be0f$48554ab0$d69260cb@rima>

Dear All,

I am a long time S user and now a convert to R. As part of my general work
in time series I occasionally assist groups of econometricians and others in
the finance fraternity.  In particular, that community has invested a large
amount of time and effort in writing specialised code in Gauss. I am
unfamiliar with Gauss (although I have used Matlab which is, I understand, a
comparable product) and I would be grateful for any help you might be able
to provide with the following query.

Can the Gauss engine be linked for use within R?  If so I would be grateful
for some further details and to learn of peoples' experiences.

Is the solution of using Gauss from R a sensible one or should the Gauss
applications be converted to R code?  (Unfortunately I suspect that the
econometricians will be hard to move from Gauss despite the attractions of
R, so this is probably not a starter.)

Many thanks for your help,

Peter

======================================================
Peter Thomson   PhD, CStat, AStat
Statistics Research Associates Ltd
PO Box 12 649, Thorndon
Wellington
NEW ZEALAND

Email:    peter at statsresearch.co.nz
Web:     www.statsresearch.co.nz
Phone:  +64 4 934-4753

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From egrunsky at iamg.org  Thu Apr  5 20:18:00 2001
From: egrunsky at iamg.org (Eric Grunsky)
Date: Thu, 5 Apr 2001 19:18:00 +0100
Subject: [R] Procedure for contouring points in a ternary diagram.
Message-ID: <01C0BE05.227598E0.egrunsky@iamg.org>

Dear R folk,

I want to contour the density of points within a ternary diagram defined by 
three geochemical variables [a closed array]. Is there any code available 
in R for creating and displaying density contours in a ternary diagram 
using variable size search triangles?
Any help appreciated. Thanks.

Eric Grunsky
Alberta Geological Survey
email: egrunsky at iamg.org



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Fri Apr  6 14:30:05 2001
From: hzi at uol.com.br (Usuario Universo Online)
Date: Fri, 06 Apr 2001 12:30:05 GMT
Subject: [R] An introduction to R - italian translation ?
In-Reply-To: <Pine.LNX.4.30.0103302153290.1010-100000@localhost.localdomain>
References: <Pine.LNX.4.30.0103302153290.1010-100000@localhost.localdomain>
Message-ID: <20010406.12300500@siddhi.samsara>

Dear Mr. Alzetta-

	You will br doing a great service in translating R to italian.
	Personally, I think there's always need for more documentation regarding 
this great software.

	Regards,
	Henry L.

> Sorry if this isn't the correct mailing list for
> this sort of question ... (r-devel ?) I was considering
> the idea of translating 'An introduction to R' into italian.
> (If someone else has already done / is already doing this
> please tell me!)

> 
> --
> Dr. Michele Alzetta

>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Fri Apr  6 09:50:47 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Fri, 6 Apr 2001 09:50:47 +0200
Subject: [R] interpolation in matrix
Message-ID: <002101c0be6e$4b014bb0$cd981291@psy.uva.nl>

How would you proceed with the following problem:

I have an data frame containing a table relating raw scores on an iq test to
'decile-like' scores.

data<-data.frame(age   =c( 8,  9, 10, 11, 12, 13, 25, 30, 35, 40, 45, 50,
55, 60, 65, 70),
                         pers90=c(33, 39, 43, 47, 50, 54, 54, 52, 50, 49,
47, 46, 43, 42, 39, 37),
                         perc75=c(27, 31, 37, 42, 46, 49, 49, 47, 46, 44,
42, 40, 37, 34, 31, 30),
                         perc50=c(21, 25, 29, 34, 39, 44, 44, 42, 39, 37,
34, 31, 29, 27, 25, 22),
                         pers25=c(16, 19, 22, 27, 30, 37, 37, 33, 30, 29,
27, 25, 22, 21, 19, 16),
                         pers10=c(12, 15, 18, 21, 25, 30, 30, 26, 25, 23,
21, 20, 18, 16, 15, 13)
                         )

For each age the percXX field hold the score for the subject wich is a lower
bound for the raw score, to place the subject in this percentile. I would
like to be able to interpolate both age and percentile, so I can use a
function like

perc<-getPerc(age, raw)

which would yield a score between 0 and 100

What would be the way to go?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri Apr  6 10:15:45 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 6 Apr 2001 10:15:45 +0200 (MET DST)
Subject: [R] interpolation in matrix
In-Reply-To: <002101c0be6e$4b014bb0$cd981291@psy.uva.nl>
Message-ID: <Pine.OSF.4.30.0104061011450.967-100000@alnair.uio.no>

On Fri, 6 Apr 2001, Mark M. Span wrote:

>What would be the way to go?

I think the akima package may do what you want (I'm not positive, though).

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr  6 10:34:19 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 6 Apr 2001 09:34:19 +0100 (BST)
Subject: [R] Using Gauss with R
In-Reply-To: <006b01c0be0f$48554ab0$d69260cb@rima>
Message-ID: <Pine.LNX.4.10.10104060921520.6597-100000@localhost.localdomain>

This is a tangent to your question.

The economist Jurgen Doornik has written a language called Ox:
http://www.nuff.ox.ac.uk/Users/Doornik/doc/ox/ox.htm
It obviously caters to econometricians. The unix version is free.

I did use it at one time before R was really rolling. I used it for MLE
because I think at that time there was no nlm() routine in R yet!  Ox
seemed fine though had no graphics.

Anyway I am mentioning this in case Ox is similar to Gauss. I know that Ox
is C-like, maybe Gauss is too, and so maybe not too hard to port Gauss
progs to Ox.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Apr  6 10:41:04 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 6 Apr 2001 10:41:04 +0200
Subject: [R] Subscript out of bounds- (my) problem with expansion of expression?
Message-ID: <OFA4F06252.B0AD2548-ONC1256A26.002AE11E@eurotel.cz>

Hi,
I have this problem (R 1.2.2 on Pentium, OS WinNT4 SP6) :

mytable
is a 3D (n*p*2) table of  non-negative "integers".
There is a need to do n times

chisq.test (rbind(mytable[i,,1], mytable[i,,2])) #on p*2 tables

Columns with zero value in the first row should be omitted, for example

chisq.test (rbind(mytable[i,-c(3,4,6),1], mytable[i,-c(3,4,6),2]))  #for
i-th table with zero values at [1,3] , [1,4]and [1,6]


First row,
>mytable[1,,1]
 1   2   3   4   5   6   7   8
187  95  0   0   6  0  60  88

Second row,
>mytable[1,,2]
  1   2   3   4   5   6   7   8
146  50   0   2  11   0  36 109

My question is: Why the upper call of chisq.test works,
but application of function (described below) generating the "-c(3,4,6)"
string automatically from the table does not?

A function generating logical vector indicating non-zero values in a vector
"vec1"

pom1 <- function(vec1)
{
po1  <-(vec1)>0
po1
}

>pom1(mytable[1, ,1])
   1    2    3    4    5    6    7    8
TRUE TRUE   NA   NA TRUE   NA TRUE TRUE

A function "generator" with argument of logical vector "vec" indicating
non-presence of zeros is defined, which returns desired string:

generator <- function(vec)
{
tempor <- NULL
for(j in 1:length(vec))
{
if (!vec[j]) tempor<-c(tempor, j)
}

generat <- paste (tempor, collapse=",")
generat <- paste ("-c(",generat,")" , sep="")
generat
}

> generator(pom1(mytable[1, ,1]))
[1] "-c(3,4,6)"

or

>pom <- pom1(mytable[1, ,1])
> generator(pom)
[1] "-c(3,4,6)"


Then the "generator" is applied inside chisq.test:

for (i in 1:length(mytable[,1,1]))
{
pom <- pom1(mytable[i,,1])
mychi2[i]<-chisq.test(rbind(mytable[i,generator(pom),1],
mytable[i,generator(pom),2]))$p.value
}

(or just for  mytable[,1,1]).

and as a result, an "Error: subscript out of bounds" is given immediately.
Why?
Neither the use of  noquote(generator(pom)) instead of generator(pom) does
help, nor eval(generator(pom)).

Therefore: How could I "force" R to think of generator(pom) as of -c(3,4,6)
(or something similar)
inside the call of chisq.test (or, of course, another function)?

I think this should be (easily) possible, but I don't know how.

Thank you for any help,
Jan




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Fri Apr  6 13:56:01 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Fri, 06 Apr 2001 13:56:01 +0200
Subject: [R] NA's values and ts
Message-ID: <3.0.6.32.20010406135601.0079d5c0@pop.hsoft.es>

Hi,

I have a data frame with 13 time series (same length). Two of them have
several NA's values, so when I've tried to run:

>acf(flow, na.action=na.omit)

I get

>Error in na.omit.ts(as.ts(x)) : time series contains internal NAs

I've read through help files of acf, na.action, na.omit, and I don't
understand how to manage NA's values.

If I list the variable (eg: rain, I get the following structure, is OK?)

>rain

       	Jan   Feb   Mar   Apr   May   Jun   Jul   Aug   Sep
1984           		    52.0   5.9   0.0   0.0  50.5
1985	 261.8 124.6   5.0 122.5  24.1  46.9   0.0   0.0    NA
1986  	82.9 125.6 119.1 107.7  64.6    NA   0.0   0.0   6.1
.
.
.
Thanks in advance
Antonio

       

Antonio Rodr?guez Verdugo
CICEM Agua del Pino
Huelva
Oceanography and Coastal Resources,
PhD Program, 
University of Huelva
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr  6 14:03:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Apr 2001 13:03:15 +0100 (BST)
Subject: [R] NA's values and ts
In-Reply-To: <3.0.6.32.20010406135601.0079d5c0@pop.hsoft.es>
Message-ID: <Pine.LNX.4.31.0104061259210.16943-100000@gannet.stats>

On Fri, 6 Apr 2001, Antonio [iso-8859-1] Rodríguez Verdugo wrote:

> Hi,
>
> I have a data frame with 13 time series (same length). Two of them have
> several NA's values, so when I've tried to run:
>
> >acf(flow, na.action=na.omit)
>
> I get
>
> >Error in na.omit.ts(as.ts(x)) : time series contains internal NAs
>
> I've read through help files of acf, na.action, na.omit, and I don't
> understand how to manage NA's values.

You can't do much, but try reading the help page for na.omit.ts (not
na.omit) and see also (the same page)

?na.contiguous

> If I list the variable (eg: rain, I get the following structure, is OK?)

You can't handle that at all well.  R's code is not set up to handle
time series with many missing values.  Find a package that does (and most
that I know of do not).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Fri Apr  6 14:54:48 2001
From: mlennert at ulb.ac.be (Moritz Lennert)
Date: Fri, 06 Apr 2001 14:54:48 +0200
Subject: [R] automatic levels
Message-ID: <3ACDBC98.CB708FAF@ulb.ac.be>

Hello,

I've imported a csv, semi-colon spearated file with read.csv2,
containing one column of rownames and one column of floating point
numbers. When I look at the column of data with framename$columnname, I
get the values of the column plus level values. Are these level values
created automatically ?
The problem is when I try to calcluate the correlation coefficient
between this set of data and another with lm(x~y), the result indicates
that each level seems to have been used as independent variable, making
my results unusable.

How can I suppress the automatic creation of these levels ? Or how can I
model with lm() without the levels interfering ?
I've been trying to find the response in some of the manuals, but
haven't been able to, so if someone could just point me to the right
place...

Thank you !

P.S. I'm not subscribed to the list so I would aprreciate cc's to my
address.


-- 
Moritz Lennert
Charg? de recherche
IGEAT - ULB

t?l: 32-2-650.65.16
fax: 32-2-650.50.92
email: mlennert at ulb.ac.be
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr  6 15:07:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 6 Apr 2001 14:07:15 +0100 (GMT Daylight Time)
Subject: [R] automatic levels
In-Reply-To: <3ACDBC98.CB708FAF@ulb.ac.be>
Message-ID: <Pine.WNT.4.31.0104061403160.284-100000@gannet>

On Fri, 6 Apr 2001, Moritz Lennert wrote:

> Hello,
>
> I've imported a csv, semi-colon spearated file with read.csv2,
> containing one column of rownames and one column of floating point
> numbers. When I look at the column of data with framename$columnname, I
> get the values of the column plus level values. Are these level values
> created automatically ?

Yes. It thinks the columns is not numeric.  Is read.csv2 actually
appropriate?  That is, are the numbers using `,' as the decimal separator?
Maybe you should be using read.table( , sep=";")?


> The problem is when I try to calcluate the correlation coefficient
> between this set of data and another with lm(x~y), the result indicates
> that each level seems to have been used as independent variable, making
> my results unusable.

That's not how to calculate correlation coefficients: see ?cor.

> How can I suppress the automatic creation of these levels ? Or how can I
> model with lm() without the levels interfering ?
> I've been trying to find the response in some of the manuals, but
> haven't been able to, so if someone could just point me to the right
> place...

Well, we don't know what you actually did and you supplied no examples,
but my guess is that you need to go the R Data Manual and work out how to
read your file as numbers.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Apr  6 15:27:59 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Fri, 06 Apr 2001 08:27:59 -0500
Subject: [R] Regression Time Series
References: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats>
Message-ID: <3ACDC45F.B56A85AE@ukans.edu>

I don't know what the original questioner intended, but...

In arima0 I find tools to fit AR, MA, and Integrated parts of a single
time series.  I was curious what you do if you want to do a multivariate
model. I see people talking about "intervention models" where some
variable y's been put through an ARIMA filter and then the effect of
independent variables x1,x2, etc, is assessed.  I think SAS calls these
things ARIMAX.  (ONline sas docs for version 8.1 can be seen here
http://lark.cc.ukans.edu/~sas81/sasdoc/sashtml/ets/chap7/sect1.htm)

I've not done these kind of models lately in SAS or R, but I've wondered
(as Carlos did) what R users do to estimate them.


Prof Brian Ripley wrote:
> 
> On Wed, 4 Apr 2001, Ortega, Carlos (Carlos) wrote:
> 
> > Dear R-help,
> >
> > I have been checking the different functions in the "ts" as well as
> > "tseries" libraries and I  could not find any reference to "regression time
> > series" or applying a model to a set of time series.
> >
> > Please could you clarify if I missed any document or additional reference ?.
> 
> Look harder at arima0.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk

Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Fri Apr  6 15:27:12 2001
From: mlennert at ulb.ac.be (mlennert@ulb.ac.be)
Date: Fri, 06 Apr 2001 15:27:12 +0200
Subject: [R] automatic levels 
Message-ID: <E14lWGf-0007HG-00@paf-linux.ulb.ac.be>

Hello,

Thanks for the extremely rapid response !

> On Fri, 6 Apr 2001, Moritz Lennert wrote:
> 
> > Hello,
> >
> > I've imported a csv, semi-colon spearated file with read.csv2,
> > containing one column of rownames and one column of floating point
> > numbers. When I look at the column of data with framename$columnname, I
> > get the values of the column plus level values. Are these level values
> > created automatically ?
> 
> Yes. It thinks the columns is not numeric.  Is read.csv2 actually
> appropriate?  That is, are the numbers using `,' as the decimal separator?
> Maybe you should be using read.table( , sep=";")?

read.csv2 uses sep=";" as default.

The problem was the dec="," setting in read.csv2. My text file contained 
decimal points.

Thanks again for your help !


Moritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Apr  6 15:35:50 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 06 Apr 2001 15:35:50 +0200
Subject: [R] wilcoxon test: error not enough (finite) observations
Message-ID: <3ACDC636.8246F49A@cbs.dtu.dk>

Dear R users,


Using the wilcoxon test in the library ctest, I have the following error
message.




---------------
 > a  <-  dataf[1, indexControls]
> b  <-  dataf[1, indexTreated]
> a
     V2    V3  V4  V5
1 458.2 200.5 232 205
> b
     V6  V7    V8
1 308.2 537 971.9
> wilcox.test(a,b)
Error in wilcox.test(a, b) : not enough (finite) x observations


This puzzles me since the following works....


------------------
> wilcox.test(c(1,2,3,4),c(2.3,3.4,4.5))

  Wilcoxon rank sum test

data:  c(1, 2, 3, 4) and c(2.3, 3.4, 4.5)
W = 3, p-value = 0.4
alternative hypothesis: true mu is not equal to 0


I must be wrong somewhere, but I just can find where !



Thanks any kind of hint/help.





Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr  6 15:37:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Apr 2001 14:37:47 +0100 (BST)
Subject: [R] Regression Time Series
In-Reply-To: <3ACDC45F.B56A85AE@ukans.edu>
Message-ID: <Pine.LNX.4.31.0104061432080.1794-100000@gannet.stats>

On Fri, 6 Apr 2001, Paul E Johnson wrote:

> I don't know what the original questioner intended, but...
>
> In arima0 I find tools to fit AR, MA, and Integrated parts of a single
> time series.  I was curious what you do if you want to do a multivariate
> model. I see people talking about "intervention models" where some
> variable y's been put through an ARIMA filter and then the effect of
> independent variables x1,x2, etc, is assessed.  I think SAS calls these
> things ARIMAX.  (ONline sas docs for version 8.1 can be seen here
> http://lark.cc.ukans.edu/~sas81/sasdoc/sashtml/ets/chap7/sect1.htm)
>
> I've not done these kind of models lately in SAS or R, but I've wondered
> (as Carlos did) what R users do to estimate them.

Look even harder!  arima0 does fits ARIMAX models, using the xreg
parameter.

For an example, see ch13.R in the MASS/scripts collection.

ARIMAX models are not multivariate though: that's another subject
altogether.  For more complicated multiple models, bundle dse provides
a toolkit.

I know that the documentation is sparse, but this is an area due to be
replaced before too long.

>
>
> Prof Brian Ripley wrote:
> >
> > On Wed, 4 Apr 2001, Ortega, Carlos (Carlos) wrote:
> >
> > > Dear R-help,
> > >
> > > I have been checking the different functions in the "ts" as well as
> > > "tseries" libraries and I  could not find any reference to "regression time
> > > series" or applying a model to a set of time series.
> > >
> > > Please could you clarify if I missed any document or additional reference ?.
> >
> > Look harder at arima0.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
>
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alvaro at novo-online.net  Fri Apr  6 16:35:26 2001
From: alvaro at novo-online.net (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Fri, 6 Apr 2001 09:35:26 -0500
Subject: [R] Using Gauss with R
In-Reply-To: <Pine.LNX.4.10.10104060921520.6597-100000@localhost.localdomain>
References: <Pine.LNX.4.10.10104060921520.6597-100000@localhost.localdomain>
Message-ID: <01040609352606.09474@friedman>

On Friday 06 April 2001 03:34, Bill Simpson wrote:
   > This is a tangent to your question.
   >
   > The economist Jurgen Doornik has written a language called Ox:
   > http://www.nuff.ox.ac.uk/Users/Doornik/doc/ox/ox.htm
   > It obviously caters to econometricians. The unix version is free.
   >
   > I did use it at one time before R was really rolling. I used it for MLE
   > because I think at that time there was no nlm() routine in R yet!  Ox
   > seemed fine though had no graphics.
   >
   > Anyway I am mentioning this in case Ox is similar to Gauss. I know that
   > Ox is C-like, maybe Gauss is too, and so maybe not too hard to port
   > Gauss progs to Ox.

Let me add that Ox comes with a function g2ox which transforms Gauss to Ox 
code. Also, Ox is extremely fast (read it and experienced it).

Alvaro Novo

   >
   > Bill Simpson
   >
   > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
   >-.-.-.- r-help mailing list -- Read
   > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
   > "[un]subscribe"
   > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
   >_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Apr  6 16:44:51 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 06 Apr 2001 16:44:51 +0200
Subject: [R] wilcoxon test: error not enough (finite) observations
Message-ID: <3ACDD663.AA7FFD52@cbs.dtu.dk>

Dear R users,


Sorry for the invonvenience. The problem turned out to be that the given
parameters where not exactly what the functions was waiting for x and y.
Wrapping as.numeric() around the given arguments solved it.

I however suggest a test could be added early in this function so a more
explicit error message could be shown to the user.



Cheers,





Laurent








-------------------------------------------------------------------------
Dear R users,


Using the wilcoxon test in the library ctest, I have the following error
message.




---------------
 > a  <-  dataf[1, indexControls]
> b  <-  dataf[1, indexTreated]
> a
     V2    V3  V4  V5
1 458.2 200.5 232 205
> b
     V6  V7    V8
1 308.2 537 971.9
> wilcox.test(a,b)
Error in wilcox.test(a, b) : not enough (finite) x observations


This puzzles me since the following works....


------------------
> wilcox.test(c(1,2,3,4),c(2.3,3.4,4.5))

  Wilcoxon rank sum test

data:  c(1, 2, 3, 4) and c(2.3, 3.4, 4.5)
W = 3, p-value = 0.4
alternative hypothesis: true mu is not equal to 0


I must be wrong somewhere, but I just can find where !



Thanks any kind of hint/help.





Laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Apr  6 16:32:22 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 06 Apr 2001 15:32:22 +0100
Subject: [R] thin plate splines
Message-ID: <3ACDD375.A66223E2@ipimar.pt>

Hi

Does someone knows if there's a function/package that can make thin
plate splines ? I've looked in mgcv and splines but I haven't found
anything.

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Apr  6 17:17:29 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 6 Apr 2001 11:17:29 -0400 (EDT)
Subject: [R] thin plate splines
In-Reply-To: <3ACDD375.A66223E2@ipimar.pt>
Message-ID: <Pine.LNX.4.30.0104061117001.23803-100000@bolker.zoo.ufl.edu>


  Without bothering to double-check, I think the "funfits" package in the
"Devel" subdirectory may (??) do thin-plate splines.

  Ben Bolker

On Fri, 6 Apr 2001, Jos? Ernesto Jardim wrote:

> Hi
>
> Does someone knows if there's a function/package that can make thin
> plate splines ? I've looked in mgcv and splines but I haven't found
> anything.
>
> Thanks
>
> EJ
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Apr  6 17:16:37 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 6 Apr 2001 10:16:37 -0500
Subject: [R] thin plate splines
In-Reply-To: <3ACDD375.A66223E2@ipimar.pt> (message from
	=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim on Fri, 06 Apr 2001 15:32:22
	+0100)
Message-ID: <200104061516.KAA31904@odds.stat.purdue.edu>

   Date: Fri, 06 Apr 2001 15:32:22 +0100
   From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
   Organization: IPIMAR
   X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi

   Does someone knows if there's a function/package that can make thin
   plate splines ? I've looked in mgcv and splines but I haven't found
   anything.

   Thanks

   EJ

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


gss
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Apr  6 18:32:03 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 06 Apr 2001 12:32:03 -0400
Subject: [R] Regression Time Series
References: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats> <3ACDC45F.B56A85AE@ukans.edu>
Message-ID: <3ACDEF83.7237611B@bank-banque-canada.ca>

> In arima0 I find tools to fit AR, MA, and Integrated parts of a single
> time series.  I was curious what you do if you want to do a multivariate
> model. I see people talking about "intervention models" where some
> variable y's been put through an ARIMA filter and then the effect of
> independent variables x1,x2, etc, is assessed.  I think SAS calls these
> things ARIMAX.

The terminology varies considerably and the number of letters gets quite confusing.
X usually means exogenous, which I do not think of as necessarily multivariate, but
some people do. A long time ago I reverted to using ARMA for just about everything
that includes the letters AR and MA. My dse package handles multiple endogenous
variables (y's) and multiple input or conditioning variables (which are often called
exogenous variables, but sometimes are not truly exogenous). Integrating models are
handled but you might need to consider what estimation technique to use. I have not
implemented any integration tests (volunteers?). DSE also handles state space models.
It does not implement time varying models or non-linear models, although it would
provide a valuable framework for anyone who would like to do that.

There should shortly be a new version of dse (dse_2001.4-1.tar.gz) on CRAN and it is
already available on my web site at <http://www.bank-banque-canada.ca/pgilbert>. The
User's Guide is also available at my web site. Relative to the version that has been
on CRAN the past few months this version fixes:

- format problems that left out many parts of the documentation
- maximum likelihood estimation (using optim but not extensively tested)
- and (I hope) problems that prevented it from working in Windows.

If anyone would like to compile and test the last item I would appreciate feedback.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Apr  6 18:41:06 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Fri, 6 Apr 2001 11:41:06 -0500 (CDT)
Subject: [R] collaspe into a name
Message-ID: <200104061641.LAA08446@uhddx01.dt.uh.edu>

Dear R People:

Suppose I have the following:

z <- sample(1:4)

if(z == 1)
	bx <- x1
if(z == 2)
	bx <- x2

and so on.

There is something that I can do (Maybe with paste and assign)
to get
bx <- paste("x",z,sep=""))
#Not right, but this is the example.

R version 1.2.2 for Windows
Could someone please help?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Apr  6 18:52:42 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 6 Apr 2001 09:52:42 -0700 (PDT)
Subject: [R] collaspe into a name
In-Reply-To: <200104061641.LAA08446@uhddx01.dt.uh.edu>
Message-ID: <Pine.A41.4.33.0104060946370.89396-100000@homer01.u.washington.edu>

On Fri, 6 Apr 2001, Erin Hodgess wrote:

> Dear R People:
>
> Suppose I have the following:
>
> z <- sample(1:4)
>
> if(z == 1)
> 	bx <- x1
> if(z == 2)
> 	bx <- x2
>
> and so on.
>
> There is something that I can do (Maybe with paste and assign)
> to get
> bx <- paste("x",z,sep=""))
> #Not right, but this is the example.
>
> R version 1.2.2 for Windows
> Could someone please help?

This sort of question comes up fairly frequently. There are two parts to
the solution
 1. You could do
    bx<-get(paste("x",z,sep=""))

 2. This sort of solution usually means you are asking the wrong question.
It is rare that manipulating R commands as text strings is a good
solution. You would probably be better off with x being a list or array so
you could do eg

     x<-list(x1,x2,x3,x4)
     bx<-x[[z]]



	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Fri Apr  6 20:56:56 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Fri, 06 Apr 2001 08:56:56 -1000
Subject: [R] collaspe into a name
In-Reply-To: <200104061641.LAA08446@uhddx01.dt.uh.edu>
Message-ID: <3.0.5.32.20010406085656.007b7650@gfeeney.com>

What are x1 and x2? Maybe use switch()? Try help(switch). Not completely
clear what you want to do.

At 11:41 AM 4/6/01 -0500, you wrote:
>Dear R People:
>
>Suppose I have the following:
>
>z <- sample(1:4)
>
>if(z == 1)
>	bx <- x1
>if(z == 2)
>	bx <- x2
>
>and so on.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bokil at physics.bell-labs.com  Fri Apr  6 23:58:22 2001
From: bokil at physics.bell-labs.com (Hemant Bokil)
Date: Fri, 6 Apr 2001 17:58:22 -0400 (EDT)
Subject: [R] annoucement of workshop
Message-ID: <Pine.LNX.4.04.10104061751430.1603-100000@rekenaar.science.bell-labs.com>



Hi Folks, 
Here is the announcement of WAND2001  (Workshop for the Analysis
of Neural Data). Applications should be sent to the address 
listed in the announcements. However, please feel free to contact
me for more details, and please circulate the announcement to 
your friends and colleagues.
Cheers, Hemant Bokil
bokil at physics.bell-labs.com
Ph:(908)582-4914

-------------------------------------------------------------------

WORKSHOP ON THE ANALYSIS OF NEURAL DATA

Modern methods and open issues in the analysis and interpretation of
multivariate time series and imaging data in the neurosciences

August 20 -- September 1, 2001
Marine Biological Laboratory, Woodhole, MA

A working group of scientists committed to quantitative approaches to
problems in neuroscience will meet again this summer to focus on 
theoretical and experimental issues related to the analysis of single 
and multichannel data sets.

As in past years, we expect that a distinguishing feature of the work group 
will be a close collaboration between experimentalists and theorists 
with regard to the analysis of data. There will be a limited number of 
research lectures, supplemented by tutorials on relevant computational, 
experimental, and mathematical techniques.

The topics covered will include the analysis of point process data 
(spike trains) as well as continuous processes (LFP, imaging data).  It 
has become clear in recent years that issues relating to the "neural code" 
can be concretely investigated in the context of neural prosthetic devices. 
We are therefore planning two miniworkshops,

(i)    Neuronal control signals for prosthetic devices.
(ii)   Timing issues: departures of spike trains from rate varying Poisson
       processes.

We will also have a third miniworkshop on

(iii)  Statistical inference for fMRI time series

We should be able to accomodate about twenty five participants, both
experimentalists and theorists and encourage graduate students, 
postdoctoral fellows, as well as senior researchers to apply.  
Experimentalists are encouraged to bring data records; appropriate 
computational facilities will be provided.

PARTICIPANT FEE: $300

Participants will be provided with shared accomodations and board.
Support: National Institutes of Health -- NIMH, NIA, NIAAA, NICHD/NCRR, 
	 NIDCD, NIDA and NINDS.


Organizers: Partha P. Mitra (Bell Laboratories, Lucent Technologies),
Emery Brown (Massachusettes General Hospital) and David Kleinfeld
(UCSD)


Website: www.vis.caltech.edu/~WAND

Application: Send a copy of your c.v. together with a cover letter
that contains a brief (ca. 200 word) paragraph on why you wish to
attend the work group to:

Ms. Jean B. Ainge
Bell Laboratories, Lucent Technologies
700 Mountain Avenue 1D-427
Murray Hill, NJ 07974
908-582-4702 (fax) or <jba at bell-labs.com>

Graduate students and postdoctoral fellows are encouraged to
include a brief letter of support from their research advisor.

Applications must be received before  25 May 2001

Participants will be confirmed on or before 1 June 2001


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdm at xnet.com  Sat Apr  7 01:51:13 2001
From: jdm at xnet.com (Jeff Miller)
Date: Fri, 6 Apr 2001 18:51:13 -0500
Subject: [R] symbolic manipulations
Message-ID: <006301c0bef4$774852a0$cee7fea9@x2t9h6>



Hi All,


    I copied code from an Splus manual to take symbolic derivatives:

            my.deriv <- function( mathfunc, var )
                        {
                            tmp <- substitute(mathfunc)
                            name <- deparse(substitute(var))
                            D(tmp,  name)
                          }

        (The code also works in R).


        When I try this on  x^2  I  get

        > my.deriv(x^2,  x)
        2 * x

        Suppose I assign the output of  my.deriv(x^2,  x)  to deriv.xsqr :

        > deriv.xsqr   <-   my.deriv(x^2,   x)
        > deriv.xsqr
        2 * x
        >

        My question is, how do I take the derivative of  deriv.xsqr
        (I want the answer to be 2) ?
        The naive guess

        > my.deriv(deriv.xsqr,  x)
        [1] 0

        is obviously wrong.

        I suspect that, to get the derivative I'm looking for, I need to
pass
        something like deparse(deriv.xsqr) into my.deriv, but this doesn't
work
        either.


        Thanks in advance,

                Jeff Miller














-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr  7 02:12:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Apr 2001 02:12:03 +0200
Subject: [R] symbolic manipulations
In-Reply-To: "Jeff Miller"'s message of "Fri, 6 Apr 2001 18:51:13 -0500"
References: <006301c0bef4$774852a0$cee7fea9@x2t9h6>
Message-ID: <x2ae5t7elo.fsf@blueberry.kubism.ku.dk>

"Jeff Miller" <jdm at xnet.com> writes:

>         > deriv.xsqr   <-   my.deriv(x^2,   x)
>         > deriv.xsqr
>         2 * x
>         >
> 
>         My question is, how do I take the derivative of  deriv.xsqr
>         (I want the answer to be 2) ?
>         The naive guess
> 
>         > my.deriv(deriv.xsqr,  x)
>         [1] 0
> 
>         is obviously wrong.
> 
>         I suspect that, to get the derivative I'm looking for, I need to
> pass
>         something like deparse(deriv.xsqr) into my.deriv, but this doesn't
> work
>         either.

I think the cleanest way is

> eval(substitute(my.deriv(f,x),list(f=deriv.xsqr)))
[1] 2


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Apr  7 02:07:29 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 6 Apr 2001 17:07:29 -0700 (PDT)
Subject: [R] symbolic manipulations
In-Reply-To: <006301c0bef4$774852a0$cee7fea9@x2t9h6>
Message-ID: <Pine.A41.4.33.0104061701460.89396-100000@homer01.u.washington.edu>

On Fri, 6 Apr 2001, Jeff Miller wrote:

>
>
> Hi All,
>
>
>     I copied code from an Splus manual to take symbolic derivatives:
>
>             my.deriv <- function( mathfunc, var )
>                         {
>                             tmp <- substitute(mathfunc)
>                             name <- deparse(substitute(var))
>                             D(tmp,  name)
>                           }
>
>         (The code also works in R).
>
>
>         When I try this on  x^2  I  get
>
>         > my.deriv(x^2,  x)
>         2 * x
>
>         Suppose I assign the output of  my.deriv(x^2,  x)  to deriv.xsqr :
>
>         > deriv.xsqr   <-   my.deriv(x^2,   x)
>         > deriv.xsqr
>         2 * x
>         >
>
>         My question is, how do I take the derivative of  deriv.xsqr
>         (I want the answer to be 2) ?

FAQ 7.6 explains that this is precisely why the D() function doesn't work
like my.deriv().

You can do it with
R> eval(substitute(my.deriv(expr,x),list(expr=deriv.xsqr)))
 [1] 2

but this is making life unnecessarily difficult for yourself.

R> D(D(expression(x^2),"x"),"x")
 [1] 2

is easier

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syed at saudionline.com.sa  Sat Apr  7 05:11:42 2001
From: syed at saudionline.com.sa (syed gillani)
Date: Sat, 7 Apr 2001 06:11:42 +0300
Subject: [R] Hypothesis test
References: <3ACDC636.8246F49A@cbs.dtu.dk>
Message-ID: <009f01c0bf10$95c0db00$a911eed5@syedgillani>

Hello,

Is it reasonable to run a test of significance regarding a proportion in a
group versus that in the whole population?
What kind of problems can one face in analysis?

Thanks.

syed


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drhosini at hotmail.com  Sat Apr  7 08:33:16 2001
From: drhosini at hotmail.com (Moustafa ElHousinie)
Date: Sat, 07 Apr 2001 06:33:16 -0000
Subject: [R] Hypothesis test
Message-ID: <F166e2Qw4hVJbrzvsTD00000997@hotmail.com>

Dear colleague:

Actually that is what is done.

When using the z-test between proportions in two different groups, or using 
chi-squared to test the null hypothesis of equal proportions of two or more 
groups, the null hypothesis is that

H0: p1=p2=p3.....=p

where this p is the pooled proportion, the proportion in the summed groups = 
n1+n2+n3+..../N1+N2+N3....

in the z-test between two proportions, p1 and p2 are put in the numerator 
(p1-p2) while the pooled p is used in the denominator as part of Standard 
error of the difference.  If you thisk in putting the numerator as p1-p(the 
pooled p) there will be a problem of dependence as p(the pooled p) will 
change as p1 changes.

Mostafa



>From: "syed gillani" <syed at saudionline.com.sa>
>To: <r-help at stat.math.ethz.ch>
>Subject: [R] Hypothesis test
>Date: Sat, 7 Apr 2001 06:11:42 +0300
>
>Hello,
>
>Is it reasonable to run a test of significance regarding a proportion in a
>group versus that in the whole population?
>What kind of problems can one face in analysis?
>
>Thanks.
>
>syed
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loesljrg at accucom.net  Sat Apr  7 13:08:25 2001
From: loesljrg at accucom.net (JRG)
Date: Sat, 7 Apr 2001 07:08:25 -0400
Subject: [R] Hypothesis test
In-Reply-To: <F166e2Qw4hVJbrzvsTD00000997@hotmail.com>
Message-ID: <B0011349699@imail.aiusa.com>

From:           	"Moustafa ElHousinie" <drhosini at hotmail.com>
To:             	r-help at stat.math.ethz.ch
Copies to:      	syed at saudionline.com.sa
Subject:        	Re: [R] Hypothesis test
Date sent:      	Sat, 07 Apr 2001 06:33:16 -0000

> Dear colleague:
> 
> Actually that is what is done.
> 
> When using the z-test between proportions in two different groups, or using 
> chi-squared to test the null hypothesis of equal proportions of two or more 
> groups, the null hypothesis is that
> 
> H0: p1=p2=p3.....=p
> 

	<<SNIP>>
> Mostafa
> 

Ahem.  I believe this is not the question originally posed:
> 
> 
> >From: "syed gillani" <syed at saudionline.com.sa>
> >To: <r-help at stat.math.ethz.ch>
> >Subject: [R] Hypothesis test
> >Date: Sat, 7 Apr 2001 06:11:42 +0300
> >
> >Hello,
> >
> >Is it reasonable to run a test of significance regarding a proportion in a
> >group versus that in the whole population?
> >What kind of problems can one face in analysis?


That would seem to be:  How do I test Ho: p = p0 for some fixed 
value of p0, given an observed proportion p-hat (based on a 
sample of size n)?

Answer:  Calculate a p-value directly from the binomial distribution 
B(n, p0) or, if min(n*p0, n*(1-p0)) is not too small, use the normal 
approximation based on

	z = (p-hat - p0) / sqrt(p0*(1-p0)/n)

To that z you may or may not want to add a continuity correction, 
depending on your position on that particular issue.

Both tests assume that n is small compared to the population size,  
are standard fare in intro textbooks, and easily calculated from R's 
command line.

---JRG



John R. Gleason

Syracuse University
430 Huntington Hall                      Voice:   315-443-3107
Syracuse, NY 13244-2340  USA             FAX:     315-443-4085

PGP public key at keyservers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Sat Apr  7 13:49:51 2001
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Sat, 7 Apr 2001 08:49:51 -0300 (EST)
Subject: [R] Ox (was: Using Gauss with R)
Message-ID: <Pine.GSO.3.96.1010407084053.5245A-100000@bernoulli>

I'll be even more tangent. Those interested in Ox, see 

   http://www.de.ufpe.br/~cribari/ox.pdf

Cheers, Francisco.

Date: Fri, 6 Apr 2001 09:34:19 +0100 (BST)
From: Bill Simpson <wsi at gcal.ac.uk>
Subject: Re: [R] Using Gauss with R

This is a tangent to your question.

The economist Jurgen Doornik has written a language called Ox:
http://www.nuff.ox.ac.uk/Users/Doornik/doc/ox/ox.htm
It obviously caters to econometricians. The unix version is free.

I did use it at one time before R was really rolling. I used it for MLE
because I think at that time there was no nlm() routine in R yet!  Ox
seemed fine though had no graphics.

Anyway I am mentioning this in case Ox is similar to Gauss. I know that Ox
is C-like, maybe Gauss is too, and so maybe not too hard to port Gauss
progs to Ox.

Bill Simpson


--
Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.de.ufpe.br/~cribari

     Asymptotics is the art of knowing where to be sloppy 
     and where to be precise. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sat Apr  7 15:14:06 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Sat, 7 Apr 2001 06:14:06 -0700 (PDT)
Subject: [R] RODBC partial success
In-Reply-To: <B0011349699@imail.aiusa.com>
Message-ID: <Pine.LNX.4.31.0104070554270.23948-100000@shell1.aracnet.com>

I finally managed to get R 1.2.2 on my Windows 2000 system to communicate with
a database on the same system with RODBC! For those of you who are not
Windows users, there are three types of data set names you can set up: user
DSNs, which can only be accessed by the user that defined them on the same
system, system DSNs, which can be accessed by any user on the same system, and
file DSNs, which supposedly can be accessed by other users. I have been able to
connect to both user and system DSNs using "odbcConnect" with just the DSN as
an argument, but I have not been able to find a combination of arguments that
works for file DSNs.

So my question is whether this is a bug in RODBC or if there actually is a way
to connect to a file DSN with "odbcConnect". For what I'm doing on my home
system, user and system DSNs are fine, but I use file DSNs more or less
exclusively at work, since most of the databases there are MS Access. Actually,
I am treating them as shared files -- the Access database will reside in a
shared partition on our team server (Windows 2000) and the ODBC file DSN
resides on my workstation (also Windows 2000). The one piece I haven't tried
is defining a user or system DSN on my workstation and pointing it to the
shared Access database. If *that* works I don't really need RODBC to work with
file DSNs, although it would be nice. Anybody out there been down this path??
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Never play leapfrog with a unicorn.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr  7 16:56:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 7 Apr 2001 15:56:18 +0100 (GMT Daylight Time)
Subject: [R] RODBC partial success
In-Reply-To: <Pine.LNX.4.31.0104070554270.23948-100000@shell1.aracnet.com>
Message-ID: <Pine.WNT.4.31.0104071540510.285-100000@tern.stats>

On Sat, 7 Apr 2001, M. Edward (Ed) Borasky wrote:

> I finally managed to get R 1.2.2 on my Windows 2000 system to communicate with
> a database on the same system with RODBC!

And what so hard about it?

> For those of you who are not
> Windows users, there are three types of data set names you can set up: user
> DSNs, which can only be accessed by the user that defined them on the same
> system, system DSNs, which can be accessed by any user on the same system, and
> file DSNs, which supposedly can be accessed by other users. I have been able to
> connect to both user and system DSNs using "odbcConnect" with just the DSN as
> an argument, but I have not been able to find a combination of arguments that
> works for file DSNs.
>
> So my question is whether this is a bug in RODBC or if there actually is a way
> to connect to a file DSN with "odbcConnect". For what I'm doing on my home

Have you read the help page?  It says the argument should be a `registered
data source name'.  Is a file DSN a `registered data source name'?  Not to
my understanding.

As far as I understand it file DSNs are not supported, although it would be
easy for someone who wanted them to contribute the code needed.  You just
need to call SQLDriverConnect rather than SQLConnect, as I read it.

Please read the definition of `BUG' in the FAQ.

> system, user and system DSNs are fine, but I use file DSNs more or less
> exclusively at work, since most of the databases there are MS Access. Actually,
> I am treating them as shared files -- the Access database will reside in a
> shared partition on our team server (Windows 2000) and the ODBC file DSN
> resides on my workstation (also Windows 2000). The one piece I haven't tried
> is defining a user or system DSN on my workstation and pointing it to the
> shared Access database. If *that* works I don't really need RODBC to work with
> file DSNs, although it would be nice. Anybody out there been down this path??

That works for me, although it may depend how the sharing is done.  As for
our average users all writable file systems are on central servers, they
have to do it that way.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Apr  7 14:47:39 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 14:47:39 +0200
Subject: [R] Still need help w/ making a table
In-Reply-To: <Pine.LNX.4.21.0104031125010.13603-100000@nujoma.perrins>
References: <Pine.LNX.4.21.0104031125010.13603-100000@nujoma.perrins>
Message-ID: <15055.3179.25393.789439@mithrandir.hornik.net>

>>>>> Andrew Perrin writes:

> Greetings again. I'm still trying to coerce a pile of data into a
> frequency table format.  I've managed to do so using perl, so I now have a
> tab-delimited file that contains the contingency table I'm trying to use:

> Group  var1  var2  ...  varn
>   B     42   11          3
>   C     44   1           12
> ...
>   X     12   0           19

> I can read the table in using read.table(), but I end up with a data
> frame, and when I try to use as.table() it says: Error in
> as.table.default(df) : cannot coerce into a table

> What I need is a table object upon which I can perform a chi-square
> analysis.

> Any help will be very much appreciated!

I am not sure about the above ``contingency'' table (does var_i mean
that the corresponding column holds the counts for variable i or do the
columns correspond to levels?).  In any case, pls have a look at the
documentation for xtabs and read.ftable.  The latter is meant for
reading in contingency tables in various ``flat'' formats.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Apr  7 20:04:51 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 07 Apr 2001 14:04:51 -0400
Subject: [R] A programming puzzler
Message-ID: <3ACF56C3.52742F12@virginia.edu>

I am trying to replicate part of the function of the
S-Plus terms.inner function.  I don't need an entire
model terms object but R expressions or character
strings containing the innermost variable name given
a vector of character strings or expressions.  Here
are some example inputs that each should result in the
string or expression "x":

x; x^2; g(x); h(g(x)); h(g(x^3)); j(h(g(pmin(x,3))))
h(g(x)+g(y))

To anyone who meets the challenge, thanks!

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poohtest at yahoo.com  Sat Apr  7 20:12:26 2001
From: poohtest at yahoo.com (pooh rondstr)
Date: Sat, 7 Apr 2001 11:12:26 -0700 (PDT)
Subject: [R] S-PLUS and/or R basic course
Message-ID: <20010407181226.25726.qmail@web12005.mail.yahoo.com>

Hello,

Our manager would like a few of us to attend S-PLUS
and/or R basic course.

Has anyone attended both? (private or public) What 
are the differences cost/content? We are also
wondering if there are R courses scheduled for 
the next coming months?

Can anyone help?

Pooh

 

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Sat Apr  7 20:49:05 2001
From: jyan at stat.wisc.edu (Jun Yan)
Date: Sat, 7 Apr 2001 13:49:05 -0500 (CDT)
Subject: [R] using gee
In-Reply-To: <15049.17654.295002.202847@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.3.96L.1010407133049.1855B-100000@gstat04.stat.wisc.edu>

I have this trial function to use gee,

trygee <- function (x, id) {
  y <- x + rnorm(length(x))
  dat <- data.frame(x=x, y=y, id=id)
  foo <- gee(y ~ x, id, data=dat)
  foo$coeffcients
}

> trygee(rnorm(100), id = 1:100)
Error in model.frame.default(formula = y ~ x, id = id, data = dat) : 
	Object "dat" not found

Since I want to use gee within a function to be called again and again,
what's the proper way to do this?  Thanks.

Jun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Sat Apr  7 21:44:45 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Sat, 07 Apr 2001 21:44:45 +0200
Subject: [R] NA's values and ts
In-Reply-To: <Pine.LNX.4.31.0104061259210.16943-100000@gannet.stats>
References: <3.0.6.32.20010406135601.0079d5c0@pop.hsoft.es>
Message-ID: <3.0.6.32.20010407214445.007a0110@pop.hsoft.es>

Hi,

>You can't do much, but try reading the help page for na.omit.ts (not
>na.omit) and see also (the same page)

I've done, and nothing

>
>?na.contiguous

Doesn't work

>You can't handle that at all well.  R's code is not set up to handle
>time series with many missing values.  Find a package that does (and most
>that I know of do not).

In variable 'rain' I have 7 NA values, are them too much?. And if so, which
would be a plausible approach to this kind of time series data?

Thanks,

Cheers

Antonio



Antonio Rodr?guez Verdugo
CICEM Agua del Pino
Huelva
Oceanography and Coastal Resources,
PhD Program, 
University of Huelva
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Sat Apr  7 23:42:20 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Sat, 07 Apr 2001 23:42:20 +0200
Subject: [R] more about ts and NA's
Message-ID: <3.0.6.32.20010407234220.0079a720@pop.hsoft.es>

Hi,

I've seen that handle missing values makes difficult to manage data series
within R. I've look at Shumway's program (ASTSA) and Brockwell & Davis
pogram (ITSM), it seems that both handle NA's values without problem, or
maybe, I'm getting an spurious results? 

My problem is with two variables: rain and river flow: the first has 7 NA
values (is to say, seven months, non contiguous) and the later, 12
contiguous NA values (half of one year and half from the other).

Do you think that the action of erasing those monthly values would be
crucial for the analysis or I just can throw them away (I have monthly data
since 1984 onwards).

Thanks,

Antonio
Antonio Rodr?guez Verdugo
CICEM Agua del Pino
Huelva
Oceanography and Coastal Resources,
PhD Program, 
University of Huelva
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sun Apr  8 01:20:55 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Sat, 7 Apr 2001 16:20:55 -0700 (PDT)
Subject: [R] RODBC partial success
In-Reply-To: <Pine.WNT.4.31.0104071540510.285-100000@tern.stats>
Message-ID: <Pine.LNX.4.31.0104071603270.31307-100000@shell1.aracnet.com>

On Sat, 7 Apr 2001, Prof Brian D Ripley wrote:

> On Sat, 7 Apr 2001, M. Edward (Ed) Borasky wrote:
>
> > I finally managed to get R 1.2.2 on my Windows 2000 system to communicate with
> > a database on the same system with RODBC!
>
> And what so hard about it?

To make a long story short, I have been using ODBC in the environment I describe
later in the original post for about a year. I started using file DSNs as
opposed to the other two types because the Microsoft help facility steers the
beginner in that direction by implying that they are the most flexible of the
three. Since they worked for Excel, Access and Minitab, I expected them to work
for R. So when I first started trying RODBC, I assumed that I was typing
something wrong rather than that there was something inferior about file DSNs.

> Have you read the help page?  It says the argument should be a `registered
> data source name'.  Is a file DSN a `registered data source name'?  Not to
> my understanding.

I don't draw distinctions that fine; I'm a software engineer, not an attorney.
:-) As far as I'm concerned, Microsoft considers a file DSN to be a DSN.

> As far as I understand it file DSNs are not supported, although it would be
> easy for someone who wanted them to contribute the code needed.  You just
> need to call SQLDriverConnect rather than SQLConnect, as I read it.

The documentation says nothing about this issue. I don't have much of the
Microsoft documentation available, and what I do have is virtually unreadable
except by people who have spent many years digging into the rather unique
programming style that Windows uses. While this is not a forum for anti-
Microsoft rants, let me just say that I've been in scientific computing for
nearly 40 years now and I can't recall a single example of worse documentation
than that produced by Microsoft. Producing readable books about the Windows
environment is a multi-million dollar industry as a result.

--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

What is it about

 @replace(@string(@log(10000)*@atan(1),9),0,0, at char(112)&@char(105)&@char(61))

that you don't understand?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Apr  8 09:48:06 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Sun, 8 Apr 2001 19:48:06 +1200
Subject: [R] Random Number Testing...
Message-ID: <000901c0c000$47170d80$272537d2@kokangwang>

Hi,

Suppose I want to test a set of random numbers (using the Binormal random
number generator), input the following command to generate a set of random
numbers:
     test <- rbinom( 10000000, 1, 0.5 )

How can I, after obtaining the result, export the vector "test" into an text
file?

Then, suppose I want to do something like:
     > x <- 1e10
     > x
     [1] 1e+10
     > test <- rbinom( x, 1, 0.5 )
     Error in rbinom(n, size, prob) : invalid arguments

Why would I get the error message given that x is a number?

Thanks,

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr  8 10:33:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 8 Apr 2001 09:33:18 +0100 (BST)
Subject: [R] Random Number Testing...
In-Reply-To: <000901c0c000$47170d80$272537d2@kokangwang>
Message-ID: <Pine.GSO.4.31.0104080931410.15735-100000@auk.stats>

On Sun, 8 Apr 2001 Ko-Kang at xtra.co.nz wrote:

> Hi,
>
> Suppose I want to test a set of random numbers (using the Binormal random
> number generator), input the following command to generate a set of random
> numbers:
>      test <- rbinom( 10000000, 1, 0.5 )
>
> How can I, after obtaining the result, export the vector "test" into an text
> file?

?write  or see the R Data Import/Export manual.  Do do this in smaller
pieces, though, using connections to keep the file open.


> Then, suppose I want to do something like:
>      > x <- 1e10
>      > x
>      [1] 1e+10
>      > test <- rbinom( x, 1, 0.5 )
>      Error in rbinom(n, size, prob) : invalid arguments
>
> Why would I get the error message given that x is a number?

Assuming you have a 32-bit machine, you can't allocate storage for 10
billion random numbers, and I think you also have an integer overflow
problem (10 billion is bigger than 2^32).  In either case, n is invalid.

I don't get that error message but

> test <- rbinom( x, 1, 0.5 )
Error: cannot allocate vector of size 4194303 Kb

on Solaris.  On i686 Linux I get what you reported.  Probably asInteger
behaves differently, as it just takes (int) on a double, and I don't
think the behaviour of that when the double is out of range is prescribed
in the C standard.

Finally, if you could get 10billion numbers out, testing them is not really
fair as that's far more than one could reasonably use in an R simulation.
(Quick sanity check: they would take a week or so just to generate on a
1GHz machine.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr  9 01:53:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 8 Apr 2001 16:53:35 -0700 (PDT)
Subject: [R] using gee
In-Reply-To: <Pine.LNX.3.96L.1010407133049.1855B-100000@gstat04.stat.wisc.edu>
Message-ID: <Pine.A41.4.33.0104081651420.64532-100000@homer32.u.washington.edu>

On Sat, 7 Apr 2001, Jun Yan wrote:

> I have this trial function to use gee,
>
> trygee <- function (x, id) {
>   y <- x + rnorm(length(x))
>   dat <- data.frame(x=x, y=y, id=id)
>   foo <- gee(y ~ x, id, data=dat)
>   foo$coeffcients
> }
>
> > trygee(rnorm(100), id = 1:100)
> Error in model.frame.default(formula = y ~ x, id = id, data = dat) :
> 	Object "dat" not found
>
> Since I want to use gee within a function to be called again and again,
> what's the proper way to do this?  Thanks.


It's a bug. Near the top of the gee() function there is the line
    m<-eval(m,sys.parent())
This needs to be changed to
    m<-eval(m,sys.frame(sys.parent()))


	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr  9 01:57:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 8 Apr 2001 16:57:48 -0700 (PDT)
Subject: [R] A programming puzzler
In-Reply-To: <3ACF56C3.52742F12@virginia.edu>
Message-ID: <Pine.A41.4.33.0104081655020.64532-100000@homer32.u.washington.edu>

On Sat, 7 Apr 2001 fharrell at virginia.edu wrote:

> I am trying to replicate part of the function of the
> S-Plus terms.inner function.  I don't need an entire
> model terms object but R expressions or character
> strings containing the innermost variable name given
> a vector of character strings or expressions.  Here
> are some example inputs that each should result in the
> string or expression "x":
>
> x; x^2; g(x); h(g(x)); h(g(x^3)); j(h(g(pmin(x,3))))
> h(g(x)+g(y))
>
> To anyone who meets the challenge, thanks!


You're looking for all.vars(). It works on a formula, terms, or expression
object.

eg
> all.vars((~j(pmin(3,g(h(x^3*y))))))
[1] "x" "y"

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Apr  9 03:40:05 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sun, 08 Apr 2001 21:40:05 -0400
Subject: [R] A programming puzzler
Message-ID: <3AD112F5.B86CF0C6@virginia.edu>

Thanks to Robert Gentleman and Thomas Lumley who pointed
out the all.vars function does exactly what I need already.
-Frank Harrell
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alistair.Merrifield at med.govt.nz  Mon Apr  9 03:58:31 2001
From: Alistair.Merrifield at med.govt.nz (Alistair Merrifield)
Date: Mon, 9 Apr 2001 13:58:31 +1200 
Subject: [R] Julian dates
Message-ID: <01Apr9.135916nzst.119048@wnaux05.moc.govt.nz>

I am using the "chron" package. Can anyone tell me if there is a simple way
to convert a date object (obtained from the "dates" function) into a julian
date (using the "julian" function)?

Thanks, Al.

Al Merrifield

Energy Analyst
Energy Modelling & Statistics
Ministry of Economic Development
PO Box 1473
Wellington
NEW ZEALAND

Phone: (04) 470 2338
Fax:     (04) 473 9930
E-mail: Alistair.Merrifield at med.govt.nz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Mon Apr  9 04:46:37 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Sun, 8 Apr 2001 19:46:37 -0700 (PDT)
Subject: [R] fastest R platform
Message-ID: <20010409024637.6384.qmail@web10501.mail.yahoo.com>

Hello, everyone! I picked up R several months ago and have adopted it
as my choice for statistical programming. Coming from a Java
background, I can honestly say that R is not only free, it is better
tha S-plus: the lexical scope in R makes it very simple to simulate
Java's object model. For this, I encourage everyone to read the artcle:

Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
Computing", Journal of Computational and Graphical Statistics, 9,
491-508. 

I have coded a simulation program which runs at 1/5 the speed of
minimum usability on a Pentium 700 PC (windows me). I have spent quite
some time trying to optimize the program. So my question is: on which
platform does R run the fastest? I would be willing to invest on a
faster platform. Thanks in advance.

My program follows in case someone can help me improve it.

Thanks.

Jason

# Liao and Lipsitz (2001)
# A REML type estimate of variance components in generalized linear
mixed models
# This program runs on R. It does not run on S-plus.

  rm(list=ls(all=TRUE))
  
 ###small and common functions##################################
  glmm.sample.y <- function(x, z, b, D.u)
  {
    pp <- matrix(0, nrow = m, ncol = n);
    D.u.half <- t( chol(D.u) );
    zero <- numeric(n.random);
    
    for(i in 1:m)
    {
      obj <- rmulti.norm(zero, D.u.half);    
      pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );  
    }   
    pp <- exp(pp)/( 1+exp(pp) );    
        
    y <- runif(m*n);
    dim(y) <- c(m, n);  
    ifelse(y < pp, 1, 0);    #returning vector  
  }
################
  rmulti.norm <- function(mean, var.half)
  {    
     ran <- rnorm( length(mean) );
     log.prob <-  -sum(ran*ran)/2;
     
     ran <- mean + as.vector( var.half %*% ran );   
     return(ran, log.prob);   
  }  
  #################   
   my.outer <- function(x) #this is much faster than R's outer()
function
   {
      dim(x) <- c(length(x), 1);
      x %*% t(x);    
   }
   
   quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
   

#######################################################################
 
  REML.b.D.u <- function(b, D.u, y, x, z)
  {
     TT <- matrix(0, n.random, n.random);
     for(i in 1:30)
     {             
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;         
       
        yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
        obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
mle of b
       
        TT <-  TT*(1-1/i) + obj$uu.diff/i;     
        D.u <- D.u + TT;
        print(i); print(date());
        print("inside REML");
        print(D.u);print("TT"); print(TT);
     } 
     
      return(b, D.u);
  }
  mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
  {    
     for(i in 1:30)
     { 
       obj <- sample.u(b, D.u, x, y, z);      
       b <- b - solve(obj$Hessian, obj$score); 
       if(i==1) uu.first <- obj$uu;  
     }    
    
     uu.diff <- uu.first - obj$uu;
     return(b, uu=obj$uu, uu.diff);
  }
    
    mle.b.D.u <- function(b, D.u, y, x, z)
    {  
      for(i in 1:30)
      {        
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;  
      }         
      return(b, D.u);
     }
    
   sample.u <- function(b, D.u, x, y, z)
   {                 
     D.u.inv <- solve(D.u);
     
     uu <- matrix(0, n.random, n.random);
     score <- numeric(n.fixed);
     Hessian <- matrix(0, n.fixed, n.fixed);
   
     for(i in 1:m) 
     { 
       obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
                            x[i, ,], y[i,], z[i, ,]);
       uu <- uu + obj$uu;
       score <- score + obj$score;
       Hessian <- Hessian + obj$Hessian;
     }

     uu <- uu/m;
     return(uu, score, Hessian);     
  } 
 
   sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
z for one subject only 
   {          
      func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
maximized
      obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
                  
      obj <- optim(obj$par, func, method = c("BFGS"),
control=list(fnscale=-1), hessian = T )                
                                                
      mean <- obj$par;      
      var.half <-  solve(-obj$hessian)*1.2;    
      var.half <- t( chol(var.half) );        
          
      n.simu <- 1000  #sample size of importance sampling
      
      sum.weight <- 0;    
      uu <- matrix(0, n.random, n.random);  
      pi <- numeric(n);
      product <- numeric(n);
           
      func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);    
      for(i in 1:n.simu)
      {
        obj1 <- rmulti.norm(mean, var.half);
        obj2 <- func(obj1$ran); 
        weight <- exp(obj2$log.likelihood - obj1$log.prob);
        
        uu <- uu + my.outer(obj1$ran) * weight;     
        pi <- pi + obj2$pi * weight;  
        product <- product + obj2$pi*(1-obj2$pi) * weight; 
                
        sum.weight <- sum.weight + weight;  
      }
         
      uu <- uu/sum.weight;
      pi <- pi/sum.weight;
      product <- product/sum.weight; 
      
      score <- as.vector( (y - pi) %*% x );   
      Hessian <- -t(x) %*% diag(product) %*% x;    
      
      return(uu, score, Hessian);
    } 
     
      one.log.like <- function(D.u.inv, ada.part, y, z)
      { 
        function(u)
        {
          pp <- exp(  ada.part + as.vector( z %*% u )  );
          pp <- pp/(1+pp);             
          -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
y)*log(1-pp) );  
        }  
     }
     
    one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
    {
       function(u)
       {
         pi <- exp(  ada.part + as.vector( z %*% u )  );
         pi <- pi/(1 + pi);           
         log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
y*log(pi) + (1-y)*log(1-pi) ); 
                
         return(pi, log.likelihood);
       }
     }    
 
  main <- function()
  {
    b <- c(.5 , 1, -1, -.5);
    if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
    D.u <- c(.5, 0, 0, .25); 
    D.u <- matrix(D.u, nrow=2);  

    x <- array(0, c(m, n, n.fixed) );  
    x[, , 1] <- 1;
  
    for(j in 1:n) x[, j, 2] <- j-5;  
    x[1:trunc(m/2), , 3] <- 0;
    x[trunc(m/2+1):m, , 3] <- 1;

    x[, , 4] <- x[, , 2]*x[, , 3];  
    if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
  
    z <- x[, , 1:2];      

    for(i in 1:50)
    {    
      y <- glmm.sample.y(x, z, b, D.u); 
      
      obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u); 
 
      write(obj$D.u, file = "simu1.dat", append=T);  
      
      obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
print(obj$D.u);            
      write(obj$D.u, file = "simu2.dat", append=T);  
    } 
  }     
###################################################
#global variable m, n, n.fixed, n.random
  
  n <- 10;
  m <- 25;

  n.fixed <- 4;
  n.random <- 2;
 
  main();
  print(date());




=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Mon Apr  9 04:46:14 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Sun, 8 Apr 2001 19:46:14 -0700 (PDT)
Subject: [R] fastest R platform
Message-ID: <20010409024614.58443.qmail@web10505.mail.yahoo.com>

Hello, everyone! I picked up R several months ago and have adopted it
as my choice for statistical programming. Coming from a Java
background, I can honestly say that R is not only free, it is better
tha S-plus: the lexical scope in R makes it very simple to simulate
Java's object model. For this, I encourage everyone to read the artcle:

Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
Computing", Journal of Computational and Graphical Statistics, 9,
491-508. 

I have coded a simulation program which runs at 1/5 the speed of
minimum usability on a Pentium 700 PC (windows me). I have spent quite
some time trying to optimize the program. So my question is: on which
platform does R run the fastest? I would be willing to invest on a
faster platform. Thanks in advance.

My program follows in case someone can help me improve it.

Thanks.

Jason

# Liao and Lipsitz (2001)
# A REML type estimate of variance components in generalized linear
mixed models
# This program runs on R. It does not run on S-plus.

  rm(list=ls(all=TRUE))
  
 ###small and common functions##################################
  glmm.sample.y <- function(x, z, b, D.u)
  {
    pp <- matrix(0, nrow = m, ncol = n);
    D.u.half <- t( chol(D.u) );
    zero <- numeric(n.random);
    
    for(i in 1:m)
    {
      obj <- rmulti.norm(zero, D.u.half);    
      pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );  
    }   
    pp <- exp(pp)/( 1+exp(pp) );    
        
    y <- runif(m*n);
    dim(y) <- c(m, n);  
    ifelse(y < pp, 1, 0);    #returning vector  
  }
################
  rmulti.norm <- function(mean, var.half)
  {    
     ran <- rnorm( length(mean) );
     log.prob <-  -sum(ran*ran)/2;
     
     ran <- mean + as.vector( var.half %*% ran );   
     return(ran, log.prob);   
  }  
  #################   
   my.outer <- function(x) #this is much faster than R's outer()
function
   {
      dim(x) <- c(length(x), 1);
      x %*% t(x);    
   }
   
   quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
   

#######################################################################
 
  REML.b.D.u <- function(b, D.u, y, x, z)
  {
     TT <- matrix(0, n.random, n.random);
     for(i in 1:30)
     {             
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;         
       
        yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
        obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
mle of b
       
        TT <-  TT*(1-1/i) + obj$uu.diff/i;     
        D.u <- D.u + TT;
        print(i); print(date());
        print("inside REML");
        print(D.u);print("TT"); print(TT);
     } 
     
      return(b, D.u);
  }
  mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
  {    
     for(i in 1:30)
     { 
       obj <- sample.u(b, D.u, x, y, z);      
       b <- b - solve(obj$Hessian, obj$score); 
       if(i==1) uu.first <- obj$uu;  
     }    
    
     uu.diff <- uu.first - obj$uu;
     return(b, uu=obj$uu, uu.diff);
  }
    
    mle.b.D.u <- function(b, D.u, y, x, z)
    {  
      for(i in 1:30)
      {        
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;  
      }         
      return(b, D.u);
     }
    
   sample.u <- function(b, D.u, x, y, z)
   {                 
     D.u.inv <- solve(D.u);
     
     uu <- matrix(0, n.random, n.random);
     score <- numeric(n.fixed);
     Hessian <- matrix(0, n.fixed, n.fixed);
   
     for(i in 1:m) 
     { 
       obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
                            x[i, ,], y[i,], z[i, ,]);
       uu <- uu + obj$uu;
       score <- score + obj$score;
       Hessian <- Hessian + obj$Hessian;
     }

     uu <- uu/m;
     return(uu, score, Hessian);     
  } 
 
   sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
z for one subject only 
   {          
      func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
maximized
      obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
                  
      obj <- optim(obj$par, func, method = c("BFGS"),
control=list(fnscale=-1), hessian = T )                
                                                
      mean <- obj$par;      
      var.half <-  solve(-obj$hessian)*1.2;    
      var.half <- t( chol(var.half) );        
          
      n.simu <- 1000  #sample size of importance sampling
      
      sum.weight <- 0;    
      uu <- matrix(0, n.random, n.random);  
      pi <- numeric(n);
      product <- numeric(n);
           
      func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);    
      for(i in 1:n.simu)
      {
        obj1 <- rmulti.norm(mean, var.half);
        obj2 <- func(obj1$ran); 
        weight <- exp(obj2$log.likelihood - obj1$log.prob);
        
        uu <- uu + my.outer(obj1$ran) * weight;     
        pi <- pi + obj2$pi * weight;  
        product <- product + obj2$pi*(1-obj2$pi) * weight; 
                
        sum.weight <- sum.weight + weight;  
      }
         
      uu <- uu/sum.weight;
      pi <- pi/sum.weight;
      product <- product/sum.weight; 
      
      score <- as.vector( (y - pi) %*% x );   
      Hessian <- -t(x) %*% diag(product) %*% x;    
      
      return(uu, score, Hessian);
    } 
     
      one.log.like <- function(D.u.inv, ada.part, y, z)
      { 
        function(u)
        {
          pp <- exp(  ada.part + as.vector( z %*% u )  );
          pp <- pp/(1+pp);             
          -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
y)*log(1-pp) );  
        }  
     }
     
    one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
    {
       function(u)
       {
         pi <- exp(  ada.part + as.vector( z %*% u )  );
         pi <- pi/(1 + pi);           
         log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
y*log(pi) + (1-y)*log(1-pi) ); 
                
         return(pi, log.likelihood);
       }
     }    
 
  main <- function()
  {
    b <- c(.5 , 1, -1, -.5);
    if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
    D.u <- c(.5, 0, 0, .25); 
    D.u <- matrix(D.u, nrow=2);  

    x <- array(0, c(m, n, n.fixed) );  
    x[, , 1] <- 1;
  
    for(j in 1:n) x[, j, 2] <- j-5;  
    x[1:trunc(m/2), , 3] <- 0;
    x[trunc(m/2+1):m, , 3] <- 1;

    x[, , 4] <- x[, , 2]*x[, , 3];  
    if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
  
    z <- x[, , 1:2];      

    for(i in 1:50)
    {    
      y <- glmm.sample.y(x, z, b, D.u); 
      
      obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u); 
 
      write(obj$D.u, file = "simu1.dat", append=T);  
      
      obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
print(obj$D.u);            
      write(obj$D.u, file = "simu2.dat", append=T);  
    } 
  }     
###################################################
#global variable m, n, n.fixed, n.random
  
  n <- 10;
  m <- 25;

  n.fixed <- 4;
  n.random <- 2;
 
  main();
  print(date());




=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Mon Apr  9 04:47:53 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Sun, 8 Apr 2001 19:47:53 -0700 (PDT)
Subject: [R] fastest R platform
Message-ID: <20010409024753.8096.qmail@web10504.mail.yahoo.com>

Hello, everyone! I picked up R several months ago and have adopted it
as my choice for statistical programming. Coming from a Java
background, I can honestly say that R is not only free, it is better
tha S-plus: the lexical scope in R makes it very simple to simulate
Java's object model. For this, I encourage everyone to read the artcle:

Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
Computing", Journal of Computational and Graphical Statistics, 9,
491-508. 

I have coded a simulation program which runs at 1/5 the speed of
minimum usability on a Pentium 700 PC (windows me). I have spent quite
some time trying to optimize the program. So my question is: on which
platform does R run the fastest? I would be willing to invest on a
faster platform. Thanks in advance.

My program follows in case someone can help me improve it.

Thanks.

Jason

# Liao and Lipsitz (2001)
# A REML type estimate of variance components in generalized linear
mixed models
# This program runs on R. It does not run on S-plus.

  rm(list=ls(all=TRUE))
  
 ###small and common functions##################################
  glmm.sample.y <- function(x, z, b, D.u)
  {
    pp <- matrix(0, nrow = m, ncol = n);
    D.u.half <- t( chol(D.u) );
    zero <- numeric(n.random);
    
    for(i in 1:m)
    {
      obj <- rmulti.norm(zero, D.u.half);    
      pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );  
    }   
    pp <- exp(pp)/( 1+exp(pp) );    
        
    y <- runif(m*n);
    dim(y) <- c(m, n);  
    ifelse(y < pp, 1, 0);    #returning vector  
  }
################
  rmulti.norm <- function(mean, var.half)
  {    
     ran <- rnorm( length(mean) );
     log.prob <-  -sum(ran*ran)/2;
     
     ran <- mean + as.vector( var.half %*% ran );   
     return(ran, log.prob);   
  }  
  #################   
   my.outer <- function(x) #this is much faster than R's outer()
function
   {
      dim(x) <- c(length(x), 1);
      x %*% t(x);    
   }
   
   quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
   

#######################################################################
 
  REML.b.D.u <- function(b, D.u, y, x, z)
  {
     TT <- matrix(0, n.random, n.random);
     for(i in 1:30)
     {             
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;         
       
        yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
        obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
mle of b
       
        TT <-  TT*(1-1/i) + obj$uu.diff/i;     
        D.u <- D.u + TT;
        print(i); print(date());
        print("inside REML");
        print(D.u);print("TT"); print(TT);
     } 
     
      return(b, D.u);
  }
  mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
  {    
     for(i in 1:30)
     { 
       obj <- sample.u(b, D.u, x, y, z);      
       b <- b - solve(obj$Hessian, obj$score); 
       if(i==1) uu.first <- obj$uu;  
     }    
    
     uu.diff <- uu.first - obj$uu;
     return(b, uu=obj$uu, uu.diff);
  }
    
    mle.b.D.u <- function(b, D.u, y, x, z)
    {  
      for(i in 1:30)
      {        
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;  
      }         
      return(b, D.u);
     }
    
   sample.u <- function(b, D.u, x, y, z)
   {                 
     D.u.inv <- solve(D.u);
     
     uu <- matrix(0, n.random, n.random);
     score <- numeric(n.fixed);
     Hessian <- matrix(0, n.fixed, n.fixed);
   
     for(i in 1:m) 
     { 
       obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
                            x[i, ,], y[i,], z[i, ,]);
       uu <- uu + obj$uu;
       score <- score + obj$score;
       Hessian <- Hessian + obj$Hessian;
     }

     uu <- uu/m;
     return(uu, score, Hessian);     
  } 
 
   sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
z for one subject only 
   {          
      func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
maximized
      obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
                  
      obj <- optim(obj$par, func, method = c("BFGS"),
control=list(fnscale=-1), hessian = T )                
                                                
      mean <- obj$par;      
      var.half <-  solve(-obj$hessian)*1.2;    
      var.half <- t( chol(var.half) );        
          
      n.simu <- 1000  #sample size of importance sampling
      
      sum.weight <- 0;    
      uu <- matrix(0, n.random, n.random);  
      pi <- numeric(n);
      product <- numeric(n);
           
      func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);    
      for(i in 1:n.simu)
      {
        obj1 <- rmulti.norm(mean, var.half);
        obj2 <- func(obj1$ran); 
        weight <- exp(obj2$log.likelihood - obj1$log.prob);
        
        uu <- uu + my.outer(obj1$ran) * weight;     
        pi <- pi + obj2$pi * weight;  
        product <- product + obj2$pi*(1-obj2$pi) * weight; 
                
        sum.weight <- sum.weight + weight;  
      }
         
      uu <- uu/sum.weight;
      pi <- pi/sum.weight;
      product <- product/sum.weight; 
      
      score <- as.vector( (y - pi) %*% x );   
      Hessian <- -t(x) %*% diag(product) %*% x;    
      
      return(uu, score, Hessian);
    } 
     
      one.log.like <- function(D.u.inv, ada.part, y, z)
      { 
        function(u)
        {
          pp <- exp(  ada.part + as.vector( z %*% u )  );
          pp <- pp/(1+pp);             
          -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
y)*log(1-pp) );  
        }  
     }
     
    one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
    {
       function(u)
       {
         pi <- exp(  ada.part + as.vector( z %*% u )  );
         pi <- pi/(1 + pi);           
         log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
y*log(pi) + (1-y)*log(1-pi) ); 
                
         return(pi, log.likelihood);
       }
     }    
 
  main <- function()
  {
    b <- c(.5 , 1, -1, -.5);
    if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
    D.u <- c(.5, 0, 0, .25); 
    D.u <- matrix(D.u, nrow=2);  

    x <- array(0, c(m, n, n.fixed) );  
    x[, , 1] <- 1;
  
    for(j in 1:n) x[, j, 2] <- j-5;  
    x[1:trunc(m/2), , 3] <- 0;
    x[trunc(m/2+1):m, , 3] <- 1;

    x[, , 4] <- x[, , 2]*x[, , 3];  
    if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
  
    z <- x[, , 1:2];      

    for(i in 1:50)
    {    
      y <- glmm.sample.y(x, z, b, D.u); 
      
      obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u); 
 
      write(obj$D.u, file = "simu1.dat", append=T);  
      
      obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
print(obj$D.u);            
      write(obj$D.u, file = "simu2.dat", append=T);  
    } 
  }     
###################################################
#global variable m, n, n.fixed, n.random
  
  n <- 10;
  m <- 25;

  n.fixed <- 4;
  n.random <- 2;
 
  main();
  print(date());




=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Mon Apr  9 04:48:22 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Sun, 8 Apr 2001 19:48:22 -0700 (PDT)
Subject: [R] fastest R platform
Message-ID: <20010409024822.58552.qmail@web10505.mail.yahoo.com>

Hello, everyone! I picked up R several months ago and have adopted it
as my choice for statistical programming. Coming from a Java
background, I can honestly say that R is not only free, it is better
tha S-plus: the lexical scope in R makes it very simple to simulate
Java's object model. For this, I encourage everyone to read the artcle:

Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
Computing", Journal of Computational and Graphical Statistics, 9,
491-508. 

I have coded a simulation program which runs at 1/5 the speed of
minimum usability on a Pentium 700 PC (windows me). I have spent quite
some time trying to optimize the program. So my question is: on which
platform does R run the fastest? I would be willing to invest on a
faster platform. Thanks in advance.

My program follows in case someone can help me improve it.

Thanks.

Jason

# Liao and Lipsitz (2001)
# A REML type estimate of variance components in generalized linear
mixed models
# This program runs on R. It does not run on S-plus.

  rm(list=ls(all=TRUE))
  
 ###small and common functions##################################
  glmm.sample.y <- function(x, z, b, D.u)
  {
    pp <- matrix(0, nrow = m, ncol = n);
    D.u.half <- t( chol(D.u) );
    zero <- numeric(n.random);
    
    for(i in 1:m)
    {
      obj <- rmulti.norm(zero, D.u.half);    
      pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );  
    }   
    pp <- exp(pp)/( 1+exp(pp) );    
        
    y <- runif(m*n);
    dim(y) <- c(m, n);  
    ifelse(y < pp, 1, 0);    #returning vector  
  }
################
  rmulti.norm <- function(mean, var.half)
  {    
     ran <- rnorm( length(mean) );
     log.prob <-  -sum(ran*ran)/2;
     
     ran <- mean + as.vector( var.half %*% ran );   
     return(ran, log.prob);   
  }  
  #################   
   my.outer <- function(x) #this is much faster than R's outer()
function
   {
      dim(x) <- c(length(x), 1);
      x %*% t(x);    
   }
   
   quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
   

#######################################################################
 
  REML.b.D.u <- function(b, D.u, y, x, z)
  {
     TT <- matrix(0, n.random, n.random);
     for(i in 1:30)
     {             
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;         
       
        yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
        obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
mle of b
       
        TT <-  TT*(1-1/i) + obj$uu.diff/i;     
        D.u <- D.u + TT;
        print(i); print(date());
        print("inside REML");
        print(D.u);print("TT"); print(TT);
     } 
     
      return(b, D.u);
  }
  mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
  {    
     for(i in 1:30)
     { 
       obj <- sample.u(b, D.u, x, y, z);      
       b <- b - solve(obj$Hessian, obj$score); 
       if(i==1) uu.first <- obj$uu;  
     }    
    
     uu.diff <- uu.first - obj$uu;
     return(b, uu=obj$uu, uu.diff);
  }
    
    mle.b.D.u <- function(b, D.u, y, x, z)
    {  
      for(i in 1:30)
      {        
        obj <- sample.u(b, D.u, x, y, z);  
        b <- b - solve(obj$Hessian, obj$score); 
        D.u <- obj$uu;  
      }         
      return(b, D.u);
     }
    
   sample.u <- function(b, D.u, x, y, z)
   {                 
     D.u.inv <- solve(D.u);
     
     uu <- matrix(0, n.random, n.random);
     score <- numeric(n.fixed);
     Hessian <- matrix(0, n.fixed, n.fixed);
   
     for(i in 1:m) 
     { 
       obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
                            x[i, ,], y[i,], z[i, ,]);
       uu <- uu + obj$uu;
       score <- score + obj$score;
       Hessian <- Hessian + obj$Hessian;
     }

     uu <- uu/m;
     return(uu, score, Hessian);     
  } 
 
   sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
z for one subject only 
   {          
      func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
maximized
      obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
                  
      obj <- optim(obj$par, func, method = c("BFGS"),
control=list(fnscale=-1), hessian = T )                
                                                
      mean <- obj$par;      
      var.half <-  solve(-obj$hessian)*1.2;    
      var.half <- t( chol(var.half) );        
          
      n.simu <- 1000  #sample size of importance sampling
      
      sum.weight <- 0;    
      uu <- matrix(0, n.random, n.random);  
      pi <- numeric(n);
      product <- numeric(n);
           
      func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);    
      for(i in 1:n.simu)
      {
        obj1 <- rmulti.norm(mean, var.half);
        obj2 <- func(obj1$ran); 
        weight <- exp(obj2$log.likelihood - obj1$log.prob);
        
        uu <- uu + my.outer(obj1$ran) * weight;     
        pi <- pi + obj2$pi * weight;  
        product <- product + obj2$pi*(1-obj2$pi) * weight; 
                
        sum.weight <- sum.weight + weight;  
      }
         
      uu <- uu/sum.weight;
      pi <- pi/sum.weight;
      product <- product/sum.weight; 
      
      score <- as.vector( (y - pi) %*% x );   
      Hessian <- -t(x) %*% diag(product) %*% x;    
      
      return(uu, score, Hessian);
    } 
     
      one.log.like <- function(D.u.inv, ada.part, y, z)
      { 
        function(u)
        {
          pp <- exp(  ada.part + as.vector( z %*% u )  );
          pp <- pp/(1+pp);             
          -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
y)*log(1-pp) );  
        }  
     }
     
    one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
    {
       function(u)
       {
         pi <- exp(  ada.part + as.vector( z %*% u )  );
         pi <- pi/(1 + pi);           
         log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
y*log(pi) + (1-y)*log(1-pi) ); 
                
         return(pi, log.likelihood);
       }
     }    
 
  main <- function()
  {
    b <- c(.5 , 1, -1, -.5);
    if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
    D.u <- c(.5, 0, 0, .25); 
    D.u <- matrix(D.u, nrow=2);  

    x <- array(0, c(m, n, n.fixed) );  
    x[, , 1] <- 1;
  
    for(j in 1:n) x[, j, 2] <- j-5;  
    x[1:trunc(m/2), , 3] <- 0;
    x[trunc(m/2+1):m, , 3] <- 1;

    x[, , 4] <- x[, , 2]*x[, , 3];  
    if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
  
    z <- x[, , 1:2];      

    for(i in 1:50)
    {    
      y <- glmm.sample.y(x, z, b, D.u); 
      
      obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u); 
 
      write(obj$D.u, file = "simu1.dat", append=T);  
      
      obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
print(obj$D.u);            
      write(obj$D.u, file = "simu2.dat", append=T);  
    } 
  }     
###################################################
#global variable m, n, n.fixed, n.random
  
  n <- 10;
  m <- 25;

  n.fixed <- 4;
  n.random <- 2;
 
  main();
  print(date());




=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Apr  9 05:42:55 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sun, 8 Apr 2001 20:42:55 -0700
Subject: [R] fastest R platform
In-Reply-To: <20010409024822.58552.qmail@web10505.mail.yahoo.com>
Message-ID: <HBEHIIBBKKNOBLMPKCBBOECMDEAA.znmeb@aracnet.com>

The first step in performance tuning scientific code is to rewrite it so the
flow of control, especially the loop structure, is *crystal clear* and
obvious to the casual observer. Once you've done that, focus on the
innermost loops -- those sections that are executed on the order of the cube
of the problem size or higher. It is rare for scientific code to be higher
order than the cube of the problem size, although I've seen it in
computational chemistry.

Once you've isolated the spots that are being executed most often, try
replacing scalar operations with vector operations and vector operations
with matrix operations. These are usually translated fairly efficiently by
modern compilers, and special assembler level packages can be found for
things like the Basic Linear Algebra Subroutines (BLAS).

While there are faster things on the market than a 700 MHz Pentium, they
aren't cheap and aren't necessarily going to be a whole lot faster unless
you go to some effort in tuning your code. Fortunately, R allows linking
easily with major chunks of C or FORTRAN code. Again, the key is knowing
*precisely* where your code is spending its time.

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Jason Liao
> Sent: Sunday, April 08, 2001 7:48 PM
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] fastest R platform
>
>
> Hello, everyone! I picked up R several months ago and have adopted it
> as my choice for statistical programming. Coming from a Java
> background, I can honestly say that R is not only free, it is better
> tha S-plus: the lexical scope in R makes it very simple to simulate
> Java's object model. For this, I encourage everyone to read the artcle:
>
> Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
> Computing", Journal of Computational and Graphical Statistics, 9,
> 491-508.
>
> I have coded a simulation program which runs at 1/5 the speed of
> minimum usability on a Pentium 700 PC (windows me). I have spent quite
> some time trying to optimize the program. So my question is: on which
> platform does R run the fastest? I would be willing to invest on a
> faster platform. Thanks in advance.
>
> My program follows in case someone can help me improve it.
>
> Thanks.
>
> Jason
>
> # Liao and Lipsitz (2001)
> # A REML type estimate of variance components in generalized linear
> mixed models
> # This program runs on R. It does not run on S-plus.
>
>   rm(list=ls(all=TRUE))
>
>  ###small and common functions##################################
>   glmm.sample.y <- function(x, z, b, D.u)
>   {
>     pp <- matrix(0, nrow = m, ncol = n);
>     D.u.half <- t( chol(D.u) );
>     zero <- numeric(n.random);
>
>     for(i in 1:m)
>     {
>       obj <- rmulti.norm(zero, D.u.half);
>       pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );
>     }
>     pp <- exp(pp)/( 1+exp(pp) );
>
>     y <- runif(m*n);
>     dim(y) <- c(m, n);
>     ifelse(y < pp, 1, 0);    #returning vector
>   }
> ################
>   rmulti.norm <- function(mean, var.half)
>   {
>      ran <- rnorm( length(mean) );
>      log.prob <-  -sum(ran*ran)/2;
>
>      ran <- mean + as.vector( var.half %*% ran );
>      return(ran, log.prob);
>   }
>   #################
>    my.outer <- function(x) #this is much faster than R's outer()
> function
>    {
>       dim(x) <- c(length(x), 1);
>       x %*% t(x);
>    }
>
>    quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
>
>
> #######################################################################
>
>   REML.b.D.u <- function(b, D.u, y, x, z)
>   {
>      TT <- matrix(0, n.random, n.random);
>      for(i in 1:30)
>      {
>         obj <- sample.u(b, D.u, x, y, z);
>         b <- b - solve(obj$Hessian, obj$score);
>         D.u <- obj$uu;
>
>         yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
>         obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
> mle of b
>
>         TT <-  TT*(1-1/i) + obj$uu.diff/i;
>         D.u <- D.u + TT;
>         print(i); print(date());
>         print("inside REML");
>         print(D.u);print("TT"); print(TT);
>      }
>
>       return(b, D.u);
>   }
>   mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
>   {
>      for(i in 1:30)
>      {
>        obj <- sample.u(b, D.u, x, y, z);
>        b <- b - solve(obj$Hessian, obj$score);
>        if(i==1) uu.first <- obj$uu;
>      }
>
>      uu.diff <- uu.first - obj$uu;
>      return(b, uu=obj$uu, uu.diff);
>   }
>
>     mle.b.D.u <- function(b, D.u, y, x, z)
>     {
>       for(i in 1:30)
>       {
>         obj <- sample.u(b, D.u, x, y, z);
>         b <- b - solve(obj$Hessian, obj$score);
>         D.u <- obj$uu;
>       }
>       return(b, D.u);
>      }
>
>    sample.u <- function(b, D.u, x, y, z)
>    {
>      D.u.inv <- solve(D.u);
>
>      uu <- matrix(0, n.random, n.random);
>      score <- numeric(n.fixed);
>      Hessian <- matrix(0, n.fixed, n.fixed);
>
>      for(i in 1:m)
>      {
>        obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
>                             x[i, ,], y[i,], z[i, ,]);
>        uu <- uu + obj$uu;
>        score <- score + obj$score;
>        Hessian <- Hessian + obj$Hessian;
>      }
>
>      uu <- uu/m;
>      return(uu, score, Hessian);
>   }
>
>    sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
> z for one subject only
>    {
>       func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
> maximized
>       obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
>
>       obj <- optim(obj$par, func, method = c("BFGS"),
> control=list(fnscale=-1), hessian = T )
>
>       mean <- obj$par;
>       var.half <-  solve(-obj$hessian)*1.2;
>       var.half <- t( chol(var.half) );
>
>       n.simu <- 1000  #sample size of importance sampling
>
>       sum.weight <- 0;
>       uu <- matrix(0, n.random, n.random);
>       pi <- numeric(n);
>       product <- numeric(n);
>
>       func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);
>       for(i in 1:n.simu)
>       {
>         obj1 <- rmulti.norm(mean, var.half);
>         obj2 <- func(obj1$ran);
>         weight <- exp(obj2$log.likelihood - obj1$log.prob);
>
>         uu <- uu + my.outer(obj1$ran) * weight;
>         pi <- pi + obj2$pi * weight;
>         product <- product + obj2$pi*(1-obj2$pi) * weight;
>
>         sum.weight <- sum.weight + weight;
>       }
>
>       uu <- uu/sum.weight;
>       pi <- pi/sum.weight;
>       product <- product/sum.weight;
>
>       score <- as.vector( (y - pi) %*% x );
>       Hessian <- -t(x) %*% diag(product) %*% x;
>
>       return(uu, score, Hessian);
>     }
>
>       one.log.like <- function(D.u.inv, ada.part, y, z)
>       {
>         function(u)
>         {
>           pp <- exp(  ada.part + as.vector( z %*% u )  );
>           pp <- pp/(1+pp);
>           -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
> y)*log(1-pp) );
>         }
>      }
>
>     one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
>     {
>        function(u)
>        {
>          pi <- exp(  ada.part + as.vector( z %*% u )  );
>          pi <- pi/(1 + pi);
>          log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
> y*log(pi) + (1-y)*log(1-pi) );
>
>          return(pi, log.likelihood);
>        }
>      }
>
>   main <- function()
>   {
>     b <- c(.5 , 1, -1, -.5);
>     if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
>     D.u <- c(.5, 0, 0, .25);
>     D.u <- matrix(D.u, nrow=2);
>
>     x <- array(0, c(m, n, n.fixed) );
>     x[, , 1] <- 1;
>
>     for(j in 1:n) x[, j, 2] <- j-5;
>     x[1:trunc(m/2), , 3] <- 0;
>     x[trunc(m/2+1):m, , 3] <- 1;
>
>     x[, , 4] <- x[, , 2]*x[, , 3];
>     if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
>
>     z <- x[, , 1:2];
>
>     for(i in 1:50)
>     {
>       y <- glmm.sample.y(x, z, b, D.u);
>
>       obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u);
>
>       write(obj$D.u, file = "simu1.dat", append=T);
>
>       obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
> print(obj$D.u);
>       write(obj$D.u, file = "simu2.dat", append=T);
>     }
>   }
> ###################################################
> #global variable m, n, n.fixed, n.random
>
>   n <- 10;
>   m <- 25;
>
>   n.fixed <- 4;
>   n.random <- 2;
>
>   main();
>   print(date());
>
>
>
>
> =====
> Jason G. Liao
> Department of Biometry and Epidemiology
> Medical University of South Carolina
> 135 Rutledge Ave., STE 1148, Charleston, SC 29425
> phone (843) 876-1114, fax (843) 876-1126
>
> http://www.geocities.com/jg_liao/index.html
>
> __________________________________________________
> Do You Yahoo!?
> Get email at your own domain with Yahoo! Mail.
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Apr  9 08:24:47 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 08:24:47 +0200
Subject: [R] Julian dates
In-Reply-To: <01Apr9.135916nzst.119048@wnaux05.moc.govt.nz>
References: <01Apr9.135916nzst.119048@wnaux05.moc.govt.nz>
Message-ID: <15057.21935.245120.649274@mithrandir.hornik.net>

>>>>> Alistair Merrifield writes:

> I am using the "chron" package. Can anyone tell me if there is a
> simple way to convert a date object (obtained from the "dates"
> function) into a julian date (using the "julian" function)?

julian() will give numbers of days since an origin, by default January
1, 1970.  Date objects are represented as numbers of days since January
1, 1960, hence are already ``julian'' dates ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Apr  9 10:53:35 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 09 Apr 2001 09:53:35 +0100
Subject: [R] thin plate splines
References: <200104061516.KAA31904@odds.stat.purdue.edu>
Message-ID: <3AD1788F.53E3E699@ipimar.pt>

Chong Gu wrote:

>    Date: Fri, 06 Apr 2001 15:32:22 +0100
>    From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
>    Organization: IPIMAR
>    X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
>    X-Accept-Language: en
>    MIME-Version: 1.0
>    Content-Type: text/plain; charset=us-ascii
>    Content-Transfer-Encoding: 7bit
>    Sender: owner-r-help at stat.math.ethz.ch
>    Precedence: SfS-bulk
>
>    Hi
>
>    Does someone knows if there's a function/package that can make thin
>    plate splines ? I've looked in mgcv and splines but I haven't found
>    anything.
>
>    Thanks
>
>    EJ
>
>    -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>    r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>    Send "info", "help", or "[un]subscribe"
>    (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>    _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> gss
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Hi

I've tried gss, it worked fine but I wasn't able to see the coeficients. The summary
function doesn't give this information. Is there a function that is able to show the
coeficients found ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Apr  9 10:54:50 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 09 Apr 2001 09:54:50 +0100
Subject: [R] thin plate splines
References: <Pine.LNX.4.30.0104061117001.23803-100000@bolker.zoo.ufl.edu>
Message-ID: <3AD178DA.3206668E@ipimar.pt>

ben at zoo.ufl.edu wrote:

>   Without bothering to double-check, I think the "funfits" package in the
> "Devel" subdirectory may (??) do thin-plate splines.
>
>   Ben Bolker
>
> On Fri, 6 Apr 2001, Jos? Ernesto Jardim wrote:
>
> > Hi
> >
> > Does someone knows if there's a function/package that can make thin
> > plate splines ? I've looked in mgcv and splines but I haven't found
> > anything.
> >
> > Thanks
> >
> > EJ
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Hi

The funfits does the thin plate splines but I wasn't able to install it under R
1.2.2 it gives an error compiling the spreg.f file.

Thanks anyway

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Mon Apr  9 14:30:07 2001
From: aperrin at socrates.berkeley.edu (aperrin@socrates.berkeley.edu)
Date: Mon, 9 Apr 2001 05:30:07 -0700 (PDT)
Subject: [R] fastest R platform
In-Reply-To: <20010409024614.58443.qmail@web10505.mail.yahoo.com>
Message-ID: <Pine.GSO.4.21.0104090528060.27344-100000@socrates.Berkeley.EDU>

I haven't looked into this with R in particular, but with some textual
analysis software I developed in perl, the same job ran about 3.5x faster
on the same hardware running linux over running Windows NT.  The hardware
was much slower than yours (Pentium 150, 96M RAM).  The linux variant was
Debian potato (2.2r2).  YMMV.

Andy Perrin

------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill NC 27514 USA   |   aperrin at socrates.berkeley.edu

On Sun, 8 Apr 2001, Jason Liao wrote:

> Hello, everyone! I picked up R several months ago and have adopted it
> as my choice for statistical programming. Coming from a Java
> background, I can honestly say that R is not only free, it is better
> tha S-plus: the lexical scope in R makes it very simple to simulate
> Java's object model. For this, I encourage everyone to read the artcle:
> 
> Robert Gentleman and Ross Ihaka (2000) "Lexical Scope and Statistical
> Computing", Journal of Computational and Graphical Statistics, 9,
> 491-508. 
> 
> I have coded a simulation program which runs at 1/5 the speed of
> minimum usability on a Pentium 700 PC (windows me). I have spent quite
> some time trying to optimize the program. So my question is: on which
> platform does R run the fastest? I would be willing to invest on a
> faster platform. Thanks in advance.
> 
> My program follows in case someone can help me improve it.
> 
> Thanks.
> 
> Jason
> 
> # Liao and Lipsitz (2001)
> # A REML type estimate of variance components in generalized linear
> mixed models
> # This program runs on R. It does not run on S-plus.
> 
>   rm(list=ls(all=TRUE))
>   
>  ###small and common functions##################################
>   glmm.sample.y <- function(x, z, b, D.u)
>   {
>     pp <- matrix(0, nrow = m, ncol = n);
>     D.u.half <- t( chol(D.u) );
>     zero <- numeric(n.random);
>     
>     for(i in 1:m)
>     {
>       obj <- rmulti.norm(zero, D.u.half);    
>       pp[i, ] <- as.vector( x[i, , ] %*% b + z[i, , ] %*% obj$ran );  
>     }   
>     pp <- exp(pp)/( 1+exp(pp) );    
>         
>     y <- runif(m*n);
>     dim(y) <- c(m, n);  
>     ifelse(y < pp, 1, 0);    #returning vector  
>   }
> ################
>   rmulti.norm <- function(mean, var.half)
>   {    
>      ran <- rnorm( length(mean) );
>      log.prob <-  -sum(ran*ran)/2;
>      
>      ran <- mean + as.vector( var.half %*% ran );   
>      return(ran, log.prob);   
>   }  
>   #################   
>    my.outer <- function(x) #this is much faster than R's outer()
> function
>    {
>       dim(x) <- c(length(x), 1);
>       x %*% t(x);    
>    }
>    
>    quadratic.form <- function(A, x) {  as.vector(x %*% A %*% x)  }
>    
> 
> #######################################################################
>  
>   REML.b.D.u <- function(b, D.u, y, x, z)
>   {
>      TT <- matrix(0, n.random, n.random);
>      for(i in 1:30)
>      {             
>         obj <- sample.u(b, D.u, x, y, z);  
>         b <- b - solve(obj$Hessian, obj$score); 
>         D.u <- obj$uu;         
>        
>         yy <- glmm.sample.y(x, z, b, D.u);  #this is the sampling stage
>         obj <- mle.b(b, D.u, yy, x, z);     #given D.u, solves for the
> mle of b
>        
>         TT <-  TT*(1-1/i) + obj$uu.diff/i;     
>         D.u <- D.u + TT;
>         print(i); print(date());
>         print("inside REML");
>         print(D.u);print("TT"); print(TT);
>      } 
>      
>       return(b, D.u);
>   }
>   mle.b <- function(b, D.u, y, x, z)  #b here is the initial value
>   {    
>      for(i in 1:30)
>      { 
>        obj <- sample.u(b, D.u, x, y, z);      
>        b <- b - solve(obj$Hessian, obj$score); 
>        if(i==1) uu.first <- obj$uu;  
>      }    
>     
>      uu.diff <- uu.first - obj$uu;
>      return(b, uu=obj$uu, uu.diff);
>   }
>     
>     mle.b.D.u <- function(b, D.u, y, x, z)
>     {  
>       for(i in 1:30)
>       {        
>         obj <- sample.u(b, D.u, x, y, z);  
>         b <- b - solve(obj$Hessian, obj$score); 
>         D.u <- obj$uu;  
>       }         
>       return(b, D.u);
>      }
>     
>    sample.u <- function(b, D.u, x, y, z)
>    {                 
>      D.u.inv <- solve(D.u);
>      
>      uu <- matrix(0, n.random, n.random);
>      score <- numeric(n.fixed);
>      Hessian <- matrix(0, n.fixed, n.fixed);
>    
>      for(i in 1:m) 
>      { 
>        obj <-  sample.u.one(D.u.inv, ada.part=as.vector(x[i, ,] %*% b),
>                             x[i, ,], y[i,], z[i, ,]);
>        uu <- uu + obj$uu;
>        score <- score + obj$score;
>        Hessian <- Hessian + obj$Hessian;
>      }
> 
>      uu <- uu/m;
>      return(uu, score, Hessian);     
>   } 
>  
>    sample.u.one <- function(D.u.inv, ada.part, x, y, z)#ada.part, x, y,
> z for one subject only 
>    {          
>       func <- one.log.like(D.u.inv, ada.part, y, z);  #function to be
> maximized
>       obj <- optim( numeric(n.random), func, control=list(fnscale=-1) )
>                   
>       obj <- optim(obj$par, func, method = c("BFGS"),
> control=list(fnscale=-1), hessian = T )                
>                                                 
>       mean <- obj$par;      
>       var.half <-  solve(-obj$hessian)*1.2;    
>       var.half <- t( chol(var.half) );        
>           
>       n.simu <- 1000  #sample size of importance sampling
>       
>       sum.weight <- 0;    
>       uu <- matrix(0, n.random, n.random);  
>       pi <- numeric(n);
>       product <- numeric(n);
>            
>       func <- one.score.Hessian(D.u.inv, ada.part, x, y, z);    
>       for(i in 1:n.simu)
>       {
>         obj1 <- rmulti.norm(mean, var.half);
>         obj2 <- func(obj1$ran); 
>         weight <- exp(obj2$log.likelihood - obj1$log.prob);
>         
>         uu <- uu + my.outer(obj1$ran) * weight;     
>         pi <- pi + obj2$pi * weight;  
>         product <- product + obj2$pi*(1-obj2$pi) * weight; 
>                 
>         sum.weight <- sum.weight + weight;  
>       }
>          
>       uu <- uu/sum.weight;
>       pi <- pi/sum.weight;
>       product <- product/sum.weight; 
>       
>       score <- as.vector( (y - pi) %*% x );   
>       Hessian <- -t(x) %*% diag(product) %*% x;    
>       
>       return(uu, score, Hessian);
>     } 
>      
>       one.log.like <- function(D.u.inv, ada.part, y, z)
>       { 
>         function(u)
>         {
>           pp <- exp(  ada.part + as.vector( z %*% u )  );
>           pp <- pp/(1+pp);             
>           -quadratic.form(D.u.inv, u)/2 + sum( y*log(pp) + (1 -
> y)*log(1-pp) );  
>         }  
>      }
>      
>     one.score.Hessian <- function(D.u.inv, ada.part, x, y, z)
>     {
>        function(u)
>        {
>          pi <- exp(  ada.part + as.vector( z %*% u )  );
>          pi <- pi/(1 + pi);           
>          log.likelihood <- -quadratic.form(D.u.inv, u)/2 + sum(
> y*log(pi) + (1-y)*log(1-pi) ); 
>                 
>          return(pi, log.likelihood);
>        }
>      }    
>  
>   main <- function()
>   {
>     b <- c(.5 , 1, -1, -.5);
>     if(n.fixed > 4) b <- c( b, numeric(n.fixed-4) );
>     D.u <- c(.5, 0, 0, .25); 
>     D.u <- matrix(D.u, nrow=2);  
> 
>     x <- array(0, c(m, n, n.fixed) );  
>     x[, , 1] <- 1;
>   
>     for(j in 1:n) x[, j, 2] <- j-5;  
>     x[1:trunc(m/2), , 3] <- 0;
>     x[trunc(m/2+1):m, , 3] <- 1;
> 
>     x[, , 4] <- x[, , 2]*x[, , 3];  
>     if( n.fixed > 4 ) x[, , 5:n.fixed] <- rnorm( m*n*(n.fixed-4) );
>   
>     z <- x[, , 1:2];      
> 
>     for(i in 1:50)
>     {    
>       y <- glmm.sample.y(x, z, b, D.u); 
>       
>       obj <- mle.b.D.u(b, D.u, y, x, z); print("mle"); print(obj$D.u); 
>  
>       write(obj$D.u, file = "simu1.dat", append=T);  
>       
>       obj <- REML.b.D.u(b, D.u, y, x, z); print("REML");
> print(obj$D.u);            
>       write(obj$D.u, file = "simu2.dat", append=T);  
>     } 
>   }     
> ###################################################
> #global variable m, n, n.fixed, n.random
>   
>   n <- 10;
>   m <- 25;
> 
>   n.fixed <- 4;
>   n.random <- 2;
>  
>   main();
>   print(date());
> 
> 
> 
> 
> =====
> Jason G. Liao
> Department of Biometry and Epidemiology
> Medical University of South Carolina
> 135 Rutledge Ave., STE 1148, Charleston, SC 29425
> phone (843) 876-1114, fax (843) 876-1126
> 
> http://www.geocities.com/jg_liao/index.html
> 
> __________________________________________________
> Do You Yahoo!?
> Get email at your own domain with Yahoo! Mail. 
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Apr  9 14:34:52 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Apr 2001 07:34:52 -0500
Subject: [R] fastest R platform
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBOECMDEAA.znmeb@aracnet.com>
References: <HBEHIIBBKKNOBLMPKCBBOECMDEAA.znmeb@aracnet.com>
Message-ID: <6rae5q2qvn.fsf@franz.stat.wisc.edu>

"M. Edward Borasky" <znmeb at aracnet.com> writes:

> The first step in performance tuning scientific code is to rewrite it so the
> flow of control, especially the loop structure, is *crystal clear* and
> obvious to the casual observer. Once you've done that, focus on the
> innermost loops -- those sections that are executed on the order of the cube
> of the problem size or higher. It is rare for scientific code to be higher
> order than the cube of the problem size, although I've seen it in
> computational chemistry.
> 
> Once you've isolated the spots that are being executed most often, try
> replacing scalar operations with vector operations and vector operations
> with matrix operations. These are usually translated fairly efficiently by
> modern compilers, and special assembler level packages can be found for
> things like the Basic Linear Algebra Subroutines (BLAS).

Profiling the R code can help in isolating the parts that are taking
the most time.  See the "Writing R Extensions" manual for details on
how to do this.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Mon Apr  9 14:55:49 2001
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Mon, 9 Apr 2001 14:55:49 +0200 (METDST)
Subject: [R] Support for compartment models / matrix exponential method
Message-ID: <200104091255.OAA12053@ehmgs2.et.tu-dresden.de>

I try to fit reaction kinetic data to a given hypothetical model
consisting of 3 ODEs. After some reading in Bates/Watts and the literature
cited there (e.g. Jennrich/Bright) I looked in R for functions that support
the use of the matrix exponential method. Until now I used for a similar
(but simpler) problem the nls package and fitted against the the parameterized
solution function. But this works only for simple kinetics.

The algorithms in the nls package (e.g. SSfol) work on "closed forms" of the
solution function, too.

My question is: Are there examples or functions in R that show the usage of
the matrix exponential method or do I have to build the steps from primitive
functions myself, e.g. following the recipe in Jennrich/Bright (or is there 
even a superior method for this kind of tasks that I am not aware of)?


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  9 14:51:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 13:51:50 +0100 (GMT Daylight Time)
Subject: [R] fastest R platform
In-Reply-To: <Pine.GSO.4.21.0104090528060.27344-100000@socrates.Berkeley.EDU>
Message-ID: <Pine.WNT.4.31.0104091346260.1508-100000@gannet>

On Mon, 9 Apr 2001 aperrin at socrates.berkeley.edu wrote:

> I haven't looked into this with R in particular, but with some textual
> analysis software I developed in perl, the same job ran about 3.5x faster
> on the same hardware running linux over running Windows NT.  The hardware
> was much slower than yours (Pentium 150, 96M RAM).  The linux variant was
> Debian potato (2.2r2).  YMMV.

However, R runs its tests and my scripts between 5% and 20% slower on
Windows NT/2000 than on linux RH6.2, usually nearer 5%.  I've never seen
anything like that using Perl: were you using a local disk configured to
use NTFS with plenty of free space?  (FAT file systems on NT are much
slower.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Apr  9 15:15:25 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Mon, 9 Apr 2001 06:15:25 -0700 (PDT)
Subject: [R] fastest R platform
In-Reply-To: <6rae5q2qvn.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0104090553140.21301-100000@shell1.aracnet.com>

On 9 Apr 2001, Douglas Bates wrote:

> "M. Edward Borasky" <znmeb at aracnet.com> writes:
> > Once you've isolated the spots that are being executed most often, try
> > replacing scalar operations with vector operations and vector operations
> > with matrix operations. These are usually translated fairly efficiently by
> > modern compilers, and special assembler level packages can be found for
> > things like the Basic Linear Algebra Subroutines (BLAS).
>
> Profiling the R code can help in isolating the parts that are taking
> the most time.  See the "Writing R Extensions" manual for details on
> how to do this.

Thanks!! I thought I saw something about profiling in the documentation and
was going to suggest it, but I couldn't remember where it was. I did an
'apropos ("profile")' and didn't come up with what I was looking for, so I
didn't say anything.

Given that the original poster re-wrote the outer product routine, he must have
found it a significant user of time. Outer products are easy to vectorize, at
least for largeish matrices. The trick is to have the longest dimension in
the innermost loop if possible, and then use an efficient vector - scalar
multiply. There are lots of other games you can play on machines like the
Pentium to keep numbers in the cache. Loop unrolling is another strategy to
pursue.

I used to do a *lot* of this sort of thing when I worked for Floating Point
Systems. Much of this knowledge is *in theory* embedded in today's FORTRAN
and C compilers, but I have no idea how good or bad the Gnu Compiler Collection
is in this respect. As an aside, I noticed when I did a batch build of all the
contributed packages that one of them, "Matrix", failed looking for the BLAS
in the library. That didn't seem relevant to the list, and I haven't had a
chance to dig into it further. I had assumed that the BLAS were embedded
somewhere in GCC or R, given the amount of FORTRAN and C code that are involved.

If enough of you are interested in this sort of thing, I'll post some more notes
on the "tricks of the trade" in speed-tuning FORTRAN and C. I've seen factor of
three speedups and even more *without going to assembler code*.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

I brought my inner child to "Take Your Child To Work Day."

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at gvdnet.dk  Mon Apr  9 15:43:13 2001
From: tring at gvdnet.dk (Troels Ring)
Date: Mon, 09 Apr 2001 15:43:13 +0200
Subject: [R] predict problem
Message-ID: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>

Windows 98
R : Copyright 2001, The R Development Core Team
Version 1.2.1 (2001-01-15)
Dear friends.
How comes this works and produce a single prediction:
x <- rnorm(15)
y <- x + rnorm(15)
predict(lm(y ~ x))
new <- data.frame(x = seq(-3, 3, 0.5))
predict(lm(y ~ x), new, se.fit = TRUE)
pred.w.plim <- predict(lm(y ~ x), new, interval="confidence")
new1 <- data.frame(x=3)
predict(lm(y ~ x), new1, interval="confidence")

while this refuses to take the "new" and predict ?
lot <- c(30,20,60,80,40,50,60,30,70,60)
hours <- c(73,50,128,170,87,108,135,69,148,132)
z1 <- lm(hours~lot)
new <- data.frame(x=80)
predict(z1,new,interval="confidence",level=90)
best wishes
Troels 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Apr  9 16:08:37 2001
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Mon, 9 Apr 2001 10:08:37 -0400 (EDT)
Subject: [R] predict problem
In-Reply-To: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>
Message-ID: <SIMEON.10104091037.C@WALKER231.math.appstate.edu>

You need to change "new <- data.frame(x=80)" to read
"new <- data.frame(lot=80)"

Alan



On Mon, 09 Apr 2001 15:43:13 +0200 Troels Ring 
<tring at gvdnet.dk> wrote:

> Windows 98
> R : Copyright 2001, The R Development Core Team
> Version 1.2.1 (2001-01-15)
> Dear friends.
> How comes this works and produce a single prediction:
> x <- rnorm(15)
> y <- x + rnorm(15)
> predict(lm(y ~ x))
> new <- data.frame(x = seq(-3, 3, 0.5))
> predict(lm(y ~ x), new, se.fit = TRUE)
> pred.w.plim <- predict(lm(y ~ x), new, interval="confidence")
> new1 <- data.frame(x=3)
> predict(lm(y ~ x), new1, interval="confidence")
> 
> while this refuses to take the "new" and predict ?
> lot <- c(30,20,60,80,40,50,60,30,70,60)
> hours <- c(73,50,128,170,87,108,135,69,148,132)
> z1 <- lm(hours~lot)
> new <- data.frame(x=80)
> predict(z1,new,interval="confidence",level=90)
> best wishes
> Troels 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------
Alan T. Arnholt
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  9 16:05:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Apr 2001 15:05:25 +0100 (BST)
Subject: [R] predict problem
In-Reply-To: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>
Message-ID: <Pine.LNX.4.31.0104091500060.4410-100000@gannet.stats>

On Mon, 9 Apr 2001, Troels Ring wrote:

> Windows 98
> R : Copyright 2001, The R Development Core Team
> Version 1.2.1 (2001-01-15)
> Dear friends.
> How comes this works and produce a single prediction:
> x <- rnorm(15)
> y <- x + rnorm(15)
> predict(lm(y ~ x))
> new <- data.frame(x = seq(-3, 3, 0.5))
> predict(lm(y ~ x), new, se.fit = TRUE)
> pred.w.plim <- predict(lm(y ~ x), new, interval="confidence")
> new1 <- data.frame(x=3)
> predict(lm(y ~ x), new1, interval="confidence")
>
> while this refuses to take the "new" and predict ?
> lot <- c(30,20,60,80,40,50,60,30,70,60)
> hours <- c(73,50,128,170,87,108,135,69,148,132)
> z1 <- lm(hours~lot)
> new <- data.frame(x=80)
> predict(z1,new,interval="confidence",level=90)

There's no variable called `lot' in your new data frame.

new <- data.frame(lot=80)

And you want a 90% not a 90 confidence interval:

predict(z1,new,interval="confidence",level=0.9)
     fit      lwr      upr
[1,] 170 166.9245 173.0755

Now, did you really want a confidence and not prediction interval?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Apr  9 16:05:21 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 09 Apr 2001 16:05:21 +0200
Subject: [R] predict problem
References: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>
Message-ID: <3AD1C1A1.1E0FAD3C@statistik.uni-dortmund.de>



Troels Ring wrote:
> 
> Windows 98
> R : Copyright 2001, The R Development Core Team
> Version 1.2.1 (2001-01-15)
> Dear friends.
> How comes this works and produce a single prediction:
> x <- rnorm(15)
> y <- x + rnorm(15)
> predict(lm(y ~ x))
> new <- data.frame(x = seq(-3, 3, 0.5))
> predict(lm(y ~ x), new, se.fit = TRUE)
> pred.w.plim <- predict(lm(y ~ x), new, interval="confidence")
> new1 <- data.frame(x=3)
> predict(lm(y ~ x), new1, interval="confidence")
> 
> while this refuses to take the "new" and predict ?
> lot <- c(30,20,60,80,40,50,60,30,70,60)
> hours <- c(73,50,128,170,87,108,135,69,148,132)
> z1 <- lm(hours~lot)
> new <- data.frame(x=80)
> predict(z1,new,interval="confidence",level=90)


What you want is level=0.9 ???

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Apr  9 16:14:12 2001
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Mon, 9 Apr 2001 10:14:12 -0400 (EDT)
Subject: [R] predict problem
In-Reply-To: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>
Message-ID: <SIMEON.10104091012.D@WALKER231.math.appstate.edu>


On Mon, 09 Apr 2001 15:43:13 +0200 Troels Ring 
<tring at gvdnet.dk> wrote:


> lot <- c(30,20,60,80,40,50,60,30,70,60)
> hours <- c(73,50,128,170,87,108,135,69,148,132)
> z1 <- lm(hours~lot)
> new <- data.frame(x=80)
> predict(z1,new,interval="confidence",level=90)

you will also need to change your level to read .90 versus 
90
> predict.lm(z1,newdata=new,interval="confidence",level=.90)
     fit      lwr      upr
[1,] 170 166.9245 173.0755

Alan
----------------------
Alan T. Arnholt
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr  9 17:01:54 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Apr 2001 08:01:54 -0700 (PDT)
Subject: [R] fastest R platform
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBOECMDEAA.znmeb@aracnet.com>
Message-ID: <Pine.A41.4.33.0104090758280.107366-100000@homer16.u.washington.edu>

On Sun, 8 Apr 2001, M. Edward Borasky wrote:

> The first step in performance tuning scientific code is to rewrite it so the
> flow of control, especially the loop structure, is *crystal clear* and
> obvious to the casual observer. Once you've done that, focus on the
> innermost loops -- those sections that are executed on the order of the cube
> of the problem size or higher. It is rare for scientific code to be higher
> order than the cube of the problem size, although I've seen it in
> computational chemistry.
>
> Once you've isolated the spots that are being executed most often, try
> replacing scalar operations with vector operations and vector operations
> with matrix operations. These are usually translated fairly efficiently by
> modern compilers, and special assembler level packages can be found for
> things like the Basic Linear Algebra Subroutines (BLAS).
>
> While there are faster things on the market than a 700 MHz Pentium, they
> aren't cheap and aren't necessarily going to be a whole lot faster unless
> you go to some effort in tuning your code. Fortunately, R allows linking
> easily with major chunks of C or FORTRAN code. Again, the key is knowing
> *precisely* where your code is spending its time.

In particular, look at the R profiler, described in the first issue of the
R newsletter.

On platforms: R performs at similar speed between Windows and Linux, and
my limited comparisons between Intel and SPARC machines suggest that the
SPECint rating will give a reasonable ballpark estimate of speed across
platforms.  This means you probably don't want to shift off Intel for
speed reasons unless you have a LOT of money.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr  9 17:16:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Apr 2001 16:16:47 +0100 (BST)
Subject: [R] fastest R platform
In-Reply-To: <Pine.A41.4.33.0104090758280.107366-100000@homer16.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0104091608120.4519-100000@gannet.stats>

On Mon, 9 Apr 2001, Thomas Lumley wrote:

> On Sun, 8 Apr 2001, M. Edward Borasky wrote:
>
> > The first step in performance tuning scientific code is to rewrite it so the
> > flow of control, especially the loop structure, is *crystal clear* and
> > obvious to the casual observer. Once you've done that, focus on the
> > innermost loops -- those sections that are executed on the order of the cube
> > of the problem size or higher. It is rare for scientific code to be higher
> > order than the cube of the problem size, although I've seen it in
> > computational chemistry.
> >
> > Once you've isolated the spots that are being executed most often, try
> > replacing scalar operations with vector operations and vector operations
> > with matrix operations. These are usually translated fairly efficiently by
> > modern compilers, and special assembler level packages can be found for
> > things like the Basic Linear Algebra Subroutines (BLAS).
> >
> > While there are faster things on the market than a 700 MHz Pentium, they
> > aren't cheap and aren't necessarily going to be a whole lot faster unless
> > you go to some effort in tuning your code. Fortunately, R allows linking
> > easily with major chunks of C or FORTRAN code. Again, the key is knowing
> > *precisely* where your code is spending its time.
>
> In particular, look at the R profiler, described in the first issue of the
> R newsletter.

It has never been clear to me in this thread what OS the PC concerned is
running.  Not all OSes can run the profiler, which is very useful but
coded in rather specific way.  Implementing profiling on Windows is
an open project.

> On platforms: R performs at similar speed between Windows and Linux, and
> my limited comparisons between Intel and SPARC machines suggest that the
> SPECint rating will give a reasonable ballpark estimate of speed across
> platforms.  This means you probably don't want to shift off Intel for
> speed reasons unless you have a LOT of money.

And before you do you probably want to examine the possibilities of
parallelization on cheap Intel i686 boxes.  I know R is not parallel,
but most statistical tasks are parallelizable.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at gvdnet.dk  Mon Apr  9 18:00:01 2001
From: tring at gvdnet.dk (Troels Ring)
Date: Mon, 09 Apr 2001 18:00:01 +0200
Subject: [R] predict problem - solved
In-Reply-To: <5.0.2.1.0.20010409154246.02682170@gvdnet.dk>
Message-ID: <5.0.2.1.0.20010409175443.009e79d0@gvdnet.dk>

Faster than the wind several people spotted the errors



>while this refuses to take the "new" and predict ?
>lot <- c(30,20,60,80,40,50,60,30,70,60)
>hours <- c(73,50,128,170,87,108,135,69,148,132)
>z1 <- lm(hours~lot)
>new <- data.frame(x=80)

new <- data.frame(lot=80)
and
predict(z1,new,interval="confidence",level=.90)

>predict(z1,new,interval="confidence",level=90)


Thank you for your efforts and kindness !

Troels
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010409/73b61a36/attachment.html

From mgd at swarm.org  Tue Apr 10 05:37:27 2001
From: mgd at swarm.org (Marcus G. Daniels)
Date: 09 Apr 2001 20:37:27 -0700
Subject: [R] Memory problems, HDF5 library and R-1.2.2 garbage collection
In-Reply-To: Norberto Eiji Nawa's message of "Fri, 23 Mar 2001 13:54:52 +0900"
References: <20010323135452M.eiji@isd.atr.co.jp>
Message-ID: <rfid7alfmrs.fsf@cathcart.sysc.pdx.edu>

>>>>> "NEN" == Norberto Eiji Nawa <eiji at isd.atr.co.jp> writes:

NEN> The problem I am facing with R-1.2.2 is that when I try to load
NEN> 50 of the 1.5MB HDF5 files (using the hdf5 library) in a loop, my
NEN> Linux box gets close to its memory limit around the file #15
NEN> (256MB RAM and 256MB swap). This happens even if I load file ->
NEN> erase all the objects -> load file -> erase all the objects...

I haven't yet had time to go through your test cases, but I did just
find and fix a garbage collection bug in the HDF5 module that could explain
the problem.  The new version is:

  ftp://ftp.swarm.org/pub/swarm/src/testing/hdf5_1.2.tar.gz

Btw, I don't see a big explosion in memory loading my datasets, but 
these aren't `compound' HDF5 types that map into data frames...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Apr  9 20:18:54 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Mon, 9 Apr 2001 11:18:54 -0700 (PDT)
Subject: [R] fastest R platform
In-Reply-To: <Pine.LNX.4.31.0104091608120.4519-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0104091102210.29233-100000@shell1.aracnet.com>

On Mon, 9 Apr 2001, Prof Brian Ripley wrote:

> It has never been clear to me in this thread what OS the PC concerned is
> running.  Not all OSes can run the profiler, which is very useful but
> coded in rather specific way.  Implementing profiling on Windows is
> an open project.

I thought he said "Windows ME" :-(. If so, maybe this isn't an R issue but a
Microsoft one. I had Windows ME for six months before giving up on it. The
choice was between going back to Windows 98 SE, going forwards to Linux or to
Windows 2000 Professional. I ended up with a dual-boot Red Hat 7.0 and Win2K.
The bulk of my work is done with Win2K because my financial database only does
Windows. The music stuff I do mostly in Linux now, though. Speaking of which,
is anyone interested in using R for "sonification"? I'm toying with the idea
of integrating R with the public-domain "sfront" package, which is in pure C
and runs on both Linux and Windows. This would give R the ability to add
"sonic displays" to its graphic capabilities.

> > On platforms: R performs at similar speed between Windows and Linux, and
> > my limited comparisons between Intel and SPARC machines suggest that the
> > SPECint rating will give a reasonable ballpark estimate of speed across
> > platforms.  This means you probably don't want to shift off Intel for
> > speed reasons unless you have a LOT of money.
>
> And before you do you probably want to examine the possibilities of
> parallelization on cheap Intel i686 boxes.  I know R is not parallel,
> but most statistical tasks are parallelizable.

Most *large* tasks are parallelizable; most small ones are not *effectively*
parallelizable. I suspect what the original poster has is a medium task --
something with enough structure to be tunable for a single-processor but
paralellizable only in the sense that, if he's doing multiple independent runs
varying some parameter, he can do those independent runs on separate machines.

If he truly is running Windows ME, I'd recommend spending another 
$ 500 or $ 1000 on a new system, putting Linux on it and tuning his job
there with R profiling. 
Then he can run the tuned code on the Windows system.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

If there's nothing to astrology, how come so many famous men were born
on holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 10 13:22:22 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 10 Apr 2001 13:22:22 +0200
Subject: [R] R sonification {was `fastest R platform'}
In-Reply-To: <Pine.LNX.4.31.0104091102210.29233-100000@shell1.aracnet.com>
References: <Pine.LNX.4.31.0104091608120.4519-100000@gannet.stats>
	<Pine.LNX.4.31.0104091102210.29233-100000@shell1.aracnet.com>
Message-ID: <15058.60654.820586.175674@gargle.gargle.HOWL>

>>>>> "M" == M Edward (Ed) Borasky <znmeb at aracnet.com> writes:

    M> ............

    M> ... The music stuff I do mostly in Linux now, though. Speaking of
    M> which, is anyone interested in using R for "sonification"? I'm
    M> toying with the idea of integrating R with the public-domain
    M> "sfront" package, which is in pure C and runs on both Linux and
    M> Windows. This would give R the ability to add "sonic displays" to
    M> its graphic capabilities.

Oh, you should definitely team up with Erich Neuwirth,
erich.neuwirth at univie.ac.at !

who has written "Rcsound" a package for producing sound
with R and announced it on R-devel,
     http://www.R-project.org/nocvs/mail/r-devel/2001/0154.html
It's not on CRAN yet, maybe because it needs some polishing ..

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Apr 10 16:08:18 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Tue, 10 Apr 2001 09:08:18 -0500
Subject: [R] clear R-objects inside a function?
Message-ID: <3AD313D2.820F1960@ukans.edu>

Using RedHat Linux 7.0, R-1.2.2, R-hdf5-1.2 library, 

I want to load a dataset, do some stuff with it, then erase its objects,
get an other, repeat.  My friend wrote a function which tried to clear
away all the objects. At the end, it uses rm() to remove objects. This
is the same way we do it interactively, from the R prompt:

testLoadSeveralHDF <- function(numFiles) {
  for (i in 0:(numFiles-1)) {
    filename <- paste("trial",i,".hdf",sep="")
    print(filename)
    hdf5load(filename)
    rm(list = ls(pat="g*"))   
  }
}

However, after that program runs, the g* objects are not erased, but
typing "rm(list=ls(pat="g*")) from the command line does erase them.  I
realized there's something about the environment that I need to tell the
function, I just don't know what?

pj

ps. Now that Frank Harrell is using R, I'm so enthusiastic! I'll do some
R in my advanced methods class in Fall, 2001 and continue my updating of
the tipsheet: http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Apr 10 16:38:50 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 Apr 2001 09:38:50 -0500
Subject: [R] clear R-objects inside a function?
In-Reply-To: <3AD313D2.820F1960@ukans.edu>
References: <3AD313D2.820F1960@ukans.edu>
Message-ID: <6rae5on7k5.fsf@franz.stat.wisc.edu>

Paul E Johnson <pauljohn at ukans.edu> writes:

> Using RedHat Linux 7.0, R-1.2.2, R-hdf5-1.2 library, 
> 
> I want to load a dataset, do some stuff with it, then erase its objects,
> get an other, repeat.  My friend wrote a function which tried to clear
> away all the objects. At the end, it uses rm() to remove objects. This
> is the same way we do it interactively, from the R prompt:
> 
> testLoadSeveralHDF <- function(numFiles) {
>   for (i in 0:(numFiles-1)) {
>     filename <- paste("trial",i,".hdf",sep="")
>     print(filename)
>     hdf5load(filename)
>     rm(list = ls(pat="g*"))   
>   }
> }
> 
> However, after that program runs, the g* objects are not erased, but
> typing "rm(list=ls(pat="g*")) from the command line does erase them.  I
> realized there's something about the environment that I need to tell the
> function, I just don't know what?

Add envir = .GlobalEnv to both the ls and the rm calls.  That is

     rm(list = ls(pat = "g*", envir = .GlobalEnv), envir = .GlobalEnv)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 10 17:14:22 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 10 Apr 2001 17:14:22 +0200
Subject: [R] clear R-objects inside a function?
References: <3AD313D2.820F1960@ukans.edu> <6rae5on7k5.fsf@franz.stat.wisc.edu>
Message-ID: <3AD3234E.336D4BBD@statistik.uni-dortmund.de>

Douglas Bates wrote:
> 
> Paul E Johnson <pauljohn at ukans.edu> writes:
> 
> > Using RedHat Linux 7.0, R-1.2.2, R-hdf5-1.2 library,
> >
> > I want to load a dataset, do some stuff with it, then erase its objects,
> > get an other, repeat.  My friend wrote a function which tried to clear
> > away all the objects. At the end, it uses rm() to remove objects. This
> > is the same way we do it interactively, from the R prompt:
> >
> > testLoadSeveralHDF <- function(numFiles) {
> >   for (i in 0:(numFiles-1)) {
> >     filename <- paste("trial",i,".hdf",sep="")
> >     print(filename)
> >     hdf5load(filename)
> >     rm(list = ls(pat="g*"))
> >   }
> > }
> >
> > However, after that program runs, the g* objects are not erased, but
> > typing "rm(list=ls(pat="g*")) from the command line does erase them.  I
> > realized there's something about the environment that I need to tell the
> > function, I just don't know what?
> 
> Add envir = .GlobalEnv to both the ls and the rm calls.  That is
> 
>      rm(list = ls(pat = "g*", envir = .GlobalEnv), envir = .GlobalEnv)

This will remove not only those object, beginning with g*, I think.
Using  pat="g"  will be better, if you don't want to remove all (except
the ".*" ones) of your objects.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Apr 10 19:36:11 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 10 Apr 2001 19:36:11 +0200
Subject: No subject
In-Reply-To: <3AD3234E.336D4BBD@statistik.uni-dortmund.de>
References: <3AD313D2.820F1960@ukans.edu>
	<6rae5on7k5.fsf@franz.stat.wisc.edu>
	<3AD3234E.336D4BBD@statistik.uni-dortmund.de>
Message-ID: <15059.17547.773347.301486@gargle.gargle.HOWL>

>>>>> "Uwe" == Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

    Uwe> Douglas Bates wrote:
    >>  Paul E Johnson <pauljohn at ukans.edu> writes:
    >> 
    >> > Using RedHat Linux 7.0, R-1.2.2, R-hdf5-1.2 library,
    >> >
    >> > I want to load a dataset, do some stuff with it, then erase its
    >> objects, > get an other, repeat.  My friend wrote a function which
    >> tried to clear > away all the objects. At the end, it uses rm() to
    >> remove objects. This > is the same way we do it interactively, from
    >> the R prompt:
    >> >
    >> > testLoadSeveralHDF <- function(numFiles) { > for (i in
    >> 0:(numFiles-1)) { > filename <- paste("trial",i,".hdf",sep="") >
    >> print(filename) > hdf5load(filename) > rm(list = ls(pat="g*")) > } >
    >> }
    >> >
    >> > However, after that program runs, the g* objects are not erased,
    >> but > typing "rm(list=ls(pat="g*")) from the command line does erase
    >> them.  I > realized there's something about the environment that I
    >> need to tell the > function, I just don't know what?
    >> 
    >> Add envir = .GlobalEnv to both the ls and the rm calls.  That is
    >> 
    >> rm(list = ls(pat = "g*", envir = .GlobalEnv), envir = .GlobalEnv)

    Uwe> This will remove not only those object, beginning with g*, I
    Uwe> think.  Using pat="g" will be better, if you don't want to remove
    Uwe> all (except the ".*" ones) of your objects.

Really, it's
		pat = "^g"

pat = "g" still kills everything that has a "g".
Note these are `REGULAR expressions' not wildcards !

 ?grep  and  ?apropos

give you some examples on regexps.
But really, we need a more detailed page of R documentation (*.Rd syntax) 
about it.  Any volunteers, please?
Has src/main/regex.c has 
>>  (Implements POSIX draft P1003.2/D11.2, except for some of the
>>   internationalization features.)
>>  Copyright (C) 1993, 94, 95, 96, 97, 98, 99 Free Software Foundation, Inc.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Tue Apr 10 17:38:55 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Tue, 10 Apr 2001 11:38:55 -0400 (EDT)
Subject: [R] clear R-objects inside a function?
In-Reply-To: <3AD313D2.820F1960@ukans.edu>
Message-ID: <Pine.SOL.3.91.1010410113526.3661A@godzilla4.acpub.duke.edu>

In case this is not what you intended, may I point out that
rm(list=ls(pat="g*")) will remove _all_ objects and its effect appears to be
the same as rm(list=ls()) as far as I can tell.  To remove objects whose
names have "g" anywhere in the string, use rm(list=ls(pat="g")), or names
starting with "g" one can use rm(list=ls(pat="^g")). 

The "^" and "$" can be used to delimit the beginning and ending of a 
string, respectively.

Rashid Nassar


On Tue, 10 Apr 2001, Paul E Johnson wrote:

> Date: Tue, 10 Apr 2001 09:08:18 -0500
> From: Paul E Johnson <pauljohn at ukans.edu>
> To: "r-help at stat.math.ethz.ch" <r-help at stat.math.ethz.ch>
> Subject: [R] clear R-objects inside a function?
> 
> Using RedHat Linux 7.0, R-1.2.2, R-hdf5-1.2 library, 
> 
> I want to load a dataset, do some stuff with it, then erase its objects,
> get an other, repeat.  My friend wrote a function which tried to clear
> away all the objects. At the end, it uses rm() to remove objects. This
> is the same way we do it interactively, from the R prompt:
> 
> testLoadSeveralHDF <- function(numFiles) {
>   for (i in 0:(numFiles-1)) {
>     filename <- paste("trial",i,".hdf",sep="")
>     print(filename)
>     hdf5load(filename)
>     rm(list = ls(pat="g*"))   
>   }
> }
> 
> However, after that program runs, the g* objects are not erased, but
> typing "rm(list=ls(pat="g*")) from the command line does erase them.  I
> realized there's something about the environment that I need to tell the
> function, I just don't know what?
> 
> pj
> 
> ps. Now that Frank Harrell is using R, I'm so enthusiastic! I'll do some
> R in my advanced methods class in Fall, 2001 and continue my updating of
> the tipsheet: http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html
> 
> -- 
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Apr 10 18:01:02 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Tue, 10 Apr 2001 11:01:02 -0500
Subject: [R] HDF5 library update available for R-1.2.2
References: <20010323135452M.eiji@isd.atr.co.jp> <rfid7alfmrs.fsf@cathcart.sysc.pdx.edu>
Message-ID: <3AD32E3E.2DC6FB3D@ukans.edu>

"Marcus G. Daniels" wrote:

> I haven't yet had time to go through your test cases, but I did just
> find and fix a garbage collection bug in the HDF5 module that could explain
> the problem.  The new version is:
> 
>   ftp://ftp.swarm.org/pub/swarm/src/testing/hdf5_1.2.tar.gz
In case you are maintaining a lot of RedHat stations, you might find
maintenance easier with RPMs than R-install:
http://lark.cc.ukans.edu/~pauljohn/software/R-hdf5-1.2.R1.2.2-1.i386.rpm
http://lark.cc.ukans.edu/~pauljohn/software/R-hdf5-1.2.R1.2.2-1.src.rpm

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Tue Apr 10 23:15:55 2001
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Tue, 10 Apr 2001 15:15:55 -0600
Subject: [R] making Rmath.dll
In-Reply-To: <3AD3234E.336D4BBD@statistik.uni-dortmund.de>
Message-ID: <NEBBIAGCDACDCIIENIIHIEONDBAA.stockton@neptuneandco.com>

R folk,

Win2k
gcc-2.95.2
perl 5.6.0
R 1.2.2

I am trying to make Rmath.dll using the instructions in README in
/R/src/nmath/standalone and get the following error:

bash-2.04$ make -f Makefile.win
cp -p ../*.c .
d:/gcc-2.95.2/bin/make.exe -f Makefile.win cpy
make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
cp -p ../*.c .
make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
d:/gcc-2.95.2/bin/make.exe -f Makefile.win makeMakedeps
make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
making mlutils.d from mlutils.c
mlutils.c:21: config.h: No such file or directory
make.exe[1]: *** [mlutils.d] Error 1
make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
d:\gcc-2.95.2\bin\make.exe: *** [all] Error 2

I see in mlutils.c the code causing the problem:

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif

and in Makefile.win where HAVE_CONFIG_H is set:

CFLAGS=$(OPTFLAGS) -I../include -DHAVE_CONFIG_H

It would appear that I need a config.h. I see a shell script in
/R/src/gnuwin32/include/config.h.in which looks like a potential solution. I
must be missing a step but in reviewing R docs and help archives I can figure
out what it is.

Any help is greatly appreciated.

Tom


___________________________________________________________
Tom Stockton, PhD              voice: (505) 662-0707 ext 17
Neptune and Company                    cell: (505) 660-8591
1505 15th St.  Suite B                  fax: (505) 662-0500
Los Alamos, NM  87544-3063        stockton at neptuneandco.com
                  www.neptuneandco.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Apr 10 22:55:59 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 10 Apr 2001 16:55:59 -0400
Subject: [R] Similarity matrix
Message-ID: <3AD3735F.F5BD9D5B@virginia.edu>

I frequently use hclust on a similarity matrix.  In R only a
distance matrix is allowed.  Is there a simple reliable
transformation of a similarity matrix that will result
in a distance matrix making hclust work the same as
S-Plus with a similarity matrix?  Venables & Ripley 3rd
edition implies that a simple reversal of values
will suffice.  Thanks -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Wed Apr 11 00:26:15 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Tue, 10 Apr 2001 15:26:15 -0700 (PDT)
Subject: [R] function not found 
Message-ID: <20010410222615.4321.qmail@web11508.mail.yahoo.com>

Hi,

I have a R script with a funcion in it. When I run
this
script under R enviornment, it works fine. But if I go
to DOS command prompt and type "rterm --slave < foo.r"
it says:
         Error: couldn't find function "myFun"
         Execution halted

Below is part of my code. Does anyone know why?

Thanks,
Yu-Ling Wu

================================================
If (flag == 0) { do something... }
else { myFun() }

myFun <- function() {....statements.....}
================================================

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Apr 11 01:23:34 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Apr 2001 16:23:34 -0700 (PDT)
Subject: [R] function not found 
In-Reply-To: <20010410222615.4321.qmail@web11508.mail.yahoo.com>
Message-ID: <Pine.A41.4.33.0104101622070.81158-100000@homer36.u.washington.edu>

On Tue, 10 Apr 2001, Yu-Ling Wu wrote:

> Hi,
>
> I have a R script with a funcion in it. When I run
> this
> script under R enviornment, it works fine. But if I go
> to DOS command prompt and type "rterm --slave < foo.r"
> it says:
>          Error: couldn't find function "myFun"
>          Execution halted
>
> Below is part of my code. Does anyone know why?
>
> Thanks,
> Yu-Ling Wu
>
> ================================================
> If (flag == 0) { do something... }
> else { myFun() }
>
> myFun <- function() {....statements.....}
> ================================================

It looks as if you haven't defined myFun() until after you tried to use
it. R is not psychic, unfortunately.

Forward references like this are fine in sets of functions, since all the
functions are read before you use them, but when you have some top-level
code it can only call functions defined earlier in the file.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Wed Apr 11 05:40:55 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Tue, 10 Apr 2001 20:40:55 -0700
Subject: [R] Echoing commands (not using source())
Message-ID: <KKEGJOGBELBHDIKPINBMKELECDAA.henrikb@braju.com>

Is there a way of echoing (similar to Matlab "echo on") commands that are
being executed? I know how to do this for script files by using source(...,
echo=TRUE), but I would like to be able to use this within *any* function. I
am also not looking for the debug() function. Here is what I would like to
do:

myFunction <- function() {
  echo(TRUE);
  x <- 3;
  cat("x = ", x, "\n");
  echo(FALSE);
}

Output:
>myFunction()
x <- 3;
cat("x = ", x, "\n");
x = 3
>


Thanks

Henrik Bengtsson

h e n r i k b @ b r a j u . c o m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 08:27:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 11 Apr 2001 07:27:26 +0100 (BST)
Subject: [R] making Rmath.dll
In-Reply-To: <NEBBIAGCDACDCIIENIIHIEONDBAA.stockton@neptuneandco.com>
Message-ID: <Pine.GSO.4.31.0104110722270.6271-100000@auk.stats>

On Tue, 10 Apr 2001, Thomas Stockton wrote:

> R folk,
>
> Win2k
> gcc-2.95.2
> perl 5.6.0
> R 1.2.2
>
> I am trying to make Rmath.dll using the instructions in README in
> /R/src/nmath/standalone and get the following error:
>
> bash-2.04$ make -f Makefile.win
> cp -p ../*.c .
> d:/gcc-2.95.2/bin/make.exe -f Makefile.win cpy
> make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
> cp -p ../*.c .
> make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
> d:/gcc-2.95.2/bin/make.exe -f Makefile.win makeMakedeps
> make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
> making mlutils.d from mlutils.c
> mlutils.c:21: config.h: No such file or directory
> make.exe[1]: *** [mlutils.d] Error 1
> make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
> d:\gcc-2.95.2\bin\make.exe: *** [all] Error 2
>
> I see in mlutils.c the code causing the problem:
>
> #ifdef HAVE_CONFIG_H
> # include "config.h"
> #endif
>
> and in Makefile.win where HAVE_CONFIG_H is set:
>
> CFLAGS=$(OPTFLAGS) -I../include -DHAVE_CONFIG_H
>
> It would appear that I need a config.h. I see a shell script in
> /R/src/gnuwin32/include/config.h.in which looks like a potential solution. I
> must be missing a step but in reviewing R docs and help archives I can figure
> out what it is.

Under Windows you are expected to build R first, which installs config.h.
I think

cd .../src/gnuwin32/fixed
make

will suffice.

Under Unix you need to at least configure R first.  In short, you can't
jump into a single directory in the middle of R and expect things to work
in isolation.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 08:42:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 11 Apr 2001 07:42:28 +0100 (BST)
Subject: [R] Echoing commands (not using source())
In-Reply-To: <KKEGJOGBELBHDIKPINBMKELECDAA.henrikb@braju.com>
Message-ID: <Pine.GSO.4.31.0104110732010.6271-100000@auk.stats>

On Tue, 10 Apr 2001, Henrik Bengtsson wrote:

> Is there a way of echoing (similar to Matlab "echo on") commands that are
> being executed? I know how to do this for script files by using source(...,
> echo=TRUE), but I would like to be able to use this within *any* function. I

One problem is that is not that what source(..., echo = TRUE does). It echo
expressions at the prompt level, but not all commands.  R is not a macro
language like Matlab.

> am also not looking for the debug() function. Here is what I would like to
> do:
>
> myFunction <- function() {
>   echo(TRUE);
>   x <- 3;
>   cat("x = ", x, "\n");
>   echo(FALSE);
> }

(That's not really correct R.  Line feeds are command separators as
well as ;, so you have a lot of empty commands in there.)

> Output:
> >myFunction()
> x <- 3;
> cat("x = ", x, "\n");
> x = 3
> >

You can only do this by modifying the function to print the commands,
as source() does.  Note that by time the function is being evaluated it
is already parsed, so in a sense there is no `command' to be echoed.
You can get a rough re-construction via deparse on expressions
(and a command line can include multiple expressions).

Why do you want to do this? A simple pre-processing of the function
to be

myFunction <- function() {
   cat("x <- 3", "\n")
   x <- 3
   cat("cat(\"x = \", x, \"\n\"), "\n")
   cat("x = ", x, "\n")
}

might be simplest, but I get the impression that you are thinking of R as a
macro language and there may be a more powerful approach to your real goal.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 09:04:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 11 Apr 2001 08:04:13 +0100 (BST)
Subject: [R] Similarity matrix
In-Reply-To: <3AD3735F.F5BD9D5B@virginia.edu>
Message-ID: <Pine.GSO.4.31.0104110759220.6271-100000@auk.stats>

On Tue, 10 Apr 2001, Frank E Harrell Jr wrote:

> I frequently use hclust on a similarity matrix.  In R only a
> distance matrix is allowed.  Is there a simple reliable
> transformation of a similarity matrix that will result
> in a distance matrix making hclust work the same as
> S-Plus with a similarity matrix?  Venables & Ripley 3rd

We'd have to know how S-PLUS works!

> edition implies that a simple reversal of values
> will suffice.

Not quite.  We say the scale is reversed, but not that it is linearly
reversed, because I don't know.  Of course it only matters for
average-link clustering (in hclust).

The usual way to do this is to scale similarities to [0, 1] and take
D = sqrt(1-S) I believe, but I don't know why.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Apr 11 10:04:48 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 11 Apr 2001 10:04:48 +0200
Subject: [R] Similarity matrix
In-Reply-To: <3AD3735F.F5BD9D5B@virginia.edu>
References: <3AD3735F.F5BD9D5B@virginia.edu>
Message-ID: <01041110044802.00812@aconitum>

On Tuesday 10 April 2001 22:55, Frank E Harrell Jr wrote:

> I frequently use hclust on a similarity matrix.  In R only a
> distance matrix is allowed.  Is there a simple reliable
> transformation of a similarity matrix that will result
> in a distance matrix making hclust work the same as
> S-Plus with a similarity matrix?  Venables & Ripley 3rd
> edition implies that a simple reversal of values
> will suffice.  Thanks -Frank


Legendre & Legendre (Numerical Ecology, 2nd ed., Elsevier) give a choice of

  D=1-S, D= sqrt(1-S), or D=sqrt(1-S^2)      (p. 252)

and list the respective properties of the first two (Table 7.2, p. 275). 
Basically, the properties of the resulting distance coefficient will depend 
on the kind of similarity coefficient you used (of which the book offers an 
amazing variety). 

Cheers

Kaspar Pflugshaupt



-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Wed Apr 11 10:23:31 2001
From: sgsong at ucla.edu (Shige Song)
Date: Wed, 11 Apr 2001 01:23:31 -0700
Subject: [R] anybody using R with TextPad?
Message-ID: <20010411011827.C2DA.SGSONG@ucla.edu>

I was wondering whether somebody has developed a set of Textpad macro
that work with R the same way as WinEdt does. I use Textpad for almost
everything (programming, creating LaTex docs, etc.), it will be nice if
I can use it as my R program editor. Or maybe someone can tell me how
that kind of macro works so that I can develop my own macros. Thank you!

Best,

Shige Song
Department of Sociology, UCLA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Wed Apr 11 11:13:14 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Wed, 11 Apr 2001 02:13:14 -0700
Subject: [R] Echoing commands (not using source())
In-Reply-To: <Pine.GSO.4.31.0104110732010.6271-100000@auk.stats>
Message-ID: <KKEGJOGBELBHDIKPINBMKELFCDAA.henrikb@braju.com>

No, I am actually not thinking about [R] as a macro language. I was thinking
about the "reflection" methods build in into the language, e.g.
Internal(body(fun)). But I guess that it requires the source to be loaded
into the memory, which is not necessary. Is that correct?

Writing the code "twice" using cat(...) makes it easier to do misstakes.
Another idea is to but the whole code into a character string and evaluate
it. That works, but the code won't be parsed until run-time. I think I will
use source() for now. It solves my problem and is also more memory efficient
since the code is only loaded iff the function is called, e.g.

myFunction <- function() {
  source("myFunction.R", echo=TRUE);
}

The problem with this is that it will search for the file in the current
directory, i.e. it won't work within libraries if you don't have some kind
of lookup method such as found in demo() and example().


Thanks

Henrik Bengtsson

> -----Original Message-----
> From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> D Ripley
> Sent: Tuesday, April 10, 2001 11:42 PM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Echoing commands (not using source())
>
>
> On Tue, 10 Apr 2001, Henrik Bengtsson wrote:
>
> > Is there a way of echoing (similar to Matlab "echo on")
> commands that are
> > being executed? I know how to do this for script files by using
> source(...,
> > echo=TRUE), but I would like to be able to use this within
> *any* function. I
>
> One problem is that is not that what source(..., echo = TRUE
> does). It echo
> expressions at the prompt level, but not all commands.  R is not a macro
> language like Matlab.
>
> > am also not looking for the debug() function. Here is what I
> would like to
> > do:
> >
> > myFunction <- function() {
> >   echo(TRUE);
> >   x <- 3;
> >   cat("x = ", x, "\n");
> >   echo(FALSE);
> > }
>
> (That's not really correct R.  Line feeds are command separators as
> well as ;, so you have a lot of empty commands in there.)
>
> > Output:
> > >myFunction()
> > x <- 3;
> > cat("x = ", x, "\n");
> > x = 3
> > >
>
> You can only do this by modifying the function to print the commands,
> as source() does.  Note that by time the function is being evaluated it
> is already parsed, so in a sense there is no `command' to be echoed.
> You can get a rough re-construction via deparse on expressions
> (and a command line can include multiple expressions).
>
> Why do you want to do this? A simple pre-processing of the function
> to be
>
> myFunction <- function() {
>    cat("x <- 3", "\n")
>    x <- 3
>    cat("cat(\"x = \", x, \"\n\"), "\n")
>    cat("x = ", x, "\n")
> }
>
> might be simplest, but I get the impression that you are thinking
> of R as a
> macro language and there may be a more powerful approach to your
> real goal.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 11:54:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 10:54:42 +0100 (BST)
Subject: [R] Echoing commands (not using source())
In-Reply-To: <KKEGJOGBELBHDIKPINBMKELFCDAA.henrikb@braju.com>
Message-ID: <Pine.LNX.4.31.0104111041450.5649-100000@gannet.stats>

On Wed, 11 Apr 2001, Henrik Bengtsson wrote:

> No, I am actually not thinking about [R] as a macro language. I was thinking
> about the "reflection" methods build in into the language, e.g.
> Internal(body(fun)). But I guess that it requires the source to be loaded
> into the memory, which is not necessary. Is that correct?

There's a trick.  The code is kept attached to the function for
user-written code.  Try

> attr(myFunction, "source")
[1] "function() {"
[2] "source(\"myFunction.R\", echo=TRUE);"
[3] "}"


> Writing the code "twice" using cat(...) makes it easier to do misstakes.

I did say `pre-processing': of course R can do it for you, rather easily.

> Another idea is to but the whole code into a character string and evaluate
> it. That works, but the code won't be parsed until run-time. I think I will
> use source() for now. It solves my problem and is also more memory efficient
> since the code is only loaded iff the function is called, e.g.
>
> myFunction <- function() {
>   source("myFunction.R", echo=TRUE);
> }

Hrmm. You are still writing incorrect R!

> The problem with this is that it will search for the file in the current
> directory, i.e. it won't work within libraries if you don't have some kind
> of lookup method such as found in demo() and example().
>
>
> Thanks
>
> Henrik Bengtsson
>
> > -----Original Message-----
> > From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> > D Ripley
> > Sent: Tuesday, April 10, 2001 11:42 PM
> > To: Henrik Bengtsson
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] Echoing commands (not using source())
> >
> >
> > On Tue, 10 Apr 2001, Henrik Bengtsson wrote:
> >
> > > Is there a way of echoing (similar to Matlab "echo on")
> > commands that are
> > > being executed? I know how to do this for script files by using
> > source(...,
> > > echo=TRUE), but I would like to be able to use this within
> > *any* function. I
> >
> > One problem is that is not that what source(..., echo = TRUE
> > does). It echo
> > expressions at the prompt level, but not all commands.  R is not a macro
> > language like Matlab.
> >
> > > am also not looking for the debug() function. Here is what I
> > would like to
> > > do:
> > >
> > > myFunction <- function() {
> > >   echo(TRUE);
> > >   x <- 3;
> > >   cat("x = ", x, "\n");
> > >   echo(FALSE);
> > > }
> >
> > (That's not really correct R.  Line feeds are command separators as
> > well as ;, so you have a lot of empty commands in there.)
> >
> > > Output:
> > > >myFunction()
> > > x <- 3;
> > > cat("x = ", x, "\n");
> > > x = 3
> > > >
> >
> > You can only do this by modifying the function to print the commands,
> > as source() does.  Note that by time the function is being evaluated it
> > is already parsed, so in a sense there is no `command' to be echoed.
> > You can get a rough re-construction via deparse on expressions
> > (and a command line can include multiple expressions).
> >
> > Why do you want to do this? A simple pre-processing of the function
> > to be
> >
> > myFunction <- function() {
> >    cat("x <- 3", "\n")
> >    x <- 3
> >    cat("cat(\"x = \", x, \"\n\"), "\n")
> >    cat("x = ", x, "\n")
> > }
> >
> > might be simplest, but I get the impression that you are thinking
> > of R as a
> > macro language and there may be a more powerful approach to your
> > real goal.
> >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Wed Apr 11 12:21:03 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Wed, 11 Apr 2001 03:21:03 -0700
Subject: [R] Echoing commands (not using source())
In-Reply-To: <Pine.LNX.4.31.0104111041450.5649-100000@gannet.stats>
Message-ID: <KKEGJOGBELBHDIKPINBMIELGCDAA.henrikb@braju.com>

...

> > myFunction <- function() {
> >   source("myFunction.R", echo=TRUE);
> > }
>
> Hrmm. You are still writing incorrect R!

But, this is why I asked in the first place. I want to be able to have a
function that works the same way as example("foo.R") but instead having the
example code living in a script file, it should be a function living in
memory.

In the long run, this will be used in my object oriented add on I am writing
for [R] (which works and it provides references!). One could then define a
static method called example(). With static classes, as in Java, the user
can write:

  MyClass$example()

which should run and show an example code. This should behave similar to
example("MyClass"), but as I started out, it would be nice if the code could
actually live inside same scope/environment and not have to be searched
which is the case when using example(). I'll stick with source()/example()
for now.

Henrik Bengtsson
MSc Computer Science

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, April 11, 2001 2:55 AM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] Echoing commands (not using source())
>
>
> On Wed, 11 Apr 2001, Henrik Bengtsson wrote:
>
> > No, I am actually not thinking about [R] as a macro language. I
> was thinking
> > about the "reflection" methods build in into the language, e.g.
> > Internal(body(fun)). But I guess that it requires the source to
> be loaded
> > into the memory, which is not necessary. Is that correct?
>
> There's a trick.  The code is kept attached to the function for
> user-written code.  Try
>
> > attr(myFunction, "source")
> [1] "function() {"
> [2] "source(\"myFunction.R\", echo=TRUE);"
> [3] "}"
>
>
> > Writing the code "twice" using cat(...) makes it easier to do misstakes.
>
> I did say `pre-processing': of course R can do it for you, rather easily.
>
> > Another idea is to but the whole code into a character string
> and evaluate
> > it. That works, but the code won't be parsed until run-time. I
> think I will
> > use source() for now. It solves my problem and is also more
> memory efficient
> > since the code is only loaded iff the function is called, e.g.
> >
> > myFunction <- function() {
> >   source("myFunction.R", echo=TRUE);
> > }
>
> Hrmm. You are still writing incorrect R!
>
> > The problem with this is that it will search for the file in the current
> > directory, i.e. it won't work within libraries if you don't
> have some kind
> > of lookup method such as found in demo() and example().
> >
> >
> > Thanks
> >
> > Henrik Bengtsson
> >
> > > -----Original Message-----
> > > From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of
> Prof Brian
> > > D Ripley
> > > Sent: Tuesday, April 10, 2001 11:42 PM
> > > To: Henrik Bengtsson
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: Re: [R] Echoing commands (not using source())
> > >
> > >
> > > On Tue, 10 Apr 2001, Henrik Bengtsson wrote:
> > >
> > > > Is there a way of echoing (similar to Matlab "echo on")
> > > commands that are
> > > > being executed? I know how to do this for script files by using
> > > source(...,
> > > > echo=TRUE), but I would like to be able to use this within
> > > *any* function. I
> > >
> > > One problem is that is not that what source(..., echo = TRUE
> > > does). It echo
> > > expressions at the prompt level, but not all commands.  R is
> not a macro
> > > language like Matlab.
> > >
> > > > am also not looking for the debug() function. Here is what I
> > > would like to
> > > > do:
> > > >
> > > > myFunction <- function() {
> > > >   echo(TRUE);
> > > >   x <- 3;
> > > >   cat("x = ", x, "\n");
> > > >   echo(FALSE);
> > > > }
> > >
> > > (That's not really correct R.  Line feeds are command separators as
> > > well as ;, so you have a lot of empty commands in there.)
> > >
> > > > Output:
> > > > >myFunction()
> > > > x <- 3;
> > > > cat("x = ", x, "\n");
> > > > x = 3
> > > > >
> > >
> > > You can only do this by modifying the function to print the commands,
> > > as source() does.  Note that by time the function is being
> evaluated it
> > > is already parsed, so in a sense there is no `command' to be echoed.
> > > You can get a rough re-construction via deparse on expressions
> > > (and a command line can include multiple expressions).
> > >
> > > Why do you want to do this? A simple pre-processing of the function
> > > to be
> > >
> > > myFunction <- function() {
> > >    cat("x <- 3", "\n")
> > >    x <- 3
> > >    cat("cat(\"x = \", x, \"\n\"), "\n")
> > >    cat("x = ", x, "\n")
> > > }
> > >
> > > might be simplest, but I get the impression that you are thinking
> > > of R as a
> > > macro language and there may be a more powerful approach to your
> > > real goal.
> > >
> > >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > >
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Wed Apr 11 12:32:35 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Wed, 11 Apr 2001 13:32:35 +0300
Subject: [R] Similarity matrix 
In-Reply-To: Message from Prof Brian D Ripley <ripley@stats.ox.ac.uk> 
   of "Wed, 11 Apr 2001 08:04:13 BST." <Pine.GSO.4.31.0104110759220.6271-100000@auk.stats> 
Message-ID: <200104111032.NAA10537@pc112145.oulu.fi>


ripley at stats.ox.ac.uk said:
> The usual way to do this is to scale similarities to [0, 1] and take D
> = sqrt(1-S) I believe, but I don't know why. 

I think it depends on (i) the index used, (ii) whether you want the 
similarity to be a `metric', and (iii) whether you care about ii.

For most sum-of-squares based indices  D = sqrt(1-S) preserves the 
`metric' or even `Euclidean' properties.

There may be a slight problem with R distance indices, since most of 
them are not scaled to [0,1] originally (Canberra distance could be 
defined so but I think it is not, even intentionally). In fact most of 
them do not have any closed upper limit, and so it may be difficult to 
find out what you mean by zero-similarity. I think the best way is to 
transform the observations before calculating distances.  The 
standardization should be selected in accordance with the index.  For 
Manhattan, you should make the sum of observations to unity, and for 
Euclidean, the sum of squared observations to unity. In that case 
Manhattan would be scaled to [0,1] and Euclidean to [0,sqrt(2)].  For 
Euclidean distance this would mean moving observations to a unit sphere 
and calculating the chord distance.

Then you can have a look at distance.c function in R source and write 
your own functions (like I did: I have now S?rensen/Bray-Curtis/Steinhau
s/Czekanowski (pick your favourite name), Kulczynski and Another 
Canberra which all are scaled to [0,1], and at a moment even Gower 
which is non-sensically scaled to keep it `metric' [more sensible 
scaling would make it a `semi-metric' or not a metric, I am not sure 
which]).

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 13:26:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 12:26:44 +0100 (BST)
Subject: [R] Similarity matrix 
In-Reply-To: <200104111032.NAA10537@pc112145.oulu.fi>
Message-ID: <Pine.LNX.4.31.0104111225590.5867-100000@gannet.stats>

On Wed, 11 Apr 2001, Jari Oksanen wrote:

>
> ripley at stats.ox.ac.uk said:
> > The usual way to do this is to scale similarities to [0, 1] and take D
> > = sqrt(1-S) I believe, but I don't know why.
>
> I think it depends on (i) the index used, (ii) whether you want the
> similarity to be a `metric', and (iii) whether you care about ii.
>
> For most sum-of-squares based indices  D = sqrt(1-S) preserves the
> `metric' or even `Euclidean' properties.
>
> There may be a slight problem with R distance indices, since most of
> them are not scaled to [0,1] originally (Canberra distance could be

Um. Harrell, not me, wants to turn similarities into dissimilarities,
not v.v!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Wed Apr 11 13:40:26 2001
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Wed, 11 Apr 2001 07:40:26 -0400 (EDT)
Subject: [R] anybody using R with TextPad?
In-Reply-To: <20010411011827.C2DA.SGSONG@ucla.edu>
Message-ID: <SIMEON.10104110726.A@WALKER231.math.appstate.edu>

I take it you are using windows....You can change your 
editor in the Rprofile.  Go to R\etc and open the file 
Rprofile and specify your choice of editor.  

Alan

On Wed, 11 Apr 2001 01:23:31 -0700 Shige Song 
<sgsong at ucla.edu> wrote:

> I was wondering whether somebody has developed a set of Textpad macro
> that work with R the same way as WinEdt does. I use Textpad for almost
> everything (programming, creating LaTex docs, etc.), it will be nice if
> I can use it as my R program editor. Or maybe someone can tell me how
> that kind of macro works so that I can develop my own macros. Thank you!
> 
> Best,
> 
> Shige Song
> Department of Sociology, UCLA
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------
Alan T. Arnholt
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 14:11:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 13:11:10 +0100 (BST)
Subject: [R] Similarity matrix
In-Reply-To: <3AD3735F.F5BD9D5B@virginia.edu>
Message-ID: <Pine.LNX.4.31.0104111306510.6220-100000@gannet.stats>

On Tue, 10 Apr 2001, Frank E Harrell Jr wrote:

> I frequently use hclust on a similarity matrix.  In R only a
> distance matrix is allowed.  Is there a simple reliable
> transformation of a similarity matrix that will result
> in a distance matrix making hclust work the same as
> S-Plus with a similarity matrix?  Venables & Ripley 3rd
> edition implies that a simple reversal of values
> will suffice.  Thanks -Frank

Testing with Splus 6.0 shows that dist = 1 - sim is used there, so the
simple assumption is correct.

d <- dist(longley.y)
d <- d/max(d)
hclust(d, "ave")
$merge:
      [,1] [,2]
 [1,]   -2   -4
 [2,]   -6   -8
 [3,]   -1   -3
 [4,]  -14  -15
 [5,]  -10  -11
 [6,]   -5    2
 [7,]   -9  -12
 [8,]  -13    5
 [9,]    1    3
[10,]  -16    4
[11,]   -7    7
[12,]    8   10
[13,]    6   11
[14,]    9   13
[15,]   12   14

$height:
 [1] 0.006262043 0.011753372 0.014643545 0.022447014 0.030057803 0.046146438
 [7] 0.047591522 0.061849713 0.087427750 0.106310219 0.123025045 0.153018638
[13] 0.221579969 0.384352922 0.570969820

$order:
 [1] 13 10 11 16 14 15  2  4  1  3  5  6  8  7  9 12

hclust(sim=1-d, method="ave")
$merge:
      [,1] [,2]
 [1,]   -2   -4
 [2,]   -6   -8
 [3,]   -1   -3
 [4,]  -14  -15
 [5,]  -10  -11
 [6,]   -5    2
 [7,]   -9  -12
 [8,]  -13    5
 [9,]    3    1
[10,]  -16    4
[11,]   -7    7
[12,]   10    8
[13,]   11    6
[14,]   13    9
[15,]   14   12

$height:
 [1] 0.9937379 0.9882466 0.9853565 0.9775530 0.9699422 0.9538536 0.9524085
 [8] 0.9381503 0.9125723 0.8936898 0.8769749 0.8469813 0.7784200 0.6156471
[15] 0.4290302

$order:
 [1]  7  9 12  5  6  8  1  3  2  4 16 14 15 13 10 11

which is the same but expressed in similarities.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Apr 11 14:25:22 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 11 Apr 2001 14:25:22 +0200
Subject: [R] Similarity matrix
In-Reply-To: <Pine.GSO.4.31.0104110922060.26817-100000@toucan.stats>
References: <Pine.GSO.4.31.0104110922060.26817-100000@toucan.stats>
Message-ID: <01041114252203.00812@aconitum>

On Wednesday 11 April 2001 10:23, Prof Brian Ripley wrote:


> And what does S-PLUS use? (Which is the point here?)


I've never done cluster analysis with S-Plus. But let's see:

The statistical manual for S-Plus 5.1/Unix fails to even mention similarity 
matrices.

help(hclust) (in S-Plus 5.1/Unix and 3.4/Unix) says 

  USAGE:                                                            
      
  hclust(dist, method = "compact", sim =)
                                       
  [...]         
                                                         
   sim=                                                  
          structure giving similarities rather than distances. This can
          either be a symmetric matrix or a vector with a "Size"       
          attribute. Missing values are not allowed.

The help text does not explain how the conversion to distances is done, 
though. And the source is not available...

> I guess we have to experiment?


Well, I've taken the time to do it for you (S-PLus 3.4/Unix):

  mat <- matrix(runif(100), nrow=10)
  print(1 - plclust(hclust( sim=mat ))$yn)  # 1 - ...: S-Plus seems to mirror 
					    # the tree's y scale when given a similarity matrix

gives the same values as

  print(plclust(hclust( 1-mat ))$yn)

but different values from

  print(plclust(hclust( sqrt(1-mat) )$yn)

The grouping structure is constant, anyway.

So, S-Plus seems to use D=1-S rather than D=sqrt(1-S) internally.

For R, it might be a good idea to let the user choose the conversion method 
via an additional parameter, making D=1-S the default.

According to Legendre & Legendre, the choice of similarity coefficient 
_does_ make a difference as to which conversion should be preferred. For some 
"species" of similarity coefficients, the resulting distance would be metric 
and euclidean with one method but not with the other, for others vice versa. 
I don't know if this matters for cluster analysis, but I think that it might, 
especially when clustering with an euclidean metric.


Cheers (hoping this was to the point :-)

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 14:31:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 13:31:08 +0100 (BST)
Subject: [R] Similarity matrix
In-Reply-To: <01041114252203.00812@aconitum>
Message-ID: <Pine.LNX.4.31.0104111328290.10086-100000@gannet.stats>

On Wed, 11 Apr 2001, Kaspar Pflugshaupt wrote:

> On Wednesday 11 April 2001 10:23, Prof Brian Ripley wrote:
>
> > I guess we have to experiment?
>
>
> Well, I've taken the time to do it for you (S-PLus 3.4/Unix):

(Unfortunately a few minutes after I had, although Frank Harrell wanted to
know.)

> According to Legendre & Legendre, the choice of similarity coefficient
> _does_ make a difference as to which conversion should be preferred. For some
> "species" of similarity coefficients, the resulting distance would be metric
> and euclidean with one method but not with the other, for others vice versa.
> I don't know if this matters for cluster analysis, but I think that it might,
> especially when clustering with an euclidean metric.

For single- and complete-link clustering only the ordering matters as far
as the clusters are concerned.

> Cheers (hoping this was to the point :-)

Thanks, it was.

Is it worth adding this to R's hclust?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ralph.Leonhardt at lrz.uni-muenchen.de  Wed Apr 11 15:42:19 2001
From: Ralph.Leonhardt at lrz.uni-muenchen.de (Ralph Leonhardt)
Date: Wed, 11 Apr 2001 15:42:19 +0200
Subject: [R] Q:Truncated Regression Model
Message-ID: <3AD45F3B.BE44D69F@lrz.uni-muenchen.de>

Hi,

Problem: 
I have the ususal linear regression model
y=Xb
but I cant observe y (expenditure for a particular good) for some y <c
where c is fixed for all observations.
But I can observe the corresponding covariates x (incom).
 
I used the survivla5 library (survreg(Surv(y,y<c,type="left")~x) for a
censored regression model (thanks again for this tip).
Is there a way to estimate a truncated model in a similar way?

	Thank you
		Ralph leonhardt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Apr 11 14:49:28 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 11 Apr 2001 14:49:28 +0200
Subject: [R] anybody using R with TextPad?
References: <20010411011827.C2DA.SGSONG@ucla.edu>
Message-ID: <3AD452D8.D67C56ED@statistik.uni-dortmund.de>

Shige Song wrote:
> 
> I was wondering whether somebody has developed a set of Textpad macro
> that work with R the same way as WinEdt does. I use Textpad for almost
> everything (programming, creating LaTex docs, etc.), it will be nice if
> I can use it as my R program editor. Or maybe someone can tell me how
> that kind of macro works so that I can develop my own macros. Thank you!

In some expansible editors (most I have seen are non-commercial ones) it
is possible to define your own highlighting rules and write macros (or
plug-ins) to talk in some way to other applications (on Windows for
example via DDE or DCOM). I don't know if it is possible with textpad,
because I don't know this editor.

BTW: A *clean* way for the communication between the Editor and R is
also not yet developed for WinEdt ...

Maybe you want to try out ESS for the Emacs, if you don't already use
it.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Apr 11 13:53:46 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 11 Apr 2001 07:53:46 -0400
Subject: [R] Similarity matrix
References: <Pine.LNX.4.31.0104111306510.6220-100000@gannet.stats>
Message-ID: <3AD445CA.D0CCC7FD@virginia.edu>

Thanks very much to Brian Ripley, Kaspar Pflugshaupt, and Jari Oksanen
for addressing this issue.

The S-Plus online help sheds no light on the issue.  The S-Plus
statistics manual has a lot of information on clustering, but
only focuses on distance measures, as similarity measures
are only allowed in a minority of the clustering functions.

Brian Ripley did the test that I should have done to show
that hclust is using a simple translation from similarity
to distance.

The kinds of similarities I routinely use are
- pairwise squared Spearman rank correlation coefficients
- pairwise proportion of the time that two variables are
  missing on the same observation
- Hoeffding D nonparametric dependence index 
  (the scaling of which may be more problematic than the other two)

Thank you all,

Frank Harrell

Prof Brian Ripley wrote:
> 
> On Tue, 10 Apr 2001, Frank E Harrell Jr wrote:
> 
> > I frequently use hclust on a similarity matrix.  In R only a
> > distance matrix is allowed.  Is there a simple reliable
> > transformation of a similarity matrix that will result
> > in a distance matrix making hclust work the same as
> > S-Plus with a similarity matrix?  Venables & Ripley 3rd
> > edition implies that a simple reversal of values
> > will suffice.  Thanks -Frank
> 
> Testing with Splus 6.0 shows that dist = 1 - sim is used there, so the
> simple assumption is correct.
> 
> d <- dist(longley.y)
> d <- d/max(d)
> hclust(d, "ave")
> $merge:
>       [,1] [,2]
>  [1,]   -2   -4
>  [2,]   -6   -8
>  [3,]   -1   -3
>  [4,]  -14  -15
>  [5,]  -10  -11
>  [6,]   -5    2
>  [7,]   -9  -12
>  [8,]  -13    5
>  [9,]    1    3
> [10,]  -16    4
> [11,]   -7    7
> [12,]    8   10
> [13,]    6   11
> [14,]    9   13
> [15,]   12   14
> 
> $height:
>  [1] 0.006262043 0.011753372 0.014643545 0.022447014 0.030057803 0.046146438
>  [7] 0.047591522 0.061849713 0.087427750 0.106310219 0.123025045 0.153018638
> [13] 0.221579969 0.384352922 0.570969820
> 
> $order:
>  [1] 13 10 11 16 14 15  2  4  1  3  5  6  8  7  9 12
> 
> hclust(sim=1-d, method="ave")
> $merge:
>       [,1] [,2]
>  [1,]   -2   -4
>  [2,]   -6   -8
>  [3,]   -1   -3
>  [4,]  -14  -15
>  [5,]  -10  -11
>  [6,]   -5    2
>  [7,]   -9  -12
>  [8,]  -13    5
>  [9,]    3    1
> [10,]  -16    4
> [11,]   -7    7
> [12,]   10    8
> [13,]   11    6
> [14,]   13    9
> [15,]   14   12
> 
> $height:
>  [1] 0.9937379 0.9882466 0.9853565 0.9775530 0.9699422 0.9538536 0.9524085
>  [8] 0.9381503 0.9125723 0.8936898 0.8769749 0.8469813 0.7784200 0.6156471
> [15] 0.4290302
> 
> $order:
>  [1]  7  9 12  5  6  8  1  3  2  4 16 14 15 13 10 11
> 
> which is the same but expressed in similarities.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Apr 11 16:19:27 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 11 Apr 2001 07:19:27 -0700 (PDT)
Subject: [R] Q:Truncated Regression Model
In-Reply-To: <3AD45F3B.BE44D69F@lrz.uni-muenchen.de>
Message-ID: <Pine.A41.4.33.0104110715580.76398-100000@homer34.u.washington.edu>

On Wed, 11 Apr 2001, Ralph Leonhardt wrote:

> Hi,
>
> Problem:
> I have the ususal linear regression model
> y=Xb
> but I cant observe y (expenditure for a particular good) for some y <c
> where c is fixed for all observations.
> But I can observe the corresponding covariates x (incom).
>
> I used the survivla5 library (survreg(Surv(y,y<c,type="left")~x) for a
> censored regression model (thanks again for this tip).
> Is there a way to estimate a truncated model in a similar way?

Yes, truncation is also allowed.

The form for the response is Surv(c,y,1), but it doesn't recycle arguments
so you actually need Surv(rep(c,length(y)),y,rep(1,length(y)))

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Wed Apr 11 15:20:37 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Wed, 11 Apr 2001 15:20:37 +0200
Subject: [R] test for coeff. differences
Message-ID: <3.0.6.32.20010411152037.00933d30@mail.anst.uu.se>

Dear all,

Is there a function in R for test of pairwise differences in point
estimates of a binomial glm?. The variance-covariance matrix, vcov() in
MASS, shows that there is some non-orthogonality.

I use R 1.2.2 for WinNT.

Thanks in advance!


Sincerely,
Tord Sn?ll



-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/tord_s.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Wed Apr 11 16:56:30 2001
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Wed, 11 Apr 2001 08:56:30 -0600
Subject: [R] making Rmath.dll
In-Reply-To: <Pine.GSO.4.31.0104110722270.6271-100000@auk.stats>
Message-ID: <NEBBIAGCDACDCIIENIIHGEPGDBAA.stockton@neptuneandco.com>

Thanks to Prof Ripley for getting me on track.

After updating from gcc.2.95.2 to gcc.2.92.2-1 I was able to build R and then
build Rmath.dll as per the README in src/nmath/standalone.

Tom Stockton


>-----Original Message-----
>From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
>D Ripley
>Sent: Wednesday, April 11, 2001 12:27 AM
>To: Thomas Stockton
>Cc: r-help at stat.math.ethz.ch
>Subject: Re: [R] making Rmath.dll
>
>
>On Tue, 10 Apr 2001, Thomas Stockton wrote:
>
>> R folk,
>>
>> Win2k
>> gcc-2.95.2
>> perl 5.6.0
>> R 1.2.2
>>
>> I am trying to make Rmath.dll using the instructions in README in
>> /R/src/nmath/standalone and get the following error:
>>
>> bash-2.04$ make -f Makefile.win
>> cp -p ../*.c .
>> d:/gcc-2.95.2/bin/make.exe -f Makefile.win cpy
>> make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
>> cp -p ../*.c .
>> make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
>> d:/gcc-2.95.2/bin/make.exe -f Makefile.win makeMakedeps
>> make.exe[1]: Entering directory `d:/R/src/nmath/standalone'
>> making mlutils.d from mlutils.c
>> mlutils.c:21: config.h: No such file or directory
>> make.exe[1]: *** [mlutils.d] Error 1
>> make.exe[1]: Leaving directory `d:/R/src/nmath/standalone'
>> d:\gcc-2.95.2\bin\make.exe: *** [all] Error 2
>>
>> I see in mlutils.c the code causing the problem:
>>
>> #ifdef HAVE_CONFIG_H
>> # include "config.h"
>> #endif
>>
>> and in Makefile.win where HAVE_CONFIG_H is set:
>>
>> CFLAGS=$(OPTFLAGS) -I../include -DHAVE_CONFIG_H
>>
>> It would appear that I need a config.h. I see a shell script in
>> /R/src/gnuwin32/include/config.h.in which looks like a potential solution. I
>> must be missing a step but in reviewing R docs and help archives I can figure
>> out what it is.
>
>Under Windows you are expected to build R first, which installs config.h.
>I think
>
>cd .../src/gnuwin32/fixed
>make
>
>will suffice.
>
>Under Unix you need to at least configure R first.  In short, you can't
>jump into a single directory in the middle of R and expect things to work
>in isolation.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsparapa at mcw.edu  Wed Apr 11 17:54:32 2001
From: rsparapa at mcw.edu (Rodney Sparapani)
Date: Wed, 11 Apr 2001 10:54:32 -0500
Subject: [R] g77 FFLAGS?
Message-ID: <3AD47E38.BE4F82B@mcw.edu>

I'm trying to compile R under Mac OS X using gcc/g77 2.95.2.  There is
an interesting blurb in install:

You must set whatever compilation flags (if any) are needed to ensure
that FORTRAN `integer' is equivalent to a C int pointer and FORTRAN
`double precision' is equivalent to a C double pointer.  This is checked

during the configuration process.

I'm not an avid FORTRAN user.  Can someone tell me what these FFLAGS
might be for g77?  Thanks.

--
Rodney Sparapani              Medical College of Wisconsin
Sr. Biostatistician           Patient Care & Outcomes Research (PCOR)
rsparapa at mcw.edu              8701 Watertown Plank Rd., Rm. H2775
(414) 456-8786 (FAX: 6689)    PO Box 26509, Milwaukee, WI  53226-0509


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010411/23a4e3b3/attachment.html

From lecoutre at stat.ucl.ac.be  Wed Apr 11 17:56:32 2001
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Wed, 11 Apr 2001 17:56:32 +0200
Subject: [R] anybody using R with TextPad?
Message-ID: <5.0.2.1.2.20010411175629.00a0fec0@stat4ux.stat.ucl.ac.be>


>Shige Song wrote:
>In some expansible editors (most I have seen are non-commercial ones) it
>is possible to define your own highlighting rules and write macros (or
>plug-ins) to talk in some way to other applications (on Windows for
>example via DDE or DCOM). I don't know if it is possible with textpad,
>because I don't know this editor.

It is possible with TextPad.  I am sure on the commerical website 
textpad.com, you can find a syntax rules file for S. It could be used with 
R code.
(go to the preferences of TextPad, create a new class of files, "*.R" and 
specify you want to use this syntax file).

Eric


?------------------------?------------------------------------------------?
| Eric Lecoutre          | DEA de Statistiques                           |
| Voie du Roman Pays, 20 | Assistant/Consultant en Statistique           |
| 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                |
| Belgique               | lecoutre at stat.ac.ucl.be                       |
|(0032) 10 47 30 50      | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
?------------------------?------------------------------------------------?
|      Statistics show that of those who contract                        |
|        the habit of eating, very few survive.           WALLACE IRWIN  |
?-------------------------------------------------------------------------?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 11 18:32:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 17:32:05 +0100 (BST)
Subject: [R] g77 FFLAGS?
In-Reply-To: <3AD47E38.BE4F82B@mcw.edu>
Message-ID: <Pine.LNX.4.31.0104111728250.1615-100000@gannet.stats>

On Wed, 11 Apr 2001, Rodney Sparapani wrote:

> I'm trying to compile R under Mac OS X using gcc/g77 2.95.2.  There is
> an interesting blurb in install:
>
> You must set whatever compilation flags (if any) are needed to ensure
> that FORTRAN `integer' is equivalent to a C int pointer and FORTRAN
> `double precision' is equivalent to a C double pointer.  This is checked
>
> during the configuration process.
>
> I'm not an avid FORTRAN user.  Can someone tell me what these FFLAGS
> might be for g77?  Thanks.

Normally none for pairs like gcc/g77, including in that case.  As it
*is* checked, did you just go ahead and see?

This is often needed when mixing compilers from different vendors,
though.

We would suggest that you use R-patched.tar.gz, which has hints about
how other people have done this, and some patches to make configuration
etc run more smoothly.  By the time 1.2.3 is released, compilation on
Mac OS X will be supported.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Apr 11 22:36:28 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Thu, 12 Apr 2001 08:36:28 +1200
Subject: [R] anybody using R with TextPad?
References: <20010411011827.C2DA.SGSONG@ucla.edu> <3AD452D8.D67C56ED@statistik.uni-dortmund.de>
Message-ID: <002301c0c2c7$1683f100$135237d2@kokangwang>

Hi,

----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Shige Song" <sgsong at ucla.edu>
Cc: <R-help at r-project.org>
Sent: Thursday, April 12, 2001 12:49 AM
Subject: Re: [R] anybody using R with TextPad?


> Maybe you want to try out ESS for the Emacs, if you don't already use
> it.

Exactly what is ESS for the Emacs?  I'm currently using R-WinEdt and found
it to be very good.  I've also got Emacs/XEmacs under my Linux OS.  However
I can't figure out what ESS for the Emacs is.  Is it just for Windows and
how can I get/install it?

Thanks!

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Apr 12 03:56:51 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Wed, 11 Apr 2001 18:56:51 -0700
Subject: [R] Robust skewness and kurtosis??
In-Reply-To: <002301c0c2c7$1683f100$135237d2@kokangwang>
Message-ID: <HBEHIIBBKKNOBLMPKCBBKEDKDEAA.znmeb@aracnet.com>

Maybe this is the wrong list to ask this on, but are there robust statistics
equivalent to the coefficients of skewness and kurtosis? I have robust
measures for location and scale, but I need them for skewness and kurtosis
as well.

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Thu Apr 12 04:47:46 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 11 Apr 2001 21:47:46 -0500 (CDT)
Subject: [R] Robust skewness and kurtosis??
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBKEDKDEAA.znmeb@aracnet.com>
Message-ID: <Pine.SOL.3.96.1010411214327.3238C-100000@ysidro>

I would recommend 

Oja, H.%t	On Location, scale, skewness, and kurtosis of 
univariate distributions%j	scand j statist%d	1981



url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Wed, 11 Apr 2001, M. Edward Borasky wrote:

> Maybe this is the wrong list to ask this on, but are there robust statistics
> equivalent to the coefficients of skewness and kurtosis? I have robust
> measures for location and scale, but I need them for skewness and kurtosis
> as well.
> 
> --
> M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
> http://www.borasky-research.net  http://www.aracnet.com/~znmeb
> mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com
> 
> If there's nothing to astrology, how come so many famous men were born on
> holidays?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr 12 08:26:50 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 12 Apr 2001 08:26:50 +0200
Subject: [R] anybody using R with TextPad?
References: <20010411011827.C2DA.SGSONG@ucla.edu> <3AD452D8.D67C56ED@statistik.uni-dortmund.de> <002301c0c2c7$1683f100$135237d2@kokangwang>
Message-ID: <3AD54AAA.8EE22575@statistik.uni-dortmund.de>

Ko-Kang at xtra.co.nz wrote:

> Exactly what is ESS for the Emacs? 

>From CRAN:
"Emacs speaks Statistics (ESS), an Emacs-Lisp interface to interactive
statistical programming and data analysis languages, including: S
dialects (such as R), LispStat dialects and SAS."


> I'm currently using R-WinEdt and found it to be very good.  

Thank you!


> I've also got Emacs/XEmacs under my Linux OS.  However
> I can't figure out what ESS for the Emacs is.  Is it just for Windows and
> how can I get/install it?

No, not only for windows. It works with the emacs (on linux, solaris,
windows, ...).

For example you'll get it at:
-  http://ess.stat.wisc.edu
-  http://CRAN.R-Project.org/src/other/ess/

The installation is decribed in the readme.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hli at anvilinformatics.com  Thu Apr 12 18:11:29 2001
From: hli at anvilinformatics.com (Hongli Li)
Date: Thu, 12 Apr 2001 12:11:29 -0400
Subject: [R] Install Packages
Message-ID: <001c01c0c36b$3fa74e20$1000a8c0@COPPER>

Hi,
I am trying to install "Rstrams" package, I have download the Rstreams_1.1-2.tar.gz in my computer and I tried the following 
1. install.packages("Rstreams",lib=.lib.loc,"c:/R/package/Rstreams_1.1-2.tar.gz" )
  
 I got 
      'lynx' is not recognized as an internal or external command,
       operable program or batch file.
       Error in httpclient(url, check.MIME.type = TRUE, file = destfile) : 
               Not an http:// URL
       In addition: Warning messages: 
       1: wget not found 
       2: cmd execution failed with error code 1 in: shell("lynx -help", invisible = TRUE) 

2.install.packages("Rstreams", .lib.loc, CRAN = getOption("CRAN"), method = "auto", available =  NULL,.lib.loc)

   I got 
     'lynx' is not recognized as an internal or external command,
      operable program or batch file. 
      Error in httpclient(url, check.MIME.type = TRUE, file = destfile) : 
            Not an http:// URL
     In addition: Warning messages: 
     1: wget not found 
     2: cmd execution failed with error code 1 in: shell("lynx -help", invisible = TRUE) 

it seems no matter what I use, I always get the same error  message

What should I do?

Thanks

Hongli Li



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010412/ce7021df/attachment.html

From hli at anvilinformatics.com  Thu Apr 12 18:27:56 2001
From: hli at anvilinformatics.com (Hongli Li)
Date: Thu, 12 Apr 2001 12:27:56 -0400
Subject: [R] Write to a file
Message-ID: <002d01c0c36d$8b5c2fa0$1000a8c0@COPPER>

Hi,

I am trying to write a vector of list in to a file. I used the following 
       write(result,file="ttest.txt")
I got an error message
       Error in cat(list(...), file, sep, fill, labels, append) : 
                 argument 1 not yet handled by cat

Then I tested the property of my object

> is.vector(result[])
[1] TRUE

> is.list(result[])
[1] TRUE

> is.list(result)
[1] TRUE

> is.vector(result)
[1] TRUE

I don't understand why my list of vector can not be handled by cat.

How to solve it?

Thanks 

Hongli Li

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010412/f4028dfc/attachment.html

From arzheimer at politik.uni-mainz.de  Thu Apr 12 18:31:00 2001
From: arzheimer at politik.uni-mainz.de (Kai Arzheimer)
Date: 12 Apr 2001 18:31:00 +0200
Subject: [R] estimates for e in procedure arima0() ?
Message-ID: <m2vgoagjwb.fsf@ipofa.politik.uni-mainz.de>

Dear all,
this may be a stupid question but...

The underlying model in procedure arima0 is

X[t] = a[1]X[t-1] + ... + a[p]X[t-p] + e[t] + b[1]e[t-1] + ... +b[q]e[t-q]

Is it possible to get an estimate of e for every point t, t-1 etc. or
at least an estimate of the variance of e?

Thanks a lot in advance for any hints

Kai Arzheimer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr 12 18:34:09 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 12 Apr 2001 09:34:09 -0700 (PDT)
Subject: [R] Install Packages
In-Reply-To: <001c01c0c36b$3fa74e20$1000a8c0@COPPER>
Message-ID: <Pine.A41.4.33.0104120925200.60936-100000@homer24.u.washington.edu>

On Thu, 12 Apr 2001, Hongli Li wrote:

> Hi,
> I am trying to install "Rstrams" package, I have download the Rstreams_1.1-2.tar.gz in my computer and I tried the following
> 1. install.packages("Rstreams",lib=.lib.loc,"c:/R/package/Rstreams_1.1-2.tar.gz" )
>
>  I got
>       'lynx' is not recognized as an internal or external command,
>        operable program or batch file.
>        Error in httpclient(url, check.MIME.type = TRUE, file = destfile) :
>                Not an http:// URL
>        In addition: Warning messages:
>        1: wget not found
>        2: cmd execution failed with error code 1 in: shell("lynx -help", invisible = TRUE)
>

>
> What should I do?

If you want to download automatically you need wget or lynx. You can find
wget at http://www.interlog.com/~tcharron/wgetwin.html

If you want to install a package you have downloaded separately you need
to
a) download the right package (the .zip binary, not the .tar source)
b) read the documentation of install.packages() to find out how to specify
a package file rather than a website: the file is the first argument to
install.packages() and the CRAN argument needs to be NULL.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr 12 18:38:04 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 12 Apr 2001 09:38:04 -0700 (PDT)
Subject: [R] Write to a file
In-Reply-To: <002d01c0c36d$8b5c2fa0$1000a8c0@COPPER>
Message-ID: <Pine.A41.4.33.0104120936190.60936-100000@homer24.u.washington.edu>

On Thu, 12 Apr 2001, Hongli Li wrote:

> Hi,
>
> I am trying to write a vector of list in to a file. I used the following
>        write(result,file="ttest.txt")
> I got an error message
>        Error in cat(list(...), file, sep, fill, labels, append) :
>                  argument 1 not yet handled by cat
>
> Then I tested the property of my object
>
> > is.vector(result[])
> [1] TRUE
>
> > is.list(result[])
> [1] TRUE
>
> > is.list(result)
> [1] TRUE
>
> > is.vector(result)
> [1] TRUE
>
> I don't understand why my list of vector can not be handled by cat.
>

write is for writing matrices. As the documentation for write() suggests,
see save() and write.table() for other possibilities (and dump())

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 12 18:52:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 17:52:49 +0100 (BST)
Subject: [R] Install Packages
In-Reply-To: <Pine.A41.4.33.0104120925200.60936-100000@homer24.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0104121748300.1707-100000@toucan.stats>

On Thu, 12 Apr 2001, Thomas Lumley wrote:

> On Thu, 12 Apr 2001, Hongli Li wrote:
>
> > Hi,
> > I am trying to install "Rstrams" package, I have download the Rstreams_1.1-2.tar.gz in my computer and I tried the following
> > 1. install.packages("Rstreams",lib=.lib.loc,"c:/R/package/Rstreams_1.1-2.tar.gz" )
> >
> >  I got
> >       'lynx' is not recognized as an internal or external command,
> >        operable program or batch file.
> >        Error in httpclient(url, check.MIME.type = TRUE, file = destfile) :
> >                Not an http:// URL
> >        In addition: Warning messages:
> >        1: wget not found
> >        2: cmd execution failed with error code 1 in: shell("lynx -help", invisible = TRUE)
> >
>
> >
> > What should I do?
>
> If you want to download automatically you need wget or lynx. You can find
> wget at http://www.interlog.com/~tcharron/wgetwin.html

Actually, the preferred version of wget is at the the location on the help
page for install.packages.  So all Hongli Li had to do was read the
documentation!

Actually reading the help page is always a good idea before posting: it
can save a great deal of time.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 12 18:59:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 17:59:46 +0100 (BST)
Subject: [R] estimates for e in procedure arima0() ?
In-Reply-To: <m2vgoagjwb.fsf@ipofa.politik.uni-mainz.de>
Message-ID: <Pine.GSO.4.31.0104121754490.1707-100000@toucan.stats>

On 12 Apr 2001, Kai Arzheimer wrote:

> Dear all,
> this may be a stupid question but...
>
> The underlying model in procedure arima0 is
>
> X[t] = a[1]X[t-1] + ... + a[p]X[t-p] + e[t] + b[1]e[t-1] + ... +b[q]e[t-q]
>
> Is it possible to get an estimate of e for every point t, t-1 etc. or
> at least an estimate of the variance of e?

e is not a parameter, so you cannot estimate it.  However, its variance is
a parameter whose estimate is quoted in the standard output:

> example(arima0)

arima0> data(lh)

arima0> arima0(lh, order = c(1, 0, 0))

Call:
arima0(x = lh, order = c(1, 0, 0))

Coefficients:
      ar1  intercept
   0.5739     2.4133

Approx standard errors:
      ar1  intercept
   0.1162     0.1466

sigma^2 estimated as 0.1975:  log likelihood = -29.38,  aic = 62.76
^^^^^^^^^^^^^^^^^^^^^^^^^^^


I suspect that by `estimate of e' you mean the residuals returned in the
resid component of the fit.


> Thanks a lot in advance for any hints

Hint: read the help page, run the examples, compare the output with the
references, make sure you understand what each piece means.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Fri Apr 13 10:59:59 2001
From: sgsong at ucla.edu (Shige Song)
Date: Fri, 13 Apr 2001 01:59:59 -0700
Subject: [R] batch mode?
Message-ID: <20010413015604.48F7.SGSONG@ucla.edu>

Hi,

I was trying to use the batch mode "rcmd" under Windows NT. The online
help says the right command should be "Rcmd BATCH [options] infile [outfile]".
But when I type "rcmd BATCH aaa.r" I got message of "The name specified
is not recognized as an internal or external command, operable program
or batch file." What is wrong? I know this is a quite elementary
question, but  I really can not find the answer from the docs. Thank you
very much!

Shige Song
Department of Sociology, UCLA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Apr 13 11:52:26 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 13 Apr 2001 05:52:26 -0400 (EDT)
Subject: [R] batch mode?
Message-ID: <200104130952.FAA15879@cattell.psych.upenn.edu>

Sorry to answer this _without_ re-reading the docs, but
what works for me is:
R --vanilla < aaa.R
The file aaa.R contains any commands I need to write other
things to the disk.  I'm sure there are other ways to do it.
Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Fri Apr 13 11:56:26 2001
From: sgsong at ucla.edu (Shige Song)
Date: Fri, 13 Apr 2001 02:56:26 -0700
Subject: [R] batch mode?
In-Reply-To: <Pine.WNT.4.31.0104131036360.232-100000@tern.stats>
References: <20010413015604.48F7.SGSONG@ucla.edu> <Pine.WNT.4.31.0104131036360.232-100000@tern.stats>
Message-ID: <20010413025417.48FA.SGSONG@ucla.edu>

The correct syntax should be: rterm --no-restore --no-save <aaa.r
>aaa.out. The problem is that I don't have perl installed in my computer.

Best,
Shige

On Fri, 13 Apr 2001 10:38:39 +0100 (GMT Daylight Time)
Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> On Fri, 13 Apr 2001, Shige Song wrote:
> 
> > I was trying to use the batch mode "rcmd" under Windows NT. The online
> > help says the right command should be "Rcmd BATCH [options] infile [outfile]".
> > But when I type "rcmd BATCH aaa.r" I got message of "The name specified
> > is not recognized as an internal or external command, operable program
> > or batch file." What is wrong? I know this is a quite elementary
> > question, but  I really can not find the answer from the docs. Thank you
> > very much!
> 
> Try reading them more carefully!  Is Rcmd.exe in your path?  Is it actually
> installed (it is not part of the default installation)?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 13 12:16:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 13 Apr 2001 11:16:14 +0100 (GMT Daylight Time)
Subject: [R] batch mode?
In-Reply-To: <20010413025417.48FA.SGSONG@ucla.edu>
Message-ID: <Pine.WNT.4.31.0104131113480.198-100000@tern.stats>

On Fri, 13 Apr 2001, Shige Song wrote:

> The correct syntax should be: rterm --no-restore --no-save <aaa.r
> >aaa.out. The problem is that I don't have perl installed in my computer.

As the FAQ item 2.7 says, in both cases, please note!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 13 12:20:17 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 13 Apr 2001 12:20:17 +0200
Subject: [R] batch mode?
References: <20010413015604.48F7.SGSONG@ucla.edu>
Message-ID: <3AD6D2E1.192439C2@statistik.uni-dortmund.de>



Shige Song wrote:
> 
> Hi,
> 
> I was trying to use the batch mode "rcmd" under Windows NT. The online
> help says the right command should be "Rcmd BATCH [options] infile [outfile]".
> But when I type "rcmd BATCH aaa.r" I got message of "The name specified
> is not recognized as an internal or external command, operable program
> or batch file." What is wrong? I know this is a quite elementary
> question, but  I really can not find the answer from the docs. Thank you
> very much!

1. Install R (including the file rw1022sp.zip, if not compiling from
source)
2. Set "...\rw1022\bin" to your path
3. Install perl


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guo at ele.uri.edu  Sat Apr 14 17:59:29 2001
From: guo at ele.uri.edu (Edwin Guo)
Date: Sat, 14 Apr 2001 11:59:29 -0400
Subject: [R] loess question
Message-ID: <3AD873E1.4F71B1DE@ele.uri.edu>

Hi,
I used loess( ) to build a model that has 5 predictors using R of Wndows

version. And it tells me that there is an unknown error. If I decrease
the number of predictors, then there will be no error. My questions are:

1. Can loess( ) handle more than 4 predictors.
2. If it can not, is there any other smoothing regression technique that

can handle more predictors.

Any comment will be very helpful to me. Thank you in advance!


Edwin



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 14 20:42:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Apr 2001 19:42:09 +0100 (BST)
Subject: [R] loess question
In-Reply-To: <3AD873E1.4F71B1DE@ele.uri.edu>
Message-ID: <Pine.GSO.4.31.0104141940200.10451-100000@auk.stats>

On Sat, 14 Apr 2001, Edwin Guo wrote:

> Hi,
> I used loess( ) to build a model that has 5 predictors using R of Wndows
>
> version. And it tells me that there is an unknown error. If I decrease
> the number of predictors, then there will be no error. My questions are:
>
> 1. Can loess( ) handle more than 4 predictors.
> 2. If it can not, is there any other smoothing regression technique that
>
> can handle more predictors.
>
> Any comment will be very helpful to me. Thank you in advance!

Well, possibly you are short of points: you need *many* points in 4D
to do non-parametric smoothing (say billions).

You will need send us an example and the exact output to help you, though!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Sat Apr 14 22:32:36 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sun, 15 Apr 2001 05:32:36 +0900
Subject: [R] How to create polygons from voronoi objects in tripack?
Message-ID: <001401c0c522$0b6fa540$690202c0@myvaio>

Hello.

 I'd like to convert voronois object created by tripack to polygons to use
them in GIS(Geographic Information Systems) software.  I tried to create
voronoi objects by using following code.

> library(tripack)
> x <- rnorm(10)
> y <- rnorm(10)
> plot(x,y)
> v<-voronoi.mosaic(x,y)
> plot(v)

 But from here, I could not create polygons.

 Of course, I know v$n1..3 -- node info, v$x and v$y coordinates. But I only
create lines from them.

 For triangulation(Delaunay) object, there is trinagle object form which I
can create polygon. But for Voronoi, there's no polygon object which has
constructed "Voronoi" polygons.

Does anyone know how to do this solution?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010415/32854cda/attachment.html

From al-salmani at freenet.de  Sun Apr 15 19:02:08 2001
From: al-salmani at freenet.de (Al-Salmani Mohamad Masud)
Date: Sun, 15 Apr 2001 19:02:08 +0200
Subject: [R] Looking for help
Message-ID: <000c01c0c5cd$cf4a6260$937506d5@mohamadmasud>

Dear sir /madam,
I am a statistics student, I have to worke during my study with S-plus, I would be most grateful if you could informe me,how I could get the right softwear. 
Thank you in advance.
Waiting your kind reply.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010415/4533eaa9/attachment.html

From lookout_20005 at yahoo.com  Sun Apr 15 22:57:58 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Sun, 15 Apr 2001 13:57:58 -0700 (PDT)
Subject: [R] newbie to R but not to stats programming
Message-ID: <20010415205758.84329.qmail@web9301.mail.yahoo.com>

Dear R-list

I am a newbie to R, but I have been doing statistical
programming for 15 years, in SAS, Stata, Perl, and
various idioms of SQL.  A number of basic working
issues have so far eluded me in R, so I thought I
would post several long and newbie messages in the
hope that several people will respond with different
ways to resolve these issues.  

I have read Maindonald's _ Intro_, and the Venebles et
al _Intro_ and I have browsed the  reference manual
and online help.  The Venebles et al _S_ book  is in
the mail.  I will be very pleased to RTFM if only you
can point me to the appropriate section.  

This said, I have some questions about work
organization in R.  In SAS and Stata, I frequently
reshape data sets.  I figured out how to merge, but
how do I check the quality of the merge (records in
both A and B, in A but not B, in B but not A, etc.). 
How do I append records from one data set to another? 
Is there an easy way to drop variables (columns) from
a data frame without copying the data frame?  How do I
add new variables -- do I have to use cbind()?  

Is the only way to manage log files to use UNIX file
redirection from the command line?  I have a set of
scripts in Stata that control log generation, time
stamping, project working directories, etc. Do people
on this list have similar scripts for R?  How are such
scripts included and would people be willing to share
them?  

Whenever I create variables,  I try to think of
different ways to check whether things went properly. 
In Stata, the "assert" command evaluates a logical
condiation over all records.  Is there a similar
facility or scripts (for different contexts) for R?   

Thanks very much for this discussion.  I will post two
other messages focusing on particular tasks.

Best.

- PB

Patrick Ball, PhD.
Deputy Director
AAAS Science and Human Rights Program
http://shr.aaas.org



__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Sun Apr 15 22:59:50 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Sun, 15 Apr 2001 13:59:50 -0700 (PDT)
Subject: [R] contingency tables in R
Message-ID: <20010415205950.13010.qmail@web9307.mail.yahoo.com>

Dear List:

Most of the analysis I do involves contingency tables.
 I am migrating to R from Stata and I have a number of
questions about using contingency tables in R.  I
suspect that most of the things I want to do are very
short R scripts that people on this list probably
have.  I wonder if you would be willing to share them.
 

First, the presentation of tables by table() is not
analysis-ready.  Is there a way to output the table
with the marginals, by cell, row or column
proportions,  with the test statistics (especially the
chi^2 and the log-likelihood chi^2), residuals, cross
product, and odds ratio?  

I also like to make tables that have summary
statistics of a given variable in the columns (mean,
s.d., etc.)  with each row being the value for a sub
group of the data.  How do you do this in R?  

The most complicated piece of this is contingency
tables done with sample data.  The sampling involves
several strata with different sampling weights. 
Calculating the cell (or row or column) probabilities
is relatively easy, but the other statistics can be
complicated (the design effect, the finite population
correction, the various chi^2s, and the standard
errors and confidence intervals). Also, I sometimes
make these tables with summary statistics in place of
counts or population proportions.  

Is there any way to do this stuff in R without hacking
it all myself?  

Thanks in advance for your suggestions. 

Best.

- PB

Patrick Ball, PhD.
Deputy Director
AAAS Science and Human Rights Program
http://shr.aaas.org






__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Sun Apr 15 23:01:35 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Sun, 15 Apr 2001 14:01:35 -0700 (PDT)
Subject: [R] data manipulation in R
Message-ID: <20010415210135.53711.qmail@web9305.mail.yahoo.com>

Dear List:

I have a data manipulation problem that I was unable
to solve in R.  I did it in SQL, and it may be that
the solution in R is to do it in SQL, but I wondered
if people could imagine a vector-based solution.  

Imagine a list A[i] of observers who observe some set
of events B[j].  Each observer i may observe one or
more events, and each event j may have been observed
by one or more observers.  Thus the data are a
lower-triangular array AxB where each cell [i,j] has a
zero or one indicating whether observer i saw event j.
 

I am interested in how observers cluster in circuits
whereby observer _a_ sees events _1,2,3_, observer _b_
sees events _2,4,5_, observer _c_ sees event _4_, and
observer _d_ sees _4,6,7_.  Observers a, b, c, d
comprise a circuit linked by the events they jointly
observed.  

Given AxB, how can we use R to articulate the
circuits?  Pseudocode for my SQL solution is below.

For each observation i:  
	- get all the events [j1,j2,...jk] observed by i
	- get all the observations [i_m] which observe one or
more events in  [j1,j2,...jk]
	- count [i_m] 
 	- assign events [i_m] to i's circuit if i_m > i
	- end

What would an R solution look like?  The "get all the"
and the "assign events" are pure SQL reasoning
(select, update).  

Thanks in advance.

Best.

- PB

Patrick Ball, PhD.
Deputy Director
AAAS Science and Human Rights Program
http://shr.aaas.org








__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Apr 16 10:57:19 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 10:57:19 +0200
Subject: [R] contingency tables in R
In-Reply-To: <20010415205950.13010.qmail@web9307.mail.yahoo.com>
References: <20010415205950.13010.qmail@web9307.mail.yahoo.com>
Message-ID: <15066.46063.538179.272879@mithrandir.hornik.net>

>>>>> Patrick Ball writes:

> Dear List:

> Most of the analysis I do involves contingency tables.  I am migrating
> to R from Stata and I have a number of questions about using
> contingency tables in R.  I suspect that most of the things I want to
> do are very short R scripts that people on this list probably have.  I
> wonder if you would be willing to share them.

> First, the presentation of tables by table() is not analysis-ready.
> Is there a way to output the table with the marginals, by cell, row or
> column proportions, with the test statistics (especially the chi^2 and
> the log-likelihood chi^2), residuals, cross product, and odds ratio?

Not in one monolithic function, I think, and I am not sure I would like
to have such a thing, see below.  But the pieces are all there:

* Use margin.table() and prop.table() to obtain margins and proportions,
  respectively.

* Use chisq.test() [in package ctest] for the chisq analysis (test
  statistic, p-value, chisq residuals)

* Use loglin() for the LR chisq and residuals.

* Not sure about which odds ratios you want.  Function mantelhaen.test()
  in package ctest does exact conditional ones for 2 by 2 tables.

It really depends on how your data is set up.  If you have the raw
values in a data frame, I would actually recommend using xtabs() rather
than table().  Try e.g.

     data(esoph)
     x <- xtabs(cbind(ncases, ncontrols) ~ ., data = esoph)
     x
     summary(x)

the last one prints ``useful'' summary information.

To obtain pretty-printed output from multi-way tables, use ftable().

> I also like to make tables that have summary statistics of a given
> variable in the columns (mean, s.d., etc.)  with each row being the
> value for a sub group of the data.  How do you do this in R?

Use aggregate().

> The most complicated piece of this is contingency tables done with
> sample data.  The sampling involves several strata with different
> sampling weights.  Calculating the cell (or row or column)
> probabilities is relatively easy, but the other statistics can be
> complicated (the design effect, the finite population correction, the
> various chi^2s, and the standard errors and confidence
> intervals). Also, I sometimes make these tables with summary
> statistics in place of counts or population proportions.

> Is there any way to do this stuff in R without hacking it all myself?

The pieces are all there, I think, and it should be fairly simple to
combine them to reflect your personal preferences for displaying
categorical information etc.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Apr 16 14:14:38 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 16 Apr 2001 13:14:38 +0100
Subject: [R] contingency tables in R
In-Reply-To: <15066.46063.538179.272879@mithrandir.hornik.net>
References: <20010415205950.13010.qmail@web9307.mail.yahoo.com>
 <15066.46063.538179.272879@mithrandir.hornik.net>
Message-ID: <yS4EcABuIu26EwGG@myatt.demon.co.uk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:
>>>>>> Patrick Ball writes:
>
>> Dear List:
>
>> Most of the analysis I do involves contingency tables.  I am migrating
>> to R from Stata and I have a number of questions about using
>> contingency tables in R.  I suspect that most of the things I want to
>> do are very short R scripts that people on this list probably have.  I
>> wonder if you would be willing to share them.
>
>> First, the presentation of tables by table() is not analysis-ready.
>> Is there a way to output the table with the marginals, by cell, row or
>> column proportions, with the test statistics (especially the chi^2 and
>> the log-likelihood chi^2), residuals, cross product, and odds ratio?
>
>Not in one monolithic function, I think, and I am not sure I would like
>to have such a thing, see below.  But the pieces are all there:
>
>* Use margin.table() and prop.table() to obtain margins and proportions,
>  respectively.
>
>* Use chisq.test() [in package ctest] for the chisq analysis (test
>  statistic, p-value, chisq residuals)
>
>* Use loglin() for the LR chisq and residuals.

Most of this is in table() and chisq.test(). Here is an example from
RWeb:

twoWay <- function( x=NA, y=NA, userDefined=NA ){

  if (is.na(userDefined)){
    result <- chisq.test(table(x,y))
  }
  else{
    result <- chisq.test(userDefined)
  }

  print (result)
  observed <-result$observed
  expected <- result$expected
  chi.table <- ((observed - expected)^2)/expected
  row.sum <- apply(observed,1,sum)
  col.sum <- apply(observed,2,sum)
  N <- sum(observed)

  ## put in the marginals and names  ... create fullArray
  fullArray <- cbind(observed,row.sum)
  fullArray <- rbind(fullArray,c(col.sum,N))
  rownames(fullArray) <-  c(rownames(observed), "Total")
  colnames(fullArray) <- c(colnames(observed), "Total")

  ## make the tables of proportions
  proportion <- fullArray/N
  row.proportion <- fullArray/c(row.sum,N)
  col.proportion <- t(t(fullArray)/c(col.sum, N))

  return(list(fA=fullArray, e=expected, ct=chi.table, p=proportion,
rp=row.proportion, cp=col.proportion))
}

This needs a nice print() method.

>
>* Not sure about which odds ratios you want.  Function mantelhaen.test()
>  in package ctest does exact conditional ones for 2 by 2 tables.

And fisher.test(). Have a look at my intro text
(http://www.myatt.demon.co.uk) for examples of calculating RRs and ORs
in tabulating functions.

>
>It really depends on how your data is set up.  If you have the raw
>values in a data frame, I would actually recommend using xtabs() rather
>than table().  Try e.g.
>
>     data(esoph)
>     x <- xtabs(cbind(ncases, ncontrols) ~ ., data = esoph)
>     x
>     summary(x)
>
>the last one prints ``useful'' summary information.
>
>To obtain pretty-printed output from multi-way tables, use ftable().
>
>> I also like to make tables that have summary statistics of a given
>> variable in the columns (mean, s.d., etc.)  with each row being the
>> value for a sub group of the data.  How do you do this in R?
>
>Use aggregate().
>

Or by().

>> The most complicated piece of this is contingency tables done with
>> sample data.  The sampling involves several strata with different
>> sampling weights.  Calculating the cell (or row or column)
>> probabilities is relatively easy, but the other statistics can be
>> complicated (the design effect, the finite population correction, the
>> various chi^2s, and the standard errors and confidence
>> intervals). Also, I sometimes make these tables with summary
>> statistics in place of counts or population proportions.
>
>> Is there any way to do this stuff in R without hacking it all myself?
>
>The pieces are all there, I think, and it should be fairly simple to
>combine them to reflect your personal preferences for displaying
>categorical information etc.

Yes, the key bits are all there. It should not take to long to get a
function that meets your own needs.

Mark



--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baruchf at mit.edu  Mon Apr 16 16:34:33 2001
From: baruchf at mit.edu (Baruch P Feldman)
Date: Mon, 16 Apr 2001 10:34:33 -0400
Subject: [R] Help with plotting error bars in R
Message-ID: <200104161434.KAA01577@home-on-the-dome.mit.edu>

Hi,

I'm sorry to send email to everyone on this list, but I have a simple question
which is bothering me and I can't seem to figure out the correct answer.  I 
just downloaded R and I'm trying to reproduce some simple analysis I've done
on other packages.  In particular, if I have a vector of experimental values
and a vector of their uncertainties, is there a way to plot the values using
the uncertainties as error bars?  Other than this one problem R so far seems to
be a very good package.

I'd greatly appreciate it if someone could reply to my email directly.

Thank you.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon Apr 16 17:14:38 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 16 Apr 2001 10:14:38 -0500
Subject: [R] loess question
In-Reply-To: <3AD873E1.4F71B1DE@ele.uri.edu> (message from Edwin Guo on Sat,
	14 Apr 2001 11:59:29 -0400)
Message-ID: <200104161514.KAA199924@odds.stat.purdue.edu>

   Date: Sat, 14 Apr 2001 11:59:29 -0400
   From: Edwin Guo <guo at ele.uri.edu>
   X-Mailer: Mozilla 4.7 [en]C-CCK-MCD EBM-Compaq  (Win95; U)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi,
   I used loess( ) to build a model that has 5 predictors using R of Wndows

   version. And it tells me that there is an unknown error. If I decrease
   the number of predictors, then there will be no error. My questions are:

   1. Can loess( ) handle more than 4 predictors.
   2. If it can not, is there any other smoothing regression technique that

   can handle more predictors.

   Any comment will be very helpful to me. Thank you in advance!


   Edwin



   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


For an alternative you may use the gss package.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Mon Apr 16 17:16:57 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Mon, 16 Apr 2001 11:16:57 -0400
Subject: [R] data manipulation in R
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED7D5@uswpmx13.merck.com>

I may not have properly understood your problem, but if what you want is to
arrive at is a grouping of observers into non-overlapping groups such that
two observers are in the same group exactly when they have observed a common
event, then it boils down to a basic graph problem: find the connected
components of a graph. There are efficient algorithms for this problem but
in my opinion they are more suited to C than R due to the (data-dependent)
way they trace through the data structure (i.e., I can't see a way to
vectorize it). Perhaps other algorithms exist which might be more suitable
for R but I am not aware of them.

What I do is just have a simple stand-alone program to do this, and
communicate with it via flat files or pipes. If the overhead started to
become a problem it might be worthwhile to explore a better "interface" but
I'm not there yet.

I don't know of an existing R package for this or for other common graph
problems, but there are fairly comprehensive C or C++ libraries available.
S. Skiena, The Algorithm Design Manual, is useful and has a lot of
references, see http://www.algorist.com/ for links.

Assumming I've correctly understood the problem, the algorithm you've
sketched seems not to take proper account of observers (nodes) separated by
more than one other observer. After the first two steps, you have for each i
the set N(i) of its neighbors (nodes connected to i by an edge) and from
this data it is essentially the same problem as before to decide which of
these sets overlap etc. In other words you need to iterate these steps as
many times as the length of the longest distance in the graph... This could
be made to work but isn't efficient.

Hope that helps,

Reid Huntsinger

-----Original Message-----
From: Patrick Ball [mailto:lookout_20005 at yahoo.com]
Sent: Sunday, April 15, 2001 5:02 PM
To: r-help at lists.R-project.org
Subject: [R] data manipulation in R


Dear List:

I have a data manipulation problem that I was unable
to solve in R.  I did it in SQL, and it may be that
the solution in R is to do it in SQL, but I wondered
if people could imagine a vector-based solution.  

Imagine a list A[i] of observers who observe some set
of events B[j].  Each observer i may observe one or
more events, and each event j may have been observed
by one or more observers.  Thus the data are a
lower-triangular array AxB where each cell [i,j] has a
zero or one indicating whether observer i saw event j.
 

I am interested in how observers cluster in circuits
whereby observer _a_ sees events _1,2,3_, observer _b_
sees events _2,4,5_, observer _c_ sees event _4_, and
observer _d_ sees _4,6,7_.  Observers a, b, c, d
comprise a circuit linked by the events they jointly
observed.  

Given AxB, how can we use R to articulate the
circuits?  Pseudocode for my SQL solution is below.

For each observation i:  
	- get all the events [j1,j2,...jk] observed by i
	- get all the observations [i_m] which observe one or
more events in  [j1,j2,...jk]
	- count [i_m] 
 	- assign events [i_m] to i's circuit if i_m > i
	- end

What would an R solution look like?  The "get all the"
and the "assign events" are pure SQL reasoning
(select, update).  

Thanks in advance.

Best.

- PB

Patrick Ball, PhD.
Deputy Director
AAAS Science and Human Rights Program
http://shr.aaas.org








__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 16 17:40:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 17:40:22 +0200
Subject: [R] Support for compartment models / matrix exponential method
In-Reply-To: Thomas Hoffmann's message of "Mon, 9 Apr 2001 14:55:49 +0200 (METDST)"
References: <200104091255.OAA12053@ehmgs2.et.tu-dresden.de>
Message-ID: <x2oftwdfa1.fsf@blueberry.kubism.ku.dk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> I try to fit reaction kinetic data to a given hypothetical model
> consisting of 3 ODEs. After some reading in Bates/Watts and the literature
> cited there (e.g. Jennrich/Bright) I looked in R for functions that support
> the use of the matrix exponential method. Until now I used for a similar
> (but simpler) problem the nls package and fitted against the the parameterized
> solution function. But this works only for simple kinetics.
> 
> The algorithms in the nls package (e.g. SSfol) work on "closed forms" of the
> solution function, too.
> 
> My question is: Are there examples or functions in R that show the usage of
> the matrix exponential method or do I have to build the steps from primitive
> functions myself, e.g. following the recipe in Jennrich/Bright (or is there 
> even a superior method for this kind of tasks that I am not aware of)?

There's a strong temptation to lift the expm function off of Octave... 

Yes, we need it, for compartment models and also continuous-time
Markov chain models.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr 16 17:54:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 16 Apr 2001 08:54:14 -0700 (PDT)
Subject: [R] data manipulation in R
In-Reply-To: <20010415210135.53711.qmail@web9305.mail.yahoo.com>
Message-ID: <Pine.A41.4.33.0104160843290.118122-100000@homer21.u.washington.edu>

On Sun, 15 Apr 2001, Patrick Ball wrote:

> Dear List:
>
> I have a data manipulation problem that I was unable
> to solve in R.  I did it in SQL, and it may be that
> the solution in R is to do it in SQL, but I wondered
> if people could imagine a vector-based solution.
>
> Imagine a list A[i] of observers who observe some set
> of events B[j].  Each observer i may observe one or
> more events, and each event j may have been observed
> by one or more observers.  Thus the data are a
> lower-triangular array AxB where each cell [i,j] has a
> zero or one indicating whether observer i saw event j.
>
>
> I am interested in how observers cluster in circuits
> whereby observer _a_ sees events _1,2,3_, observer _b_
> sees events _2,4,5_, observer _c_ sees event _4_, and
> observer _d_ sees _4,6,7_.  Observers a, b, c, d
> comprise a circuit linked by the events they jointly
> observed.

I don't see why this is a lower-triangular matrix. If every observer saw
every event wouldn't it be a rectangular matrix of 1s?

You can solve this in R, but I shouldn't think it would be very efficient.
I think it's going to involve iteration over either the events or the
observers.

One solution:

Suppose A is the matrix of zeros & ones, in your case
> A
     [,1] [,2] [,3] [,4] [,5] [,6] [,7]
[1,]    1    1    1    0    0    0    0
[2,]    0    1    0    1    1    0    0
[3,]    0    0    0    1    0    0    0
[4,]    0    0    0    1    0    1    1

We can make an incidence matrix B for the graph
  nevent<-NCOL(A)
  nobs<-NROW(A)

  B<-matrix(rowsum(apply(A,2,function(x)
     outer(x,x)),rep(1,nobs*nobs)),ncol=nobs)



And now find the connected components by powering up B

D<-(B>0)
for(i in 1:ceiling(log(nobs,2))){
	Dnew<-(D%*%D)>0
	if (all(Dnew==D)) break
	D<-Dnew

}

I think we now have D[i,j]==TRUE if i,j are in the same circuit.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kye at ams.sunysb.edu  Mon Apr 16 20:37:40 2001
From: kye at ams.sunysb.edu (Kenny Ye)
Date: Mon, 16 Apr 2001 14:37:40 -0400 (EDT)
Subject: [R] leaps for windows
Message-ID: <Pine.SO4.4.02.10104161435250.15276-100000@fisher>


Is there any plan to compile leaps library for windows? thanks.

Kenny


Kenny Ye
Assistant Professor
Department of Applied Math and Statistics
SUNY at  Stony Brook
Stony Brook, New York 11794-3600
Phone (631)632-9344
Fax   (631)632-8490

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Apr 16 21:29:07 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 16 Apr 2001 15:29:07 -0400 (EDT)
Subject: [R] Help with plotting error bars in R
In-Reply-To: <200104161434.KAA01577@home-on-the-dome.mit.edu>
Message-ID: <Pine.LNX.4.30.0104161344330.5048-100000@bolker.zoo.ufl.edu>


  This comes up as a FAQ every so often (it hasn't yet been added to the
official FAQ list), you can find it in the mail archives in several
places.

http://www.R-project.org/nocvs/mail/r-help/2000/0451.html
http://www.R-project.org/nocvs/mail/r-help/2000/2289.html
http://www.R-project.org/nocvs/mail/r-help/2000/3326.html

  (plus a whole recent discussion of whether to include a plotCI function
in the R base, or just to tell people how to do what they want using
arrows() or segments())

  Here's the most recent version of my function:

plotCI <- function (x, y = NULL, uiw, liw = uiw, aui=NULL, ali=aui,
                    err="y", ylim=NULL, sfrac = 0.01, gap=0, add=FALSE,
                    col=par("col"), lwd=par("lwd"), slty=par("lty"), xlab=NULL,
                    ylab=NULL, ...)  {
## originally from Bill Venables, R-list
  if (is.list(x)) {
    y <- x$y
    x <- x$x
  }
  if (is.null(y)) {
    if (is.null(x))
      stop("both x and y NULL")
    y <- as.numeric(x)
    x <- seq(along = x)
  }
  if (missing(xlab)) xlab <- deparse(substitute(x))
  if (missing(ylab)) ylab <- deparse(substitute(y))
  if (missing(uiw)) {  ## absolute limits
    ui <- aui
    li <- ali
  }
  else {  ## relative limits
    if (err=="y") z <- y else z <- x
    ui <- z + uiw
    li <- z - liw
  }
  if (is.null(ylim)) ylim <- range(c(y, ui, li), na.rm=TRUE)
  if (add) {
    points(x, y, col=col, lwd=lwd, ...)
  } else {
    plot(x, y, ylim = ylim, col=col, lwd=lwd, xlab=xlab, ylab=ylab, ...)
  }
  if (gap==TRUE) gap <- 0.01  ## default gap size
  ul <- c(li, ui)
  if (err=="y") {
    gap <- rep(gap,length(x))*diff(par("usr")[3:4])
#    smidge <- diff(par("usr")[1:2]) * sfrac
    smidge <- par("fin")[1] * sfrac
#    segments(x , li, x, pmax(y-gap,li), col=col, lwd=lwd, lty=slty)
#    segments(x , ui, x, pmin(y+gap,ui), col=col, lwd=lwd, lty=slty)
    arrows(x , li, x, pmax(y-gap,li), col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
    arrows(x , ui, x, pmin(y+gap,ui), col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
    ## horizontal segments
#    x2 <- c(x, x)
#    segments(x2 - smidge, ul, x2 + smidge, ul, col=col, lwd=lwd)
  }
  else if (err=="x") {
    gap <- rep(gap,length(x))*diff(par("usr")[1:2])
    smidge <- par("fin")[2] * sfrac
#    smidge <- diff(par("usr")[3:4]) * sfrac
    arrows(li, y, pmax(x-gap,li), y, col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
    arrows(ui, y, pmin(x+gap,ui), y, col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
    ## vertical segments
#    y2 <- c(y, y)
#    segments(ul, y2 - smidge, ul, y2 + smidge, col=col, lwd=lwd)
  }
  invisible(list(x = x, y = y))
}

On Mon, 16 Apr 2001, Baruch P Feldman wrote:

> Hi,
>
> I'm sorry to send email to everyone on this list, but I have a simple question
> which is bothering me and I can't seem to figure out the correct answer.  I
> just downloaded R and I'm trying to reproduce some simple analysis I've done
> on other packages.  In particular, if I have a vector of experimental values
> and a vector of their uncertainties, is there a way to plot the values using
> the uncertainties as error bars?  Other than this one problem R so far seems to
> be a very good package.
>
> I'd greatly appreciate it if someone could reply to my email directly.
>
> Thank you.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Apr 16 22:15:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Apr 2001 21:15:02 +0100 (BST)
Subject: [R] leaps for windows
In-Reply-To: <Pine.SO4.4.02.10104161435250.15276-100000@fisher>
Message-ID: <Pine.GSO.4.31.0104162113320.8814-100000@toucan.stats>

On Mon, 16 Apr 2001, Kenny Ye wrote:

>
> Is there any plan to compile leaps library for windows? thanks.

It has been done several times, so all you have to do is follow the
instructions ....

Please do read the rw-FAQ before postin things which are answered there.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Tue Apr 17 00:27:03 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Mon, 16 Apr 2001 15:27:03 -0700 (PDT)
Subject: [R] data manipulation in R
In-Reply-To: <Pine.A41.4.33.0104160843290.118122-100000@homer21.u.washington.edu>
Message-ID: <20010416222703.87375.qmail@web9302.mail.yahoo.com>

Wow! great answers from Thomas and Reid.  Very helpful
stuff.  

To continue the discussion, Thomas rightly pointed out
(1) that the matrix I described is complete, not
lower-triangular as I'd erroneously written; and (2)
you have to iterate over either events or
observations.  My solution went over obersvations. 
His description below is exactly what we see, events
[A] by observers [B].

> Suppose A is the matrix of zeros & ones, in your
> case
> > A
>      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
> [1,]    1    1    1    0    0    0    0
> [2,]    0    1    0    1    1    0    0
> [3,]    0    0    0    1    0    0    0
> [4,]    0    0    0    1    0    1    1

and as soon as I'm back to my home machine I'll test
the solution he suggests:
 
> We can make an incidence matrix B for the graph
>   nevent<-NCOL(A)
>   nobs<-NROW(A)
> 
>   B<-matrix(rowsum(apply(A,2,function(x)
>      outer(x,x)),rep(1,nobs*nobs)),ncol=nobs)
> 
> 
> 
> And now find the connected components by powering up
> B
> 
> D<-(B>0)
> for(i in 1:ceiling(log(nobs,2))){
> 	Dnew<-(D%*%D)>0
> 	if (all(Dnew==D)) break
> 	D<-Dnew
> 
> }
> 
> I think we now have D[i,j]==TRUE if i,j are in the
> same circuit.
> 


Reid suggested that 

> 
> Assumming I've correctly understood the problem, the
> algorithm you've
> sketched seems not to take proper account of
> observers (nodes) separated by
> more than one other observer. After the first two
> steps, you have for each i
> the set N(i) of its neighbors (nodes connected to i
> by an edge) and from
> this data it is essentially the same problem as
> before to decide which of
> these sets overlap etc. In other words you need to
> iterate these steps as
> many times as the length of the longest distance in
> the graph... This could
> be made to work but isn't efficient.

but actually this is part of the benefit of SQL.  The
data look like this:

dataset pairs
ev.  obs.
A    B
a    1
a    1
a    1
b    2
b    4
b    5
c    4
d    4
d    6
d    7

# in SQL pseudocode
 # get list of all observations
sele dist pairs.A order by 1 into out1
 # iterate over observations
for each i in (out1.A)
    # get all the events observed by i
   sele dist pairs.B where pairs.A=i into tmp1
    # get all the observations which observe 
    # one or more events in tmp1; this is
    # all the observations which link to i
   sele dist pairs.A where A in (sele * from tmp1) _
into tmp2
    #count [i_m] 
   sele cnt(*) from tmp1 into cnt1
    # assign events [i_m] to i's circuit if i_m > i
    # do some basic counter management before this
    # step: i.circuit has either been set in an 
    # earlier iteration or is blank and initialized;
    # if it was set earlier, we are extending it 
    # beyond the first hops in the graph
   update out1 where out1.A>tmp2.A set _
out1.circuit=i.circuit

next i

The SQL calls are fast b/c there are usually
relatively few (<20) event-observation pairs for any
event or observation.  So the solution scales
relatively linearly with the number of events or
observations X the number of links.  In my data, ~10^3
- 10^4 events & observations, 1/3 as many pairs, and
~1.25 links/observation.  So it's not computationally
horrible.

I will be interested to test the SQL against Thomas' R
solution (and will post results if there is interest),
and I'd love to look at C or C++ code as well.  Thanks
again to Reid and Thomas - PB.



__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Tue Apr 17 00:31:57 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Mon, 16 Apr 2001 15:31:57 -0700 (PDT)
Subject: [R] contingency tables in R
In-Reply-To: <yS4EcABuIu26EwGG@myatt.demon.co.uk>
Message-ID: <20010416223157.85542.qmail@web9304.mail.yahoo.com>

Thanks to Kurt and Mark for their thorough
suggestions.  I look forward to working through their
notes.   I'd like to ask for a bit more clarification
on one point, though.  


> The most complicated piece of this is contingency
> tables done with sample data.  The sampling involves
> several strata with different sampling weights. 
> Calculating the cell (or row or column)
> probabilities
> is relatively easy, but the other statistics can be
> complicated (the design effect, the finite
> population
> correction, the various chi^2s, and the standard
> errors and confidence intervals). Also, I sometimes
> make these tables with summary statistics in place
> of
> counts or population proportions.  


Both Mark and Kurt noted that they believe that the
pieces I'd need to work in the sampling statistics are
available, I'd just need to piece them together.

What are the pieces I'd use to put this together? 
Thanks in advance for all help - PB.





__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Tue Apr 17 02:56:46 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon, 16 Apr 2001 20:56:46 -0400
Subject: [R] leaps for windows
In-Reply-To: <Pine.SO4.4.02.10104161435250.15276-100000@fisher>
References: <Pine.SO4.4.02.10104161435250.15276-100000@fisher>
Message-ID: <4c4ndtcgij1m1h833ju7vdv8o1m5h663o3@4ax.com>

On Mon, 16 Apr 2001 14:37:40 -0400 (EDT), you wrote:

>
>Is there any plan to compile leaps library for windows? thanks.

I'm working up to be able to compile Windows binaries of packages.  I
think I have all the tools installed and working now, but I'd like
some practice before I start posting the results to CRAN, so I'll
temporarily volunteer to compile binary versions of packages and email
them to requestors. 

 In return, I'd like anyone requesting a package to take a close look
at it, let me know if anything appears to be wrong, and possibly work
through a couple of iterations until I get things right.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue Apr 17 05:13:38 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Mon, 16 Apr 2001 20:13:38 -0700 (PDT)
Subject: [R] fastest R platform: follow-up and summary
In-Reply-To: <Pine.LNX.4.31.0104091102210.29233-100000@shell1.aracnet.com>
Message-ID: <20010417031338.62670.qmail@web10506.mail.yahoo.com>

First, I would like to thank everyone who responded to my post and I
apol·o·gize for replying late.

1. How slow can R be?

I compare a simple simulation experiment in both R and OX. It is about
sampling one million draws from a 4 dimensional normal distribution and
estimate the variance of the normal distribution. Both R and OX
programs are at the end of this post. For this problem, OX is 168 times
as fast as R. Hard to believe!

OX: took 8"

Ox version 2.20 (Windows) (C) J.A. Doornik, 1994-2000
This version may be used for academic research and teac
22:31:07
      0.99700  -0.00069643  -0.00077984   0.00091080
  -0.00069643       1.0020   0.00048600   0.00079022
  -0.00077984   0.00048600      0.99935  -0.00064050
   0.00091080   0.00079022  -0.00064050       1.0003
22:31:15

R-result: took 22'24".

[1] "Mon Apr 16 22:00:25 2001"
              [,1]          [,2]          [,3]          [,4]
[1,]  9.971903e-01  0.0016107735 -3.486704e-05 -0.0007814097
[2,]  1.610774e-03  1.0024532860  3.845797e-04 -0.0012628987
[3,] -3.486704e-05  0.0003845797  1.000458e+00 -0.0014200821
[4,] -7.814097e-04 -0.0012628987 -1.420082e-03  1.0014095508
[1] "Mon Apr 16 22:22:49 2001"

2. I spent one day of time aggressively vectorizing the program. It
takes 1/3 of the time as before. Much more bearable. This, however,
makes the program less readable.

3. R on different platforms:

Thomas Lumley said: On platforms: R performs at similar speed between
Windows and Linux, and my limited comparisons between Intel and SPARC
machines suggest that the SPECint rating will give a reasonable
ballpark estimate of speed across platforms.  This means you probably
don't want to shift off Intel for speed reasons unless you have a LOT
of money.

Prof. Ripley said: R runs its tests and my scripts between 5% and 20%
slower on Windows NT/2000 than on linux RH6.2, usually nearer 5%.  

M. Edward (Ed) Borasky also mentioned Win NT and Linux but did not give
comparison or recommendation.

Andy Perrin mentioned that a perl program run 3.5 faster on Linux than
on Windows. But I do not see reason for this to hold for R.

4. profiling of the program.

This was suggested by Profs. Ripley, Bates, Lumley and Andy Liaw. But
according to Prof. Ripley, it can only be done on unix system. For my
program I knew the bottleneck. It was just hard to break it.

5 tricks for coding

M. Edward (Ed) Borasky mentioned some low-level tricks for coding.
Thanks. I have used some in rewriting the program.

6. Style

Patrick Connolly asked why I put ; after each statement. Well, I have
to do SAS and Java also. This comma is one small thing I can use in all
the three software.

To summarize: the forthcoming P4 1.70 MHz will be my next machine for
runing R. Thanks again.

Jason Liao


ox program
   #include <oxstd.h>
   #include <oxprob.h>
   #import <maximize>

   multi_normal(const mu, const var_root)
   {		 
      decl ran;
      ran = rann(4, 1);  
	  ran = var_root*ran;  
	  ran = ran+mu;	 return ran;
	}  


	main()
	{
	   decl N=1000000;
	   decl sum = zeros(4, 4);
	   decl i, ran;

	   print(time());
	   decl mu = zeros(4,1);
	   decl var_root = unit(4);	  
	   
	   for(i=0; i<N; i++)
	   {		  
	      ran = multi_normal(mu, var_root);
		  sum = sum + ran*ran';	  
		  
		  }
		  

		  sum = sum/N;
		  print(sum);
		  print(time());
}


R-program
		 ################
		  rm(list=ls(all=TRUE));
  rmulti.norm <- function(mean, var.root)
  {    
     ran <- rnorm(4);    
     ran <- mean + as.vector( var.root %*% ran );         
  }
    main <- function()
	{
	   N <- 1000000;
	   sum <- numeric(4);
	 
	   print(date());
	   mu <- numeric(4);
	   var.root <- matrix(0, 4, 4);
	   diag(var.root) <- rep(1, 4);	
	   
	   for(i in 1:N)
	   {		  		
	      ran <- rmulti.norm(mu, var.root);		  
		  sum <- sum + outer(ran, ran);	  
		  
		  }

	

		  sum <- sum/N;
		  print(sum);
		  print(date());
}

	  main();








=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - buy the things you want at great prices
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 17 08:12:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 17 Apr 2001 07:12:41 +0100 (BST)
Subject: [R] fastest R platform: follow-up and summary
In-Reply-To: <20010417031338.62670.qmail@web10506.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0104170708390.11579-100000@auk.stats>

On Mon, 16 Apr 2001, Jason Liao wrote:

[...]

> 4. profiling of the program.
>
> This was suggested by Profs. Ripley, Bates, Lumley and Andy Liaw. But
> according to Prof. Ripley, it can only be done on unix system. For my

No longer: profiling is implemented for R for Windows in the
development version, and will appear in 1.3.0, if there are no snags
found (currently tested only on NT).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Apr 17 10:03:56 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 17 Apr 2001 09:03:56 +0100 (BST)
Subject: [R] fastest R platform: follow-up and summary
In-Reply-To: <20010417031338.62670.qmail@web10506.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10104170858370.689-100000@localhost.localdomain>

I think your case study illustrates a basic point: simulations are SLOW in
R/S. Not sure why, but it seems to be true. Luckily this problem
has not affected me. Doornik often points out how fast Ox is compared to
other matrix languages. You might need to use a tool other than R. One
possibility is to do some work with C and connect it to an R function.

Once I heard about an R compiler. Not sure what present status of that is.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Apr 17 11:23:24 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 17 Apr 2001 11:23:24 +0200 (MET DST)
Subject: [R] Support for compartment models / matrix exponential method
In-Reply-To: <x2oftwdfa1.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Apr 16, 2001 05:40:22 PM
Message-ID: <200104170923.LAA22282@luc.ac.be>

> 
> Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:
> 
> > I try to fit reaction kinetic data to a given hypothetical model
> > consisting of 3 ODEs. After some reading in Bates/Watts and the literature
> > cited there (e.g. Jennrich/Bright) I looked in R for functions that support
> > the use of the matrix exponential method. Until now I used for a similar
> > (but simpler) problem the nls package and fitted against the the parameterized
> > solution function. But this works only for simple kinetics.
> > 
> > The algorithms in the nls package (e.g. SSfol) work on "closed forms" of the
> > solution function, too.
> > 
> > My question is: Are there examples or functions in R that show the usage of
> > the matrix exponential method or do I have to build the steps from primitive
> > functions myself, e.g. following the recipe in Jennrich/Bright (or is there 
> > even a superior method for this kind of tasks that I am not aware of)?
> 
> There's a strong temptation to lift the expm function off of Octave... 
> 
> Yes, we need it, for compartment models and also continuous-time
> Markov chain models.

There is mexp in my rmutil library. I use a version of it in chidden
(repeated library) for continuous time hidden Markov chains, among
other things.
  Jim

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Tue Apr 17 13:26:48 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 17 Apr 2001 06:26:48 -0500
Subject: [R] fastest R platform: follow-up and summary
In-Reply-To: <20010417031338.62670.qmail@web10506.mail.yahoo.com>; from jg_liao@yahoo.com on Mon, Apr 16, 2001 at 08:13:38PM -0700
References: <Pine.LNX.4.31.0104091102210.29233-100000@shell1.aracnet.com> <20010417031338.62670.qmail@web10506.mail.yahoo.com>
Message-ID: <20010417062648.A3472@nokomis.stat.umn.edu>

On Mon, Apr 16, 2001 at 08:13:38PM -0700, Jason Liao wrote:
> 
> 4. profiling of the program.
> 
> This was suggested by Profs. Ripley, Bates, Lumley and Andy Liaw. But
> according to Prof. Ripley, it can only be done on unix system. For my
> program I knew the bottleneck. It was just hard to break it.
> 

Might still be worth a try.  I ran the profiler on this example in R
1.2.1 and found that around 90% of the time was in the call to outer.
Outer is quite a general function and doesn't perform as well as it
might in this special case.  If you use the R code analogous to your
ox code, that is replace

    sum <- sum + outer(ran, ran);	  

with

   sum <- sum + ran %*% t(ran);

then I get a factor of 7 speedup in this example.  That still leaves
it about 25 times slower than Ox, but it is certainly a worthwhile
improvement.

[I believe 1.3 should include an improved version of outer, but the
current version only has the potential of about a factor of 2 speedup
in this example; don't know if we'll get a chance to tune it further
before 1.3 is released, but this example does show that further tuning
would be useful.]

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Apr 17 13:36:12 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 17 Apr 2001 12:36:12 +0100
Subject: [R] tapply using 2 factors
Message-ID: <3ADC2AAB.94B28359@ipimar.pt>

Hi

I'm trying to use tapply with two factors and the results are not what I
expected. Using one factor at a time it works well but when combining
the two factors the results are:

> tapply(mat[,1],list(mat[,3],mat[,6]),FUN=rep.boot)

  1            2            3            4            5            6
9 "Numeric,12" "Numeric,13" "Numeric,13" "Numeric,14" "Numeric,15"
"Numeric,11"
C "Numeric,31" "Numeric,38" "Numeric,37" "Numeric,36" "Numeric,31"
"Numeric,37"
  7            8            9            10           11           12
9 "Numeric,15" "Numeric,15" "Numeric,13" "Numeric,12" "Numeric,12"
"Numeric,11"
C "Numeric,30" "Numeric,36" "Numeric,31" "Numeric,36" "Numeric,33"
"Numeric,30"

Can you please tell me what I'm doing wrong ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Tue Apr 17 14:07:31 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Tue, 17 Apr 2001 22:07:31 +1000
Subject: [R] RE: [Rd] converting body of a function to a a character vector
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3E23@roper-cv.qld.cmis.CSIRO.AU>

1. This query belongs in r-help, not in r-devel

2. Pity about your shift key...

3. The function you need is deparse() rather than as.character():

> fff <- function(x) {
+ x*x
+ }
> deparse(body(fff))
[1] "{" "x * x" "}"        
> 

4. There is a reason why as.character works this way.  It transforms to
character from a more fundamental representation of the language object, but
that's a larger story...

Bill Venables.

| -----Original Message-----
| From: Erich Neuwirth [mailto:erich.neuwirth at univie.ac.at]
| Sent: Tuesday, 17 April 2001 20:25
| Cc: r-devel at stat.math.ethz.ch
| Subject: [Rd] converting body of a function to a a character vector
| 
| 
| have a look at the following session:
| 
| > fff<-function(x)
| + {
| + x*x
| + }
| > fff
| function(x)
| {
| x*x
| }
| >
| > body(fff)
| {
|     x * x
| }
| > as.character(body(fff))
| [1] "{"     "x * x"
| 
| somehow,
| the closing parenthesis gets lost in the conversion.
| 
| i need this stuff because i want to get
| the code of a function as a vector of strings so i can get it
| into excel with my interface package.
| 
| 
| 
| --
| Erich Neuwirth, Computer Supported Didactics Working Group
| Visit our SunSITE at http://sunsite.univie.ac.at
| Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
| -.-.-.-.-.-.-.-.-
| r-devel mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lentz at statistik.uni-dortmund.de  Tue Apr 17 14:12:38 2001
From: lentz at statistik.uni-dortmund.de (Patrick Lentz)
Date: Tue, 17 Apr 2001 14:12:38 +0200 (MET DST)
Subject: [R] Analysis of Variance with Random Effects
Message-ID: <Pine.GSO.4.21.0104171409310.11314-100000@amadeus.statistik.uni-dortmund.de>

Hello!

I am currently trying to perform an ANOVA with random effects in R, but
failed in finding the correct code. 

Does a code exist for performing an ANOVA with random effects similar to
"aov" or "anova" for fixed effects?

Thanks for your help and best wishes
Patrick Lentz




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marlon at iqm.unicamp.br  Tue Apr 17 14:43:34 2001
From: marlon at iqm.unicamp.br (Marlon Martins dos Reis)
Date: Tue, 17 Apr 2001 09:43:34 -0300
Subject: [R] Beginner question
Message-ID: <3ADC3A76.66B71A34@iqm.unicamp.br>

I'm a Beginner on R-language and I' have tried to use some packages but
the following message have appeared:
"Error in .Fortran("pspline", as.integer(n), as.integer(nvar),
as.integer(norder),  :
        C/Fortran function name not in load table"
I'm using a Windows version and I'd like to know if it is a installation
problem or problems with paths?
Thanks,
Marlon!!!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Tue Apr 17 14:58:12 2001
From: gco at eortc.be (Gary Collins)
Date: Tue, 17 Apr 2001 14:58:12 +0200
Subject: [R] R-1.2.0 for windows crashes
Message-ID: <9180B261C5E0D411B22B0008C724AD3643C1C3@frank.eortc.be>

Can anyone help with the following problem...

I using R-1.2.0 on windows 95, and when I press <SHIFT> and 3 together (ie
the ? symbol - on a uk qwerty keyboard), 
R crashes. This only happens on R and with no other windows apps. Does
anyone know why this happens and what I can do  to stop this happening, as I
have accidentally lost small portions of unsaved work by slip of the key.

Many thanks.

Gary Collins.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 17 15:03:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Apr 2001 14:03:48 +0100 (BST)
Subject: [R] R-1.2.0 for windows crashes
In-Reply-To: <9180B261C5E0D411B22B0008C724AD3643C1C3@frank.eortc.be>
Message-ID: <Pine.LNX.4.31.0104171401420.5532-100000@gannet.stats>

On Tue, 17 Apr 2001, Gary Collins wrote:

> Can anyone help with the following problem...
>
> I using R-1.2.0 on windows 95, and when I press <SHIFT> and 3 together (ie
> the £ symbol - on a uk qwerty keyboard),
> R crashes. This only happens on R and with no other windows apps. Does
> anyone know why this happens and what I can do  to stop this happening, as I
> have accidentally lost small portions of unsaved work by slip of the key.

No idea, and as your interpretation of the key is not visible, no way to
check either.  Are you talking about Rterm or Rgui?  What key code is
generated?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 17 15:16:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Apr 2001 14:16:28 +0100 (BST)
Subject: [R] Analysis of Variance with Random Effects
In-Reply-To: <Pine.GSO.4.21.0104171409310.11314-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0104171414240.5532-100000@gannet.stats>

On Tue, 17 Apr 2001, Patrick Lentz wrote:

> Hello!
>
> I am currently trying to perform an ANOVA with random effects in R, but
> failed in finding the correct code.
>
> Does a code exist for performing an ANOVA with random effects similar to
> "aov" or "anova" for fixed effects?
>
> Thanks for your help and best wishes
> Patrick Lentz

Yes, it's called aov().  You need a formula with Error() in.  There is an
example in ?aov, believe it or not.

If your data are really not suitable for aov (e.g. unbalanced) you can use
lme in package nlme.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 17 15:20:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Apr 2001 14:20:40 +0100 (BST)
Subject: [R] Beginner question
In-Reply-To: <3ADC3A76.66B71A34@iqm.unicamp.br>
Message-ID: <Pine.LNX.4.31.0104171419170.5532-100000@gannet.stats>

On Tue, 17 Apr 2001, Marlon Martins dos Reis wrote:

> I'm a Beginner on R-language and I' have tried to use some packages but
> the following message have appeared:
> "Error in .Fortran("pspline", as.integer(n), as.integer(nvar),
> as.integer(norder),  :
>         C/Fortran function name not in load table"
> I'm using a Windows version and I'd like to know if it is a installation
> problem or problems with paths?

It's almost certainly a usage problem unless you ignored an earlier error
message.  You did do

library(pspline)

and got no error?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Apr 17 15:46:26 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 17 Apr 2001 14:46:26 +0100
Subject: [R] Complex samples (was "contingency tables in R")
In-Reply-To: <20010416223157.85542.qmail@web9304.mail.yahoo.com>
References: <yS4EcABuIu26EwGG@myatt.demon.co.uk>
 <20010416223157.85542.qmail@web9304.mail.yahoo.com>
Message-ID: <O4+r2BAykE36Ewrg@myatt.demon.co.uk>

Patrick Ball <lookout_20005 at yahoo.com> writes:
>Thanks to Kurt and Mark for their thorough
>suggestions.  I look forward to working through their
>notes.   I'd like to ask for a bit more clarification
>on one point, though.  
>
>
>> The most complicated piece of this is contingency
>> tables done with sample data.  The sampling involves
>> several strata with different sampling weights. 
>> Calculating the cell (or row or column)
>> probabilities
>> is relatively easy, but the other statistics can be
>> complicated (the design effect, the finite
>> population
>> correction, the various chi^2s, and the standard
>> errors and confidence intervals). Also, I sometimes
>> make these tables with summary statistics in place
>> of
>> counts or population proportions.  
>
>
>Both Mark and Kurt noted that they believe that the
>pieces I'd need to work in the sampling statistics are
>available, I'd just need to piece them together.
>
>What are the pieces I'd use to put this together? 
>Thanks in advance for all help - PB.

That is a more complicated proposition. There should be no problem
making the tables but you will have to write the code to calculate the
intra-class correlation coefficients so that you can produce robust SEs
and chi-squares or use the gee() (Liang & Zeger's generalized estimation
equation methods) in the GEE library (available from CRAN).

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Apr 17 16:11:13 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 17 Apr 2001 10:11:13 -0400
Subject: [R] fastest R platform: follow-up and summary
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED7D6@uswpmx13.merck.com>

The following runs in an eyeblink on my 700Mhz Thinkpad T-20 (256 MB RAM)
with Windows NT:

var(matrix(rnorm(4000000),ncol=4,nrow=1000000))

This also has the virtue of being quite readable. You could allow an
arbitrary covariance matrix and mean vector and it increases the time
slightly, but still only about 5 seconds.

Regarding performance, having tons of RAM is crucial. My Windows NT and the
few Office applications that are always running claim at least 100MB RAM
according to the performanc monitor; that doesn't leave much for the large
objects you tend to create when you vectorize unless you have at least
256MB.

Reid Huntsinger

-----Original Message-----
From: Jason Liao [mailto:jg_liao at yahoo.com]
Sent: Monday, April 16, 2001 11:14 PM
To: r-help at stat.math.ethz.ch; jg_liao at yahoo.com
Cc: Jason Liao
Subject: [R] fastest R platform: follow-up and summary


First, I would like to thank everyone who responded to my post and I
apol*o*gize for replying late.

1. How slow can R be?

I compare a simple simulation experiment in both R and OX. It is about
sampling one million draws from a 4 dimensional normal distribution and
estimate the variance of the normal distribution. Both R and OX
programs are at the end of this post. For this problem, OX is 168 times
as fast as R. Hard to believe!

OX: took 8"

Ox version 2.20 (Windows) (C) J.A. Doornik, 1994-2000
This version may be used for academic research and teac
22:31:07
      0.99700  -0.00069643  -0.00077984   0.00091080
  -0.00069643       1.0020   0.00048600   0.00079022
  -0.00077984   0.00048600      0.99935  -0.00064050
   0.00091080   0.00079022  -0.00064050       1.0003
22:31:15

R-result: took 22'24".

[1] "Mon Apr 16 22:00:25 2001"
              [,1]          [,2]          [,3]          [,4]
[1,]  9.971903e-01  0.0016107735 -3.486704e-05 -0.0007814097
[2,]  1.610774e-03  1.0024532860  3.845797e-04 -0.0012628987
[3,] -3.486704e-05  0.0003845797  1.000458e+00 -0.0014200821
[4,] -7.814097e-04 -0.0012628987 -1.420082e-03  1.0014095508
[1] "Mon Apr 16 22:22:49 2001"

2. I spent one day of time aggressively vectorizing the program. It
takes 1/3 of the time as before. Much more bearable. This, however,
makes the program less readable.

3. R on different platforms:

Thomas Lumley said: On platforms: R performs at similar speed between
Windows and Linux, and my limited comparisons between Intel and SPARC
machines suggest that the SPECint rating will give a reasonable
ballpark estimate of speed across platforms.  This means you probably
don't want to shift off Intel for speed reasons unless you have a LOT
of money.

Prof. Ripley said: R runs its tests and my scripts between 5% and 20%
slower on Windows NT/2000 than on linux RH6.2, usually nearer 5%.  

M. Edward (Ed) Borasky also mentioned Win NT and Linux but did not give
comparison or recommendation.

Andy Perrin mentioned that a perl program run 3.5 faster on Linux than
on Windows. But I do not see reason for this to hold for R.

4. profiling of the program.

This was suggested by Profs. Ripley, Bates, Lumley and Andy Liaw. But
according to Prof. Ripley, it can only be done on unix system. For my
program I knew the bottleneck. It was just hard to break it.

5 tricks for coding

M. Edward (Ed) Borasky mentioned some low-level tricks for coding.
Thanks. I have used some in rewriting the program.

6. Style

Patrick Connolly asked why I put ; after each statement. Well, I have
to do SAS and Java also. This comma is one small thing I can use in all
the three software.

To summarize: the forthcoming P4 1.70 MHz will be my next machine for
runing R. Thanks again.

Jason Liao


ox program
   #include <oxstd.h>
   #include <oxprob.h>
   #import <maximize>

   multi_normal(const mu, const var_root)
   {		 
      decl ran;
      ran = rann(4, 1);  
	  ran = var_root*ran;  
	  ran = ran+mu;	 return ran;
	}  


	main()
	{
	   decl N=1000000;
	   decl sum = zeros(4, 4);
	   decl i, ran;

	   print(time());
	   decl mu = zeros(4,1);
	   decl var_root = unit(4);	  
	   
	   for(i=0; i<N; i++)
	   {		  
	      ran = multi_normal(mu, var_root);
		  sum = sum + ran*ran';	  
		  
		  }
		  

		  sum = sum/N;
		  print(sum);
		  print(time());
}


R-program
		 ################
		  rm(list=ls(all=TRUE));
  rmulti.norm <- function(mean, var.root)
  {    
     ran <- rnorm(4);    
     ran <- mean + as.vector( var.root %*% ran );         
  }
    main <- function()
	{
	   N <- 1000000;
	   sum <- numeric(4);
	 
	   print(date());
	   mu <- numeric(4);
	   var.root <- matrix(0, 4, 4);
	   diag(var.root) <- rep(1, 4);	
	   
	   for(i in 1:N)
	   {		  		
	      ran <- rmulti.norm(mu, var.root);		  
		  sum <- sum + outer(ran, ran);	  
		  
		  }

	

		  sum <- sum/N;
		  print(sum);
		  print(date());
}

	  main();








=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - buy the things you want at great prices
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Apr 17 16:37:13 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 17 Apr 2001 10:37:13 -0400
Subject: [R] R-1.2.0 for windows crashes
In-Reply-To: <Pine.LNX.4.31.0104171401420.5532-100000@gannet.stats>
References: <9180B261C5E0D411B22B0008C724AD3643C1C3@frank.eortc.be> <Pine.LNX.4.31.0104171401420.5532-100000@gannet.stats>
Message-ID: <11lodto7040h4nd0p0g9al0ftsd92vu6p4@4ax.com>

>On Tue, 17 Apr 2001, Gary Collins wrote:
>
>> Can anyone help with the following problem...
>>
>> I using R-1.2.0 on windows 95, and when I press <SHIFT> and 3 together (ie
>> the ? symbol - on a uk qwerty keyboard),
>> R crashes. This only happens on R and with no other windows apps. Does
>> anyone know why this happens and what I can do  to stop this happening, as I
>> have accidentally lost small portions of unsaved work by slip of the key.


On the US keyboard, Shift-3 is a number sign ("octothorp" I heard it
called once), and it's obviously safe.  To get a UK ? symbol you can
do Alt-0163, and that's safe too in Rgui 1.2.2.  Does Alt-0163 cause
the crash on your system?  Do you get the crash in the current
release?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Apr 17 17:14:37 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 17 Apr 2001 17:14:37 +0200
Subject: [R] tapply using 2 factors
Message-ID: <OF905C9B3F.7BDBB1DD-ONC1256A31.005384FD@eurotel.cz>

Use of
> tapply(mat[,1],mat[,c(3,6)],FUN=rep.boot)
should be OK.

--JAN



                                                                 
                                                                 
              owner-r-help at stat.math.ethz.ch                     
              04/17/2001 01:36 PM                                
                                                                 



Komu:     Mailing List R <R-help at stat.math.ethz.ch>
Kopie:
P?edm?t zpr?vy:     [R] tapply using 2 factors

Hi

I'm trying to use tapply with two factors and the results are not what I
expected. Using one factor at a time it works well but when combining
the two factors the results are:

> tapply(mat[,1],list(mat[,3],mat[,6]),FUN=rep.boot)

...

Can you please tell me what I'm doing wrong ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Apr 17 16:17:25 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 17 Apr 2001 10:17:25 -0400
Subject: [R] Pretty printing of frequency and other tables
Message-ID: <3ADC5075.244DB131@virginia.edu>

I frequently use an S-Plus function print.char.matrix for
printing boxed tables.  I use LaTeX even more frequently,
for which I (and Rich Heiberger) have a series of functions
that will be in the Hmisc library in R before too long.
[I have seen some other interesting functions for latex
already in R.]  But it would still be nice to have
an equivalent of print.char.matrix in R for ordinary
printing.  If anyone knows of anything close to it
please let me know.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Apr 17 17:23:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 17 Apr 2001 08:23:21 -0700 (PDT)
Subject: [R] Pretty printing of frequency and other tables
In-Reply-To: <3ADC5075.244DB131@virginia.edu>
Message-ID: <Pine.A41.4.33.0104170821460.39618-100000@homer10.u.washington.edu>

On Tue, 17 Apr 2001, Frank E Harrell Jr wrote:

> I frequently use an S-Plus function print.char.matrix for
> printing boxed tables.  I use LaTeX even more frequently,
> for which I (and Rich Heiberger) have a series of functions
> that will be in the Hmisc library in R before too long.
> [I have seen some other interesting functions for latex
> already in R.]  But it would still be nice to have
> an equivalent of print.char.matrix in R for ordinary
> printing.  If anyone knows of anything close to it
> please let me know.

There isn't an exact equivalent. write.table, format, and formatC
seem to provide the functionality. In particular, write.table is what I
use for producing LaTeX tabulars.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Tue Apr 17 18:51:26 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Tue, 17 Apr 2001 10:51:26 -0600
Subject: [R] fastest R platform: follow-up and summary
References: <20010417031338.62670.qmail@web10506.mail.yahoo.com>
Message-ID: <004201c0c75e$a4a7d690$1b55e43f@91qez>

If the results from the benchmark below can be generalized, code involving
loops may run more efficiently under Win2k than under Windows 98 and Windows
ME. After upgrading from Windows 98 to Win2k, the benchmark below ran
roughly twice as quickly on the same machine.

test5 <- function (n) {
    k <- 0
    for (j in 1:n) {
        v <- c(1,2,j,j,3)
        if (v[2]==2) k <- k+1
    }
}
system.time(test5(100000))

This benchmark appears in a recent paper by Prof. Tierney and was originally
coded by Radford Neal.

http://www.ci.tuwien.ac.at/Conferences/DSC-2001/Proceedings/Tierney.pdf

I don't know why this particular benchmark takes less time under Win2k. Not
all R code will necessarily run in less time under Win2k. For example, the
bit of nonsense code below took about 92 seconds under Windows 98 and Win2k
on the same machine (600 MHz Pentium III, 256 MB).

n <- 1000
x <- matrix(runif(n*n),n)
system.time(sx <- sqrt(var(diag(x %*% solve(x)))))

-Bill

"Jason Liao" <jg_liao at yahoo.com> wrote:
>
> To summarize: the forthcoming P4 1.70 MHz will be my next machine for
> runing R. Thanks again.
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Tue Apr 17 19:33:51 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Tue, 17 Apr 2001 19:33:51 +0200 (CEST)
Subject: [R] fastest R platform: follow-up and summary
In-Reply-To: <7FE8E243B4BCD411A69E00508B5C7C1B01FED7D6@uswpmx13.merck.com>
Message-ID: <Pine.LNX.4.21.0104171908340.31006-100000@reclus.nhh.no>

On Tue, 17 Apr 2001, Huntsinger, Reid wrote:

> 
> var(matrix(rnorm(4000000),ncol=4,nrow=1000000))
> 
This wasn't quite the issue here, as the computation actually averaged the
values of the 4 by 4 variance matrices - though for zero mu and unit
diagonal sigma it may be a moot point. I do find it difficult to accept
that R/S languages are slow in themselves. On a regular PC with 256Mb
(Linux), I get a result for 1 million in under two minutes:

> library(MASS)
> size <- 4
> mu <- numeric(size)
> sigma <- diag(rep(1, size))
> res <- matrix(0, size, size)
> n1 <- 10000
> n2 <- 100
> fx <- function(x){x %*% t(x)}
> system.time(for (i in 1:n2) {
+ res1 <- t(apply(mvrnorm(n=n1, mu=mu, Sigma=sigma), 1, fx))
+ res <- res + matrix(apply(res1, 2, mean), size, size)
+ })
[1] 101.65   1.41 104.28   0.00   0.00
> res <- res/n2
> res
              [,1]          [,2]          [,3]          [,4]
[1,]  1.002256e+00 -0.0003356233  0.0005537899  6.463350e-06
[2,] -3.356233e-04  1.0002180438 -0.0001356754 -7.265024e-04
[3,]  5.537899e-04 -0.0001356754  0.9973236024  2.512160e-04
[4,]  6.463350e-06 -0.0007265024  0.0002512160  9.998879e-01
> n1*n2
[1] 1e+06

mostly from the substitution given by Luke Tierney, I guess. The
attraction here is that so much functionality has already been written
taking the numerical analysis issues into account, as for example reading
mvrnorm() shows. For real speed, the advice given earlier will get you
there.

Roger


-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Tue Apr 17 21:38:22 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Tue, 17 Apr 2001 09:38:22 -1000
Subject: [R] XML Package for R for windows
In-Reply-To: <004201c0c75e$a4a7d690$1b55e43f@91qez>
References: <20010417031338.62670.qmail@web10506.mail.yahoo.com>
Message-ID: <3.0.5.32.20010417093822.007c5b00@gfeeney.com>

Has anyone gotten the XML package (R News 1-1:24) with R running on Windows
(95 or 98 or 2000)? I've looked at the omegahat, expat and libxml web
pages, looks like compiling from source (of which I have little experience)
will be necessary. I'm wondering how difficult it might prove to be. Any
suggestions would be appreciated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 17 22:11:56 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Apr 2001 22:11:56 +0200
Subject: [R] XML Package for R for windows
References: <20010417031338.62670.qmail@web10506.mail.yahoo.com> <3.0.5.32.20010417093822.007c5b00@gfeeney.com>
Message-ID: <3ADCA38C.B716549F@statistik.uni-dortmund.de>



Griffith Feeney wrote:
> 
> Has anyone gotten the XML package (R News 1-1:24) with R running on Windows
> (95 or 98 or 2000)? I've looked at the omegahat, expat and libxml web
> pages, looks like compiling from source (of which I have little experience)
> will be necessary. I'm wondering how difficult it might prove to be. Any
> suggestions would be appreciated.

A windows binary version is available at
http://cran.r-project.org/bin/windows/contrib

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ren_Yu at hgsi.com  Tue Apr 17 22:38:01 2001
From: Ren_Yu at hgsi.com (Ren_Yu@hgsi.com)
Date: Tue, 17 Apr 2001 16:38:01 -0400
Subject: [R] expression of '>='
Message-ID: <OF15FAAF97.4F9F8B37-ON85256A31.00714133@hgsi.com>

Dear R users,

I have a question about how to print '>=' on label, I tried expression(ge)
but it wouldn't help. Any suggestions are appreciated!

Ren


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From angilnagel at eresmas.net  Tue Apr 17 23:31:29 2001
From: angilnagel at eresmas.net (Antonio Gil-Nagel Rein)
Date: Tue, 17 Apr 2001 23:31:29 +0200
Subject: [R] instaling R
Message-ID: <3ADCB631.3B09A616@eresmas.net>

I have not been able to install R on my computer. I am using a Linux
Mandrake 7.2. What is the archive I have to download? where is it
located? How can I install it after downloaded?

Thank you

Antonio
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saito at math.ucdavis.edu  Wed Apr 18 00:28:46 2001
From: saito at math.ucdavis.edu (Naoki Saito)
Date: Tue, 17 Apr 2001 15:28:46 -0700
Subject: [R] R installation help
Message-ID: <15068.50078.739115.156690@godzilla.math.ucdavis.edu>

Hello.

I just installed R-1.2.2 for my ultra sparc running Solaris 2.6.
It compiled but it does not run at this point.
It complains as follows:

$ R
Fatal error: The X11 shared library could not be loaded.
  The error was ld.so.1: /opt/local/lib/R/bin/R.bin: fatal: libucb.so.1: open failed: No such file or directory

I thought that configure script took care of this sought of things, but
apparently not.
Any help and suggestion are greatly appreciated!

Sincerely yours,
Naoki Saito

-- 
 Naoki Saito, Ph.D., Associate Professor, Department of Mathematics
 University of California, One Shields Avenue, Davis, CA 95616-8633 USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Apr 18 01:14:04 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 18 Apr 2001 11:14:04 +1200
Subject: [R] expression of '>='
References: <OF15FAAF97.4F9F8B37-ON85256A31.00714133@hgsi.com>
Message-ID: <019d01c0c794$188d8930$175dd882@stat.auckland.ac.nz>

Hi


> I have a question about how to print '>=' on label, I tried expression(ge)
> but it wouldn't help. Any suggestions are appreciated!


You just need to put the '>=' inside an expression.  For example, try ...

    plot(1, type="n")
    text(1,1,expression(x >= y))

More generally, the command 'example(plotmath)' produces several tables of
the commands required to produce the possible sorts of mathematical
annotation (it is important to type 'par(ask=T)' first so that you can pause
on each table).  The mathematical annotation facilities are also described
in a recent journal article ...

    Murrell, P. and Ihaka, R. (2000) An approach to providing
     mathematical annotation in plots. Journal of Computational and
     Graphical Statistics, 9, 582-599.

Hope that helps :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MichaelNielsen at synergy.com.au  Wed Apr 18 07:35:09 2001
From: MichaelNielsen at synergy.com.au (MichaelNielsen@synergy.com.au)
Date: Wed, 18 Apr 2001 15:35:09 +1000
Subject: [R] R Novice Question
Message-ID: <OF919DBA0A.3D9A8E0A-ONCA256A32.001D3E9A@syd.syn.com.au>

Please forgive the relative lack of sophistication here -- I'm trying to 
learn R, remove the rust from my basic training in statistics, AND produce 
a useful result.

I have two vectors of equal length,  A and B, with a one-to-one 
correspondence between the elements (ie. A[i] corresponds to B[i]) which 
are provided by an SQL server upon which I can run any SQL statement.

I would like to partition A (like breaks in a histogram) into some number 
of equal-size partitions, and then calculate and plot the mean value of 
the B's that correspond to the A's in each partition (or, more generally, 
produce some descriptive statistics for each set of B's, and potentially 
try to draw some inferences about the B's in each partition).

I can imagine how to do this in Perl by writing a loop, but I suspect 
there may be a more natural way to do it in R, and would be grateful for 
any suggestions.

Thanks.

Regards,

Mike

___________________________________________________
Michael Nielsen
Synergy Plus Pty Ltd
Sydney
Level 5, 
18-20 Orion Rd
PO Box 4080, Lane Cove, NSW DC 2066
(Switch: ) +61 2 9425-3000   (Fax: ) +61 2 9418-9477
(Direct: ) +61 2 9425-3007   (Mobile: )0413-208-488
WebSite:  www.synergy.com.au

This email and any attachments are confidential. If you are not the
intended recipient, please inform us as soon as possible and do not
use, disclose, copy or distribute this information.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010418/9c91dd02/attachment.html

From ripley at stats.ox.ac.uk  Wed Apr 18 07:46:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 06:46:41 +0100 (BST)
Subject: [R] R installation help
In-Reply-To: <15068.50078.739115.156690@godzilla.math.ucdavis.edu>
Message-ID: <Pine.GSO.4.31.0104180639520.16341-100000@auk.stats>

On Tue, 17 Apr 2001, Naoki Saito wrote:

> Hello.
>
> I just installed R-1.2.2 for my ultra sparc running Solaris 2.6.
> It compiled but it does not run at this point.
> It complains as follows:
>
> $ R
> Fatal error: The X11 shared library could not be loaded.
>   The error was ld.so.1: /opt/local/lib/R/bin/R.bin: fatal: libucb.so.1: open failed: No such file or directory
>
> I thought that configure script took care of this sought of things, but
> apparently not.

It does for me.  That it is looking for that library suggests that there
was a problem with your path or compiler: do you perchance have /usr/ucb in
your path?  libucb is a transition library for moving from Solaris 1 (aka
SunOS4) to Solaris 2, and I think is not normally installed on Solaris 2.6.

Which compiler are you using?  I would suggest using either gcc 2.95.{2,3}
or Sun SC4.0 or later (preferably much later).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 18 07:52:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 06:52:31 +0100 (BST)
Subject: [R] R Novice Question
In-Reply-To: <OF919DBA0A.3D9A8E0A-ONCA256A32.001D3E9A@syd.syn.com.au>
Message-ID: <Pine.GSO.4.31.0104180649050.16341-100000@auk.stats>

On Wed, 18 Apr 2001 MichaelNielsen at synergy.com.au wrote:

> Please forgive the relative lack of sophistication here -- I'm trying to
> learn R, remove the rust from my basic training in statistics, AND produce
> a useful result.
>
> I have two vectors of equal length,  A and B, with a one-to-one
> correspondence between the elements (ie. A[i] corresponds to B[i]) which
> are provided by an SQL server upon which I can run any SQL statement.
>
> I would like to partition A (like breaks in a histogram) into some number
> of equal-size partitions, and then calculate and plot the mean value of
> the B's that correspond to the A's in each partition (or, more generally,
> produce some descriptive statistics for each set of B's, and potentially
> try to draw some inferences about the B's in each partition).
>
> I can imagine how to do this in Perl by writing a loop, but I suspect
> there may be a more natural way to do it in R, and would be grateful for
> any suggestions.

Use something like

tapply(B, cut(A, 5), mean)

cut() gives 5 (roughly) equal-sized pieces, and tapply partitions on the
values of the cut and applies the function.

For more complicated situations you might like to look at by().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed Apr 18 08:04:29 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 18 Apr 2001 08:04:29 +0200
Subject: [R] instaling R
In-Reply-To: <3ADCB631.3B09A616@eresmas.net>; from angilnagel@eresmas.net on Tue, Apr 17, 2001 at 11:31:29PM +0200
References: <3ADCB631.3B09A616@eresmas.net>
Message-ID: <20010418080427.A20690@rzpool05.pool.rz.tu-bs.de>

On Tue, Apr 17, 2001 at 11:31:29PM +0200, Antonio Gil-Nagel Rein wrote:
> I have not been able to install R on my computer. I am using a Linux
> Mandrake 7.2. What is the archive I have to download? where is it
> located? How can I install it after downloaded?

R is one of the best documented software i know. If you start reading at http://www.r-project.org with the FAQ etc I don't think there will be much questions left (regarding installing).
Peter


> 
> Thank you
> 
> Antonio
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover 
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Apr 18 08:18:23 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 18 Apr 2001 08:18:23 +0200
Subject: [R] instaling R
References: <3ADCB631.3B09A616@eresmas.net>
Message-ID: <3ADD31AF.9E69DF0B@statistik.uni-dortmund.de>

Antonio Gil-Nagel Rein wrote:
> 
> I have not been able to install R on my computer. I am using a Linux
> Mandrake 7.2. What is the archive I have to download? where is it
> located? How can I install it after downloaded?

Download the sources, e.g. the file R-1.2.2.tgz from
http://cran.r-project.org/src/base

In the same directory there are the files README and INSTALL ...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stein at fieldmuseum.org  Wed Apr 18 13:18:32 2001
From: stein at fieldmuseum.org (Jennifer Steinbachs)
Date: Wed, 18 Apr 2001 06:18:32 -0500
Subject: [R] Out of the office
Message-ID: <200104181118.f3IBIWZ24940@mail.fmnh.org>

Greetings,

I'm currently out of the office.  I'll read [ New R Core Member ]
delivered on Wed, 18 Apr 2001 21:47:59 +1200, when I return on Apr 30.

Regards,

-jennifer
stein at fmnh.org
         

------ this auto-reply message was generated by ------
------  the vacation program on mail.fmnh.org   ------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Wed Apr 18 22:23:36 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Wed, 18 Apr 2001 22:23:36 +0200 (CEST)
Subject: [R] instaling R
In-Reply-To: <3ADCB631.3B09A616@eresmas.net>
Message-ID: <Pine.LNX.4.30.0104182219380.1020-100000@localhost.localdomain>

On Tue, 17 Apr 2001, Antonio Gil-Nagel Rein wrote:

> I have not been able to install R on my computer. I am using a Linux
> Mandrake 7.2. What is the archive I have to download? where is it
> located? How can I install it after downloaded?

You could simply download the mandrake rpm from
http://www.CRAN.r-project.org/bin/linux/mandrake/7.2/
and install it with
> rpm -i R-base-1.2.2-1.mdk.7.2.i586.rpm

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saito at math.ucdavis.edu  Wed Apr 18 22:28:22 2001
From: saito at math.ucdavis.edu (Naoki Saito)
Date: Wed, 18 Apr 2001 13:28:22 -0700
Subject: [R] Re: R installation with tcltk
Message-ID: <15069.63718.115600.354771@godzilla.math.ucdavis.edu>

Hello.

Thanks to the help from Prof. Ripley, I can now run R under my Solaris 2.6
machine!  I should have include the correct library path in
LD_LIBRARY_PATH variable.

However, I still get the following problem.
I configured the R system with --with-tcltk option.
In fact, I ran the following:

/configure --prefix=/opt/local --with-f77 --with-tcltk --with-tcl-config=/opt/local/lib/tclConfig.sh --with-tk-config=/opt/local/lib/tkConfig.sh

My local libraries are all in /opt/local/lib area.
Everything was compiled normally without error and I got R and R.bin execs.
Now, I have the following error even I put the correct library path.

> demo('tkttest')

        demo(tkttest)
        ---- ~~~~~~~

Type  <Return>   to start : 

> require(tcltk) || stop("tcltk support is absent")
Loading required package: tcltk 
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "/opt/pkg/R-1.2.2/library/tcltk/libs/tcltk.so":
  ld.so.1: /opt/pkg/R-1.2.2/bin/R.bin: fatal: relocation error: file /opt/pkg/R-1.2.2/library/tcltk/libs/tcltk.so: symbol Tcl_Alloc: referenced symbol not found
Error in .C("delTcl", PACKAGE = "tcltk") : 
        C/Fortran function name not in load table
Error in eval.with.vis(expr, envir, enclos) : 
        tcltk support is absent


I would appreciate it if you could help me correct this behavior.
Best regards,
Naoki Saito

-- 
 Naoki Saito, Ph.D., Associate Professor, Department of Mathematics
 University of California, One Shields Avenue, Davis, CA 95616-8633 USA
 Home Page: http://math.ucdavis.edu/~saito/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grandeau at 9online.fr  Wed Apr 18 22:55:28 2001
From: grandeau at 9online.fr (Pascal GRANDEAU)
Date: Wed, 18 Apr 2001 22:55:28 +0200
Subject: [R] weighted regression
Message-ID: <MEEDLOBOABCAPJFOBPLHKEFOCBAA.grandeau@9online.fr>

Can somebody explain me how F ratio is calculated in a weighted regression ?
Thank you very much.

Pascal Grandeau (grandeau at 9online.fr)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fay_hughes at yahoo.co.uk  Thu Apr 19 09:14:21 2001
From: fay_hughes at yahoo.co.uk (=?iso-8859-1?q?Fay=20Hughes?=)
Date: Thu, 19 Apr 2001 08:14:21 +0100 (BST)
Subject: [R] All subsets weighted regression in R ?
Message-ID: <20010419071421.29797.qmail@web4004.mail.yahoo.com>

To everyone,

I am currently doing analysis through Splus but am
having severe problems. I am trying to fit all subset
weighted regression to a multivariate data set and get
PRESS statistics, along with Rsquare, Rsquare adjusted
and Mallows Cp for all possible models. Splus, will
give me these statistics but the leaps procedure is
highly sensitive to nearly singular data matrices
(which mine is) and the Rsquare and adjusted Rsquare
values it gives me are biased high (seems to be the
case whenever you use the leaps procedure with
weighted regression). I was wondering whether using R
(I have installed the latest windows verion) will be
able to simplify my life!

Thanks,
Fay Hughes

____________________________________________________________
Do You Yahoo!?
Get your free @yahoo.co.uk address at http://mail.yahoo.co.uk
or your free @yahoo.ie address at http://mail.yahoo.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From skala at incoma.cz  Thu Apr 19 09:57:29 2001
From: skala at incoma.cz (=?iso-8859-2?B?WmRlbuxrIFNr4Wxh?=)
Date: Thu, 19 Apr 2001 09:57:29 +0200
Subject: [R] boxplot()
Message-ID: <004c01c0c8a6$61cfab60$1d14a8c0@skla>

Dear all,

I am comparing:
> summary(boxplot(c(1,2,3,4,5,6,7,8,50),range=1.5))
      Length Class  Mode
stats 5      -none- numeric
n     1      -none- numeric
conf  2      -none- numeric
out   1      -none- numeric
^^^^^
group 1      -none- numeric
names 1      -none- character

with:
> summary(boxplot(c(1,2,3,4,5,6,7,8,50),range=0))
      Length Class  Mode
stats 5      -none- numeric
n     1      -none- numeric
conf  2      -none- numeric
out   4      -none- numeric
^^^^^
group 4      -none- numeric
names 1      -none- character

... and boxplot(c(1,2,3,4,5,6,7,8,50),range=0) yields the outliers' points
drawn over the whiskers, of course. In help(boxplot) I am reading "range:
...A value of zero causes the whiskers to extend to the data extremes". Is
this an intended behaviour? Can I set the boxplot to draw whiskers extending
to max and min without the outliers drawn over? Or am I missing something
obvious?
TIA
Zdenek Skala
skala at incoma.cz



---
Odchoz? zpr?va neobsahuje viry.
Zkontrolov?no antivirov?m syst?mem AVG (http://www.grisoft.cz).
Verze: 6.0.250 / Virov? b?ze: 123 - datum vyd?n?: 18.4.2001


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pagani at irrs.mi.cnr.it  Thu Apr 19 11:26:48 2001
From: pagani at irrs.mi.cnr.it (Marco Pagani)
Date: Thu, 19 Apr 2001 11:26:48 +0200
Subject: [R] Multiple linear regression
Message-ID: <3ADEAF57.BCE0E8F5@irrs.mi.cnr.it>

Dear R-users,
I've a question regardiing multiple linear regression.
Is it possible to regress a function of the type
y=b0+b1*x1+b2*x2
constraining the partial derivatives dy/dx1 and dy/dx2 to be greater
than 0 ???

Thank you very much for any possible suggestion.
Best regards
Marco


--
Marco Pagani - PhD Student
Dipartimento di Scienze della Terra - Sezione Geofisica
Universita' degli Studi di Milano
c/o
CSGAQ - CNR
via Bassini, 15 - I-20133 Milano - Italia
tel: +39-02-23699455
fax: +39-02-26680987 / +39-02-2362946



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Apr 19 11:40:57 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 19 Apr 2001 11:40:57 +0200 (MET DST)
Subject: [R] Multiple linear regression
In-Reply-To: <3ADEAF57.BCE0E8F5@irrs.mi.cnr.it> from "Marco Pagani" at Apr 19, 2001 11:26:48 AM
Message-ID: <200104190941.LAA04967@luc.ac.be>

> 
> Dear R-users,
> I've a question regardiing multiple linear regression.
> Is it possible to regress a function of the type
> y=b0+b1*x1+b2*x2
> constraining the partial derivatives dy/dx1 and dy/dx2 to be greater
> than 0 ???

One easy possibility is to fit it as a nonlinear regression:
y=b0+exp(b1)*x1+exp(b2)*x2
  Jim

> 
> Thank you very much for any possible suggestion.
> Best regards
> Marco
> 
> 
> --
> Marco Pagani - PhD Student
> Dipartimento di Scienze della Terra - Sezione Geofisica
> Universita' degli Studi di Milano
> c/o
> CSGAQ - CNR
> via Bassini, 15 - I-20133 Milano - Italia
> tel: +39-02-23699455
> fax: +39-02-26680987 / +39-02-2362946
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 19 12:03:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Apr 2001 11:03:43 +0100 (BST)
Subject: [R] Multiple linear regression
In-Reply-To: <200104190941.LAA04967@luc.ac.be>
Message-ID: <Pine.GSO.4.31.0104191102470.15030-100000@toucan.stats>

On Thu, 19 Apr 2001, Jim Lindsey wrote:

> >
> > Dear R-users,
> > I've a question regardiing multiple linear regression.
> > Is it possible to regress a function of the type
> > y=b0+b1*x1+b2*x2
> > constraining the partial derivatives dy/dx1 and dy/dx2 to be greater
> > than 0 ???
>
> One easy possibility is to fit it as a nonlinear regression:
> y=b0+exp(b1)*x1+exp(b2)*x2

If it means > 0 and not >= 0, yes, but if 0 would give a better fit
the nonlinear fit will have problems.

For the latter, there is an example using optim in ch08.R in the MASS
package scripts, and another one for a constrained GLM fit.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Apr 19 12:54:27 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 19 Apr 2001 11:54:27 +0100 (BST)
Subject: [R] Multiple linear regression
In-Reply-To: <3ADEAF57.BCE0E8F5@irrs.mi.cnr.it>
Message-ID: <Pine.GSO.4.21.0104191149200.19349-100000@dolphin>


> Dear R-users,
> I've a question regardiing multiple linear regression.
> Is it possible to regress a function of the type
> y=b0+b1*x1+b2*x2
> constraining the partial derivatives dy/dx1 and dy/dx2 to be greater
> than 0 ???

For low dimensional things like the example the easiest approach is to
recognise that the solutions has to be one of:
y=b0+b1*x1+b2*x2
y=b0+b1*x1 (b2=0)
y=b0+b2*x2 (b1=0)
y=b0       (b1=b2=0) 

So you simply pick the one with the lowest RSS that satisfies b1>=0, b2>=0
(assuming you don't require strict inequality). For bigger problems, where
the expressions for the partials are not so simple, use quadratic
programming.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Apr 19 16:12:33 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 19 Apr 2001 10:12:33 -0400
Subject: [R] extraction
Message-ID: <200104191412.f3JECYR22228@water.cc.mcgill.ca>

Hello everybody
I am trying to extract some observations from a data frame, ie the 
subjects that belong to a given group, and although t-test etc work 
if I try to obtain the number of subjects in the subgroup i get some 
funny numbers. All the subjects with NA for group are included in 
the subgroups 'group==1' etc.
Is this a bug?
for example in Windoze

R : Copyright 2001, The R Development Core Team
Version 1.2.2  (2001-02-26)


> z1 <- rnorm(100)
> z2<- rep(1:5,20)
> z3 <- z2
> z3[z1>1] <- NA
> z1[z2==1]
 [1]  1.16747148  0.58088013  1.00958356  1.35477371 -
1.19790468  0.07028495 -0.67707300
 [8] -0.10999675  1.78765730  0.52044707  0.47965798 -
2.05768565  1.16349068 -0.75485570
[15] -0.70517830  0.86419410 -0.03514043 -0.84861275 -
0.50284191  0.64971596
> z1[z3==1]
 [1]          NA  0.58088013          NA          NA          NA          NA  
        NA
 [8] -1.19790468          NA  0.07028495 -0.67707300 -0.10999675   
       NA          NA
[15]          NA  0.52044707  0.47965798 -2.05768565          NA -
0.75485570          NA
[22] -0.70517830  0.86419410          NA -0.03514043 -0.84861275   
       NA -0.50284191
[29]          NA          NA          NA  0.64971596
> 
 
the first with z2==1 gives me the 20 subjects OK but the second 
should have given me less than 20 but it returns 32! it adds all the 
NA's for z3.
I would have thought that z3==1 excluded all the NA's
Thanks for any explanation.


R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Apr 19 16:31:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Apr 2001 15:31:29 +0100 (BST)
Subject: [R] extraction
In-Reply-To: <200104191412.f3JECYR22228@water.cc.mcgill.ca>
Message-ID: <Pine.GSO.4.31.0104191522240.15377-100000@toucan.stats>

On Thu, 19 Apr 2001, Heberto Ghezzo wrote:

> Hello everybody
> I am trying to extract some observations from a data frame, ie the
> subjects that belong to a given group, and although t-test etc work
> if I try to obtain the number of subjects in the subgroup i get some
> funny numbers. All the subjects with NA for group are included in
> the subgroups 'group==1' etc.
> Is this a bug?

The description of BUGS in the FAQ will help you answer your own question.

> for example in Windoze

???

> R : Copyright 2001, The R Development Core Team
> Version 1.2.2  (2001-02-26)
>
>
> > z1 <- rnorm(100)
> > z2<- rep(1:5,20)
> > z3 <- z2
> > z3[z1>1] <- NA
> > z1[z2==1]
>  [1]  1.16747148  0.58088013  1.00958356  1.35477371 -
> 1.19790468  0.07028495 -0.67707300
>  [8] -0.10999675  1.78765730  0.52044707  0.47965798 -
> 2.05768565  1.16349068 -0.75485570
> [15] -0.70517830  0.86419410 -0.03514043 -0.84861275 -
> 0.50284191  0.64971596
> > z1[z3==1]
>  [1]          NA  0.58088013          NA          NA          NA          NA
>         NA
>  [8] -1.19790468          NA  0.07028495 -0.67707300 -0.10999675
>        NA          NA
> [15]          NA  0.52044707  0.47965798 -2.05768565          NA -
> 0.75485570          NA
> [22] -0.70517830  0.86419410          NA -0.03514043 -0.84861275
>        NA -0.50284191
> [29]          NA          NA          NA  0.64971596
> >
>
> the first with z2==1 gives me the 20 subjects OK but the second
> should have given me less than 20 but it returns 32! it adds all the
> NA's for z3.
> I would have thought that z3==1 excluded all the NA's
> Thanks for any explanation.

NA means unknown. So you don't know if those values are one, and all you
can get is a report that they might be.  I suspect you intended
z1[z3 %in% 1]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Apr 19 16:37:34 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 19 Apr 2001 15:37:34 +0100 (BST)
Subject: [R] controlling plot spacing?
Message-ID: <Pine.LNX.4.10.10104191526490.3810-100000@localhost.localdomain>

  Suppose I have the bottom axis of a plot that looks like:

----+----+----+----+----+----+----
    |    |    |    |    |    |


    1    2    3    4    5    6


          Axis title

1. How do I reduce the gap between the ends of the ticks and the axis
labels (numbers)?

2. How do I vary the gap between the bottom of the axis labels and the top
of the axis title?

I have looked in various places (help for par, axis, plot) but haven't
found the solutions.  Thanks for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Apr 19 16:58:04 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 19 Apr 2001 10:58:04 -0400
Subject: [R] extraction
Message-ID: <200104191458.f3JEw4R03143@water.cc.mcgill.ca>

Hello.
If I understood BDR correctly then when I want so subset a data 
frame, matrix etc. instead of doing
x1 <- x[group == 1]
i should do
x1 <- x[group %in% 1]
the second way being the preferred way to avoid problems with 
NA's?
As always thanks to BDR for his prompt , and to the point, 
response.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Thu Apr 19 20:17:38 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Thu, 19 Apr 2001 14:17:38 -0400 (EDT)
Subject: [R] arrows or graphics below axes?
Message-ID: <15071.11202.14266.415133@viz.itd.nrl.navy.mil>

Hi, All.  I'm trying to make an arrow pointing to a particular value
on the x axis.

So, this is pretty much what I want:

20     210     220     230     240     250     260 ...
                ^
                |
                |

any ideas how to do this?  I tried a few things (like arrows), but
they didn't want to plot outside of the actual "plot" area...

thanks for any suggestions!

greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Apr 19 22:44:08 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Fri, 20 Apr 2001 08:44:08 +1200
Subject: [R] controlling plot spacing?
References: <Pine.LNX.4.10.10104191526490.3810-100000@localhost.localdomain>
Message-ID: <004d01c0c911$7b4a5570$175dd882@stat.auckland.ac.nz>

Hi

I think you want par(mgp).  For example, try ...

par(mfrow=c(2,2), mar=rep(6,4), mgp=c(3, 1, 0))
plot(1:10, xlab="default position", ylab="default position")
box("figure", lty="dashed")
par(mgp=c(4, 1, 0))
plot(1:10, xlab="axis label further out", ylab="axis label further out")
box("figure", lty="dashed")
par(mgp=c(4, 2, 0))
plot(1:10, xlab="tick labels further out too", ylab="tick labels further out
too")
box("figure", lty="dashed")
par(mgp=c(1.5, .6, 0))
plot(1:10, xlab="both labels closer in", ylab="both labels closer in")
box("figure", lty="dashed")

For finer control, you will probably need to use mtext() to draw the labels
yourself.

Hope that helps.

Paul


>   Suppose I have the bottom axis of a plot that looks like:
>
> ----+----+----+----+----+----+----
>     |    |    |    |    |    |
>
>
>     1    2    3    4    5    6
>
>
>           Axis title
>
> 1. How do I reduce the gap between the ends of the ticks and the axis
> labels (numbers)?
>
> 2. How do I vary the gap between the bottom of the axis labels and the top
> of the axis title?
>
> I have looked in various places (help for par, axis, plot) but haven't
> found the solutions.  Thanks for any help.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Apr 19 22:57:35 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Fri, 20 Apr 2001 08:57:35 +1200
Subject: [R] arrows or graphics below axes?
References: <15071.11202.14266.415133@viz.itd.nrl.navy.mil>
Message-ID: <006501c0c913$5e620e60$175dd882@stat.auckland.ac.nz>

Hi


> Hi, All.  I'm trying to make an arrow pointing to a particular value
> on the x axis.
>
> So, this is pretty much what I want:
>
> 20     210     220     230     240     250     260 ...
>                 ^
>                 |
>                 |
>
> any ideas how to do this?  I tried a few things (like arrows), but
> they didn't want to plot outside of the actual "plot" area...

You can make use of the "xpd" parameter, which controls how much clipping
occurs;  see help(par).  For example, try ...

    plot(1:10)
    arrows(3, par("usr")[3] - .1*(diff(par("usr")[3:4])), 3, par("usr")[3],
xpd=T)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu Apr 19 23:13:06 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Fri, 20 Apr 2001 09:13:06 +1200
Subject: [R] boxplot()
References: <004c01c0c8a6$61cfab60$1d14a8c0@skla>
Message-ID: <007d01c0c915$87645690$175dd882@stat.auckland.ac.nz>

Hi


> I am comparing:
> > summary(boxplot(c(1,2,3,4,5,6,7,8,50),range=1.5))
>       Length Class  Mode
> stats 5      -none- numeric
> n     1      -none- numeric
> conf  2      -none- numeric
> out   1      -none- numeric
> ^^^^^
> group 1      -none- numeric
> names 1      -none- character
>
> with:
> > summary(boxplot(c(1,2,3,4,5,6,7,8,50),range=0))
>       Length Class  Mode
> stats 5      -none- numeric
> n     1      -none- numeric
> conf  2      -none- numeric
> out   4      -none- numeric
> ^^^^^
> group 4      -none- numeric
> names 1      -none- character
>
> ... and boxplot(c(1,2,3,4,5,6,7,8,50),range=0) yields the outliers' points
> drawn over the whiskers, of course. In help(boxplot) I am reading "range:
> ...A value of zero causes the whiskers to extend to the data extremes". Is
> this an intended behaviour? Can I set the boxplot to draw whiskers
extending
> to max and min without the outliers drawn over? Or am I missing something
> obvious?


This looks like a bug in boxplot.stats(), which does not appear to calculate
outliers as a special case for range=0.  Could you please submit a formal
bug report for this ?  see help(bug.report)

Thanks

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 20 09:52:26 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Apr 2001 08:52:26 +0100 (BST)
Subject: [R] controlling plot spacing?
In-Reply-To: <004d01c0c911$7b4a5570$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.10.10104200847110.4366-100000@localhost.localdomain>

Thanks everyone par(mgp) was what I needed.

BTW in my particular case using layout() I am now doing
par(mar=c(3,3,.2,.2))
par(mgp=c(3,.5,0))

I find that if I try 
par(mgp=c(2.5,.5,0))
          ^^^
or any number <3 I get what looks like random small fragments of text
superimposed on the axis label. Looks like a photocopy taken with a
machine that has specks of dirt in it.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 20 10:14:28 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Apr 2001 09:14:28 +0100 (BST)
Subject: [R] layout() and lcm() problem
Message-ID: <Pine.LNX.4.10.10104200904200.4384-100000@localhost.localdomain>

I am doing:

layout(mat=matrix(c(1,2,3), 3, 1, byrow=TRUE),
widths = lcm(5),
heights= lcm(rep(5, 3)))

This is one column of 3 plots.
If I try to make each subplot bigger, 
widths = lcm(6),
heights= lcm(rep(6, 3)))

I get:
Error in plot.new() : Figure region too large

I don't understand why this is the case: an A4 page is 29.5 cm long by 21
cm wide. 3 x 6 = 18. I should easily be able to get subplots that are 8 cm
square (this is what I want to do). What is the problem and how to fix?

It seems that plot.new thinks the figure region is only 6" x 6" (15 x 15
cm). I tried telling it the real size with par(pin=c(8.25,11.5)) and with
par(fin=c(8.25, 11.5)) but it didn't work.

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 20 10:30:51 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Apr 2001 09:30:51 +0100 (BST)
Subject: [R] Re: layout() and lcm() problem
In-Reply-To: <Pine.LNX.4.10.10104200904200.4384-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10104200929470.4410-100000@localhost.localdomain>

I solved this--sorry for the posting.

The problem was due to just using the default x11(). I needed to set the
dimensions of the x11() window equal to A4 dimensions.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From slist at eio.uva.es  Fri Apr 20 11:40:37 2001
From: slist at eio.uva.es (=?Windows-1252?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Fri, 20 Apr 2001 11:40:37 +0200
Subject: [R] Multiple comparison functions
Message-ID: <003001c0c97d$f4e8b400$6958589d@paquito>

I'm interesed in a function (o group of functions) to perform similar tasks
than S+ "multicomp". Before try to program something similar I want to know
if there are some similar functions programmed yet. I only know "Tukey.aov"
function fron package Devore5.

1. Is there any similar functions for other comparisons as
Student-Newman-Keuls LSD or Waller-Duncan Bayes LSD?

2. Is there some "distribuction" functions as "qtukey" for the critical
points in Waller-Duncan Bayes LSD or Dunnett LSD for comparing with a
control?

thanks for any hint

Eusebio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Fri Apr 20 16:06:54 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Fri, 20 Apr 2001 10:06:54 -0400
Subject: [R] Interacting with R
Message-ID: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>

Dear R folks,

(Running Windows 98, Pentium II, 128 Mb RAM)

I have been using Splus 2000 for about 1.5 years, and have recently begun using R. I love the Open Source philosophy! I may be switching to to Linux soon.

My question:

How do people most often interact with R? 


In Splus 2000, I used "Script" windows to write functions. "Script" windows were great because:

  1.. they are simple to start and save,
  2.. I could highlight segments of code and run segments,
  3.. They have the nifty feature of highlighting each opening parenthesis as you type the corresponding closing parenthesis,
  4.. They were in Splus itself.
Where would I look for a description of how folks interact with R to perform comparable tasks? Is there an introduction or appendix somewhere that walks a user through daily use that is a little beyond the simple command line stuff in V&R 3rd edition or "R for beginners" (E. Paradis 2000)? I thought I checked the standard documentation, but may have missed the relevent part. 

I have been writing functions and scripts in Word, saving as text (with the .txt suffix I cannot get rid of) and then using "source()" to implement functions. This is okay, but seems a little clumsy. 

Thanks for any input,

Henry

"With freedom comes responsibility."

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010420/2e0e3a54/attachment.html

From theis at statistik.uni-dortmund.de  Fri Apr 20 16:59:56 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Fri, 20 Apr 2001 16:59:56 +0200 (CEST)
Subject: [R] Interacting with R
In-Reply-To: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
Message-ID: <XFMail.010420165956.theis@statistik.uni-dortmund.de>

Hello!
On 20-Apr-01 Martin Henry H. Stevens wrote:
> Dear R folks,
> 
> (Running Windows 98, Pentium II, 128 Mb RAM)
> 
> I have been using Splus 2000 for about 1.5 years, and have recently begun
> using R. I love the Open Source philosophy! I may be switching to to Linux
> soon.
> 
> My question:
> 
> How do people most often interact with R? 
> 
I know of two very popular (and IMHO nice) ways to interact with R:
On Windows the WinEdt extension written by Uwe Ligges 
and for most platforms ESS (Emacs Speaks Statistic) -- you have to have an
Emacs... ;-)

Both can be found on the Downloadpage "Other". Both give you an easy way to
edit functions and test them straight away.

Just try them, they are great!

Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 20-Apr-01
Time: 16:50:46
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Apr 20 16:54:39 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 20 Apr 2001 16:54:39 +0200
Subject: [R] Interacting with R
In-Reply-To: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
References: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
Message-ID: <01042016543902.00786@aconitum>

On Friday 20 April 2001 16:06, Martin Henry H. Stevens wrote:                 
                                                                           
> Dear R folks,
>
> (Running Windows 98, Pentium II, 128 Mb RAM)
>
> I have been using Splus 2000 for about 1.5 years, and have recently begun
> using R. I love the Open Source philosophy! I may be switching to to Linux
> soon.
>
> My question:
>
> How do people most often interact with R?
>
>
> In Splus 2000, I used "Script" windows to write functions. "Script" windows
> were great because:
>
>   1.. they are simple to start and save,
>   2.. I could highlight segments of code and run segments,
>   3.. They have the nifty feature of highlighting each opening parenthesis
> as you type the corresponding closing parenthesis, 4.. They were in Splus
> itself.

You can use ESS (Emacs speaks Statistics) under Emacs to quite the same 
effect. I use it under Linux, but it  is said to work under Windows, too. It 
has even more features than S-Plus 2000's script windows, such as keyword 
completion and syntax coloring. You find a link to it on the R-project site 
somewhere.

I have used S-Plus 2000, too, and in my opinion, ESS is better. But, of 
course, you'll have to learn to use Emacs to use it... (buy the O'Reilly book 
and go for it :-).

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Apr 20 17:05:46 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 20 Apr 2001 17:05:46 +0200
Subject: [R] Interacting with R
References: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
Message-ID: <3AE0504A.8A6B252D@statistik.uni-dortmund.de>

> "Martin Henry H. Stevens" wrote:
> 
> Dear R folks,
> 
> (Running Windows 98, Pentium II, 128 Mb RAM)
> 
> I have been using Splus 2000 for about 1.5 years, and have recently
> begun using R. I love the Open Source philosophy! I may be switching
> to to Linux soon.
> 
> My question:
> 
> How do people most often interact with R?
> 
> In Splus 2000, I used "Script" windows to write functions. "Script"
> windows were great because:
> 
>   1. they are simple to start and save,
>   2. I could highlight segments of code and run segments,
>   3. They have the nifty feature of highlighting each opening
>      parenthesis as you type the corresponding closing parenthesis,
>   4. They were in Splus itself.
> 
> Where would I look for a description of how folks interact with R to
> perform comparable tasks? Is there an introduction or appendix
> somewhere that walks a user through daily use that is a little beyond
> the simple command line stuff in V&R 3rd edition or "R for beginners"
> (E. Paradis 2000)? I thought I checked the standard documentation, but
> may have missed the relevent part.
> 
> I have been writing functions and scripts in Word, saving as text
> (with the .txt suffix I cannot get rid of) and then using "source()"
> to implement functions. This is okay, but seems a little clumsy.


There is ESS for the Emacs, which is very nice for interacting with R.
If you have WinEdt available, you might also want to have a look at
R-WinEdt (only on windows).

Both abvailable at http://CRAN.R-Project.org/other-software.html

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 20 17:13:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 20 Apr 2001 16:13:00 +0100 (GMT Daylight Time)
Subject: [R] Interacting with R
In-Reply-To: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
Message-ID: <Pine.WNT.4.31.0104201611060.1376-100000@gannet>

On Fri, 20 Apr 2001, Martin Henry H. Stevens wrote:

> Dear R folks,
>
> (Running Windows 98, Pentium II, 128 Mb RAM)
>
> I have been using Splus 2000 for about 1.5 years, and have recently begun using R. I love the Open Source philosophy! I may be switching to to Linux soon.
>
> My question:
>
> How do people most often interact with R?
>
>
> In Splus 2000, I used "Script" windows to write functions. "Script" windows were great because:
>
>   1.. they are simple to start and save,
>   2.. I could highlight segments of code and run segments,
>   3.. They have the nifty feature of highlighting each opening parenthesis as you type the corresponding closing parenthesis,
>   4.. They were in Splus itself.
> Where would I look for a description of how folks interact with R to perform comparable tasks? Is there an introduction or appendix somewhere that walks a user through daily use that is a little beyond the simple command line stuff in V&R 3rd edition or "R for beginners" (E. Paradis 2000)? I thought I checked the standard documentation, but may have missed the relevent part.

Apart from ESS, you can highlight segments of code and run segments by
using the Display file menu item in Rgui, and I find that more convenient
than ESS (and just one key stroke).  You can't edit in an R pager, though.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Fri Apr 20 18:34:44 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Fri, 20 Apr 2001 17:34:44 +0100
Subject: [R] map projections
Message-ID: <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 905 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010420/61ada248/attachment.bin

From dwhite at ling.ohio-state.edu  Fri Apr 20 19:26:11 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Fri, 20 Apr 2001 13:26:11 -0400 (EDT)
Subject: [R] attaching packages
Message-ID: <Pine.GSO.4.04.10104201319590.1612-100000@julius.ling.ohio-state.edu>


Hello,

I have downloaded and installed e1071_1.1-0.tar.gz, my first add-on
package. Because I am not the sys admin I installed it to my own home dir
under ~/.R/library/

I read in the faq that I should make changes to the R_lib env variable in
my .bashprofile or .Renviron files to make the new personal library
components available. Unfortunately neither of these exist
in my home dir. Can anyone make a suggestion as to my next step?

If I had a sample .Renviron, I think I could modify it to my needs.
Perhaps someone could forward a copy of theirs to me.

Many thanks in advance.

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Apr 20 19:54:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 20 Apr 2001 18:54:22 +0100 (GMT Daylight Time)
Subject: [R] attaching packages
In-Reply-To: <Pine.GSO.4.04.10104201319590.1612-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.WNT.4.31.0104201849390.223-100000@tern.stats>

On Fri, 20 Apr 2001, David White wrote:

>
> Hello,
>
> I have downloaded and installed e1071_1.1-0.tar.gz, my first add-on
> package. Because I am not the sys admin I installed it to my own home dir
> under ~/.R/library/

Don't!  help.start() regards that as its private area and tries to zap it.
Use say ~/R/library

> I read in the faq that I should make changes to the R_lib env variable in
> my .bashprofile or .Renviron files to make the new personal library
> components available. Unfortunately neither of these exist
> in my home dir. Can anyone make a suggestion as to my next step?
>
> If I had a sample .Renviron, I think I could modify it to my needs.
> Perhaps someone could forward a copy of theirs to me.

Assuming this is some sort of Unix/Linux, use

cat > ~/.Renviron
R_LIBS=~/R/library
^D

However, depending on your shell you may need to spell out ~ or use
$(HOME) instead, but you probably have bash.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sboker at mpipks-dresden.mpg.de  Fri Apr 20 20:14:57 2001
From: sboker at mpipks-dresden.mpg.de (Steven Boker)
Date: Fri, 20 Apr 2001 20:14:57 +0200
Subject: [R] Mac OS-X port of R?
Message-ID: <01042020145700.17775@lolek.mpipks-dresden.mpg.de>


I'm wondering if a Mac OS-X port of R-1.2.2 has occurred.
Jan de Leeuw posted that he had made a preliminary port
using calls to X windows for the GUI portions, but that
file doesn't exist on his server.

Is someone doing this?  If not, I'll get busy and see if I
can make a preliminary port.  Of course, lots of work would
need to be done to get everything nicely integrated with
OS-X's GUI, but the command line stuff should be pretty
standard Free BSD.

Cheers,
Steve Boker

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jtb at kurwenal.com  Fri Apr 20 20:21:41 2001
From: jtb at kurwenal.com (Jason Beegan)
Date: Fri, 20 Apr 2001 19:21:41 +0100
Subject: [R] map projections 
In-Reply-To: Message from Bernie McConnell <bm8@st-andrews.ac.uk> 
   of "Fri, 20 Apr 2001 17:34:44 BST." <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk> 
Message-ID: <200104201818.UAA07843@stat.math.ethz.ch>


I don't know of any R code for this, but there is a freely available
software package from the US Geological Survey supporting over 70
different projections, including the ones you mention.

You can get it from
	  
	  ftp://kai.er.usgs.gov/pub/Proj.4/

The relevant file is PROJ.4.3.3.tar.gz.

The documentation is very good (get the the postscript files
PROJ.4.3.ps.gz, OF90-284.ps.gz, and SWISS.ps.gz from the above directory).

I know NetBSD has this in the Packages Collection
	      
	      http://www.netbsd.org/packages/misc/proj/

(I ought to know, I imported it).  I think Debian GNU/Linux has it
also.  So if you use one of these systems you might not need to
compile it yourself.


Regards,

Jason Beegan.


> G' Day,
> 
> 
> Can you please tell me if there is R code for geographic projections?  ie  lat,
> lon -> x,y metres.  I'm principally interested in Mercator and Lambert Equal Ar
> ea Azimuthal.  Failing R code - code in any language!
> 
> 
> Many thanks
> 
> 
> Bernie McConnell
> 
> Bernie McConnell
> 
> <color><param>0000,0000,ffff</param>NERC SEA MAMMAL RESEARCH UNIT
> 
> </color>Gatty Marine Lab, St Andrews University
> 
> St Andrews, Fife,  KY16 8LB, Scotland.
> 
> 
> b.mcconnell at smru.st-andrews.ac.uk
> 
> http://www.smru.st-and.ac.uk
> 
> tel:  	+44 (1334) 463280   
> 
> fax:  	+44 (1334) 462632   
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akornick at whgrp.com  Fri Apr 20 20:36:04 2001
From: akornick at whgrp.com (Adam Kornick)
Date: 20 Apr 2001 14:36:04 -0400
Subject: [R] map projections
In-Reply-To: Bernie McConnell's message of "Fri, 20 Apr 2001 17:34:44 +0100"
References: <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk>
Message-ID: <m3k84fju5n.fsf@shrike.local.net>

>>>>> "Bernie" == Bernie McConnell <bm8 at st-andrews.ac.uk> writes:

    Bernie> G' Day, Can you please tell me if there is R code for
    Bernie> geographic projections?  ie lat,lon -> x,y metres.  I'm
    Bernie> principally interested in Mercator and Lambert Equal Area
    Bernie> Azimuthal.  Failing R code - code in any language!

Try PROJ (C library) at http://www.remotesensing.org/proj/

Adam
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Fri Apr 20 20:41:40 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Fri, 20 Apr 2001 08:41:40 -1000
Subject: [R] Interacting with R
In-Reply-To: <Pine.WNT.4.31.0104201611060.1376-100000@gannet>
References: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu>
Message-ID: <3.0.5.32.20010420084140.007fa3d0@gfeeney.com>

At 04:13 PM 4/20/01 +0100, Prof Brian D Ripley wrote:
[snip]
>Apart from ESS, you can highlight segments of code and run segments by
>using the Display file menu item in Rgui, and I find that more convenient
>than ESS (and just one key stroke).  You can't edit in an R pager, though.

Sorry, I've looked, but can't find: what is the key stroke to run the code?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Fri Apr 20 20:43:44 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Fri, 20 Apr 2001 20:43:44 +0200 (CEST)
Subject: [R] map projections
In-Reply-To: <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk>
Message-ID: <Pine.LNX.4.21.0104202035140.1230-100000@reclus.nhh.no>

On Fri, 20 Apr 2001, Bernie McConnell wrote:
> 
> Can you please tell me if there is R code for geographic projections?  
> ie lat,lon -> x,y metres.  I'm principally interested in Mercator and
> Lambert Equal Area Azimuthal.  Failing R code - code in any language!
> 
One good source is http://www.remotesensing.org/proj/ for the PROJ.4
software. Another is the mapproject program in GMT at
http://gmt.soest.hawaii.edu/. These are both external to R, but it seems
likely that PROJ.4 will form part of an R map package at some stage. You
didn't say which platform you use - both these are native Unix/Linux, but
at least GMT is available for NT too. While it would be possible to write
R code to do this, both of these sources are well-tried and so more likely
to work as expected.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Fri Apr 20 21:08:58 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Fri, 20 Apr 2001 15:08:58 -0400
Subject: [R] Summary: Interacting with R
References: <010201c0c9a3$2c3077c0$9db9e6a5@rutgers.edu> <3AE0504A.8A6B252D@statistik.uni-dortmund.de>
Message-ID: <004c01c0c9cd$5a4f50c0$9db9e6a5@rutgers.edu>

Many people replied. Thank you all very very much for the input. The sheer volume provided me with strong encouragement to make a leap into a programming environment.
Summary:
1. Nearly everyone suggested that I bite the bullet, get Emacs and ESS.
2. Most people also suggested using R-WinEdt with WinEdt (only on windows). 
3. Use the Display file menu item in Rgui to run parts of a program. This is more convenient
than ESS (and just one key stroke), although you can't edit in an R pager. (Thanks to BD Ripley).

Henry Stevens

  ----- Original Message ----- 
  From: Uwe Ligges 
  To: Martin Henry H. Stevens 
  Cc: r-help at hypatia.math.ethz.ch 
  Sent: Friday, April 20, 2001 11:05 AM
  Subject: Re: [R] Interacting with R


  > "Martin Henry H. Stevens" wrote:
  > 
  > Dear R folks,
  > 
  > (Running Windows 98, Pentium II, 128 Mb RAM)
  > 
  > I have been using Splus 2000 for about 1.5 years, and have recently
  > begun using R. I love the Open Source philosophy! I may be switching
  > to to Linux soon.
  > 
  > My question:
  > 
  > How do people most often interact with R?
  > 
  > In Splus 2000, I used "Script" windows to write functions. "Script"
  > windows were great because:
  > 
  >   1. they are simple to start and save,
  >   2. I could highlight segments of code and run segments,
  >   3. They have the nifty feature of highlighting each opening
  >      parenthesis as you type the corresponding closing parenthesis,
  >   4. They were in Splus itself.
  > 
  > Where would I look for a description of how folks interact with R to
  > perform comparable tasks? Is there an introduction or appendix
  > somewhere that walks a user through daily use that is a little beyond
  > the simple command line stuff in V&R 3rd edition or "R for beginners"
  > (E. Paradis 2000)? I thought I checked the standard documentation, but
  > may have missed the relevent part.
  > 
  > I have been writing functions and scripts in Word, saving as text
  > (with the .txt suffix I cannot get rid of) and then using "source()"
  > to implement functions. This is okay, but seems a little clumsy.


  There is ESS for the Emacs, which is very nice for interacting with R.
  If you have WinEdt available, you might also want to have a look at
  R-WinEdt (only on windows).

  Both abvailable at http://CRAN.R-Project.org/other-software.html

  Uwe Ligges

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010420/392bbc90/attachment.html

From ripley at stats.ox.ac.uk  Fri Apr 20 21:27:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 20 Apr 2001 20:27:11 +0100 (BST)
Subject: [R] Interacting with R
In-Reply-To: <3.0.5.32.20010420084140.007fa3d0@gfeeney.com>
Message-ID: <Pine.GSO.4.31.0104202026470.24780-100000@auk.stats>

On Fri, 20 Apr 2001, Griffith Feeney wrote:

> At 04:13 PM 4/20/01 +0100, Prof Brian D Ripley wrote:
> [snip]
> >Apart from ESS, you can highlight segments of code and run segments by
> >using the Display file menu item in Rgui, and I find that more convenient
> >than ESS (and just one key stroke).  You can't edit in an R pager, though.
>
> Sorry, I've looked, but can't find: what is the key stroke to run the code?

Ctrl-V, I believe.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Fri Apr 20 22:13:08 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 20 Apr 2001 13:13:08 -0700
Subject: [R] Mac OS-X port of R?
In-Reply-To: <01042020145700.17775@lolek.mpipks-dresden.mpg.de>
Message-ID: <200104202013.NAA00844@cramer.stat.ucla.edu>

I made a mistake in the URL. It's at

http://www.stat.ucla.edu/~deleeuw/R/R-1.2.2-MacOSX.tar.gz

This weekend I'll put R-1.3.0 with all the add-ons in the same
place (a 15MB compressed file). For MacOS 10.0.1.

On Friday, April 20, 2001, at 11:14 AM, Steven Boker wrote:

>
> I'm wondering if a Mac OS-X port of R-1.2.2 has occurred.
> Jan de Leeuw posted that he had made a preliminary port
> using calls to X windows for the GUI portions, but that
> file doesn't exist on his server.
>
> Is someone doing this?  If not, I'll get busy and see if I
> can make a preliminary port.  Of course, lots of work would
> need to be done to get everything nicely integrated with
> OS-X's GUI, but the command line stuff should be pretty
> standard Free BSD.
>
> Cheers,
> Steve Boker
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at mcauliffe.com  Sat Apr 21 00:21:53 2001
From: jon at mcauliffe.com (Jon McAuliffe)
Date: Fri, 20 Apr 2001 15:21:53 -0700
Subject: [R] tapply on a matrix?
Message-ID: <011201c0c9e8$4dc7a8a0$0600a8c0@Berkeley.EDU>


suppose i have an nx2 matrix A; call its column vectors
x and y. the rows of A are grouped by a factor F. i want to fit
one lowess curve (y vs. x) for each subset of rows corresponding
to a particular level of F. naively, i mean something like

tapply(A, F, fun = lowess)  ,

but tapply needs A to be 1-dimensional. reading the help pages,
the other {,l,s}apply functions seem not to be germane in this
situation either. what's the correct approach here?

many thanks
jon.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Apr 21 00:40:52 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 20 Apr 2001 15:40:52 -0700 (PDT)
Subject: [R] tapply on a matrix?
In-Reply-To: <011201c0c9e8$4dc7a8a0$0600a8c0@Berkeley.EDU>
Message-ID: <Pine.A41.4.33.0104201540370.33242-100000@homer15.u.washington.edu>

On Fri, 20 Apr 2001, Jon McAuliffe wrote:

>
> suppose i have an nx2 matrix A; call its column vectors
> x and y. the rows of A are grouped by a factor F. i want to fit
> one lowess curve (y vs. x) for each subset of rows corresponding
> to a particular level of F. naively, i mean something like
>
> tapply(A, F, fun = lowess)  ,
>
> but tapply needs A to be 1-dimensional. reading the help pages,
> the other {,l,s}apply functions seem not to be germane in this
> situation either. what's the correct approach here?

by()

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr 21 00:56:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Apr 2001 00:56:05 +0200
Subject: [R] Mac OS-X port of R?
In-Reply-To: Jan de Leeuw's message of "Fri, 20 Apr 2001 13:13:08 -0700"
References: <200104202013.NAA00844@cramer.stat.ucla.edu>
Message-ID: <x2n19bgoze.fsf@blueberry.kubism.ku.dk>

Jan de Leeuw <deleeuw at stat.ucla.edu> writes:

> I made a mistake in the URL. It's at
> 
> http://www.stat.ucla.edu/~deleeuw/R/R-1.2.2-MacOSX.tar.gz
> 
> This weekend I'll put R-1.3.0 with all the add-ons in the same
> place (a 15MB compressed file). For MacOS 10.0.1.

Um, please make sure not to put it out under that name. The real
R-1.3.0 is not due until June... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Apr 21 12:33:37 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 21 Apr 2001 06:33:37 -0400 (EDT)
Subject: [R] within-subject stdized regression w missing data
Message-ID: <200104211033.GAA04975@cattell.psych.upenn.edu>

I am looking for an elegant solution to the following problem.  I
have one that works, but it is ugly.

In a questionnaire, each of 80 subjects answered 8 questions
about each of 30 different behaviors.  My main method of analysis
is within-subject regression, in which I predict the answer to
one of the 8 questions from answers to some of the other
questions - different subsets for different analyses.  The 30
behaviors are the units of analysis.  (That is, there is an 8x30
matrix for each subject.  One of the 8 variables is the dependent
variable, and some of the others are predictors.)

There are lots of missing data, sometimes so much as to make a
given subject's regression impossible for one analysis.

I also want standardized regression weights.  The standardization
should include just the items used in each regression.  I've been
using scale() on all the variables in order to get standardized
weights, but it is not a simple matter to arrange this so as to
get just the right subset of the 30 behaviors for each
regression, because the behaviors that are missing for one
analysis are not necessarily missing for another (even for the
same subject).

I have been using a loop to do the regressions, e.g.,

for (i in 1:numberofsubjects) 
 r.v1[i,] <- lm(v1[i,] ~ v2[i,] + v3[i,] + v4[i,])$coef[2:4]

where v1 etc. are already selected and rescaled appropriately for
the variables included.  This gives me a matrix of the regression
coefficients, which I can then test across subjects.

One thing I've got to do is make sure that each subject's
regression will actually run, or omit the ones that won't, or
else the whole thing bombs.  I have been unable to get lm() to
proceed without doing this with several extra steps.  (I did read
the help page.)

I've thought about modifing the lm() function - this would be my
first attempt at such a thing - or else putting the whole thing
in some kind of wrapper that uses scale() on a matrix.  (I've
been using it on vectors.)  But the matrix would have to have
just the right entries in the end.

I'm writing just in case there is some really obvious solution to
this that I'm missing.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sat Apr 21 16:15:19 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 21 Apr 2001 16:15:19 +0200
Subject: [R] quotes in strings
Message-ID: <3AE195F7.821FD229@univie.ac.at>

i need to build a string
containing a quote.
how can o do that?

the reason is i need a system call
and windows path names may contain blank
the system call i need is similar to

"c:\Program Files\My Programs\myprog.exe" myfile.txt

so i have to build a string 
abd then this tring is used as an argument
ro
system()
and there it need outer quotes also.

how can i manage?




--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Apr 21 16:54:02 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 21 Apr 2001 16:54:02 +0200
Subject: [R] quotes in strings
References: <3AE195F7.821FD229@univie.ac.at>
Message-ID: <3AE19F0A.28006599@statistik.uni-dortmund.de>



Erich Neuwirth wrote:
> 
> i need to build a string
> containing a quote.
> how can o do that?
> 
> the reason is i need a system call
> and windows path names may contain blank
> the system call i need is similar to
> 
> "c:\Program Files\My Programs\myprog.exe" myfile.txt
> 
> so i have to build a string
> abd then this tring is used as an argument
> ro
> system()
> and there it need outer quotes also.
> 
> how can i manage?


What about something like
 cat("\"Erich\" \"Neuwirth\"")

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Apr 21 17:15:49 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 21 Apr 2001 08:15:49 -0700 (PDT)
Subject: [R] within-subject stdized regression w missing data
In-Reply-To: <200104211033.GAA04975@cattell.psych.upenn.edu>
Message-ID: <Pine.A41.4.33.0104210811490.9528-100000@homer37.u.washington.edu>

On Sat, 21 Apr 2001, Jonathan Baron wrote:

> One thing I've got to do is make sure that each subject's
> regression will actually run, or omit the ones that won't, or
> else the whole thing bombs.  I have been unable to get lm() to
> proceed without doing this with several extra steps.  (I did read
> the help page.)

This part can be easily solved. Use try() as a wrapper around your lm().
It captures errors and returns an object of class "try-error" instead of
crashing.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sun Apr 22 23:00:05 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sun, 22 Apr 2001 14:00:05 -0700
Subject: [R] Loading R and contributed packages on Red Hat Linux 7.1
In-Reply-To: <Pine.A41.4.33.0104210811490.9528-100000@homer37.u.washington.edu>
Message-ID: <HBEHIIBBKKNOBLMPKCBBKEGKDEAA.znmeb@aracnet.com>

I have just finished loading Red Hat Linux 7.1, R-base 1.2.2.1 and almost
all of the contributed packages on my laptop. For those of you who want to
do the same, here's a brief run-down of the steps involved.

1. Pick which version of Red Hat Linux 7.1 you want. RH Linux 7.1 comes in
three versions: Red Hat Linux 7.1 ($39.95 US), Deluxe Workstation ($79.95
US) and Professional Server ($179.95). Most people go with the low end. I
got the Deluxe Workstation, which actually includes R-base (see below,
though). But almost all of what I did will work with the basic version.

2. Install Red Hat Linux. I won't go into the details, except to say that
there is a point in the install process where you can select extra packages
to install. If you go with the default installs, you won't get everything
you need later, and will end up going back and installing various packages
from the CDs to make everything work. It's much easier to know ahead of time
what you're going to need and select the packages when you install. Here's a
run-down of what you should select:

a. If you're going to build contributed packages, you will need "gcc" and
"g77". They can be found in the "Development" section. The full names of
these are "gcc-2.96-81.i386.rpm" and "gcc-g77-2.96-81.i386.rpm". If you just
select them, the installer will figure out the dependencies and load them as
well. If you wait till later, you will have to flip back and forth between
two CDs to satisfy all the dependencies. I did :-(. Do as I say, not as I
did :-).

b. If you're going to use ZIP files, you need to install "zip" and "unzip".
They don't appear to be loaded by default. They can be found in the
"Archiving" section. The full names are "unzip-5.41-3.i386.rpm" and
"zip-2.3-8.i386.rpm".

c. Some of the contributed packages require the Basic Linear Algebra
Subroutines (BLAS) and LAPACK. They can be found in the "Libraries" section.
The full names are "blas-3.0-9.i386.rpm" and "lapack-3.0-9.i386.rpm".

d. The database packages require the specified database to be loaded and
often the development libraries for the database as well. They can be found
in the "Databases" and "Libraries" sections. I only loaded "RODBC"; the
specific package required is "unixODBC-devel-1.8.13-2.i386.rpm", which is a
library and is found in the "Libraries" section.

e. The "XML" package requires "libxml-devel-1.8.10-1.i386.rpm" from the
"Libraries" section.

3. Install R. If you buy the Deluxe Workstation edition, the version of R on
the PowerTools CD is 1.2.0; specifically "R-base-1.2.0-6.i386.rpm". The VR
package requires a more recent version of R, R 1.2.2. I loaded
"R-base-1.2.2-1.i386.rpm" from CRAN.

4. Install the contributed packages you want. I installed *everything* from
CRAN except the databases I don't have. The only gotcha here is that the
"netCDF" package requires "netcdf-3.4-9.i386.rpm". This one is *not* on the
basic distribution. It can be found on the PowerTools CD which comes in the
Deluxe Workstation distribution. As a result, you won't be able to load it
during the install process; you'll need to install it afterwards but before
you build "netCDF". I'm sure it's available on the net somewhere, but I
didn't bother to search for it.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Mon Apr 23 02:27:21 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sun, 22 Apr 2001 17:27:21 -0700
Subject: [R] Loading R and contributed packages on Red Hat Linux 7.1
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBKEGKDEAA.znmeb@aracnet.com>
Message-ID: <HBEHIIBBKKNOBLMPKCBBGEGLDEAA.znmeb@aracnet.com>

Oops!! It seems I missed one :-). It turns out that "e1071" and "Matrix" use
"c++", not "gcc"! So in item 2.a., add "gcc-c++-2.96-81.i386.rpm" to the
list of packages to load. BTW, my environment is a Toshiba 2595CDT laptop, a
400 MHz Celeron with 192 MB of RAM and a 6 GB hard drive. I am currently
dual-booted Windows 2000 Professional and Red Hat Linux 7.1. 4 GB of the
hard drive is Windows 2000 (FAT32, which the Linux OS can read from and
write to) and 2 GB is Linux (ext2 and swap, which the Windows OS can't
access). I have R running on both sides.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 23 09:57:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Apr 2001 09:57:19 +0200
Subject: [R] Loading R and contributed packages on Red Hat Linux 7.1
In-Reply-To: "M. Edward Borasky"'s message of "Sun, 22 Apr 2001 17:27:21 -0700"
References: <HBEHIIBBKKNOBLMPKCBBGEGLDEAA.znmeb@aracnet.com>
Message-ID: <x2u23gyrog.fsf@blueberry.kubism.ku.dk>

"M. Edward Borasky" <znmeb at aracnet.com> writes:

> Oops!! It seems I missed one :-). It turns out that "e1071" and "Matrix" use
> "c++", not "gcc"! So in item 2.a., add "gcc-c++-2.96-81.i386.rpm" to the
> list of packages to load. BTW, my environment is a Toshiba 2595CDT laptop, a
> 400 MHz Celeron with 192 MB of RAM and a 6 GB hard drive. I am currently
> dual-booted Windows 2000 Professional and Red Hat Linux 7.1. 4 GB of the
> hard drive is Windows 2000 (FAT32, which the Linux OS can read from and
> write to) and 2 GB is Linux (ext2 and swap, which the Windows OS can't
> access). I have R running on both sides.

One piece of advice: If the disk is big enough make a directory which
holds the entire content of the CDs' RPM directories. Makes it much
easier to fix problems with missing tools and utilities when you're on
the go...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmeigen at gmx.de  Mon Apr 23 12:15:04 2001
From: cmeigen at gmx.de (Christof Meigen)
Date: 23 Apr 2001 10:15:04 +0000
Subject: [R] missing ctest and methodological question
Message-ID: <87g0ezsz13.fsf@mason.invalid.de>



Hi,

I couldn't figure out how to use the functions from the
ctest library. I'm using the r-base package that comes with
debian potato. library("ctest") told me that no such package
existed. I checked the CRAN, but no such package was
availiable, instead I was told that it would be part of the
standard installation. But functions from ctest like
shapiro-wilk don't work.  The only thing I found was a
ASCII-file "ctest" which I could load but was only a wrapper
for some C-Library which seems to be not installed.

Besides that technical problem I would also appreciate your
scientific advice. For a publication a have to check about
80 samples with about 3000-5000 values each whether they
a normally distributed (N(0,1) to be exact). The problem is,
that they are derived from discrete measurements (the
weight of children, for example, where nearly all values
have full or half kilograms), so Kolmogorov-Smirnov doesn't
seem to be the right choice. Shapiro-Wilk, however,
is limites to 5000 values, for good reasons, I think.

Personally, for a single sample I would make some plots
for everyone to see that it fits quite good, but in this
case it would be nice if I could finally have a table
saying

sample  test1   test2  ...
1       accept  accept
2       accept  reject
...

any advices about which tests I could perform?

Thanks in advance,
        Christof
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maslcgr at bath.ac.uk  Mon Apr 23 11:50:38 2001
From: maslcgr at bath.ac.uk (L C G Rogers)
Date: Mon, 23 Apr 2001 10:50:38 +0100 (BST)
Subject: [R] Time series in R
Message-ID: <Pine.GSO.4.04.10104231048350.23512-100000@midge.bath.ac.uk>


The help pages of R-1.2.2 include several pages on various
time series functions, but when I try to use these functions
they appear not to be available ....  am I missing something
obvious, or are these functions not yet built?

Chris Rogers

-----------------------------------------------------------------------
L C G Rogers, Professor of Probability              tel:+44 1225 826224
Department of Mathematical Sciences                 fax:+44 1225 826492
University of Bath, Bath BA2 7AY, GB

Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Apr 23 12:58:17 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 23 Apr 2001 12:58:17 +0200
Subject: [R] Time series in R
References: <Pine.GSO.4.04.10104231048350.23512-100000@midge.bath.ac.uk>
Message-ID: <3AE40AC9.C8FF7FFD@statistik.uni-dortmund.de>

L C G Rogers wrote:
> 
> The help pages of R-1.2.2 include several pages on various
> time series functions, but when I try to use these functions
> they appear not to be available ....  am I missing something
> obvious, or are these functions not yet built?

Did you load the package "ts" (or "tseries", which is available at CRAN)
at first?

  library(ts)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Apr 23 12:51:14 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 23 Apr 2001 22:51:14 +1200
Subject: [R] Time series in R
References: <Pine.GSO.4.04.10104231048350.23512-100000@midge.bath.ac.uk>
Message-ID: <006501c0cbe3$51cedca0$0d5137d2@kokangwang>

Have you loaded the library?

There are (at least) 2 libraries on time series, one comes with the
installation file (ts) and another is a contributed package (tsseries).

Assuming you want to use the ts package, which comes with the installation
file, you must load it first by:
     library(ts)

If you want to see the help file, do;
     library(help=ts)

Hope this helps,

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand
----- Original Message -----
From: "L C G Rogers" <maslcgr at bath.ac.uk>
To: <r-help at lists.r-project.org>
Sent: Monday, April 23, 2001 9:50 PM
Subject: [R] Time series in R


>
> The help pages of R-1.2.2 include several pages on various
> time series functions, but when I try to use these functions
> they appear not to be available ....  am I missing something
> obvious, or are these functions not yet built?
>
> Chris Rogers
>
> -----------------------------------------------------------------------
> L C G Rogers, Professor of Probability              tel:+44 1225 826224
> Department of Mathematical Sciences                 fax:+44 1225 826492
> University of Bath, Bath BA2 7AY, GB
>
> Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
> -----------------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maslcgr at bath.ac.uk  Mon Apr 23 13:08:01 2001
From: maslcgr at bath.ac.uk (L C G Rogers)
Date: Mon, 23 Apr 2001 12:08:01 +0100 (BST)
Subject: [R] Time series in R
In-Reply-To: <006501c0cbe3$51cedca0$0d5137d2@kokangwang>
Message-ID: <Pine.GSO.4.04.10104231207520.13492-100000@midge.bath.ac.uk>


Thanks  - sorted.

-----------------------------------------------------------------------
L C G Rogers, Professor of Probability              tel:+44 1225 826224
Department of Mathematical Sciences                 fax:+44 1225 826492
University of Bath, Bath BA2 7AY, GB

Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
-----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Mon Apr 23 13:07:16 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Mon, 23 Apr 2001 13:07:16 +0200 (CEST)
Subject: [R] Time series in R
In-Reply-To: <Pine.GSO.4.04.10104231048350.23512-100000@midge.bath.ac.uk>
Message-ID: <XFMail.010423130716.detlef.steuer@unibw-hamburg.de>


On 23-Apr-01 L C G Rogers wrote:
> 
> The help pages of R-1.2.2 include several pages on various
> time series functions, but when I try to use these functions
> they appear not to be available ....  am I missing something
> obvious, or are these functions not yet built?

Try library(ts).

detlef

> 
> Chris Rogers
> 
> -----------------------------------------------------------------------
> L C G Rogers, Professor of Probability              tel:+44 1225 826224
> Department of Mathematical Sciences                 fax:+44 1225 826492
> University of Bath, Bath BA2 7AY, GB
> 
> Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
> -----------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Apr 23 13:46:34 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Apr 2001 06:46:34 -0500
Subject: [R] missing ctest and methodological question
In-Reply-To: <87g0ezsz13.fsf@mason.invalid.de>
References: <87g0ezsz13.fsf@mason.invalid.de>
Message-ID: <6rhezf96ud.fsf@franz.stat.wisc.edu>

Christof Meigen <cmeigen at gmx.de> writes:

> I couldn't figure out how to use the functions from the
> ctest library. I'm using the r-base package that comes with
> debian potato. library("ctest") told me that no such package
> existed. I checked the CRAN, but no such package was
> availiable, instead I was told that it would be part of the
> standard installation. But functions from ctest like
> shapiro-wilk don't work.  The only thing I found was a
> ASCII-file "ctest" which I could load but was only a wrapper
> for some C-Library which seems to be not installed.

Because of the very long delays between the freezing of a Debian
distribution and its eventual release, versions of r-base on Debian
releases are woefully out of date.  I think the version of r-base in
the Debian potato release is 0.90.x while the current released version
of R is 1.2.2 (and 1.2.3 is imminent).  The ctest package is included
with recent versions of R.  In particular it is included with the
Debian packages for r-base_1.2.2 that you can download from

              http://cran.r-project.org/bin/linux/debian

(You can substitute a CRAN mirror site for cran.r-project.org)

The ReadMe file in that directory gives instructions on how to
configure apt, Debian's advanced package tool, to search for packages
in that location automatically.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at StonyBrook.Edu  Mon Apr 23 15:25:30 2001
From: Timothy.Keitt at StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 23 Apr 2001 09:25:30 -0400
Subject: [R] map projections
References: <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk>
Message-ID: <3AE42D4A.1030700@StonyBrook.Edu>

www.freegis.org has a good summary of available projection packages.

Tim

Bernie McConnell wrote:

> G' Day,
> 
> Can you please tell me if there is R code for geographic projections? ie 
> lat,lon -> x,y metres. I'm principally interested in Mercator and 
> Lambert Equal Area Azimuthal. Failing R code - code in any language!
> 
> Many thanks
> 
> Bernie McConnell
> Bernie McConnell
> NERC SEA MAMMAL RESEARCH UNIT
> Gatty Marine Lab, St Andrews University
> St Andrews, Fife, KY16 8LB, Scotland.
> 
> b.mcconnell at smru.st-andrews.ac.uk
> http://www.smru.st-and.ac.uk
> tel: +44 (1334) 463280
> fax: +44 (1334) 462632
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or 
> "[un]subscribe" (in the "body", not the subject !) To: 
> r-help-request at stat.math.ethz.ch 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at StonyBrook.Edu  Mon Apr 23 15:32:17 2001
From: Timothy.Keitt at StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 23 Apr 2001 09:32:17 -0400
Subject: [R] map projections
References: <Pine.LNX.4.21.0104202035140.1230-100000@reclus.nhh.no>
Message-ID: <3AE42EE1.7000701@StonyBrook.Edu>

Roger Bivand wrote:


> http://gmt.soest.hawaii.edu/. These are both external to R, but it seems
> likely that PROJ.4 will form part of an R map package at some stage. You
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^
Anyone working on this?

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Mon Apr 23 16:51:01 2001
From: smcnary at charm.net (Scot W McNary)
Date: Mon, 23 Apr 2001 10:51:01 -0400 (EDT)
Subject: [R] missing ctest and methodological question
In-Reply-To: <87g0ezsz13.fsf@mason.invalid.de>
Message-ID: <Pine.BSI.4.21.0104231032200.13716-100000@fellspt.charm.net>



Christof,

For the first part of your question:

If you got your r-base from a CD distribution of potato, the version of
r-base could be very old (I have one here that has R version .90 on it).  
Even the debian mirror I use has R at version .90.  If that's true your
version won't automatically load ctest (you would have to "library(ctest)"
to use the features).  In version 1.2.2 ctest is loaded automatically at
startup.  I get my debian packages of r-base and r-doc from the CRAN site.  
Those are current.  You can download a copy of r-base*.deb from CRAN and
install it by hand with dpkg, or you can also point apt-get at:

http://cran.r-project.org/linux/debian/dists/stable/main

and apt will install it for you. 


Hope this helps, 

Scot

--
  Scot W. McNary  email:smcnary at charm.net   

On 23 Apr 2001, Christof Meigen wrote:

> 
> 
> Hi,
> 
> I couldn't figure out how to use the functions from the
> ctest library. I'm using the r-base package that comes with
> debian potato. library("ctest") told me that no such package
> existed. I checked the CRAN, but no such package was
> availiable, instead I was told that it would be part of the
> standard installation. But functions from ctest like
> shapiro-wilk don't work.  The only thing I found was a
> ASCII-file "ctest" which I could load but was only a wrapper
> for some C-Library which seems to be not installed.
> 
> Besides that technical problem I would also appreciate your
> scientific advice. For a publication a have to check about
> 80 samples with about 3000-5000 values each whether they
> a normally distributed (N(0,1) to be exact). The problem is,
> that they are derived from discrete measurements (the
> weight of children, for example, where nearly all values
> have full or half kilograms), so Kolmogorov-Smirnov doesn't
> seem to be the right choice. Shapiro-Wilk, however,
> is limites to 5000 values, for good reasons, I think.
> 
> Personally, for a single sample I would make some plots
> for everyone to see that it fits quite good, but in this
> case it would be nice if I could finally have a table
> saying
> 
> sample  test1   test2  ...
> 1       accept  accept
> 2       accept  reject
> ...
> 
> any advices about which tests I could perform?
> 
> Thanks in advance,
>         Christof
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.leamon at yale.edu  Mon Apr 23 17:32:50 2001
From: john.leamon at yale.edu (John Leamon)
Date: Mon, 23 Apr 2001 11:32:50 -0400
Subject: [R] Combining data replicates
Message-ID: <p04320402b709f9263b32@[204.90.81.185]>

Hello all

I'm are dealing with a sizeable data set from microarray analysis, 
which contains anywhere from 4 to 8 replicate DNA spots dispersed 
throughout the entire data set.  I would like to be able to apply 
functions (such as medians, log transformations, st dev, co. 
variance, etc) to each set of replicates, then store the output for 
subsequent analysis and graphing. I've tried using By (), but it 
produces a separate data frame for every subgroup, and I haven't 
found a way to channel the output into a single results dataframe.  I 
looked into apply, but I'm unclear on how to apply subgrouping to the 
data.  Does anyone have and advice on the best way for me to proceed? 
Thanks in advance.

John Leamon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr 23 17:49:11 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 08:49:11 -0700 (PDT)
Subject: [R] missing ctest and methodological question
In-Reply-To: <87g0ezsz13.fsf@mason.invalid.de>
Message-ID: <Pine.A41.4.33.0104230831340.125502-100000@homer34.u.washington.edu>

On 23 Apr 2001, Christof Meigen wrote:

>
>
> Hi,
>
> I couldn't figure out how to use the functions from the
> ctest library. I'm using the r-base package that comes with
> debian potato. library("ctest") told me that no such package
> existed. I checked the CRAN, but no such package was
> availiable, instead I was told that it would be part of the
> standard installation. But functions from ctest like
> shapiro-wilk don't work.  The only thing I found was a
> ASCII-file "ctest" which I could load but was only a wrapper
> for some C-Library which seems to be not installed.

It's been a long time so I'm not sure, but it may be that the version of R
in 'potato' precedes the addition of ctest to the base package.  In any
case you want to upgrade, and I haven't heard of library("ctest") not
working on any recent systems (in fact we have people complaining that
they can't get rid of it...)

> Besides that technical problem I would also appreciate your
> scientific advice. For a publication a have to check about
> 80 samples with about 3000-5000 values each whether they
> a normally distributed (N(0,1) to be exact). The problem is,
> that they are derived from discrete measurements (the
> weight of children, for example, where nearly all values
> have full or half kilograms), so Kolmogorov-Smirnov doesn't
> seem to be the right choice. Shapiro-Wilk, however,
> is limites to 5000 values, for good reasons, I think.

Well, if they are discrete then they *aren't* normally distributed. Even
the Shapiro-Wilk test will reject for discretised Normal data, though
slightly less powerfully than the Kolmogorov-Smirnov.

You could try the skewness and kurtosis based tests of normality, or you
could write a function that computes the CDF of a suitably discretised
Normal distribution and compare your data to that using ks.test(), which
allows you to specify any CDF.  This is slightly cheating as you will
presumably be using estimated parameters in computing this CDF, but with
3000 cases it should all come out in the wash.

This is all based on the assumption that you do in fact want a normality
test, an assumption I am usually suspicious of...


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aws25 at cus.cam.ac.uk  Mon Apr 23 18:53:07 2001
From: aws25 at cus.cam.ac.uk (A.W. Shingleton)
Date: Mon, 23 Apr 2001 17:53:07 +0100 (BST)
Subject: No subject
Message-ID: <Pine.SOL.3.96.1010423173726.22590A-100000@virgo.cus.cam.ac.uk>


I am trying to caculate the standard errors of treatment means from an LME
analysis. R gives me the coefficients of the model, from which I can
calculate the means of a particular combination of treatments. It also
gives me the standard error of each coefficients. How do I convert these
into standard errors of the means. For example: 


Fixed effects: log(y) ~ log(x) + A + B + C 
                        Value  Std.Error  DF  t-value p-value
(Intercept)         0.2710230 0.08237595 471  3.29007  0.0011
log(x)              0.9126175 0.01905999 471 47.88131  <.0001
A                   0.3712639 0.08057310  58  4.60779  <.0001
B                  -0.0772743 0.09460152  58 -0.81684  0.4174
C                   0.2617046 0.06659040  58  3.93006  0.0002

X is a continuous variable, and A, B, and C, are two-level catagorical
variables. I wish to know the SE of the fitted value of y when, say, x=5,
A=1, B=2 and C=1. Can anyone help??

Many thanks

Alex Shingleton


***************************
* Alex Shingleton         *
*                         *
* Department of Zoology   *
* University of Cambridge *
* Downing Street          *
* Cambridge CB2 3EJ       *
*                         *
* tel: 01223 331768       *
* fax: 01223 336676       *
***************************
 
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Apr 23 22:05:56 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Tue, 24 Apr 2001 08:05:56 +1200
Subject: [R] map projections
References: <3.0.5.32.20010420173444.0091ad20@bute.st-and.ac.uk> <3AE42D4A.1030700@StonyBrook.Edu>
Message-ID: <003c01c0cc30$cf9f6440$a29037d2@kokangwang>

I've tried GMT about a year ago on these types (Lambert Equal Area
Azimuthal) of mapping technique, and found GMT to be pretty good at it.

It is also reasonably easy to use, with its provided detailed documentation
you should have no problem learning it.

Not sure about other mapping tools listed on www.freegis.org though....

Cheers,

Kevin
-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand

----- Original Message -----
From: "Timothy H. Keitt" <Timothy.Keitt at StonyBrook.Edu>
To: "Bernie McConnell" <bm8 at st-andrews.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Tuesday, April 24, 2001 1:25 AM
Subject: Re: [R] map projections


> www.freegis.org has a good summary of available projection packages.
>
> Tim
>
> Bernie McConnell wrote:
>
> > G' Day,
> >
> > Can you please tell me if there is R code for geographic projections? ie
> > lat,lon -> x,y metres. I'm principally interested in Mercator and
> > Lambert Equal Area Azimuthal. Failing R code - code in any language!
> >
> > Many thanks
> >
> > Bernie McConnell
> > Bernie McConnell
> > NERC SEA MAMMAL RESEARCH UNIT
> > Gatty Marine Lab, St Andrews University
> > St Andrews, Fife, KY16 8LB, Scotland.
> >
> > b.mcconnell at smru.st-andrews.ac.uk
> > http://www.smru.st-and.ac.uk
> > tel: +44 (1334) 463280
> > fax: +44 (1334) 462632
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> > "[un]subscribe" (in the "body", not the subject !) To:
> > r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>
> --
> Timothy H. Keitt
> Department of Ecology and Evolution
> State University of New York at Stony Brook
> Phone: 631-632-1101, FAX: 631-632-7626
> http://life.bio.sunysb.edu/ee/keitt/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Mon Apr 23 20:33:56 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Mon, 23 Apr 2001 14:33:56 -0400 (EDT)
Subject: [R] location of multi-line labels on barplots?
Message-ID: <15076.30100.296194.959485@viz.itd.nrl.navy.mil>

Hi, All.  I have a barplot I am making that has a 2 line label:

names(GC) <- c("Read-Off", "Spatial\n Transformations", "Vis Changes", "Plans", "Abandon")

and here, Spatial Transformations should be on 2 separate lines.
However, when I break it as above (with the \n), the "Spatial" part is
pushed up so that it overlaps the Tick mark there.  I can get rid of
the tick mark, but I'd rather not...

Is there a way to push the labels down a hair so they don't overlap
with the tick marks?

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Mon Apr 23 23:02:31 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 23 Apr 2001 16:02:31 -0500 (CDT)
Subject: [R] Plot size
Message-ID: <200104232102.QAA03517@uhddx01.dt.uh.edu>

Hello, R People:

How do I change the size of a graph, please?

I tried par(cin=c(8.5,11))
and it said that 
Warning message: 
parameter "cin" can't be set in: par(args) 


> par(fin=c(8.5,11))
> plot(xa,ya)
Error in plot.new() : Figure region too large

Also, can I set for portrait or landscape, please?

Thanks in advance!

Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon Apr 23 23:28:56 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 24 Apr 2001 09:28:56 +1200
Subject: [R] location of multi-line labels on barplots?
References: <15076.30100.296194.959485@viz.itd.nrl.navy.mil>
Message-ID: <007201c0cc3c$673fc370$175dd882@stat.auckland.ac.nz>

Hi


> Hi, All.  I have a barplot I am making that has a 2 line label:
>
> names(GC) <- c("Read-Off", "Spatial\n Transformations", "Vis Changes",
"Plans", "Abandon")
>
> and here, Spatial Transformations should be on 2 separate lines.
> However, when I break it as above (with the \n), the "Spatial" part is
> pushed up so that it overlaps the Tick mark there.  I can get rid of
> the tick mark, but I'd rather not...
>
> Is there a way to push the labels down a hair so they don't overlap
> with the tick marks?


Does the following do the sort of thing you want ?

    midpts <- barplot(1:4)
    axis(1, at=midpts, labels=c("a", "b", "", "d"))
    mtext("one\ntwo", side=1, at=midpts[3], line=2)

(if it does, but you can't see why, please feel free to ask for further
explanation :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Mon Apr 23 23:46:56 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 23 Apr 2001 16:46:56 -0500 (CDT)
Subject: [R] Plot size
Message-ID: <200104232146.QAA19581@uhddx01.dt.uh.edu>

Hello, R People:

How do I change the size of a graph, please?

I tried par(cin=c(8.5,11))
and it said that 
Warning message: 
parameter "cin" can't be set in: par(args) 


> par(fin=c(8.5,11))
> plot(xa,ya)
Error in plot.new() : Figure region too large

Also, can I set for portrait or landscape, please?

Thanks in advance!

Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 24 00:20:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2001 00:20:04 +0200
Subject: [R] Plot size
In-Reply-To: Erin Hodgess's message of "Mon, 23 Apr 2001 16:46:56 -0500 (CDT)"
References: <200104232146.QAA19581@uhddx01.dt.uh.edu>
Message-ID: <x27l0bmf6z.fsf@blueberry.kubism.ku.dk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Hello, R People:
> 
> How do I change the size of a graph, please?
> 
> I tried par(cin=c(8.5,11))
> and it said that 
> Warning message: 
> parameter "cin" can't be set in: par(args) 
> 
> 
> > par(fin=c(8.5,11))
> > plot(xa,ya)
> Error in plot.new() : Figure region too large
> 
> Also, can I set for portrait or landscape, please?
> 
> Thanks in advance!

Start with an explicit call to postscript/X11/windows. E.g.

postscript(width=8.5, height=11, horizontal=FALSE)
plot(xa,ya)

(or is it the other way around? I keep forgetting.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmeigen at gmx.de  Mon Apr 23 23:38:35 2001
From: cmeigen at gmx.de (Christof Meigen)
Date: 23 Apr 2001 21:38:35 +0000
Subject: [R] missing ctest and methodological question
In-Reply-To: Thomas Lumley's message of "Mon, 23 Apr 2001 08:49:11 -0700 (PDT)"
References: <Pine.A41.4.33.0104230831340.125502-100000@homer34.u.washington.edu>
Message-ID: <87lmorthyc.fsf@mason.invalid.de>

Hi,

thanks to all who replied, installing the new R-version
from CRAN solved the problem with ctest.

Thanks especially to Thomas Lumley -- I think I'll try that
test with a discretised Normal distribution.

        Christof
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Tue Apr 24 10:54:47 2001
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Tue, 24 Apr 2001 09:54:47 +0100 (BST)
Subject: [R] Reading and writing data
Message-ID: <200104240854.JAA07257@achill.nmrc.ucc.ie>

Hi All,

Two quick questions.

1) I am using write.table to output data.frames to ascii files, e.g., 

test <- data.frame(rnorm(2))
write.table(test,file="output")

"rnorm.2."
"1" -0.718560808193286
"2" -1.07965693020656

Is it possible to output the data without the first column, i.e.,

"rnorm.2."
-0.718560808193286
-1.07965693020656

2) Is there a simple way to read in data and skip lines, i.e., say skip every 
second line. I could use ``scan'' to read in the data and use a "for" loop to 
perform the skipping in R. However, I am wondering is there a one-step method.

Thanks in advance,
Dermot.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 24 11:31:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Apr 2001 10:31:49 +0100 (BST)
Subject: [R] Reading and writing data
In-Reply-To: <200104240854.JAA07257@achill.nmrc.ucc.ie>
Message-ID: <Pine.LNX.4.31.0104241028400.10683-100000@gannet.stats>

On Tue, 24 Apr 2001, Dermot MacSweeney wrote:

> Hi All,
>
> Two quick questions.
>
> 1) I am using write.table to output data.frames to ascii files, e.g.,
>
> test <- data.frame(rnorm(2))
> write.table(test,file="output")
>
> "rnorm.2."
> "1" -0.718560808193286
> "2" -1.07965693020656
>
> Is it possible to output the data without the first column, i.e.,
>
> "rnorm.2."
> -0.718560808193286
> -1.07965693020656

See ?write.table, especially the row.names argument (and set it to false).


> 2) Is there a simple way to read in data and skip lines, i.e., say skip every
> second line. I could use ``scan'' to read in the data and use a "for" loop to
> perform the skipping in R. However, I am wondering is there a one-step method.

Well, you could fake this by duplicating `what' and ignoring the extra
cols. But, indexing is far easier.

df <- read.table(...)
df <- df[seq(1, length=nrow(df), by=2), ]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Apr 24 11:45:41 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 24 Apr 2001 11:45:41 +0200
Subject: [R] Reading and writing data
References: <200104240854.JAA07257@achill.nmrc.ucc.ie>
Message-ID: <3AE54B45.80583B2D@statistik.uni-dortmund.de>

Dermot MacSweeney wrote:
> 
> Hi All,
> 
> Two quick questions.
> 
> 1) I am using write.table to output data.frames to ascii files, e.g.,
> 
> test <- data.frame(rnorm(2))
> write.table(test,file="output")
> 
> "rnorm.2."
> "1" -0.718560808193286
> "2" -1.07965693020656
> 
> Is it possible to output the data without the first column, i.e.,
> 
> "rnorm.2."
> -0.718560808193286
> -1.07965693020656

It's in the help (?write.table):
row.names     either a logical value indicating whether the row names of
x are to be written along with x, or a character vector of row names to
be written. 


> 2) Is there a simple way to read in data and skip lines, i.e., say skip every
> second line. I could use ``scan'' to read in the data and use a "for" loop to
> perform the skipping in R. However, I am wondering is there a one-step method.

I don't know a one step method.
If the file is not too big, I would try reading in the whole data at
first and through away not needed lines after that.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Tue Apr 24 14:34:34 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Tue, 24 Apr 2001 14:34:34 +0200
Subject: [R] Re: New Package Released: PTAk 
In-Reply-To: <3AE5573D.FE48A63@fmrib.ox.ac.uk>
Message-ID: <3.0.6.32.20010424143434.00945a60@mail.wsl.ch>

Hi Didier,

I tried

install.packages(PTAk,"lib")

and it gave

--14:05:05--  http://cran.r-project.org/src/contrib/PACKAGES
           => `/home/woodstock/hoffmann/R/tmp/fileR4815S31df'
Connecting to cran.r-project.org:0... connected!
HTTP request sent, awaiting response... 200 OK
Length: 41,456 [text/plain]

    0K -> .......... .......... .......... ..........            [100%]

14:05:05 (93.71 KB/s) - `/home/woodstock/hoffmann/R/tmp/fileR4815S31df'
saved [41456/41456]

Warning message: 
No package "0.1" on CRAN. in: download.packages(pkgs, destdir = tmpd,
available = available,  

What am I missing?

There is an underscore ("_") in the name"PTAk_1.1-1". My R will expand this
into "<-" and pervert the 

install.packages(PTAk_1.1-1)  [clip]
Warning messages: 
1: argument `lib' is missing: using /home/woodstock/hoffmann/R/Sources/lib
in: install.packages(PTAk <- 1.1 - 1)

I just disable this feature, but it might be advisable not to use it in
file names too.

Thanks for help.

Kind regards
--christian



At 11:36 24.04.2001 +0100, you wrote:
>
>PTAk_1.1-1 ( Principal Tensor Analysis on k modes) has been released on
>CRAN
>            A multiway method to decompose a tensor (array) of any
>order,
>             as a generalisation of SVD also supporting non-identity
>metrics and penalisations.
>             2-way SVD with these extensions is also available. The
>package includes also some other multiway
>             methods: PCAn (Tucker-n) and PARAFAC/CANDECOMP with these
>extensions.
>
>please send comments
>+ looking for nice not too big multi-arrays for the next release demos
>
>Didier
>--
>  Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
>Image Analysis Group                          fax:+44 (0)1865 222 717
>Oxford University, Centre For Functional Magnetic Resonance Imaging of
>the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU,
>U.K
>http://www.fmrib.ox.ac.uk/~didier/
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Apr 24 14:58:30 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2001 14:58:30 +0200
Subject: [R] Re: New Package Released: PTAk
In-Reply-To: Christian Hoffmann's message of "Tue, 24 Apr 2001 14:34:34 +0200"
References: <3.0.6.32.20010424143434.00945a60@mail.wsl.ch>
Message-ID: <x2vgnu8nex.fsf@blueberry.kubism.ku.dk>

Christian Hoffmann <christian.hoffmann at wsl.ch> writes:

> Hi Didier,
> 
> I tried
> 
> install.packages(PTAk,"lib")
> 
...
> What am I missing?

A quote symbol on each end of the name....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From didier at fmrib.ox.ac.uk  Tue Apr 24 15:11:19 2001
From: didier at fmrib.ox.ac.uk (Didier Leibovici)
Date: Tue, 24 Apr 2001 14:11:19 +0100
Subject: [R] Re: New Package Released: PTAk
References: <3.0.6.32.20010424143434.00945a60@mail.wsl.ch>
Message-ID: <3AE57B77.4F55B356@fmrib.ox.ac.uk>

Christian Hoffmann wrote:

> Hi Didier,
>
> I tried
>
> install.packages(PTAk,"lib")
>
> and it gave ...

I've never used this command before but the name of the package is PTAk  not
PTAk_1.1-1
Sorry about this misleading mail for the announcement with the version of the
package added!

Alternatively to install.packages you can download the tar file PTAk_1.1-1.tar.gz
on CRAN ftp://cvs.r-project.org/pub/CRAN/src/contrib/PACKAGES.html#PTAk
by clicking on the hypertext
and then install by
R CMD INSTALL PTAk_1.1-1.tar.gz
or with the option   -l  " lib"
(if lib different from  $R_HOME/library)


--
  Didier G. Leibovici    didier at fmrib.ox.ac.uk    +44 (0)1865 222 739
Image Analysis Group                          fax:+44 (0)1865 222 717
Oxford University, Centre For Functional Magnetic Resonance Imaging of
the Brain (FMRIB), John Radcliffe Hospital, Headington, Oxford OX3 9DU, U.K
http://www.fmrib.ox.ac.uk/~didier/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Benoit.Lacheron at degroof.be  Tue Apr 24 18:43:00 2001
From: Benoit.Lacheron at degroof.be (Benoit.Lacheron@degroof.be)
Date: Tue, 24 Apr 2001 18:43:00 +0200
Subject: [R] ARIMA and GARCH
Message-ID: <41256A38.005AD789.00@mta2.degroof.be>



Hello,

I would like to study time series with ARIMA and GARCH models.
I installed R-Plus and its libraries but when I try to execute the function
arima0, It answers that the function does not exist.
Could you help me or give me references of papers dealing with arima and garch
in R-Plus?

Thanks

Beno?t,

___________________________________
Mr. Beno?t LACHERON
Rue de l'industrie, 44,
1040   Brussels - Belgium
Phone: +32 (0)2 287 91 35
Fax  : +32 (0)2 231 09 04
E-mail: benoit.lacheron at degroof.be


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Apr 24 19:03:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Apr 2001 18:03:35 +0100 (BST)
Subject: [R] ARIMA and GARCH
In-Reply-To: <41256A38.005AD789.00@mta2.degroof.be>
Message-ID: <Pine.LNX.4.31.0104241802250.25655-100000@gannet.stats>

On Tue, 24 Apr 2001 Benoit.Lacheron at degroof.be wrote:

>
>
> Hello,
>
> I would like to study time series with ARIMA and GARCH models.
> I installed R-Plus and its libraries but when I try to execute the function
> arima0, It answers that the function does not exist.
> Could you help me or give me references of papers dealing with arima and garch
> in R-Plus?

1) It's R not R-Plus.
2) You need

library(ts)

to use arima0.

3) GARCH functionality is in package tseries, which you will need to get
from CRAN and install.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Apr 24 20:39:55 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 24 Apr 2001 11:39:55 -0700
Subject: [R] Mac and Excel
Message-ID: <87oftmqgzo.fsf@jeeves.blindglobe.net>


Not having a Mac in front of me, but having a consultee with one, I
pose the following question:

Is there an easy way to transfer a Mac excel data set (columns, etc)
into R (only on a Mac)?

Verified existence of such a thing would be great; I've been uncertain
as to the best way to get data in/out of R (on the mac, of course).
An actual algorithm/procedure would be met with great rejoicing.

I think I'm going to have to get one of these things sometime soon,
since they aren't going away (anyone see the article of the titanium
G4 powerbook that set off a bomb scare at US airport :-)?

(note - I _DO_ know how to do it; it's trivial for me, at least, using
windows and/or unix, it's the Mac-centric solution that I'd like)

best, 
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imsw at holyrood.ed.ac.uk  Wed Apr 25 12:09:38 2001
From: imsw at holyrood.ed.ac.uk (Ian White)
Date: Wed, 25 Apr 2001 11:09:38 +0100 (BST)
Subject: [R] manova
Message-ID: <Pine.SOL.4.33.0104251107200.28824-100000@holyrood.ed.ac.uk>

I'm running R 1.2.2.  The help information for manova says that the
result is "A list with components
SS: A names list of sums of squares and product matrices.
Eigenvalues: A matrix of eigenvalues,
stats: A matrix of the statistics, approximate F value and degrees
of freedom."

However, when I run the example, with

fit <- manova(Y ~ rate*additive),

I find that fit$SS is NULL. Similarly for the other components of the list.
Can anyone explain? How can I access these SSP matrices?


************************************************
*    I.White                                   *
*    ICAPB, University of Edinburgh            *
*    Ashworth Laboratories, West Mains Road    *
*    Edinburgh EH9 3JT                         *
*    E-mail: i.m.s.white at ed.ac.uk              *
************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 25 12:25:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Apr 2001 11:25:29 +0100 (GMT Daylight Time)
Subject: [R] manova
In-Reply-To: <Pine.SOL.4.33.0104251107200.28824-100000@holyrood.ed.ac.uk>
Message-ID: <Pine.WNT.4.31.0104251123500.1156-100000@gannet>

On Wed, 25 Apr 2001, Ian White wrote:

> I'm running R 1.2.2.  The help information for manova says that the
> result is "A list with components
> SS: A names list of sums of squares and product matrices.
> Eigenvalues: A matrix of eigenvalues,
> stats: A matrix of the statistics, approximate F value and degrees
> of freedom."

The result of *summary.manova*.  Please read the Details section.

> However, when I run the example, with
>
> fit <- manova(Y ~ rate*additive),
>
> I find that fit$SS is NULL. Similarly for the other components of the list.
> Can anyone explain? How can I access these SSP matrices?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Wed Apr 25 14:05:25 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Wed, 25 Apr 2001 13:05:25 +0100
Subject: [R] POSIX revisited
Message-ID: <3.0.5.32.20010425130525.00930df0@bute.st-and.ac.uk>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 2534 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010425/d4b27ac7/attachment.bin

From ripley at stats.ox.ac.uk  Wed Apr 25 14:39:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2001 13:39:36 +0100 (BST)
Subject: [R] POSIX revisited
In-Reply-To: <3.0.5.32.20010425130525.00930df0@bute.st-and.ac.uk>
Message-ID: <Pine.LNX.4.31.0104251332080.1160-100000@gannet.stats>

On Wed, 25 Apr 2001, Bernie McConnell wrote:

> G'Day,
>
>
> I am still a little confused about manipulating date-time classes.  In the
example below I add 20 days to a POSIXlt object (x.lt) by adding 20 to
x.lt$mday.  But, not surprisingly, the mon and year components are not updated
accordingly.  Thus I convert to POSIXct and back again to POSIXlt and all is
fine.  Is this the recommended way of incrementing POSIXlt objects, or have I
missed something fundamental or obvious?

You can just add:

> x.lt + 20*86400
[1] "2000-01-12 12:00:00 GMT"

Obvious?  It converts to POSIXct automatically, but that should be of no
importance.


> A follow-on and more vague question is - I have found that sometimes POSIXct
insists on displaying my cherished GMT-based  data collected in the summer as
"GMT Daylight Time" rather than Standard Time. Change Dec to Jun in the example
to see this. How can I force POSIXct to GMT Standard Time - whatever the season.
 Seals don't use "Daylight Time" :-)

If you want the times in GMT and not in the local time zone, you have to ask for
it.  Just use

format(x, tx="GMT")

The use of "GMT Daylight Time" not BST is a Windows anachronism.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barbara at athena.mat.ufrgs.br  Wed Apr 25 15:51:22 2001
From: barbara at athena.mat.ufrgs.br (Barbara)
Date: Wed, 25 Apr 2001 10:51:22 -0300
Subject: [R] help stable
Message-ID: <3AE6D65A.EFCC44DF@athena.mat.ufrgs.br>

Please,

I need help in the part stable from R.
I can?t plot the distribution function of a stable law.  I obtained
bad results. But the density function is OK.
How can I do it?

Sorry, I?m Brazilian and my english isn?t good...

Thanks,
Barbara Patricia Olbermann
Instituto de Matem?tica
Universidade Federal do Rio Grande do Sul - Brasil
barbara at athena.mat.ufrgs.br

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Apr 25 17:02:15 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Apr 2001 17:02:15 +0200
Subject: [R] help stable
In-Reply-To: <3AE6D65A.EFCC44DF@athena.mat.ufrgs.br>
References: <3AE6D65A.EFCC44DF@athena.mat.ufrgs.br>
Message-ID: <15078.59127.608602.526146@gargle.gargle.HOWL>

>>>>> "Barbara" == Barbara  <barbara at athena.mat.ufrgs.br> writes:

    Barbara> Please,
    Barbara> I need help in the part stable from R.
"stable" is a package not part of `standard R' but contributed by Jim
Lindsey.    library(help = stable)   should tell you this.  
Usually you should ask the package maintainer for things like this.	  

    Barbara> I can?t plot the distribution function of a stable law.  I obtained
    Barbara> bad results. But the density function is OK.
    Barbara> How can I do it?

You must give more details (e.g., exact commands you typed).
However, don't the plots look right you get from

  library(stable)
  example(dstable)

?

    Barbara> Sorry, I?m Brazilian and my english isn?t good...

It's fair enough, don't be afraid!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Wed Apr 25 18:03:24 2001
From: mlennert at ulb.ac.be (Moritz Lennert)
Date: Wed, 25 Apr 2001 18:03:24 +0200
Subject: [R] problems with a large data set
Message-ID: <3AE6F54B.6F29EC5A@ulb.ac.be>

Hello,

I have trouble with a data set that comprises 2136 lines of 20 columns.
I would like to do a hierarchical clustering and I tried the following:

ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")

but I get the following error message:

Error: cannot allocate vector of size 17797 Kb

When I try to do the dist() alone first without the hclust(), I get the
same type of message.

Then I tried with the RPgSQL packages by typing

>db.connect(dbname="space")
Connected to database "space" on "localhost" 
> bind.db.proxy("ages")
> ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")

This time I get:

Error in dist(ages, method = "euclidean") : 
        NA/NaN/Inf in foreign function call (arg 1)
In addition: Warning message: 
NAs introduced by coercion


I've checked, and I can't find any missing values of something similar.
Could someone tell me if I'm doing something wrong, or wether this is
just too much data for R ?

Please send your response directly to me since I'm not on the mailing
list, thank you.

-- 
Moritz Lennert
Charg? de recherche
IGEAT - ULB

t?l: 32-2-650.65.16
fax: 32-2-650.50.92
email: mlennert at ulb.ac.be
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Apr 25 18:42:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2001 17:42:12 +0100 (BST)
Subject: [R] problems with a large data set
In-Reply-To: <3AE6F54B.6F29EC5A@ulb.ac.be>
Message-ID: <Pine.LNX.4.31.0104251731230.10281-100000@gannet.stats>

On Wed, 25 Apr 2001, Moritz Lennert wrote:

> Hello,
>
> I have trouble with a data set that comprises 2136 lines of 20 columns.
> I would like to do a hierarchical clustering and I tried the following:
>
> ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")
>
> but I get the following error message:
>
> Error: cannot allocate vector of size 17797 Kb
>
> When I try to do the dist() alone first without the hclust(), I get the
> same type of message.
>
> Then I tried with the RPgSQL packages by typing
>
> >db.connect(dbname="space")
> Connected to database "space" on "localhost"
> > bind.db.proxy("ages")
> > ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")

That does not help. You need to retrieve the data to use it!

> This time I get:
>
> Error in dist(ages, method = "euclidean") :
>         NA/NaN/Inf in foreign function call (arg 1)
> In addition: Warning message:
> NAs introduced by coercion
>
>
> I've checked, and I can't find any missing values of something similar.
> Could someone tell me if I'm doing something wrong, or wether this is
> just too much data for R ?

This may be too much data for your computer, but not for R: I've
just done this in a few seconds.  I suggest that you need more memory
(real or virtual): on my simulation it used about 80Mb.

I should say that doing agglomerative hierarchical cluster on thousands of
points makes little sense: it is a not a good way to find large clusters:
try a partitioning method like kmeans or clara (in package cluster).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marlon at iqm.unicamp.br  Wed Apr 25 18:57:01 2001
From: marlon at iqm.unicamp.br (Marlon Martins dos Reis)
Date: Wed, 25 Apr 2001 13:57:01 -0300
Subject: [R] Rcmd INSTALL
Message-ID: <3AE701DD.3DD63EE0@iqm.unicamp.br>

Dear All,

I'm a real beginner in R(a windows version) and I'm trying to install
the principal curves packages(from
http://cran.r-project.org/src/contrib/PACKAGES.html#princurve ) by using
the following comand:
--------------------------------------------------------------------------------------------------------

shell("Rcmd INSTALL d:/bin/cran/princurve").
-------------------------------------------------------------------------

but I got lost with the message:
-------------------------------------------------------------------------------------------------------------

"
make: Entering directory `/d/bin/cran/rw1022/src/gnuwin32'
make DLLNM=  EXTRADOCS= \
  -C d:/bin/cran/princurve PKG=princurve RHOME=D:/bin/cran/rw1022
RLIB=D:/bin/cran/rw1022/library \
  -f D:/bin/cran/rw1022/src/gnuwin32/MakePkg
make[1]: Entering directory `/d/bin/cran/princurve'
---------- Making package princurve ------------
mkdir -p D:/bin/cran/rw1022/library/princurve
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./ChangeLog ./README
D:/bin/cran/rw1022/library/princurve/
   adding build stamp to DESCRIPTION
  installing R files
  making DLL
make[2]: Entering directory `/d/bin/cran/princurve/src'
make[3]: `libR.a' is up to date.
windres --include-dir D:/bin/cran/rw1022/src/include  -i
princurve_res.rc -o princurve_res.o
princurve_res.rc:1: windows.h: No such file or directory
windres: princurve_res.rc:8: syntax error
make[2]: *** [princurve_res.o] Error 1
make[2]: Leaving directory `/d/bin/cran/princurve/src'
make[1]: *** [src/princurve.dll] Error 2
make[1]: Leaving directory `/d/bin/cran/princurve'
make: *** [pkg-princurve] Error 2
make: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32'
*** Installation of princurve failed ***
"
----------------------------------------------------------------------------------------

Did I miss some important point in the "Rcmd" comand?
Regards,
Marlon!!!

--
_________________________________________________________
                 Marlon Martins dos Reis
                Aplica??o e Desenvolvimento
                          de
                 M?todos Quimiom?tricos
              e-mail: marlon at iqm.unicamp.br
         p?gina:http://lqta.iqm.unicamp.br/MARLON.html
 Laborat?rio de Quimiometria Te?rica e Aplicada - LQTA -
              Instituto de Qu?mica - UNICAMP -
_________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Wed Apr 25 19:22:42 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Wed, 25 Apr 2001 13:22:42 -0400
Subject: [R] how to do java-like hashtables in R, R from a java programmer's p
	onit of view
Message-ID: <D8FC432ED011D511B1D9001083FD45E7048706@norcom2.norcom.net>

I suppose I am looking for recommendations on the right book on R for me.
This post drones on a bit about what sort of programming I do and is
basically asking if there are any books on R written with me in mind.  I
also make a proposal regarding R documentation at the end.

I started reading "Programming with Data," by Chambers, got really excited
in chapter 1, then found that I had a hard time learning what I wanted to
know from the rest of it.

I have been reading "An Introduction to R," which is quite good, but stops
short of what I want to know. My company operates a satellite mobile data
network and I am the "chief traffic analysist," you might say.  I have a
packet sniffer that captures a complete record of every packet that goes
over the air in our network and from that, I study the system's capacity, do
troubleshooting, and all sorts of other analysis.  I plot things like
channel utilisation versus time during the day, arrival and departure rates
of calls in the system, arrival rates of different categories of packets,
and many other things.  I am no statistician (I'm a communictions theory guy
who enjoys programming).

I have written a lot of software to analyze the raw data in java and I am
very attracted to R's interactive ploting and data analysis abilities.  I am
having a hard time making the connection between how I usually do things in
java and how to do things in R, however.

After I got the basic syntax of R down, one of the first questions I asked
myself was."O.K., now how do I build a hashtable from a text file?"

I took me a while to realize that R's lists are one way to do that.

For example, suppose I have a text file with the following key/value pairs
in it
a,1
b,1
c,4
d,3
...

and I want to read this into a hash table.  I must have written a dozen
programs that do any number of variations on this basic task in the last
year or so.  I can't believe how useful it is.

In R, you might proceed as follows to build such a table.  Say x is some
list object.  Say you have a loop that is reading key/value pairs into the
variables "key" and "value" one after another.

Putting the pair in the table is as simple as:

x[[key]] <- value

Later, retrieving a value from a key would be:

x[[key]]


Are there any books that explain how to use the base packages in R or S to
do tasks like this?  I feel like I am really stumbling around in the dark
trying to slowly figure things out in R.

When writing a java program to perform some new type of analysis, I
typically lay out a few obvious classes based on the sorts of data I am
trying to extract and start filling in the details of the classes.  Is this
the right way to think of programming in R/S?

It occurs to me that some simple java programs and their corresponding R
implementations would be a very powerful form of documentation for java
programmers wanting to learn R.  This is my second attempt to come to grips
with R;  I tried and failed about a year ago.

Perhaps this forum would be an excellent place to develop such example
program translations?  I would certainly be willing to boil down some of my
typical java data analysis programs into short, clear examples, if anyone
would be interested in helping me translate them into R.

Chris Marshall
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Apr 25 22:06:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Apr 2001 22:06:02 +0200
Subject: [R] how to do java-like hashtables in R, R from a java programmer's p 	onit of view
In-Reply-To: Chris Marshall's message of "Wed, 25 Apr 2001 13:22:42 -0400"
References: <D8FC432ED011D511B1D9001083FD45E7048706@norcom2.norcom.net>
Message-ID: <x2lmoon3rp.fsf@blueberry.kubism.ku.dk>

Chris Marshall <chrism at norcomnetworks.com> writes:

> In R, you might proceed as follows to build such a table.  Say x is some
> list object.  Say you have a loop that is reading key/value pairs into the
> variables "key" and "value" one after another.
> 
> Putting the pair in the table is as simple as:
> 
> x[[key]] <- value
> 
> Later, retrieving a value from a key would be:
> 
> x[[key]]

Actually, the linear structure of a list in R makes this rather
inefficient. Another option is to use environments and pretend that
the key is a variable name:

e <- new.env()
assign(key,value,envir=e)
get(key,envir=e)

This has the advantage that environments, contrary to lists, really
are hashed. Take a peek inside envir.c if you care.

(Abandon all hopes of S-PLUS compatibility if you do this, though.
Also beware that environments are slightly strange objects since they
are never duplicated - e.g. on assignment.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Wed Apr 25 22:44:24 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Wed, 25 Apr 2001 13:44:24 -0700 (PDT)
Subject: [R] how to do java-like hashtables in R, R from a java programmer's
 p onit of view
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E7048706@norcom2.norcom.net>
Message-ID: <Pine.LNX.4.33.0104251328460.7771-100000@shell1.aracnet.com>

On Wed, 25 Apr 2001, Chris Marshall wrote:

[snip]

I do some *very* similar things, except that I do the data structuring in
Perl and create comma-separated value files that I can read directly into
R with "read.csv". The basic data structure in R is the data frame, and most
of my Perl code simply builds data frames.

I have actually processed sniffer-like data. In the specific case, I simply
built a list indexed by time stamp in milliseconds (column 1). Column 2 is the
"from" IP address, column 2 is to "to" IP address, column 3 is the byte count
and column 4 is the protocol. In actuality, my data came from Microsoft SMS
NetMon rather than from a sniffer. Then all I have to do is read the data into
a statistics package (when I did this I used Minitab, not R) and I can easily
do analysis on packets by source, destination, protocol, etc. Contact me off-
list for more details.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

How to Stop A Folksinger Cold # 3
"If you miss the train I'm on..."
Tough.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Apr 26 00:45:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Apr 2001 00:45:03 +0200
Subject: [R] how to do java-like hashtables in R, R from a java programmer's p 	onit of view
In-Reply-To: Peter Dalgaard BSA's message of "25 Apr 2001 22:06:02 +0200"
References: <D8FC432ED011D511B1D9001083FD45E7048706@norcom2.norcom.net> <x2lmoon3rp.fsf@blueberry.kubism.ku.dk>
Message-ID: <x23dawsiog.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> e <- new.env()
> assign(key,value,envir=e)
> get(key,envir=e)
> 
> This has the advantage that environments, contrary to lists, really
> are hashed. Take a peek inside envir.c if you care.

Oops. Wrong... There's code in R for hashing function frames (which is
what new.env() created, but it is #ifdef'ed out.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Thu Apr 26 00:52:00 2001
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Wed, 25 Apr 2001 15:52:00 -0700
Subject: [R]  Max/Min w/ Non-linear constraints
Message-ID: <01042515520000.03731@ewilliam.ucsd.edu>

Hi all,

How do people do non-linear constrained maximization in R?  If in C, are 
there any packages people would recommend as being particularly easy to 
interface/hack to work with R?  And if not, does anyone want me to?

-- 
Elliot Williams (ewilliams at ucsd.edu)
Economics Department, UC San Diego
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Apr 26 04:36:50 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 25 Apr 2001 21:36:50 -0500
Subject: [R]  Max/Min w/ Non-linear constraints
In-Reply-To: <01042515520000.03731@ewilliam.ucsd.edu>
References: <01042515520000.03731@ewilliam.ucsd.edu>
Message-ID: <15079.35266.169038.996705@sonny.eddelbuettel.com>


  "Elliot" == Elliot Williams <ewilliams at ucsd.edu> writes:
  Elliot>  Hi all, How do people do non-linear constrained maximization in R?
  Elliot> If in C, are there any packages people would recommend as being
  Elliot> particularly easy to interface/hack to work with R?  And if not,
  Elliot> does anyone want me to?

See  help(optim)  and in particular the sections about L-BFGS-B.

Maybe there should be a cross-reference from the optimize() help page too?

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dg6ag at herts.ac.uk  Thu Apr 26 11:16:34 2001
From: dg6ag at herts.ac.uk (G.de-With)
Date: Thu, 26 Apr 2001 10:16:34 +0100
Subject: [R] Installing smooth.spline command
Message-ID: <3AE7E772.4ADA66@gemini.herts.ac.uk>


Hello

I have installed R-0.90.1 on my Linux (Redhat 6.2) machine,
unfortunately I am not able to use a number of commands like e.g.
smooth.spline and predict.smooth.spline.
The error messages being given by is:

Error: Object "smooth.spline" not found


With the command library() I have checked or the libraries for the
smoothing functions are there, as shown below.
--------
> library()

Packages in library `/usr/local/lib/R/library':

base  The R base package
ctest  Classical Tests
eda  Exploratory Data Analysis
lqs  Resistant Regression and Covariance Estimation
modreg  Modern Regression: Smoothing and Local Methods
mva  Classical Multivariate Analysis
nls  Nonlinear regression
splines  Regression Spline Functions and Classes
stepfun  Step Functions, including Empirical Distributions
tcltk  Interface to Tcl/Tk
ts  Time series functions

>
---------

>From what I can see the code for these commands is available also, as
there is a file called /usr/local/lib/R/library/modreg/R/modreg,
containing R code for the smooth.spline function.

I would be really interested if anyone can tell me how I have to
install, compile or configure the R code to have the above described
commands available.

Thanks

Govert de With

--
 ------------------------------------------------------------
| Govert de With     Research Student                        |
| Fluid Mechanics Research Group                             |
| University of Hertfordshire                                |
| Tel: 01707 284942 Fax: 01707 285086                        |
 ------------------------------------------------------------
| Der Horizont vieler Menschen ist ein Kreis mit Radius Null |
| und das nennen sie ihren Standpunkt.                       |
 ------------------------------------------------------------


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010426/da5011a9/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Apr 26 11:39:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Apr 2001 11:39:10 +0200
Subject: [R] Installing smooth.spline command
In-Reply-To: "G.de-With"'s message of "Thu, 26 Apr 2001 10:16:34 +0100"
References: <3AE7E772.4ADA66@gemini.herts.ac.uk>
Message-ID: <x2k848q9tt.fsf@blueberry.kubism.ku.dk>

"G.de-With" <dg6ag at herts.ac.uk> writes:

> Hello
> 
> I have installed R-0.90.1 on my Linux (Redhat 6.2) machine,
> unfortunately I am not able to use a number of commands like e.g.
> smooth.spline and predict.smooth.spline.
> The error messages being given by is:
> 
> Error: Object "smooth.spline" not found
> 
> 
> With the command library() I have checked or the libraries for the
> smoothing functions are there, as shown below.
> --------
> > library()
> 
> Packages in library `/usr/local/lib/R/library':
> 
> base  The R base package
> ctest  Classical Tests
> eda  Exploratory Data Analysis
> lqs  Resistant Regression and Covariance Estimation
> modreg  Modern Regression: Smoothing and Local Methods
> mva  Classical Multivariate Analysis
> nls  Nonlinear regression
> splines  Regression Spline Functions and Classes
> stepfun  Step Functions, including Empirical Distributions
> tcltk  Interface to Tcl/Tk
> ts  Time series functions

So did you type library(splines) to load the package?

(And 0.90.1 is getting old. 1.2.3 is due out today)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Apr 26 11:44:02 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 26 Apr 2001 11:44:02 +0200
Subject: [R] Installing smooth.spline command
References: <3AE7E772.4ADA66@gemini.herts.ac.uk>
Message-ID: <3AE7EDE2.E6A295B@statistik.uni-dortmund.de>

"G.de-With" wrote:
> 
> 
> Hello
> 
> I have installed R-0.90.1 on my Linux (Redhat 6.2) machine,

1. Install a recent version of R (R-1.2.2)!


> unfortunately I am not able to use a number of commands like e.g.
> smooth.spline and predict.smooth.spline.
> The error messages being given by is:
> 
> Error: Object "smooth.spline" not found

2. type:
  library(modreg)

3. everything works!

  
> With the command library() I have checked or the libraries for the
> smoothing functions are there, as shown below.
> --------
> > library()
> 
> Packages in library `/usr/local/lib/R/library':
> 
> base  The R base package
> ctest  Classical Tests
> eda  Exploratory Data Analysis
> lqs  Resistant Regression and Covariance Estimation
> modreg  Modern Regression: Smoothing and Local Methods
> mva  Classical Multivariate Analysis
> nls  Nonlinear regression
> splines  Regression Spline Functions and Classes
> stepfun  Step Functions, including Empirical Distributions
> tcltk  Interface to Tcl/Tk
> ts  Time series functions
> 
> >
> ---------
> 
> From what I can see the code for these commands is available also, as
> there is a file called /usr/local/lib/R/library/modreg/R/modreg,
> containing R code for the smooth.spline function.
> 
> I would be really interested if anyone can tell me how I have to
> install, compile or configure the R code to have the above described
> commands available.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Apr 26 11:53:14 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 26 Apr 2001 11:53:14 +0200 (MET DST)
Subject: [R] Installing smooth.spline command
In-Reply-To: <3AE7E772.4ADA66@gemini.herts.ac.uk>
Message-ID: <Pine.OSF.4.30.0104261150210.25294-100000@alnair.uio.no>

On Thu, 26 Apr 2001, G.de-With wrote:

>I have installed R-0.90.1 on my Linux (Redhat 6.2) machine,

Huh, that's really old, I think the standard response is to get the
latest version, which is 1.2.2 and start from there
<URL:http://cran.r-project.org/src/base/R-1.2.2.tgz>.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Apr 26 12:53:44 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 26 Apr 2001 12:53:44 +0200
Subject: [R] Installing R-packages via install.package
Message-ID: <3AE7FE38.903B8526@psy.uni-muenchen.de>

Hi there,

I've successfully installed und updated some contributed R packages (R
version 1.2.2 on Debian Linux, logged in as a normal user), but I'm
wondering about this:

[...]
Could not open /usr/lib/R/doc/html/packages.html at
/usr/lib/R/share/perl/R/Rdlists.pm line 238.
/usr/lib/R/bin/INSTALL: /usr/lib/R/doc/html/search/index.txt: Permission
denied
/usr/lib/R/bin/INSTALL: LibIndex: Permission denied
DONE (MASS)
[...]

Permissions:
$ ls -l /usr/lib/R/library/LibIndex 
-rw-r--r--    1 root     root          410 Feb 27 23:42
/usr/lib/R/library/LibIndex
$ ls -l /usr/lib/R/doc/html/search/index.txt  
-rw-r--r--    1 root     root       124212 Feb 27 23:42
/usr/lib/R/doc/html/search/index.txt

It's possible to load the package with e.g.

> library(MASS)

but all installed contributed packages are not listed

> library()

Packages in library `/usr/lib/R/library':

base		The R base package
ctest		Classical Tests
eda		Exploratory Data Analysis
lqs		Resistant Regression and Covariance Estimation
modreg		Modern Regression: Smoothing and Local Methods
mva		Classical Multivariate Analysis
nls		Nonlinear regression
splines		Regression Spline Functions and Classes
stepfun		Step Functions, including Empirical Distributions
tcltk		Interface to Tcl/Tk
ts		Time series function

The packages are in their correct location (e.g.
/usr/lib/R/library/MASS/). Maybe I have to change the permission of the
above mentioned files manually and reinstall?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Apr 26 13:43:02 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 26 Apr 2001 13:43:02 +0200
Subject: [R] Installing R-packages via install.package
Message-ID: <3AE809C6.83849E0B@psy.uni-muenchen.de>

Hi there,

I've successfully installed und updated some contributed R packages (R
version 1.2.2 on Debian Linux, logged in as a normal user), but I'm
wondering about this:

[...]
Could not open /usr/lib/R/doc/html/packages.html at
/usr/lib/R/share/perl/R/Rdlists.pm line 238.
/usr/lib/R/bin/INSTALL: /usr/lib/R/doc/html/search/index.txt: Permission
denied
/usr/lib/R/bin/INSTALL: LibIndex: Permission denied
DONE (MASS)
[...]

Permissions:
$ ls -l /usr/lib/R/library/LibIndex 
-rw-r--r--    1 root     root          410 Feb 27 23:42
/usr/lib/R/library/LibIndex
$ ls -l /usr/lib/R/doc/html/search/index.txt  
-rw-r--r--    1 root     root       124212 Feb 27 23:42
/usr/lib/R/doc/html/search/index.txt

It's possible to load the package with e.g.

> library(MASS)

but all installed contributed packages are not listed

> library()

Packages in library `/usr/lib/R/library':

base		The R base package
ctest		Classical Tests
eda		Exploratory Data Analysis
lqs		Resistant Regression and Covariance Estimation
modreg		Modern Regression: Smoothing and Local Methods
mva		Classical Multivariate Analysis
nls		Nonlinear regression
splines		Regression Spline Functions and Classes
stepfun		Step Functions, including Empirical Distributions
tcltk		Interface to Tcl/Tk
ts		Time series function

The packages are in their correct location (e.g.
/usr/lib/R/library/MASS/). Maybe I have to change the permission of the
above mentioned files manually and reinstall?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewm at sonny.eddelbuettel.com  Thu Apr 26 14:39:56 2001
From: ewm at sonny.eddelbuettel.com (Dirk Eddelbuettel's Neomail account)
Date: Thu, 26 Apr 2001 07:39:56 -0500
Subject: [R] Installing R-packages via install.package
In-Reply-To: <3AE7FE38.903B8526@psy.uni-muenchen.de>; from garbade@psy.uni-muenchen.de on Thu, Apr 26, 2001 at 12:53:44PM +0200
References: <3AE7FE38.903B8526@psy.uni-muenchen.de>
Message-ID: <20010426073956.A16498@sonny.eddelbuettel.com>

On Thu, Apr 26, 2001 at 12:53:44PM +0200, Sven Garbade wrote:
> I've successfully installed und updated some contributed R packages (R
> version 1.2.2 on Debian Linux, logged in as a normal user), but I'm
> wondering about this:
> 
> [...]
> Could not open /usr/lib/R/doc/html/packages.html at
> /usr/lib/R/share/perl/R/Rdlists.pm line 238.
> /usr/lib/R/bin/INSTALL: /usr/lib/R/doc/html/search/index.txt: Permission
> denied
> /usr/lib/R/bin/INSTALL: LibIndex: Permission denied
> DONE (MASS)
> [...]

Well, that's what permissions are for. Those files are owned by root (uid 1), 
you are a user. On my systems at home and work, I always do this as root. 
Ie, open a root shell, start R and call 'update.packages()'.

> /usr/lib/R/library/MASS/). Maybe I have to change the permission of the
> above mentioned files manually and reinstall?

Uh, no. Either you are root on that machine, or you're not. In the latter case,
install into $HOME/R/library.  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Apr 26 15:02:25 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Thu, 26 Apr 2001 06:02:25 -0700
Subject: [R] Installing R-packages via install.package
In-Reply-To: <3AE809C6.83849E0B@psy.uni-muenchen.de>
Message-ID: <HBEHIIBBKKNOBLMPKCBBAELPDEAA.znmeb@aracnet.com>

I just did this last night on my Red Hat 7.1 Linux system. I can *download*
packages with my normal user logon ID, but I can't install them unless I am
"root", because the directory where the packages live is not one where I
have write privileges. On a single-user system like my laptop this is not an
issue, but on a multi-user system you will need to be a system administrator
to do installs.

Speaking of automatic downloads from CRAN, last night I noticed that there
is a new package "sma". "update.packages" didn't seem to notice that there
was a new package. Is that because the list "update.packages" looks at
didn't get updated yet, or because "update.packages" only looks to update
packages you already have?

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Sven Garbade
> Sent: Thursday, April 26, 2001 4:43 AM
> To: R-Help
> Subject: [R] Installing R-packages via install.package
>
>
> Hi there,
>
> I've successfully installed und updated some contributed R packages (R
> version 1.2.2 on Debian Linux, logged in as a normal user), but I'm
> wondering about this:
>
> [...]
> Could not open /usr/lib/R/doc/html/packages.html at
> /usr/lib/R/share/perl/R/Rdlists.pm line 238.
> /usr/lib/R/bin/INSTALL: /usr/lib/R/doc/html/search/index.txt: Permission
> denied
> /usr/lib/R/bin/INSTALL: LibIndex: Permission denied
> DONE (MASS)
> [...]
>
> Permissions:
> $ ls -l /usr/lib/R/library/LibIndex
> -rw-r--r--    1 root     root          410 Feb 27 23:42
> /usr/lib/R/library/LibIndex
> $ ls -l /usr/lib/R/doc/html/search/index.txt
> -rw-r--r--    1 root     root       124212 Feb 27 23:42
> /usr/lib/R/doc/html/search/index.txt
>
> It's possible to load the package with e.g.
>
> > library(MASS)
>
> but all installed contributed packages are not listed
>
> > library()
>
> Packages in library `/usr/lib/R/library':
>
> base		The R base package
> ctest		Classical Tests
> eda		Exploratory Data Analysis
> lqs		Resistant Regression and Covariance Estimation
> modreg		Modern Regression: Smoothing and Local Methods
> mva		Classical Multivariate Analysis
> nls		Nonlinear regression
> splines		Regression Spline Functions and Classes
> stepfun		Step Functions, including Empirical Distributions
> tcltk		Interface to Tcl/Tk
> ts		Time series function
>
> The packages are in their correct location (e.g.
> /usr/lib/R/library/MASS/). Maybe I have to change the permission of the
> above mentioned files manually and reinstall?
>
> Thanks, Sven
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Apr 26 15:50:37 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 26 Apr 2001 15:50:37 +0200 (MEST)
Subject: [R] Installing R-packages via install.package
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBAELPDEAA.znmeb@aracnet.com>
Message-ID: <Pine.LNX.4.21.0104261548190.27951-100000@artemis.imbe.med.uni-erlangen.de>


you can set your R_LIBS to e.g. 

export R_LIBS=/home/your_account/lib/R

and use `R CMD INSTALL -l ~/lib/R mypkg' or

`install.packages'. This is much better than having the packages in R_HOME
(think of installing a new R :-)

Torsten

On Thu, 26 Apr 2001, M. Edward Borasky wrote:

> I just did this last night on my Red Hat 7.1 Linux system. I can *download*
> packages with my normal user logon ID, but I can't install them unless I am
> "root", because the directory where the packages live is not one where I
> have write privileges. On a single-user system like my laptop this is not an
> issue, but on a multi-user system you will need to be a system administrator
> to do installs.
> 
> Speaking of automatic downloads from CRAN, last night I noticed that there
> is a new package "sma". "update.packages" didn't seem to notice that there
> was a new package. Is that because the list "update.packages" looks at
> didn't get updated yet, or because "update.packages" only looks to update
> packages you already have?
> 
> --
> M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
> http://www.borasky-research.net  http://www.aracnet.com/~znmeb
> mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com
> 
> If there's nothing to astrology, how come so many famous men were born on
> holidays?
> 
> > -----Original Message-----
> > From: owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Sven Garbade
> > Sent: Thursday, April 26, 2001 4:43 AM
> > To: R-Help
> > Subject: [R] Installing R-packages via install.package
> >
> >
> > Hi there,
> >
> > I've successfully installed und updated some contributed R packages (R
> > version 1.2.2 on Debian Linux, logged in as a normal user), but I'm
> > wondering about this:
> >
> > [...]
> > Could not open /usr/lib/R/doc/html/packages.html at
> > /usr/lib/R/share/perl/R/Rdlists.pm line 238.
> > /usr/lib/R/bin/INSTALL: /usr/lib/R/doc/html/search/index.txt: Permission
> > denied
> > /usr/lib/R/bin/INSTALL: LibIndex: Permission denied
> > DONE (MASS)
> > [...]
> >
> > Permissions:
> > $ ls -l /usr/lib/R/library/LibIndex
> > -rw-r--r--    1 root     root          410 Feb 27 23:42
> > /usr/lib/R/library/LibIndex
> > $ ls -l /usr/lib/R/doc/html/search/index.txt
> > -rw-r--r--    1 root     root       124212 Feb 27 23:42
> > /usr/lib/R/doc/html/search/index.txt
> >
> > It's possible to load the package with e.g.
> >
> > > library(MASS)
> >
> > but all installed contributed packages are not listed
> >
> > > library()
> >
> > Packages in library `/usr/lib/R/library':
> >
> > base		The R base package
> > ctest		Classical Tests
> > eda		Exploratory Data Analysis
> > lqs		Resistant Regression and Covariance Estimation
> > modreg		Modern Regression: Smoothing and Local Methods
> > mva		Classical Multivariate Analysis
> > nls		Nonlinear regression
> > splines		Regression Spline Functions and Classes
> > stepfun		Step Functions, including Empirical Distributions
> > tcltk		Interface to Tcl/Tk
> > ts		Time series function
> >
> > The packages are in their correct location (e.g.
> > /usr/lib/R/library/MASS/). Maybe I have to change the permission of the
> > above mentioned files manually and reinstall?
> >
> > Thanks, Sven
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._
> >
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benjamin.warr at insead.fr  Thu Apr 26 16:40:26 2001
From: benjamin.warr at insead.fr (WARR Benjamin)
Date: Thu, 26 Apr 2001 16:40:26 +0200
Subject: [R] fonts and platforms
Message-ID: <C374E6A0E25BD41197FB00508B014A1302874629@FW-ZEUS>

Dear All,

does anyone know why on one platform I have a Times New Roman font and
another Arial (for graphics plots). I cannot find any reference to font
selection via par(), cex() or options(), other than bold =2 etc,

Can anyone calrify this form me so that I can acheive a modicum of
homogeneity. is it perhaps a question of versions ?

many thanks

Ben

Benjamin Warr 
Research Associate to Prof. Ayres,
Geostatistician, Environmental Scientist.

Postal Address:
Centre for the Management of Environmental Resources (CMER)
INSEAD
Boulevard de Constance,
77305 Fontainebleau Cedex,
France

Tel: 33 (0)1 60 72 4456
Fax: 33 (0)1 60 74 55 64
e-mail: benjamin.warr at insead.fr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010426/2a2666af/attachment.html

From benjamin.warr at insead.fr  Thu Apr 26 17:07:23 2001
From: benjamin.warr at insead.fr (WARR Benjamin)
Date: Thu, 26 Apr 2001 17:07:23 +0200
Subject: [R] How to change Graphics fonts
Message-ID: <C374E6A0E25BD41197FB00508B014A130287462E@FW-ZEUS>

Dear All,

I have found the reply ot the question, just as I was giving up.

How to change graphics fonts: go to r\rw1021\etc\

and edit devga, replacing the first font found with that which you want to
use, ie. TT Courier New 


Benjamin Warr 
Research Associate to Prof. Ayres,
Geostatistician, Environmental Scientist.

Postal Address:
Centre for the Management of Environmental Resources (CMER)
INSEAD
Boulevard de Constance,
77305 Fontainebleau Cedex,
France

Tel: 33 (0)1 60 72 4456
Fax: 33 (0)1 60 74 55 64
e-mail: benjamin.warr at insead.fr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010426/a2c34ce2/attachment.html

From mroberts at ers.usda.gov  Thu Apr 26 17:05:07 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Thu, 26 Apr 2001 11:05:07 -0400
Subject: [R]  Max/Min w/ Non-linear constraints
Message-ID: <sae8010b.036@ers.usda.gov>

>> Elliot Williams <ewilliams at ucsd.edu> 04/25 6:52 PM >>>
>> How do people do non-linear constrained maximization in R?  If in
C, are 
>> there any packages people would recommend as being particularly
easy to 
>> interface/hack to work with R?  And if not, does anyone want me
to?

It looks like R's general optimization function, optim(), 
only allows for box constraints.  I, too, sometimes need to 
solve problems with linear and sometimes non-linear
functions as constraints.

When I was in grad. school (last year), our system administrator 
wrote a matlab wrapper for "NPSOLVE," which seemed  
superior in terms of speed and accuracy as compared to the 
optimizers packaged with matlab.  It also allowed for linear
and non-linear constraints.

I always figured I would try to write an R wrapper the next time I
felt
I needed such a thing, but that hasn't happened yet.

Has anyone out there written a wrapper for NPSOLVE?

Michael Roberts

>
-- 
Elliot Williams (ewilliams at ucsd.edu)
Economics Department, UC San Diego
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html

Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch

_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Apr 26 19:39:32 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 26 Apr 2001 19:39:32 +0200
Subject: [R] little question
Message-ID: <3AE85D53.FD828705@inrialpes.fr>

Hi all,

i have a little pb but i don t find  how i can solve it..
this is..
i have two vectors x and yn and they don t have the same length...
(i suppose length(x)>length(y))
this is what i want to do.
i suppose that
x=c(10,1,2,3,7,9,1,4,2,11,2,10) and y=c(1,2,4,10)
i want to find all the numbers of rows i of x for which x[i] exists in y
...
 i.e. in this case ...rep=(1,2,3,7,8,9,11,12)

Best regards,
Olivier


--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010426/df9eddea/attachment.html

From murdoch at stats.uwo.ca  Thu Apr 26 19:49:21 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 26 Apr 2001 13:49:21 -0400
Subject: [R] fonts and platforms
In-Reply-To: <C374E6A0E25BD41197FB00508B014A1302874629@FW-ZEUS>
References: <C374E6A0E25BD41197FB00508B014A1302874629@FW-ZEUS>
Message-ID: <longet8k15nuhfmb7ae2sfltfmftet33mm@4ax.com>

On Thu, 26 Apr 2001 16:40:26 +0200, you wrote in message
<C374E6A0E25BD41197FB00508B014A1302874629 at FW-ZEUS>:

>Dear All,
>
>does anyone know why on one platform I have a Times New Roman font and
>another Arial (for graphics plots). I cannot find any reference to font
>selection via par(), cex() or options(), other than bold =2 etc,
>
>Can anyone calrify this form me so that I can acheive a modicum of
>homogeneity. is it perhaps a question of versions ?

The choice of font is up to the graphics driver.  Conceivably your
platforms are using different drivers.

The postscript() driver should be consistent across platforms, as far
as I know; you might want to produce your plots using that, rather
than producing them on screen and using dev.print.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr 26 19:50:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 26 Apr 2001 10:50:35 -0700 (PDT)
Subject: [R] little question
In-Reply-To: <3AE85D53.FD828705@inrialpes.fr>
Message-ID: <Pine.A41.4.33.0104261050060.182756-100000@homer30.u.washington.edu>

On Thu, 26 Apr 2001, Olivier Martin wrote:

> Hi all,
>
> i have a little pb but i don t find  how i can solve it..
> this is..
> i have two vectors x and yn and they don t have the same length...
> (i suppose length(x)>length(y))
> this is what i want to do.
> i suppose that
> x=c(10,1,2,3,7,9,1,4,2,11,2,10) and y=c(1,2,4,10)
> i want to find all the numbers of rows i of x for which x[i] exists in y
> ...
>  i.e. in this case ...rep=(1,2,3,7,8,9,11,12)
>

which(x %in% y)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Thu Apr 26 20:07:41 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Thu, 26 Apr 2001 20:07:41 +0200 (CEST)
Subject: [R] little question
In-Reply-To: <3AE85D53.FD828705@inrialpes.fr>
Message-ID: <Pine.LNX.4.21.0104262002340.11616-100000@reclus.nhh.no>

On Thu, 26 Apr 2001, Olivier Martin wrote:

> i have two vectors x and yn and they don t have the same length...
> (i suppose length(x)>length(y))
> this is what i want to do.
> i suppose that
> x=c(10,1,2,3,7,9,1,4,2,11,2,10) and y=c(1,2,4,10)
> i want to find all the numbers of rows i of x for which x[i] exists in y
> ...
>  i.e. in this case ...rep=(1,2,3,7,8,9,11,12)
> 
Something like:
> x <- c(10,1,2,3,7,9,1,4,2,11,2,10)
> y <- c(1,2,4,10)
> x %in% y
 [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE
TRUE
> which(x %in% y)
[1]  1  2  3  7  8  9 11 12

You could do it with match() too.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Thu Apr 26 20:39:13 2001
From: helgito at hi.is (Helgi Tomasson)
Date: Thu, 26 Apr 2001 18:39:13 +0000
Subject: [R] random effects algorithm
Message-ID: <3AE86B51.805AE742@rhi.hi.is>

Dear R-users

Do you have any hint on implemementing a random effects algorithm
for logistic regression, a type of repeated measures thing.
I would like to perform some likelihood-ratio tests when
correcting for random effects.

sincerely yours

Helgi Tomasson


-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration    
email:helgito at rhi.hi.is 
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.sone at worldnet.att.net  Thu Apr 26 21:04:30 2001
From: a.sone at worldnet.att.net (Akio Sone)
Date: Thu, 26 Apr 2001 15:04:30 -0400
Subject: [R] Is there any function equivalent to Rgui's File--Save to File (menu bar) command ? (R for Windows)
Message-ID: <LMBBLAMPDFJFMCGOFGGGCEBBCGAA.a.sone@worldnet.att.net>

Dear R users:

I would like to know whether or not there is some auxiliary function for the
Windows Port that emulates Rgui's Fille|Save to File [menu bar] command,
analogous to flush.console().

More specifically,  what I want to do is to insert such a function in .Last
function in .Rprofile to automatically save the contents of the console as
an ASCII text file whenever I quit Rgui.  Or is there any system parameter
that represents the contents of the console and can be used as an argument
of save command?

Thank you for your assistance.

Akio Sone

Harvard-MIT Data Center
e-mail: asone at latte.harvard.edu
s

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Thu Apr 26 21:34:20 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Thu, 26 Apr 2001 15:34:20 -0400 (EDT)
Subject: [R] list.files wildcard
Message-ID: <Pine.GSO.4.04.10104261526530.22179-100000@julius.ling.ohio-state.edu>


Hello all,

I have a simple question:

I have filenames that look like these: 
 "n031ku09.10msmeanc" "n031ku10.10msmeanc" "n031ku11.10msmeanc"
[22] "n031ku12.10msmeanc" "n031ti01.10msmeanc" "n031ti02.10msmeanc"

I also have a set of the same without the "c" at the end.

When I run list.files(".", pattern="*ku[01-30].meanc"), I get no result. 
I'm guessing that what I have here a problem with "." as a wildcard or
metacharacter. How do I get it to read as a literal in that expression?

TIA,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Thu Apr 26 21:47:22 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Thu, 26 Apr 2001 15:47:22 -0400
Subject: [R] how to do java-like hashtables in R, R from a java progra
	mmer's p onit of view
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F3447@norcom2.norcom.net>

It sounds like we are kindred spirits.

I am using an old PC, with linux installed, running tcpdump as my packet
sniffer.

I will experiment with data frames as you suggest to get the hang of R some
more
before worrying about hashtables again.

Chris Marshall

-----Original Message-----
From: M. Edward (Ed) Borasky
To: Chris Marshall
Cc: r-help at stat.math.ethz.ch
Sent: 4/25/01 4:44 PM
Subject: Re: [R] how to do java-like hashtables in R, R from a java
programmer's p onit of view

On Wed, 25 Apr 2001, Chris Marshall wrote:

[snip]

I do some *very* similar things, except that I do the data structuring
in
Perl and create comma-separated value files that I can read directly
into
R with "read.csv". The basic data structure in R is the data frame, and
most
of my Perl code simply builds data frames.

I have actually processed sniffer-like data. In the specific case, I
simply
built a list indexed by time stamp in milliseconds (column 1). Column 2
is the
"from" IP address, column 2 is to "to" IP address, column 3 is the byte
count
and column 4 is the protocol. In actuality, my data came from Microsoft
SMS
NetMon rather than from a sniffer. Then all I have to do is read the
data into
a statistics package (when I did this I used Minitab, not R) and I can
easily
do analysis on packets by source, destination, protocol, etc. Contact me
off-
list for more details.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

How to Stop A Folksinger Cold # 3
"If you miss the train I'm on..."
Tough.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Apr 26 21:52:57 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 26 Apr 2001 12:52:57 -0700 (PDT)
Subject: [R] list.files wildcard
In-Reply-To: <Pine.GSO.4.04.10104261526530.22179-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.A41.4.33.0104261247230.182756-100000@homer30.u.washington.edu>

On Thu, 26 Apr 2001, David White wrote:

>
> Hello all,
>
> I have a simple question:
>
> I have filenames that look like these:
>  "n031ku09.10msmeanc" "n031ku10.10msmeanc" "n031ku11.10msmeanc"
> [22] "n031ku12.10msmeanc" "n031ti01.10msmeanc" "n031ti02.10msmeanc"
>
> I also have a set of the same without the "c" at the end.
>
> When I run list.files(".", pattern="*ku[01-30].meanc"), I get no result.
> I'm guessing that what I have here a problem with "." as a wildcard or
> metacharacter. How do I get it to read as a literal in that expression?
>

No, that's not the problem. If you do
  a<-c("n031ku09.10msmeanc", "n031ku10.10msmeanc", "n031ku11.10msmeanc")
  grep("*ku[01-30].meanc",a)
you still get no files, so the problem is with the regular expression.

[01-30] doesn't mean numbers between 01 and 30. It means a single
character that is 0, between 1 and 3, or zero

You can get nearly the right thing with
   "*ku[0-3][0-9].10msmeanc"
which matches numbers from 01 to 39


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cestades at uchile.cl  Fri Apr 27 00:23:23 2001
From: cestades at uchile.cl (Cristi?n F. Estades)
Date: Thu, 26 Apr 2001 18:23:23 -0400
Subject: [R] problem with sm package
Message-ID: <01042618343300.03715@fmavella>

Dear all

I just installed the sm package and I'm trying to use the sm.poisson
procedure but I always get the following Error Message:

"cannot find .sm.Options"

I even tried some of the scripts that come with the package and got the same
result.

Any hints as to what may be going on?

Thanks a lot for your time

Cristian F. Estades
Depto. Manejo de Recursos Forestales
Universidad de Chile
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Apr 27 03:01:50 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 27 Apr 2001 09:01:50 +0800
Subject: [R] Installing R-packages via install.package
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBAELPDEAA.znmeb@aracnet.com>; from znmeb@aracnet.com on Thu, Apr 26, 2001 at 06:02:25AM -0700
References: <3AE809C6.83849E0B@psy.uni-muenchen.de> <HBEHIIBBKKNOBLMPKCBBAELPDEAA.znmeb@aracnet.com>
Message-ID: <20010427090150.A1008@camille.indigoindustrial.co.nz>

> Speaking of automatic downloads from CRAN, last night I noticed that there
> is a new package "sma". "update.packages" didn't seem to notice that there
> was a new package. Is that because the list "update.packages" looks at
> didn't get updated yet, or because "update.packages" only looks to update
> packages you already have?

update.packages() only updates the ones you have.  install.packages()
will take a list; no default value, and no automagic parsing
of the CRAN site.  Which is fine - I don't want every package on 
my box.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Apr 27 05:31:01 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 27 Apr 2001 11:31:01 +0800
Subject: [R] [OT] autoconf - use existing libs or compile own
Message-ID: <20010427113101.A9985@camille.indigoindustrial.co.nz>

I'm building a small library that uses a handful of Lapack functions
(dstevr and its dependants).  Since not everybody has Lapack installed, 
I thought it might be neighborly to provide these routines, so folks
could compile them if needed.  However, if they've got Lapack it makes
sense to use the existing libraries, as these may well be optimized
to the local machine.

Is that a good way to proceed?  If so, does anyone have pointers
on how to set up autoconf to do this sort of thing?  I've only
ever set it up to check for libs, and halt the build if the
libs aren't found.  I've never made it take the initiative and
roll its own libraries if it can't find them.

RTFM is a perfectly good answer, but if you could mention which FM, 
I'd appreciate it.  The above seemed a bit more complex than
what I'm able to get out of "Writing R Extensions".  That may say
more about me than the document, though.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Fri Apr 27 10:07:52 2001
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Fri, 27 Apr 2001 18:07:52 +1000
Subject: [R] Re: R-1.2.3 terminology
In-Reply-To: <x2ae53rg56.fsf@blueberry.kubism.ku.dk>
Message-ID: <5.0.0.25.1.20010427175211.03a8c7d0@pop.jcu.edu.au>

At 14:37 26/04/01 +0200, Peter D wrote:

>dotchart() and stripchart() become the preferred names for dotplot() and 
>stripplot(), respectively.  The old names are now deprecated.

Why? dot plot is now a term in widespread use and of long standing (e.g. 
Cleveland 1985, 1994 etc) ... so far as I know it has always and only had 
one name. Altering terminology without a good (and consistent) reason isn't 
helpful ... 'to find more about dotcharts look up "dot plots" in Cleveland 
... ' adds a level of translation, which is bad when teaching newcomers,

Richard Rowe


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 27 10:35:34 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2001 10:35:34 +0200
Subject: [R] Re: R-1.2.3 terminology
In-Reply-To: Richard Rowe's message of "Fri, 27 Apr 2001 18:07:52 +1000"
References: <5.0.0.25.1.20010427175211.03a8c7d0@pop.jcu.edu.au>
Message-ID: <x2k846oi3t.fsf@blueberry.kubism.ku.dk>

Richard Rowe <Richard.Rowe at jcu.edu.au> writes:

> At 14:37 26/04/01 +0200, Peter D wrote:
> 
> >dotchart() and stripchart() become the preferred names for dotplot() and 
> >stripplot(), respectively.  The old names are now deprecated.
> 
> Why? dot plot is now a term in widespread use and of long standing (e.g. 
> Cleveland 1985, 1994 etc) ... so far as I know it has always and only had 
> one name. Altering terminology without a good (and consistent) reason isn't 
> helpful ... 'to find more about dotcharts look up "dot plots" in Cleveland 
> ... ' adds a level of translation, which is bad when teaching newcomers,

We'll need to assign other functionality to those two names for S-PLUS
compatibility. (S-PLUS uses them in Trellis displays, and work is
ongoing to create something compatible with that for R).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Apr 27 11:12:31 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 27 Apr 2001 11:12:31 +0200
Subject: [R] Plotting multiple figures 
Message-ID: <3AE937FF.9635C16@psy.uni-muenchen.de>

Morning,

I've plotted multiple figures on one page, setup the page with n2mfrow.
This works fine, but I can't figure out how to change to a specific plot
(e.g. first row, second column) to add some details.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Fri Apr 27 11:18:40 2001
From: mlennert at ulb.ac.be (mlennert@ulb.ac.be)
Date: Fri, 27 Apr 2001 11:18:40 +0200
Subject: weithed clustering (was: Re: [R] problems with a large data set)
Message-ID: <E14t4Of-0001Gv-00@paf-linux.ulb.ac.be>

kmeans and clara work great. Thank you for the tip.

I have another question: 

Is it possible to weight the observations in a cluster analysis ? I haven't 
found any mention of this in the kmeans of clara help texts.


Moritz Lennert
Charg? de recherche
IGEAT - ULB

t?l: 32-2-650.65.16
fax: 32-2-650.50.92
email: mlennert at ulb.ac.be


> On Wed, 25 Apr 2001, Moritz Lennert wrote:
> 
> > Hello,
> >
> > I have trouble with a data set that comprises 2136 lines of 20 columns.
> > I would like to do a hierarchical clustering and I tried the following:
> >
> > ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")
> >
> > but I get the following error message:
> >
> > Error: cannot allocate vector of size 17797 Kb
> >
> > When I try to do the dist() alone first without the hclust(), I get the
> > same type of message.
> >
> > Then I tried with the RPgSQL packages by typing
> >
> > >db.connect(dbname="space")
> > Connected to database "space" on "localhost"
> > > bind.db.proxy("ages")
> > > ages.hclust <- hclust(dist(ages, method="euclidean"), "ward")
> 
> That does not help. You need to retrieve the data to use it!
> 
> > This time I get:
> >
> > Error in dist(ages, method = "euclidean") :
> >         NA/NaN/Inf in foreign function call (arg 1)
> > In addition: Warning message:
> > NAs introduced by coercion
> >
> >
> > I've checked, and I can't find any missing values of something similar.
> > Could someone tell me if I'm doing something wrong, or wether this is
> > just too much data for R ?
> 
> This may be too much data for your computer, but not for R: I've
> just done this in a few seconds.  I suggest that you need more memory
> (real or virtual): on my simulation it used about 80Mb.
> 
> I should say that doing agglomerative hierarchical cluster on thousands of
> points makes little sense: it is a not a good way to find large clusters:
> try a partitioning method like kmeans or clara (in package cluster).
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 27 11:25:36 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 27 Apr 2001 10:25:36 +0100 (BST)
Subject: [R] nls question
Message-ID: <Pine.LNX.4.10.10104271016390.6704-100000@localhost.localdomain>

I have a question about passing arguments to the function f that nlm
minimizes.

I have no problems if I do this:
x<-seq(0,1,.1)
y<-1.1*x + (1-1.1) + rnorm(length(x),0,.1)
fn<-function(p)
	{
	yhat<-p*x+(1-p)
	sum((y-yhat)^2)
	}
out<-nlm(fn,p=1.5,hessian=TRUE)

But I would like to define
fn<-function(x,y,p)
        {
        yhat<-p*x+(1-p)
        sum((y-yhat)^2)
        }
so that I can pass the x and y variables along, doing something like
out<-nlm(fn,x=this, y=that,p=1.5,hessian=TRUE)
This version doesn't work of course. I have looked at the examples and
can't figure out how to do what I want. Is it possible?

Thanks very much for any help.

(BTW I know nls() can be used for nonlinear least squares fitting. It
choked on this problem.)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Apr 27 09:00:56 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 27 Apr 2001 09:00:56 +0200
Subject: [R] Installing R-packages via install.package
In-Reply-To: <20010427090150.A1008@camille.indigoindustrial.co.nz>
References: <3AE809C6.83849E0B@psy.uni-muenchen.de>
	<HBEHIIBBKKNOBLMPKCBBAELPDEAA.znmeb@aracnet.com>
	<20010427090150.A1008@camille.indigoindustrial.co.nz>
Message-ID: <15081.6440.634627.521667@celeborn.leisch.at>

>>>>> On Fri, 27 Apr 2001 09:01:50 +0800,
>>>>> Jason Turner (JT) wrote:

  >> Speaking of automatic downloads from CRAN, last night I noticed that there
  >> is a new package "sma". "update.packages" didn't seem to notice that there
  >> was a new package. Is that because the list "update.packages" looks at
  >> didn't get updated yet, or because "update.packages" only looks to update
  >> packages you already have?

  > update.packages() only updates the ones you have.  install.packages()
  > will take a list; no default value, and no automagic parsing
  > of the CRAN site.  Which is fine - I don't want every package on 
  > my box.

That's the reason why the default is as it is ... and because there
are only few machines where you really want ALL packages from CRAN,
because that also means you need to install all librariesd they depend
upon (I'm talking about development libs like for databases, not other
R packages).

CRAN.packages() returns all packages available on CRAN,
installed.packages() all that are already installed, so getting a list
of those you don't have currently installed shouldn't be too hard :-)

best,
fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 27 11:35:48 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 27 Apr 2001 10:35:48 +0100 (BST)
Subject: [R] Re: R-1.2.3 terminology
In-Reply-To: <5.0.0.25.1.20010427175211.03a8c7d0@pop.jcu.edu.au>
Message-ID: <Pine.LNX.4.10.10104271033390.6822-100000@localhost.localdomain>

On Fri, 27 Apr 2001, Richard Rowe wrote:

> At 14:37 26/04/01 +0200, Peter D wrote:
> 
> >dotchart() and stripchart() become the preferred names for dotplot() and 
> >stripplot(), respectively.  The old names are now deprecated.
> 
> Why? dot plot is now a term in widespread use and of long standing (e.g. 
> Cleveland 1985, 1994 etc) ... so far as I know it has always and only had 
> one name. Altering terminology without a good (and consistent) reason isn't 
> helpful ... 'to find more about dotcharts look up "dot plots" in Cleveland 
> ... ' adds a level of translation, which is bad when teaching newcomers,

Yeah I agree with Richard.
I never heard it called anything but dotplot. Why the new weird name? Can
we change it back?

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Fri Apr 27 11:48:06 2001
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Fri, 27 Apr 2001 11:48:06 +0200
Subject: [R] Plotting multiple figures 
In-Reply-To: <3AE937FF.9635C16@psy.uni-muenchen.de>
References: <3AE937FF.9635C16@psy.uni-muenchen.de>
Message-ID: <15081.16470.930686.693641@gargle.gargle.HOWL>

Sven Garbade writes:
 > Morning,
 > 
 > I've plotted multiple figures on one page, setup the page with n2mfrow.
 > This works fine, but I can't figure out how to change to a specific plot
 > (e.g. first row, second column) to add some details.

par(mfg = c(1,2))

Cheers, Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 27 12:17:45 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 27 Apr 2001 11:17:45 +0100 (BST)
Subject: [R] Re: nlm question was nls question
In-Reply-To: <Pine.LNX.4.10.10104271016390.6704-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10104271116540.6867-100000@localhost.localdomain>

Sorry for the typo--I meant nlm in subject line not nls

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Apr 27 12:43:41 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 27 Apr 2001 11:43:41 +0100 (BST)
Subject: [R] Plotting multiple figures 
In-Reply-To: <3AE937FF.9635C16@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.10.10104271138510.6891-100000@localhost.localdomain>

On Fri, 27 Apr 2001, Sven Garbade wrote:

> Morning,
> 
> I've plotted multiple figures on one page, setup the page with n2mfrow.
> This works fine, but I can't figure out how to change to a specific plot
> (e.g. first row, second column) to add some details.
I think the preferred way to make multiplot layouts is with layout().
For example, to do 2 columns of 3 plots (6 in all), do
layout(mat=matrix(1:6, 3, 2, byrow=FALSE))
plot(x1,y1)
plot(x2,y2)
plot(x3,y3)
plot(x4,y4)
plot(x5,y5)
plot(x6,y6)
Column 1 has plots 1-3, column 2 has plots 4-6

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marlon at iqm.unicamp.br  Fri Apr 27 13:56:56 2001
From: marlon at iqm.unicamp.br (Marlon Martins dos Reis)
Date: Fri, 27 Apr 2001 08:56:56 -0300
Subject: [R] INSTALL Problems
Message-ID: <3AE95E88.EF3D5386@iqm.unicamp.br>

Dear All,

I have tried to install the tensor package (from:
http://cran.r-project.org/src/contrib/PACKAGES.html#tensor ), using the
comand:
"
shell("Rcmd INSTALL tensor")
"
then I got the following mensage:
----------------------------------------------------------------------------------

make: Entering directory `/d/bin/cran/rw1022/src/gnuwin32'
make DLLNM=  EXTRADOCS= \
  -C D:/bin/cran/tucker/tensor PKG=tensor RHOME=d:/bin/cran/rw1022
RLIB=d:/bin/cran/rw1022/library \
  -f d:/bin/cran/rw1022/src/gnuwin32/MakePkg
make[1]: Entering directory `/d/bin/cran/tucker/tensor'
---------- Making package tensor ------------
mkdir -p d:/bin/cran/rw1022/library/tensor
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE
d:/bin/cran/rw1022/library/tensor/
   adding build stamp to DESCRIPTION
  installing R files
  making DLL
make[2]: Entering directory `/d/bin/cran/tucker/tensor/src'
make[3]: `libR.a' is up to date.
make[2]: Leaving directory `/d/bin/cran/tucker/tensor/src'
mkdir -p d:/bin/cran/rw1022/library/tensor/libs
cp src/tensor.dll d:/bin/cran/rw1022/library/tensor/libs/tensor.dll
make[1]: Leaving directory `/d/bin/cran/tucker/tensor'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library help-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -txt -html
-example -latex D:/bin/cran/tucker/tensor d:/bin/cran/rw1022/library
 >>> Building/Updating help pages for package `tensor'
     Formats: text html latex example
  tensor                            text    html    latex   example
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library contents-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
perl Rd2contents D:/bin/cran/tucker/tensor
d:/bin/cran/rw1022/library/tensor/CONTENTS
cat d:/bin/cran/rw1022/library/*/CONTENTS >
d:/bin/cran/rw1022/doc/html/search/index.txt
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -htmllists
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library chm-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -chm
D:/bin/cran/tucker/tensor d:/bin/cran/rw1022/library
 >>> Building/Updating help pages for package `tensor'
     Formats: chm
make  --no-print-directory -C D:/bin/cran/tucker/tensor/chm -f
d:/bin/cran/rw1022/src/gnuwin32/help/Makefile tensor.chm
hhc tensor.hhp
make[2]: hhc: Command not found
make[2]: [tensor.chm] Error 127 (ignored)
mkdir -p d:/bin/cran/rw1022/library/tensor/chtml
cp D:/bin/cran/tucker/tensor/chm/tensor.chm
d:/bin/cran/rw1022/library/tensor/chtml
cp: D:/bin/cran/tucker/tensor/chm/tensor.chm: No such file or directory
make[1]: *** [chm-tensor] Error 1
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make: *** [pkg-tensor] Error 2
make: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32'
*** Installation of tensor failed ***


-------------------------------------------------------------------------------------------

I supposed that the problem was in the
file(d:/bin/cran/rw1022/src/gnuwin32/help/Makefile), then I commented
the followings lines in this file:
----------------------------------------------------------------------------

# $(MAKE)  --no-print-directory -C $(PKGDIR)/$*/chm -f
$(RHOME)/src/gnuwin32/help/Makefile $*.chm
 $(MKDIR) -p $(RLIB)/$*/chtml
# $(CP) $(PKGDIR)/$*/chm/$*.chm $(RLIB)/$*/chtml

----------------------------------------------------------------------------

and I got :
-----------------------------------------------------------------------------------------------------

> shell("Rcmd INSTALL tensor")

make: Entering directory `/d/bin/cran/rw1022/src/gnuwin32'
make DLLNM=  EXTRADOCS= \
  -C D:/bin/cran/tucker/tensor PKG=tensor RHOME=d:/bin/cran/rw1022
RLIB=d:/bin/cran/rw1022/library \
  -f d:/bin/cran/rw1022/src/gnuwin32/MakePkg
make[1]: Entering directory `/d/bin/cran/tucker/tensor'
---------- Making package tensor ------------
mkdir -p d:/bin/cran/rw1022/library/tensor
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE
d:/bin/cran/rw1022/library/tensor/
   adding build stamp to DESCRIPTION
  installing R files
  making DLL
make[2]: Entering directory `/d/bin/cran/tucker/tensor/src'
make[3]: `libR.a' is up to date.
make[2]: Leaving directory `/d/bin/cran/tucker/tensor/src'
mkdir -p d:/bin/cran/rw1022/library/tensor/libs
cp src/tensor.dll d:/bin/cran/rw1022/library/tensor/libs/tensor.dll
make[1]: Leaving directory `/d/bin/cran/tucker/tensor'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library help-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -txt -html
-example -latex D:/bin/cran/tucker/tensor d:/bin/cran/rw1022/library
 >>> Building/Updating help pages for package `tensor'
     Formats: text html latex example
  tensor                            text    html    latex   example
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library contents-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
perl Rd2contents D:/bin/cran/tucker/tensor
d:/bin/cran/rw1022/library/tensor/CONTENTS
cat d:/bin/cran/rw1022/library/*/CONTENTS >
d:/bin/cran/rw1022/doc/html/search/index.txt
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -htmllists
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make -C ./help RHOME=d:/bin/cran/rw1022 PKGDIR=D:/bin/cran/tucker
RLIB=d:/bin/cran/rw1022/library chm-tensor
make[1]: Entering directory `/d/bin/cran/rw1022/src/gnuwin32/help'
PERL5LIB=d:/bin/cran/rw1022/share/perl perl build.help  -chm
D:/bin/cran/tucker/tensor d:/bin/cran/rw1022/library
 >>> Building/Updating help pages for package `tensor'
     Formats: chm
mkdir -p d:/bin/cran/rw1022/library/tensor/chtml
make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
make: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32'
------------------------------------------------------------------------------------------------------------

When I tried the comand :
 library(tensor)
and I  got :
-----------------------------------------------------------------------------------------------

Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"D:/bin/cran/rw1022/library/tensor/libs/tensor.dll":
  LoadLibrary failure:  A dynamic link library (DLL) initialization
routine failed.
Error in library(tensor) : .First.lib failed
-----------------------------------------------------------------------------------------

Did I missed some important point ?
Does any one can help me?

Regards,
Marlon!!!

P. S.: I'm using a Windows version.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Apr 27 14:03:47 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 27 Apr 2001 14:03:47 +0200
Subject: [R] Benchmarking R, why sort() is so slow?
Message-ID: <MABBLJDICACNFOLGIHJOGECBCDAA.phgrosje@ulb.ac.be>

Hello everybody,

I am making a modified version of "Stephan Steinhaus' benchmark test for
number crunching, v. 2, (see
http://www.scinetificweb.com/ncrunch/ncrunch.pdf for the original version),
comparing several functions of some math/stat software. R is not performing
bad at all... except for the sorting of a 1,100,000 random vector (test #3)
which is the worst of all (see cell F3 in the following table). I simply
used the sort() function. Does anybody has an explanation for that?

Here is a temporary version of the results (sorry for the bad
presentation... a better one and code for all tests will be available soon):

Computer = Intel Celeron 500 Mhz with 256 Mb Ram under Windows 2000 sp1 (all
tests run 3 times)

Tested software: A = O-Matrix 5.1 (native mode), B = O-Matrix 5.1 (Matlab
mode), C = Matlab 6.0 R12, D = Ox 2.20, E = Mathematica 4.01, F = R 1.2.2, G
= Octave 2.1.31, H = Splus 2000 pro R3, I = Matlab 5.3 R11, J = Rlab 2.1, K
= Scilab 2.6, L = Axum 6.0 R2 (Splus mode)

Tests: 3 series (I. matrix calculation / II. preprogrammed matrix functions
/ III. programmation) of 5 tests each. A trimmed mean is considered for each
serie (best and worst scores eliminated). The tests are scaled to be done in
approx. 1 sec on the reference computer with the reference software being
Matlab 6.0 R12 (column C).

Serie I: Matrix calculation
1 = Creation, transposition, deformation of a 1200x1200 matrix, 2 =
1250x1250 normal distributed random matrix ^1000, 3 = Sorting of 1,100,000
random values, 4 = 550x550 cross-product matrix (b = a'  * a), 5 = Linear
regression over a 700x700 matrix (b = a \ b')

Serie II: Preprogrammed matrix functions
6 = FFT over 900,000 random values, 7 = Eigenvalues of a 220x220 random
matrix, 8 = Determinant of a 750x750 random matrix, 9 = Cholesky
decomposition of a 1000x1000 matrix, 10 = Inverse of a 500x500 random matrix

Serie II: programmation
11 = 225.000 Fibonacci numbers calculation (vector calc.), 12 = Creation of
a 1500x1500 Hilbert matrix (matrix calc.), 13 = Grand common divisors of
35,000 pairs (recursion), 14 = Creation of a 220x220 Toeplitz matrix
(loops), 15 = Escoufier's method on a 22x22 matrix (mixed)

Times are in sec.



Software   A     B     C     D     E     F(R)  G     H     I     J     K
L

Serie I.
--------
1         1.03  1.35  0.95  1.23  2.19  2.79  4.24  2.91  1.00  1.92  2.95
2.67
2         2.60  2.48  0.99  2.91  0.76  2.88  2.76  1.41  2.61  2.38  2.32
1.42
3         1.09  1.10  1.04  3.37  3.13 21.71  6.33  1.84  7.91  4.00  2.72
1.65
4         0.85  0.86  0.98  1.84  4.04  3.88  7.71  1.74  4.57  8.92 14.84
1.61
5         0.72  0.96  1.07  5.47  2.89  5.75  4.32 10.84  6.91  6.31  7.67
9.70
----------------------------------------------------------------------------
----
tr. mean  0.99  1.14  1.01  2.70  2.74  4.17  4.96  2.16  4.70  4.23  4.45
1.98

Serie II.
---------
6         2.21  2.16  0.99  3.83  1.94  2.67  2.70  4.81  4.04  2.23  4.06
4.17
7         0.42  0.42  0.90  1.11  0.95  1.49  2.46  1.68  1.41  3.09  2.94
2.19
8         0.88  0.92  1.06  3.31  5.90  5.98  5.19  2.04  7.96  7.50  9.14
117.0
9         0.96  0.96  1.29  3.74  4.30  3.65  6.54 11.38  4.59  6.64  7.81
8.98
10        0.75  0.76  1.10  2.94  5.24  5.83  3.92  2.48  6.18  7.65  7.61
11.04
----------------------------------------------------------------------------
----
tr.mean   0.75  0.88  1.05  3.33  3.83  4.05  3.94  3.48  4.93  5.74  6.49
8.06

Serie III.
----------
11        0.52  0.39  1.04  0.52  0.41  0.55  1.02  0.96  0.97  0.49  0.60
0.72
12        1.79  2.09  0.98  1.03  3.14  1.30  0.79  2.02  2.03  1.21  1.92
1.86
13        0.38  0.43  1.03  0.76   ?    1.33  0.87  0.71  0.92  6.03  1.23
0.93
14        0.20  0.26  0.92  0.13  1.50  2.56  6.89 14.49  0.78  0.63  4.52
13.46
15        0.22  0.24  1.00  0.13   ?    0.48  1.66 12.12  1.06  0.73  1.32
10.88
----------------------------------------------------------------------------
----
tr. mean  0.79  0.36  1.00  0.47  1.68  1.06  1.19  5.03  0.99  0.86  1.49
4.56
----------------------------------------------------------------------------
----
total    14.62 15.39 15.34 32.33 36.38 62.84 57.40 71.43 52.95 59.73 71.65
188.3
----------------------------------------------------------------------------
----
ovr. mean 0.84  0.79  1.02  2.17  2.75  3.09  3.36  3.44  3.54  3.61  4.14
4.87



Best Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Apr 27 14:55:13 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 27 Apr 2001 14:55:13 +0200 (MEST)
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <MABBLJDICACNFOLGIHJOGECBCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.21.0104271451150.1525-100000@artemis.imbe.med.uni-erlangen.de>


> Hello everybody,
> 
> I am making a modified version of "Stephan Steinhaus' benchmark test for
> number crunching, v. 2, (see
> http://www.scinetificweb.com/ncrunch/ncrunch.pdf for the original version),
> comparing several functions of some math/stat software. R is not performing
> bad at all... except for the sorting of a 1,100,000 random vector (test #3)
> which is the worst of all (see cell F3 in the following table). I simply
> used the sort() function. Does anybody has an explanation for that?

it seems to depend:

R> x <- rnorm(1100000)
R> Rprof("sort.out")
R> b <- sort(x)

needs

hothorn at artemis:~ > R CMD Rprof sort.out 

Each sample represents 0.02 seconds.
Total run time: 24.9399999999996 seconds.

but

R> x <- sample(1:100, 1100000, T)
R> Rprof("sort3.out")
R> b <- sort(x)

needs

hothorn at artemis:~ > R CMD Rprof sort3.out  

Each sample represents 0.02 seconds.
Total run time: 4.2 seconds.

on a Intel PIII 450 MHz, 256 MB, SuSE Linux 6.3, R-1.2.3

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Apr 27 15:18:13 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 27 Apr 2001 15:18:13 +0200
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <Pine.LNX.4.21.0104271451150.1525-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <MABBLJDICACNFOLGIHJOMECCCDAA.phgrosje@ulb.ac.be>

OK, I tested b <- sort(x) on x <- sample(1:100, 1100000, T), which gives
3.73 sec in my computer. In this case however, you have many ties. The
algorithm is thus much faster with ties (you don't expect much of them using
x <- rnorm(1100000)) or perhaps with integer numbers?

Still, the test for all 10 other software was done on a vector produced with
something similar to x <- rnorm(1100000). The second worst was Matlab 5.3
R11 (a little bit less than 8 sec... almost 3 times faster). Note also that
Splus 2000 pro R3 does the same test in less than... 2 seconds, 10 times
faster than R! This is not consistent at all with all other results where
Splus and R are close together (however, R is much faster than Splus in
loops, which is nothing new).

Philippe

-----Message d'origine-----
De : Torsten Hothorn [mailto:Torsten.Hothorn at rzmail.uni-erlangen.de]
Envoye : vendredi 27 avril 2001 14:55
A : Philippe Grosjean
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] Benchmarking R, why sort() is so slow?



> Hello everybody,
>
> I am making a modified version of "Stephan Steinhaus' benchmark test for
> number crunching, v. 2, (see
> http://www.scinetificweb.com/ncrunch/ncrunch.pdf for the original
version),
> comparing several functions of some math/stat software. R is not
performing
> bad at all... except for the sorting of a 1,100,000 random vector (test
#3)
> which is the worst of all (see cell F3 in the following table). I simply
> used the sort() function. Does anybody has an explanation for that?

it seems to depend:

R> x <- rnorm(1100000)
R> Rprof("sort.out")
R> b <- sort(x)

needs

hothorn at artemis:~ > R CMD Rprof sort.out

Each sample represents 0.02 seconds.
Total run time: 24.9399999999996 seconds.

but

R> x <- sample(1:100, 1100000, T)
R> Rprof("sort3.out")
R> b <- sort(x)

needs

hothorn at artemis:~ > R CMD Rprof sort3.out

Each sample represents 0.02 seconds.
Total run time: 4.2 seconds.

on a Intel PIII 450 MHz, 256 MB, SuSE Linux 6.3, R-1.2.3

Torsten


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 27 15:30:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2001 15:30:04 +0200
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: "Philippe Grosjean"'s message of "Fri, 27 Apr 2001 14:03:47 +0200"
References: <MABBLJDICACNFOLGIHJOGECBCDAA.phgrosje@ulb.ac.be>
Message-ID: <x2elueo4gy.fsf@blueberry.kubism.ku.dk>

"Philippe Grosjean" <phgrosje at ulb.ac.be> writes:

> Hello everybody,
> 
> I am making a modified version of "Stephan Steinhaus' benchmark test for
> number crunching, v. 2, (see
> http://www.scinetificweb.com/ncrunch/ncrunch.pdf for the original version),
> comparing several functions of some math/stat software. R is not performing
> bad at all... except for the sorting of a 1,100,000 random vector (test #3)
> which is the worst of all (see cell F3 in the following table). I simply
> used the sort() function. Does anybody has an explanation for that?

The internal algorithm is a shellsort, which is supposedly of
complexity O(n^1.25) and has decent worst-case behaviour. Other
algorithms like quicksort have typical performance of O(n log n) but
extreme cases of O(n^2).

For large vectors the O(n^.25/log(n)) relative complexity is going to
make a difference, although the observed differences seem larger.

There are very likely better choices of sort algorithm...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Apr 27 15:29:04 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 27 Apr 2001 15:29:04 +0200
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <x2elueo4gy.fsf@blueberry.kubism.ku.dk>
Message-ID: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>

I suspect it should be a question of algorithm choice. May be sort() is
important enough, including for large datasets, to place some improvement in
the "to do" list for a further version...?


-----Message d'origine-----
De : pd at pubhealth.ku.dk [mailto:pd at pubhealth.ku.dk]De la part de Peter
Dalgaard BSA
Envoye : vendredi 27 avril 2001 15:30
A : Philippe Grosjean
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] Benchmarking R, why sort() is so slow?


"Philippe Grosjean" <phgrosje at ulb.ac.be> writes:

> Hello everybody,
>
> I am making a modified version of "Stephan Steinhaus' benchmark test for
> number crunching, v. 2, (see
> http://www.scinetificweb.com/ncrunch/ncrunch.pdf for the original
version),
> comparing several functions of some math/stat software. R is not
performing
> bad at all... except for the sorting of a 1,100,000 random vector (test
#3)
> which is the worst of all (see cell F3 in the following table). I simply
> used the sort() function. Does anybody has an explanation for that?

The internal algorithm is a shellsort, which is supposedly of
complexity O(n^1.25) and has decent worst-case behaviour. Other
algorithms like quicksort have typical performance of O(n log n) but
extreme cases of O(n^2).

For large vectors the O(n^.25/log(n)) relative complexity is going to
make a difference, although the observed differences seem larger.

There are very likely better choices of sort algorithm...

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Apr 27 15:33:27 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 27 Apr 2001 09:33:27 -0400
Subject: [R] Plotting multiple figures
In-Reply-To: Bill Simpson's message of "Fri, 27 Apr 2001 11:43:41 +0100 (BST)"
References: <Pine.LNX.4.10.10104271138510.6891-100000@localhost.localdomain>
Message-ID: <pxvgnqh3h4.fsf@infiniti.ece.cmu.edu>


Bill Simpson <wsi at gcal.ac.uk> writes:

> On Fri, 27 Apr 2001, Sven Garbade wrote:
> 
> > Morning,
> > 
> > I've plotted multiple figures on one page, setup the page with n2mfrow.
> > This works fine, but I can't figure out how to change to a specific plot
> > (e.g. first row, second column) to add some details.
> I think the preferred way to make multiplot layouts is with layout().
> For example, to do 2 columns of 3 plots (6 in all), do
> layout(mat=matrix(1:6, 3, 2, byrow=FALSE))
> plot(x1,y1)
> plot(x2,y2)
> plot(x3,y3)
> plot(x4,y4)
> plot(x5,y5)
> plot(x6,y6)
> Column 1 has plots 1-3, column 2 has plots 4-6

Hi,

I believe Sven was asking about something else: he wants to add stuff
to a _specific_ plot.  That's what 'screen' and friends are for.
(Sven: just use '?screen' in an R session and all the relevant
commands along with examples will come up.) Sadly though, 'screen' has
sometimes failed me.

Enjoy,
  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Apr 27 15:50:39 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 27 Apr 2001 09:50:39 -0400 (EDT)
Subject: [R] nls question
In-Reply-To: <Pine.LNX.4.10.10104271016390.6704-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.30.0104270949190.538-100000@bolker.zoo.ufl.edu>


  I think you need to make your parameter/parameter vector the *first*
argument to your function.  That way the "..." gets interpreted
correctly.  e.g.:

fn2<-function(p,x,y)
        {
        yhat<-p*x+(1-p)
        sum((y-yhat)^2)
        }

out <- nlm(fn2,p=1.5,x=x, y=y,hessian=TRUE)


On Fri, 27 Apr 2001, Bill Simpson wrote:

> I have a question about passing arguments to the function f that nlm
> minimizes.
>
> I have no problems if I do this:
> x<-seq(0,1,.1)
> y<-1.1*x + (1-1.1) + rnorm(length(x),0,.1)
> fn<-function(p)
> 	{
> 	yhat<-p*x+(1-p)
> 	sum((y-yhat)^2)
> 	}
> out<-nlm(fn,p=1.5,hessian=TRUE)
>
> But I would like to define
> fn<-function(x,y,p)
>         {
>         yhat<-p*x+(1-p)
>         sum((y-yhat)^2)
>         }
> so that I can pass the x and y variables along, doing something like
> out<-nlm(fn,x=this, y=that,p=1.5,hessian=TRUE)
> This version doesn't work of course. I have looked at the examples and
> can't figure out how to do what I want. Is it possible?
>
> Thanks very much for any help.
>
> (BTW I know nls() can be used for nonlinear least squares fitting. It
> choked on this problem.)
>
> Bill Simpson
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Apr 27 15:59:56 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 27 Apr 2001 15:59:56 +0200
Subject: [R] [OT] autoconf - use existing libs or compile own
In-Reply-To: <20010427113101.A9985@camille.indigoindustrial.co.nz>
References: <20010427113101.A9985@camille.indigoindustrial.co.nz>
Message-ID: <15081.31580.624745.22472@mithrandir.hornik.net>

>>>>> Jason Turner writes:

> I'm building a small library that uses a handful of Lapack functions
> (dstevr and its dependants).  Since not everybody has Lapack installed, 
> I thought it might be neighborly to provide these routines, so folks
> could compile them if needed.  However, if they've got Lapack it makes
> sense to use the existing libraries, as these may well be optimized
> to the local machine.

> Is that a good way to proceed?  If so, does anyone have pointers
> on how to set up autoconf to do this sort of thing?  I've only
> ever set it up to check for libs, and halt the build if the
> libs aren't found.  I've never made it take the initiative and
> roll its own libraries if it can't find them.

> RTFM is a perfectly good answer, but if you could mention which FM, 
> I'd appreciate it.  The above seemed a bit more complex than
> what I'm able to get out of "Writing R Extensions".  That may say
> more about me than the document, though.

Have a look at the configure script in package Matrix.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 27 16:21:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2001 16:21:49 +0200
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: "Philippe Grosjean"'s message of "Fri, 27 Apr 2001 15:29:04 +0200"
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
Message-ID: <x27l06o22q.fsf@blueberry.kubism.ku.dk>

"Philippe Grosjean" <phgrosje at ulb.ac.be> writes:

> I suspect it should be a question of algorithm choice. May be sort() is
> important enough, including for large datasets, to place some improvement in
> the "to do" list for a further version...?

Sure. Patches are gladly accepted...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Fri Apr 27 16:35:41 2001
From: jgoebel at diw.de (Jan Goebel)
Date: Fri, 27 Apr 2001 16:35:41 +0200
Subject: [R] creating expressions inside loop
Message-ID: <20010427163541.A11709@diw14093.diw.de>

Hello all,

may be someone can give me a hint how to
solve a little problem.

I'm trying to create some expressions inside
a for-loop which i want to evaluate AFTER this
creation loop (but loop specific).

To explain my problem here comes the code:

y.mat <- t(matrix(rep(84:90,8) + as.numeric(gl(8,7)),nrow=7))

# > y.mat[1:2,]
#      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
# [1,]   85   86   87   88   89   90   91
# [2,]   86   87   88   89   90   91   92

shift <- list()
for (i in 1:8) {
  shift[[i]] <- expression(
      eval(
           parse(text=paste("cbind(",
                   paste("w1", y.mat[i,],sep="",collapse = ", "),")")
                 )
           )
      )
}
# which gives no error, but

> dimnames(eval(shift[[1]]))[2]
[[1]]
[1] "w189" "w190" "w191" "w192" "w193" "w194" "w195"
> dimnames(eval(shift[[4]]))[2]
[[1]]
[1] "w189" "w190" "w191" "w192" "w193" "w194" "w195"

is all the same, because "i" is fixed by the last value
in the loop. So how can i change

> shift[1]
[[1]]
expression(eval(parse(text = paste("cbind(", paste("w1", y.mat[i,], 
    sep = "", collapse = ", "), ")"))))

to an "in-loop evaluating" of
> paste("w1", y.mat[i,],sep="",collapse = ", ")
[1] "w189, w190, w191, w192, w193, w194, w195"
  
so that the expression looks like
> shift[1]
[[1]]
expression(eval(parse(text = paste("cbind(", 
    "w189, w190, w191, w192, w193, w194, w195", ")"))))


hope this is understandable ;-)

best

jan
-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Apr 27 17:25:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Apr 2001 17:25:49 +0200
Subject: [R] creating expressions inside loop
In-Reply-To: Jan Goebel's message of "Fri, 27 Apr 2001 16:35:41 +0200"
References: <20010427163541.A11709@diw14093.diw.de>
Message-ID: <x24rvanz42.fsf@blueberry.kubism.ku.dk>

Jan Goebel <jgoebel at diw.de> writes:

> Hello all,
> 
> may be someone can give me a hint how to
> solve a little problem.
> 
> I'm trying to create some expressions inside
> a for-loop which i want to evaluate AFTER this
> creation loop (but loop specific).
> 
> To explain my problem here comes the code:
> 
> y.mat <- t(matrix(rep(84:90,8) + as.numeric(gl(8,7)),nrow=7))
> 
> # > y.mat[1:2,]
> #      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
> # [1,]   85   86   87   88   89   90   91
> # [2,]   86   87   88   89   90   91   92
> 
> shift <- list()
> for (i in 1:8) {
>   shift[[i]] <- expression(
>       eval(
>            parse(text=paste("cbind(",
>                    paste("w1", y.mat[i,],sep="",collapse = ", "),")")
>                  )
>            )
>       )
> }
> # which gives no error, but

You could use

  substitute(...., list(i=i))

instead of 

  expression(....)

But wouldn't you rather do something like

f <- function(row) {
    n <- paste("w1",row, sep="")
    m <- do.call("cbind", lapply(n, get))
    names(m) <- n
    m
}

apply(y.mat, 1, f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Apr 27 17:21:18 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 27 Apr 2001 10:21:18 -0500
Subject: [R] nls question
Message-ID: <200104271521.KAA187502@odds.stat.purdue.edu>


   On Fri, 27 Apr 2001, Bill Simpson wrote:

   > I have a question about passing arguments to the function f that nlm
   > minimizes.
   >
   > I have no problems if I do this:
   > x<-seq(0,1,.1)
   > y<-1.1*x + (1-1.1) + rnorm(length(x),0,.1)
   > fn<-function(p)
   > 	{
   > 	yhat<-p*x+(1-p)
   > 	sum((y-yhat)^2)
   > 	}
   > out<-nlm(fn,p=1.5,hessian=TRUE)
   >
   > But I would like to define
   > fn<-function(x,y,p)
   >         {
   >         yhat<-p*x+(1-p)
   >         sum((y-yhat)^2)
   >         }
   > so that I can pass the x and y variables along, doing something like
   > out<-nlm(fn,x=this, y=that,p=1.5,hessian=TRUE)
   > This version doesn't work of course. I have looked at the examples and
   > can't figure out how to do what I want. Is it possible?
   >
   > Thanks very much for any help.
   >
   > (BTW I know nls() can be used for nonlinear least squares fitting. It
   > choked on this problem.)
   >
   > Bill Simpson
   >
   > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   > Send "info", "help", or "[un]subscribe"
   > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
   >


I had to do similar things within a function and this is how I do it:

task <- function(...)
{
    ...
    y <- ...
    p <- ...
    fn <- function(x) {
        yhat<-p*x+(1-p)
        assign("y",y+1,inherit=TRUE)
        sum((y-yhat)^2)
    }
    nlm(fn,x)
    ...
}

When R needs y and p within fn, it'll trace through the nested
environments to find them, and since they are not within nlm, the y and p
in task gets used; they can also be provided through the arguments of
task.  

The assign(...) line allows me to update y from within fn.  My
particular application involves a certain Newton iteration within fn,
and I have to update the starting value for that Newton iteration.

Hope this helps.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Apr 27 17:23:28 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Apr 2001 08:23:28 -0700 (PDT)
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>

On Fri, 27 Apr 2001, Philippe Grosjean wrote:

> I suspect it should be a question of algorithm choice. May be sort() is
> important enough, including for large datasets, to place some improvement in
> the "to do" list for a further version...?
>

Actually, I'm not convinced on the speed issue. Shellsort works very well
for vectors of lengths that R can reasonably handle. Using a million
record dataset in R you really can't get much done in the 20seconds that a
really good sorting routine might save you.

Heapsort might be worth trying -- it has good worst-case behaviour and is
about half as fast as the typical case of quicksort.  Merge sort might
also be nice because it's stable: it leaves ties in the order it found
them, but it needs extra space. Still, I don't think it's a high
optimisation priority.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Fri Apr 27 21:02:53 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Fri, 27 Apr 2001 15:02:53 -0400
Subject: [R] gcc version
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E7FF@mail.nsabp.pitt.edu>

Hello:

	Thus far I have only used R under NT 4.0, but recently at work we
have acquired a new Solaris machine, on which R has just been installed.  I
was told a while ago by Professor Ripley on this list that I need to have
gcc version 2.95.2-1 in order to make dll's for windows.  And the "-1"
certainly does make a difference there.  Our new Solaris machine has gcc
2.95.1 on it, and I wonder whether using that version of gcc will cause me
problems under Solaris, using R 1.2.2 and soon R 1.2.3.  Our system guy
tells me that getting another version of gcc may be low priority for them...
Thanks in advance.

Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Apr 27 21:20:47 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 27 Apr 2001 14:20:47 -0500
Subject: [R] noise in explanatory variable. Used to be: Regressions with monot
	onicity constraints
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDEF3@jupiter.sc.arbitrade.com>

Dear All, First of all let me thank Frank Harrell, Thomas Lumley and Greg
Snow for their very helpful insights on fitting monotonic regressions.

As I work with my data I often feel like the data "resists" to fit monotonic
model though I have a strong a-priory believe it should.
One of potential reasons of this resistance is that the explanotary variable
is not known exactly rather has a noice term of its own. That is instead of
fitting the 
y = f(x) + noise
model I need to fit
y = f(x + noise2) + noise
where f() is either monotonic or smooth (I hope that if I allow for noise in
x then estimated smooth f() will naturally come out monotonic).

Is it a known setting of a statistical model?
Is there S-Plus/R/C code for fitting such models?

Thank you,
Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sat Apr 28 00:41:04 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Apr 2001 10:41:04 +1200
Subject: [R] Re: R-1.2.3 terminology
References: <Pine.LNX.4.10.10104271033390.6822-100000@localhost.localdomain>
Message-ID: <3AE9F580.CF3F063E@stat.auckland.ac.nz>

Bill Simpson wrote:
> 
> On Fri, 27 Apr 2001, Richard Rowe wrote:
> 
> > At 14:37 26/04/01 +0200, Peter D wrote:
> >
> > >dotchart() and stripchart() become the preferred names for dotplot() and
> > >stripplot(), respectively.  The old names are now deprecated.
> >
> > Why? dot plot is now a term in widespread use and of long standing (e.g.
> > Cleveland 1985, 1994 etc) ... so far as I know it has always and only had
> > one name. Altering terminology without a good (and consistent) reason isn't
> > helpful ... 'to find more about dotcharts look up "dot plots" in Cleveland
> > ... ' adds a level of translation, which is bad when teaching newcomers,
> 
> Yeah I agree with Richard.
> I never heard it called anything but dotplot. Why the new weird name? Can
> we change it back?
> 
> Bill

The equivalent function to "dotplot" in Splus is (and has always been)
called "dotchart".  The name in Cleveland's "Elements of Graphing Data"
is "Dot Chart".  I just mis-remembered the name when I wrote the R
function ... (Sorry! I know name changes are a pain.).

The Lattice functions will provide generalized functionality for
dotplot and stripplot -- i.e. they will serve the same pupose as the
existing functions, but they will do a lot more.

The point in marking the present functions deprecated is to signal that
the change is coming.  You will be able to use the present functions
under the old names by doing
	dotplot <- dotchart
	stripplot <- stripchart
but I think you will like the new stuff.

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sat Apr 28 06:19:27 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Fri, 27 Apr 2001 23:19:27 -0500
Subject: [R] Re: two new packages
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <3AEA44CF.ACE071CF@ukans.edu>

Thanks for the packages. I'm trying them out, will let you know if I
have any issues.

I've taught with the little green book you did for Sage. Good work,
that.
pj

John Fox wrote:
> 

> For the present, I'm making these packages available on my web site, at
> <http://www.socsci.mcmaster.ca/jfox/Misc/car/> and
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.
> 
> I'm particularly interested in suggestions and comments.
> 
> John

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sat Apr 28 16:25:19 2001
From: hzi at uol.com.br (Usuario Universo Online)
Date: Sat, 28 Apr 2001 14:25:19 GMT
Subject: [R] Is there a package for wavelets?
Message-ID: <20010428.14251900@siddhi.samsara>

Hi-

	Somebody asked me if there was such a thing as a package for wavelets in 
R. Is there? It seems there's a toolbox for wavelets for S-PLUS, so our 
guess was that there might be something for R.
	If not, what about the possibilty of re-utilizing code from S-PLUS and 
use it for wavelets in R?

	Thank you.

	Best regards,


	Henry L.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 09:49:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 08:49:09 +0100 (BST)
Subject: [R] Is there any function equivalent to Rgui's File--Save to
 File (menu bar) command ? (R for Windows)
In-Reply-To: <LMBBLAMPDFJFMCGOFGGGCEBBCGAA.a.sone@worldnet.att.net>
Message-ID: <Pine.GSO.4.31.0104280846000.18385-100000@auk.stats>

On Thu, 26 Apr 2001, Akio Sone wrote:

> Dear R users:
>
> I would like to know whether or not there is some auxiliary function for the
> Windows Port that emulates Rgui's Fille|Save to File [menu bar] command,
> analogous to flush.console().

That's nothing like what flush.console () does.

> More specifically,  what I want to do is to insert such a function in .Last
> function in .Rprofile to automatically save the contents of the console as
> an ASCII text file whenever I quit Rgui.  Or is there any system parameter
> that represents the contents of the console and can be used as an argument
> of save command?

savehistory().  If you save the workspace the history is saved too.
This is standard (cross-platform) R behaviour.

Note: this saves the input: neither the menu nor the command save the
output in the Rgui console window, and theat is not retained.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 10:27:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 09:27:00 +0100 (BST)
Subject: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.GSO.4.31.0104280911500.18385-100000@auk.stats>

On Fri, 27 Apr 2001, Philippe Grosjean wrote:

> I suspect it should be a question of algorithm choice. May be sort() is
> important enough, including for large datasets, to place some improvement in
> the "to do" list for a further version...?

I find it hard to believe that doing anything useful with a 1.1 million
length vector will not take very much longer than complete sorting, which
is a rare problem in statistics (not needed for quantiles, for example).
That's the problem with these benchmarks, they don't test realistic
problems because many of the packages concerned would need days of coding
to run one.

FWIW, there are O(n log n) sort algorithms, worst case, that are fairly
competitive on average too.  But testing random vectors is not
representation of real problems, and for many such (and even for
rnorm(1e6)) one can do even better by e.g radix sorting.  So if you know
something about the input you make your package look better. Again,
a problem with benchmarking.

>> Peter Dalgaard

> The internal algorithm is a shellsort, which is supposedly of
> complexity O(n^1.25) and has decent worst-case behaviour. Other
> algorithms like quicksort have typical performance of O(n log n) but
> extreme cases of O(n^2).
>
> For large vectors the O(n^.25/log(n)) relative complexity is going to
> make a difference, although the observed differences seem larger.

There are several shellsort variants.  I would need to look up the
known results for precisely this one.

> There are very likely better choices of sort algorithm...


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 10:41:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 09:41:06 +0100 (BST)
Subject: [R] Is there a package for wavelets?
In-Reply-To: <20010428.14251900@siddhi.samsara>
Message-ID: <Pine.GSO.4.31.0104280936240.18385-100000@auk.stats>

On Sat, 28 Apr 2001, Usuario Universo Online wrote:

> Hi-
>
> 	Somebody asked me if there was such a thing as a package for wavelets in
> R. Is there? It seems there's a toolbox for wavelets for S-PLUS, so our
> guess was that there might be something for R.

There's an FAQ for R, which will show that package wavethresh does a
little of this.

> 	If not, what about the possibilty of re-utilizing code from S-PLUS and
> use it for wavelets in R?

No.  It's copyright code, and also mainly compiled.

In general (there may be exceptions), using S-PLUS code for R will be in
breach of the license conditions, and looks to me like theft.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 10:45:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 09:45:26 +0100 (BST)
Subject: [R] gcc version
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E7FF@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.31.0104280942560.18385-100000@auk.stats>

On Fri, 27 Apr 2001, Richards, Tom wrote:

> Hello:
>
> 	Thus far I have only used R under NT 4.0, but recently at work we
> have acquired a new Solaris machine, on which R has just been installed.  I
> was told a while ago by Professor Ripley on this list that I need to have
> gcc version 2.95.2-1 in order to make dll's for windows.  And the "-1"
> certainly does make a difference there.  Our new Solaris machine has gcc

Just there, and actually just for the mingw32 port.

> 2.95.1 on it, and I wonder whether using that version of gcc will cause me
> problems under Solaris, using R 1.2.2 and soon R 1.2.3.  Our system guy
> tells me that getting another version of gcc may be low priority for them...
> Thanks in advance.

2.95.3 is current, but on Solaris 2.95.1 is OK. (On Linux it was not
entirely OK, and 2.95.2 was/is better.)

Brian


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 10:55:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 09:55:50 +0100 (BST)
Subject: [R] INSTALL Problems
In-Reply-To: <3AE95E88.EF3D5386@iqm.unicamp.br>
Message-ID: <Pine.GSO.4.31.0104280950370.25051-100000@auk.stats>

On Fri, 27 Apr 2001, Marlon Martins dos Reis wrote:

> Dear All,
>
> I have tried to install the tensor package (from:
> http://cran.r-project.org/src/contrib/PACKAGES.html#tensor ), using the
> comand:
> "
> shell("Rcmd INSTALL tensor")
> "
> then I got the following mensage:

[...]

> hhc tensor.hhp
> make[2]: hhc: Command not found
> make[2]: [tensor.chm] Error 127 (ignored)
> mkdir -p d:/bin/cran/rw1022/library/tensor/chtml
> cp D:/bin/cran/tucker/tensor/chm/tensor.chm
> d:/bin/cran/rw1022/library/tensor/chtml
> cp: D:/bin/cran/tucker/tensor/chm/tensor.chm: No such file or directory
> make[1]: *** [chm-tensor] Error 1
> make[1]: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32/help'
> make: *** [pkg-tensor] Error 2
> make: Leaving directory `/d/bin/cran/rw1022/src/gnuwin32'
> *** Installation of tensor failed ***
>
>
> -------------------------------------------------------------------------------------------
>
> I supposed that the problem was in the
> file(d:/bin/cran/rw1022/src/gnuwin32/help/Makefile), then I commented
> the followings lines in this file:

Don't, please.  You have changed somehow the line

WINHELP = NO # Use one of NO, CHM, BOTH (chm and winhelp)

in src/gnuwin32/Makefile.  Either install the HTML Help workshop (see
readme.packages) or revert to the default.

(Or you are using a complete source distribution and not following the
instructions in INSTALL ....)

> When I tried the comand :
>  library(tensor)
> and I  got :
> -----------------------------------------------------------------------------------------------
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "D:/bin/cran/rw1022/library/tensor/libs/tensor.dll":
>   LoadLibrary failure:  A dynamic link library (DLL) initialization
> routine failed.
> Error in library(tensor) : .First.lib failed
> -----------------------------------------------------------------------------------------
>
> Did I missed some important point ?

Once again, it looks like a compiler problem.  Compiling this package
worked on my system with no problems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 11:00:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 10:00:58 +0100 (BST)
Subject: [R] How to change Graphics fonts
In-Reply-To: <C374E6A0E25BD41197FB00508B014A130287462E@FW-ZEUS>
Message-ID: <Pine.GSO.4.31.0104280957460.25051-100000@auk.stats>

On Thu, 26 Apr 2001, WARR Benjamin wrote:

> Dear All,
>
> I have found the reply ot the question, just as I was giving up.

[On Windows, unstated.]

This is in the README file!   Don't give up before reading the
README and the FAQ, as those should be the first port of call,
definitely before posting to R-help.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Sat Apr 28 12:39:27 2001
From: acosa at ubu.es (Alvaro Colina Santamaria)
Date: Sat, 28 Apr 2001 12:39:27 +0200
Subject: [R] Is there a package for wavelets?
Message-ID: <3AEA9DDF.9060506@ubu.es>

The library wavethresh performs 1-d and  2-d wavelet statistics and 
transforms.
You can find it in the package sources in http://cran.r-project.org.

Hope this helps.
-- 
==============================================================
Alvaro Colina			|-|o||o||o||o||o||o||o||o||o|-
Area de Quimica Analitica	| Pza. Misael Banuelos s/n
Facultad de Ciencias		| 09001. Burgos. Spain
Universidad de Burgos		| Phone: 34-947-258817
e-mail: acosa at ubu.es		| FAX: 	 34-947-258831
============================================================== 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Apr 28 15:00:39 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 28 Apr 2001 15:00:39 +0200
Subject: [R] regression diagnostics [Re: two new packages]
In-Reply-To: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <15082.48887.928074.333249@gargle.gargle.HOWL>

>>>>> "John" == John Fox <jfox at mcmaster.ca> writes:

    John> I've prepared preliminary versions of two packages that I plan
    John> eventually to contribute to CRAN:

    John> car (for "Companion to Applied Regression") is a package that
    John> provides a variety of functions in support of linear and
    John> generalized linear models, including regression diagnostics
    John> (e.g., studentized residuals, hat-values, Cook's distances,
    John> dfbeta, dfbetas, 

the above are all already in standard R!
Did you look at ?influence.measures  and the functions
mentioned on that help page?

I believe these are all correct for glm objects (which inherit from "lm"),
as well.  Otherwise, we'd rather like to see bug reports!

    ........

    John> I'm particularly interested in suggestions and comments.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Apr 28 15:58:11 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 28 Apr 2001 09:58:11 -0400
Subject: [R] Re: regression diagnostics [Re: two new packages]
In-Reply-To: <15082.48887.928074.333249@gargle.gargle.HOWL>
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
 <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <5.0.2.1.2.20010428091900.018fd320@mcmail.cis.mcmaster.ca>

At 03:00 PM 28/04/2001 +0200, Martin Maechler wrote:
> >>>>> "John" == John Fox <jfox at mcmaster.ca> writes:
>
>     John> I've prepared preliminary versions of two packages that I plan
>     John> eventually to contribute to CRAN:
>
>     John> car (for "Companion to Applied Regression") is a package that
>     John> provides a variety of functions in support of linear and
>     John> generalized linear models, including regression diagnostics
>     John> (e.g., studentized residuals, hat-values, Cook's distances,
>     John> dfbeta, dfbetas,
>
>the above are all already in standard R!
>Did you look at ?influence.measures  and the functions
>mentioned on that help page?
>
>I believe these are all correct for glm objects (which inherit from "lm"),
>as well.  Otherwise, we'd rather like to see bug reports!

Dear Martin,

I was aware of these functions (and indeed use a slightly reworked version 
of lm.influence to do the basic computations).

The hat-values from influence.measures() in the base package are correct 
for glm's, but there is no hatvalues function. (There is a hat function 
that takes a model-matrix as its argument.) The dfbetas function in the 
base package is correct for glm's; there is no dfbeta function, although 
the values are available from lm.influence. The point of adding hatvalues 
and dfbeta is primarily to attach case names to the values.

The rstudent function in the base package isn't quite right for glm's; I 
provide a generic function with methods for lm and glm objects; likewise 
for Cook's D.

As a general matter, it's not hard to get much of what's in the car package 
from functions in base R (although some of what's provided is more 
ambitious). The point was to make some of these things more convenient, 
which I hope will encourage their use, particularly by (my) students.

Regards,
  John


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peppysiuly at actrix.co.nz  Sat Apr 28 18:09:55 2001
From: peppysiuly at actrix.co.nz (Peppy & Siuly Adi-Purnomo)
Date: Sun, 29 Apr 2001 04:09:55 +1200
Subject: [R] Library() function
In-Reply-To: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <CCEBKKLNLBIKMLEJDEFHAEOACBAA.peppysiuly@actrix.co.nz>

Dear heldesk,

1:
I want to upload nlme module set to use in R.  When I do this there is a
list of error message coming up.  But the nlme is loaded anyway.  Anything
wrong with how I set it up?

> library(nlme)
Loading required package: nls
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"C:/UNIX/RW1021/library/nlme/libs/nlme.dll":
  LoadLibrary failure:  A device attached to the system is not functioning.
Error in library(nlme) : .First.lib failed
> library(nlme)
>

2:
If I want to update my R version, I have installed in a separate directory
but why the old R doesnt work anymore?  is that because the new R takes the
place?

thanks,
Peppy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peppysiuly at actrix.co.nz  Sat Apr 28 18:53:17 2001
From: peppysiuly at actrix.co.nz (Peppy & Siuly Adi-Purnomo)
Date: Sun, 29 Apr 2001 04:53:17 +1200
Subject: [R] Rprofile
Message-ID: <CCEBKKLNLBIKMLEJDEFHGEOACBAA.peppysiuly@actrix.co.nz>

Hello again,

If I want to have a set of add-ons functions (say: nlme and tseries) loaded
to R everytime I run R, do I put command:

library(nlme)
library(tseries)

in the rw1021/etc/Rprofile file?

thanks,
Peppy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 19:29:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 18:29:50 +0100 (BST)
Subject: [R] Rprofile
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHGEOACBAA.peppysiuly@actrix.co.nz>
Message-ID: <Pine.GSO.4.31.0104281828160.29661-100000@auk.stats>

On Sun, 29 Apr 2001, Peppy & Siuly Adi-Purnomo wrote:

> Hello again,
>
> If I want to have a set of add-ons functions (say: nlme and tseries) loaded
> to R everytime I run R, do I put command:
>
> library(nlme)
> library(tseries)
>
> in the rw1021/etc/Rprofile file?

No, put them in your personal .Rprofile.  *But* do you want R to run
slower?  If not, use these only when you need them.

Since you have just told us nlme does not work for you, surely you don't
want it every time?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 19:36:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Apr 2001 18:36:47 +0100 (BST)
Subject: [R] Library() function
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHAEOACBAA.peppysiuly@actrix.co.nz>
Message-ID: <Pine.GSO.4.31.0104281830000.29661-100000@auk.stats>

On Sun, 29 Apr 2001, Peppy & Siuly Adi-Purnomo wrote:

> Dear heldesk,

Um, this is a group of volunteers, not a help desk.

> 1:
> I want to upload nlme module set to use in R.  When I do this there is a
> list of error message coming up.  But the nlme is loaded anyway.  Anything
> wrong with how I set it up?
>
> > library(nlme)
> Loading required package: nls
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "C:/UNIX/RW1021/library/nlme/libs/nlme.dll":
>   LoadLibrary failure:  A device attached to the system is not functioning.
> Error in library(nlme) : .First.lib failed
> > library(nlme)

Take a look at the rw-FAQ, which covers the likely cause.

Usual advice: get the current versions of R and nlme and start again.
Older versions (such as rw1021) are not supported.

> 2:
> If I want to update my R version, I have installed in a separate directory
> but why the old R doesnt work anymore?  is that because the new R takes the
> place?

It's something you did: I run several versions simultaneously and there are
no interactions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peppysiuly at actrix.co.nz  Sat Apr 28 19:43:41 2001
From: peppysiuly at actrix.co.nz (Peppy & Siuly Adi-Purnomo)
Date: Sun, 29 Apr 2001 05:43:41 +1200
Subject: [R] Rprofile
In-Reply-To: <Pine.GSO.4.31.0104281828160.29661-100000@auk.stats>
Message-ID: <CCEBKKLNLBIKMLEJDEFHEEOBCBAA.peppysiuly@actrix.co.nz>

Dear Sir,

Thanks for the prompt reply.

where is the .Rprofile located?  is that in the etc folder?  

I have updated my R version and everything is OK.

thanks,
Peppy

> -----Original Message-----
> From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> D Ripley
> Sent: Sunday, 29 April 2001 05:30
> To: Peppy & Siuly Adi-Purnomo
> Cc: R - Help desk
> Subject: Re: [R] Rprofile
> 
> 
> On Sun, 29 Apr 2001, Peppy & Siuly Adi-Purnomo wrote:
> 
> > Hello again,
> >
> > If I want to have a set of add-ons functions (say: nlme and 
> tseries) loaded
> > to R everytime I run R, do I put command:
> >
> > library(nlme)
> > library(tseries)
> >
> > in the rw1021/etc/Rprofile file?
> 
> No, put them in your personal .Rprofile.  *But* do you want R to run
> slower?  If not, use these only when you need them.
> 
> Since you have just told us nlme does not work for you, surely you don't
> want it every time?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sat Apr 28 20:51:45 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sat, 28 Apr 2001 11:51:45 -0700
Subject: [R] Modulus operator??
Message-ID: <HBEHIIBBKKNOBLMPKCBBEENNDEAA.znmeb@aracnet.com>

I'm trying to do a modulus operator in R-1.2.2 on Windows -- specific
version:

R : Copyright 2001, The R Development Core Team
Version 1.2.2 Patched (2001-03-22)

Here's what the R language manual says:

"R contains a number of operators. They are listed in the table below.

[snip]

%  Modulus, binary"

Here's what happens on the R console:

> records <- 100000
> modulus <- 1000
> records % modulus
Error: syntax error
> records / modulus
[1] 100
>

I haven't tried this on Linux yet, so I don't know if it's Windows-specific.
I did try coercing the values to integer with "as.integer" and it didn't
help. Am I leaving something out??

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 21:21:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 28 Apr 2001 20:21:51 +0100 (BST)
Subject: [R] Rprofile
In-Reply-To: <CCEBKKLNLBIKMLEJDEFHEEOBCBAA.peppysiuly@actrix.co.nz>
Message-ID: <Pine.LNX.4.31.0104282019560.19516-100000@gannet.stats>

On Sun, 29 Apr 2001, Peppy & Siuly Adi-Purnomo wrote:

> Dear Sir,
>
> Thanks for the prompt reply.
>
> where is the .Rprofile located?  is that in the etc folder?

No. See the FAQs, or ?Startup, which says:

     Then, unless `--no-init-file' was given, R searches for a file
     called `.Rprofile' in the current directory or in the user's home
     directory (in that order) and sources it into the user workspace.

and you will now know about `home directory' from the rw-FAQ.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Apr 28 21:25:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 28 Apr 2001 20:25:49 +0100 (BST)
Subject: [R] Modulus operator??
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBEENNDEAA.znmeb@aracnet.com>
Message-ID: <Pine.LNX.4.31.0104282022080.19516-100000@gannet.stats>

On Sat, 28 Apr 2001, M. Edward Borasky wrote:

> I'm trying to do a modulus operator in R-1.2.2 on Windows -- specific
> version:
>
> R : Copyright 2001, The R Development Core Team
> Version 1.2.2 Patched (2001-03-22)
>
> Here's what the R language manual says:
>
> "R contains a number of operators. They are listed in the table below.
>
> [snip]
>
> %  Modulus, binary"

It is %%, not %.  Don't know why R-lang thinks otherwise ....
It is also missing %/% (integer division).

?Arithmetic is correct.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Apr 28 21:36:26 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2001 21:36:26 +0200
Subject: [R] Modulus operator??
In-Reply-To: "M. Edward Borasky"'s message of "Sat, 28 Apr 2001 11:51:45 -0700"
References: <HBEHIIBBKKNOBLMPKCBBEENNDEAA.znmeb@aracnet.com>
Message-ID: <x2lmokg6kl.fsf@blueberry.kubism.ku.dk>

"M. Edward Borasky" <znmeb at aracnet.com> writes:

> "R contains a number of operators. They are listed in the table below.
> 
> [snip]
> 
> %  Modulus, binary"
> 
> Here's what happens on the R console:
> 
> > records <- 100000
> > modulus <- 1000
> > records % modulus
> Error: syntax error
> > records / modulus
> [1] 100
> >
> 
> I haven't tried this on Linux yet, so I don't know if it's Windows-specific.
> I did try coercing the values to integer with "as.integer" and it didn't
> help. Am I leaving something out??

Yes, another % symbol:

> records <- 100000
> modulus <- 1000
> records %% modulus
[1] 0

...which you'd obviously be excused for not knowing about. Looks like
we have a typo in the R-language manual. (We also have a curious
anomaly:

> quote("%"(records, modulus))
records % modulus

which indicates that the deparser does think % is a binary operator.
However, the tokenizer is not going to let you enter an unmatched %
because of the special operators %*%, %o%, %/%, etc. The "%" function
does not exist either. Perhaps this is a relic and R in its infancy
actually allowed x % y ?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zoono at sci.osaka-cu.ac.jp  Sat Apr 28 21:36:26 2001
From: zoono at sci.osaka-cu.ac.jp (Takashi Mizuno)
Date: Sun, 29 Apr 2001 04:36:26 +0900
Subject: [R] Mantel's randomization test
Message-ID: <3AEB1BBA.954AA311@sci.osaka-cu.ac.jp>

Dear all,

Dose anyone know whether there is a good R packege or
program for Mantel's randomization test?
 

Thanks in advance.

------------------------
Takashi Mizuno
zoono at sci.osaka-cu.ac.jp
Plant Ecology Lab.
Osaka City University
------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From afi_pk at hotmail.com  Sun Apr 29 02:31:08 2001
From: afi_pk at hotmail.com (Ahmed Siddiqi)
Date: Sat, 28 Apr 2001 20:31:08 -0400
Subject: [R] L estimators
Message-ID: <OE16rBLSAQV6uPDVniS00005dfa@hotmail.com>

Hi,

I want to use R to extract L / S -estimators. Can anybody help me in locating any library or routine.

Waiting for your response,

Ahmed Siddiqi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010428/a493e151/attachment.html

From phgrosje at ulb.ac.be  Sun Apr 29 11:12:55 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sun, 29 Apr 2001 11:12:55 +0200
Subject: [R] Self-starting nls functions
Message-ID: <MABBLJDICACNFOLGIHJOCECMCDAA.phgrosje@ulb.ac.be>

Hello,

I am doing several self-starting growth functions for using with nls(). When
I list the self-starting functions included in nls library, for instance,
SSlogis, there is:

> SSlogis
function (input, Asym, xmid, scal)
...
<environment: 03476D20>
attr(,"class")
[1] "selfStart"

What is this <environment: 03476D20> instruction?
By using deriv() and then Selfstart(), I don't get this, although everything
works fine without it.
Thanks for help.
Best Regards,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Apr 29 13:36:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 29 Apr 2001 12:36:08 +0100 (BST)
Subject: [R] Self-starting nls functions
In-Reply-To: <MABBLJDICACNFOLGIHJOCECMCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.GSO.4.31.0104291228420.4292-100000@auk.stats>

On Sun, 29 Apr 2001, Philippe Grosjean wrote:

> Hello,
>
> I am doing several self-starting growth functions for using with nls(). When
> I list the self-starting functions included in nls library, for instance,
> SSlogis, there is:
>
> > SSlogis
> function (input, Asym, xmid, scal)
> ...
> <environment: 03476D20>
> attr(,"class")
> [1] "selfStart"
>
> What is this <environment: 03476D20> instruction?

All functions in R have an environment.  It is only printed if it is not
the global environment, aka the user workspace.  The environment is use in
lexical scoping: see the FAQ.  Normally functions in packages are not
lexically scoped (their environment is made the global environment), so you
rarely see this.  Note that in this case it is the attribute function that
has a non-default environment, not SSlogis itself, and you can find out
what is in it (and hence what it is) by

ls(envir = environment(attr(SSlogis, "initial")))

I rather suspect this is a mistake and the environment should
have been reset to the global environment as with the function itself.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Sun Apr 29 14:01:12 2001
From: mlennert at ulb.ac.be (Moritz Lennert)
Date: Sun, 29 Apr 2001 14:01:12 +0200
Subject: [R] weighted clustering
Message-ID: <3AEC0288.B07DED9E@ulb.ac.be>

Hello,

Rereading my first mail, I realized that my question might not have been
clear enough:

I'm trying to do a cluster analysis on age structures in certain areas
of Belgium and France. For each spatial entity, I have the total number
of inhabitants and the percentages by age group. I would like to do the
analysis with the total number of inhabitants as the weight in distance
and new group center calculations. Is this possible ?

Moritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at gallanis.com  Sun Apr 29 17:20:56 2001
From: peter at gallanis.com (Peter Gallanis)
Date: Sun, 29 Apr 2001 09:20:56 -0600
Subject: [R] Using R for processing computer performance data
Message-ID: <000e01c0d0bf$fdb36fa0$0201a8c0@peter>

I'm relatively new to R, and have looked through the documentation and FAQ, and have not been able to find out how I can accomplish something.  If someone can point me in the right direction, I would greatly appreciate it.

I am doing system performance tests, and end up with large volumes of data that consists of transaction timings, coupled with system timings.  The analysis process is iterative, and I've been using Excel (too many limitations, but the pivot tables have been extremely useful) to do some of the drilldown processing, such as identifyng bottlenecks.

To generalize the problem with an example, I have a series of data for which I would like to be able to produce a box plot.  However, much of the data varies from run to run or from system to system.  For example, the UNIX sar utility can produce a snapshot of disk activity for each disk in the system.  Each snapshot lists a number of statistics for each disk, and after some cleanup with some utilities, you end up with something like:

Time        Device        Busy        Queue        AvServ
10:00:00  d1               0.0           0.0            8.3
10:00:00  d2               35.5         5.6            37.8
10:00:00  d3               10.5         0.8            16.0
10:00:30  d1               0.8           0.0            10.2
10:00:30  d2               42.1         5.9            42.5
10:00:30  d3               3.2           0.1            12.0
........

Each set of statistics for each disk (d1-d3) are repeated for each time snapshot. I'd like to be able to have a boxplot where I get the any of the statistics for each disk.  Such that, I can have a box plot of the percent busy for each disk, or the average service time for each disk, etc. The basic problem I am having is how can I do this in an automated fashion, without knowing the names of the disks.  I built a data.frame using read.csv (is this even the correct terminology), and tried using unique() to identify the names of the disks, but then I got all caught up in trying to build vectors of data for each disk on the specified column.  And even then, if I did accomplish this, I couldn't figure out how to pas a variable number of vectors to boxplot.  

If someone can point me in the right direction, I can apply the concepts to other tasks I would like to accomplish.

Thank you



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010429/d936b5c9/attachment.html

From ripley at stats.ox.ac.uk  Sun Apr 29 17:44:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 29 Apr 2001 16:44:47 +0100 (BST)
Subject: [R] Using R for processing computer performance data
In-Reply-To: <000e01c0d0bf$fdb36fa0$0201a8c0@peter>
Message-ID: <Pine.GSO.4.31.0104291643460.7829-100000@auk.stats>

On Sun, 29 Apr 2001, Peter Gallanis wrote:

> I'm relatively new to R, and have looked through the documentation and FAQ, and have not been able to find out how I can accomplish something.  If someone can point me in the right direction, I would greatly appreciate it.
>
> I am doing system performance tests, and end up with large volumes of data that consists of transaction timings, coupled with system timings.  The analysis process is iterative, and I've been using Excel (too many limitations, but the pivot tables have been extremely useful) to do some of the drilldown processing, such as identifyng bottlenecks.
>
> To generalize the problem with an example, I have a series of data for which I would like to be able to produce a box plot.  However, much of the data varies from run to run or from system to system.  For example, the UNIX sar utility can produce a snapshot of disk activity for each disk in the system.  Each snapshot lists a number of statistics for each disk, and after some cleanup with some utilities, you end up with something like:
>
> Time        Device        Busy        Queue        AvServ
> 10:00:00  d1               0.0           0.0            8.3
> 10:00:00  d2               35.5         5.6            37.8
> 10:00:00  d3               10.5         0.8            16.0
> 10:00:30  d1               0.8           0.0            10.2
> 10:00:30  d2               42.1         5.9            42.5
> 10:00:30  d3               3.2           0.1            12.0
> ........
>
> Each set of statistics for each disk (d1-d3) are repeated for each time snapshot. I'd like to be able to have a boxplot where I get the any of the statistics for each disk.  Such that, I can have a box plot of the percent busy for each disk, or the average service time for each disk, etc. The basic problem I am having is how can I do this in an automated fashion, without knowing the names of the disks.  I built a data.frame using read.csv (is this even the correct terminology), and tried using unique() to identify the names of the disks, but then I got all caught up in trying to build vectors of data for each disk on the specified column.  And even then, if I did accomplish this, I couldn't figure out how to pas a variable number of vectors to boxplot.
>
> If someone can point me in the right direction, I can apply the concepts to other tasks I would like to accomplish.

Function by(), or more generally tapply.  The disk names will be the levels
of the factor `Device'.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at gallanis.com  Sun Apr 29 18:11:12 2001
From: peter at gallanis.com (Peter Gallanis)
Date: Sun, 29 Apr 2001 10:11:12 -0600
Subject: [R] Using R for processing computer performance data
References: <Pine.GSO.4.31.0104291643460.7829-100000@auk.stats>
Message-ID: <001301c0d0c7$04763960$0201a8c0@peter>

Thank you for the quick reply, and direction.  I must still be missing
something though, because I am receiving an error when I try to use by or
tapply.  Can you please see if I'm doing something correctly in the dialog
is listed below.

> diskact<-read.csv("c:/data1/sardisk.csv")
> diskactF<-factor(diskact$device)
> by(diskact$busy, diskactF, boxplot)
Error in Summary.factor(..., na.rm = na.rm) :
        "range" not meaningful for factors
In addition: Warning messages:
1: "+" not meaningful for factors in: Ops.factor(x[floor(d)], x[ceiling(d)])
2: "<" not meaningful for factors in: Ops.factor(x, (stats[2] - coef * iqr))
3: ">" not meaningful for factors in: Ops.factor(x, (stats[4] + coef * iqr))
> tapply(diskact$busy, diskactF, boxplot)
Error in Summary.factor(..., na.rm = na.rm) :
        "range" not meaningful for factors
In addition: Warning messages:
1: "+" not meaningful for factors in: Ops.factor(x[floor(d)], x[ceiling(d)])
2: "<" not meaningful for factors in: Ops.factor(x, (stats[2] - coef * iqr))
3: ">" not meaningful for factors in: Ops.factor(x, (stats[4] + coef * iqr))
>

Thank you,
Peter Gallanis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at gallanis.com  Sun Apr 29 19:22:07 2001
From: peter at gallanis.com (Peter Gallanis)
Date: Sun, 29 Apr 2001 11:22:07 -0600
Subject: [R] Using R for processing computer performance data
References: <Pine.GSO.4.31.0104291643460.7829-100000@auk.stats>
Message-ID: <003101c0d0d0$ebefa520$0201a8c0@peter>

Problem solved - The error message I was receiving was due to the way I had
processed the raw sar file into a csv file.  There was a final line with the
average of all disks, and it showed up as a device name "Average".  Since
there was only one row that had this value, the number of rows for each
factor was not equal.  When I removed the line with Average as the device,
it all worked great.

Based on some additional input, using a model with 'boxplot(busy ~
device,data=diskact)' put all the box plots on the same graph.

Thanks to everyone for their help.

Peter Gallanis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Apr 29 19:50:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Apr 2001 19:50:37 +0200
Subject: [R] Using R for processing computer performance data
In-Reply-To: "Peter Gallanis"'s message of "Sun, 29 Apr 2001 10:11:12 -0600"
References: <Pine.GSO.4.31.0104291643460.7829-100000@auk.stats> <001301c0d0c7$04763960$0201a8c0@peter>
Message-ID: <x2itjnppci.fsf@blueberry.kubism.ku.dk>

"Peter Gallanis" <peter at gallanis.com> writes:

> Thank you for the quick reply, and direction.  I must still be missing
> something though, because I am receiving an error when I try to use by or
> tapply.  Can you please see if I'm doing something correctly in the dialog
> is listed below.
> 
> > diskact<-read.csv("c:/data1/sardisk.csv")
> > diskactF<-factor(diskact$device)
> > by(diskact$busy, diskactF, boxplot)
> Error in Summary.factor(..., na.rm = na.rm) :
>         "range" not meaningful for factors
> In addition: Warning messages:
> 1: "+" not meaningful for factors in: Ops.factor(x[floor(d)], x[ceiling(d)])
> 2: "<" not meaningful for factors in: Ops.factor(x, (stats[2] - coef * iqr))
> 3: ">" not meaningful for factors in: Ops.factor(x, (stats[4] + coef * iqr))
> > tapply(diskact$busy, diskactF, boxplot)
> Error in Summary.factor(..., na.rm = na.rm) :
>         "range" not meaningful for factors
> In addition: Warning messages:
> 1: "+" not meaningful for factors in: Ops.factor(x[floor(d)], x[ceiling(d)])
> 2: "<" not meaningful for factors in: Ops.factor(x, (stats[2] - coef * iqr))
> 3: ">" not meaningful for factors in: Ops.factor(x, (stats[4] + coef * iqr))
> >

by() isn't really designed to be used like that. First argument would
be a data frame and the function would be something working on an
entire frame. 

However, the tapply looks as if it should work (and I wouldn't be
surprised if by() was essentially equivalent to tapply when used that
way). The error you are getting is what you get for attempting to use
boxplot() on a factor variable, which would indicate that something is
wrong with your "busy" variable. Notice that read.csv will turn
variables into factors if they contain *any* values that cannot be
interpreted as numeric (or missing -- notice the na.strings argument).

Apart from that, I suspect that what you really want is

boxplot(Busy~device, data=diskact)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at ces.iisc.ernet.in  Mon Apr 30 07:16:02 2001
From: robert at ces.iisc.ernet.in (Robert John)
Date: Mon, 30 Apr 2001 10:46:02 +0530 (IST)
Subject: [R] R package
Message-ID: <Pine.LNX.4.21.0104301045320.24629-100000@ces.iisc.ernet.in>

I am looking for the R install package. Any leads to sites from where I
can download the same?

Thanks
Robert
=====

Robert John
Graduate Student
Centre for Ecological Sciences
Indian Institute of Science
Bangalore 560 012
INDIA
Phone  : 91-80-3600985
         91-80-3092506
Fax    : 91-80-3601428
e-mail : robert at ces.iisc.ernet.in

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Apr 30 09:19:35 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 30 Apr 2001 19:19:35 +1200
Subject: [R] R package
References: <Pine.LNX.4.21.0104301045320.24629-100000@ces.iisc.ernet.in>
Message-ID: <003c01c0d145$e9691320$bc2337d2@kokangwang>

Yes.

Under CRAN http://cran.r-project.org/.

Cheers,

Kevin

----------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand
----- Original Message -----
From: "Robert John" <robert at ces.iisc.ernet.in>
To: <R-help at stat.math.ethz.ch>
Sent: Monday, April 30, 2001 5:16 PM
Subject: [R] R package


> I am looking for the R install package. Any leads to sites from where I
> can download the same?
>
> Thanks
> Robert
> =====
>
> Robert John
> Graduate Student
> Centre for Ecological Sciences
> Indian Institute of Science
> Bangalore 560 012
> INDIA
> Phone  : 91-80-3600985
>          91-80-3092506
> Fax    : 91-80-3601428
> e-mail : robert at ces.iisc.ernet.in
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Mon Apr 30 10:20:37 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Mon, 30 Apr 2001 09:20:37 +0100
Subject: [R] POSIX revisited
Message-ID: <3.0.5.32.20010430092037.00949450@bute.st-and.ac.uk>

Summary of POSIX date-time thoughts ...

>> Brian,
>>
>> May I continue the POSIX thread a little more ...
>>
>> Is there a natural or correct way to represent just time of day, with no
>> associated date, in the POSIX scheme?  Is setting date to 1970-01-01 the
>> best / only way?
>
>The best.
>
>> You suggest format(x, tx="GMT") to force POSIX objects to appear as GMT.  I
>> take it that this disables the implementation of 'Daylight Time'?  I am
>> unsure whether  'GMT Standard Time' and 'GMT Daylight Time' are different
>> time zones or are they both just part of 'GMT' time zone?
>
>GMT means GMT. There is no such thing as `GMT Daylight Time': Windows is
>wrong here.  There is GMT/UTC and there is BST.
>
>> Would it be useful to be able e to be globally set all POSIX objects to
>> display as, say, 'GMT Standard ' with a 'global' in options() ?
>
>You just set the timezone in use to that.  Sys.putenv(TZ="GMT") for me.
>I'll look into seeing if there is an easier way.
>
>> Finally, I think the that the handling of date-times by POSIX object
>> warrants several paragraphs in 'An Introduction to R' - or perhaps I'm just
>> slow on the uptake!
>
>It's too specialized.  There will be an article in the next R-news, though.
...
...
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
Bernie McConnell
NERC SEA MAMMAL RESEARCH UNIT
Gatty Marine Lab, St Andrews University
St Andrews, Fife,  KY16 8LB, Scotland.

b.mcconnell at smru.st-andrews.ac.uk
http://www.smru.st-and.ac.uk
tel:  	+44 (1334) 463280   
fax:  	+44 (1334) 462632   


                
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Apr 30 11:01:19 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 30 Apr 2001 11:01:19 +0200
Subject: [R] Sub_scribe and a question
In-Reply-To: <3A8CB143.6A0D7517@uci.edu>
Message-ID: <MABBLJDICACNFOLGIHJOOEDACDAA.phgrosje@ulb.ac.be>

Hello,

I would do like this: if the slope is a, and it is perfectly known, just
substract a*x from y. If you assume a relationship like y = a*x + b +
epsylon with epsylon having a normal distribution (0, sigma), then, y - a*x
should have a normal distribution (b, sigma), and the mean value of computed
y - a*x should simply be a good estimate of b, the intercept you are looking
for.

Berst Regards,

Philippe Grosjean

>Dear all,

>I am trying to get an estimate of the intercept for a linear model.  In
>this case, I know the slope of the model, can anyone tell me how to
>constrain the formula in lm() so that it only estimates the intercept
>not the slope?  Many thanks in advance,

>Sincerely,

>Liqing Zhang
>Dept. of Eco. Evol. Biol.
>Univ. of CA, Irvine
>email: lzhang at uci.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Apr 30 11:20:57 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 11:20:57 +0200
Subject: [R] Sub_scribe and a question
In-Reply-To: "Philippe Grosjean"'s message of "Mon, 30 Apr 2001 11:01:19 +0200"
References: <MABBLJDICACNFOLGIHJOOEDACDAA.phgrosje@ulb.ac.be>
Message-ID: <x2bsped9qe.fsf@blueberry.kubism.ku.dk>

"Philippe Grosjean" <phgrosje at ulb.ac.be> writes:

> Hello,
> 
> I would do like this: if the slope is a, and it is perfectly known, just
> substract a*x from y. If you assume a relationship like y = a*x + b +
> epsylon with epsylon having a normal distribution (0, sigma), then, y - a*x
> should have a normal distribution (b, sigma), and the mean value of computed
> y - a*x should simply be a good estimate of b, the intercept you are looking
> for.
> 

..or as a generic solution, use y~offset(a*x). This has the advantage
of working with generalized linear models as well.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Mon Apr 30 14:06:12 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Mon, 30 Apr 2001 14:06:12 +0200
Subject: [R] R mode for emacs
Message-ID: <3AED5534.9A8B3DD2@inrialpes.fr>

Hi all,

I wonder if there is a R mode for emacs which highlights the R syntax.
If there is one, I would be interested in downloading the latest version
.
regards,
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010430/1affdfb8/attachment.html

From theis at statistik.uni-dortmund.de  Mon Apr 30 14:49:03 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Mon, 30 Apr 2001 14:49:03 +0200 (CEST)
Subject: [R] R mode for emacs
In-Reply-To: <3AED5534.9A8B3DD2@inrialpes.fr>
Message-ID: <XFMail.010430144903.theis@statistik.uni-dortmund.de>

Hi Olivier,

try Emacs Speaks Statistics (ESS), that's a bit more than just highlighting
syntax... You find it on CRAN in the download section "Other".

Have a lot of fun,

Winfried

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 30-Apr-01
Time: 14:46:15
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Apr 30 16:24:08 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 30 Apr 2001 16:24:08 +0200
Subject: [R] R mode for emacs
References: <3AED5534.9A8B3DD2@inrialpes.fr>
Message-ID: <3AED7588.E6EE9B23@psy.uni-muenchen.de>

Olivier Martin wrote:
> 
> Hi all,
> 
> I wonder if there is a R mode for emacs which highlights the R syntax.
> 
> If there is one, I would be interested in downloading the latest
> version .
> regards,
> Olivier

Hi,
try ESS-Mode (see http://www.ci.tuwien.ac.at/R/ under "Sortware" -
"Other").

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Apr 30 17:25:53 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 30 Apr 2001 11:25:53 -0400 (EDT)
Subject: [R] Mantel's randomization test
In-Reply-To: <3AEB1BBA.954AA311@sci.osaka-cu.ac.jp>
Message-ID: <Pine.LNX.4.30.0104301053550.12434-100000@bolker.zoo.ufl.edu>


  Years ago I coded this in S-PLUS ... I think it's been posted to the
S-news list before.  It seems to work just fine in R.  I have not tested
it at all, so it comes with the usual warranty (i.e., none).

  Just cut on the dotted lines and source() the file.

  One example (someday I'll package this all up and write a help file
etc.).

q1 _ matrix(runif(36),nrow=6)
q2 _ matrix(runif(36),nrow=6)
mantel(q1,q2,graph=TRUE,rpt=200)

  [Note to R web page maintainers: perhaps there should be a
general-purpose "How do I find out if R can ... ?" entry, which tells
people to try

  (a) searching the documentation
  (b) searching the list of contributed packages
  (c) searching the mailing lists
  (d) searching the S-news mailing lists, which sometimes have usable
code

  Yes, I've never gotten around to it (I don't run my own web server), but
someone could do a service to the community by settin up an ht://dig
server that indexed all of those sources ... ]


--------------- cut here -----------------------
# Mantel test for similarity of two matrices via permutation
# and calculation of Mantel "z statistic"
#  (and associated utility functions)
#
#  from Bryan F.J. Manly, <-Multivariate statistical methods: a primer<-
#         (Chapman & Hall, 1986)
####
#  TO DO:
#      (mostly bells and whistles)
#
#   add normalized Z-stat (or option for it)
#   add asymptotic conf. limits/tests (Sokal and Rolf (Biometry, 3d ed.) cite
#       Mantel (1967), "The detection of disease clustering ..." Cancer
#       Res. 27:209-220, and suggest the asymptotic results should be OK
#        for matrices as small as 25x25)
#   add 3- or multi-way extensions of Mantel (S&R cite Smouse, Long, and
#        Sokal (1986) "Multiple regression and correlation extensions of the
#        Mantel test of matrix correspondence" Syst. Zool. 35:627-632 and
#        Oden and Sokal (1992) "An investigation of three-matrix permutation
#        tests" J. Classif. 9:275-290.
#   documentation

### utility functions

factorial <- function(n)gamma(n+1)

perm.rowscols <- function(m1,n,p=NULL)
{
# permute rows and columns of a matrix
# m1 is a (square) nxn matrix
# if p is numeric then the pth permutation will be taken, otherwise
#   a random permutation will be taken
   if (is.numeric(p))
     s <- gen.perm(p,n)
   else
     s <- sample(1:n)
   m1[s,s]
}

mant.zstat <- function(m1,m2)
{
#  calculate the Mantel z-statistic for two square matrices m1 and m2
   sum(lower.triang(m1*m2))
}

gen.perm <- function(k,n,vec=1:n)
{
#  generate a specified permutation of a vector
#  k is an integer between 1 and n!
#  n is the length of the sample
#  vec is the vector to permute, 1:n by default
   p <- as.list(vec)
   perm <- numeric(n)
   for (i in (n:1)) {
      v <- (k%%i)+1
      perm[i] <- p[[v]]
      p[[v]] <- NULL
      k <- k %/% i
   }
   perm
}

all.perm <- function(n,vec=1:n)
{
# generate all permutations of a list of length n
#  (1:n by default)
   k <- matrix(NA,nrow=factorial(n),ncol=n)
   for (i in (1:factorial(n)))
       k[i,] <- gen.perm(i,n,vec)
   k
}

lower.triang <- function(m)
{
   d <- dim(m)
   if (d[1] != d[2]) print("Warning: non-square matrix")
   m[col(m)<row(m)]
}

mantel <- function(m1,m2,nperm=250,graph=F,rpt=F)
{
   n <- dim(m1)[1]
   realz <- mant.zstat(m1,m2)
   enum<-F
   if (nperm>factorial(n)) {
      cat("Warning: nperm>n!, enumerating permutations =",factorial(n),"\n")
      nperm <- factorial(n)
      enum<-T
   }
   nullstats <- numeric(nperm)
   for (i in (1:nperm)) {
      if (enum)
         nullstats[i] <- mant.zstat(m1,perm.rowscols(m2,n,i))
      else
         nullstats[i] <- mant.zstat(m1,perm.rowscols(m2,n))
      if (is.numeric(rpt))
         if (i %% rpt == 0)
            cat(i,"...\n")
   }
   nullstats <- sort(nullstats)
   pval <- 1-((1:nperm)[nullstats>realz])[1]/nperm
   if (graph) {
      plot(density(nullstats),type="l",
       main="Distribution of Mantel z-statistic",
       xlab="Z statistic",ylab="# of permutations",
       sub=paste("Actual z-stat =",round(realz,3),
         ": p<",round(pval,4),",",nperm," permutations"))
      abline(v=realz)
   }
   list(z.stat=realz,p=pval)
}

-------------------- cut here ------------------------

On Sun, 29 Apr 2001, Takashi Mizuno wrote:

> Dear all,
>
> Dose anyone know whether there is a good R packege or
> program for Mantel's randomization test?
>
>
> Thanks in advance.
>
> ------------------------
> Takashi Mizuno
> zoono at sci.osaka-cu.ac.jp
> Plant Ecology Lab.
> Osaka City University
> ------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mtaboga at tiscalinet.it  Mon Apr 30 18:08:07 2001
From: mtaboga at tiscalinet.it (Marco Taboga)
Date: Mon, 30 Apr 2001 18:08:07 +0200
Subject: [R] Crazy plots of time-series against dates
Message-ID: <000a01c0d18f$bf300e20$7d240a3e@xxxx>

I am trying to plot a time series (a stock index) with dates on the x-axis. 
If I type:
plot(a,b)
where a is the vector of dates obtained with chron() and b is the time series, I get a nice plot.
If I type:
plot(a,b,type="l")
to obtain the same plot with a continuous line instead of dots, I get the plot of the time series, but the graph is all scattered with numbers (thousands of numbers everywhere!).
What is wrong?
Is there a better way to get plots with dates on the x-axis?
Thank you.

Marco Taboga(mtaboga at tiscalinet.it)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010430/6a61f16b/attachment.html

From Timothy.Keitt at StonyBrook.Edu  Mon Apr 30 18:18:40 2001
From: Timothy.Keitt at StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 30 Apr 2001 12:18:40 -0400
Subject: [R] Re: two new packages
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <3AED905F.345A85A@StonyBrook.Edu>

Great!  I think we should encourage people to upload complete, but not yet fully
tested packages to the "devel" section of CRAN.  It gets really hard to keep track
of source that is scattered all over the 'net.

Cheers,
Tim

John Fox wrote:

> I've prepared preliminary versions of two packages that I plan eventually
> to contribute to CRAN:
>
>
> For the present, I'm making these packages available on my web site, at
> <http://www.socsci.mcmaster.ca/jfox/Misc/car/> and
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.
>
> I'm particularly interested in suggestions and comments.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Apr 30 18:58:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 30 Apr 2001 09:58:21 -0700 (PDT)
Subject: [R] Crazy plots of time-series against dates
In-Reply-To: <000a01c0d18f$bf300e20$7d240a3e@xxxx>
Message-ID: <Pine.A41.4.33.0104300957140.85214-100000@homer11.u.washington.edu>

On Mon, 30 Apr 2001, Marco Taboga wrote:

> I am trying to plot a time series (a stock index) with dates on the
> x-axis.  If I type: plot(a,b) where a is the vector of dates obtained
> with chron() and b is the time series, I get a nice plot. If I type:
> plot(a,b,type="l") to obtain the same plot with a continuous line
> instead of dots, I get the plot of the time series, but the graph is
> all scattered with numbers (thousands of numbers everywhere!). What is
> wrong? Is there a better way to get plots with dates on the x-axis?
> Thank you.
>

The lines are joined in the order than the points are plotted. This is the
order in the dataset, not the order of the x variable.

One possibility is

oo<-order[a]

plot(a[oo],b[oo],type="l")

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Apr 30 20:44:49 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 30 Apr 2001 20:44:49 +0200 (MET DST)
Subject: [R] Some loglog density plot
Message-ID: <Pine.OSF.4.30.0104302030470.29425-100000@alnair.uio.no>

Dear all,

A looong time ago, Witold Eryk Wolski asked here why there wasn't a
log="xy" parameter to the hist() function
<URL:http://www.R-project.org/nocvs/mail/r-help/2001/0267.html>, and
Prof. Ripley responded that a loglog histogram does not make much sense,
and that one should use a better density estimate if one seeks to plot
log density.

I understand the point and I hope you will forgive my ignorance:
What alternatives do I have in R?
(In astronomy, which is full of power laws, loglog histograms are
not infrequently seen, I have resisted making them since this post, but it
is getting hard... :-) ).

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Mon Apr 30 22:21:11 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Mon, 30 Apr 2001 16:21:11 -0400 (EDT)
Subject: [R] margin problems?
Message-ID: <15085.51511.172491.435771@viz.itd.nrl.navy.mil>

hi, All.  I'm using R 1.2.2 on a linux box.

I have very long labels on my y axis, and when I try to print them
out, they always come out clipped so I can't see them.  How do I
change the margin for the y axis?  I've tried mai and mar, but they
don't seem to do anything...

process.names <- c("Makeprod-data", "Makeprod-QMM", "Search",
"Download", "View Data", "View QMM", "Consult", "Stop", "Misfire",
"Misfire", "Unknown")

and Makeprod-data only shows "od-data" ...

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Apr 30 23:13:59 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 30 Apr 2001 23:13:59 +0200
Subject: [R] Mantel's randomization test
In-Reply-To: <Pine.LNX.4.30.0104301053550.12434-100000@bolker.zoo.ufl.edu>
Message-ID: <MABBLJDICACNFOLGIHJOOEDDCDAA.phgrosje@ulb.ac.be>

Hello,


>  Years ago I coded this in S-PLUS ... I think it's been posted to the
>S-news list before.  It seems to work just fine in R.  I have not tested
>it at all, so it comes with the usual warranty (i.e., none).

>  Just cut on the dotted lines and source() the file.

>  One example (someday I'll package this all up and write a help file
>etc.).

>q1 _ matrix(runif(36),nrow=6)
>q2 _ matrix(runif(36),nrow=6)
>mantel(q1,q2,graph=TRUE,rpt=200)


One of my jobs is to assemble a Splus/R library of statistical methods used
in numerical oceanography. It will probably be distributed next year. I
could be interested by inserting your Mantel test code if (1) it is public
domain or GPL and (2) if you would like to give some indications of its
origin (I mean, your name, email,...) which is not specified in the code you
posted in your message.
Sincerely,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


