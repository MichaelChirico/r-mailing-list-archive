From raphael.arlitt at mmweg.rwth-aachen.de  Fri Mar  1 00:26:55 2002
From: raphael.arlitt at mmweg.rwth-aachen.de (Raphael Arlitt)
Date: 1 Mar 2002 00:26:55 +0100
Subject: [R] HDF 4
Message-ID: <20020301002655.21650.qmail@mx.mmweg.rwth-aachen.de>

I know there is a library for reading NSCA's HDF 5 formatted files.
Is it also possible to import HDF 4 files? I think there are some big 
differences between HDF 4 and HDF 5 formats.

Is there maybe another R function to import HDF4 files or is that 
functionality build into the HDF5 import function (if at all)?

Raphael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murray.frank at commerce.ubc.ca  Fri Mar  1 01:12:05 2002
From: murray.frank at commerce.ubc.ca (Frank, Murray)
Date: Thu, 28 Feb 2002 16:12:05 -0800
Subject: [R] step, leaps, lasso, LSE or what?
Message-ID: <6158D207D4D4D311B16700508B44026A033946DF@exchange.commerce.ubc.ca>

Hi,

I am trying to understand the alternative methods that are available for
selecting
variables in a regression without simply imposing my own bias (having "good
judgement"). The methods implimented in leaps and step and stepAIC seem to 
fall into the general class of stepwise procedures. But these are commonly 
condemmed for inducing overfitting.

In Hastie, Tibshirani and Friedman "The Elements of Statistical Learning"
chapter 3, 
they describe a number of procedures that seem better. The use of
cross-validation 
in the training stage presumably helps guard against overfitting. They seem 
particularly favorable to shrinkage through ridge regressions, and to the
"lasso". This
may not be too surprising, given the authorship. Is the lasso "generally
accepted" as 
being a pretty good approach? Has it proved its worth on a variety of
problems? Or is 
it at the "interesting idea" stage? What, if anything, would be widely
accepted as 
being sensible -- apart from having "good judgement".

In econometrics there is a school (the "LSE methodology") which argues for
what
amounts to stepwise regressions combined with repeated tests of the
properties of 
the error terms. (It is actually a bit more complex than that.) This has
been coded in 
the program PCGets:
(http://www.pcgive.com/pcgets/index.html?content=/pcgets/main.html) 
If anyone knows how this compares in terms of effectiveness to the methods
discussed in 
Hastie et al., I would really be very interested. 

Cheers,
Murray

Murray Z. Frank
B.I. Ghert Family Foundation Professor
Strategy & Business Economics
Faculty of Commerce
University of British Columbia
Vancouver, B.C.
Canada V6T 1Z2

phone: 604-822-8480
fax: 604-822-8477
e-mail: Murray.Frank at commerce.ubc.ca  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janef at stat.berkeley.edu  Fri Mar  1 01:17:06 2002
From: janef at stat.berkeley.edu (Jane Fridlyand)
Date: Thu, 28 Feb 2002 16:17:06 -0800 (PST)
Subject: [R] SVM in R
Message-ID: <Pine.SOL.4.31.0202281614330.27006-100000@toto.Berkeley.EDU>


Hi,

does anyone know of R-implementation of an SVM. We are working on a
classification methods for microarray data study and would like to include
an SVM classifier in that study. All other methods we are considering are
implemented in R.

Thank you for all your help

Jane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Fri Mar  1 04:06:43 2002
From: mabramso at gmu.edu (Myriam Abramson)
Date: 28 Feb 2002 22:06:43 -0500
Subject: [R] correlation coefficient
In-Reply-To: <x2wuy0q963.fsf@blueberry.kubism.ku.dk>
References: <x2wuy0q963.fsf@blueberry.kubism.ku.dk>
Message-ID: <m3y9hdyojg.fsf@localhost.localdomain>


Hi!

help.search("CORR") points to a function in the "boot" package. 
I don't know how to use packages. 
boot.corr(data) does not work. 

I have 1.4.1 and I installed the R-base and R-recommended rpm.

Thanks. 
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Fri Mar  1 04:03:42 2002
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Fri, 1 Mar 2002 14:03:42 +1100 (EST)
Subject: [R] Re: R-plots with 'complex' axis-labelling
In-Reply-To: <200203010301.EAA12387@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.33.0203011355080.2133-100000@stat.ma.adfa.ed.au>

Try this sort of thing:

plot(..., xlab='vdot', ...)

and then, in the LaTeX document,

\usepackage{psfrag}
...
\begin{figure}
\psfrag{vdot}{$\dot{V}$}
\epsfig{...}
\end{figure}

Ted.

Dr E.A. Catchpole
 ----------------------------------
| Associate Professor              |      -----------------------------------
| School of Maths & Stats          |     |  Honorary Senior Research Fellow  |
| University College, UNSW         |     |  Institute of Maths & Stats       |
| Australian Defence Force Academy | and |  University of Kent at Canterbury |
| Canberra, ACT 2600, Australia    |     |  Canterbury CT2 7NF, England      |
| e-catchpole at adfa.edu.au          |     |  E.A.Catchpole at ukc.ac.uk          |
| www.ma.adfa.edu.au/~eac          |      -----------------------------------
| fax: +61 2 6268 8886		   |
 ----------------------------------

On Fri, 1 Mar 2002, R-help Digest wrote:

> Date: Thu, 28 Feb 2002 16:50:17 +0100
> From: Tobias Hoevekamp <tobias.hoevekamp at ilw.agrl.ethz.ch>
> Subject: [R] R-plots with 'complex' axis-labelling
>
> Hi there,
>
> I want to create plots with some kind of 'complex' axis labelling of the form
> $\dot{V}$ and integrate those plots into a LaTeX document. What is the best
> way to go?
>
> I've figured out, that the 'plotmath' commands are somewhat limited (at least
> I wasn't able to get the $\dot{V}$ generated) and that plots with
> 'plotmath'-axes wouldn't export properly with pictex() or xfig(). Therefore,
> I've done the following:
>
> o use postscript() to create myfig.eps
> o pstoedit -f fig myfig.eps myfig.fig
> o xfig 011214C.fig
>    include $\dot{V}$
>    export: Combined PS/LaTeX (both parts)
> o within my latex document:
>       \input{myfig.pstex_t}
>
> Is this a proper approach?
>
> I am looking forward to your response
>
>
>
> Tobias
>
> - --
> TOBIAS HOEVEKAMP
> mailto:tobias.hoevekamp at ilw.agrl.ethz.ch
> http://www.vt.ilw.agrl.ethz.ch/~hoevekam
> WORK: ETH Zurich, LFO E21, CH-8092 Zurich, +41 1 632 3304
> HOME: Anna Heer-Str. 2,  CH-8057  Zurich,  +41 1 350 5986

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Mar  1 05:12:00 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 28 Feb 2002 20:12:00 -0800
Subject: [R] correlation coefficient
In-Reply-To: <m3y9hdyojg.fsf@localhost.localdomain>
References: <x2wuy0q963.fsf@blueberry.kubism.ku.dk>
 <x2wuy0q963.fsf@blueberry.kubism.ku.dk>
Message-ID: <5.1.0.14.2.20020228201125.02658ec0@pop4.attglobal.net>

Try ?cor


At 07:06 PM 2/28/02, Myriam Abramson wrote:
 >
 >Hi!
 >
 >help.search("CORR") points to a function in the "boot" package.
 >I don't know how to use packages.
 >boot.corr(data) does not work.
 >
 >I have 1.4.1 and I installed the R-base and R-recommended rpm.
 >
 >Thanks.
 >--
 >                                   myriam
 >
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Fri Mar  1 07:55:58 2002
From: ozric at web.de (christian)
Date: Fri, 01 Mar 2002 07:55:58 +0100
Subject: [R] SVM in R
Message-ID: <E16ggrc-0006HF-00@smtp.web.de>

Jane,
SVM (Support Vector Machine!?)
look at the  package(e1071) and the Newsletter  Volume 1/3, September 2001
regards,christian

>
>Hi,
>
>does anyone know of R-implementation of an SVM. We are working on a
>classification methods for microarray data study and would like to include
>an SVM classifier in that study. All other methods we are considering are
>implemented in R.
>
>Thank you for all your help
>
>Jane
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 08:26:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 07:26:11 +0000 (GMT)
Subject: [R] step, leaps, lasso, LSE or what?
In-Reply-To: <6158D207D4D4D311B16700508B44026A033946DF@exchange.commerce.ubc.ca>
Message-ID: <Pine.GSO.4.44.0203010640020.24603-100000@auk.stats>

On Thu, 28 Feb 2002, Frank, Murray wrote:

> Hi,
>
> I am trying to understand the alternative methods that are available for
> selecting
> variables in a regression without simply imposing my own bias (having "good
> judgement"). The methods implimented in leaps and step and stepAIC seem to
> fall into the general class of stepwise procedures. But these are commonly
> condemmed for inducing overfitting.

There are big differences between regression with only continuous variates,
and regression involving hierarchies of factors.  step/stepAIC include the
latter, the rest do not.

A second difference is the purpose of selecting a model.  AIC is intended
to select a model which is large enough to include the `true' model, and
hence to give good predictions.  There over-fitting is not a real problem.
(There are variations on AIC which do not assume some model considered is
true.)   This is a different aim from trying to find the `true' model or
trying to find the smallest adequate model, both aims for explanation not
prediction.  AIC is often criticised (`condemmed') for not being good at
what it does not intend to do.   [Sometimes R is, too.]

Shrinkage methods have their advocates for good predictions (including me),
but they are a different class of statistical methods, that is *not*
regression.  They too have issues of selection, usually how much to shrink
and often how to calibrate equal shrinkage across predictors.  In ridge
regression choosing the ridge coefficient is not easy, and depends on the
scaling of the variables. In the neural networks field, shrinkage is widely
used.

> In Hastie, Tibshirani and Friedman "The Elements of Statistical Learning"
> chapter 3,
> they describe a number of procedures that seem better. The use of

I think that is a quite selective account.

> cross-validation
> in the training stage presumably helps guard against overfitting. They seem
> particularly favorable to shrinkage through ridge regressions, and to the
> "lasso". This
> may not be too surprising, given the authorship. Is the lasso "generally
> accepted" as
> being a pretty good approach? Has it proved its worth on a variety of
> problems? Or is
> it at the "interesting idea" stage? What, if anything, would be widely
> accepted as
> being sensible -- apart from having "good judgement".

Depends on the aim.  If you look at the account in Venables & Ripley you
will see many caveats about any automated method: all statistical problems
(outside textbooks) come with a context which should be used in selecting
variables if the aim is explanation, and perhaps also if it is prediction.
You should use what you know about the variables and the possible
mechanisms, especially to select derived variables.  But generally model
averaging (which you have not mentioned and is for regression a form of
shrinkage) seems to have most support for prediction.

> In econometrics there is a school (the "LSE methodology") which argues
> for what amounts to stepwise regressions combined with repeated tests of
> the properties of the error terms. (It is actually a bit more complex
> than that.) This has been coded in the program PCGets:
> (http://www.pcgive.com/pcgets/index.html?content=/pcgets/main.html)

Lots of hyperbolic claims, no references.  But I suspect this is `ex-LSE'
methodology, associated with Hendry's group (as PcGive and Ox are), and
there is a link to Hendry (who is in Oxford).

> If anyone knows how this compares in terms of effectiveness to the methods
> discussed in
> Hastie et al., I would really be very interested.

It has a different aim, I believe.  Certainly `effectiveness' has to be
assessed relative to a clear aim, and simulation studies with true models
don't seem to me to have the right aim.  Statisticians of the Box/Cox/Tukey
generation would say that effectiveness in deriving scientific insights
was the real test (and I recall hearing that from those I named).

Chpater 2 of my `Pattern Recognition and Neural Networks' takes a much
wider view of the methods available for model selection, and their
philosophies.  Specifically for regression, you might take a look at Frank
Harrell's book.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar  1 08:37:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 01 Mar 2002 08:37:46 +0100
Subject: [R] postscript output sideways
References: <Pine.GSO.4.20.0202281559310.14347-100000@jade.saintmarys.edu>
Message-ID: <3C7F2FCA.9E87DBC9@statistik.uni-dortmund.de>

David A Richmond wrote:
> 
> Hi,
>         My plots are all coming out sideways! If I do the following:
> 
> > postscript("plot1.ps",horizontal=TRUE,paper="letter")
> > plot(ns,meanpl/maxvec)
> > dev.off(2)
>
> The output file has "ns" on the left and the "meanpl/maxvec" on the top!
> It doesn't matter if I change the horizontal flag to FALSE.

If you change it to FALSE, "ns" will be at the bottom and
"meanpl/maxvec" on the left (for me with R-1.4.1 on WinNT4). Are you
sure to have configured your GhostView (or whatever) correctly?

If it doesn't work, please tell us details, particularly your version of
R and your OS ...


> I have noticed, however that If I create my own graph from scratch, using
> frame(), box(), plot.window(), axis(), and points(), the resulting
> postscript output is oriented correctly. Unfortuneately, I don't know how
> to add axis labels (like "ns" and "meanpl/maxvec") this way.

See ?title

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Fri Mar  1 09:54:13 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Fri, 01 Mar 2002 08:54:13 +0000
Subject: [R] trying to build matrix for tests...
References: <003001c1c07a$69381230$01000001@godzilla>
Message-ID: <3C7F41B5.3C72A3F9@durham.ac.uk>

Hi Jeff,

I think this is what you want ...

> resid <- rnorm(30) # some residuals
> signif <- symnum(resid, corr = FALSE, na = FALSE,
  cutpoints = c(-5,.1,.2,.3,.4, 5), symbols = LETTERS[1:5])
> rt <- data.frame(resid, signif = ordered(signif, levels = LETTERS[1:5]))
> boxplot(resid ~ signif, data = rt)

If you want to include the result from symnum directly into a dataframe
then you could use the I() function, ie as

> rt <- data.frame(resid, signif = I(signif))

but the boxplot won't work in this case.

Cheers, Jonathan.

"Jeff D. Hamann" wrote:
> 
> Okay, I stumped. I'm trying to build a matrix or data.frame that consists of
> values by group. For example,
> 
> resid, group
> 
> 574 0.536196370873122    E
> 575 0.93191093696265     E
> 576 -1.27116094894117    A
> 577 -1.05159666055027    A
> 578 0.398273458301184    D
> 579 0.586373126102573    E
> 580 0.806575304513802    E
> 581 0.897258393118338    E
> 582 0.342393324256838    D
> 583 0.781245511773227    E
> 
> I can get the values without the quotes, but when I try to use the matrix I
> get errors like,
> 
> Error in "colnames<-"(*tmp*, value = c("resid", "group")) :
>         attempt to set an attribute on NULL
> 
> and
> 
> > attach( rt )
> Error in attach(rt) : attach only works for lists and data frames
> 
> the code that I use to build the matrix is :
> 
> # break up the classes into cats and test for departure from zero
> signif <- symnum(fit3sls[[2]]$residuals,
>   corr = FALSE,
>   na = FALSE,
>   cutpoints = c(-5,.1,.2,.3,.4, 5),
>   symbols   =  c("A","B","C","D","E"))
> 
> rt <- noquote( cbind( fit3sls[[2]]$residuals, signif ) )
> colnames(table) <- c("resid","group")
> 
> boxplot( resid ~ signif, data = rt )
> 
> which doesn't work. What do I need to do when building the matrix to make it
> usable as a data set.
> 
> Thanks,
> jeff.
> 
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joern.quedenau at metanomics.de  Fri Mar  1 11:04:38 2002
From: joern.quedenau at metanomics.de (joern.quedenau@metanomics.de)
Date: Fri, 1 Mar 2002 11:04:38 +0100
Subject: [R] Power of t-test in R vs. S-PLUS
Message-ID: <41256B6F.00375B84.00@ntserv01.tgl.metanomics.de>



Dear all,

I found a discrepancy while performing a power calculation for a two sample
t-test in R and S-PLUS, respectively.
For given values of sample number (5 each), sd (0.2) , significance level
(0.01), and a desired power (80%) I looked for the difference in means.
These values differ: 0.5488882 in R and 0.4322771 in S-PLUS (see dump
below).

Did I overlook any detail or confuse some parameters?

Thanks for your help,
Joern Quedenau

Here are the commands & outputs from both tools:

R 1.4.0
> power.t.test(n=5, sd=0.2, sig.level=0.01, power=0.8, type="two.sample",
alternative="two.sided")

     Two-sample t test power calculation

              n = 5
          delta = 0.5488882
             sd = 0.2
      sig.level = 0.01
          power = 0.8
    alternative = two.sided

 NOTE: n is number in *each* group

S-PLUS 2000 Professional Release 2:
> normal.sample.size(n1=5, n2=5, mean=0, sd1=0.2, sd2=0.2, power=0.8,
alpha=0.01, alternative="two.sided")
  mean1 sd1     mean2 sd2     delta alpha power n1 n2 prop.n2
1     0 0.2 0.4322771 0.2 0.4322771  0.01   0.8  5  5       1

------------------------------------------
Dr. J?rn Quedenau
Coordinator Data Management Bioinformatics
Metanomics GmbH & Co. KGaA
Tegeler Weg 33, D-10589 Berlin, Germany
Tel +49 30 34807 125, Fax +49 30 34807 300


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Atkinson at cdsc.nthames.nhs.uk  Fri Mar  1 11:28:23 2002
From: P.Atkinson at cdsc.nthames.nhs.uk (Phil)
Date: Fri, 1 Mar 2002 10:28:23 -0000 
Subject: [R] plot(table..) using pairs
Message-ID: <24A8B549739BD311AAF2009027D6373D198E73@SERVER>


I'm trying to visualise relationships between a number of categorical
variables with values 0 and 1. 

Plot(table(x,y))

 ..works well for one relationship, so I want to use this to examine all
relationships using pairs function. 

pairs(data_array, upper.panel=panel.tab)

where

panel.tab <- function (x,y)
 {
 plot(tables(x,y))
 }

..produces the error..

Error in pairs.default(a, upper.panel = panel.tab) : 
        The panel function made a new plot

Can anyone help..?? Many thanks

Phil.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Mar  1 11:28:24 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 1 Mar 2002 11:28:24 +0100
Subject: [R] Split plot in colors/pch??
Message-ID: <20020301112824.A29869@ling.umu.se>

Hi all

This seems like a very easy question, but I have not found a simple
answer to it:

If you have a dataframe, how to you plot two of then in different colors
depending on a third variable?


All help appreciated!

/Fredrik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 11:29:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 10:29:18 +0000 (GMT)
Subject: [R] Power of t-test in R vs. S-PLUS
In-Reply-To: <41256B6F.00375B84.00@ntserv01.tgl.metanomics.de>
Message-ID: <Pine.GSO.4.44.0203011011510.21717-100000@auk.stats>

On Fri, 1 Mar 2002 joern.quedenau at metanomics.de wrote:

>
>
> Dear all,
>
> I found a discrepancy while performing a power calculation for a two sample
> t-test in R and S-PLUS, respectively.
> For given values of sample number (5 each), sd (0.2) , significance level
> (0.01), and a desired power (80%) I looked for the difference in means.
> These values differ: 0.5488882 in R and 0.4322771 in S-PLUS (see dump
> below).
>
> Did I overlook any detail or confuse some parameters?

Yes. normal.sample.size is not for a Student's t test, as its name might
suggest (at least, it did to me).  It uses a normal distribution and
assumes the variances are known. On the other hand, power.t.test appears to
be for a conventional equi-variance t-test, and as it needs to estimate the
variances has lower power and hence selects a larger minimum delta.

BTW, the t-test that power.t.test computes the power of is not the default
t-test in R, as I understand the code.  (?power.t.test is silent on which
two-sample t-test but the calculations look right for the one that uses the
pooled variance.  Not that it necessarily matters.)


This is only evident because n1 and n2 are so small: at those sample sizes
you are relying critically on normality of the samples, and for
power.t.test on equal variances.  For n1 = n2 = 25, the difference is much
smaller (0.193 vs 0.200).

>
> Thanks for your help,
> Joern Quedenau
>
> Here are the commands & outputs from both tools:
>
> R 1.4.0
> > power.t.test(n=5, sd=0.2, sig.level=0.01, power=0.8, type="two.sample",
> alternative="two.sided")
>
>      Two-sample t test power calculation
>
>               n = 5
>           delta = 0.5488882
>              sd = 0.2
>       sig.level = 0.01
>           power = 0.8
>     alternative = two.sided
>
>  NOTE: n is number in *each* group
>
> S-PLUS 2000 Professional Release 2:
> > normal.sample.size(n1=5, n2=5, mean=0, sd1=0.2, sd2=0.2, power=0.8,
> alpha=0.01, alternative="two.sided")
>   mean1 sd1     mean2 sd2     delta alpha power n1 n2 prop.n2
> 1     0 0.2 0.4322771 0.2 0.4322771  0.01   0.8  5  5       1
>
> ------------------------------------------
> Dr. Jörn Quedenau
> Coordinator Data Management Bioinformatics
> Metanomics GmbH & Co. KGaA
> Tegeler Weg 33, D-10589 Berlin, Germany
> Tel +49 30 34807 125, Fax +49 30 34807 300
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raphael.arlitt at mmweg.rwth-aachen.de  Fri Mar  1 11:45:26 2002
From: raphael.arlitt at mmweg.rwth-aachen.de (Raphael Arlitt)
Date: 1 Mar 2002 11:45:26 +0100
Subject: [R] HDF 5 install - how to pass configure flag to the R CMD command
In-Reply-To: <MABBLJDICACNFOLGIHJOKELBCJAA.phgrosje@ulb.ac.be>
References: <MABBLJDICACNFOLGIHJOKELBCJAA.phgrosje@ulb.ac.be>
Message-ID: <20020301114526.16956.qmail@mx.mmweg.rwth-aachen.de>

The basic question is: How can I pass configure script command line flags 
from the R CMD command?

Now I try to install the HDF5 package on Linux (SuSE 7.3).
I got hdf5 libraries installed in /usr/local/hdf5   (man/lib/bin).

I understood to install packages the following way:
as root#  R CMD INSTALL   hdf5_1.4.7.tar.gz
Installing source package `hdf5' ...
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for executable suffix...
checking for object suffix... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for library containing inflate... -lz
checking for library containing H5open... no
configure: error: Can't find HDF5
ERROR: configuration failed for package `hdf5'

But how to I tell the install procedure where to look for my hdf libraries?
Changing to the hdf5 package directory I can do a configure and understand 
that I need to give it the flag --with-hdf5=/path/to/the/libraries
That works.

 ./configure --with-hdf5=/usr/local/hdf5
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for executable suffix...
checking for object suffix... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for library containing inflate... -lz
checking for library containing H5open... -lhdf5
checking for sufficiently new HDF5... yes
configure: creating ./config.status
config.status: creating src/Makevars


But how can I give the configure command line flag to the R CMD INSTALL 
command?

Raphael


On Friday 01 March 2002 10:07, you wrote:
> As part of the HDF5 package, you have utilities to convert HDF4 files to
> HDF5, that can be imported in R. Since the conversion program runs on the
> command line, you can call it from R... An perhaps make your own hdf4load()
> function by combining a conversion to hdf5 and the importation of the
> resulting file.
> Best,
>
> Philippe Grosjean

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Fri Mar  1 12:03:32 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Fri, 01 Mar 2002 13:03:32 +0200
Subject: [R] step, leaps, lasso, LSE or what? 
In-Reply-To: Message from Prof Brian D Ripley <ripley@stats.ox.ac.uk> 
   of "Fri, 01 Mar 2002 07:26:11 GMT." <Pine.GSO.4.44.0203010640020.24603-100000@auk.stats> 
Message-ID: <200203011103.g21B3Y801215@pc112145.oulu.fi>


ripley at stats.ox.ac.uk said:
> A second difference is the purpose of selecting a model.  AIC is
> intended to select a model which is large enough to include the `true'
> model, and hence to give good predictions.  There over-fitting is not
> a real problem. (There are variations on AIC which do not assume some
> model considered is true.)   This is a different aim from trying to
> find the `true' model or trying to find the smallest adequate model,
> both aims for explanation not prediction. 

This may be a stupid question, but perhaps I won't be lashed if I
confess my stupidity as a preventive measure. About minimal adequate
model*s*:  Murray Aitkin et al. have a book called "Statistical
Modelling in GLIM" (Ox UP, 1989) where they tell how to find a set
adequate models in glm (with GLIM), and how one or *several* of these
adequate models may be minimal.  When I read the book, I found this as
an attractive concept since it showed that you may have several about
equally good models with different terms, although usual selection
procedures (including best subsets) finds only one.  I have quite often
seen people to use automatic selection in several subsets and then
saying that subsets are different because different regressors were
selected -- although the same regressors could have been about as good,
but they were never evaluated.

Now the question: Aitkin's procedure would be very easy to perform in R 
(well, it was easy even in dear old GLIM!), but I have hardly seen it 
used. Is there a reason for this? Is there something dubious in minimal 
adequate modles that makes tehm a no-no, an Erlk?nig that catches us 
innocent children?

Bibliographic note: I know the procedure from the Aitkin et. al. book,
and haven't checked the original references. These sources are cited in
the book:

Aitkin, M. A. 1974. Simultaneous inference and choice of variable 
subsets in multiple regression. Technometrics 16, 221--227.

Aitkin, M. A. 1978. The analysis of unbalanced cross-classification 
(with Discussion). J. Roy. Stat. Soc. A 141, 
195--223.

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 12:04:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 11:04:28 +0000 (GMT)
Subject: [R] HDF 5 install - how to pass configure flag to the R CMD
 command
In-Reply-To: <20020301114526.16956.qmail@mx.mmweg.rwth-aachen.de>
Message-ID: <Pine.GSO.4.44.0203011102090.22589-100000@auk.stats>

On 1 Mar 2002, Raphael Arlitt wrote:

> The basic question is: How can I pass configure script command line flags
> from the R CMD command?

Answer: use R CMD INSTALL --help or ?INSTALL to find

      --configure-args=ARGS
                        set args for package's configure script (if any)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 12:22:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 11:22:08 +0000 (GMT)
Subject: [R] step, leaps, lasso, LSE or what? 
In-Reply-To: <200203011103.g21B3Y801215@pc112145.oulu.fi>
Message-ID: <Pine.GSO.4.44.0203011105240.22589-100000@auk.stats>

On Fri, 1 Mar 2002, Jari Oksanen wrote:

> ripley at stats.ox.ac.uk said:
> > A second difference is the purpose of selecting a model.  AIC is
> > intended to select a model which is large enough to include the `true'
> > model, and hence to give good predictions.  There over-fitting is not
> > a real problem. (There are variations on AIC which do not assume some
> > model considered is true.)   This is a different aim from trying to
> > find the `true' model or trying to find the smallest adequate model,
> > both aims for explanation not prediction.
>
> This may be a stupid question, but perhaps I won't be lashed if I
> confess my stupidity as a preventive measure. About minimal adequate
> model*s*:  Murray Aitkin et al. have a book called "Statistical
> Modelling in GLIM" (Ox UP, 1989) where they tell how to find a set
> adequate models in glm (with GLIM), and how one or *several* of these
> adequate models may be minimal.  When I read the book, I found this as
> an attractive concept since it showed that you may have several about
> equally good models with different terms, although usual selection
> procedures (including best subsets) finds only one.  I have quite often
> seen people to use automatic selection in several subsets and then
> saying that subsets are different because different regressors were
> selected -- although the same regressors could have been about as good,
> but they were never evaluated.

The concept is well-known: Cox for example stresses finding sets of small
adequate models.  That's yet a different aim, as often only one explanation
is required (or accepted).  There is a lot on sets of adequate models:
Raftery's Occam's window for example (see the reference in my first post).

> Now the question: Aitkin's procedure would be very easy to perform in R
> (well, it was easy even in dear old GLIM!), but I have hardly seen it

`dear' as in `expensive' is my memory.

> used. Is there a reason for this? Is there something dubious in minimal
> adequate modles that makes tehm a no-no, an Erlkönig that catches us
> innocent children?

Not in general, but the lack of adoption of the method is a fair indication
of how it was respected.  I've now forgotten the technical flaws.

> Bibliographic note: I know the procedure from the Aitkin et. al. book,
> and haven't checked the original references. These sources are cited in
> the book:
>
> Aitkin, M. A. 1974. Simultaneous inference and choice of variable
> subsets in multiple regression. Technometrics 16, 221--227.
>
> Aitkin, M. A. 1978. The analysis of unbalanced cross-classification
> (with Discussion). J. Roy. Stat. Soc. A 141,
> 195--223.

I suggest you do read that paper, especially the discussion.  I use it as a
case study in my MSc class on how *not* to do model selection.  It's a very
good illustration of many of the points of my first posting against fully
automated procedures.

There are several analyses of that example in MASS, with alternative
models selected and spotting many things that Aitkin overlooked.  Do read
Bill Venables' commentaries in MASS too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Mar  1 12:48:34 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 1 Mar 2002 12:48:34 +0100
Subject: [R] Building hdf5 on Windows
Message-ID: <MABBLJDICACNFOLGIHJOMELCCJAA.phgrosje@ulb.ac.be>

Hi all,

I try to use the hdf5 package. I downloaded the Windows binary version, and
it claims it requires hdf5dll.dll library, so I download the whole hdf5
1.4.3 package from NCSA. Unfortunatelly, it crashes R. I suspect it is
because the package was probably compiled against version 1.2 of hdf5 (as
evoked in the help file?) or any other previous version, so I downloaded the
source of the package and tried to recompile it,... but I can't get trough
the configure phase. I put the path of hdf5 lib in configure.in (tried both
/xtra/hdf5 and /xtra/hdf5/lib), but sh configure always end up with "can't
find zlig", which is provided however with hdf5). What do I do wrong? Can
someone help me?

Alternatively, can someone send me the correct Windows version of
hdf5dll.dll and zlib.dll that does not crash R...
Best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



=== my configure.in =================
AC_INIT(DESCRIPTION)
AC_PROG_CC

AC_ARG_WITH(zlib,  --with-zlib=/XTRA/hdf5)

if test -n "$with_zlib"; then
  ZLIBLDFLAGS=-L${with_zlib}/lib
  ZLIBCPPFLAGS=-I${with_zlib}/include
fi

AC_ARG_WITH(hdf5,  --with-hdf5=/XTRA/hdf5)

if test -n "$with_hdf5"; then
  HDF5LDFLAGS=-L${with_hdf5}/lib
  HDF5CPPFLAGS=-I${with_hdf5}/include
fi

LIBS=-lm
CPPFLAGS="$ZLIBCPPFLAGS $HDF5CPPFLAGS $CPPFLAGS"
LDFLAGS="$HDF5LDFLAGS $ZLIBLDFLAGS $LDFLAGS"

AC_SEARCH_LIBS(inflate, z, have_zlib=yes, have_zlib=no)
AC_SEARCH_LIBS(H5open, hdf5, have_hdf5=yes, have_hdf5=no)

if test $have_zlib = no; then
  AC_MSG_ERROR(Can't find zlib)
fi

if test "$have_hdf5" = yes; then
  AC_MSG_CHECKING(for sufficiently new HDF5)
  AC_TRY_LINK([#include <hdf5.h>],
    [ H5T_pers_t convtype = H5T_PERS_SOFT;
      H5Tclose ((hid_t) 0);],
      have_hdf5=yes,
      have_hdf5=no)
   AC_MSG_RESULT($have_hdf5)
fi

if test $have_hdf5 = no; then
  AC_MSG_ERROR(Can't find HDF5)
fi

AC_SUBST(ZLIBCPPFLAGS)
AC_SUBST(ZLIBLDFLAGS)
AC_SUBST(HDF5CPPFLAGS)
AC_SUBST(HDF5LDFLAGS)

AC_OUTPUT(src/Makevars)
======================================================

==== my config.log after running "sh configure" =======
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by configure, which was
generated by GNU Autoconf 2.52.  Invocation command line was

  $ configure

## ---------- ##
## Platform.  ##
## ---------- ##

hostname = NEMO
uname -m = unknown
uname -r = unknown
uname -s = unknown
uname -v = unknown

/usr/bin/uname -p = unknown
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
hostinfo               = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH =
/cygdrive/d/Perl/bin/:/xtra/Tcl/bin:/XTRA:/PROGRA~1/OX/BIN:/WINDOWS:/WINDOWS
/system32:/WINDOWS/system32/WBEM:/Xtra/ResKit:/Xtra/ResKit/Perl:/xtra/matlab
_sv12/bin/win32:/progra~1/ggobi:/Program Files/Fichiers communs/Adaptec
Shared/System:/bin:/xtra/R/rw1041/bin:/xtra/R/compile/bin:/Program
Files/HTML Help Workshop:/Program Files/Microsoft Visual
Studio/Common/Tools/WinNT

## ------------ ##
## Core tests.  ##
## ------------ ##

configure:910: PATH=".;."; conftest.sh
conftest.sh: not found
configure:913: $? = 127
configure:965: checking for gcc
configure:980: found /xtra/R/compile/bin/gcc
configure:988: result: gcc
configure:1216: checking for C compiler version
configure:1219: gcc --version </dev/null >&5
2.95.3-6
configure:1222: $? = 0
configure:1224: gcc -v </dev/null >&5
Reading specs from
C:/xtra/R/compile/bin/../lib/gcc-lib/mingw32/2.95.3-6/specs
gcc version 2.95.3-6 (mingw special)
configure:1227: $? = 0
configure:1229: gcc -V </dev/null >&5
gcc.exe: argument to `-V' is missing
configure:1232: $? = 1
configure:1252: checking for C compiler default output
configure:1255: gcc    conftest.c  >&5
configure:1258: $? = 0
configure:1287: result: C:\XTRA\R\compile\libsrc\hdf5\a.exe
configure:1292: checking whether the C compiler works
configure:1298: ./C:\XTRA\R\compile\libsrc\hdf5\a.exe
configure:1301: $? = 0
configure:1316: result: yes
configure:1323: checking whether we are cross compiling
configure:1325: result: no
configure:1328: checking for executable suffix
configure:1330: gcc -o conftest.exe    conftest.c  >&5
configure:1333: $? = 0
configure:1355: result: .exe
configure:1361: checking for object suffix
configure:1379: gcc -c   conftest.c >&5
configure:1382: $? = 0
configure:1401: result: o
configure:1405: checking whether we are using the GNU C compiler
configure:1426: gcc -c   conftest.c >&5
configure:1429: $? = 0
configure:1432: test -s conftest.o
configure:1435: $? = 0
configure:1447: result: yes
configure:1453: checking whether gcc accepts -g
configure:1471: gcc -c -g  conftest.c >&5
configure:1474: $? = 0
configure:1477: test -s conftest.o
configure:1480: $? = 0
configure:1490: result: yes
configure:1517: gcc -c -g -O2  conftest.c >&5
conftest.c:2: parse error before `me'
configure:1520: $? = 1
configure: failed program was:
#ifndef __cplusplus
  choke me
#endif
configure:1644: checking for library containing inflate
configure:1671: gcc -o conftest.exe -g -O2       conftest.c -lm >&5
C:\Temp\ccoPaaaa.o: In function `main':
//C/XTRA/R/compile/libsrc/hdf5/configure:1664: undefined reference to
`inflate'
configure:1674: $? = 1
configure: failed program was:
#line 1652 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char inflate ();
int
main ()
{
inflate ();
  ;
  return 0;
}
configure:1711: gcc -o conftest.exe -g -O2       conftest.c -lz  -lm >&5
C:\xtra\R\compile\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bi
n\ld.exe: cannot find -lz
configure:1714: $? = 1
configure: failed program was:
#line 1692 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char inflate ();
int
main ()
{
inflate ();
  ;
  return 0;
}
configure:1733: result: no
configure:1742: checking for library containing H5open
configure:1769: gcc -o conftest.exe -g -O2       conftest.c -lm >&5
C:\Temp\ccoPaaaa.o: In function `main':
//C/XTRA/R/compile/libsrc/hdf5/configure:1762: undefined reference to
`H5open'
configure:1772: $? = 1
configure: failed program was:
#line 1750 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char H5open ();
int
main ()
{
H5open ();
  ;
  return 0;
}
configure:1809: gcc -o conftest.exe -g -O2       conftest.c -lhdf5  -lm >&5
C:\xtra\R\compile\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bi
n\ld.exe: cannot find -lhdf5
configure:1812: $? = 1
configure: failed program was:
#line 1790 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char H5open ();
int
main ()
{
H5open ();
  ;
  return 0;
}
configure:1831: result: no
configure:1841: error: Can't find zlib

## ----------------- ##
## Cache variables.  ##
## ----------------- ##

ac_cv_prog_cc_g='yes'
ac_cv_env_LDFLAGS_set=''
ac_cv_c_compiler_gnu='yes'
ac_cv_exeext='.exe'
ac_cv_env_CFLAGS_set=''
ac_cv_search_H5open='no'
ac_cv_env_CPPFLAGS_set=''
ac_cv_env_host_alias_set=''
ac_cv_env_build_alias_set=''
ac_cv_env_LDFLAGS_value=''
ac_cv_env_target_alias_set=''
ac_cv_env_CFLAGS_value=''
ac_cv_env_CC_set=''
ac_cv_env_CPPFLAGS_value=''
ac_cv_env_host_alias_value=''
ac_cv_search_inflate='no'
ac_cv_env_build_alias_value=''
ac_cv_prog_ac_ct_CC='gcc'
ac_cv_env_target_alias_value=''
ac_cv_env_CC_value=''
ac_cv_objext='o'


configure: exit 1
=======================================================




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  1 12:51:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2002 12:51:36 +0100
Subject: [R] Power of t-test in R vs. S-PLUS
In-Reply-To: <Pine.GSO.4.44.0203011011510.21717-100000@auk.stats>
References: <Pine.GSO.4.44.0203011011510.21717-100000@auk.stats>
Message-ID: <x2sn7ksdyv.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:


> BTW, the t-test that power.t.test computes the power of is not the default
> t-test in R, as I understand the code.  (?power.t.test is silent on which
> two-sample t-test but the calculations look right for the one that uses the
> pooled variance.  Not that it necessarily matters.)

Exactly. For equal sample sizes the equal and non-equal variance
t-tests are essentially the same unless the variance difference is
huge (the t statistic is identical in that case, although the degrees
of freedom can be different). The important cases for deciding between
the Welch test and the equal-variance one are when you're comparing a
small group with a large variance to a large group with a small
variance. 

The Welch test relies on an asymptotic expansion, and I wouldn't know
how it behaves in very small sample cases, so it did seem best to
stick with the plain "classical theory" t-test where all the
distributions can be worked out exactly.

The help page does seem to be improvable (said the author...)

> 
> This is only evident because n1 and n2 are so small: at those sample sizes
> you are relying critically on normality of the samples, and for
> power.t.test on equal variances.  For n1 = n2 = 25, the difference is much
> smaller (0.193 vs 0.200).

Yes. This is mostly to do with the degrees of freedom issue though.
Neither of the procedures are any good at correcting for
non-normality. The central limit theorem does that to some extent, and
for equal sample sizes skewness tends to cancel out (in the two sample
case, of course).

Anyways, in my line of business it is quite common for people to
design studies with single-digit numbers per group, and the
traditional normal approximations can be 10-20% off target on the
sample sizes relative to the exact power calculation using the
noncentral t, so I though it would be a good thing to include that
correction, even though multiple other factors could bias the
calculations.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 13:17:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 12:17:40 +0000 (GMT Standard Time)
Subject: [R] Building hdf5 on Windows
In-Reply-To: <MABBLJDICACNFOLGIHJOMELCCJAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.WNT.4.44.0203011158050.732-201000@tern.stats>

On Fri, 1 Mar 2002, Philippe Grosjean wrote:

> Hi all,
>
> I try to use the hdf5 package. I downloaded the Windows binary version, and
> it claims it requires hdf5dll.dll library, so I download the whole hdf5
> 1.4.3 package from NCSA. Unfortunatelly, it crashes R. I suspect it is
> because the package was probably compiled against version 1.2 of hdf5 (as
> evoked in the help file?) or any other previous version, so I downloaded the

It was compiled against the then current version of hdf5, 1.4.2p1, and it
ran on my machine.

> source of the package and tried to recompile it,... but I can't get trough
> the configure phase. I put the path of hdf5 lib in configure.in (tried both
> /xtra/hdf5 and /xtra/hdf5/lib), but sh configure always end up with "can't
> find zlig", which is provided however with hdf5). What do I do wrong? Can
> someone help me?

You can't use configure on Windows, and you can't use the HDF5 dlls
directly with mingw. You need to configure manually. I'll append the
Makefile.win and the .def file you need to make an import library.
You don't need zlib.dll as libz.a is built as part of building R.

Almost all package maintainers using configure ignore the request in
Writing R Extensions to supply information on manual configuration, which
is a considerable imposition on others.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makevars.win
Type: application/octet-stream
Size: 99 bytes
Desc: 
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020301/84263f73/Makevars.obj
-------------- next part --------------
LIBRARY hdf5dll
EXPORTS
H5AC_SNODE DATA
H5AC_create
H5AC_debug
H5AC_dest
H5AC_find_f
H5AC_flush
H5AC_protect
H5AC_rename
H5AC_set
H5AC_unprotect
H5A_close
H5A_copy
H5A_entof
H5A_term_interface
H5Aclose
H5Acreate
H5Adelete
H5Aget_name
H5Aget_num_attrs
H5Aget_space
H5Aget_type
H5Aiterate
H5Aopen_idx
H5Aopen_name
H5Aread
H5Awrite
H5B_SNODE DATA
H5B_create
H5B_debug
H5B_find
H5B_insert
H5B_iterate
H5B_remove
H5D_close
H5D_create
H5D_create_dflt DATA
H5D_entof
H5D_extend
H5D_get_file
H5D_get_space
H5D_get_storage_size
H5D_init
H5D_isa
H5D_open
H5D_open_oid
H5D_read
H5D_term_interface
H5D_typeof
H5D_vlen_get_buf_size
H5D_vlen_get_buf_size_alloc
H5D_write
H5D_xfer_dflt DATA
H5Dclose
H5Dcreate
H5Ddebug
H5Dextend
H5Dget_create_plist
H5Dget_space
H5Dget_storage_size
H5Dget_type
H5Diterate
H5Dopen
H5Dread
H5Dvlen_get_buf_size
H5Dvlen_reclaim
H5Dwrite
H5E_auto_data_g DATA
H5E_auto_g DATA
H5E_clear
H5E_clearable_g DATA
H5E_push
H5E_walk
H5Eclear
H5Eget_auto
H5Eget_major
H5Eget_minor
H5Eprint
H5Epush
H5Eset_auto
H5Ewalk
H5Ewalk_cb
H5FD_alloc
H5FD_close
H5FD_cmp
H5FD_core_init
H5FD_dxpl_copy
H5FD_dxpl_free
H5FD_family_init
H5FD_fapl_copy
H5FD_fapl_free
H5FD_fapl_get
H5FD_flush
H5FD_free
H5FD_get_class
H5FD_get_eoa
H5FD_get_eof
H5FD_log_init
H5FD_multi_init
H5FD_open
H5FD_query
H5FD_read
H5FD_realloc
H5FD_sb_decode
H5FD_sb_encode
H5FD_sb_size
H5FD_sec2_init
H5FD_set_eoa
H5FD_stdio_init
H5FD_term_interface
H5FD_write
H5FDalloc
H5FDclose
H5FDcmp
H5FDflush
H5FDfree
H5FDget_eoa
H5FDget_eof
H5FDopen
H5FDquery
H5FDread
H5FDrealloc
H5FDregister
H5FDset_eoa
H5FDunregister
H5FDwrite
H5FL_arr_alloc
H5FL_arr_free
H5FL_arr_realloc
H5FL_blk_alloc
H5FL_blk_free
H5FL_blk_realloc
H5FL_garbage_coll
H5FL_reg_alloc
H5FL_reg_free
H5FL_set_free_list_limits
H5FL_term_interface
H5F_access_dflt DATA
H5F_addr_decode
H5F_addr_encode
H5F_addr_pack
H5F_arr_create
H5F_arr_read
H5F_arr_write
H5F_block_read
H5F_block_write
H5F_close
H5F_close_all
H5F_contig_read
H5F_contig_write
H5F_create_dflt DATA
H5F_debug
H5F_encode_length_unusual
H5F_flush_all
H5F_get_driver_id
H5F_get_intent
H5F_init
H5F_istore_allocate
H5F_istore_allocated
H5F_istore_chunk_alloc
H5F_istore_chunk_free
H5F_istore_chunk_realloc
H5F_istore_create
H5F_istore_debug
H5F_istore_dest
H5F_istore_dump_btree
H5F_istore_flush
H5F_istore_init
H5F_istore_read
H5F_istore_stats
H5F_istore_write
H5F_mount_dflt DATA
H5F_mountpoint
H5F_open
H5F_seq_read
H5F_seq_write
H5F_sizeof_addr
H5F_sizeof_size
H5F_term_interface
H5Fclose
H5Fcreate
H5Fflush
H5Fget_access_plist
H5Fget_create_plist
H5Fis_hdf5
H5Fmount
H5Fopen
H5Freopen
H5Funmount
H5G_close
H5G_create
H5G_ent_cache
H5G_ent_debug
H5G_ent_decode
H5G_ent_decode_vec
H5G_ent_encode
H5G_ent_encode_vec
H5G_ent_modified
H5G_entof
H5G_fileof
H5G_find
H5G_get_comment
H5G_get_objinfo
H5G_get_type
H5G_insert
H5G_insertion_file
H5G_isa
H5G_link
H5G_linkval
H5G_loc
H5G_mkroot
H5G_move
H5G_node_debug
H5G_open
H5G_open_oid
H5G_register_type
H5G_reopen
H5G_rootof
H5G_set_comment
H5G_stab_create
H5G_stab_find
H5G_stab_insert
H5G_stab_remove
H5G_term_interface
H5G_traverse_slink
H5G_unlink
H5Gclose
H5Gcreate
H5Gget_comment
H5Gget_linkval
H5Gget_objinfo
H5Giterate
H5Glink
H5Gmove
H5Gopen
H5Gset_comment
H5Gunlink
H5HG_create
H5HG_debug
H5HG_insert
H5HG_link
H5HG_peek
H5HG_read
H5HG_remove
H5HL_create
H5HL_debug
H5HL_insert
H5HL_peek
H5HL_read
H5HL_remove
H5HL_write
H5I_clear_group
H5I_dec_ref
H5I_destroy_group
H5I_get_type
H5I_inc_ref
H5I_init_group
H5I_nmembers
H5I_object
H5I_register
H5I_remove
H5I_search
H5I_term_interface
H5Iget_type
H5MF_alloc
H5MF_realloc
H5MF_xfree
H5MM_realloc
H5MM_strdup
H5MM_xfree
H5MM_xstrdup
H5O_ATTR DATA
H5O_CONT DATA
H5O_DTYPE DATA
H5O_EFL DATA
H5O_FILL DATA
H5O_LAYOUT DATA
H5O_MTIME DATA
H5O_NAME DATA
H5O_NULL DATA
H5O_PLINE DATA
H5O_SDSPACE DATA
H5O_SHARED DATA
H5O_STAB DATA
H5O_close
H5O_copy
H5O_count
H5O_create
H5O_debug
H5O_efl_read
H5O_efl_total_size
H5O_efl_write
H5O_exists
H5O_fill_convert
H5O_free
H5O_link
H5O_modify
H5O_open
H5O_read
H5O_remove
H5O_reset
H5O_share
H5O_stab_fast
H5O_touch
H5P_DATASET_CREATE_g DATA
H5P_DATASET_XFER_g DATA
H5P_FILE_ACCESS_g DATA
H5P_FILE_CREATE_g DATA
H5P_MOUNT_g DATA
H5P_NO_CLASS_g DATA
H5P_close
H5P_copy
H5P_create
H5P_get_class
H5P_get_driver
H5P_init
H5P_term_interface
H5Pclose
H5Pclose_class
H5Pclose_list
H5Pcopy
H5Pcreate
H5Pcreate_class
H5Pcreate_list
H5Pequal
H5Pexist
H5Pget
H5Pget_alignment
H5Pget_btree_ratios
H5Pget_buffer
H5Pget_cache
H5Pget_chunk
H5Pget_class
H5Pget_class_name
H5Pget_class_new
H5Pget_class_parent
H5Pget_driver
H5Pget_driver_info
H5Pget_dxpl_multi
H5Pget_external
H5Pget_external_count
H5Pget_fapl_core
H5Pget_fapl_family
H5Pget_fapl_multi
H5Pget_fill_value
H5Pget_filter
H5Pget_gc_references
H5Pget_hyper_cache
H5Pget_istore_k
H5Pget_layout
H5Pget_meta_block_size
H5Pget_nfilters
H5Pget_nprops
H5Pget_preserve
H5Pget_sieve_buf_size
H5Pget_size
H5Pget_sizes
H5Pget_sym_k
H5Pget_userblock
H5Pget_version
H5Pget_vlen_mem_manager
H5Pinsert
H5Piterate
H5Pregister
H5Premove
H5Pset
H5Pset_alignment
H5Pset_btree_ratios
H5Pset_buffer
H5Pset_cache
H5Pset_chunk
H5Pset_deflate
H5Pset_driver
H5Pset_dxpl_multi
H5Pset_external
H5Pset_fapl_core
H5Pset_fapl_family
H5Pset_fapl_log
H5Pset_fapl_multi
H5Pset_fapl_sec2
H5Pset_fapl_split
H5Pset_fapl_stdio
H5Pset_fill_value
H5Pset_filter
H5Pset_gc_references
H5Pset_hyper_cache
H5Pset_istore_k
H5Pset_layout
H5Pset_meta_block_size
H5Pset_preserve
H5Pset_sieve_buf_size
H5Pset_sizes
H5Pset_sym_k
H5Pset_userblock
H5Pset_vlen_mem_manager
H5Punregister
H5R_term_interface
H5Rcreate
H5Rdereference
H5Rget_object_type
H5Rget_region
H5S_ALL_FCONV DATA
H5S_ALL_MCONV DATA
H5S_HYPER_FCONV DATA
H5S_HYPER_MCONV DATA
H5S_POINT_FCONV DATA
H5S_POINT_MCONV DATA
H5S_all_bounds
H5S_all_npoints
H5S_all_read
H5S_all_release
H5S_all_select_deserialize
H5S_all_select_iterate
H5S_all_select_serialize
H5S_all_write
H5S_close
H5S_cmp
H5S_copy
H5S_create
H5S_debug
H5S_extend
H5S_extent_copy
H5S_extent_release
H5S_find
H5S_get_npoints_max
H5S_get_select_npoints
H5S_get_simple_extent_dims
H5S_get_simple_extent_ndims
H5S_get_simple_extent_npoints
H5S_get_simple_extent_type
H5S_hyper_bound_comp
H5S_hyper_bounds
H5S_hyper_clip
H5S_hyper_compare_bounds
H5S_hyper_compare_regions
H5S_hyper_copy
H5S_hyper_node_add
H5S_hyper_npoints
H5S_hyper_release
H5S_hyper_sel_iter_release
H5S_hyper_select_contiguous
H5S_hyper_select_deserialize
H5S_hyper_select_iterate
H5S_hyper_select_serial_size
H5S_hyper_select_serialize
H5S_hyper_select_valid
H5S_is_simple
H5S_modify
H5S_none_select_deserialize
H5S_none_select_iterate
H5S_none_select_serialize
H5S_point_add
H5S_point_bounds
H5S_point_copy
H5S_point_npoints
H5S_point_release
H5S_point_select_contiguous
H5S_point_select_deserialize
H5S_point_select_iterate
H5S_point_select_serial_size
H5S_point_select_serialize
H5S_point_select_valid
H5S_read
H5S_register
H5S_release_simple
H5S_sel_iter_release
H5S_select_contiguous
H5S_select_copy
H5S_select_deserialize
H5S_select_hyperslab
H5S_select_iterate
H5S_select_release
H5S_select_serial_size
H5S_select_serialize
H5S_select_valid
H5S_set_extent_simple
H5S_term_interface
H5Sclose
H5Scopy
H5Screate
H5Screate_simple
H5Sextent_copy
H5Sget_select_bounds
H5Sget_select_elem_npoints
H5Sget_select_elem_pointlist
H5Sget_select_hyper_blocklist
H5Sget_select_hyper_nblocks
H5Sget_select_npoints
H5Sget_simple_extent_dims
H5Sget_simple_extent_ndims
H5Sget_simple_extent_npoints
H5Sget_simple_extent_type
H5Sis_simple
H5Soffset_simple
H5Sselect_all
H5Sselect_elements
H5Sselect_hyperslab
H5Sselect_none
H5Sselect_valid
H5Sset_extent_none
H5Sset_extent_simple
H5TB_count
H5TB_dfind
H5TB_dfree
H5TB_dins
H5TB_dless
H5TB_dmake
H5TB_find
H5TB_first
H5TB_free
H5TB_index
H5TB_ins
H5TB_last
H5TB_less
H5TB_next
H5TB_prev
H5TB_rem
H5TN_init_interface
H5TN_term_interface
H5T_C_S1_g DATA
H5T_FORTRAN_S1_g DATA
H5T_IEEE_F32BE_g DATA
H5T_IEEE_F32LE_g DATA
H5T_IEEE_F64BE_g DATA
H5T_IEEE_F64LE_g DATA
H5T_NATIVE_B16_g DATA
H5T_NATIVE_B32_g DATA
H5T_NATIVE_B64_g DATA
H5T_NATIVE_B8_g DATA
H5T_NATIVE_DOUBLE_ALIGN_g DATA
H5T_NATIVE_DOUBLE_g DATA
H5T_NATIVE_FLOAT_ALIGN_g DATA
H5T_NATIVE_FLOAT_g DATA
H5T_NATIVE_HADDR_g DATA
H5T_NATIVE_HBOOL_g DATA
H5T_NATIVE_HERR_g DATA
H5T_NATIVE_HSIZE_g DATA
H5T_NATIVE_HSSIZE_g DATA
H5T_NATIVE_INT16_ALIGN_g DATA
H5T_NATIVE_INT16_g DATA
H5T_NATIVE_INT32_ALIGN_g DATA
H5T_NATIVE_INT32_g DATA
H5T_NATIVE_INT64_ALIGN_g DATA
H5T_NATIVE_INT64_g DATA
H5T_NATIVE_INT8_ALIGN_g DATA
H5T_NATIVE_INT8_g DATA
H5T_NATIVE_INT_ALIGN_g DATA
H5T_NATIVE_INT_FAST16_ALIGN_g DATA
H5T_NATIVE_INT_FAST16_g DATA
H5T_NATIVE_INT_FAST32_ALIGN_g DATA
H5T_NATIVE_INT_FAST32_g DATA
H5T_NATIVE_INT_FAST64_ALIGN_g DATA
H5T_NATIVE_INT_FAST64_g DATA
H5T_NATIVE_INT_FAST8_ALIGN_g DATA
H5T_NATIVE_INT_FAST8_g DATA
H5T_NATIVE_INT_LEAST16_ALIGN_g DATA
H5T_NATIVE_INT_LEAST16_g DATA
H5T_NATIVE_INT_LEAST32_ALIGN_g DATA
H5T_NATIVE_INT_LEAST32_g DATA
H5T_NATIVE_INT_LEAST64_ALIGN_g DATA
H5T_NATIVE_INT_LEAST64_g DATA
H5T_NATIVE_INT_LEAST8_ALIGN_g DATA
H5T_NATIVE_INT_LEAST8_g DATA
H5T_NATIVE_INT_g DATA
H5T_NATIVE_LDOUBLE_ALIGN_g DATA
H5T_NATIVE_LDOUBLE_g DATA
H5T_NATIVE_LLONG_ALIGN_g DATA
H5T_NATIVE_LLONG_g DATA
H5T_NATIVE_LONG_ALIGN_g DATA
H5T_NATIVE_LONG_g DATA
H5T_NATIVE_OPAQUE_g DATA
H5T_NATIVE_SCHAR_ALIGN_g DATA
H5T_NATIVE_SCHAR_g DATA
H5T_NATIVE_SHORT_ALIGN_g DATA
H5T_NATIVE_SHORT_g DATA
H5T_NATIVE_UCHAR_ALIGN_g DATA
H5T_NATIVE_UCHAR_g DATA
H5T_NATIVE_UINT16_ALIGN_g DATA
H5T_NATIVE_UINT16_g DATA
H5T_NATIVE_UINT32_ALIGN_g DATA
H5T_NATIVE_UINT32_g DATA
H5T_NATIVE_UINT64_ALIGN_g DATA
H5T_NATIVE_UINT64_g DATA
H5T_NATIVE_UINT8_ALIGN_g DATA
H5T_NATIVE_UINT8_g DATA
H5T_NATIVE_UINT_ALIGN_g DATA
H5T_NATIVE_UINT_FAST16_ALIGN_g DATA
H5T_NATIVE_UINT_FAST16_g DATA
H5T_NATIVE_UINT_FAST32_ALIGN_g DATA
H5T_NATIVE_UINT_FAST32_g DATA
H5T_NATIVE_UINT_FAST64_ALIGN_g DATA
H5T_NATIVE_UINT_FAST64_g DATA
H5T_NATIVE_UINT_FAST8_ALIGN_g DATA
H5T_NATIVE_UINT_FAST8_g DATA
H5T_NATIVE_UINT_LEAST16_ALIGN_g DATA
H5T_NATIVE_UINT_LEAST16_g DATA
H5T_NATIVE_UINT_LEAST32_ALIGN_g DATA
H5T_NATIVE_UINT_LEAST32_g DATA
H5T_NATIVE_UINT_LEAST64_ALIGN_g DATA
H5T_NATIVE_UINT_LEAST64_g DATA
H5T_NATIVE_UINT_LEAST8_ALIGN_g DATA
H5T_NATIVE_UINT_LEAST8_g DATA
H5T_NATIVE_UINT_g DATA
H5T_NATIVE_ULLONG_ALIGN_g DATA
H5T_NATIVE_ULLONG_g DATA
H5T_NATIVE_ULONG_ALIGN_g DATA
H5T_NATIVE_ULONG_g DATA
H5T_NATIVE_USHORT_ALIGN_g DATA
H5T_NATIVE_USHORT_g DATA
H5T_STD_B16BE_g DATA
H5T_STD_B16LE_g DATA
H5T_STD_B32BE_g DATA
H5T_STD_B32LE_g DATA
H5T_STD_B64BE_g DATA
H5T_STD_B64LE_g DATA
H5T_STD_B8BE_g DATA
H5T_STD_B8LE_g DATA
H5T_STD_I16BE_g DATA
H5T_STD_I16LE_g DATA
H5T_STD_I32BE_g DATA
H5T_STD_I32LE_g DATA
H5T_STD_I64BE_g DATA
H5T_STD_I64LE_g DATA
H5T_STD_I8BE_g DATA
H5T_STD_I8LE_g DATA
H5T_STD_REF_DSETREG_g DATA
H5T_STD_REF_OBJ_g DATA
H5T_STD_U16BE_g DATA
H5T_STD_U16LE_g DATA
H5T_STD_U32BE_g DATA
H5T_STD_U32LE_g DATA
H5T_STD_U64BE_g DATA
H5T_STD_U64LE_g DATA
H5T_STD_U8BE_g DATA
H5T_STD_U8LE_g DATA
H5T_UNIX_D32BE_g DATA
H5T_UNIX_D32LE_g DATA
H5T_UNIX_D64BE_g DATA
H5T_UNIX_D64LE_g DATA
H5T_array_create
H5T_bit_copy
H5T_bit_find
H5T_bit_get_d
H5T_bit_inc
H5T_bit_set
H5T_bit_set_d
H5T_close
H5T_cmp
H5T_commit
H5T_conv_array
H5T_conv_b_b
H5T_conv_double_float
H5T_conv_enum
H5T_conv_f_f
H5T_conv_float_double
H5T_conv_i32le_f64le
H5T_conv_i_i
H5T_conv_int_llong
H5T_conv_int_long
H5T_conv_int_schar
H5T_conv_int_short
H5T_conv_int_uchar
H5T_conv_int_uint
H5T_conv_int_ullong
H5T_conv_int_ulong
H5T_conv_int_ushort
H5T_conv_llong_int
H5T_conv_llong_long
H5T_conv_llong_schar
H5T_conv_llong_short
H5T_conv_llong_uchar
H5T_conv_llong_uint
H5T_conv_llong_ullong
H5T_conv_llong_ulong
H5T_conv_llong_ushort
H5T_conv_long_int
H5T_conv_long_llong
H5T_conv_long_schar
H5T_conv_long_short
H5T_conv_long_uchar
H5T_conv_long_uint
H5T_conv_long_ullong
H5T_conv_long_ulong
H5T_conv_long_ushort
H5T_conv_noop
H5T_conv_order
H5T_conv_s_s
H5T_conv_schar_int
H5T_conv_schar_llong
H5T_conv_schar_long
H5T_conv_schar_short
H5T_conv_schar_uchar
H5T_conv_schar_uint
H5T_conv_schar_ullong
H5T_conv_schar_ulong
H5T_conv_schar_ushort
H5T_conv_short_int
H5T_conv_short_llong
H5T_conv_short_long
H5T_conv_short_schar
H5T_conv_short_uchar
H5T_conv_short_uint
H5T_conv_short_ullong
H5T_conv_short_ulong
H5T_conv_short_ushort
H5T_conv_struct
H5T_conv_struct_opt
H5T_conv_uchar_int
H5T_conv_uchar_llong
H5T_conv_uchar_long
H5T_conv_uchar_schar
H5T_conv_uchar_short
H5T_conv_uchar_uint
H5T_conv_uchar_ullong
H5T_conv_uchar_ulong
H5T_conv_uchar_ushort
H5T_conv_uint_int
H5T_conv_uint_llong
H5T_conv_uint_long
H5T_conv_uint_schar
H5T_conv_uint_short
H5T_conv_uint_uchar
H5T_conv_uint_ullong
H5T_conv_uint_ulong
H5T_conv_uint_ushort
H5T_conv_ullong_int
H5T_conv_ullong_llong
H5T_conv_ullong_long
H5T_conv_ullong_schar
H5T_conv_ullong_short
H5T_conv_ullong_uchar
H5T_conv_ullong_uint
H5T_conv_ullong_ulong
H5T_conv_ullong_ushort
H5T_conv_ulong_int
H5T_conv_ulong_llong
H5T_conv_ulong_long
H5T_conv_ulong_schar
H5T_conv_ulong_short
H5T_conv_ulong_uchar
H5T_conv_ulong_uint
H5T_conv_ulong_ullong
H5T_conv_ulong_ushort
H5T_conv_ushort_int
H5T_conv_ushort_llong
H5T_conv_ushort_long
H5T_conv_ushort_schar
H5T_conv_ushort_short
H5T_conv_ushort_uchar
H5T_conv_ushort_uint
H5T_conv_ushort_ullong
H5T_conv_ushort_ulong
H5T_conv_vlen
H5T_convert
H5T_copy
H5T_create
H5T_debug
H5T_detect_class
H5T_entof
H5T_enum_insert
H5T_enum_nameof
H5T_enum_valueof
H5T_get_class
H5T_get_ref_type
H5T_get_size
H5T_init
H5T_insert
H5T_is_atomic
H5T_isa
H5T_lock
H5T_open
H5T_open_oid
H5T_overflow_g DATA
H5T_pack
H5T_path_find
H5T_set_offset
H5T_set_precision
H5T_set_size
H5T_sort_name
H5T_sort_value
H5T_term_interface
H5T_unregister
H5T_vlen_disk_getlen
H5T_vlen_disk_read
H5T_vlen_disk_write
H5T_vlen_mark
H5T_vlen_reclaim
H5T_vlen_seq_mem_getlen
H5T_vlen_seq_mem_read
H5T_vlen_seq_mem_write
H5T_vlen_str_mem_getlen
H5T_vlen_str_mem_read
H5T_vlen_str_mem_write
H5Tarray_create
H5Tclose
H5Tcommit
H5Tcommitted
H5Tconvert
H5Tcopy
H5Tcreate
H5Tdetect_class
H5Tenum_create
H5Tenum_insert
H5Tenum_nameof
H5Tenum_valueof
H5Tequal
H5Tfind
H5Tget_array_dims
H5Tget_array_ndims
H5Tget_class
H5Tget_cset
H5Tget_ebias
H5Tget_fields
H5Tget_inpad
H5Tget_member_class
H5Tget_member_name
H5Tget_member_offset
H5Tget_member_type
H5Tget_member_value
H5Tget_nmembers
H5Tget_norm
H5Tget_offset
H5Tget_order
H5Tget_overflow
H5Tget_pad
H5Tget_precision
H5Tget_sign
H5Tget_size
H5Tget_strpad
H5Tget_super
H5Tget_tag
H5Tinsert
H5Tlock
H5Topen
H5Tpack
H5Tregister
H5Tset_cset
H5Tset_ebias
H5Tset_fields
H5Tset_inpad
H5Tset_norm
H5Tset_offset
H5Tset_order
H5Tset_overflow
H5Tset_pad
H5Tset_precision
H5Tset_sign
H5Tset_size
H5Tset_strpad
H5Tset_tag
H5Tunregister
H5Tvlen_create
H5V_array_fill
H5V_array_offset
H5V_hyper_copy
H5V_hyper_disjointp
H5V_hyper_eq
H5V_hyper_fill
H5V_hyper_stride
H5V_stride_copy
H5V_stride_copy2
H5V_stride_fill
H5V_stride_optimize1
H5V_stride_optimize2
H5Z_append
H5Z_find
H5Z_pipeline
H5Z_register
H5Z_term_interface
H5Zregister
H5_bandwidth
H5_init_library
H5_term_library
H5_timer_begin
H5_timer_end
H5_timer_reset
H5_trace
H5check_version
H5close
H5dont_atexit
H5garbage_collect
H5get_libversion
H5open
H5set_free_list_limits
HDfprintf
HDsnprintf
HDstrtoll
HDvsnprintf

From maeder at atmos.umnw.ethz.ch  Fri Mar  1 13:42:53 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Fri, 01 Mar 2002 13:42:53 +0100
Subject: [R] Split plot in colors/pch??
References: <20020301112824.A29869@ling.umu.se>
Message-ID: <3C7F774D.230A8E29@atmos.umnw.ethz.ch>

Hi Fredrik,

here is a very small example that should show the way to do it

d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,g=c(1,2,1,2,3,1,2,3))#g
defines the group (color)
co <- c('red','green','blue')
plot(d$x,d$y,col=co[d$g])

same way for pch

gruess

joerg


Fredrik Karlsson wrote:
> 
> Hi all
> 
> This seems like a very easy question, but I have not found a simple
> answer to it:
> 
> If you have a dataframe, how to you plot two of then in different colors
> depending on a third variable?
> 
> All help appreciated!
> 
> /Fredrik
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Mar  1 13:57:59 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 1 Mar 2002 13:57:59 +0100
Subject: [R] Split plot in colors/pch??
In-Reply-To: <3C7F774D.230A8E29@atmos.umnw.ethz.ch>
References: <20020301112824.A29869@ling.umu.se> <3C7F774D.230A8E29@atmos.umnw.ethz.ch>
Message-ID: <20020301135759.A30921@ling.umu.se>

Thank you Joerg, but that was not quite what I wanted.
What I was asking was how to plot d$x ~ d$y split into separate colours
depenging on a third variable (such as for instance
d$gender=c(F,F,M,M,F,F,M,M)).

So, I want to plot x~y where gender==F in one colour and gender==M in
another.

Hope that califies my question.

/Fredrik

On Fri, Mar 01, 2002 at 01:42:53PM +0100, Joerg Maeder wrote:
> Hi Fredrik,
> 
> here is a very small example that should show the way to do it
> 
> d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,g=c(1,2,1,2,3,1,2,3))#g
> defines the group (color)
> co <- c('red','green','blue')
> plot(d$x,d$y,col=co[d$g])
> 
> same way for pch
> 
> gruess
> 
> joerg
> 
> 
> Fredrik Karlsson wrote:
> > 
> > Hi all
> > 
> > This seems like a very easy question, but I have not found a simple
> > answer to it:
> > 
> > If you have a dataframe, how to you plot two of then in different colors
> > depending on a third variable?
> > 
> > All help appreciated!
> > 
> > /Fredrik
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
> Tel: +41 1 633 36 25   .:|:||:..:.||.::   
> http://www.iac.ethz.ch/staff/maeder
> PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
> ETH Z?RICH Switzerland
> 

-- 
-----------------------------------------------------------------
Fredrik Karlsson, Research Student

Department of Philosophy and Linguistics
Ume? University
S-901 87 UME?
SWEDEN
Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  1 14:17:59 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2002 14:17:59 +0100
Subject: [R] Split plot in colors/pch??
In-Reply-To: <20020301135759.A30921@ling.umu.se>
References: <20020301112824.A29869@ling.umu.se>
	<3C7F774D.230A8E29@atmos.umnw.ethz.ch>
	<20020301135759.A30921@ling.umu.se>
Message-ID: <x2ofi8s9yw.fsf@blueberry.kubism.ku.dk>

Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:

> Thank you Joerg, but that was not quite what I wanted.
> What I was asking was how to plot d$x ~ d$y split into separate colours
> depenging on a third variable (such as for instance
> d$gender=c(F,F,M,M,F,F,M,M)).
> 
> So, I want to plot x~y where gender==F in one colour and gender==M in
> another.
> 
> Hope that califies my question.

Not really. As far as I can tell, that is exactly what Joerg's code
does... 


> /Fredrik
> 
> On Fri, Mar 01, 2002 at 01:42:53PM +0100, Joerg Maeder wrote:
> > Hi Fredrik,
> > 
> > here is a very small example that should show the way to do it
> > 
> > d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,g=c(1,2,1,2,3,1,2,3))#g
> > defines the group (color)
> > co <- c('red','green','blue')
> > plot(d$x,d$y,col=co[d$g])
> > 
> > same way for pch
> > 
> > gruess
> > 
> > joerg
> > 
> > 
> > Fredrik Karlsson wrote:
> > > 
> > > Hi all
> > > 
> > > This seems like a very easy question, but I have not found a simple
> > > answer to it:
> > > 
> > > If you have a dataframe, how to you plot two of then in different colors
> > > depending on a third variable?
> > > 
> > > All help appreciated!
> > > 
> > > /Fredrik
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> > -- 
> > Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
> > Tel: +41 1 633 36 25   .:|:||:..:.||.::   
> > http://www.iac.ethz.ch/staff/maeder
> > PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
> > ETH Z?RICH Switzerland
> > 
> 
> -- 
> -----------------------------------------------------------------
> Fredrik Karlsson, Research Student
> 
> Department of Philosophy and Linguistics
> Ume? University
> S-901 87 UME?
> SWEDEN
> Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
> Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
> PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
> -----------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Mar  1 14:18:20 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 1 Mar 2002 13:18:20 +0000
Subject: [R] plot(table..) using pairs
In-Reply-To: <24A8B549739BD311AAF2009027D6373D198E73@SERVER>
References: <24A8B549739BD311AAF2009027D6373D198E73@SERVER>
Message-ID: <XrtdCNAc+3f8EwBa@myatt.demon.co.uk>

Phil,

Nice to see you here in R-Help ... You write:

>I'm trying to visualise relationships between a number of categorical
>variables with values 0 and 1. 
>
>Plot(table(x,y))
>
> ..works well for one relationship, so I want to use this to examine all
>relationships using pairs function. 
>
>pairs(data_array, upper.panel=panel.tab)
>
>where
>
>panel.tab <- function (x,y)
> {
> plot(tables(x,y))
> }
>
>..produces the error..
>
>Error in pairs.default(a, upper.panel = panel.tab) : 
>        The panel function made a new plot
>
>Can anyone help..?? Many thanks

Use par(new = TRUE) to stop the panel.tab() function making a new plot
from inside the pairs function:

        panel.tab <- function (x,y)
         {
         par(new = TRUE)
         plot(table(x,y))
         }

Have you seen the fourfoldplot() function ... it's for plotting four
fold (i.e. 2-by-2) tables:

        panel.tab <- function (x, y)
         {
         par(new = TRUE)
         fourfoldplot(table(x, y))
         }

Your lower panel looks a bit odd ... you might want to put some text in
there, for example:

  panel.chisq <- function(x, y)
    {
    par(new = TRUE)
    usr <- par("usr")
    on.exit(par(usr))
    par(usr = c(0, 1, 0, 1))
    x2 <- formatC(chisq.test(table(x, y))$p.value,
                  digits = 4, format = "f")
    text(0.5, 0.5, x2, cex = 0.75)
    print(x2)
    }

Display it all with:

  pairs(x, upper.panel = panel.tab, lower.panel = panel.chisq)

I hope that helps,

Mark


--
Mark Myatt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Mar  1 14:27:02 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 1 Mar 2002 14:27:02 +0100
Subject: [R] Split plot in colors/pch??
In-Reply-To: <20020301112824.A29869@ling.umu.se>
Message-ID: <3C7F8FB6.14618.17869AF@localhost>

If I understand it correctly you want to plot variable y against 
variable x but with plotting characters or colours coded by z 
values.

I usually use this construction

plot(daf$x,daf$y,type="n")

followed by 

points(daf$x, daf$y, pch=daf$z, col=daf$z)

if z has reasonable values }integer 1:7

or construction with for loop

for (i in 1:n) points(daf$x[selection according i],, daf$y[sel......], 
pch=i, col=i)

and sometimes matplot is quite convenient (see help pages).

Meanwhile for good graphic tricks I usually consult StatsRus

http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html

On 1 Mar 2002 at 11:28, Fredrik Karlsson wrote:

> Hi all
> 
> This seems like a very easy question, but I have not found a simple
> answer to it:
> 
> If you have a dataframe, how to you plot two of then in different
> colors depending on a third variable?
> 
> 
> All help appreciated!
> 
> /Fredrik
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Mar  1 15:15:44 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 01 Mar 2002 10:15:44 -0400
Subject: [R] R help search engine
References: <OFEC2B95E8.DED05290-ON86256B6E.0061AE17@mmm.com>
Message-ID: <3C7F8D10.F40E4F21@umsanet.edu.bo>

Hola!

I agree with all the nice words of the original poster. When teaching R
I am mentioning the help system, and in particular, help.search(), in
the first class. I say that nobody should expect to remember 1509
names (which is the number of objects in base , as reported by
 length(ls(pos=6)) on my system rigth now). So knowing to use the online 
documentation is integral to using R. But:

> help.search("kendal")
No help files found with alias or title matching `kendal'
> help.search("spearman")
No help files found with alias or title matching `spearman'

Happily I found what i searched by
?cor.test

before starting to program myself. 

So help.search() could be even better. I understand it is a time issue, 
also.

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Mar  1 15:43:52 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 1 Mar 2002 09:43:52 -0500 
Subject: [R] Split plot in colors/pch??
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE737@groexmbcr02.pfizer.com>

Actually Jeorg's answer works just fine for this case, with one small change

	# create the data frame (g is gender)
	d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,
                      g=c('M','F','M','F','F','M','F','F')) 

	# plot using specified colors
	co <- c('red','blue')
	plot(d$x,d$y,col=co[d$g])

	# plot using default colors
	plot(d$x,d$y,col=codes(d$g))

-Greg


> -----Original Message-----
> From: Fredrik Karlsson [mailto:fredrik.karlsson at ling.umu.se]
> Sent: Friday, March 01, 2002 7:58 AM
> To: 'R-help at lists.R-project.org'
> Subject: Re: [R] Split plot in colors/pch??
> 
> 
> Thank you Joerg, but that was not quite what I wanted.
> What I was asking was how to plot d$x ~ d$y split into 
> separate colours
> depenging on a third variable (such as for instance
> d$gender=c(F,F,M,M,F,F,M,M)).
> 
> So, I want to plot x~y where gender==F in one colour and gender==M in
> another.
> 
> Hope that califies my question.
> 
> /Fredrik
> 
> On Fri, Mar 01, 2002 at 01:42:53PM +0100, Joerg Maeder wrote:
> > Hi Fredrik,
> > 
> > here is a very small example that should show the way to do it
> > 
> > d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,g=c(1,2,1,2,3,1,2,3))#g
> > defines the group (color)
> > co <- c('red','green','blue')
> > plot(d$x,d$y,col=co[d$g])> > 
> > same way for pch
> > 
> > gruess
> > 
> > joerg
> > 
> > 
> > Fredrik Karlsson wrote:
> > > 
> > > Hi all
> > > 
> > > This seems like a very easy question, but I have not 
> found a simple
> > > answer to it:
> > > 
> > > If you have a dataframe, how to you plot two of then in 
> different colors
> > > depending on a third variable?
> > > 
> > > All help appreciated!
> > > 
> > > /Fredrik
> > > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> > 
> > -- 
> > Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
> > Tel: +41 1 633 36 25   .:|:||:..:.||.::   
> > http://www.iac.ethz.ch/staff/maeder
> > PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE 
> SCIENCE (IACETH)
> > ETH Z?RICH Switzerland
> > 
> 
> -- 
> -----------------------------------------------------------------
> Fredrik Karlsson, Research Student
> 
> Department of Philosophy and Linguistics
> Ume? University
> S-901 87 UME?
> SWEDEN
> Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
> Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
> PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
> -----------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwythers at umn.edu  Fri Mar  1 16:15:45 2002
From: kwythers at umn.edu (Kirk R. Wythers)
Date: 01 Mar 2002 09:15:45 -0600
Subject: [R] calculating std err (SEM)?
Message-ID: <1014995745.5470.12.camel@lorax.forestry.umn.edu>

Is there a "canned" function in R for finding the standard error of the
mean? I have tried 

>  sem <- function(x) c(mean =mean(x),
+  SEM = stdev(x)/sqrt(length(x)))
> sem(pnet.lai)
Error in sem(pnet.lai) : couldn't find function "stdev"


It looks like there is no stdev function in R

Thanks,

Kirk



Kirk R. Wythers				email: kwythers at umn.edu
University of Minnesota			tel: 612.625.2261
Department of Forest Resources		fax: 612.625.5212
Saint Paul, MN 55108
					

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Fri Mar  1 16:36:10 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Fri, 1 Mar 2002 09:36:10 -0600 
Subject: [R] Mauchly's test of spherisity
Message-ID: <938690ACF269D311928B0090279C2772E91EC9@cyclops.net.ttu.edu>

Does any one know of a package that will do Mauchly's test of spherisity?

I have search all the resources I know of and have found nothing.


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sebastien_plante at uqar.qc.ca  Fri Mar  1 16:42:53 2002
From: sebastien_plante at uqar.qc.ca (=?iso-8859-1?Q?S=E9bastien_Plante?=)
Date: Fri, 1 Mar 2002 10:42:53 -0500
Subject: [R] Type III Sum of Squares
Message-ID: <NOEELPCNGPEDPNIGICMCKEODCAAA.sebastien_plante@uqar.qc.ca>

Hi,

When doing a two-ways anova in R and comparing my same results with an SPSS
output, I noticed that R calculated type I Sum of Squares. Is it possible to
use Type III Sum of Squares?

Thanks,


S?bastien Plante

Institut des Sciences de la Mer de Rimouski (ISMER)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  1 16:44:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2002 16:44:58 +0100
Subject: [R] calculating std err (SEM)?
In-Reply-To: <1014995745.5470.12.camel@lorax.forestry.umn.edu>
References: <1014995745.5470.12.camel@lorax.forestry.umn.edu>
Message-ID: <x2k7sws35x.fsf@blueberry.kubism.ku.dk>

"Kirk R. Wythers" <kwythers at umn.edu> writes:

> Is there a "canned" function in R for finding the standard error of the
> mean? I have tried 
> 
> >  sem <- function(x) c(mean =mean(x),
> +  SEM = stdev(x)/sqrt(length(x)))
> > sem(pnet.lai)
> Error in sem(pnet.lai) : couldn't find function "stdev"
> 
> 
> It looks like there is no stdev function in R

It's sd() (as help.search("deviation") might have told you). Also,
beware of missing values:  sd(x,na.rm=TRUE)/sum(!is.na(x)) is the sure
kill. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwennlm at netcourrier.com  Fri Mar  1 16:48:09 2002
From: nolwennlm at netcourrier.com (nolwennlm@netcourrier.com)
Date: Fri, 1 Mar 2002 16:48:09 +0100 (CET)
Subject: [R] Excel Add-in
Message-ID: <mnet1.1014997689.24965.nolwennlm@netcourrier.com>

I'm trying to make a connexion beetween Excel and R. It works for simple requests but it seems that complexe functions won't work.
Does anybody knows how complexe can be the data set and function used?
Does it exist something else  than the Erich Neuwirth Add-in (which is already really interesting) ?

Thanks
Nolwenn

----------------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 E TTC/min - 2,21 F TTC/min)
Minitel: 3615 NETCOURRIER (0,15 E TTC/min - 1,00 F TTC/min)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 16:49:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 15:49:18 +0000 (GMT)
Subject: [R] Type III Sum of Squares
In-Reply-To: <NOEELPCNGPEDPNIGICMCKEODCAAA.sebastien_plante@uqar.qc.ca>
Message-ID: <Pine.GSO.4.44.0203011545250.22880-100000@auk.stats>

On Fri, 1 Mar 2002, [iso-8859-1] Sébastien Plante wrote:

> Hi,
>
> When doing a two-ways anova in R and comparing my same results with an SPSS
> output, I noticed that R calculated type I Sum of Squares. Is it possible to
> use Type III Sum of Squares?

Yes, but we don't tell you how to avoid leading you into a mire. See
http://www.stats.ox.ac.uk/pub/MASS3/Exegeses.pdf.

Most of the time drop1() does what people are using `Type III' for.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  1 16:48:18 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2002 16:48:18 +0100
Subject: [R] Type III Sum of Squares
In-Reply-To: <NOEELPCNGPEDPNIGICMCKEODCAAA.sebastien_plante@uqar.qc.ca>
References: <NOEELPCNGPEDPNIGICMCKEODCAAA.sebastien_plante@uqar.qc.ca>
Message-ID: <x2g03ks30d.fsf@blueberry.kubism.ku.dk>

S?bastien Plante <sebastien_plante at uqar.qc.ca> writes:

> Hi,
> 
> When doing a two-ways anova in R and comparing my same results with an SPSS
> output, I noticed that R calculated type I Sum of Squares. Is it possible to
> use Type III Sum of Squares?

drop1() is pretty close.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Mar  1 17:33:33 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 1 Mar 2002 13:33:33 -0300
Subject: [R] glm with binomial errors in R and GLIM
Message-ID: <200203011730.g21HTpF27052@mail.cpd.ufv.br>

Hi all,

In my continuous transition of GLIM to R I try to make a glm with binomial 
errors.

The data file have 3 vectors:
h -> the factor that is ajusted (have 3 levels)
d -> number of animais alive (the response)
n -> total number of animals

To test proportion of alive, make d/n.

In GLIM:

$yvar d$

$error binomial n$

$fit +h$

scale deviance = 25.730 (change = -9.138) at cycle 4
          d.f. = 15     (change = -2)

factor h is significant by chisq? with 2df fron tables = 5.99

$disp e$

   estimate  se       parameter
1  -0.1054   0.2055   1
2   0.7985   0.2961   h(2)
3   0.08827  0.26764  h(3)
Scale parameter taken as 1.000

In R:

> modelo.glex24.1 <- glm((d/n)~h,family=binomial)
Warning message: 
non-integer #successes in a binomial glm! in: eval(expr, envir, enclos) 
> summary(modelo.glex24.1)

Call:
glm(formula = (d/n) ~ h, family = binomial)

Deviance Residuals: 
     Min        1Q    Median        3Q       Max  
-0.66227  -0.09918  -0.06041   0.18103   0.64740  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)
(Intercept) -0.06119    0.81688  -0.075    0.940
h2h          0.57994    1.17433   0.494    0.621
h3h          0.07761    1.15499   0.067    0.946

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 2.0737  on 17  degrees of freedom
Residual deviance: 1.7843  on 15  degrees of freedom
AIC: 31.147

Number of Fisher Scoring iterations: 2

> anova.glm(modelo.glex24.1,test="Chisq")
Analysis of Deviance Table

Model: binomial, link: logit

Response: (d/n)

Terms added sequentially (first to last)


     Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                    17    2.07368          
h     2  0.28935        15    1.78433   0.86530
> 

The values calculate by GLIM and R is very different, in GLIM h is 
significant and in R no.

What is my error????

Another question is:

I make a barplot graphic with mean of (d/n) by h and I need to plot a SE bar. 
The SE used is the same value returned by summary or need to make 
transformations like means (1/(1+1/odds ratio))?

Thanks for all
Ronaldo
-- 
Newman's Discovery:
	Your best dreams may not come true; fortunately, neither will
	your worst dreams.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Fri Mar  1 17:49:57 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Fri, 1 Mar 2002 11:49:57 -0500 (EST)
Subject: [R] calculating std err (SEM)?
In-Reply-To: <1014995745.5470.12.camel@lorax.forestry.umn.edu>
Message-ID: <Pine.LNX.4.21L1.0203011149490.27371-100000@hm269-26876.socsci.unc.edu>

try sd(x)

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On 1 Mar 2002, Kirk R. Wythers wrote:

> Is there a "canned" function in R for finding the standard error of the
> mean? I have tried 
> 
> >  sem <- function(x) c(mean =mean(x),
> +  SEM = stdev(x)/sqrt(length(x)))
> > sem(pnet.lai)
> Error in sem(pnet.lai) : couldn't find function "stdev"
> 
> 
> It looks like there is no stdev function in R
> 
> Thanks,
> 
> Kirk
> 
> 
> 
> Kirk R. Wythers				email: kwythers at umn.edu
> University of Minnesota			tel: 612.625.2261
> Department of Forest Resources		fax: 612.625.5212
> Saint Paul, MN 55108
> 					
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.hampel at gmx.net  Fri Mar  1 18:10:07 2002
From: c.hampel at gmx.net (Christoph Hampel)
Date: Fri, 1 Mar 2002 18:10:07 +0100
Subject: [R] logistic regression / MASS / ms --> optim(method="L-BFGS-B") translation
Message-ID: <000501c1c143$f39e1e00$697bfea9@hampelm4rwk>

Hi folks!

I am a newbie using R and I have a problem as follows:

I'd like to use R for a logistic model. I found the MASS.3rd/p.269 using
the in S-PLUS implemented function "ms" that is not available in R. 
I've heard that instead of "ms" or the equal "nlminb" the
"optim(method="L-BFGS-B")" can be used. But it is not easy for me to
translate the term from

fit<-ms(~fmin(x,y,wt,beta),start=list(beta=start),trace=trace,...)

into

fit<-optim(....., method="L-BFGS-B",  ...   ....  ...... )

to get the model descibed in MASS running in R! 

Thanks to everyone who can help me.

Best, Chris

Christoph Hampel - c.hampel at gmx.net
Ingolstadt, School of Business, Germany


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loesljrg at accucom.net  Fri Mar  1 18:18:24 2002
From: loesljrg at accucom.net (JRG)
Date: Fri, 1 Mar 2002 12:18:24 -0500
Subject: [R] calculating std err (SEM)?
In-Reply-To: <x2k7sws35x.fsf@blueberry.kubism.ku.dk>
References: <1014995745.5470.12.camel@lorax.forestry.umn.edu>
Message-ID: <B0005115309@netserv1.accucom.net>

On 1 Mar 02, at 16:44, Peter Dalgaard BSA wrote:

> "Kirk R. Wythers" <kwythers at umn.edu> writes:
> 
> > Is there a "canned" function in R for finding the standard error of the
> > mean? I have tried 
> > 
> > >  sem <- function(x) c(mean =mean(x),
> > +  SEM = stdev(x)/sqrt(length(x)))
> > > sem(pnet.lai)
> > Error in sem(pnet.lai) : couldn't find function "stdev"
> > 
> > 
> > It looks like there is no stdev function in R
> 
> It's sd() (as help.search("deviation") might have told you). Also,
> beware of missing values:  sd(x,na.rm=TRUE)/sum(!is.na(x)) is the sure
> kill. 
> 

Would that perhaps be  sd(x,na.rm=TRUE)/sqrt(sum(!is.na(x))) ?

---JRG


John R. Gleason

Syracuse University
430 Huntington Hall                      Voice:   315-443-3107
Syracuse, NY 13244-2340  USA             FAX:     315-443-4085

PGP public key at keyservers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  1 18:17:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Mar 2002 17:17:16 +0000 (GMT)
Subject: [R] glm with binomial errors in R and GLIM
In-Reply-To: <200203011730.g21HTpF27052@mail.cpd.ufv.br>
Message-ID: <Pine.GSO.4.44.0203011712400.28177-100000@auk.stats>

On Fri, 1 Mar 2002, Ronaldo Reis Jr. wrote:

> In my continuous transition of GLIM to R I try to make a glm with binomial
> errors.
>
> The data file have 3 vectors:
> h -> the factor that is ajusted (have 3 levels)
> d -> number of animais alive (the response)
> n -> total number of animals
>
> To test proportion of alive, make d/n.
>
> In GLIM:
>
> $yvar d$
>
> $error binomial n$
>
> $fit +h$
>
> scale deviance = 25.730 (change = -9.138) at cycle 4
>           d.f. = 15     (change = -2)
>
> factor h is significant by chisq² with 2df fron tables = 5.99
>
> $disp e$
>
>    estimate  se       parameter
> 1  -0.1054   0.2055   1
> 2   0.7985   0.2961   h(2)
> 3   0.08827  0.26764  h(3)
> Scale parameter taken as 1.000
>
> In R:
>
> > modelo.glex24.1 <- glm((d/n)~h,family=binomial)
> Warning message:
> non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)

Please don't ignore warnings.

> > summary(modelo.glex24.1)
>
> Call:
> glm(formula = (d/n) ~ h, family = binomial)
>
> Deviance Residuals:
>      Min        1Q    Median        3Q       Max
> -0.66227  -0.09918  -0.06041   0.18103   0.64740
>
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept) -0.06119    0.81688  -0.075    0.940
> h2h          0.57994    1.17433   0.494    0.621
> h3h          0.07761    1.15499   0.067    0.946
>
> (Dispersion parameter for binomial family taken to be 1)
>
>     Null deviance: 2.0737  on 17  degrees of freedom
> Residual deviance: 1.7843  on 15  degrees of freedom
> AIC: 31.147
>
> Number of Fisher Scoring iterations: 2
>
> > anova.glm(modelo.glex24.1,test="Chisq")
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: (d/n)
>
> Terms added sequentially (first to last)
>
>
>      Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                    17    2.07368
> h     2  0.28935        15    1.78433   0.86530
> >
>
> The values calculate by GLIM and R is very different, in GLIM h is
> significant and in R no.
>
> What is my error????

You forgot the weights, the analogue of `binomial n'.  You want either

glm(cbind(d, n-d) ~ h, family = binomial)

or

glm(d/n ~ h, weights = n, family = binomial)


This is discussed in lots of places in the R literature, too many for me to
point you to them all, but Venables & Ripley springs to mind ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar  1 18:19:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 1 Mar 2002 09:19:49 -0800 (PST)
Subject: [R] Power of t-test in R vs. S-PLUS
In-Reply-To: <41256B6F.00375B84.00@ntserv01.tgl.metanomics.de>
Message-ID: <Pine.A41.4.44.0203010856250.248186-100000@homer05.u.washington.edu>

On Fri, 1 Mar 2002 joern.quedenau at metanomics.de wrote:

>
>
> Dear all,
>
> I found a discrepancy while performing a power calculation for a two sample
> t-test in R and S-PLUS, respectively.
> For given values of sample number (5 each), sd (0.2) , significance level
> (0.01), and a desired power (80%) I looked for the difference in means.
> These values differ: 0.5488882 in R and 0.4322771 in S-PLUS (see dump
> below).
>
> Did I overlook any detail or confuse some parameters?

The S-PLUS routine references Fisher & van Belle.  In that book the
authors use a unified approximate power calculation method that works for
a wide range of studies but is not very accurate for tiny sample sizes.
In most cases this doesn't matter because the assumptions going into a
study design aren't any more accurate, and in tiny sample sizes the power
is sensitive to the assumption that the data are Normally distributed.

The power.t.test formula uses the non-central t distribution and so will
give more accurate, lower power values for small samples.

You can see which one is correct by simulation (which is how I typically
do power calculations)

> table(sapply(1:10000,function(i)
t.test(rnorm(5,0,s=0.2),rnorm(5,.5488882,s=0.2),var.equal=TRUE)$p.value)<=0.01)

FALSE  TRUE
 2023  7977
> table(sapply(1:10000,function(i)
t.test(rnorm(5,0,s=0.2),rnorm(5,.4322771,s=0.2),var.equal=TRUE)$p.value)<=0.01)

FALSE  TRUE
 4526  5474

So at 0.548882 there is about 80% power, at 0.4322771 there is about 55%
power (with sampling uncertainties of about +/- 2% in each number).


It is interesting to note that a simulation shows the unequal-variance
t-test to have only 75% power at 0.5488882, indicating the sensitivity of
the power calculations at this sample size.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


>
> Thanks for your help,
> Joern Quedenau
>
> Here are the commands & outputs from both tools:
>
> R 1.4.0
> > power.t.test(n=5, sd=0.2, sig.level=0.01, power=0.8, type="two.sample",
> alternative="two.sided")
>
>      Two-sample t test power calculation
>
>               n = 5
>           delta = 0.5488882
>              sd = 0.2
>       sig.level = 0.01
>           power = 0.8
>     alternative = two.sided
>
>  NOTE: n is number in *each* group
>
> S-PLUS 2000 Professional Release 2:
> > normal.sample.size(n1=5, n2=5, mean=0, sd1=0.2, sd2=0.2, power=0.8,
> alpha=0.01, alternative="two.sided")
>   mean1 sd1     mean2 sd2     delta alpha power n1 n2 prop.n2
> 1     0 0.2 0.4322771 0.2 0.4322771  0.01   0.8  5  5       1
>
> ------------------------------------------
> Dr. Jörn Quedenau
> Coordinator Data Management Bioinformatics
> Metanomics GmbH & Co. KGaA
> Tegeler Weg 33, D-10589 Berlin, Germany
> Tel +49 30 34807 125, Fax +49 30 34807 300
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar  1 18:32:48 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 1 Mar 2002 09:32:48 -0800 (PST)
Subject: [R] Type III Sum of Squares
In-Reply-To: <x2g03ks30d.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.44.0203010932150.248186-100000@homer05.u.washington.edu>

On 1 Mar 2002, Peter Dalgaard BSA wrote:

> Sébastien Plante <sebastien_plante at uqar.qc.ca> writes:
>
> > Hi,
> >
> > When doing a two-ways anova in R and comparing my same results with an SPSS
> > output, I noticed that R calculated type I Sum of Squares. Is it possible to
> > use Type III Sum of Squares?
>
> drop1() is pretty close.

and if you know what two models a Type III sum of squares compares you can
fit those two models and do

anova(model1, model2)


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murray.frank at commerce.ubc.ca  Fri Mar  1 19:57:38 2002
From: murray.frank at commerce.ubc.ca (Frank, Murray)
Date: Fri, 1 Mar 2002 10:57:38 -0800 
Subject: [R] RE: step, leaps, lasso, LSE or what?
Message-ID: <6158D207D4D4D311B16700508B44026A033946E1@exchange.commerce.ubc.ca>

Thanks for the most informative, and helpful feedback. 

Professor Ripley wrote:
(most of his message has been edited out)
>There are big differences between regression with only continuous variates,

>and regression involving hierarchies of factors. step/stepAIC include the 
>latter, the rest do not. 
In much of Venables and Ripley, bootstrapping keeps popping up. Is there a 
reason not to run step/stepAIC repeatedly on bootstrapped samples from the 
original data? On the face of it, bootstrapping seems intuitively appealing 
in this context. (Would some form of cross-validation on subsamples be 
better?)

>But generally model
>averaging (which you have not mentioned and is for regression a form of
>shrinkage) seems to have most support for prediction.

What do you mean by model averaging? It does not seem to match the
discussion 
of model selection that I found in Venables and Ripley (ie pages 186-188). 

>Lots of hyperbolic claims, no references.  But I suspect this is `ex-LSE'
>methodology, associated with Hendry's group (as PcGive and Ox are), and
>there is a link to Hendry (who is in Oxford).

Quite right. It is the Hendry group. As far as I can figure out, the main 
specific references are to: 
Hoover, K. D., and Perez, S. J. (1999). Data mining reconsidered:
Encompassing 
and the general-to specific approach to specification search. Econometrics 
Journal, 2, 167-191. 

Hoover, K. D., and Perez, S. J. (2001). Truth and robustness in
cross-country 
growth regressions. unpublished paper, Economics Department, University of 
California, Davis. 

>It has a different aim, I believe.  Certainly `effectiveness' has to be
>assessed relative to a clear aim, and simulation studies with true models
>don't seem to me to have the right aim.  

As suggested, the Hoover and Perez papers are basically simulation studies
where finding a true model was the aim. The working paper on growth
regressions
tries to go further, and seems to have reasonable sounding economic
conclusions.

>Statisticians of the Box/Cox/Tukey
>generation would say that effectiveness in deriving scientific insights
>was the real test (and I recall hearing that from those I named).

It is hard to argue with that claim. But it is equally hard to see it as 
complete. How do we define "scientific insight"? Or is it one of those cases
of: "I don't know how to define it, but I know it when I see it"?

Murray Z. Frank
B.I. Ghert Family Foundation Professor
Strategy & Business Economics
Faculty of Commerce
University of British Columbia
Vancouver, B.C.
Canada V6T 1Z2

phone: 604-822-8480
fax: 604-822-8477
e-mail: Murray.Frank at commerce.ubc.ca  

>  -----Original Message-----
> From: 	Frank, Murray  
> Sent:	Thursday, February 28, 2002 4:12 PM
> To:	
> Subject:	step, leaps, lasso, LSE or what?
> 
> Hi,
> 
> I am trying to understand the alternative methods that are available for
> selecting
> variables in a regression without simply imposing my own bias (having
> "good
> judgement"). The methods implimented in leaps and step and stepAIC seem to
> 
> fall into the general class of stepwise procedures. But these are commonly
> 
> condemmed for inducing overfitting.
> 
> In Hastie, Tibshirani and Friedman "The Elements of Statistical Learning"
> chapter 3, 
> they describe a number of procedures that seem better. The use of
> cross-validation 
> in the training stage presumably helps guard against overfitting. They
> seem 
> particularly favorable to shrinkage through ridge regressions, and to the
> "lasso". This
> may not be too surprising, given the authorship. Is the lasso "generally
> accepted" as 
> being a pretty good approach? Has it proved its worth on a variety of
> problems? Or is 
> it at the "interesting idea" stage? What, if anything, would be widely
> accepted as 
> being sensible -- apart from having "good judgement".
> 
> In econometrics there is a school (the "LSE methodology") which argues for
> what
> amounts to stepwise regressions combined with repeated tests of the
> properties of 
> the error terms. (It is actually a bit more complex than that.) This has
> been coded in 
> the program PCGets:
> (http://www.pcgive.com/pcgets/index.html?content=/pcgets/main.html) 
> If anyone knows how this compares in terms of effectiveness to the methods
> discussed in 
> Hastie et al., I would really be very interested. 
> 
> Cheers,
> Murray
> 
> Murray Z. Frank
> B.I. Ghert Family Foundation Professor
> Strategy & Business Economics
> Faculty of Commerce
> University of British Columbia
> Vancouver, B.C.
> Canada V6T 1Z2
> 
> phone: 604-822-8480
> fax: 604-822-8477
> e-mail: Murray.Frank at commerce.ubc.ca  
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  1 20:01:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2002 20:01:43 +0100
Subject: [R] calculating std err (SEM)?
In-Reply-To: <B0005115309@netserv1.accucom.net>
References: <1014995745.5470.12.camel@lorax.forestry.umn.edu>
	<B0005115309@netserv1.accucom.net>
Message-ID: <x2vgcg3yeg.fsf@blueberry.kubism.ku.dk>

"JRG" <loesljrg at accucom.net> writes:

> On 1 Mar 02, at 16:44, Peter Dalgaard BSA wrote:
> 
> > "Kirk R. Wythers" <kwythers at umn.edu> writes:
> > 
> > > Is there a "canned" function in R for finding the standard error of the
> > > mean? I have tried 
> > > 
> > > >  sem <- function(x) c(mean =mean(x),
> > > +  SEM = stdev(x)/sqrt(length(x)))
> > > > sem(pnet.lai)
> > > Error in sem(pnet.lai) : couldn't find function "stdev"
> > > 
> > > 
> > > It looks like there is no stdev function in R
> > 
> > It's sd() (as help.search("deviation") might have told you). Also,
> > beware of missing values:  sd(x,na.rm=TRUE)/sum(!is.na(x)) is the sure
> > kill. 
> > 
> 
> Would that perhaps be  sd(x,na.rm=TRUE)/sqrt(sum(!is.na(x))) ?

Um. Yes.

On the other hand, I didn't say *what* it killed, did I? ;-)

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Fri Mar  1 19:37:47 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Fri, 1 Mar 2002 12:37:47 -0600
Subject: [R] Type III Sum of Squares
Message-ID: <938690ACF269D311928B0090279C2772E91ECA@cyclops.net.ttu.edu>

John Fox pointed me in the right direction when I asked this question
before.

Use Anova(lm, type = "III") in the "car" package.


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
-----Original Message-----
From: S?bastien Plante [mailto:sebastien_plante at uqar.qc.ca]
Sent: Friday, March 01, 2002 9:43 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Type III Sum of Squares


Hi,

When doing a two-ways anova in R and comparing my same results with an SPSS
output, I noticed that R calculated type I Sum of Squares. Is it possible to
use Type III Sum of Squares?

Thanks,


S?bastien Plante

Institut des Sciences de la Mer de Rimouski (ISMER)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at cs.appstate.edu  Fri Mar  1 22:14:36 2002
From: arnholt at cs.appstate.edu (Alan T. Arnholt)
Date: Fri, 1 Mar 2002 16:14:36 -0500 (EST)
Subject: [R] Power of t-test in R vs. S-PLUS
In-Reply-To: <Pine.A41.4.44.0203010856250.248186-100000@homer05.u.washington.edu>
Message-ID: <SIMEON.10203011636.B@WALKER231.math.appstate.edu>

Could someone shed some light on the statement from Thomas 
that "(with sampling uncertainties of about +/- 2% in each 
number)".  What exactly is being said about the accuracy of 
the simulation and how is that number +/-2% being 
determined.   

Thanks,

Alan


> So at 0.548882 there is about 80% power, at 0.4322771 there is about 55%
> power (with sampling uncertainties of about +/- 2% in each number).
> 
> 
> It is interesting to note that a simulation shows the unequal-variance
> t-test to have only 75% power at 0.5488882, indicating the sensitivity of
> the power calculations at this sample size.
> 
> 	-thomas
> 
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle

----------------------
Alan T. Arnholt
Associate Professor
Department of Mathematical Sciences
Appalachian State University

Tel: (828) 262-2863
Fax: (828) 265-8617

http://www1.appstate.edu/~arnholta/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar  1 23:29:25 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 1 Mar 2002 14:29:25 -0800 (PST)
Subject: [R] Power of t-test in R vs. S-PLUS
In-Reply-To: <SIMEON.10203011636.B@WALKER231.math.appstate.edu>
Message-ID: <Pine.A41.4.44.0203011419300.248186-100000@homer05.u.washington.edu>

On Fri, 1 Mar 2002, Alan T. Arnholt wrote:

> Could someone shed some light on the statement from Thomas
> that "(with sampling uncertainties of about +/- 2% in each
> number)".  What exactly is being said about the accuracy of
> the simulation and how is that number +/-2% being
> determined.
>

The power is estimated by doing 10000 simulated experiments and finding
that 7977 of them give a p-value below 0.01.

The number of p-values less than 0.01 is random (these are simulations),
and has a Binomial(10000, P) distribution, where P is the power.  It is
possible to construct an exact 95% confidence interval for P based on the
observed results of the simulations. The binom.test function does this and
says that a 95% ci for the power is (0.790,0.806).  Similarly for the
delta specified by S-PLUS the 95% ci for the power is (0.537,0.557).  The
sampling error is actually about +/- 1% (I was incorrectly rounding in my
previous email).

If you had good parameter values to use in a power calculation and wanted
to be as precise in your claims as possible you might do a simulation like
this and quote a suitable lower confidence limit for the power. You can
get very tight limits if you want. For example, a lower 99.99% confidence
limit for the power based on this simulation is 0.782.

It matters more when the problem is more complicated and you can't readily
do 10000 replicates in the simulation.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbdahl at cumorah.stat.wisc.edu  Fri Mar  1 23:36:42 2002
From: dbdahl at cumorah.stat.wisc.edu (David B. Dahl)
Date: Fri, 1 Mar 2002 16:36:42 -0600
Subject: [R] Refresh x11 window in non-interactive session
Message-ID: <200203012236.g21Magu08865@cumorah.stat.wisc.edu>

R community,

I am running a non-interactive R session to plot results from an external 
program. R's X11 graphics window does not redraw itself after it has been 
covered by another window. Any ideas on how to make the window refresh itself 
automatically?  Thanks.

- - David Dahl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From WChan at lbl.gov  Sat Mar  2 01:23:57 2002
From: WChan at lbl.gov (Rengie Chan)
Date: Fri, 01 Mar 2002 16:23:57 -0800
Subject: [R] getting state.center
Message-ID: <3C801B9D.E8FD455@lbl.gov>

I've installed usa map but R still cannot recongize state.center .
Is there still something more I need to download to get that to work?

Thanks,
-rengie




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Sat Mar  2 08:33:39 2002
From: markhall at gol.com (markhall@gol.com)
Date: Sat, 2 Mar 2002 16:33:39 +0900
Subject: [R] query on lqs
Message-ID: <E16h46p-0007jZ-00@smtp01.fields.gol.com>

Is there a way of getting a list of indices or something indicating which set 
of points lqs when doing a regression?  The $bestone, seems to return only 
2 pts. no matter how good or bad the fit.  I checked the archive for the past 
few months, but didn't find anything.

thanks in advance, Mark Hall



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  2 09:05:48 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Mar 2002 08:05:48 +0000 (GMT)
Subject: [R] query on lqs
In-Reply-To: <E16h46p-0007jZ-00@smtp01.fields.gol.com>
Message-ID: <Pine.GSO.4.44.0203020756020.28736-100000@auk.stats>

On Sat, 2 Mar 2002 markhall at gol.com wrote:

> Is there a way of getting a list of indices or something indicating which set
> of points lqs when doing a regression?  The $bestone, seems to return only
> 2 pts. no matter how good or bad the fit.  I checked the archive for the past
> few months, but didn't find anything.

That is what bestone does return.   It's on my agenda to document the lqs
return values, but I started with the commoner ones like lm!  In any case,
you have the code to read.

For example

     data(stackloss)
     set.seed(123)
     (fit <- lqs(stack.loss ~ ., data = stackloss))

> fit$bestone
[1]  7 10 11 15

That is the list of points used for the best fit found.  It always tries
subsets of size p.

lm (stack.loss ~ ., data = stackloss, subset = fit$bestone)

is slightly different: see the lqs help page for why.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sat Mar  2 10:42:07 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 2 Mar 2002 10:42:07 +0100 (MEZ)
Subject: [R] Excel Add-in
In-Reply-To: <mnet1.1014997689.24965.nolwennlm@netcourrier.com>
Message-ID: <Pine.A41.4.33.0203021041250.85012-100000@mailbox.univie.ac.at>

there will be a new version of my addin
within a few weeks.
the functionality will be extended quite considerably.



On Fri, 1 Mar 2002 nolwennlm at netcourrier.com wrote:

> I'm trying to make a connexion beetween Excel and R. It works for simple requests but it seems that complexe functions won't work.
> Does anybody knows how complexe can be the data set and function used?
> Does it exist something else  than the Erich Neuwirth Add-in (which is already really interesting) ?
>
> Thanks
> Nolwenn
>
> ----------------------------------------------------------------------
> NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
> Web/Wap : www.netcourrier.com
> Téléphone/Fax : 08 92 69 00 21 (0,34 E TTC/min - 2,21 F TTC/min)
> Minitel: 3615 NETCOURRIER (0,15 E TTC/min - 1,00 F TTC/min)
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johnfield at ozemail.com.au  Sat Mar  2 14:34:37 2002
From: johnfield at ozemail.com.au (John Field)
Date: Sun, 03 Mar 2002 00:04:37 +1030
Subject: [R] pmvnorm?
Message-ID: <4.3.2.7.2.20020302235734.00ace770@pop.ozemail.com.au>

Dear all,

The MASS library provides a mvrnorm function to generate random numbers 
from a multivariate normal distribution, similar to S-Plus's rmvnorm, but 
is there an R-equivalent to pmvnorm, which generates probabilities from a 
multivariate normal?

With thanks,
John Field

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Sat Mar  2 15:43:59 2002
From: siim at obs.ee (Ott Toomet)
Date: Sat, 2 Mar 2002 15:43:59 +0100 (CET)
Subject: [R] accessing factor levels from C
Message-ID: <Pine.LNX.4.33.0203021537360.7322-100000@localhost.localdomain>

Hi,

I am trying to get information about factors from a C-program.  As I see,
the factors are basically integers with attribute ,,levels''.  But
unfortunately I am not been able to read the levels information.  I am
using:

SEXP variable, levels;

...

      variable = VECTOR_ELT( data_frame, j);
      switch( TYPEOF( variable)) {
      case INTSXP:
	if( isFactor( VECTOR_ELT( data_frame, j))) {
	  fvalue = INTEGER( variable)[i];
	  levels = STR_PTR( GET_LEVELS( variable));
	....


but the variable levels is not an array of strings as I expected.  I am
probably doing something in the wrong way but how would it be correct?

Thanks in advance,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  2 15:44:31 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Mar 2002 14:44:31 +0000 (GMT)
Subject: [R] pmvnorm?
In-Reply-To: <4.3.2.7.2.20020302235734.00ace770@pop.ozemail.com.au>
Message-ID: <Pine.GSO.4.44.0203021439030.7873-100000@auk.stats>

On Sun, 3 Mar 2002, John Field wrote:

> Dear all,
>
> The MASS library provides a mvrnorm function to generate random numbers
> from a multivariate normal distribution, similar to S-Plus's rmvnorm, but
> is there an R-equivalent to pmvnorm, which generates probabilities from a
> multivariate normal?

package mvtnorm.

It does actually cover the multivariate normal: S-PLUS's is bivariate
(or independent) only.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  2 17:05:24 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Mar 2002 16:05:24 +0000 (GMT Standard Time)
Subject: [R] accessing factor levels from C
In-Reply-To: <Pine.LNX.4.33.0203021537360.7322-100000@localhost.localdomain>
Message-ID: <Pine.WNT.4.44.0203021556200.848-100000@tern.stats>

On Sat, 2 Mar 2002, Ott Toomet wrote:

> Hi,
>
> I am trying to get information about factors from a C-program.  As I see,
> the factors are basically integers with attribute ,,levels''.  But
> unfortunately I am not been able to read the levels information.  I am
> using:
>
> SEXP variable, levels;
>
> ...
>
>       variable = VECTOR_ELT( data_frame, j);
>       switch( TYPEOF( variable)) {
>       case INTSXP:
> 	if( isFactor( VECTOR_ELT( data_frame, j))) {
> 	  fvalue = INTEGER( variable)[i];
> 	  levels = STR_PTR( GET_LEVELS( variable));
> 	....
>
>
> but the variable levels is not an array of strings as I expected.  I am
> probably doing something in the wrong way but how would it be correct?

GET_LEVELS gives you an R character vector.  That is not an array of
strings.  (What is STR_PTR, by the way?  It's not in Rdefines.h, and
strings are not handled in the same way as, say, numeric vectors.  And
beware of some of the macros in Rdefines.h, which predate changes in R
1.2.0.)

Use something like

   lev = getAttrib(variable, R_LevelsSymbol);
   thislevel = CHAR(STRING_ELT(lev, i))

for the ith level.  There are some examples in seq.c. The first is what
GET_LEVELS expands to.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Sat Mar  2 17:47:24 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Sat, 2 Mar 2002 10:47:24 -0600 (CST)
Subject: [R] RE: step, leaps, lasso, LSE or what?
In-Reply-To: <6158D207D4D4D311B16700508B44026A033946E1@exchange.commerce.ubc.ca>
Message-ID: <Pine.GSO.4.33.0203021034410.25970-100000@ysidro.econ.uiuc.edu>


On Fri, 1 Mar 2002, Brian Ripley wrote:
>
> >Statisticians of the Box/Cox/Tukey
> >generation would say that effectiveness in deriving scientific insights
> >was the real test (and I recall hearing that from those I named).

A nice formulation of this viewpoint that happens to be lying on my desk at
the moment is the following:

  A final general comment is that the discussion above is of the question
  of how to reach conclusions about parameters in a model on which we are
  agreed.  It seems to me, however, that a more important matter is how to
  formulate more realistic models that will enable scientifically more
  searching questions to be asked of data.

                D.R Cox, (p 53)  Discussion of L.J. Savage's (1962)
                Subjective probability and statistical practice, Methuen.




url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Sat Mar  2 23:31:03 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Sat, 02 Mar 2002 17:31:03 -0500
Subject: [R] Functions for von Mises (circular normal) distribution
Message-ID: <002f01c1c239$f0d99400$aa101eac@newmicronpc>

Hi:

Are there any R or S functions out there to compute CDFs, generate random
numbers, compute the MLEs etc. for the von Mises (circular normal)
distribution?  I have the papers by Mardia and Zemroch in Applied
Statistics, which describe the algorithms for computing the distribution and
the maximum likelihood estimates.  Before writing my own functions I'd like
to know if anyone had already done this.

Thanks for any help,
Ravi.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar  3 04:24:42 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 2 Mar 2002 22:24:42 -0500
Subject: [R] Upgrading an installation of R
Message-ID: <3C81512A.16595.5AA371@localhost>

I have installed R 1.4.0 on Windows 2000 and would like  to
upgrade to the newest version of R.  I am scared of messing
this up badly and would like to know if I should:

- uninstall my current version first, or
- just install the newer version without uninstalling
the current version

Do either of these work?  If both work, which is
preferable? Will I have to reinstall various 
packages that I previously installed on 1.4.0?

I tried:
- the FAQ
- ?install and help.search("install") from R
- searching on the word "install" on the site:
http://finzi.psych.upenn.edu/search.html

but the first two came up empty and the last
gave literally thousands of hits.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sun Mar  3 08:01:00 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sun, 03 Mar 2002 02:01:00 -0500
Subject: [R] Upgrading an installation of R
References: <3C81512A.16595.5AA371@localhost>
Message-ID: <3C81CA2C.C869F97C@epm.net.co>



ggrothendieck at yifan.net wrote:

> I have installed R 1.4.0 on Windows 2000 and would like  to
> upgrade to the newest version of R.  I am scared of messing
> this up badly and would like to know if I should:
>
> - uninstall my current version first, or
> - just install the newer version without uninstalling
> the current version
>
> Do either of these work?  If both work, which is
> preferable? Will I have to reinstall various
> packages that I previously installed on 1.4.0?
>

When I upgrade R, y make the second option, because
sometimes there are new bugs on the new version, or
some of my old functions don't work on the new version
for one reason or another...either way I install the new version
on a different place (usually the setup installs it on a new directory
rw1041) so there are independent.

And later if you want to delete the old version it is very easy...
Just delete the directory and the links and/or the shortcuts to
the Rgui.exe program. R is a very clean program (no register stuff... )

And yes... you must reinstall the packages, but I make
a copy of the \library directory to the new one... and then
I use the upgrade.package() function to get the latest
pre compiled packages.


Hope this will help.



>
> I tried:
> - the FAQ
> - ?install and help.search("install") from R
> - searching on the word "install" on the site:
> http://finzi.psych.upenn.edu/search.html
>
> but the first two came up empty and the last
> gave literally thousands of hits.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: krcabrer.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: Card for Kenneth Cabrera
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020303/a2a275b5/krcabrer.vcf

From ripley at stats.ox.ac.uk  Sun Mar  3 08:22:14 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 3 Mar 2002 07:22:14 +0000 (GMT)
Subject: [R] Upgrading an installation of R
In-Reply-To: <3C81CA2C.C869F97C@epm.net.co>
Message-ID: <Pine.GSO.4.44.0203030714001.13909-100000@auk.stats>

On Sun, 3 Mar 2002, Kenneth Cabrera wrote:

>
>
> ggrothendieck at yifan.net wrote:
>
> > I have installed R 1.4.0 on Windows 2000 and would like  to
> > upgrade to the newest version of R.  I am scared of messing
> > this up badly and would like to know if I should:
> >
> > - uninstall my current version first, or
> > - just install the newer version without uninstalling
> > the current version
> >
> > Do either of these work?  If both work, which is
> > preferable? Will I have to reinstall various
> > packages that I previously installed on 1.4.0?
> >
>
> When I upgrade R, y make the second option, because
> sometimes there are new bugs on the new version, or
> some of my old functions don't work on the new version
> for one reason or another...either way I install the new version
> on a different place (usually the setup installs it on a new directory
> rw1041) so there are independent.

That is relevant in moving from rw1031 to rw1040, say, but I don't think
so for patch releases.

> And later if you want to delete the old version it is very easy...
> Just delete the directory and the links and/or the shortcuts to
> the Rgui.exe program. R is a very clean program (no register stuff... )

You can also run the uninstall program in the old directory.

> And yes... you must reinstall the packages, but I make
> a copy of the \library directory to the new one... and then
> I use the upgrade.package() function to get the latest
> pre compiled packages.

You must do that rather carefully: library contains the standard packages
too, and they must be the correct versions.  It is better to use a separate
library for packages you install: see the rw-FAQ for how to do so.
Alternatively, uninstall 1.4.0, install 1.4.1 and then copy across the
rw1040\library directory.  Anything packages you added will be left alone
by the uninstall.

However you do it, run link.html.help() afterwards.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Sun Mar  3 10:14:38 2002
From: zedshaw at zedshaw.com (Zed Shaw)
Date: Sun, 3 Mar 2002 01:14:38 -0800
Subject: [R] Small Functions for Writing HTML Files
Message-ID: <20020303091438.B376F3F6A0@mail.killnine.net>

Hello All,

I wrote this small set of functions for writing HTML files on the fly so I 
could do reports from R.  Nothing fancy.  I may expand on this and make it 
more generic, but for now, it works and I'm happy with it.

Thought I would share them with everyone to get some  feedback.  Also, I'm 
not sure if there is already something like this available.

The html-test.r file shows you how to use the html.r functions.  Combined 
with the xtable library, this is pretty handy.

Thanks for your time.


-- 
Zed A. Shaw
-------------- next part --------------
# A small set of functions for writing an HTML file on the fly.  Most of the functions are fairly explanatory.
# Written by Zed A. Shaw


html <- list(file="report.html")


html.file <- function(file="report.html") { 
	html$file <- file
}


html.write <- function(text,append=TRUE) {
	cat(text,file=html$file,append=append)
} 


# generic function for beginning a tag
tag.begin <- function(name, ...) {
	# start the tag
	tag <- paste(c("<",name), collapse="")
	
	# build the attributes
	attr.list <- list(...)
	for(n in names(attr.list)) {
		attr <- paste(c(n,"=",attr.list[n]),collapse="")
		# add to the end of tag
		tag <- paste(c(tag,attr),collapse=" ")
	}
	
	# end the tag
	tag <- paste(c(tag, ">"), collapse="")
	html.write(tag)
}


# generic function for ending a tag
tag.end <- function(name) {
	tag <- paste(c("</",name,">"), collapse="")
	html.write(tag)
}




# begins an html document
html.begin <- function(title, bgcolor="#FFFFFF") {
	# require(xtable)
	
	html.write("<!-- HTML output generated by Zed A. Shaw's HTML report library. -->", append=FALSE)
	tag.begin("html")
	tag.begin("head")
	tag.begin("title")
	html.write(title)
	tag.end("title")
	tag.end("head")
	tag.begin("body",bgcolor=bgcolor)
}


# begins an html header (H) tag
html.h <- function(title, level=1) {
	h <- paste(c("<h",level,">",title,"</h",level,">"),collapse="")
	html.write(h)
}


html.p <- function(text="") {
	p <- paste(c("<p>",text,"</p>"),collapse="")
	html.write(p)
}


html.list <- function(list.elements,type="ul") {
	tag.begin(type)
	
	for(item in list.elements) {
          # if this is a vector or another list, then recursively process it
          if(!is.character(item) && (is.vector(item) || is.list(item))) {
            print("Listing ")
            print(item)
            html.list(item)
          } else {
            # otherwise, we just print out an item
            tag.begin("li")
            html.write(item)
            tag.end("li")
          }
	}
	
	tag.end(type)
}

# writes an HR tag
html.hr <- function() {
	tag.begin("hr")
	tag.end("hr")
}


# writes an img tag
html.img <- function(src,border="0") {
	tag.begin("img",src=src,border=border)
	tag.end("img")
}

# ends an html document
html.end <- function() {
	tag.end("body")
	tag.end("html")
}


# sends the output to the html report file
html.divert <- function() {
  print("Diverting output to the html file.  Remember to revert when you are done.")
  sink(html$file,append=TRUE)
}

# stops sending the output to the report file
html.revert <- function() {
  sink()
  print("Output no longer going to report file.")
}
-------------- next part --------------
source("html.r")


# example of how to use these functions
html.file("report.html")
html.begin("Statistical Report 1")
html.h("Statistical Report 1")
html.p("This report describes the relationship between data BANK.SAV file given for assignment 1")

# write an image in the current directory
data(swiss)
attach(swiss)
swiss.lm <- lm(Agriculture ~ Examination)

png(filename = "fit1.png")
plot(formula(swiss.lm))
abline(swiss.lm)
dev.off()


# write the image to the report
html.h("Figure 1: Multiple Regression Fit", level=2)

html.img("fit1.png")

html.h("Table 1: Summary of Regression Results", level=2)
html.p("This table shows the results of the regression.  As you can see...")
html.p("Skipped for now until I get xtable on my laptop")


# create an xtable for the analysis
# swiss.lm.xtable <- xtable(swiss.lm)
# caption(swiss.lm.xtable) <- "Multiple Regression of salnow ~ salbeg + work + age"
# print(swiss.lm.xtable,type="html",file=html$file,append=TRUE)

# this demonstrates how to divert the commands that cannot print to a file
html.h("This output shows even more detail.", level=2)

tag.begin("pre")
html.divert()
summary(swiss.lm)
html.revert()
tag.end("pre")


html.h("Demonstration of Listing", level=2)
number.list <- c("One", "Two", "Three", "Four", "Five")
html.p("A unordered list:")
html.list(number.list)
html.p("An ordered list:")
html.list(number.list,type="ol")

html.end()


From ozric at web.de  Sun Mar  3 13:54:08 2002
From: ozric at web.de (christian)
Date: Sun, 03 Mar 2002 13:54:08 +0100
Subject: [R] Small Functions for Writing HTML Files
Message-ID: <E16hVPL-0007S5-00@smtp.web.de>

Hi Zed,
thanks a lot , it looks very useful for my purposes ( daily tracking-analysis with PHP/MySql)
and works very fine. ...i test more complex analysis routines
and give you in some days perhaps more feedback 

regards,christian



regards,christian 


Am 03.03.2002 10:14:38, schrieb Zed Shaw <zedshaw at zedshaw.com>:

>Hello All,
>
>I wrote this small set of functions for writing HTML files on the fly so I 
>could do reports from R.  Nothing fancy.  I may expand on this and make it 
>more generic, but for now, it works and I'm happy with it
>
>Thought I would share them with everyone to get some  feedback.  Also, I'm 
>not sure if there is already something like this available.
>
>The html-test.r file shows you how to use the html.r functions.  Combined 
>with the xtable library, this is pretty handy.
>
>Thanks for your time.
>
>
>-- 
>Zed A. Shaw
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From forporphyry at hotmail.com  Sun Mar  3 20:43:46 2002
From: forporphyry at hotmail.com (graham lawrence)
Date: Sun, 03 Mar 2002 11:43:46 -0800
Subject: [R] indexing data.frames
Message-ID: <F45SPSYdiXudhUcHJ5X000180ad@hotmail.com>

Dear R-help,

I have a series of data.frames (i1,i2,...,in) all containing the same number 
of items, but dissimilar content.  I would like to instal them in another 
data.frame, say index, so that I can access their items with index[i,j].

No matter how I try to set index up, its subframes cannot be indexed, 
because they all have the row number of 1.  What am I doing wrong? (I get 
the same result with lists, a data.frame of lists, or a list of data.frames)

Alternatively, does R contain an equivalent to the INDIRECT function found 
in spreadsheets, so that instead of doing, say, edit(i6), I could get 
instead edit(the vector named by the content of i6)?

Thank you in advance for your help
graham lawrence

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Mar  3 21:39:42 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 03 Mar 2002 21:39:42 +0100
Subject: [R] indexing data.frames
References: <F45SPSYdiXudhUcHJ5X000180ad@hotmail.com>
Message-ID: <3C828A0E.2E12375D@statistik.uni-dortmund.de>



graham lawrence wrote:
> 
> Dear R-help,
> 
> I have a series of data.frames (i1,i2,...,in) all containing the same number
> of items, but dissimilar content.  I would like to instal them in another
> data.frame, say index, so that I can access their items with index[i,j].
> 
> No matter how I try to set index up, its subframes cannot be indexed,
> because they all have the row number of 1.  What am I doing wrong? (I get
> the same result with lists, a data.frame of lists, or a list of data.frames)
> 
> Alternatively, does R contain an equivalent to the INDIRECT function found
> in spreadsheets, so that instead of doing, say, edit(i6), I could get
> instead edit(the vector named by the content of i6)?

I'm not quite sure if I understand your question correctly.
Here an example for indexing data.frames in a list:

 x <- data.frame(a1=1:10, b1=2:11)
 y <- data.frame(a2=11:20, b2=12:21)
 L <- list(x=x, y=y)
 
 L # two data.frames in a list.
 L[[1]][[1]][1] # first list element, first col, first item
 L[[1]][[2]][3] # first list element, second col, third item
 L[[2]][[2]][10] # second list element, second col, last item

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Mar  3 23:29:14 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 03 Mar 2002 17:29:14 -0500
Subject: [R] indexing data.frames
In-Reply-To: <F45SPSYdiXudhUcHJ5X000180ad@hotmail.com>
Message-ID: <5.1.0.14.2.20020303172327.01d94670@pop>

Dear Graham,

At 11:43 AM 3/3/2002 -0800, graham lawrence wrote:

>I have a series of data.frames (i1,i2,...,in) all containing the same 
>number of items, but dissimilar content.  I would like to instal them in 
>another data.frame, say index, so that I can access their items with 
>index[i,j].
>
>No matter how I try to set index up, its subframes cannot be indexed, 
>because they all have the row number of 1.  What am I doing wrong? (I get 
>the same result with lists, a data.frame of lists, or a list of data.frames)
>
>Alternatively, does R contain an equivalent to the INDIRECT function found 
>in spreadsheets, so that instead of doing, say, edit(i6), I could get 
>instead edit(the vector named by the content of i6)?

If I understand correctly what you're trying to do, you want to index 
variables in a collection of data frames. I think that the natural way to 
do this in R is to use a list of data frames; e.g., using your names, index 
<- list(i1, i2, etc.). You could then access the second variable in the 
first data frame of the list as index[[1]][[2]]. Granted, the subscripts 
aren't of the form [1, 2], nor does this data structure require that the 
individual data frames be similar, but perhaps this will do what you need.

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon Mar  4 02:58:47 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 4 Mar 2002 14:58:47 +1300
Subject: [R] Split plot in colors/pch??
References: <5429125E11E4D411AF7300805FE603A8040DE737@groexmbcr02.pfizer.com>
Message-ID: <005c01c1c320$1fd447a0$7632d882@stat.auckland.ac.nz>

Hi

You might also want to look at using xyplot() and panel.superpose from the
lattice package.  For example, ...

    library(lattice)
    data(iris)
    attach(iris)
    xyplot(Sepal.Length ~ Sepal.Width, groups=Species,
panel=panel.superpose)

Paul


> Actually Jeorg's answer works just fine for this case, with one small
change
>
> # create the data frame (g is gender)
> d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,
>                       g=c('M','F','M','F','F','M','F','F'))
>
> # plot using specified colors
> co <- c('red','blue')
> plot(d$x,d$y,col=co[d$g])
>
> # plot using default colors
> plot(d$x,d$y,col=codes(d$g))
>
> -Greg
>
>
> > -----Original Message-----
> > From: Fredrik Karlsson [mailto:fredrik.karlsson at ling.umu.se]
> > Sent: Friday, March 01, 2002 7:58 AM
> > To: 'R-help at lists.R-project.org'
> > Subject: Re: [R] Split plot in colors/pch??
> >
> >
> > Thank you Joerg, but that was not quite what I wanted.
> > What I was asking was how to plot d$x ~ d$y split into
> > separate colours
> > depenging on a third variable (such as for instance
> > d$gender=c(F,F,M,M,F,F,M,M)).
> >
> > So, I want to plot x~y where gender==F in one colour and gender==M in
> > another.
> >
> > Hope that califies my question.
> >
> > /Fredrik
> >
> > On Fri, Mar 01, 2002 at 01:42:53PM +0100, Joerg Maeder wrote:
> > > Hi Fredrik,
> > >
> > > here is a very small example that should show the way to do it
> > >
> > > d <- data.frame(x=c(1,2,3,4,5,6,4,3),y=1:8,g=c(1,2,1,2,3,1,2,3))#g
> > > defines the group (color)
> > > co <- c('red','green','blue')
> > > plot(d$x,d$y,col=co[d$g])> >
> > > same way for pch
> > >
> > > gruess
> > >
> > > joerg
> > >
> > >
> > > Fredrik Karlsson wrote:
> > > >
> > > > Hi all
> > > >
> > > > This seems like a very easy question, but I have not
> > found a simple
> > > > answer to it:
> > > >
> > > > If you have a dataframe, how to you plot two of then in
> > different colors
> > > > depending on a third variable?
> > > >
> > > > All help appreciated!
> > > >
> > > > /Fredrik
> > > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > >
> > > --
> > > Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
> > > Tel: +41 1 633 36 25   .:|:||:..:.||.::
> > > http://www.iac.ethz.ch/staff/maeder
> > > PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE
> > SCIENCE (IACETH)
> > > ETH Z?RICH Switzerland
> > >
> >
> > --
> > -----------------------------------------------------------------
> > Fredrik Karlsson, Research Student
> >
> > Department of Philosophy and Linguistics
> > Ume? University
> > S-901 87 UME?
> > SWEDEN
> > Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
> > Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
> > PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9
> > -----------------------------------------------------------------
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
>
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be
privileged. It is intended for the addressee(s) only. Access to this E-mail
by anyone else is unauthorized. If you are not an addressee, any disclosure
or copying of the contents of this E-mail or any action taken (or not taken)
 in reliance on it is unauthorized and may be unlawful. If you are not an
addressee, please inform the sender immediately.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Mon Mar  4 03:58:54 2002
From: indra_calisto at yahoo.com (Indrajit SenGupta)
Date: Mon, 4 Mar 2002 08:28:54 +0530
Subject: [R] Quality COntrol
Message-ID: <MABBJPBLPNLDIFMIAAOJKEEKCEAA.indra_calisto@yahoo.com>

Is there any package which will help me to draw quality control charts in R?

______________________
Indrajit SenGupta
Department Of Statistics
St. Xavier's College
Calcutta University
mailto:indra_calisto at yahoo.com
mailto:indrajitsg at vsnl.net
 
 


_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Mon Mar  4 09:47:02 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Mon, 4 Mar 2002 10:47:02 +0200
Subject: [R] coplots
Message-ID: <00a901c1c359$2781acc0$5e05cf9b@pharm.auth.gr>



Hello list members,

I am new to this list and don't know very much about what R can do or how to
program it, but I am interested in plotting 4 variables as sequential
contour plots (or surface plots), something like the conditioning plots for
4 variables (coplot(X1~X2|X3+X4)). To be more specific, I need a tool that
will automatically create contour (orsurface) plots of X1 vs X2 vs X3 for
different intervals of X4.
Is there a 3-D equivalent to the coplot command, or does anybody have
implemented something like that?
Thanks in advance,

Kyriakos Kachrimanis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Mon Mar  4 10:02:58 2002
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Mon, 4 Mar 2002 10:02:58 +0100
Subject: [R] Small Functions for Writing HTML Files
In-Reply-To: <20020303091438.B376F3F6A0@mail.killnine.net>
Message-ID: <NEBBLCMFGLNFBEBKHFCEIEIECFAA.cdeclercq@nordnet.fr>

Hi, Zed

> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Zed Shaw
> Envoy? : dimanche 3 mars 2002 10:15
> ? : r-help at stat.math.ethz.ch
> Objet : [R] Small Functions for Writing HTML Files
>
>
> Hello All,
>
> I wrote this small set of functions for writing HTML files on
> the fly so I
> could do reports from R.  Nothing fancy.  I may expand on
> this and make it
> more generic, but for now, it works and I'm happy with it.
>

Have you tried 'Sweave()' which was announced by Friedrich Leisch on
this list ('Re: [R] Code in Rd help files other than in \examples{}' Tue
Feb 12 2002 - 07:33:21 EST)?

You can find it in the preview of the 'tools' package at
http://www.ci.tuwien.ac.at/~leisch/Sweave

It is really great and easy to use (thank you very much, Friedrich!).

It only works with 'LaTeX' for now but perhaps you could contribute an
'html' driver?

Christophe
--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bastian.peter at epfl.ch  Mon Mar  4 10:19:23 2002
From: bastian.peter at epfl.ch (Bastian PETER)
Date: Mon, 4 Mar 2002 10:19:23 +0100
Subject: [R] Running on MacOS X
Message-ID: <a05101400b8a8ec108817@[128.178.94.33]>

Good Morning !

I am trying to run R on MacOS X using XFree86 4.2.0
when I try to run it, I get the following error message

"dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
/sw/lib/libpng.2.dylib (compatibility version of user: 1.0.12 greater 
than library's version: 1.0.10)
".

I hope you have some ideas what the problem is and how I can fix it.

thanks for your help

Bastian PETER
-- 
Bastian PETER
Swiss Federal Institute of Technology Lausanne
Medical Engineering Laboratory
PSE-A Ecublens
CH-1015 Lausanne
Switzerland

Tel. ++41 21 693 83 58
Fax ++41 21 693 83 30
bastian.peter at epfl.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  4 10:43:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Mar 2002 09:43:40 +0000 (GMT)
Subject: [R] coplots
In-Reply-To: <00a901c1c359$2781acc0$5e05cf9b@pharm.auth.gr>
Message-ID: <Pine.GSO.4.44.0203040941070.29442-100000@auk.stats>

On Mon, 4 Mar 2002, Kyriakos Kachrimanis wrote:

>
>
> Hello list members,
>
> I am new to this list and don't know very much about what R can do or how to
> program it, but I am interested in plotting 4 variables as sequential
> contour plots (or surface plots), something like the conditioning plots for
> 4 variables (coplot(X1~X2|X3+X4)). To be more specific, I need a tool that
> will automatically create contour (orsurface) plots of X1 vs X2 vs X3 for
> different intervals of X4.
> Is there a 3-D equivalent to the coplot command, or does anybody have
> implemented something like that?

Coplot is an older version of the functionality in the lattice package.
(`Trellis' in S terms.)   You could use levelplot for image plots.
Trellis has contourplot, but lattice does not yet (some versions had a
non-functioning contourplot function).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Mon Mar  4 12:33:05 2002
From: zedshaw at zedshaw.com (Zed A . Shaw)
Date: Mon, 4 Mar 2002 03:33:05 -0800
Subject: [R] Small Functions for Writing HTML Files
In-Reply-To: <NEBBLCMFGLNFBEBKHFCEIEIECFAA.cdeclercq@nordnet.fr>; from cdeclercq@nordnet.fr on Mon, Mar 04, 2002 at 01:02:58 -0800
References: <20020303091438.B376F3F6A0@mail.killnine.net> <NEBBLCMFGLNFBEBKHFCEIEIECFAA.cdeclercq@nordnet.fr>
Message-ID: <20020304033305.C5291@workhorse.killnine.net>

Hmmm, very interesting.  I'll look into this.  Using what I have here 
as a base, it might not be too hard.  Still, I have to see how it's 
being done.  One thing that I see as a problem is the use of <<>>= to 
mark off code pieces.  Not sure how that would mess with html tag since 
they use <> combos.

I personally don't much like literate programming tools since they make 
it hard to figure out what is code and what is docs.  They drive 
programmers like me insane (I like everything neatly in its own 
place).  But, it might be interesting to see how an HTML literate tool 
would work.

My original plan for this HTML stuff is to make it so you just hand a 
bunch of different objects to a "report" function and it spits out a 
basic kind of report in forever rolling HTML.  But, I still haven't 
figured out how to do it.  For now, I just wrote a function called 
myreport which I pass it my data and it writes my report for me.

Anyway, thanks for your comments.  I'll let you knwo what I find out.

On 2002.03.04 01:02 Christophe Declercq wrote:
> Hi, Zed
> 
> > De : owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]De la part de Zed Shaw
> > Envoy? : dimanche 3 mars 2002 10:15
> > ? : r-help at stat.math.ethz.ch
> > Objet : [R] Small Functions for Writing HTML Files
> >
> >
> > Hello All,
> >
> > I wrote this small set of functions for writing HTML files on
> > the fly so I
> > could do reports from R.  Nothing fancy.  I may expand on
> > this and make it
> > more generic, but for now, it works and I'm happy with it.
> >
> 
> Have you tried 'Sweave()' which was announced by Friedrich Leisch on
> this list ('Re: [R] Code in Rd help files other than in \examples{}'
> Tue
> Feb 12 2002 - 07:33:21 EST)?
> 
> You can find it in the preview of the 'tools' package at
> http://www.ci.tuwien.ac.at/~leisch/Sweave
> 
> It is really great and easy to use (thank you very much, Friedrich!).
> 
> It only works with 'LaTeX' for now but perhaps you could contribute an
> 'html' driver?
> 
> Christophe
> --
> Christophe DECLERCQ, MD
> Observatoire R?gional de la Sant? Nord-Pas-de-Calais
> 13, rue Faidherbe 59046 LILLE Cedex FRANCE
> Phone +33 3 20 15 49 24
> Fax   +33 3 20 55 92 30
> E-mail c.declercq at orsnpdc.org
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Mar  4 15:32:03 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 04 Mar 2002 14:32:03 +0000
Subject: [R] Plotting a x axis from a vector with rownames
Message-ID: <3C838563.BD469108@psy.uni-muenchen.de>

Hi all,

suppose there is a vector y with rownames:

> y
 cond1  cond2  cond3  cond4 
78.952 87.308 86.490 74.040 

how can I easily plot this vector using the rownames? plot(y) gives me a
plot with a x-axis from 1 to 4 in 0.5 steps, also plot(rownames(y), y)
and plot(y ~ rownames(y) don't work. I know I can build a x-axis with
axis(1, ...), but in this case I need a character string like c("cond1,
"", "cond2", "", ...), because the x-axis has 7 tick marks. I'm
wondering about an easier way (like barplot does).

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Mar  4 14:58:04 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 4 Mar 2002 14:58:04 +0100
Subject: [R] Lapack not found on R MacOS 9.1
Message-ID: <MABBLJDICACNFOLGIHJOOEMCCJAA.phgrosje@ulb.ac.be>

Hello,

Does anyone knows this error message:

error in La.eigen(cv, symmetric=TRUE):lapack routines cannot be loaded.

apparently related to a missing or incompatible lapack library in R 1.4.1
full for MacOS (v. 9.1)?
If yes, what should I do to get correct access to the lapack library?

Thanks,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Mar  4 15:04:50 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 4 Mar 2002 15:04:50 +0100
Subject: [R] Standardized Beta?
Message-ID: <20020304150450.A5185@ling.umu.se>

Greetings all!

Got another question for you:

When doing regression, is there a way of automatically obtaining the 
standardized correlation coefficients?

/Fredrik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Mon Mar  4 15:07:39 2002
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Mon, 4 Mar 2002 15:07:39 +0100
Subject: [R] Plotting a x axis from a vector with rownames
In-Reply-To: <3C838563.BD469108@psy.uni-muenchen.de>
Message-ID: <NEBBLCMFGLNFBEBKHFCEEEIJCFAA.cdeclercq@nordnet.fr>

> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Sven Garbade
> Envoy? : lundi 4 mars 2002 15:32
> ? : R-Help
> Objet : [R] Plotting a x axis from a vector with rownames
>
>
> Hi all,
>
> suppose there is a vector y with rownames:
>
> > y
>  cond1  cond2  cond3  cond4
> 78.952 87.308 86.490 74.040
>
> how can I easily plot this vector using the rownames? plot(y)
> gives me a
> plot with a x-axis from 1 to 4 in 0.5 steps, also plot(rownames(y), y)
> and plot(y ~ rownames(y) don't work. I know I can build a x-axis with
> axis(1, ...), but in this case I need a character string like
> c("cond1,
> "", "cond2", "", ...), because the x-axis has 7 tick marks. I'm
> wondering about an easier way (like barplot does).

Is that what you want?

> y<-c(78.952, 87.308, 86.490, 74.040)
> names(y)<-c("cond1",  "cond2",  "cond3",  "cond4")
> stripchart(y~names(y), vertical=TRUE)

Hope it helps.

Christophe
--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From LIP00RA at sheffield.ac.uk  Mon Mar  4 15:17:26 2002
From: LIP00RA at sheffield.ac.uk (Rabiah Ahmad)
Date: Mon, 4 Mar 2002 14:17:26 -0000
Subject: No subject
Message-ID: <E16htHW-00052p-00@mailhub1.shef.ac.uk>

Hi
can anyone help me in combining GA and hazard regression in R

do you thing I can use Gafit packages and survival package or I 
have to build my own package

thanks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Mar  4 16:30:58 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 04 Mar 2002 15:30:58 +0000
Subject: [R] Plotting a x axis from a vector with rownames
References: <NEBBLCMFGLNFBEBKHFCEEEIJCFAA.cdeclercq@nordnet.fr>
Message-ID: <3C839332.77E48293@psy.uni-muenchen.de>

Christophe Declercq wrote:
> Is that what you want?
> 
> > y<-c(78.952, 87.308, 86.490, 74.040)
> > names(y)<-c("cond1",  "cond2",  "cond3",  "cond4")
> > stripchart(y~names(y), vertical=TRUE)
> 
> Hope it helps.

Yes, exactly. Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Mar  4 17:03:48 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 4 Mar 2002 11:03:48 -0500
Subject: [R] Standardized Beta?
In-Reply-To: <20020304150450.A5185@ling.umu.se>; from fredrik.karlsson@ling.umu.se on Mon, Mar 04, 2002 at 03:04:50PM +0100
References: <20020304150450.A5185@ling.umu.se>
Message-ID: <20020304110348.A22574@cattell.psych.upenn.edu>

On 03/04/02 15:04, Fredrik Karlsson wrote:
>Greetings all!
>
>Got another question for you:
>
>When doing regression, is there a way of automatically obtaining the 
>standardized correlation coefficients?
>
>/Fredrik

Use scale() on all the variables, e.g.

lm(scale(y) ~ scale(x1) + scale(x2))

or else I standardize the variables first (using scale()).

Probably this is wrong, but it seems like the natural way to do
it, so, if it is wrong, it would be useful to know how to do it
correctly.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bastian.peter at epfl.ch  Mon Mar  4 17:16:17 2002
From: bastian.peter at epfl.ch (Bastian PETER)
Date: Mon, 4 Mar 2002 17:16:17 +0100
Subject: [R] Running on MacOS X
Message-ID: <a05101404b8a94dd47213@[128.178.94.33]>

Good Morning !

I am trying to run R on MacOS X using XFree86 4.2.0 on a G4 867, 512 
Mb, running MacOS X 10.1.3, fink and R-project version 1.4.0. The 
files where downloaded from http://cran.r-project.org/bin/macosx/.
When I try to run it, I get the following error message

"dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
/sw/lib/libpng.2.dylib (compatibility version of user: 1.0.12 greater 
than library's version: 1.0.10)
".

I hope you have some ideas what the problem is and how I can fix it.

thanks for your help

Bastian PETER
-- 
Bastian PETER
Swiss Federal Institute of Technology Lausanne
Medical Engineering Laboratory
PSE-A Ecublens
CH-1015 Lausanne
Switzerland

Tel. ++41 21 693 83 58
Fax ++41 21 693 83 30
bastian.peter at epfl.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Mar  4 18:38:37 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 04 Mar 2002 12:38:37 -0500
Subject: [R] Standardized Beta?
In-Reply-To: <20020304150450.A5185@ling.umu.se>
Message-ID: <5.1.0.14.2.20020304122034.01da0e08@pop>

At 03:04 PM 3/4/2002 +0100, Fredrik Karlsson wrote:

>When doing regression, is there a way of automatically obtaining the
>standardized correlation coefficients?

Dear Fredrik,

I assume that you mean standardized *regression* coefficients. If so, a 
simple approach is to use the scale function to standardize the variables 
and then to perform a regression with lm; you can include -1 on the 
right-hand side of the model formula to suppress the constant; it will be 0 
within rounding error anyway.

For example, using the Duncan data frame in the car package:

         > Duncan.s <- as.data.frame(scale(Duncan[, 2:4])) # omits a factor 
in col. 1
         > lm(prestige ~ income + education - 1, data=Duncan.s)

         Call:
         lm(formula = prestige ~ income + education - 1, data = Duncan.s)

         Coefficients:
         income  education
          0.4643     0.5155

Of course, you could also compute the standardized coefficients from the 
unstandardized coefficients and the standard deviations of the variables; 
for example

         > mod <- lm(prestige ~ income + education, data=Duncan)
         > coef(mod)
         (Intercept)      income   education
          -6.0646629   0.5987328   0.5458339
         > coef(mod)[2:3]*sd(Duncan[,c('income', 
'education')])/sd(Duncan$prestige)
         income education
         0.4642947 0.5155284

Finally, it's not hard to encapsulate this in a function:

         > std.coef <- function (mod){
         +     sy <- sd(response(mod))
         +     sx <- sd(model.matrix(mod)[,-1])
         +     b <- coef(mod)[-1]
         +     b*sx/sy
         +     }

         > std.coef(mod)
         income education
         0.4642947 0.5155284

Is that what you had in mind?
   John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sun at cae.wisc.edu  Mon Mar  4 19:02:02 2002
From: sun at cae.wisc.edu (Hongyu Sun)
Date: Mon, 4 Mar 2002 12:02:02 -0600
Subject: [R] LOESS?
References: <E16htHW-00052p-00@mailhub1.shef.ac.uk>
Message-ID: <025b01c1c3a6$b0d6a910$e2b16880@its04>

Dear List:

Is there LOESS or LOWESS in R? Thanks a lot!

Hongyu Sun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Mar  4 19:21:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Mar 2002 10:21:22 -0800 (PST)
Subject: [R] LOESS?
In-Reply-To: <025b01c1c3a6$b0d6a910$e2b16880@its04>
Message-ID: <Pine.A41.4.44.0203041017060.144620-100000@homer10.u.washington.edu>

On Mon, 4 Mar 2002, Hongyu Sun wrote:

> Dear List:
>
> Is there LOESS or LOWESS in R? Thanks a lot!

The easiest way to answer questions like this is to use help.search()
first.  In some cases the functions are in a package that you haven't
installed or are not well indexed, so you have to ask, but in this case:

R> help.search("loess")
Help files with alias or title matching `loess',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

panel.functions(lattice)
                        Useful Panel Functions
prepanel.functions(lattice)
                        Useful Prepanel Function for Lattice
loess(modreg)           Local Polynomial Regression Fitting
loess.control(modreg)   Set Parameters for Loess
modreg-internal(modreg)
                        Internal modreg functions
predict.loess(modreg)   Predict Loess Curve or Surface
scatter.smooth(modreg)
                        Scatter Plot with Smooth Curve Fitted by Loess
stl(ts)                 Seasonal Decomposition of Time Series by Loess

R> help.search("lowess")
Help files with alias or title matching `lowess',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

lowess(base)            Scatter Plot Smoothing


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Mar  4 20:00:38 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 5 Mar 2002 08:00:38 +1300
Subject: [R] LOESS?
In-Reply-To: <025b01c1c3a6$b0d6a910$e2b16880@its04>
Message-ID: <001001c1c3ae$e077d4c0$75b7fea9@STATISTICS>

Yes.

See:
   ?lowess
And
   library(modreg)
   ?loess
For details

K Wang

------------------------------------------------------------------------
--------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
Auckland
New Zealand


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Hongyu Sun
Sent: Tuesday, March 05, 2002 7:02 AM
To: R-help at stat.math.ethz.ch
Subject: [R] LOESS?


Dear List:

Is there LOESS or LOWESS in R? Thanks a lot!

Hongyu Sun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Mon Mar  4 21:11:53 2002
From: richmond at saintmarys.edu (David A Richmond)
Date: Mon, 4 Mar 2002 15:11:53 -0500 (EST)
Subject: [R] Running on MacOS X
In-Reply-To: <a05101404b8a94dd47213@[128.178.94.33]>
Message-ID: <Pine.GSO.4.20.0203041509520.26171-100000@jade.saintmarys.edu>

I got that error too when trying to run R1.4.0 from CRAN. I then used FINK
to compile/install R and it worked fine. Took a long time to compile on
my 500Mhz iMac, though.

Dave Richmond


On Mon, 4 Mar 2002, Bastian PETER wrote:

> Good Morning !
> 
> I am trying to run R on MacOS X using XFree86 4.2.0 on a G4 867, 512 
> Mb, running MacOS X 10.1.3, fink and R-project version 1.4.0. The 
> files where downloaded from http://cran.r-project.org/bin/macosx/.
> When I try to run it, I get the following error message
> 
> "dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /sw/lib/libpng.2.dylib (compatibility version of user: 1.0.12 greater 
> than library's version: 1.0.10)
> ".
> 
> I hope you have some ideas what the problem is and how I can fix it.
> 
> thanks for your help
> 
> Bastian PETER
> -- 
> Bastian PETER
> Swiss Federal Institute of Technology Lausanne
> Medical Engineering Laboratory
> PSE-A Ecublens
> CH-1015 Lausanne
> Switzerland
> 
> Tel. ++41 21 693 83 58
> Fax ++41 21 693 83 30
> bastian.peter at epfl.ch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|574-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Watkins at foodscience.afisc.csiro.au  Mon Mar  4 23:37:53 2002
From: Peter.Watkins at foodscience.afisc.csiro.au (Peter.Watkins@foodscience.afisc.csiro.au)
Date: Tue, 5 Mar 2002 09:37:53 +1100 
Subject: [R] Solving quadratic functions
Message-ID: <1F8EDF0AE0FFC643BC8FE577BC4919E624AD99@tomtom-wb.mel.foodscience.afisc.csiro.au>

I'm examining the use of the 'lm' function to solve quadratic functions.

With S+ 2000, the 'lm' function can be used to solve eqns such as x1 + x2 +
x1^2 + x2^2 + x1*x2.
But, when trying this same eqn with R, the software does not produce any
coefficients for x1^2 or x2^2.

Is this a common problem? 

I'm using ver. 1.3.1 under Win. 2000.

Thanks, Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar  5 00:19:08 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Mar 2002 15:19:08 -0800 (PST)
Subject: [R] Solving quadratic functions
In-Reply-To: <1F8EDF0AE0FFC643BC8FE577BC4919E624AD99@tomtom-wb.mel.foodscience.afisc.csiro.au>
Message-ID: <Pine.A41.4.44.0203041518200.144620-100000@homer10.u.washington.edu>

On Tue, 5 Mar 2002 Peter.Watkins at foodscience.afisc.csiro.au wrote:

> I'm examining the use of the 'lm' function to solve quadratic functions.
>
> With S+ 2000, the 'lm' function can be used to solve eqns such as x1 + x2 +
> x1^2 + x2^2 + x1*x2.
> But, when trying this same eqn with R, the software does not produce any
> coefficients for x1^2 or x2^2.
>
> Is this a common problem?

Well, it's a FAQ

Differences between R & S: Models
   Whereas in S, you would use lm(y ~ x^3) to regress y on x^3, in R, you
   have to insulate powers of numeric vectors (using I()), i.e., you have
   to use lm(y ~ I(x^3)).


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Tue Mar  5 01:41:43 2002
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Mon, 04 Mar 2002 16:41:43 -0800
Subject: [R] reading 2-byte integers using readBin and connections
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B24D@pnlmse10.pnl.gov>

Hi folks:

This may be a stupid question, but I cannot seem to find a way to tell
readBin that I want to read 2-byte integers from the connection.  The input
file is 150,720 bytes long containing 75,360 short (2-byte) integers.  But
specifying "integer" or "int" for what in readBin only returns me a vector
of length 37680, leading me to believe that sizeof(integer) or sizeof(int)
is 4.

> lg.con <- file("../Gridded Data/data_47.3125_-121.3125.bin","rb")
> lg.data <- readBin(lg.con, what="integer", n=75360)
> close(lg.con)
> length(lg.data)
[1] 37680
> lg.con <- file("../Gridded Data/data_47.3125_-121.3125.bin","rb")
> lg.data <- readBin(lg.con, what="int", n=75360)
> close(lg.con)
> length(lg.data)
[1] 37680

What is the data type corresponding to short int?  ?readBin lists "numeric",
"double", "integer", "int", "logical", "complex", and "character" as the
data types -- nothing that seems like a "short".

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              
>

TIA.

Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Tue Mar  5 01:51:50 2002
From: zedshaw at zedshaw.com (Zed A. Shaw)
Date: 04 Mar 2002 16:51:50 -0800
Subject: [R] Improved HTML Reporting Functions
Message-ID: <1015289510.4834.15.camel@lsk-401i1.itservices.ubc.ca>

Hello Everyone,

First, I'd like to appologize for the e-mail confirmation that was
attached to my last message.  It was entirely unintentional.

I've attached a set of R files that make writing HTML reports very easy.
I basically combined the HTML functions I wrote previously, David Dahl's
xtable from CRAN, and then wrote a series of wrapper functions to
automagically write the correct HTML for different datatypes.  With
this, you can write a report simply by doing:

r <- report.new("My Report")
report.begin(r)
report(somestuff,r)
report(summary(sumstuff,r))
report.plot("fit.png",somestuff,r)
report.end(r)


And it will write all the good stuff for you to an html file.  I've
included an example file report-test.r so you can see how it all works.

Please take a look at it and send me your suggestions.  Feel free to
contact me at the points in my signature.

Thanks for your time.

-------------------------
Zed A. Shaw
Senior Programmer Analyst
University of British Columbia

AOL: shawzed, ICQ: 101799544, Yahoo: zed_shaw, MSN: zedshaw at hotmail.com
I also hang out on SILC at silc.silcnet.org


-------------- next part --------------
source("html.r")
require(xtable)

# example of how to use these functions
html.file("report.html")
html.begin("Statistical Report 1")
html.h("Statistical Report 1")
html.p("This report describes the relationship between data BANK.SAV file given for assignment 1")

# write an image in the current directory
data(swiss)
attach(swiss)
swiss.lm <- lm(Agriculture ~ Examination)

png(filename = "fit1.png")
plot(formula(swiss.lm))
abline(swiss.lm)
dev.off()


# write the image to the report
html.h("Figure 1: Multiple Regression Fit", level=2)

html.img("fit1.png")

html.h("Table 1: Summary of Regression Results", level=2)
html.p("This table shows the results of the regression.  As you can see...")


# create an xtable for the analysis
swiss.lm.xtable <- xtable(swiss.lm)
caption(swiss.lm.xtable) <- "Multiple Regression of salnow ~ salbeg + work + age"
print(swiss.lm.xtable,type="html",file=html$file,append=TRUE)

# this demonstrates how to divert the commands that cannot print to a file
html.h("This output shows even more detail.", level=2)

tag.begin("pre")
html.divert()
summary(swiss.lm)
html.revert()
tag.end("pre")


html.h("Demonstration of Listing", level=2)
number.list <- c("One", "Two", "Three", "Four", "Five")
html.p("A unordered list:")
html.list(number.list)
html.p("An ordered list:")
html.list(number.list,type="ol")

html.end()

-------------- next part --------------
html <- list(file="report.html")


html.file <- function(file="report.html") { 
	html$file <- file
}


html.write <- function(text,file=html$file,append=TRUE) {
	cat(text,file=file,append=append)
} 


# generic function for beginning a tag
tag.begin <- function(name, file=html$file, ...) {
	# start the tag
	tag <- paste(c("<",name), collapse="")
	
	# build the attributes
	attr.list <- list(...)
	for(n in names(attr.list)) {
		attr <- paste(c(n,"=",attr.list[n]),collapse="")
		# add to the end of tag
		tag <- paste(c(tag,attr),collapse=" ")
	}
	
	# end the tag
	tag <- paste(c(tag, ">"), collapse="")
	html.write(tag,file)
}


# generic function for ending a tag
tag.end <- function(name,file=html$file) {
	tag <- paste(c("</",name,">"), collapse="")
	html.write(tag,file)
}




# begins an html document
html.begin <- function(title, file=html$file, bgcolor="#FFFFFF") {
	html.write("<!-- HTML output generated by Zed A. Shaw's HTML report library. -->",file, append=FALSE)
	tag.begin("html",file)
	tag.begin("head",file)
	tag.begin("title",file)
	html.write(title, file)
	tag.end("title",file)
	tag.end("head",file)
	tag.begin("body",file,bgcolor=bgcolor)
}


# begins an html header (H) tag
html.h <- function(title, file=html$file, level=1) {
	h <- paste(c("<h",level,">",title,"</h",level,">"),collapse="")
	html.write(h,file)
}


html.p <- function(text="",file=html$file) {
	p <- paste(c("<p>",text,"</p>"),collapse="")
	html.write(p,file)
}


html.list <- function(list.elements,file=html$file,type="ul") {
	tag.begin(type,file)
	
	for(item in list.elements) {
          tag.begin("li",file)
          html.write(item,file)
          tag.end("li",file)
        }
	
	tag.end(type,file)
}

# writes an HR tag
html.hr <- function(file=html$file) {
	tag.begin("hr",file)
	tag.end("hr",file)
}


# writes an img tag
html.img <- function(src,file=html$file,border="0") {
	tag.begin("img",file,src=src,border=border)
	tag.end("img",file)
}

# ends an html document
html.end <- function(file=html$file) {
	tag.end("body",file)
	tag.end("html",file)
}


# sends the output to the html report file
html.divert <- function(file=html$file) {
  sink(file,append=TRUE)
}

# stops sending the output to the report file
html.revert <- function() {
  sink()
}
-------------- next part --------------
source("report.r")

# small sample of how to use the reporting stuff

data(swiss)
attach(swiss)
swiss.lm <- lm(Catholic ~ Fertility)
swiss.aov <- aov(swiss.lm)

swiss.report <- report.new("Swiss Data Report")
report.begin(swiss.report)

report(summary(swiss),swiss.report)
report(swiss.lm,swiss.report)
report(summary(swiss.lm),swiss.report)
report(swiss.aov,swiss.report)
report(summary(swiss.aov),swiss.report)

# a simple plot
report.plot("fit1.png",formula(swiss.lm),swiss.report)

# a more complex plot
report.plot("fit2.png",swiss.lm,swiss.report,plotfunc=function(x) {
  plot(formula(swiss.lm))
  abline(swiss.lm)
})


# all done
report.end(swiss.report)

-------------- next part --------------
source("html.r")
require(xtable)

# simple report writing to html functions


# This creates a new report object, which must be passed to all
# of the report functions so they know what to write.  The only
# type available right now is "html".
#
# It does NOT open the file or do anything, it merely makes the
# report object you need for the other report functions.
#
report.new <- function(title,file="report.html",type="html") {
  rep <- list(file="report.html",title=title)
  class(rep) <- "report"
  return(rep)
}


# This starts the report defined in the report object.
report.begin <- function(report) {
  html.begin(report$title,file=report$file)
  html.h(report$title)
}

# This ends the report defined in the report object.
report.end <- function(report) {
  html.end(report$file)
}



# Generic dispatch method that writes various report sections
# based on the type of object given in x.
report <- function(x,report, ...) {
  UseMethod("report")
}


# Writes tables to the report
report.xtable <- function(x,report, descr="",heading="Table", ...) {
  # write out the report
  html.h(heading,report$file)
  html.p(descr,report$file)
  print(x,type="html",report$file,append=TRUE)
}


report.data.frame <- function(x,report,desc="",heading="Data Frame", ...) {
  report.xtable(xtable(x),report,desc,heading,...)
}


report.summary.lm <- function(x,report,desc="",heading="LM Detailed Summary", ...) {
  html.h(heading ,report$file)
  html.p(desc,report$file)
  tag.begin("pre",report$file)
  html.divert(report$file)
  print(x)
  html.revert()
  tag.end("pre",report$file)
}


# For some reason, xtable can't do tables...
report.table <- function(x,report,desc="",heading="Generic Table") {
  html.h(heading,report$file)
  html.p(desc,report$file)
  tag.begin("pre",report$file)
  html.divert(report$file)
  print(x)
  html.revert()
  tag.end("pre",report$file)
}

report.lm <- function(x,report,desc="",heading="Linear Model",...) {
  report.xtable(xtable(x),report,desc,heading)
}

report.matrix <- function(x,report,desc="",heading="Matrix",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.anova <- function(x,report,desc="",heading="ANOVA",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.aov <- function(x,report,desc="",heading="AOV",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.summary.aov <- function(x,report,desc="",heading="AOV Detailed Summary",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.aovlist <- function(x,report,desc="",heading="AOV List",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.summary.aovlist <- function(x,report,desc="",heading="AOV List Detailed Summary",...) {
    report.xtable(xtable(x),report,desc,heading)
}


report.glm <- function(x,report,desc="",heading="Generalized Linear Model",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.summary.glm <- function(x,report,desc="",heading="GLM Detailed Summary",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.prcomp <- function(x,report,desc="",heading="PRComp",...) {
    report.xtable(xtable(x),report,desc,heading)
}

report.summary.prcomp <- function(x,report,desc="",heading="PRComp Detailed Summary",...) {
    report.xtable(xtable(x),report,desc,heading)
}


# special reporting function that will write out the given plot
# probably only useful for very simplistic plot situations

report.plot <- function(file,data,report,plotfunc=plot,desc="",heading="Figure",...) {
  png(filename = file,...)
  plotfunc(data)
  dev.off()

  # write the image to the report
  html.h(heading, report$file)
  html.p(desc,report$file)
  html.img(file,report$file) 
}

From tlumley at u.washington.edu  Tue Mar  5 01:57:18 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Mar 2002 16:57:18 -0800 (PST)
Subject: [R] reading 2-byte integers using readBin and connections
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF04B24D@pnlmse10.pnl.gov>
Message-ID: <Pine.A41.4.44.0203041656270.144620-100000@homer10.u.washington.edu>

On Mon, 4 Mar 2002, Prasad, Rajiv wrote:

>
> What is the data type corresponding to short int?  ?readBin lists "numeric",
> "double", "integer", "int", "logical", "complex", and "character" as the
> data types -- nothing that seems like a "short".
>

There is a size= option described in ?readBin
    size: integer.  The number of bytes per element in the byte stream.
           The default, `NA', uses the natural size.  Size changing is
           not supported for complex vectors.

That looks as though it should help.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Tue Mar  5 02:21:23 2002
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Tue, 5 Mar 2002 14:21:23 +1300
Subject: [R] R help search engine/ windows crashable
Message-ID: <3C84D463.8641.6455814@localhost>

System info:
R Version 1.4.1  (2002-01-30) on Windows 2000
ESS v. 5.1.20 using emacs ver. 20.1.1

Colleagues

Problem:

Over the last several versions of R, I have noticed that the HTML for R 
help search engine brought up by help.start() under ESS tends to crash 
on my machine periodically.  By this I mean the web browser exits. 

Test case:

For example, from the R buffer in ESS I typed help.start() and the 
browser loads the help page. I went to the search engine and keywords 
link to get the search box. All 3 options for keyword, object  names, help 
page titles were ticked. I typed in 'plot.options' and clicked on search. 
When nothing was found, I modified my search to 'plot', but this time hit 
return instead of clicking on the search button (this seems natural 
because the previous entry option now covers the search button unless 
you move the mouse). Windows returned an error message 
"IEXPLORE.exe has generated errors and will be closed by windows. 
You will need to restart the program". 
So I restarted and tried again with this sequence: typed 'spearman' in 
search box, hit submit, all is OK, typed 'correlation', hit return, all is ok, 
typed 'plot options', and the previous searches with 'plot' in them came 
up. If I now hit return the error is generated again.

Conclusion -- I think there is a problem with interaction of the previously 
searched word list box and the use of return as opposed to the submit 
button for repeat searching. 

I expect this problem will not occur on my linux machine at home, but is a 
windows yukkie.

Am I wrong? BTW, I'm not criticising the help system -- it's fantastic, and 
I would switch my work machine to linux if my lab was not wedded to 
windows.

Sam

Sam McClatchie, 
Research scientist (fisheries acoustics))))))))))

NIWA (National Institute of Water & Atmospheric Research Ltd)
Postal address: PO Box 14 901, Kilbirnie, Wellington, New Zealand. 

Street address: 301 Evans Bay Parade, Greta Point, 6003 Wellington, New Zealand.

Email: s.mcclatchie at niwa.cri.nz, 
phone 64-04-386-0574, FAX: 64-4-386 0574. 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue Mar  5 02:59:43 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 04 Mar 2002 17:59:43 -0800
Subject: No subject
Message-ID: <3C84268F.BECEE6A0@lbl.gov>

I get this error in one of my R programs and I have no idea what it is.
Any hint?

Error in "[<-"(*tmp*, , 1, value = Stat[1:numberSamples]) : 
        object is not subsetable
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Tue Mar  5 05:00:37 2002
From: marimont at nxpdata.com (David Marimont)
Date: Mon, 04 Mar 2002 20:00:37 -0800
Subject: [R] no labels when plotting dendrograms
Message-ID: <3C8442E5.3030407@nxpdata.com>

I'd like to be able to cut dendrograms at a height I specify
and then plot the resulting subtrees.  I wanted to use the
dendrogram object for this purpose because there doesn't seem
to be a canned way to cut a hclust object and get a list of
hclust objects, but there is a function (cut) that does that
for dendrograms.  The problem I'm having is that when I plot
a dendrogram, I can't figure out how to add labels to the nodes.
For example, this example from the dendrogram documentation
plots a dendrogram without labels:

     library(mva)
     data(USArrests)
     hc <- hclust(dist(USArrests), "ave")
     str(dend1 <- as.dendrogram(hc))
     plot(dend1)
     dend2 <- cut(dend1, h=70)
     plot(dend2$upper)
     plot(dend2$lower[[3]])

So... does anyone know how to cut an hclust object and get a
list of hclust objects, or how to plot a dendrogram object with
labels?  Thanks.

   David Marimont
   NXP Data Analysis, Inc.
   http://www.nxpdata.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue Mar  5 05:33:59 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Mon, 4 Mar 2002 22:33:59 -0600
Subject: [R] identify in lattice
Message-ID: <OF294FF94C.6C29CD20-ON86256B73.0017D5FF@mmm.com>

Does identify work in lattice plots?  I tried this in R 1.4.1 (original
release) on my Win2000 machine with lattice 0.4-0 and grid 0.5-1.

     > xyplot(y ~ x,
     + panel=function(x, y, ...){
     + panel.xyplot(x, y, col=2, pch=20, ...)
     + panel.lmline(x, y, type = "l")
     + identify(x, y)
     + })

I get a change of cursor after the data points and the LS line are plotted
(but before the axes are), but when I start clicking on points, all I get
are beeps.   When I click the right mouse button I get a window with
stop/continue choices and choosing stop produces the axes on the plot and a
bunch of  warnings about no point being within 0.25 inches.

Am I doing anything wrong or identify is not implemented in lattice
graphics?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  5 08:14:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Mar 2002 07:14:51 +0000 (GMT)
Subject: [R] identify in lattice
In-Reply-To: <OF294FF94C.6C29CD20-ON86256B73.0017D5FF@mmm.com>
Message-ID: <Pine.GSO.4.44.0203050712450.4339-100000@auk.stats>

On Mon, 4 Mar 2002 apjaworski at mmm.com wrote:

> Does identify work in lattice plots?  I tried this in R 1.4.1 (original
> release) on my Win2000 machine with lattice 0.4-0 and grid 0.5-1.
>
>      > xyplot(y ~ x,
>      + panel=function(x, y, ...){
>      + panel.xyplot(x, y, col=2, pch=20, ...)
>      + panel.lmline(x, y, type = "l")
>      + identify(x, y)
>      + })
>
> I get a change of cursor after the data points and the LS line are plotted
> (but before the axes are), but when I start clicking on points, all I get
> are beeps.   When I click the right mouse button I get a window with
> stop/continue choices and choosing stop produces the axes on the plot and a
> bunch of  warnings about no point being within 0.25 inches.
>
> Am I doing anything wrong or identify is not implemented in lattice
> graphics?

identify is part of the base graphics: lattice is built on grid.  You can't
just use base graphics functions in lattice panels, but in most cases there
are equivalents.  identify in an exception, one that has hit me too.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Tue Mar  5 08:16:31 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Mon, 4 Mar 2002 23:16:31 -0800 (PST)
Subject: [R] identify in lattice
In-Reply-To: <OF294FF94C.6C29CD20-ON86256B73.0017D5FF@mmm.com>
Message-ID: <20020305071631.44317.qmail@web13902.mail.yahoo.com>



Nope, there is no grid/lattice counterpart of identify() yet.

--- apjaworski at mmm.com wrote:
> Does identify work in lattice plots?  I tried this in R 1.4.1 (original
> release) on my Win2000 machine with lattice 0.4-0 and grid 0.5-1.
> 
>      > xyplot(y ~ x,
>      + panel=function(x, y, ...){
>      + panel.xyplot(x, y, col=2, pch=20, ...)
>      + panel.lmline(x, y, type = "l")
>      + identify(x, y)
>      + })
[...]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  5 08:50:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Mar 2002 07:50:42 +0000 (GMT)
Subject: [R] R help search engine/ windows crashable
In-Reply-To: <3C84D463.8641.6455814@localhost>
Message-ID: <Pine.GSO.4.44.0203050743260.4339-100000@auk.stats>

On Tue, 5 Mar 2002, S.McClatchie wrote:

> System info:
> R Version 1.4.1  (2002-01-30) on Windows 2000
> ESS v. 5.1.20 using emacs ver. 20.1.1

And your browser was?  (I hope that was emacs 21.1.1, BTW.)

You do have a choice of browser under Windows, so try another one (or try
upgrading it).

For example, Windows XP does not do this with IE6, and nor does Netscape
6.2.1 on Windows 2000.  I haven't tested Opera 6, but Opera 5.12 was fine.

>
> Colleagues
>
> Problem:
>
> Over the last several versions of R, I have noticed that the HTML for R
> help search engine brought up by help.start() under ESS tends to crash
> on my machine periodically.  By this I mean the web browser exits.
>
> Test case:
>
> For example, from the R buffer in ESS I typed help.start() and the
> browser loads the help page. I went to the search engine and keywords
> link to get the search box. All 3 options for keyword, object  names, help
> page titles were ticked. I typed in 'plot.options' and clicked on search.
> When nothing was found, I modified my search to 'plot', but this time hit
> return instead of clicking on the search button (this seems natural
> because the previous entry option now covers the search button unless
> you move the mouse). Windows returned an error message
> "IEXPLORE.exe has generated errors and will be closed by windows.
> You will need to restart the program".
> So I restarted and tried again with this sequence: typed 'spearman' in
> search box, hit submit, all is OK, typed 'correlation', hit return, all is ok,
> typed 'plot options', and the previous searches with 'plot' in them came
> up. If I now hit return the error is generated again.
>
> Conclusion -- I think there is a problem with interaction of the previously
> searched word list box and the use of return as opposed to the submit
> button for repeat searching.
>
> I expect this problem will not occur on my linux machine at home, but is a
> windows yukkie.
>
> Am I wrong? BTW, I'm not criticising the help system -- it's fantastic, and
> I would switch my work machine to linux if my lab was not wedded to
> windows.

Yes, the browser crashed so it's a browser bug.  You should be reporting it
to Microsoft, not R-help.

Linux browsers are prone to crashing too, in my experience far more often
than Windows ones (not surprising given the market shares and hence
development efforts).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar  5 09:48:43 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 5 Mar 2002 09:48:43 +0100 (MET)
Subject: [R] Re: your mail
In-Reply-To: <3C84268F.BECEE6A0@lbl.gov>
Message-ID: <Pine.OSF.3.96.1020305094440.30028B-100000@ija.csic.es>

Francisco,

It would be a lot easier helping you if:

1. You provide an appropriate subject field in your
message.
2. You tell the list the exact R expression that
is causing the problem.

Without (1) many people will just delete your message.
Without (2) the only answer that comes to my mind is
that you are trying to subset on a dimension that does
not exist in your object, but it's difficult to tell
without trying it.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 4 Mar 2002, Francisco J Molina wrote:

> I get this error in one of my R programs and I have no idea what it is.
> Any hint?
>
> Error in "[<-"(*tmp*, , 1, value = Stat[1:numberSamples]) :
>         object is not subsetable
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



From maeder at atmos.umnw.ethz.ch  Tue Mar  5 09:40:57 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 05 Mar 2002 09:40:57 +0100
Subject: [R] enhanced Question to stand. Beta
Message-ID: <3C848499.8AB5201F@atmos.umnw.ethz.ch>

Hello everybody,

a question that connect to the question of Frederik Karlsons about 'how
to stand. betas'
With the stand. betas i can compare the influence of the different
explaning variables. What do i with the betas of factors? I can't use
the solution of JohnFox, because there is no sd of an factor. How can i
compare the influence of the factor with the influence of the numeric
variables?

Thanks for any help

joerg

--
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




From burkard at giub.unibe.ch  Tue Mar  5 11:02:02 2002
From: burkard at giub.unibe.ch (Reto Burkard)
Date: Tue, 05 Mar 2002 11:02:02 +0100
Subject: [R] Running mean in R?
Message-ID: <3C84979A.6A4FE1F@giub.unibe.ch>

Hi there

Is there an easy function available in R for calculating the running
mean?

Reto


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



From ripley at stats.ox.ac.uk  Tue Mar  5 11:47:48 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Mar 2002 10:47:48 +0000 (GMT)
Subject: [R] Running mean in R?
In-Reply-To: <3C84979A.6A4FE1F@giub.unibe.ch>
Message-ID: <Pine.GSO.4.44.0203051046440.25436-100000@auk.stats>

On Tue, 5 Mar 2002, Reto Burkard wrote:

> Is there an easy function available in R for calculating the running
> mean?

filter (in package ts)

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Mar  5 14:27:21 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 05 Mar 2002 13:27:21 +0000
Subject: [R] How do delete all R objects out off a function?
Message-ID: <3C84C7B9.282EA8F3@psy.uni-muenchen.de>

Hi,

how can I remove all R objects in the workspace out of a function?
rm(list=ls()) doesn't work, and I've tried several pos arguments, but
nothing worked.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Tue Mar  5 13:37:58 2002
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Tue, 05 Mar 2002 13:37:58 +0100
Subject: [R] dribble for R?
Message-ID: <3C84BC26.6050409@ai.univie.ac.at>

Is there something like the LISP function dribble in R?
This would log all the output to a file but still show it
on the terminal too.

sink just diverts the output, but I dont see a way
to do what dribble would do?

Johann


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Mar  5 13:47:47 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 5 Mar 2002 07:47:47 -0500
Subject: [R] Running mean in R?
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE759@groexmbcr02.pfizer.com>


> From: Reto Burkard [mailto:burkard at giub.unibe.ch]
> ...
> Is there an easy function available in R for calculating the running
> mean?

If you just need the mean calculated over all previous elements of a vector,
use

    cumsum(x)/seq(along=x)

Make sure and remove missing values first!

If, on the other hand, you want the mean calculated over a fixed number of
previous points use this function from the soon-to-be released version of
the gregmisc library:

############ running.R

"running" _ function( X, fun=mean, width=min(length(X),20),
                     allow.fewer=FALSE,...)
{
  n _ length(X)

  from  <-  sapply( (1:n) - width + 1, function(x) max(x,1) )
  to    <-  1:n

  elements  <- apply(cbind(from,to), 1,function(x) seq(x[1], x[2]) )

  if(is.matrix(elements))
    elements  <- as.data.frame(elements)

  funct _ function(which,what,fun,...) fun(what[which],...)

  Xvar _ sapply(elements, funct, what=X, fun=fun, ...)
  names(Xvar) <- paste(from,to,sep=":")

  if(!allow.fewer)
    Xvar[1:(width-1)]  <- NA

  return(Xvar)
}

############# help page

running               package:gregmisc               R Documentation

Apply a Function Over Adjacent Subsets of a Vector

Description:

     Applies a function over subsets of the vector formed by taking a
     fixed number of previous points.

Usage:

     running(X, fun=mean, width=min(length(X),20), allow.fewer=FALSE,...)

Arguments:

       X: data vector

     fun: function to apply. Default is `mean'

   width: integer giving the number of vector elements to include in
          the subsets.  Defaults to the lesser of the length of the
          data and 20 elements.

allow.fewer: Boolean indicating whether the function should be computed
          for initial subsets with fewer than `width' points

     ...: parameters to be passed to `fun'

Value:

     Vector containg the results of applying the function `fun' to the
     subsets.

Author(s):

     Gregory R. Warnes Gregory_R_Warnes\@groton.pfizer.com

Examples:

     running(1:20,width=5)

     plot(1:20, running(1:20,width=5))
     plot(1:20, running(1:20,width=5, allow.fewer=T))

     # plot running mean and central 2 standard deviation range
     # estimated by last 40 observations
     dat <- rnorm(500, sd=1 + (1:500)/500 )
     plot(dat)
     fun <- function(x,sign=1) mean(x) + sign * sqrt(var(x))
     lines(running(dat,width=50,fun=mean,allow=T),col="blue")
     lines(running(dat,width=50,fun=fun, sign=-1, allow=T),col="red")
     lines(running(dat,width=50,fun=fun, sign=1, allow=T),col="red")



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar  5 14:11:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 05 Mar 2002 14:11:14 +0100
Subject: [R] How do delete all R objects out off a function?
References: <3C84C7B9.282EA8F3@psy.uni-muenchen.de>
Message-ID: <3C84C3F2.9572EA33@statistik.uni-dortmund.de>



Sven Garbade wrote:
>
> Hi,
>
> how can I remove all R objects in the workspace out of a function?
> rm(list=ls()) doesn't work, and I've tried several pos arguments, but
> nothing worked.

Example:

  anything <- 1
  delete.all <- function()
      rm(list=ls(pos=.GlobalEnv), pos=.GlobalEnv)
  delete.all()
  ls()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Mar  5 14:37:10 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 05 Mar 2002 08:37:10 -0500
Subject: [R] enhanced Question to stand. Beta
In-Reply-To: <3C848499.8AB5201F@atmos.umnw.ethz.ch>
Message-ID: <5.1.0.14.2.20020305082706.01d4ef20@pop>

Dear Joerg,

At 09:40 AM 3/5/2002 +0100, you wrote:

>a question that connect to the question of Frederik Karlsons about 'how
>to stand. betas'
>With the stand. betas i can compare the influence of the different
>explaning variables. What do i with the betas of factors? I can't use
>the solution of JohnFox, because there is no sd of an factor. How can i
>compare the influence of the factor with the influence of the numeric
>variables?

The simple function in my response to Frederik Karlsons's question will
work with a model that includes factors, producing a standardized
coefficient for each column of the model matrix (except the constant), but
the result is not sensible, depending for example on the contrast coding. I
don't believe that there is a sensible answer to your question, and
moreover, I would argue that standardized coefficients are not even
terribly useful for comparing the "influence" of quantitative predictors.

By the way, the function that I included in my previous message
inadvertently used the response function in my car library to extract the
response variable from the model. Without this library attached, one could
substitute model.response(model.frame((mod))).

Regards,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Mar  5 14:46:43 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 05 Mar 2002 08:46:43 -0500
Subject: [R] Re: object is not subsetable error (was No Subject)
In-Reply-To: <3C84268F.BECEE6A0@lbl.gov>
Message-ID: <5.1.0.14.2.20020305083926.01d9f248@pop>

At 05:59 PM 3/4/2002 -0800, Francisco J Molina wrote:
>I get this error in one of my R programs and I have no idea what it is.
>Any hint?
>
>Error in "[<-"(*tmp*, , 1, value = Stat[1:numberSamples]) :
>         object is not subsetable

Dear Francisco,

It's hard to know what specifically caused the error without more
information, but in general you see this kind of error message when you try
to replace an element in an object, such as a function, that can't be
subscripted. For example,

         > myfn <- function(x) x
         > myfn[1] <- 1
         Error in "[<-"(*tmp*, 1, value = 1) : object is not subsetable

If it's not obvious where the problem is occurring, I suggest that you use
the debugging tools in R, such as debug, to pinpoint the location of the
error. It should then be clear what's causing the problem.

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Tue Mar  5 14:52:27 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Tue, 05 Mar 2002 08:52:27 -0500
Subject: [R] no labels when plotting dendrograms
Message-ID: <7C4F091F6140D411A29300508B5C73B906D71F2B@usrymx04.merck.com>


David -- I recently posted some code to extract subtrees of hclust objects.

It's included below.  As usual, although I believe this code to work and
have used it myself, it comes with no guarantees.

Hope it helps,

Matt Wiener
----------------------------------------------------------------------------
------

"f.get.subtrees" <-
function(tree, k = NULL, h = NULL,
           add.element = NULL){
    ## tree is a tree, k and h are as in cutree.
    ## additional elements is the name of any additional info
    ## connected with tree nodes.  The additional elements referred
    ## to should have the same length as tree$labels.
    ##
    groups <- cutree(tree, k, h)
    subtrees <- list()
    for(i in 1:length(unique(groups))){
      subtrees[[i]] <- f.make.subtree(tree, groups, i,
                                      add.element = add.element)
    }
    subtrees
  }

"f.make.subtree" <-
  function (tree, groups, n = 1, add.element = NULL)
{
  which.nodes <- which(groups == n)
  names(which.nodes) <- NULL
  ## steal some code from plot.hclust
  use.labels <-
    if (is.null(tree$labels))
      paste(1:(nrow(tree$merge) + 1))
    else as.character(tree$labels)

  subtree.labels <- use.labels[which.nodes]

  subtree.order <- tree$order[use.labels[tree$order] %in%
                              subtree.labels]
  which.merge.elements <- which(-tree$merge %in% which.nodes)
  which.merge.rows <- sort(unique(which.merge.elements%%nrow(tree$merge)))
  which.merge.rows[which.merge.rows == 0] <- nrow(tree$merge)
  old.length <- 0
  new.length <- length(which.merge.rows)
  if (length(which.merge.elements) == 1) {
    res <- list(merge = NULL, heights = tree$height[which.merge.rows],
                order = 1,
                labels = {if(is.null(tree$labels)) NULL else
subtree.labels},
                method = tree$method,
                call = tree$call, dist.method = tree$dist.method)
  }
  else {
    while (new.length - old.length > 0) {
      old.length <- new.length
      new.rows <- numeric(0)
      more.new.rows <- numeric(0)
      row.elements <- as.vector(tree$merge[which.merge.rows,
                                           ])
      pos.elements <- row.elements[row.elements > 0]
      if (length(pos.elements) > 0)
        new.rows <- pos.elements[apply(tree$merge[pos.elements,
                                                  , drop = F], 1,
function(x) {
                                                    any(x > 0) & all(-x[x <
0] %in% which.nodes)
                                                  })]
      more.new.rows <- which(apply(tree$merge, 1, function(x) {
        all(x %in% which.merge.rows)
      }))
      which.merge.rows <- sort(unique(c(which.merge.rows,
                                        new.rows, more.new.rows)))
      new.length <- length(which.merge.rows)
    }
    merge.list <- tree$merge[which.merge.rows, , drop = F]
    merge.height <- tree$height[which.merge.rows]
    pos.elements <- sort(merge.list[merge.list > 0])
    for (i in seq(along = pos.elements)) merge.list[merge.list ==
                    pos.elements[i]] <- which(pos.elements[i] ==
which.merge.rows)
    neg.elements <- merge.list[merge.list < 0]
    minus.neg.elements <- -neg.elements
    num.elements <- length(neg.elements)
    change.table <- cbind(sort(minus.neg.elements), 1:num.elements)
    for (i in 1:num.elements) {
      merge.list[merge.list == -change.table[i, 1]] <- -change.table[i,
                                                                     2]
    }
    old.order <- subtree.order
    subtree.order <- match(use.labels[old.order], subtree.labels)
    res <- list(merge = merge.list, height = merge.height,
                order = subtree.order,
                labels = {if(is.null(tree$labels)) NULL else
subtree.labels},
                method = tree$method,
                call = list(match.call(), tree$call), dist.method =
tree$dist.method)
    class(res) <- "hclust"
    for (i in seq(along = add.element)) {
      res[[add.element[i]]] <- tree[[add.element[i]]][which.nodes]
    }
  }
  res
}

-----Original Message-----
From: David Marimont [mailto:marimont at nxpdata.com]
Sent: Monday, March 04, 2002 11:01 PM
To: R-help at stat.math.ethz.ch
Subject: [R] no labels when plotting dendrograms


I'd like to be able to cut dendrograms at a height I specify
and then plot the resulting subtrees.  I wanted to use the
dendrogram object for this purpose because there doesn't seem
to be a canned way to cut a hclust object and get a list of
hclust objects, but there is a function (cut) that does that
for dendrograms.  The problem I'm having is that when I plot
a dendrogram, I can't figure out how to add labels to the nodes.
For example, this example from the dendrogram documentation
plots a dendrogram without labels:

     library(mva)
     data(USArrests)
     hc <- hclust(dist(USArrests), "ave")
     str(dend1 <- as.dendrogram(hc))
     plot(dend1)
     dend2 <- cut(dend1, h=70)
     plot(dend2$upper)
     plot(dend2$lower[[3]])

So... does anyone know how to cut an hclust object and get a
list of hclust objects, or how to plot a dendrogram object with
labels?  Thanks.

   David Marimont
   NXP Data Analysis, Inc.
   http://www.nxpdata.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Mar  5 14:49:20 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 5 Mar 2002 14:49:20 +0100
Subject: [R] enhanced Question to stand. Beta
References: <3C848499.8AB5201F@atmos.umnw.ethz.ch>
Message-ID: <00d901c1c44c$9892ca40$5c13070a@it.giustizia.it>

>a question that connect to the question of Frederik Karlsons >about 'how
>to stand. betas'
>With the stand. betas i can compare the influence of the >different
>explaning variables. What do i with the betas of factors? I can't >use
>the solution of JohnFox, because there is no sd of an factor. >How can i
>compare the influence of the factor with the influence of the >numeric
>variables?


Use the t-values from summary(lm(....))!
Are not the standardized regression coefficients the "t values"?

cheers,
vito


----- Original Message -----
From: "Joerg Maeder" <maeder at atmos.umnw.ethz.ch>
To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
Sent: Tuesday, March 05, 2002 9:40 AM
Subject: [R] enhanced Question to stand. Beta


Hello everybody,

a question that connect to the question of Frederik Karlsons about 'how
to stand. betas'
With the stand. betas i can compare the influence of the different
explaning variables. What do i with the betas of factors? I can't use
the solution of JohnFox, because there is no sd of an factor. How can i
compare the influence of the factor with the influence of the numeric
variables?

Thanks for any help

joerg

--
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



From vito.muggeo at giustizia.it  Tue Mar  5 14:49:20 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 5 Mar 2002 14:49:20 +0100
Subject: [R] enhanced Question to stand. Beta
References: <3C848499.8AB5201F@atmos.umnw.ethz.ch>
Message-ID: <00d901c1c44c$9892ca40$5c13070a@it.giustizia.it>

>a question that connect to the question of Frederik Karlsons >about 'how
>to stand. betas'
>With the stand. betas i can compare the influence of the >different
>explaning variables. What do i with the betas of factors? I can't >use
>the solution of JohnFox, because there is no sd of an factor. >How can i
>compare the influence of the factor with the influence of the >numeric
>variables?


Use the t-values from summary(lm(....))!
Are not the standardized regression coefficients the "t values"?

cheers,
vito


----- Original Message -----
From: "Joerg Maeder" <maeder at atmos.umnw.ethz.ch>
To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
Sent: Tuesday, March 05, 2002 9:40 AM
Subject: [R] enhanced Question to stand. Beta


Hello everybody,

a question that connect to the question of Frederik Karlsons about 'how
to stand. betas'
With the stand. betas i can compare the influence of the different
explaning variables. What do i with the betas of factors? I can't use
the solution of JohnFox, because there is no sd of an factor. How can i
compare the influence of the factor with the influence of the numeric
variables?

Thanks for any help

joerg

--
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Tue Mar  5 15:49:06 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Tue, 05 Mar 2002 15:49:06 +0100
Subject: [R] location of maximum
Message-ID: <3C84DAE2.B56AB3C4@giub.unibe.ch>

Dear R-users,

I'm trying to extract the exact location of the maximum value in a
vector or a matrix, meaning I want not only the maximum itself but also
at which position (e.g row 6, column 12) it is located.
I appreciate any suggestions.
Thanks,

Patrick
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020305/e8b71fd0/patrick.vcf

From reid_huntsinger at merck.com  Tue Mar  5 15:49:13 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 05 Mar 2002 09:49:13 -0500
Subject: [R] reading 2-byte integers using readBin and connections
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E8CC@uswpmx11.merck.com>

You want to tell readBin that "size=2". 'what="integer"' only specifies the
mode of the resulting vector. You may also need the "signed=FALSE" argument
if you have unsigned quantities and/or the "endian=" argument to get the
byte order right for your platform.

Reid Huntsinger

-----Original Message-----
From: Prasad, Rajiv [mailto:Rajiv.Prasad at pnl.gov]
Sent: Monday, March 04, 2002 7:42 PM
To: R-Help (E-mail)
Subject: [R] reading 2-byte integers using readBin and connections


Hi folks:

This may be a stupid question, but I cannot seem to find a way to tell
readBin that I want to read 2-byte integers from the connection.  The input
file is 150,720 bytes long containing 75,360 short (2-byte) integers.  But
specifying "integer" or "int" for what in readBin only returns me a vector
of length 37680, leading me to believe that sizeof(integer) or sizeof(int)
is 4.

> lg.con <- file("../Gridded Data/data_47.3125_-121.3125.bin","rb")
> lg.data <- readBin(lg.con, what="integer", n=75360)
> close(lg.con)
> length(lg.data)
[1] 37680
> lg.con <- file("../Gridded Data/data_47.3125_-121.3125.bin","rb")
> lg.data <- readBin(lg.con, what="int", n=75360)
> close(lg.con)
> length(lg.data)
[1] 37680

What is the data type corresponding to short int?  ?readBin lists "numeric",
"double", "integer", "int", "logical", "complex", and "character" as the
data types -- nothing that seems like a "short".

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              
>

TIA.

Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar  5 16:00:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Mar 2002 16:00:09 +0100
Subject: [R] location of maximum
In-Reply-To: <3C84DAE2.B56AB3C4@giub.unibe.ch>
References: <3C84DAE2.B56AB3C4@giub.unibe.ch>
Message-ID: <x2d6yjhxfq.fsf@blueberry.kubism.ku.dk>

Patrick Buetzberger <patrick at giub.unibe.ch> writes:

> Dear R-users,
> 
> I'm trying to extract the exact location of the maximum value in a
> vector or a matrix, meaning I want not only the maximum itself but also
> at which position (e.g row 6, column 12) it is located.
> I appreciate any suggestions.

To find which element of x is equal to the maximum of x, try

which(x==max(x))

if you want the array index of the maximum of a matrix, use

which(m==max(m), arr.ind=TRUE)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Mar  5 16:34:25 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 5 Mar 2002 10:34:25 -0500
Subject: [R] dribble for R?
In-Reply-To: <3C84BC26.6050409@ai.univie.ac.at>; from johann@ai.univie.ac.at on Tue, Mar 05, 2002 at 01:37:58PM +0100
References: <3C84BC26.6050409@ai.univie.ac.at>
Message-ID: <20020305103425.E2806@jessie.research.bell-labs.com>


Johann Petrak wrote:
> Is there something like the LISP function dribble in R?
> This would log all the output to a file but still show it
> on the terminal too.
> 
> sink just diverts the output, but I dont see a way
> to do what dribble would do?
> 
> Johann

I don't know of a way of duplicating _all_ output in the current
mechanism directly from R. Perhaps using ESS (transcript mode or simply the 
R shell buffer) in Emacs is what you want.

In the longer term, having richer output streams in R is something
that may be added (perhaps with a more event/listener based
architecture as in some othe systems). This is useful when embedding R
in other systems, and passively producing output in different formats
such as XML, HTML, TeX, etc.

In the interim, the code below provides a way to duplicate the output
from the results of top-level tasks, i.e commands at the prompt,
within an R session. Basically, one can register an R function that
gets called each time a top-level task has been completed, and it is
called with a) the command/expression, b) the value, c) whether the
command completed normally or with an error, and d) whether the result
was printed or not.

One register's the function with a call to addTaskCallback().
Having defined tee() as below, you give the command

 addTaskCallback(tee("myRLogFile"))

The resulting function that gets registered is the out() function in
the definition of tee() and prints both the expression and value of
any command that completed normally and produced output that was
printed. You can adapt it to output what you want.

This won't duplicate error and warning messages, calls to cat() &
print() within functions.


Hope this helps a little. 

tee <- function(fileName="R.log")
{
  # Open the file and put an identifier at the top.
  # Could also append to an existing file if it is already there.
  con <- file(fileName,"w")
  cat("Log of R output", date(), "\n", file=con)
  
  out <-
    function(expr, value, ok, visible) {
        # only show the commands and output for
        # visible output.
      if(ok && visible) {
        # redirect output to the log file temporarily
       sink(con)
       on.exit(sink()) # make certain we revert back to usual output stream

       cat("\n\n", file=con) # put a separator between the expressions, perhaps number them

       try({print(expr) ; print(value)}) # print the expression and value
      }
       # Make certain to return true so that the callback
       # stays around for the next task. Returning FALSE
       # causes it to be removed.
      return(TRUE)
    }

  out
}

D.



> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luisf.rivera at uah.es  Tue Mar  5 17:11:07 2002
From: luisf.rivera at uah.es (Rivera Galicia Luis Felipe)
Date: Tue, 5 Mar 2002 17:11:07 +0100
Subject: [R] Monotonicity correlation coefficients
Message-ID: <B577AC6E5249174B87CCE9632FC54B0D467575@osiris.uah.es>

Could anyone help me to find the mathematical expression to calculate the monotonicity correlation coefficient between two variables?
 
Thanks in advance.
 
Luis Rivera.
Universidad de Alcal?.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Mar  5 17:11:58 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 05 Mar 2002 11:11:58 -0500
Subject: [R] How do delete all R objects out off a function?
In-Reply-To: <3C84C7B9.282EA8F3@psy.uni-muenchen.de>
Message-ID: <5.1.0.14.2.20020305110844.01d985a8@pop>

Dear Sven,

At 01:27 PM 3/5/2002 +0000, you wrote:
>Hi,
>
>how can I remove all R objects in the workspace out of a function?
>rm(list=ls()) doesn't work, and I've tried several pos arguments, but
>nothing worked.

This seems like a rather risky thing to do; however:

         > suicide <- function() rm(list=ls(.GlobalEnv) , envir=.GlobalEnv)
         > x <- y <- z <- 1
         > ls()
         [1] "suicide" "x"       "y"       "z"
         > suicide()
         > ls()
         character(0)

Is that what you had in mind? (Of course, the function need not reside in 
the global environment.)

John



-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar  5 17:21:36 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 5 Mar 2002 08:21:36 -0800 (PST)
Subject: [R] enhanced Question to stand. Beta
In-Reply-To: <00d901c1c44c$9892ca40$5c13070a@it.giustizia.it>
Message-ID: <Pine.A41.4.44.0203050813240.102552-100000@homer35.u.washington.edu>

On Tue, 5 Mar 2002, vito muggeo wrote:

> >a question that connect to the question of Frederik Karlsons >about 'how
> >to stand. betas'
> >With the stand. betas i can compare the influence of the >different
> >explaning variables. What do i with the betas of factors? I can't >use
> >the solution of JohnFox, because there is no sd of an factor. >How can i
> >compare the influence of the factor with the influence of the >numeric
> >variables?
>
>
> Use the t-values from summary(lm(....))!
> Are not the standardized regression coefficients the "t values"?
>

Not at all. The t-values are coefficients divided by their standard
errors. Standardised coefficients are divided by the standard deviation of
the predictor.

There isn't really a way to do this for factors.

Consider the much simpler case of binary data. You could use the standard
deviation of the variable, but there might be just as strong a case for
considering the variable as a discretisation of a Normal and working out
some sort of latent variable model.  These approaches would typically give
quite different results, suggesting that the question doesn't have a
unique answer.


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Mar  5 17:27:45 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 05 Mar 2002 11:27:45 -0500
Subject: [R] enhanced Question to stand. Beta
In-Reply-To: <00d901c1c44c$9892ca40$5c13070a@it.giustizia.it>
References: <3C848499.8AB5201F@atmos.umnw.ethz.ch>
Message-ID: <5.1.0.14.2.20020305112533.01d45ac0@pop>

Dear Vito,

At 02:49 PM 3/5/2002 +0100, vito muggeo wrote:
> >a question that connect to the question of Frederik Karlsons >about 'how
> >to stand. betas'
> >With the stand. betas i can compare the influence of the >different
> >explaning variables. What do i with the betas of factors? I can't >use
> >the solution of JohnFox, because there is no sd of an factor. >How can i
> >compare the influence of the factor with the influence of the >numeric
> >variables?
>
>
>Use the t-values from summary(lm(....))!
>Are not the standardized regression coefficients the "t values"?

No: The t-values are the ratios of the coefficients to their standard 
errors. What's usually meant by "standardized coefficients" are the 
coefficients obtained when the variables (both response and predictors) are 
standardized to unit variance.

John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Tue Mar  5 17:49:14 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Tue, 05 Mar 2002 17:49:14 +0100
Subject: [R] newbie: remove column with low mean from a matrix
Message-ID: <3.0.6.32.20020305174914.00ae2b30@mail.anst.uu.se>

Dear all,

Sorry to bother you with one more newbie question.

I have a dataobject with several hundreds of columns. I want to remove
columns with a mean of the column values below a certain value:

> a<- c(1,2,3,4,5,6)
> b<-c(2,4,6,8,10,12)
> c<- c(3,6,9,12,15,18)
> test<- as.matrix(cbind(a, b, c))
> mean(a)
[1] 3.5
> mean(b)
[1] 7
> mean(c)
[1] 10.5

Say the "certain value" is 5, I would like a new matrix as follows:

> new.test
      b  c
[1,]  2  3
[2,]  4  6
[3,]  6  9
[4,]  8 12
[5,] 10 15
[6,] 12 18


I have searched in the help archive, in help files, and in the
documentation without finding it.


Thanks in advance!

Yours sincerely,
Tord Sn?ll






-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Tue Mar  5 18:12:09 2002
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Tue, 05 Mar 2002 09:12:09 -0800
Subject: [R] reading 2-byte integers using readBin and connections
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B24E@pnlmse10.pnl.gov>


Thanks, Thomas.  On second (actually that number is a little higher) reading
of ?readBin, the size= option hit me right between the eyes.  Guess I was
not sufficiently caffeinated last evening. ;-)  Thanks a lot.

Rajiv

> On Mon, 4 Mar 2002, Prasad, Rajiv wrote:
> 
> >
> > What is the data type corresponding to short int?  ?readBin 
> lists "numeric",
> > "double", "integer", "int", "logical", "complex", and 
> "character" as the
> > data types -- nothing that seems like a "short".
> >
> 
> There is a size= option described in ?readBin
>     size: integer.  The number of bytes per element in the 
> byte stream.
>            The default, `NA', uses the natural size.  Size changing is
>            not supported for complex vectors.
> 
> That looks as though it should help.
> 
> 	-thomas
> 

--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  5 18:10:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Mar 2002 17:10:52 +0000 (GMT)
Subject: [R] newbie: remove column with low mean from a matrix
In-Reply-To: <3.0.6.32.20020305174914.00ae2b30@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.44.0203051703210.28048-100000@auk.stats>

On Tue, 5 Mar 2002, Tord Snall wrote:

> Sorry to bother you with one more newbie question.

A `newbie' of long standing, I believe.

> I have a dataobject with several hundreds of columns. I want to remove

What sort of object?  matrix or data frame or private class "dataobject" or
....

> columns with a mean of the column values below a certain value:
>
> > a<- c(1,2,3,4,5,6)
> > b<-c(2,4,6,8,10,12)
> > c<- c(3,6,9,12,15,18)
> > test<- as.matrix(cbind(a, b, c))
> > mean(a)
> [1] 3.5
> > mean(b)
> [1] 7
> > mean(c)
> [1] 10.5
>
> Say the "certain value" is 5, I would like a new matrix as follows:
>
> > new.test
>       b  c
> [1,]  2  3
> [2,]  4  6
> [3,]  6  9
> [4,]  8 12
> [5,] 10 15
> [6,] 12 18
>
>
> I have searched in the help archive, in help files, and in the
> documentation without finding it.

Let's first assume a matrix, as you used one

mns <- colMeans(test)  # apply(test, 2, mean) in 1.4.x
test[, mns >= 5, drop = F]

For a data frame:

mns <- sapply(dfr, mean)
dfr[mns >= 5]

I know a good book or two about this kind of thing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar  5 18:22:21 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 05 Mar 2002 18:22:21 +0100
Subject: [R] newbie: remove column with low mean from a matrix
References: <3.0.6.32.20020305174914.00ae2b30@mail.anst.uu.se>
Message-ID: <3C84FECD.451F9E41@statistik.uni-dortmund.de>



Tord Snall wrote:
> 
> Dear all,
> 
> Sorry to bother you with one more newbie question.
> 
> I have a dataobject with several hundreds of columns. I want to remove
> columns with a mean of the column values below a certain value:
> 
> > a<- c(1,2,3,4,5,6)
> > b<-c(2,4,6,8,10,12)
> > c<- c(3,6,9,12,15,18)
> > test<- as.matrix(cbind(a, b, c))
> > mean(a)
> [1] 3.5
> > mean(b)
> [1] 7
> > mean(c)
> [1] 10.5
> 
> Say the "certain value" is 5, I would like a new matrix as follows:
> 
> > new.test
>       b  c
> [1,]  2  3
> [2,]  4  6
> [3,]  6  9
> [4,]  8 12
> [5,] 10 15
> [6,] 12 18
> 
> I have searched in the help archive, in help files, and in the
> documentation without finding it.

The following lines should do the trick:

 means <- apply(test, 2, mean)
 test[, means >= 5]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Tue Mar  5 19:22:35 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Tue, 5 Mar 2002 19:22:35 +0100 (MET)
Subject: [R] location of maximum
In-Reply-To: <3C84DAE2.B56AB3C4@giub.unibe.ch>
Message-ID: <Pine.SGI.3.95.1020305192058.33333146C-100000@genome.cbs.dtu.dk>

Dear Patrick,


  What about:



x <- rnorm(100)
mx <- max(x)
exact.location <- which(x == mx)



   Hopin' it helps,



   Laurent




Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent



On Tue, 5 Mar 2002, Patrick Buetzberger wrote:

> Dear R-users,
> 
> I'm trying to extract the exact location of the maximum value in a
> vector or a matrix, meaning I want not only the maximum itself but also
> at which position (e.g row 6, column 12) it is located.
> I appreciate any suggestions.
> Thanks,
> 
> Patrick
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar  5 19:35:49 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 5 Mar 2002 19:35:49 +0100 (MET)
Subject: [R] location of maximum
In-Reply-To: <3C84DAE2.B56AB3C4@giub.unibe.ch>
Message-ID: <Pine.OSF.3.96.1020305193501.9760D-100000@ija.csic.es>

For a vector:
> max(a1)
[1] 16667
> (1:length(a1))[a1==max(a1)]
[1] 6175
or
> which.max(a1)
[1] 6175

For a matrix:
> a2 <- matrix(1:12,ncol=3)
> a2
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   11
[4,]    4    8   12
> max(a2)
[1] 12
> which.max(a2)
[1] 12
> col(a2)
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    1    2    3
[3,]    1    2    3
[4,]    1    2    3
> col(a2)[12]
[1] 3
> row(a2)[12]
[1] 4

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Tue, 5 Mar 2002, Patrick Buetzberger wrote:

> Dear R-users,
> 
> I'm trying to extract the exact location of the maximum value in a
> vector or a matrix, meaning I want not only the maximum itself but also
> at which position (e.g row 6, column 12) it is located.
> I appreciate any suggestions.
> Thanks,
> 
> Patrick
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Tue Mar  5 20:53:59 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Tue, 5 Mar 2002 14:53:59 -0500 (EST)
Subject: [R] newbie: remove column with low mean from a matrix
In-Reply-To: <3.0.6.32.20020305174914.00ae2b30@mail.anst.uu.se>
Message-ID: <Pine.LNX.4.33.0203051451200.31537-100000@penguin.rand.org>

I'm sure there is a faster way, but

vec<-as.vector(apply(test,2,mean))
new.test<-test[,vec>=5]

should do what you need.

> I have a dataobject with several hundreds of columns. I want to remove
> columns with a mean of the column values below a certain value:
> 
> > a<- c(1,2,3,4,5,6)
> > b<-c(2,4,6,8,10,12)
> > c<- c(3,6,9,12,15,18)
> > test<- as.matrix(cbind(a, b, c))
> > mean(a)
> [1] 3.5
> > mean(b)
> [1] 7
> > mean(c)
> [1] 10.5
> 
> Say the "certain value" is 5, I would like a new matrix as follows:
> 
> > new.test
>       b  c
> [1,]  2  3
> [2,]  4  6
> [3,]  6  9
> [4,]  8 12
> [5,] 10 15
> [6,] 12 18



J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Tue Mar  5 23:19:46 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 05 Mar 2002 17:19:46 -0500
Subject: [R] apply question
Message-ID: <1015366786.1669.0.camel@penguin>


Sorry to bother the list with another apply question, but I am having
trouble getting my mind around the various apply forms.  A simplified
version of my problem is the following:

data _
data.frame(ct=seq(1,10),a1=rnorm(10),a2=rnorm(10),a3=rnorm(10),b=rnorm(10))
listofAvars _ grep('^a',names(data),value=T)

I would like a1, a2, a3 to be multiplied by 10. That is, I would like a
cleaner way of specifying the following:

a1 <- a1*10
a2 <- a2*10
a3 <- a3*10

As I mentioned, this is a simplified version of a larger variables list
and slightly more complicated transformation.

Thanks in advance,

Michaell Taylor


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gina.joue at ucd.ie  Wed Mar  6 00:04:41 2002
From: gina.joue at ucd.ie (g)
Date: Tue, 05 Mar 2002 23:04:41 +0000
Subject: [R] special characters/symbols
Message-ID: <0GSI00FGOW9O6M@Salicet.ucd.ie>

Hi,

Is there a way to print special characters (such as the IPA symbols) on plots?

Thanks,
g

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Mar  6 02:50:58 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 05 Mar 2002 20:50:58 -0500
Subject: [R] apply question
In-Reply-To: <1015366786.1669.0.camel@penguin>
Message-ID: <5.1.0.14.2.20020305204524.01d90a80@pop>

Dear Michael,

At 05:19 PM 3/5/2002 -0500, Michaell Taylor wrote:

>Sorry to bother the list with another apply question, but I am having
>trouble getting my mind around the various apply forms.  A simplified
>version of my problem is the following:
>
>data _
>data.frame(ct=seq(1,10),a1=rnorm(10),a2=rnorm(10),a3=rnorm(10),b=rnorm(10))
>listofAvars _ grep('^a',names(data),value=T)
>
>I would like a1, a2, a3 to be multiplied by 10. That is, I would like a
>cleaner way of specifying the following:
>
>a1 <- a1*10
>a2 <- a2*10
>a3 <- a3*10
>
>As I mentioned, this is a simplified version of a larger variables list
>and slightly more complicated transformation.

If I understand correctly what you want to do, then you don't need apply. Try

data[, listofAvars] <- 10*data[, listofAvars]

This doesn't produce new versions of a1, a2, and a3 in the global 
environment but it does transform the variables in the data frame, which 
could be subsequently attached. If you don't want to alter the original 
data, then you could make a copy of the data frame first.

Does that help?

John



-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Mar  6 09:21:37 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 06 Mar 2002 09:21:37 +0100
Subject: [R] Strange behaviour of strptime
Message-ID: <3C85D191.E1992742@atmos.umnw.ethz.ch>

Hello,

can anybopdy explain me this?

> strptime('02 03',format= '%y %m' )
[1] "2002-02-28"
> strptime('02 03 04',format= '%y %m %d' )
[1] "2002-03-04"


shouldn't the first example return "2002-03-01"?

gruess

joerg
-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  6 09:43:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 6 Mar 2002 08:43:29 +0000 (GMT)
Subject: [R] Strange behaviour of strptime
In-Reply-To: <3C85D191.E1992742@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.31.0203060838480.21687-100000@gannet.stats>

On Wed, 6 Mar 2002, Joerg Maeder wrote:

> Hello,
>
> can anybopdy explain me this?
>
> > strptime('02 03',format= '%y %m' )
> [1] "2002-02-28"
> > strptime('02 03 04',format= '%y %m %d' )
> [1] "2002-03-04"
>
>
> shouldn't the first example return "2002-03-01"?

No, and this is covered in the help file (at least in 1.4.1).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Mar  6 12:43:03 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 6 Mar 2002 12:43:03 +0100
Subject: [R] Running mean in R?
In-Reply-To: <Pine.GSO.4.44.0203051046440.25436-100000@auk.stats>
Message-ID: <MABBLJDICACNFOLGIHJOGENACJAA.phgrosje@ulb.ac.be>

See also decaverage() and tsd() in package PASTECS (which both use filter()
indeed).
Best,

Philippe Grosjean

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian D Ripley
Envoye : mardi 5 mars 2002 11:48
A : Reto Burkard
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] Running mean in R?


On Tue, 5 Mar 2002, Reto Burkard wrote:

> Is there an easy function available in R for calculating the running
> mean?

filter (in package ts)

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From list_server2001 at yahoo.com  Wed Mar  6 12:53:41 2002
From: list_server2001 at yahoo.com (Frank Mattes)
Date: Wed, 6 Mar 2002 11:53:41 +0000
Subject: [R] help with combining data frames
Message-ID: <p05100300b8a9d37612ff@[128.40.219.132]>

Dear R user,

I'm relative new and need some help / advise from you. I have 
organised my data in several frames, mainly because the data came 
from different sources. One common variable in all data frames is the
day post transplantation. I would like to combine the data frame to 
one big data frame which contains all the data, however no duplicate 
rows should occour (only one row for one day)

Here an example which illustrates what I would like to do:

Frame 1
Day   Hb   wbc
1       10    4
3       11    7
5        9     6


Frame 2

Day   ALT
1        60
2        70
4        50
5        80

Combined

Day   Hb   wbc   ALT
1       10      4     60
2        NA    NA    70
3       11      7     NA
4        NA    NA    50
5         9       6     80

Does anyone know if this can be done, or is it better not to combine 
the frames ?

I appreciate any thoughts or help

Frank Mattes
Department of Virology
Royal Free and University Medical School
London
-- 

_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Mar  6 14:16:58 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 6 Mar 2002 14:16:58 +0100
Subject: [R] help with combining data frames
In-Reply-To: <p05100300b8a9d37612ff@[128.40.219.132]>
References: <p05100300b8a9d37612ff@[128.40.219.132]>
Message-ID: <15494.5834.49477.789784@gargle.gargle.HOWL>

>>>>> "Frank" == Frank Mattes <list_server2001 at yahoo.com> writes:

    Frank> Dear R user, I'm relative new and need some help /
    Frank> advise from you. I have organised my data in several
    Frank> frames, mainly because the data came from different
    Frank> sources. One common variable in all data frames is
    Frank> the day post transplantation. I would like to combine
    Frank> the data frame to one big data frame which contains
    Frank> all the data, however no duplicate rows should occour
    Frank> (only one row for one day)

    Frank> Here an example which illustrates what I would like
    Frank> to do:

    Frank> Frame 1
    Frank> Day   Hb   wbc
    Frank> 1       10    4
    Frank> 3       11    7
    Frank> 5        9     6


    Frank> Frame 2

    Frank> Day   ALT
    Frank> 1        60
    Frank> 2        70
    Frank> 4        50
    Frank> 5        80

    Frank> Combined

    Frank> Day   Hb   wbc   ALT
    Frank> 1       10      4     60
    Frank> 2        NA    NA    70
    Frank> 3       11      7     NA
    Frank> 4        NA    NA    50
    Frank> 5         9       6     80

    Frank> Does anyone know if this can be done,

"if" is not the question with R -- it's a full programming language --
rather ``how easy''.  
Answer (in this case "quite easy"):

   fr12 <-  merge(frame1, frame2)

should work (using the merge method `merge.data.frame' --
	     look at its help page for options!)

    Frank> or is it better not to combine  the frames ?

(this depends on what you want to do with it; 
 I think I *would* want a combined data frame (and still keep the single ones))

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Wed Mar  6 14:19:18 2002
From: jgoebel at diw.de (Jan Goebel)
Date: Wed, 6 Mar 2002 14:19:18 +0100
Subject: [R] help with combining data frames
In-Reply-To: <p05100300b8a9d37612ff@[128.40.219.132]>; from list_server2001@yahoo.com on Wed, Mar 06, 2002 at 11:53:41 +0000
References: <p05100300b8a9d37612ff@[128.40.219.132]>
Message-ID: <20020306141918.A4030@diw136246.diw.de>

Hello,

you can use merge to merge data frames
by common columns.
See ?merge.

best

jan

On Wed, 06 Mar 2002, Frank Mattes wrote:

> Dear R user,
> 
> I'm relative new and need some help / advise from you. I have 
> organised my data in several frames, mainly because the data came 
> from different sources. One common variable in all data frames is the
> day post transplantation. I would like to combine the data frame to 
> one big data frame which contains all the data, however no duplicate 
> rows should occour (only one row for one day)
> 
> Here an example which illustrates what I would like to do:
> 
> Frame 1
> Day   Hb   wbc
> 1       10    4
> 3       11    7
> 5        9     6
> 
> 
> Frame 2
> 
> Day   ALT
> 1        60
> 2        70
> 4        50
> 5        80
> 
> Combined
> 
> Day   Hb   wbc   ALT
> 1       10      4     60
> 2        NA    NA    70
> 3       11      7     NA
> 4        NA    NA    50
> 5         9       6     80
> 
> Does anyone know if this can be done, or is it better not to combine 
> the frames ?
> 
> I appreciate any thoughts or help
> 
> Frank Mattes
> Department of Virology
> Royal Free and University Medical School
> London
> -- 
> 
> _________________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-----------------------------------
 Jan Goebel 
 j g o e b e l @ d i w . d e

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Wed Mar  6 15:13:01 2002
From: nj7w at virginia.edu (Nitin Jain)
Date: Wed, 6 Mar 2002 09:13:01 -0500 (EST)
Subject: [R] Problem in .First.lib 
Message-ID: <Pine.A41.4.32.0203060910450.61272-100000@node7.unix.Virginia.EDU>

Hello!

I downloaded a package "multtest" (from bioconductor.org) in R, and
installed it by 'R CMD <package>' (after unzipping and taring).
The problem is when I say 'library(multtest)' in R, the following error is
generated:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so":
  /usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so: ELF file data
encoding not little-endian
Error in library(multtest) : .First.lib failed

All the other packages (from bioconductor.org) work fine. I am wondering
if you could suggest me something about it.

Thanks.
Nitin

================================================================  N     NN
 Nitin Jain                              1800 J.P.A. Apt # 26     NN    N
 njain at virginia.edu                      Charlottesville          N N   N
 Bio-medical Engineering                 Ph. (434)243-9977 (O)    N  N  N
 Graduate Student                            (434)244-2844 (R)    N   N N
 University of Virginia                  VA - 22903               N    NN
 http://www.people.virginia.edu/~nj7w    USA                     NN     N
================================================================
 " THERE WAS NEVER A NIGHT OR A PROBLEM THAT COULD DEFEAT SUNRISE OR HOPE. "



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Wed Mar  6 15:43:57 2002
From: nj7w at virginia.edu (Nitin Jain)
Date: Wed, 6 Mar 2002 09:43:57 -0500 (EST)
Subject: [R] Problem in .First.lib 
Message-ID: <Pine.A41.4.32.0203060939460.61272-100000@node7.unix.Virginia.EDU>


 Hello!

 I downloaded a package "multtest" in R, and installed it by 'R CMD
 <package>' (after unzipping and taring).
 The problem is when I say 'library(multtest)' in R, the following error is
 generated:

 Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library
 "/usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so":
   /usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so: ELF file data
 encoding not little-endian
 Error in library(multtest) : .First.lib failed

 I am wondering if you could suggest me something about it.

 Thanks in advance,
 Nitin


================================================================  N     NN
 Nitin Jain                              1800 J.P.A. Apt # 26     NN    N
 njain at virginia.edu                      Charlottesville          N N   N
 Bio-medical Engineering                 Ph. (434)243-9977 (O)    N  N  N
 Graduate Student                            (434)244-2844 (R)    N   N N
 University of Virginia                  VA - 22903               N    NN
 http://www.people.virginia.edu/~nj7w    USA                     NN     N
================================================================
 " THERE WAS NEVER A NIGHT OR A PROBLEM THAT COULD DEFEAT SUNRISE OR HOPE. "


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Wed Mar  6 15:44:20 2002
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 6 Mar 2002 09:44:20 -0500
Subject: [R] Problem in .First.lib
In-Reply-To: <Pine.A41.4.32.0203060910450.61272-100000@node7.unix.Virginia.EDU>; from nj7w@virginia.edu on Wed, Mar 06, 2002 at 09:13:01AM -0500
References: <Pine.A41.4.32.0203060910450.61272-100000@node7.unix.Virginia.EDU>
Message-ID: <20020306094420.F11590@jimmy.harvard.edu>

On Wed, Mar 06, 2002 at 09:13:01AM -0500, Nitin Jain wrote:
> Hello!
> 
> I downloaded a package "multtest" (from bioconductor.org) in R, and
> installed it by 'R CMD <package>' (after unzipping and taring).
> The problem is when I say 'library(multtest)' in R, the following error is
> generated:
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so":
>   /usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so: ELF file data
> encoding not little-endian
> Error in library(multtest) : .First.lib failed
> 

 Hi, it seems that you have uncovered a bug in our distribution
 mechanism. We will fix this asap.
 What has happened is that you have received .o and .so files that you
 should not have received.
 If you untar the file, then cd into multtest/src and
 do
  rm *.o multtest.so
 (to remove the offending files)
 then cd back up,
  R CMD INSTALL multtest

  you should be fine.
  Thanks for the report and sorry for the inconvenience.

   Robert


> All the other packages (from bioconductor.org) work fine. I am wondering
> if you could suggest me something about it.
> 
> Thanks.
> Nitin
> 
> ================================================================  N     NN
>  Nitin Jain                              1800 J.P.A. Apt # 26     NN    N
>  njain at virginia.edu                      Charlottesville          N N   N
>  Bio-medical Engineering                 Ph. (434)243-9977 (O)    N  N  N
>  Graduate Student                            (434)244-2844 (R)    N   N N
>  University of Virginia                  VA - 22903               N    NN
>  http://www.people.virginia.edu/~nj7w    USA                     NN     N
> ================================================================
>  " THERE WAS NEVER A NIGHT OR A PROBLEM THAT COULD DEFEAT SUNRISE OR HOPE. "
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luisf.rivera at uah.es  Wed Mar  6 16:33:31 2002
From: luisf.rivera at uah.es (Rivera Galicia Luis Felipe)
Date: Wed, 6 Mar 2002 16:33:31 +0100
Subject: [R] Monotonicity correlation coefficients
Message-ID: <B577AC6E5249174B87CCE9632FC54B0D467578@osiris.uah.es>

What I mean is something I found in an paper (Cohen (2000): "Multidimensional Analysis of International Social Indicators - Education, Economy, Media and Demography", Social Indicators Research, 50, pp. 83-106). In this paper, the author mentions (page 89) a "regression-free coefficient of correlation called monotonicity correlation (MONCO)". There must be a statistical package, called HUDAP, which calculates these coefficients (http://help.mscc.huji.ac.il/hudap.html).
 
The problem is that I wanto to see the mathematical expression that allows you to calculate, because Cohen defines the monotonicity correlation as a coefficient that takes into account the similarity of direction between two variables - in other words, whether both are increasing or decreasing. Amar and Toledano (Amar and Toledano, 1997, "Hudap Manual with Mathematics". The Hebrew University of Jerusalem, Jerusalem) define the monotonicity correlation as: "given two NUMERICAL variables x and y, the weak coefficient of monitonicity tells how much the two variables vary in the same sense. In other words, when x increases, does y increase or not?" Supposely, this enables us to recognize non-linear correlations, which may be more complex but also more common, especially in the social work.
 
I don't know if this is clear enough, but I think that catching other relationships than linear between numerical variables could be very useful.
 
Warm regards,
 
Luis Rivera.
Statistics Department.
Universidad de Alcal?.

	-----Mensaje original----- 
	De: Roger Koenker [mailto:roger at ysidro.econ.uiuc.edu] 
	Enviado el: mar 05/03/2002 17:33 
	Para: Rivera Galicia Luis Felipe 
	CC: 
	Asunto: Re: [R] Monotonicity correlation coefficients
	
	

	do you mean something like Kendall's tau or Spearman"s rho?  See cor.test.
	If this isn't what you want I'd be curious to know what you do have in mind.
	
	
	url:    http://www.econ.uiuc.edu                Roger Koenker
	email   roger at ysidro.econ.uiuc.edu              Department of Economics
	vox:    217-333-4558                            University of Illinois
	fax:    217-244-6678                            Champaign, IL 61820
	
	On Tue, 5 Mar 2002, Rivera Galicia Luis Felipe wrote:
	
	> Could anyone help me to find the mathematical expression to calculate the monotonicity correlation coefficient between two variables?
	>
	> Thanks in advance.
	>
	> Luis Rivera.
	> Universidad de Alcal?.
	> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
	> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
	> Send "info", "help", or "[un]subscribe"
	> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
	> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
	>
	
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Mar  6 16:33:50 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 06 Mar 2002 10:33:50 -0500
Subject: [R] Problem in .First.lib
Message-ID: <OF47A21105.4A555BF8-ON85256B74.00555FE8@rtp.epa.gov>


I believe the problem is that the gzipped  tar file includes *.o and
*.so files, which are apparently not appropriate for your system (which
you did not describe, by the way).  Try deleting those files and then
use R CMD INSTALL multtest.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                    
                    Nitin Jain                                                                                                      
                    <nj7w at virginia.edu>         To:     r-help at stat.math.ethz.ch                                                    
                    Sent by:                    cc:                                                                                 
                    owner-r-help at stat.ma        Subject:     [R] Problem in .First.lib                                              
                    th.ethz.ch                                                                                                      
                                                                                                                                    
                                                                                                                                    
                    03/06/02 09:13 AM                                                                                               
                                                                                                                                    
                                                                                                                                    




Hello!

I downloaded a package "multtest" (from bioconductor.org) in R, and
installed it by 'R CMD <package>' (after unzipping and taring).
The problem is when I say 'library(multtest)' in R, the following error
is
generated:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so":
  /usr/local/bin/R-1.4.1/library/multtest/libs/multtest.so: ELF file
data
encoding not little-endian
Error in library(multtest) : .First.lib failed

All the other packages (from bioconductor.org) work fine. I am wondering
if you could suggest me something about it.

Thanks.
Nitin

================================================================  N
NN
 Nitin Jain                              1800 J.P.A. Apt # 26     NN
N
 njain at virginia.edu                      Charlottesville          N N
N
 Bio-medical Engineering                 Ph. (434)243-9977 (O)    N  N
N
 Graduate Student                            (434)244-2844 (R)    N   N
N
 University of Virginia                  VA - 22903               N
NN
 http://www.people.virginia.edu/~nj7w    USA                     NN
N
================================================================
 " THERE WAS NEVER A NIGHT OR A PROBLEM THAT COULD DEFEAT SUNRISE OR
HOPE. "



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Wed Mar  6 17:05:53 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Wed, 6 Mar 2002 11:05:53 -0500
Subject: [R] help with combining data frames
In-Reply-To: <p05100300b8a9d37612ff@[128.40.219.132]>
Message-ID: <3C85F811.3641.59AA474@localhost>


merge(frame1,frame2)

or do a relational database join using one of the SQL
interfaces to R.

On 6 Mar 2002 at 11:53, Frank Mattes wrote:

> Dear R user,
> 
> I'm relative new and need some help / advise from you. I have 
> organised my data in several frames, mainly because the data came 
> from different sources. One common variable in all data frames is the
> day post transplantation. I would like to combine the data frame to 
> one big data frame which contains all the data, however no duplicate 
> rows should occour (only one row for one day)
> 
> Here an example which illustrates what I would like to do:
> 
> Frame 1
> Day   Hb   wbc
> 1       10    4
> 3       11    7
> 5        9     6
> 
> 
> Frame 2
> 
> Day   ALT
> 1        60
> 2        70
> 4        50
> 5        80
> 
> Combined
> 
> Day   Hb   wbc   ALT
> 1       10      4     60
> 2        NA    NA    70
> 3       11      7     NA
> 4        NA    NA    50
> 5         9       6     80
> 
> Does anyone know if this can be done, or is it better not to combine 
> the frames ?
> 
> I appreciate any thoughts or help
> 
> Frank Mattes
> Department of Virology
> Royal Free and University Medical School
> London
> -- 
> 
> _________________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Mar  6 17:46:09 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 6 Mar 2002 17:46:09 +0100
Subject: [R] Loading tcltk package fails on WinMe/Cygwin but works with Rgui
Message-ID: <KKEGJOGBELBHDIKPINBMKEIHCKAA.hb@maths.lth.se>

I am investigating how well R/tcltk is supported on different system and I
ran into the same problem as Christian Schulz reported on February 7, 2002.

I am using [R] v1.4.1 on WinMe and ActiveTcl 8.3.2. Loading tcltk within
Rgui works just fine and both demo(tkdensity) and demo(tkttest) works as
expected. However, when I start R from my Cygwin terminal dyn.load() fails
to load the library:

% R --vanilla

> library(tcltk)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
  unable to load shared library
     "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll":
  LoadLibrary failure:  One of the library files needed to run this
application cannot be found.
Error in library(tcltk) : .First.lib failed

Trying to troubleshoot;

> file <- "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll"
> file.exists(file)
[1] TRUE
> dyn.load(file)

gives the same error as above. Suspecting Cygwin paths where interacting
with the Windows paths, I also tried set the working directory to the
directory where the dll is and to load from there

> setwd("C:/PROGRA~1/R/RW1041/library/tcltk/libs/")
> file <- "tcltk.dll"
> file.exists(file)
[1] TRUE
> dyn.load(file)

but the same error. As I said, this works fine with Rgui. Any ideas?

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  6 18:04:19 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Mar 2002 17:04:19 +0000 (GMT)
Subject: [R] Loading tcltk package fails on WinMe/Cygwin but works with
 Rgui
In-Reply-To: <KKEGJOGBELBHDIKPINBMKEIHCKAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.31.0203061651570.25329-100000@toucan.stats>

On Wed, 6 Mar 2002, Henrik Bengtsson wrote:

> I am investigating how well R/tcltk is supported on different system and I
> ran into the same problem as Christian Schulz reported on February 7, 2002.
>
> I am using [R] v1.4.1 on WinMe and ActiveTcl 8.3.2. Loading tcltk within
> Rgui works just fine and both demo(tkdensity) and demo(tkttest) works as
> expected. However, when I start R from my Cygwin terminal dyn.load() fails
> to load the library:
>
> % R --vanilla

What `R' is this?  The Windows port only has Rgui and Rterm.

My bet is that you don't have the *Windows* Tcl bin directory in your
*Cygwin* path.   See the rw-FAQ Q3.6.

If by `my Cygwin terminal' you mean the Cygwin bash shell (Cygwin provides
no terminal per se), then with the correct path it does work.  (I have Tcl
installed in c:\R\Tcl and had /R/Tcl/Bin in my bash path.  You can find
out by looking at the environment variable PATH from a running R process.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Wed Mar  6 19:41:20 2002
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Wed, 6 Mar 2002 18:41:20 +0000 (GMT)
Subject: [R] Loading tcltk package fails on both Rterm and Rgui 
In-Reply-To: <KKEGJOGBELBHDIKPINBMKEIHCKAA.hb@maths.lth.se>
Message-ID: <Pine.SOL.4.21.0203061828200.16372-100000@wallis>

Dear all,

> % R --vanilla
> 
> > library(tcltk)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>   unable to load shared library
>      "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll":
>   LoadLibrary failure:  One of the library files needed to run this
> application cannot be found.
> Error in library(tcltk) : .First.lib failed

I'm getting exactly this on an ancient installation of Win95, but
this time in both Rgui and Rterm. I did more or less the same things,
but got the same result.
 
> but the same error. As I said, this works fine with Rgui. Any ideas?

more or less the same sentiment, except the Rgui bit. I have had it
working on Win98 and Win2000 installations with no problems. Baffling.

David.

**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  6 20:13:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Mar 2002 19:13:59 +0000 (GMT)
Subject: [R] Loading tcltk package fails on both Rterm and Rgui 
In-Reply-To: <Pine.SOL.4.21.0203061828200.16372-100000@wallis>
Message-ID: <Pine.GSO.4.44.0203061912230.712-100000@auk.stats>

On Wed, 6 Mar 2002, David Lucy wrote:

> Dear all,
>
> > % R --vanilla
> >
> > > library(tcltk)
> > Error in dyn.load(x, as.logical(local), as.logical(now)) :
> >   unable to load shared library
> >      "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll":
> >   LoadLibrary failure:  One of the library files needed to run this
> > application cannot be found.
> > Error in library(tcltk) : .First.lib failed
>
> I'm getting exactly this on an ancient installation of Win95, but
> this time in both Rgui and Rterm. I did more or less the same things,
> but got the same result.
>
> > but the same error. As I said, this works fine with Rgui. Any ideas?
>
> more or less the same sentiment, except the Rgui bit. I have had it
> working on Win98 and Win2000 installations with no problems. Baffling.

And the answer is the same: re-read rw-FAQ Q3.6 and re-check your path.
Winmdows will find the tcl/tk DLLs if *and only if* they are in the path.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From walterm at cmat.edu.uy  Wed Mar  6 21:46:35 2002
From: walterm at cmat.edu.uy (Walter Moreira)
Date: Wed, 6 Mar 2002 17:46:35 -0300
Subject: [R] Announce: R from Python
Message-ID: <20020306174635.A2026@cmat.edu.uy>

Hello.

I'm not a regular subscriber in this mailing list, but I think that this 
announce may interest somebody. Please, forgive me if this is the wrong place.

Based on the code of RSPython, but modifying it a little, I wrote an interface 
for using R from Python. The main reason for writing it was to make it robust, 
in order to avoid segmentation faults. Also, it is (IMMO) a very transparent
interface between Python and R.

It is downloadable from

    http://www.cmat.edu.uy/~walterm/rpy

I attach a fragment of the README.

Regards:
Walter

-- 
--------------
Walter Moreira   <>  Centro de Matematica  <>  Universidad de la Republica
email: walterm at cmat.edu.uy  <>  Home Page: http://www.cmat.edu.uy/~walterm



       RPy 0.1 -  Python interface to the R Programming Language


1.  WHAT IS RPy?

RPy is a very simple, yet robust, interface to the R Programming Language
(http://www.r-project.org).  It can manage all kinds of R objects and can
execute arbitrary R functions (including the graphic functions).  All the
errors from the R language are converted to Python exceptions.  Any module
that later were installed on the R system, can easily be used from within
Python, without introducing any changes.  Currently it works only under
Linux/Unix.

This code is inspired in RSPython from the Omegahat project
(http://www.omegahat.org/RSPython).

[...snip...]

3.  USING RPy

For details see the file USING.  As a quick example, try the following
session:

    >>> from rpy import *
    >>>
    >>> l = [r.dchisq(x, 4) for x in r.seq(0, 10, by=0.1)]
    >>> r.par(ask=1, ann=0)
    >>> r.plot(l, type='lines')

and voila!, the graph of the density of a chi squared distribution with 4
degrees of freedom should appear.  Refer to the file USING for more info on
the interface, and to the R Programming Language manuals, which can be found
on

    http://www.r-project.org

In general, every line of the R manuals can be translated almost directly to
Python.  See the conversion directives in section 5 of file USING.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Wed Mar  6 21:16:34 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Wed, 6 Mar 2002 21:16:34 +0100 (CET)
Subject: [R] Hodrick-Prescott filter example
Message-ID: <Pine.LNX.4.33.0203062113290.5252-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Could someone, please, write me an example how to apply the
Hodrick-Prescott in R? Previously (in this list) someone mentioned it is
possible using the smooth spline library.
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8hnko4TIZ2lmUAtsRAo8wAKCWjskMH1L6c5IjattjUMSUPF2Y7ACcDHEQ
o6q5jVoVjJG/ogEMgSiBqVs=
=Cgpd
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Mar  6 22:05:19 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 6 Mar 2002 15:05:19 -0600 (CST)
Subject: [R] Hodrick-Prescott filter example
In-Reply-To: <Pine.LNX.4.33.0203062113290.5252-100000@x.opf.slu.cz>
Message-ID: <Pine.GSO.4.33.0203061503530.330-100000@ysidro.econ.uiuc.edu>

To repeat:  the Hodrick-Prescott filter is just smooth.spline with a
particular choice of the penalty parameter lambda and equally spaced
observations.


url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Wed, 6 Mar 2002, Lukas Kubin wrote:

> Could someone, please, write me an example how to apply the
> Hodrick-Prescott in R? Previously (in this list) someone mentioned it is
> possible using the smooth spline library.
> Thank you.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Wed Mar  6 22:45:26 2002
From: ozric at web.de (christian)
Date: Wed, 06 Mar 2002 22:45:26 +0100
Subject: [R] Loading tcltk package fails on WinMe/Cygwin but works with Rgui
Message-ID: <E16ij89-0002SG-00@smtp.web.de>

...i can only suggest  that  now tcl/tk & win2000 works fine with
this row in  file   /etc/Rprofile
Sys.putenv("TCL_LIBRARY"="c:/develope/Tcl/lib/tcl8.3")

and it is possible to test the entry in R with:
Sys.getenv()


                   TCL_LIBRARY 
                                                                                                                                                                                                                                 
"c:/develope/Tcl/lib/tcl8.3" 

regards,christian



>I am investigating how well R/tcltk is supported on different system and I
>ran into the same problem as Christian Schulz reported on February 7, 2002.
>
>I am using [R] v1.4.1 on WinMe and ActiveTcl 8.3.2. Loading tcltk within
>Rgui works just fine and both demo(tkdensity) and demo(tkttest) works as
>expected. However, when I start R from my Cygwin terminal dyn.load() fails
>to load the library:
>
>% R --vanilla
>
>> library(tcltk)
>Error in dyn.load(x, as.logical(local), as.logical(now)) :
>  unable to load shared library
>     "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll":
>  LoadLibrary failure:  One of the library files needed to run this
>application cannot be found.
>Error in library(tcltk) : .First.lib failed
>
>Trying to troubleshoot;
>
>> file <- "C:/PROGRA~1/R/RW1041/library/tcltk/libs/tcltk.dll"
>> file.exists(file)
>[1] TRUE
>> dyn.load(file)
>
>gives the same error as above. Suspecting Cygwin paths where interacting
>with the Windows paths, I also tried set the working directory to the
>directory where the dll is and to load from there
>
>> setwd("C:/PROGRA~1/R/RW1041/library/tcltk/libs/")
>> file <- "tcltk.dll"
>> file.exists(file)
>[1] TRUE
>> dyn.load(file)
>
>but the same error. As I said, this works fine with Rgui. Any ideas?
>
>Thanks
>
>Henrik Bengtsson
>
>Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
>Lund Institute of Technology/Lund University, Sweden (+2h UTC)
>Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
>h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Mar  7 00:36:17 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 6 Mar 2002 17:36:17 -0600
Subject: [R] Strange behavior when subsetting data frames with NAs
Message-ID: <OFFC17389C.6B0FBF6A-ON86256B74.0080C040@mmm.com>

Here is what I get using R 1.4.1 on Win2k (using precompiled version from
CRAN) and RH 7.2 Linux (compiled form source):

     >  data.frame(a=c(1, 2, 3, NA, NA), b=c(3, 1, 3, NA, NA)) -> zz
     > zz[zz[,2]>2, ]
             a  b
     X1   1  3
     X3   3  3
     NA  NA NA
     NA1 NA NA                                        (if there are more
rows with NAs, I get consecutive labels NA2, NA3, ...)
     > zz1 <- na.omit(zz)
     > zz1[zz1[,2]>2, ]
        a b
     1 1 3
     3 3 3

also

     > as.matrix(zz) -> zz
     > zz[zz[,2]>2, ]
         a  b
     1   1  3
     3   3  3
     NA NA NA
     NA NA NA

I am not sure if this is bug or a feature, so I am reporting it here.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Thu Mar  7 01:05:33 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Wed, 6 Mar 2002 19:05:33 -0500
Subject: [R] Hodrick-Prescott filter example
In-Reply-To: <Pine.LNX.4.33.0203062113290.5252-100000@x.opf.slu.cz>
Message-ID: <3C86687D.23311.2AF2AD@localhost>


eye <- diag( length(y) )
d <- diff( eye, d=2 )
z <- solve( eye + lambda * crossprod(d),  y )


On 6 Mar 2002 at 21:16, Lukas Kubin wrote:

> Could someone, please, write me an example how to apply the
> Hodrick-Prescott in R? Previously (in this list) someone mentioned it is

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Thu Mar  7 02:04:32 2002
From: tchur at optushome.com.au (Tim Churches)
Date: Thu, 07 Mar 2002 12:04:32 +1100
Subject: [R] Announce: R from Python
References: <20020306174635.A2026@cmat.edu.uy>
Message-ID: <3C86BC9F.4D710059@optushome.com.au>

Walter Moreira wrote:
> 
> Based on the code of RSPython, but modifying it a little, I wrote an interface
> for using R from Python. The main reason for writing it was to make it robust,
> in order to avoid segmentation faults. Also, it is (IMMO) a very transparent
> interface between Python and R.
> 
> It is downloadable from
> 
>     http://www.cmat.edu.uy/~walterm/rpy

Wow, as a keen but frustrated RSPython user, this looks great.

Did someone manage to download a copy of Walter's work which they can
temporarily mirror somewhere? Alas, the URL given above is unreachable
for now.

Tim C
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From comma365 at sina.com  Thu Mar  7 02:23:01 2002
From: comma365 at sina.com (Chemnet.com)
Date: Thu, 07 Mar 2002 09:23:01 +0800
Subject: [R] =?gb2312?q?ChemNet.com=BA=CF=B2=A2Chemyahoo.com=CD=C6=B3=F6=C8=AB=C7=F2=BB=AF=B9=A4=CD=F8=A3=A1?=
Message-ID: <E16ime3-000537-00@bernie.ethz.ch>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020307/b3b30b4f/attachment.html

From chenhsh at mail.disa.pku.edu.cn  Thu Mar  7 06:35:37 2002
From: chenhsh at mail.disa.pku.edu.cn (Chen Huashan)
Date: Thu, 7 Mar 2002 13:35:37 +0800
Subject: [R] mailing list archive
Message-ID: <HBECLPCKNJCMJDFHNKJGMEFECMAA.chenhsh@mail.disa.pku.edu.cn>

Dear R help users:

I have set up a r help mailing list archive based on mysql which support
full text search and auto-update.

Please visit http://www.baidao.net/r/maillist/index.cgi  . I hope you could 
provide me bug reports and suggestions. 

I will add r_dev and r_announce mailing list as soon as possible.

Thanks in advance!


eLan 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Thu Mar  7 08:02:04 2002
From: gco at eortc.be (Gary Collins)
Date: Thu, 7 Mar 2002 08:02:04 +0100
Subject: [R] Re: Strange behavior when subsetting data frames with NAs
Message-ID: <003c01c1c5a5$fd53fc60$c90809c1@EORTC.BE>

>Here is what I get using R 1.4.1 on Win2k (using precompiled version from
>CRAN) and RH 7.2 Linux (compiled form source):

>    > data.frame(a=c(1, 2, 3, NA, NA), b=c(3, 1, 3, NA, NA)) -> zz
>    > zz[zz[,2]>2, ]
>            a b
>   X1 1 3
>  X3 3 3
>     NA NA NA
>     NA1 NA NA (if there are more
>rows with NAs, I get consecutive labels NA2, NA3, ...)
>     > zz1 <- na.omit(zz)
>     > zz1[zz1[,2]>2, ]
>        a b
>     1 1 3
>     3 3 3
>
> also

>     > as.matrix(zz) -> zz
>     > zz[zz[,2]>2, ]
>        a b
>     1 1 3
>     3 3 3
>    NA NA NA
>     NA NA NA

in the second case, you have not done an na.omit() operation, that you did
in the case of the data.frame.
So if you did

    > na.omit(zz[zz[,2]>2,])
       a b
    X1 1 3
    X3 3 3
This compares to the data.frame operation.

> I am not sure if this is bug or a feature, so I am reporting it here.

>Andy
__________________________________________________
Gary S. Collins, PhD,
Statistics Research Fellow,
Quality of Life Unit,
European Organisation for Research and Treatment of Cancer,
EORTC Data Center,
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
http://www.eortc.be/home/qol/
__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  7 08:22:02 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Mar 2002 07:22:02 +0000 (GMT)
Subject: [R] Strange behavior when subsetting data frames with NAs
In-Reply-To: <OFFC17389C.6B0FBF6A-ON86256B74.0080C040@mmm.com>
Message-ID: <Pine.GSO.4.44.0203070719060.23020-100000@auk.stats>

On Wed, 6 Mar 2002 apjaworski at mmm.com wrote:

> Here is what I get using R 1.4.1 on Win2k (using precompiled version from
> CRAN) and RH 7.2 Linux (compiled form source):
>
>      >  data.frame(a=c(1, 2, 3, NA, NA), b=c(3, 1, 3, NA, NA)) -> zz
>      > zz[zz[,2]>2, ]
>              a  b
>      X1   1  3
>      X3   3  3
>      NA  NA NA
>      NA1 NA NA                                        (if there are more
> rows with NAs, I get consecutive labels NA2, NA3, ...)
>      > zz1 <- na.omit(zz)
>      > zz1[zz1[,2]>2, ]
>         a b
>      1 1 3
>      3 3 3
>
> also
>
>      > as.matrix(zz) -> zz
>      > zz[zz[,2]>2, ]
>          a  b
>      1   1  3
>      3   3  3
>      NA NA NA
>      NA NA NA
>
> I am not sure if this is bug or a feature, so I am reporting it here.

What exactly do you find strange?  It is the correct behaviour and
replicates that of S.  Remember that data frames have to have unique row
names, and you asked for rows

> zz[,2]>2
[1]  TRUE FALSE  TRUE    NA    NA

so new row names have to be created.  Matrices do not have to have unique
dimnames.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kincaid.Tom at epamail.epa.gov  Wed Mar  6 23:35:01 2002
From: Kincaid.Tom at epamail.epa.gov (Tom Kincaid)
Date: Wed, 06 Mar 2002 14:35:01 -0800
Subject: [R] Installing a Package in Windows 2000
Message-ID: <3C869995.14142652@epamail.epa.gov>

I'm using R 1.4.1 under Windows 2000 and am experiencing difficulty
installing a package.  I've included an example output using Rcmd build,
but the same problem occurs with Rcmd check and Rcmd INSTALL.  The error
(make[1]: /bin/sh.exe: Command not found) is not a new one - it's
referenced in readme.packages among other locations.  I've placed a copy
of sh.exe in C:\bin, but it didn't fix the problem.  I've also checked
to ensure that perl can be found.  Actually, I've made an extensive
effort to solve the problem prior to sending this help request.  So, any
assistance will be greatly appreciated!

Thank you in advance.

Tom Kincaid


Example Output:

C:\R\rw1041\src\gnuwin32>Rcmd build --binary --use-zip-help
C:\R\rw1041\src\library\statmanual
* checking for file `C:\R\rw1041\src\library\statmanual/DESCRIPTION' ...
OK

make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
make DLLNM= \
  -C C:/R/rw1041/src/library/statmanual PKG=statmanual RHOME=C:/R/rw1041
RLIB=C:/R/Temp/Rbuild.1312 \
  -f C:/R/rw1041/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/c/R/rw1041/src/library/statmanual'
if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  perl C:/R/rw1041/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
fi
make[1]: /bin/sh.exe: Command not found
make[1]: *** [TITLE] Error 127
make[1]: Leaving directory `/cygdrive/c/R/rw1041/src/library/statmanual'

make: *** [pkg-statmanual] Error 2
make: Leaving directory `/cygdrive/c/R/rw1041/src/gnuwin32'
*** Installation of statmanual failed ***

installing R.css in C:/R/Temp/Rbuild.1312

* building `statmanual_1.0.zip'
        zip warning: name not matched: statmanual

zip error: Nothing to do! (try: zip -r9X
C:/R/rw1041/src/gnuwin32/statmanual_1.0.zip . -i statmanual)


--
Thomas M. Kincaid, Ph.D.
Environmental Statistician
Dynamac Corporation
200 SW 35th Street
Corvallis, OR 97333
Phone:   (541) 754-4479
Fax:     (541) 754-4716
E-mail:  Kincaid.Tom at epamail.epa.gov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar  7 10:12:16 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 7 Mar 2002 10:12:16 +0100
Subject: [R] mailing list archive
In-Reply-To: <HBECLPCKNJCMJDFHNKJGMEFECMAA.chenhsh@mail.disa.pku.edu.cn>
References: <HBECLPCKNJCMJDFHNKJGMEFECMAA.chenhsh@mail.disa.pku.edu.cn>
Message-ID: <15495.12016.848539.210155@celeborn.leisch.at>

>>>>> On Thu, 7 Mar 2002 13:35:37 +0800,
>>>>> Chen Huashan (CH) wrote:

  > Dear R help users:
  > I have set up a r help mailing list archive based on mysql which support
  > full text search and auto-update.

  > Please visit http://www.baidao.net/r/maillist/index.cgi  . I hope you could 
  > provide me bug reports and suggestions. 

  > I will add r_dev and r_announce mailing list as soon as possible.

  > Thanks in advance!


Wow, this looks great. I'll put links to it on CRAN once you have
support for the other two lists, too. Please let me know when you're
ready.

Thanks a lot for this effort!

All the best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar  7 09:11:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Mar 2002 09:11:36 +0100
Subject: [R] Installing a Package in Windows 2000
In-Reply-To: <3C869995.14142652@epamail.epa.gov>
References: <3C869995.14142652@epamail.epa.gov>
Message-ID: <x2d6yg94qv.fsf@blueberry.kubism.ku.dk>

Tom Kincaid <Kincaid.Tom at epamail.epa.gov> writes:

> I'm using R 1.4.1 under Windows 2000 and am experiencing difficulty
> installing a package.  I've included an example output using Rcmd build,
> but the same problem occurs with Rcmd check and Rcmd INSTALL.  The error
> (make[1]: /bin/sh.exe: Command not found) is not a new one - it's
> referenced in readme.packages among other locations.  I've placed a copy
> of sh.exe in C:\bin, but it didn't fix the problem.  I've also checked
> to ensure that perl can be found.  Actually, I've made an extensive
> effort to solve the problem prior to sending this help request.  So, any
> assistance will be greatly appreciated!
> make[1]: Entering directory
...
> `/cygdrive/c/R/rw1041/src/library/statmanual'
> if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
>   perl C:/R/rw1041/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
> fi
> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [TITLE] Error 127
...

Hmm. Since you could run "make" a couple of lines above, I think the
above means that sh cannot find perl (in spite of your checking). What
happens if you start sh.exe manually and type "perl" into it? What is
your PATH and where have you put perl? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwennlm at netcourrier.com  Thu Mar  7 09:36:26 2002
From: nolwennlm at netcourrier.com (nolwennlm@netcourrier.com)
Date: Thu, 7 Mar 2002 09:36:26 +0100 (CET)
Subject: [R] Statconnector and Excel
Message-ID: <mnet1.1015490180.24590.nolwennlm@netcourrier.com>

Hi,
I'm trying to combine a VBA macro and a R package. I've installed the R-(D)COM and the R-excel interface by Neuwirth. They seem to work both. However I would like to display the r-generated data in  an Excel sheet as an array but I don't manage.

Here is an example of my source:
Sub doR()
Call RInterface.StartRServer
Call RInterface.RRun("library(mdnn)")
Call RInterface.RRun("F11b1<-read.table(""c:/test/Testb1.txt"", header=TRUE)")
Call RInterface.RRun("passTestb1<-pass(Testb1, Threshold=5, ExtremeThreshold=5)")
Call RInterface.RRun("passTestb1")
Call RInterface.getArray("passTestb1", Range("D2"))
Call RInterface.StopRServer
end sub

but I get an error :
"unsupported data when trying to execute "passTestb1"

I also tried:

 Dim x As StatConnector
 Set x = New StatConnector

  MsgBox ("Initializing R...")
  x.Init ("R")
  x.EvaluateNoReturn ("F11b1<-read.table(""c:/test/Testb1.txt"", _ header=TRUE)")
..
but then I don't known how to end

Have you an idea to help me?

Thanks,
Nolwenn

----------------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 E TTC/min - 2,21 F TTC/min)
Minitel: 3615 NETCOURRIER (0,15 E TTC/min - 1,00 F TTC/min)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Mar  7 10:26:59 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 7 Mar 2002 10:26:59 +0100
Subject: [R] Installing a Package in Windows 2000
In-Reply-To: <3C869995.14142652@epamail.epa.gov>
Message-ID: <MABBLJDICACNFOLGIHJOAENICJAA.phgrosje@ulb.ac.be>

Hi,

I am not pretty sure of what I will say, because I am not an expert of
Cygwin and so, but I believe it treat directories like that:

C:\dir\subdir becomes /dir/subdir
D:\dir\subdir becomes /cygdrive/d/dir/subdir (save for all drives except C)

In your cas, you have: make: Entering directory
`/cygdrive/c/R/rw1041/src/gnuwin32' which means that cygwin considers drive
C like any other. May be that the "special case" of /dir/subdir is only
applied to the drive where cygwin resides, and may be that you have put
cygwin in another drive than C?

If this is is the reason, try:
1) to put cygwin in drive C - or -
2) tu place sh.exe in the /bin dir of the same drive as cygwin.

If you try this, please, tell me what's happen.
Best,

Philippe Grosjean

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Tom Kincaid
Envoye : mercredi 6 mars 2002 23:35
A : r-help at stat.math.ethz.ch; Kincaid.Tom at epamail.epa.gov
Objet : [R] Installing a Package in Windows 2000


I'm using R 1.4.1 under Windows 2000 and am experiencing difficulty
installing a package.  I've included an example output using Rcmd build,
but the same problem occurs with Rcmd check and Rcmd INSTALL.  The error
(make[1]: /bin/sh.exe: Command not found) is not a new one - it's
referenced in readme.packages among other locations.  I've placed a copy
of sh.exe in C:\bin, but it didn't fix the problem.  I've also checked
to ensure that perl can be found.  Actually, I've made an extensive
effort to solve the problem prior to sending this help request.  So, any
assistance will be greatly appreciated!

Thank you in advance.

Tom Kincaid


Example Output:

C:\R\rw1041\src\gnuwin32>Rcmd build --binary --use-zip-help
C:\R\rw1041\src\library\statmanual
* checking for file `C:\R\rw1041\src\library\statmanual/DESCRIPTION' ...
OK

make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
make DLLNM= \
  -C C:/R/rw1041/src/library/statmanual PKG=statmanual RHOME=C:/R/rw1041
RLIB=C:/R/Temp/Rbuild.1312 \
  -f C:/R/rw1041/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/c/R/rw1041/src/library/statmanual'
if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  perl C:/R/rw1041/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
fi
make[1]: /bin/sh.exe: Command not found
make[1]: *** [TITLE] Error 127
make[1]: Leaving directory `/cygdrive/c/R/rw1041/src/library/statmanual'

make: *** [pkg-statmanual] Error 2
make: Leaving directory `/cygdrive/c/R/rw1041/src/gnuwin32'
*** Installation of statmanual failed ***

installing R.css in C:/R/Temp/Rbuild.1312

* building `statmanual_1.0.zip'
        zip warning: name not matched: statmanual

zip error: Nothing to do! (try: zip -r9X
C:/R/rw1041/src/gnuwin32/statmanual_1.0.zip . -i statmanual)


--
Thomas M. Kincaid, Ph.D.
Environmental Statistician
Dynamac Corporation
200 SW 35th Street
Corvallis, OR 97333
Phone:   (541) 754-4479
Fax:     (541) 754-4716
E-mail:  Kincaid.Tom at epamail.epa.gov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Thu Mar  7 11:33:41 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Thu, 7 Mar 2002 10:33:41 +0000 (GMT)
Subject: [R] linear correlation?
In-Reply-To: <HBECLPCKNJCMJDFHNKJGMEFECMAA.chenhsh@mail.disa.pku.edu.cn>
Message-ID: <20020307103341.28629.qmail@web20606.mail.yahoo.com>

Hi, I have checked statistic textbooks about
correlations, but I am still not sure the correlation
analysis with different units, for example,

x1<-c(1,  2,  3,   100, 200, 300)
x2<-c(1.1,2.8,3.3, 108, 209, 303)
the unit of the first 3 numbers is cm
the unit of the last 3 numbers is kg

cor(x1,x2)=0.999655

Can I explain the correlation coefficient as normal in
which all numbers have the same unit?

Secondly, if keep the three large numbers unchanged,
just change the three small numbers, the coefficient
changes little, this means that the variation of three
small numbers is hidden by the three larger numbers.
Is there any solution in R to solve this issue?

Thanks,

Dechao

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Mar  7 11:46:46 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 07 Mar 2002 11:46:46 +0100
Subject: [R] Re-creating ".R" directory in R1.4.1
Message-ID: <3C874516.8030108@science.uva.nl>

Dear list,

I lost my .R directory in my home directory under RedHat Linux.

How can I create it again? Is there a command to start up R with 
creating this .R directory. Do I have to remove some other files which 
might have been left?

Thanks, Ulrich

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Thu Mar  7 12:22:00 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Thu, 7 Mar 2002 12:22:00 +0100 (MET)
Subject: [R] mailing list archive
In-Reply-To: <15495.12016.848539.210155@celeborn.leisch.at>
Message-ID: <Pine.SGI.3.95.1020307121632.25043212B-100000@genome.cbs.dtu.dk>



  Dear Chen,


  I just tried it too.

It looks really really helpful (the highlighted query words in the
body of the mail is nice) ! Thanks !

  Is there a plan to include older archives (I tried the time constraint 
'all posts' but it seems that it does not go to far in the past) ?




  Regards,



  Laurent




Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent

On Thu, 7 Mar 2002 Friedrich.Leisch at ci.tuwien.ac.at wrote:

> >>>>> On Thu, 7 Mar 2002 13:35:37 +0800,
> >>>>> Chen Huashan (CH) wrote:
> 
>   > Dear R help users:
>   > I have set up a r help mailing list archive based on mysql which support
>   > full text search and auto-update.
> 
>   > Please visit http://www.baidao.net/r/maillist/index.cgi  . I hope you could 
>   > provide me bug reports and suggestions. 
> 
>   > I will add r_dev and r_announce mailing list as soon as possible.
> 
>   > Thanks in advance!
> 
> 
> Wow, this looks great. I'll put links to it on CRAN once you have
> support for the other two lists, too. Please let me know when you're
> ready.
> 
> Thanks a lot for this effort!
> 
> All the best,
> Fritz
> 
> -- 
> -------------------------------------------------------------------
>                         Friedrich  Leisch 
> Institut für Statistik                     Tel: (+43 1) 58801 10715
> Technische Universität Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstraße 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Mar  7 13:48:49 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 07 Mar 2002 07:48:49 -0500
Subject: [R] Strange problems with external Fortran routine
Message-ID: <60oe8uofno9oql8usi4maqrcsidqcvr8d0@4ax.com>

Here's a solution that took a while to find; I wanted to write it to
the list so it'll be available for people in the future.

Summary:  In external Fortran code, use SUBROUTINEs, don't use
FUNCTIONs.

A colleague had bizarre things happening in uniroot() (a root finding
routine), which she used to call an R function that called a Fortran
routine to do some calculations.  For example, the function sometimes
worked, but didn't work when a print() statement was added to it.

We eventually tracked down the problem to the fact that she had
declared the Fortran routine to be a real*8 function, instead of a
subroutine.  Apparently it was returning a value in some way that R
didn't expect, and this was causing R to act strangely.

This is mentioned in the R Extensions manual, but most of the examples
there are in C, so it wasn't obvious.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Thu Mar  7 13:54:57 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Thu, 07 Mar 2002 13:54:57 +0100
Subject: [R] Cluster validation and FOM
Message-ID: <3C876321.FE3E5528@Genetik.Uni-Bielefeld.DE>

Dear r-help,

I wonder if there is an implementation in R  of the so called Figure of
Merit as in 
K. Y. Yeung et al. Validating clustering for gene expression data. ISMB
2001.
(I did not find one via help.search nor cran)

Or does anybody know of other R-packages containing algorithms for
cluster validation?

Thanks, 
Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimi at ci.tuwien.ac.at  Thu Mar  7 14:05:17 2002
From: dimi at ci.tuwien.ac.at (Evgenia Dimitriadou)
Date: Thu, 07 Mar 2002 14:05:17 +0100
Subject: [R] Cluster validation and FOM
References: <3C876321.FE3E5528@Genetik.Uni-Bielefeld.DE>
Message-ID: <3C87658D.46F91AC2@ci.tuwien.ac.at>

Michael Dondrup wrote:

> Dear r-help,
>
> I wonder if there is an implementation in R  of the so called Figure of
> Merit as in
> K. Y. Yeung et al. Validating clustering for gene expression data. ISMB
> 2001.
> (I did not find one via help.search nor cran)
>
> Or does anybody know of other R-packages containing algorithms for
> cluster validation?
>

in cclust there are some functions for crisp cluster validation and in e1071 for
fuzzy clustering methods.
-e

>
> Thanks,
> Michael
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Mar  7 15:17:09 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 07 Mar 2002 14:17:09 +0000
Subject: [R] OT: 2 way anova with significant interaction but no significant main 
 effects
Message-ID: <3C877665.531FFD46@psy.uni-muenchen.de>

Hi all,

this is OT. I've performed a two way anova with repeated mesurements.
There's no significant main effect, but the interaction is significannt.
Are there any tests in R to examine the interaction?

Many thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chenhsh at mail.disa.pku.edu.cn  Thu Mar  7 14:27:33 2002
From: chenhsh at mail.disa.pku.edu.cn (Chen Huashan)
Date: Thu, 7 Mar 2002 21:27:33 +0800
Subject: [R] mailing list archive
In-Reply-To: <Pine.SGI.3.95.1020307121632.25043212B-100000@genome.cbs.dtu.dk>
Message-ID: <HBECLPCKNJCMJDFHNKJGKEIHCMAA.chenhsh@mail.disa.pku.edu.cn>

Hi Laurent,

The archive currently contains messages from 20002-2.
I will try to add all messages of three lists as soon as possible.

btw: how about the server's transfer rate?

Best wishes

Chen

> -----Original Message-----
> From: Laurent Gautier [mailto:laurent at genome.cbs.dtu.dk]
> Sent: Thursday, March 07, 2002 7:22 PM
> To: chenhsh at mail.disa.pku.edu.cn
> Cc: Friedrich.Leisch at ci.tuwien.ac.at; r-help at stat.math.ethz.ch
> Subject: Re: [R] mailing list archive
> 
> 
> 
> 
>   Dear Chen,
> 
> 
>   I just tried it too.
> 
> It looks really really helpful (the highlighted query words in the
> body of the mail is nice) ! Thanks !
> 
>   Is there a plan to include older archives (I tried the time constraint 
> 'all posts' but it seems that it does not go to far in the past) ?
> 
> 
> 
> 
>   Regards,
> 
> 
> 
>   Laurent
> 
> 
> 
> 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Thu Mar  7 14:31:30 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Thu, 07 Mar 2002 14:31:30 +0100
Subject: [R] linear correlation?
References: <20020307103341.28629.qmail@web20606.mail.yahoo.com>
Message-ID: <3C876BB2.9B31BDE@atmos.umnw.ethz.ch>

Hello 

dechao wang wrote:
> 
> Hi, I have checked statistic textbooks about
> correlations, but I am still not sure the correlation
> analysis with different units, for example,
> 
> x1<-c(1,  2,  3,   100, 200, 300)
> x2<-c(1.1,2.8,3.3, 108, 209, 303)
> the unit of the first 3 numbers is cm
> the unit of the last 3 numbers is kg
> 
> cor(x1,x2)=0.999655
> 
> Can I explain the correlation coefficient as normal in
> which all numbers have the same unit?

No, that will give different results. The unit must be the same for all
values. Which unit isn't important, but it must be the same


> Secondly, if keep the three large numbers unchanged,
> just change the three small numbers, the coefficient
> changes little, this means that the variation of three
> small numbers is hidden by the three larger numbers.
> Is there any solution in R to solve this issue?

If you have a vector with the units, you can use it to bring all values
to the same unit

eg (for two different units, if there are more it will be more
complicated)
xu <- c('m','m','m','cm','cm','cm') #units
cor(ifelse(xu=='m',100,1)*x1,ifelse(xu=='m',100,1)*x2)

gruess

joerg

> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Thu Mar  7 15:01:57 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 07 Mar 2002 15:01:57 +0100
Subject: [R] Statconnector and Excel
References: <mnet1.1015490180.24590.nolwennlm@netcourrier.com>
Message-ID: <3C8772D5.6020702@univie.ac.at>

i cannot diagnose you problem completely because i do not know
what kind or result your function pass returns and therefore
what kind of object passTestb1 is.

the current version of my vba interface

needs matrices.

if your result is not a matrix, but "compatible" with the
matrix type, then
Call RInterface.getArray("as.matrix(passTestb1)", Range("D2"))
should work.


Call RInterface.RRun("passTestb1")
is definitely a bbad idea except when
pass created a function as its return value.

nolwennlm at netcourrier.com wrote:

> Hi,
> I'm trying to combine a VBA macro and a R package. I've installed the R-(D)COM and the R-excel interface by Neuwirth. They seem to work both. However I would like to display the r-generated data in  an Excel sheet as an array but I don't manage.
> 
> Here is an example of my source:
> Sub doR()
> Call RInterface.StartRServer
> Call RInterface.RRun("library(mdnn)")
> Call RInterface.RRun("F11b1<-read.table(""c:/test/Testb1.txt"", header=TRUE)")
> Call RInterface.RRun("passTestb1<-pass(Testb1, Threshold=5, ExtremeThreshold=5)")
> Call RInterface.RRun("passTestb1")
> Call RInterface.getArray("passTestb1", Range("D2"))
> Call RInterface.StopRServer


> end sub
> 

-- 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Mar  7 15:07:57 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Mar 2002 09:07:57 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <20020307103341.28629.qmail@web20606.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21L1.0203070903090.5536-100000@hm269-26876.socsci.unc.edu>

On Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:

> Hi, I have checked statistic textbooks about
> correlations, but I am still not sure the correlation
> analysis with different units, for example,
> 
> x1<-c(1,  2,  3,   100, 200, 300)
> x2<-c(1.1,2.8,3.3, 108, 209, 303)
> the unit of the first 3 numbers is cm
> the unit of the last 3 numbers is kg
> 
> cor(x1,x2)=0.999655
> 
> Can I explain the correlation coefficient as normal in
> which all numbers have the same unit?

I don't think the correlation depends on the units; it's a ratio, not an
absolute. Consider the case of making the centimeters into meters:

> x1m<-x1 * 100
> cor(x1m,x2)
[1] 0.999655

The correlation doesn't change.

> 
> Secondly, if keep the three large numbers unchanged,
> just change the three small numbers, the coefficient
> changes little, this means that the variation of three
> small numbers is hidden by the three larger numbers.
> Is there any solution in R to solve this issue?
> 

I'm not sure what you mean by "hidden"; in your case, the correlations
between the vectors are similar for both first and second halves:
> cor(x1[4:6],x2[4:6])
[1] 0.9997853
> cor(x1[1:3],x2[1:3])
[1] 0.953821

so removing either half isn't going to change the result much.


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Mar  7 15:45:19 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Mar 2002 09:45:19 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <3C876BB2.9B31BDE@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.21L1.0203070943520.5536-100000@hm269-26876.socsci.unc.edu>

On Thu, 7 Mar 2002, Joerg Maeder wrote:

> Hello 
> 
> dechao wang wrote:
> > 
> > Hi, I have checked statistic textbooks about
> > correlations, but I am still not sure the correlation
> > analysis with different units, for example,
> > 
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > the unit of the first 3 numbers is cm
> > the unit of the last 3 numbers is kg
> > 
> > cor(x1,x2)=0.999655
> > 
> > Can I explain the correlation coefficient as normal in
> > which all numbers have the same unit?
> 
> No, that will give different results. The unit must be the same for all
> values. Which unit isn't important, but it must be the same

OOPS - I apologize, I misread the question, I understood the OP to be
saying that x1 was in cm and x2 was in kg. 

What on earth would a correlation mean between two vectors, each of which
is made up of two entirely different measures? (These aren't just
different units, they're measures of entirely different phenomena.)


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Mar  7 15:45:34 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 7 Mar 2002 15:45:34 +0100
Subject: [R] Hierarchical Terms in RE models?
Message-ID: <00c601c1c5e6$c8cccee0$5c13070a@it.giustizia.it>

Hi all,
this is a question (really, not necessarly related to R) that I was not able
to find in standard textbooks (at last those I've read, of course: Bates and
Pinero, Lindsey). I'm fitting a linear mixed model with fixed part: X+A+X:A
Just the interaction term X:A is significant suggesting an effect of X only
in one group (suppose X is continuous and A is a binary variable, although
this should be not important in a general context ). The main effects X and
A are requested of course in order to fit hierarchical model.
My doubt concerns the random part where the interest lies on X:A .
Which should be the right one?
a) 1+X
b) 1+X:A
c) 1+X+X:A
d) 1+X+A+X:A
A Hierarchical (RE) model implies d) or I can invoke some likelihood-based
criterion (e.g. AIC), but because only X:A is significant in the fixed part,
I would suggest using the b). Infact because the random coefficients mean
significant deviations from the fixed one, what is the sense in modelling
significant deviations from a non-significant term?
I'd like to hear some comment from some "RE-expert"

Hope to have been clear,
thanks for your time,
vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Thu Mar  7 16:06:56 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Thu, 7 Mar 2002 15:06:56 +0000 (GMT)
Subject: [R] linear correlation?
In-Reply-To: <Pine.LNX.4.21L1.0203070903090.5536-100000@hm269-26876.socsci.unc.edu>
Message-ID: <20020307150656.59721.qmail@web20609.mail.yahoo.com>

Thanks Andrew,

Consider the following example: 
> x1<-c(1,  2,  3,   100, 200, 300)
> x2<-c(1.1,2.8,3.3, 108, 209, 303)
> x3<-c(2.8,3.8,5.3, 108, 209, 303)
> cor(x1,x2)
[1] 0.999655
> cor(x1,x3)
[1] 0.9997286

You can see that as x2 changed to x3 with only first
three numbers changing, the coefficients (x1, x2) and
(x1,x3) changed little. I thought this may be because
the last three numbers were in different units.

Consider another example:
> y1<-c(1,  2,  3,   4, 5, 6)
> y2<-c(1.1,2.8,3.3, 4.4, 5.5, 6.6)
> y3<-c(2.8,3.8,5.3, 4.5, 5.5, 6.6)
> cor(y1,y2)
[1] 0.9934715
> cor(y1,y3)
[1] 0.9254707

You can see that the coefficients (y1,y2) and (y1,y3)
are different as the first three numbers changed. 

>From the two examples, we can see that the resolution
of compatibility bewteen items that contain different
units is lower (as shown in the first example) than
that of compatibility of items that contain the same
scale (as shown in example 2).

The results of the first example is not what we want,
isn't it? So I think it would be better if pre-process
the data that contain different units before
regression analysis. I do not think it is difficult to
write code using R to do that. My question is there
command already exist to do that before I write code?




 --- Andrew Perrin <andrew_perrin at unc.edu> wrote: > On
Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:
> 
> > Hi, I have checked statistic textbooks about
> > correlations, but I am still not sure the
> correlation
> > analysis with different units, for example,
> > 
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > the unit of the first 3 numbers is cm
> > the unit of the last 3 numbers is kg
> > 
> > cor(x1,x2)=0.999655
> > 
> > Can I explain the correlation coefficient as
> normal in
> > which all numbers have the same unit?
> 
> I don't think the correlation depends on the units;
> it's a ratio, not an
> absolute. Consider the case of making the
> centimeters into meters:
> 
> > x1m<-x1 * 100
> > cor(x1m,x2)
> [1] 0.999655
> 
> The correlation doesn't change.
> 
> > 
> > Secondly, if keep the three large numbers
> unchanged,
> > just change the three small numbers, the
> coefficient
> > changes little, this means that the variation of
> three
> > small numbers is hidden by the three larger
> numbers.
> > Is there any solution in R to solve this issue?
> > 
> 
> I'm not sure what you mean by "hidden"; in your
> case, the correlations
> between the vectors are similar for both first and
> second halves:
> > cor(x1[4:6],x2[4:6])
> [1] 0.9997853
> > cor(x1[1:3],x2[1:3])
> [1] 0.953821
> 
> so removing either half isn't going to change the
> result much.
> 
> 
>
----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu -
> http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North
> Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC
> 27599-3210 USA
> 
> 
> 
>  

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Mar  7 16:12:23 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Mar 2002 10:12:23 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <20020307150656.59721.qmail@web20609.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21L1.0203071009590.5536-100000@hm269-26876.socsci.unc.edu>

On Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:

> Thanks Andrew,
> 
> Consider the following example: 
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > cor(x1,x2)
> [1] 0.999655
> > cor(x1,x3)
> [1] 0.9997286
> 
> You can see that as x2 changed to x3 with only first
> three numbers changing, the coefficients (x1, x2) and
> (x1,x3) changed little. I thought this may be because
> the last three numbers were in different units.

It's not because they're different units -- it's because they're different
measures altogether! Can you state, in words (e.g., not in mathematical
terms) what you think a correlation would *mean* between these two
vectors?  R is happily telling you, as any statistical package would, what
the correlation is between two vectors of numbers. But that correlation
doesn't necessarily mean anything at all; its meaning is based on what the
vectors measure.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Thu Mar  7 16:12:01 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Thu, 7 Mar 2002 10:12:01 -0500 
Subject: [R] linear correlation?
Message-ID: <47DE65E6F855D511950200306E02F855AD4283@atlexs05.southernenergy.com>


Whether the two variables have the same units does not matter.  Moreover,
even if there were some way of converting cm to kg the correlation would
still be the same because the correlation is invariant under unit conversion
as it is invariant under multiplication of its arguments by a constant.

As for your second question, the correlation estimator is a continuous
function of each of the individual data points, so perturbing the values of
any of them by a sufficiently small amount will only perturb the correlation
by a small amount.

> -----Original Message-----
> From:	dechao wang [SMTP:dechwang at yahoo.co.uk]
> Sent:	Thursday, March 07, 2002 5:34 AM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] linear correlation?
> 
> Hi, I have checked statistic textbooks about
> correlations, but I am still not sure the correlation
> analysis with different units, for example,
> 
> x1<-c(1,  2,  3,   100, 200, 300)
> x2<-c(1.1,2.8,3.3, 108, 209, 303)
> the unit of the first 3 numbers is cm
> the unit of the last 3 numbers is kg
> 
> cor(x1,x2)=0.999655
> 
> Can I explain the correlation coefficient as normal in
> which all numbers have the same unit?
> 
> Secondly, if keep the three large numbers unchanged,
> just change the three small numbers, the coefficient
> changes little, this means that the variation of three
> small numbers is hidden by the three larger numbers.
> Is there any solution in R to solve this issue?
> 
> Thanks,
> 
> Dechao
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Mar  7 16:16:57 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 07 Mar 2002 10:16:57 -0500
Subject: [R] linear correlation?
Message-ID: <OFC191AF17.02E49392-ON85256B75.0053B538@rtp.epa.gov>


Perhaps I've led a sheltered life, but my own experience leads me to
question the logic behind an analysis that leads me to want to compute
correlations between vectors in which the elements have different units;
cm and kg are not generally interconvertible!

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                    
                    dechao wang                                                                                                     
                    <dechwang at yahoo.co.u        To:     r-help at stat.math.ethz.ch                                                    
                    k>                          cc:                                                                                 
                    Sent by:                    Subject:     [R] linear correlation?                                                
                    owner-r-help at stat.ma                                                                                            
                    th.ethz.ch                                                                                                      
                                                                                                                                    
                                                                                                                                    
                    03/07/02 05:33 AM                                                                                               
                                                                                                                                    
                                                                                                                                    




Hi, I have checked statistic textbooks about
correlations, but I am still not sure the correlation
analysis with different units, for example,

x1<-c(1,  2,  3,   100, 200, 300)
x2<-c(1.1,2.8,3.3, 108, 209, 303)
the unit of the first 3 numbers is cm
the unit of the last 3 numbers is kg

cor(x1,x2)=0.999655

Can I explain the correlation coefficient as normal in
which all numbers have the same unit?

Secondly, if keep the three large numbers unchanged,
just change the three small numbers, the coefficient
changes little, this means that the variation of three
small numbers is hidden by the three larger numbers.
Is there any solution in R to solve this issue?

Thanks,

Dechao

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Thu Mar  7 16:29:16 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Thu, 7 Mar 2002 15:29:16 +0000 (GMT)
Subject: [R] linear correlation?
In-Reply-To: <Pine.LNX.4.21L1.0203071009590.5536-100000@hm269-26876.socsci.unc.edu>
Message-ID: <20020307152916.90126.qmail@web20601.mail.yahoo.com>

 --- Andrew Perrin <andrew_perrin at unc.edu> wrote: > On
Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:
> 
> > Thanks Andrew,
> > 
> > Consider the following example: 
> > > x1<-c(1,  2,  3,   100, 200, 300)
> > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > > cor(x1,x2)
> > [1] 0.999655
> > > cor(x1,x3)
> > [1] 0.9997286
> > 
> > You can see that as x2 changed to x3 with only
> first
> > three numbers changing, the coefficients (x1, x2)
> and
> > (x1,x3) changed little. I thought this may be
> because
> > the last three numbers were in different units.
> 
> It's not because they're different units -- it's
> because they're different
> measures altogether! Can you state, in words (e.g.,
> not in mathematical
> terms) what you think a correlation would *mean*
> between these two
> vectors?  R is happily telling you, as any
> statistical package would, what
> the correlation is between two vectors of numbers.
> But that correlation
> doesn't necessarily mean anything at all; its
> meaning is based on what the
> vectors measure.
> 

There are lots of examples. Let us consider the first
three numbers representing three branches of an apple
tree, the last three numbers representing the
corresponding branching angles of the branches. So x1,
x2, x3 represents three different trees. Maybe we can
ask which tree is similar to which tree?

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Mar  7 16:38:02 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 7 Mar 2002 09:38:02 -0600
Subject: [R] Strange behavior when subsetting data frames with NAs
Message-ID: <OFE9166E61.B69F8E59-ON86256B75.0055A2CA@mmm.com>


I guess I did not expect the change in row names for rows without NAs, that
is the change from (1, 3) to (X1, X3) in my zz example.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Prof Brian D                                                                                                               
                    Ripley               To:     Andrzej P. Jaworski/US-Corporate/3M/US at 3M-Corporate                                           
                    <ripley at stats.o      cc:     r-help at stat.math.ethz.ch                                                                      
                    x.ac.uk>             Subject:     Re: [R] Strange behavior when subsetting data frames with NAs                            
                                                                                                                                               
                    03/07/2002                                                                                                                 
                    01:22 AM                                                                                                                   
                                                                                                                                               
                                                                                                                                               





On Wed, 6 Mar 2002 apjaworski at mmm.com wrote:

> Here is what I get using R 1.4.1 on Win2k (using precompiled version from
> CRAN) and RH 7.2 Linux (compiled form source):
>
>      >  data.frame(a=c(1, 2, 3, NA, NA), b=c(3, 1, 3, NA, NA)) -> zz
>      > zz[zz[,2]>2, ]
>              a  b
>      X1   1  3
>      X3   3  3
>      NA  NA NA
>      NA1 NA NA                                        (if there are more
> rows with NAs, I get consecutive labels NA2, NA3, ...)
>      > zz1 <- na.omit(zz)
>      > zz1[zz1[,2]>2, ]
>         a b
>      1 1 3
>      3 3 3
>
> also
>
>      > as.matrix(zz) -> zz
>      > zz[zz[,2]>2, ]
>          a  b
>      1   1  3
>      3   3  3
>      NA NA NA
>      NA NA NA
>
> I am not sure if this is bug or a feature, so I am reporting it here.

What exactly do you find strange?  It is the correct behaviour and
replicates that of S.  Remember that data frames have to have unique row
names, and you asked for rows

> zz[,2]>2
[1]  TRUE FALSE  TRUE    NA    NA

so new row names have to be created.  Matrices do not have to have unique
dimnames.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Mar  7 16:41:55 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Mar 2002 10:41:55 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <20020307152916.90126.qmail@web20601.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21L1.0203071031220.5536-100000@hm269-26876.socsci.unc.edu>

On Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:

>  --- Andrew Perrin <andrew_perrin at unc.edu> wrote: > On
> Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:
> > 
> > > Thanks Andrew,
> > > 
> > > Consider the following example: 
> > > > x1<-c(1,  2,  3,   100, 200, 300)
> > > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > > > cor(x1,x2)
> > > [1] 0.999655
> > > > cor(x1,x3)
> > > [1] 0.9997286
> > > 
> > > You can see that as x2 changed to x3 with only
> > first
> > > three numbers changing, the coefficients (x1, x2)
> > and
> > > (x1,x3) changed little. I thought this may be
> > because
> > > the last three numbers were in different units.
> > 
> > It's not because they're different units -- it's
> > because they're different
> > measures altogether! Can you state, in words (e.g.,
> > not in mathematical
> > terms) what you think a correlation would *mean*
> > between these two
> > vectors?  R is happily telling you,
as any
> > statistical package would, what
> > the correlation is between two vectors of numbers.
> > But that correlation
> > doesn't necessarily mean anything at all; its
> > meaning is based on what the
> > vectors measure.
> > 
> 
> There are lots of examples. Let us consider the first
> three numbers representing three branches of an apple
> tree, the last three numbers representing the
> corresponding branching angles of the branches. So x1,
> x2, x3 represents three different trees. Maybe we can
> ask which tree is similar to which tree?
> 

In which case you probably shouldn't be storing the data in vectors
(although you can), but you certainly shouldn't be using correlations to
measure similarity among vectors where each vector represents one unit of
analysis.  There are various ways of classifying the "similarity" among
vectors (indeed, Brian Ripley of Venables and Ripley fame is an expert in
this field) but correlation is not one of them.

You could ask, in your example, whether the length of a branch is
correlated with its angle; in that case, you'd want something like:
x1<-c(1,  2,  3,   100, 200, 300)
x2<-c(1.1,2.8,3.3, 108, 209, 303)
x3<-c(2.8,3.8,5.3, 108, 209, 303)
x.df<-as.data.frame(t(data.frame(x1,x2,x3)))
colnames(x.df)<-c('l1','l2','l3','a1','a2','a3')attach(x.df)
cor(l1,a1)

which returns:
[1] 0.5421936

or the correlation between length 1 (l1) and angle 1 (a1). That's a
suitable (although not very sophisticated) use of correlation. But
measuring the correlation between cases using different measures is not a
useful, or even meaningful, exercise, IMNSHO.


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Mar  7 17:01:57 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 07 Mar 2002 11:01:57 -0500
Subject: [R] linear correlation?
Message-ID: <OF8901F2CD.8857BB21-ON85256B75.00579812@rtp.epa.gov>


To follow up, consider the vector x3 <- c(3,2,1,108, 209, 303) with the
same units as before.
> cor(x1,x3)
[1] 0.9995864

Now express the first three values as microns instead of cm:
x4 <- x3
x4[1:3] <- 10000 * x4[1:3]

> cor(x1,x4)
[1] -0.7461934

Just changing the units changes the whole sense of the correlation.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                    
                    Andrew Perrin                                                                                                   
                    <andrew_perrin at unc.e        To:     Joerg Maeder <maeder at atmos.umnw.ethz.ch>                                    
                    du>                         cc:     dechao wang <dechwang at yahoo.co.uk>, "'R-help at lists.R-project.org'"          
                    Sent by:                    <R-help at stat.math.ethz.ch>                                                          
                    owner-r-help at stat.ma        Subject:     Re: [R] linear correlation?                                            
                    th.ethz.ch                                                                                                      
                                                                                                                                    
                                                                                                                                    
                    03/07/02 09:45 AM                                                                                               
                    Please respond to                                                                                               
                    andrew_perrin                                                                                                   
                                                                                                                                    
                                                                                                                                    




On Thu, 7 Mar 2002, Joerg Maeder wrote:

> Hello
>
> dechao wang wrote:
> >
> > Hi, I have checked statistic textbooks about
> > correlations, but I am still not sure the correlation
> > analysis with different units, for example,
> >
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > the unit of the first 3 numbers is cm
> > the unit of the last 3 numbers is kg
> >
> > cor(x1,x2)=0.999655
> >
> > Can I explain the correlation coefficient as normal in
> > which all numbers have the same unit?
>
> No, that will give different results. The unit must be the same for
all
> values. Which unit isn't important, but it must be the same

OOPS - I apologize, I misread the question, I understood the OP to be
saying that x1 was in cm and x2 was in kg.

What on earth would a correlation mean between two vectors, each of
which
is made up of two entirely different measures? (These aren't just
different units, they're measures of entirely different phenomena.)


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  7 17:27:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Mar 2002 16:27:43 +0000 (GMT Standard Time)
Subject: [R] Strange behavior when subsetting data frames with NAs
In-Reply-To: <OFE9166E61.B69F8E59-ON86256B75.0055A2CA@mmm.com>
Message-ID: <Pine.WNT.4.44.0203071626520.1216-100000@gannet.stats.ox.ac.uk>

On Thu, 7 Mar 2002 apjaworski at mmm.com wrote:

>
> I guess I did not expect the change in row names for rows without NAs, that
> is the change from (1, 3) to (X1, X3) in my zz example.

It tells you this is a new set of row names, not just the old ones
repeated.

>
> Andy
>
> __________________________________
> Andy Jaworski
> Engineering Systems Technology Center
> 3M Center, 518-1-01
> St. Paul, MN 55144-1000
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
>
>
>
>                     Prof Brian D
>                     Ripley               To:     Andrzej P. Jaworski/US-Corporate/3M/US at 3M-Corporate
>                     <ripley at stats.o      cc:     r-help at stat.math.ethz.ch
>                     x.ac.uk>             Subject:     Re: [R] Strange behavior when subsetting data frames with NAs
>
>                     03/07/2002
>                     01:22 AM
>
>
>
>
>
>
>
> On Wed, 6 Mar 2002 apjaworski at mmm.com wrote:
>
> > Here is what I get using R 1.4.1 on Win2k (using precompiled version from
> > CRAN) and RH 7.2 Linux (compiled form source):
> >
> >      >  data.frame(a=c(1, 2, 3, NA, NA), b=c(3, 1, 3, NA, NA)) -> zz
> >      > zz[zz[,2]>2, ]
> >              a  b
> >      X1   1  3
> >      X3   3  3
> >      NA  NA NA
> >      NA1 NA NA                                        (if there are more
> > rows with NAs, I get consecutive labels NA2, NA3, ...)
> >      > zz1 <- na.omit(zz)
> >      > zz1[zz1[,2]>2, ]
> >         a b
> >      1 1 3
> >      3 3 3
> >
> > also
> >
> >      > as.matrix(zz) -> zz
> >      > zz[zz[,2]>2, ]
> >          a  b
> >      1   1  3
> >      3   3  3
> >      NA NA NA
> >      NA NA NA
> >
> > I am not sure if this is bug or a feature, so I am reporting it here.
>
> What exactly do you find strange?  It is the correct behaviour and
> replicates that of S.  Remember that data frames have to have unique row
> names, and you asked for rows
>
> > zz[,2]>2
> [1]  TRUE FALSE  TRUE    NA    NA
>
> so new row names have to be created.  Matrices do not have to have unique
> dimnames.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at msm1.ukl.uni-freiburg.de  Thu Mar  7 17:58:31 2002
From: domi at msm1.ukl.uni-freiburg.de (Dominik Grathwohl)
Date: Thu, 7 Mar 2002 17:58:31 +0100
Subject: [R] LogXact
Message-ID: <3C87AA46.1566.3A0C0A@localhost>

Dear Mailing List,

does somebody know, if there is something available in R like LogXact?
I have a data-set with Poisson data containing lots of zeros. 

Kind regards,

Dominik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From walterm at cmat.edu.uy  Thu Mar  7 18:11:18 2002
From: walterm at cmat.edu.uy (Walter Moreira)
Date: Thu, 7 Mar 2002 14:11:18 -0300
Subject: [R] Announce: R from Python
In-Reply-To: <3C86BC9F.4D710059@optushome.com.au>; from tchur@optushome.com.au on Thu, Mar 07, 2002 at 12:04:32PM +1100
References: <20020306174635.A2026@cmat.edu.uy> <3C86BC9F.4D710059@optushome.com.au>
Message-ID: <20020307141118.A3106@linux2.cmat.edu.uy>

On Thu, Mar 07, 2002 at 12:04:32PM +1100, Tim Churches wrote:
> > It is downloadable from
> > 
> >     http://www.cmat.edu.uy/~walterm/rpy
> 
> Wow, as a keen but frustrated RSPython user, this looks great.
> 
> Did someone manage to download a copy of Walter's work which they can
> temporarily mirror somewhere? Alas, the URL given above is unreachable
> for now.

We had the server down for a while. Now, it is UP. You can try again.

Anyway, the package is very small, less than 20k. If somebody can't download
it, I can send it via email.

Regards:
Walter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Thu Mar  7 18:28:27 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Thu, 7 Mar 2002 12:28:27 -0500 
Subject: [R] linear correlation?
Message-ID: <47DE65E6F855D511950200306E02F855AD4285@atlexs05.southernenergy.com>


Sorry, I also misread your original question and thought x1 was in cm and x2
in kg.

I don't think it makes any sense for some values of x1 (or x2) to be in cm
and others in kg.  How can they represent samples from the same population?
It would be okay if, say, some were in cm and others in km as they are
equivalent units, and you could simply convert to the same unit, but
otherwise I don't see how some members of a population are in cm and others
in kg.

> -----Original Message-----
> From:	Scott, Uriel [SMTP:uriel.scott at mirant.com]
> Sent:	Thursday, March 07, 2002 10:12 AM
> To:	'dechao wang'; r-help at stat.math.ethz.ch
> Subject:	RE: [R] linear correlation?
> 
> 
> Whether the two variables have the same units does not matter.  Moreover,
> even if there were some way of converting cm to kg the correlation would
> still be the same because the correlation is invariant under unit
> conversion
> as it is invariant under multiplication of its arguments by a constant.
> 
> As for your second question, the correlation estimator is a continuous
> function of each of the individual data points, so perturbing the values
> of
> any of them by a sufficiently small amount will only perturb the
> correlation
> by a small amount.
> 
> > -----Original Message-----
> > From:	dechao wang [SMTP:dechwang at yahoo.co.uk]
> > Sent:	Thursday, March 07, 2002 5:34 AM
> > To:	r-help at stat.math.ethz.ch
> > Subject:	[R] linear correlation?
> > 
> > Hi, I have checked statistic textbooks about
> > correlations, but I am still not sure the correlation
> > analysis with different units, for example,
> > 
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > the unit of the first 3 numbers is cm
> > the unit of the last 3 numbers is kg
> > 
> > cor(x1,x2)=0.999655
> > 
> > Can I explain the correlation coefficient as normal in
> > which all numbers have the same unit?
> > 
> > Secondly, if keep the three large numbers unchanged,
> > just change the three small numbers, the coefficient
> > changes little, this means that the variation of three
> > small numbers is hidden by the three larger numbers.
> > Is there any solution in R to solve this issue?
> > 
> > Thanks,
> > 
> > Dechao
> > 
> > __________________________________________________
> > 
> > Everything you'll ever need on one web page
> > from News and Sport to Email and Music Charts
> > 
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Thu Mar  7 18:37:29 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Thu, 7 Mar 2002 12:37:29 -0500 
Subject: [R] linear correlation?
Message-ID: <47DE65E6F855D511950200306E02F855AD4286@atlexs05.southernenergy.com>


If you have 3 numbers a1, a2, a3 representing the lengths of 3 branches and
b1, b2, b3 representing their branching angles then this should be
represented as { (a1,b1), (a2,b2), (a3,b3) } rather than { a1, a2, a3, b1,
b2, b3 }.  I.e., you have 3 samples from a bivariate random variable
(length, angle), not 6 samples from a univariate RV.

> -----Original Message-----
> From:	dechao wang [SMTP:dechwang at yahoo.co.uk]
> Sent:	Thursday, March 07, 2002 10:29 AM
> To:	andrew_perrin at unc.edu
> Cc:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] linear correlation?
> 
>  --- Andrew Perrin <andrew_perrin at unc.edu> wrote: > On
> Thu, 7 Mar 2002, [iso-8859-1] dechao wang wrote:
> > 
> > > Thanks Andrew,
> > > 
> > > Consider the following example: 
> > > > x1<-c(1,  2,  3,   100, 200, 300)
> > > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > > > cor(x1,x2)
> > > [1] 0.999655
> > > > cor(x1,x3)
> > > [1] 0.9997286
> > > 
> > > You can see that as x2 changed to x3 with only
> > first
> > > three numbers changing, the coefficients (x1, x2)
> > and
> > > (x1,x3) changed little. I thought this may be
> > because
> > > the last three numbers were in different units.
> > 
> > It's not because they're different units -- it's
> > because they're different
> > measures altogether! Can you state, in words (e.g.,
> > not in mathematical
> > terms) what you think a correlation would *mean*
> > between these two
> > vectors?  R is happily telling you, as any
> > statistical package would, what
> > the correlation is between two vectors of numbers.
> > But that correlation
> > doesn't necessarily mean anything at all; its
> > meaning is based on what the
> > vectors measure.
> > 
> 
> There are lots of examples. Let us consider the first
> three numbers representing three branches of an apple
> tree, the last three numbers representing the
> corresponding branching angles of the branches. So x1,
> x2, x3 represents three different trees. Maybe we can
> ask which tree is similar to which tree?
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Thu Mar  7 19:05:03 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 07 Mar 2002 13:05:03 -0500
Subject: [R] linear correlation?
In-Reply-To: <OFC191AF17.02E49392-ON85256B75.0053B538@rtp.epa.gov>
References: <OFC191AF17.02E49392-ON85256B75.0053B538@rtp.epa.gov>
Message-ID: <1015524304.13321.2.camel@penguin>


Uh???

A good deal of this thread leaves me perplexed.  

Of course you can correlate vectors of differing units.  Correlations
are covariances expressed in a standardized unit.  I.e. differing units
is the reason for correlation coefficients in the first place.

Of course you can correlate measures of different phenomenon - i.e.
economic growth is correlated with percentage of voters voting for the
incumbent in the next election.  Correlation of two different measures
of the same phenomenon is called a test of reliability. 

Of course you can correlate cm and kg.  I would be perfectly confortable
stating that an person's weight in kg is correlated to their height in
cm.  Anyone disagree?

Obviously one has to be careful in extracting substantive meaning from
correlations - just like every statistic that I can think of.

In term of the big number small number thing.  The major source of your
observed correlations is coming from their being a set of small numbers
and a set of big numbers.  Think of these things as points on a graph.
In your example,

> x1<-c(1,  2,  3,   100, 200, 300)
> > > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > > > cor(x1,x2)
> > > [1] 0.999655
> > > > cor(x1,x3)
> > > [1] 0.9997286

The minor fluctions in these series between observations 1, 2,3  and
4,5,6 is totally dwarfed by the difference between 3-4  It is this jump
between (3,3.3) and (100,108) which drives your correlations. 
Comparatively, the other changes are a wash.


============
Michaell Taylor
Senior Economist, Reis, New York, USA
Associate Professor, NTNU, Norway
Adjunct Professor, UD, South Africa



On Thu, 2002-03-07 at 10:16, Setzer.Woodrow at epamail.epa.gov wrote:
> 
> Perhaps I've led a sheltered life, but my own experience leads me to
> question the logic behind an analysis that leads me to want to compute
> correlations between vectors in which the elements have different units;
> cm and kg are not generally interconvertible!
> 
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919)
> 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
> 
> 
>                                                                                                                                     
>                     dechao wang                                                                                                     
>                     <dechwang at yahoo.co.u        To:     r-help at stat.math.ethz.ch                                                    
>                     k>                          cc:                                                                                 
>                     Sent by:                    Subject:     [R] linear correlation?                                                
>                     owner-r-help at stat.ma                                                                                            
>                     th.ethz.ch                                                                                                      
>                                                                                                                                     
>                                                                                                                                     
>                     03/07/02 05:33 AM                                                                                               
>                                                                                                                                     
>                                                                                                                                     
> 
> 
> 
> 
> Hi, I have checked statistic textbooks about
> correlations, but I am still not sure the correlation
> analysis with different units, for example,
> 
> x1<-c(1,  2,  3,   100, 200, 300)
> x2<-c(1.1,2.8,3.3, 108, 209, 303)
> the unit of the first 3 numbers is cm
> the unit of the last 3 numbers is kg
> 
> cor(x1,x2)=0.999655
> 
> Can I explain the correlation coefficient as normal in
> which all numbers have the same unit?
> 
> Secondly, if keep the three large numbers unchanged,
> just change the three small numbers, the coefficient
> changes little, this means that the variation of three
> small numbers is hidden by the three larger numbers.
> Is there any solution in R to solve this issue?
> 
> Thanks,
> 
> Dechao
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfaieta at katamail.com  Thu Mar  7 19:10:32 2002
From: gfaieta at katamail.com (gfaieta@katamail.com)
Date: Thu, 7 Mar 2002 19:10:32 +0100
Subject: [R] frequency
Message-ID: <20020307181153.MAOM352.mta1@[194.153.172.197]>

I'm quite new with R so sorry if I asked something very easy or complicated.
I have a data frame with (for instance) 4 variables (4 columns) and 100 records. I would like to have a 'summary' table for each variable that shows me the following:

variable 1      Freq.    %     % cumulative

class 1           10        10%      10%
class 2           20        20%      30%
class 3           70        70%     100%

Is there any kind of function in R that does somthing like this? Or is it necessary to create a customized function?
Thank you in advanced.

Giuseppe Faieta -statistician-
Bologna (Italy)

__________________________________________


Fai i tuoi acquisti su www.kwshopping.it

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From daven at llnl.gov  Thu Mar  7 19:11:06 2002
From: daven at llnl.gov (David O. Nelson)
Date: Thu, 7 Mar 2002 10:11:06 -0800
Subject: [R] linear correlation?
In-Reply-To: <OF8901F2CD.8857BB21-ON85256B75.00579812@rtp.epa.gov>
Message-ID: <JNEHLMNIMMBNCHOBOGLIKEJPCKAA.daven@llnl.gov>

I keep on my bulletin board, in plain view of clients at all times, a paper
by David Brillinger with the title "Does Anyone Know When the Correlation
Coefficient is Useful? A Study of the Times of Extreme River Flows"
(Technometrics, 2001). In it he quotes Tukey as follows:

"I frequently hold to the position that correlation coefficients are
justified in two and only two circumstances, when they are regression
coefficients, or when the measurement of one or both variables on a
determinate scale is hopeless."

Neither seems to apply here.

David O Nelson, Ph.D. (daven at llnl.gov)
Lawrence Livermore National Laboratory
Box 808, L-441
Livermore CA 94551

ph:  +1.925.423.8898
fax: +1.925.422.2282

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
> Setzer.Woodrow at epamail.epa.gov
> Sent: Thursday, March 07, 2002 8:02 AM
> To: dechao wang
> Cc: 'R-help at lists.R-project.org'
> Subject: Re: [R] linear correlation?
>
>
>
> To follow up, consider the vector x3 <- c(3,2,1,108, 209, 303) with the
> same units as before.
> > cor(x1,x3)
> [1] 0.9995864
>
> Now express the first three values as microns instead of cm:
> x4 <- x3
> x4[1:3] <- 10000 * x4[1:3]
>
> > cor(x1,x4)
> [1] -0.7461934
>
> Just changing the units changes the whole sense of the correlation.
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919)
> 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Mar  7 20:07:21 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 7 Mar 2002 20:07:21 +0100
Subject: [R] Is it possible to open a specific file in the HTML browser like help(htmlhelp=TRUE) does?
Message-ID: <KKEGJOGBELBHDIKPINBMGEJCCKAA.hb@maths.lth.se>

Dear all/anyone, after generating a HTML file "result.html" from within [R],
I would like to open the default HTML browser (like help.start() does) to
show the file. Is it possible to do this (without trying to do a system
dependent search for possible browsers)? I browsed the source of package
'base' (R v1.4.1 WinMe) and I found the following in help():

   .Internal(show.help.item(file, 1, ""))

but I couldn't get it to load "result.html", which is in the current
directory and also, since it is not documented I don't know if this is a
cross-platform function or even safe to use.

Suggestions?

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Mar  7 20:14:48 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Mar 2002 14:14:48 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <1015524304.13321.2.camel@penguin>
Message-ID: <Pine.LNX.4.21L1.0203071411160.5536-100000@hm269-26876.socsci.unc.edu>

On 7 Mar 2002, Michaell Taylor wrote:

> 
> Uh???
> 
> A good deal of this thread leaves me perplexed.  
> 
> Of course you can correlate vectors of differing units.  Correlations
> are covariances expressed in a standardized unit.  I.e. differing units
> is the reason for correlation coefficients in the first place.
> 
> Of course you can correlate measures of different phenomenon - i.e.
> economic growth is correlated with percentage of voters voting for the
> incumbent in the next election.  Correlation of two different measures
> of the same phenomenon is called a test of reliability. 
> 
> Of course you can correlate cm and kg.  I would be perfectly confortable
> stating that an person's weight in kg is correlated to their height in
> cm.  Anyone disagree?
> 

You're missing something basic, which is what I missed too when the OP
first posted. He's not correlating two variables, one of which is in cm
and one of which is in kg. He's correlating two *vectors* of six variables
each; three of these variables are in cm and three are in kg.  So he's
treating a *case* (in his example, an apple tree) as a variable, and
asking for the correlation between two cases (apple trees).

> Obviously one has to be careful in extracting substantive meaning from
> correlations - just like every statistic that I can think of.
> 
> In term of the big number small number thing.  The major source of your
> observed correlations is coming from their being a set of small numbers
> and a set of big numbers.  Think of these things as points on a graph.
> In your example,
> 
> > x1<-c(1,  2,  3,   100, 200, 300)
> > > > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > > > x3<-c(2.8,3.8,5.3, 108, 209, 303)
> > > > > cor(x1,x2)
> > > > [1] 0.999655
> > > > > cor(x1,x3)
> > > > [1] 0.9997286
> 
> The minor fluctions in these series between observations 1, 2,3  and
> 4,5,6 is totally dwarfed by the difference between 3-4  It is this jump
> between (3,3.3) and (100,108) which drives your correlations. 
> Comparatively, the other changes are a wash.
> 

... and the reason for these jumps is that the "small" numbers (the first
three in each vector) are centimeters, while the "large" numbers (the
latter three) are kilograms. That's the essence of the problem, and the
reason why the very exercise is inappropriate.


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From condit at ctfs.si.edu  Thu Mar  7 20:47:03 2002
From: condit at ctfs.si.edu (Richard Condit)
Date: Thu, 07 Mar 2002 14:47:03 -0500
Subject: [R] integrate function
In-Reply-To: <200202260301.EAA06583@stat.math.ethz.ch>
Message-ID: <5.1.0.14.0.20020307144125.00a768c0@ctfs.si.edu>

After finding an error in R's integrate function, I spent some time testing 
various alternative numerical integration routines I took from the 
Numerical Recipes book by Press et al. Here is a brief summary of what I found.

As near as I can tell, no method for numerical integration is foolproof. I 
believe that no matter the method, functions could be invented to defeat 
it. In particular, as Ole Christensen pointed out, if a function has 
positive values only in a very narrow range, then numerical routines cannot 
be guaranteed to find it.

R's integrate function works better more often than the alternatives I 
tested. It succeeded with some very tricky functions that foiled the other 
methods. But it did fail in some circumstances.

My only advice about the R integrate function would be to point out in 
documentation that the value returned as "abs error" is not in fact the 
error. There is no way I found of calculating the deviation between a 
numerical estimate of an integral and the true integral. Abs error is 
simply the change in the estimate between the last 2 iterations of the 
numerical routine. In many cases, this should be a rough approximation of 
the discrepancy between estimate and true integral, but if integrate fails, 
abs error fails too. I would suggest abs error not even be returned with 
the estimate of the integral, since it doesn't add information (since 
abs.tol is set in the function).

I can provide more information about the various methods and their errors, 
if anyone is interested.


Rick



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  7 20:46:49 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 7 Mar 2002 19:46:49 +0000 (GMT)
Subject: [R] Is it possible to open a specific file in the HTML browser
 like help(htmlhelp=TRUE) does?
In-Reply-To: <KKEGJOGBELBHDIKPINBMGEJCCKAA.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.31.0203071937280.1933-100000@gannet.stats>

On Thu, 7 Mar 2002, Henrik Bengtsson wrote:

> Dear all/anyone, after generating a HTML file "result.html" from within [R],
> I would like to open the default HTML browser (like help.start() does) to
> show the file. Is it possible to do this (without trying to do a system
> dependent search for possible browsers)? I browsed the source of package
> 'base' (R v1.4.1 WinMe) and I found the following in help():

(Browsing the help files might be more use.)

>
>    .Internal(show.help.item(file, 1, ""))
>
> but I couldn't get it to load "result.html", which is in the current
> directory and also, since it is not documented I don't know if this is a
> cross-platform function or even safe to use.

In Windows, use shell.exec("result.html"), which is documented.  (It looks
like `file' needs to be an absolute path, e.g. "c:/R/result.html".)

There is no cross-platform way that we know of. On Unix help.start uses a
system() call to launch netscape.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Mar  7 21:17:55 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 7 Mar 2002 12:17:55 -0800 (PST)
Subject: [R] integrate function
In-Reply-To: <5.1.0.14.0.20020307144125.00a768c0@ctfs.si.edu>
Message-ID: <Pine.GSO.4.10.10203071217270.18194-100000@quetelet.stat.ucla.edu>

I'm curious to see which methods you tried.  I too am looking for a decent
numerical integration routine.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 7 Mar 2002, Richard Condit wrote:

> After finding an error in R's integrate function, I spent some time testing 
> various alternative numerical integration routines I took from the 
> Numerical Recipes book by Press et al. Here is a brief summary of what I found.
> 
> As near as I can tell, no method for numerical integration is foolproof. I 
> believe that no matter the method, functions could be invented to defeat 
> it. In particular, as Ole Christensen pointed out, if a function has 
> positive values only in a very narrow range, then numerical routines cannot 
> be guaranteed to find it.
> 
> R's integrate function works better more often than the alternatives I 
> tested. It succeeded with some very tricky functions that foiled the other 
> methods. But it did fail in some circumstances.
> 
> My only advice about the R integrate function would be to point out in 
> documentation that the value returned as "abs error" is not in fact the 
> error. There is no way I found of calculating the deviation between a 
> numerical estimate of an integral and the true integral. Abs error is 
> simply the change in the estimate between the last 2 iterations of the 
> numerical routine. In many cases, this should be a rough approximation of 
> the discrepancy between estimate and true integral, but if integrate fails, 
> abs error fails too. I would suggest abs error not even be returned with 
> the estimate of the integral, since it doesn't add information (since 
> abs.tol is set in the function).
> 
> I can provide more information about the various methods and their errors, 
> if anyone is interested.
> 
> 
> Rick
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From walterm at cmat.edu.uy  Thu Mar  7 21:53:26 2002
From: walterm at cmat.edu.uy (Walter Moreira)
Date: Thu, 7 Mar 2002 17:53:26 -0300
Subject: [R] Announce: R from Python
In-Reply-To: <3C87CC7B.119854D2@optushome.com.au>; from tchur@optushome.com.au on Fri, Mar 08, 2002 at 07:24:27AM +1100
References: <20020306174635.A2026@cmat.edu.uy> <3C86BC9F.4D710059@optushome.com.au> <20020307141118.A3106@linux2.cmat.edu.uy> <3C87CC7B.119854D2@optushome.com.au>
Message-ID: <20020307175326.C3579@linux2.cmat.edu.uy>

On Fri, Mar 08, 2002 at 07:24:27AM +1100, Tim Churches wrote:
> I can see your server now but Duncan Temple Lang was kind enough to send
> me a copy of RPy in the meantime. He commented that he thought that R
> objects in RPy aren't being protected from garbage collection but that
> was easy to fix. 

Yes, Duncan is probably right, I don't fully understand the R api wrt garbage
collection. Could you or Duncan send me some indications about where it is
needed the protection from gc? Thank you.

> >>> from rpy import *
> 
> gives
> 
> Traceback (most recent call last):
>   File "rpy_test.py", line 1, in ?
>     from rpy import *
>   File "/usr/local/lib/python2.1/site-packages/rpy.py", line 23, in ?
>     from _rpy import *  # If this fails, you need to compile the C
> extension
> ImportError: libR.so: cannot open shared object file: No such file or
> directory
> 
> Hmmm. libR.so exists in /usr/lib/R/bin, which is in my path. 
> 
> If I issue
> 
> ld _rpymodule.so 
> 
> then ld complains it can't find libR.so
> 
> ld -rpath /usr/lib/R/bin _rpymodule.so
> 
> fixes this error. But how to I tell _rpymodule.so where to look for
> libR.so

Perhaps you need to run ldconfig after the installation to rearrange the libraries. Then you can try

  ldd _rpymodule.so

to see if all libraries were found. I think they should.

Regards:
Walter

-- 
--------------
Walter Moreira   <>  Centro de Matematica  <>  Universidad de la Republica
email: walterm at cmat.edu.uy  <>  Home Page: http://www.cmat.edu.uy/~walterm
                 +--------------------------------------------------------
        /OD\_    |   hundred-and-one symptoms of being an internet addict:
 O o . |_o_o_)   |   167. You have more than 100 websites in your
                 |        Bookmark.
               --+--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From freud at starpower.net  Fri Mar  8 00:05:49 2002
From: freud at starpower.net (Brett Magill)
Date: Thu, 07 Mar 2002 18:05:49 -0500
Subject: [R] frequency
References: <20020307181153.MAOM352.mta1@[194.153.172.197]>
Message-ID: <3C87F24D.2050501@starpower.net>

This function I wrote handles this, but without the cumulative percent, 
which is easy enough to see in any case.

Freq<-
function(x){

   xmat<-as.matrix(x)
 
   ifelse (ncol(xmat)==1,{

   Count<-table(x)
   Total<-sum(Count)
   Prcnt<-100*(Count/Total)
   x1<-cbind(Count,Prcnt)
   x2<-cbind(Total,sum(Prcnt))
   Frequency.Table<-as.data.frame(rbind(x1,x2))
   c<-nrow(Frequency.Table)
   rownames(Frequency.Table)[c]<-"Total"
   return(Frequency.Table)}
   ,
   return("To use this function across multiple columns use apply"))

}


gfaieta at katamail.com wrote:

>I'm quite new with R so sorry if I asked something very easy or complicated.
>I have a data frame with (for instance) 4 variables (4 columns) and 100 records. I would like to have a 'summary' table for each variable that shows me the following:
>
>variable 1      Freq.    %     % cumulative
>
>class 1           10        10%      10%
>class 2           20        20%      30%
>class 3           70        70%     100%
>
>Is there any kind of function in R that does somthing like this? Or is it necessary to create a customized function?
>Thank you in advanced.
>
>Giuseppe Faieta -statistician-
>Bologna (Italy)
>
>__________________________________________
>
>
>Fai i tuoi acquisti su www.kwshopping.it
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From E.Velds at balpol.tudelft.nl  Fri Mar  8 01:25:50 2002
From: E.Velds at balpol.tudelft.nl (Edwin Velds)
Date: Fri, 08 Mar 2002 01:25:50 +0100
Subject: [R] Random data with correlation
Message-ID: <3C88050E.6FE7E65A@balpol.tudelft.nl>

Hello all.

First of all, I have only been using are a short time and I'm not an
expert in statistics either.

I have the following problem. I'm working with measurements of physical
samples, each measurement has about 4000 variables. I have 33 of those
samples. From those 400 variables I deduced through non-statiscal means
that I needed about 200 of them. I read those into a data.frame with 200
columns of 33 rows. As I expected, quite a few variables have a fairly
high correlation with one another (as high as 0.96). The individual
variables are about normally distributed according to the Shapiro-Wilks
test.

With this data, I need to generate new random samples. However, for them
to be any good they need to have a similar correlation to the original
samples. Searching the net I found that this could be accomplished by
calculating random samples with

 Random-sample = M + R L

where M = vector of means
      R = a vector of snorm values
      L = the upper triangle matrix of the Choleski decomposition of the
covariance matrix.

I verified this with a simple hand made example and it works. But trying
this with the real data got me into trouble. chol() tells me that the
covariance matrix of my test data is not positive definite. Which I
found odd because I was told that a real covariance matrix should be
that.
After some testing I found that qr(cov-matrix)$rank=32 and
qr(cov-matrix, tol=1e-20)$rank=200. Which probably means that the matrix
is numerically badly conditioned.

But now I'm at a loss on how to proceed. Changing the tolerance gave me
an answer there. But in for instance the det() function (using qr), I
can't set the tolerance to pass on to qr and therefore can't get an
answer. Could the reason for chol() failing be related to this too? Or
maybe there is another method of getting what I want by using less
sensitive functions and avoiding the problem altogether?

Any help in this would be greatly appreciated.

Thanks,
Edwin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Fri Mar  8 06:22:49 2002
From: zedshaw at zedshaw.com (Zed Shaw)
Date: 07 Mar 2002 21:22:49 -0800
Subject: [R] Is it possible to open a specific file in the HTML browser
	like help(htmlhelp=TRUE) does?
In-Reply-To: <KKEGJOGBELBHDIKPINBMGEJCCKAA.hb@maths.lth.se>
References: <KKEGJOGBELBHDIKPINBMGEJCCKAA.hb@maths.lth.se>
Message-ID: <1015564969.3484.4.camel@workhorse.killnine.net>

Henrik,

I have actually just started a function in the report writing library
I'm working on which does this.  All I really did was rip off code from
help.start.  The key part is the system call at the bottom of the
function.  Problem is, this is not portable (as others have mentioned).
If you come across a better way of doing this, let me know.

Zed A. Shaw


On Thu, 2002-03-07 at 11:07, Henrik Bengtsson wrote:
> Dear all/anyone, after generating a HTML file "result.html" from within [R],
> I would like to open the default HTML browser (like help.start() does) to
> show the file. Is it possible to do this (without trying to do a system
> dependent search for possible browsers)? I browsed the source of package
> 'base' (R v1.4.1 WinMe) and I found the following in help():
> 
>    .Internal(show.help.item(file, 1, ""))
> 
> but I couldn't get it to load "result.html", which is in the current
> directory and also, since it is not documented I don't know if this is a
> cross-platform function or even safe to use.
> 
> Suggestions?
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Mar  8 06:56:17 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 8 Mar 2002 06:56:17 +0100
Subject: [R] Unbalanced ANOVA in R?
Message-ID: <20020308065617.A6636@ling.umu.se>

Hi all

I'm trying to complete a textbook example originally designed for SPSS
in R, and I therefore need to find out how to compute an unbalanced
ANOVA in R.

I did a search on the mailinglist archives an found a post by Prof.
Ripley saying one should use the lme function for (among other things)
unbalanced ANOVAs, but I have not been able to use this object.
My code gives me an error.. Why is that ?

> aov(lme(DELAY ~ DOSE + TRIALS,data=epinuneq))
> Error in getGroups.data.frame(dataMix, groups) : 
> 	Invalid formula for groups

Any ideas? How do I get an ANOVA computation that can handle uniqual
sampe sizes in R?

/Fredrik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  8 07:16:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Mar 2002 06:16:10 +0000 (GMT)
Subject: [R] Random data with correlation
In-Reply-To: <3C88050E.6FE7E65A@balpol.tudelft.nl>
Message-ID: <Pine.GSO.4.44.0203080600540.1078-100000@auk.stats>

On Fri, 8 Mar 2002, Edwin Velds wrote:

> Hello all.
>
> First of all, I have only been using are a short time and I'm not an
> expert in statistics either.
>
> I have the following problem. I'm working with measurements of physical
> samples, each measurement has about 4000 variables. I have 33 of those
> samples. From those 400 variables I deduced through non-statiscal means
> that I needed about 200 of them. I read those into a data.frame with 200
> columns of 33 rows. As I expected, quite a few variables have a fairly
> high correlation with one another (as high as 0.96). The individual
> variables are about normally distributed according to the Shapiro-Wilks
> test.
>
> With this data, I need to generate new random samples. However, for them
> to be any good they need to have a similar correlation to the original
> samples. Searching the net I found that this could be accomplished by

Once upon a time people used to look up authoritative sources, things
called `monographs', to find the best available methods.  It's still a good
idea.

> calculating random samples with
>
>  Random-sample = M + R L
>
> where M = vector of means
>       R = a vector of snorm values
>       L = the upper triangle matrix of the Choleski decomposition of the
> covariance matrix.

(Strange notation: L is used for the lower-triangle of the Choleski
decomposition as used by Choleski.)

> I verified this with a simple hand made example and it works. But trying
> this with the real data got me into trouble. chol() tells me that the
> covariance matrix of my test data is not positive definite. Which I
> found odd because I was told that a real covariance matrix should be
> that.

Only non-negative definite.  With 33 samples you will only get
a rank-32 covariance matrix.

> After some testing I found that qr(cov-matrix)$rank=32 and
> qr(cov-matrix, tol=1e-20)$rank=200. Which probably means that the matrix
> is numerically badly conditioned.

Theoretically so too.

> But now I'm at a loss on how to proceed. Changing the tolerance gave me
> an answer there. But in for instance the det() function (using qr), I
> can't set the tolerance to pass on to qr and therefore can't get an
> answer. Could the reason for chol() failing be related to this too?

The determinant is 0.

> Or
> maybe there is another method of getting what I want by using less
> sensitive functions and avoiding the problem altogether?

Use mvrnorm in package MASS.  As you will see from its comments, it
avoids chol for precisely this sort of reason, and it has a tolerance
for producing a rank-deficient sample.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  8 07:24:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Mar 2002 06:24:27 +0000 (GMT)
Subject: [R] Unbalanced ANOVA in R?
In-Reply-To: <20020308065617.A6636@ling.umu.se>
Message-ID: <Pine.GSO.4.44.0203080616590.1156-100000@auk.stats>

On Fri, 8 Mar 2002, Fredrik Karlsson wrote:

> Hi all
>
> I'm trying to complete a textbook example originally designed for SPSS
> in R, and I therefore need to find out how to compute an unbalanced
> ANOVA in R.
>
> I did a search on the mailinglist archives an found a post by Prof.
> Ripley saying one should use the lme function for (among other things)
> unbalanced ANOVAs, but I have not been able to use this object.
> My code gives me an error.. Why is that ?
>
> > aov(lme(DELAY ~ DOSE + TRIALS,data=epinuneq))
> > Error in getGroups.data.frame(dataMix, groups) :
> > 	Invalid formula for groups
>
> Any ideas? How do I get an ANOVA computation that can handle uniqual
> sampe sizes in R?

I said use lme, *not* aov and lme.  Note, though, that the advice applied
to multistrata unbalanced anova, and this appears to be a two-way layout in
one stratum.  You can use aov for that. (You can't use lme unless there are
two or more strata.)  Just be careful how you interpret the output: in SAS
parlance aov gives you `Type I' sums of squares.

The reason why this is more difficult in R is that R unlike SPSS does not
guess which of the many possible interpretations you mean.  We would need
to know a lot more about the actual statistical problem to tell you what
would be a good analysis in R.

Maybe you should look at a textbook designed for use with S/R not SPSS?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michael.waters at dtn.ntl.com  Fri Mar  8 09:46:18 2002
From: michael.waters at dtn.ntl.com (Dr Mike Waters)
Date: Fri, 8 Mar 2002 08:46:18 -0000
Subject: [R] Announce: R from Python - MS Windows?
In-Reply-To: <20020307141118.A3106@linux2.cmat.edu.uy>
Message-ID: <000601c1c67d$b9bb5c40$0401a8c0@latitude>

Walter,

What modifications are required to get this to work on a Native Windows
install of R1.4.1 - assuming that the R and Python install directories
are in the path?

Regards

Mike

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Walter Moreira
Sent: 07 March 2002 17:11
To: r-help at stat.math.ethz.ch
Subject: Re: [R] Announce: R from Python

On Thu, Mar 07, 2002 at 12:04:32PM +1100, Tim Churches wrote:
> > It is downloadable from
> > 
> >     http://www.cmat.edu.uy/~walterm/rpy
> 
> Wow, as a keen but frustrated RSPython user, this looks great.
> 
> Did someone manage to download a copy of Walter's work which they can
> temporarily mirror somewhere? Alas, the URL given above is unreachable
> for now.

We had the server down for a while. Now, it is UP. You can try again.

Anyway, the package is very small, less than 20k. If somebody can't
download
it, I can send it via email.

Regards:
Walter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Fri Mar  8 09:46:23 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Fri, 8 Mar 2002 09:46:23 +0100
Subject: [R] Unbalanced ANOVA in R?
References: <20020308065617.A6636@ling.umu.se>
Message-ID: <007e01c1c67d$c57b7a60$5c13070a@it.giustizia.it>

The lme() function doesn't need aov(). So you would type:

lme(DELAY ~ DOSE + TRIALS,data=epinuneq)

however see ?lme o some book about mixed models: you need to specify the
random part and "clustering" variable (e.g. id-subject in a repeated
measurement design). Something like

lme(DELAY ~ DOSE + TRIALS, random=~1|your_cluster_variable, data=epinuneq)

best,
vito

After all, I don't think that simple "unbalanced ANOVA" and mixed models are
the same!


----- Original Message -----
From: "Fredrik Karlsson" <fredrik.karlsson at ling.umu.se>
To: "r-help-request Mailing List" <r-help at r-project.org>
Sent: Friday, March 08, 2002 6:56 AM
Subject: [R] Unbalanced ANOVA in R?


> Hi all
>
> I'm trying to complete a textbook example originally designed for SPSS
> in R, and I therefore need to find out how to compute an unbalanced
> ANOVA in R.
>
> I did a search on the mailinglist archives an found a post by Prof.
> Ripley saying one should use the lme function for (among other things)
> unbalanced ANOVAs, but I have not been able to use this object.
> My code gives me an error.. Why is that ?
>
> > aov(lme(DELAY ~ DOSE + TRIALS,data=epinuneq))
> > Error in getGroups.data.frame(dataMix, groups) :
> > Invalid formula for groups
>
> Any ideas? How do I get an ANOVA computation that can handle uniqual
> sampe sizes in R?
>
> /Fredrik
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar  8 12:03:30 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 08 Mar 2002 12:03:30 +0100
Subject: [R] frequency
References: <20020307181153.MAOM352.mta1@[194.153.172.197]>
Message-ID: <3C889A82.7E12F866@statistik.uni-dortmund.de>



gfaieta at katamail.com wrote:
> 
> I'm quite new with R so sorry if I asked something very easy or complicated.
> I have a data frame with (for instance) 4 variables (4 columns) and 100 records. I would like to have a 'summary' table for each variable that shows me the following:
> 
> variable 1      Freq.    %     % cumulative
> 
> class 1           10        10%      10%
> class 2           20        20%      30%
> class 3           70        70%     100%


Assume you data.frame is called DAT. With

  lapply(DAT, table)

you can apply the function table() on each variable of the data.frame.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Fri Mar  8 12:08:03 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Fri, 8 Mar 2002 11:08:03 +0000 (GMT)
Subject: [R] linear correlation?
In-Reply-To: <Pine.LNX.4.21L1.0203071411160.5536-100000@hm269-26876.socsci.unc.edu>
Message-ID: <20020308110803.52040.qmail@web20605.mail.yahoo.com>

Many thanks for all who have joined the discussion.
>From the instructive discussion, it seems there may
not have a command or function to deal with DIRECTLY
the comparison between two items, such as 
x1<-c(weight1, ...weightn, height1,...heightn)
x2<-c(weight1, ...weightn, height1,...heightn)

However, this may be quite a common question in the
real world to be asked. As we have already seen that
correlation analysis could be used to address this
issue, except that the resolution rate is not good. 
According to the theory of gray systems, several
measures can be taken to increase the compatibility of
different items which contain different units and
measurements. Take trees for example, after the data
were normalised, the relation degree between tree1 and
tree2 is 0.9997, while the relation degree between
tree1 and tree3 is 0.4988.


> tree1<-c(1,  2,  3,   100, 200, 300)
> tree2<-c(1.1,2.8,3.3, 108, 209, 303)
> tree3<-c(3.8,6.8,5.3, 108, 209, 303)
> trees<-cbind(tree1,tree2,tree3)
> cor(trees,trees)
         tree1     tree2     tree3
tree1 1.000000 0.9996549 0.9997620
tree2 0.999655 1.0000000 0.9999687
tree3 0.999762 0.9999687 1.0000000
> 
> tree1<-c(tree1[1:3]/6.8, tree1[4:6]/303)
> tree2<-c(tree2[1:3]/6.8, tree2[4:6]/303)
> tree3<-c(tree3[1:3]/6.8, tree3[4:6]/303)
> trees<-cbind(tree1,tree2,tree3)
> cor(trees,trees)
          tree1     tree2     tree3
tree1 1.0000000 0.9918951 0.4988191
tree2 0.9918951 1.0000000 0.5806924
tree3 0.4988191 0.5806924 1.0000000


__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Mar  8 12:09:45 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 08 Mar 2002 22:09:45 +1100
Subject: [R] Re: ...specific file in the HTML browser...
Message-ID: <3C889BF8.57083CFA@ozemail.com.au>

Henrik Bengtsson wrote:

> ...I would like to open the default HTML browser (like help.start()
does) to
> show the file. Is it possible to do this (without trying to do a
system
> dependent search for possible browsers)?...

I realize that you're running Windows, but this works for me on Linux,
and might be mangled into shape (sorry, I can't do it on a Linux box).

Jim


-------------- next part --------------
help.specific<-function(func=NULL,browser=getOption("browser")) {
 Rhome<-system("echo $R_HOME",T)
 if(is.null(func)) url<-paste(Rhome,"/doc/html/index.html",sep="",collapse="")
 else url<-system(
  paste("find ",Rhome," -follow ","-name ",func,".html",sep="",collapse="" ),T)
 if(length(url))
  system(paste(browser,url," 2>/dev/null &",sep=" "),ignore.stderr = T)
 else cat("Can't find an HTML page for function",func,"\n")
}

From KINLEY_ROBERT at lilly.com  Fri Mar  8 12:23:21 2002
From: KINLEY_ROBERT at lilly.com (KINLEY_ROBERT@lilly.com)
Date: Fri, 08 Mar 2002 11:23:21 +0000
Subject: [R] Barnard's sequential t-test code ?
Message-ID: <OF75256FCB.BE6FC612-ON80256B76.003E772A@D49.LILLY.COM>

Does anyone have, or know of, some S or R code to implement 
the sequential t-test ?

The test is outlined in Kendall & Stuart vol 2A, ch 24, and a 'how 
to do it' with a set of tables is given in 'Design & Analysis of 
Industrial Experiments'  ( O.L.Davies).

I'm interested in obtaining/creating an Splus or R application which
calculates the upper and lower curves appropriate for arbitrary 
choices of alpha , Beta and mean-shift. 

Can anyone give me any pointers ?

                ta      Bob
 
...............................
Robert D. Kinley
Site Statistician
Eli Lilly & co
Speke, UK
++151 448 6347
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020308/8a420699/attachment.html

From imij at columbus.rr.com  Fri Mar  8 13:05:57 2002
From: imij at columbus.rr.com (jimi adams)
Date: Fri, 8 Mar 2002 07:05:57 -0500
Subject: [R] ? about sample
Message-ID: <002901c1c699$9b4d12a0$768f1941@columbus.rr.com>

i am trying to use the
sample command and have one question about it:
i am getting the error

Error in sample(length(x), size, replace, prob) :
        insufficient positive probabilities

when i use something like:
sample (1:4, prob=c(0,0,1,0))[1]

i was expecting that to return a 3 every time
while this is not exactly what i am using it for, i need the capabilities to
deal with zeros (as the probability valuees that i will be using wil vary,
and sometimes will include zeros), and this seems like the zero's are the
problem...

currently i am assigning zero values in my initial probability vector to a
miniscule value(1E-4)

is there a more efficient way to deal with this, or another command that
does a similar thing to only select a single element, where as sample orders
the entire set according to the prob?

if it helps, i am using R 1.4.0 on win-me
thanks

jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent
of the act of thinking
                                            -georg simmel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Fri Mar  8 13:16:05 2002
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Fri, 8 Mar 2002 07:16:05 -0500
Subject: [R] Is it possible to open a specific file in the HTML browser like help(htmlhelp=TRUE) does?
In-Reply-To: <1015564969.3484.4.camel@workhorse.killnine.net>; from zedshaw@zedshaw.com on Thu, Mar 07, 2002 at 09:22:49PM -0800
References: <KKEGJOGBELBHDIKPINBMGEJCCKAA.hb@maths.lth.se> <1015564969.3484.4.camel@workhorse.killnine.net>
Message-ID: <20020308071605.V11590@jimmy.harvard.edu>

Ok, so here is something that works for windows and unix
openBrowser <- function (query) 
{
    OST <- .Platform$OS.type
    if (OST == "windows") {
        shell.exec(query)
    }
    else if (OST == "unix") {
        if (is.null(getOption("browser"))) 
            stop("options(\"browser\") not set")
        browser <- getOption("browser")
        system(paste(browser, " -remote \"openURL(", query, ")\"
	2>/dev/null || ", 
            browser, " ", query, " &", sep = ""))
    }
    else {
        msg <- paste("don't know how to open the browser on", 
            OST)
        stop(msg)
    }
    return(NULL)
}

On Thu, Mar 07, 2002 at 09:22:49PM -0800, Zed Shaw wrote:
> Henrik,
> 
> I have actually just started a function in the report writing library
> I'm working on which does this.  All I really did was rip off code from
> help.start.  The key part is the system call at the bottom of the
> function.  Problem is, this is not portable (as others have mentioned).
> If you come across a better way of doing this, let me know.
> 
> Zed A. Shaw
> 
> 
> On Thu, 2002-03-07 at 11:07, Henrik Bengtsson wrote:
> > Dear all/anyone, after generating a HTML file "result.html" from within [R],
> > I would like to open the default HTML browser (like help.start() does) to
> > show the file. Is it possible to do this (without trying to do a system
> > dependent search for possible browsers)? I browsed the source of package
> > 'base' (R v1.4.1 WinMe) and I found the following in help():
> > 
> >    .Internal(show.help.item(file, 1, ""))
> > 
> > but I couldn't get it to load "result.html", which is in the current
> > directory and also, since it is not documented I don't know if this is a
> > cross-platform function or even safe to use.
> > 
> > Suggestions?
> > 
> > Henrik Bengtsson
> > 
> > Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> > Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> > Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> > h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Fri Mar  8 13:39:03 2002
From: indra_calisto at yahoo.com (Indrajit Sengupta)
Date: Fri, 8 Mar 2002 04:39:03 -0800 (PST)
Subject: [R] Xgobi package
Message-ID: <20020308123903.49628.qmail@web11108.mail.yahoo.com>

I have installed the Xgobi package. But the examples
in it are not working. Whenever I try to run an
example, a dos window opens with the words Bad Command
Or File Name. I am using R 1.3. Do I have to install
any more programs for this package to run?

 Indrajit


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  8 13:44:27 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Mar 2002 13:44:27 +0100
Subject: [R] ? about sample
In-Reply-To: <002901c1c699$9b4d12a0$768f1941@columbus.rr.com>
References: <002901c1c699$9b4d12a0$768f1941@columbus.rr.com>
Message-ID: <x2elivns9g.fsf@blueberry.kubism.ku.dk>

"jimi adams" <imij at columbus.rr.com> writes:

> i am trying to use the
> sample command and have one question about it:
> i am getting the error
> 
> Error in sample(length(x), size, replace, prob) :
>         insufficient positive probabilities
> 
> when i use something like:
> sample (1:4, prob=c(0,0,1,0))[1]
> 
> i was expecting that to return a 3 every time
> while this is not exactly what i am using it for, i need the capabilities to
> deal with zeros (as the probability valuees that i will be using wil vary,
> and sometimes will include zeros), and this seems like the zero's are the
> problem...
> 
> currently i am assigning zero values in my initial probability vector to a
> miniscule value(1E-4)
> 
> is there a more efficient way to deal with this, or another command that
> does a similar thing to only select a single element, where as sample orders
> the entire set according to the prob?

sample (1:4, size=1, prob=c(0,0,1,0))
             ======

The default is size=4 and subsetting the result doesn't change that.
Notice that this is sampling without replacement, so what is the
algorithm supposed to do when the first element has been sampled?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  8 13:49:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Mar 2002 12:49:36 +0000 (GMT)
Subject: [R] Xgobi package
In-Reply-To: <20020308123903.49628.qmail@web11108.mail.yahoo.com>
Message-ID: <Pine.GSO.4.44.0203081241370.29863-100000@auk.stats>

On Fri, 8 Mar 2002, Indrajit Sengupta wrote:

> I have installed the Xgobi package. But the examples
> in it are not working. Whenever I try to run an
> example, a dos window opens with the words Bad Command
> Or File Name. I am using R 1.3. Do I have to install
> any more programs for this package to run?

Do read the DESCRIPTION: the information is there.

There is no such thing as R 1.3, and I guess you are using Windows
but you omitted to say so.  If so, I strongly suggest you upgrade your R
installation first, as the pre-compiled packages are for R >= 1.4.0
(as the ReadMe says).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar  8 14:05:06 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 08 Mar 2002 08:05:06 -0500
Subject: [R] Unbalanced ANOVA in R?
In-Reply-To: <20020308065617.A6636@ling.umu.se>
Message-ID: <5.1.0.14.2.20020308075645.01d569c0@pop>

Dear Fredrik,

At 06:56 AM 3/8/2002 +0100, Fredrik Karlsson wrote:
>Hi all
>
>I'm trying to complete a textbook example originally designed for SPSS
>in R, and I therefore need to find out how to compute an unbalanced
>ANOVA in R.
>
>I did a search on the mailinglist archives an found a post by Prof.
>Ripley saying one should use the lme function for (among other things)
>unbalanced ANOVAs, but I have not been able to use this object.
>My code gives me an error.. Why is that ?
>
> > aov(lme(DELAY ~ DOSE + TRIALS,data=epinuneq))
> > Error in getGroups.data.frame(dataMix, groups) :
> >       Invalid formula for groups
>
>Any ideas? How do I get an ANOVA computation that can handle uniqual
>sampe sizes in R?

The lme function is designed for linear mixed models, that is, models 
including both fixed and random effects. It's hard to tell from the 
information that you provide whether a mixed model is appropriate for your 
data -- in particular, is TRIALS a repeated-measures factor? If you indeed 
need to fit a mixed model, then you haven't specified it correctly. See the 
help page for lme for details.

On the other hand, if you just want to fit a fixed-effects Anova with no 
interactions, then you can use the aov or lm functions. Again, see 
help(aov) and help(lm). The summary method for aov and the anova method for 
both aov and lm objects will give you sequential ("type I") sums of 
squares. The Anova function in the car package can compute "Type II" and 
"III" sums of squares for lm objects. If you use the latter, be careful 
with the contrast coding.

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Mar  8 14:34:19 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 8 Mar 2002 14:34:19 +0100
Subject: SPSS N-way  AN?OVA -> R ?  (was [R] Unbalanced ANOVA in R?)
In-Reply-To: <Pine.GSO.4.44.0203080616590.1156-100000@auk.stats>
References: <20020308065617.A6636@ling.umu.se> <Pine.GSO.4.44.0203080616590.1156-100000@auk.stats>
Message-ID: <20020308143419.A8859@ling.umu.se>

Thank you Professor Ripley for the quick and informative response.

Being unable to choose a different textbook (even though I must admit
that this SPSS obsession is starting to annoy me).
I solved the problem though.

I changed the subject for this post in order to change the topic into
a more general one:

What does aov() do and what does it NOT do? 
Prof. Ripley mentioned that you should use the lme() function  for
multistrata anova, so that's one. What else? (Realising that this is a
question with an open set of answers).

My impression is that what I am suppose do do in SPSS under some heading
n-way anova, ancova,  one-way glm or whatever is handled in S/R by aov()

Does this mean you can use aov() to compare two groups with different
ns?

Many open questions, I know, but the SPSS -> R translation is troubling
for me.

Please, could someone sort this out for me?

/Fredrik


On Fri, Mar 08, 2002 at 06:24:27AM +0000, Prof Brian D Ripley wrote:
> On Fri, 8 Mar 2002, Fredrik Karlsson wrote:
> 
> > Hi all
> >
> > I'm trying to complete a textbook example originally designed for SPSS
> > in R, and I therefore need to find out how to compute an unbalanced
> > ANOVA in R.
> >
> > I did a search on the mailinglist archives an found a post by Prof.
> > Ripley saying one should use the lme function for (among other things)
> > unbalanced ANOVAs, but I have not been able to use this object.
> > My code gives me an error.. Why is that ?
> >
> > > aov(lme(DELAY ~ DOSE + TRIALS,data=epinuneq))
> > > Error in getGroups.data.frame(dataMix, groups) :
> > > 	Invalid formula for groups
> >
> > Any ideas? How do I get an ANOVA computation that can handle uniqual
> > sampe sizes in R?
> 
> I said use lme, *not* aov and lme.  Note, though, that the advice applied
> to multistrata unbalanced anova, and this appears to be a two-way layout in
> one stratum.  You can use aov for that. (You can't use lme unless there are
> two or more strata.)  Just be careful how you interpret the output: in SAS
> parlance aov gives you `Type I' sums of squares.
> 
> The reason why this is more difficult in R is that R unlike SPSS does not
> guess which of the many possible interpretations you mean.  We would need
> to know a lot more about the actual statistical problem to tell you what
> would be a good analysis in R.
> 
> Maybe you should look at a textbook designed for use with S/R not SPSS?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-- 
-----------------------------------------------------------------
Fredrik Karlsson, Research Student

Department of Philosophy and Linguistics
Ume? University
S-901 87 UME?
SWEDEN
Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  8 14:59:14 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Mar 2002 13:59:14 +0000 (GMT)
Subject: SPSS N-way  AN?OVA -> R ?  (was [R] Unbalanced ANOVA in R?)
In-Reply-To: <20020308143419.A8859@ling.umu.se>
Message-ID: <Pine.LNX.4.31.0203081345560.10204-100000@gannet.stats>

On Fri, 8 Mar 2002, Fredrik Karlsson wrote:

> Thank you Professor Ripley for the quick and informative response.
>
> Being unable to choose a different textbook (even though I must admit
> that this SPSS obsession is starting to annoy me).

You could read a textbook on S/R which would explain what aov does.  As I
understand it John Fox's car package is designed (amongst other things) to
make R easier for diehard SPSS users, so you ought to find that useful.

> I solved the problem though.
>
> I changed the subject for this post in order to change the topic into
> a more general one:
>
> What does aov() do and what does it NOT do?
> Prof. Ripley mentioned that you should use the lme() function  for
> multistrata anova, so that's one. What else? (Realising that this is a
> question with an open set of answers).

No, for *unbalanced* multistrata anova (and that's the second time you
have quoted me out of context: please be more careful!).  For balanced
desigms, aov()  is the preferred tool.  It's also general for unbalanced
fixed-effects models, but for some lm will be able to interpret.

> My impression is that what I am suppose do do in SPSS under some heading
> n-way anova, ancova,  one-way glm or whatever is handled in S/R by aov()
>
> Does this mean you can use aov() to compare two groups with different
> ns?

You can, but that's the job of t.test.

> Many open questions, I know, but the SPSS -> R translation is troubling
> for me.

It's troubling for us.  SPSS is often grossly misleading in its
terminology.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Fri Mar  8 15:02:42 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Fri, 8 Mar 2002 14:02:42 -0000
Subject: [R] Matrix multiplication problem
Message-ID: <001e01c1c6a9$ea3b92f0$4c202880@GSIMPSON>

Dear List,

I am having trouble with some R code I have written to perform
Redundancy Analysis (RDA) on a matrix of species abundance data (Y) and
a matrix of environmental data (X).

RDA is a constrained form of PCA and can be thought of as a PCA of the
fitted values of a regression of each variable in Y on all variables in
X.

For info, the first use of RDA is in:

Rao, C.R, 1964.  The use and interpretation of principal component
analysis in applied research.  Sankhyaa, Ser. A 56: 329-358.

Rao proposed the problem of RDA as an exercise at the end of Chapter 8
in his book on multivariate analysis (Rao, C.R., 1973.  Linear
statistical inference and its applications.  2nd edition.  Wiley, New
York).

The algorithm I am following is given in Chapter 11 pages 580-587 of:
Legendre, P. and Legendre, L. 1998.  Numerical Ecology. 2nd English
edition. Elsevier.

The problem I am having is with some matrix multiplication within the
code.  You can see this problem I have by running the following example
using my code at the end of the email:

spp.dat <- matrix(c(4,2,0,2,0,5,1,3,2,4,0,2,2,0,3,1),4,4)
env.dat <- matrix(c(1.5,2.3,2,1.6,0.9,0.8,1.2,1.5),4,2)
test.rda <- rda(spp.dat, env.dat)

Results in the following error:
Error in df %*% t(Yhat) : non-conformable arguments

This is referring to the part of the code where I wish to do the
following:

S<sub>Yhat'Yhat</sub> = [1/(n-1)] Yhat' Yhat, 

where [1/(n-1)] = df = degrees of freedom. is effectively dividing my
t(Yhat) %*% Yhat by the degrees of freedom, n being the number of
observations or sites.

df is a column matrix of the form:

          [,1]
[1,] 0.3333333
[2,] 0.3333333
[3,] 0.3333333
[4,] 0.3333333

With Yhat' and Yhat both being matrices of the form:
Yhat'
          [,1]       [,2]       [,3]       [,4]
[1,]  2.1462687 -0.5641791 -0.9761194 -0.6059701
[2,] -1.9487562  1.5880597  0.8587065 -0.4980100
[3,]  0.2646766  0.9791045 -0.1472637 -1.0965174
[4,]  0.2701493 -0.6134328 -0.1089552  0.4522388

And Yhat:
           [,1]       [,2]       [,3]       [,4]
[1,]  2.1462687 -1.9487562  0.2646766  0.2701493
[2,] -0.5641791  1.5880597  0.9791045 -0.6134328
[3,] -0.9761194  0.8587065 -0.1472637 -0.1089552
[4,] -0.6059701 -0.4980100 -1.0965174  0.4522388

I am stumped as to what I am doing wrong and how to go about solving it.


If anyone could indicate how to go about solving this problem I would be
most grateful.

Gavin Simpson

Windows 2000

Version:
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R 

code is below:

rda <- function(y, x, sqroot=FALSE, stdy=FALSE, stdx=FALSE)
{
	y <- as.matrix(y) #species data matrix
     x <- as.matrix(x) #environmental or constraining variables
     n <- length(y[,1]) #number of observations
     
     if (stdy==FALSE){
     	y <- scale(y, center=TRUE, scale=FALSE)
    	} else {
     	y <- scale(y, center=TRUE, scale=TRUE)
     }
     
     if (stdx==FALSE){
     	x <- scale(x, center=TRUE, scale=FALSE)
     } else {
     	x <- scale(x, center=TRUE, scale=TRUE)
     }
     
     if (sqroot==TRUE){
     	y <- sqrt(y)
     }
     
     B <- solve(t(x) %*% x) %*% t(x) %*% y
     Yhat <- x %*% B
     
     df <- as.matrix(rep((1/(n-1)), times=n))
    
     S <- df %*% t(Yhat) %*% Yhat
     
     svd.fitted <- svd(S)
     qr.rank <- qr(S)$rank
     eig <- svd.fitted$d[1:qr.rank]

     U1 <- svd.fitted$u[,1:qr.rank]
     U2 <- U1 %*% diag(svd.fitted$d[1:qr.rank]^0.5)
     
     F1 <- y %*% svd.fitted$u[,1:qr.rank]
     F2 <- F1 %*% diag(1/svd.fitted$d[1:qr.rank]^0.5)
     
     Z1 <- Yhat %*% svd.fitted$u[,1:qr.rank]
     Z2 <- Z1 %*% diag(1/svd.fitted$d[1:qr.rank]^0.5)
     
     r <- cor(F1, Z1)
     C <- B %*% svd.fitted$u[,1:qr.rank]
     bip.xvars <- cor(x, Z1)
     
     tmp <- list(U1 = U1, U2 = U2, F1 = F1, F2 = F2, Z1 = Z1, Z2 = Z2,
     	eig = eig, r = r, C = C, bip.xvars = bip.xvars)
     
     class(tmp) <- "rda"
     return(tmp)
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  8 15:18:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Mar 2002 15:18:26 +0100
Subject: [R] Matrix multiplication problem
In-Reply-To: <001e01c1c6a9$ea3b92f0$4c202880@GSIMPSON>
References: <001e01c1c6a9$ea3b92f0$4c202880@GSIMPSON>
Message-ID: <x21yevnnwt.fsf@blueberry.kubism.ku.dk>

Gavin Simpson <gavin.simpson at ucl.ac.uk> writes:

> Results in the following error:
> Error in df %*% t(Yhat) : non-conformable arguments
...
> df is a column matrix of the form:
> 
>           [,1]
> [1,] 0.3333333
> [2,] 0.3333333
> [3,] 0.3333333
> [4,] 0.3333333
> 
> With Yhat' and Yhat both being matrices of the form:
> Yhat'
>           [,1]       [,2]       [,3]       [,4]
> [1,]  2.1462687 -0.5641791 -0.9761194 -0.6059701
> [2,] -1.9487562  1.5880597  0.8587065 -0.4980100
> [3,]  0.2646766  0.9791045 -0.1472637 -1.0965174
> [4,]  0.2701493 -0.6134328 -0.1089552  0.4522388
> 
> And Yhat:
>            [,1]       [,2]       [,3]       [,4]
> [1,]  2.1462687 -1.9487562  0.2646766  0.2701493
> [2,] -0.5641791  1.5880597  0.9791045 -0.6134328
> [3,] -0.9761194  0.8587065 -0.1472637 -0.1089552
> [4,] -0.6059701 -0.4980100 -1.0965174  0.4522388
> 
> I am stumped as to what I am doing wrong and how to go about solving it.

You're multiplying a 4x1 matrix with a 4x4 and they don't conform. 

...

>      df <- as.matrix(rep((1/(n-1)), times=n))
>     
>      S <- df %*% t(Yhat) %*% Yhat
...


Either

a) use S <- t(df) %*%...
b) use df <- matrix(rep((1/(n-1)), times=n), 1)

or

c) just forget about df and use  S <- (t(Yhat) %*% Yhat)/(n-1)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Fri Mar  8 15:22:26 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Fri, 8 Mar 2002 09:22:26 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <20020308110803.52040.qmail@web20605.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21L1.0203080910020.6741-100000@hm269-26876.socsci.unc.edu>

On Fri, 8 Mar 2002, [iso-8859-1] dechao wang wrote:

> Many thanks for all who have joined the discussion.
> From the instructive discussion, it seems there may
> not have a command or function to deal with DIRECTLY
> the comparison between two items, such as 
> x1<-c(weight1, ...weightn, height1,...heightn)
> x2<-c(weight1, ...weightn, height1,...heightn)

It's not the lack of a command, it's the question of a *method*. There
are, as I said before, fields of statistics dedicated to measuring the
similarity/difference between vectors of measures. Chapters 10 and 11 in
Venables and Ripley's _Modern Applied Statistics with S-Plus_ might be a
good place for you to start. But it's most definitely *not* the right idea
to simply decide that cor() sounds like a nice command so you'll use it,
regardless of whether it has any validity.

> 
> However, this may be quite a common question in the
> real world to be asked. As we have already seen that
> correlation analysis could be used to address this
> issue, except that the resolution rate is not good. 
> According to the theory of gray systems, several
> measures can be taken to increase the compatibility of
> different items which contain different units and
> measurements. Take trees for example, after the data
> were normalised, the relation degree between tree1 and
> tree2 is 0.9997, while the relation degree between
> tree1 and tree3 is 0.4988.
> 
> 

Well, if you'd like to define the term "relation degree" to mean "the
meaningless correlation between the various measures across cases" or
something to that effect, you're free to do so. But you'd need to make a
case that the correlation coefficient between trees is a statistically
appropriate way to measure the degree of similarity between cases, which
is what you're really asking. Given that lots of people have worked lots
of years to develop appropriate methods for measuring similarity between
cases, I suspect your research using this measure would be, er... poorly
received.

> > tree1<-c(1,  2,  3,   100, 200, 300)
> > tree2<-c(1.1,2.8,3.3, 108, 209, 303)
> > tree3<-c(3.8,6.8,5.3, 108, 209, 303)
> > trees<-cbind(tree1,tree2,tree3)
> > cor(trees,trees)
>          tree1     tree2     tree3
> tree1 1.000000 0.9996549 0.9997620
> tree2 0.999655 1.0000000 0.9999687
> tree3 0.999762 0.9999687 1.0000000
> > 
> > tree1<-c(tree1[1:3]/6.8, tree1[4:6]/303)
> > tree2<-c(tree2[1:3]/6.8, tree2[4:6]/303)
> > tree3<-c(tree3[1:3]/6.8, tree3[4:6]/303)
> > trees<-cbind(tree1,tree2,tree3)
> > cor(trees,trees)
>           tree1     tree2     tree3
> tree1 1.0000000 0.9918951 0.4988191
> tree2 0.9918951 1.0000000 0.5806924
> tree3 0.4988191 0.5806924 1.0000000
> 

All you've shown here is that it's possible to calculate a
correlation. But R won't tell you whether it's a good idea or not -- R's
job is to calculate. It assumes you know what you're doing. In this case,
I submit, you do not. The fact that a correlation coefficient can be
calculated does not mean that it says anything at all about the similarity
between cases, which is your real question here.  As an example, I give
you Joe and Jane, two rather different individuals; Joe is 75 inches tall
and weights 90kg. He has two eyes, and is 45 years old. Jane, by contrast,
is only 48 inches tall, and weighs only 57kg. She, too, has two eyes, but
is only 32 years old.

> people
     Weight Height NrEyes Age
joe      75   90.0      2  45
jane     48   57.6      2  32

Nevertheless, according to your metric, they are very similar:
> cor(joe,jane)
[1] 0.998295

My strong advice is that you give up on trying to use correlation
coefficients to measure the similarity between cases and consider methods
that are actually suited to that task.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangrej at exchange.cheo.on.ca  Fri Mar  8 17:24:55 2002
From: rangrej at exchange.cheo.on.ca (Rangrej, Jagadish)
Date: Fri, 8 Mar 2002 11:24:55 -0500 
Subject: [R] passing the reference in R functions
Message-ID: <A032D3A4B7F0D411B9360008C71E3DA5038D4C4A@cheont3.cheo.on.ca>

Hello!

is it possible to send the vector in the r functions without making the
function frame to actually have the replicate copy of it ?

-Jag
Jagadish Rangrej ( Statistician )
CHEO Research Institute, Ottawa, ON
613-7383951
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar  8 18:05:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 8 Mar 2002 09:05:16 -0800 (PST)
Subject: [R] ? about sample
In-Reply-To: <002901c1c699$9b4d12a0$768f1941@columbus.rr.com>
Message-ID: <Pine.A41.4.44.0203080902560.69958-100000@homer34.u.washington.edu>

On Fri, 8 Mar 2002, jimi adams wrote:

> i am trying to use the
> sample command and have one question about it:
> i am getting the error
>
> Error in sample(length(x), size, replace, prob) :
>         insufficient positive probabilities
>
> when i use something like:
> sample (1:4, prob=c(0,0,1,0))[1]
>
> i was expecting that to return a 3 every time

It sounds like you want to add replace=TRUE, eg

R> sample(1:4,prob=c(0,0,1,0),replace=TRUE)
[1] 3 3 3 3

You were trying to sample four numbers without replacement from a set
effectively containing only one number.  That's what the error message
means.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Fri Mar  8 18:02:45 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Fri, 08 Mar 2002 12:02:45 -0500
Subject: [R] linear correlation?
Message-ID: <OFAD3239A0.6BF4E380-ON85256B76.005D3D83@rtp.epa.gov>


What about if we measure the height (x1 in cm) and weight (x2 in kg) of
a sample of people from some population. It seems it makes sense to me
to get the correlation between x1 and x2.

Charlie Liu,
Intern at ECO/EPA.



                                                                                                         
                    "Scott, Uriel"                                                                       
                    <uriel.scott at mirant.        To:     "Scott, Uriel" <uriel.scott at mirant.com>, 'dechao 
                    com>                        wang' <dechwang at yahoo.co.uk>, r-help at stat.math.ethz.ch   
                    Sent by:                    cc:                                                      
                    owner-r-help at stat.ma        Subject:     RE: [R] linear correlation?                 
                    th.ethz.ch                                                                           
                                                                                                         
                                                                                                         
                    03/07/02 12:28 PM                                                                    
                                                                                                         
                                                                                                         





Sorry, I also misread your original question and thought x1 was in cm
and x2
in kg.

I don't think it makes any sense for some values of x1 (or x2) to be in
cm
and others in kg.  How can they represent samples from the same
population?
It would be okay if, say, some were in cm and others in km as they are
equivalent units, and you could simply convert to the same unit, but
otherwise I don't see how some members of a population are in cm and
others
in kg.

> -----Original Message-----
> From:         Scott, Uriel [SMTP:uriel.scott at mirant.com]
> Sent:         Thursday, March 07, 2002 10:12 AM
> To:           'dechao wang'; r-help at stat.math.ethz.ch
> Subject:           RE: [R] linear correlation?
>
>
> Whether the two variables have the same units does not matter.
Moreover,
> even if there were some way of converting cm to kg the correlation
would
> still be the same because the correlation is invariant under unit
> conversion
> as it is invariant under multiplication of its arguments by a
constant.
>
> As for your second question, the correlation estimator is a continuous
> function of each of the individual data points, so perturbing the
values
> of
> any of them by a sufficiently small amount will only perturb the
> correlation
> by a small amount.
>
> > -----Original Message-----
> > From:       dechao wang [SMTP:dechwang at yahoo.co.uk]
> > Sent:       Thursday, March 07, 2002 5:34 AM
> > To:         r-help at stat.math.ethz.ch
> > Subject:         [R] linear correlation?
> >
> > Hi, I have checked statistic textbooks about
> > correlations, but I am still not sure the correlation
> > analysis with different units, for example,
> >
> > x1<-c(1,  2,  3,   100, 200, 300)
> > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > the unit of the first 3 numbers is cm
> > the unit of the last 3 numbers is kg
> >
> > cor(x1,x2)=0.999655
> >
> > Can I explain the correlation coefficient as normal in
> > which all numbers have the same unit?
> >
> > Secondly, if keep the three large numbers unchanged,
> > just change the three small numbers, the coefficient
> > changes little, this means that the variation of three
> > small numbers is hidden by the three larger numbers.
> > Is there any solution in R to solve this issue?
> >
> > Thanks,
> >
> > Dechao
> >
> > __________________________________________________
> >
> > Everything you'll ever need on one web page
> > from News and Sport to Email and Music Charts
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.
> > -.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._.
> > _._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar  8 18:19:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 8 Mar 2002 09:19:43 -0800 (PST)
Subject: [R] passing the reference in R functions
In-Reply-To: <A032D3A4B7F0D411B9360008C71E3DA5038D4C4A@cheont3.cheo.on.ca>
Message-ID: <Pine.A41.4.44.0203080908410.69958-100000@homer34.u.washington.edu>

On Fri, 8 Mar 2002, Rangrej, Jagadish wrote:

> Hello!
>
> is it possible to send the vector in the r functions without making the
> function frame to actually have the replicate copy of it ?
>

If you're asking what I think you're asking, then yes.

R appears to pass arguments by value, so when you do

  mean(verybigarray)

the effect is as if the mean() function received a copy of verybigarray.
However, R doesn't *actually* copy arguments until they are modified, so
the copy is really just a reference to the original array and takes up
very little memory.

You can see the difference by creating a large vector, say,

x<-rnorm(1e6)
gcinfo(TRUE)   #report when memory is garbage collected

system.time(mean(x))     #mean() does copy and modify its argument

system.time(sum(x)/1e6)  #sum() doesn't


You will see that mean() is slower and causes garbage collection.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Fri Mar  8 19:54:15 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 08 Mar 2002 10:54:15 -0800
Subject: [R] predict.tree
Message-ID: <OFAF10AAB5.6C5D8AAD-ON88256B76.0067729E@rtp.epa.gov>

We are trying to implement Breiman's one standard deviation
pruning rule for tree models.  I have run into a problem with
predict.tree.

This bit of R code, a skeleton for a cross-validation process,

library (tree)
dat <- data.frame (matrix (runif (3*100), nrow=100, ncol=3))
a.dat <- dat[1:50,]
b.dat <- dat[51:100,]
a.tree <- tree (a.dat)
b.pred <- predict.tree (a.tree, newdata=b.dat, type="tree")

will produce the message,

> b.pred <- predict.tree (a.tree, newdata=b.dat, type="tree")
Error in as.list(X) : Object "response.names" not found

The offending lines in predict.tree seem to be,

    response.vars <- all.vars(formula(Terms)[[2]])
    response.exists <- sapply(response.names, function(nm,
      newdata) eval(local = newdata, substitute(exists(nm),
      list(nm = nm))), newdata)

When I changed "response.names" to "response.vars", the call to eval
failed, not recognizing parameter "local".  I could not understand
how to repair this.  When I replaced this code with
response.exists <- TRUE, then the tree variable output from
predict.tree seemed to be not well formed, because the residuals.tree
function produced this message, as did model.frame.tree,

> model.frame (b.pred)
Error in [.data.frame(structure(list(X1 = c(0.847547228412597,
0.683225137340656,  :
        invalid subscript type

Any guidance is much appreciated.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garry.kremer at convergys.com  Fri Mar  8 22:08:48 2002
From: garry.kremer at convergys.com (garry.kremer@convergys.com)
Date: Fri, 8 Mar 2002 16:08:48 -0500
Subject: [R] Create png graph from script?
Message-ID: <OFA2A71820.8C74BEF5-ON85256B76.00722AFB@cbis.com>

I am looking for a way to create png format files from a script that runs
from crontab.   I would like to avoid ghostscript or depending on a
particular x11 device being available.     Any help is appreciated.
Details below.

I am running R Version 1.4.1 on Solaris 2.6.

If I can rely on an x11 device being available I can achieve the result as
follows:

   $ /fred/R-1.4.1/bin/R --no-save <rbatchtest

   $ cat rbatchtest
   x11("10.20.30.400:0")
   png(filename="batchtest.png")
   plot(1,1)
   dev.off()
   $

If I try to run this without the x11 command I get the following error:
   Error in X11(paste("png::", filename, sep = ""), width, height,
   pointsize,  :
           unable to start device PNG
   In addition: Warning message:
   unable to open connection to X11 display`'
   Execution halted

I'm not comfortable about relying on an x11 device to be available in the
middle of the night when the script runs from cron.

I know I can create postscript and rely on ghostscript to do the conversion
but the ghostscript licensing is a concern.

Is there such a concept as a "dummy" x11 device or other creative solution?

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Mar  8 23:04:37 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 08 Mar 2002 23:04:37 +0100
Subject: [R] Statconnector and Excel
References: <mnet1.1015490180.24590.nolwennlm@netcourrier.com>
Message-ID: <3C893575.C98D65FA@univie.ac.at>

what happens when you remoove the line i indicate?
and:
the matrix you are reading in is NOT what you try to get with
Call RInterface.getArray("passTestb1", Range("D2"))
you APPLY the function pass
to the matrix you read in.
i need to know what kind of object pass returns
to be able to diagnose.

can you tell me what return value pass produces, or send me
the definition of pass?


> Sub doR()
> Call RInterface.StartRServer
> Call RInterface.RRun("library(mdnn)")
> Call RInterface.RRun("F11b1<-read.table(""c:/test/Testb1.txt"", header=TRUE)")
> Call RInterface.RRun("passTestb1<-pass(Testb1, Threshold=5, ExtremeThreshold=5)")
----------------> Call RInterface.RRun("passTestb1")
> Call RInterface.getArray("passTestb1", Range("D2"))
> Call RInterface.StopRServer
> end sub
> 

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri Mar  8 23:16:47 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 8 Mar 2002 17:16:47 -0500
Subject: [R] ARMA and ARIMA modeling
Message-ID: <15497.14415.482308.338994@gargle.gargle.HOWL>

I'd like to play with ARIMA models of stock prices, but I am a complete novice.
Could some kind soul explain the relationship among packages "ts", "tseries",
"dse", "dse2", and "fracdiff"?  Are they 'competing' products or does one
depend on another?  Where would be the best place for a novice to begin?
Thanks for any advice.

PS. I have Venables & Ripley's MASS (3rd ed), and the "R Complements" paper, to
work from.
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  9 08:18:17 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 9 Mar 2002 07:18:17 +0000 (GMT)
Subject: [R] ARMA and ARIMA modeling
In-Reply-To: <15497.14415.482308.338994@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.44.0203090711040.3971-100000@auk.stats>

On Fri, 8 Mar 2002, David Brahm wrote:

> I'd like to play with ARIMA models of stock prices, but I am a complete novice.
> Could some kind soul explain the relationship among packages "ts", "tseries",
> "dse", "dse2", and "fracdiff"?  Are they 'competing' products or does one
> depend on another?  Where would be the best place for a novice to begin?
> Thanks for any advice.

Only ts has full handling of ARIMA models.  It's changed a lot in R-devel.
It also provides basic function on which all the others rely.

tseries contains other models primarily of interest in economics, and
GARCH models (which are better models of stock prices).  It also has
arma, which is subsumed by arima (and arima0) in R-devel.

fracdiff handles fractionally differenced models, a very specialized topic.

The dse bundle majors on multivariate time series.

>
> PS. I have Venables & Ripley's MASS (3rd ed), and the "R Complements" paper, to
> work from.
> --
>                               -- David Brahm (brahm at alum.mit.edu)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Sat Mar  9 11:20:28 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Sat, 09 Mar 2002 05:20:28 -0500
Subject: [R] IE html help search engine terminates
Message-ID: <5.1.0.14.2.20020309051403.050ca3c0@po.muohio.edu>

I use Windows 2000 with Internet Explorer (5.5), R 1.4.0, ESS and emacs.
Internet Explorer frequently crashes upon using the search engine. The 
machine says it is generating an error log, but I don't know how to access 
it. Any thoughts?
Thanks,
Henry

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Tel: (513) 529-4206
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  9 11:45:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Mar 2002 10:45:27 +0000 (GMT)
Subject: [R] IE html help search engine terminates
In-Reply-To: <5.1.0.14.2.20020309051403.050ca3c0@po.muohio.edu>
Message-ID: <Pine.LNX.4.31.0203091044100.12177-100000@gannet.stats>

On Sat, 9 Mar 2002, Martin Henry H. Stevens wrote:

> I use Windows 2000 with Internet Explorer (5.5), R 1.4.0, ESS and emacs.
> Internet Explorer frequently crashes upon using the search engine. The
> machine says it is generating an error log, but I don't know how to access
> it. Any thoughts?

You should upgrade your IE, not least for security reasons.  I see no
problems with 6.0 (fully patched).

You should also upgrade your R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Mar  9 14:08:30 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Mar 2002 07:08:30 -0600
Subject: [R] ARMA and ARIMA modeling
In-Reply-To: <Pine.GSO.4.44.0203090711040.3971-100000@auk.stats>
References: <15497.14415.482308.338994@gargle.gargle.HOWL> <Pine.GSO.4.44.0203090711040.3971-100000@auk.stats>
Message-ID: <20020309130830.GA22977@sonny.eddelbuettel.com>

On Sat, Mar 09, 2002 at 07:18:17AM +0000, Prof Brian D Ripley wrote:
> Only ts has full handling of ARIMA models.  It's changed a lot in R-devel.
> It also provides basic function on which all the others rely.
> 
> tseries contains other models primarily of interest in economics, and
> GARCH models (which are better models of stock prices).  It also has

Hm, "better" sounds odd here. 

They cannot be compared directly: Garch models are different from Arma
models in the sense of being "arma-type models in the variance". They model
second moments (variance, and thus volatility), not first moments. Both have
benn combined by using AR(F)(I)MA for the first moment and Garch-type models
for the second moment.  Doing that estimation jointly is tricky. It is also
tricky to fit the Ar(f)(i)ma model "well" to financial markets return.
Low-hanging fruits like this get picked up in the markets the earliest...

"Better" is of course correct in a less-narrow sense of Garch models being
considered a generally more valid fit in the variance space than arma models
in the mean space.

> arma, which is subsumed by arima (and arima0) in R-devel.
> 
> fracdiff handles fractionally differenced models, a very specialized topic.

A generalisation of ARIMA by relaxing the d=1 restriction. I never had much
luck with the package -- the covariance matrix estimator seems very broken
(some elements are in the order of 1e-28, others 1e+20 which cannot be
sensible; try "example(fracdiff)".) I always meant to debug that but
haven't.

Another somewhat important distinction is that David (or I) are not supposed
to use fracdiff or tseries at work -- fracdiff and some parts of tseries are
not free for commerical use.

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chenhsh at mail.disa.pku.edu.cn  Sat Mar  9 18:51:50 2002
From: chenhsh at mail.disa.pku.edu.cn (Chen Huashan)
Date: Sun, 10 Mar 2002 01:51:50 +0800
Subject: [R] mailing list archive
In-Reply-To: <HBECLPCKNJCMJDFHNKJGMEFECMAA.chenhsh@mail.disa.pku.edu.cn>
Message-ID: <HBECLPCKNJCMJDFHNKJGOEKKCMAA.chenhsh@mail.disa.pku.edu.cn>

Dear R help users:

All the posts of r-help list before 2001-12-28 have been added to database!
The address is : http://www.baidao.net/r/maillist/archive/index.cgi

The old address (http://www.baidao.net/r/maillist/index.cgi ) is still under testing

The other two lists will be added untile r-help list archive is considered stable enough.

All the bests!

Chen Huashan

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Chen Huashan
> Sent: Thursday, March 07, 2002 1:36 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] mailing list archive
> 
> 
> Dear R help users:
> 
> I have set up a r help mailing list archive based on mysql which support
> full text search and auto-update.
> 
> Please visit http://www.baidao.net/r/maillist/index.cgi  . I hope 
> you could 
> provide me bug reports and suggestions. 
> 
> I will add r_dev and r_announce mailing list as soon as possible.
> 
> Thanks in advance!
> 
> 
> eLan 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at email.unc.edu  Sat Mar  9 20:44:03 2002
From: aperrin at email.unc.edu (Andrew Perrin)
Date: Sat, 9 Mar 2002 14:44:03 -0500 (EST)
Subject: [R] linear correlation?
In-Reply-To: <OFAD3239A0.6BF4E380-ON85256B76.005D3D83@rtp.epa.gov>
Message-ID: <Pine.A41.4.21L1.0203091442580.132708-100000@login3.isis.unc.edu>

All I can say is, please read the whole thread. He's not correlating two
variables across cases, as you assume in your message. He's correlating
two cases across variables, and getting meaningless (but attractively
high) numbers.

ap

---------------------------------------------------------
   Andrew J. Perrin - Assistant Professor of Sociology
        University of North Carolina, Chapel Hill
269 Hamilton Hall CB#3210, Chapel Hill, NC 27599-3210 USA
   andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

On Fri, 8 Mar 2002 Liu.Chunhua at epamail.epa.gov wrote:

> 
> What about if we measure the height (x1 in cm) and weight (x2 in kg) of
> a sample of people from some population. It seems it makes sense to me
> to get the correlation between x1 and x2.
> 
> Charlie Liu,
> Intern at ECO/EPA.
> 
> 
> 
>                                                                                                          
>                     "Scott, Uriel"                                                                       
>                     <uriel.scott at mirant.        To:     "Scott, Uriel" <uriel.scott at mirant.com>, 'dechao 
>                     com>                        wang' <dechwang at yahoo.co.uk>, r-help at stat.math.ethz.ch   
>                     Sent by:                    cc:                                                      
>                     owner-r-help at stat.ma        Subject:     RE: [R] linear correlation?                 
>                     th.ethz.ch                                                                           
>                                                                                                          
>                                                                                                          
>                     03/07/02 12:28 PM                                                                    
>                                                                                                          
>                                                                                                          
> 
> 
> 
> 
> 
> Sorry, I also misread your original question and thought x1 was in cm
> and x2
> in kg.
> 
> I don't think it makes any sense for some values of x1 (or x2) to be in
> cm
> and others in kg.  How can they represent samples from the same
> population?
> It would be okay if, say, some were in cm and others in km as they are
> equivalent units, and you could simply convert to the same unit, but
> otherwise I don't see how some members of a population are in cm and
> others
> in kg.
> 
> > -----Original Message-----
> > From:         Scott, Uriel [SMTP:uriel.scott at mirant.com]
> > Sent:         Thursday, March 07, 2002 10:12 AM
> > To:           'dechao wang'; r-help at stat.math.ethz.ch
> > Subject:           RE: [R] linear correlation?
> >
> >
> > Whether the two variables have the same units does not matter.
> Moreover,
> > even if there were some way of converting cm to kg the correlation
> would
> > still be the same because the correlation is invariant under unit
> > conversion
> > as it is invariant under multiplication of its arguments by a
> constant.
> >
> > As for your second question, the correlation estimator is a continuous
> > function of each of the individual data points, so perturbing the
> values
> > of
> > any of them by a sufficiently small amount will only perturb the
> > correlation
> > by a small amount.
> >
> > > -----Original Message-----
> > > From:       dechao wang [SMTP:dechwang at yahoo.co.uk]
> > > Sent:       Thursday, March 07, 2002 5:34 AM
> > > To:         r-help at stat.math.ethz.ch
> > > Subject:         [R] linear correlation?
> > >
> > > Hi, I have checked statistic textbooks about
> > > correlations, but I am still not sure the correlation
> > > analysis with different units, for example,
> > >
> > > x1<-c(1,  2,  3,   100, 200, 300)
> > > x2<-c(1.1,2.8,3.3, 108, 209, 303)
> > > the unit of the first 3 numbers is cm
> > > the unit of the last 3 numbers is kg
> > >
> > > cor(x1,x2)=0.999655
> > >
> > > Can I explain the correlation coefficient as normal in
> > > which all numbers have the same unit?
> > >
> > > Secondly, if keep the three large numbers unchanged,
> > > just change the three small numbers, the coefficient
> > > changes little, this means that the variation of three
> > > small numbers is hidden by the three larger numbers.
> > > Is there any solution in R to solve this issue?
> > >
> > > Thanks,
> > >
> > > Dechao
> > >
> > > __________________________________________________
> > >
> > > Everything you'll ever need on one web page
> > > from News and Sport to Email and Music Charts
> > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.
> > > -.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._.
> > > _._._
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.
> > -.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._.
> > _._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Sat Mar  9 23:38:57 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Sat, 09 Mar 2002 22:38:57 +0000
Subject: [R] labels outside plotting region
Message-ID: <3C8A8F01.8C4C3CCE@icrf.icnet.uk>

Hello,

I've just started R, and I'm getting a bit mad using it. I've managed to
produce a barplot with the labels for the ytick marks placed
horizontally (perpendicular to the y-axis) usiing par(las=1). The
problem is that most of my labels are in part beyond the plotting area
because they are rather long (e.g. "H. sapiens", "D. melanogaster" ...).

What is the easiest way to solve this problem, can I (somehow) re-scale
the x-extension and x-shift the plot to get more space to the left of
the visible area?


	thanks a lot for help,

	Arne


-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Sun Mar 10 01:28:55 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Sun, 10 Mar 2002 00:28:55 +0000
Subject: [R] labels outside plotting region
References: <3C8A8F01.8C4C3CCE@icrf.icnet.uk> <20020309181858.T11590@jimmy.harvard.edu>
Message-ID: <3C8AA8C6.35CF4A9B@icrf.icnet.uk>

Hello and thanks a lot for your quick reply.

Robert Gentleman wrote:
> 
> On Sat, Mar 09, 2002 at 10:38:57PM +0000, Arne Mueller wrote:
> > Hello,
> >
> > I've just started R, and I'm getting a bit mad using it. I've managed to
>  Well, you could stop -- we provide full refunds and things like Excel
>  are supposedly easy to use :-).

I've tried Excel, Cricket Graph for Mac, SigmaPlot and Gnuplot. Either
of these programs does what I realy want, and most of them fail to write
proper encapsulated postscript (excpet for gnuplot off course). I'm
writing up my thesis and take the opportunity to learn a little bit
about R - I'm sure it'll be very useful for me once I've learned the
basic stuff.
 
> > produce a barplot with the labels for the ytick marks placed
> > horizontally (perpendicular to the y-axis) usiing par(las=1). The
> > problem is that most of my labels are in part beyond the plotting area
> > because they are rather long (e.g. "H. sapiens", "D. melanogaster" ...).
> >
> > What is the easiest way to solve this problem, can I (somehow)
> > re-scale
>  The easiest solution is to use shorter labels :-). The second easiest
>   might be to use the mar option, ?par will give you the man page
>   for all the par options. This will probably look funny. You can also shring
>   the font etc either via cex or directly.

Ahh, the mar option seems to be exaclty what I'm looking for, just tired
it (successfully ;-). Very good!

But now I've another problem - thelegend of the plot. By default it's
placed in the upper right corner, and I've managed to place it where I
want (e.g. just below the plot using 'horiz'). Unfortunately I cannot
get the sourrounding box for the legend and the small coloured boxes for
the legend, alothough I'm using the 'filled' option.

>   If you include an example that the rest of us can run that
>   reproduces your problem it makes it a little easier to figure out
>   just what you want.

Ok, I'm not usre what's the best way to send thge code + data but here's
basically what I've done:

mx is my data matrix from which I'd like to produce a stacked bar chart.

> mx
             H. sapiens C. elegans D. melanogaster S. cerevisiae E. coli
structure    "39"       "30"       "31"            "31"          "47"   
function     "38"       "28"       "29"            "33"          "38"   
any homology "15"       "19"       "12"            "13"          " 8"   
non globular " 2"       " 6"       " 8"            " 5"          " 2"   
orphan       " 6"       "17"       "20"            "18"          " 5"   
             M. tuberculosis B. subtilis V. cholerae A. pernix P.
horikoshii
structure    "43"            "46"        "45"        "32"     
"41"         
function     "26"            "33"        "36"        "16"     
"25"         
any homology "15"            "10"        " 8"        " 7"     
"20"         
non globular " 7"            " 3"        " 3"        "12"      "
5"         
orphan       " 9"            " 8"        " 8"        "33"      "
9"         
             M. jannaschii A. aeolicus H. pylori M. genitalium
structure    "44"          "49"        "44"      "47"         
function     "27"          "33"        "36"      "44"         
any homology "13"          " 5"        "16"      " 6"         
non globular " 4"          " 4"        " 1"      " 1"         
orphan       "12"          " 9"        " 3"      " 2"    


these are the colors of each of the 'stacked' bars per row
> colors  
[1] "red"    "blue"   "green"  "yellow" "gray"  

> par(mar=c(7,7,0,1), las = 1, xpd=TRUE)
> legend(-10, -3, legend.text, fill=colors, y.intersp=2, horiz=TRUE)
> barplot(mx, beside=FALSE, horiz=TRUE, axes=TRUE, axisnames=TRUE, xlab="fraction of proteome [% of residues]", col=colors)

The legend labels appear correctly but the symbols don't (no symbols at
all). I thought if the filled argument is set small squares are
displayed ... . The problem is that one does not know which bar colours
belongs to which category.

I'm using R 1.1.1 under Suse linux 7.1.

Maybe you've got an idea what goes wrong here. Thanks again for a lot
for your kind help.

	regards,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Sun Mar 10 03:34:29 2002
From: tchur at optushome.com.au (Tim Churches)
Date: Sun, 10 Mar 2002 13:34:29 +1100
Subject: [R] Re: Announce: RPy (R from Python)
References: <20020308113507.A2855@casa.parque>
Message-ID: <3C8AC635.FA2074C2@optushome.com.au>

Walter Moreira wrote:
> I wrote a small extension module for using the R programming language from
> within Python.  It makes it possible to use the huge mathematical and
> statistical library of R from Python, almost whitout any changes from the text
> of R manuals.
> 
> As a side effect, it is also possible to use the full graphics capabilities of
> R, which are extremely good.
> 
> You can download it from:
> 
>     http://www.cmat.edu.uy/~walterm/rpy

This is a fabulous bit of work! In order to illustrate both the power of
the R environment and the ease with which this power can be used from
within Python (thanks to Walter's efforts and those of Duncan Temple
Lang on the RSPython module which inspired RPy), I have created a little
demo, available at http://gestalt-system.sourceforge.net/rpy_demo.html

Cheers,

Tim C
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjanmaat at acadiau.ca  Sun Mar 10 11:36:00 2002
From: jjanmaat at acadiau.ca (John Janmaat)
Date: Sun, 10 Mar 2002 06:36:00 -0400
Subject: [R] multiple pairwise slope comparisons
Message-ID: <3C8B3710.2090502@acadiau.ca>

Hello,

I have a linear model with different slopes for different treatment 
groups.  I need to pairwise compare the different slope estimates for 
the different treatment groups.  Is there a package that does pairwise 
comparisons of slope coefficients, making the appropriate adjustments in 
the P values?

Thanks,

John.
-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Mar 10 14:05:05 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 10 Mar 2002 08:05:05 -0500
Subject: [R] multiple pairwise slope comparisons
In-Reply-To: <3C8B3710.2090502@acadiau.ca>
Message-ID: <5.1.0.14.2.20020310075502.01d54ff0@pop>

At 06:36 AM 3/10/2002 -0400, John Janmaat wrote:

>I have a linear model with different slopes for different treatment 
>groups.  I need to pairwise compare the different slope estimates for the 
>different treatment groups.  Is there a package that does pairwise 
>comparisons of slope coefficients, making the appropriate adjustments in 
>the P values?

Dear John,

I'm not aware of anything that does this directly, but there are several 
simple ways of making these comparisons.

For example, if you use treatment contrasts (the default in R) and fit a 
model with a constant, then the coefficients for the interaction will give 
you slope comparisons with the the baseline category (and the associated t- 
and p-values). You could then use the linear.hypothesis function in the car 
package to compare other pairs of slopes (via pairs of coefficients for the 
interaction), or, alternatively, refit the model with different baseline 
categories until you have all of the pairwise slope comparisons.

Once you have the p-values for the pairs, you could use p.adjust to get 
adjusted p-values, compute Scheffe tests, or whatever you had in mind.

If this is something that you need to do a lot, it wouldn't be hard to 
write a small function to implement the procedure.

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.degris at wanadoo.fr  Sun Mar 10 15:54:05 2002
From: thomas.degris at wanadoo.fr (Thomas DEGRIS)
Date: Sun, 10 Mar 2002 15:54:05 +0100 (MET)
Subject: [R] Newbie with R
Message-ID: <3c8b738d3cf15729@mel-rta9.wanadoo.fr> (added by mel-rta9.wanadoo.fr)

Hello,

I would like to test some learning algorithms (C5.0, or C4.5) using decision trees or neural network. 

I didn't find anything in the R documentation for functions to apply on datasets (well, English is not my mother tongue and I have some problems to understand some functions descriptions). Does anybody know where I can find anything about that ?

Thank you very much,

Thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 10 16:45:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 10 Mar 2002 15:45:28 +0000 (GMT Standard Time)
Subject: [R] Newbie with R
In-Reply-To: <3c8b738d3cf15729@mel-rta9.wanadoo.fr> (added by mel-rta9.wanadoo.fr)
Message-ID: <Pine.WNT.4.44.0203101540580.1188-100000@tern.stats>

On Sun, 10 Mar 2002, Thomas DEGRIS wrote:

> Hello,
>
> I would like to test some learning algorithms (C5.0, or C4.5) using
> decision trees or neural network.

Those (C5 and C4.x) are proprietary algorithms, incompatible with the R
licence.

There is classification tree support in packages rpart and tree, and neural
nets support in package nnet in the VR bundle.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sun Mar 10 16:43:14 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sun, 10 Mar 2002 15:43:14 +0000
Subject: [R] lattice library: xyplot and polygons
Message-ID: <3C8B7F12.DA3070C@cirad.fr>

Dear R-Helpers,

Is there a way to draw shaded (filled) polygons in panel graphs produced
by xyplot ? I made different trials (see below) with polygon() and
grid.polygon() but polygons are not drawn (probably for the same reason
that prevents the use of lines, points, etc. in xyplot panels).

Thanks in advance,

Renaud


> Water
     id           label longitude latitude
515  21 Zone inondable  -14.91929 15.27983
516  21 Zone inondable  -14.91803 15.27967
517  21 Zone inondable  -14.91765 15.27990
518  21 Zone inondable  -14.91722 15.28029
519  21 Zone inondable  -14.91706 15.28061
520  21 Zone inondable  -14.91672 15.28125
521  21 Zone inondable  -14.91566 15.28194
522  21 Zone inondable  -14.91470 15.28189
523  21 Zone inondable  -14.91334 15.28132
524  21 Zone inondable  -14.91297 15.28057
525  21 Zone inondable  -14.91362 15.27972
526  21 Zone inondable  -14.91501 15.27931
527  21 Zone inondable  -14.91573 15.27942
528  21 Zone inondable  -14.91609 15.27896
529  21 Zone inondable  -14.91655 15.27799
530  21 Zone inondable  -14.91732 15.27777
531  21 Zone inondable  -14.91802 15.27758
532  21 Zone inondable  -14.91855 15.27808
533  21 Zone inondable  -14.91914 15.27884
534  21 Zone inondable  -14.91929 15.27983
604  25 Zone inondable  -14.89753 15.23055
605  25 Zone inondable  -14.89731 15.22856
606  25 Zone inondable  -14.89784 15.22840
607  25 Zone inondable  -14.89935 15.22814
608  25 Zone inondable  -14.90030 15.22756
609  25 Zone inondable  -14.90119 15.22746
610  25 Zone inondable  -14.90149 15.22777
611  25 Zone inondable  -14.90146 15.22835
612  25 Zone inondable  -14.90228 15.22875
613  25 Zone inondable  -14.90293 15.22937
614  25 Zone inondable  -14.90332 15.23041
615  25 Zone inondable  -14.90298 15.23109
616  25 Zone inondable  -14.90201 15.23152
617  25 Zone inondable  -14.90113 15.23206
618  25 Zone inondable  -14.90051 15.23233
619  25 Zone inondable  -14.90024 15.23305
620  25 Zone inondable  -14.89996 15.23318
621  25 Zone inondable  -14.89902 15.23299
622  25 Zone inondable  -14.89894 15.23189
623  25 Zone inondable  -14.89890 15.23123
624  25 Zone inondable  -14.89800 15.23064
625  25 Zone inondable  -14.89753 15.23055
1098 34 Zone inondable  -14.87331 15.14367
1099 34 Zone inondable  -14.87443 15.14398
1100 34 Zone inondable  -14.87485 15.14436
1101 34 Zone inondable  -14.87541 15.14516
1102 34 Zone inondable  -14.87576 15.14656
1103 34 Zone inondable  -14.87548 15.14816
1104 34 Zone inondable  -14.87483 15.14857
1105 34 Zone inondable  -14.87375 15.14881
1106 34 Zone inondable  -14.87230 15.14951
1107 34 Zone inondable  -14.87142 15.15006
1108 34 Zone inondable  -14.87069 15.15028
1109 34 Zone inondable  -14.86981 15.14998
1110 34 Zone inondable  -14.86803 15.14950
1111 34 Zone inondable  -14.86779 15.14766
1112 34 Zone inondable  -14.86815 15.14673
1113 34 Zone inondable  -14.86889 15.14658
1114 34 Zone inondable  -14.86954 15.14628
1115 34 Zone inondable  -14.87018 15.14572
1116 34 Zone inondable  -14.87097 15.14583
1117 34 Zone inondable  -14.87279 15.14584
1118 34 Zone inondable  -14.87289 15.14478
1119 34 Zone inondable  -14.87331 15.14367
> 
> Asp <- diff(range(Water$longitude)) / diff(range(Water$latitude))
> ### works but polygons are empty
> xyplot(longitude ~ latitude,
+   data = Water, groups = id, aspect = Asp,
+   panel = function(x, y, ...){
+     panel.superpose(x, y, type = "l", col = 1,...)
+   })
> ### does not work
> xyplot(longitude ~ latitude,
+   data = Water, aspect = Asp,
+   panel = function(x, y){
+     for(i in unique(Water$id)){
+       cond <- Water$id == i
+       polygon(x = Water$latitude[cond], y = Water$longitude[cond],
+         border = "black", col = "light blue")
+       }
+   })
> ### does not work
> xyplot(longitude ~ latitude,
+   data = Water, aspect = Asp,
+   panel = function(x, y){
+     for(i in unique(Water$id)){
+       cond <- Water$id == i
+       grid.polygon(x = Water$latitude[cond],
+                    y = Water$longitude[cond],
+                   gp = gpar(col = "black", fill = "light blue"))
+       }
+   })
>

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Sun Mar 10 18:01:02 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Sun, 10 Mar 2002 17:01:02 +0000
Subject: [R] xaxp and yaxp
Message-ID: <3C8B914E.4914657@icrf.icnet.uk>

Hello,

I'm new to R, and I'm trying to set the number of tickmarks for a plot
using xaxp, but R seems to ignore this setting completely. Maybe you've
an idea what I'm doing wrong. I'm using R 1.4.1, and here's hat I'm
doing:

> d[,'seq']
 [1] 28913 16323 13922  6237  4257  3881  4100  3781  2694  2064  1769 
1550
[13]  1539   480

> d[,'scop.dup.rate']
 [1] 97.7 95.3 95.3 88.5 84.6 84.6 84.7 82.8 71.5 74.9 74.9 71.2 67.8
54.9

> plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100))

tick marks are placed at 0,5000, ... 30000 for the xaxis.

now I'd like to have more tickmarks

> plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100), xaxp=c(0,30000,13))

tickmarks are set the same way as above.

Also par(xaxp=c(0,30000,13)) does not change anything ... :-(

I'd like to have 13 tick marks on the x-axis including the extreme ones
(0 and 30000).

I'm not sure whether I realy understand what xaxp is doing, so I thought
it may need the interval:

par(xaxp=c(0,30000,2500))

hm, but this doesn't change anything either :-(

I'm happy for any advice.

	thanks a lot,

	Arne
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Mar 10 18:40:05 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 10 Mar 2002 09:40:05 -0800 (PST)
Subject: [R] lattice library: xyplot and polygons
In-Reply-To: <3C8B7F12.DA3070C@cirad.fr>
Message-ID: <20020310174005.9674.qmail@web13903.mail.yahoo.com>



I haven't checked it out, but I'm pretty sure grid.polygon will work 
if you add a default.units = "native" argument to it. Please let me know 
if it doesn't, I'll take a closer look.

polygon will not work. I'll try to add a lpolygon along the lines of llines, 
lpoints etc for the next release.

Deepayan

--- Renaud Lancelot <renaud.lancelot at cirad.fr> wrote:
> Dear R-Helpers,
> 
> Is there a way to draw shaded (filled) polygons in panel graphs produced
> by xyplot ? I made different trials (see below) with polygon() and
> grid.polygon() but polygons are not drawn (probably for the same reason
> that prevents the use of lines, points, etc. in xyplot panels).
> 
> Thanks in advance,
> 
> Renaud
>
> > Asp <- diff(range(Water$longitude)) / diff(range(Water$latitude))
> > ### works but polygons are empty
> > xyplot(longitude ~ latitude,
> +   data = Water, groups = id, aspect = Asp,
> +   panel = function(x, y, ...){
> +     panel.superpose(x, y, type = "l", col = 1,...)
> +   })
> > ### does not work
> > xyplot(longitude ~ latitude,
> +   data = Water, aspect = Asp,
> +   panel = function(x, y){
> +     for(i in unique(Water$id)){
> +       cond <- Water$id == i
> +       polygon(x = Water$latitude[cond], y = Water$longitude[cond],
> +         border = "black", col = "light blue")
> +       }
> +   })
> > ### does not work
> > xyplot(longitude ~ latitude,
> +   data = Water, aspect = Asp,
> +   panel = function(x, y){
> +     for(i in unique(Water$id)){
> +       cond <- Water$id == i
> +       grid.polygon(x = Water$latitude[cond],
> +                    y = Water$longitude[cond],
> +                   gp = gpar(col = "black", fill = "light blue"))
> +       }
> +   })
> >
> 
> -- 
> Dr Renaud Lancelot, vétérinaire
> CIRAD, Département Elevage et Médecine Vétérinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml
> 
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Mar 10 18:45:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 10 Mar 2002 18:45:53 +0100
Subject: [R] xaxp and yaxp
References: <3C8B914E.4914657@icrf.icnet.uk>
Message-ID: <3C8B9BD1.50A98A85@statistik.uni-dortmund.de>

Arne Mueller wrote:
> 
> Hello,
> 
> I'm new to R, and I'm trying to set the number of tickmarks for a plot
> using xaxp, but R seems to ignore this setting completely. Maybe you've
> an idea what I'm doing wrong. I'm using R 1.4.1, and here's hat I'm
> doing:
> 
> > d[,'seq']
>  [1] 28913 16323 13922  6237  4257  3881  4100  3781  2694  2064  1769
> 1550
> [13]  1539   480
> 
> > d[,'scop.dup.rate']
>  [1] 97.7 95.3 95.3 88.5 84.6 84.6 84.7 82.8 71.5 74.9 74.9 71.2 67.8
> 54.9
> 
> > plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100))
> 
> tick marks are placed at 0,5000, ... 30000 for the xaxis.
> 
> now I'd like to have more tickmarks
> 
> > plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100), xaxp=c(0,30000,13))
> 
> tickmarks are set the same way as above.
> 
> Also par(xaxp=c(0,30000,13)) does not change anything ... :-(
> 
> I'd like to have 13 tick marks on the x-axis including the extreme ones
> (0 and 30000).
> 
> I'm not sure whether I realy understand what xaxp is doing, so I thought
> it may need the interval:
> 
> par(xaxp=c(0,30000,2500))
> 
> hm, but this doesn't change anything either :-(


In your case you should set the tickmarks manually using axis(), e.g.:

 plot(..., xaxt="n")
 axis(1, at=seq(0, 30000, length=13)

If you don't specify the loactions manually the function pretty() will
be used in principle.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sun Mar 10 19:03:35 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sun, 10 Mar 2002 18:03:35 +0000
Subject: [R] lattice library: xyplot and polygons
References: <20020310174005.9674.qmail@web13903.mail.yahoo.com>
Message-ID: <3C8B9FF7.5F3BCD28@cirad.fr>

Thanks Deepayan, it works fine. Below are the data and code for those
who might want to try.

Best regards,

Renaud

> Water
     id           label longitude latitude
515  21 Zone inondable  -14.91929 15.27983
516  21 Zone inondable  -14.91803 15.27967
517  21 Zone inondable  -14.91765 15.27990
518  21 Zone inondable  -14.91722 15.28029
519  21 Zone inondable  -14.91706 15.28061
520  21 Zone inondable  -14.91672 15.28125
521  21 Zone inondable  -14.91566 15.28194
522  21 Zone inondable  -14.91470 15.28189
523  21 Zone inondable  -14.91334 15.28132
524  21 Zone inondable  -14.91297 15.28057
525  21 Zone inondable  -14.91362 15.27972
526  21 Zone inondable  -14.91501 15.27931
527  21 Zone inondable  -14.91573 15.27942
528  21 Zone inondable  -14.91609 15.27896
529  21 Zone inondable  -14.91655 15.27799
530  21 Zone inondable  -14.91732 15.27777
531  21 Zone inondable  -14.91802 15.27758
532  21 Zone inondable  -14.91855 15.27808
533  21 Zone inondable  -14.91914 15.27884
534  21 Zone inondable  -14.91929 15.27983
604  25 Zone inondable  -14.89753 15.23055
605  25 Zone inondable  -14.89731 15.22856
606  25 Zone inondable  -14.89784 15.22840
607  25 Zone inondable  -14.89935 15.22814
608  25 Zone inondable  -14.90030 15.22756
609  25 Zone inondable  -14.90119 15.22746
610  25 Zone inondable  -14.90149 15.22777
611  25 Zone inondable  -14.90146 15.22835
612  25 Zone inondable  -14.90228 15.22875
613  25 Zone inondable  -14.90293 15.22937
614  25 Zone inondable  -14.90332 15.23041
615  25 Zone inondable  -14.90298 15.23109
616  25 Zone inondable  -14.90201 15.23152
617  25 Zone inondable  -14.90113 15.23206
618  25 Zone inondable  -14.90051 15.23233
619  25 Zone inondable  -14.90024 15.23305
620  25 Zone inondable  -14.89996 15.23318
621  25 Zone inondable  -14.89902 15.23299
622  25 Zone inondable  -14.89894 15.23189
623  25 Zone inondable  -14.89890 15.23123
624  25 Zone inondable  -14.89800 15.23064
625  25 Zone inondable  -14.89753 15.23055
1098 34 Zone inondable  -14.87331 15.14367
1099 34 Zone inondable  -14.87443 15.14398
1100 34 Zone inondable  -14.87485 15.14436
1101 34 Zone inondable  -14.87541 15.14516
1102 34 Zone inondable  -14.87576 15.14656
1103 34 Zone inondable  -14.87548 15.14816
1104 34 Zone inondable  -14.87483 15.14857
1105 34 Zone inondable  -14.87375 15.14881
1106 34 Zone inondable  -14.87230 15.14951
1107 34 Zone inondable  -14.87142 15.15006
1108 34 Zone inondable  -14.87069 15.15028
1109 34 Zone inondable  -14.86981 15.14998
1110 34 Zone inondable  -14.86803 15.14950
1111 34 Zone inondable  -14.86779 15.14766
1112 34 Zone inondable  -14.86815 15.14673
1113 34 Zone inondable  -14.86889 15.14658
1114 34 Zone inondable  -14.86954 15.14628
1115 34 Zone inondable  -14.87018 15.14572
1116 34 Zone inondable  -14.87097 15.14583
1117 34 Zone inondable  -14.87279 15.14584
1118 34 Zone inondable  -14.87289 15.14478
1119 34 Zone inondable  -14.87331 15.14367
> 
> Asp <- diff(range(Water$longitude)) / diff(range(Water$latitude))
> 
> xyplot(longitude ~ latitude,
+  data = Water, aspect = Asp,
+  panel = function(x, y){
+   for(i in unique(Water$id)){
+     cond <- Water$id == i
+     grid.polygon(x = Water$latitude[cond],
+                  y = Water$longitude[cond],
+                  gp = gpar(col = "black", fill = "light blue"),
+                  default.units = "native")
+     }
+ })



>
Deepayan Sarkar wrote:
> 
> I haven't checked it out, but I'm pretty sure grid.polygon will work
> if you add a default.units = "native" argument to it. Please let me know
> if it doesn't, I'll take a closer look.
> 
> polygon will not work. I'll try to add a lpolygon along the lines of llines,
> lpoints etc for the next release.
> 
> Deepayan
> 
> --- Renaud Lancelot <renaud.lancelot at cirad.fr> wrote:
> > Dear R-Helpers,
> >
> > Is there a way to draw shaded (filled) polygons in panel graphs produced
> > by xyplot ? I made different trials (see below) with polygon() and
> > grid.polygon() but polygons are not drawn (probably for the same reason
> > that prevents the use of lines, points, etc. in xyplot panels).
> >
> > Thanks in advance,
> >
> > Renaud
> >
> > > Asp <- diff(range(Water$longitude)) / diff(range(Water$latitude))
> > > ### works but polygons are empty
> > > xyplot(longitude ~ latitude,
> > +   data = Water, groups = id, aspect = Asp,
> > +   panel = function(x, y, ...){
> > +     panel.superpose(x, y, type = "l", col = 1,...)
> > +   })
> > > ### does not work
> > > xyplot(longitude ~ latitude,
> > +   data = Water, aspect = Asp,
> > +   panel = function(x, y){
> > +     for(i in unique(Water$id)){
> > +       cond <- Water$id == i
> > +       polygon(x = Water$latitude[cond], y = Water$longitude[cond],
> > +         border = "black", col = "light blue")
> > +       }
> > +   })
> > > ### does not work
> > > xyplot(longitude ~ latitude,
> > +   data = Water, aspect = Asp,
> > +   panel = function(x, y){
> > +     for(i in unique(Water$id)){
> > +       cond <- Water$id == i
> > +       grid.polygon(x = Water$latitude[cond],
> > +                    y = Water$longitude[cond],
> > +                   gp = gpar(col = "black", fill = "light blue"))
> > +       }
> > +   })
> > >
> >
> > --
> > Dr Renaud Lancelot, v?t?rinaire
> > CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
> > Programme Productions Animales
> > http://www.cirad.fr/presentation/programmes/prod-ani.shtml
> >
> > ISRA-LNERV                      tel    (221) 832 49 02
> > BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> > Senegal                         e-mail renaud.lancelot at cirad.fr
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> __________________________________________________
> Do You Yahoo!?

> http://mail.yahoo.com/

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 10 19:43:58 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sun, 10 Mar 2002 13:43:58 -0500
Subject: [R] Newbie with R
In-Reply-To: <3c8b738d3cf15729@mel-rta9.wanadoo.fr> (added by mel-rta9.wanadoo.fr)
Message-ID: <3C8B631E.28008.1758B8@localhost>


If your aim is to try out a large number of machine learning algorithms
(as opposed to looking for the ones you mention specifically) you may
find the free Weka package of interest:

http://www.cs.waikato.ac.nz/~ml/weka/


On 10 Mar 2002 at 15:54, Thomas DEGRIS wrote:

> I would like to test some learning algorithms (C5.0, or C4.5) using decision trees or neural network. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 10 23:46:16 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Mar 2002 23:46:16 +0100
Subject: [R] labels outside plotting region
In-Reply-To: <3C8AA8C6.35CF4A9B@icrf.icnet.uk>
References: <3C8A8F01.8C4C3CCE@icrf.icnet.uk>
	<20020309181858.T11590@jimmy.harvard.edu>
	<3C8AA8C6.35CF4A9B@icrf.icnet.uk>
Message-ID: <x2pu2cvy6f.fsf@blueberry.kubism.ku.dk>

Arne Mueller <a.mueller at icrf.icnet.uk> writes:

> The legend labels appear correctly but the symbols don't (no symbols at
> all). I thought if the filled argument is set small squares are
> displayed ... . The problem is that one does not know which bar colours
> belongs to which category.
> 
> I'm using R 1.1.1 under Suse linux 7.1.
> 
> Maybe you've got an idea what goes wrong here. Thanks again for a lot
> for your kind help.

Unless the 1.1.1 is a typo, an upgrade might be in order. I believe
several problems in barplot has been fixed since then.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From perl_redhat_hacker at hotmail.com  Mon Mar 11 00:21:07 2002
From: perl_redhat_hacker at hotmail.com (Neil Osborne)
Date: Sun, 10 Mar 2002 23:21:07 +0000
Subject: [R] R extensions programmer help needed (London area programmer preferrably)
Message-ID: <F588N8yxdZjfNLnlyg30000c420@hotmail.com>

Hi All,

I'm not too sure if this is the right Ng to make this posting however, if it 
isn't I'd be grateful
if you could point me to the appropriate Ng for this post. I recently sent a 
similar post to this Ng
but got no response, if this is not the correct newsgroup for this kind of 
post, I will greatly appreciate
some feedback regarding where I'm likely to get a more favourable response.

I've recently discovered R, and I am so impressed by it's power and 
flexibility that I want to integrate
it into a research application I wrote in C/C++ a little while ago. I have 
succesfully built R on my machine
(a Win 2K workhorse) and am seeking to integrate R more tightly, into my 
application.

My application generates large quantities of data based on various model 
simulations.
I would like to integrate R with my application so that I can:

a) call R functions (including R functions I write myself) from my C 
application.

b) In the function calls mentioned above, I would like to pass data from my 
application in the form of
   pointers to my internal data types, and carry out analysis on the passed 
data (using my R function).
   I may also want to return R results (converted to a pointer to my 
internal data type)

c) Create an R extension that will allow me to call my C functions from R 
and hence interogate my application
   directly via its C API (once again passing data back and forth by means 
of pointers to my internal
   data structures)


I know there is a lot of information about how to do this sort of thing  (if 
you can locate it), and I have
even peered into the "Writing R extensions" manual. However, the conclusion 
I drew from this exercise was
that, this represented too steep a learning curve for me, given my time 
constraints.

Ideally, I would like to have achieved this integration by the end of March. 
I think it will be a much more
efficient use of my limited resources to enlist the help of an experienced 
person, familiar with this kind of
work, and pay them instead, for their assistance, rather than spending 
several months trying to "figure it out"
myself, and probably still not getting it right.


I envisage that the work required would probably take two full days (with an 
experienced R extensions
programmer) - which ideally, will be spread over one or two weekends.

I specify that proximity to London was preferable because as I mentioned 
earlier, I would like to integrate
R into my current application and it would be a lot more time efficient as 
well as effective, to do the
actual development on my machine, rather than mailing several different 
header files and libraries back and
forth, trying to replicate my computing environment (Windows 2K by the way). 
Besides there'll be far too many
header files and libs to be passing around to even make it a practical 
alternative.


Proximity to London is not necessarily an absolute requirement, if you would 
like to travel from anywhere

(in the UK !), I will gladly pay your transportation expenses - I just need 
some help to get this

finished !.  I would be more than willing to hear from anyone who can help.




Thanks for your time and please e-mail responses directly to me (not this 
newsgroup).

My email is perl_redhat_hacker at hotmail.com



Regards


Neil

_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 
http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bdm25 at drexel.edu  Mon Mar 11 03:10:45 2002
From: bdm25 at drexel.edu (B. D. Mccullough)
Date: Sun, 10 Mar 2002 21:10:45 -0500
Subject: [R] problem with deriv3?
Message-ID: <3C8C8927@webmail.drexel.edu>

Using S+ 6 for Linux and 
R 1.4.1

Taking verbatim some lines from S-Plus that work
perfectly, and running them on R, I get an
unexpected error message:


R : Copyright 2002, The R Development Core Team
Version 1.4.1  (2002-01-30)


> library(MASS)
> data <- read.table("/usr/local/data/mcmanus.dat",header=T)
> mcmanus.frm <- 
deriv3(~-log(pnorm((2*D1-1)*(b0+b1*TT+b2*Y+b3*LF+b4*NW+b5*D2))),c("b0","b1","b
2","b3","b4","b5"),function(b0,b1,b2,b3,b4,b5,D1,TT,Y,LF,NW,D2) NULL)
Error in deriv3.formula(~-log(pnorm((2 * D1 - 1) * (b0 + b1 * TT + b2 *  :
	Function   ^A is not in the derivatives table
>


I did a search on the R website and at the e-mail archive,
and found nothing of help.

How can I decipher "^A" and make the appropriate corrections
to the derivative table in R?

Please reply to me.  I will post a summary to the list.

Bruce

PS: I believe that in R I should delete the "log" and instead use
the "log.p=T" option; presumably it is numerically more efficient.
If this is incorrect, please let me know.

B. D. McCullough
               bdmccullough at drexel.edu
              www.pages.drexel.edu/~bdm25
          w: 215-895-2134   f: 215-895-2907
                 Associate Professor
           Department of Decision Sciences
              Academic Building room 230
                  Drexel University
               Philadelphia, PA  19104

``Disorganized technical documentation, albeit comprehensive, signals
a failure of the marketing department since it alone (if any) can
hire English majors.''  W. Kahan, ``Marketing versus Mathematics''

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Mon Mar 11 03:43:13 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Mon, 11 Mar 2002 02:43:13 +0000
Subject: [R] xaxp and yaxp
References: <3C8B914E.4914657@icrf.icnet.uk> <3C8B9BD1.50A98A85@statistik.uni-dortmund.de>
Message-ID: <3C8C19C1.2070105@cancer.org.uk>

Hello,

thanks for the reply, the axis command does exacly what I wanted. 
Although I think it's a bit more complex than it realy has to be (?). I 
mean why is there a 'xaxp' attribute if I have to calls the axis command 
anyway?

		regards,

		Arne

Uwe Ligges wrote:
> Arne Mueller wrote:
> 
>>Hello,
>>
>>I'm new to R, and I'm trying to set the number of tickmarks for a plot
>>using xaxp, but R seems to ignore this setting completely. Maybe you've
>>an idea what I'm doing wrong. I'm using R 1.4.1, and here's hat I'm
>>doing:
>>
>>
>>>d[,'seq']
>>>
>> [1] 28913 16323 13922  6237  4257  3881  4100  3781  2694  2064  1769
>>1550
>>[13]  1539   480
>>
>>
>>>d[,'scop.dup.rate']
>>>
>> [1] 97.7 95.3 95.3 88.5 84.6 84.6 84.7 82.8 71.5 74.9 74.9 71.2 67.8
>>54.9
>>
>>
>>>plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100))
>>>
>>tick marks are placed at 0,5000, ... 30000 for the xaxis.
>>
>>now I'd like to have more tickmarks
>>
>>
>>>plot(d[,'seq'], d[,'scop.dup.rate'], col="red", pch=22, bg='red', cex=1.5, xlim = c(0,30000), ylim=c(20,100), xaxp=c(0,30000,13))
>>>
>>tickmarks are set the same way as above.
>>
>>Also par(xaxp=c(0,30000,13)) does not change anything ... :-(
>>
>>I'd like to have 13 tick marks on the x-axis including the extreme ones
>>(0 and 30000).
>>
>>I'm not sure whether I realy understand what xaxp is doing, so I thought
>>it may need the interval:
>>
>>par(xaxp=c(0,30000,2500))
>>
>>hm, but this doesn't change anything either :-(
>>
> 
> 
> In your case you should set the tickmarks manually using axis(), e.g.:
> 
>  plot(..., xaxt="n")
>  axis(1, at=seq(0, 30000, length=13)
> 
> If you don't specify the loactions manually the function pretty() will
> be used in principle.
> 
> 
> Uwe Ligges
> 
> 
> 



-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Mon Mar 11 03:52:53 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Mon, 11 Mar 2002 02:52:53 +0000
Subject: [R] filled bars with patterns
Message-ID: <3C8C1C05.9020106@cancer.org.uk>

Hello All,

I've created a view stacked barplots where some of the bars should 
contain a pattern such as stripes. Adjacent bars of the same stack 
should have the same colour but a different finnling pattern. Is R able 
to do that?

Anyway, it's not the end of the world if not, a workaround would be to 
export the plot in fig format and then using xfig to make the bar 
filling striped, dotted etc ...

		thanks for comments,

			Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Mon Mar 11 06:47:21 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Sun, 10 Mar 2002 23:47:21 -0600
Subject: [R] How to change par globally?
Message-ID: <OFF7FB2381.ED7F9EC0-ON86256B79.001E4BDE@mmm.com>

I have a feeling that this is a simple one, but I cannot figure it out.

I want to change the default plotting character for all my plots to pch=20
(small filled circle).  I thought that putting par("pch"=20) in my Rprofile
would do it, but it only seems to work for a single invocation of a
graphical device, that is if I start a second device (windows() in my case)
the plotting symbol reverts to 1 (large hollow circles).

The only thing that works for me is redefinition of plot.default and
points.default functions.  I just typed, say, plot.default in an R console,
copied the definition and pasted it into Rprofile and changed the pch=par
("pch") to pch=20.  However, redefining basic functions seems rather kludgy
to me.  Is there a simpler and batter way?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Mon Mar 11 07:52:15 2002
From: ozric at web.de (christian)
Date: Mon, 11 Mar 2002 07:52:15 +0100
Subject: [R] Newbie with R
Message-ID: <E16kJZX-00037O-00@smtp.web.de>

Hi,
(IMHO) there is currently no package for C4.5/C5.0 in R.
But you can use Rpart package which is very similar to CART ( Classification And Regression Tree - Breimann) 

...and when anybody want use a really fast C4.5 and apriori algorithm - try:
http://fuzzy.cs.uni-magdeburg.de/~borgelt/software.html


...i'm really surprised that currently no "Association-Rule" package is
implemented in R, too and would share this intention to do with others ( for learning programming in R faster ).

regards,
Christian Schulz



Am 10.03.2002 19:43:58, schrieb ggrothendieck at yifan.net:

>
>If your aim is to try out a large number of machine learning algorithms
>(as opposed to looking for the ones you mention specifically) you mayreally 
>find the free Weka package of interest
>
>http://www.cs.waikato.ac.nz/~ml/weka/
>
>
>On 10 Mar 2002 at 15:54, Thomas DEGRIS wrote:
>
>> I would like to test some learning algorithms (C5.0, or C4.5) using decision trees or neural network. 
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 11 08:49:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 11 Mar 2002 07:49:36 +0000 (GMT)
Subject: [R] problem with deriv3?
In-Reply-To: <3C8C8927@webmail.drexel.edu>
Message-ID: <Pine.GSO.4.44.0203110740120.8962-100000@auk.stats>

On Sun, 10 Mar 2002, B. D. Mccullough wrote:

> Using S+ 6 for Linux and
> R 1.4.1
>
> Taking verbatim some lines from S-Plus that work
> perfectly, and running them on R, I get an
> unexpected error message:

This is uncredited (by you) work of Bill Venables in extending S's deriv
which we contributed to S-PLUS.  For several years this extension was only
in the MASS library, and may well still be for your S-PLUS (you didn't
mention the version).

> R : Copyright 2002, The R Development Core Team
> Version 1.4.1  (2002-01-30)
>
>
> > library(MASS)
> > data <- read.table("/usr/local/data/mcmanus.dat",header=T)
> > mcmanus.frm <-
> deriv3(~-log(pnorm((2*D1-1)*(b0+b1*TT+b2*Y+b3*LF+b4*NW+b5*D2))),c("b0","b1","b
> 2","b3","b4","b5"),function(b0,b1,b2,b3,b4,b5,D1,TT,Y,LF,NW,D2) NULL)
> Error in deriv3.formula(~-log(pnorm((2 * D1 - 1) * (b0 + b1 * TT + b2 *  :
> 	Function   ^A is not in the derivatives table
> >
>
>
> I did a search on the R website and at the e-mail archive,
> and found nothing of help.

>From the NEWS file of R-devel

    o   deriv/deriv3() can now handle expressions involving pnorm and
        dnorm (with a single argument), as in S-PLUS.

> How can I decipher "^A" and make the appropriate corrections
> to the derivative table in R?

Just download and build R-devel.  Your example works there.


> PS: I believe that in R I should delete the "log" and instead use
> the "log.p=T" option; presumably it is numerically more efficient.
> If this is incorrect, please let me know.

Not if you want to use deriv3: see the NEWS item.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Mon Mar 11 09:14:46 2002
From: zedshaw at zedshaw.com (Zed Shaw)
Date: 11 Mar 2002 00:14:46 -0800
Subject: [R] R Report Generator:  Submit to CRAN?
Message-ID: <1015834486.2828.21.camel@workhorse.killnine.net>

Hello,

I have a decent working version of that report writing library which I'm
calling R Report Generator.  For those who don't know, this is a small
library I've been working on which lets you output just about anything
to an HTML "report" while you work, or as the result of a script.  I'm
eventually going to have it do nifty things like produce DocBook XML.

I have two questions:  1)  Does anyone think it is ready for inclusion
into CRAN?  2)  How do I submit it to CRAN?


I've managed to package it up into an installable R package and I have a
decent set of tests.  This latest version has the following features:

* Open your report with report.view (thanks to code borrowed from Robert
Gentleman <rgentlem at jimmy.harvard.edu>)
* A "current working report" is assumed as default, similar to plot
devices (although, my way of doing it is kind of a hack).  This means
you don't have to continually specify the report object you want to work
with.
* HTML output functions follow same model.
* Bugs removed from many places.


Still not much in the way of docs, but getting closer.  See the
report-test.R and html-test.R files for an example of how it all works.


Please give it a try and contact me with any feedback you have.  Thanks.


Zed A. Shaw
University of British Columbia

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rrg_0.2.tar.gz
Type: application/x-gzip
Size: 3812 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020311/dd1673fe/rrg_0.2.tar.gz

From ligges at statistik.uni-dortmund.de  Mon Mar 11 09:19:07 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Mar 2002 09:19:07 +0100
Subject: [R] xaxp and yaxp
References: <3C8B914E.4914657@icrf.icnet.uk> <3C8B9BD1.50A98A85@statistik.uni-dortmund.de> <3C8C19C1.2070105@cancer.org.uk>
Message-ID: <3C8C687B.9EA87C5A@statistik.uni-dortmund.de>

Arne Mueller wrote:
> 
> Hello,
> 
> thanks for the reply, the axis command does exacly what I wanted.
> Although I think it's a bit more complex than it realy has to be (?). I
> mean why is there a 'xaxp' attribute if I have to calls the axis command
> anyway?

Yes. You can read out the recent values of "xaxp" for further use, but
setting them doesn't work for plot().

 plot(1:10)
 par("xaxp")	# 2  10   4


What you can do is setting "xaxp" before using axis() as in:

 plot(1:10, xaxt="n")
 par(xaxp = c(3, 7, 5))
 axis(1)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 11 09:38:35 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Mar 2002 09:38:35 +0100
Subject: [R] R Report Generator:  Submit to CRAN?
References: <1015834486.2828.21.camel@workhorse.killnine.net>
Message-ID: <3C8C6D0B.B1F59FDC@statistik.uni-dortmund.de>

Zed Shaw wrote:
> 
> Hello,
> 
> I have a decent working version of that report writing library which I'm
> calling R Report Generator.  For those who don't know, this is a small
> library I've been working on which lets you output just about anything
> to an HTML "report" while you work, or as the result of a script.  I'm
> eventually going to have it do nifty things like produce DocBook XML.
> 
> I have two questions:  1)  Does anyone think it is ready for inclusion
> into CRAN?  2)  How do I submit it to CRAN?

2) is described at the bottom of http://cran.r-project.org/


> I've managed to package it up into an installable R package and I have a
> decent set of tests.  This latest version has the following features:
> 
> * Open your report with report.view (thanks to code borrowed from Robert
> Gentleman <rgentlem at jimmy.harvard.edu>)
> * A "current working report" is assumed as default, similar to plot
> devices (although, my way of doing it is kind of a hack).  This means
> you don't have to continually specify the report object you want to work
> with.
> * HTML output functions follow same model.
> * Bugs removed from many places.
> 
> Still not much in the way of docs, but getting closer.  See the
> report-test.R and html-test.R files for an example of how it all works.
> 
> Please give it a try and contact me with any feedback you have.  Thanks.

The packages doesn't pass "R CMD check" (DESCRIPTION file [Title,
Maintainer, ...], missing docs, ...).
Please read the manual "Writing R extensions" how a package has to be
set up.

[BTW: On Windows the current package cannot be installed.]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Mar 11 10:23:49 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 11 Mar 2002 22:23:49 +1300
Subject: [R] R Report Generator:  Submit to CRAN?
References: <1015834486.2828.21.camel@workhorse.killnine.net> <3C8C6D0B.B1F59FDC@statistik.uni-dortmund.de>
Message-ID: <002601c1c8de$74f1c0a0$efcb36d2@n1bliarfyrd5b7>

----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Zed Shaw" <zedshaw at zedshaw.com>
Cc: <r-help at stat.math.ethz.ch>
Sent: Monday, March 11, 2002 9:38 PM
Subject: Re: [R] R Report Generator: Submit to CRAN?


> The packages doesn't pass "R CMD check" (DESCRIPTION file [Title,
> Maintainer, ...], missing docs, ...).
> Please read the manual "Writing R extensions" how a package has to be
> set up.
>
> [BTW: On Windows the current package cannot be installed.]


I even have trouble compiling it under Windows.  It hangs when it tries to
install man source files.....(because, I suspect, there aren't any yet).

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
Auckland
New Zealand



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbalcilar at yahoo.com  Mon Mar 11 12:31:58 2002
From: mbalcilar at yahoo.com (Mehmet Balcilar)
Date: Mon, 11 Mar 2002 16:31:58 +0500
Subject: [R] R-devel
References: <3C8B914E.4914657@icrf.icnet.uk> <3C8B9BD1.50A98A85@statistik.uni-dortmund.de> <3C8C19C1.2070105@cancer.org.uk> <3C8C687B.9EA87C5A@statistik.uni-dortmund.de>
Message-ID: <018d01c1c8f0$5baf35c0$4c6c2ad4@manas.kg>

Dear all,

Is there a bundled R-devel source?

Mehmet



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 11 13:43:42 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Mar 2002 13:43:42 +0100
Subject: [R] R-devel
In-Reply-To: <018d01c1c8f0$5baf35c0$4c6c2ad4@manas.kg>
References: <3C8B914E.4914657@icrf.icnet.uk>
	<3C8B9BD1.50A98A85@statistik.uni-dortmund.de>
	<3C8C19C1.2070105@cancer.org.uk>
	<3C8C687B.9EA87C5A@statistik.uni-dortmund.de>
	<018d01c1c8f0$5baf35c0$4c6c2ad4@manas.kg>
Message-ID: <x2sn77tgu9.fsf@blueberry.kubism.ku.dk>

"Mehmet Balcilar" <mbalcilar at yahoo.com> writes:

> Is there a bundled R-devel source?

Yes, on 

ftp://ftp.stat.math.ethz.ch/Software/R

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jjanmaat at acadiau.ca  Mon Mar 11 15:02:46 2002
From: jjanmaat at acadiau.ca (John Janmaat)
Date: Mon, 11 Mar 2002 10:02:46 -0400
Subject: [R] multiple pairwise slope comparisons
References: <5.1.0.14.2.20020310075502.01d54ff0@pop>
Message-ID: <3C8CB906.2040100@acadiau.ca>



John Fox wrote:

> At 06:36 AM 3/10/2002 -0400, John Janmaat wrote:
> 
>> I have a linear model with different slopes for different treatment 
>> groups.  I need to pairwise compare the different slope estimates for 
>> the different treatment groups.  Is there a package that does pairwise 
>> comparisons of slope coefficients, making the appropriate adjustments 
>> in the P values?
> 
> 
> Dear John,
> 
> I'm not aware of anything that does this directly, but there are several 
> simple ways of making these comparisons.
> 
> For example, if you use treatment contrasts (the default in R) and fit a 
> model with a constant, then the coefficients for the interaction will 
> give you slope comparisons with the the baseline category (and the 
> associated t- and p-values). You could then use the linear.hypothesis 
> function in the car package to compare other pairs of slopes (via pairs 
> of coefficients for the interaction), or, alternatively, refit the model 
> with different baseline categories until you have all of the pairwise 
> slope comparisons.
> 
> Once you have the p-values for the pairs, you could use p.adjust to get 
> adjusted p-values, compute Scheffe tests, or whatever you had in mind.
> 
> If this is something that you need to do a lot, it wouldn't be hard to 
> write a small function to implement the procedure.
> 
> I hope that this helps,
>  John

John.

Thanks for the comment.  I have actually set up the multiple treatment 
groups with dummy variables in a regression model.  I programmed up a 
Tukey (from Zarr's Biometrics) to compare the differences.

If I understand your outline, I should just be able to calculate the P 
values or simple pairwise t tests between my coefficients of interest, 
and use p.adjust to make the multiple comparison correction.  Is this 
correct?

Thanks,

John.

-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Mon Mar 11 15:22:19 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Mon, 11 Mar 2002 11:22:19 -0300
Subject: [R] Spectral decomposition
Message-ID: <001101c1c908$26de2aa0$b454a8c0@gallup.com.br>


	Hello all,

    I have the square symetric matrix A:
2 1 1
1 2 1
1 1 2
  My first question is what is the easiest way to enter this matriz in R?
Second, matrix A has an eigenvalue with multiplicity 2, in this case, how
could I find the two related ortogonal eigenvectors given below by R,
without the help of R, I mean, I want to know how R calculate this
eigenvectors related to the same eigenvalue.

> evalor<-eigen(A)
> evalor
$values
[1] 4 1 1

$vectors
          [,1]       [,2]        [,3]
[1,] 0.5773503  0.8161298  0.02447130
[2,] 0.5773503 -0.3868721 -0.71902477
[3,] 0.5773503 -0.4292577  0.69455348

Thanks very much,

Marcos


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 11 15:30:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Mar 2002 15:30:57 +0100
Subject: [R] Spectral decomposition
In-Reply-To: <001101c1c908$26de2aa0$b454a8c0@gallup.com.br>
References: <001101c1c908$26de2aa0$b454a8c0@gallup.com.br>
Message-ID: <x2ofhvtbvi.fsf@blueberry.kubism.ku.dk>

"Marcos Sanches" <marcos_sanches at gallup.com> writes:

> 	Hello all,
> 
>     I have the square symetric matrix A:
> 2 1 1
> 1 2 1
> 1 1 2
>   My first question is what is the easiest way to enter this matriz in R?

Depends on the generality you need in the solution. 

m <- 1+diag(3) is probably the shortest. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Mar 11 16:01:14 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 11 Mar 2002 10:01:14 -0500
Subject: [R] ARMA and ARIMA modeling
In-Reply-To: <20020309130830.GA22977@sonny.eddelbuettel.com>
References: <15497.14415.482308.338994@gargle.gargle.HOWL>
	<Pine.GSO.4.44.0203090711040.3971-100000@auk.stats>
	<20020309130830.GA22977@sonny.eddelbuettel.com>
Message-ID: <15500.50874.796245.799743@gargle.gargle.HOWL>

Dirk Eddelbuettel <edd at debian.org> writes:
> Another somewhat important distinction is that David (or I) are not supposed
> to use fracdiff or tseries at work -- fracdiff and some parts of tseries are
> not free for commerical use.

Hmm, an interesting twist.  The DESCRIPTION file for "tseries" says:
> License: GPL (see file COPYING), except for ./src/muin2ser.f and ./misc
> which are free for non-commercial purposes. See file README for details.

But there is no README file or /src directiory in the binary distribution, so
it's hard to figure out what parts I can't use (or should pay for if I do).
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Mar 11 17:41:20 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 11 Mar 2002 08:41:20 -0800 (PST)
Subject: [R] ARMA and ARIMA modeling
In-Reply-To: <15500.50874.796245.799743@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.10.10203110840320.5609-100000@quetelet.stat.ucla.edu>

> > License: GPL (see file COPYING), except for ./src/muin2ser.f and ./misc
> > which are free for non-commercial purposes. See file README for details.

If that's true, I don't see how that file and the rest of the library can
be linked together legally.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 11 Mar 2002, David Brahm wrote:

> Dirk Eddelbuettel <edd at debian.org> writes:
> > Another somewhat important distinction is that David (or I) are not supposed
> > to use fracdiff or tseries at work -- fracdiff and some parts of tseries are
> > not free for commerical use.
> 
> Hmm, an interesting twist.  The DESCRIPTION file for "tseries" says:
> 
> But there is no README file or /src directiory in the binary distribution, so
> it's hard to figure out what parts I can't use (or should pay for if I do).
> -- 
>                               -- David Brahm (brahm at alum.mit.edu)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangrej at exchange.cheo.on.ca  Mon Mar 11 18:03:25 2002
From: rangrej at exchange.cheo.on.ca (Rangrej, Jagadish)
Date: Mon, 11 Mar 2002 12:03:25 -0500
Subject: [R] passing the reference in R functions summary
Message-ID: <A032D3A4B7F0D411B9360008C71E3DA5038D4C51@cheont3.cheo.on.ca>

Thanks to 
Thomas and Andy Liaw for there responses.
..summary:

>However, R doesn't *actually* copy arguments until they are 
> modified, so
> the copy is really just a reference to the original array and takes up
> very little memory.
> 

cheers,
-Jag
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mousie at arcriswell.com  Mon Mar 11 18:13:53 2002
From: mousie at arcriswell.com (arcriswell)
Date: Tue, 12 Mar 2002 00:13:53 +0700
Subject: [R] Help with Python, R and RPY
Message-ID: <004601c1c920$2170edb0$8ed994cb@andrewvhowclyz>

Hi All:

Walter Moreira wrote a small extension module for using the R programming
language from within Python. Tim Church's example at
http://www.cmat.edu.uy/~walterm/rpy was so compelling, I could not resist
installing it on my Linux Mandrake 8.1 box.

But I ran into problems.

I have installed on Mandrake 8.1 both python and R:

        R-base-1.4.1-1mdk.i586.rpm
        R-recommended-1.4.1-1mdk.i586.rpm

        python-2.2-9mdk.i586.rpm
        python-base-2.2-9mdk.i586.rpm

I have also checked on the location of R using R RHOME which returns
/usr/lib/R.

When I run

        python setup.py install

I get the following complaints,

[root at localhost rpy]# python setup.py install
Traceback (most recent call last):
  File "setup.py", line 17, in ?
    get_config_vars()['OPT'] = '-DNDEBUG -g -O3 -Wall'
  File "/usr/lib/python2.2/distutils/sysconfig.py", line 408, in
get_config_vars
    func()
  File "/usr/lib/python2.2/distutils/sysconfig.py", line 313, in _init_posix
    raise DistutilsPlatformError(my_msg)
distutils.errors.DistutilsPlatformError: invalid Python installation: unable
to open /usr/lib/python2.2/config/Makefile (No such file or directory)
[root at localhost rpy]#


What do I need to do???

Thanks,
ANDREW


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Mon Mar 11 18:16:28 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 11 Mar 2002 11:16:28 -0600 (CST)
Subject: [R] Crime Time Series
Message-ID: <200203111716.LAA00414@uhddx01.dt.uh.edu>

Can anyone please recommend a good site for
crime related time series?

Thanks!

Erin
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Mar 11 20:45:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 11 Mar 2002 11:45:16 -0800 (PST)
Subject: [R] Crime Time Series
In-Reply-To: <200203111716.LAA00414@uhddx01.dt.uh.edu>
Message-ID: <Pine.A41.4.44.0203111144230.65360-100000@homer34.u.washington.edu>

On Mon, 11 Mar 2002, Erin Hodgess wrote:

> Can anyone please recommend a good site for
> crime related time series?
>

US Bureau of Justice has some data for US
http://www.ojp.usdoj.gov/bjs/

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasonnew2001 at yahoo.com  Mon Mar 11 20:55:35 2002
From: jasonnew2001 at yahoo.com (jason zhao)
Date: Mon, 11 Mar 2002 11:55:35 -0800 (PST)
Subject: [R] svm in e1071 package segment fault in redhat 7.2
Message-ID: <20020311195535.83157.qmail@web9406.mail.yahoo.com>

Hi, Guys
I run one simple R script like this
       
library(e1071) 
data(iris)
attach(iris)
model <- svm (Species~., data=iris)

The R version is 1.4.1. The OS is standard redhat 7.2.
Then I got a segmentation fault like this (run through
R CMD BATCH scriptName)
/usr/local/R/lib/R/bin/BATCH: line 54: 28513 Done     
              (    
echo "invisible(options(echo = TRUE))"; cat ${in};
echo "proc.time()" )
     28514 Segmentation fault      | ${R_HOME}/bin/R
${opts} >${out} 2>&1

There is no problem if the R-binary is running redhat
6.2.

Does anyone see this problem?  Is there a workaround
for this?
  
Help is appreciated.

Jason

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brandt at unt.edu  Mon Mar 11 20:58:20 2002
From: brandt at unt.edu (Patrick T. Brandt)
Date: 11 Mar 2002 13:58:20 -0600
Subject: [R] Crime Time Series
In-Reply-To: <200203111716.LAA00414@uhddx01.dt.uh.edu>
References: <200203111716.LAA00414@uhddx01.dt.uh.edu>
Message-ID: <1015876700.16383.10.camel@pc97220.psci.unt.edu>

Try Rob Hyndman's Time Series Data Library:

http://www-personal.buseco.monash.edu.au/~hyndman/TSDL/

This is a great resource and since the data is all in ASCII files it is
easy to use with R to make demos of time series concepts.

-- 
Patrick T. Brandt
Assistant Professor
Department of Political Science
University of North Texas
brandt at unt.edu
http://www.psci.unt.edu/~brandt


On Mon, 2002-03-11 at 11:16, Erin Hodgess wrote:
> Can anyone please recommend a good site for
> crime related time series?
> 
> Thanks!
> 
> Erin
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Mar 11 21:13:32 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 11 Mar 2002 15:13:32 -0500
Subject: [R] ARMA and ARIMA modeling
Message-ID: <15501.4076.360659.219379@gargle.gargle.HOWL>

Regarding package "tseries", I somewhat inaccurately wrote:
> But there is no README file or /src directiory in the binary distribution...

What I meant was that after I downloaded "tseries_0.8-4.tar.gz" from CRAN, and
ran R CMD INSTALL on it, then the resulting package "tseries" under
<prefix>/lib/R/library had no README or /src.  I believe people refer to this
as the "binary package" (though it is in fact mostly ascii).

But, if I explicitly gunzip and untar the file "tseries_0.8-4.tar.gz" (creating
the "source package"), then I see the README file and the /src directory.
Furthermore, the README very helpfully says:
> License: GPL, except ./src/muin2ser.f and ./misc which are free for 
> non-commercial purposes.  Only the function amif depends 
> on the non GPLed code.

So I will just avoid using "amif" (the "auto mutual information function").
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Mon Mar 11 21:13:40 2002
From: marimont at nxpdata.com (David Marimont)
Date: Mon, 11 Mar 2002 12:13:40 -0800
Subject: [R] Crime Time Series
References: <200203111716.LAA00414@uhddx01.dt.uh.edu>
Message-ID: <3C8D0FF4.9070002@nxpdata.com>

You might try the web site of the Bureau of Justice Statistccs, part of the
U.S. Department of Justice.  Their web site is http://www.ojp.usdoj.gov/bjs/welcome.html.
By the way, http://www.fedstats.gov is a good starting place for all
sorts of statistics collected by the feds...

   David Marimont

Erin Hodgess wrote:

> Can anyone please recommend a good site for
> crime related time series?
> 
> Thanks!
> 
> Erin
> mailto: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 11 22:20:35 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Mar 2002 22:20:35 +0100
Subject: [R] svm in e1071 package segment fault in redhat 7.2
References: <20020311195535.83157.qmail@web9406.mail.yahoo.com>
Message-ID: <3C8D1FA3.1610E813@statistik.uni-dortmund.de>

jason zhao wrote:
> 
> Hi, Guys
> I run one simple R script like this
> 
> library(e1071)
> data(iris)
> attach(iris)
> model <- svm (Species~., data=iris)
> 
> The R version is 1.4.1. The OS is standard redhat 7.2.
> Then I got a segmentation fault like this (run through
> R CMD BATCH scriptName)
> /usr/local/R/lib/R/bin/BATCH: line 54: 28513 Done
>               (
> echo "invisible(options(echo = TRUE))"; cat ${in};
> echo "proc.time()" )
>      28514 Segmentation fault      | ${R_HOME}/bin/R
> ${opts} >${out} 2>&1
> 
> There is no problem if the R-binary is running redhat
> 6.2.
> 
> Does anyone see this problem?  Is there a workaround
> for this?

Haven't got RedHat 7.2 available, but your example works perfectly on
SuSE 7.3, Solaris 5.7 and WinXP.
So I guess you didn't compile R (or e1071) on your system. 
Maybe there is a small incompatibility with the precompiled version.
I'd suggest to compile R yourself and install e1071 from the sources.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Mar 11 23:37:16 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 11 Mar 2002 17:37:16 -0500
Subject: [R] ARMA and ARIMA modeling
References: <15497.14415.482308.338994@gargle.gargle.HOWL>
Message-ID: <3C8D319C.7F067D64@bank-banque-canada.ca>

David Brahm wrote:

> Could some kind soul explain the relationship among packages "ts", "tseries",
> "dse", "dse2", and "fracdiff"?  Are they 'competing' products or does one
> depend on another? 

"dse2" uses "dse1" (they are in a bundled together) but mostly does not require
"ts", "tseries", or "fracdiff", although there are a few things where functions
from "ts" are used (eg. acf) and there is certainly the possibility users would
want to use all these libraries together, as I think they are mostly
complementary. 

> Where would be the best place for a novice to begin?

As usual, it depends what you want to do. If you are interested in multivariate
time series then dse is probably the place to start, and if not, then probably
not. Dse "out-of-the-bundle" does time-invariant, constant coefficient,
multivariate state-space and ARMA (VAR, VARX, ARIMA, ARIMAX), but not ARCH or
GARCH. There are tools for building other kinds of multivariate time series
models and tools for evaluating estimation techniques, but you would need to do
some programming. If you start with dse then start by reading the User's Guide
included in the bundle.

If you are interested in financial time series then dse "out-of-the-bundle" is
not great because you will probably want ARCH, GARCH, or some extension, so you
may be better off with other packages. However, I believe, if you are interested
in multivariate financial time series then you are going to need to do some
programming. In that case you may find dse a useful starting point.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasonnew2001 at yahoo.com  Mon Mar 11 23:38:04 2002
From: jasonnew2001 at yahoo.com (jason zhao)
Date: Mon, 11 Mar 2002 14:38:04 -0800 (PST)
Subject: [R] svm in e1071 package segment fault in redhat 7.2
In-Reply-To: <3C8D1FA3.1610E813@statistik.uni-dortmund.de>
Message-ID: <20020311223804.34526.qmail@web9403.mail.yahoo.com>


--- Uwe Ligges <ligges at statistik.uni-dortmund.de>
wrote:
> jason zhao wrote:
> > 
> > Hi, Guys
> > I run one simple R script like this
> > 
> > library(e1071)
> > data(iris)
> > attach(iris)
> > model <- svm (Species~., data=iris)
> > 
> > The R version is 1.4.1. The OS is standard redhat
> 7.2.
> > Then I got a segmentation fault like this (run
> through
> > R CMD BATCH scriptName)
> > /usr/local/R/lib/R/bin/BATCH: line 54: 28513 Done
> >               (
> > echo "invisible(options(echo = TRUE))"; cat ${in};
> > echo "proc.time()" )
> >      28514 Segmentation fault      |
> ${R_HOME}/bin/R
> > ${opts} >${out} 2>&1
> > 
> > There is no problem if the R-binary is running
> redhat
> > 6.2.
> > 
> > Does anyone see this problem?  Is there a
> workaround
> > for this?
> 
> Haven't got RedHat 7.2 available, but your example
> works perfectly on
> SuSE 7.3, Solaris 5.7 and WinXP.
> So I guess you didn't compile R (or e1071) on your
> system. 
> Maybe there is a small incompatibility with the
> precompiled version.
> I'd suggest to compile R yourself and install e1071
> from the sources.
> 
> Uwe Ligges
I installed everyting  (the R basic, R-recommended
package and e1071 ) from source.   My test example
worked fine with redhat 6.2, but not redhat 7.2. I
think maybe it is  problem in gcc library or something
in e1071 package. 
Any suggestion
Thanks





__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Tue Mar 12 00:29:32 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Mon, 11 Mar 2002 15:29:32 -0800
Subject: [R] gif, jpeg and png image files reader
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD100@ALEX2>

Hi all,

Although R seems to have jpeg() and png() functions that converts data into
jpeg and png formated files, it 
doesn't have functions the other way around.
Does one of R contributed packages have gif, jpeg and png image readers? I
did help.search() but no luck

Regards,
Jonathan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mazz at ipac.caltech.edu  Tue Mar 12 02:08:54 2002
From: mazz at ipac.caltech.edu (Joe Mazzarella)
Date: Mon, 11 Mar 2002 17:08:54 -0800
Subject: [R] How to get special (Hershey) font symbols into plot axis labels?
Message-ID: <3C8D5526.2010309@ipac.caltech.edu>

Dear R experts-

I'm running R 1.2.3 (2001-04-26) on Linux.

I need to get special symbols, such as a circle with a dot in it
as used to indicate Solar units in astronomy, into my plot axis labels.
How can I do this?

Using the R documentation on the Hershey font sets, one can plot
a Solar symbol within the world coordinates of a plot like this:

   >plot(1:10,1:10)
   >text(4,8,"\\SO",vfont=c("serif","plain"))

That works fine; however, trying to get the symbol into a plot label
with a call like this:
  >plot(BinLir,logpho,
   xlab=expression(paste("Log (",L[ir]," / ","\\SO",")")),
   ylab=expression(paste("Log ",rho," (",Mpc^-3," ",M[ir]^-1,")")),
   xlim=c(8.0,12.9),ylim=c(-9.0,-0.2),pch=1,
   vfont=c("serif","plain")
  )
gives Warning messages:
1: parameter "vfont" couldn't be set in high-level plot() function
2: parameter "vfont" couldn't be set in high-level plot() function
3: parameter "vfont" couldn't be set in high-level plot() function
4: parameter "vfont" couldn't be set in high-level plot() function

I also tried this:
  >mtext("\SO",vfont=c("serif","plain"))
and got Warning message:
Hershey fonts not yet implemented for mtext() in:
mtext(text, side, line, outer, at, adj, cex, col, font, vfont,

Finally I tried this:
  >title(xlab=expression(paste("Log (",L[ir]," / ","\SO",")")),vfont=c("serif","plain"))
and got Warning message:
parameter "vfont" couldn't be set in high-level plot() function

Another possible solution, but less general, would be to combine (over-strike)
a circle symbol with a small dot symbol. Can this be done in title(),
mtext(), or plot(x,y,xlab=[WHAT?])?

I actually need to get the Hershey "\\SO" symbol, or its equivalant, into a
plot label *subscript*. Is there any way to do this?
If not, when is this capability expected in an R update?

Any help will be greatly appreciated.

Thanks.

-Joe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From w.catchpole at adfa.edu.au  Tue Mar 12 02:24:11 2002
From: w.catchpole at adfa.edu.au (Wendy Catchpole)
Date: Tue, 12 Mar 2002 12:24:11 +1100
Subject: [R] Breakdown of Treatment Sum of Squares
Message-ID: <5.1.0.14.0.20020312122014.02a56900@maadfa>

When using an ordered factor in aov, how do I break the treatment sum of 
squares
into all its separate degrees of freedom? In other words can I use contr.poly
in aov to get the full breakdown of the treatment sum of squares?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Mar 12 02:43:27 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 11 Mar 2002 17:43:27 -0800 (PST)
Subject: [R] gif, jpeg and png image files reader
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD05ABD100@ALEX2>
Message-ID: <Pine.GSO.4.10.10203111741240.9177-100000@fisher.stat.ucla.edu>

The pixmap package has functions for reading pnm (portable anymap) files,
but you still need an outside software to convert (like ImageMagick).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 11 Mar 2002, jonathan_li at agilent.com wrote:

> Hi all,
> 
> Although R seems to have jpeg() and png() functions that converts data into
> jpeg and png formated files, it 
> doesn't have functions the other way around.
> Does one of R contributed packages have gif, jpeg and png image readers? I
> did help.search() but no luck
> 
> Regards,
> Jonathan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From walterm at cmat.edu.uy  Tue Mar 12 07:06:21 2002
From: walterm at cmat.edu.uy (Walter Moreira)
Date: Tue, 12 Mar 2002 03:06:21 -0300
Subject: [R] Help with Python, R and RPY
In-Reply-To: <004601c1c920$2170edb0$8ed994cb@andrewvhowclyz>; from arcriswell on Tue, Mar 12, 2002 at 12:13:53AM +0700
References: <004601c1c920$2170edb0$8ed994cb@andrewvhowclyz>
Message-ID: <20020312030621.B245@cmat.edu.uy>

On Tue, Mar 12, 2002 at 12:13:53AM +0700, arcriswell wrote:
> I have installed on Mandrake 8.1 both python and R:
> 
>         R-base-1.4.1-1mdk.i586.rpm
>         R-recommended-1.4.1-1mdk.i586.rpm
> 
>         python-2.2-9mdk.i586.rpm
>         python-base-2.2-9mdk.i586.rpm
> 
> I have also checked on the location of R using R RHOME which returns
> /usr/lib/R.
> 
> When I run
> 
>         python setup.py install
> 
> I get the following complaints,
> 
> [root at localhost rpy]# python setup.py install
> Traceback (most recent call last):
>   File "setup.py", line 17, in ?
>     get_config_vars()['OPT'] = '-DNDEBUG -g -O3 -Wall'
>   File "/usr/lib/python2.2/distutils/sysconfig.py", line 408, in
> get_config_vars
>     func()
>   File "/usr/lib/python2.2/distutils/sysconfig.py", line 313, in _init_posix
>     raise DistutilsPlatformError(my_msg)
> distutils.errors.DistutilsPlatformError: invalid Python installation: unable
> to open /usr/lib/python2.2/config/Makefile (No such file or directory)
> [root at localhost rpy]#

Hi. Looks like the file /usr/lib/python2.2/config/Makefile is missing, which
is very strange if you compile it from sources, as you told me in another
message. Could you check the directory /usr/lib/python2.2/config to see what
it contains?

Have you build from the standard sources (from python.org), or from sources in
the mandrake distro? I suggest the first.

Although, as Tim said, you will need to rebuild R as shared lib, so I suggest
also to download the R sources from www.r-project.org.

It should build fine with that packages.

Hope it helps,
Walter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Tue Mar 12 07:53:30 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Mon, 11 Mar 2002 22:53:30 -0800
Subject: [R] Vis5D interface package
Message-ID: <3C8DA5EA.76A6532E@uclink4.berkeley.edu>

Greetings,

Summary:  Has anyone else started a package (or have code) with the
capability to write Vis5D-readable netCDF files containing
irregularly-spaced data?

I've recently put together what might be the beginnings of a (GPL'ed) R
interface package to the Vis5D volumetric visualization program
(http://vis5d.sourceforge.net).  Vis5D is commonly used in the
atmospheric science and computational fluid dynamics fields.  But it is
generally useful for visualizing (e.g., animating) any function across
3D space and time, i.e., F(x,y,z,t).  [It's also GPL'ed and compiled
beautifully on a RH Linux 7.1/Intel machine] 

The files I have so far are:

(1) FORTRAN code + header file for converting an ASCII file into Vis5D
`v5d' format (Note: compilation needs the Vis5D libraries).

http://socrates.berkeley.edu/~nklepeis/Vis5D/R2v5d.f
http://socrates.berkeley.edu/~nklepeis/Vis5D/v5df.h

(2) R function for fitting f(x,y,z) data across different times (using
the `Tps' Kriging function in the R `fields' package), calculating
function values across a *regularly*-spaced grid, and outputting an
ASCII file that can be converted to `v5d'-format using `R2v5d.f' above:

http://socrates.berkeley.edu/~nklepeis/Vis5D/fit5D.Rf

I have tested the code with a couple data sets, and it seems to work
pretty well.


But there is (at least!) one thing missing:

A way of writing a netCDF file containing *irregularly*-spaced data,
which can be imported into Vis5D. Coercing the data to a regular grid is
not always the best way to go.


Does anyone have experience with R, netCDF and/or Vis5D who would be
willing to donate some code?    The scientific python package has a
netCDF module, which I am currently looking into (but don't hold your
breath...):   

http://starship.python.net/crew/hinsen/scientific.html
http://www.unidata.ucar.edu/packages/netcdf/


Any other help or suggestion is also appreciated.


Thanks. 



-- 
___________________________________________________________
Neil E. Klepeis -- School of Public Health, UC Berkeley and
Lawrence Berkeley National Laboratory, Berkeley, CA USA
http://socrates.berkeley.edu/~nklepeis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 12 09:11:09 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 12 Mar 2002 09:11:09 +0100
Subject: [R] How to get special (Hershey) font symbols into plot axis labels?
References: <3C8D5526.2010309@ipac.caltech.edu>
Message-ID: <3C8DB81D.7710C265@statistik.uni-dortmund.de>

Joe Mazzarella wrote:
> 
> Dear R experts-
> 
> I'm running R 1.2.3 (2001-04-26) on Linux.

Please upgrade to R-1.4.1.


> I need to get special symbols, such as a circle with a dot in it
> as used to indicate Solar units in astronomy, into my plot axis labels.
> How can I do this?
> 
> Using the R documentation on the Hershey font sets, one can plot
> a Solar symbol within the world coordinates of a plot like this:
> 
>    >plot(1:10,1:10)
>    >text(4,8,"\\SO",vfont=c("serif","plain"))
> 
> That works fine; however, trying to get the symbol into a plot label
> with a call like this:
>   >plot(BinLir,logpho,
>    xlab=expression(paste("Log (",L[ir]," / ","\\SO",")")),
>    ylab=expression(paste("Log ",rho," (",Mpc^-3," ",M[ir]^-1,")")),
>    xlim=c(8.0,12.9),ylim=c(-9.0,-0.2),pch=1,
>    vfont=c("serif","plain")
>   )
> gives Warning messages:
> 1: parameter "vfont" couldn't be set in high-level plot() function
> 2: parameter "vfont" couldn't be set in high-level plot() function
> 3: parameter "vfont" couldn't be set in high-level plot() function
> 4: parameter "vfont" couldn't be set in high-level plot() function
> 
> I also tried this:
>   >mtext("\SO",vfont=c("serif","plain"))
> and got Warning message:
> Hershey fonts not yet implemented for mtext() in:
> mtext(text, side, line, outer, at, adj, cex, col, font, vfont,
> 
> Finally I tried this:
>   >title(xlab=expression(paste("Log (",L[ir]," / ","\SO",")")),vfont=c("serif","plain"))
> and got Warning message:
> parameter "vfont" couldn't be set in high-level plot() function
> 
> Another possible solution, but less general, would be to combine (over-strike)
> a circle symbol with a small dot symbol. Can this be done in title(),
> mtext(), or plot(x,y,xlab=[WHAT?])?
> 
> I actually need to get the Hershey "\\SO" symbol, or its equivalant, into a
> plot label *subscript*. Is there any way to do this?
> If not, when is this capability expected in an R update?

No, but you should upgrade anyway.
 
> Any help will be greatly appreciated.


You cannot use the font in expressions.


Looks like there is a bug (at least in the documentation).
 ?Hershey:
"If the vfont argument to one of the text-drawing functions (text,
mtext, title, axis, and contour) is a character vector of length 2,
hershey vector fonts are used to render the text."

But it doesn't work for:
 axis() (without a warning message), 
 title() ("Warning message: parameter "vfont" couldn't be set in
high-level plot() function") and,
 mtext() ("Warning message: Hershey fonts not yet implemented for
mtext()").


What you can do is using text() as in:

 plot(1:10, xlab="")
 par(xpd=TRUE)
 text(5.5, -0.5, "\\SO", vfont=c("serif","plain"))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Tue Mar 12 10:36:23 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Tue, 12 Mar 2002 10:36:23 +0100
Subject: [R] ARMA and ARIMA modeling
References: <200203120301.EAA16533@stat.math.ethz.ch>
Message-ID: <3C8DCC17.A4ACECD5@lmttrading.com>

> Date: Mon, 11 Mar 2002 15:13:32 -0500
> From: David Brahm  <brahm at alum.mit.edu>
> Subject: Re: [R] ARMA and ARIMA modeling
>
> Regarding package "tseries", I somewhat inaccurately wrote:
> > But there is no README file or /src directiory in the binary distribution...
>
> What I meant was that after I downloaded "tseries_0.8-4.tar.gz" from CRAN, and
> ran R CMD INSTALL on it, then the resulting package "tseries" under
> <prefix>/lib/R/library had no README or /src.  I believe people refer to this
> as the "binary package" (though it is in fact mostly ascii).
>
> But, if I explicitly gunzip and untar the file "tseries_0.8-4.tar.gz" (creating
> the "source package"), then I see the README file and the /src directory.
> Furthermore, the README very helpfully says:
> > License: GPL, except ./src/muin2ser.f and ./misc which are free for
> > non-commercial purposes.  Only the function amif depends
> > on the non GPLed code.
>
> So I will just avoid using "amif" (the "auto mutual information function").
> - --
>                               -- David Brahm (brahm at alum.mit.edu)

Right. If you want to completely eliminate the non-GPL code, remove (from the source package) the directory misc
and the file src/muin2ser.f. The only function that will be affected is amif(). The copyright of the non-GPL code
can be found in misc/README.

This mixture of GPL and non-GPL code in the same package is maybe not the cleanest solution and it?s on my todo
list to replace the non-GPL code.

best
Adrian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Mar 12 10:35:40 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 12 Mar 2002 10:35:40 +0100
Subject: [R] svm in e1071 package segment fault in redhat 7.2
References: <20020311223804.34526.qmail@web9403.mail.yahoo.com>
Message-ID: <3C8DCBEC.70A57A50@ci.tuwien.ac.at>

> > >
> > > There is no problem if the R-binary is running
> > redhat
> > > 6.2.
> > >
> > > Does anyone see this problem?  Is there a
> > workaround
> > > for this?

It's almost shurely the broken red-hat gcc (guess you have version 2.96?). Try a
newer release (but they may buggy also, beware).

g.
-d


>
> >
> > Haven't got RedHat 7.2 available, but your example
> > works perfectly on
> > SuSE 7.3, Solaris 5.7 and WinXP.
> > So I guess you didn't compile R (or e1071) on your
> > system.
> > Maybe there is a small incompatibility with the
> > precompiled version.
> > I'd suggest to compile R yourself and install e1071
> > from the sources.
> >
> > Uwe Ligges
> I installed everyting  (the R basic, R-recommended
> package and e1071 ) from source.   My test example
> worked fine with redhat 6.2, but not redhat 7.2. I
> think maybe it is  problem in gcc library or something
> in e1071 package.
> Any suggestion
> Thanks
>
> __________________________________________________
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Mar 12 11:44:38 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 12 Mar 2002 11:44:38 +0100 (CET)
Subject: [R] svm in e1071 package segment fault in redhat 7.2
In-Reply-To: <20020311195535.83157.qmail@web9406.mail.yahoo.com>
Message-ID: <XFMail.20020312114438.plummer@iarc.fr>

I can replicate this bug on Red Hat 7.2.  It seems to be a compiler
problem. Here is the relevant output from gdb

(gdb) frame 2
#2  0x403a2ab6 in SVC_Q::get_Q (this=0xbfffdae0, i=41, len=100) at svm.cpp:1131
1131                    if((start = cache->get_data(i,&data,len)) < len)
(gdb) p cache
$10 = (Cache *) 0x8b083a8
(gdb) p i
$11 = 41
(gdb) p &data
$12 = (Qfloat **) 0xbfffd984
(gdb) p len
$13 = 100
(gdb) frame 1
#1  0x4039d90e in Cache::get_data (this=0x8b083a8, index=146466881, 
    data=0xbfffd984, len=100) at svm.cpp:109
109             if(h->len) lru_delete(h);

The index argument to Cache::get_data is corrupted (should be 41
not 14646881).

I see that Red Hat have released a package for gcc3.  You can
download this from 

ftp://updates.redhat.com/7.2/en/os/i386/

or a mirror near you.  I recommend that you try this.

Martyn

On 11-Mar-2002 jason zhao wrote:
> Hi, Guys
> I run one simple R script like this
>        
> library(e1071) 
> data(iris)
> attach(iris)
> model <- svm (Species~., data=iris)
> 
> The R version is 1.4.1. The OS is standard redhat 7.2.
> Then I got a segmentation fault like this (run through
> R CMD BATCH scriptName)
> /usr/local/R/lib/R/bin/BATCH: line 54: 28513 Done     
>               (    
> echo "invisible(options(echo = TRUE))"; cat ${in};
> echo "proc.time()" )
>      28514 Segmentation fault      | ${R_HOME}/bin/R
> ${opts} >${out} 2>&1
> 
> There is no problem if the R-binary is running redhat
> 6.2.
> 
> Does anyone see this problem?  Is there a workaround
> for this?
>   
> Help is appreciated.
> 
> Jason
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Tue Mar 12 12:23:48 2002
From: zedshaw at zedshaw.com (Zed Shaw)
Date: 12 Mar 2002 03:23:48 -0800
Subject: [R] Help with Python, R and RPY
In-Reply-To: <004601c1c920$2170edb0$8ed994cb@andrewvhowclyz>
References: <004601c1c920$2170edb0$8ed994cb@andrewvhowclyz>
Message-ID: <1015932228.3314.6.camel@workhorse.killnine.net>

Hi Andrew,

It appears that you have become the victim of the classic "devel"
packages snare.  Basically, any time you wish to compile something
against an RPM package on Mandrake, RedHat, RedFlag, and other RedHat
derivatives, you need to also get the "devel" version of the package.

All you need to do is grab the python-devel-2.1.1-3mdk.i586.rpm and
install it also.  You can find more information on what this RPM has at:

http://rpmfind.net//linux/RPM/mandrake/8.1/i586/Mandrake/RPMS/python-devel-2.1.1-3mdk.i586.html


Hope that helps.

Zed

P.S., It might be a good thing for you to setup a "cooker" source so you
can do urpmi and automagically install these things.  Contact me off
list if you are interested in setting this up.  It's fairly easy.

On Mon, 2002-03-11 at 09:13, arcriswell wrote:
> Hi All:
> 
> Walter Moreira wrote a small extension module for using the R programming
> language from within Python. Tim Church's example at
> http://www.cmat.edu.uy/~walterm/rpy was so compelling, I could not resist
> installing it on my Linux Mandrake 8.1 box.
> 
> But I ran into problems.
> 
> I have installed on Mandrake 8.1 both python and R:
> 
>         R-base-1.4.1-1mdk.i586.rpm
>         R-recommended-1.4.1-1mdk.i586.rpm
> 
>         python-2.2-9mdk.i586.rpm
>         python-base-2.2-9mdk.i586.rpm
> 
> I have also checked on the location of R using R RHOME which returns
> /usr/lib/R.
> 
> When I run
> 
>         python setup.py install
> 
> I get the following complaints,
> 
> [root at localhost rpy]# python setup.py install
> Traceback (most recent call last):
>   File "setup.py", line 17, in ?
>     get_config_vars()['OPT'] = '-DNDEBUG -g -O3 -Wall'
>   File "/usr/lib/python2.2/distutils/sysconfig.py", line 408, in
> get_config_vars
>     func()
>   File "/usr/lib/python2.2/distutils/sysconfig.py", line 313, in _init_posix
>     raise DistutilsPlatformError(my_msg)
> distutils.errors.DistutilsPlatformError: invalid Python installation: unable
> to open /usr/lib/python2.2/config/Makefile (No such file or directory)
> [root at localhost rpy]#
> 
> 
> What do I need to do???
> 
> Thanks,
> ANDREW
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Tue Mar 12 12:19:26 2002
From: orp at intras.es (Oscar Rueda)
Date: Tue, 12 Mar 2002 12:19:26 +0100
Subject: [R] Change axes labels in Lattice
Message-ID: <WT972JE93IF4X825285Z82F0A04ZHD.3c8de43e@oscar>

Hello

I'm making a levelplot with frequencies in a 2*2 table with ordered factors. I get the plot I want, but axes draw the levels of the factor (1,2,3,4..) instead of 
the desired labels.

Is there a way to alter this axes labels in lattice graphics?

Thanks for the reply

Oscar




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Tue Mar 12 14:22:16 2002
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Tue, 12 Mar 2002 14:22:16 +0100
Subject: [R] qhuber-locfit: residual variance
Message-ID: <OF612163B2.306AF784-ONC1256B7A.00453E4C@evotecoai.com>

Dear all,

I've 2 questions concerning locfit, I didn't find in Loader: Local 
Regression ... 

1. If I perform locfit with family = "qhuber", the residual variance 
estimate (rv) 
is based on normalized residuals. "qgauss" is on original scale. 
Is this a bug or is there a reason for it?

2. Is the residual variance estimate (rv) in case of a fit with family = 
"qhuber"
a robust estimate? 



Thanks in advance

maciej


Maciej Hoffman-Wecker
EVOTEC OAI
Screening Operations/Discovery Informatics
Schnackenburgallee 114
D-22525 Hamburg
Germany

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Tue Mar 12 15:02:07 2002
From: orp at intras.es (Oscar Rueda)
Date: Tue, 12 Mar 2002 15:02:07 +0100
Subject: [R] Change axes labels in Lattice
Message-ID: <CA98B9VRIEDCJH96KDCOK8KGA5LGZ.3c8e0a5f@oscar>

Thanks to Mr. Lancelot, I've got to plot the "puzzle" plot for displaying a contingency table. Here's the code if someone is interested


V1<-factor(round(runif(100, 1,4)), labels=c("A", "B", "C", "D"))
V2<-factor(round(runif(100, 1,4)), labels=c("A", "B", "C", "D"))
V3<-factor(round(runif(100, 1,5)), labels=c("Val1", "Val2", "Val3", "Val4","Val5"))

s<-table(V1, V2, V3)
as.data.frame(prop.table(s,margin=3))->f

levelplot(Freq~unclass(V1)*unclass(V2)|V3, data=f, cuts=3, labels=F,xlab="V1", ylab="V2",
	scales=list(x=list(at=c(1,2,3,4), labels=levels(V1)),y=list(at=c(1,2,3,4), labels=levels(V2))),
	page=function(...) {
		grid.text(x = c(.76,.76),
                    y = seq(.8, .7, len = 2),label=c("Contingency Table", "V1 vs. V2"),gp=gpar(fontsize=17))
		}
)

Oscar


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Mar 12 16:27:46 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 12 Mar 2002 15:27:46 +0000
Subject: [R] nlme versus aov with Error()
Message-ID: <3C8E1E72.877D4293@psy.uni-muenchen.de>

Hi all,

I computed a two way anova with two within-subjects fixed effects: diffi
(2 levels) and cond (4 levels) and one random effect subject, and one
dependent variable accuracy:

summary(aov(accuracy ~ diffi*cond + Error(sub/(diffi+cond)),
data=phd.df))

Error: sub
          Df  Sum Sq Mean Sq F value Pr(>F)
Residuals  4 136.549  34.137

Error: sub:diffi
          Df  Sum Sq Mean Sq F value    Pr(>F)
diffi      1 1321.12 1321.12  108.61 0.0004788 ***
Residuals  4   48.65   12.16
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Error: sub:cond
          Df  Sum Sq Mean Sq F value    Pr(>F)
cond       3 1952.62  650.87  14.295 0.0002887 ***
Residuals 12  546.37   45.53
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Error: Within
           Df  Sum Sq Mean Sq F value   Pr(>F)
diffi:cond  3 113.692  37.897  9.2825 0.001884 **
Residuals  12  48.992   4.083
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

But when I did this with lme() from package lme, I got a different
result:

phd.lme <- lme(accuracy ~ cond*diffi, random=~1|sub, data=phd.df)
anova(phd.lme)
            numDF denDF  F-value p-value
(Intercept)     1    28 6759.188  <.0001
cond            3    28   28.298  <.0001
diffi           1    28   57.438  <.0001
cond:diffi      3    28    1.648  0.2009

I think I've missed something in the random argument, but can't figure
out what.

Thanks for any help, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Tue Mar 12 15:30:40 2002
From: noel at univ-lille3.fr (Yvonnick NOEL)
Date: Tue, 12 Mar 2002 15:30:40 +0100
Subject: [R] MatClass
Message-ID: <200203121431.PAA12579@stat.math.ethz.ch>

Hello,

I have written a small set of R functions for doing Generative Topographic 
Mapping and variants, and would like to write part of the code in C++ using 
the MatClass Matrix Library ( http://les.man.ac.uk/ses/staff/crb/matclass/ ).

Now, my problem is even before writing the code itself, to compile the 
MatClass library. Everything is OK under Windows but when trying to port the 
program to Linux (Mandrake 8.1), I failed to compile the library, even when 
the makefile provided. The error message reeads :

$ make -f libmat.mak
g++ -c -O -Wall matinit.cc
In file included from matinit.cc:16:
matrix.hpp:884: declaration does not declare anything
matrix.hpp:884: parse error before `and'
matrix.hpp:885: declaration does not declare anything
matrix.hpp:886: class `matrix' is implicitly friends with itself
matrix.hpp:886: parse error before `not'
make: *** [matinit.o] Error 1

As far as I can say, nothing in the C++ code seems to be wrong (and compiled 
fine with Visual C++ under Windows). I am aware this is not directly 
related to R but just in case someone among R users would already have tried 
MatClass and experienced a similar problem, or would like to try it, I'd be 
happy to receive comments and suggestions.

Thanks in advance for your time,

Yvonnick Noel, PhD.
U. of Lille 3
FRANCE
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Mar 12 16:10:37 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 12 Mar 2002 10:10:37 -0500 (EST)
Subject: [R] Case weights in nlme models
Message-ID: <Pine.LNX.4.21L1.0203121002170.11913-100000@hm269-26876.socsci.unc.edu>

Greetings-

I am in the process of constructing a nonlinear model using nlme. The
model is attempting to fit a nested data structure from some
public-opinion data (the data are from individuals nested within
organizations).

The question I have is fairly simple (I hope). The data were collected in
two stages: a 15,000-subject randomly-sampled telephone interview (the
SCREEN), with 2,517 subjects selected for in-home interviews. The
2,517-subject survey constitutes the actual dataset we're using. But those
data include oversamples for activists and african-americans, plus a case
weighting variable. According to the survey's documentation, using the
weight allows the oversampled study data to be representative of the
15,000-person random sample.

All this is fine, and I've been able to run linear models on the data
using lm() with the weights = WT2517 option (WT2517 is the column
containing the weight variable). But the documentation for nlme() suggests
that weights= takes something other than a straight vector:

 weights: an optional `varFunc' object or one-sided formula describing
          the within-group heteroscedasticity structure. If given as a
          formula, it is used as the argument to `varFixed',
          corresponding to fixed variance weights. See the
          documentation on `varClasses' for a description of the
          available `varFunc' classes. Defaults to `NULL',
          corresponding to homoscesdatic within-group errors.

Is it possible to use case weights in an nlme model (both in general and
in the specific R implementation)? If so, could some kind soul point me in
the right direction?

Many thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Tue Mar 12 16:41:29 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Tue, 12 Mar 2002 15:41:29 +0000
Subject: [R] swapping rows with columns
Message-ID: <3C8E21A9.EF1B0A45@icrf.icnet.uk>

Hello,

I've read in a data file as a frame and now I'd like the columns to be
rows and the rows to be columns. What's the easiest way to do this in R?

> class(d)
[1] "data.frame"

> rownames(d)
[1] "98x101" "40x98"  "30x40"  "0x30"  

> colnames(d)
 [1] "H..sapiens"      "C..elegans"      "D..melanogaster"
"S..cerevisiae"  
 [5] "E..coli"         "M..tuberculosis" "B..subtilis"    
"V..cholerae"    
 [9] "A..pernix"       "P..horikoshii"   "M..jannaschii"  
"A..aeolicus"    
[13] "H..pylori"       "M..genitalium"  

Do I have to recunstruct the new frame or matrix manually?

	thanks for help,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 12 17:09:14 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Mar 2002 17:09:14 +0100
Subject: [R] swapping rows with columns
In-Reply-To: <3C8E21A9.EF1B0A45@icrf.icnet.uk>
References: <3C8E21A9.EF1B0A45@icrf.icnet.uk>
Message-ID: <x2u1rlzs2d.fsf@blueberry.kubism.ku.dk>

Arne Mueller <a.mueller at icrf.icnet.uk> writes:

> Hello,
> 
> I've read in a data file as a frame and now I'd like the columns to be
> rows and the rows to be columns. What's the easiest way to do this in R?
> 
> > class(d)
> [1] "data.frame"
> 
> > rownames(d)
> [1] "98x101" "40x98"  "30x40"  "0x30"  
> 
> > colnames(d)
>  [1] "H..sapiens"      "C..elegans"      "D..melanogaster"
> "S..cerevisiae"  
>  [5] "E..coli"         "M..tuberculosis" "B..subtilis"    
> "V..cholerae"    
>  [9] "A..pernix"       "P..horikoshii"   "M..jannaschii"  
> "A..aeolicus"    
> [13] "H..pylori"       "M..genitalium"  
> 
> Do I have to recunstruct the new frame or matrix manually?

as.data.frame(t(d))

or just t(d) if you don't care that it becomes a matrix in the process.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 12 17:25:47 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 12 Mar 2002 17:25:47 +0100
Subject: [R] swapping rows with columns
References: <3C8E21A9.EF1B0A45@icrf.icnet.uk>
Message-ID: <3C8E2C0B.5F405A7C@statistik.uni-dortmund.de>



Arne Mueller wrote:
> 
> Hello,
> 
> I've read in a data file as a frame and now I'd like the columns to be
> rows and the rows to be columns. What's the easiest way to do this in R?
> 
> > class(d)
> [1] "data.frame"
> 
> > rownames(d)
> [1] "98x101" "40x98"  "30x40"  "0x30"
> 
> > colnames(d)
>  [1] "H..sapiens"      "C..elegans"      "D..melanogaster"
> "S..cerevisiae"
>  [5] "E..coli"         "M..tuberculosis" "B..subtilis"
> "V..cholerae"
>  [9] "A..pernix"       "P..horikoshii"   "M..jannaschii"
> "A..aeolicus"
> [13] "H..pylori"       "M..genitalium"
> 
> Do I have to recunstruct the new frame or matrix manually?


t(x)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Tue Mar 12 17:22:42 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Tue, 12 Mar 2002 16:22:42 +0000
Subject: [R] swapping rows with columns
References: <Pine.LNX.4.31.0203121611290.29762-100000@gannet.stats>
Message-ID: <3C8E2B52.2DF37E1D@icrf.icnet.uk>

ripley at stats.ox.ac.uk wrote:
> 
> t(as.matrix(d))

Yes, that's what I was looking for. Thanks for your quick replys. For me
as an R
newbe is that I don't find the appropiate functions and objects in the
R-documentation.
I'm mainly using the html pages with the built-in java-script search
engine to lookup functions etc. Unfortunately the keyword 'transform' or
'swap' didn't come uo with the 't' function.

Sorry if most of my questions are trivial or with 'obvious' answers.
It's just a little bit hard at the beginning to make my way through the
documentation ...

	thanks very much for all your help,

	Arne

> 
> On Tue, 12 Mar 2002, Arne Mueller wrote:
> 
> > Hello,
> >
> > I've read in a data file as a frame and now I'd like the columns to be
> > rows and the rows to be columns. What's the easiest way to do this in R?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Mar 12 18:01:26 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 12 Mar 2002 12:01:26 -0500
Subject: [R] swapping rows with columns
In-Reply-To: <3C8E21A9.EF1B0A45@icrf.icnet.uk>; from a.mueller@icrf.icnet.uk on Tue, Mar 12, 2002 at 03:41:29PM +0000
References: <3C8E21A9.EF1B0A45@icrf.icnet.uk>
Message-ID: <20020312120126.A12514@cattell.psych.upenn.edu>

On 03/12/02 15:41, Arne Mueller wrote:
>Hello,
>
>I've read in a data file as a frame and now I'd like the columns to be
>rows and the rows to be columns. What's the easiest way to do this in R?
>
>> class(d)
>[1] "data.frame"
>
>> rownames(d)
>[1] "98x101" "40x98"  "30x40"  "0x30"  
>
>> colnames(d)
> [1] "H..sapiens"      "C..elegans"      "D..melanogaster"
>"S..cerevisiae"  
> [5] "E..coli"         "M..tuberculosis" "B..subtilis"    
>"V..cholerae"    
> [9] "A..pernix"       "P..horikoshii"   "M..jannaschii"  
>"A..aeolicus"    
>[13] "H..pylori"       "M..genitalium"  
>
>Do I have to recunstruct the new frame or matrix manually?

No.  The t() function flips the rows and columns of a matrix.  It
also works on a data frame that can be coerced into a matrix, but
it yields a matrix.  So you can say

d2 <- as.data.frame(t(d))

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Tue Mar 12 18:39:28 2002
From: jonathan_li at agilent.com (Jonathan Q. Li)
Date: Tue, 12 Mar 2002 09:39:28 -0800
Subject: [R] gif, jpeg and png image files reader
In-Reply-To: <Pine.GSO.4.10.10203111741240.9177-100000@fisher.stat.ucla.edu>
Message-ID: <MAEBJBMCBLHCLJHMPPBNIEACCAAA.jonathan_li@agilent.com>

Yah, but what if I need to write a package in R that reads these images?
It's
too much manual trouble to use outside software. It's especially infeasible
if
these become a routine task with many images.
I think that here may be a place to make an improvement to R.
I, for one, can certainly appreciate the use of such reader functions. Are
there any one else
who felt the same way?

Jonathan

-----Original Message-----
From: Roger Peng [mailto:rpeng at stat.ucla.edu]
Sent: Monday, March 11, 2002 5:43 PM
To: jonathan_li at agilent.com
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] gif, jpeg and png image files reader


The pixmap package has functions for reading pnm (portable anymap) files,
but you still need an outside software to convert (like ImageMagick).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 11 Mar 2002, jonathan_li at agilent.com wrote:

> Hi all,
>
> Although R seems to have jpeg() and png() functions that converts data
into
> jpeg and png formated files, it
> doesn't have functions the other way around.
> Does one of R contributed packages have gif, jpeg and png image readers? I
> did help.search() but no luck
>
> Regards,
> Jonathan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at u.washington.edu  Tue Mar 12 18:51:45 2002
From: rossini at u.washington.edu (Anthony Rossini)
Date: Tue, 12 Mar 2002 09:51:45 -0800 (PST)
Subject: [R] gif, jpeg and png image files reader
In-Reply-To: <maebjbmcblhcljhmppbnieaccaaa.jonathan_li@agilent.com>
Message-ID: <Pine.LNX.4.43.0203120951450.31537@hymn09.u.washington.edu>

Great, Jonathan.  We are looking forward to your contributions!  I'm glad you've volunteered to take on such a pressing task, since of course, scripting with another language isn't quite so elegant.

(on a serious note, I've needed to do such, and scripting with other languages (Python, but I'm sure Perl would do) sufficed; while it is a place that could use improvement, I don't think it is nearly as pressing, since tools are freely available for solving the general problem).

best,
-tony


On Tue, 12 Mar 2002, Jonathan Q. Li wrote:

> Yah, but what if I need to write a package in R that reads these images?
> It's
> too much manual trouble to use outside software. It's especially infeasible
> if
> these become a routine task with many images.
> I think that here may be a place to make an improvement to R.
> I, for one, can certainly appreciate the use of such reader functions. Are
> there any one else
> who felt the same way?
> 
> Jonathan
> 
> -----Original Message-----
> From: Roger Peng [mailto:rpeng at stat.ucla.edu]
> Sent: Monday, March 11, 2002 5:43 PM
> To: jonathan_li at agilent.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] gif, jpeg and png image files reader
> 
> 
> The pixmap package has functions for reading pnm (portable anymap) files,
> but you still need an outside software to convert (like ImageMagick).
> 
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
> 
> On Mon, 11 Mar 2002, jonathan_li at agilent.com wrote:
> 
> > Hi all,
> >
> > Although R seems to have jpeg() and png() functions that converts data
> into
> > jpeg and png formated files, it
> > doesn't have functions the other way around.
> > Does one of R contributed packages have gif, jpeg and png image readers? I
> > did help.search() but no luck
> >
> > Regards,
> > Jonathan
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Tue Mar 12 19:05:09 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue, 12 Mar 2002 11:05:09 -0700
Subject: [R] can a matrix of lists work in R?
Message-ID: <5.1.0.14.2.20020312105112.00a83400@a.paloma.com>

I'm trying to convert over some S-plus code to R, and am having problems 
where it uses a matrix of lists.

Here's some code that works as expected in S-plus:

 > x <- vector("list",6)
 > dim(x) <- c(2,3)
 > x[1,2] <- list(letters[10:11])
 > x
         [,1]         [,2]    [,3]
[1,] NULL, 0 character, 2 NULL, 0
[2,] NULL, 0 NULL, 0      NULL, 0
 > x[1,2]
[[1]]:
[1] "j" "k"

 > x[3]
[[1]]:
[1] "j" "k"

 > x[[3]]
[1] "j" "k"
 >

The same commands in R do not produce the desired results (the assignment 
of element 1,2 does not work, I can assign in a different way, but then 
different types of indexing produce different results):
 > x <- vector("list",6)
 > dim(x) <- c(2,3)
 > x[1,2] <- list(letters[10:11])     # Can't assign using array indexing
Error: incompatible types in subset assignment
 > x[[3]] <- letters[10:11]           # I can assign to the desired element
 > x
      [,1]   [,2]          [,3]       # and it seems to produce the matrix 
I want
[1,] "NULL" "Character,2" "NULL"
[2,] "NULL" "NULL"        "NULL"
 > x[1,2]                             # but I get a different element by 
array indexing!
[[1]]
NULL

 > x[[3]]                             # the element is there for list or 
vector indexing!
[1] "j" "k"
 > x[3]
[[1]]
[1] "j" "k"

 >

My original way of creating the matrix of NULL's does not work in R either:
 > matrix(vector("list", 6), nrow=2)
Error in matrix(vector("list", 6), nrow = 2) :
         Unimplemented feature in copyVector
 >

Is there anything I can do to make a matrix of lists work in R?

thanks,

Tony Plate
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020312/e6cb73e3/attachment.html

From nychka at cgd.ucar.edu  Tue Mar 12 20:00:11 2002
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Tue, 12 Mar 2002 12:00:11 -0700 (MST)
Subject: [R] Sparse matrix methods
Message-ID: <Pine.GSO.4.30.0203121157490.2381-100000@student.cgd.ucar.edu>


Does anyone know of contributions to R for solving sparse linear systems?
In particular for spatial stats I am interested in solving large
positive definite symmetric systems.

Thanks in advance,
Doug

-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
PO Box 3000                                 FAX: 303-497-1333
Boulder, CO  80307-3000                     Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 12 20:24:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 12 Mar 2002 19:24:04 +0000 (GMT)
Subject: [R] can a matrix of lists work in R?
In-Reply-To: <5.1.0.14.2.20020312105112.00a83400@a.paloma.com>
Message-ID: <Pine.LNX.4.31.0203121922560.21080-100000@gannet.stats>

On Tue, 12 Mar 2002, Tony Plate wrote:

> I'm trying to convert over some S-plus code to R, and am having problems
> where it uses a matrix of lists.

[...]

> Is there anything I can do to make a matrix of lists work in R?

Use R-devel, where a number of bugs have been fixed, a couple today.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mazz at ipac.caltech.edu  Tue Mar 12 20:44:35 2002
From: mazz at ipac.caltech.edu (Joe Mazzarella)
Date: Tue, 12 Mar 2002 11:44:35 -0800
Subject: [R] How to get special (Hershey) font symbols into plot axis labels?
References: <3C8D5526.2010309@ipac.caltech.edu> <3C8DB81D.7710C265@statistik.uni-dortmund.de>
Message-ID: <3C8E5AA3.7040908@ipac.caltech.edu>

Thanks for the suggestions, Uwe and Paul.
Here's some feedback that includes a problem with the rendered
vector fonts in Postscript:

> You cannot use the font in expressions.


That's a limitation that should be solved one day.

Otherwise users can't get special symbols in subscripts or superscripts,
which is often where they are needed.

 
> Looks like there is a bug (at least in the documentation).
>  ?Hershey:
> "If the vfont argument to one of the text-drawing functions (text,
> mtext, title, axis, and contour) is a character vector of length 2,
> hershey vector fonts are used to render the text."
> 
> But it doesn't work for:
>  axis() (without a warning message), 
>  title() ("Warning message: parameter "vfont" couldn't be set in
> high-level plot() function") and,
>  mtext() ("Warning message: Hershey fonts not yet implemented for
> mtext()").

Right. But it's good to know this is in the plans, anyway.


> What you can do is using text() as in:
> 
>  plot(1:10, xlab="")
>  par(xpd=TRUE)

>  text(5.5, -0.5, "\\SO", vfont=c("serif","plain"))


OK, but since we can't plot \\SO in a subscript using

text(x,y,expression(paste("Log ",rho," (",Mpc^-3," ",M[ir]^-1,")"))),
I had to kludge further to fake the subscripts:

###############################################
par(pin=c(6.0,6.0)) #6" X 6" figure
par(xpd=TRUE)
plot(BinLir,logpho,
   xlab="",
   ylab=expression(paste("Log ",rho," (",Mpc^-3," ",M[ir]^-1,")")),
   xlim=c(7.4,12.9),ylim=c(-9.0,-0.2),pch=1,
   vfont=c("serif","plain")
)
text(10.00,-10.30,"log (L",vfont=c("serif","plain")) #"log (L"
text(10.38,-10.35,"ir",vfont=c("serif","plain")) #fake "ir" subscript
text(10.54,-10.30,"/L",vfont=c("serif","plain")) #"/L"
text(10.72,-10.35,"\\SO",vfont=c("serif","plain")) #fake "Solar" subscript
text(10.82,-10.30,")",vfont=c("serif","plain")) #")"
################################################

The bad news:
Although this looked fine in the default X-window plot device,
using the Postscript device via
   postscript(file="LumFunc.ps",horizontal=FALSE, onefile=FALSE, paper="letter")
   #above plot commands...
   dev.off()
produces an x axis label with a "fuzzy" or "grayed out" appearance
(the vector font lines are not solid black) which is unacceptable
for publication. If I use vfont only for the faked Solar subscript,
then the rest of the text is solid black but the Solar
subscripts is fuzzy.

Any ideas how to "un fuzz" vector font text in the Postscript device?

I need to plot other special symbols in sub/superscripts as well.
I tried annotating R plots using bitmaps in xfig, but that does not
turn out very well either. I'll probably have to use a different plotting
package until special symbol subscript/superscript support improves in R.

-Joe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Mar 12 22:17:22 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 13 Mar 2002 10:17:22 +1300
Subject: [R] gif, jpeg and png image files reader
In-Reply-To: <MAEBJBMCBLHCLJHMPPBNIEACCAAA.jonathan_li@agilent.com>; from jonathan_li@agilent.com on Tue, Mar 12, 2002 at 09:39:28AM -0800
References: <Pine.GSO.4.10.10203111741240.9177-100000@fisher.stat.ucla.edu> <MAEBJBMCBLHCLJHMPPBNIEACCAAA.jonathan_li@agilent.com>
Message-ID: <20020313101721.A1913@camille.indigoindustrial.co.nz>

One quick point ...
On Tue, Mar 12, 2002 at 09:39:28AM -0800, Jonathan Q. Li wrote:
> Yah, but what if I need to write a package in R that reads these images?
> It's
> too much manual trouble to use outside software. It's especially infeasible
> if
> these become a routine task with many images.
...
> -----Original Message-----
> From: Roger Peng [mailto:rpeng at stat.ucla.edu]
> Sent: Monday, March 11, 2002 5:43 PM
> To: jonathan_li at agilent.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] gif, jpeg and png image files reader
> 
> 
> The pixmap package has functions for reading pnm (portable anymap) files,
> but you still need an outside software to convert (like ImageMagick).   
> -------

The ImageMagick suite Roger Peng was refering to can be run from the
command line, so automating this with a wrapper in R isn't too hard
(though tricky to do in a portable way).   There are also C, C++, Perl,
and Java interfaces to ImageMagick, so you could do it the more
robust and secure way (what's below is quick and dirty, though 
it works for me).

You can get ImageMagick from http://www.imagemagick.org/

This works so far on my Linux box.  I've tried it for gif, jpg, png, 
xpm, and postscript images.  Convert will handle many more formats too.
Just give it the filename of the image, optionally the path to the 
"convert" command, and any additional arguments to "convert" - rarely 
needed, as convert is *extremely* clever at working out image formats.

###BARELY TESTED CODE!!!  PROBABLY HAS BUGS!!!
## requires the "convert" program from ImageMagick
##to be available to the user.  ImageMagick can be
##obtained from http://www.imagemagick.org/

read.image <- function(file, imdir="/usr/X11R6/bin/",...) { 

	if(!require(pixmap)) stop("library pixmap required and not found\n")
        
        newfile <- tempfile() ##note the race condition on this line and next
        cmd <- paste(sep="",imdir,"convert ", ... ," ",file," pnm:",newfile)

        retval <- system(cmd)
        if(retval != 0) { 
                errmsg <- paste("system command",cmd,"failed with error code",
                        retval,"\n")
                stop(errmsg)
        }
        p1 <- read.pnm(newfile)
	unlink(newfile)
        p1
} 

Also, IIRC, R has specific instructions on startup on how to deal with
things if the above isn't enough....  lesse here....  ah, yes:
"R is a collaborative project with many contributors."  
Or, to (mis?) quote Ghandi: "Be the change you seek in the world."

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Tue Mar 12 23:23:36 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Tue, 12 Mar 2002 22:23:36 +0000
Subject: [R] mathematical expression in legend
Message-ID: <3C8E7FE8.1F08F4FC@icrf.icnet.uk>

Hello,

I'm trying to put a mathematical expression into a legend, but R
complains about a syntax error. Basically i'd like to do this:

legend.text = c(expression(x < 10), expression(x >= 10))

The manual says that one can only pass mathematical expressions to axis,
text etc. but not to the legend command?

Is there a workaround for this?

	thanks a lot for help,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brian.J.GREGOR at odot.state.or.us  Tue Mar 12 23:55:44 2002
From: Brian.J.GREGOR at odot.state.or.us (Brian.J.GREGOR@odot.state.or.us)
Date: Tue, 12 Mar 2002 14:55:44 -0800
Subject: [R] RArcInfo Package, get.bnddata()
Message-ID: <372EFF9FE4E42E419C978E7A305DC5FE3343B8@EXSALEM5.highway.odot.state.or.us>

I am having trouble using get.bnddata() in the RArcInfo package.  I
installed the version 0.2 binary of the package for Windows and am using R
1.4.1 on Windows NT 4.0.  I have had no problems importing and plotting arc
data with get.arcdata() and plotarc().  plotpal() also works fine.  I've
been able to use get.arcdata(), get.labdata(), get.paldata(),
get.tablenames(), get.tablefields(), get.tabledata().  When I try
get.bnddata() as follows, I get an error:
	> wet.bnd <- get.bnddata("wetlands\\info", "WETLANDS.BND")
	Error in get.bnddata("wetlands\\info", "WETLANDS.BND") : Couldn't
open table

get.tablenames() shows that the table exists
	                         TableName InfoFile NFields RecSize NRecords
External
	1 WETLANDS.BND                      ARC0000       1      16        1
FALSE
	2 WETLANDS.PAT                      ARC0001       1      26      355
FALSE
	3 WETLANDS.TIC 

and if I use get.tabledata() the table will open (but the values are set to
zero)
	> wet.bnd <- get.tabledata("wetlands\\info", "WETLANDS.BND")
	> wet.bnd
	$"XMIN            "
	[1] 0

	$"YMIN            "
	[1] 0
	
	$"XMAX            "
	[1] 0
	
	$"YMAX            "
	[1] 0

I'm probably overlooking something simple.  What might it be?

Also, is it possible to change the extent of the view; perhaps by changing
the boundary values?

Thanks in advance.

Brian Gregor, P.E.
Transportation Planning Analysis Unit
Oregon Department of Transportation
Brian.J.GREGOR at odot.state.or.us
(503) 986-4120
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Mar 13 00:48:11 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 13 Mar 2002 12:48:11 +1300
Subject: [R] mathematical expression in legend
References: <3C8E7FE8.1F08F4FC@icrf.icnet.uk>
Message-ID: <007701c1ca20$5e7d2ab0$7632d882@stat.auckland.ac.nz>

Hi


> I'm trying to put a mathematical expression into a legend, but R
> complains about a syntax error. Basically i'd like to do this:
>
> legend.text = c(expression(x < 10), expression(x >= 10))


The following works for me on 1.4.0 (yukky alignment which should be fixed
in 1.4.1) ...

    plot(1:20, pch=rep(1:2, c(9, 11)))
    legend(6, 4, c(expression(x < 10), expression(x >= 10)), pch=1:2)


> The manual says that one can only pass mathematical expressions to axis,
> text etc. but not to the legend command?


Could you let us know where it says that -- sounds like it will need fixing.
Thanks.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Wed Mar 13 01:03:54 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Tue, 12 Mar 2002 16:03:54 -0800
Subject: [R] writing fortran routines
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8877@mayo.cerep.com>

Are there more detailed documentations for writing fortran routines than
"doc/manual/R-exts.html", or some examples of such routines available?
Thanks in advance for any help/pointers.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mueller at cancer.org.uk  Wed Mar 13 02:31:43 2002
From: mueller at cancer.org.uk (Arne Mueller)
Date: Wed, 13 Mar 2002 01:31:43 +0000 (GMT)
Subject: [R] mathematical expression in legend
In-Reply-To: <007701c1ca20$5e7d2ab0$7632d882@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.3.96.1020313011354.29416A-100000@magic>



On Wed, 13 Mar 2002, Paul Murrell wrote:

> Hi
> 
> 
> > I'm trying to put a mathematical expression into a legend, but R
> > complains about a syntax error. Basically i'd like to do this:
> >
> > legend.text = c(expression(x < 10), expression(x >= 10))
> 
> 
> The following works for me on 1.4.0 (yukky alignment which should be fixed
> in 1.4.1) ...

Hi,

yes, thanks, the stuff below does what I want. However, the legend text is
now shifted to the top relative to the symbols of the legend. This
probably what you mean with 'yukky' alignment? I'm running 1.4.1 :-(

>     plot(1:20, pch=rep(1:2, c(9, 11)))
>     legend(6, 4, c(expression(x < 10), expression(x >= 10)), pch=1:2)
> 
> 
> > The manual says that one can only pass mathematical expressions to axis,
> > text etc. but not to the legend command?
> 
> 
> Could you let us know where it says that -- sounds like it will need fixing.
> Thanks.

I found it under help('plotmath')

...
     If the `text' argument to one of the text-drawing functions
     (`text', `mtext', `axis') in R is an expression, the argument is
     interpreted as a mathematical expression and the output will be
     formatted according to TeX-like rules.  Expressions can also be
     used for titles, subtitles and x- and y-axis labels (but not for
     axis labels on `persp' plots).
...

it's probably just a misunderstanding, since it doesn't explicitely
include the legend funtion.

	thanks alot,

	Arne


> Paul
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Wed Mar 13 02:45:29 2002
From: rab at nauticom.net (rab)
Date: Tue, 12 Mar 2002 20:45:29 -0500
Subject: [R] aov  for a split plot design
References: <Pine.A41.4.44.0202201218530.127562-100000@homer04.u.washington.edu>
Message-ID: <3C8EAF39.8040509@nauticom.net>

I have data with factor A between subjects and factors B*C within 
subjects. The data are taken from an example in Kirk:

 > kirk.sp
   subject A B C response
1        1 1 1 1        3
2        1 1 1 2        4
3        1 1 2 1        7
4        1 1 2 2        7
5        2 1 1 1        6
6        2 1 1 2        5
7        2 1 2 1        8
8        2 1 2 2        8
9        3 1 1 1        3
10       3 1 1 2        4
11       3 1 2 1        7
12       3 1 2 2        9
13       4 1 1 1        3
14       4 1 1 2        3
15       4 1 2 1        6
16       4 1 2 2        8
17       5 2 1 1        1
18       5 2 1 2        2
19       5 2 2 1        5
20       5 2 2 2       10
21       6 2 1 1        2
22       6 2 1 2        3
23       6 2 2 1        6
24       6 2 2 2       10
25       7 2 1 1        2
26       7 2 1 2        4
27       7 2 2 1        5
28       7 2 2 2        9
29       8 2 1 1        2
30       8 2 1 2        3
31       8 2 2 1        6
32       8 2 2 2       11

There are eight subjects, 2 levels of A, 2 levels of B and 2 levels of C.

How does one set up the formula in aov to properly analyze this data? 
I've tried various representation using the Error function and nesting 
but I can't duplicate the analysis shown in Kirk (1968, p. 302, 
Experimental Design).

I would greatly appreciate any insights. I've looked at other split plot 
designs in V&R but can't translate it.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Mar 13 03:16:15 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 13 Mar 2002 15:16:15 +1300
Subject: [R] filled bars with patterns
References: <3C8C1C05.9020106@cancer.org.uk>
Message-ID: <00ca01c1ca35$0dcdc0b0$7632d882@stat.auckland.ac.nz>

Hi


> I've created a view stacked barplots where some of the bars should
> contain a pattern such as stripes. Adjacent bars of the same stack
> should have the same colour but a different finnling pattern. Is R able
> to do that?
>
> Anyway, it's not the end of the world if not, a workaround would be to
> export the plot in fig format and then using xfig to make the bar
> filling striped, dotted etc ...


Take a look at the last example of example(barplot) -- is this the sort of
thing you want to do?

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Mar 13 03:26:53 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 13 Mar 2002 15:26:53 +1300
Subject: [R] special characters/symbols
References: <0GSI00FGOW9O6M@Salicet.ucd.ie>
Message-ID: <00dc01c1ca36$8b0d8b90$7632d882@stat.auckland.ac.nz>

Hi


> Is there a way to print special characters (such as the IPA symbols) on
plots?


*Some* "special" characters (though not IPA) are available via Hershey
vector fonts -- see help(text).

To see what the Hershey vector fonts offer, type example(Hershey) [you might
want to type par(ask=TRUE) first].

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjohn at dogwood.botany.uga.edu  Wed Mar 13 04:54:54 2002
From: rjohn at dogwood.botany.uga.edu (Robert John)
Date: Tue, 12 Mar 2002 22:54:54 -0500 (EST)
Subject: [R] R for Macs
Message-ID: <Pine.LNX.4.33.0203122242040.29401-100000@dogwood.botany.uga.edu>


I am running R 1.4.1 on a Mac. I have not figured out how to interrupt a
program that is running.

On another problem, I could not load some of the packages like "dse" and
"gregmisc". I downloaded and extracted into the library folder and then
tried to load using "library(pkgs)". This worked perfectly for some other
packages like "nlme", etc. I tried install.packages(pkgs) too, but I dont
seem to have that function at all.

Any suggestions how I could deal with this.


-- 
Robert John
Department of Botany
3506 Miller Plant Sciences Building
University of Georgia
Athens, GA 30602
Phone: (706)-583-0943


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janef at stat.berkeley.edu  Wed Mar 13 05:03:03 2002
From: janef at stat.berkeley.edu (Jane Fridlyand)
Date: Tue, 12 Mar 2002 20:03:03 -0800 (PST)
Subject: [R] permax package
Message-ID: <Pine.SOL.4.31.0203121953560.13297-100000@toto.Berkeley.EDU>


Hi, I am having a problem using permax/permcor functions from permax
package.

For the variables that are constant among classes (two classes in my
case),  permutation-based p-value of 0 is outputted.

Artificial Example:

rsp_c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0
,1, 0, 1, 1, 0, 0, 0, 0, 0)

library(permax)
tmp_rbind(rep(1,32), matrix(rnorm(32*1000), ncol=32))
try_permax(data=as.data.frame(tmp), ig1=(1:length(rsp))[rsp==0], nperm=10,
logs=F, ranks=T, min.np=1, ig2=(1:length(rsp))[rsp==1], WHseed=NULL)

> try$p2[1]
[1] 0

summary(try$p2[-1])
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
 0.5000  1.0000  1.0000  0.9991  1.0000  1.0000

Is it intended to be that way or is it a bug?

I also wanted to doublecheck:

objects $p2, $p.lower and $p.upper outputted by the permax package
functions correspond to permutation-based p-values where empirical
distribution under null is constructed by permuting labels at random and
taking maximum (minimum) statistic at each permutation -- is it correct? I
seem to be getting fewer significant variables when applying my own (much
slower) functions with the same number of permutations.

Thank you very much

Jane

ps i am using the latest versions of R and of permax





**************************************************************************************
Jane Fridlyand, Postdoctoral Scientist
UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
**************************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mueller at cancer.org.uk  Wed Mar 13 05:08:46 2002
From: mueller at cancer.org.uk (Arne Mueller)
Date: Wed, 13 Mar 2002 04:08:46 +0000 (GMT)
Subject: [R] filled bars with patterns
In-Reply-To: <00ca01c1ca35$0dcdc0b0$7632d882@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.3.96.1020313040441.2280B-100000@magic>


Hi,

yes, that's sort of what I was looking for. But I've to mix filled bars
with striped bars in a stacked barplot. I could just set the density for
the completely filled bars to something realy high (1000) but it's realy
slow to draw. Is there a way to mix stiped bars and filled pars in the
same plot?

I've done something like this:

barplot(m, beside = FALSE, horiz = TRUE, density = c(-1,10,-1,10,-1,10),
	xlab = "fraction of genome",
	col = cols, xlim = c(0,100), axes = FALSE)

	thanks a lot,

	Arne


On Wed, 13 Mar 2002, Paul Murrell wrote:

> Hi
> 
> 
> > I've created a view stacked barplots where some of the bars should
> > contain a pattern such as stripes. Adjacent bars of the same stack
> > should have the same colour but a different finnling pattern. Is R able
> > to do that?
> >
> > Anyway, it's not the end of the world if not, a workaround would be to
> > export the plot in fig format and then using xfig to make the bar
> > filling striped, dotted etc ...
> 
> 
> Take a look at the last example of example(barplot) -- is this the sort of
> thing you want to do?
> 
> Paul
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Wed Mar 13 05:49:37 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Tue, 12 Mar 2002 20:49:37 -0800
Subject: [R] Error: subscript out of bounds
Message-ID: <3C8EDA61.3D8CD1CB@lbl.gov>

How can locate in my  program an error of that kind (Error: subscript
out of bounds)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Wed Mar 13 06:03:00 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Tue, 12 Mar 2002 21:03:00 -0800
Subject: [R] How useful is iESS mode for emacs? 
Message-ID: <3C8EDD84.9E5D885F@lbl.gov>

I would like some feedback about how useful is the iESS mode to run R in
Xemacs/emacs?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 13 06:23:31 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 13 Mar 2002 18:23:31 +1300
Subject: [R] Index value from within function used by "by"
Message-ID: <20020313182331.A2964@camille.indigoindustrial.co.nz>

I'm using by() to call pairs(), and would like to put the factor
level into the title.  A toy example would be something like:


> d1 <- data.frame(rnorm(100),rt(100,2),sin(1:100))
> levs <- as.factor(rep(1:5,20))
> levels(levs) <- c("low","med-lo","med","med-hi","high")
> by(d1,levs,pairs)

Is there an elegant way to get "low"..."high" in the main title for
each plot, without binding "levs" to the data sent to a custom plot 
function?  i.e. without something like...

my.pairs(data.frame(levs,d1)

where

my.pairs <- function(df,...) {
	main.title <- unique(df[1])
	pairs(df[-1],main=main.title)
}

which works, but bothers me.  
	
Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Wed Mar 13 07:00:37 2002
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Wed, 13 Mar 2002 16:00:37 +1000
Subject: [R] aov  for a split plot design
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1745@Roper-CV.qld.cmis.csiro.au>

I don't have Kirk but with your data in file "Kirk.txt" in the working
directory, here is how I would do it.

---
> Kirk <- read.table("Kirk.txt")
> names(Kirk)
[1] "subject"  "A"        "B"        "C"        "response"
> for(j in 1:4) Kirk[,j] <- factor(Kirk[,j])  ### Check this!
> fm <- aov(response ~ A*B*C + Error(subject), Kirk)
> summary(fm)

Error: subject
          Df Sum Sq Mean Sq F value Pr(>F)
A          1 3.1250  3.1250       2 0.2070
Residuals  6 9.3750  1.5625               

Error: Within
          Df  Sum Sq Mean Sq  F value    Pr(>F)
B          1 162.000 162.000 319.5616 6.626e-13
C          1  24.500  24.500  48.3288 1.704e-06
A:B        1   6.125   6.125  12.0822 0.0026970
A:C        1  10.125  10.125  19.9726 0.0002966
B:C        1   8.000   8.000  15.7808 0.0008929
A:B:C      1   3.125   3.125   6.1644 0.0231183
Residuals 18   9.125   0.507                   
>
---

An alternative formula would be response ~ A/(B*C) + Error(subject), which
would only change things by grouping together some of the sums of squares.

In my experience the most common mistake people make with this kind of
example is way before the analysis stage.  They forget to make the factors
into factors.  This would not matter much here for A, B and C since they are
only binary, but if subject were not declared a factor the result would be
very different (and quite silly).

Bill Venables.



-----Original Message-----
From: rab [mailto:rab at nauticom.net]
Sent: Wednesday, March 13, 2002 11:45 AM
To: r-help at stat.math.ethz.ch
Subject: [R] aov for a split plot design


I have data with factor A between subjects and factors B*C within 
subjects. The data are taken from an example in Kirk:

 > kirk.sp
   subject A B C response
1        1 1 1 1        3
2        1 1 1 2        4
3        1 1 2 1        7
4        1 1 2 2        7
5        2 1 1 1        6
6        2 1 1 2        5
7        2 1 2 1        8
8        2 1 2 2        8
9        3 1 1 1        3
10       3 1 1 2        4
11       3 1 2 1        7
12       3 1 2 2        9
13       4 1 1 1        3
14       4 1 1 2        3
15       4 1 2 1        6
16       4 1 2 2        8
17       5 2 1 1        1
18       5 2 1 2        2
19       5 2 2 1        5
20       5 2 2 2       10
21       6 2 1 1        2
22       6 2 1 2        3
23       6 2 2 1        6
24       6 2 2 2       10
25       7 2 1 1        2
26       7 2 1 2        4
27       7 2 2 1        5
28       7 2 2 2        9
29       8 2 1 1        2
30       8 2 1 2        3
31       8 2 2 1        6
32       8 2 2 2       11

There are eight subjects, 2 levels of A, 2 levels of B and 2 levels of C.

How does one set up the formula in aov to properly analyze this data? 
I've tried various representation using the Error function and nesting 
but I can't duplicate the analysis shown in Kirk (1968, p. 302, 
Experimental Design).

I would greatly appreciate any insights. I've looked at other split plot 
designs in V&R but can't translate it.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Wed Mar 13 07:10:04 2002
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Wed, 13 Mar 2002 16:10:04 +1000
Subject: [R] Error: subscript out of bounds
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1746@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Francisco J Molina [mailto:FJMolina at lbl.gov] 
> Sent:	Wednesday, March 13, 2002 2:50 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] Error: subscript out of bounds
> 
> How can locate in my  program an error of that kind (Error: subscript
> out of bounds)?

By debugging it?

(I think I have been hanging around with Brian Ripley for too long... :-)

W.

>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mdsohn at lbl.gov  Wed Mar 13 07:10:30 2002
From: mdsohn at lbl.gov (Michael D. Sohn)
Date: Tue, 12 Mar 2002 22:10:30 -0800
Subject: [R] win.metafile and multiple plots
Message-ID: <3C8EED56.5A0B7776@lbl.gov>


I'm having difficulty using the win.metafile command.  I'd like to place
three plots in one window and then save the window as a metafile.  The
commands I want to use are:

win.metafile("mike.emf",width=3,height=2,pointsize=10)
nf <- layout(matrix(c(1,2,3), 3, 1), heights=c(1,1,1))
layout.show(nf)
plot(rnorm(10))
plot(rnorm(10))
plot(rnorm(10))
dev.off()

However, I get the error:
Error in plot.new() : A metafile can store only one figure.

after the first plot.  Any suggestions?

thanks,
Mike


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 07:25:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 13 Mar 2002 06:25:23 +0000 (GMT)
Subject: [R] writing fortran routines
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF8877@mayo.cerep.com>
Message-ID: <Pine.GSO.4.44.0203130622160.12959-100000@auk.stats>

On Tue, 12 Mar 2002, Boryeu Mao wrote:

> Are there more detailed documentations for writing fortran routines than
> "doc/manual/R-exts.html", or some examples of such routines available?
> Thanks in advance for any help/pointers.

Well, for `documentations for writing fortran routines', consult a Fortran
book.

For examples of using Fortran with R, see the version of that manual in
R-devel, or `S Programming' or tens of the packages on CRAN: the base
packages modreg and ts use Fortran, as does the recommended package
KernSmooth.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Wed Mar 13 07:56:17 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue, 12 Mar 2002 23:56:17 -0700
Subject: [R] problems compiling R-devel packages in Windows
Message-ID: <5.1.0.14.2.20020312234349.03992d98@a.paloma.com>

I'm trying (for the first time) to compile R-devel on my Windows2000 machine.

I retrieved the most recent r-devel sources using rsync.
I retrieved the R-tools and MinGW and made appropriate modifications to my 
path (I'm using cygwin):
$ type make
make is hashed (/c/netsrc/R-devel/tools/make)
$ type gcc
gcc is /c/mingw/bin/gcc
$ type hhc.exe
hhc.exe is /c/Program Files/HTML Help Workshop/hhc.exe
$ perl --version

This is perl, v5.6.1 built for MSWin32-x86-multi-thread
(with 1 registered patch, see perl -V for more detail)

Copyright 1987-2001, Larry Wall

Binary build 630 provided by ActiveState Tool Corp. http://www.ActiveState.com
Built 20:29:41 Oct 31 2001

I ran ./configure from the top level.
Then I cd'ed to src/gnuwin32 and ran make.

Things work OK until it comes to compiling packages; I get the same types 
of errors on all the packages (I tried make -k):

---------- Making package ts ------------
mkdir -p c:/netsrc/R-devel/R/library/ts
cp -r   ./INDEX  ./TITLE ./Makefile ./SOURCES c:/netsrc/R-devel/R/library/ts/
   making DLL
make[3]: Entering directory `/c/netsrc/R-devel/R/src/library/ts/src'
../../../../etc/Makeconf:61: warning: overriding commands for target `.c.o'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:92: warning: ignoring old commands for
target `.c.o'
../../../../etc/Makeconf:63: warning: overriding commands for target `.c.d'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:88: warning: ignoring old commands for
target `.c.d'
../../../../etc/Makeconf:70: warning: overriding commands for target `.cc.o'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:98: warning: ignoring old commands for
target `.cc.o'
../../../../etc/Makeconf:72: warning: overriding commands for target `.cpp.o'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:101: warning: ignoring old 
commands for
  target `.cpp.o'
../../../../etc/Makeconf:74: warning: overriding commands for target `.C.o'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:104: warning: ignoring old 
commands for
  target `.C.o'
../../../../etc/Makeconf:96: warning: overriding commands for target `.f.o'
c:/netsrc/R-devel/R/src/gnuwin32/MkRules:95: warning: ignoring old commands for
target `.f.o'
making PPsum.d from PPsum.c
making arima.d from arima.c
making burg.d from burg.c
making carray.d from carray.c
making filter.d from filter.c
making init.d from init.c
making mburg.d from mburg.c
making myw.d from myw.c
making pacf.d from pacf.c
making qr.d from qr.c
making starma.d from starma.c
(diff R.exp R.exp1 > /dev/null) || cp R.exp1 R.exp
ar cr ts.a *.o
c:\mingw\bin\ar.exe: *.o: Invalid argument
make[3]: *** [ts.a] Error 1

Any suggestions on what I need to do to get this to compile properly?  I 
looked in src/gnuwin32/MkRules, but there doesn't seem to be anything I 
need to change in there.

thanks,

Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Wed Mar 13 08:40:00 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Wed, 13 Mar 2002 08:40:00 +0100
Subject: [R] barplots with std-error
Message-ID: <3C8F0250.3070303@tuebingen.mpg.de>

hi,

i am trying to generate nice barplots with std-errors.
do i really have to generate the std-errors myself by the segments() 
command ?

thanks for help,
jan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mdsohn at lbl.gov  Wed Mar 13 08:48:24 2002
From: mdsohn at lbl.gov (Michael D. Sohn)
Date: Tue, 12 Mar 2002 23:48:24 -0800
Subject: [R] controlling figure dimension/location
Message-ID: <3C8F0448.8EEF6C0D@lbl.gov>

I'm making two plots, one on top of the other.  On the upper plot, I do
not print the x-label or the x-tick-label.  To reduce space, I'd like to
keep the white space between the two figures at a minimum.  However, I
can't figure out how to methodically reduce the space while maintaining
the same figure dimensions for both plots.  I could add margin space
below the lower plot and reduce space above the lower plot but that
leaves a bunch of whitespace at the bottom of the figure.  What command
am I missing?
thanks,
Mike

Example commands:
mypar <- par(no.readonly=T)
par(mfcol=c(2,1))
par(mar=c(5,4,1,1))
plot(rnorm(100), ylim=c(-3,3), xlab="", axes=F)
axis(1, at=seq(0,100,20), labels=c("","","","","",""))
axis(2, at=seq(-3,3,1))
box()
plot(rnorm(100), ylim=c(-3,3), axes=F)
axis(1, at=seq(0,100,20))
axis(2, at=seq(-3,3,1))
box()
par(mypar)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar 13 08:58:44 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 13 Mar 2002 08:58:44 +0100
Subject: [R] mathematical expression in legend
References: <Pine.GSO.3.96.1020313011354.29416A-100000@magic>
Message-ID: <3C8F06B4.F59E84B3@statistik.uni-dortmund.de>

Arne Mueller wrote:
> 
> On Wed, 13 Mar 2002, Paul Murrell wrote:
> 
> > Hi
> >
> >
> > > I'm trying to put a mathematical expression into a legend, but R
> > > complains about a syntax error. Basically i'd like to do this:
> > >
> > > legend.text = c(expression(x < 10), expression(x >= 10))
> >
> >
> > The following works for me on 1.4.0 (yukky alignment which should be fixed
> > in 1.4.1) ...
> 
> Hi,
> 
> yes, thanks, the stuff below does what I want. However, the legend text is
> now shifted to the top relative to the symbols of the legend. This
> probably what you mean with 'yukky' alignment? I'm running 1.4.1 :-(

Paul himself fixed the bug on Feb 12 for R-devel (to be 1.5.0 on April
29, as far as I know).
R-1.4.1 was released on Jan 30.

As a workaround specify the adjustment manually:
 legend(..., adj=c(0, 0.5))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Mar 13 08:59:48 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 13 Mar 2002 08:59:48 +0100
Subject: [R] Error: subscript out of bounds
References: <3C8EDA61.3D8CD1CB@lbl.gov>
Message-ID: <3C8F06F4.CD326CF2@atmos.umnw.ethz.ch>

Hallo Francisco,

you have to debug your function. If you want to go stepwise through it
use debug(functionname) and then functionname(all the arguments). If you
know, that the first part of your function is propper, set a browser()
after this part and start your function like every day. If R reach this
statement, it will switch into the debug mode. More infos under ?browser
?debug

Hope it helps

gruess

joerg

Francisco J Molina wrote:
> 
> How can locate in my  program an error of that kind (Error: subscript
> out of bounds)?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar 13 10:03:17 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 13 Mar 2002 10:03:17 +0100
Subject: [R] controlling figure dimension/location
References: <3C8F0448.8EEF6C0D@lbl.gov>
Message-ID: <3C8F15D5.84378E9E@statistik.uni-dortmund.de>

"Michael D. Sohn" wrote:
> 
> I'm making two plots, one on top of the other.  On the upper plot, I do
> not print the x-label or the x-tick-label.  To reduce space, I'd like to
> keep the white space between the two figures at a minimum.  However, I
> can't figure out how to methodically reduce the space while maintaining
> the same figure dimensions for both plots.  I could add margin space
> below the lower plot and reduce space above the lower plot but that
> leaves a bunch of whitespace at the bottom of the figure.  What command
> am I missing?
> thanks,
> Mike
> 
> Example commands:
> mypar <- par(no.readonly=T)
> par(mfcol=c(2,1))
> par(mar=c(5,4,1,1))
> plot(rnorm(100), ylim=c(-3,3), xlab="", axes=F)
> axis(1, at=seq(0,100,20), labels=c("","","","","",""))
> axis(2, at=seq(-3,3,1))
> box()
> plot(rnorm(100), ylim=c(-3,3), axes=F)
> axis(1, at=seq(0,100,20))
> axis(2, at=seq(-3,3,1))
> box()
> par(mypar)


So you need more vertical space for the second than for the first plot. 
I would suggest to play with layout() and par(mar=...), but I'm not sure
whether it is easy to calculate the distances *exactly*. Other
suggestions are welcome.


If you'll need only one figure of that kind, just use something like

 par(mfcol=c(2,1))
 par(mar=c(0.5,4,5,1)) ##### changed
 plot(rnorm(100), ylim=c(-3,3), xlab="", axes=F)
 axis(1, at=seq(0,100,20), labels=c("","","","","",""))
 axis(2, at=seq(-3,3,1))
 box()
 par(mar=c(5,4,0.5,1)) ####### added
 plot(rnorm(100), ylim=c(-3,3), axes=F)
 axis(1, at=seq(0,100,20))
 axis(2, at=seq(-3,3,1))
 box()

and cut off the unused spaces with another appropriate software after
that.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mm14ss at yahoo.it  Wed Mar 13 10:20:07 2002
From: mm14ss at yahoo.it (Massimo Santini - mailing list address)
Date: Wed, 13 Mar 2002 10:20:07 +0100 (CET)
Subject: [R] interval data 
In-Reply-To: <3C8EDA61.3D8CD1CB@lbl.gov>
Message-ID: <Pine.LNX.4.33.0203131014330.3971-100000@localhost.localdomain>

Hi,
	I'm woring on some "interval data" obtained from sampling (i.e.,
something like the results returned by cut() on continuous valued data).

I'm looking for a package to operate on such data, for example computing
the mean, the (empirical) cumulative distribution function, histograms and
the like.

Evidently should't be that difficult to write those functions myself, but
I'm wondering if something similar has already been developed.

Thank you for any hint,

	Massimo Santini



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Wed Mar 13 11:38:46 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Wed, 13 Mar 2002 10:38:46 -0000
Subject: [R] New version of read.spss requires scripts to be re-written
References: <3B671A34.231A557B@alvie-mail.lanl.gov> <x27kwo238s.fsf@blueberry.kubism.ku.dk>
Message-ID: <00fc01c1ca7b$4164d580$f2e1f380@nottingham.ac.uk>

Hi there. I'm delighted to see that the latest version of read.spss imports
categorical value labels, but in doing so causes trouble if most of the
values of a variable are continuous measures (eg. weight in kg), and just a
few are categorical (eg. -3 not measured -2 not applicable etc.), as we've
been warned.

Effectively the default function is now different. Old scripts that worked
now need editing.

I suppose that the lack of value label handling in the old read.spss was a
bug, so any improvements should be the default. However, the current
function 'doesn't work any more'.
(It may again when read.spss' handling of this sort of variable is further
upgraded)

Is there any agreement as to whether updated functions should be
backwards-compatible by default?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Mar 13 11:53:12 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 13 Mar 2002 11:53:12 +0100 (MET)
Subject: [R] gif, jpeg and png image files reader
In-Reply-To: <MAEBJBMCBLHCLJHMPPBNIEACCAAA.jonathan_li@agilent.com>
Message-ID: <Pine.OSF.3.96.1020313095821.6580A-100000@ija.csic.es>


Jonathan,

Although I see your point, perhaps developing a
comprehensive package in R for image processing would not be
the best solution. We cannot expect R to do
everything. From my point of view, a transparent
link to other gnu software might be better. This is
also the case for GIS, which although very useful
in combination with R, is not really statistics.
R is already very large, so much that we are all
beginers as soon as we move a bit from what we
normally do. I'd be careful at increasing
heterogeneity too much, because maintenace, management,
documentation... might become impossible. The
R team, to whom all R users must be thankful, already
has a phenomenal task.

If you need to import many images, you can use 
packages that transform from the command
line, so you can make an R function that
transforms the images to pnm using system(), and
then use the pixmap functions. 

I've made some functions to have a minimal 
functionality in R to display and explore 
matrices as images (grey and rgb). Let me
know if these could help you.

A better approach might be using the 
new RPy, as Python has an image processing
library (PIL). It used to have as well an
extensive image processing add-on, called
PythonMagick, but I think that this
is no longer available.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Tue, 12 Mar 2002, Jonathan Q. Li wrote:

> Yah, but what if I need to write a package in R that reads these images?
> It's
> too much manual trouble to use outside software. It's especially infeasible
> if
> these become a routine task with many images.
> I think that here may be a place to make an improvement to R.
> I, for one, can certainly appreciate the use of such reader functions. Are
> there any one else
> who felt the same way?
> 
> Jonathan
> 
> -----Original Message-----
> From: Roger Peng [mailto:rpeng at stat.ucla.edu]
> Sent: Monday, March 11, 2002 5:43 PM
> To: jonathan_li at agilent.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] gif, jpeg and png image files reader
> 
> 
> The pixmap package has functions for reading pnm (portable anymap) files,
> but you still need an outside software to convert (like ImageMagick).
> 
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
> 
> On Mon, 11 Mar 2002, jonathan_li at agilent.com wrote:
> 
> > Hi all,
> >
> > Although R seems to have jpeg() and png() functions that converts data
> into
> > jpeg and png formated files, it
> > doesn't have functions the other way around.
> > Does one of R contributed packages have gif, jpeg and png image readers? I
> > did help.search() but no luck
> >
> > Regards,
> > Jonathan
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Wed Mar 13 11:44:38 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 13 Mar 2002 05:44:38 -0500
Subject: [R] barplots with std-error
In-Reply-To: <3C8F0250.3070303@tuebingen.mpg.de>
Message-ID: <5.1.0.14.2.20020313053743.04ca6970@po.muohio.edu>

Jan,
I know what you mean - it seems like a unnecessary pain. BUT, (to repeat 
the mantra) R is a programming language and it is not too hard to make such 
a function (check archives for plotCI by Ben Bolker, based on code by B. 
Venables) or to write the code for one time use (see 
http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html Maintained by Paul Johnson).

At 08:40 AM 3/13/2002 +0100, Jan Malte Wiener wrote:
>hi,
>
>i am trying to generate nice barplots with std-errors.
>do i really have to generate the std-errors myself by the segments() command ?
>
>thanks for help,
>jan
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Tel: (513) 529-4206
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Wed Mar 13 11:46:47 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Wed, 13 Mar 2002 10:46:47 +0000 (GMT)
Subject: [R] controlling figure dimension/location
In-Reply-To: <3C8F15D5.84378E9E@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.10.10203131040040.2016-100000@localhost.localdomain>



On Wed, 13 Mar 2002, Uwe Ligges wrote:

> "Michael D. Sohn" wrote:
> > 
> > I'm making two plots, one on top of the other.  On the upper plot, I do
> > not print the x-label or the x-tick-label.  To reduce space, I'd like to
> > keep the white space between the two figures at a minimum.  However, I
> > can't figure out how to methodically reduce the space while maintaining
> > the same figure dimensions for both plots.  I could add margin space
> > below the lower plot and reduce space above the lower plot but that
> > leaves a bunch of whitespace at the bottom of the figure.  What command
> > am I missing?

I too would be greatly interested in being able to do this. For example if
you have two plots stacked on top of each other, you would have only the
ticks on the x-axis of the top plot and the full axis labels and title on
the bottom plot. The size of the two plots must remain the same.

So far as I know, this is not possible with R. What I have been doing is
quite unsatisfactory: set the margins to the minimum acceptable. However
this still leaves too much whitespace between the plots. If you really are
motivated you can convert the figure from postscript to xfig or tgif
format then edit manually. Not a great solution...

pstoedit        convert .ps file to tgif for editing:
                        pstoedit -f tgif fig1.ps fig1.obj


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Mar 13 11:57:49 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 13 Mar 2002 11:57:49 +0100 (MET)
Subject: [R] R matrix to Python
Message-ID: <Pine.OSF.3.96.1020313112040.6580F-100000@ija.csic.es>


I'm trying to export an R (1.4.0 on linux) matrix to python
(+Pyclimate) via a binary file. The problem is
that while R writes by columns, python reads
by rows. For a 2D matrix, there is no problem:
writeBin writes vectors, so 
writeBin(t(x)[1:length(x)],...) works fine.

But the objects I want to export are 3D arrays
(slice rasters of lat,lon for each time t). 
One way is to use a loop over the
3rd dimension and transpose for each slice, but I've
been trying to do something more efficient avoiding the
loop. No luck by now, as changing dim(x) to c(dim(x)[2],
dim(x)[1]*dim(x)[3]) does not solve the problem.
Does anybody have any suggestion?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.whiting at ncl.ac.uk  Wed Mar 13 19:58:06 2002
From: david.whiting at ncl.ac.uk (david.whiting@ncl.ac.uk)
Date: Wed, 13 Mar 2002 13:58:06 -0500
Subject: [R] How useful is iESS mode for emacs?
In-Reply-To: <3C8EDD84.9E5D885F@lbl.gov>
References: <3C8EDD84.9E5D885F@lbl.gov>
Message-ID: <20020313135806.A14018@192.168.57.2>

Hi,

For a while I had been trying to avoid learning emacs (I got into vi,
liked it and didn't want to mess with this C-x M-x C-c etc nonsense). I
couldn't find a way to get R to work intimately with vi, so I recently
decided I needed give ess a go. I have been working with it for about a
total of 6 hours and I have a strong feeling that I am going to get very
hooked (so to speak) on emacs and ess. It didn't take me long at all to
get used to C-x C-keystroke, M-x etc (it's not nonsense at all). You
only really have to learn a few key editing features to started and then
it seems that it is possible to do almost anything once you get more
comfortable. 

Make sure you take the advice of the docs and save a "transcript" (with
the appropriate extension) as this will make certain transcript-specific
features available. For example, it is very handy to be able to select a
region of commands and clean it to remove all but the functions ready to
be used to create a program. 

I am not sure from your email if you already use emacs or not. If you
do, then you will find that ess makes life easier immediately. If not,
then like me you will spend a short while wondering how to do the most
simple things, but after a short investment find it worthwhile. Below I
have attached a short crib sheet I made as I started to learn emacs with
R. You will notice that most of the notes are related to emacs rather
than R because once I understand enough of emacs I was able to open the
R help in another buffer and refer to that.


HTH

Dave


------------
Some key keys to get me started in emacs. My particular interest is to
be learn to use ESS.

R:
------
M-x R			Start R session
M-ENTER			resubmit command and place cursor at beginning
			of next command



Help:
----
C-h b			List of key bindings. Use / to search for regexp
C-h m			Mode based help, i.e. context specific help


File stuff:
---------
C-x C-f			'Visit' a file, including creating a new file
C-x C-s			Save buffer
C-x C-c			Save buffers, kill emacs


Editing:
-------
C-_			Undo
ESC d			kill word
ESC DEL			kill word backwards
C-y 			paste
C-space			start to select a region (mark)


Buffers:
-------
C-x C-b			list buffers (in another buffer)
C-x b <buffer name>	change to a specific buffer
C-x 1			make this buffer fill the whole screen
C-x 2			split screen into two 
C-x o			select the other buffer when screen is split
C-x k <buffer name>	kill a buffer


Combinations:
-----------
C-x C-b C-x o <select buffer> RET	

This will list the buffers, take you to the buffer list, then you select
a buffer and press RET to enter the buffer.





On Tue, Mar 12, 2002 at 09:03:00PM -0800, Francisco J Molina wrote:
> I would like some feedback about how useful is the iESS mode to run R in
> Xemacs/emacs?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dave Whiting
Dar es Salaam, Tanzania
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Mar 13 12:04:52 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 13 Mar 2002 12:04:52 +0100
Subject: [R] R matrix to Python
In-Reply-To: <Pine.OSF.3.96.1020313112040.6580F-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020313112040.6580F-100000@ija.csic.es>
Message-ID: <15503.12884.979891.252596@gargle.gargle.HOWL>

>>>>> "AgusL" == Agustin Lobo <alobo at ija.csic.es> writes:

    AgusL> I'm trying to export an R (1.4.0 on linux) matrix to
    AgusL> python (+Pyclimate) via a binary file. The problem is
    AgusL> that while R writes by columns, python reads by
    AgusL> rows. For a 2D matrix, there is no problem: writeBin
    AgusL> writes vectors, so writeBin(t(x)[1:length(x)],...)
    AgusL> works fine.

    AgusL> But the objects I want to export are 3D arrays (slice
    AgusL> rasters of lat,lon for each time t).  One way is to
    AgusL> use a loop over the 3rd dimension and transpose for
    AgusL> each slice, but I've been trying to do something more
    AgusL> efficient avoiding the loop. No luck by now, as
    AgusL> changing dim(x) to c(dim(x)[2], dim(x)[1]*dim(x)[3])
    AgusL> does not solve the problem.  Does anybody have any
    AgusL> suggestion?

Yes: aperm() is the generalization of t().

Hence use it for higher rank arrays as you used t() for matrices.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Wed Mar 13 12:57:01 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Wed, 13 Mar 2002 12:57:01 +0100 (CET)
Subject: [R] How to read in dataframe from file
Message-ID: <Pine.LNX.4.33.0203131245390.27399-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I need to read in a dataframe stored in a cvs file. The problem is I don't
know how to tell R the first column (in format like "7-Jan-80") is a
vector of dates.
Could you help me, please?
Thanks.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8jz6R4TIZ2lmUAtsRAnF5AKCPpLZH2AEulYHkVybdC6Kim57Y0QCeLs6w
ckAw+YQw2wGpq3ku3g6pd0c=
=dnaE
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Mar 13 13:10:29 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 13 Mar 2002 13:10:29 +0100 (MET)
Subject: [R] Error: subscript out of bounds
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C1746@Roper-CV.qld.cmis.csiro.au>
Message-ID: <Pine.GSO.4.10.10203131303250.4942-100000@speed.maths.lth.se>

The first thing I normally do when I see an error is to call traceback()
to see the list of function calls, which generated the error, i.e.
the path of functions up to the error. This way you can find exactly
where the error exception is thrown. The you do debug(...) on that
function and try to backtrack *why* it happens, i.e. maybe one of calling
functions in the traceback() list passes erronous arguments. This might
require that you debug(...) other functions in the list. To undebug a
function, just to undebug(...) on that function. Don't forget to look at
help(debug).

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/



On Wed, 13 Mar 2002 Bill.Venables at CMIS.CSIRO.AU wrote:

> 
> 
> >  -----Original Message-----
> > From: 	Francisco J Molina [mailto:FJMolina at lbl.gov] 
> > Sent:	Wednesday, March 13, 2002 2:50 PM
> > To:	r-help at stat.math.ethz.ch
> > Subject:	[R] Error: subscript out of bounds
> > 
> > How can locate in my  program an error of that kind (Error: subscript
> > out of bounds)?
> 
> By debugging it?
> 
> (I think I have been hanging around with Brian Ripley for too long... :-)
> 
> W.
> 
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 13:22:49 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 13 Mar 2002 12:22:49 +0000 (GMT)
Subject: [R] How to read in dataframe from file
In-Reply-To: <Pine.LNX.4.33.0203131245390.27399-100000@x.opf.slu.cz>
Message-ID: <Pine.LNX.4.31.0203131215310.3962-100000@gannet.stats>

On Wed, 13 Mar 2002, Lukas Kubin wrote:

> I need to read in a dataframe stored in a cvs file. The problem is I don't
> know how to tell R the first column (in format like "7-Jan-80") is a
> vector of dates.
> Could you help me, please?

It seems unlikely to me that the dataframe is stored in a cvs file. (A
dataframe is an R object.)  So let me guess that you have a text file
stored under cvs, which you need to read into R.  The tool to do so is
read.table, and you should read the column as a character vector, then
call as.POSIXct(strptime()) on it, to convert it to a "POSIXct" date-time
column.

Had the column been in an ISO format you might be able to get away with
specifying the class to read.table() as "POSIXct" (you need the methods
package set up to do this) but it is not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Mar 13 13:32:38 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 13 Mar 2002 13:32:38 +0100 (MET)
Subject: [R] t() and aperm(): doc suggestion
Message-ID: <Pine.OSF.3.96.1020313132811.6580H-100000@ija.csic.es>


(thanks Martin)

The "See Also" section of the help page of  aperm() 
points to t() for matrices, perhaps the same section
of the help for t() should point to aperm() for arrays.
Probably
this would also imply that a search for transpose
would bring up t() and aperm().

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Mar 13 14:31:44 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 13 Mar 2002 13:31:44 +0000
Subject: [R] barplots with std-error
References: <5.1.0.14.2.20020313053743.04ca6970@po.muohio.edu>
Message-ID: <3C8F54BF.304E2C1F@psy.uni-muenchen.de>

"Martin Henry H. Stevens" wrote:

> Jan,
> I know what you mean - it seems like a unnecessary pain. BUT, (to repeat
> the mantra) R is a programming language and it is not too hard to make such
> a function (check archives for plotCI by Ben Bolker, based on code by B.
> Venables) or to write the code for one time use (see
> http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html Maintained by Paul Johnson).
>

Or try J. Barons  text http://cran.r-project.org/doc/contrib/rpsych.pdf. There
you'll find a barplot example with error bars.

Bye, Sven

>
> At 08:40 AM 3/13/2002 +0100, Jan Malte Wiener wrote:
> >hi,
> >
> >i am trying to generate nice barplots with std-errors.
> >do i really have to generate the std-errors myself by the segments() command ?
> >
> >thanks for help,
> >jan
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From martin.lascoux at ebc.uu.se  Wed Mar 13 14:12:17 2002
From: martin.lascoux at ebc.uu.se (Martin Lascoux)
Date: Wed, 13 Mar 2002 14:12:17 +0100
Subject: [R] plot
Message-ID: <5.0.2.1.0.20020313140640.02721218@mail.anst.uu.se>

Hello!

I use the version 1.4.0 for Windows. I have made boxplots but only half of 
the symbols (three letters each) show up on the X-axis? How t can one 
change their size or orientation so that all show up? I attach the pdf file 
to illustrate better the problem.

Regards
Martin

Martin Lascoux
Department of Conservation Biology and Genetics
Evolutionary Biology Center
Norbyv?gen 18D
75236 Uppsala Sweden
Tel:  46 18 471 64 16
Fax: 46 18 471 64 24
-------------- next part --------------
A non-text attachment was scrubbed...
Name: FTbyPOP22.pdf
Type: application/pdf
Size: 13999 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020313/5d4fec43/FTbyPOP22.pdf

From bojaniss at poczta.onet.pl  Wed Mar 13 14:10:07 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Wed, 13 Mar 2002 14:10:07 +0100
Subject: Odp: [R] barplots with std-error
References: <3C8F0250.3070303@tuebingen.mpg.de>
Message-ID: <001501c1ca90$68678280$5a01a8c0@iss.local>

> hi,
>
> i am trying to generate nice barplots with std-errors.
> do i really have to generate the std-errors myself by the segments()
> command ?
>
> thanks for help,
> jan

Hello Jan

Some time ago I wanted to do the same thing. I wrote a function, which works
in the way similar to
lines(). The code is below.

erbars <- function(yl,ym,yh, x=1:length(yl), w=1/2, ...) {
 points(x,ym, pch=22, ...)
 for(i in 1:length(x)) {
  lines(rep(x[i],2), c(yl[i],yh[i]), lty="dashed", ...)
  lines(c(x[i]-w/2,x[i]+w/2), rep(yh[i],2), ...)
  lines(c(x[i]-w/2,x[i]+w/2), rep(yl[i],2), ...)
 }
}

It will draw a sequence of 'errorbars' (see example below) on the active
device. The meaning of arguments:
yl - a vector specyfying values of lower whisker points
ym - a vector specyfying values of middle points
yh - a vector specyfying values of higher whisker points
x - vector of x coordinates of whiskers
w - width of the ticks

With this function you should be able to add standard errors to your
barplot.

Hope this helps,

regards
Michal

EXAMPLE
x <- rbinom(1000,2,0.4)
y <- 10*x+2+rnorm(length(x),0,5)
f <- as.factor(x)
plot.new()
plot.window(c(0,4),c(min(y),max(y)))
axis(1); axis(2)
erbars(tapply(y,f,min),tapply(y,f,mean), tapply(y,f,max), w=0.2)




-- 

Okresl Swoje potrzeby - my znajdziemy oferte za Ciebie!
[ http://oferty.onet.pl ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Wed Mar 13 14:25:18 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Wed, 13 Mar 2002 14:25:18 +0100
Subject: Odp: [R] New version of read.spss requires scripts to be re-written
References: <3B671A34.231A557B@alvie-mail.lanl.gov> <x27kwo238s.fsf@blueberry.kubism.ku.dk> <00fc01c1ca7b$4164d580$f2e1f380@nottingham.ac.uk>
Message-ID: <001d01c1ca92$8672f000$5a01a8c0@iss.local>

> Hi there. I'm delighted to see that the latest version of read.spss
imports
> categorical value labels, but in doing so causes trouble if most of the
> values of a variable are continuous measures (eg. weight in kg), and just
a
> few are categorical (eg. -3 not measured -2 not applicable etc.), as we've
> been warned.
>
> Effectively the default function is now different. Old scripts that worked
> now need editing.
>
> I suppose that the lack of value label handling in the old read.spss was a
> bug, so any improvements should be the default. However, the current
> function 'doesn't work any more'.
> (It may again when read.spss' handling of this sort of variable is further
> upgraded)
>
> Is there any agreement as to whether updated functions should be
> backwards-compatible by default?
>
> Stuart

I fully agree with the backwards-compatibility requirement.

Because I have to use SPSS everyday (for 'compatibility' reasons at work) I
use
read.spss() very often. I have one suggestion for further improvements of
this function.
I work on quite large data files (1600 vars, 10000 cases), which cannot be
loaded to R because of
lack if memory. It would be very usefull to be able to 'browse' SPSS files
'variablewise'. That is
for example to 'extract' only a group of variables (even a single one)
without loading the whole data.
Making a bunch of smaller files in SPSS and than importing them to R with
read.spss() is
rather inconvinient.

What do You think of such an improvement?

On www.spss.com I came across of an spssI/O library which is free and (as is
written in attached manual)
contains function for SPSS data files manipulation.

I would gladly do sauch a function by myself, but I do not know C at all.

regards

Michal



-- 

Tego nie znajdziesz w zadnym sklepie!
[ http://oferty.onet.pl ]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Mar 13 14:18:53 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 13 Mar 2002 14:18:53 +0100 (CET)
Subject: [R] controlling figure dimension/location
In-Reply-To: <Pine.LNX.4.10.10203131040040.2016-100000@localhost.localdomain>
Message-ID: <Pine.LNX.3.96.1020313140813.1558D-100000@thorin.ci.tuwien.ac.at>

On Wed, 13 Mar 2002, Bill Simpson wrote:

> 
> 
> On Wed, 13 Mar 2002, Uwe Ligges wrote:
> 
> > "Michael D. Sohn" wrote:
> > > 
> > > I'm making two plots, one on top of the other.  On the upper plot, I do
> > > not print the x-label or the x-tick-label.  To reduce space, I'd like to
> > > keep the white space between the two figures at a minimum.  However, I
> > > can't figure out how to methodically reduce the space while maintaining
> > > the same figure dimensions for both plots.  I could add margin space
> > > below the lower plot and reduce space above the lower plot but that
> > > leaves a bunch of whitespace at the bottom of the figure.  What command
> > > am I missing?
> 
> I too would be greatly interested in being able to do this. For example if
> you have two plots stacked on top of each other, you would have only the
> ticks on the x-axis of the top plot and the full axis labels and title on
> the bottom plot. The size of the two plots must remain the same.
> 
> So far as I know, this is not possible with R. What I have been doing is
> quite unsatisfactory: set the margins to the minimum acceptable. However
> this still leaves too much whitespace between the plots. If you really are
> motivated you can convert the figure from postscript to xfig or tgif
> format then edit manually. Not a great solution...
> 
> pstoedit        convert .ps file to tgif for editing:
>                         pstoedit -f tgif fig1.ps fig1.obj
> 

Well, maybe I don't get the problem, but you certainly have the
possibility to have two (or more) plots with the same axis without wasting
space in between (just like plot.mts() does for example).
Just set that margins to 0 and don't plot the x-axis but for the last
plot. For example you could do:

par(mar = c(0, 5.1, 0, 2.1), oma = c(6, 0, 5, 0), mfrow=c(2,1))
plot(rnorm(100), xaxt="n")
plot(rnorm(100))

The layout then is very similar to that of plot.mts() as in:

plot(ts(cbind(rnorm(100), rnorm(100))), type = "p")
 
I hope this is what you wanted...
Z


> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 13 14:48:16 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Mar 2002 14:48:16 +0100
Subject: [R] How to read in dataframe from file
In-Reply-To: <Pine.LNX.4.31.0203131215310.3962-100000@gannet.stats>
References: <Pine.LNX.4.31.0203131215310.3962-100000@gannet.stats>
Message-ID: <x26640efz3.fsf@blueberry.kubism.ku.dk>

ripley at stats.ox.ac.uk writes:

> On Wed, 13 Mar 2002, Lukas Kubin wrote:
> 
> > I need to read in a dataframe stored in a cvs file. The problem is I don't
> > know how to tell R the first column (in format like "7-Jan-80") is a
> > vector of dates.
> > Could you help me, please?
> 
> It seems unlikely to me that the dataframe is stored in a cvs file. (A
> dataframe is an R object.)  So let me guess that you have a text file
> stored under cvs, which you need to read into R.  The tool to do so is
> read.table, and you should read the column as a character vector, then
> call as.POSIXct(strptime()) on it, to convert it to a "POSIXct" date-time
> column.

..or perhaps it is a csv file (comma separated variables),
in which case, substitute read.csv().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mueller at cancer.org.uk  Wed Mar 13 15:25:50 2002
From: mueller at cancer.org.uk (Arne Mueller)
Date: Wed, 13 Mar 2002 14:25:50 +0000 (GMT)
Subject: [R] mathematical expression in legend
In-Reply-To: <3C8F06B4.F59E84B3@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>



On Wed, 13 Mar 2002, Uwe Ligges wrote:

> Arne Mueller wrote:
> > 
> > On Wed, 13 Mar 2002, Paul Murrell wrote:
> > 
> > > Hi
> > >
> > >
> > > > I'm trying to put a mathematical expression into a legend, but R
> > > > complains about a syntax error. Basically i'd like to do this:
> > > >
> > > > legend.text = c(expression(x < 10), expression(x >= 10))
> > >
> > >
> > > The following works for me on 1.4.0 (yukky alignment which should be fixed
> > > in 1.4.1) ...
> > 
> > Hi,
> > 
> > yes, thanks, the stuff below does what I want. However, the legend text is
> > now shifted to the top relative to the symbols of the legend. This
> > probably what you mean with 'yukky' alignment? I'm running 1.4.1 :-(
> 
> Paul himself fixed the bug on Feb 12 for R-devel (to be 1.5.0 on April
> 29, as far as I know).
> R-1.4.1 was released on Jan 30.
> 
> As a workaround specify the adjustment manually:
>  legend(..., adj=c(0, 0.5))

Hi,

the 'adj' fixes the problem for me. Thanks a lot. from 1.4.1. directly to
1.5.0 is a large step in the release number. Are there fundamental
changes/enhancements? Is there a list of new features etc.  on the web?
 
	thanks,

	Arne


> Uwe Ligges
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at u.washington.edu  Wed Mar 13 15:28:34 2002
From: rossini at u.washington.edu (Anthony Rossini)
Date: Wed, 13 Mar 2002 06:28:34 -0800 (PST)
Subject: [R] How useful is iESS mode for emacs? 
In-Reply-To: <3c8edd84.9e5d885f@lbl.gov>
Message-ID: <Pine.LNX.4.43.0203130628340.18432@hymn05.u.washington.edu>

On Tue, 12 Mar 2002, Francisco J Molina wrote:

> I would like some feedback about how useful is the iESS mode to run R in
> Xemacs/emacs?

Unfair question.  So I'll respond unfairly, as well.

I can't imagine any other way to fire up R than "xemacs -f R".  But I'm severely biased, having worked on ESS for a long, long time.

Maybe a better set of questions are:
1. what does iESS provide that normal command-line R doesn't
2. what are the tradeoffs between iESS and RGui
3. if I don't know Emacs, is ESS worth trying?

What exactly are you trying to ask?  I do have to admit, though, that I almost never type in iESS unless I'm on the phone or a conference call and need a quick ball-park set of estimates/intervals/power calcs.  I usually just submit chunks of code from other files (source code, analysis code, or literate programs).
Once R is running within Emacs, I just work in the source files and perhaps save the (possibly edited) end results as an audit transcript.

best,
-tony






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar 13 15:35:42 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 13 Mar 2002 15:35:42 +0100
Subject: [R] plot
References: <5.0.2.1.0.20020313140640.02721218@mail.anst.uu.se>
Message-ID: <3C8F63BE.881975E8@statistik.uni-dortmund.de>



Martin Lascoux wrote:
> 
> Hello!
> 
> I use the version 1.4.0 for Windows. I have made boxplots but only half of
> the symbols (three letters each) show up on the X-axis? How t can one
> change their size or orientation so that all show up? I attach the pdf file
> to illustrate better the problem.

See ?par.

Particularly change the size with "cex.axis" or the orientation with
"las".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasonnew2001 at yahoo.com  Wed Mar 13 15:36:04 2002
From: jasonnew2001 at yahoo.com (jason zhao)
Date: Wed, 13 Mar 2002 06:36:04 -0800 (PST)
Subject: [R] svm in e1071 package segment fault in redhat 7.2
In-Reply-To: <Pine.GSO.4.44.0203120731400.22342-100000@auk.stats>
Message-ID: <20020313143604.56544.qmail@web9402.mail.yahoo.com>

I installed gcc3. Both gcc(2.96) and 3.0.4 are in my
system right now. How can you configure R compiler
with gcc3 instead of gcc(2.96)?
Thanks

jason 

--- Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> It works for me under RH7.2, using gcc 3.0.4.
> 
> Did you use a released version of gcc?  (Hint `2.96'
> is a figment of
> RedHat's imagination.)  Linux distros love putting
> out snapshot software
> (often ancient snapshots).
> 
> 
> On Mon, 11 Mar 2002, jason zhao wrote:
> 
> >
> > --- Uwe Ligges <ligges at statistik.uni-dortmund.de>
> > wrote:
> > > jason zhao wrote:
> > > >
> > > > Hi, Guys
> > > > I run one simple R script like this
> > > >
> > > > library(e1071)
> > > > data(iris)
> > > > attach(iris)
> > > > model <- svm (Species~., data=iris)
> > > >
> > > > The R version is 1.4.1. The OS is standard
> redhat
> > > 7.2.
> > > > Then I got a segmentation fault like this (run
> > > through
> > > > R CMD BATCH scriptName)
> > > > /usr/local/R/lib/R/bin/BATCH: line 54: 28513
> Done
> > > >               (
> > > > echo "invisible(options(echo = TRUE))"; cat
> ${in};
> > > > echo "proc.time()" )
> > > >      28514 Segmentation fault      |
> > > ${R_HOME}/bin/R
> > > > ${opts} >${out} 2>&1
> > > >
> > > > There is no problem if the R-binary is running
> > > redhat
> > > > 6.2.
> > > >
> > > > Does anyone see this problem?  Is there a
> > > workaround
> > > > for this?
> > >
> > > Haven't got RedHat 7.2 available, but your
> example
> > > works perfectly on
> > > SuSE 7.3, Solaris 5.7 and WinXP.
> > > So I guess you didn't compile R (or e1071) on
> your
> > > system.
> > > Maybe there is a small incompatibility with the
> > > precompiled version.
> > > I'd suggest to compile R yourself and install
> e1071
> > > from the sources.
> > >
> > > Uwe Ligges
> > I installed everyting  (the R basic, R-recommended
> > package and e1071 ) from source.   My test example
> > worked fine with redhat 6.2, but not redhat 7.2. I
> > think maybe it is  problem in gcc library or
> something
> > in e1071 package.
> > Any suggestion
> > Thanks
> >
> >
> >
> >
> >
> > __________________________________________________
> >
> >
> >
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                 
> ripley at stats.ox.ac.uk
> Professor of Applied Statistics, 
> http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865
> 272861 (self)
> 1 South Parks Road,                     +44 1865
> 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865
> 272595
> 


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Wed Mar 13 15:46:10 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Wed, 13 Mar 2002 14:46:10 +0000 (GMT)
Subject: [R] controlling figure dimension/location
In-Reply-To: <Pine.LNX.3.96.1020313140813.1558D-100000@thorin.ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.10.10203131440440.2238-100000@localhost.localdomain>

Thanks very much Achim for the tip.

This is what I wound up with:

par(mar = c(0, 5.1, 1, 2.1), oma = c(6, 0, 5, 0), mfrow=c(2,1))
par(pty="s")
x<-rnorm(100)
y<-rnorm(100)
xticks<-pretty(x)
yticks<-pretty(y)
plot(x, y,axes=FALSE,xlim=range(xticks), ylim=range(yticks))
axis(side=1, at=xticks,labels=FALSE)
axis(side=2, at=yticks)
box()

x1<-rnorm(100)
y1<-rnorm(100)
plot(x1,y1,axes=FALSE,xlim=range(xticks), ylim=range(yticks))
axis(side=1, at=xticks)
axis(side=2, at=yticks)
mtext("x",side=1,line=2)
box()


A lot of extra code was required because the only way I could see to get
rid of tick labels is to turn of axes then add manually

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 16:02:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 13 Mar 2002 15:02:47 +0000 (GMT)
Subject: [R] svm in e1071 package segment fault in redhat 7.2
In-Reply-To: <20020313143604.56544.qmail@web9402.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0203131500270.4343-100000@gannet.stats>

On Wed, 13 Mar 2002, jason zhao wrote:

> I installed gcc3. Both gcc(2.96) and 3.0.4 are in my
> system right now. How can you configure R compiler
> with gcc3 instead of gcc(2.96)?

This is all in the R-admin manual.

Just put gcc3 first in your path, if it is called gcc, or set CC=gcc3
(and FC and CXX, I guess) in config.site.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Mar 13 16:14:36 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 13 Mar 2002 16:14:36 +0100
Subject: [R] plot
References: <5.0.2.1.0.20020313140640.02721218@mail.anst.uu.se>
Message-ID: <3C8F6CDC.7FED4D18@atmos.umnw.ethz.ch>

Hello Martin,

in this case i plot the axis manually. That means in that plot itself i
set xaxis='n' and plot the labels with text.

small example
d <-   as.data.frame(matrix(runif(60),5))
names(d) <- month.name
boxplot(d,xaxt='n')
ypos <- par()$usr[3]-(par()$usr[4]-par()$usr[3])/50 #a little bit below
the line
text(1:ncol(d),ypos,names(d),srt=270,adj=0,xpd=T) #xpd allows printing
outside the borders,srt rotate the text

gruess

joerg

Martin Lascoux wrote:
> 
> Hello!
> 
> I use the version 1.4.0 for Windows. I have made boxplots but only half of
> the symbols (three letters each) show up on the X-axis? How t can one
> change their size or orientation so that all show up? I attach the pdf file
> to illustrate better the problem.
> 
> Regards
> Martin
> 
> Martin Lascoux
> Department of Conservation Biology and Genetics
> Evolutionary Biology Center
> Norbyv?gen 18D
> 75236 Uppsala Sweden
> Tel:  46 18 471 64 16
> Fax: 46 18 471 64 24
> 
>   ------------------------------------------------------------------------
>                     Name: FTbyPOP22.pdf
>    FTbyPOP22.pdf    Type: Portable Document Format (application/pdf)
>                 Encoding: base64

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 13 16:13:35 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Mar 2002 16:13:35 +0100
Subject: [R] mathematical expression in legend
In-Reply-To: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>
References: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>
Message-ID: <x2sn74cxgg.fsf@blueberry.kubism.ku.dk>

Arne Mueller <mueller at cancer.org.uk> writes:

> From 1.4.1. directly to
> 1.5.0 is a large step in the release number. 

Not really. The number changes by 0.1.0 about twice per year, and
then there are patch releases which increment by 0.0.1, so in
principle it just means that we didn't have all that much to fix for
1.4.0. Also, we are shifting the development cycle a couple of months
this time to avoid having releases just after the end of teaching.

> Are there fundamental
> changes/enhancements? Is there a list of new features etc.  on the web?

The current NEWS file is contained in the daily snapshot, instructions
for obtaining these are in http://cran.r-project.org/sources.html

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 16:19:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 13 Mar 2002 15:19:20 +0000 (GMT)
Subject: What's in 1.5.0 (was Re: [R] mathematical expression in legend)
In-Reply-To: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>
Message-ID: <Pine.GSO.4.44.0203131514030.1488-100000@auk.stats>

On Wed, 13 Mar 2002, Arne Mueller wrote:

> the 'adj' fixes the problem for me. Thanks a lot. from 1.4.1. directly to
> 1.5.0 is a large step in the release number. Are there fundamental
> changes/enhancements? Is there a list of new features etc.  on the web?

Look on developer.r-project.org to see the significance, but as the .1 is
the patchlevel, it will be an *minor* version increment.

1.5.0 is not finished yet (it does not go into feature freeze until April
8).  The current list of new features is in the NEWS file in the R-devel
snapshots available via CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Wed Mar 13 17:26:40 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed, 13 Mar 2002 09:26:40 -0700
Subject: Fixed: Re: [R] problems compiling R-devel packages in Windows
In-Reply-To: <20020313091752.A28266@jessie.research.bell-labs.com>
References: <5.1.0.14.2.20020312234349.03992d98@a.paloma.com>
 <5.1.0.14.2.20020312234349.03992d98@a.paloma.com>
Message-ID: <5.1.0.14.2.20020313092324.00add968@pop6.attglobal.net>

It seems the problem was that I ran ./configure (I actually ran it twice -- 
onece before I had installed the MinGW and R-tools stuff and again after I 
had installed them).

After deleting and retrieving all the R-devel files, I ran make in the 
src/gnuwin32 directory (without running configure at all), and this 
completed with no errors.

Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Mar 13 17:32:31 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 13 Mar 2002 17:32:31 +0100
Subject: [R] plot
Message-ID: <OF40E4EFB3.E60B28D1-ONC1256B7B.005A2529@eurotel.cz>


Hello,

>?par

gives you info on graphical params, then use

>par(cex.axis = some.number)

sensibly (I guess 0.7 should be OK), this gives the possibility to change
magnification of axis annotation.
Then boxplot().
Orientation:
>par(las=[0123]),
where effects of 0,1,2,3 is in ?par.

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 13.3.2002 16:31:03
To: r-help at stat.math.ethz.ch
Subject: [R] plot

Hello!

I use the version 1.4.0 for Windows. I have made boxplots but only half of
the symbols (three letters each) show up on the X-axis? How t can one
change their size or orientation so that all show up? I attach the pdf file
to illustrate better the problem.

Regards
Martin

Martin Lascoux
Department of Conservation Biology and Genetics
Evolutionary Biology Center
Norbyv?gen 18D
75236 Uppsala Sweden
Tel:  46 18 471 64 16Fax: 46 18 471 64 24 - FTbyPOP22.pdf

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Mar 13 18:12:15 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 13 Mar 2002 09:12:15 -0800 (PST)
Subject: [R] New version of read.spss requires scripts to be re-written
In-Reply-To: <00fc01c1ca7b$4164d580$f2e1f380@nottingham.ac.uk>
Message-ID: <Pine.A41.4.44.0203130904470.83416-100000@homer34.u.washington.edu>

On Wed, 13 Mar 2002, Stuart Leask wrote:

> Hi there. I'm delighted to see that the latest version of read.spss imports
> categorical value labels, but in doing so causes trouble if most of the
> values of a variable are continuous measures (eg. weight in kg), and just a
> few are categorical (eg. -3 not measured -2 not applicable etc.), as we've
> been warned.
>
> Effectively the default function is now different. Old scripts that worked
> now need editing.

You could also edit the foreign package and change the default

> I suppose that the lack of value label handling in the old read.spss was a
> bug, so any improvements should be the default. However, the current
> function 'doesn't work any more'.
> (It may again when read.spss' handling of this sort of variable is further
> upgraded)
>
> Is there any agreement as to whether updated functions should be
> backwards-compatible by default?

Yes, though the situation is less clear for packages that aren't part of
base R.  For a base package the 1.4.1 release should be backward
compatible with 1.4.0, but recommended packages don't necessarily have a
synchronised release schedule [the ones that depend on S code from other
people can't, for example].

The next version, which will appear with 1.5.0, has an option to use
values labels only when there are fewer than some specified number of
unique values.

While I'm not sure that you can always rely on compatibility with
recommended packages, and you could argue that this was a bug fix, in this
case it really was a mistake -- I had forgotten the possibility of a few
value labels on a continuous variable since none of the SPSS files I have
been given have these.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Mar 13 18:23:17 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 13 Mar 2002 09:23:17 -0800 (PST)
Subject: Odp: [R] New version of read.spss requires scripts to be re-written
In-Reply-To: <001d01c1ca92$8672f000$5a01a8c0@iss.local>
Message-ID: <Pine.A41.4.44.0203130916500.83416-100000@homer34.u.washington.edu>

On Wed, 13 Mar 2002, Michal Bojanowski wrote:
>
> Because I have to use SPSS everyday (for 'compatibility' reasons at work) I
> use
> read.spss() very often. I have one suggestion for further improvements of
> this function.
> I work on quite large data files (1600 vars, 10000 cases), which cannot be
> loaded to R because of
> lack if memory. It would be very usefull to be able to 'browse' SPSS files
> 'variablewise'. That is
> for example to 'extract' only a group of variables (even a single one)
> without loading the whole data.
> Making a bunch of smaller files in SPSS and than importing them to R with
> read.spss() is
> rather inconvinient.
>
> What do You think of such an improvement?
>

Well, we don't need any extra SPSS input/output code, since all that is
already in the foreign package. It should be fairly simple (if slightly
inefficient) to change the C code so  that most variables are read and
thrown away rather than being read and stored in memory.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Mar 13 19:14:07 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 13 Mar 2002 19:14:07 +0100 (MET)
Subject: [R] How useful is iESS mode for emacs?
In-Reply-To: <20020313135806.A14018@192.168.57.2>
Message-ID: <Pine.OSF.3.96.1020313184905.6580Q-100000@ija.csic.es>


(I reply to the Re: message because inadvertently I deleted the original)

My opinion is that using the ESS interface 
for R is great for people who are used to emacs, and less
good for the rest of people, because  it is less intuitive
than other editors (i.e., WinEdit). For me it was
hard to get
used to the (many) idiosynchratic details of emacs (a minor example,
few people has a key labelled as META, but the M-... are
everywhere in emacs). Also, I don't like the fact
that if you, for example, make an ls() and then select
and copy an object with the mouse and paste, you don't paste
in the command line but on the list itself, unless you bring the
cursor to the command line first. Very
often I was
not in the R command line and used to get (and still get sometimes) a
message: "No command in this line".
Also, at least in my setup, the begin key brings you on top of the 
">" instead of on top of the first character after ">". 
Probably all these are minor problems (or perhaps, even advantages) for
people who use emacs also for other purposes.

Personally, I like better the Windows gui for R + WinEdit, although
I prefer linux for other reasons. The facility for printing
and saving graphics from the graphic window is another very useful
feature that I miss in linux.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 13 Mar 2002 david.whiting at ncl.ac.uk wrote:

> Hi,
> 
> For a while I had been trying to avoid learning emacs (I got into vi,
> liked it and didn't want to mess with this C-x M-x C-c etc nonsense). I
> couldn't find a way to get R to work intimately with vi, so I recently
> decided I needed give ess a go. I have been working with it for about a
> total of 6 hours and I have a strong feeling that I am going to get very
> hooked (so to speak) on emacs and ess. It didn't take me long at all to
> get used to C-x C-keystroke, M-x etc (it's not nonsense at all). You
> only really have to learn a few key editing features to started and then
> it seems that it is possible to do almost anything once you get more
> comfortable. 
> 
> Make sure you take the advice of the docs and save a "transcript" (with
> the appropriate extension) as this will make certain transcript-specific
> features available. For example, it is very handy to be able to select a
> region of commands and clean it to remove all but the functions ready to
> be used to create a program. 
> 
> I am not sure from your email if you already use emacs or not. If you
> do, then you will find that ess makes life easier immediately. If not,
> then like me you will spend a short while wondering how to do the most
> simple things, but after a short investment find it worthwhile. Below I
> have attached a short crib sheet I made as I started to learn emacs with
> R. You will notice that most of the notes are related to emacs rather
> than R because once I understand enough of emacs I was able to open the
> R help in another buffer and refer to that.
> 
> 
> HTH
> 
> Dave
> 
> 
> ------------
> Some key keys to get me started in emacs. My particular interest is to
> be learn to use ESS.
> 
> R:
> ------
> M-x R			Start R session
> M-ENTER			resubmit command and place cursor at beginning
> 			of next command
> 
> 
> 
> Help:
> ----
> C-h b			List of key bindings. Use / to search for regexp
> C-h m			Mode based help, i.e. context specific help
> 
> 
> File stuff:
> ---------
> C-x C-f			'Visit' a file, including creating a new file
> C-x C-s			Save buffer
> C-x C-c			Save buffers, kill emacs
> 
> 
> Editing:
> -------
> C-_			Undo
> ESC d			kill word
> ESC DEL			kill word backwards
> C-y 			paste
> C-space			start to select a region (mark)
> 
> 
> Buffers:
> -------
> C-x C-b			list buffers (in another buffer)
> C-x b <buffer name>	change to a specific buffer
> C-x 1			make this buffer fill the whole screen
> C-x 2			split screen into two 
> C-x o			select the other buffer when screen is split
> C-x k <buffer name>	kill a buffer
> 
> 
> Combinations:
> -----------
> C-x C-b C-x o <select buffer> RET	
> 
> This will list the buffers, take you to the buffer list, then you select
> a buffer and press RET to enter the buffer.
> 
> 
> 
> 
> 
> On Tue, Mar 12, 2002 at 09:03:00PM -0800, Francisco J Molina wrote:
> > I would like some feedback about how useful is the iESS mode to run R in
> > Xemacs/emacs?
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> Dave Whiting
> Dar es Salaam, Tanzania
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Mar 13 20:27:51 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Mar 2002 08:27:51 +1300
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic>
Message-ID: <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz>

Hi


> yes, that's sort of what I was looking for. But I've to mix filled bars
> with striped bars in a stacked barplot. I could just set the density for
> the completely filled bars to something realy high (1000) but it's realy
> slow to draw. Is there a way to mix stiped bars and filled pars in the
> same plot?


There may be a better way, but does the following do the sort of thing you
want ...?

m <- matrix(runif(30), ncol=5)
barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
        border=rep(c("white", "red"), 3), horiz=TRUE,
        xlim=c(0, 6), axes=FALSE)
par(new=TRUE)
barplot(m, beside=FALSE, col="blue",
        density=rep(c(10, 5, -1), 2),
        angle=rep(c(45, -45, 0), 2), horiz=TRUE,
        xlim=c(0, 6))

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Mar 13 21:23:04 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Thu, 14 Mar 2002 09:23:04 +1300 (NZDT)
Subject: [R] MASS Library
Message-ID: <Pine.SOL.4.21.0203140921100.4446-100000@stat1.stat.auckland.ac.nz>

Hi,

I was just trying out an example on Page 247 of the MASS (Modern Applied
Statistics with S-plus) book and saw the function "negexp.ival".

It says it is supplied in the MASS library, however when I load the
library in R and typed:
  negexp.ival
it says:
  Error: Object "negexp.ival" not found

Does it mean it only appears in the MASS library for S-plus?

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Wed Mar 13 21:17:20 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Wed, 13 Mar 2002 20:17:20 +0000
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic> <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz>
Message-ID: <3C8FB3D0.C7CD3D3D@cancer.org.uk>

Paul Murrell wrote:
> 
> Hi
> 
> > yes, that's sort of what I was looking for. But I've to mix filled bars
> > with striped bars in a stacked barplot. I could just set the density for
> > the completely filled bars to something realy high (1000) but it's realy
> > slow to draw. Is there a way to mix stiped bars and filled pars in the
> > same plot?
> 
> There may be a better way, but does the following do the sort of thing you
> want ...?
> 
> m <- matrix(runif(30), ncol=5)
> barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
>         border=rep(c("white", "red"), 3), horiz=TRUE,
>         xlim=c(0, 6), axes=FALSE)
> par(new=TRUE)
> barplot(m, beside=FALSE, col="blue",
>         density=rep(c(10, 5, -1), 2),
>         angle=rep(c(45, -45, 0), 2), horiz=TRUE,
>         xlim=c(0, 6))
> 
> Paul


Hello,

As far as I can see the above code plots two graphs, one with filled and
one striped. I'd like to have filled and striped bars within the same
stacked dataset of the same plot (e.g filled red bar, then striped red
bar on top of the fileld red bar).

But maybe I can alter your code so that I construct the plot bar by bar
setting par(new = FALSE) (re-using the same plotting window). I'd have
to recalculate the x-positions for all the bars that have to be on-top
of the previous bars whenever I call barplot.

	thanks for the suggestion,

	Arne
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Mar 13 21:53:09 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Mar 2002 09:53:09 +1300
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic> <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz> <3C8FB3D0.C7CD3D3D@cancer.org.uk>
Message-ID: <010001c1cad1$1550b170$7632d882@stat.auckland.ac.nz>

Hi


> > > yes, that's sort of what I was looking for. But I've to mix filled
bars
> > > with striped bars in a stacked barplot. I could just set the density
for
> > > the completely filled bars to something realy high (1000) but it's
realy
> > > slow to draw. Is there a way to mix stiped bars and filled pars in the
> > > same plot?
> >
> > There may be a better way, but does the following do the sort of thing
you
> > want ...?
> >
> > m <- matrix(runif(30), ncol=5)
> > barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
> >         border=rep(c("white", "red"), 3), horiz=TRUE,
> >         xlim=c(0, 6), axes=FALSE)
> > par(new=TRUE)
> > barplot(m, beside=FALSE, col="blue",
> >         density=rep(c(10, 5, -1), 2),
> >         angle=rep(c(45, -45, 0), 2), horiz=TRUE,
> >         xlim=c(0, 6))
> >
> > Paul
>
>
> Hello,
>
> As far as I can see the above code plots two graphs, one with filled and
> one striped. I'd like to have filled and striped bars within the same
> stacked dataset of the same plot (e.g filled red bar, then striped red
> bar on top of the fileld red bar).
>
> But maybe I can alter your code so that I construct the plot bar by bar
> setting par(new = FALSE) (re-using the same plotting window). I'd have
> to recalculate the x-positions for all the bars that have to be on-top
> of the previous bars whenever I call barplot.


The code should work as-is.  It's not very intuitive, but par(new=TRUE)
actually means re-use the same plotting window.  And because the same data
is being plotted both times, the bars are drawn in exactly the same location
so there is no need for any recalculation of x-positions.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasonparcon at yahoo.com  Wed Mar 13 21:58:24 2002
From: jasonparcon at yahoo.com (Jason Parcon)
Date: Wed, 13 Mar 2002 12:58:24 -0800 (PST)
Subject: [R] Log Window
Message-ID: <20020313205824.6919.qmail@web14806.mail.yahoo.com>

Does R have a log window that will tell me how much
time the software spent in implementing a procedure? 
For example, suppose I want to do regression with 100
thousand observations over 100 independent variables.
I need to find out how much time R will spend in
implementing its regression procedure with these
parameters.

Jason Parcon
Western Michigan University

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 22:03:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 13 Mar 2002 21:03:18 +0000 (GMT)
Subject: [R] MASS Library
In-Reply-To: <Pine.SOL.4.21.0203140921100.4446-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0203132059280.7204-100000@gannet.stats>

Look at the scripts (MASS/scripts/ch08.R).  It's negexp.SSival under
current nlme with R (and under current versions of S-PLUS too).

Three years is a long time in the software world (as those of us who can
remember trying to use R in early 1999 may remember: I don't think nlme
was available for R then, but lme probably was).

On Thu, 14 Mar 2002, Ko-Kang Kevin Wang wrote:

> Hi,
>
> I was just trying out an example on Page 247 of the MASS (Modern Applied
> Statistics with S-plus) book and saw the function "negexp.ival".
>
> It says it is supplied in the MASS library, however when I load the
> library in R and typed:
>   negexp.ival
> it says:
>   Error: Object "negexp.ival" not found
>
> Does it mean it only appears in the MASS library for S-plus?
>
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 13 22:05:06 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 13 Mar 2002 21:05:06 +0000 (GMT)
Subject: [R] Log Window
In-Reply-To: <20020313205824.6919.qmail@web14806.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0203132103380.7204-100000@gannet.stats>

On Wed, 13 Mar 2002, Jason Parcon wrote:

> Does R have a log window that will tell me how much
> time the software spent in implementing a procedure?
> For example, suppose I want to do regression with 100
> thousand observations over 100 independent variables.
> I need to find out how much time R will spend in
> implementing its regression procedure with these
> parameters.

?proc.time
?system.time

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Wed Mar 13 22:30:44 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Wed, 13 Mar 2002 21:30:44 -0000
Subject: [R] MASS Library
In-Reply-To: <Pine.SOL.4.21.0203140921100.4446-100000@stat1.stat.auckland.ac.nz>
Message-ID: <000001c1cad6$55b23900$4c202880@GSIMPSON>

Looking at the file library/MASS/scripts/ch08.R indicates that R uses a
different syntax for this part of the chapter.

>From this (ch08.R) you need the negexp.SSival function not negexp.ival
to get things working OK,

If things don't work first time using MASS then looking at the scripts
for R for the book is usually a good place to start looking for answers

Gav

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Ko-Kang Kevin Wang
Sent: 13 March 2002 20:23
To: R Help
Subject: [R] MASS Library


Hi,

I was just trying out an example on Page 247 of the MASS (Modern Applied
Statistics with S-plus) book and saw the function "negexp.ival".

It says it is supplied in the MASS library, however when I load the
library in R and typed:
  negexp.ival
it says:
  Error: Object "negexp.ival" not found

Does it mean it only appears in the MASS library for S-plus?

------------------------------------------------------------------------
------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Mar 14 02:11:04 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Mar 2002 14:11:04 +1300
Subject: [R] win.metafile and multiple plots
References: <3C8EED56.5A0B7776@lbl.gov>
Message-ID: <013601c1caf5$1d48c0b0$7632d882@stat.auckland.ac.nz>

Hi


> I'm having difficulty using the win.metafile command.  I'd like to place
> three plots in one window and then save the window as a metafile.  The
> commands I want to use are:
>
> win.metafile("mike.emf",width=3,height=2,pointsize=10)
> nf <- layout(matrix(c(1,2,3), 3, 1), heights=c(1,1,1))
> layout.show(nf)
> plot(rnorm(10))
> plot(rnorm(10))
> plot(rnorm(10))
> dev.off()
>
> However, I get the error:
> Error in plot.new() : A metafile can store only one figure.
>
> after the first plot.  Any suggestions?


I think you are getting that error because of the layout.show() command.
This produces a diagram of the current layout and then the first
plot(rnorm(10)) starts a new page (which is illegal for a metafile).

Unfortunately, just removing the layout.show() call does not fix everything
because you will then get an error that the "Figure margins too large".
This means that you need to either make the metafile physically larger
(e.g., width=6, height=4 works) or adjust the margins, font size, or
whatever to make enough room for the plots you are producing.

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Thu Mar 14 03:01:02 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Thu, 14 Mar 2002 02:01:02 +0000
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic> <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz> <3C8FB3D0.C7CD3D3D@cancer.org.uk>
Message-ID: <3C90045E.C8E0B8C0@icrf.icnet.uk>

Arne Mueller wrote:
> 
> Paul Murrell wrote:
> >
> > Hi
> >
> > > yes, that's sort of what I was looking for. But I've to mix filled bars
> > > with striped bars in a stacked barplot. I could just set the density for
> > > the completely filled bars to something realy high (1000) but it's realy
> > > slow to draw. Is there a way to mix stiped bars and filled pars in the
> > > same plot?
> >
> > There may be a better way, but does the following do the sort of thing you
> > want ...?
> >
> > m <- matrix(runif(30), ncol=5)
> > barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
> >         border=rep(c("white", "red"), 3), horiz=TRUE,
> >         xlim=c(0, 6), axes=FALSE)
> > par(new=TRUE)
> > barplot(m, beside=FALSE, col="blue",
> >         density=rep(c(10, 5, -1), 2),
> >         angle=rep(c(45, -45, 0), 2), horiz=TRUE,
> >         xlim=c(0, 6))
> >
> > Paul

Hi,

I'd also like to have the filled boxes in the legend to be striped. The
legend function has a 'density' attribute, but unfortunately this does't
seem to do anything

following the above example

legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), fill = c('red', 'blue',
'green', 'orange'))

is the same as

 legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), density=10, fill = c('red',
'blue', 'green', 'orange'),
      density=c(10,-1,20, 200))

In the above example R warns that 'border' is not used yet. Does that
change soon? Basically I'd like the border of each bar to be black
rather than the fill color.

However, isn't it a logic step to implement the density attribute of the
barplot in a way that one can mix filled bars with stiped bars? E.g

barplot(..., besides = FALSE, horiz = TRUE, col = c('red', 'blue',
'green', 'orange'),
	density = c(-1,0,-1,10))

where a density value of 0 means no density AND no filling (empty, just
border), a negative value means complete filling with no stipes and a
positve value means actually stiping with that density valie.

	regards,

	Arne
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mazz at ipac.caltech.edu  Thu Mar 14 03:39:18 2002
From: mazz at ipac.caltech.edu (Joe Mazzarella)
Date: Wed, 13 Mar 2002 18:39:18 -0800
Subject: [R] How to get special (Hershey) font symbols into plot axis labels?
References: <3C8D5526.2010309@ipac.caltech.edu> <3C8DB81D.7710C265@statistik.uni-dortmund.de> <3C8E5AA3.7040908@ipac.caltech.edu> <00b501c1ca34$5436eb40$7632d882@stat.auckland.ac.nz>
Message-ID: <3C900D56.3090304@ipac.caltech.edu>

Dear Paul,


>>The bad news:
>>Although this looked fine in the default X-window plot device,
>>using the Postscript device via
>>   postscript(file="LumFunc.ps",horizontal=FALSE, onefile=FALSE,
>>
> paper="letter")
> 
>>   #above plot commands...
>>   dev.off()
>>produces an x axis label with a "fuzzy" or "grayed out" appearance
>>(the vector font lines are not solid black) which is unacceptable
>>for publication. If I use vfont only for the faked Solar subscript,
>>then the rest of the text is solid black but the Solar
>>subscripts is fuzzy.
>>
>>Any ideas how to "un fuzz" vector font text in the Postscript device?
>>
> 
> 
> Hmmm.  I don't get this on my setup and I'm not sure what would cause it.
> Just to check ... is this "fuzzy" appearance on the printed output or only
> viewing the postscript via ghostview or something?  If the latter, then
> maybe you are just seeing antialiasing -- its a long shot, but worth
> checking :)


You are correct. The "fuzziness" of the vector font is only when
viewed on the monitor using 'gv'. When the Postscript file is printed,
the symbol made with the vector font prints solid black
just like characters using the normal default font.
However, since so many science publications are now presented digitally
in online journals and preprint services, many readers increasingly view PS
or PDF files on their computer (e.g., while working on their own
research papers) and don't always bother to print hardcopy.
Paper is fast becoming a secondary medium of choice.

Interestingly, I find that if I convert the PS file to PDF (on Linux) via
  ps2pdf LumFunc.ps LumFunc.pdf
and view with 'xpdf LumFunc.pdf', the vector font symbols still
appear fainter/fuzzier than the rest, but less so than PS viewed in 'gv'.

Many thanks to you and others who responded.
R is a great package for data analysis and sci/tech graphics,
and support through r-help is fantastic.
Your dedication to this work is much appreciated.

Best regards.

-Joe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Thu Mar 14 04:27:12 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Wed, 13 Mar 2002 19:27:12 -0800
Subject: [R] gif, jpeg and png image files reader AND tcltk image
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD101@ALEX2>

Hi all,

Roger Peng and Jason Turner's suggestion with ImageMagick seem to be the
simplest "dirty" way
to get the problem solved. 

But I ran into yet another interesting but quite round-about way to solve
the problem (partially). Through tcltk package, one can read in the gif
image with

> x <- tkcmd("image", "create", "photo", file=mypic.gif)
> x.data <- tkcmd(x, "data")
gives you the data for the image, but is in a format internal to tcltk. But
then it turns out
that the format is very straightforward to understand: the enclosed simple
function decodes
the format and returns a matrix for the data,
> x.data.ascii <- tk2ascii(x.data)
Then we are done! (This function currently only deals with red color
channel, but expansion to other 2 are very straightforward.) 

On a related note, I have earlier posted a message to ask about whether one
can directly paint an image matrix to a tcltk canvas, the answer is no. One
has to create a pnm file from the image matrix then read in file and then
paint it. When the image is large, the speed of reading and writing disk can
be annoyingly slow. 

Now I begin to believe that it's possible to use 
> x.data <- ascii2tk(imagematrix)
> tkcmd(x, "put", x.data)
where ascii2tk would encode the ascii data into tk internal format for an
image. 

Agustine Lobo offers to provide some functions on display matrices as
images. I would be quite interested in knowing them! On the other hand,
tcltk images provide strong capability for interactivity: cool things such
as point your mouse on the image to get the gray level reading, clipping an
area of the image using mouse etc. Auguably, all these cool image processing
things can be done in other tools such as GIMP. But I would also argue that
to be able to do them in R would increase the productivity of image
processing tasks considerably once the foundation of these tools are laid
out. 
(I have made a few functions that do these cool things entirely in R with
help of tcltk, but they are buggy right now). 

Cheers!
Jonathan




tk2ascii <- function(x){
	###########################
	## tk2ascii converts a tk returned image data
	## into a matrix of integers
	##
	## x: is a tk returned string
	## value: is a matrix of integer representing
	## the image
	###########################	

	list1 <- strsplit(x, "} {")[[1]]
	ROWS <- length(list1)
	list1.1 <- strsplit(list1[1], " #")[[1]]
	COLS <- length(list1.1)
	im <- matrix(0, ROWS, COLS)

	for(i in 1:ROWS){
		row <- strsplit(list1[i], " #")[[1]]
		if(i==1){
			row[1] <- substring(row[1], 2)
		}
		if(i==ROWS){
			row[COLS] <- substring(row[COLS],0, 6)	
		}	
		row[1] <- substring(row[1],2)
		for(j in 1:COLS){
			im[i,j] <- as.integer.hex(substr(row[j], 1,2))
		}	
		#im[i,] <- row
	}

	im
}

as.integer.hex <- function(x){
	##############################
	# as.integer.hex converts a string that
	# represents the hexidecimal number
	# into an integer
	#
	#
	# x must be a string with
	# first digit being the high digit. 
	# value: converted integer
	##############################
	
	len <- nchar(x)
	val <- 0
	for(i in 1:len){
		digit <- substr(x, i,i)
		if(is.na(digit.val <- as.integer(digit))){
			if(digit == "a") digit.val <- 10
			if(digit == "b") digit.val <- 11
			if(digit == "c") digit.val <- 12
			if(digit == "d") digit.val <- 13
			if(digit == "e") digit.val <- 14
			if(digit == "f") digit.val <- 15
		}
		val <- val + digit.val* 16^{len-i}
	}
val
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Mar 14 08:30:35 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 14 Mar 2002 08:30:35 +0100
Subject: [R] How useful is iESS mode for emacs?
References: <Pine.OSF.3.96.1020313184905.6580Q-100000@ija.csic.es>
Message-ID: <3C90519B.EE767019@statistik.uni-dortmund.de>

Agustin Lobo wrote:
> 
> (I reply to the Re: message because inadvertently I deleted the original)
> 
> My opinion is that using the ESS interface
> for R is great for people who are used to emacs, and less
> good for the rest of people, because  it is less intuitive
> than other editors (i.e., WinEdit). For me it was
> hard to get
> used to the (many) idiosynchratic details of emacs (a minor example,
> few people has a key labelled as META, but the M-... are
> everywhere in emacs). Also, I don't like the fact
> that if you, for example, make an ls() and then select
> and copy an object with the mouse and paste, you don't paste
> in the command line but on the list itself, unless you bring the
> cursor to the command line first. Very
> often I was
> not in the R command line and used to get (and still get sometimes) a
> message: "No command in this line".
> Also, at least in my setup, the begin key brings you on top of the
> ">" instead of on top of the first character after ">".
> Probably all these are minor problems (or perhaps, even advantages) for
> people who use emacs also for other purposes.
> 
> Personally, I like better the Windows gui for R + WinEdit, 

Thanks. But the editor is called *WinEdt* (without the "i"). 
WinEdit is another one, mostly known from the days of emtex (a LaTeX
2.09 distribution).


> although I prefer linux for other reasons. The facility for printing
> and saving graphics from the graphic window is another very useful
> feature that I miss in linux.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nina at math.uni-bremen.de  Thu Mar 14 11:41:59 2002
From: nina at math.uni-bremen.de (Nina Lieske)
Date: Thu, 14 Mar 2002 11:41:59 +0100
Subject: [R] persp(): add second plane
Message-ID: <009501c1cb44$dec3c0b0$557c6686@tating>

Dear R-users,

is it possible to add a second plane to the persp()-plot? I couldn't find
any hint on that in the news archive...
I'm using R.1.4.1 for Windows.

Thanks in advance,
Nina


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Mar 14 16:13:21 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 14 Mar 2002 16:13:21 +0100 (CET)
Subject: [R] Log Window
In-Reply-To: <20020313205824.6919.qmail@web14806.mail.yahoo.com>
Message-ID: <Pine.LNX.4.44.0203141611430.8646-100000@localhost.localdomain>

HI,

On Wed, 13 Mar 2002, Jason Parcon wrote:

|Does R have a log window that will tell me how much
|time the software spent in implementing a procedure? 
|For example, suppose I want to do regression with 100
|thousand observations over 100 independent variables.
|I need to find out how much time R will spend in
|implementing its regression procedure with these
|parameters.

As I understand, system.time() is what you are looking for.  It do not open
a separate window, but simply returns different CPU times.

Cheers,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Thu Mar 14 16:51:07 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Thu, 14 Mar 2002 10:51:07 -0500
Subject: What's in 1.5.0 (was Re: [R] mathematical expression in legend)
In-Reply-To: <Pine.GSO.4.44.0203131514030.1488-100000@auk.stats>
References: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>
Message-ID: <3C90809B.10818.E48332@localhost>

I was able to find a NEWS file at 

ftp://ftp.stat.math.ethz.ch/Software/R/pub/alpha/NEWS

however, it only contains updates up to 1.4.1.  Is there one
that includes updates to 1.5.0 or was the one I found the
one you were referring to?

I was also able to locate a beautified cvs log at:

http://developer.r-project.org/R.cvslog.pretty

Perhaps that was what you were referring to?

If there is a 1.5.0 NEWS file could you provide the
precise URL?


On 13 Mar 2002 at 15:19, Prof Brian D Ripley wrote:

> On Wed, 13 Mar 2002, Arne Mueller wrote:
> 
> > the 'adj' fixes the problem for me. Thanks a lot. from 1.4.1. directly to
> > 1.5.0 is a large step in the release number. Are there fundamental
> > changes/enhancements? Is there a list of new features etc.  on the web?
> 
> Look on developer.r-project.org to see the significance, but as the .1 is
> the patchlevel, it will be an *minor* version increment.
> 
> 1.5.0 is not finished yet (it does not go into feature freeze until April
> 8).  The current list of new features is in the NEWS file in the R-devel
> snapshots available via CRAN.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjporter at mindspring.com  Thu Mar 14 16:59:32 2002
From: rjporter at mindspring.com (Bob Porter)
Date: Thu, 14 Mar 2002 10:59:32 -0500
Subject: [R] list function objects only
Message-ID: <014301c1cb71$3b01ef10$6401a8c0@HydePark>

I use R and SPlus intensely, yet sporadically, and always seem to forget
something essential....even if I keep logs.  Anyway, I thought I used to use
a command in R to list or identify only those objects that were
functions.....eg to create a list for filing.  Am I hallucinating?  I can't
seem to find the function I want in SEARCH.

In a related way, is there an R package that provides object management
utilities similar to the Object Browser in SPLUS?

Thanks,
Bob Porter, Tampa



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Mar 14 17:17:15 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Mar 2002 08:17:15 -0800 (PST)
Subject: [R] Sparse matrix methods
In-Reply-To: <Pine.GSO.4.30.0203121157490.2381-100000@student.cgd.ucar.edu>
Message-ID: <Pine.A41.4.44.0203140811520.51386-100000@homer38.u.washington.edu>

On Tue, 12 Mar 2002, Doug Nychka wrote:

>
> Does anyone know of contributions to R for solving sparse linear systems?
> In particular for spatial stats I am interested in solving large
> positive definite symmetric systems.

I have a matrix-free implementation of the conjugate gradient algorithm
(below). That is, to solve Ax=b you supply b and a function that computes
Ax.

I wrote this while working on my dissertation, exactly to solve large
symmetric systems from spatial statistics, but ended up using the Aztec
sparse matrix library from Sandia Labs, which has a wider set of methods.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


cgsparse <-function(Atimes,b,guess,epsilon=0.0001,maxit=50,verbose=F,...){
## Conjugate gradient iterative solver.
## Atimes is a function that returns A%*%x for argument x
## Finds x such that Ax=b with relative error epsilon using
## at most maxit iterations starting from x=guess
##
## Algorithm from Axelsson "Iterative Solution Methods" p470
##
## This algorithm works much better on correlation matrices than
## covariance matrices -- it's worth rescaling first.
##
  x<-guess
  goodenough<-norm(b)*epsilon
  r<-b
  r<-Atimes(x,...)-r
  delta0<-norm(r)
  if (delta0<goodenough) return(cbind(x,r))
  d<- -r
  i<-0
  while(i<maxit){
    i<-i+1
    h<-Atimes(d,...)
    tau<-delta0/crossprod(d,h)
    x<-x+tau*d
    r<-r+tau*h
    delta1<-norm(r)
    if ((verbose) & (delta1>2*delta0))
      warning("?SPD matrix")
    if (delta1<goodenough) break
    beta<-delta1/delta0
    delta0<-delta1
    d<- -r+beta*d
  }
        return(cbind(x,r))

}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Mar 14 17:25:04 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 14 Mar 2002 17:25:04 +0100
Subject: What's in 1.5.0 (was Re: [R] mathematical expression in legend)
In-Reply-To: <3C90809B.10818.E48332@localhost>
References: <Pine.GSO.3.96.1020313142358.26801A-100000@magic>
	<3C90809B.10818.E48332@localhost>
Message-ID: <15504.52960.192197.592715@gargle.gargle.HOWL>

>>>>> "ggr" == ggrothendieck  <ggrothendieck at yifan.net> writes:

    ggr> I was able to find a NEWS file at
    ggr>    ftp://ftp.stat.math.ethz.ch/Software/R/pub/alpha/NEWS

this is just an (old compatibility) alias  for
	    ftp://ftp.stat.math.ethz.ch/R/NEWS
which is identical to
	    http://cran.R-project.org/src/base/NEWS

	    (and so for all CRAN mirrors),
and hence the NEWS file of the latest released version.

    ggr> however, it only contains updates up to 1.4.1.  Is
    ggr> there one that includes updates to 1.5.0 or was the one
    ggr> I found the one you were referring to?

As was told here before (and at http://stat.ethz.ch/CRAN/sources.html )
it's in the daily snapshot, i.e. part of the full source tree,
o  either *in* the daily snapshot which means inside the
   R-devel.tar* file you get from  ftp://ftp.stat.math.ethz.ch/Software/R/
o  or you use rsync which also gives you the whole source tree
   of R-devel  with NEWS at the top.

    ggr> I was also able to locate a beautified cvs log at:

    ggr> http://developer.r-project.org/R.cvslog.pretty

    ggr> Perhaps that was what you were referring to?

definitely not.

    ggr> If there is a 1.5.0 NEWS file could you provide the
    ggr> precise URL?

I have just now added links to the (three) unreleased NEWS files at 

       http://stat.ethz.ch/R-alpha/

or for R-devel directly at
   
       http://stat.ethz.ch/R-alpha/R-devel/NEWS

I hope this helps.  
However BEWARE: `Unrelased' means that these NEWS files will not
		only be updated before release, but there is no
		strict warranty that a release really will
		contain the features mentioned.

    ggr> On 13 Mar 2002 at 15:19, Prof Brian D Ripley wrote:

    >> On Wed, 13 Mar 2002, Arne Mueller wrote:
    >> 
    >> > the 'adj' fixes the problem for me. Thanks a lot. from
    >> 1.4.1. directly to > 1.5.0 is a large step in the release
    >> number. Are there fundamental > changes/enhancements? Is
    >> there a list of new features etc.  on the web?
    >> 
    >> Look on developer.r-project.org to see the significance,
    >> but as the .1 is the patchlevel, it will be an *minor*
    >> version increment.
    >> 
    >> 1.5.0 is not finished yet (it does not go into feature
    >> freeze until April 8).  The current list of new features
    >> is in the NEWS file in the R-devel snapshots available
    >> via CRAN.
    >> 
    >> -- 
    >> Brian D. Ripley, ripley at stats.ox.ac.uk Professor of
    >> Applied Statistics, http://www.stats.ox.ac.uk/~ripley/
    >> University of Oxford, Tel: +44 1865 272861 (self) 1 South
    >> Parks Road, +44 1865 272860 (secr) Oxford OX1 3TG, UK
    >> Fax: +44 1865 272595
    >> 
    >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    >> r-help mailing list -- Read
    >> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send
    >> "info", "help", or "[un]subscribe" (in the "body", not
    >> the subject !)  To: r-help-request at stat.math.ethz.ch
    >> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    >> 


    ggr> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    ggr> r-help mailing list -- Read
    ggr> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send
    ggr> "info", "help", or "[un]subscribe" (in the "body", not
    ggr> the subject !)  To: r-help-request at stat.math.ethz.ch
    ggr> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From virgil at uv.es  Thu Mar 14 19:43:48 2002
From: virgil at uv.es (virgil@uv.es)
Date: Thu, 14 Mar 2002 19:43:48 +0100 (CET)
Subject: [R] Re: RArcInfo Package, get.bnddata()
Message-ID: <Pine.LNX.4.31.0203141943300.1539-100000@matheron.estadi.uv.es>

Hi,

 i have found the bug. The data can be in single or double precision.
Since the data I used to test the package were all in double precision I
didn't take care about that.

 I have added some code to fix, but the code needs more code. If you are
in a hurry I can send to you the source code (or even a compiled binary
fow Windows).

Regards,

 Virgilio



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Mar 14 20:59:41 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 15 Mar 2002 08:59:41 +1300
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic> <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz> <3C8FB3D0.C7CD3D3D@cancer.org.uk> <3C90045E.C8E0B8C0@icrf.icnet.uk>
Message-ID: <009b01c1cb92$c7fbdb80$7632d882@stat.auckland.ac.nz>

Hi


<snip>
> I'd also like to have the filled boxes in the legend to be striped. The
> legend function has a 'density' attribute, but unfortunately this does't
> seem to do anything
>
> following the above example
>
> legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), fill = c('red', 'blue',
> 'green', 'orange'))
>
> is the same as
>
>  legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), density=10, fill = c('red',
> 'blue', 'green', 'orange'),
>       density=c(10,-1,20, 200))


This appears to be a bug.  Can you file a bug report for this please?


> In the above example R warns that 'border' is not used yet. Does that
> change soon? Basically I'd like the border of each bar to be black
> rather than the fill color.


I'm not sure when this might get implemented properly -- in the meantime,
here's a small extension of the example that will "cheat" to give the effect
I think you want ...

 m <- matrix(runif(30), ncol=5)
 barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
         horiz=TRUE,
         xlim=c(0, 6), axes=FALSE)
 par(new=TRUE)
 barplot(m, beside=FALSE, col="blue",
         density=rep(c(10, 5, -1), 2),
         angle=rep(c(45, -45, 0), 2), horiz=TRUE,
         xlim=c(0, 6))
 par(new=TRUE)
 barplot(m, beside=FALSE, col="black", density=-1,
         horiz=TRUE,
         xlim=c(0, 6))


> However, isn't it a logic step to implement the density attribute of the
> barplot in a way that one can mix filled bars with stiped bars? E.g
>
> barplot(..., besides = FALSE, horiz = TRUE, col = c('red', 'blue',
> 'green', 'orange'),
> density = c(-1,0,-1,10))
>
> where a density value of 0 means no density AND no filling (empty, just
> border), a negative value means complete filling with no stipes and a
> positve value means actually stiping with that density valie.


There are a number of places in R where several graphics parameters interact
with each other in a nasty way.  Suggestions for clarifications like this
are very welcome.  But even better would be a patch for the barplot code
that implemented the change :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 14 21:07:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 14 Mar 2002 20:07:41 +0000 (GMT)
Subject: [R] list function objects only
In-Reply-To: <014301c1cb71$3b01ef10$6401a8c0@HydePark>
Message-ID: <Pine.LNX.4.31.0203141955010.17483-100000@gannet.stats>

On Thu, 14 Mar 2002, Bob Porter wrote:

> I use R and SPlus intensely, yet sporadically, and always seem to forget
> something essential....even if I keep logs.  Anyway, I thought I used to use
> a command in R to list or identify only those objects that were
> functions.....eg to create a list for filing.  Am I hallucinating?  I can't
> seem to find the function I want in SEARCH.

Not directly, but easy to do by a bit of programming.

ls.functions <- function()
{
   x <- eval.parent(quote(ls()))
   x[sapply(x, function(x) typeof(get(x)) == "closure")]
}


> In a related way, is there an R package that provides object management
> utilities similar to the Object Browser in SPLUS?

Would that be the Object *Explorer* in the Windows versions 2000 and 6?
If so, no.  (Object Browsers went away some years ago.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 14 22:15:36 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 14 Mar 2002 16:15:36 -0500 (EST)
Subject: [R] persp(): add second plane
In-Reply-To: <009501c1cb44$dec3c0b0$557c6686@tating>
Message-ID: <Pine.LNX.4.30.0203141605590.10802-100000@bolker.zoo.ufl.edu>


  Not directly, but with a little bit of ingenuity you can hack one.

  It's completely undocumented, but persp() returns a 4x4 matrix that
allows you to compute the perspective transform for any other set of
(x,y,z) coordinates, and you can then use points/lines/whatever to
superimpose these on the plot.  (Hidden line removal is a harder problem.)

  Here is some example code (the key is the trans3d() function) that adds
a point, a line, and a plane (of sorts) to one of the persp() example
plots.

  This is essentially how the points3d(), plane3d(), xyz.convert()
functions returned by a call to the scatterplot3d() function (found in its
own library on CRAN) work ...


## matrix multiply c(3dv,1) by transformation matrix:
## plot v[0]/v[3], v[1]/v[3]

x <- seq(-10, 10, length = 50)
y <- x
f <- function(x, y) {
    r <- sqrt(x^2 + y^2)
    10 * sin(r)/r
}
z <- outer(x, y, f)
z[is.na(z)] <- 1
par(bg = "white")

trans3d <- function(x,y,z,pmat) {
  tmat <- t((cbind(x,y,z,1)%*% pmat))
  list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
}

pmat <- persp(x, y, z, theta = 30, phi = 30, expand = 0.5,
              col = "lightblue", xlab = "X", ylab = "Y", zlab = "Z",
              ticktype="detailed")
m <- 1e-5
points(trans3d(m,m,f(m,m),pmat),pch=16)
z2 <- sapply(1:length(x),function(n)f(x[n],y[n]))
lines(trans3d(x,y,z2,pmat),col="red",lwd=2)
lines(trans3d(c(-10,10,10,-10,-10),
              c(-10,-10,10,10,-10),
              c(2,2,8,8,2),pmat),col="blue")

On Thu, 14 Mar 2002, Nina Lieske wrote:

> Dear R-users,
>
> is it possible to add a second plane to the persp()-plot? I couldn't find
> any hint on that in the news archive...
> I'm using R.1.4.1 for Windows.
>
> Thanks in advance,
> Nina
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.degris at laposte.net  Thu Mar 14 23:40:48 2002
From: thomas.degris at laposte.net (Thomas)
Date: Thu, 14 Mar 2002 23:40:48 +0100
Subject: [R] Newbie with R
Message-ID: <3C9126F0.2050702@laposte.net>

Hello,

I thank people who helped me about the learning algorithms of R.
I managed to use the "nnet" and "rpart" packages successfully  [;-)] The 
thing is that I don't know which methods they use.
Because I am writing a report on what I did with them, I'd like to know 
the actual names of these.
I may appear stupid but I didn't find any known name in the documentation.

Thank you very much.

Thomas.



Thomas DEGRIS wrote:

> Hello,
>
> I would like to test some learning algorithms (C5.0, or C4.5) using 
> decision trees or neural network.
> I didn't find anything in the R documentation for functions to apply 
> on datasets (well, English is not my mother tongue and I have some 
> problems to understand some functions descriptions). Does anybody know 
> where I can find anything about that ?
>
> Thank you very much,
>
> Thomas
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Mar 15 02:01:19 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 15 Mar 2002 02:01:19 +0100
Subject: [R] persp(): add second plane
In-Reply-To: <Pine.LNX.4.30.0203141605590.10802-100000@bolker.zoo.ufl.edu>
Message-ID: <KKEGJOGBELBHDIKPINBMCEMICKAA.hb@maths.lth.se>

Hmm, very interesting. I guess I am not the only one that thought about
extending Ben Bolkers idea to plot R^3 data by starting with an empty
persp(). Except from the "risk" of plotting outside the bounds of 3d-box
created by persp() I can't see any problems with this approach. I wrote up
some code for a plot3d() and a points3d() method. I have pasted the code at
the end and as you see I made the plot3d() code to be almost identical to
the one for persp(). First an example how the functions can be used and then
the code:

# Simulate three groups of (x,y,z) data
n <- 3*1000
gr <- list()
gr[[1]] <- matrix(rnorm(n, mean=c(0,0,1), sd=c(1,1,1)), ncol=3, byrow=TRUE)
gr[[2]] <- matrix(rnorm(n, mean=c(5,4,2), sd=c(1,2,1)), ncol=3, byrow=TRUE)
gr[[3]] <- matrix(rnorm(n, mean=c(2,2,4), sd=c(0.2,0.5,0.8)), ncol=3,
byrow=TRUE)

# Calculate the overall limits of the axis
xlim <- ylim <- zlim <- NA
for (k in 1:3) {
  gr[[k]] <- as.data.frame(gr[[k]])
  colnames(gr[[k]]) <- c("x", "y", "z")
  xlim <- range(xlim, gr[[k]][,1], na.rm=TRUE)
  ylim <- range(ylim, gr[[k]][,2], na.rm=TRUE)
  zlim <- range(zlim, gr[[k]][,3], na.rm=TRUE)
}

# First plot one group using plot3d()...
plot3d(gr[[1]], phi=50, pch=176, col="red", xlim=xlim, ylim=ylim, zlim=zlim,
xlab="x", ylab="y", zlab="z")

# ...and then use points3d() to plot the other groups
for (k in 2:3)
  points3d(gr[[k]], pch=176, col=c("blue", "green")[k-1])


##########################################################################
# plot3d
##########################################################################
plot3d <- function(x=seq(0, 1, len=nrow(z)), y=seq(0, 1, len=ncol(z)),
    z, xlim=range(x), ylim=range(y), zlim=range(z, na.rm=TRUE),
    xlab=NULL, ylab=NULL, zlab=NULL, main=NULL, sub=NULL, col=NULL,
    theta=0, phi=15, r=sqrt(3), d=1, scale=TRUE, expand=1,
    border=NULL, box=TRUE, axes=TRUE, nticks=5, ticktype="simple", ...) {

  # Sets the labels on the axis
  if (is.null(xlab))
    xlab <- if (!missing(x)) deparse(substitute(x)) else "X"
  if (is.null(ylab))
    ylab <- if (!missing(y)) deparse(substitute(y)) else "Y"
  if (is.null(zlab))
    zlab <- if (!missing(z)) deparse(substitute(z)) else "Z";

  # Extract the (x,y,z) coordinates
  if (missing(z)) {
    if (!missing(x)) {
      if (is.list(x)) {
        z <- x$z;
        y <- x$y;
        x <- x$x;
      } else {
        z <- x;
        x <- seq(0, 1, len=nrow(z));
      }
    } else
      stop("no `z' matrix specified");
  } else if (is.list(x)) {
    y <- x$y;
    x <- x$x;
  }

  # Decide on the axis ranges
  if (is.null(xlim))
    xlim <- range(x, na.rm=TRUE);
  if (is.null(ylim))
    ylim <- range(y, na.rm=TRUE);
  if (is.null(zlim))
    zlim <- range(z, na.rm=TRUE);

  # Some default values for persp(), which are not needed here.
  ltheta <- -135;
  lphi <- 0;
  shade <- NA;

  # Get the ticktype ID
  ticktype <- pmatch(ticktype, c("simple", "detailed"));

  # Create a minimum empty persp plot.
  xdummy <- 0:1;
  ydummy <- 0:1;
  zdummy <- matrix(rep(NA,4), nrow=2, ncol=2);

  r <- .Internal(persp(xdummy, ydummy, zdummy,
         xlim, ylim, zlim, theta, phi, r, d, scale, expand,
         col, border, ltheta, lphi, shade, box, axes, nticks,
         ticktype, xlab, ylab, zlab, ...));

  # Set any main or subtitle of the plot
  if (!is.null(main) || !is.null(sub))
    title(main = main, sub = sub, ...);

  # Plot the (x,y,z) points
  points3d(x,y,z, r, col=col, ...);

  # Remember the 4-by-4 perspective transform matrix
  options(persp.matrix=r);

  # ...and return it.
  invisible(r)
} # plot3d



##########################################################################
# points3d
##########################################################################
points3d <- function(x=seq(0, 1, len=nrow(z)), y=seq(0, 1, len=ncol(z)),
    z, persp.matrix=getOption("persp.matrix"), ...) {
  # Assert that the 4-by-4 perspective transform matrix is available
  if (is.null(persp.matrix))
    stop("Argument persp.matrix must be specified");

  if (!is.matrix(persp.matrix) ||
      nrow(persp.matrix) != 4 || ncol(persp.matrix) != 4) {
    stop("Argument persp.matrix must be a 4x4 matrix as returned by for
instance persp() or plot3d().");
  }

  # Extract the (x,y,z) coordinates
  if (missing(z)) {
    if (!missing(x)) {
      if (is.list(x)) {
        z <- x$z;
        y <- x$y;
        x <- x$x;
      } else {
        z <- x;
        x <- seq(0, 1, len=nrow(z));
      }
    } else
      stop("no `z' matrix specified");
  } else if (is.list(x)) {
    y <- x$y;
    x <- x$x;
  }

  # Ben Bolker's function for projecting (x,y,z) to (x',y')
  trans3d <- function(x,y,z,pmat) {
    tmat <- t((cbind(x,y,z,1)%*% pmat))
    list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
  }

  # Transform the (x,y,z) in R^3 to (x',y') in R^2
  xy3d <- trans3d(x,y,z, persp.matrix);
  points(xy3d, ...);
} # points3d


Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ben Bolker
> Sent: Thursday, March 14, 2002 10:16 PM
> To: Nina Lieske
> Cc: R help list
> Subject: Re: [R] persp(): add second plane
>
>
>
>   Not directly, but with a little bit of ingenuity you can hack one.
>
>   It's completely undocumented, but persp() returns a 4x4 matrix that
> allows you to compute the perspective transform for any other set of
> (x,y,z) coordinates, and you can then use points/lines/whatever to
> superimpose these on the plot.  (Hidden line removal is a harder problem.)
>
>   Here is some example code (the key is the trans3d() function) that adds
> a point, a line, and a plane (of sorts) to one of the persp() example
> plots.
>
>   This is essentially how the points3d(), plane3d(), xyz.convert()
> functions returned by a call to the scatterplot3d() function (found in its
> own library on CRAN) work ...
>
>
> ## matrix multiply c(3dv,1) by transformation matrix:
> ## plot v[0]/v[3], v[1]/v[3]
>
> x <- seq(-10, 10, length = 50)
> y <- x
> f <- function(x, y) {
>     r <- sqrt(x^2 + y^2)
>     10 * sin(r)/r
> }
> z <- outer(x, y, f)
> z[is.na(z)] <- 1
> par(bg = "white")
>
> trans3d <- function(x,y,z,pmat) {
>   tmat <- t((cbind(x,y,z,1)%*% pmat))
>   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
> }
>
> pmat <- persp(x, y, z, theta = 30, phi = 30, expand = 0.5,
>               col = "lightblue", xlab = "X", ylab = "Y", zlab = "Z",
>               ticktype="detailed")
> m <- 1e-5
> points(trans3d(m,m,f(m,m),pmat),pch=16)
> z2 <- sapply(1:length(x),function(n)f(x[n],y[n]))
> lines(trans3d(x,y,z2,pmat),col="red",lwd=2)
> lines(trans3d(c(-10,10,10,-10,-10),
>               c(-10,-10,10,10,-10),
>               c(2,2,8,8,2),pmat),col="blue")
>
> On Thu, 14 Mar 2002, Nina Lieske wrote:
>
> > Dear R-users,
> >
> > is it possible to add a second plane to the persp()-plot? I
> couldn't find
> > any hint on that in the news archive...
> > I'm using R.1.4.1 for Windows.
> >
> > Thanks in advance,
> > Nina
> >
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
> >
>
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Fri Mar 15 02:12:48 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Thu, 14 Mar 2002 17:12:48 -0800
Subject: No subject
Message-ID: <3C914A90.7CB41599@lbl.gov>

I would like to know if a book on S-plus could help me to learn R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Fri Mar 15 02:53:56 2002
From: jonathan_li at agilent.com (Jonathan Q. Li)
Date: Thu, 14 Mar 2002 17:53:56 -0800
Subject: [R] eval in parent frame: scoping rule confusion
Message-ID: <MAEBJBMCBLHCLJHMPPBNOEACCAAA.jonathan_li@agilent.com>

Hi all,

Look at the following "stupid" function that is created just to show the
problem:

outlayer <- function(x)
{
	inlayer <- function(z){
		e1 <- parent.frame()
		eval(expression(y<-log(z)),e1)
 	}
	inlayer(10)
y
}

I have a compilation error when running this. My purpose is to create "y"
variable equal to log(z) in
the frame of "outlay". How can I achieve this?

Thanks a lot in advance!

Jonathan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 15 04:07:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Mar 2002 19:07:16 -0800 (PST)
Subject: [R] eval in parent frame: scoping rule confusion
In-Reply-To: <MAEBJBMCBLHCLJHMPPBNOEACCAAA.jonathan_li@agilent.com>
Message-ID: <Pine.A41.4.44.0203141905170.51386-100000@homer38.u.washington.edu>

On Thu, 14 Mar 2002, Jonathan Q. Li wrote:

> Hi all,
>
> Look at the following "stupid" function that is created just to show the
> problem:
>
> outlayer <- function(x)
> {
> 	inlayer <- function(z){
> 		e1 <- parent.frame()
> 		eval(expression(y<-log(z)),e1)
>  	}
> 	inlayer(10)
> y
> }
>
> I have a compilation error when running this. My purpose is to create "y"
> variable equal to log(z) in
> the frame of "outlay". How can I achieve this?

The problem is that you can't evaluate y<-log(z) in the outer frame since
there is no z in the outer frame.  You want to evaluate y<-log(10) (or
whatever z happens to be)
One way to do this is to replace your eval() with
  eval(substitute(y<-log(z)),e1)


Whether that's the best way depends on what your real example looks like.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Fri Mar 15 05:51:53 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 15 Mar 2002 16:51:53 +1200
Subject: [R] Re: 
Message-ID: <20020315045153.UJGC8792.mta1-rme.xtra.co.nz@mta1>

Morder Applied Statistics with S-plus, by Venables and Ripley is a classic.  In fact I think it might be the best book around on this area.

Ko-Kang Wang
> 
> From: Francisco J Molina <FJMolina at lbl.gov>
> Date: 2002/03/15 Fri PM 01:12:48 GMT+12:00
> To: r-help <r-help at stat.math.ethz.ch>
> 
> I would like to know if a book on S-plus could help me to learn R.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 15 07:27:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Mar 2002 06:27:50 +0000 (GMT)
Subject: [R] Newbie with R
In-Reply-To: <3C9126F0.2050702@laposte.net>
Message-ID: <Pine.GSO.4.44.0203150625540.13135-100000@auk.stats>

On Thu, 14 Mar 2002, Thomas wrote:

> Hello,
>
> I thank people who helped me about the learning algorithms of R.
> I managed to use the "nnet" and "rpart" packages successfully  [;-)] The
> thing is that I don't know which methods they use.
> Because I am writing a report on what I did with them, I'd like to know
> the actual names of these.
> I may appear stupid but I didn't find any known name in the documentation.

`nnet' and `rpart'!  They are just as much well-defined methods as
`C4.5'.  Why do you assume that Quinlan has an original method but
Ripley/Therneau/Atkinson copy?

>
> Thank you very much.
>
> Thomas.
>
>
>
> Thomas DEGRIS wrote:
>
> > Hello,
> >
> > I would like to test some learning algorithms (C5.0, or C4.5) using
> > decision trees or neural network.
> > I didn't find anything in the R documentation for functions to apply
> > on datasets (well, English is not my mother tongue and I have some
> > problems to understand some functions descriptions). Does anybody know
> > where I can find anything about that ?
> >
> > Thank you very much,
> >
> > Thomas
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Mar 15 08:52:36 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 15 Mar 2002 08:52:36 +0100 (CET)
Subject: [R] Re: S-plus book
In-Reply-To: <3C914A90.7CB41599@lbl.gov>
Message-ID: <Pine.LNX.4.44.0203150841350.9578-100000@localhost.localdomain>

On Thu, 14 Mar 2002, Francisco J Molina wrote:

  |I would like to know if a book on S-plus could help me to learn R.

As mentioned, MASS (modern applied statistics with S-plus) is a classical
book for R.  You should only be aware that 

- the book do not mention R at all
- you need slight modifications for the example code (e.g. you should often
load a specific library)
- you should install packages VR and MASS (the last one is presumably
installed by default), these packages include all (?) the necessary code for
the examples.
- you should also take a look at the book's home page (it can be found from
http://www.r-project.org/doc/bib/R-publications.html), there is some
information for R usage.

I really recommend that book, do not be afraid that it only speaks about
S-plus.

If you are more interested in programming yourself, and less in
pre-programmed packages, you may consider ,,S programming'' by Venables &
Ripley.  This book speaks about R explicitly (because it is newer?).  

On the URL above, you may find more recommendations, but I think the others
are more specific.


Cheers,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 15 09:26:54 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 15 Mar 2002 09:26:54 +0100
Subject: [R] persp(): add second plane
References: <KKEGJOGBELBHDIKPINBMCEMICKAA.hb@maths.lth.se>
Message-ID: <3C91B04E.9004F81@statistik.uni-dortmund.de>

Henrik Bengtsson wrote:
> 
> Hmm, very interesting. I guess I am not the only one that thought about
> extending Ben Bolkers idea to plot R^3 data by starting with an empty
> persp(). Except from the "risk" of plotting outside the bounds of 3d-box
> created by persp() 

Have a look into the code of the package "scatterplot3d". That "risk" is
already solved in there and the ideas will also work for your example.
Also some other generalizations could be adapt for the "persp()-3d"
case.

> I can't see any problems with this approach. I wrote up
> some code for a plot3d() and a points3d() method. I have pasted the code at
> the end and as you see I made the plot3d() code to be almost identical to
> the one for persp(). First an example how the functions can be used and then
> the code:

[snip]


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Mar 15 09:44:54 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 15 Mar 2002 21:44:54 +1300
Subject: [R] Re: S-plus book
References: <Pine.LNX.4.44.0203150841350.9578-100000@localhost.localdomain>
Message-ID: <002a01c1cbfd$afee02a0$977d37d2@n1bliarfyrd5b7>


----- Original Message -----
From: "Ott Toomet" <siim at obs.ee>
To: "Francisco J Molina" <FJMolina at lbl.gov>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Friday, March 15, 2002 8:52 PM
Subject: [R] Re: S-plus book


> On Thu, 14 Mar 2002, Francisco J Molina wrote:
>
>   |I would like to know if a book on S-plus could help me to learn R.
>
> As mentioned, MASS (modern applied statistics with S-plus) is a classical
> book for R.  You should only be aware that
>
> - the book do not mention R at all
> - you need slight modifications for the example code (e.g. you should
often
> load a specific library)

Actually, within the MASS library (after you've installed it) - normally in
$R_LIB/MASS/scripts, there are copies of modified R version of the codes for
all chapters in that book.  They should work in R directly without any
modifications at all.

> - you should install packages VR and MASS (the last one is presumably
> installed by default), these packages include all (?) the necessary code
for
> the examples.

Aren't they the same?  I have a feeling that VR is the name of the
compressed source files of the library, once it is installed it will be
called MASS.  In other words you cannot find MASS.zip or MASS.tar.gz from
CRAN, because it is called VR.zip or VR.tar.gz


> I really recommend that book, do not be afraid that it only speaks about
> S-plus.

I agree.  It has the basic fundamental principles about statistics too.

>
> If you are more interested in programming yourself, and less in
> pre-programmed packages, you may consider ,,S programming'' by Venables &
> Ripley.  This book speaks about R explicitly (because it is newer?).

Yes I have this book too but in my opinion it is more related to
programming, if one is looking for applied statistics book (so one can apply
statistics using R), then MASS book is the choice.

Cheers,

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
Auckland
New Zealand



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 15 10:42:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Mar 2002 10:42:54 +0100
Subject: [R] eval in parent frame: scoping rule confusion
In-Reply-To: <Pine.A41.4.44.0203141905170.51386-100000@homer38.u.washington.edu>
References: <Pine.A41.4.44.0203141905170.51386-100000@homer38.u.washington.edu>
Message-ID: <x2663ynp41.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Thu, 14 Mar 2002, Jonathan Q. Li wrote:
> 
> > Hi all,
> >
> > Look at the following "stupid" function that is created just to show the
> > problem:
> >
> > outlayer <- function(x)
> > {
> > 	inlayer <- function(z){
> > 		e1 <- parent.frame()
> > 		eval(expression(y<-log(z)),e1)
> >  	}
> > 	inlayer(10)
> > y
> > }
> >
> > I have a compilation error when running this. My purpose is to create "y"
> > variable equal to log(z) in
> > the frame of "outlay". How can I achieve this?
> 
> The problem is that you can't evaluate y<-log(z) in the outer frame since
> there is no z in the outer frame.  You want to evaluate y<-log(10) (or
> whatever z happens to be)
> One way to do this is to replace your eval() with
>   eval(substitute(y<-log(z)),e1)
> 
> 
> Whether that's the best way depends on what your real example looks like.

The example tries to use dynamic scope, which may not be the best
idea. The canonical way using *lexical* scope would be:

outlayer <- function(x)
{
    inlayer <- function(z){
          y <<- log(z)
    }
    y <- 0 # or whatever, y must exist before <<- is used
    inlayer(10)
    y
}


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri Mar 15 12:50:18 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 15 Mar 2002 11:50:18 +0000
Subject: [R]: plotting error bar in lattice
Message-ID: <3C91DFFA.D3F9330B@esb.ucp.pt>


Does anyone have any experience in plotting error bars within lattice. I
have not
been able to find any examples in R or trellis docs. I believe it is
possible to
use lsegments() and larrows(). However, I have not been successful in my
efforts.

Could someone direct me to an example of how to do this?

Thanks

Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl at yahoo.com  Fri Mar 15 13:42:59 2002
From: brianscholl at yahoo.com (Brian Scholl)
Date: Fri, 15 Mar 2002 04:42:59 -0800 (PST)
Subject: [R] GMM estimation
Message-ID: <20020315124259.20299.qmail@web20308.mail.yahoo.com>

Hi,
I'd like to do some GMM estimation broadly similar to
Burnside and Eichenbaum (1996?). I've used the Gauss
code (hansen-ogaki) in the past but don't have gauss
on my system anylonger (I think several toolboxes are
required as well that would make it a serious
investment).  Is there any R code available?  If not,
does anyone know of Matlab code that might exist
(without toolboxes).
Thanks 
Brian

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Mar 15 14:20:23 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 15 Mar 2002 08:20:23 -0500
Subject: [R]: plotting error bar in lattice
In-Reply-To: <3C91DFFA.D3F9330B@esb.ucp.pt>
References: <3C91DFFA.D3F9330B@esb.ucp.pt>
Message-ID: <20020315082023.40684cf8.fharrell@virginia.edu>

The Hmisc library is nearing beta-test stage for R.  Its xYplot function will do this, using lattice.  -Frank Harrell

On Fri, 15 Mar 2002 11:50:18 +0000
Peter Ho <peter at esb.ucp.pt> wrote:

> 
> Does anyone have any experience in plotting error bars within lattice. I
> have not
> been able to find any examples in R or trellis docs. I believe it is
> possible to
> use lsegments() and larrows(). However, I have not been successful in my
> efforts.
> 
> Could someone direct me to an example of how to do this?
> 
> Thanks
> 
> Peter
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Fri Mar 15 14:56:02 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Fri, 15 Mar 2002 10:56:02 -0300
Subject: [R] Factorial design in blocks
In-Reply-To: <x2663ynp41.fsf@blueberry.kubism.ku.dk>
Message-ID: <001901c1cc29$24f75940$b454a8c0@gallup.com.br>

	Hi list,

       I need to perform a factorial study 5*3^2. There are 45 possible
combinations at all, but I can't use all this factor level combination at
once. So I am intending to perform this study using blocks. The ideal size
of blocks would be 9, or at most 12 combinations per block. Which
combination should I put in each block in order to have estimates for the
main effects at least? Can R construct this blocks?

	Thanks,

	Marcos

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri Mar 15 14:57:23 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 15 Mar 2002 13:57:23 +0000 (GMT)
Subject: [R] calibration/inverse regression?
Message-ID: <Pine.LNX.4.10.10203151354490.3939-100000@localhost.localdomain>

I wonder if anyone out there has written a routine to solve the simple
linear calibration problem?

- fit regression of y vs x
- estimate the value x0 (with 95% CI) that gives y0

Thanks for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Mar 15 16:03:39 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 15 Mar 2002 09:03:39 -0600
Subject: [R] Re: S-plus book
In-Reply-To: <Pine.LNX.4.44.0203150841350.9578-100000@localhost.localdomain>
References: <Pine.LNX.4.44.0203150841350.9578-100000@localhost.localdomain>
Message-ID: <1016204619.15162.3.camel@musuko.uchicago.edu>

On ?, 2002-03-15 at 01:52, Ott Toomet wrote:
> On Thu, 14 Mar 2002, Francisco J Molina wrote:
> 
>   |I would like to know if a book on S-plus could help me to learn R.
> 
> As mentioned, MASS (modern applied statistics with S-plus) is a classical
> book for R.  You should only be aware that 
> 
> - the book do not mention R at all
[snip]
Didn't I hear a rumor that the 4th edition will mention R- and
S-specific differences (I assume in the same way as _S Programming_,
also by V & R)? Now, what am I going to do with my copies of the 1st and
3rd editions?
-- 
Stuart Luppescu -=- s-luppescu at uchicago.edu        
University of Chicago -=- CCSR 
???????? -=-    Kernel 2.4.14-xfs                
Ah, but a man's grasp should exceed his reach,  Or 
 what's a heaven for ?   -- Robert Browning,
 "Andrea del Sarto" 
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 240 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020315/89eeec80/attachment.bin

From ripley at stats.ox.ac.uk  Fri Mar 15 16:35:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 15 Mar 2002 15:35:39 +0000 (GMT)
Subject: [R] Re: S-plus book
In-Reply-To: <1016204619.15162.3.camel@musuko.uchicago.edu>
Message-ID: <Pine.LNX.4.31.0203151525240.25930-100000@gannet.stats>

On 15 Mar 2002, Stuart Luppescu wrote:

> On $B6b(B, 2002-03-15 at 01:52, Ott Toomet wrote:
> > On Thu, 14 Mar 2002, Francisco J Molina wrote:
> >
> >   |I would like to know if a book on S-plus could help me to learn R.
> >
> > As mentioned, MASS (modern applied statistics with S-plus) is a classical
> > book for R.  You should only be aware that
> >
> > - the book do not mention R at all

R was a lot less usable in 1998 when that edition was written.  Even then
there were `R Complements', but we judged R to be moving too fast to write
in.  (That's still a worry, but it's no longer a beta product.)

> [snip]
> Didn't I hear a rumor that the 4th edition will mention R- and
> S-specific differences.

The fourth edition is to be called `Modern Applied Statistics with S' and
does try to mention R differences where they exist (and many fewer exist
than used to) and we know/remember about them.
http://www.stats.ox.ac.uk/pub/MASS4/ has some details.

> (I assume in the same way as _S Programming_,
> also by V & R)? Now, what am I going to do with my copies of the 1st and
> 3rd editions?

You mean to say they are not falling apart from overuse ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From veronicafcaf at yahoo.com.ar  Fri Mar 15 17:23:08 2002
From: veronicafcaf at yahoo.com.ar (=?iso-8859-1?q?Ver=F3nica=20Uribe?=)
Date: Fri, 15 Mar 2002 13:23:08 -0300 (ART)
Subject: [R] Cross Validation
Message-ID: <20020315162308.3937.qmail@web13304.mail.yahoo.com>

  


---------------------------------
?Quer?s Internet GRATIS? Us? Yahoo! Conexi?n
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020315/24290df0/attachment.html

From c.schulz at metafacts.de  Fri Mar 15 17:32:24 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Fri, 15 Mar 2002 17:32:24 +0100
Subject: [R] Newbie with R
Message-ID: <3C922218.7070706@metafacts.de>

thomas,
download
http://hesweb1.med.virginia.edu/biostat/s/techrep.pdf

and you get a really nice introduction for Rpart and
in Chapter 11 you find Relation to other porgramms .

...sometimes i compare the results between C4.5R8 and Rpart which
are more or less the same, but i can interpret the results with Rpart 
better !
regards,christian


Thomas wrote:

> Hello,
>
> I thank people who helped me about the learning algorithms of R.
> I managed to use the "nnet" and "rpart" packages successfully [;-)] 
> The thing is that I don't know which methods they use.
> Because I am writing a report on what I did with them, I'd like to 
> know the actual names of these.
> I may appear stupid but I didn't find any known name in the 
> documentation.
>
> Thank you very much.
>
> Thomas.
>
>
>
> Thomas DEGRIS wrote:
>
>> Hello,
>>
>> I would like to test some learning algorithms (C5.0, or C4.5) using 
>> decision trees or neural network.
>> I didn't find anything in the R documentation for functions to apply 
>> on datasets (well, English is not my mother tongue and I have some 
>> problems to understand some functions descriptions). Does anybody 
>> know where I can find anything about that ?
>>
>> Thank you very much,
>>
>> Thomas
>>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !) To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>
>
Christian Schulz
MetaFacts GmbH

Fon: +49 (0)30  69 51 71 - 0
Fax: +49 (0)30  69 51 71 - 33
mailto:c.schulz at metafacts.de
http://www.metafacts.de





-- 
Mit freundlichen Gr??en


Christian Schulz
MetaFacts GmbH

Fon: +49 (0)30  69 51 71 - 0
Fax: +49 (0)30  69 51 71 - 33
mailto:c.schulz at metafacts.de
http://www.metafacts.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Fri Mar 15 17:24:11 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Fri, 15 Mar 2002 17:24:11 +0100 (CET)
Subject: [R] creating time series from existing data
Message-ID: <Pine.LNX.4.33.0203151720240.1500-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Is it possible to create a time series from existing data frame? One
column of that frame contains dates (like "01/01/01") and the second one
the values. The period is non-regular (it is not strictly daily nor
working-days-daily).
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8kiAv4TIZ2lmUAtsRAo1bAJ4/Cxj4CMUCEPKCzj7oK7zYI20ljwCeIPeo
SxNA50McDeNRgY/OzFkqvuc=
=9Cs1
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Fri Mar 15 17:52:31 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Fri, 15 Mar 2002 17:52:31 +0100
Subject: [R] cutting barplots at e.g. 50%
Message-ID: <3C9226CF.7090406@tuebingen.mpg.de>

hi,
i want to plot percentage values using barplot. everything works fine so 
far. giving a chance level of 50% i want to plot only the area above 50 
percent.
i can of course cut  using  ylim=c(50,100) but this does not work 
properly since i also see some of the area below 50%.

thanks for suggestions,
jan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Fri Mar 15 17:46:33 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Fri, 15 Mar 2002 17:46:33 +0100
Subject: [R] Non-english fonts in plots
Message-ID: <000d01c1cc40$f9837600$5a01a8c0@iss.local>

Hello to all

I've got a question concerning use of fonts while making plots in R. I
wanted to know if it is possible for me to use polish letters in functions
like text() title() etc. Looked up characters, which can be obtained via
Hershey(), but there are none of them.

I made plots using postscript(), pdf() or png() device to export them to
MSWord or LaTeX.

Windows ANSI CE #dec codes of polish letters
? 140
? 156
? 143
? 159
? 165
? 185
? 175
? 191
? 202
? 234
? 209
? 241
? 211
? 243
? 198
? 230
? 163
? 179

Anyone of you R-wizards know how it can be done, please help.


Michal Bojanowski



-- 

Tego nie znajdziesz w ?adnym sklepie!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Fri Mar 15 18:00:35 2002
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Fri, 15 Mar 2002 17:00:35 +0000 (GMT)
Subject: [R] calibration/inverse regression?
In-Reply-To: <Pine.LNX.4.10.10203151354490.3939-100000@localhost.localdomain>
Message-ID: <Pine.SOL.4.21.0203151656270.29483-100000@wallis>

Bill,

These should work OK - I did it a long time ago so the code is a little
crude. Watch out for some of the longer lines which may not wrap well in
ascii text.

Dave.


> I wonder if anyone out there has written a routine to solve the simple
> linear calibration problem?
> 
> - fit regression of y vs x
> - estimate the value x0 (with 95% CI) that gives y0


# R function to do classical calibration
# input the x and y vectors and the value of y to make an
# estimate for
# val is a value of dep
# returns the calibrated value of x and it's
# single confidence interval about x
# form of calibration particularly suited to jackknifing
calib <- function(indep, dep, val)
{

	# generate the model y on x and get out predicted values for x
	reg <- lm(dep~indep)
	xpre <- (val - coef(reg)[1])/coef(reg)[2]

	# generate a confidence
	yyat <- ((dep - predict(reg))^2)
	sigyyat <- ((sum(yyat)/(length(dep)-2))^0.5)
	term1 <- sigyyat/coef(reg)[2]
	sigxxbar <- sum((indep - mean(indep))^2)
	denom <- sigxxbar * ((coef(reg)[2])^2)
	conf <- abs(((1+(1/length(dep))+(((val -
mean(dep))^2)/denom))^2)*term1)

return(xpre, conf)
}


# R function to do classical calibration
# input the x and y vectors
# returns a data.frame defined in the main function with
# vectors xpre and conf which are the predicted x values and
# the single confidence interval about x
calib <- function(indep,dep)
{

	# generate the model y on x and get out predicted values for x
	reg <- lm(dep~indep)
	xpre <- (dep-coef(reg)[1])/coef(reg)[2]

	# generate a confidence
	yyat <- ((dep-predict(reg))^2)
	sigyyat <- ((sum(yyat)/(length(dep)-2))^0.5)
	term1 <- sigyyat/coef(reg)[2]
	sigxxbar <- sum((indep-mean(indep))^2)
	denom <- sigxxbar * ((coef(reg)[2])^2)
	conf <- 
abs(((1+(1/length(dep))+(((dep-mean(dep))^2)/denom))^2)*term1)

return(xpre, conf)
}






**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Fri Mar 15 17:55:50 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Fri, 15 Mar 2002 16:55:50 +0000
Subject: [R] filled bars with patterns
References: <Pine.GSO.3.96.1020313040441.2280B-100000@magic> <001e01c1cac5$2ac49960$7632d882@stat.auckland.ac.nz> <3C8FB3D0.C7CD3D3D@cancer.org.uk> <3C90045E.C8E0B8C0@icrf.icnet.uk> <009b01c1cb92$c7fbdb80$7632d882@stat.auckland.ac.nz>
Message-ID: <3C922795.15EA72F9@icrf.icnet.uk>

Hi,

thanks for the hint, the workaround below works fine. I'll also file a
bug report on the density stuff in the legend call. 

	regards,

	Arne

Paul Murrell wrote:
> 
> Hi
> 
> <snip>
> > I'd also like to have the filled boxes in the legend to be striped. The
> > legend function has a 'density' attribute, but unfortunately this does't
> > seem to do anything
> >
> > following the above example
> >
> > legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), fill = c('red', 'blue',
> > 'green', 'orange'))
> >
> > is the same as
> >
> >  legend(3.4, 5, c('Axx','Bxx','Cxx','Dxx'), density=10, fill = c('red',
> > 'blue', 'green', 'orange'),
> >       density=c(10,-1,20, 200))
> 
> This appears to be a bug.  Can you file a bug report for this please?
> 
> > In the above example R warns that 'border' is not used yet. Does that
> > change soon? Basically I'd like the border of each bar to be black
> > rather than the fill color.
> 
> I'm not sure when this might get implemented properly -- in the meantime,
> here's a small extension of the example that will "cheat" to give the effect
> I think you want ...
> 
>  m <- matrix(runif(30), ncol=5)
>  barplot(m, beside=FALSE, col=rep(c("white", "light green", "pink"), 2),
>          horiz=TRUE,
>          xlim=c(0, 6), axes=FALSE)
>  par(new=TRUE)
>  barplot(m, beside=FALSE, col="blue",
>          density=rep(c(10, 5, -1), 2),
>          angle=rep(c(45, -45, 0), 2), horiz=TRUE,
>          xlim=c(0, 6))
>  par(new=TRUE)
>  barplot(m, beside=FALSE, col="black", density=-1,
>          horiz=TRUE,
>          xlim=c(0, 6))
> 
> > However, isn't it a logic step to implement the density attribute of the
> > barplot in a way that one can mix filled bars with stiped bars? E.g
> >
> > barplot(..., besides = FALSE, horiz = TRUE, col = c('red', 'blue',
> > 'green', 'orange'),
> > density = c(-1,0,-1,10))
> >
> > where a density value of 0 means no density AND no filling (empty, just
> > border), a negative value means complete filling with no stipes and a
> > positve value means actually stiping with that density valie.
> 
> There are a number of places in R where several graphics parameters interact
> with each other in a nasty way.  Suggestions for clarifications like this
> are very welcome.  But even better would be a patch for the barplot code
> that implemented the change :)
> 
> Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Fri Mar 15 17:59:21 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Fri, 15 Mar 2002 17:59:21 +0100 (CET)
Subject: [R] last day of month values
In-Reply-To: <3C7BA158.674C66CB@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.33.0203151755040.1500-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Thank you, it works. But how do I deal with years? This finds just the
"maxdayspermonths" within a year. But my data are for more years. And the
maxday in month differs in years.
Thank you.

lukas

On Tue, 26 Feb 2002, Joerg Maeder wrote:

> Hi Lukas
>
> use the functions stpftime and strptime (see R documentation)
> eg: as.numeric(strftime(f,format="%m")) for the months, year: "%y", day:
> "%d"
> Be carefull about leadings 0 (3 or 03) and try to write the year in 4
> digits!
> if your date is a string you can use as.numeric(substring(date,from,
> length))
> eg: month <- as.numeric(substring(date,4,2))
>
>
> Lukas Kubin wrote:
> >
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Hi Joerg,
> > thank you for the answer, however I have the timestamp in format 26-02-02.
> > Do I have to extract each part of the date?
> > Thank you.
> >
> > lukas
> >
> > On Tue, 26 Feb 2002, Joerg Maeder wrote:
> >
> > > Hallo Lukas,
> > >
> > > try this code
> > > #data
> > > d <-
> > > data.frame(day=c(1,10,15,30,2,16,18,28),month=c(1,1,1,1,2,2,2,2),value=c(8,9,7,5,6,4,1,2))
> > > #find the highest day per month
> > > ma <- tapply(d$day,d$month,max)
> > > #get them values
> > > d$value[match(as.numeric(names(ma))+(ma-1)/31,d$month+(d$day-1)/31)]
> > >
> > > gruess
> > >
> > > joerg
> > >
> > > Lukas Kubin wrote:
> > > >
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > >
> > > > I have a stock market trading values time series. What's the best way to
> > > > extract the "last day of month" values. I looked at function window() but
> > > > doesn't appear suitable for this since it expects regular dates.
> > > > Thank you.
> > > >
> > > > lukas
> > > >
> > > > - --
> > > > Lukas Kubin
> > > > lukas.kubin at permonik.com
> > > > phone: 00420603836180
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG v1.0.5 (GNU/Linux)
> > > > Comment: For info see http://www.gnupg.org
> > > >
> > > > iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
> > > > YEujkKsmoX/orLUlnHxBNYA=
> > > > =H9uw
> > > > -----END PGP SIGNATURE-----
> > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> > >
> >
> > - --
> > Lukas Kubin
> > lukas.kubin at permonik.com
> > phone: 00420603836180
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.0.5 (GNU/Linux)
> > Comment: For info see http://www.gnupg.org
> >
> > iD8DBQE8e5uJ4TIZ2lmUAtsRAuQXAKDCaNnEyXXVFa6fMS81klJIXDFrlgCgmm71
> > zVnHeNICrNs6dvQd0Ir1YkI=
> > =pcXi
> > -----END PGP SIGNATURE-----
>
>

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8kiht4TIZ2lmUAtsRAlXYAJ9AXzlfmDeh6A1qQFuZPUyVr/nrOgCfaGMd
lgdIrgosXKzRjMNtKcqt/rA=
=ee3Z
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Fri Mar 15 18:05:34 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Fri, 15 Mar 2002 18:05:34 +0100 (CET)
Subject: [R] predicting financial time series
Message-ID: <Pine.LNX.4.33.0203151800180.1500-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

What are the best tools (models within R) for use in predicting stock
market trading values? Currently I'm using the smooth.spline but are there
any others used in practice?
Do I find the mathematical formulations of R-functions somewhere (I now I
could deduct it from the source code algorithms but ...)? Of the
smooth.spline() for example?
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD4DBQE8kini4TIZ2lmUAtsRAiZ0AJdcXg5x4tyP1+SqxTqIrOaAyI/SAJ4+kny4
u5Lf1ckbiiBquH12akn9IA==
=iDdg
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 15 18:39:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 15 Mar 2002 18:39:14 +0100
Subject: [R] cutting barplots at e.g. 50%
References: <3C9226CF.7090406@tuebingen.mpg.de>
Message-ID: <3C9231C2.BC7D24E8@statistik.uni-dortmund.de>



Jan Malte Wiener wrote:
> 
> hi,
> i want to plot percentage values using barplot. everything works fine so
> far. giving a chance level of 50% i want to plot only the area above 50
> percent.
> i can of course cut  using  ylim=c(50,100) but this does not work
> properly since i also see some of the area below 50%.

Looks like a bug (the problem ist the setting of 'xpd').

What you can do is:
At first substract 50 from your data, then add the axis manually:

 x <-  seq(50,100,10) 	# your data
 xn <- x - 50		# substract 50
 barplot(xn, yaxt="n")  # no axis (would be wrong)
 axis(2, at=0:5 * 10, labels=5:10 * 10) # so adding it manually

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 15 18:42:44 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 15 Mar 2002 17:42:44 +0000 (GMT)
Subject: [R] Non-english fonts in plots
In-Reply-To: <000d01c1cc40$f9837600$5a01a8c0@iss.local>
Message-ID: <Pine.LNX.4.31.0203151715110.26291-100000@gannet.stats>

On Fri, 15 Mar 2002, Michal Bojanowski wrote:

> Hello to all
>
> I've got a question concerning use of fonts while making plots in R. I
> wanted to know if it is possible for me to use polish letters in functions
> like text() title() etc. Looked up characters, which can be obtained via
> Hershey(), but there are none of them.
>
> I made plots using postscript(), pdf() or png() device to export them to
> MSWord or LaTeX.
>
> Windows ANSI CE #dec codes of polish letters
[...]

Which doesn't help at all on most other machines, as your email isn't in
Windows ANSI as defined in my Microsoft docs.  It says the message is in
iso-8859-2, that is ISO latin2.

You should be able to do this by specifying a suitable `encoding' argument
to postscript() or pdf(), and png() should just do it on a Windows machine
in a Polish locale.  Also the Windows screen device should work in any
locale and use the native encoding, so the first thing to try is plotting
on-screen.

What I understand to be Polish letters are not in WinAnsi as defined by
Adobe.  They are in ISOLatin2, and you may be able to use that, or use it
as a starting point for the encoding you have.  There is fairly extensive
documentation on the help page for postscript, and a cross-reference from
?pdf.

Note that for postscript in particular the characters have to be in the
fonts you are using, and we've met problems with Adobe fonts not covering
all of ISO latin2 before now.  You may need to use the URW ones.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Fri Mar 15 19:15:57 2002
From: jonathan_li at agilent.com (Jonathan Q. Li)
Date: Fri, 15 Mar 2002 10:15:57 -0800
Subject: [R] gif, jpeg and png image files reader AND tcltk image
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD05ABD101@ALEX2>
Message-ID: <MAEBJBMCBLHCLJHMPPBNIEAFCAAA.jonathan_li@agilent.com>

Hi all,

Following my previous posting, here is a function that takes a image matrix
and paint it
into a tcltk canvas. Then one can interact with the image using mouse;
things you could do
include: return mouse position, display the graylevel (now it works only
with graylevel image),
clipping( click left mouse button-hold-drag to new position) to generate
subimage. I have finally
debugged it although there are still some problems:
1. the speed of loading a new window is fairly slow, I don't know if the
slowness comes from the fact that we are using tcltk scripting, or if it
comes from the generating and reading of temporary files;
2. there are warnings messages, they actually come from my function
tk2ascii() where I am using a less-than-smart way to convert hexidecimal
string into integers. they don't really hurt, but I will need to make them
go away.

Please try the function out and let me know what you think. It's fairly easy
to use. Note: you must have the functions tk2ascii() and as.integer.hex() I
posted earlier.

Cheers,
Jonathan

Jonathan Q. Li, PhD
Agilent Technologies
3500 Deer Creek Road
Palo Alto, CA 94041



imageviewer <- function(im){

	###############################
	# imageviewer creates a canvas to
	# hold the graylevel image represented
	# by a matrix im
	#
	#
	# im: matrix of graylevel image
	# value: no return values
	################################

	rw <- tktoplevel()
	display.frame <- tkframe(rw,"-height", "1", "-width","20")
	pixel.display1 <- tktext(display.frame, "-height","1","-width","4")
	pixel.display2 <- tktext(display.frame, "-height", "1","-width", "4")
	pixel.display3 <- tktext(display.frame, "-height", "1", "-width", "3")

	tkpack(pixel.display1, pixel.display2, pixel.display3, "-side", "left")

	if(!require(pixmap))  stop("pixmap not present")
	newfile <- tempfile()
	write.pnm( pixmap(im), file=newfile)
	xxx <- tkcmd("image","create","photo", file=newfile)
	unlink(newfile)

	can <- tkcanvas(rw, width=1024,height=800, "-scrollregion", "0 0 1920
1536")
	yscroll <- tkscrollbar(rw, command =function(...)tkcmd(can,"yview",...),
orient="vertical")
	xscroll <- tkscrollbar(rw, command= function(...)tkcmd(can,"xview",...),
"-orient", "horizontal")
	tkconfigure(can, yscrollcommand=function(...)tkcmd(yscroll, "set",...))
	tkconfigure(can, xscrollcommand=function(...)tkset(xscroll,...))

	#################################
	# arrange the grid display pattern
	#################################

	tkgrid(display.frame, sticky="news")
	tkgrid(can, yscroll, sticky="news")
	tkgrid(xscroll, sticky="ew")
	tkgrid.rowconfigure(rw$ID, "1", weight=1)
	tkgrid.columnconfigure(rw$ID, "0", weight=1)

	####################################
	# now the functionalities
	####################################

	canvas.position <- function(x,y){

		xpos <- tkcmd(can$ID, "canvasx", as.integer(x))
		ypos <- tkcmd(can$ID, "canvasy", as.integer(y))

		tkcmd(pixel.display1, "delete", "1.0","1.4")
		tkcmd(pixel.display1, "insert", "1.0", paste(xpos))
		tkcmd(pixel.display2, "delete", "1.0", "1.4")
		tkcmd(pixel.display2, "insert","1.0", paste(ypos))
	list(xpos=xpos, ypos=ypos)
	}

	tkbind(can, "<Motion>", canvas.position)

	xxxim <- tkcmd(can, "create","image", 0,0, image=xxx, anchor="nw")

	start.roi <- function(x,y){
		e1 <- parent.frame()
		eval(substitute( start.x <- x),e1)
		eval(substitute( start.y <- y), e1)
	}

	tkitembind(can, xxxim, "<Button-1>", start.roi)

	end.roi <- function(x,y){
		yyy <- tkcmd("image","create","photo")
		tkcmd(yyy, "copy", xxx, "-from", start.x,start.y,x,y)
		im.data <- tk2ascii( tkcmd(yyy,"data") )

		imageviewer(im.data)
	}

	tkitembind(can, xxxim, "<B1-ButtonRelease>", end.roi)

	graylevel <- function(x,y){
		pos <- canvas.position(x,y)
		width <- as.integer(tkcmd("image","width",xxx))
		if( pos$xpos >= width){
			pos$xpos <- width -1
		}
		height <- as.integer(tkcmd("image","height",xxx))
		if(pos$ypos >= height){
			pos$ypos <- height -1
		}

		tkcmd(pixel.display3, "delete", "1.0", "1.2")

		xpos <- unlist(strsplit(pos$xpos,"\\."))[1]#convert into string integer
		ypos <- unlist(strsplit(pos$ypos,"\\."))[1]
		tkcmd(pixel.display3, "insert", "1.0", substr(tkcmd(xxx, "get", xpos,
ypos), 1,3))
	}

	tkitembind(can, xxxim, "<Any-Enter>", graylevel)
	tkitembind(can, xxxim, "<Motion>", graylevel)

}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nawlnz at yahoo.com  Fri Mar 15 20:06:08 2002
From: nawlnz at yahoo.com (Dennis L. Malandro)
Date: Fri, 15 Mar 2002 11:06:08 -0800 (PST)
Subject: [R] variance components in lme
Message-ID: <20020315190608.49938.qmail@web14401.mail.yahoo.com>

Hello,

I'd tried to estimate the variance components for the
following data set, where lab and run %in% lab are
random effects, and vol is the response.

   lab run       vol
37   2   1 0.6800000
38   2   1 0.6300000
39   2   1 0.6600000
40   2   1 0.7600000
41   2   1 0.6800000
42   2   1 0.6100000
67   2   2 0.2940494
68   2   2 0.2943254
69   2   2 0.3339296
70   2   2 0.2439775
71   2   2 0.2516614
72   2   2 0.2281578

> lme(vol ~ 1, random = ~ 1 | lab/run)
Linear mixed-effects model fit by REML
  Data: NULL 
  Log-restricted-likelihood: 14.23677
  Fixed: vol ~ 1 
(Intercept) 
  0.4721751 

Random effects:
 Formula: ~1 | lab
        (Intercept)
StdDev:  0.03570064

 Formula: ~1 | run %in% lab
        (Intercept)  Residual
StdDev:   0.2791252 0.0463765

Number of Observations: 12
Number of Groups: 
         lab run %in% lab 
           1            2 


Since lab has only one level, I would have expected
StdDev for Formula: ~ | lab (Intercept) to be zero or
NaN or something like that, instead of 0.03570064. 
What am I misinterpreting?  Or better yet what is
0.03570064 the standard deviation estimate of, if not
that between labs?

Thanks a lot,
Dennis

Windows 95
R 1.4.1 (and the version of nlme that came with it)

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Mar 15 20:27:04 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 15 Mar 2002 13:27:04 -0600
Subject: [R] predicting financial time series
In-Reply-To: <Pine.LNX.4.33.0203151800180.1500-100000@x.opf.slu.cz>
References: <Pine.LNX.4.33.0203151800180.1500-100000@x.opf.slu.cz>
Message-ID: <20020315192704.GA22168@sonny.eddelbuettel.com>

On Fri, Mar 15, 2002 at 06:05:34PM +0100, Lukas Kubin wrote:
> What are the best tools (models within R) for use in predicting stock
> market trading values? Currently I'm using the smooth.spline but are there

Interesting question.  Suppose an answer exists.  Would someone post it here?

The classical Chicago School answer is of course that you can't forecast
stock market prices "at large" or "that easily", at least not profitably
after transaction costs and once you adjusted for the risk level you have
are taking.  If you are a broker with minuscule transaction costs then maybe
you have something.  Then again, you don't really hear about successful
schemes for the obvious reasons.

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Fri Mar 15 21:05:51 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Fri, 15 Mar 2002 21:05:51 +0100
Subject: Odp: [R] Non-english fonts in plots
References: <Pine.LNX.4.31.0203151715110.26291-100000@gannet.stats>
Message-ID: <001501c1cc5c$d2254540$5a01a8c0@iss.local>

Thank you for the reply prof. Ripley, but...

The on-screen plotting do not work. Don't know why, but can't even type
polish letters in the console.
Some of them work, but only a few of them. Those which do not, cause system
error. What is the reason
for that?

For plotting using postscript() i guess I don't have enough knowledge of
Postscript etc. to that by myself.

Anyway thank you again

Michal



-- 

Okresl Swoje potrzeby - my znajdziemy oferte za Ciebie!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From makram.talih at yale.edu  Fri Mar 15 23:33:17 2002
From: makram.talih at yale.edu (Makram Talih)
Date: Fri, 15 Mar 2002 17:33:17 -0500 (EST)
Subject: [R] lexicographic sort
Message-ID: <Pine.GSO.4.44.0203151725410.20463-100000@minerva.its.yale.edu>

Hello,

What is the rule R uses for lexicographical sort. For example,

sort("b","a") returns [1] "a" "b"

sort("b", " ") returns [1] " " "b"

which seems to imply a space character has priority. But

sort("jam on", "jambon") returns [1] "jambon" "jam on"

Why does the rule change? Any hints/suggestions?

Cheers,

Makram.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Sat Mar 16 04:27:40 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Fri, 15 Mar 2002 19:27:40 -0800
Subject: [R] stop a script and then resume it?
Message-ID: <3C92BBAC.AE533A14@lbl.gov>

If I am running a script in iESS...Can I stop it for a while, check the
value of some variables and resume the execution of the script where I
stopped it?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sat Mar 16 06:12:29 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 16 Mar 2002 00:12:29 -0500
Subject: [R] Problems with merge
Message-ID: <3C928DED.9236.75441E@localhost>

> # this works ok
> data(iris)
> merge(iris[1,],iris)
  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
> 
> # but try the same thing with this data frame
> d.df <- data.frame(x=1:3,y=c("A","D","E"),z=c(6,9,10))
> d.df
  x y  z
1 1 A  6
2 2 D  9
3 3 E 10
> 
> # this results in zero rows whereas it should have 1 !!!
> merge(d.df[1,],d.df)
[1] x y z
<0 rows> (or 0-length row.names)
> 
> # remove last case and it suddenly works OK
> merge(d.df[1,],d.df[-3,])
  x y z
1 1 A 6
> 
> # or remove z and it suddenly works OK
> merge(d.df[1,-3],d.df[,-3])
  x y
1 1 A
> 
> # Here is another different problem with merge
> # we specified no sorting but the rows are not in the same order as e.df
> e.df <- data.frame(x=c(1,4,5,1,3,5),y=c("A","D","E","A","C","E"),z=c(6,9,10,6,8,10))
> e.df
  x y  z
1 1 A  6
2 4 D  9
3 5 E 10
4 1 A  6
5 3 C  8
6 5 E 10
> merge(e.df,unique(e.df),sort=F)
  x y  z
1 1 A  6
2 1 A  6
3 4 D  9
4 5 E 10
5 5 E 10
6 3 C  8
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sat Mar 16 06:14:10 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 16 Mar 2002 00:14:10 -0500
Subject: [R] Problems with merge
Message-ID: <3C928E52.22860.76CCDF@localhost>

On R 1.4.1 under Windows 2000 I experience the following:

> # this works ok
> data(iris)
> merge(iris[1,],iris)
  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
> 
> # but try the same thing with this data frame
> d.df <- data.frame(x=1:3,y=c("A","D","E"),z=c(6,9,10))
> d.df
  x y  z
1 1 A  6
2 2 D  9
3 3 E 10
> 
> # this results in zero rows whereas it should have 1 !!!
> merge(d.df[1,],d.df)
[1] x y z
<0 rows> (or 0-length row.names)
> 
> # remove last case and it suddenly works OK
> merge(d.df[1,],d.df[-3,])
  x y z
1 1 A 6
> 
> # or remove z and it suddenly works OK
> merge(d.df[1,-3],d.df[,-3])
  x y
1 1 A
> 
> # Here is another different problem with merge
> # we specified no sorting but the rows are not in the same order as e.df
> e.df <- data.frame(x=c(1,4,5,1,3,5),y=c("A","D","E","A","C","E"),z=c(6,9,10,6,8,10))
> e.df
  x y  z
1 1 A  6
2 4 D  9
3 5 E 10
4 1 A  6
5 3 C  8
6 5 E 10
> merge(e.df,unique(e.df),sort=F)
  x y  z
1 1 A  6
2 1 A  6
3 4 D  9
4 5 E 10
5 5 E 10
6 3 C  8
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sat Mar 16 06:21:50 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 16 Mar 2002 00:21:50 -0500
Subject: [R] uninstall problem
Message-ID: <3C92901E.20041.7DD437@localhost>


Under Windows 2000 I installed R 1.4.0 some time ago.  I then 
installed R 1.4.1 just now.   If I 

hit the Windows Start button
select Programs from the menu that appears
select R from the menu that appears

then I get a menu with 

	R 1.4.0
	R 1.4.1
	R 1.4.0 Help
	R 1.4.1 Help
	Uninstall R for Windows

If I select Uninstall R for Windows it uninstalls R 1.4.1 but 
I want to uninstall 1.4.0 .   How do I do that?  There does 
not appear to be separate uninstalls for the two versions.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 16 08:00:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Mar 2002 07:00:11 +0000 (GMT)
Subject: [R] lexicographic sort
In-Reply-To: <Pine.GSO.4.44.0203151725410.20463-100000@minerva.its.yale.edu>
Message-ID: <Pine.GSO.4.44.0203160653520.25169-100000@auk.stats>

On Fri, 15 Mar 2002, Makram Talih wrote:

> Hello,
>
> What is the rule R uses for lexicographical sort. For example,

It depends on the locale.

> sort("b","a") returns [1] "a" "b"

I get an error for that: it is incorrect usage.  I think you meant

sort(c("b","a"))

etc, for which the results are consistent in 1.4.1 in my locale.

Are you using a current version of R (not that the usage has ever been
right AFAIK)?


> sort("b", " ") returns [1] " " "b"
>
> which seems to imply a space character has priority. But
>
> sort("jam on", "jambon") returns [1] "jambon" "jam on"
>
> Why does the rule change? Any hints/suggestions?

Read the help page?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 16 08:03:53 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Mar 2002 07:03:53 +0000 (GMT)
Subject: [R] uninstall problem
In-Reply-To: <3C92901E.20041.7DD437@localhost>
Message-ID: <Pine.GSO.4.44.0203160701100.25169-100000@auk.stats>

On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:

>
> Under Windows 2000 I installed R 1.4.0 some time ago.  I then
> installed R 1.4.1 just now.   If I
>
> hit the Windows Start button
> select Programs from the menu that appears
> select R from the menu that appears
>
> then I get a menu with
>
> 	R 1.4.0
> 	R 1.4.1
> 	R 1.4.0 Help
> 	R 1.4.1 Help
> 	Uninstall R for Windows
>
> If I select Uninstall R for Windows it uninstalls R 1.4.1 but
> I want to uninstall 1.4.0 .   How do I do that?  There does
> not appear to be separate uninstalls for the two versions.

You go to the 1.4.0 directory and run Uninstall.exe. This and related
issues are covered in the rw-FAQ in R-devel (1.5.0 to be).

BTW, the behaviour is quite common for Windows applications.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 16 08:33:25 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Mar 2002 07:33:25 +0000 (GMT)
Subject: [R] Problems with merge
In-Reply-To: <3C928DED.9236.75441E@localhost>
Message-ID: <Pine.GSO.4.44.0203160730260.25169-100000@auk.stats>

On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:

> > # this works ok
> > data(iris)
> > merge(iris[1,],iris)
>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
> 1          5.1         3.5          1.4         0.2  setosa
> >
> > # but try the same thing with this data frame
> > d.df <- data.frame(x=1:3,y=c("A","D","E"),z=c(6,9,10))
> > d.df
>   x y  z
> 1 1 A  6
> 2 2 D  9
> 3 3 E 10
> >
> > # this results in zero rows whereas it should have 1 !!!
> > merge(d.df[1,],d.df)
> [1] x y z
> <0 rows> (or 0-length row.names)
> >
> > # remove last case and it suddenly works OK
> > merge(d.df[1,],d.df[-3,])
>   x y z
> 1 1 A 6
> >
> > # or remove z and it suddenly works OK
> > merge(d.df[1,-3],d.df[,-3])
>   x y
> 1 1 A

This is a bug.  Look at

> d.df[1,]
  x y z
1 1 A 6

to see why: In d.df the last column has leading spaces.


> > # Here is another different problem with merge
> > # we specified no sorting but the rows are not in the same order as e.df

Do read the help page. This is sorted in the order specifed there:

     The rows are by default lexicographically sorted on
     the common columns, but are otherwise in the order in which they
     occurred in `x'.

> > e.df <- data.frame(x=c(1,4,5,1,3,5),y=c("A","D","E","A","C","E"),z=c(6,9,10,6,8,10))
> > e.df
>   x y  z
> 1 1 A  6
> 2 4 D  9
> 3 5 E 10
> 4 1 A  6
> 5 3 C  8
> 6 5 E 10
> > merge(e.df,unique(e.df),sort=F)
>   x y  z
> 1 1 A  6
> 2 1 A  6
> 3 4 D  9
> 4 5 E 10
> 5 5 E 10
> 6 3 C  8

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 16 09:17:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Mar 2002 08:17:40 +0000 (GMT)
Subject: [R] Problems with merge
In-Reply-To: <Pine.GSO.4.44.0203160730260.25169-100000@auk.stats>
Message-ID: <Pine.GSO.4.44.0203160807080.27969-100000@auk.stats>

On Sat, 16 Mar 2002, Prof Brian D Ripley wrote:

> > > # Here is another different problem with merge
> > > # we specified no sorting but the rows are not in the same order as e.df
>
> Do read the help page. This is sorted in the order specifed there:
>
>      The rows are by default lexicographically sorted on
>      the common columns, but are otherwise in the order in which they
>      occurred in `x'.
>
> > > e.df <- data.frame(x=c(1,4,5,1,3,5),y=c("A","D","E","A","C","E"),z=c(6,9,10,6,8,10))
> > > e.df
> >   x y  z
> > 1 1 A  6
> > 2 4 D  9
> > 3 5 E 10
> > 4 1 A  6
> > 5 3 C  8
> > 6 5 E 10
> > > merge(e.df,unique(e.df),sort=F)
> >   x y  z
> > 1 1 A  6
> > 2 1 A  6
> > 3 4 D  9
> > 4 5 E 10
> > 5 5 E 10
> > 6 3 C  8

Sorry, I have problems parsing expressions with no spaces in!
merge(x = e.df, y = unique(e.df), sort = FALSE) is more readable by me.

It's an error on the help page: it should say `y'.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sat Mar 16 14:17:34 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 16 Mar 2002 08:17:34 -0500
Subject: [R] uninstall problem
In-Reply-To: <Pine.GSO.4.44.0203160701100.25169-100000@auk.stats>
References: <3C92901E.20041.7DD437@localhost>
Message-ID: <3C92FF9E.13512.2691BA@localhost>

On 16 Mar 2002 at 7:03, Prof Brian D Ripley wrote:

> On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:
> 
> >
> > Under Windows 2000 I installed R 1.4.0 some time ago.  I then
> > installed R 1.4.1 just now.   If I
> >
> > hit the Windows Start button
> > select Programs from the menu that appears
> > select R from the menu that appears
> >
> > then I get a menu with
> >
> > 	R 1.4.0
> > 	R 1.4.1
> > 	R 1.4.0 Help
> > 	R 1.4.1 Help
> > 	Uninstall R for Windows
> >
> > If I select Uninstall R for Windows it uninstalls R 1.4.1 but
> > I want to uninstall 1.4.0 .   How do I do that?  There does
> > not appear to be separate uninstalls for the two versions.
> 
> You go to the 1.4.0 directory and run Uninstall.exe. This and related
> issues are covered in the rw-FAQ in R-devel (1.5.0 to be).
> 
> BTW, the behaviour is quite common for Windows applications.


This works but
1. there are stil some files left including some dot files and
the library directory hierarchy.   I guess you have to delete
them by hand?
2. the Start | Programs | R | Uninstall R for Windows
menu item disappeas do it won't be possible to use it for 1.4.1 
either.

It seems you have to uninstall 1.4.0 before installling
1.4.1 if you want to be able to rely on the uninstall in the
Start | Programs | R    menu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 16 17:57:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 16 Mar 2002 16:57:56 +0000 (GMT)
Subject: [R] uninstall problem
In-Reply-To: <3C92FF9E.13512.2691BA@localhost>
Message-ID: <Pine.LNX.4.31.0203161655420.31753-100000@gannet.stats>

On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:

> On 16 Mar 2002 at 7:03, Prof Brian D Ripley wrote:
>
> > On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:
> >
> > >
> > > Under Windows 2000 I installed R 1.4.0 some time ago.  I then
> > > installed R 1.4.1 just now.   If I
> > >
> > > hit the Windows Start button
> > > select Programs from the menu that appears
> > > select R from the menu that appears
> > >
> > > then I get a menu with
> > >
> > > 	R 1.4.0
> > > 	R 1.4.1
> > > 	R 1.4.0 Help
> > > 	R 1.4.1 Help
> > > 	Uninstall R for Windows
> > >
> > > If I select Uninstall R for Windows it uninstalls R 1.4.1 but
> > > I want to uninstall 1.4.0 .   How do I do that?  There does
> > > not appear to be separate uninstalls for the two versions.
> >
> > You go to the 1.4.0 directory and run Uninstall.exe. This and related
> > issues are covered in the rw-FAQ in R-devel (1.5.0 to be).
> >
> > BTW, the behaviour is quite common for Windows applications.
>
>
> This works but
> 1. there are stil some files left including some dot files and
> the library directory hierarchy.   I guess you have to delete
> them by hand?

It only deletes files it installed.

> 2. the Start | Programs | R | Uninstall R for Windows
> menu item disappeas do it won't be possible to use it for 1.4.1
> either.

Right.

>
> It seems you have to uninstall 1.4.0 before installling
> 1.4.1 if you want to be able to rely on the uninstall in the
> Start | Programs | R    menu

Indeed. That's what the R-devel rw-FAQ item recommends, and again, is
common for Windows programs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merser at image.dk  Sat Mar 16 19:31:28 2002
From: merser at image.dk (=?iso-8859-1?Q?S=F8ren_Merser?=)
Date: Sat, 16 Mar 2002 19:31:28 +0100
Subject: [R] readline library for Redhat 7.2
Message-ID: <000901c1cd18$cc1d0e50$8b00a8c0@OSEK>

Could anyone please point me to the library
    readline41-4.1-10.i386.rpm
which is requiered for installing the R-base package on Redhat 7.2
regards 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upecout at ics.uci.edu  Sat Mar 16 19:34:29 2002
From: upecout at ics.uci.edu (=?iso-8859-1?Q?Yann_P=E9cout?=)
Date: Sat, 16 Mar 2002 10:34:29 -0800
Subject: [R] uninstall problem
In-Reply-To: <3C92FF9E.13512.2691BA@localhost>
Message-ID: <000801c1cd19$3eb0dfa0$2627c880@ics.uci.edu>

It's not a big problem. Since you don't have uninstall R version 1.4.0
all the old files have been overwritten but not the shortcuts since they
don't have the same name. However they still use the same file: I mean
shortcut R 1.4.0 and shortcut 1.4.1 both have the same target. The same
for Uninstall.
You can simply erase the shortcut 1.4.0, and everything will be ok.

Yann

-----Message d'origine-----
De?: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] De la part de
ggrothendieck at yifan.net
Envoy??: samedi 16 mars 2002 05:18
??: Prof Brian D Ripley
Cc?: r-help at stat.math.ethz.ch
Objet?: Re: [R] uninstall problem

On 16 Mar 2002 at 7:03, Prof Brian D Ripley wrote:

> On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:
> 
> >
> > Under Windows 2000 I installed R 1.4.0 some time ago.  I then
> > installed R 1.4.1 just now.   If I
> >
> > hit the Windows Start button
> > select Programs from the menu that appears
> > select R from the menu that appears
> >
> > then I get a menu with
> >
> > 	R 1.4.0
> > 	R 1.4.1
> > 	R 1.4.0 Help
> > 	R 1.4.1 Help
> > 	Uninstall R for Windows
> >
> > If I select Uninstall R for Windows it uninstalls R 1.4.1 but
> > I want to uninstall 1.4.0 .   How do I do that?  There does
> > not appear to be separate uninstalls for the two versions.
> 
> You go to the 1.4.0 directory and run Uninstall.exe. This and related
> issues are covered in the rw-FAQ in R-devel (1.5.0 to be).
> 
> BTW, the behaviour is quite common for Windows applications.


This works but
1. there are stil some files left including some dot files and
the library directory hierarchy.   I guess you have to delete
them by hand?
2. the Start | Programs | R | Uninstall R for Windows
menu item disappeas do it won't be possible to use it for 1.4.1 
either.

It seems you have to uninstall 1.4.0 before installling
1.4.1 if you want to be able to rely on the uninstall in the
Start | Programs | R    menu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 17 00:30:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Mar 2002 00:30:49 +0100
Subject: [R] readline library for Redhat 7.2
In-Reply-To: <000901c1cd18$cc1d0e50$8b00a8c0@OSEK>
References: <000901c1cd18$cc1d0e50$8b00a8c0@OSEK>
Message-ID: <x21yekw0nq.fsf@blueberry.kubism.ku.dk>

S?ren Merser <merser at image.dk> writes:

> Could anyone please point me to the library
>     readline41-4.1-10.i386.rpm
> which is requiered for installing the R-base package on Redhat 7.2
> regards 

Disk 2 of RedHat 7.2:

[pd at butterfly R]$ find /mnt/iso2/RedHat/ -name readline41\*
/mnt/iso2/RedHat/RPMS/readline41-4.1-10.i386.rpm

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Sun Mar 17 01:34:07 2002
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Sun, 17 Mar 2002 11:34:07 +1100 (EST)
Subject: [R] xfig() documentation
Message-ID: <Pine.LNX.4.33.0203171127270.2741-100000@stat.ma.adfa.ed.au>

Just a small typo in the xfig() documentation, unless I'm even dumber than
I thought today . . .

   Usage:

        xfig(file = "Rplots.fig", onefile = FALSE, ...)

   Arguments:

    ...

       onefile: logical: if true (the default) ...


Ted.

Dr E.A. Catchpole
 ----------------------------------
| Associate Professor              |      -----------------------------------
| School of Maths & Stats          |     |  Honorary Senior Research Fellow  |
| University College, UNSW         |     |  Institute of Maths & Stats       |
| Australian Defence Force Academy | and |  University of Kent at Canterbury |
| Canberra, ACT 2600, Australia    |     |  Canterbury CT2 7NF, England      |
| e-catchpole at adfa.edu.au          |     |  E.A.Catchpole at ukc.ac.uk          |
| www.ma.adfa.edu.au/~eac          |      -----------------------------------
| fax: +61 2 6268 8886		   |
 ----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Sun Mar 17 04:09:42 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Sun, 17 Mar 2002 03:09:42 +0000
Subject: [R] R on the web
Message-ID: <3C9408F6.A7D97E7C@icrf.icnet.uk>

Hello All,

I'd like to create diagrams for dynamic web-pages via a cgi-script that
itself uses R. Sadly, I found out that the png and jpeg devices need an
X-server :-( , so I cannot use these nice devices. Does any one have any
experience using R for on-the-flycreation of graphics for web-pages
pages? Any suggestions for workarounds?

	thanks very much for help,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Sun Mar 17 04:43:42 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Sat, 16 Mar 2002 19:43:42 -0800
Subject: [R] compute variance of every column in a matrix without a loop
Message-ID: <3C9410EE.72C67390@lbl.gov>

Is it possible to compute the variance of every column in a matrix
without a loop?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Sun Mar 17 05:05:33 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Sat, 16 Mar 2002 20:05:33 -0800
Subject: [R] nor loop nor computation of the whole covariance matrix
Message-ID: <3C94160D.AE3627B1@lbl.gov>

In my previous email, I meant without a loop and without computing the
covariances (the entries in non-diagonal positions of the covariance
matrix)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 17 05:58:51 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 16 Mar 2002 23:58:51 -0500
Subject: [R] apply problem
Message-ID: <3C93DC3B.7960.11A43CD@localhost>


> data(iris)

# iris3 is first 3 rows of iris
> iris3 <- iris[1:3,]

# z compares row 1 to each row of iris3 and is correctly 
computed
> z <- c(F,F,F)
> for(i in seq(z)) z[i] <- identical(iris3[1,],iris3[i,])
> z
[1]  TRUE FALSE FALSE

# this should do the same but is incorrect
> apply(iris3,1,function(x)identical(x,iris3[1,]))
    1     2     3 
FALSE FALSE FALSE 

What's wrong here?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greenberg at ucdavis.edu  Sun Mar 17 07:18:57 2002
From: greenberg at ucdavis.edu (Jonathan Greenberg)
Date: Sat, 16 Mar 2002 22:18:57 -0800
Subject: [R] Running R on MacOS X
Message-ID: <B8B97551.B2B8%greenberg@ucdavis.edu>

Hi there -- I downloaded the MacOS X binaries of R and followed the
instructions on installing it, and when I go to perform a tree function, I
get the error "Error: couldn't find function "tree"".  Do I need to somehow
preload the function?  If so, how do I do that?

Also, update.packages() works for some packages, but not all -- it often
fails in the compilation.  I have g77 installed, as well as gnome.

--j

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
Jonathan Greenberg
Graduate Group in Ecology, U.C. Davis
http://www.cstars.ucdavis.edu/~jongreen
http://www.cstars.ucdavis.edu
AIM: jgrn307       
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 17 08:22:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Mar 2002 07:22:50 +0000 (GMT)
Subject: [R] R on the web
In-Reply-To: <3C9408F6.A7D97E7C@icrf.icnet.uk>
Message-ID: <Pine.GSO.4.44.0203170720440.1406-100000@auk.stats>

On Sun, 17 Mar 2002, Arne Mueller wrote:

> Hello All,
>
> I'd like to create diagrams for dynamic web-pages via a cgi-script that
> itself uses R. Sadly, I found out that the png and jpeg devices need an
> X-server :-( , so I cannot use these nice devices. Does any one have any
> experience using R for on-the-flycreation of graphics for web-pages
> pages? Any suggestions for workarounds?

I guess you are using Unix/Linux (although you did not say so).

Please read the See Also section of ?png.  TWO sets of devices have been
provided for you to do this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 17 08:31:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Mar 2002 07:31:12 +0000 (GMT)
Subject: [R] apply problem
In-Reply-To: <3C93DC3B.7960.11A43CD@localhost>
Message-ID: <Pine.GSO.4.44.0203170724320.1406-100000@auk.stats>

On Sat, 16 Mar 2002 ggrothendieck at yifan.net wrote:

>
> > data(iris)
>
> # iris3 is first 3 rows of iris
> > iris3 <- iris[1:3,]

Not a good choice of name: iris3 is another R dataset.

Your iris3 is a data frame.

> # z compares row 1 to each row of iris3 and is correctly
> computed
> > z <- c(F,F,F)
> > for(i in seq(z)) z[i] <- identical(iris3[1,],iris3[i,])
> > z
> [1]  TRUE FALSE FALSE
>
> # this should do the same but is incorrect
> > apply(iris3,1,function(x)identical(x,iris3[1,]))
>     1     2     3
> FALSE FALSE FALSE
>
> What's wrong here?

You are not using array as documented. ?apply says

Arguments:

       X: the array to be used.


iris3 is not an array, so it it coerced to one via as.matrix

> as.matrix(iris3)
  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1 "5.1"        "3.5"       "1.4"        "0.2"       "setosa"
2 "4.9"        "3.0"       "1.4"        "0.2"       "setosa"
3 "4.7"        "3.2"       "1.3"        "0.2"       "setosa"

and that's not the same object as your iris3


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 17 08:38:49 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Mar 2002 07:38:49 +0000 (GMT)
Subject: [R] Running R on MacOS X
In-Reply-To: <B8B97551.B2B8%greenberg@ucdavis.edu>
Message-ID: <Pine.GSO.4.44.0203170731500.1406-100000@auk.stats>

On Sat, 16 Mar 2002, Jonathan Greenberg wrote:

> Hi there -- I downloaded the MacOS X binaries of R and followed the
> instructions on installing it, and when I go to perform a tree function, I
> get the error "Error: couldn't find function "tree"".  Do I need to somehow
> preload the function?  If so, how do I do that?

What do you want the `tree' function to `perform'?  Let me guess that you
want a clone of S-PLUS.  In that case the nearest equivalent is in package
`tree' (surprise, surprise) loaded by library(tree), *but* we recommend you
to use the facilities of package rpart, which should be in all binary
distributions of R.

> Also, update.packages() works for some packages, but not all -- it often
> fails in the compilation.  I have g77 installed, as well as gnome.

That's a Mac-specific problem (more than 90% of packages compile out of
the box on Unix, Linux and Windows), and your report is far too vague to
make a useful comment on.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 17 12:15:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Mar 2002 12:15:43 +0100
Subject: [R] compute variance of every column in a matrix without a loop
In-Reply-To: <3C9410EE.72C67390@lbl.gov>
References: <3C9410EE.72C67390@lbl.gov>
Message-ID: <x24rjfbg2o.fsf@blueberry.kubism.ku.dk>

Francisco J Molina <FJMolina at lbl.gov> writes:

> Is it possible to compute the variance of every column in a matrix
> without a loop?

apply(m,2,var)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Mar 17 12:45:29 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 17 Mar 2002 12:45:29 +0100
Subject: [R] compute variance of every column in a matrix without a loop
References: <3C9410EE.72C67390@lbl.gov>
Message-ID: <3C9481D9.F248BEFB@statistik.uni-dortmund.de>

Francisco J Molina wrote:
> 
> Is it possible to compute the variance of every column in a matrix
> without a loop?

What about
 apply(X, 2, var)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Mar 17 12:57:30 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 17 Mar 2002 06:57:30 -0500
Subject: [R] compute variance of every column in a matrix without a loop
In-Reply-To: <3C9410EE.72C67390@lbl.gov>; from FJMolina@lbl.gov on Sat, Mar 16, 2002 at 07:43:42PM -0800
References: <3C9410EE.72C67390@lbl.gov>
Message-ID: <20020317065730.A23380@cattell.psych.upenn.edu>

On 03/16/02 19:43, Francisco J Molina wrote:
>Is it possible to compute the variance of every column in a matrix
>without a loop?

If the matrix is m1,

apply(m1,2,var)

or, with missing data,

apply(m1,2,var,na.rm=T)

In general, apply() and related functions are well worth
understanding.
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Sun Mar 17 14:08:38 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Sun, 17 Mar 2002 14:08:38 +0100
Subject: [R] apply problem
In-Reply-To: <3C93DC3B.7960.11A43CD@localhost>
References: <3C93DC3B.7960.11A43CD@localhost>
Message-ID: <20020317130838.GC21657@giraffa.cbs.dtu.dk>

On Sat, Mar 16, 2002 at 11:58:51PM -0500, ggrothendieck at yifan.net wrote:
> 
> > data(iris)
> 
> # iris3 is first 3 rows of iris
> > iris3 <- iris[1:3,]
> 
> # z compares row 1 to each row of iris3 and is correctly 
> computed
> > z <- c(F,F,F)
> > for(i in seq(z)) z[i] <- identical(iris3[1,],iris3[i,])
> > z
> [1]  TRUE FALSE FALSE
> 
> # this should do the same but is incorrect
> > apply(iris3,1,function(x)identical(x,iris3[1,]))
>     1     2     3 
> FALSE FALSE FALSE 
> 
> What's wrong here?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



Could this be because 'apply' expects an 'array' as input (try 'help(apply)') ?



Hopin' it helps,





Laurent





-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 17 15:36:21 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sun, 17 Mar 2002 09:36:21 -0500
Subject: [R] apply problem
In-Reply-To: <Pine.GSO.4.44.0203170724320.1406-100000@auk.stats>
References: <3C93DC3B.7960.11A43CD@localhost>
Message-ID: <3C946395.9452.1897ED@localhost>


> > > apply(iris3,1,function(x)identical(x,iris3[1,]))
> >     1     2     3
> > FALSE FALSE FALSE
> >
> > What's wrong here?
> 
> iris3 is not an array, so it it coerced to one via as.matrix
[...] 
> and that's not the same object as your iris3

Thanks.  

Is there a way to iterate over the rows of a data
frame without writing a loop -- that was my 
original objective.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at ling.ohio-state.edu  Sun Mar 17 15:42:05 2002
From: vasishth at ling.ohio-state.edu (Shravan Vasishth)
Date: Sun, 17 Mar 2002 09:42:05 -0500 (EST)
Subject: [R] Question about Linear Mixed-Models (in R)
Message-ID: <Pine.SOL.4.33.0203170900360.23817-100000@julius.ling.ohio-state.edu>

Hi all,

This question is about using the linear-mixed effects model for a
within-subjects experiment.

The experiment description:

Each subject was asked to read a series of sentences (in Hindi) on a
computer screen, and pressed the space bar to see each word in the
sentence successively. The amount of time spent on each word was recorded
on the computer, in milliseconds; this is the dependent variable.

Each subject saw two levels of a factor "Case" (which means presence or
absence of case-marking on a given word) and saw each level 4 times (hence
8 data-points for each subject). "Word Length" is essentially a continuous
variable that varies for each word. The important words in each stimulus
sentence (the words that may or may not have case marking) always occurred
in position three in the sentence, so I consider only those words' reading
times. The research question is: does presence of case-marking on this
third word affect reading time?  Since adding case-marking increases the
length of the word per se (in general), a statistician suggested I use a
linear mixed-effects model, so that the potential confound of word length
can be dealt with.

Here's part of the data:

    subj case  raw wl
1      1    1 1138  3
2      1    1  487  3
3      1    1  782  5
4      1    1  896  5
5      1    3 1138  6
6      1    3 1311  8
7      1    3 3023  7
8      1    3  809  7
9      2    1  440  3
10     2    1  526  3
11     2    1  620  5
12     2    1  688  5
13     2    3 1829  8
14     2    3  518  7
15     2    3  726  7
16     2    3  805  6

and so on (there are 44 subjects).

In the data excerpt above, "subj" means the subject number, "case" is
case-marking absent/present (1 for absent, 3 for present-- I just chose
these two numbers arbitrarily), "raw" is the raw reading time for that
particular word, and "wl" is the word length associated with that word.

The question:

Reading a couple of books (but mainly the Pinheiro and Bates book,
Mixed-Effects Models in S and S-PLUS), it seems that I simply need to say
the following to R, using the linear mixed effects library (nlme) in R:

lme1 <- lme(raw ~ case*wl, data = exptdata, random = ~1|subj)

Does this make sense in this case?

If so, the results of this are as follows:

> lme1 <- lme(raw ~ case*wl, data = exptdata, random = ~1|subj)
> anova(lme1)
            numDF denDF   F-value p-value
(Intercept)     1   305 260.71072  <.0001
case            1   305  21.86372  <.0001
wl              1   305   3.50046  0.0623
case:wl         1   305   2.46480  0.1175

This means that there is a main effect of case-marking. There's a near
significant effect of word length (i.e., word length per se probably does
affect reading time?).  This means that case marking does affect reading
time, over and above any effect of word length per se-- which was the
research question.

BTW, an alternative to using the mixed effects model is to use residuals
instead of raw reading times, but Maxwell and Delaney's book (Designing
Experiments and Analyzing Data, 2000, p. 391) suggests that's the wrong
thing to do, because it does not give least squares estimates. Sure
enough, I get odd results when I use residuals.

Thanks, and apologies for bothering all of you with this,

-- 
Shravan Vasishth
http://www.ling.ohio-state.edu/~vasishth










-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 17 15:48:35 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Mar 2002 14:48:35 +0000 (GMT)
Subject: [R] apply problem
In-Reply-To: <3C946395.9452.1897ED@localhost>
Message-ID: <Pine.LNX.4.31.0203171443280.11242-100000@gannet.stats>

On Sun, 17 Mar 2002 ggrothendieck at yifan.net wrote:

>
> > > > apply(iris3,1,function(x)identical(x,iris3[1,]))
> > >     1     2     3
> > > FALSE FALSE FALSE
> > >
> > > What's wrong here?
> >
> > iris3 is not an array, so it it coerced to one via as.matrix
> [...]
> > and that's not the same object as your iris3
>
> Thanks.
>
> Is there a way to iterate over the rows of a data
> frame without writing a loop -- that was my
> original objective.

No.  A row of a data frame is still a data frame and therefore arbitrarily
complex.

In any case, in R apply() does write a loop.  There are lots of legacy
myths about the efficiencies of loops vs *apply(), but the reality it
depends on the exact version of your S engine (and perhaps on how much
memory you have).

Just for the record, lapply() is the way to iterate over columns of a data
frame.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 17 17:03:38 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sun, 17 Mar 2002 11:03:38 -0500
Subject: [R] apply problem
In-Reply-To: <Pine.LNX.4.31.0203171443280.11242-100000@gannet.stats>
References: <3C946395.9452.1897ED@localhost>
Message-ID: <3C94780A.1592.688308@localhost>


> > > > > apply(iris3,1,function(x)identical(x,iris3[1,]))
> > > >     1     2     3
> > > > FALSE FALSE FALSE
> > > >
> > > > What's wrong here?
> > >
> > > iris3 is not an array, so it it coerced to one via as.matrix
> > [...]
> > > and that's not the same object as your iris3
> >
> > Is there a way to iterate over the rows of a data
> > frame without writing a loop -- that was my
> > original objective.
> 
> No.  A row of a data frame is still a data frame and therefore arbitrarily
> complex.

OK.  Efficiency aside,I believe it would still be nice to have this ability 
for compactness.  Here are some ideas:

1. Have an option on t(), the transpose function, that specifies 
that it should return a list of one row data frames.  The above 
becomes:
   sapply( t(iris3,list.out=T), function(x) identical( x, iris3[1,] ) )

2. Allow dist() to have two arguments and a distance function that is 0 
for identical rows and 1 for others (or even allow user specifiable 
distance functions).  The above becomes:
   dist(iris3[1,],iris3,method="identical")
or with user specifiable distance functions:
   dist(iris3[1,],iris3,user.method=identical)

3.  Have a right crossprod such that crossprod(a,b,right=T) is the 
same as a+.*t(b) and also user specifiable inner products:
   crossprod(iris3,iris3[1,],inner.prod=identical)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Sun Mar 17 18:32:58 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Sun, 17 Mar 2002 17:32:58 -0000
Subject: [R] Discriminant Analysis Using Anova in R
Message-ID: <002501c1cdd9$c79df620$35892090@ohm.york.ac.uk>

Hi All,
    I am currently trying to use R to perform some statistical discriminant
analysis on a data set using ANOVA. I'm new to anova and R as well. As I
understand it, ANOVA can be used to perform discriminant analysis by
measuring the value of the f-test when given a data set with a grouping
variable and the dependent variable. What I would like to do in R is perform
ANOVA and extract the f-test value as a measurement of the importance of
that particular dependent variable. My question is how can I extract the
value of the f-test from the aov object so that I can use the result in a
further equation, e.g. can I extract it using fit[f_value].
Also, my understanding of ANOVA was that the F Value should always be
greater then 1 (by swapping around the numerator, denominator). Value closer
to 1 suggest that there is not much variation and hence the variable is not
discriminant. The values that I actually get in R are sometimes less then 1.
Should it be like that, have I just understood it wrongly?
Any Help Here Would Be Greatly Appreciated!

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Sun Mar 17 19:41:13 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 18 Mar 2002 06:41:13 +1200
Subject: [R] using "by" and indicies
Message-ID: <20020318064113.A22354@camille.indigoindustrial.co.nz>

I sent this to the list last week, and haven't seen it pop up.  Either 
I deleted it when it did appear, or possibly it was destroyed as 
spam...?  If it did appear and I somehow missed it, appologies.

In a nutshell, can the function FUN supplied to by() deduce
what level of factor by() was on when FUN was called?  I've
been digging through the functions, and can't see where the
distinction is made so that get() with a suitable "where=x"
argument could help.

Cheers

Jason
----- Forwarded message from Jason Turner <jasont at indigoindustrial.co.nz> -----

...

I'm using by() to call pairs(), and would like to put the factor
level into the title.  A toy example would be something like:


> d1 <- data.frame(rnorm(100),rt(100,2),sin(1:100))
> levs <- as.factor(rep(1:5,20))
> levels(levs) <- c("low","med-lo","med","med-hi","high")
> by(d1,levs,pairs)

Is there an elegant way to get "low"..."high" in the main title for
each plot, without binding "levs" to the data sent to a custom plot 
function? 

...

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sun Mar 17 19:32:20 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 17 Mar 2002 10:32:20 -0800 (PST)
Subject: [R] Running R on MacOS X
In-Reply-To: <B8B97551.B2B8%greenberg@ucdavis.edu>
Message-ID: <Pine.GSO.4.10.10203171031150.15857-100000@quetelet.stat.ucla.edu>

> Also, update.packages() works for some packages, but not all -- it often
> fails in the compilation.  I have g77 installed, as well as gnome.

Where does it fail?  On which packages?  What kinds of errors do you get?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sat, 16 Mar 2002, Jonathan Greenberg wrote:

> Hi there -- I downloaded the MacOS X binaries of R and followed the
> instructions on installing it, and when I go to perform a tree function, I
> get the error "Error: couldn't find function "tree"".  Do I need to somehow
> preload the function?  If so, how do I do that?
> 
> 
> --j
> 
> ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
> Jonathan Greenberg
> Graduate Group in Ecology, U.C. Davis
> http://www.cstars.ucdavis.edu/~jongreen
> http://www.cstars.ucdavis.edu
> AIM: jgrn307       
> ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liquidm1 at hotmail.com  Sun Mar 17 21:29:27 2002
From: liquidm1 at hotmail.com (Liquid M1)
Date: Sun, 17 Mar 2002 15:29:27 -0500
Subject: [R] R hosting
Message-ID: <F189PR8Hslo38qBJwVa0001271d@hotmail.com>

Hi, I am thinking about setting a service to provide R hosting on Linux.  
Would anyone be interested?

The idea is that a machine would be available that would provide R, Apache, 
MySQL, Java, Perl, PHP, and Python.  Users could remotely login to use R 
directly or could use it to develop applications that use R.  Also, this 
would save people the trouble of installing and upgrading R.  This would be 
especially useful for people who want to work with Rweb or Rcgi or who 
frequently travel and would like to use R and their stored data sets the 
same way they might use Hotmail or Yahoo Mail.

Basically, I'm picturing something that would be like JTLNet's shared 
hosting ( http://www.jtlnet.com/pkg_linux.html ), but with R installed.  Or 
is someone providing this already?

Please leave a message here http://www.liquidmarkets.com/m.php?m=contact if 
you might be interested.

_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 
http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From idh at poulet.org  Sun Mar 17 22:31:32 2002
From: idh at poulet.org (Yannick Wurm)
Date: Sun, 17 Mar 2002 22:31:32 +0100
Subject: [R] simple simulation problem
In-Reply-To: <200111221307.fAMD7rS04301@vs.bignet.com.br>
Message-ID: <5A09E488-39EE-11D6-89B2-0003934A808C@poulet.org>

Help!

I'm desperate! I don't understand why my function won't work!
Its for a simple simulation exercise: robin hood fires an arrow 
at a target with 50cm radius, and his aim follows a centered 
normal distribution with a standard deviation of 40cm (on x and 
y axis, independently). Here he takes 10 shots and is awarded 
points if he hits close to the center.

For some reason, this function always returns a score of 870?!?!
I'm probably missing something really quite obvious but I just 
can't figure out what it is.

thanks for your help (you guys are great!),

Yannick.


function(){
score_0
x_rnorm(10, mean=0, sd=40)
y_rnorm(10, mean=0, sd=40)
d_sqrt(x^2 + y^2)
for(i in 1:10) {
	if (d[i] > 50) print("d?sol?\n")
	if (40 < d[i] < 50) score_sum(score,2)
	if (25 < d[i] < 40) score_sum(score,5)
	if (15 < d[i] < 25) score_sum(score,10)
	if ( 5 < d[i] < 15) score_sum(score,20)
	if ( 0 < d[i] <  5) score_sum(score,50)
}
print(d)
print(score)
}

------------------------------------
      yannick.wurm at insa-lyon.fr
http://homepage.mac.com/yannickwurm/
tel: 06.16.41.71.92    icq: 22044361

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bertola_br at yahoo.com  Sun Mar 17 22:40:20 2002
From: bertola_br at yahoo.com (bertola_br (YAHOO!))
Date: Sun, 17 Mar 2002 18:40:20 -0300
Subject: [R] translate octave code to R
Message-ID: <000901c1cdfc$b0ffeea0$0821f6c8@rafael>

Hello,

I'd like to translate de code below, write in octave, to R. I'm learning to
operate R a few time ago, and an example of translation will be useful for
me.
This code is my lectures in an undergraduate course of statistical
computing.



echo off;
k=0;
while (k<>1)
  n = input('a prime: ');
  D = 2;
  r = n - D * floor((n/D));
  while((D <= sqrt(n) & (r <> 0)))
    D=D+1;
    r = n - D * floor((n/D));
  endwhile;
  if ((n - D * floor((n/D))) <> 0)
    disp('? primo');
    k=1;
  else
    disp('try again');
  end;
end;


#start of pseudo-random numbers generation

m = 2**35;
a = (2**7)+3;
c = a;
x(1)=n;#seed
u(1)=0;
i=1;
while (i<=500)

  x(i+1)=((a*x(i)+c) - (m*floor(((a*x(i)+c)/m))));
  u(i)=(x(i+1)/m);
  i++;

endwhile;
hist(u);



Thank you for attention,

Rafael Bertola
(UNICAMP (University of Campinas) - Brasil)





_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rafael_bertola at uol.com.br  Sun Mar 17 22:58:18 2002
From: rafael_bertola at uol.com.br (Rafael Bertola)
Date: Sun, 17 Mar 2002 18:58:18 -0300
Subject: [R] Translate octave code to R
Message-ID: <003901c1cdfe$fa7d7dc0$0821f6c8@rafael>

Hello,

I'd like to translate de code below, write in octave, to R. I'm learning to
operate R a few time ago, and an example of translation will be useful for
me.
This code is my lectures in an undergraduate course of statistical
computing.



echo off;
k=0;
while (k<>1)
  n = input('a prime: ');
  D = 2;
  r = n - D * floor((n/D));
  while((D <= sqrt(n) & (r <> 0)))
    D=D+1;
    r = n - D * floor((n/D));
  endwhile;
  if ((n - D * floor((n/D))) <> 0)
    disp('? primo');
    k=1;
  else
    disp('try again');
  end;
end;


#start of pseudo-random numbers generation

m = 2**35;
a = (2**7)+3;
c = a;
x(1)=n;#seed
u(1)=0;
i=1;
while (i<=500)

  x(i+1)=((a*x(i)+c) - (m*floor(((a*x(i)+c)/m))));
  u(i)=(x(i+1)/m);
  i++;

endwhile;
hist(u);



Thank you for attention,

Rafael Bertola
(UNICAMP (University of Campinas) - Brasil)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meyer at ci.tuwien.ac.at  Sun Mar 17 23:00:46 2002
From: meyer at ci.tuwien.ac.at (David Meyer)
Date: Sun, 17 Mar 2002 23:00:46 +0100 (CET)
Subject: [R] simple simulation problem
In-Reply-To: <5A09E488-39EE-11D6-89B2-0003934A808C@poulet.org>
Message-ID: <Pine.LNX.4.21.0203172258110.27517-100000@boromir.ci.tuwien.ac.at>

your comparisons don't do what you clearly expected.

for

if (a < b < c)

use

if (a < b && b < c)

instead.

salut,

-d

	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at






On Sun, 17 Mar 2002, Yannick Wurm wrote:

> Help!
> 
> I'm desperate! I don't understand why my function won't work!
> Its for a simple simulation exercise: robin hood fires an arrow 
> at a target with 50cm radius, and his aim follows a centered 
> normal distribution with a standard deviation of 40cm (on x and 
> y axis, independently). Here he takes 10 shots and is awarded 
> points if he hits close to the center.
> 
> For some reason, this function always returns a score of 870?!?!
> I'm probably missing something really quite obvious but I just 
> can't figure out what it is.
> 
> thanks for your help (you guys are great!),
> 
> Yannick.
> 
> 
> function(){
> score_0
> x_rnorm(10, mean=0, sd=40)
> y_rnorm(10, mean=0, sd=40)
> d_sqrt(x^2 + y^2)
> for(i in 1:10) {
> 	if (d[i] > 50) print("d?sol?\n")
> 	if (40 < d[i] < 50) score_sum(score,2)
> 	if (25 < d[i] < 40) score_sum(score,5)
> 	if (15 < d[i] < 25) score_sum(score,10)
> 	if ( 5 < d[i] < 15) score_sum(score,20)
> 	if ( 0 < d[i] <  5) score_sum(score,50)
> }
> print(d)
> print(score)
> }
> 
> ------------------------------------
>       yannick.wurm at insa-lyon.fr
> http://homepage.mac.com/yannickwurm/
> tel: 06.16.41.71.92    icq: 22044361
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 17 22:58:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Mar 2002 22:58:45 +0100
Subject: [R] simple simulation problem
In-Reply-To: <5A09E488-39EE-11D6-89B2-0003934A808C@poulet.org>
References: <5A09E488-39EE-11D6-89B2-0003934A808C@poulet.org>
Message-ID: <x2wuwasvoq.fsf@blueberry.kubism.ku.dk>

Yannick Wurm <idh at poulet.org> writes:

> Help!
> 
> I'm desperate! I don't understand why my function won't work!
> Its for a simple simulation exercise: robin hood fires an arrow at a
> target with 50cm radius, and his aim follows a centered normal
> distribution with a standard deviation of 40cm (on x and y axis,
> independently). Here he takes 10 shots and is awarded points if he
> hits close to the center.
> 
> For some reason, this function always returns a score of 870?!?!
> I'm probably missing something really quite obvious but I just can't
> figure out what it is.

> 	if (40 < d[i] < 50) score_sum(score,2)
        ===================

That doesn't work (in R as well as most other programming languages).
It gets evaluated left to right as either TRUE < 50 or FALSE < 50,
both of which will be TRUE since logicals coerce to 0 or 1. You must
split it as (40 < d[i] && d[i] < 50).

(The whole thing can be coded much more elegantly with cut() and
indexing, but you'll probably learn soon enough.)

BTW: "_" as assignment is hard to read, and likely to get removed in
future versions of R so you might as well break the habit now.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 17 23:06:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Mar 2002 22:06:43 +0000 (GMT)
Subject: [R] simple simulation problem
In-Reply-To: <5A09E488-39EE-11D6-89B2-0003934A808C@poulet.org>
Message-ID: <Pine.LNX.4.31.0203172158320.14073-100000@gannet.stats>

On Sun, 17 Mar 2002, Yannick Wurm wrote:

> Help!
>
> I'm desperate! I don't understand why my function won't work!
> Its for a simple simulation exercise: robin hood fires an arrow
> at a target with 50cm radius, and his aim follows a centered
> normal distribution with a standard deviation of 40cm (on x and
> y axis, independently). Here he takes 10 shots and is awarded
> points if he hits close to the center.
>
> For some reason, this function always returns a score of 870?!?!
> I'm probably missing something really quite obvious but I just
> can't figure out what it is.

All your conditions are true (and so each arrow scores 87).  For, say,

40 < x < 50

is evaluated as (40 < x) < 50, and (40 < x) is coerced to 0 (false) or 1
(true).

I think you wanted  (40 < x) && (x < 50)

Better, you can vectorize this, e.g.

2*(d < 50) + 3*(d < 40) + 5*(d < 25) + 10*(d < 15) + 30*(d < 5)

(as you will never get any of those values exactly and probably mean <=
anyway).

You can simulate from d directly (d^2 is exponential) and of course
compute the distribution of the score without simulation.

As a matter of style, `score_sum(score,2)' is about the least readable
way to write  `score <- score + 2' that I can imagine.

> thanks for your help (you guys are great!),
>
> Yannick.
>
>
> function(){
> score_0
> x_rnorm(10, mean=0, sd=40)
> y_rnorm(10, mean=0, sd=40)
> d_sqrt(x^2 + y^2)
> for(i in 1:10) {
> 	if (d[i] > 50) print("désolé\n")
> 	if (40 < d[i] < 50) score_sum(score,2)
> 	if (25 < d[i] < 40) score_sum(score,5)
> 	if (15 < d[i] < 25) score_sum(score,10)
> 	if ( 5 < d[i] < 15) score_sum(score,20)
> 	if ( 0 < d[i] <  5) score_sum(score,50)
> }
> print(d)
> print(score)
> }
>
> ------------------------------------
>       yannick.wurm at insa-lyon.fr
> http://homepage.mac.com/yannickwurm/
> tel: 06.16.41.71.92    icq: 22044361
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Sun Mar 17 23:23:26 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Mon, 18 Mar 2002 10:23:26 +1200
Subject: [R] Translate octave code to R
In-Reply-To: <003901c1cdfe$fa7d7dc0$0821f6c8@rafael>
	(rafael_bertola@uol.com.br)
References: <003901c1cdfe$fa7d7dc0$0821f6c8@rafael>
Message-ID: <200203172223.g2HMNQl10377@r.hankin.sems.auckland.ac.nz>

Hello Rafael

A good place to start would be my R-and-octave.txt helpfile (in
contributed docs on CRAN), which lists octave commands and their
(near) R equivalent.

If you still have problems, I'd be very happy to help.


robin


> 
> Hello,
> 
> I'd like to translate de code below, write in octave, to R. I'm learning to
> operate R a few time ago, and an example of translation will be useful for
> me.
> This code is my lectures in an undergraduate course of statistical
> computing.
> 
> 
> 
> echo off;
> k=0;
> while (k<>1)
>   n = input('a prime: ');
>   D = 2;
>   r = n - D * floor((n/D));
>   while((D <= sqrt(n) & (r <> 0)))
>     D=D+1;
>     r = n - D * floor((n/D));
>   endwhile;
>   if ((n - D * floor((n/D))) <> 0)
>     disp('? primo');
>     k=1;
>   else
>     disp('try again');
>   end;
> end;
> 
> 
> #start of pseudo-random numbers generation
> 
> m = 2**35;
> a = (2**7)+3;
> c = a;
> x(1)=n;#seed
> u(1)=0;
> i=1;
> while (i<=500)
> 
>   x(i+1)=((a*x(i)+c) - (m*floor(((a*x(i)+c)/m))));
>   u(i)=(x(i+1)/m);
>   i++;
> 
> endwhile;
> hist(u);
> 
> 
> 
> Thank you for attention,
> 
> Rafael Bertola
> (UNICAMP (University of Campinas) - Brasil)
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Mon Mar 18 10:18:00 NZST 2002
This (linux) system up continuously for:  200 days, 17 hours, 13 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Mar 17 23:50:00 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 17 Mar 2002 14:50:00 -0800 (PST)
Subject: [R] compute variance of every column in a matrix without a loop
In-Reply-To: <3C9410EE.72C67390@lbl.gov>
Message-ID: <Pine.A41.4.44.0203171443060.50324-100000@homer09.u.washington.edu>

On Sat, 16 Mar 2002, Francisco J Molina wrote:

> Is it possible to compute the variance of every column in a matrix
> without a loop?

No, but you can make it look as if there's no loop.

You can hide the for() loop inside a function with
  apply(m, 2, var)
if the reason you want to avoid a loop is to make your code look simpler.

In 1.5.0 you will be able to do
   colMeans(m*m)-colMeans(m)^2
if the reason is to have the loop take place in compiled code and be
faster.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From idh at poulet.org  Mon Mar 18 00:29:37 2002
From: idh at poulet.org (Yannick Wurm)
Date: Mon, 18 Mar 2002 00:29:37 +0100
Subject: [R] simple simulation problem
In-Reply-To: <Pine.LNX.4.31.0203172158320.14073-100000@gannet.stats>
Message-ID: <D8FECD44-39FE-11D6-89B2-0003934A808C@poulet.org>

Thanks for your tips Brian, David & Peter!

It works! I can get switch back from editing my LaTeX code to 
the actual content of my assignment for tomorrow!
The dumbest thing is that when I wrote my if conditions, I asked 
myself if I should use && or AND in R, and decided on trying to 
make a double condition the way I did, thinking it might work... 
and I didn't think of it anymore when trying to find why my 
function didn't work.

  *lack of sleep is bad*

oh well, back to work

yannick.

------------------------------------
      yannick.wurm at insa-lyon.fr
http://homepage.mac.com/yannickwurm/
tel: 06.16.41.71.92    icq: 22044361

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Mon Mar 18 05:03:32 2002
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Mon, 18 Mar 2002 16:03:32 +1200
Subject: [R] stop a script and then resume it?
Message-ID: <3C960FD4.14743.3A48A53D@localhost>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1917 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020318/0173085e/attachment.bin

From jasont at indigoindustrial.co.nz  Mon Mar 18 08:19:52 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 18 Mar 2002 19:19:52 +1200
Subject: [R] using "by" and indicies
In-Reply-To: <OFB48B497C.D00AE40C-ON85256B80.000CE3B7@cbis.com>; from james.holtman@convergys.com on Sun, Mar 17, 2002 at 09:23:41PM -0500
References: <OFB48B497C.D00AE40C-ON85256B80.000CE3B7@cbis.com>
Message-ID: <20020318191952.A22941@camille.indigoindustrial.co.nz>

On Sun, Mar 17, 2002 at 09:23:41PM -0500, james.holtman at convergys.com wrote:
> You can reference the first entry in the column in the function.  See the
> example below:

Um, thanks, but I provided a similar example, saying this was what 
I didn't want to do.  I can live with "you're stuck with that way".

...
> Jason Turner <jasont at indigoindustrial.co.nz>@stat.math.ethz.ch on
> 03/17/2002 13:41:13
...
> > d1 <- data.frame(rnorm(100),rt(100,2),sin(1:100))
> > levs <- as.factor(rep(1:5,20))
> > levels(levs) <- c("low","med-lo","med","med-hi","high")
> > by(d1,levs,pairs)
> 
> Is there an elegant way to get "low"..."high" in the main title for
> each plot, without binding "levs" to the data sent to a custom plot
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> function?

I just thought that was a bit too specific for what I wanted.
I was hoping for a direct evaluation within FUN (most likely by
by back-refencncing, using get(somevar,which=-x), where somevar
and -x are the mystery to me).  Saves writing a custom wrapper to 
"plot" each time I want a new type of plot, for example.  However,
since by() winds up calling lapply(), this looks tricky.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 18 08:40:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Mar 2002 08:40:53 +0100
Subject: [R] compute variance of every column in a matrix without a loop
References: <Pine.A41.4.44.0203171443060.50324-100000@homer09.u.washington.edu>
Message-ID: <3C959A05.F98D7627@statistik.uni-dortmund.de>

Thomas Lumley wrote:
> 
> On Sat, 16 Mar 2002, Francisco J Molina wrote:
> 
> > Is it possible to compute the variance of every column in a matrix
> > without a loop?
> 
> No, but you can make it look as if there's no loop.
> 
> You can hide the for() loop inside a function with
>   apply(m, 2, var)
> if the reason you want to avoid a loop is to make your code look simpler.
> 
> In 1.5.0 you will be able to do
>    colMeans(m*m)-colMeans(m)^2


..., but only for well conditioned problems, because using Steiner's
theorem is risky from the computational point of view. Try this extreme
example several times:

  m <- rnorm(10, 1e8, 1e-7) # large mean, small variance
  mean(m^2) - mean(m)^2     # typical results: -4, -2, 0, 2, 4
  var(m)                    # reasonable, about 1e-14

BTW: Of course this is a computational problem that is *not* related to
R!


> if the reason is to have the loop take place in compiled code and be
> faster.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Mar 18 09:54:17 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 18 Mar 2002 09:54:17 +0100 (CET)
Subject: [R] cutting barplots at e.g. 50%
In-Reply-To: <3C9226CF.7090406@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.44.0203180948510.7884-100000@localhost.localdomain>

Hi,

I have not noticed any reply to your question (perhaps my fault), so I
suggest a workaround.

On Fri, 15 Mar 2002, Jan Malte Wiener wrote:

  |hi,
  |i want to plot percentage values using barplot. everything works fine so 
  |far. giving a chance level of 50% i want to plot only the area above 50 
  |percent.
  |i can of course cut  using  ylim=c(50,100) but this does not work 
  |properly since i also see some of the area below 50%.

Actually, it seems strange for me that R (1.4.0) draws bars outside the plot
are.  But you can explicitly subtract 50 and then choose either the result
or 0.  To avoid the axis showing values 0..50, you should draw the axis
yourself using axis and labels where you have added 50.

A following example worked for me:

proc <- runif(10,0,100)
lbl <- as.character(formatC(proc, digits=4))
height <- pmax(proc - 50, 0)
spread <- range(height)
par(las=2)
barplot(height, names.arg=lbl,axes=F)
axis(2, at=pretty(spread), labels=as.character(pretty(spread) + 50))

You can also consider using

barplot(proc[proc>50], names.arg=lbl[proc>50])

but I do not think that is what you want.

Cheers,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Mon Mar 18 13:33:55 2002
From: maeder at atmos.umnw.ethz.ch (=?iso-8859-1?Q?M?der_J?rg?=)
Date: Mon, 18 Mar 2002 11:33:55 -0100 (MET)
Subject: [R] stop a script and then resume it?
In-Reply-To: <3C92BBAC.AE533A14@lbl.gov>
References: <3C92BBAC.AE533A14@lbl.gov>
Message-ID: <1560.129.132.9.237.1016447635.squirrel@albeniz.ethz.ch>

Set browser() at the point you want stop it
With ?browser you get the information to resume

gruess

joerg

> If I am running a script in iESS...Can I stop it for a while, check the
> value of some variables and resume the execution of the script where I
> stopped it?
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Mon Mar 18 13:40:16 2002
From: maeder at atmos.umnw.ethz.ch (=?iso-8859-1?Q?M?der_J?rg?=)
Date: Mon, 18 Mar 2002 11:40:16 -0100 (MET)
Subject: [R] R on the web
In-Reply-To: <3C9408F6.A7D97E7C@icrf.icnet.uk>
References: <3C9408F6.A7D97E7C@icrf.icnet.uk>
Message-ID: <1574.129.132.9.237.1016448016.squirrel@albeniz.ethz.ch>

Hello Arne,

try bitmap. With this function you can also create png, jpg .. (dependig 
with library you have installed) and this independent from x11.
Also have a look to ?bitmap.
I use this function together witha pearl counter and a crontab-job. So my 
webstatistic is updated all 12 hours. What i didn't (yet) checked is, how to 
start R from a click on a website. How are you do that?

gruess

joerg



> Hello All,
> 
> I'd like to create diagrams for dynamic web-pages via a cgi-script that
> itself uses R. Sadly, I found out that the png and jpeg devices need an
> X-server:-( , so I cannot use these nice devices. Does any one have any
> experience using R for on-the-flycreation of graphics for web-pages
> pages? Any suggestions for workarounds?
> 
> 	thanks very much for help,
> 
> 	Arne
> 
> -- 
> Arne Mueller
> Biomolecular Modelling Laboratory
> Imperial Cancer Research Fund
> 44 Lincoln's Inn Fields
> London WC2A 3PX, U.K.
> phone: +44-(0)207 2693405      | fax :+44-(0)207-269-3534
> email: a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johnfield at ozemail.com.au  Mon Mar 18 11:59:43 2002
From: johnfield at ozemail.com.au (John Field)
Date: Mon, 18 Mar 2002 21:29:43 +1030
Subject: [R] Anderson-Darling test
Message-ID: <4.3.2.7.2.20020318212405.00b0c100@pop.ozemail.com.au>

Dear list members,
Does anyone have any code to carry out the Anderson-Darling test for 
goodness-of-fit of an empirical distribution function to a theoretical 
one?  In particular, I'd like to calculate the p-values for the test statistic.
With thanks,
John Field

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nina at math.uni-bremen.de  Mon Mar 18 12:50:48 2002
From: nina at math.uni-bremen.de (Nina Lieske)
Date: Mon, 18 Mar 2002 12:50:48 +0100
Subject: [R] persp(): add second plane (second, long question)
Message-ID: <012001c1ce73$2613d780$557c6686@tating>

Thank you for your replies so far.

Sorry for bothering you again, but I'm still not able to get what I need as
I don't understand all parts of the replies (just using R for easy
things....).
Is there a code for plane3d() like some of you sent me for points3d()? I was
not able to get that out of the scatterplot3d package...

What I can do is to get the x,y and z-range for the xlim,ylim and zlim so
that the two planes would fit the box (x and y  values are the same for both
(1x6vectors)). And I'm able to store the z-values in two different matrices
(6x6).

What I did then is

> xachse<-c(1:6)
> yachse<-xachse
>
> par(bg = "white")
>
> trans3d <- function(x,y,z,pmat) {
+   tmat <- t((cbind(x,y,z,1)%*% pmat))
+   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
+ }
> pmat <- persp(xachse, yachse, betaon1.median.plot,zlim=c(2.75,3.30), theta
= 60, phi = 20,
+               col = "lightblue", xlab = "X", ylab = "Y", zlab = "Z",
+               ticktype="detailed")

This generates a plot for one sample of z-values with enough space for the
second plane. How do I now add the second plane?

Thanks for your patience,
Nina


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Mon Mar 18 13:50:26 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Mon, 18 Mar 2002 12:50:26 -0000
Subject: [R] extract f-value from aov object
References: <002501c1cdd9$c79df620$35892090@ohm.york.ac.uk>
Message-ID: <000b01c1ce7b$79f54160$35892090@ohm.york.ac.uk>

Hi all,
 I'm using R to perfrom ANOVA on some data using aov(). What
I would like to know, is there some way that I can extract the f-value
that I obtain in the function summary(aov(.....)). I am running the
whole thing in a script and I would like to be able to extract the f
value after performing ANOVA and use it further in the script. E.g. Is
there is a dimension name like fit["f_value"] that can be used to
acces the value.

Any Help would be greatly appreciated.

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Mon Mar 18 14:29:26 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 18 Mar 2002 14:29:26 +0100
Subject: [R] extract f-value from aov object
In-Reply-To: <000b01c1ce7b$79f54160$35892090@ohm.york.ac.uk>
Message-ID: <B8BBAA46.78A9%pflugshaupt@geobot.umnw.ethz.ch>

On 18.3.2002 13:50 Uhr, Rishabh Gupta wrote:

> Hi all,
> I'm using R to perfrom ANOVA on some data using aov(). What
> I would like to know, is there some way that I can extract the f-value
> that I obtain in the function summary(aov(.....)). I am running the
> whole thing in a script and I would like to be able to extract the f
> value after performing ANOVA and use it further in the script. E.g. Is
> there is a dimension name like fit["f_value"] that can be used to
> acces the value.
> 
> Any Help would be greatly appreciated.
> 
> Many Thanks
> 
> Rishabh

Hi,

you should assign the summary to a variable, and then use the names() and
str() functions to find out about its structure. Trying it out here, I find
that after ttt <- summary(aov(rnorm(4) ~ c(1,1,2,2))), I can use
ttt[[1]]$F[1] to get the F value.

If your model is more complicated (e.g. if it contains more than one error
term), the summary structure will be different, too.

Alternatively, look at the summary.aov function to see how the F value is
calculated from the components of the aov object, and do it "by hand".


Hope that helps

Kaspar Pflugshaupt


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Mon Mar 18 15:34:52 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Mon, 18 Mar 2002 14:34:52 -0000
Subject: [R] persp(): add second plane (second, long question)
Message-ID: <NEBBJLLBCLEDFLCCBKDAGEDMCEAA.mel@mcs.st-andrews.ac.uk>

Nina,

There is a very crude approach that works fine for me.

> persp(z1)
> par(new=TRUE)
> persp(z2)

The plot of z2 should be superimposed on that of z1. (I think someone here
explained to me about new=TRUE, it basically makes R think it is faced with
a clean page and therefore not wipe it before drawing the new stuff). As
long as the x/y/zlims etc all match you should get what you need. Hopefully.
(Though the more sophisticated solutions do sound much nicer & more
flexible).

Have fun,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Nina Lieske
     > Sent: 18 March 2002 11:51
     > To: r-help at stat.math.ethz.ch
     > Subject: RE:[R] persp(): add second plane (second, long question)
     >
     >
     > Thank you for your replies so far.
     >
     > Sorry for bothering you again, but I'm still not able to get
     > what I need as
     > I don't understand all parts of the replies (just using R for easy
     > things....).
     > Is there a code for plane3d() like some of you sent me for
     > points3d()? I was
     > not able to get that out of the scatterplot3d package...
     >
     > What I can do is to get the x,y and z-range for the
     > xlim,ylim and zlim so
     > that the two planes would fit the box (x and y  values are
     > the same for both
     > (1x6vectors)). And I'm able to store the z-values in two
     > different matrices
     > (6x6).
     >
     > What I did then is
     >
     > > xachse<-c(1:6)
     > > yachse<-xachse
     > >
     > > par(bg = "white")
     > >
     > > trans3d <- function(x,y,z,pmat) {
     > +   tmat <- t((cbind(x,y,z,1)%*% pmat))
     > +   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
     > + }
     > > pmat <- persp(xachse, yachse,
     > betaon1.median.plot,zlim=c(2.75,3.30), theta
     > = 60, phi = 20,
     > +               col = "lightblue", xlab = "X", ylab = "Y",
     > zlab = "Z",
     > +               ticktype="detailed")
     >
     > This generates a plot for one sample of z-values with enough
     > space for the
     > second plane. How do I now add the second plane?
     >
     > Thanks for your patience,
     > Nina
     >
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar 18 16:20:42 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 18 Mar 2002 10:20:42 -0500 (EST)
Subject: [R] persp(): add second plane (second, long question)
In-Reply-To: <NEBBJLLBCLEDFLCCBKDAGEDMCEAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <Pine.LNX.4.30.0203180956560.11684-100000@bolker.zoo.ufl.edu>


  I think I may have been misled by the word "plane" -- I thought you just
wanted to superimpose a specified plane on the existing surface.  It
sounds like you want a second *surface*, which is a harder proposition --
short of a complete revamping of persp(), it sounds like Mike's approach
is best.  (To add another surface using trans3d(), you'd essentially have
to rewrite persp() in R code, drawing each of the appropriate polygons.)
  One of the general problems is that R's graphics model is "draw and
forget", whereas for pretty 3D graphics you really want to do hidden
line/point removal, which means keeping track of all the objects you've
drawn in a 3D space.

On Mon, 18 Mar 2002, Mike Lonergan wrote:

> Nina,
>
> There is a very crude approach that works fine for me.
>
> > persp(z1)
> > par(new=TRUE)
> > persp(z2)
>
> The plot of z2 should be superimposed on that of z1. (I think someone here
> explained to me about new=TRUE, it basically makes R think it is faced with
> a clean page and therefore not wipe it before drawing the new stuff). As
> long as the x/y/zlims etc all match you should get what you need. Hopefully.
> (Though the more sophisticated solutions do sound much nicer & more
> flexible).
>
> Have fun,
>
> Mike.
>
>      > -----Original Message-----
>      > From: owner-r-help at stat.math.ethz.ch
>      > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Nina Lieske
>      > Sent: 18 March 2002 11:51
>      > To: r-help at stat.math.ethz.ch
>      > Subject: RE:[R] persp(): add second plane (second, long question)
>      >
>      >
>      > Thank you for your replies so far.
>      >
>      > Sorry for bothering you again, but I'm still not able to get
>      > what I need as
>      > I don't understand all parts of the replies (just using R for easy
>      > things....).
>      > Is there a code for plane3d() like some of you sent me for
>      > points3d()? I was
>      > not able to get that out of the scatterplot3d package...
>      >
>      > What I can do is to get the x,y and z-range for the
>      > xlim,ylim and zlim so
>      > that the two planes would fit the box (x and y  values are
>      > the same for both
>      > (1x6vectors)). And I'm able to store the z-values in two
>      > different matrices
>      > (6x6).
>      >
>      > What I did then is
>      >
>      > > xachse<-c(1:6)
>      > > yachse<-xachse
>      > >
>      > > par(bg = "white")
>      > >
>      > > trans3d <- function(x,y,z,pmat) {
>      > +   tmat <- t((cbind(x,y,z,1)%*% pmat))
>      > +   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
>      > + }
>      > > pmat <- persp(xachse, yachse,
>      > betaon1.median.plot,zlim=c(2.75,3.30), theta
>      > = 60, phi = 20,
>      > +               col = "lightblue", xlab = "X", ylab = "Y",
>      > zlab = "Z",
>      > +               ticktype="detailed")
>      >
>      > This generates a plot for one sample of z-values with enough
>      > space for the
>      > second plane. How do I now add the second plane?
>      >
>      > Thanks for your patience,
>      > Nina
>      >
>      >
>      > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>      > .-.-.-.-.-.-.-.-.-
>      > r-help mailing list -- Read
>      > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>      > Send "info", "help", or "[un]subscribe"
>      > (in the "body", not the subject !)  To:
>      > r-help-request at stat.math.ethz.ch
>      > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>      > ._._._._._._._._._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Mar 18 16:28:51 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 18 Mar 2002 10:28:51 -0500
Subject: [R] compute variance of every column in a matrix without a loop
Message-ID: <15510.1971.993876.163459@gargle.gargle.HOWL>

Francisco J Molina <FJMolina at lbl.gov> wrote:
> Is it possible to compute the variance of every column in a matrix
> without a loop?

1) apply(m, 2, var)   (as several people said - simple, but not optimally fast)

2) colVars(m)    from package "colSums", available at:
  <http://cran.r-project.org/src/contrib/Devel/colSums_1.1.tar.gz>

3) In 1.5.0, I believe colSums and colMeans will be available (as fast C
   routines).  I don't know if Brian D. Ripley plans to include colVars too,
   but if not the definition is simple enough:
-------------------------------------------------------------------------------
colVars <- function(x, na.rm=FALSE, dims=1, unbiased=TRUE, SumSquares=FALSE,
                    twopass=FALSE) {
  if (SumSquares) return(colSums(x^2, na.rm, dims))
  N <- colSums(!is.na(x), FALSE, dims)
  Nm1 <- if (unbiased) N-1 else N
  if (twopass) {x <- if (dims==length(dim(x))) x - mean(x, na.rm=na.rm) else
                     sweep(x, (dims+1):length(dim(x)), colMeans(x,na.rm,dims))}
  (colSums(x^2, na.rm, dims) - colSums(x, na.rm, dims)^2/N) / Nm1
}
-------------------------------------------------------------------------------

With twopass=TRUE, this should act very much like the S-Plus function by the
same name.  (twopass=TRUE is needed for numerical accuracy if mu >> sigma.)

For a matrix (as opposed to a >2-dimensional array), with unbiased=FALSE, you'd
get the same result as Thomas Lumley's suggestion:
  R> colMeans(m*m)-colMeans(m)^2
However, this is *not* the same as apply(m, 2, var) because (sample) variances
are normally calculated with unbiased=TRUE (i.e. with N-1 in the denominator).
IF you have no NA's, then I'd modify Thomas's suggestion slightly:
  R> N <- nrow(m)
  R> N/(N-1) * (colMeans(m*m)-colMeans(m)^2)
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 18 16:39:36 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Mar 2002 16:39:36 +0100
Subject: [R] persp(): add second plane (second, long question)
References: <012001c1ce73$2613d780$557c6686@tating>
Message-ID: <3C960A38.63A6E0C8@statistik.uni-dortmund.de>

Nina Lieske wrote:
> 
> Thank you for your replies so far.
> 
> Sorry for bothering you again, but I'm still not able to get what I need as
> I don't understand all parts of the replies (just using R for easy
> things....).
> Is there a code for plane3d() like some of you sent me for points3d()? I was
> not able to get that out of the scatterplot3d package...


Well, since scatterplot3d is not designed for the usage with persp()
*and* the plane3d() function returned by scatterplot3d() is only
designed for plane (z depends linear of x and y) planes, that's simply
not possible.

Another way is to plot a plane as a grid of lines or points into an
existing plot (either persp() or scatterplot3d()), but that would need a
hughe amount of code.


> What I can do is to get the x,y and z-range for the xlim,ylim and zlim so
> that the two planes would fit the box (x and y  values are the same for both
> (1x6vectors)). And I'm able to store the z-values in two different matrices
> (6x6).
> 
> What I did then is
> 
> > xachse<-c(1:6)
> > yachse<-xachse
> >
> > par(bg = "white")
> >
> > trans3d <- function(x,y,z,pmat) {
> +   tmat <- t((cbind(x,y,z,1)%*% pmat))
> +   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
> + }
> > pmat <- persp(xachse, yachse, betaon1.median.plot,zlim=c(2.75,3.30), theta
> = 60, phi = 20,
> +               col = "lightblue", xlab = "X", ylab = "Y", zlab = "Z",
> +               ticktype="detailed")
> 
> This generates a plot for one sample of z-values with enough space for the
> second plane. How do I now add the second plane?


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Mar 18 16:37:57 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 18 Mar 2002 10:37:57 -0500
Subject: [R] R on the web
In-Reply-To: <50028292@toto.iv>
Message-ID: <15510.2517.975618.165842@gargle.gargle.HOWL>

Arne Mueller <a.mueller at icrf.icnet.uk> wrote:
> I'd like to create diagrams for dynamic web-pages via a cgi-script that
> itself uses R. Sadly, I found out that the png and jpeg devices need an
> X-server :-( , so I cannot use these nice devices. Does any one have any
> experience using R for on-the-flycreation of graphics for web-pages...?

One possibility is to generate a pdf file, then redirect the user's browser to
that file.  Here are a few relevant lines from such a cgi script:

## Inside the R code:
  pdf("mynewgraph.pdf")
  ## Graphics commands
  dev.off()
## After R has run:
  print "<META HTTP-EQUIV=Refresh CONTENT='0; URL=mynewgraph.pdf'>";

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Mon Mar 18 16:38:05 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Mon, 18 Mar 2002 15:38:05 -0000
Subject: [R] persp(): add second plane (second, long question)
In-Reply-To: <NEBBJLLBCLEDFLCCBKDAGEDMCEAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <000d01c1ce92$e5ecc110$4c202880@GSIMPSON>

For a working example of this see persp.gam() in package mgcv.  This
uses repeated calls to the persp() command to plot the gam response
surface and the +/- standard errors of the fit.

The important thing is setting the x and y limits correctly for the
first plot so that the second call the plot will fit "on top of" the
first.

Gavin

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Mike Lonergan
Sent: 18 March 2002 14:35
To: R help
Subject: RE: [R] persp(): add second plane (second, long question)


Nina,

There is a very crude approach that works fine for me.

> persp(z1)
> par(new=TRUE)
> persp(z2)

The plot of z2 should be superimposed on that of z1. (I think someone
here
explained to me about new=TRUE, it basically makes R think it is faced
with
a clean page and therefore not wipe it before drawing the new stuff). As
long as the x/y/zlims etc all match you should get what you need.
Hopefully.
(Though the more sophisticated solutions do sound much nicer & more
flexible).

Have fun,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Nina Lieske
     > Sent: 18 March 2002 11:51
     > To: r-help at stat.math.ethz.ch
     > Subject: RE:[R] persp(): add second plane (second, long question)
     >
     >
     > Thank you for your replies so far.
     >
     > Sorry for bothering you again, but I'm still not able to get
     > what I need as
     > I don't understand all parts of the replies (just using R for
easy
     > things....).
     > Is there a code for plane3d() like some of you sent me for
     > points3d()? I was
     > not able to get that out of the scatterplot3d package...
     >
     > What I can do is to get the x,y and z-range for the
     > xlim,ylim and zlim so
     > that the two planes would fit the box (x and y  values are
     > the same for both
     > (1x6vectors)). And I'm able to store the z-values in two
     > different matrices
     > (6x6).
     >
     > What I did then is
     >
     > > xachse<-c(1:6)
     > > yachse<-xachse
     > >
     > > par(bg = "white")
     > >
     > > trans3d <- function(x,y,z,pmat) {
     > +   tmat <- t((cbind(x,y,z,1)%*% pmat))
     > +   list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
     > + }
     > > pmat <- persp(xachse, yachse,
     > betaon1.median.plot,zlim=c(2.75,3.30), theta
     > = 60, phi = 20,
     > +               col = "lightblue", xlab = "X", ylab = "Y",
     > zlab = "Z",
     > +               ticktype="detailed")
     >
     > This generates a plot for one sample of z-values with enough
     > space for the
     > second plane. How do I now add the second plane?
     >
     > Thanks for your patience,
     > Nina
     >
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Mon Mar 18 17:09:15 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 18 Mar 2002 11:09:15 -0500
Subject: [R] line breaks
Message-ID: <1016467756.30599.0.camel@penguin>



I have a question about the function of line feeds/carriage returns in
an all linux (R, vi to write scripts) environment.  In my scripts I have
a few functions, using { or ( to wrap commands on the next line. 
Usually this is fine, but sometimes R appears confused by line wrappings
(more likely of course it is me who is confused).  I tried ';' to
explictly break the line, but no dice.

An example (partial function).


inrange _ function(v,Y,s,z,mlv,met){
	lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
	upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
	ML _ mlv[ML$yr==Y & ML$metcode==met]
	diff _ 0
	if (ML<lower) {diff <- lower-ML;   # tried with and without ; 
		v <<- v-diff}
	}

gives:

> inrange _ function(v,Y,s,z,mlv,met){
+ lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
+ upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
+ ML _ mlv[ML$yr==Y & ML$metcode==met]
+ diff _ 0
+ if (ML<lower) {diff <- lower-ML; v <<- v-diff}}
> inrange _ function(v,Y,s,z,mlv,met){
+ lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
+ upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
+ ML _ mlv[ML$yr==Y & ML$metcode==met]
+ diff _ 0
+ if (ML<lower) {diff <- lower-ML;
+
Display all 100 possibilities? (y or n)
ActualTen.dta         .check.R.swl          .marketFix.log.swp    
.
.
contents of directory
.
.
 runsed                test.log
check.R               marketFix.log         PreRet.tar.gz        
.runsed.swp           test.R
+ <<- v-diff}
Error: syntax error

Where: 
> inrange _ function(v,Y,s,z,mlv,met){
+ lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
+ upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
+ ML _ mlv[ML$yr==Y & ML$metcode==met]
+ diff _ 0
+ if (ML<lower) {diff <- lower-ML; v <<- v-diff}
+ }
>
Same line works fine??

Some fuctions in the same script work fine....ie.

>adj _ function(x,F,lastf) {
+ if (F>0) {x[x>F & x < lastf] <<- x[x>F & x < lastf]*.95}
+ if (F<0) {x[x<F & x > lastf] <<- x[x<F & x > lastf]*.95}
+ }
>

The script has never been opened in a windows machine and I would swear
that it worked last week.


Any ideas?

Michaell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Mar 18 17:31:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 18 Mar 2002 08:31:10 -0800 (PST)
Subject: [R] line breaks
In-Reply-To: <1016467756.30599.0.camel@penguin>
Message-ID: <Pine.A41.4.44.0203180828500.146122-100000@homer36.u.washington.edu>

On 18 Mar 2002, Michaell Taylor wrote:

>
>
> I have a question about the function of line feeds/carriage returns in
> an all linux (R, vi to write scripts) environment.  In my scripts I have
> a few functions, using { or ( to wrap commands on the next line.
> Usually this is fine, but sometimes R appears confused by line wrappings
> (more likely of course it is me who is confused).  I tried ';' to
> explictly break the line, but no dice.
>
> An example (partial function).
>
>
> inrange _ function(v,Y,s,z,mlv,met){
> 	lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
> 	upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
> 	ML _ mlv[ML$yr==Y & ML$metcode==met]
> 	diff _ 0
> 	if (ML<lower) {diff <- lower-ML;   # tried with and without ;
> 		v <<- v-diff}
> 	}
>
> gives:
>
> > inrange _ function(v,Y,s,z,mlv,met){
> + lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
> + upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
> + ML _ mlv[ML$yr==Y & ML$metcode==met]
> + diff _ 0
> + if (ML<lower) {diff <- lower-ML; v <<- v-diff}}
> > inrange _ function(v,Y,s,z,mlv,met){
> + lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
> + upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
> + ML _ mlv[ML$yr==Y & ML$metcode==met]
> + diff _ 0
> + if (ML<lower) {diff <- lower-ML;
> +
> Display all 100 possibilities? (y or n)
> ActualTen.dta         .check.R.swl          .marketFix.log.swp
> .
> .
> contents of directory

It's not Bill Gates' fault.  It's the readline library -- it's trying to
do TAB completion of file names.

Don't use TAB characters in interactive R sessions if you're running
readline.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cafa at ime.unicamp.br  Mon Mar 18 17:42:59 2002
From: cafa at ime.unicamp.br (Cezar Augusto de Freitas Anselmo)
Date: Mon, 18 Mar 2002 13:42:59 -0300 (EST)
Subject: [R] Plot 3d
Message-ID: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br>

There exists a plot 3d functions (or similar) in R?
Thanks,

========================================
Cezar Freitas (ICQ 109128967)
IMECC - UNICAMP
Campinas, SP - Brasil


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cafa at ime.unicamp.br  Mon Mar 18 18:31:53 2002
From: cafa at ime.unicamp.br (Cezar Augusto de Freitas Anselmo)
Date: Mon, 18 Mar 2002 14:31:53 -0300 (EST)
Subject: [R] About plot 3d
Message-ID: <Pine.GSO.4.10.10203181430540.4045-100000@athenas.ime.unicamp.br>

Im looking for functions that draw 3d graphics. Is it possible in R?
Thanks in advance,

========================================
Cezar Freitas (ICQ 109128967)
IMECC - UNICAMP
Campinas, SP - Brasil


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Mon Mar 18 19:08:10 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Mon, 18 Mar 2002 19:08:10 +0100
Subject: [R] ordering a matrix by multiple columns
Message-ID: <3C962D0A.6EC00CAF@Genetik.Uni-Bielefeld.DE>

Dear all,

is there an easy way to sort or get the order of a matrix or data.frame
by multiple rows 
(like ODER BY in SQL), that means if some values in the first column are
equal, then sort them (or 'order') by the second etc.? 

Thanks in advance!
Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 18 19:15:21 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Mar 2002 19:15:21 +0100
Subject: [R] ordering a matrix by multiple columns
In-Reply-To: <3C962D0A.6EC00CAF@Genetik.Uni-Bielefeld.DE>
References: <3C962D0A.6EC00CAF@Genetik.Uni-Bielefeld.DE>
Message-ID: <x2663tkaiu.fsf@blueberry.kubism.ku.dk>

Michael Dondrup <Michael.Dondrup at Genetik.Uni-Bielefeld.DE> writes:

> Dear all,
> 
> is there an easy way to sort or get the order of a matrix or data.frame
> by multiple rows 
> (like ODER BY in SQL), that means if some values in the first column are
> equal, then sort them (or 'order') by the second etc.? 

Oder was? (Sorry)

Try 

d[order(d$var1,d$var2,d$var3),] 

or 

d[with(d,order(var1,var2,var3)),]

The latter form is useful if d is called something longer than "d"...

The only mildly annoying thing is that you cannot (easily) sort
descending on character variables -- for numeric ones, just switch the
sign.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 18 19:21:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Mar 2002 19:21:53 +0100
Subject: [R] Plot 3d [and [R] About plot 3d]
References: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br>
Message-ID: <3C963041.C85D007E@statistik.uni-dortmund.de>

Cezar Augusto de Freitas Anselmo wrote:
> 
> There exists a plot 3d functions (or similar) in R?

and 49 minutes later:

> Im looking for functions that draw 3d graphics. Is it possible in R?

Well, at first it's not neccessary to ask almost the same question two
times, particularly if it is not very specific in both cases.


There are several options, here is what comes to my mind:

 - persp() "This function draws perspective plots of surfaces over the
x?y plane."

 - image(): "Creates a grid of colored or gray-scale rectangles with
colors corresponding to the values in z. This can be used to display
three-dimensional or spatial data aka ``images''."

 - several functions() in package rgl (only for windows, available at
http://www.stats.uwo.ca/faculty/murdoch/software).

 - scatterplot3d() in package scatterplot3d (available at CRAN) for
plotting 3D point clouds.
 

As you can see, it is hard to help if your question is not very specific
(what kind of 3D graphics as we can imagine several different kinds,
your OS, version of R, etc).
There were many questions regarding 3D graphics in the last two years on
R-help. Searching the archives could have been successful.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar 18 19:33:47 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 18 Mar 2002 13:33:47 -0500 (EST)
Subject: [R] About plot 3d
In-Reply-To: <Pine.GSO.4.10.10203181430540.4045-100000@athenas.ime.unicamp.br>
Message-ID: <Pine.LNX.4.30.0203181331130.12052-100000@bolker.zoo.ufl.edu>


  This has been discussed (very recently!) on the R-help list.
Try

?persp (for surfaces) and/or the scatterplot3d library on CRAN (for points
and lines).

On Mon, 18 Mar 2002, Cezar Augusto de Freitas Anselmo wrote:

> Im looking for functions that draw 3d graphics. Is it possible in R?
> Thanks in advance,
>
> ========================================
> Cezar Freitas (ICQ 109128967)
> IMECC - UNICAMP
> Campinas, SP - Brasil
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 18 19:29:29 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Mar 2002 19:29:29 +0100
Subject: [R] ordering a matrix by multiple columns
References: <3C962D0A.6EC00CAF@Genetik.Uni-Bielefeld.DE>
Message-ID: <3C963209.371D15D5@statistik.uni-dortmund.de>

Michael Dondrup wrote:
> 
> Dear all,
> 
> is there an easy way to sort or get the order of a matrix or data.frame
> by multiple rows
> (like ODER BY in SQL), that means if some values in the first column are
> equal, then sort them (or 'order') by the second etc.?

What about looking in the help files? My first idea would be to take a
look at ?sort and ?order, two words you already mentioned in your
querstion. And I'd bet you'll get the answer.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Mon Mar 18 19:57:09 2002
From: snow at fisher.byu.edu (Greg Snow)
Date: Mon, 18 Mar 2002 11:57:09 -0700 (MST)
Subject: [R] apply problem
In-Reply-To: <3C94780A.1592.688308@localhost>
Message-ID: <Pine.GSO.4.21.0203181155431.2672-100000@fisher.byu.edu>

On Sun, 17 Mar 2002 ggrothendieck at yifan.net wrote:

> 
> > > > > > apply(iris3,1,function(x)identical(x,iris3[1,]))
> > > > >     1     2     3
> > > > > FALSE FALSE FALSE
> > > > >
> > > > > What's wrong here?
[snip]
> OK.  Efficiency aside,I believe it would still be nice to have this ability 
> for compactness.  Here are some ideas:

How about:

> sapply( seq(along=iris3[,1]), function(x,y) identical(y[x,], iris3[1,]),
+ y=iris3)
[1]  TRUE FALSE FALSE


-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Mon Mar 18 20:14:44 2002
From: snow at fisher.byu.edu (Greg Snow)
Date: Mon, 18 Mar 2002 12:14:44 -0700 (MST)
Subject: [R] using "by" and indicies
In-Reply-To: <20020318064113.A22354@camille.indigoindustrial.co.nz>
Message-ID: <Pine.GSO.4.21.0203181213250.2672-100000@fisher.byu.edu>

On Mon, 18 Mar 2002, Jason Turner wrote:

> I sent this to the list last week, and haven't seen it pop up.  Either 
> I deleted it when it did appear, or possibly it was destroyed as 
> spam...?  If it did appear and I somehow missed it, appologies.
[snip]
> I'm using by() to call pairs(), and would like to put the factor
> level into the title.  A toy example would be something like:
> 
> 
> > d1 <- data.frame(rnorm(100),rt(100,2),sin(1:100))
> > levs <- as.factor(rep(1:5,20))
> > levels(levs) <- c("low","med-lo","med","med-hi","high")
> > by(d1,levs,pairs)
> 
> Is there an elegant way to get "low"..."high" in the main title for
> each plot, without binding "levs" to the data sent to a custom plot 
> function? 

One way is to pass the level info with the data to be plotted:

> d2 <- cbind(d1, levs)
> by(d2,levs,function(x){ tmp <- levels(x[,4])[x[1,4]] ;
+ pairs( x[,1:3], main=paste("Level:",tmp) ) } )

hope this helps,

-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Mon Mar 18 23:55:40 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 18 Mar 2002 17:55:40 -0500
Subject: [R] function design
Message-ID: <1016492142.30601.4.camel@penguin>



I have a, no doubt, simple question. I wish to write a function such
that 

a <- 9
b <- 10
changer _ function(x,y) { if (y>x){ x <<- Y+1}}

Of course there are easier ways to accomplish the task above, but I am
more interested in how to have the "x <<- Y+1" part of the function to
change x in place for purposes of a much larger function.

I have been wrestling with various forms of the assign, as.name,
deparse, substitute (by now you probably sense a air of desperation)
commands, and permuations thereof.

These variables will be in a detached data.frame (not shown here).

Thanks for your time.

Michaell


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 19 00:28:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Mar 2002 00:28:40 +0100
Subject: [R] function design
In-Reply-To: <1016492142.30601.4.camel@penguin>
References: <1016492142.30601.4.camel@penguin>
Message-ID: <x2zo15sbfb.fsf@blueberry.kubism.ku.dk>

Michaell Taylor <pols1oh at bestweb.net> writes:

> I have a, no doubt, simple question. I wish to write a function such
> that 
> 
> a <- 9
> b <- 10
> changer _ function(x,y) { if (y>x){ x <<- Y+1}}

(something appears to be missing here?)
 
> Of course there are easier ways to accomplish the task above, but I am
> more interested in how to have the "x <<- Y+1" part of the function to
> change x in place for purposes of a much larger function.
> 
> I have been wrestling with various forms of the assign, as.name,
> deparse, substitute (by now you probably sense a air of desperation)
> commands, and permuations thereof.

..although not with sufficient perseverance, I suggest. These matters
are tricky and you need to pay close attention to the details, but it
pays off in the longer run.

I think what you mean is something like this:

changer <- function(x,y) {
  xx <- substitute(x)
  if (y > x)
     eval.parent(substitute(x <- foo, list(foo=y + 1, x=xx)))
}

or

changer <- function(x,y) {
  xx <- deparse(substitute(x))
  if (y > x)
     assign(xx, y + 1, envir=parent.frame())
}

The tricky bit is that you cannot substitute the actual argument for x
after it gets evaluated for the  y > x condition.

(Note however that more often that not, this kind of stuff turns out
to be just a mental exercise, because there is a better way of doing
what you were trying to do originally!)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Tue Mar 19 01:29:54 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 18 Mar 2002 19:29:54 -0500
Subject: [R] function design
In-Reply-To: <20020318181347.A14500@jimmy.harvard.edu>
References: <1016492142.30601.4.camel@penguin> 
	<20020318181347.A14500@jimmy.harvard.edu>
Message-ID: <1016497795.30593.6.camel@penguin>

> 
>   Why not tell us what you actually want to do?
>   There are probably much simpler, more direct ways of doing it, but
>   given the information above who could tell?
>   For example, I don't think I have needed to use <<- to overcome any
>   programming problem that did not involve environments.


You are right.  Frequently the simplifications don't actually target the
problem.  The overall issue is that the data.frame data is a collection
of monte carlo simulations.  the ML data is a most likely estimate of
the same series. I want to adjust the Monte carlo simulations so that
the most likely fit in the "fat part" of the montecarlo distribution. I
do this by assessing the year by year fit and make the adjustments -
importantly, the adjustments are saved to "adjustments" for auditing
purposes.

lagger _ function(X,y,z,l=1) {temp _
c(rep(NA,l),X[-((length(X)-(l-1)):length(X))])
	temp[y==min(y)] _ z 
	return(temp)}
# X,y,z,l = variable, marker for first obs of scenario (yr), z=prior
level value
growit _ function(x,y,z) {(x/lagger(x,y,z)) }

inrange _ function(v,Y,s,z,mlv,met){
	lower _ mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
	upper _ mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
	MLE _ mlv[ML$yr==Y & ML$metcode==met]
	diffa _ 0
	if (MLE<lower) {print('lower')
		diffa <- lower-MLE
		v[data$yr==Y] <<- v[data$yr==Y]-diffa} THE PROBLEM AREA
	if (MLE>upper) {print('higher')
		diffa <- MLE-upper
		v[data$yr==Y] <<- v[data$yr==Y]+diffa} THE PROBLEM AREA
	if (diffa!=0) {
		v _ growit(v,s,z)
		adjustment$met _ append(adjustment$met,met)
		adjustment$sector _ append(adjustment$sector,sector)
		adjustment$ML _ append(adjustment$ML,MLE)
		adjustment$lower _ append(adjustment$lower,lower)
		adjustment$upper _ append(adjustment$upper,upper)
		adjustment$Var _ append(adjustment$Var,quote(v))
		adjustment$diffa _ append(adjustment$diffa,diffa)
		}		
	}
inrange(data$Linv,Y,data$yr,starting.inv,ML$inv,met)

THE PROBLEM AREA - marks the location where I would like to save the
changes out to the main data stream.

Hope this helps.

Thanks.


> 
>   deparse(substitute(x)), will however, get you the name of the
>   variable that was supplied as x.
>   
>   the following, is a vectorized version of something similar
> 
>   
>   foo <-function(x,y) ifelse(x>y,x,y)
>   a <- foo(a,b)
>  
> > 
> > Michaell
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> +---------------------------------------------------------------------------+
> | Robert Gentleman                 phone : (617) 632-5250                   |
> | Associate Professor              fax:   (617)  632-2444                   |
> | Department of Biostatistics      office: M1B28
> | Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
> +---------------------------------------------------------------------------+


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Tue Mar 19 04:02:48 2002
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Tue, 19 Mar 2002 14:02:48 +1100
Subject: [R] RGui error
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A801F@anaconda>

R on windows users,

I've noted a similar problem reported before [Rd] Rgui.exe crash on Windows
2000 (PR#912) but could not find the solution.

I have been running R1.4.1 in windows 2000 since the day it was released
with plenty of RAM for my purposes.

In two of my .Rdata files I run TclTk as a menuing system to invoke a series
of functions for plotting statistics etc. On occasions, currently
unpredictably, R terminated with a "PROGRAM ERROR dialogue box... RGui.exe
has generated errors and will be closed by Windows. You will need to restart
the program. An error log is being created" I would normally be able to
restart R with little in the way of inconvenience through frequent image
saving.

This time is different. When I attempted to restart, the same dialogue
appeared immediately, terminating the program and the .Rdata could not be
accessed. Also, all other databases could not be accessed even though they
were not party to the initial malfunction.

The RGui is invoked and flashes up quickly before disappearing with the
final statement being:
Error: cannot find unused template file

I reinstalled R 1.4.1 and rebooted with no relief and none of my databases
(10), or copies of new ones, are now functioning. I fear the worse.

Any suggestions at all would be most welcome

***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue Mar 19 04:08:37 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 18 Mar 2002 19:08:37 -0800
Subject: [R] matrix with fix number columns but variable number rows
Message-ID: <3C96ABB5.BCBBEE87@lbl.gov>

I have to store a number of vectors of the same length. I know the
length but I do not know the number of vectors.

How can I store them as they are created (they are created one by one)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mueller at cancer.org.uk  Tue Mar 19 04:12:29 2002
From: mueller at cancer.org.uk (Arne Mueller)
Date: Tue, 19 Mar 2002 03:12:29 +0000 (GMT)
Subject: [R] breaks in axis
Message-ID: <Pine.GSO.3.96.1020319031207.14578B-100000@magic>

Hello,

is there a easy way to get a break into an axis line to indicate that one
has removed a part of the axis to save space. The jajority of my data
points is between 0 and 5, and just one data point goes up to 20. I'd just
like to put in a break between 5.5 and 25.


        thanks a lot for help,



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue Mar 19 04:42:10 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 18 Mar 2002 19:42:10 -0800
Subject: [R] write in a file
Message-ID: <3C96B392.F743FB56@lbl.gov>

I have a script that generates vectors (one in a while) How can I write
them to a file?

How can I recover them and put them in a matrix (or some array where I
can introduce more vectors)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue Mar 19 05:21:05 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 18 Mar 2002 20:21:05 -0800
Subject: [R] group vectors of different length
Message-ID: <3C96BCB1.3617AE76@lbl.gov>

If I have several vectors of different length. Is there any way to group
them in R and call them with an integer (and index)?
Let us assume that the number of vectors is not known before I run the
script.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michael.wolf at bezreg-muenster.nrw.de  Tue Mar 19 08:26:02 2002
From: michael.wolf at bezreg-muenster.nrw.de (Wolf, Michael)
Date: Tue, 19 Mar 2002 08:26:02 +0100
Subject: [R] RODC-Connection to more than one file
Message-ID: <91A5F7DB6BF6D311922900508B63D7560146B045@exchange.bezreg-muenster.nrw.de>

Hallo everyone!

Has anyone an idee to get out data of more than one Excel-file via RODBC
with one single sqlQuery-command? The RODBC-manual shows how the sql command
shoot run, but every time I try, I got an error, that the ODBC-connection to
one of the files was not successful. If I make a sqlQuery for only one file
(e. g. in DatAllg.XLS without variables from DatBev.XLS / b. ...), the
ODBC-connection works fine.
Do I need a second channel? If so, how can I use two odbcConnect's in one
sqlQuery?

Here ist my R-source code:

>library(Rodbc)
># Specified Excel files in ODBC as User DSN:   DatAllg.XLS -> area name:
ALLG
>#                                              DatBev.XLS  -> area name:
BEV
># Sheets:                                      DatAllg.XLS -> ALLG
>#                                              DatBev.XLS  -> BEV
>channel <- odbcConnect("DatAllg")
>tt1 <- sqlQuery(channel, "select b.REGCODE, a.NAME, b.JAHR, b.BEV_G from
ALLG as a,  `C:/Arbeit/Database/Daten.DatBev`.BEV as b where ((a.REGCODE =
b.REGCODE) and (b.REGCODE>=5500000  and b.REGCODE<5700000)) order by
b.REGCODE, b.JAHR")
>odbcClose(channel)
>print(tt1)

If my code is too complicated please show me another example with two Excel
files.

Thank you for your help!

With best regards

Dr. Michael Wolf
Bezirksregierung M?nster
Dezernat 61
Domplatz 1-3    48143 M?nster
Tel.: +49 (0251) 411-1795            
Fax:  +49 (0251) 411-1751
Mail: michael.wolf at bezreg-muenster.nrw.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 19 08:27:48 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 19 Mar 2002 08:27:48 +0100
Subject: [R] breaks in axis
References: <Pine.GSO.3.96.1020319031207.14578B-100000@magic>
Message-ID: <3C96E874.652BB7A9@statistik.uni-dortmund.de>



Arne Mueller wrote:
> 
> Hello,
> 
> is there a easy way to get a break into an axis line to indicate that one
> has removed a part of the axis to save space. The jajority of my data
> points is between 0 and 5, and just one data point goes up to 20. I'd just
> like to put in a break between 5.5 and 25.

AFAIK: No. You will have to manipulate the plot manually.

I'd suggest to set this one data plot to a reasonable value, say 8, plot
without an axis and make an axis manually (of course labeled with 20 at
the location of 8). You can also mark the break in the axis with two
lines, for example.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 19 08:36:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 19 Mar 2002 08:36:46 +0100
Subject: [R] group vectors of different length
References: <3C96BCB1.3617AE76@lbl.gov>
Message-ID: <3C96EA8E.5E6230EB@statistik.uni-dortmund.de>



Francisco J Molina wrote:
> 
> If I have several vectors of different length. Is there any way to group
> them in R and call them with an integer (and index)?
> Let us assume that the number of vectors is not known before I run the
> script.

*Please* read "An Introduction to R"!

You want to use a list:

vec1 <- 1:10
vex2 <- 1:5
mylist <- list(vec1, vec2)
mylist[[2]]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 19 08:38:57 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 19 Mar 2002 08:38:57 +0100
Subject: [R] matrix with fix number columns but variable number rows
References: <3C96ABB5.BCBBEE87@lbl.gov>
Message-ID: <3C96EB11.4259D4AA@statistik.uni-dortmund.de>

Francisco J Molina wrote:
> 
> I have to store a number of vectors of the same length. I know the
> length but I do not know the number of vectors.
> 
> How can I store them as they are created (they are created one by one)?

*Please* read "An Introduction to R"!

rbind() and indexing a matrix M[i, j] are possible solutions.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 19 08:42:11 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 19 Mar 2002 08:42:11 +0100
Subject: [R] write in a file
References: <3C96B392.F743FB56@lbl.gov>
Message-ID: <3C96EBD3.4C7A7D84@statistik.uni-dortmund.de>



Francisco J Molina wrote:
> 
> I have a script that generates vectors (one in a while) How can I write
> them to a file?
> 
> How can I recover them and put them in a matrix (or some array where I
> can introduce more vectors)?

*Please* read "An Introduction to R" and "R Data Import/Export"!

You should write them as rows of a data.frame with write.table()
append=TRUE should be an useful argument.
read.table() for the other way round.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Mar 19 08:51:43 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 19 Mar 2002 08:51:43 +0100
Subject: [R] creating time series from existing data
In-Reply-To: <Pine.LNX.4.33.0203151720240.1500-100000@x.opf.slu.cz>
Message-ID: <MABBLJDICACNFOLGIHJOIEBICKAA.phgrosje@ulb.ac.be>

Hello,
You will find many tools for this purpose in the pastecs package. There are
4 regulation methods provided for transforming irregularly spaced
observations into regular time series: constant regconst(), linear reglin(),
spline regspline() (these three functions are just nice wrappers around the
approx() and spline() functions provided in the base R package), and also
the very powerful area method regarea(). In addition to the online help in
English, you will find additional explanations, examples and theoretical
explanations in the user manual (currently only in French) that you can
download from  http://www.sciviews.org/pastecs. Hope this will help.
Best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Lukas Kubin
Envoye : vendredi 15 mars 2002 17:24
A : r-help at stat.math.ethz.ch
Objet : [R] creating time series from existing data


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Is it possible to create a time series from existing data frame? One
column of that frame contains dates (like "01/01/01") and the second one
the values. The period is non-regular (it is not strictly daily nor
working-days-daily).
Thank you.

lukas

- --
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8kiAv4TIZ2lmUAtsRAo1bAJ4/Cxj4CMUCEPKCzj7oK7zYI20ljwCeIPeo
SxNA50McDeNRgY/OzFkqvuc=
=9Cs1
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Mar 19 10:06:42 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 19 Mar 2002 09:06:42 +0000
Subject: [R] matrix with fix number columns but variable number rows
References: <3C96ABB5.BCBBEE87@lbl.gov>
Message-ID: <3C96FFA2.A72760D8@psy.uni-muenchen.de>

Francisco J Molina wrote:

> I have to store a number of vectors of the same length. I know the
> length but I do not know the number of vectors.
>
> How can I store them as they are created (they are created one by one)?

Maybe

data <- vector(mode="numeric")
# and here functions, loops  or whatever to read the data
newdata <- datafromanywhere
data <- rbind(data, newdata)

Regards, Sven




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Mar 19 09:37:08 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 19 Mar 2002 09:37:08 +0100
Subject: [R] group vectors of different length
References: <3C96BCB1.3617AE76@lbl.gov>
Message-ID: <00d301c1cf21$4a8e6180$5c13070a@it.giustizia.it>

The following toy-code could help you:

> a<-list()
> is.list(a)
[1] TRUE
> x1<-rnorm(5)
> x2<-rnorm(11)
> x3<-rnorm(100)
> length(a)
[1] 0
> a[[length(a)+1]]<-x1
> a[[length(a)+1]]<-x2
> a[[length(a)+1]]<-x3
> length(a)
[1] 3
> sapply(a,length)
[1]   5  11 100

So you can call each vector with integer indices, a[[1]], a[[2]], and so on.

best,
vito


----- Original Message -----
From: "Francisco J Molina" <FJMolina at lbl.gov>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, March 19, 2002 5:21 AM
Subject: [R] group vectors of different length


> If I have several vectors of different length. Is there any way to group
> them in R and call them with an integer (and index)?
> Let us assume that the number of vectors is not known before I run the
> script.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Mar 19 10:03:29 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 19 Mar 2002 10:03:29 +0100
Subject: [R] group vectors of different length
References: <3C96BCB1.3617AE76@lbl.gov>
Message-ID: <3C96FEE1.3F95AF9F@atmos.umnw.ethz.ch>

Hello Francisco,

try vectors <- list(vector1,vectro2,...)
after that you can use list[[index]] (double the brackets) and
length(list)

gruess

joerg

Francisco J Molina wrote:
> 
> If I have several vectors of different length. Is there any way to group
> them in R and call them with an integer (and index)?
> Let us assume that the number of vectors is not known before I run the
> script.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar 19 10:24:39 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Mar 2002 10:24:39 +0100 (MET)
Subject: [R] matrix with fix number columns but variable number rows
In-Reply-To: <3C96ABB5.BCBBEE87@lbl.gov>
Message-ID: <Pine.OSF.3.96.1020319101542.19296A-100000@ija.csic.es>

If the vectors are created within a loop,

matriz <- NULL
for(...){
 ...
 matriz <- cbind(matriz,vector)
}
matriz

but I think that it's better to define matriz with a large
number of cols and avoid growing the matrix within the
loop:

matriz <- matrix(NULL,nrow=numlineas,ncol=maxnumcols)
col <- 0
for(...){ 
 col <- col+1
 ... 
 matriz[,col] <- vector
}
matriz <- matriz[,1:col] #keep only the used cols
matriz

..and even better if you can avoid the loop, R offers
many opportunities for that.



Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 18 Mar 2002, Francisco J Molina wrote:

> I have to store a number of vectors of the same length. I know the
> length but I do not know the number of vectors.
> 
> How can I store them as they are created (they are created one by one)?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar 19 10:26:32 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Mar 2002 10:26:32 +0100 (MET)
Subject: [R] group vectors of different length
In-Reply-To: <3C96BCB1.3617AE76@lbl.gov>
Message-ID: <Pine.OSF.3.96.1020319102453.19296B-100000@ija.csic.es>


A list can have elements of different type, hence vectors
of different length, i.e.:

v1 <- 1:10
v2 <- 1:3
v3 <- 100:1000

milista <- list(v1=v1,v2=v2,v3=v3)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 18 Mar 2002, Francisco J Molina wrote:

> If I have several vectors of different length. Is there any way to group
> them in R and call them with an integer (and index)?
> Let us assume that the number of vectors is not known before I run the
> script.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar 19 10:48:57 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Mar 2002 10:48:57 +0100 (MET)
Subject: [R] write in a file
In-Reply-To: <3C96B392.F743FB56@lbl.gov>
Message-ID: <Pine.OSF.3.96.1020319104020.19296D-100000@ija.csic.es>


write() for ascii, save() for binary. With write()
you can use append=T for puting all the vectors in the same
file (better as rows). 

To recover them to a matrix having used write(...,append=T)
matriz <- matrix(scan("outputfile.txt"),byrow=T,ncol=numcol.in.file)
matriz <- t(matriz) #if the vectors had been written as rows

>From save(), use load().

Perhaps you should consider one of the tutorials
in http://cran.r-project.org/other-docs.html

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 18 Mar 2002, Francisco J Molina wrote:

> I have a script that generates vectors (one in a while) How can I write
> them to a file?
> 
> How can I recover them and put them in a matrix (or some array where I
> can introduce more vectors)?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Mar 19 13:16:37 2002
From: maeder at atmos.umnw.ethz.ch (=?iso-8859-1?Q?M?der_J?rg?=)
Date: Tue, 19 Mar 2002 11:16:37 -0100 (MET)
Subject: [R] last day of month values
Message-ID: <35898.129.132.77.42.1016532997.squirrel@albeniz.ethz.ch>

hello lukas,

new try

#dataframe with date and value column. Date as to be a POSIXct (see
as.POSIXct,asPOSIXlt,strftime,strptime)
dm <-
data.frame(date=as.POSIXct(strptime(c('12-02-02','16-02-02','13-03-02','18-03-02','01-02-01','04-03-02'),format='%d-%m-%y')),value=c(2,5,3,6,8,6))

#small function that we need. Find the x with the last day
dy <- function(x){
  y <-  as.numeric(strftime(as.POSIXlt(x),format='%d'))
  y <- match(max(y),y)
  x[y]
}

#use this function for each month-year combination 
#and return the day as dirty numeric 
ma <- tapply(dm$date,strftime(as.POSIXlt(dm$date),'%Y %m'),dy)

#find the rigth row-index for ma
i <- match(ma,as.numeric(dm$date))

#use this to access your data
dm$date[i]
dm$value[i]
dm[i,]

special feature: the index is sorted in time

is it this????

gruess

joerg
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Thank you, it works. But how do I deal with years? This finds just the
> "maxdayspermonths" within a year. But my data are for more years. And
> the maxday in month differs in years.
> Thank you.
> 
> lukas
> 
> On Tue, 26 Feb 2002, Joerg Maeder wrote:
> 
>> Hi Lukas
>>
>> use the functions stpftime and strptime (see R documentation)
>> eg: as.numeric(strftime(f,format="%m")) for the months, year: "%y",
>> day: "%d"
>> Be carefull about leadings 0 (3 or 03) and try to write the year in 4
>> digits!
>> if your date is a string you can use as.numeric(substring(date,from,
>> length))
>> eg: month <- as.numeric(substring(date,4,2))
>>
>>
>> Lukas Kubin wrote:
>> >
>> > -----BEGIN PGP SIGNED MESSAGE-----
>> > Hash: SHA1
>> >
>> > Hi Joerg,
>> > thank you for the answer, however I have the timestamp in format
>> > 26-02-02. Do I have to extract each part of the date?
>> > Thank you.
>> >
>> > lukas
>> >
>> > On Tue, 26 Feb 2002, Joerg Maeder wrote:
>> >
>> > > Hallo Lukas,
>> > >
>> > > try this code
>> > > #data
>> > > d <-
>> > >
data.frame(day=c(1,10,15,30,2,16,18,28),month=c(1,1,1,1,2,2,2,2),value=c(8,9,7,5,6,4,1,2))
>> > > #find the highest day per month
>> > > ma <- tapply(d$day,d$month,max)
>> > > #get them values
>> > > d$value[match(as.numeric(names(ma))+(ma-1)/31,d$month+(d$day-1)/31)]
>> > >
>> > > gruess
>> > >
>> > > joerg
>> > >
>> > > Lukas Kubin wrote:
>> > > >
>> > > > -----BEGIN PGP SIGNED MESSAGE-----
>> > > > Hash: SHA1
>> > > >
>> > > > I have a stock market trading values time series. What's the
>> > > > best way to extract the "last day of month" values. I looked at
>> > > > function window() but doesn't appear suitable for this since it
>> > > > expects regular dates. Thank you.
>> > > >
>> > > > lukas
>> > > >
>> > > > - --
>> > > > Lukas Kubin
>> > > > lukas.kubin at permonik.com
>> > > > phone: 00420603836180
>> > > > -----BEGIN PGP SIGNATURE-----
>> > > > Version: GnuPG v1.0.5 (GNU/Linux)
>> > > > Comment: For info see http://www.gnupg.org
>> > > >
>> > > > iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
>> > > > YEujkKsmoX/orLUlnHxBNYA=
>> > > > =H9uw
>> > > > -----END PGP SIGNATURE-----
>> > > >
>> > > >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> > > > r-help mailing list -- Read
>> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
>> > > > "help", or "[un]subscribe"
>> > > > (in the "body", not the subject !)  To:
>> > > > r-help-request at stat.math.ethz.ch
>> > > >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> > >
>> > >
>> >
>> > - --
>> > Lukas Kubin
>> > lukas.kubin at permonik.com
>> > phone: 00420603836180
>> > -----BEGIN PGP SIGNATURE-----
>> > Version: GnuPG v1.0.5 (GNU/Linux)
>> > Comment: For info see http://www.gnupg.org
>> >
>> > iD8DBQE8e5uJ4TIZ2lmUAtsRAuQXAKDCaNnEyXXVFa6fMS81klJIXDFrlgCgmm71
>> > zVnHeNICrNs6dvQd0Ir1YkI=
>> > =pcXi
>> > -----END PGP SIGNATURE-----
>>
>>
> 
> - -- 
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> 
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: For info see http://www.gnupg.org
> 
> iD8DBQE8kiht4TIZ2lmUAtsRAlXYAJ9AXzlfmDeh6A1qQFuZPUyVr/nrOgCfaGMd
> lgdIrgosXKzRjMNtKcqt/rA=
> =ee3Z
> -----END PGP SIGNATURE-----
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nina at math.uni-bremen.de  Tue Mar 19 11:46:14 2002
From: nina at math.uni-bremen.de (Nina Lieske)
Date: Tue, 19 Mar 2002 11:46:14 +0100
Subject: [R] what line is labeled in persp?
Message-ID: <012201c1cf33$5c715ee0$557c6686@tating>

Dear R-users,

another question concerning a persp()-plot:

What does it depend on which line is labeled as an axis? Some plots I've
done look fine, but in one plot, a different line is labeled. I can't find
out why, as I just copied the code.

Two small *.ps-grafics can be downloaded on

http://www.math.uni-bremen.de/~nina/grafic.html

to illustrate my problem.

Thanks for your help in advance,
Nina


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnold.kester at stat.unimaas.nl  Tue Mar 19 11:55:21 2002
From: arnold.kester at stat.unimaas.nl (Arnold Kester)
Date: 19 Mar 2002 11:55:21 +0100
Subject: [R] plot with the axes at xlim and ylim
Message-ID: <1016535321.1041.71.camel@stat0045deb1.unimaas.nl>

I'd like to make a plot with the axes drawn at the values of xlim and
ylim. The default plot draws the axes slightly outside these values. I
have been experimenting with the par(mgp) setting, but specifying
par(mgp=c(2,0,-1)) gives me 

"invalid value specified for graphics parameter "mgp".".

A more complicated mathod that almost seems to work is doing the plot
with "axes=F" and then adding the axes with "axis" statements:

xlim <- c(0,10)
ylim <- c(0,11)
plot(c(1:9),c(1:9),axes=F,xlim=xlim,ylim=ylim)
axis(1,pos=ylim[1])
axis(2,pos=xlim[1])
axis(3,pos=ylim[2],labels=F)
axis(4,pos=xlim[2],labels=F)

The problem here is that the vertical axes are not long enough. 

Is there an easier way to get what I want?

Thanks,
Arnold Kester 
 
-- 
Met vriendelijke groet,
Arnold Kester

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 12:15:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 19 Mar 2002 11:15:40 +0000 (GMT)
Subject: [R] plot with the axes at xlim and ylim
In-Reply-To: <1016535321.1041.71.camel@stat0045deb1.unimaas.nl>
Message-ID: <Pine.LNX.4.31.0203191113360.23293-100000@gannet.stats>

On 19 Mar 2002, Arnold Kester wrote:

> I'd like to make a plot with the axes drawn at the values of xlim and
> ylim. The default plot draws the axes slightly outside these values. I
> have been experimenting with the par(mgp) setting, but specifying
> par(mgp=c(2,0,-1)) gives me
>
> "invalid value specified for graphics parameter "mgp".".
>
> A more complicated mathod that almost seems to work is doing the plot
> with "axes=F" and then adding the axes with "axis" statements:
>
> xlim <- c(0,10)
> ylim <- c(0,11)
> plot(c(1:9),c(1:9),axes=F,xlim=xlim,ylim=ylim)
> axis(1,pos=ylim[1])
> axis(2,pos=xlim[1])
> axis(3,pos=ylim[2],labels=F)
> axis(4,pos=xlim[2],labels=F)
>
> The problem here is that the vertical axes are not long enough.
>
> Is there an easier way to get what I want?

par(xaxs="i", yaxs="i")


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Mar 19 12:48:37 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Mar 2002 12:48:37 +0100 (MET)
Subject: [R] matrix with fix number columns but variable number rows
In-Reply-To: <Pine.OSF.3.96.1020319101542.19296A-100000@ija.csic.es>
Message-ID: <Pine.OSF.3.96.1020319124730.19296O-100000@ija.csic.es>




On Tue, 19 Mar 2002, Agustin Lobo wrote:

> matriz <- matrix(NULL,nrow=numlineas,ncol=maxnumcols)

Actually I had not tried it, it should be, i.e.

matriz <- matrix(0,nrow=numlineas,ncol=maxnumcols)

as with NULL we cannot fill a matrix

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Mar 19 12:42:12 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 19 Mar 2002 23:42:12 +1200
Subject: [R] plot with the axes at xlim and ylim
References: <1016535321.1041.71.camel@stat0045deb1.unimaas.nl>
Message-ID: <004b01c1cf3b$1da22430$8c6c60cb@n1bliarfyrd5b7>

Not quite sure what exactly you want, but it seems like:
    plot(c(1:9), c(1:9), xlim = xlim, ylim = ylim)
does the job - though I'm not sure why you specify ylim = c(0, 11) instead
of ylim = c(0,10).

Cheers,

Ko-Kang

------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
Auckland
New Zealand

----- Original Message -----
From: "Arnold Kester" <arnold.kester at stat.unimaas.nl>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, March 19, 2002 10:55 PM
Subject: [R] plot with the axes at xlim and ylim


> I'd like to make a plot with the axes drawn at the values of xlim and
> ylim. The default plot draws the axes slightly outside these values. I
> have been experimenting with the par(mgp) setting, but specifying
> par(mgp=c(2,0,-1)) gives me
>
> "invalid value specified for graphics parameter "mgp".".
>
> A more complicated mathod that almost seems to work is doing the plot
> with "axes=F" and then adding the axes with "axis" statements:
>
> xlim <- c(0,10)
> ylim <- c(0,11)
> plot(c(1:9),c(1:9),axes=F,xlim=xlim,ylim=ylim)
> axis(1,pos=ylim[1])
> axis(2,pos=xlim[1])
> axis(3,pos=ylim[2],labels=F)
> axis(4,pos=xlim[2],labels=F)
>
> The problem here is that the vertical axes are not long enough.
>
> Is there an easier way to get what I want?
>
> Thanks,
> Arnold Kester
>
> --
> Met vriendelijke groet,
> Arnold Kester
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnold.kester at stat.unimaas.nl  Tue Mar 19 13:08:18 2002
From: arnold.kester at stat.unimaas.nl (Arnold Kester)
Date: 19 Mar 2002 13:08:18 +0100
Subject: [R] plot with the axes at xlim and ylim
In-Reply-To: <Pine.LNX.4.31.0203191113360.23293-100000@gannet.stats>
References: <Pine.LNX.4.31.0203191113360.23293-100000@gannet.stats>
Message-ID: <1016539698.1040.80.camel@stat0045deb1.unimaas.nl>

Thanks, excellent advice. I apologize for not reading the docs more
accurately.

Arnold Kester
 
On Tue, 2002-03-19 at 12:15, ripley at stats.ox.ac.uk wrote:
> On 19 Mar 2002, Arnold Kester wrote:
> 
> > I'd like to make a plot with the axes drawn at the values of xlim and
> > ylim. The default plot draws the axes slightly outside these values. I
> > have been experimenting with the par(mgp) setting, but specifying
[snip]
> >
> > Is there an easier way to get what I want?
> 
> par(xaxs="i", yaxs="i")
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stranda at cofc.edu  Tue Mar 19 14:07:19 2002
From: stranda at cofc.edu (Allan Strand)
Date: 19 Mar 2002 08:07:19 -0500
Subject: [R] assessing performance of a classfication method
In-Reply-To: <Pine.LNX.4.21L1.0203080910020.6741-100000@hm269-26876.socsci.unc.edu>
Message-ID: <87r8mgso3c.fsf@linum.cofc.edu>

Hi all,

I have developed a routine to classify observations based upon
clustering.  In my current case there are 5 classes, so the data at
the end of the classification look like this:

obs   class
1      2
2      2
3      1
4      4
5      4
6      3
7      5
8      5
.      .
.      .

I always know the numbers of classes a priori.  I wanted to see how
well my approach is performing so I wrote a simulation to generate
observations in a fairly realistic manner.  I then run the simulated
observations through my scheme.  The "known" simulated data have the
same form as the results of the classification, but the class
identifiers may differ. In other words, a class of observations may be
constructed correctly by my approach, but the "name" of the class may
change.

I would like to compare the results of my scheme to the "known"
simulated classes and assess its error rate.  AS I start, I would just
like to know the number of observations that were mis-classified.  No
doubt this is a brain-dead question to those who work in this field,
but this is my first foray into such analyses.  Ultimately I was
wondering of there is an R package that performs such analyses out of
the box or if anyone who does these kind of analyses routinely has a
code snippet I could use as an example.

Cheers,
a.
-- 
Allan Strand,   Biology    http://linum.cofc.edu
College of Charleston      Ph. (843) 953-8085
Charleston, SC 29424       Fax (843) 953-5453

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimi at ci.tuwien.ac.at  Tue Mar 19 14:32:45 2002
From: dimi at ci.tuwien.ac.at (Evgenia Dimitriadou)
Date: Tue, 19 Mar 2002 14:32:45 +0100 (CET)
Subject: [R] assessing performance of a classfication method
In-Reply-To: <87r8mgso3c.fsf@linum.cofc.edu>
Message-ID: <Pine.LNX.4.40.0203191431360.5417-100000@gandalf.ci.tuwien.ac.at>

if i understood right you want to match the class labels to the clustering
labels. try matchClasses in library(e1071).
best,
-e
On 19 Mar 2002, Allan Strand wrote:

> Hi all,
>
> I have developed a routine to classify observations based upon
> clustering.  In my current case there are 5 classes, so the data at
> the end of the classification look like this:
>
> obs   class
> 1      2
> 2      2
> 3      1
> 4      4
> 5      4
> 6      3
> 7      5
> 8      5
> .      .
> .      .
>
> I always know the numbers of classes a priori.  I wanted to see how
> well my approach is performing so I wrote a simulation to generate
> observations in a fairly realistic manner.  I then run the simulated
> observations through my scheme.  The "known" simulated data have the
> same form as the results of the classification, but the class
> identifiers may differ. In other words, a class of observations may be
> constructed correctly by my approach, but the "name" of the class may
> change.
>
> I would like to compare the results of my scheme to the "known"
> simulated classes and assess its error rate.  AS I start, I would just
> like to know the number of observations that were mis-classified.  No
> doubt this is a brain-dead question to those who work in this field,
> but this is my first foray into such analyses.  Ultimately I was
> wondering of there is an R package that performs such analyses out of
> the box or if anyone who does these kind of analyses routinely has a
> code snippet I could use as an example.
>
> Cheers,
> a.
> --
> Allan Strand,   Biology    http://linum.cofc.edu
> College of Charleston      Ph. (843) 953-8085
> Charleston, SC 29424       Fax (843) 953-5453
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

************************************************************************
*                          Evgenia Dimitriadou                         *
************************************************************************
* Institut f?r Statistik      *               Tel: (+43 1) 58801 10773 *
* Technische Universit?t Wien *               Fax: (+43 1) 58801 10798 *
* Wiedner Hauptstr. 8-10/1071 *    Evgenia.Dimitriadou at ci.tuwien.ac.at *
* A-1040 Wien, Austria        *        http://www.ci.tuwien.ac.at/~dimi*
************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Tue Mar 19 14:38:57 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 19 Mar 2002 08:38:57 -0500
Subject: [R] function design
In-Reply-To: <20020319073105.A14753@jimmy.harvard.edu>
References: <1016492142.30601.4.camel@penguin>
	<20020318181347.A14500@jimmy.harvard.edu>
	<1016497795.30593.6.camel@penguin> 
	<20020319073105.A14753@jimmy.harvard.edu>
Message-ID: <1016545137.30599.8.camel@penguin>


Thanks so very much for your time.  I am impressed by R, but tend to
think in stata/sas (but I am making progress). I am even more impressed
by participants in this list.


On Tue, 2002-03-19 at 07:31, Robert Gentleman wrote:
> Michaell,
>   I think this is what you want to do,
> lagger <- function(X, y, z, l=1) {
>    lenX <- length(X)
>    temp <- c(rep(NA,l), X[-((lenX-(l-1)):lengX)] )
>    temp[y==min(y)] <- z
>    return(temp)
> }

ah, I guess this change is for a bit more speed and readibility. Thanks.

> 
> growit <- function(x,y,z) (x/lagger(x,y,z))
> 
> #what's data? it must be a free variable and 
> #that is not generally a good idean

I am not  entirely sure what you mean by "free" variable but it is a
data.frame.

> 
> inrange <- function(v, Y, s, z, mlv, met) { 
>         lower <- mean(v[data$yr==Y])-(var(v[data$yr==Y])^.5)
>         upper <- mean(v[data$yr==Y])+(var(v[data$yr==Y])^.5)
>         MLE <- mlv[ML$yr==Y & ML$metcode==met]
>         diffa <- 0
>         if (MLE<lower) {
>                 print('lower')
>                 diffa <- lower-MLE
>                 rval <- v[data$yr==Y]-diffa
>         }
>         if (MLE>upper) {
>                 print('higher')
>                 diffa <- MLE-upper
>                 rval <- v[data$yr==Y]+diffa
>         }
>         if (diffa!=0) {
>                 v <- growit(v,s,z)
>                 adjustment$met <- append(adjustment$met,met)
>                 adjustment$sector <- append(adjustment$sector,sector)
>                 adjustment$ML <- append(adjustment$ML,MLE)
>                 adjustment$lower <- append(adjustment$lower,lower)
>                 adjustment$upper <- append(adjustment$upper,upper)
>                 adjustment$Var <- append(adjustment$Var,quote(v))
>                 adjustment$diffa <- append(adjustment$diffa,diffa)
>                 }
>          rval
>         }
> 
> #note that you assign something
> data$Linv[data$yr==Y] <- inrange(data$Linv,Y,data$yr,starting.inv,ML$inv,met)
> 
> Also, why if you pass in data$yr as variable 's' do you not use it?
> In lines 1,2,8,11, for example.

's' is passed by inrange to growit. poor planning, but 's' in inrange
converts to 'y' in growit.

> Why are you changing adjustment and not returning it?

a bug that I had not seen yet.

> 
> Basically, you have no need to have a function change anything outside
> of its scope. Simply return an object and assign is as needed in the 
> calling functions (sort of the whole point really).
> If you need to return two things use a list.
> 
> return(list(a=1,b=10), for example

Now THIS is interesting.  I had thought that a multiple return would be
neat, but didn't realize one could do it.  This function was built to
change in place values for the data frames data and adjustment with the
notion that a multiple return was not possible.

Also, because the data is somewhat large, I thought that perhaps an "in
place" change to vectors in the data data.frame might be more memory
conservative than a "return" sort of arrangement.  This probably is not
the case.

Thanks again.

Michaell
> 
> 
> robert
> 
> -- 
> +---------------------------------------------------------------------------+
> | Robert Gentleman                 phone : (617) 632-5250                   |
> | Associate Professor              fax:   (617)  632-2444                   |
> | Department of Biostatistics      office: M1B28
> | Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
> +---------------------------------------------------------------------------+


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 19 15:10:24 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 19 Mar 2002 09:10:24 -0500
Subject: [R] pdf page limit?
Message-ID: <OF36C37DB1.31282E51-ON85256B81.004C36B5@rtp.epa.gov>

Is there a limit on the number of pages that can be in a pdf file?  I am
using pdf() (on R version 1.4.1, running on Red Hat 7.1 on an Intel box)
to create a large (> 300 pages) file of diagnostic plots.  If I plot
every figure I want to include (364 pages, according to Acroread ver.
5.0.5), neither xpdf on Linux nor Acroread ver 5.0.5 on Win98 can render
the file.  xpdf give the error message:

Error: Kid object (page 1) is wrong type (null)
Error: Page count in top-level pages object is incorrect
Error: Couldn't read page catalog

If I eliminate 32 plots, the file renders correctly in xpdf (I haven't
tried Acroread).

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 19 15:14:11 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 19 Mar 2002 09:14:11 -0500
Subject: [R] pdf page limit
Message-ID: <OF5B0F1423.EDE5AC2B-ON85256B81.004E17D7@rtp.epa.gov>

I KNEW I shouldn't trust my memory; the pdf() help page documents a page
limit of 500; I don't seem to be exceeding this, however.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Mar 19 15:29:45 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 19 Mar 2002 09:29:45 -0500 (EST)
Subject: [R] breaks in axis
In-Reply-To: <3C96E874.652BB7A9@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.30.0203190928180.14493-100000@bolker.zoo.ufl.edu>


  There's a little bit of stuff in my "bbmisc" package
(http://www.zoo.ufl.edu/bolker/R/windows or
http://www.zoo.ufl.edu/bolker/R/linux) for drawing the axis break itself
(it draws a couple of lines and then draws over the axis in the background
color, "erasing" it); you'll still have to manipulate the scaling etc.
yourself.
  I considered trying to make it more automatic, but decided that there
are too many special cases.

  Ben Bolker

On Tue, 19 Mar 2002, Uwe Ligges wrote:

>
>
> Arne Mueller wrote:
> >
> > Hello,
> >
> > is there a easy way to get a break into an axis line to indicate that one
> > has removed a part of the axis to save space. The jajority of my data
> > points is between 0 and 5, and just one data point goes up to 20. I'd just
> > like to put in a break between 5.5 and 25.
>
> AFAIK: No. You will have to manipulate the plot manually.
>
> I'd suggest to set this one data plot to a reasonable value, say 8, plot
> without an axis and make an axis manually (of course labeled with 20 at
> the location of 8). You can also mark the break in the axis with two
> lines, for example.
>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Tue Mar 19 15:49:00 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Tue, 19 Mar 2002 09:49:00 -0500 (EST)
Subject: [R] NA in rlm
In-Reply-To: <004b01c1cf3b$1da22430$8c6c60cb@n1bliarfyrd5b7>
Message-ID: <Pine.GSO.4.10.10203190921240.12246-100000@biosun08>

i am using R 1.5 on solaris 2.8 and redhat 7.2 (what i mention
below happens for all of these and on R-1.4.1 on solaris 2.8)

i am fitting an addtive model (y=roweffect+columneffct+error) to the
following data using rlm

   8.631371  8.219719
  12.407817 12.373610
  10.558580 10.284926
  11.525872 11.504441
  12.644998 12.583985
  12.772225 12.629980
  12.482169 12.271868
  12.039199 12.061671
  11.892378 11.688070
 11.725565 11.655078
 11.251226 11.383293
  9.199893  7.860003
 12.275562 12.240147
 13.638981 13.381291
 13.205941 13.060880
 11.056920 10.707565

if the above matrix is x, when i do the following:
  m <- dim(x)[1]
  n <- dim(x)[2]
  rows<- as.factor(rep(1:m,n))
  cols <- as.factor(rep(1:n,rep(m,n)))
  
  z  <-rlm(as.vector(x)~cols+rows,psi=psi.bisquare)
 
i get an NA in the estimate z$coef[13]

this relates to the 12th row  effect which appears to be an
outlier. is this how one interprets an NA  here?

one consequence is that i cant get standard errors
through summary.rlm(z). is there a "work around" this?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 19 15:55:19 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 19 Mar 2002 09:55:19 -0500
Subject: [R] pdf page limit?
Message-ID: <OF03AE2A63.FE794EEF-ON85256B81.00519EDA@rtp.epa.gov>


Ghostview on Windows 98SE relays the following ghostscript message:

AFPL Ghostscript 7.03 (2001-10-20)
Copyright (C) 2001 artofcode LLC, Benicia, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Scanning PDF file
%GSVIEW_PDF_PAGES: 1 364
Displaying PDF page 1
%GSVIEW_PDF_PAGE: 1
Unrecoverable error: rangecheck in get
Operand stack:
    1807  --nostringval--  91  925275  0  925275  --nostringval--
--nostringval--  --nostringval--  1  1
pdf_page_init failed
Warning: EPS file must not use /quit


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Mar 19 16:26:15 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 19 Mar 2002 16:26:15 +0100
Subject: [R] assessing performance of a classfication method
References: <87r8mgso3c.fsf@linum.cofc.edu>
Message-ID: <3C975897.44C0B6CC@ci.tuwien.ac.at>

Allan Strand wrote:

Apart from matchClasses(), you might look at classAgreement(), also in
e1071.

g.
-d

> 
> Hi all,
> 
> I have developed a routine to classify observations based upon
> clustering.  In my current case there are 5 classes, so the data at
> the end of the classification look like this:
> 
> obs   class
> 1      2
> 2      2
> 3      1
> 4      4
> 5      4
> 6      3
> 7      5
> 8      5
> .      .
> .      .
> 
> I always know the numbers of classes a priori.  I wanted to see how
> well my approach is performing so I wrote a simulation to generate
> observations in a fairly realistic manner.  I then run the simulated
> observations through my scheme.  The "known" simulated data have the
> same form as the results of the classification, but the class
> identifiers may differ. In other words, a class of observations may be
> constructed correctly by my approach, but the "name" of the class may
> change.
> 
> I would like to compare the results of my scheme to the "known"
> simulated classes and assess its error rate.  AS I start, I would just
> like to know the number of observations that were mis-classified.  No
> doubt this is a brain-dead question to those who work in this field,
> but this is my first foray into such analyses.  Ultimately I was
> wondering of there is an R package that performs such analyses out of
> the box or if anyone who does these kind of analyses routinely has a
> code snippet I could use as an example.
> 
> Cheers,
> a.
> --
> Allan Strand,   Biology    http://linum.cofc.edu
> College of Charleston      Ph. (843) 953-8085
> Charleston, SC 29424       Fax (843) 953-5453
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Tue Mar 19 17:03:53 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Tue, 19 Mar 2002 16:03:53 +0000
Subject: [R] fitting with lm
Message-ID: <3C976168.7A702182@icrf.icnet.uk>

Dear All,

I'm getting confused with the concept R uses to do regression using lm.
I'm afmiliar with gnuplot and the build-in fit command, but couldn't get
R's lm to work on my data.

I know that my data follows a powerlaw or maybe an exponential function,
and I'd like to determine the best fitting factors for the formula:
a*x^b where b < 0.

I've tried thge follwoing:

s <- lm(y ~ x)

> summary(s)

Call:
lm(formula = y ~ x)

Residuals:
    Min      1Q  Median      3Q     Max 
-18.454  -7.577  -2.861   3.909  60.988 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept) 21.209171   1.431472  14.816  < 2e-16 ***
x           -0.065609   0.008799  -7.456 7.45e-12 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 11.87 on 145 degrees of freedom
Multiple R-Squared: 0.2772,     Adjusted R-squared: 0.2722 
F-statistic:  55.6 on 1 and 145 DF,  p-value: 7.454e-12 

What has R done? I assume the formula is just a+b*x and I can get a and
b via

> coef(s)
(Intercept)           x 
21.20917074 -0.06560878 

But:

> s <- lm(y ~ a*x^b)
Error in terms.formula(formula, data = data) : 
        invalid power in formula

I went through the formula section of the R-manual, but I realy don't
get it.

Finally, I'd like to have the raw data-points together with a line
representing the function used to fit the data in a plot? How can I plot
function, e.g. sin(x) ?

I hope I just need a primer on this to get going.

	thanks very much for any help,

	Arne
 

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstewart at ctas0.tatca.tc.faa.gov  Tue Mar 19 17:13:02 2002
From: cstewart at ctas0.tatca.tc.faa.gov (Craig Stewart - SIGNAL)
Date: Tue, 19 Mar 2002 11:13:02 -0500 (EST)
Subject: [R] Solaris 8 error - make: Fatal error: Command failed for target `saveload.o'
Message-ID: <200203191613.g2JGD2n13460@glassboro.tatca.tc.faa.gov>

After a clean "configure" under Solaris, my R-1.4.1 make is dying with this 
error & the others below.  Does anyone know how to fix this/these problems? 
Thanks in advance for your assistance - Craig Stewart

> make
...
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include 
-DHAVE_CONFIG_H   -g -O2 -c random.c -o random.o
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include 
-DHAVE_CONFIG_H   -g -O2 -c regex.c -o regex.o
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include 
-DHAVE_CONFIG_H   -g -O2 -c relop.c -o relop.o
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include 
-DHAVE_CONFIG_H   -g -O2 -c saveload.c -o saveload.o
In file included from /usr/include/sys/tiuser.h:18,
                 from /usr/include/tiuser.h:17,
                 from /usr/include/rpc/rpc.h:22,
                 from saveload.c:269:
/usr/include/sys/tpicommon.h:155: parse error before `t_uscalar_t'
/usr/include/sys/tpicommon.h:155: warning: no semicolon at end of struct or 
union
/usr/include/sys/tpicommon.h:156: warning: data definition has no type or 
storage class
/usr/include/sys/tpicommon.h:157: parse error before `len'
/usr/include/sys/tpicommon.h:157: warning: data definition has no type or 
storage class
In file included from /usr/include/tiuser.h:17,
                 from /usr/include/rpc/rpc.h:22,
                 from saveload.c:269:
/usr/include/sys/tiuser.h:50: parse error before `t_scalar_t'
/usr/include/sys/tiuser.h:50: warning: no semicolon at end of struct or union
/usr/include/sys/tiuser.h:51: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:52: parse error before `tsdu'
/usr/include/sys/tiuser.h:52: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:53: parse error before `etsdu'
/usr/include/sys/tiuser.h:53: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:54: parse error before `connect'
/usr/include/sys/tiuser.h:54: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:55: parse error before `discon'
/usr/include/sys/tiuser.h:55: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:56: parse error before `servtype'
/usr/include/sys/tiuser.h:56: warning: data definition has no type or storage 
class
/usr/include/sys/tiuser.h:91: parse error before `t_scalar_t'
/usr/include/sys/tiuser.h:91: warning: no semicolon at end of struct or union
/usr/include/sys/tiuser.h:128: parse error before `t_scalar_t'
/usr/include/sys/tiuser.h:128: warning: no semicolon at end of struct or union
In file included from /usr/include/rpc/clnt.h:18,
                 from /usr/include/rpc/rpc.h:34,
                 from saveload.c:269:
/usr/include/rpc/rpc_com.h:41: warning: parameter names (without types) in 
function declaration
/usr/include/rpc/rpc_com.h:42: warning: parameter names (without types) in 
function declaration
In file included from /usr/include/rpc/rpc.h:39,
                 from saveload.c:269:
/usr/include/sys/socket.h:444: `connect' redeclared as different kind of symbol
/usr/include/sys/tiuser.h:54: previous declaration of `connect'
In file included from /usr/include/rpc/svc.h:17,
                 from /usr/include/rpc/rpc.h:42,
                 from saveload.c:269:
/usr/include/sys/tihdr.h:241: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:241: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:242: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:243: parse error before `DEST_offset'
/usr/include/sys/tihdr.h:243: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:244: parse error before `OPT_length'
/usr/include/sys/tihdr.h:244: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:245: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:245: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:261: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:261: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:262: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:263: parse error before `OPT_length'
/usr/include/sys/tihdr.h:263: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:264: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:264: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:265: parse error before `SEQ_number'
/usr/include/sys/tihdr.h:265: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:271: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:271: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:272: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:278: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:278: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:279: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:285: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:285: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:286: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:292: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:292: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:298: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:298: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:299: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:300: parse error before `ADDR_offset'
/usr/include/sys/tihdr.h:300: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:301: parse error before `CONIND_number'
/usr/include/sys/tihdr.h:301: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:307: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:307: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:313: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:313: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:314: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:315: parse error before `DEST_offset'
/usr/include/sys/tihdr.h:315: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:316: parse error before `OPT_length'
/usr/include/sys/tihdr.h:316: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:317: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:317: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:323: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:323: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:325: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:326: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:326: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:327: parse error before `MGMT_flags'
/usr/include/sys/tihdr.h:327: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:333: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:333: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:339: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:339: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:345: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:345: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:346: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:347: parse error before `SRC_offset'
/usr/include/sys/tihdr.h:347: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:348: parse error before `OPT_length'
/usr/include/sys/tihdr.h:348: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:349: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:349: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:350: parse error before `SEQ_number'
/usr/include/sys/tihdr.h:350: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:356: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:356: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:357: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:358: parse error before `RES_offset'
/usr/include/sys/tihdr.h:358: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:359: parse error before `OPT_length'
/usr/include/sys/tihdr.h:359: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:360: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:360: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:366: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:366: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:367: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:368: parse error before `SEQ_number'
/usr/include/sys/tihdr.h:368: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:374: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:374: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:375: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:381: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:381: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:382: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:388: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:388: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:389: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:390: parse error before `ETSDU_size'
/usr/include/sys/tihdr.h:390: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:391: parse error before `CDATA_size'
/usr/include/sys/tihdr.h:391: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:392: parse error before `DDATA_size'
/usr/include/sys/tihdr.h:392: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:393: parse error before `ADDR_size'
/usr/include/sys/tihdr.h:393: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:394: parse error before `OPT_size'
/usr/include/sys/tihdr.h:394: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:395: parse error before `TIDU_size'
/usr/include/sys/tihdr.h:395: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:396: parse error before `SERV_type'
/usr/include/sys/tihdr.h:396: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:397: parse error before `CURRENT_state'
/usr/include/sys/tihdr.h:397: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:398: parse error before `PROVIDER_flag'
/usr/include/sys/tihdr.h:398: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:433: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:433: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:434: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:435: parse error before `ADDR_offset'
/usr/include/sys/tihdr.h:435: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:436: parse error before `CONIND_number'
/usr/include/sys/tihdr.h:436: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:442: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:442: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:443: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:444: parse error before `TLI_error'
/usr/include/sys/tihdr.h:444: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:445: parse error before `UNIX_error'
/usr/include/sys/tihdr.h:445: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:451: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:451: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:452: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:458: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:458: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:459: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:460: parse error before `SRC_offset'
/usr/include/sys/tihdr.h:460: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:461: parse error before `OPT_length'
/usr/include/sys/tihdr.h:461: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:462: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:462: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:468: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:468: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:469: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:470: parse error before `DEST_offset'
/usr/include/sys/tihdr.h:470: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:471: parse error before `OPT_length'
/usr/include/sys/tihdr.h:471: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:472: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:472: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:473: parse error before `ERROR_type'
/usr/include/sys/tihdr.h:473: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:479: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:479: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:480: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:481: parse error before `OPT_offset'
/usr/include/sys/tihdr.h:481: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:482: parse error before `MGMT_flags'
/usr/include/sys/tihdr.h:482: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:488: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:488: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:495: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:495: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:496: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:497: parse error before `LOCADDR_offset'
/usr/include/sys/tihdr.h:497: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:498: parse error before `REMADDR_length'
/usr/include/sys/tihdr.h:498: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:499: parse error before `REMADDR_offset'
/usr/include/sys/tihdr.h:499: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:564: parse error before `t_scalar_t'
/usr/include/sys/tihdr.h:564: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:600: parse error before `}'
/usr/include/sys/tihdr.h:629: parse error before `t_uscalar_t'
/usr/include/sys/tihdr.h:629: warning: no semicolon at end of struct or union
/usr/include/sys/tihdr.h:630: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:631: parse error before `name'
/usr/include/sys/tihdr.h:631: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:632: parse error before `status'
/usr/include/sys/tihdr.h:632: warning: data definition has no type or storage 
class
/usr/include/sys/tihdr.h:565: storage size of `conn_req' isn't known
/usr/include/sys/tihdr.h:566: storage size of `conn_res' isn't known
/usr/include/sys/tihdr.h:567: storage size of `discon_req' isn't known
/usr/include/sys/tihdr.h:568: storage size of `data_req' isn't known
/usr/include/sys/tihdr.h:569: storage size of `exdata_req' isn't known
/usr/include/sys/tihdr.h:570: storage size of `info_req' isn't known
/usr/include/sys/tihdr.h:571: storage size of `bind_req' isn't known
/usr/include/sys/tihdr.h:572: storage size of `unbind_req' isn't known
/usr/include/sys/tihdr.h:573: storage size of `unitdata_req' isn't known
/usr/include/sys/tihdr.h:574: storage size of `optmgmt_req' isn't known
/usr/include/sys/tihdr.h:575: storage size of `ordrel_req' isn't known
/usr/include/sys/tihdr.h:576: storage size of `addr_req' isn't known
/usr/include/sys/tihdr.h:577: storage size of `conn_ind' isn't known
/usr/include/sys/tihdr.h:578: storage size of `conn_con' isn't known
/usr/include/sys/tihdr.h:579: storage size of `discon_ind' isn't known
/usr/include/sys/tihdr.h:580: storage size of `data_ind' isn't known
/usr/include/sys/tihdr.h:581: storage size of `exdata_ind' isn't known
/usr/include/sys/tihdr.h:582: storage size of `info_ack' isn't known
/usr/include/sys/tihdr.h:583: storage size of `bind_ack' isn't known
/usr/include/sys/tihdr.h:584: storage size of `error_ack' isn't known
/usr/include/sys/tihdr.h:585: storage size of `ok_ack' isn't known
/usr/include/sys/tihdr.h:586: storage size of `unitdata_ind' isn't known
/usr/include/sys/tihdr.h:587: storage size of `uderror_ind' isn't known
/usr/include/sys/tihdr.h:588: storage size of `optmgmt_ack' isn't known
/usr/include/sys/tihdr.h:589: storage size of `ordrel_ind' isn't known
/usr/include/sys/tihdr.h:590: storage size of `addr_ack' isn't known
*** Error code 1
make: Fatal error: Command failed for target `saveload.o'
Current working directory /opt/R-1.4.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /opt/R-1.4.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /opt/R-1.4.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at icrf.icnet.uk  Tue Mar 19 17:28:35 2002
From: a.mueller at icrf.icnet.uk (Arne Mueller)
Date: Tue, 19 Mar 2002 16:28:35 +0000
Subject: [R] breaks in axis
References: <Pine.LNX.4.30.0203190928180.14493-100000@bolker.zoo.ufl.edu>
Message-ID: <3C976733.766BD188@icrf.icnet.uk>

Ben Bolker wrote:
> 
>   There's a little bit of stuff in my "bbmisc" package
> (http://www.zoo.ufl.edu/bolker/R/windows or
> http://www.zoo.ufl.edu/bolker/R/linux) for drawing the axis break itself
> (it draws a couple of lines and then draws over the axis in the background
> color, "erasing" it); you'll still have to manipulate the scaling etc.
> yourself.
>   I considered trying to make it more automatic, but decided that there
> are too many special cases.
> 
>   Ben Bolker

Hello,

thanks for this tip, I'll have alook at your package. However, I may
just leave the plot as it is, ot produce a send plot without the exteme
data.

	thanks,

	Arne



> On Tue, 19 Mar 2002, Uwe Ligges wrote:
> 
> >
> >
> > Arne Mueller wrote:
> > >
> > > Hello,
> > >
> > > is there a easy way to get a break into an axis line to indicate that one
> > > has removed a part of the axis to save space. The jajority of my data
> > > points is between 0 and 5, and just one data point goes up to 20. I'd just
> > > like to put in a break between 5.5 and 25.
> >
> > AFAIK: No. You will have to manipulate the plot manually.
> >
> > I'd suggest to set this one data plot to a reasonable value, say 8, plot
> > without an axis and make an axis manually (of course labeled with 20 at
> > the location of 8). You can also mark the break in the axis with two
> > lines, for example.
> >
> > Uwe Ligges
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Mar 19 18:05:31 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 19 Mar 2002 18:05:31 +0100
Subject: [R] fitting with lm
In-Reply-To: <3C976168.7A702182@icrf.icnet.uk>
Message-ID: <B8BD2E6B.793D%pflugshaupt@geobot.umnw.ethz.ch>

On 19.3.2002 17:03 Uhr, Arne Mueller wrote:

> Dear All,
> 
> I'm getting confused with the concept R uses to do regression using lm.
> I'm afmiliar with gnuplot and the build-in fit command, but couldn't get
> R's lm to work on my data.
> 
> I know that my data follows a powerlaw or maybe an exponential function,
> and I'd like to determine the best fitting factors for the formula:
> a*x^b where b < 0.
> 
> I've tried thge follwoing:
> 
> s <- lm(y ~ x)

[...]

> What has R done? I assume the formula is just a+b*x and I can get a and
> b via
> 
>> coef(s)
> (Intercept)           x
> 21.20917074 -0.06560878
> 
> But:
> 
>> s <- lm(y ~ a*x^b)
> Error in terms.formula(formula, data = data) :
>       invalid power in formula
> 
> I went through the formula section of the R-manual, but I realy don't
> get it.

Generally, you want to look at the nlm library to fit complicated functions
to your data. lm() does just linear models. In your case, however, you could
try a log-transformation to linearize (fitting log(y) ~ a + log(x) * b),
then re-transform the coefficients to the original scale.

> Finally, I'd like to have the raw data-points together with a line
> representing the function used to fit the data in a plot? How can I plot
> function, e.g. sin(x) ?

Look at help(curve). To add the results of any fit to an existing data
scatterplot, you can also use
 
lines(x.values, predict(your.model))

- if your x values are sorted by size. If not, use something like this:
x.order <- order(x.values)
lines(x.values[x.order], predict(your.model)[x.order])


> 
> I hope I just need a primer on this to get going.

Hope that helps.



Kapsar Pflugshaupt


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Mar 19 18:09:38 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 19 Mar 2002 18:09:38 +0100
Subject: [R] fitting with lm (Followup)
Message-ID: <B8BD2F62.793F%pflugshaupt@geobot.umnw.ethz.ch>

Sorry: I meant the nls package, not nlm (which doesn't exist).

Kaspar


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue Mar 19 20:17:43 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 19 Mar 2002 13:17:43 -0600
Subject: [R] Problems with rgl package 
References: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br> <3C963041.C85D007E@statistik.uni-dortmund.de>
Message-ID: <3C978ED7.1000704@perseus.unalmed.edu.co>

Hi R users and developers:

Recently Dr Ligges answer the following to a 3d plot question:

>- several functions() in package rgl (only for windows, available at
>http://www.stats.uwo.ca/faculty/murdoch/software).
>
I have download the package rgl on my windows 2000 (Service Pack 2) on a 
R 1.4.1. platform
with the rgui --sdi option, but I obtain the following window error 
messages when I use the command "example(hist3d)"

privileged instruction

After several windows of this messages it appears the following message:

OpenGL error OGLGroup initlist: 1283:desbordamiento de pila

And the program crashes

What am I missing?

Thank you very much for your help.

Kenneth


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 19:38:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 19 Mar 2002 18:38:17 +0000 (GMT)
Subject: [R] pdf page limit
In-Reply-To: <OF5B0F1423.EDE5AC2B-ON85256B81.004E17D7@rtp.epa.gov>
Message-ID: <Pine.LNX.4.31.0203191835360.24736-100000@gannet.stats>

On Tue, 19 Mar 2002 Setzer.Woodrow at epamail.epa.gov wrote:

> I KNEW I shouldn't trust my memory; the pdf() help page documents a page
> limit of 500; I don't seem to be exceeding this, however.

Thare are other limits, however, and the device was never intended for
lots of plots.  My guess is that one of the limits is being hit, and not
handled cleanly.

It is easy to manipulate PDF files, so why not produce them individually?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Tue Mar 19 20:13:56 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Tue, 19 Mar 2002 14:13:56 -0500
Subject: [R] fitting with lm
Message-ID: <BA5106B991DBAE49AEB14CB58EDFA7AA048A0F@atlexm04>


You can linearize the equation y = a*x^b by applying log's to both sides:
log(y) = log(a) + b*log(x).  Then get log(a) and b as the coefficients of
the linear model lm( log(y) ~ log(x) ).


> -----Original Message-----
> From:	Arne Mueller [SMTP:a.mueller at icrf.icnet.uk]
> Sent:	Tuesday, March 19, 2002 11:04 AM
> To:	R-list
> Subject:	[R] fitting with lm
> 
> Dear All,
> 
> I'm getting confused with the concept R uses to do regression using lm.
> I'm afmiliar with gnuplot and the build-in fit command, but couldn't get
> R's lm to work on my data.
> 
> I know that my data follows a powerlaw or maybe an exponential function,
> and I'd like to determine the best fitting factors for the formula:
> a*x^b where b < 0.
> 
> I've tried thge follwoing:
> 
> s <- lm(y ~ x)
> 
> > summary(s)
> 
> Call:
> lm(formula = y ~ x)
> 
> Residuals:
>     Min      1Q  Median      3Q     Max 
> -18.454  -7.577  -2.861   3.909  60.988 
> 
> Coefficients:
>              Estimate Std. Error t value Pr(>|t|)    
> (Intercept) 21.209171   1.431472  14.816  < 2e-16 ***
> x           -0.065609   0.008799  -7.456 7.45e-12 ***
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
> 
> Residual standard error: 11.87 on 145 degrees of freedom
> Multiple R-Squared: 0.2772,     Adjusted R-squared: 0.2722 
> F-statistic:  55.6 on 1 and 145 DF,  p-value: 7.454e-12 
> 
> What has R done? I assume the formula is just a+b*x and I can get a and
> b via
> 
> > coef(s)
> (Intercept)           x 
> 21.20917074 -0.06560878 
> 
> But:
> 
> > s <- lm(y ~ a*x^b)
> Error in terms.formula(formula, data = data) : 
>         invalid power in formula
> 
> I went through the formula section of the R-manual, but I realy don't
> get it.
> 
> Finally, I'd like to have the raw data-points together with a line
> representing the function used to fit the data in a plot? How can I plot
> function, e.g. sin(x) ?
> 
> I hope I just need a primer on this to get going.
> 
> 	thanks very much for any help,
> 
> 	Arne
>  
> 
> -- 
> Arne Mueller
> Biomolecular Modelling Laboratory
> Imperial Cancer Research Fund
> 44 Lincoln's Inn Fields
> London WC2A 3PX, U.K.
> phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
> email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Mar 19 20:18:15 2002
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 19 Mar 2002 14:18:15 -0500
Subject: [R] Re: Problems with rgl package 
In-Reply-To: <3C978ED7.1000704@perseus.unalmed.edu.co>
References: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br> <3C963041.C85D007E@statistik.uni-dortmund.de> <3C978ED7.1000704@perseus.unalmed.edu.co>
Message-ID: <j43f9u4qbm2vigi7sbsna8t2g1uir1d90r@4ax.com>

I don't have access to Win2K to test on, but I don't see that error on
Win95, Win98, or NT4.  So it could be a Win2K incompatibility, or it
could be a problem with your installation.

The current version (from "library(help=rgl)") is 0.5.6.  (The
Help|About window incorrectly reports itself as 0.5.5).

Can you get any functions at all to work, i.e. is this just a problem
with hist3d?

Duncan Murdoch

On Tue, 19 Mar 2002 13:17:43 -0600, you wrote in message
<3C978ED7.1000704 at perseus.unalmed.edu.co>:

>Hi R users and developers:
>
>Recently Dr Ligges answer the following to a 3d plot question:
>
>>- several functions() in package rgl (only for windows, available at
>>http://www.stats.uwo.ca/faculty/murdoch/software).
>>
>I have download the package rgl on my windows 2000 (Service Pack 2) on a 
>R 1.4.1. platform
>with the rgui --sdi option, but I obtain the following window error 
>messages when I use the command "example(hist3d)"
>
>privileged instruction
>
>After several windows of this messages it appears the following message:
>
>OpenGL error OGLGroup initlist: 1283:desbordamiento de pila
>
>And the program crashes
>
>What am I missing?
>
>Thank you very much for your help.
>
>Kenneth
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 20:29:15 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Mar 2002 19:29:15 +0000 (GMT)
Subject: [R] Re: Problems with rgl package 
In-Reply-To: <j43f9u4qbm2vigi7sbsna8t2g1uir1d90r@4ax.com>
Message-ID: <Pine.GSO.4.44.0203191927520.23627-100000@auk.stats>

On Tue, 19 Mar 2002, Duncan Murdoch wrote:

> I don't have access to Win2K to test on, but I don't see that error on
> Win95, Win98, or NT4.  So it could be a Win2K incompatibility, or it
> could be a problem with your installation.

It works for me on Win2k and on XP, and looks very like a problem with the
OpenGL driver on a specific machine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Mar 19 20:53:40 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 20 Mar 2002 07:53:40 +1200 (NZST)
Subject: [R] MASS Book Exercise
Message-ID: <Pine.SOL.4.21.0203200748100.4071-100000@stat1.stat.auckland.ac.nz>

Hi,

In the third edition of the MASS book, Chapter 8, Page 252 ~ 253.

I tried applying the same technique on using a negative exponential model
(as suggested in Exercise 1), and trying to get a confidence interval.

What I have changed is follows:
expn <- function(b0, b1, th, x) {
    temp <- exp(-x/th)
    model.func <- b0 + b1 * temp
    # Differentiate temp
    derive.negexp <- (x * temp) / th^2
    Z <- cbind(1, temp, derive.negexp)
    dimnames(Z) <- list(NULL, c("b0","b1","th"))
    attr(model.func, "gradient") <- Z
    model.func
}

wtloss.gr <- nls(Weight ~ expn(b0, b1, th, Days),
                 data = wtloss, start = wtloss.st, trace = F)

expn2 <- deriv(~b0 + b1*((w0 - b0)/b1)^(x/d0),
               c("b0","b1","d0"), function(b0, b1, d0, x, w0) {})

wtloss.init <- function(obj, w0) {
  p <- coef(obj)
  # Modified d0 for neg exp model
  d0 <-  - log((w0 - p["b0"])/p["b1"]) * p["th"]
  c(p[c("b0", "b1")], d0 = as.vector(d0))
}


However when running the above codes in R, it stopped at wtloss.gr with
the error:
Error in nls(Weight ~ expn(b0, b1, th, Days), data = wtloss, start =
wtloss.st,  : 
        step factor 0.000488281 reduced below `minFactor' of 0.000976562
Execution halted

Any hints on where I did wrong would be greatly appreciated,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 20:56:25 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Mar 2002 19:56:25 +0000 (GMT)
Subject: [R] Solaris 8 error - make: Fatal error: Command failed for
 target `saveload.o'
In-Reply-To: <200203191613.g2JGD2n13460@glassboro.tatca.tc.faa.gov>
Message-ID: <Pine.GSO.4.44.0203191949490.23645-100000@auk.stats>

Quick check: this is a current version of gcc and it was compiled
under Solaris 8?

t_uscalar_t is defined in sys/types.h, and that is included (indirectly) by
rpc/rpc.h.  But it is also a file gcc replaces, so version
matching is critical.

Alternatively, try using a current Sun compiler.


On Tue, 19 Mar 2002, Craig Stewart - SIGNAL wrote:

> After a clean "configure" under Solaris, my R-1.4.1 make is dying with this
> error & the others below.  Does anyone know how to fix this/these problems?
> Thanks in advance for your assistance - Craig Stewart
>
> > make
> ...
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c random.c -o random.o
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c regex.c -o regex.o
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c relop.c -o relop.o
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c saveload.c -o saveload.o
> In file included from /usr/include/sys/tiuser.h:18,
>                  from /usr/include/tiuser.h:17,
>                  from /usr/include/rpc/rpc.h:22,
>                  from saveload.c:269:
> /usr/include/sys/tpicommon.h:155: parse error before `t_uscalar_t'
> /usr/include/sys/tpicommon.h:155: warning: no semicolon at end of struct or
> union
> /usr/include/sys/tpicommon.h:156: warning: data definition has no type or
> storage class
> /usr/include/sys/tpicommon.h:157: parse error before `len'
> /usr/include/sys/tpicommon.h:157: warning: data definition has no type or
> storage class
> In file included from /usr/include/tiuser.h:17,
>                  from /usr/include/rpc/rpc.h:22,
>                  from saveload.c:269:
> /usr/include/sys/tiuser.h:50: parse error before `t_scalar_t'
> /usr/include/sys/tiuser.h:50: warning: no semicolon at end of struct or union
> /usr/include/sys/tiuser.h:51: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:52: parse error before `tsdu'
> /usr/include/sys/tiuser.h:52: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:53: parse error before `etsdu'
> /usr/include/sys/tiuser.h:53: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:54: parse error before `connect'
> /usr/include/sys/tiuser.h:54: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:55: parse error before `discon'
> /usr/include/sys/tiuser.h:55: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:56: parse error before `servtype'
> /usr/include/sys/tiuser.h:56: warning: data definition has no type or storage
> class
> /usr/include/sys/tiuser.h:91: parse error before `t_scalar_t'
> /usr/include/sys/tiuser.h:91: warning: no semicolon at end of struct or union
> /usr/include/sys/tiuser.h:128: parse error before `t_scalar_t'
> /usr/include/sys/tiuser.h:128: warning: no semicolon at end of struct or union
> In file included from /usr/include/rpc/clnt.h:18,
>                  from /usr/include/rpc/rpc.h:34,
>                  from saveload.c:269:
> /usr/include/rpc/rpc_com.h:41: warning: parameter names (without types) in
> function declaration
> /usr/include/rpc/rpc_com.h:42: warning: parameter names (without types) in
> function declaration
> In file included from /usr/include/rpc/rpc.h:39,
>                  from saveload.c:269:
> /usr/include/sys/socket.h:444: `connect' redeclared as different kind of symbol
> /usr/include/sys/tiuser.h:54: previous declaration of `connect'
> In file included from /usr/include/rpc/svc.h:17,
>                  from /usr/include/rpc/rpc.h:42,
>                  from saveload.c:269:
> /usr/include/sys/tihdr.h:241: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:241: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:242: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:243: parse error before `DEST_offset'
> /usr/include/sys/tihdr.h:243: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:244: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:244: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:245: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:245: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:261: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:261: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:262: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:263: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:263: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:264: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:264: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:265: parse error before `SEQ_number'
> /usr/include/sys/tihdr.h:265: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:271: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:271: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:272: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:278: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:278: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:279: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:285: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:285: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:286: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:292: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:292: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:298: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:298: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:299: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:300: parse error before `ADDR_offset'
> /usr/include/sys/tihdr.h:300: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:301: parse error before `CONIND_number'
> /usr/include/sys/tihdr.h:301: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:307: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:307: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:313: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:313: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:314: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:315: parse error before `DEST_offset'
> /usr/include/sys/tihdr.h:315: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:316: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:316: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:317: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:317: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:323: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:323: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:325: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:326: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:326: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:327: parse error before `MGMT_flags'
> /usr/include/sys/tihdr.h:327: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:333: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:333: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:339: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:339: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:345: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:345: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:346: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:347: parse error before `SRC_offset'
> /usr/include/sys/tihdr.h:347: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:348: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:348: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:349: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:349: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:350: parse error before `SEQ_number'
> /usr/include/sys/tihdr.h:350: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:356: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:356: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:357: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:358: parse error before `RES_offset'
> /usr/include/sys/tihdr.h:358: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:359: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:359: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:360: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:360: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:366: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:366: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:367: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:368: parse error before `SEQ_number'
> /usr/include/sys/tihdr.h:368: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:374: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:374: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:375: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:381: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:381: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:382: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:388: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:388: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:389: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:390: parse error before `ETSDU_size'
> /usr/include/sys/tihdr.h:390: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:391: parse error before `CDATA_size'
> /usr/include/sys/tihdr.h:391: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:392: parse error before `DDATA_size'
> /usr/include/sys/tihdr.h:392: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:393: parse error before `ADDR_size'
> /usr/include/sys/tihdr.h:393: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:394: parse error before `OPT_size'
> /usr/include/sys/tihdr.h:394: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:395: parse error before `TIDU_size'
> /usr/include/sys/tihdr.h:395: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:396: parse error before `SERV_type'
> /usr/include/sys/tihdr.h:396: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:397: parse error before `CURRENT_state'
> /usr/include/sys/tihdr.h:397: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:398: parse error before `PROVIDER_flag'
> /usr/include/sys/tihdr.h:398: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:433: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:433: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:434: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:435: parse error before `ADDR_offset'
> /usr/include/sys/tihdr.h:435: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:436: parse error before `CONIND_number'
> /usr/include/sys/tihdr.h:436: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:442: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:442: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:443: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:444: parse error before `TLI_error'
> /usr/include/sys/tihdr.h:444: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:445: parse error before `UNIX_error'
> /usr/include/sys/tihdr.h:445: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:451: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:451: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:452: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:458: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:458: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:459: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:460: parse error before `SRC_offset'
> /usr/include/sys/tihdr.h:460: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:461: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:461: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:462: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:462: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:468: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:468: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:469: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:470: parse error before `DEST_offset'
> /usr/include/sys/tihdr.h:470: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:471: parse error before `OPT_length'
> /usr/include/sys/tihdr.h:471: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:472: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:472: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:473: parse error before `ERROR_type'
> /usr/include/sys/tihdr.h:473: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:479: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:479: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:480: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:481: parse error before `OPT_offset'
> /usr/include/sys/tihdr.h:481: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:482: parse error before `MGMT_flags'
> /usr/include/sys/tihdr.h:482: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:488: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:488: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:495: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:495: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:496: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:497: parse error before `LOCADDR_offset'
> /usr/include/sys/tihdr.h:497: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:498: parse error before `REMADDR_length'
> /usr/include/sys/tihdr.h:498: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:499: parse error before `REMADDR_offset'
> /usr/include/sys/tihdr.h:499: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:564: parse error before `t_scalar_t'
> /usr/include/sys/tihdr.h:564: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:600: parse error before `}'
> /usr/include/sys/tihdr.h:629: parse error before `t_uscalar_t'
> /usr/include/sys/tihdr.h:629: warning: no semicolon at end of struct or union
> /usr/include/sys/tihdr.h:630: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:631: parse error before `name'
> /usr/include/sys/tihdr.h:631: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:632: parse error before `status'
> /usr/include/sys/tihdr.h:632: warning: data definition has no type or storage
> class
> /usr/include/sys/tihdr.h:565: storage size of `conn_req' isn't known
> /usr/include/sys/tihdr.h:566: storage size of `conn_res' isn't known
> /usr/include/sys/tihdr.h:567: storage size of `discon_req' isn't known
> /usr/include/sys/tihdr.h:568: storage size of `data_req' isn't known
> /usr/include/sys/tihdr.h:569: storage size of `exdata_req' isn't known
> /usr/include/sys/tihdr.h:570: storage size of `info_req' isn't known
> /usr/include/sys/tihdr.h:571: storage size of `bind_req' isn't known
> /usr/include/sys/tihdr.h:572: storage size of `unbind_req' isn't known
> /usr/include/sys/tihdr.h:573: storage size of `unitdata_req' isn't known
> /usr/include/sys/tihdr.h:574: storage size of `optmgmt_req' isn't known
> /usr/include/sys/tihdr.h:575: storage size of `ordrel_req' isn't known
> /usr/include/sys/tihdr.h:576: storage size of `addr_req' isn't known
> /usr/include/sys/tihdr.h:577: storage size of `conn_ind' isn't known
> /usr/include/sys/tihdr.h:578: storage size of `conn_con' isn't known
> /usr/include/sys/tihdr.h:579: storage size of `discon_ind' isn't known
> /usr/include/sys/tihdr.h:580: storage size of `data_ind' isn't known
> /usr/include/sys/tihdr.h:581: storage size of `exdata_ind' isn't known
> /usr/include/sys/tihdr.h:582: storage size of `info_ack' isn't known
> /usr/include/sys/tihdr.h:583: storage size of `bind_ack' isn't known
> /usr/include/sys/tihdr.h:584: storage size of `error_ack' isn't known
> /usr/include/sys/tihdr.h:585: storage size of `ok_ack' isn't known
> /usr/include/sys/tihdr.h:586: storage size of `unitdata_ind' isn't known
> /usr/include/sys/tihdr.h:587: storage size of `uderror_ind' isn't known
> /usr/include/sys/tihdr.h:588: storage size of `optmgmt_ack' isn't known
> /usr/include/sys/tihdr.h:589: storage size of `ordrel_ind' isn't known
> /usr/include/sys/tihdr.h:590: storage size of `addr_ack' isn't known
> *** Error code 1
> make: Fatal error: Command failed for target `saveload.o'
> Current working directory /opt/R-1.4.1/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /opt/R-1.4.1/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /opt/R-1.4.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue Mar 19 21:21:20 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 19 Mar 2002 14:21:20 -0600
Subject: [R] Re: Problems with rgl package 
Message-ID: <OF338A8734.06A2C006-ON86256B81.006EBDA3@mmm.com>


I also downloaded the rgl package (after reading recent Uwe Ligges' post)
and installed in on my Win2k Pro sp2 machine.  It seems to work with no
problems.  I ran most of the examples, including the hist3d one, and all of
them worked fine.

A couple of thoughts.  I have administrative priviliges on my machine.
Could this possible make a difference.  The rgl library uses OpenGL.  Is it
a standard install on all Win2k systems?

Cheers,

Andy

PS   I am running standard 1.4.1 version of R installed from precompiled
binaries.
__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Duncan Murdoch                                                                                                             
                    <murdoch at stats.      To:     Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co>                                             
                    uwo.ca>              cc:     r-help at stat.math.ethz.ch                                                                      
                                           (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                       
                    03/19/2002           Subject:     [R] Re: Problems with rgl package                                                        
                    13:18                                                                                                                      
                                                                                                                                               
                                                                                                                                               





I don't have access to Win2K to test on, but I don't see that error on
Win95, Win98, or NT4.  So it could be a Win2K incompatibility, or it
could be a problem with your installation.

The current version (from "library(help=rgl)") is 0.5.6.  (The
Help|About window incorrectly reports itself as 0.5.5).

Can you get any functions at all to work, i.e. is this just a problem
with hist3d?

Duncan Murdoch

On Tue, 19 Mar 2002 13:17:43 -0600, you wrote in message
<3C978ED7.1000704 at perseus.unalmed.edu.co>:

>Hi R users and developers:
>
>Recently Dr Ligges answer the following to a 3d plot question:
>
>>- several functions() in package rgl (only for windows, available at
>>http://www.stats.uwo.ca/faculty/murdoch/software).
>>
>I have download the package rgl on my windows 2000 (Service Pack 2) on a
>R 1.4.1. platform
>with the rgui --sdi option, but I obtain the following window error
>messages when I use the command "example(hist3d)"
>
>privileged instruction
>
>After several windows of this messages it appears the following message:
>
>OpenGL error OGLGroup initlist: 1283:desbordamiento de pila
>
>And the program crashes
>
>What am I missing?
>
>Thank you very much for your help.
>
>Kenneth
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Mar 19 21:31:11 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 19 Mar 2002 15:31:11 -0500 (EST)
Subject: [R] Selecting cases from a data frame
Message-ID: <Pine.LNX.4.21L1.0203191529160.17007-100000@nujoma.perrins>

My apologies if this is obvious - I assume it is but still can't seem to
make it work.

I've got a data frame acps.df; I want to run an analysis on a subset of
that data frame, defined as the subset for which the value of OGMCAT (a
column in the data frame) is anything OTHER than 9, 11, or 12.  So I'd
like to define a new data frame that consists of the same variables as in
acps.df, but without those cases. I tried this:

> acps.nopg.df<-acps.df[(acps.df$OGMCAT != 9) & (acps.df$OGMCAT != 11) &
(acps.df$OGMCAT !=  12)]

but got this:

Error in "[.data.frame"(acps.df, (acps.df$OGMCAT != 9) & (acps.df$OGMCAT
!=  : 
        undefined columns selected

Thanks for any advice.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 21:44:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Mar 2002 20:44:18 +0000 (GMT)
Subject: [R] Selecting cases from a data frame
In-Reply-To: <Pine.LNX.4.21L1.0203191529160.17007-100000@nujoma.perrins>
Message-ID: <Pine.GSO.4.44.0203192040190.23695-100000@auk.stats>

On Tue, 19 Mar 2002, Andrew Perrin wrote:

> My apologies if this is obvious - I assume it is but still can't seem to
> make it work.
>
> I've got a data frame acps.df; I want to run an analysis on a subset of
> that data frame, defined as the subset for which the value of OGMCAT (a
> column in the data frame) is anything OTHER than 9, 11, or 12.  So I'd
> like to define a new data frame that consists of the same variables as in
> acps.df, but without those cases. I tried this:
>
> > acps.nopg.df<-acps.df[(acps.df$OGMCAT != 9) & (acps.df$OGMCAT != 11) &
> (acps.df$OGMCAT !=  12)]
>
> but got this:
>
> Error in "[.data.frame"(acps.df, (acps.df$OGMCAT != 9) & (acps.df$OGMCAT
> !=  :
>         undefined columns selected

acps.nopg.df<-acps.df[!(acps.df$OGMCAT) %in% c(9,10,12)), ]
                                                        ^
You omitted a critical comma: 1D indexing of data frames is by columns.
Using match (via %in% or is.element) is more elegant and clearer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 19 21:51:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Mar 2002 21:51:06 +0100
Subject: [R] Selecting cases from a data frame
In-Reply-To: <Pine.LNX.4.21L1.0203191529160.17007-100000@nujoma.perrins>
References: <Pine.LNX.4.21L1.0203191529160.17007-100000@nujoma.perrins>
Message-ID: <x2hencmgcl.fsf@blueberry.kubism.ku.dk>

Andrew Perrin <andrew_perrin at unc.edu> writes:

> My apologies if this is obvious - I assume it is but still can't seem to
> make it work.
> 
> I've got a data frame acps.df; I want to run an analysis on a subset of
> that data frame, defined as the subset for which the value of OGMCAT (a
> column in the data frame) is anything OTHER than 9, 11, or 12.  So I'd
> like to define a new data frame that consists of the same variables as in
> acps.df, but without those cases. I tried this:
> 
> > acps.nopg.df<-acps.df[(acps.df$OGMCAT != 9) & (acps.df$OGMCAT != 11) &
> (acps.df$OGMCAT !=  12)]
> 
> but got this:
> 
> Error in "[.data.frame"(acps.df, (acps.df$OGMCAT != 9) & (acps.df$OGMCAT
> !=  : 
>         undefined columns selected
> 
> Thanks for any advice.

Looks like you need a comma in the indexing there. Indexing a data
frame by a single index means that you are selecting columns, so you
need two, the second one of which is empty.

BTW, this stuff is easier written as:

acps.nopg.df<-acps.df[acps.df$OGMCAT %in% c(9,11,12),]


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Tue Mar 19 22:19:08 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Tue, 19 Mar 2002 21:19:08 +0000
Subject: [R] fitting with lm
References: <B8BD2E6B.793D%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <3C97AB4C.908@cancer.org.uk>

Thanks for pointing out nls, it seems to provide what I'm looking for. 
Unfortunately, my daya distribution doesn't seem to be approxumated by 
either a power-law nor by an exponential fucntion :-( but I may have to 
play a little bit more with the params of the nls function.

		regards,

		Arne

Kaspar Pflugshaupt wrote:
> On 19.3.2002 17:03 Uhr, Arne Mueller wrote:
> 
> 
>>Dear All,
>>
>>I'm getting confused with the concept R uses to do regression using lm.
>>I'm afmiliar with gnuplot and the build-in fit command, but couldn't get
>>R's lm to work on my data.
>>
>>I know that my data follows a powerlaw or maybe an exponential function,
>>and I'd like to determine the best fitting factors for the formula:
>>a*x^b where b < 0.
>>
>>I've tried thge follwoing:
>>
>>s <- lm(y ~ x)
>>
> 
> [...]
> 
> 
>>What has R done? I assume the formula is just a+b*x and I can get a and
>>b via
>>
>>
>>>coef(s)
>>>
>>(Intercept)           x
>>21.20917074 -0.06560878
>>
>>But:
>>
>>
>>>s <- lm(y ~ a*x^b)
>>>
>>Error in terms.formula(formula, data = data) :
>>      invalid power in formula
>>
>>I went through the formula section of the R-manual, but I realy don't
>>get it.
>>
> 
> Generally, you want to look at the nlm library to fit complicated functions
> to your data. lm() does just linear models. In your case, however, you could
> try a log-transformation to linearize (fitting log(y) ~ a + log(x) * b),
> then re-transform the coefficients to the original scale.
> 
> 
>>Finally, I'd like to have the raw data-points together with a line
>>representing the function used to fit the data in a plot? How can I plot
>>function, e.g. sin(x) ?
>>
> 
> Look at help(curve). To add the results of any fit to an existing data
> scatterplot, you can also use
>  
> lines(x.values, predict(your.model))
> 
> - if your x values are sorted by size. If not, use something like this:
> x.order <- order(x.values)
> lines(x.values[x.order], predict(your.model)[x.order])
> 
> 
> 
>>I hope I just need a primer on this to get going.
>>
> 
> Hope that helps.
> 
> 
> 
> Kapsar Pflugshaupt
> 
> 
> 



-- 
Arne Mueller
Biomolecular Modelling Laboratory
Imperial Cancer Research Fund
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Tue Mar 19 22:40:02 2002
From: mai at ms.uky.edu (Mai Zhou)
Date: Tue, 19 Mar 2002 16:40:02 -0500 (EST)
Subject: [R] multiroot() anyone?
Message-ID: <200203192140.g2JLe6Y18419@t2.mscf.uky.edu>

Dear list, Did anybody have something like multiroot(),
similar to uniroot() only for several varibles/function?

I know the difficulty several varibles bring. But for
nice functions, it can be useful.

We are thinking of writing one....I thought to ask first.

Mai Zhou
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 19 22:47:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Mar 2002 21:47:43 +0000 (GMT)
Subject: [R] multiroot() anyone?
In-Reply-To: <200203192140.g2JLe6Y18419@t2.mscf.uky.edu>
Message-ID: <Pine.GSO.4.44.0203192146320.24667-100000@auk.stats>

On Tue, 19 Mar 2002, Mai Zhou wrote:

> Dear list, Did anybody have something like multiroot(),
> similar to uniroot() only for several varibles/function?
>
> I know the difficulty several varibles bring. But for
> nice functions, it can be useful.
>
> We are thinking of writing one....I thought to ask first.

I use optim() on the squared difference from the target value (here zero).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Tue Mar 19 23:03:45 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 19 Mar 2002 23:03:45 +0100
Subject: [R] multiroot() anyone?
References: <200203192140.g2JLe6Y18419@t2.mscf.uky.edu>
Message-ID: <3C97B5C1.71E9EFC0@statistik.uni-dortmund.de>

Mai Zhou wrote:
> 
> Dear list, Did anybody have something like multiroot(),
> similar to uniroot() only for several varibles/function?
> 
> I know the difficulty several varibles bring. But for
> nice functions, it can be useful.
> 
> We are thinking of writing one....I thought to ask first.


I guess you are looking for optim().

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar 20 00:23:04 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 19 Mar 2002 17:23:04 -0600
Subject: [R] Re: Problems with rgl package
References: <OF338A8734.06A2C006-ON86256B81.006EBDA3@mmm.com>
Message-ID: <3C97C858.8090902@perseus.unalmed.edu.co>



apjaworski at mmm.com wrote:

>I also downloaded the rgl package (after reading recent Uwe Ligges' post)
>and installed in on my Win2k Pro sp2 machine.  It seems to work with no
>problems.  I ran most of the examples, including the hist3d one, and all of
>them worked fine.
>
>A couple of thoughts.  I have administrative priviliges on my machine.
>Could this possible make a difference.  The rgl library uses OpenGL.  Is it
>a standard install on all Win2k systems?
>
Yes, I have administrative privileges too!!!
And still the problem!!!

>
>
>Cheers,
>
>Andy
>
>PS   I am running standard 1.4.1 version of R installed from precompiled
>binaries.
>__________________________________
>Andy Jaworski
>Engineering Systems Technology Center
>3M Center, 518-1-01
>St. Paul, MN 55144-1000
>-----
>E-mail: apjaworski at mmm.com
>Tel:  (651) 733-6092
>Fax:  (651) 736-3122
>
>
>                                                                                                                                               
>                    Duncan Murdoch                                                                                                             
>                    <murdoch at stats.      To:     Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co>                                             
>                    uwo.ca>              cc:     r-help at stat.math.ethz.ch                                                                      
>                                           (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                       
>                    03/19/2002           Subject:     [R] Re: Problems with rgl package                                                        
>                    13:18                                                                                                                      
>                                                                                                                                               
>                                                                                                                                               
>
>
>
>
>
>I don't have access to Win2K to test on, but I don't see that error on
>Win95, Win98, or NT4.  So it could be a Win2K incompatibility, or it
>could be a problem with your installation.
>
>The current version (from "library(help=rgl)") is 0.5.6.  (The
>Help|About window incorrectly reports itself as 0.5.5).
>
>Can you get any functions at all to work, i.e. is this just a problem
>with hist3d?
>
>Duncan Murdoch
>
>On Tue, 19 Mar 2002 13:17:43 -0600, you wrote in message
><3C978ED7.1000704 at perseus.unalmed.edu.co>:
>
>>Hi R users and developers:
>>
>>Recently Dr Ligges answer the following to a 3d plot question:
>>
>>>- several functions() in package rgl (only for windows, available at
>>>http://www.stats.uwo.ca/faculty/murdoch/software).
>>>
>>I have download the package rgl on my windows 2000 (Service Pack 2) on a
>>R 1.4.1. platform
>>with the rgui --sdi option, but I obtain the following window error
>>messages when I use the command "example(hist3d)"
>>
>>privileged instruction
>>
>>After several windows of this messages it appears the following message:
>>
>>OpenGL error OGLGroup initlist: 1283:desbordamiento de pila
>>
>>And the program crashes
>>
>>What am I missing?
>>
>>Thank you very much for your help.
>>
>>Kenneth
>>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>_._._
>
>
>
>
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Mar 19 23:23:19 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 19 Mar 2002 18:23:19 -0400 (AST)
Subject: [R] Catenating expressions in plotmath().
Message-ID: <200203192223.SAA00652@tanner.math.unb.ca>


I want to do something like produce a plot title of the form

	``Sample size n = 42; critical value k_0 = 17.''

where the ``n'' is to be in a maths font and ``k_0'' indicates
that the 0 is a subscript.  (A la LaTeX.)

But the values ``42'' and ``17'' are to be substituted in from the
numeric values of R objects.

After a bit of struggle I found that

> nn <- 42
> kk <- 17
> plot(1:10,1:10,
       main=substitute(list(n==nsub~~k[0]==ksub),list(nsub=nn,ksub=kk)))

gets pretty close to what I want.  But how do I fold in the text strings
``Sample size'', "; critical value", and "." (at the end)?

Is this simply impossible?

I'd like to be able to do something like form

	e1 <- substitute(list(n==nsub),list(nsub==nn))
	e2 <- substitute(list(k[0]==ksub),list(ksub==kk))

and then somehow ``paste'' together "Sample size", e1, "; critical value",
e2, and ".".

I've tried every possible permutation (I think) of expression(), paste(),
and substitute(), and none seem to work.

Is it a hopeless case?

					cheers,

						Rolf Turner
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar 20 00:31:59 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 19 Mar 2002 17:31:59 -0600
Subject: [R] Convering image formats
References: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br> <3C963041.C85D007E@statistik.uni-dortmund.de> <3C978ED7.1000704@perseus.unalmed.edu.co> <j43f9u4qbm2vigi7sbsna8t2g1uir1d90r@4ax.com>
Message-ID: <3C97CA6F.7060703@perseus.unalmed.edu.co>

Hi again, R users and developers:

How can I convert an image to a numerical matrix in R?
The image must be in a particular format? BMP, JPG, GIF?
The original image are not too big 800 x 600 pixels and 16 colors.

Finaly I want the 800x600 integer matrix of the image to handle in R.

Thank you very much, again,  for your help!

Kenneth Cabrera

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Tue Mar 19 23:42:41 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 20 Mar 2002 10:42:41 +1200
Subject: [R] Catenating expressions in plotmath().
References: <200203192223.SAA00652@tanner.math.unb.ca>
Message-ID: <00fb01c1cf97$613c07e0$7632d882@stat.auckland.ac.nz>

Hi


> I want to do something like produce a plot title of the form
>
> ``Sample size n = 42; critical value k_0 = 17.''


Does this do the trick ... ?

     nn <- 42
     kk <- 17
     plot(1:10,1:10,
           main=substitute(paste("Sample size ", n==nsub,
               "; critical value ", k[0]==ksub, "."),
               list(nsub=nn,ksub=kk), "."))

Paul


> where the ``n'' is to be in a maths font and ``k_0'' indicates
> that the 0 is a subscript.  (A la LaTeX.)
>
> But the values ``42'' and ``17'' are to be substituted in from the
> numeric values of R objects.
>
> After a bit of struggle I found that
>
> > nn <- 42
> > kk <- 17
> > plot(1:10,1:10,
>        main=substitute(list(n==nsub~~k[0]==ksub),list(nsub=nn,ksub=kk)))
>
> gets pretty close to what I want.  But how do I fold in the text strings
> ``Sample size'', "; critical value", and "." (at the end)?
>
> Is this simply impossible?
>
> I'd like to be able to do something like form
>
> e1 <- substitute(list(n==nsub),list(nsub==nn))
> e2 <- substitute(list(k[0]==ksub),list(ksub==kk))
>
> and then somehow ``paste'' together "Sample size", e1, "; critical value",
> e2, and ".".
>
> I've tried every possible permutation (I think) of expression(), paste(),
> and substitute(), and none seem to work.
>
> Is it a hopeless case?
>
> cheers,
>
> Rolf Turner
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar 20 01:14:32 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 19 Mar 2002 18:14:32 -0600
Subject: [R] Re: Problems with rgl package
References: <OF338A8734.06A2C006-ON86256B81.006EBDA3@mmm.com> <3C97C858.8090902@perseus.unalmed.edu.co>
Message-ID: <3C97D468.7020507@perseus.unalmed.edu.co>

The problem is found!

It was a problem with the OpenGL configuration.
I open the driver OpenGL configuration window and I uncheck the 
perfomance and quality  options.
It seams that some options are incompatible with the Rage 128 card driver.

But right now I am running all the examples with out any problem!!!

Any way....
Thank you very much for your help!!!

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Wed Mar 20 01:26:13 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Tue, 19 Mar 2002 19:26:13 -0500
Subject: [R] fitting with lm
In-Reply-To: <3C97AB4C.908@cancer.org.uk>
Message-ID: <3C9790D5.6650.40C10A@localhost>

This is just going to you since its not really about R.
If you are running Windows, check out
the CurveExpert software.  Use google to find
out where to download it from.   You can paste
your data into its spreadsheet and then one click
will run your data against numerous models, order
them by fit and display the data and the fit on a graph
for each one.  I have no connection with this package.

On 19 Mar 2002 at 21:19, Arne Mueller wrote:

> Thanks for pointing out nls, it seems to provide what I'm looking for. 
> Unfortunately, my daya distribution doesn't seem to be approxumated by 
> either a power-law nor by an exponential fucntion :-( but I may have to 
> play a little bit more with the params of the nls function.
> 
> 		regards,
> 
> 		Arne
> 
> Kaspar Pflugshaupt wrote:
> > On 19.3.2002 17:03 Uhr, Arne Mueller wrote:
> > 
> > 
> >>Dear All,
> >>
> >>I'm getting confused with the concept R uses to do regression using lm.
> >>I'm afmiliar with gnuplot and the build-in fit command, but couldn't get
> >>R's lm to work on my data.
> >>
> >>I know that my data follows a powerlaw or maybe an exponential function,
> >>and I'd like to determine the best fitting factors for the formula:
> >>a*x^b where b < 0.
> >>
> >>I've tried thge follwoing:
> >>
> >>s <- lm(y ~ x)
> >>
> > 
> > [...]
> > 
> > 
> >>What has R done? I assume the formula is just a+b*x and I can get a and
> >>b via
> >>
> >>
> >>>coef(s)
> >>>
> >>(Intercept)           x
> >>21.20917074 -0.06560878
> >>
> >>But:
> >>
> >>
> >>>s <- lm(y ~ a*x^b)
> >>>
> >>Error in terms.formula(formula, data = data) :
> >>      invalid power in formula
> >>
> >>I went through the formula section of the R-manual, but I realy don't
> >>get it.
> >>
> > 
> > Generally, you want to look at the nlm library to fit complicated functions
> > to your data. lm() does just linear models. In your case, however, you could
> > try a log-transformation to linearize (fitting log(y) ~ a + log(x) * b),
> > then re-transform the coefficients to the original scale.
> > 
> > 
> >>Finally, I'd like to have the raw data-points together with a line
> >>representing the function used to fit the data in a plot? How can I plot
> >>function, e.g. sin(x) ?
> >>
> > 
> > Look at help(curve). To add the results of any fit to an existing data
> > scatterplot, you can also use
> >  
> > lines(x.values, predict(your.model))
> > 
> > - if your x values are sorted by size. If not, use something like this:
> > x.order <- order(x.values)
> > lines(x.values[x.order], predict(your.model)[x.order])
> > 
> > 
> > 
> >>I hope I just need a primer on this to get going.
> >>
> > 
> > Hope that helps.
> > 
> > 
> > 
> > Kapsar Pflugshaupt
> > 
> > 
> > 
> 
> 
> 
> -- 
> Arne Mueller
> Biomolecular Modelling Laboratory
> Imperial Cancer Research Fund
> 44 Lincoln's Inn Fields
> London WC2A 3PX, U.K.
> phone : +44-(0)207 2693405      | fax :+44-(0)207-269-3534
> email : a.mueller at icrf.icnet.uk | http://www.bmm.icnet.uk
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Wed Mar 20 01:33:27 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue, 19 Mar 2002 19:33:27 -0500
Subject: [R] Re: Problems with rgl package
In-Reply-To: <3C97D468.7020507@perseus.unalmed.edu.co>
References: <OF338A8734.06A2C006-ON86256B81.006EBDA3@mmm.com> <3C97C858.8090902@perseus.unalmed.edu.co> <3C97D468.7020507@perseus.unalmed.edu.co>
Message-ID: <g3mf9ucs9ogqonqu8u9cjm5dfie7307009@4ax.com>

On Tue, 19 Mar 2002 18:14:32 -0600, you wrote:

>It seams that some options are incompatible with the Rage 128 card driver.

Yes, ATI has historically provided pretty poor OpenGL support.
Sometimes it helps to go to their web site and download a new driver;
sometimes that just makes things worse.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Mar 20 01:25:11 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 19 Mar 2002 18:25:11 -0600
Subject: [R] RODBC under Windows
Message-ID: <OF9506C085.1B234B1B-ON86256B82.00007E62@mmm.com>

Hi,

I have been just playing with the ODBC connectivity under Windows.  I have
never done this before and I thought I would go through some examples in
the "Data Import/Export" manual and learn how to setup data connections
while doing that.  I ran into a small problem and I am not sure if this is
something I am doing wrong or a bug or, perhaps, a feature of the RODBC
package.

Here is what I did:

(1) I created an empty Excel file (workbook).
(2) I setup this file as a data source named "Excel Test" using Data
Sources(ODBC) under Control Panel/Administrative Tools (I am using
Win2000).
(3) In R I did
     cc <- odbcConnect("Excel Test")
     data(USArrests)
     sqlSave(cc, USArrests, rownames="States")
     sqlTables(cc)                                 # shows the Sheet1$ and
USArrests$ as system tables and USArrests as a table
     sqlQuery(cc, "select state, murder from USArrests")          # works
fine
     sqlQuery(cc, "select state, murder from USArrests where rape>30")

This last statement gives me a type mismatch error.  After disconnecting
and inspecting the Excel file I discovered that all the values were saved
as text.

I thought that this was peculiar to Excel so I repeated the whole procedure
with an Access database.  The same thing - all the data were saved as text.
I can go to the database and change them by hand to numbers and then the
last query above works fine.

Am I doing something wrong?  Is this how things are supposed to work?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Wed Mar 20 02:54:05 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 19 Mar 2002 20:54:05 -0500 (EST)
Subject: [R] Selecting cases from a data frame
In-Reply-To: <x2hencmgcl.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21L1.0203192053510.17007-100000@nujoma.perrins>

Thanks to all who replied - the missing comma was, in fact, the issue.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On 19 Mar 2002, Peter Dalgaard BSA wrote:

> Andrew Perrin <andrew_perrin at unc.edu> writes:
> 
> > My apologies if this is obvious - I assume it is but still can't seem to
> > make it work.
> > 
> > I've got a data frame acps.df; I want to run an analysis on a subset of
> > that data frame, defined as the subset for which the value of OGMCAT (a
> > column in the data frame) is anything OTHER than 9, 11, or 12.  So I'd
> > like to define a new data frame that consists of the same variables as in
> > acps.df, but without those cases. I tried this:
> > 
> > > acps.nopg.df<-acps.df[(acps.df$OGMCAT != 9) & (acps.df$OGMCAT != 11) &
> > (acps.df$OGMCAT !=  12)]
> > 
> > but got this:
> > 
> > Error in "[.data.frame"(acps.df, (acps.df$OGMCAT != 9) & (acps.df$OGMCAT
> > !=  : 
> >         undefined columns selected
> > 
> > Thanks for any advice.
> 
> Looks like you need a comma in the indexing there. Indexing a data
> frame by a single index means that you are selecting columns, so you
> need two, the second one of which is empty.
> 
> BTW, this stuff is easier written as:
> 
> acps.nopg.df<-acps.df[acps.df$OGMCAT %in% c(9,11,12),]
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Wed Mar 20 03:23:32 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Tue, 19 Mar 2002 23:23:32 -0300
Subject: [R] R-1.4.1 crashes on Debian Woody
Message-ID: <20020319232332.A2680@uol.com.br>

Hi-

	I've upgraded to Debian Woody. I've downloaded and installed the new R-1.4.1.
	However, it crashes on me, complaining about libblas.so.2.
	BTW, what's the difference between r-base and r-recommended? 
	Any ideas?

	TIA
	Regs
		Henry L.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Mar 20 08:38:59 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 20 Mar 2002 08:38:59 +0100
Subject: [R] Re: Problems with rgl package
In-Reply-To: <g3mf9ucs9ogqonqu8u9cjm5dfie7307009@4ax.com>
Message-ID: <MABBLJDICACNFOLGIHJOIECECKAA.phgrosje@ulb.ac.be>

Indeed yes, it looks like a problem with your graphic card/driver. I also
installed rgl on w2k without problems, except on a computer that displayed
the same kind of error message. The driver for the S3 Savage/MX graphic card
was the origin of the problem that was solved by upgrading this driver to
the latest version. Do you have other programs that use OpenGl? In my case,
the error appeared also in Mathcad 2000 in 3D graphs and in Simply 3D 3,
whith OpenGl features enabled...

By the way, I would like to say that I really like rgl,... although there is
no possibility to save the graph in a vector format like postscript or
wmf/emf. Is it a limitation of OpenGl libraries?

Best,

Philippe Grosjean


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Duncan Murdoch
Envoye : mercredi 20 mars 2002 01:33
A : Kenneth Cabrera
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] Re: Problems with rgl package


On Tue, 19 Mar 2002 18:14:32 -0600, you wrote:

>It seams that some options are incompatible with the Rage 128 card driver.

Yes, ATI has historically provided pretty poor OpenGL support.
Sometimes it helps to go to their web site and download a new driver;
sometimes that just makes things worse.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juhana.vartiainen at labour.fi  Wed Mar 20 08:41:04 2002
From: juhana.vartiainen at labour.fi (Juhana Vartiainen)
Date: Wed, 20 Mar 2002 09:41:04 +0200
Subject: [R] inverted axis
Message-ID: <3C983D10.7C43DB73@labour.fi>

Hello everybody!

Spse I have the following

X <- seq(1:100)     #(a dim(100) sequence of integers 1:100 representing
the possible actions of player 1 and player2 in a game)
BR2X<- br2(X)      #(a dim(100) sequence of points on range (1,100)
representing the best response function of player 2 to player 1:s
actions)
BR1X<- br1(X)      #(a dim(100) sequence of points on range (1,100)
representing the best response function of player 1 to player 2:s
actions)

To illustrate Nash equilibrium , I would like to plot these  in the same
picture, with inverted axes, so that

(X,BR2) is plotted with X on horizontal and BR2 on vertical axis
(X, BR1) is plotted with X on vertical axis and BR1 on horizontal axis.

How can I do that ?

Juhana Vartiainen
juhana.vartiainen at labour.fi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 20 08:54:33 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Mar 2002 07:54:33 +0000 (GMT)
Subject: [R] RODBC under Windows
In-Reply-To: <OF9506C085.1B234B1B-ON86256B82.00007E62@mmm.com>
Message-ID: <Pine.GSO.4.44.0203200750220.28569-100000@auk.stats>

On Tue, 19 Mar 2002 apjaworski at mmm.com wrote:

> Hi,
>
> I have been just playing with the ODBC connectivity under Windows.  I have
> never done this before and I thought I would go through some examples in
> the "Data Import/Export" manual and learn how to setup data connections
> while doing that.  I ran into a small problem and I am not sure if this is
> something I am doing wrong or a bug or, perhaps, a feature of the RODBC
> package.
>
> Here is what I did:
>
> (1) I created an empty Excel file (workbook).
> (2) I setup this file as a data source named "Excel Test" using Data
> Sources(ODBC) under Control Panel/Administrative Tools (I am using
> Win2000).
> (3) In R I did
>      cc <- odbcConnect("Excel Test")
>      data(USArrests)
>      sqlSave(cc, USArrests, rownames="States")
>      sqlTables(cc)                                 # shows the Sheet1$ and
> USArrests$ as system tables and USArrests as a table
>      sqlQuery(cc, "select state, murder from USArrests")          # works
> fine
>      sqlQuery(cc, "select state, murder from USArrests where rape>30")
>
> This last statement gives me a type mismatch error.  After disconnecting
> and inspecting the Excel file I discovered that all the values were saved
> as text.
>
> I thought that this was peculiar to Excel so I repeated the whole procedure
> with an Access database.  The same thing - all the data were saved as text.
> I can go to the database and change them by hand to numbers and then the
> last query above works fine.
>
> Am I doing something wrong?  Is this how things are supposed to work?

It is how RODBC works if the table does not exist.  The type mismatch error
is peculiar to VBA-based databases: I met it with Access.

I did make a version of RODBC that selected a type more sensibly and
submitted it to Michael Lapsley.  It is tricky though, as for example the
ODBC driver for MySQL lied when interrogated about its types.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Mar 20 09:31:19 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 Mar 2002 09:31:19 +0100 (CET)
Subject: [R] Convering image formats
In-Reply-To: <3C97CA6F.7060703@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.21.0203200925550.9243-100000@reclus.nhh.no>

On Tue, 19 Mar 2002, Kenneth Cabrera wrote:

> Hi again, R users and developers:
> 
> How can I convert an image to a numerical matrix in R?
> The image must be in a particular format? BMP, JPG, GIF?
> The original image are not too big 800 x 600 pixels and 16 colors.
> 
> Finaly I want the 800x600 integer matrix of the image to handle in R.
> 

library(pixmap) reads pnm, all of the above can be converted to pnm. My
guess would be that you need an indexed pixmap.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Mar 20 11:25:51 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 20 Mar 2002 11:25:51 +0100
Subject: [R] Installing GRASS_0.1-4.tar.gz on RedHat7.1 Linux
Message-ID: <3C9863AF.8070803@science.uva.nl>

Dear list,

I have a problem to install the GRASS_0.1-4.tar.gz on RedHat7.1 Linux.

The gmake5 is missing. But I am not quite sure what it is? Is it a gnu 
version of MAKE? I could not locate it on my system and I do not know 
what is really meant.

Any experience?

I get the following message:

----------------------------------------------------

bash-2.04$ R CMD INSTALL -l /home/uleopold/lib/R/library/ GRASS_0.1-4.tar.gz
Installing *source* package `GRASS' ...
Your gmake5 is not on your current PATH.
Either add the directory it is in to your PATH,
or run "R INSTALL --configure-args=--gmake5=/.../gmake5 GRASS"
giving the fully qualified path to and name of your gmake5.
To install the interpreted interface, use:
"R INSTALL --configure-args=--interp GRASS"
ERROR: configuration failed for package `GRASS'

----------------------------------------------------

Thanks.

Ulrich


__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Mar 20 11:34:55 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 20 Mar 2002 11:34:55 +0100 (CET)
Subject: [R] inverted axis
In-Reply-To: <3C983D10.7C43DB73@labour.fi>
Message-ID: <Pine.LNX.4.44.0203201128160.10166-100000@localhost.localdomain>

HI,

On Wed, 20 Mar 2002, Juhana Vartiainen wrote:

  |Hello everybody!
  |
  |Spse I have the following
  |
  |X <- seq(1:100)     #(a dim(100) sequence of integers 1:100 representing
  |the possible actions of player 1 and player2 in a game)
  |BR2X<- br2(X)      #(a dim(100) sequence of points on range (1,100)
  |representing the best response function of player 2 to player 1:s
  |actions)
  |BR1X<- br1(X)      #(a dim(100) sequence of points on range (1,100)
  |representing the best response function of player 1 to player 2:s
  |actions)
  |
  |To illustrate Nash equilibrium , I would like to plot these  in the same
  |picture, with inverted axes, so that
  |
  |(X,BR2) is plotted with X on horizontal and BR2 on vertical axis
  |(X, BR1) is plotted with X on vertical axis and BR1 on horizontal axis.
  |
  |How can I do that ?

You should do something like this:

plot(X, BR2)
lines(BR1, X) # or points(BR1, X)

Note that plot() removes everything that were in the plot window before and
calculates new axes etc., but lines() keeps the previous graph and uses the
same axes.  You may consider using plot(..., lwd=2) to get the BR-lines
thicker than the axes.

Note also that you may use

X <- 1:100
instead of seq(1:100)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 20 11:51:14 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 20 Mar 2002 22:51:14 +1200
Subject: [R] inverted axis
In-Reply-To: <3C983D10.7C43DB73@labour.fi>; from juhana.vartiainen@labour.fi on Wed, Mar 20, 2002 at 09:41:04AM +0200
References: <3C983D10.7C43DB73@labour.fi>
Message-ID: <20020320225114.A29370@camille.indigoindustrial.co.nz>

On Wed, Mar 20, 2002 at 09:41:04AM +0200, Juhana Vartiainen wrote:
> (X,BR2) is plotted with X on horizontal and BR2 on vertical axis
> (X, BR1) is plotted with X on vertical axis and BR1 on horizontal axis.

help(plot)
help(points)

as in

plot(X,BR2) 
points(BR1,X) 

help(par), with attention to "pch" would also probably help.

This, and more, is all in "An Introduction to R" - $RHOME/doc/R-intro.pdf

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Mar 20 11:57:53 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 Mar 2002 11:57:53 +0100 (CET)
Subject: [R] Installing GRASS_0.1-4.tar.gz on RedHat7.1 Linux
In-Reply-To: <3C9863AF.8070803@science.uva.nl>
Message-ID: <Pine.LNX.4.21.0203201148380.9600-100000@reclus.nhh.no>

Ulrich:

On Wed, 20 Mar 2002, Ulrich Leopold wrote:

> I have a problem to install the GRASS_0.1-4.tar.gz on RedHat7.1 Linux.
> 
> The gmake5 is missing. But I am not quite sure what it is? Is it a gnu 
> version of MAKE? I could not locate it on my system and I do not know 
> what is really meant.
> 
The GRASS package for interfacing R with the GRASS geographical
information system needs GRASS's libraries and header files, and
installing the package starts by trying to find out if GRASS is installed
on your system and where it is. The gmake5 script is part of the GRASS 5
distribution, and not finding it suggests that - as the message says - it
either isn't there at all, or not on your path.

In addition, the version of GRASS on CRAN is 0.1-8. As the README file
says, version 0.1-4 will only work with R < 1.2.0 anyway, so a more recent
version might be a good idea. It is also possible, as the README says, to
give INSTALL the configure argument --configure-args=--interp to drop the
compiled interface.

Roger

> I get the following message:
> 
> ----------------------------------------------------
> 
> bash-2.04$ R CMD INSTALL -l /home/uleopold/lib/R/library/ GRASS_0.1-4.tar.gz
> Installing *source* package `GRASS' ...
> Your gmake5 is not on your current PATH.
> Either add the directory it is in to your PATH,
> or run "R INSTALL --configure-args=--gmake5=/.../gmake5 GRASS"
> giving the fully qualified path to and name of your gmake5.
> To install the interpreted interface, use:
> "R INSTALL --configure-args=--interp GRASS"
> ERROR: configuration failed for package `GRASS'
> 
> ----------------------------------------------------
> 
> Thanks.
> 
> Ulrich
> 
> 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfgalvez at eez.csic.es  Wed Mar 20 12:18:05 2002
From: jfgalvez at eez.csic.es (=?iso-8859-1?Q?Jes=FAs=20Fern=E1ndez=20G=E1lvez?=)
Date: Wed, 20 Mar 2002 12:18:05 +0100
Subject: [R] a R question
Message-ID: <3C986FED.F4D4E8CF@eez.csic.es>

Dear Sir,

I have been working with R  for some time now and I am very happy with
it, but I have found a problem that I could not resolve. Could you
please give me some hint about how to transform  POSIX time data in
seconds to  string  format?. (eg. 995752800 -> year-month,day,hour,min,
sec) I tryed with Sys.time(), strptime() and date() but without success.

Thank you very much in advance

Jesus Fernandez
Estacion Experimental del  Zaidin
Granada, Spain



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 20 12:25:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Mar 2002 11:25:42 +0000 (GMT)
Subject: [R] a R question
In-Reply-To: <3C986FED.F4D4E8CF@eez.csic.es>
Message-ID: <Pine.LNX.4.31.0203201122020.6716-100000@gannet.stats>

On Wed, 20 Mar 2002, [iso-8859-1] Jesús Fernández Gálvez wrote:

> Dear Sir,
>
> I have been working with R  for some time now and I am very happy with
> it, but I have found a problem that I could not resolve. Could you
> please give me some hint about how to transform  POSIX time data in
> seconds to  string  format?. (eg. 995752800 -> year-month,day,hour,min,
> sec) I tryed with Sys.time(), strptime() and date() but without success.

Is that the number of seconds since 1970-01-01?

> x <- 995752800
> class(x) <- c("POSIXt", "POSIXct")
> x
[1] "2001-07-21 23:00:00 GMT Daylight Time"

in my locale.  Use format on `x' to get the format you want.

(This is deliberately not made easy by as.POSIXct, as there is no
way to check the numbers are indeed POSIX times.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Mar 20 12:25:49 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 20 Mar 2002 23:25:49 +1200 (NZST)
Subject: [R] A Very Trivial Question
Message-ID: <Pine.SOL.4.21.0203202324310.10292-100000@stat1.stat.auckland.ac.nz>

Hi,

This is a very trivial question, and I do not know why I cannot remember
the answer at all!

How does one get the entire system information (which OS, R
version....etc) using an R command? 

Thanks,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Wed Mar 20 13:00:09 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 20 Mar 2002 13:00:09 +0100
Subject: [R] A Very Trivial Question
References: <Pine.SOL.4.21.0203202324310.10292-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3C9879C9.768C5025@statistik.uni-dortmund.de>

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> This is a very trivial question, and I do not know why I cannot remember
> the answer at all!
> 
> How does one get the entire system information (which OS, R
> version....etc) using an R command?

R.Version()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Wed Mar 20 13:08:31 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 20 Mar 2002 13:08:31 +0100
Subject: [R] inverted axis
References: <3C983D10.7C43DB73@labour.fi> <20020320225114.A29370@camille.indigoindustrial.co.nz>
Message-ID: <3C987BBF.B617646E@statistik.uni-dortmund.de>

Jason Turner wrote:
> 
> On Wed, Mar 20, 2002 at 09:41:04AM +0200, Juhana Vartiainen wrote:
> > (X,BR2) is plotted with X on horizontal and BR2 on vertical axis
> > (X, BR1) is plotted with X on vertical axis and BR1 on horizontal axis.
> 
> help(plot)
> help(points)
> 
> as in
> 
> plot(X,BR2)
> points(BR1,X)
> 
> help(par), with attention to "pch" would also probably help.
> 
> This, and more, is all in "An Introduction to R" - $RHOME/doc/R-intro.pdf

Let me add:
You can also generate axis for the second set of data with axis()
manually (e.g. at the top and right hand side of the plot), see ?axis
for details.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Mar 20 13:15:03 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Wed, 20 Mar 2002 04:15:03 -0800
Subject: [R] A Very Trivial Question
In-Reply-To: <Pine.SOL.4.21.0203202324310.10292-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <5.1.0.14.2.20020320041424.025c8ec0@pop4.attglobal.net>

 >version


At 03:25 AM 3/20/02, Ko-Kang Kevin Wang wrote:
 >Hi,
 >
 >This is a very trivial question, and I do not know why I cannot remember
 >the answer at all!
 >
 >How does one get the entire system information (which OS, R
 >version....etc) using an R command?
 >
 >Thanks,
 >
 >Kevin
 >
 >------------------------------------------------------------------------------
 >Ko-Kang Kevin Wang
 >Postgraduate PGDipSci Student
 >Department of Statistics
 >University of Auckland
 >New Zealand
 >
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Mar 20 13:12:18 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 20 Mar 2002 13:12:18 +0100
Subject: [R] inverted axis
References: <3C983D10.7C43DB73@labour.fi>
Message-ID: <3C987CA2.F199CC5C@atmos.umnw.ethz.ch>

Hello Juhana

make the first ploot as normal: plot(X, BR2)
and the second one with points: points(BR1, X, col='red')
perhaps you have to set xlim and ylim in plot, so that every point in
BR1 is shown

another aproach is:
plot(c(BR2,X),c(X,BR1),col=rep('black',length(X),),rep('red',length(X))

I hope it help

gruess

joerg


Juhana Vartiainen wrote:
> 
> Hello everybody!
> 
> Spse I have the following
> 
> X <- seq(1:100)     #(a dim(100) sequence of integers 1:100 representing
> the possible actions of player 1 and player2 in a game)
> BR2X<- br2(X)      #(a dim(100) sequence of points on range (1,100)
> representing the best response function of player 2 to player 1:s
> actions)
> BR1X<- br1(X)      #(a dim(100) sequence of points on range (1,100)
> representing the best response function of player 1 to player 2:s
> actions)
> 
> To illustrate Nash equilibrium , I would like to plot these  in the same
> picture, with inverted axes, so that
> 
> (X,BR2) is plotted with X on horizontal and BR2 on vertical axis
> (X, BR1) is plotted with X on vertical axis and BR1 on horizontal axis.
> 
> How can I do that ?
> 
> Juhana Vartiainen
> juhana.vartiainen at labour.fi
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Wed Mar 20 13:28:09 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Wed, 20 Mar 2002 07:28:09 -0500
Subject: [R] Re: Problems with rgl package
In-Reply-To: <MABBLJDICACNFOLGIHJOIECECKAA.phgrosje@ulb.ac.be>
References: <g3mf9ucs9ogqonqu8u9cjm5dfie7307009@4ax.com> <MABBLJDICACNFOLGIHJOIECECKAA.phgrosje@ulb.ac.be>
Message-ID: <4pvg9u871ad3h0uol4n00hjpkl3eq79hsa@4ax.com>

On Wed, 20 Mar 2002 08:38:59 +0100, you wrote:

>By the way, I would like to say that I really like rgl,... although there is
>no possibility to save the graph in a vector format like postscript or
>wmf/emf. Is it a limitation of OpenGl libraries?

OpenGL is a raster-oriented renderer.  RGL does maintain a
vector-oriented list of things to draw, but OpenGL does all the
hidden-object removal by maintaining a "z-buffer", i.e. an indicator
of the depth of each pixel in the scene.  It would be quite difficult
to reproduce that properly in Postscript or wmf/emf.  You could come
close by drawing things from the back to the front, but errors would
be made, e.g. when drawing intersecting polygons.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Mar 20 14:27:55 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 20 Mar 2002 14:27:55 +0100
Subject: [R] a R question
References: <3C986FED.F4D4E8CF@eez.csic.es>
Message-ID: <3C988E5B.4C760E96@atmos.umnw.ethz.ch>

Hello Jes?s,

The numeric value is the differnece since 1970 1.Jan at one a clock in
th morning
you can see that with 
Sys.time()-as.numeric(Sys.time())

This information ypu can use to transform your numeric value
strptime("1970-01-01 01:00:00 MET",format='%Y-%m-%d %H:%M:%S
%Z')+995752800

gruess

jeorg



Jes?s Fern?ndez G?lvez wrote:
> 
> Dear Sir,
> 
> I have been working with R  for some time now and I am very happy with
> it, but I have found a problem that I could not resolve. Could you
> please give me some hint about how to transform  POSIX time data in
> seconds to  string  format?. (eg. 995752800 -> year-month,day,hour,min,
> sec) I tryed with Sys.time(), strptime() and date() but without success.
> 
> Thank you very much in advance
> 
> Jesus Fernandez
> Estacion Experimental del  Zaidin
> Granada, Spain
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Mar 20 14:31:03 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Wed, 20 Mar 2002 14:31:03 +0100 (CET)
Subject: [R] optim with gradient
In-Reply-To: <3C987CA2.F199CC5C@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.44.0203201402290.507-100000@tal.stat.umu.se>

I want to maximise a function using 'optim' with a method that requires 
the gradient, so I supply two functions, 'fun' for the function value
and 'd.fun' for its gradient. My question is: Since some calculations are 
common to the two functions, is it possible to save time by feeding 
'd.fun' with some of the calculations made in 'fun'? That would require
(at least) that it is guaranteed that each time 'd.fun' is evaluated, it 
is done immediately after a call to 'fun' at the same parameter value.
The help page says:  

"It is guaranteed that `gr' will be called immediately after a
call to `fn' at the same parameter values."

which is not exactly the same. However, look at this trivial example:

prov <- function(x.start = 0){
  fun <- function(x) {
    e.x <- exp(-x)
    x * e.x
  }
  d.fun <- function(x) {
    e.x <- exp(-x)
    e.x * (1 - x)
  }
  optim(x.start, fun, d.fun, method = "BFGS", 
     control = list(fnscale = -1))
}

> prov(2)$counts
function gradient 
      19        9 

This contradicts the help page info, since that implies that the gradient 
is called at least as many times as the function. 

Q1: What is the correct guarantee? Is it what I need?

Q2: If so, How do I share calculations between the two functions? In my 
    trivial example, exp(-x) is calculated in both.

Thanks for any enlightenment! (Brian?)

G?ran 
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Mar 20 14:32:45 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 20 Mar 2002 14:32:45 +0100
Subject: [R] cannot open file .RDataTmp
Message-ID: <3C988F7D.9020208@science.uva.nl>

Dear list,

since I have installed GRASS_0.1-8.tar.gz (devel) with R 1.4.1 on 
RedHat7.1 Linux I get the following message when I want to save the 
workspace image:

--------------------------------------------------

Save workspace image? [y/n/c]: y
Error in file(file, "wb") : cannot open file `.RDataTmp'

-------------------------------------------------

Where can I find the ".RDataTmp"? I only know the ".RData" file.

I do not understand exactly the whole message.

Ulrich

*Below* I also attached the result from the installation of the GRASS 
interface.

-------------------------------------------------------------
bash-2.04$ R CMD INSTALL -l /home/uleopold/lib/R/library/ 
tmp/GRASS_0.1-8.tar.gz
Installing *source* package `GRASS' ...
/usr/local/arch/grass5/grass5bin/grass5 yes
'/usr/local/arch/grass5'/lib: not found
GRASS source files not found - installing interpreted interface
  R
  data
  help
  >>> Building/Updating help pages for package `GRASS'
      Formats: text html latex example
   contour.G                         text    html    latex   example
   gmeta                             text    html    latex   example
   interp.new.G                      text    html    latex   example
      missing link(s):  interp.new
   kde2d.G                           text    html    latex   example
   krige.G                           text    html    latex   example
   list.GRASS                        text    html    latex   example
   pcbs                              text    html    latex   example
   plot.grassmeta                    text    html    latex   example
   rast.get                          text    html    latex   example
   rast.put                          text    html    latex   example
   sites.get                         text    html    latex   example
   sites.put                         text    html    latex   example
   summary.grassmeta                 text    html    latex   example
   trmat.G                           text    html    latex   example
   utm.maas                          text    html    latex   example
  DONE (GRASS)

DONE (INSTALL)

-------------------------------------------------------------------



-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stranda at cofc.edu  Wed Mar 20 14:41:49 2002
From: stranda at cofc.edu (Allan Strand)
Date: 20 Mar 2002 08:41:49 -0500
Subject: [R] assessing performance of a classfication method
In-Reply-To: <3C975897.44C0B6CC@ci.tuwien.ac.at>
References: <87r8mgso3c.fsf@linum.cofc.edu>
	<3C975897.44C0B6CC@ci.tuwien.ac.at>
Message-ID: <87y9gnpd9e.fsf@linum.cofc.edu>

R-help comes through again.  I had several responses to my question
yesterday (all within an hour of posting).  I have found two similar
solutions to my problem.  The first was suggested by Ron Wehrens and
is found in his CompClus package (http://www-cac.sci.kun.nl/cac/).
The other came from David Meyer and is found below.

Thanks everyone,
a.

David Meyer <david.meyer at ci.tuwien.ac.at> writes:
> Allan Strand wrote:
> 
> Apart from matchClasses(), you might look at classAgreement(), also in
> e1071.
> 
> g.
> -d
> 
> > 
> > Hi all,
> > 
> > I have developed a routine to classify observations based upon
> > clustering.  In my current case there are 5 classes, so the data at
> > the end of the classification look like this:

snip

> > 
> > I would like to compare the results of my scheme to the "known"
> > simulated classes and assess its error rate.  AS I start, I would just
> > like to know the number of observations that were mis-classified.  No
> > doubt this is a brain-dead question to those who work in this field,
> > but this is my first foray into such analyses.  Ultimately I was
> > wondering of there is an R package that performs such analyses out of
> > the box or if anyone who does these kind of analyses routinely has a
> > code snippet I could use as an example.
snip
> 
> -- 
> 	Mag. David Meyer		Wiedner Hauptstrasse 8-10
> Vienna University of Technology		A-1040 Vienna/AUSTRIA
>        Department for			Tel.: (+431) 58801/10772
> Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at

-- 
Allan Strand,   Biology    http://linum.cofc.edu
College of Charleston      Ph. (843) 953-8085
Charleston, SC 29424       Fax (843) 953-5453
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 20 15:01:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Mar 2002 14:01:22 +0000 (GMT)
Subject: [R] optim with gradient
In-Reply-To: <Pine.LNX.4.44.0203201402290.507-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.31.0203201358570.28356-100000@gannet.stats>

On Wed, 20 Mar 2002, [iso-8859-1] Göran Broström wrote:

> I want to maximise a function using 'optim' with a method that requires
> the gradient, so I supply two functions, 'fun' for the function value
> and 'd.fun' for its gradient. My question is: Since some calculations are
> common to the two functions, is it possible to save time by feeding
> 'd.fun' with some of the calculations made in 'fun'? That would require
> (at least) that it is guaranteed that each time 'd.fun' is evaluated, it
> is done immediately after a call to 'fun' at the same parameter value.
> The help page says:
>
> "It is guaranteed that `gr' will be called immediately after a
> call to `fn' at the same parameter values."

Only if hessian=FALSE, and that phrase is now removed.

> which is not exactly the same. However, look at this trivial example:
>
> prov <- function(x.start = 0){
>   fun <- function(x) {
>     e.x <- exp(-x)
>     x * e.x
>   }
>   d.fun <- function(x) {
>     e.x <- exp(-x)
>     e.x * (1 - x)
>   }
>   optim(x.start, fun, d.fun, method = "BFGS",
>      control = list(fnscale = -1))
> }
>
> > prov(2)$counts
> function gradient
>       19        9
>
> This contradicts the help page info, since that implies that the gradient
> is called at least as many times as the function.

No, the other way around.  It meant `if gr is called, it will be called
...'


> Q1: What is the correct guarantee? Is it what I need?
>
> Q2: If so, How do I share calculations between the two functions? In my
>     trivial example, exp(-x) is calculated in both.

You need to cache the par values and the results you need, and test both.
It is unlikely to be worth it.

>
> Thanks for any enlightenment! (Brian?)
>
> Göran
> --
>  Göran Broström                      tel: +46 90 786 5223
>  professor                           fax: +46 90 786 6614
>  Department of Statistics            http://www.stat.umu.se/egna/gb/
>  Umeå University
>  SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Wed Mar 20 15:19:46 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Wed, 20 Mar 2002 15:19:46 +0100 (MET)
Subject: [R] spatial library
Message-ID: <Pine.OSF.4.30.0203201516410.10980-100000@science.unitn.it>

Hi everybody,

I want to download the spatial library but I don't find it at the CRAN
list package. Where can I find the package ?

 I have to download it to use the function correlogram.

Thanks in advance,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Mar 20 15:21:40 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 20 Mar 2002 15:21:40 +0100
Subject: [R] A Very Trivial Question
Message-ID: <OFB5E8B24C.3534B9CC-ONC1256B82.004EA6CF@eurotel.cz>


>version
>Sys.getenv()

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------



- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 20.3.2002 15:17:35
To: R Help <r-help at stat.math.ethz.ch>
Subject: [R] A Very Trivial Question

Hi,

This is a very trivial question, and I do not know why I cannot remember
the answer at all!

How does one get the entire system information (which OS, R
version....etc) using an R command?

Thanks,

Kevin

------------------------------------------------------------------------------

Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 20 15:26:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Mar 2002 14:26:19 +0000 (GMT)
Subject: [R] spatial library
In-Reply-To: <Pine.OSF.4.30.0203201516410.10980-100000@science.unitn.it>
Message-ID: <Pine.LNX.4.31.0203201425420.8863-100000@gannet.stats>

It's part of VR and it should be in your R installation if it is complete.

On Wed, 20 Mar 2002, Lecca Paola wrote:

> Hi everybody,
>
> I want to download the spatial library but I don't find it at the CRAN
> list package. Where can I find the package ?
>
>  I have to download it to use the function correlogram.
>
> Thanks in advance,
> Paola.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Mar 20 15:29:20 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 Mar 2002 15:29:20 +0100 (CET)
Subject: [R] cannot open file .RDataTmp
In-Reply-To: <3C988F7D.9020208@science.uva.nl>
Message-ID: <Pine.LNX.4.21.0203201505110.10244-100000@reclus.nhh.no>

On Wed, 20 Mar 2002, Ulrich Leopold wrote:

> since I have installed GRASS_0.1-8.tar.gz (devel) with R 1.4.1 on 
> RedHat7.1 Linux I get the following message when I want to save the 
> workspace image:
> 
> --------------------------------------------------
> 
> Save workspace image? [y/n/c]: y
> Error in file(file, "wb") : cannot open file `.RDataTmp'
> 
> -------------------------------------------------

quit() or q() ask whether you wish to save your workspace image in the
current directory. If you reply "y", the function calls save.image() which
calls save(), which calls file(), which has exited with an error
suggesting that you do not have permission to write to the current
directory. You can use getwd() and setwd() to see which directory you are
in, and move to one you have permission to write in.

> 
> Where can I find the ".RDataTmp"? I only know the ".RData" file.
> 
If you read the code of save.image(), you will see that the function saves
to a uniquely named file, and moves it to .Rdata if file.rename() lets it.

> I do not understand exactly the whole message.
> 
> Ulrich
> 
> *Below* I also attached the result from the installation of the GRASS 
> interface.

Maybe the GRASS statistics mailing list:

http://grass.itc.it/mailman/listinfo/statsgrass

would be a better place to discuss this. 

'/usr/local/arch/grass5'/lib: not found - means that you do not have a
recent version of GRASS, since mid-2000, both binary and source
distributions have installed lib and include directories under
$GISBASE. You haven't got one, so once again please read the README file
in GRASS_0.1-8.tar.gz. If your GRASS was installed from source, you will
still have the original libraries and header files, but then you should
use the configure arguments described in the README file to tell the
configure script how to find the libraries and header files.

> 
> -------------------------------------------------------------
> bash-2.04$ R CMD INSTALL -l /home/uleopold/lib/R/library/ 
> tmp/GRASS_0.1-8.tar.gz
> Installing *source* package `GRASS' ...
> /usr/local/arch/grass5/grass5bin/grass5 yes
> '/usr/local/arch/grass5'/lib: not found
> GRASS source files not found - installing interpreted interface
>   R
>   data
>   help
>   >>> Building/Updating help pages for package `GRASS'
>       Formats: text html latex example
>    contour.G                         text    html    latex   example
>    gmeta                             text    html    latex   example
>    interp.new.G                      text    html    latex   example
>       missing link(s):  interp.new
>    kde2d.G                           text    html    latex   example
>    krige.G                           text    html    latex   example
>    list.GRASS                        text    html    latex   example
>    pcbs                              text    html    latex   example
>    plot.grassmeta                    text    html    latex   example
>    rast.get                          text    html    latex   example
>    rast.put                          text    html    latex   example
>    sites.get                         text    html    latex   example
>    sites.put                         text    html    latex   example
>    summary.grassmeta                 text    html    latex   example
>    trmat.G                           text    html    latex   example
>    utm.maas                          text    html    latex   example
>   DONE (GRASS)
> 
> DONE (INSTALL)
> 
> -------------------------------------------------------------------
> 
> 
> 
> 

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Mar 20 15:41:53 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 20 Mar 2002 15:41:53 +0100
Subject: [R] A Very Trivial Question
In-Reply-To: <Pine.SOL.4.21.0203202324310.10292-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0203202324310.10292-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020320144153.GD10957@giraffa.cbs.dtu.dk>

On Wed, Mar 20, 2002 at 11:25:49PM +1200, Ko-Kang Kevin Wang wrote:
> Hi,
> 
> This is a very trivial question, and I do not know why I cannot remember
> the answer at all!
> 
> How does one get the entire system information (which OS, R
> version....etc) using an R command? 
> 
> Thanks,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



Would 'version' fulfil your expectations ?


Hopin' it helps,



Laurent




-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kuonen at statoo.com  Wed Mar 20 15:39:56 2002
From: kuonen at statoo.com (Dr. Diego Kuonen)
Date: Wed, 20 Mar 2002 15:39:56 +0100
Subject: [R] spatial library
References: <Pine.OSF.4.30.0203201516410.10980-100000@science.unitn.it>
Message-ID: <3C989F3C.7AAE1496@statoo.com>

Lecca Paola wrote:
> 
> I want to download the spatial library but I don't find it at the CRAN
> list package. Where can I find the package ?
 
The package "spatial" is in Venables and Ripley's package VR; see

   http://cran.r-project.org/src/contrib/PACKAGES.html#VR

Greets.

  Diego Kuonen


-- 
Dr. ?s sc. Diego Kuonen        CEO & Applied Statistician 
Statoo Consulting, PO Box 107, 1015 Lausanne, Switzerland
+ Have you ever been Statooed?   http://www.statoo.info +
+ Free Statooed newsletters:    http://lists.statoo.com +
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Wed Mar 20 15:55:09 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Wed, 20 Mar 2002 09:55:09 -0500
Subject: [R] a R question
In-Reply-To: <3C986FED.F4D4E8CF@eez.csic.es>
Message-ID: <3C985C7D.9320.889A16@localhost>

Add the base date to your number and then
use format to format it:

z <- 995752800
time0 <- as.POSIXct("1970-01-01", tz="GMT")
format(z+time0,"%Y-%m,%d,%H,%M,%S")



On 20 Mar 2002 at 12:18, Jes?s Fern?ndez G?lvez wrote:

> Dear Sir,
> 
> I have been working with R  for some time now and I am very happy with
> it, but I have found a problem that I could not resolve. Could you
> please give me some hint about how to transform  POSIX time data in
> seconds to  string  format?. (eg. 995752800 -> year-month,day,hour,min,
> sec) I tryed with Sys.time(), strptime() and date() but without success.
> 
> Thank you very much in advance
> 
> Jesus Fernandez
> Estacion Experimental del  Zaidin
> Granada, Spain
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Mar 20 15:57:22 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 Mar 2002 15:57:22 +0100 (CET)
Subject: [R] spatial library
In-Reply-To: <Pine.OSF.4.30.0203201516410.10980-100000@science.unitn.it>
Message-ID: <Pine.LNX.4.21.0203201548320.10244-100000@reclus.nhh.no>

On Wed, 20 Mar 2002, Lecca Paola wrote:

> I want to download the spatial library but I don't find it at the CRAN
> list package. Where can I find the package ?
> 
>  I have to download it to use the function correlogram.
> 
It is part of the VR bundle, one of the set of recommended
packages. Finding things is helped by using the R site search at:

http://finzi.psych.upenn.edu/search.html

or using "Find in frame" on your browser looking at the Package sources
page.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Mar 20 15:58:17 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 20 Mar 2002 09:58:17 -0500
Subject: [R] R-1.4.1 crashes on Debian Woody
In-Reply-To: <20020319232332.A2680@uol.com.br>
References: <20020319232332.A2680@uol.com.br>
Message-ID: <1016636297.6539.2.camel@keittlab-6>

r-base is R + base package; r-recommended is probably a set of
precompiled add-on packages. Try installing the atlas libs and/or
reinstalling anything blas/atlas related (woody has a fairly complicated
scheme that will automatically use the faster atlas libs if installed).

Tim

On Tue, 2002-03-19 at 21:23, hzi at uol.com.br wrote:
> Hi-
> 
> 	I've upgraded to Debian Woody. I've downloaded and installed the new R-1.4.1.
> 	However, it crashes on me, complaining about libblas.so.2.
> 	BTW, what's the difference between r-base and r-recommended? 
> 	Any ideas?
> 
> 	TIA
> 	Regs
> 		Henry L.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Mar 20 15:57:14 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Wed, 20 Mar 2002 15:57:14 +0100 (CET)
Subject: [R] optim with gradient
In-Reply-To: <Pine.LNX.4.31.0203201358570.28356-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0203201544440.762-100000@tal.stat.umu.se>

On Wed, 20 Mar 2002 ripley at stats.ox.ac.uk wrote:

> On Wed, 20 Mar 2002, [iso-8859-1] G?ran Brostr?m wrote:
> 
> > I want to maximise a function using 'optim' with a method that requires
> > the gradient, so I supply two functions, 'fun' for the function value
> > and 'd.fun' for its gradient. My question is: Since some calculations are
> > common to the two functions, is it possible to save time by feeding
> > 'd.fun' with some of the calculations made in 'fun'? That would require
> > (at least) that it is guaranteed that each time 'd.fun' is evaluated, it
> > is done immediately after a call to 'fun' at the same parameter value.
> > The help page says:
> >
> > "It is guaranteed that `gr' will be called immediately after a
> > call to `fn' at the same parameter values."
> 
> Only if hessian=FALSE, and that phrase is now removed.
> 
> > which is not exactly the same. However, look at this trivial example:
> >
> > prov <- function(x.start = 0){
> >   fun <- function(x) {
> >     e.x <- exp(-x)
> >     x * e.x
> >   }
> >   d.fun <- function(x) {
> >     e.x <- exp(-x)
> >     e.x * (1 - x)
> >   }
> >   optim(x.start, fun, d.fun, method = "BFGS",
> >      control = list(fnscale = -1))
> > }
> >
> > > prov(2)$counts
> > function gradient
> >       19        9
> >
> > This contradicts the help page info, since that implies that the gradient
> > is called at least as many times as the function.
> 
> No, the other way around.  It meant `if gr is called, it will be called
> ...'

I guessed that, which means that it would be possible to do what I want, 
given that...
[...]
> You need to cache the par values and the results you need, and test both.

... I understand what you mean here. How is it done in my 'trivial 
example'?

In my 'real' application, the function and gradient evaluations  takes a 
long time, but to do both in one call takes almost the same time as just 
doing the gradient. So I guess it could be worthwhile to try...
  
G?ran
[...]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Mar 20 16:27:51 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 20 Mar 2002 10:27:51 -0500
Subject: [R] multiroot() anyone?
References: <200203192140.g2JLe6Y18419@t2.mscf.uky.edu>
Message-ID: <3C98AA77.F9AE8A75@bank-banque-canada.ca>

Mai Zhou wrote:
> 
> Dear list, Did anybody have something like multiroot(),
> similar to uniroot() only for several varibles/function?
> 
> I know the difficulty several varibles bring. But for
> nice functions, it can be useful.
> 
> We are thinking of writing one....I thought to ask first.
> 
> Mai Zhou

If you can think of your function as a matrix polynomial then you can
find roots using polyroot() on the determinant of the polynomial matrix.
There are utilities in dse1 in the dse bundle on CRAN to do this. They
are oriented toward time series models but can pretty easily be trick to
work on a polynomial matrix. (I've sometimes considered organizing them
into a separate, more general package, but never had the time.) Please
note that this is not a very good way to do the calculation if there are
many roots, because of numerical conditioning problems in the polynomial
determinant representation. The default method in dse uses a different
calculation which is much more accurate for large problems.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Mar 20 18:06:09 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 20 Mar 2002 17:06:09 +0000
Subject: [R] How calculate Wilks Lamda in a one way repetead measure design?
Message-ID: <3C98C181.6A829349@psy.uni-muenchen.de>

Hi,

how can I comute Wilks Lambda from a repeated measure design with one
factor (5 levels)? I think the trick is to use manova(), but I can't
figure out how. The data is stored in a data frame like:

  vp trial adiff
1 am   ENC  0.16
2 am   ECR  0.14
3 am   UEA  0.09
4 am   UED  0.14
5 am Blank -0.15
6 ba   ENC  0.14
...

where vp are the subjects, trial is a factor (5 levels) and adiff is the
dependent variable.

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Wed Mar 20 17:11:56 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 20 Mar 2002 08:11:56 -0800
Subject: [R] tex/latex output?
Message-ID: <001e01c1d029$f5a06290$01000001@godzilla>

Is it possible to write the output/results (redirect) to a latex file?

Jeff.

Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Wed Mar 20 17:18:44 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Wed, 20 Mar 2002 17:18:44 +0100 (MET)
Subject: [R] thanks for spatial library
Message-ID: <Pine.OSF.4.30.0203201717450.29415-100000@science.unitn.it>

Thanks a lot to everybody for the interest. Now I have solved my
downloading problems.

Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Wed Mar 20 17:20:25 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Wed, 20 Mar 2002 17:20:25 +0100
Subject: [R] spatial library
In-Reply-To: <Pine.OSF.4.30.0203201516410.10980-100000@science.unitn.it>
Message-ID: <3.0.6.32.20020320172025.00915240@mail.anst.uu.se>

Hi,
The spatial library is already in rw1041\library:

library(spatial)
library(help=spatial)

but do check Ribeiro's library geoR at CRAN too. For an introduction, see

http://www.maths.lancs.ac.uk/~ribeiro/geoR/

Cheers,
Tord


At 15:19 2002-03-20 +0100, you wrote:
>Hi everybody,
>
>I want to download the spatial library but I don't find it at the CRAN
>list package. Where can I find the package ?
>
> I have to download it to use the function correlogram.
>
>Thanks in advance,
>Paola.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 20 17:25:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Mar 2002 16:25:54 +0000 (GMT)
Subject: [R] NA in rlm
In-Reply-To: <Pine.GSO.4.10.10203190921240.12246-100000@biosun08>
Message-ID: <Pine.LNX.4.31.0203201616070.12323-100000@gannet.stats>

On Tue, 19 Mar 2002, Rafael A. Irizarry wrote:

> i am using R 1.5 on solaris 2.8 and redhat 7.2 (what i mention
> below happens for all of these and on R-1.4.1 on solaris 2.8)
>
> i am fitting an addtive model (y=roweffect+columneffct+error) to the
> following data using rlm

This is the rlm in package MASS, I presume?

There is no `R 1.5' nor will there ever be.  The version of MASS for R
1.5.0 is not yet released (like R 1.5.0).

>    8.631371  8.219719
>   12.407817 12.373610
>   10.558580 10.284926
>   11.525872 11.504441
>   12.644998 12.583985
>   12.772225 12.629980
>   12.482169 12.271868
>   12.039199 12.061671
>   11.892378 11.688070
>  11.725565 11.655078
>  11.251226 11.383293
>   9.199893  7.860003
>  12.275562 12.240147
>  13.638981 13.381291
>  13.205941 13.060880
>  11.056920 10.707565
>
> if the above matrix is x, when i do the following:
>   m <- dim(x)[1]
>   n <- dim(x)[2]
>   rows<- as.factor(rep(1:m,n))
>   cols <- as.factor(rep(1:n,rep(m,n)))
>
>   z  <-rlm(as.vector(x)~cols+rows,psi=psi.bisquare)
>
> i get an NA in the estimate z$coef[13]
>
> this relates to the 12th row  effect which appears to be an
> outlier. is this how one interprets an NA  here?

Since you overrode the default psi, you gave zero weight to all
observations in row 12.  So you have no usable information about row12.

> one consequence is that i cant get standard errors
> through summary.rlm(z). is there a "work around" this?

The work-around is to use a statistical method that fits your problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Mar 20 17:42:31 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 20 Mar 2002 17:42:31 +0100
Subject: [R] optim with gradient
In-Reply-To: <Pine.LNX.4.44.0203201402290.507-100000@tal.stat.umu.se>
References: <3C987CA2.F199CC5C@atmos.umnw.ethz.ch> <Pine.LNX.4.44.0203201402290.507-100000@tal.stat.umu.se>
Message-ID: <20020320164231.GE10957@giraffa.cbs.dtu.dk>

On Wed, Mar 20, 2002 at 02:31:03PM +0100, G?ran Brostr?m wrote:
> I want to maximise a function using 'optim' with a method that requires 
> the gradient, so I supply two functions, 'fun' for the function value
> and 'd.fun' for its gradient. My question is: Since some calculations are 
> common to the two functions, is it possible to save time by feeding 
> 'd.fun' with some of the calculations made in 'fun'? That would require
> (at least) that it is guaranteed that each time 'd.fun' is evaluated, it 
> is done immediately after a call to 'fun' at the same parameter value.
> The help page says:  
> 
> "It is guaranteed that `gr' will be called immediately after a
> call to `fn' at the same parameter values."
> 
> which is not exactly the same. However, look at this trivial example:
> 
> prov <- function(x.start = 0){
>   fun <- function(x) {
>     e.x <- exp(-x)
>     x * e.x
>   }
>   d.fun <- function(x) {
>     e.x <- exp(-x)
>     e.x * (1 - x)
>   }
>   optim(x.start, fun, d.fun, method = "BFGS", 
>      control = list(fnscale = -1))
> }
> 
> > prov(2)$counts
> function gradient 
>       19        9 
> 
> This contradicts the help page info, since that implies that the gradient 
> is called at least as many times as the function. 
> 
> Q1: What is the correct guarantee? Is it what I need?
> 
> Q2: If so, How do I share calculations between the two functions? In my 
>     trivial example, exp(-x) is calculated in both.
> 
> Thanks for any enlightenment! (Brian?)
> 
> G?ran 
> -- 
>  G?ran Brostr?m                      tel: +46 90 786 5223
>  professor                           fax: +46 90 786 6614
>  Department of Statistics            http://www.stat.umu.se/egna/gb/
>  Ume? University
>  SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Here is a (proposal of) reply for Q2:

Storing and accessing the result of the 'shared calculation' in a given environment could be a workaround.


Hopin' it helps,



Laurent

 

--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imij at columbus.rr.com  Wed Mar 20 17:40:58 2002
From: imij at columbus.rr.com (jimi adams)
Date: Wed, 20 Mar 2002 11:40:58 -0500
Subject: [R] check without loop
Message-ID: <00eb01c1d02e$03e07800$768f1941@columbus.rr.com>

i am probably just missing this one, but how can i check to see if a number
is a part of a vector?

i know i could do a loop checking for equivalence for each element, but i am
thinking that there must be a simpler way to do it than that ( i think that
i have even done it in the past, but can't remember how!)
thanks

what i am working with:
(hope this makes sense)

arclist
  [1]   2   2   6   7   8   9   9  11  11  11  12  13  14  15  16  17  19
21
 [19]  22  23  24  25  25  29  29  30  32  34  35  35  38  39  40  40  41
42
 [37]  43  44  45  46  47  48  49  50  51  52  53  54  57  58  59  60  61
61
 [55]  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61
61
 [73]  61  61  61  61  61  61  61  61  61  61  62  65  67  68  68  69  71
72
 [91]  75  76  77  79  81  82  83  84  84  85  86  87  88  90  91  92  93
94
[109]  95  96  96  96  96 100

# and am sampling from a different list
# if i draw, say 80, i would then not want to proceed, but if i draw a
number on arclist i do



jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent
of the act of thinking
                                            -georg simmel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Mar 20 17:42:54 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 20 Mar 2002 11:42:54 -0500
Subject: [R] tex/latex output?
In-Reply-To: <001e01c1d029$f5a06290$01000001@godzilla>; from jeff_hamann@hamanndonald.com on Wed, Mar 20, 2002 at 08:11:56AM -0800
References: <001e01c1d029$f5a06290$01000001@godzilla>
Message-ID: <20020320114254.A4722@cattell.psych.upenn.edu>

On 03/20/02 08:11, Jeff D. Hamann wrote:
>Is it possible to write the output/results (redirect) to a latex file?

Look up the xtable package in the contributed section of CRAN.

I also find the following function useful for cutting and pasting
the results of t tests:

ttest  <- function (x)
{
tc <- t.test(x)
print(paste("($t_{",tc[[2]],"}=",formatC(tc[[1]],format="f",digits=2),
            "$,
	    $p=",formatC(tc[[3]],format="f"),"$)",sep=""),quote=FALSE)
print(tc$estimate)
}

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From w.huber at dkfz-heidelberg.de  Wed Mar 20 17:47:01 2002
From: w.huber at dkfz-heidelberg.de (Wolfgang Huber)
Date: Wed, 20 Mar 2002 17:47:01 +0100
Subject: [R] optim with gradient
References: <Pine.LNX.4.44.0203201402290.507-100000@tal.stat.umu.se>
Message-ID: <3C98BD05.D1F81F8@dkfz.de>


Hi G?ran,

Q1: first, it seems that the validity of this guarantee depends on the "method" used. Using method="L-BFGS-B", I found that that guarantee seemed to hold for the iterations towards the optimum, but was violated for the final evaluation of the hessian. After submitting a bug report it appears  that the documentation will be updated in version 1.5.

Q2: You can use e.g. a variable local to prov() which is visible both to fun() and d.fun(),   manipulating it with "<<-" in fun(). Given the uncertainty about this guarantee, it seems advisable to also store the fun() parameters in there, and explicitely verify in d.fun() whether the parameters are really the same...

Best regards,
Wolfgang.



Dr. Wolfgang Huber
DKFZ 
Dep. Molecular Genome Analysis 
69120 Heidelberg 
Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathiasd at zedat.fu-berlin.de  Wed Mar 20 17:50:15 2002
From: mathiasd at zedat.fu-berlin.de (Mathias Ditzen)
Date: Wed, 20 Mar 2002 17:50:15 +0100
Subject: [R] Scaling Data
Message-ID: <3C98BDC7.5030207@zedat.fu-berlin.de>

Sorry to bother you with such a question. I'm new to R and have tried to 
figure it out myself for a while, but well.
How can I change the scaling of the axis?
If for example I have:

a<-1:30
plot(a,type="b")

The axis is scaled from 1 to 30.

plot(a,xlim=c(1,3))

Just shows me the first three entries of a, but not all 30 scaled from 1 
to 3 with 0.1 ticks.

I guess there must be an easy way to do this, but can't find it.
Thanks for your help,
Mathias from Berlin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Mar 20 17:56:06 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Wed, 20 Mar 2002 17:56:06 +0100 (CET)
Subject: [R] optim with gradient
In-Reply-To: <3C98BD05.D1F81F8@dkfz.de>
Message-ID: <Pine.LNX.4.44.0203201750560.1451-100000@tal.stat.umu.se>

On Wed, 20 Mar 2002, Wolfgang Huber wrote:

> 
> Hi G?ran,
> 
> Q1: first, it seems that the validity of this guarantee depends on the "method" used. Using method="L-BFGS-B", I found that that guarantee seemed to hold for the iterations towards the optimum, but was violated for the final evaluation of the hessian. After submitting a bug report it appears  that the documentation will be updated in version 1.5.
> 
> Q2: You can use e.g. a variable local to prov() which is visible both to 
> fun() and d.fun(),   manipulating it with "<<-" in fun(). Given the 
> uncertainty about this guarantee, it seems advisable to also store the 
> fun() parameters in there, and explicitely verify in d.fun() whether the 
> parameters are really the same...     

Yes, that should work! I had totally erased "<<-" from my 
R-knowledge-database after all the condemnations of its use I have read
on this very list. Maybe this is an exception...?

Thanks,

G?ran

> 
> Best regards,
> Wolfgang.
> 
> 
> 
> Dr. Wolfgang Huber
> DKFZ 
> Dep. Molecular Genome Analysis 
> 69120 Heidelberg 
> Germany
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Mar 20 18:24:06 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 20 Mar 2002 09:24:06 -0800 (PST)
Subject: [R] check without loop
In-Reply-To: <00eb01c1d02e$03e07800$768f1941@columbus.rr.com>
Message-ID: <20020320172406.66501.qmail@web13903.mail.yahoo.com>



You are probably looking for %in% 
(e.g., 80 %in% arclist should be FALSE,
81 %in% arclist should be TRUE).


--- jimi adams <imij at columbus.rr.com> wrote:
> i am probably just missing this one, but how can i check to see if a number
> is a part of a vector?
> 
> i know i could do a loop checking for equivalence for each element, but i am
> thinking that there must be a simpler way to do it than that ( i think that
> i have even done it in the past, but can't remember how!)
> thanks
> 
> what i am working with:
> (hope this makes sense)
> 
> arclist
>   [1]   2   2   6   7   8   9   9  11  11  11  12  13  14  15  16  17  19
> 21
>  [19]  22  23  24  25  25  29  29  30  32  34  35  35  38  39  40  40  41
> 42
>  [37]  43  44  45  46  47  48  49  50  51  52  53  54  57  58  59  60  61
> 61
>  [55]  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61
> 61
>  [73]  61  61  61  61  61  61  61  61  61  61  62  65  67  68  68  69  71
> 72
>  [91]  75  76  77  79  81  82  83  84  84  85  86  87  88  90  91  92  93
> 94
> [109]  95  96  96  96  96 100
> 
> # and am sampling from a different list
> # if i draw, say 80, i would then not want to proceed, but if i draw a
> number on arclist i do
> 
> 
> 
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent
> of the act of thinking
>                                             -georg simmel
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 20 19:08:25 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 21 Mar 2002 06:08:25 +1200
Subject: [R] tex/latex output?
In-Reply-To: <001e01c1d029$f5a06290$01000001@godzilla>; from jeff_hamann@hamanndonald.com on Wed, Mar 20, 2002 at 08:11:56AM -0800
References: <001e01c1d029$f5a06290$01000001@godzilla>
Message-ID: <20020321060825.A29594@camille.indigoindustrial.co.nz>

On Wed, Mar 20, 2002 at 08:11:56AM -0800, Jeff D. Hamann wrote:
> Is it possible to write the output/results (redirect) to a latex file?

Get the xtable package.  LaTeX and HTML output.  Very snazzy.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 20 19:29:30 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 21 Mar 2002 06:29:30 +1200
Subject: [R] Scaling Data
In-Reply-To: <3C98BDC7.5030207@zedat.fu-berlin.de>; from mathiasd@zedat.fu-berlin.de on Wed, Mar 20, 2002 at 05:50:15PM +0100
References: <3C98BDC7.5030207@zedat.fu-berlin.de>
Message-ID: <20020321062930.A29667@camille.indigoindustrial.co.nz>

On Wed, Mar 20, 2002 at 05:50:15PM +0100, Mathias Ditzen wrote:
> a<-1:30
> plot(a,type="b")
> 
> The axis is scaled from 1 to 30.
> 
> plot(a,xlim=c(1,3))
> 
> Just shows me the first three entries of a, but not all 30 scaled from 1 
> to 3 with 0.1 ticks.

There are at least a couple of ways:

1) explicitly state what x-values you want:
plot(a ~ seq(1,3,length=30))

2) draw a custom axis.  Check out help(axis).
plot(a,xaxt="n")
axis(1,at=seq(1,30,length=5),labels=seq(1,3,length=5))

<opinion> 1 is easier, 2 is more flexible </opinion>

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 20 19:40:32 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 21 Mar 2002 06:40:32 +1200
Subject: [R] check without loop
In-Reply-To: <00eb01c1d02e$03e07800$768f1941@columbus.rr.com>; from imij@columbus.rr.com on Wed, Mar 20, 2002 at 11:40:58AM -0500
References: <00eb01c1d02e$03e07800$768f1941@columbus.rr.com>
Message-ID: <20020321064032.A29703@camille.indigoindustrial.co.nz>

On Wed, Mar 20, 2002 at 11:40:58AM -0500, jimi adams wrote:
> i am probably just missing this one, but how can i check to see if a number
> is a part of a vector?
...
> # if i draw, say 80, i would then not want to proceed, but if i draw a
> number on arclist i do

if( !(80 %in% arclist)) {...}

Getting a bit trickier, if you need to know which element it is, 
check out "which()".  e.g.  if you would only proceed if 79 was 
one of the first 20 elements

if(any(which(arclist == 79) <=20)) {...}

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Wed Mar 20 19:45:33 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Wed, 20 Mar 2002 13:45:33 -0500
Subject: [R] check without loop
Message-ID: <BA5106B991DBAE49AEB14CB58EDFA7AA048A15@atlexm04>


I think the which() function would be helpful.  For example if x is a vector
and c some value then

> which( x == c )

will return a vector of those indices i of x for which x[i] = c.  Then you
can test whether that vector
has length 0.

> -----Original Message-----
> From:	jimi adams [SMTP:imij at columbus.rr.com]
> Sent:	Wednesday, March 20, 2002 11:41 AM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] check without loop
> 
> i am probably just missing this one, but how can i check to see if a
> number
> is a part of a vector?
> 
> i know i could do a loop checking for equivalence for each element, but i
> am
> thinking that there must be a simpler way to do it than that ( i think
> that
> i have even done it in the past, but can't remember how!)
> thanks
> 
> what i am working with:
> (hope this makes sense)
> 
> arclist
>   [1]   2   2   6   7   8   9   9  11  11  11  12  13  14  15  16  17  19
> 21
>  [19]  22  23  24  25  25  29  29  30  32  34  35  35  38  39  40  40  41
> 42
>  [37]  43  44  45  46  47  48  49  50  51  52  53  54  57  58  59  60  61
> 61
>  [55]  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61
> 61
>  [73]  61  61  61  61  61  61  61  61  61  61  62  65  67  68  68  69  71
> 72
>  [91]  75  76  77  79  81  82  83  84  84  85  86  87  88  90  91  92  93
> 94
> [109]  95  96  96  96  96 100
> 
> # and am sampling from a different list
> # if i draw, say 80, i would then not want to proceed, but if i draw a
> number on arclist i do
> 
> 
> 
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being
> independent
> of the act of thinking
>                                             -georg simmel
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Mar 20 20:13:36 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 20 Mar 2002 13:13:36 -0600
Subject: [R] [OT] Open source statistical analysis in the news
Message-ID: <6rofhjjbmn.fsf@franz.stat.wisc.edu>

A student pointed out to me the article
       http://www.wired.com/news/politics/0,1283,51106,00.html
describing recent testimony by Patrick Ball, the deputy director of
the science and human rights program at the American Association for
the Advancement of Science, at the war crimes trial of Slobodan
Milosevic, the former Yugoslav president.

Mr. Ball testified on a statistical analysis of the patterns of
Albanian deaths and displacement in Kosovo that casts doubt upon
Mr. Milosevic's claim that it was NATO bombing and not Serbian forces
that caused the deaths and displacement.  

Mr. Ball makes the point that it is important that he used Open Source
software for this analysis.  The article states

 Ball added it was important to note that human rights work "is best
 served by free software, so that any group who wanted to reproduce my
 work could do so without a huge investment. I did the data processing
 using Python, we used MySQL, and all the data coding teams used Linux
 and Apache.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imij at columbus.rr.com  Wed Mar 20 20:39:13 2002
From: imij at columbus.rr.com (jimi adams)
Date: Wed, 20 Mar 2002 14:39:13 -0500
Subject: [R] how does while work
Message-ID: <016f01c1d046$e9fdd860$768f1941@columbus.rr.com>

i am having some problems with a program that i am writing and i think that
knowing how the while command works will help me to figure out where i am
going wrong
*when do you get kicked out of a while loop?*
(i.e., in the following example  what would the final value of 'a' be?) i
thought it would be 99 but running it in R i get 101 (and 101 for x too!)

while (x <100) {
  for (i in 1:101) {
    i -> x
    x -> a
  }
}

while this is a crude example, it is the basic form of what i am trying to
do, and i am guessing that while is not what i am looking for...

jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent
of the act of thinking
                                            -georg simmel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Mar 20 20:52:54 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 20 Mar 2002 14:52:54 -0500
Subject: [R] Scaling Data
In-Reply-To: <3C98BDC7.5030207@zedat.fu-berlin.de>
References: <3C98BDC7.5030207@zedat.fu-berlin.de>
Message-ID: <1016653974.9341.40.camel@keittlab-6>

Try

	plot(seq(1, 3, length=length(a)), a)

T.

On Wed, 2002-03-20 at 11:50, Mathias Ditzen wrote:
> Sorry to bother you with such a question. I'm new to R and have tried to 
> figure it out myself for a while, but well.
> How can I change the scaling of the axis?
> If for example I have:
> 
> a<-1:30
> plot(a,type="b")
> 
> The axis is scaled from 1 to 30.
> 
> plot(a,xlim=c(1,3))
> 
> Just shows me the first three entries of a, but not all 30 scaled from 1 
> to 3 with 0.1 ticks.
> 
> I guess there must be an easy way to do this, but can't find it.
> Thanks for your help,
> Mathias from Berlin
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Mar 20 21:09:57 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 20 Mar 2002 15:09:57 -0500
Subject: [R] how does while work
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC130@usrymx10.merck.com>

The for loop is nested inside the while loop, so it is finished before the
next iteration of the while loop is attempted.  So, in short, the for loop
ran 101 times, ending with i, x, and a all equal to 101.  Then the condition
of the while loop is checked, (and not satisfied).

Andy

> -----Original Message-----
> From: jimi adams [mailto:imij at columbus.rr.com]
> Sent: Wednesday, March 20, 2002 2:39 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] how does while work
> 
> 
> i am having some problems with a program that i am writing 
> and i think that
> knowing how the while command works will help me to figure 
> out where i am
> going wrong
> *when do you get kicked out of a while loop?*
> (i.e., in the following example  what would the final value 
> of 'a' be?) i
> thought it would be 99 but running it in R i get 101 (and 101 
> for x too!)
> 
> while (x <100) {
>   for (i in 1:101) {
>     i -> x
>     x -> a
>   }
> }
> 
> while this is a crude example, it is the basic form of what i 
> am trying to
> do, and i am guessing that while is not what i am looking for...
> 
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as 
> being independent
> of the act of thinking
>                                             -georg simmel
> 

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Wed Mar 20 21:10:38 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee.Law@celeradiagnostics.com)
Date: Wed, 20 Mar 2002 12:10:38 -0800
Subject: [R] Wilcoxon Rank Sum Test
Message-ID: <OF5C564BB1.341BD591-ON88256B82.006EB583@pe-c.com>

How does R compute the p-value in the Wilcoxon Rank Sum Test?
If I have the test statistics, can I get the p-value using the function
pwilcox?
Thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imij at columbus.rr.com  Wed Mar 20 21:32:41 2002
From: imij at columbus.rr.com (jimi adams)
Date: Wed, 20 Mar 2002 15:32:41 -0500
Subject: [R] check without loop
References: <BA5106B991DBAE49AEB14CB58EDFA7AA048A15@atlexm04>
Message-ID: <01ce01c1d04e$6221e6e0$768f1941@columbus.rr.com>

thanks to all,
%in%
was what i was looking for

----- Original Message -----
From: "Scott, Uriel" <uriel.scott at mirant.com>
To: "'jimi adams'" <imij at columbus.rr.com>; <r-help at stat.math.ethz.ch>
Sent: Wednesday, March 20, 2002 1:45 PM
Subject: RE: [R] check without loop


>
> I think the which() function would be helpful.  For example if x is a
vector
> and c some value then
>
> > which( x == c )
>
> will return a vector of those indices i of x for which x[i] = c.  Then you
> can test whether that vector
> has length 0.
>
> > -----Original Message-----
> > From: jimi adams [SMTP:imij at columbus.rr.com]
> > Sent: Wednesday, March 20, 2002 11:41 AM
> > To: r-help at stat.math.ethz.ch
> > Subject: [R] check without loop
> >
> > i am probably just missing this one, but how can i check to see if a
> > number
> > is a part of a vector?
> >
> > i know i could do a loop checking for equivalence for each element, but
i
> > am
> > thinking that there must be a simpler way to do it than that ( i think
> > that
> > i have even done it in the past, but can't remember how!)
> > thanks
> >
> > what i am working with:
> > (hope this makes sense)
> >
> > arclist
> >   [1]   2   2   6   7   8   9   9  11  11  11  12  13  14  15  16  17
19
> > 21
> >  [19]  22  23  24  25  25  29  29  30  32  34  35  35  38  39  40  40
41
> > 42
> >  [37]  43  44  45  46  47  48  49  50  51  52  53  54  57  58  59  60
61
> > 61
> >  [55]  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61  61
61
> > 61
> >  [73]  61  61  61  61  61  61  61  61  61  61  62  65  67  68  68  69
71
> > 72
> >  [91]  75  76  77  79  81  82  83  84  84  85  86  87  88  90  91  92
93
> > 94
> > [109]  95  96  96  96  96 100
> >
> > # and am sampling from a different list
> > # if i draw, say 80, i would then not want to proceed, but if i draw a
> > number on arclist i do
> >
> >
> >
> > jimi adams
> > Department of Sociology
> > The Ohio State University
> > 300 Bricker Hall
> > 190 N Oval Mall
> > Columbus, OH 43210-1353
> > 614-688-4261
> >
> > our mind has a remarkable ability to think of contents as being
> > independent
> > of the act of thinking
> >                                             -georg simmel
> >
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Mar 20 22:10:52 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Wed, 20 Mar 2002 15:10:52 -0600 (CST)
Subject: [R] how does while work
In-Reply-To: <016f01c1d046$e9fdd860$768f1941@columbus.rr.com>
	(imij@columbus.rr.com)
References: <016f01c1d046$e9fdd860$768f1941@columbus.rr.com>
Message-ID: <200203202110.PAA28507@definetti.uark.edu>


assuming you enter the while loop with a value of x less than 100, 
the for loop sets, in its last iteration, a=x=101 (which is the last
value `i' takes). at this point you also exit the while loop, since
x<100 is false.

Giovanni

> From: "jimi adams" <imij at columbus.rr.com>
> Date: Wed, 20 Mar 2002 14:39:13 -0500
> X-Priority: 3
> X-MSMail-Priority: Normal
> X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain;
> 	charset="iso-8859-1"
> Content-Length: 1205
> 
> i am having some problems with a program that i am writing and i think that
> knowing how the while command works will help me to figure out where i am
> going wrong
> *when do you get kicked out of a while loop?*
> (i.e., in the following example  what would the final value of 'a' be?) i
> thought it would be 99 but running it in R i get 101 (and 101 for x too!)
> 
> while (x <100) {
>   for (i in 1:101) {
>     i -> x
>     x -> a
>   }
> }
> 
> while this is a crude example, it is the basic form of what i am trying to
> do, and i am guessing that while is not what i am looking for...
> 
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent
> of the act of thinking
>                                             -georg simmel
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 20 22:33:27 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Mar 2002 22:33:27 +0100
Subject: [R] Wilcoxon Rank Sum Test
In-Reply-To: <OF5C564BB1.341BD591-ON88256B82.006EB583@pe-c.com>
References: <OF5C564BB1.341BD591-ON88256B82.006EB583@pe-c.com>
Message-ID: <x2elie3owo.fsf@blueberry.kubism.ku.dk>

Ngayee.Law at celeradiagnostics.com writes:

> How does R compute the p-value in the Wilcoxon Rank Sum Test?
> If I have the test statistics, can I get the p-value using the function
> pwilcox?
> Thanks

Yes, but only if there are no ties in the data.

You can just print wilcox.test.default and see the following code:

        if (exact && !TIES) {
            PVAL <- switch(alternative, two.sided = {
                p <- if (STATISTIC > (n.x * n.y/2)) 
                  pwilcox(STATISTIC - 1, n.x, n.y, lower = FALSE)
                else pwilcox(STATISTIC, n.x, n.y)
                min(2 * p, 1)
            }, greater = {
                pwilcox(STATISTIC - 1, n.x, n.y, lower = FALSE)
            }, less = pwilcox(STATISTIC, n.x, n.y))

            ....
        }
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Mar 21 01:33:55 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 21 Mar 2002 12:33:55 +1200
Subject: [R] what line is labeled in persp?
References: <012201c1cf33$5c715ee0$557c6686@tating>
Message-ID: <014d01c1d070$15b71880$7632d882@stat.auckland.ac.nz>

Hi


> another question concerning a persp()-plot:
>
> What does it depend on which line is labeled as an axis? Some plots I've
> done look fine, but in one plot, a different line is labeled. I can't find
> out why, as I just copied the code.
>
> Two small *.ps-grafics can be downloaded on
>
> http://www.math.uni-bremen.de/~nina/grafic.html
>
> to illustrate my problem.


The internal code attempts to label the "front-most" lines (as in your "good
grafic" example).  Clearly it is failing in your "bad grafic" example.
Would you be able to supply me with the raw R code used to produce the "bad
grafic" example so that I can try and track down why it is going wrong?
Thanks

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fugate at kanab.c3.lanl.gov  Thu Mar 21 02:06:24 2002
From: fugate at kanab.c3.lanl.gov (Michael Lynn Fugate)
Date: Wed, 20 Mar 2002 18:06:24 -0700 (MST)
Subject: [R] tree
Message-ID: <Pine.LNX.4.33.0203201745380.7248-100000@kanab.c3.lanl.gov>

Hi,

I have a dataframe, y, with  1000 rows and 266 columns.  The first column
of y is a 2 level factor response; columns 2:266 are each ordinal
variables that can take on one of the values 1, 2, or 3.

I'm trying to fit a model with the calls:
(A) y.tree <- tree(pref~.,data=y,mindev=0,minsize=2)

and

(B) y.tree <- tree(pref~.,data=y,split='gini')

pref is the name of the factor response variable.

In (A) I can fit a model using only about 600 rows of y before getting the
error message below and in (B) I can only use about 100 rows of y before I
get the error message.  In both (A) and (B) I'm trying to use all 265
variables.

The error message is:
Error in "row.names<-.data.frame"(*tmp*, value = fit$node[1:n]) :
	duplicate row.names are not allowed

If instead of using tree() I use rpart() with the call

(C) y.part <- rpart(pref~.,data=y,method="class",parms=list(split="gini"))

the model can be fit using all the data in y, and no error messages.

Thanks in advance.

m

******************************************************************
| Michael Fugate                         Phone:  (505) 667-0398  |
| Los Alamos National Laboratory         Fax:    (505) 665-5220  |
| Group: CCS-3,  Mail Stop: B265         e-mail: fugate at lanl.gov |
| Los Alamos, NM 87545                                           |
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Thu Mar 21 04:30:02 2002
From: mabramso at gmu.edu (Myriam Abramson)
Date: 20 Mar 2002 22:30:02 -0500
Subject: [R] plot question
Message-ID: <m38z8mlhs5.fsf@home.sweet.home>


Hi!

I want to display 2 graphs with different number of data points on the
x-axis. The code below scales them so it seems that testtwo has the
same number of data points as testone. How can I fix that? thanks. 


z<-1:50;
x<-1:100;
plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,axes=FALSE,ylim=c(-1.0,1.0),cex=1);
par(new=TRUE);
plot(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,ylim=c(-1.0,1.0),cex=1);
xlabels<-x*10;
axis(1,1:100,xlabels);
axis(2);
box();
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Thu Mar 21 05:19:12 2002
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Thu, 21 Mar 2002 15:19:12 +1100
Subject: [R] RGui error on Windows 2000
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A802C@anaconda>

The following might be of benefit to those who find themselves in a similar
predicament with an apparently corrupted R in Windows 2000. 

The problem was traced back to a corrupted register in my user profile in
Windows 2000 apparently caused by a DLL in Visual Basic installation not
self registering correctly.

The fix was to copy a new uncorrupted register from the default user. Though
some of my desktop settings were altered, all problems were fixed with no
discernable impact on R or .Rdata files. Interestingly, the problem did not
recur when the offending VB exectable was installed again and both R and the
other program now happily coexist. In short, I don't know what caused the
problem nor what a general solution might be.

***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Thu Mar 21 08:48:15 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 21 Mar 2002 08:48:15 +0100
Subject: [R] plot question
References: <m38z8mlhs5.fsf@home.sweet.home>
Message-ID: <3C99903F.3D4E8382@statistik.uni-dortmund.de>



Myriam Abramson wrote:
> 
> Hi!
> 
> I want to display 2 graphs with different number of data points on the
> x-axis. The code below scales them so it seems that testtwo has the
> same number of data points as testone. How can I fix that? thanks.
> 
> z<-1:50;
> x<-1:100;
> plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> par(new=TRUE);
> plot(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> xlabels<-x*10;
> axis(1,1:100,xlabels);
> axis(2);
> box();
> --

You can additionally set xlim, but the better way is to add "testtwo"
with lines() or points():

 z <- 1:50
 x <- 1:100

plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,xaxt="n",ylim=c(-1.0,1.0),cex=1)
 lines(z, testtwo, lty=1, col="red", cex=1)
 xlabels <- x*10
 axis(1,1:100,xlabels)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Thu Mar 21 09:53:02 2002
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 21 Mar 2002 20:53:02 +1200 (NZST)
Subject: [R] Underdispersion with anova testing methods
Message-ID: <200203210853.g2L8r2B29956@biomat1.marc.hort.cri.nz>

Using anova of a glm with test = "Chisq", I get this:

Analysis of Deviance Table

Model: poisson, link: log

Response: Days

Terms added sequentially (first to last)


                Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                              373     370.56          
Block            3    71.05       370     299.51 2.543e-15
Variety          1    94.04       369     205.47 3.096e-22
Instar           3   126.21       366      79.26 3.553e-27
Variety:Instar   3     7.74       363      71.53      0.05


Other interactions were much less prominent.  I'm only interested in
the effect of Variety, and one would expect an effect of Instar, so I
want to be able to block on Instar and Block.

Evidently, the Chisquare test does not use an estimate of the
dispersion parameter.  Were it included, the interaction would have a
much smaller probability.  Is there a good reason why one should or
should not makes such an adjustment?  In any case, will it matter when
I'm interested only in the effect of Variety?


Alternatively, could the underdispersion come from my ignoring the
fact that the insects are measured at the four different instars and
so the independence assumption is not true.  I could not think of a way
of taking that lack of independence into account.

Suggestions welcome.

Thanks


-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Thu Mar 21 09:13:33 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Thu, 21 Mar 2002 09:13:33 +0100
Subject: [R] optim with gradient
References: <200203210301.EAA29732@stat.math.ethz.ch>
Message-ID: <3C99962D.921819F4@lmttrading.com>

> Date: Wed, 20 Mar 2002 14:31:03 +0100 (CET)
> From: =?iso-8859-1?Q?G=F6ran_Brostr=F6m?= <gb at stat.umu.se>
> Subject: [R] optim with gradient
>
> I want to maximise a function using 'optim' with a method that requires
> the gradient, so I supply two functions, 'fun' for the function value
> and 'd.fun' for its gradient. My question is: Since some calculations are
> common to the two functions, is it possible to save time by feeding
> 'd.fun' with some of the calculations made in 'fun'? That would require
> (at least) that it is guaranteed that each time 'd.fun' is evaluated, it
> is done immediately after a call to 'fun' at the same parameter value.
> The help page says:
>
> "It is guaranteed that `gr' will be called immediately after a
> call to `fn' at the same parameter values."
>
> which is not exactly the same. However, look at this trivial example:
>
> prov <- function(x.start = 0){
>   fun <- function(x) {
>     e.x <- exp(-x)
>     x * e.x
>   }
>   d.fun <- function(x) {
>     e.x <- exp(-x)
>     e.x * (1 - x)
>   }
>   optim(x.start, fun, d.fun, method = "BFGS",
>      control = list(fnscale = -1))
> }
>
> > prov(2)$counts
> function gradient
>       19        9
>
> This contradicts the help page info, since that implies that the gradient
> is called at least as many times as the function.
>
> Q1: What is the correct guarantee? Is it what I need?
>
> Q2: If so, How do I share calculations between the two functions? In my
>     trivial example, exp(-x) is calculated in both.
>
> Thanks for any enlightenment! (Brian?)
>
> G?ran
> - --
>  G?ran Brostr?m                      tel: +46 90 786 5223
>  professor                           fax: +46 90 786 6614
>  Department of Statistics           http://www.stat.umu.se/egna/gb/
>  Ume? University
>  SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
>

If the only goal is to improve speed, then you should consider to do the full optimization within C/Fortran, i.e., to implement the errfunc and the gradient in C and to call optim through the API (a new feature of the upcoming version 1.5.0 as Brian told me). This may increase speed - I just make a rough guess now - by a factor 100.

best
Adrian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 21 09:18:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 21 Mar 2002 08:18:52 +0000 (GMT)
Subject: [R] Underdispersion with anova testing methods
In-Reply-To: <200203210853.g2L8r2B29956@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.31.0203210811210.4903-100000@gannet.stats>

On Thu, 21 Mar 2002, Patrick Connolly wrote:

> Using anova of a glm with test = "Chisq", I get this:
>
> Analysis of Deviance Table
>
> Model: poisson, link: log
>
> Response: Days
>
> Terms added sequentially (first to last)
>
>
>                 Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                              373     370.56
> Block            3    71.05       370     299.51 2.543e-15
> Variety          1    94.04       369     205.47 3.096e-22
> Instar           3   126.21       366      79.26 3.553e-27
> Variety:Instar   3     7.74       363      71.53      0.05
>
>
> Other interactions were much less prominent.  I'm only interested in
> the effect of Variety, and one would expect an effect of Instar, so I
> want to be able to block on Instar and Block.
>
> Evidently, the Chisquare test does not use an estimate of the
> dispersion parameter.  Were it included, the interaction would have a
> much smaller probability.  Is there a good reason why one should or
> should not makes such an adjustment?  In any case, will it matter when
> I'm interested only in the effect of Variety?

1) A poisson family does not, a quasipoisson family does. It's your
choice, but a Poisson distribution does not have a dispersion
parameter so you would be fitting a quasi-model.

2) It's not valid to look at terms in a sequential anova table like this,
as they all interact (and especially at main effects with an interaction
present).  Use drop1().

> Alternatively, could the underdispersion come from my ignoring the
> fact that the insects are measured at the four different instars and
> so the independence assumption is not true.  I could not think of a way
> of taking that lack of independence into account.

Are these small counts?  If so, the residual deviance is a badly biased
estimate of the dispersion parameter, so there might not be
under-dispersion at all.  See the V&R on-line Statistical Complements
for examples.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Thu Mar 21 09:21:45 2002
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 21 Mar 2002 16:21:45 +0800 (GMT-8)
Subject: [R] Scoping rules in R
In-Reply-To: <200203210747.IAA17526@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.21.0203211615570.29290-100000@sf3.comp.nus.edu.sg>

Hi,
The following is a small test function that is part of a larger piece of
code. If I understand things correctly both z and st.obj$call need to be
looked for in .GlobalEnv . How do I write this so it works? And which part
of the documentation should I be reading to get a more in depth
explanation?

Thanks
Nicholas


tst<- function(st.obj,z){
G<-unique(st.obj$mem[,st.obj$depth])
Gr<-st.obj$mem[,st.obj$depth]

cphlst<-list()

for(i in G){
  assign("form",deparse(substitute(st.obj$cph.call)),env=.GlobalEnv)
  dat<-z[Gr==i,]
  call<-paste("coxph(",form ,",data= ",dat,")")
  cphlst[[j]]<-eval(parse(text=call), sys.parent())
  }
cphlst
}

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin at iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho at comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beat.huggler at rmf.ch  Thu Mar 21 09:31:31 2002
From: beat.huggler at rmf.ch (Beat Huggler)
Date: Thu, 21 Mar 2002 09:31:31 +0100
Subject: [R] RODBC
Message-ID: <3635AAE6EA743844B05655F805CB31259F7E79@titlis.rmf.ch>

Hi guys


I'm working with with R1.4.1 on windows

I'm trying to import data from the ODBC (Access database) with the
library RODBC. Every thing works perfect except that the dates are
factors.


> library(RODBC)
> xx  <- odbcConnect("grave_liv")
> dat <- sqlQuery(xx,"SELECT All_MONTHLY.ID, All_MONTHLY.Date,
All_MONTHLY.RoR FROM (Reasons INNER JOIN FundDet_Grave ON Reasons.Nane =
FundDet_Grave.NAME) INNER JOIN All_MONTHLY ON FundDet_Grave.REFERENCE =
All_MONTHLY.ID WHERE (((Reasons.reason)='l')) ORDER BY All_MONTHLY.ID,
All_MONTHLY.Date DESC;")
> 
> 


Know I would like to ask if anybody has an idea to change id either to a
numerical value or to a date? I've tried several things with the date
function in the library survival but nothing worked.

Thank you

Beat

---
Beat Huggler
Quantitative Analysis
RMF Investment Products
Huobstrasse 16
8808 Pfaeffikon SZ
Switzerland
www.rmf.ch
Tel. +41 55 415 87 30
Fax +41 55 415 87 07

This message and any attachment are confidential and may be privileged
or otherwise protected from disclosure.  If you are not the intended
recipient, please telephone or email the sender and delete this message
and any attachment from your system.  If you are not the intended
recipient you must not copy this message or attachment or disclose the
contents to any other person.

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Thu Mar 21 09:33:36 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Thu, 21 Mar 2002 09:33:36 +0100
Subject: [R] plot question
References: <m38z8mlhs5.fsf@home.sweet.home>
Message-ID: <3C999AE0.7240697@atmos.umnw.ethz.ch>

Hello Myriam,

use lines for the second plot
...
plot(x,testone,.....)
lines(z,testtwo,lty=4,col='red')
xlabel.....
....

or add NA's two testtwo and make a matrix out oft testone and testtwo
and use matplot
d <- cbind(testone,c(testtwo,rep(NA,length(testone)-length(testtwo))))
matplot(d,typ='l')

gruess

joerg

Myriam Abramson wrote:
> 
> Hi!
> 
> I want to display 2 graphs with different number of data points on the
> x-axis. The code below scales them so it seems that testtwo has the
> same number of data points as testone. How can I fix that? thanks.
> 
> z<-1:50;
> x<-1:100;
> plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> par(new=TRUE);
> plot(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> xlabels<-x*10;
> axis(1,1:100,xlabels);
> axis(2);
> box();
> --
>                                    myriam
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 21 09:35:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 21 Mar 2002 08:35:32 +0000 (GMT)
Subject: [R] Scoping rules in R
In-Reply-To: <Pine.GSO.4.21.0203211615570.29290-100000@sf3.comp.nus.edu.sg>
Message-ID: <Pine.LNX.4.31.0203210830470.4903-100000@gannet.stats>

Could you tell us what you are trying to achieve here?  It looks to me as
if update() would do this sort of thing much more transparently.  Since
tst()  could be called from inside a function, you don't want to flout the
normal scope rules without a very good reason.

On Thu, 21 Mar 2002, Nicholas Lewin-Koh wrote:

> Hi,
> The following is a small test function that is part of a larger piece of
> code. If I understand things correctly both z and st.obj$call need to be
> looked for in .GlobalEnv . How do I write this so it works? And which part
> of the documentation should I be reading to get a more in depth
> explanation?
>
> Thanks
> Nicholas
>
>
> tst<- function(st.obj,z){
> G<-unique(st.obj$mem[,st.obj$depth])
> Gr<-st.obj$mem[,st.obj$depth]
>
> cphlst<-list()
>
> for(i in G){
>   assign("form",deparse(substitute(st.obj$cph.call)),env=.GlobalEnv)
>   dat<-z[Gr==i,]
>   call<-paste("coxph(",form ,",data= ",dat,")")
>   cphlst[[j]]<-eval(parse(text=call), sys.parent())
>   }
> cphlst
> }
>
>                  CH3
>                   |
>                   N             Nicholas Lewin-Koh
>                  / \            Dept of Statistics
>            N----C   C==O        Program in Ecology and Evolutionary Biology
>           ||   ||   |           Iowa State University
>           ||   ||   |           Ames, IA 50011
>           CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
>             \  / \ /            nlewin at iastate.edu
>              N    C
>              |   ||             Currently
>             CH3   O             Graphics Lab
>                                 School of Computing
>                                 National University of Singapore
>      The Real Part of Coffee    kohnicho at comp.nus.edu.sg
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Thu Mar 21 09:44:11 2002
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 21 Mar 2002 16:44:11 +0800 (GMT-8)
Subject: [R] Scoping rules in R
In-Reply-To: <Pine.LNX.4.31.0203210830470.4903-100000@gannet.stats>
Message-ID: <Pine.GSO.4.21.0203211637310.29290-100000@sf3.comp.nus.edu.sg>

Hi,
Thanks for the quick reply, 

In the function st.obj is a survival tree object (my own, not rpart). z is
the original data. The first part just gets a vector of node assignments
from the st.obj. The second part where the trouble is, is looping through
the terminal nodes fitting a coxmodel for each node on the data subset,
the correct formula for the node is retrieved from st.obj, and that and
subsetting z seem to be where the scoping problem is.

I hope this is clearer.

Thanks
Nicholas

On Thu, 21 Mar 2002 ripley at stats.ox.ac.uk wrote:

> Could you tell us what you are trying to achieve here?  It looks to me as
> if update() would do this sort of thing much more transparently.  Since
> tst()  could be called from inside a function, you don't want to flout the
> normal scope rules without a very good reason.
> 
> On Thu, 21 Mar 2002, Nicholas Lewin-Koh wrote:
> 
> > Hi,
> > The following is a small test function that is part of a larger piece of
> > code. If I understand things correctly both z and st.obj$call need to be
> > looked for in .GlobalEnv . How do I write this so it works? And which part
> > of the documentation should I be reading to get a more in depth
> > explanation?
> >
> > Thanks
> > Nicholas
> >
> >
> > tst<- function(st.obj,z){
> > G<-unique(st.obj$mem[,st.obj$depth])
> > Gr<-st.obj$mem[,st.obj$depth]
> >
> > cphlst<-list()
> >
> > for(i in G){
> >   assign("form",deparse(substitute(st.obj$cph.call)),env=.GlobalEnv)
> >   dat<-z[Gr==i,]
> >   call<-paste("coxph(",form ,",data= ",dat,")")
> >   cphlst[[j]]<-eval(parse(text=call), sys.parent())
> >   }
> > cphlst
> > }
> >
> >                  CH3
> >                   |
> >                   N             Nicholas Lewin-Koh
> >                  / \            Dept of Statistics
> >            N----C   C==O        Program in Ecology and Evolutionary Biology
> >           ||   ||   |           Iowa State University
> >           ||   ||   |           Ames, IA 50011
> >           CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
> >             \  / \ /            nlewin at iastate.edu
> >              N    C
> >              |   ||             Currently
> >             CH3   O             Graphics Lab
> >                                 School of Computing
> >                                 National University of Singapore
> >      The Real Part of Coffee    kohnicho at comp.nus.edu.sg
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin at iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho at comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Mar 21 11:09:19 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 21 Mar 2002 11:09:19 +0100 (CET)
Subject: [R] optim with gradient
In-Reply-To: <3C99962D.921819F4@lmttrading.com>
Message-ID: <Pine.LNX.4.44.0203211100510.4121-100000@tal.stat.umu.se>

On Thu, 21 Mar 2002, Adrian Trapletti wrote:

[...]
> If the only goal is to improve speed, then you should consider to do 
> the full optimization within C/Fortran, i.e., to implement the errfunc 
> and the gradient in C and to call optim through the API (a new feature 
> of the upcoming version 1.5.0 as Brian told me). This may increase speed 
> - I just make a rough guess now - by a factor 100. 

I can hardly wait! I already make the heavy calculations in Fortran, so it 
should be easy to implement. Is the feature in R-devel now?
And documented?  

Thanks,

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juhana.vartiainen at labour.fi  Thu Mar 21 11:19:37 2002
From: juhana.vartiainen at labour.fi (Juhana Vartiainen)
Date: Thu, 21 Mar 2002 12:19:37 +0200
Subject: [R] repeating rows or columns within a matrix
Message-ID: <3C99B3B9.29D2FD61@labour.fi>

Hello

Spse I have a matrix, say

1 2 3
4 5 6
7 8 9

and I would like to expand it by repeating rows within the matrix, to
get, if the repeating factor is 2, say:

123
123
456
456
789
789

(or columnwise as well) . There must be a smart way of doing that?

Many thanks

Juhana Vartiainen
juhana.vartiainen at labour.fi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Mar 21 11:45:16 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 21 Mar 2002 11:45:16 +0100
Subject: [R] repeating rows or columns within a matrix
References: <3C99B3B9.29D2FD61@labour.fi>
Message-ID: <3C99B9BC.7DF7C0F6@ci.tuwien.ac.at>

Juhana Vartiainen wrote:
> 
> Hello
> 
> Spse I have a matrix, say
> 
> 1 2 3
> 4 5 6
> 7 8 9
> 
> and I would like to expand it by repeating rows within the matrix, to
> get, if the repeating factor is 2, say:
> 
> 123
> 123
> 456
> 456
> 789
> 789
> 
> (or columnwise as well) . There must be a smart way of doing that?

You could do something like that:

R> mymatrix <- matrix(1:9, ncol=3)
R> myindex <- rep(1:nrow(mymatrix), rep(2, nrow(mymatrix)))
R> mymatrix[myindex,]
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    1    4    7
[3,]    2    5    8
[4,]    2    5    8
[5,]    3    6    9
[6,]    3    6    9

Best,
Z

> Many thanks
> 
> Juhana Vartiainen
> juhana.vartiainen at labour.fi
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kuonen at statoo.com  Thu Mar 21 11:48:20 2002
From: kuonen at statoo.com (Dr. Diego Kuonen)
Date: Thu, 21 Mar 2002 11:48:20 +0100
Subject: [R] repeating rows or columns within a matrix
References: <3C99B3B9.29D2FD61@labour.fi>
Message-ID: <3C99BA74.6FBB60BA@statoo.com>

Juhana Vartiainen wrote:
> 
> Spse I have a matrix, say
...
> and I would like to expand it by repeating rows within the matrix, to
> get, if the repeating factor is 2, say:
... 
> (or columnwise as well) . There must be a smart way of doing that?

For your particular example the following works

  apply(matrix(1:9,ncol=3,byrow=T), 2, rep, rep(2,3))

You may also want to look at 

  ?apply
  ?rep

to adapt it to your needs.

Sincerely,

  Diego Kuonen

  
-- 
Dr. ?s sc. Diego Kuonen        CEO & Applied Statistician 
Statoo Consulting, PO Box 107, 1015 Lausanne, Switzerland
+ Have you ever been Statooed?   http://www.statoo.info +
+ Free Statooed newsletters:    http://lists.statoo.com +
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Mar 21 11:56:23 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 21 Mar 2002 11:56:23 +0100
Subject: [R] optim with gradient
In-Reply-To: <Pine.LNX.4.44.0203211100510.4121-100000@tal.stat.umu.se>
References: <3C99962D.921819F4@lmttrading.com>
	<Pine.LNX.4.44.0203211100510.4121-100000@tal.stat.umu.se>
Message-ID: <15513.48215.652025.111777@gargle.gargle.HOWL>

>>>>> "GB" == G?ran Brostr?m <gb at stat.umu.se> writes:

    GB> On Thu, 21 Mar 2002, Adrian Trapletti wrote: [...]
    >> If the only goal is to improve speed, then you should
    >> consider to do the full optimization within C/Fortran,
    >> i.e., to implement the errfunc and the gradient in C and
    >> to call optim through the API (a new feature of the
    >> upcoming version 1.5.0 as Brian told me). This may
    >> increase speed - I just make a rough guess now - by a
    >> factor 100.

    GB> I can hardly wait! I already make the heavy calculations
    GB> in Fortran, so it should be easy to implement. Is the
    GB> feature in R-devel now?  And documented?

2 x yes; 
actually for several weeks now  (thanks to Brian, of course).  

(Apart from the source code,) the documentation is in
the ``Writing Extensions for R'' Manual the latest R-devel
version of which is usually available from
	http://stat.ethz.ch/R-alpha/R-devel/doc/html/

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Thu Mar 21 12:01:18 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 21 Mar 2002 12:01:18 +0100
Subject: [R] repeating rows or columns within a matrix
References: <3C99B3B9.29D2FD61@labour.fi>
Message-ID: <3C99BD7E.FE2BCF31@statistik.uni-dortmund.de>

Juhana Vartiainen wrote:
> 
> Hello
> 
> Spse I have a matrix, say
> 
> 1 2 3
> 4 5 6
> 7 8 9
> 
> and I would like to expand it by repeating rows within the matrix, to
> get, if the repeating factor is 2, say:
> 
> 123
> 123
> 456
> 456
> 789
> 789
> 
> (or columnwise as well) . There must be a smart way of doing that?
> 
> Many thanks

An interesting exercise! I don't know if it is the smartest way, but the
following line should do the trick for a matrix m:

 matrix(apply(m, 1, function(x) rep(x, 2)), , 4, byrow=TRUE)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Thu Mar 21 12:00:49 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Thu, 21 Mar 2002 12:00:49 +0100
Subject: [R] optim with gradient
References: <Pine.LNX.4.44.0203211100510.4121-100000@tal.stat.umu.se>
Message-ID: <3C99BD61.C75E03FE@lmttrading.com>

G?ran Brostr?m wrote:

> On Thu, 21 Mar 2002, Adrian Trapletti wrote:
>
> [...]
> > If the only goal is to improve speed, then you should consider to do
> > the full optimization within C/Fortran, i.e., to implement the errfunc
> > and the gradient in C and to call optim through the API (a new feature
> > of the upcoming version 1.5.0 as Brian told me). This may increase speed
> > - I just make a rough guess now - by a factor 100.
>
> I can hardly wait! I already make the heavy calculations in Fortran, so it
> should be easy to implement.

I am not sure what you mean by doing the heavy calculations in Fortran. But I

guess the errfunc (and gradient) are defined in R and itself call Fortran
code using .Fortran()? That?s already more performant, but also then you
should avoid that optim calls an R function. It completely "destroys" the
performance.

> Is the feature in R-devel now?

Yes.

>
> And documented?

I don?t know. Ask Brian. But I think it should be pretty easy to figure out
how to call optim and how optim calls your functions from the header file.

Adrian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar 21 12:39:08 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 21 Mar 2002 12:39:08 +0100
Subject: [R] mailing list archives
Message-ID: <15513.50780.961340.953669@galadriel.ci.tuwien.ac.at>



The problems with the HTML mailing list archives at CRAN should be
fixed now, I have re-created the pages for 2002 using the original
archives from Martin M?chler. r-help and r-devel are now splitted
by month to reduce the size of the index pages a little bit.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Mar 21 13:53:28 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 21 Mar 2002 12:53:28 +0000
Subject: [R] Wilks Lamba
Message-ID: <3C99D7C8.CF2A6D20@psy.uni-muenchen.de>

Hi all,

I can't figure out how to compute Wilks Lambda in a one way repeated
measure design. My matrix looks like:

> t2.m
  Blank   ECR   ENC   UEA   UED
1 -0.15  0.14  0.16  0.09  0.14
2  0.30  0.08  0.14  0.14  0.14
[...]

where each row is a case and the columns are levels of one factor (named
trial):

> t2.fit <- manova(t2.m ~ 1)
> summary(t2.fit, intercept=T, test="Wilks")
            Df   Wilks approx F num Df den Df Pr(>F)
(Intercept)  1 0.26869  1.63302      5      3 0.3642
Residuals    7

ist this correct? I ask because SPSS gives me a different result:

Effect: Trial
Wilks:    0.392
F:        1.554
Df:       4
error Df: 4
Pr:       0.340

Thanks for any hints, Sven



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Thu Mar 21 14:21:10 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Thu, 21 Mar 2002 14:21:10 +0100
Subject: [R] repeating rows or columns within a matrix
In-Reply-To: <3C99B3B9.29D2FD61@labour.fi>
References: <3C99B3B9.29D2FD61@labour.fi>
Message-ID: <20020321132110.GD32235@giraffa.cbs.dtu.dk>

On Thu, Mar 21, 2002 at 12:19:37PM +0200, Juhana Vartiainen wrote:
> Hello
> 
> Spse I have a matrix, say
> 
> 1 2 3
> 4 5 6
> 7 8 9
> 
> and I would like to expand it by repeating rows within the matrix, to
> get, if the repeating factor is 2, say:
> 
> 123
> 123
> 456
> 456
> 789
> 789
> 
> (or columnwise as well) . There must be a smart way of doing that?
> 
> Many thanks
> 
> Juhana Vartiainen
> juhana.vartiainen at labour.fi
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


I do not know if it is a smart way, but that's a way:

m <- matrix(1:9, 3, 3, byrow=T)
rep.fact <- 2  # repeating factor, say 2
mm <- matrix(rep(m, rep(rep.fact, length(m))), nrow(m)*rep.fact, ncol(m))


Hopin' it helps,



Laurent





-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Thu Mar 21 16:03:50 2002
From: mai at ms.uky.edu (Mai Zhou)
Date: Thu, 21 Mar 2002 10:03:50 -0500 (EST)
Subject: [R] multiroot()
Message-ID: <200203211503.g2LF3ok29511@t1.mscf.uky.edu>

Thanks to all that responded. It seems optim() is
a good try. I read the man page of optim().
I guess for nice functions I should use method =BFGS  or L-BFGS-B ?

Thanks again!

Mai Zhou



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Thu Mar 21 16:22:26 2002
From: snow at fisher.byu.edu (Greg Snow)
Date: Thu, 21 Mar 2002 08:22:26 -0700 (MST)
Subject: [R] how does while work
In-Reply-To: <016f01c1d046$e9fdd860$768f1941@columbus.rr.com>
Message-ID: <Pine.GSO.4.21.0203210819410.19963-100000@fisher.byu.edu>

On Wed, 20 Mar 2002, jimi adams wrote:

> i am having some problems with a program that i am writing and i think that
> knowing how the while command works will help me to figure out where i am
> going wrong
> *when do you get kicked out of a while loop?*
> (i.e., in the following example  what would the final value of 'a' be?) i
> thought it would be 99 but running it in R i get 101 (and 101 for x too!)
> 
> while (x <100) {
>   for (i in 1:101) {
>     i -> x
>     x -> a
>   }
> }

If you are trying to jump out of a for loop early then try something like:

for (i in 1:101) {
  i -> x
  if (! x<100 ) { break }
  x -> a
}

the "next" command will also skip the rest of the body of the loop and
start on the next iteration.

Hope this helps,

-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Thu Mar 21 16:22:56 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Thu, 21 Mar 2002 16:22:56 +0100 (MET)
Subject: [R] table of variance analysis
Message-ID: <Pine.OSF.4.30.0203211615230.27196-100000@science.unitn.it>

Hello everybody !

I want to evaluate the goodness of the fit of a trend surface. I use the
Least square methods and the function surf.ls. The I write

tma3.sur3 <- surf.ls(3, x, y, z)
summary(tma3.sur3)

Now the question: is the Pr(>F) the probability to obtain a value of
F equal or greater than the obtained one ? Is the confidence level 0.05 ?

Thanks a lot for any help.
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Thu Mar 21 16:43:46 2002
From: snow at fisher.byu.edu (Greg Snow)
Date: Thu, 21 Mar 2002 08:43:46 -0700 (MST)
Subject: [R] plot question
In-Reply-To: <m38z8mlhs5.fsf@home.sweet.home>
Message-ID: <Pine.GSO.4.21.0203210833300.19963-100000@fisher.byu.edu>

On 20 Mar 2002, Myriam Abramson wrote:

> 
> Hi!
> 
> I want to display 2 graphs with different number of data points on the
> x-axis. The code below scales them so it seems that testtwo has the
> same number of data points as testone. How can I fix that? thanks. 
> 
> 
> z<-1:50;
> x<-1:100;
> plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> par(new=TRUE);
> plot(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,ylim=c(-1.0,1.0),cex=1);
> xlabels<-x*10;
> axis(1,1:100,xlabels);
> axis(2);
> box();

Here are 2 things to try:

z<-1:50;
x<-1:100;
plot(x,testone,type="l",xlab="",ylab="",main="",lty=4,axes=FALSE,
     ylim=c(-1.0,1.0), cex=1)
axis(2)
par(new=TRUE);
plot(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,
    ylim=c(-1.0,1.0), cex=1, xlim=range(x))
xlabels<-x*10;
axis(1,1:100,xlabels);
axis(4);
box();

or 

z<-1:50;
x<-1:100;
plot(x,testone,type="l",xlab="",ylab="",main="",lty=4, axes=FALSE,
     ylim=c(-1.0,1.0), cex=1)
par(new=TRUE);
points(z,testtwo,type="l",xlab="",ylab="",main="",lty=1,col="red",axes=FALSE,
    ylim=c(-1.0,1.0), cex=1)
xlabels<-x*10;
axis(1,1:100,xlabels);
axis(2);
box();

When the par option xaxs="d" is implemented, then that will be a third
option.

-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Thu Mar 21 17:00:02 2002
From: richmond at saintmarys.edu (David A Richmond)
Date: Thu, 21 Mar 2002 11:00:02 -0500 (EST)
Subject: [R] how does while work
In-Reply-To: <016f01c1d046$e9fdd860$768f1941@columbus.rr.com>
Message-ID: <Pine.GSO.4.20.0203211052120.5844-100000@jade.saintmarys.edu>

On Wed, 20 Mar 2002, jimi adams wrote:

> i am having some problems with a program that i am writing and i think that
> knowing how the while command works will help me to figure out where i am
> going wrong
> *when do you get kicked out of a while loop?*
> (i.e., in the following example  what would the final value of 'a' be?) i
> thought it would be 99 but running it in R i get 101 (and 101 for x too!)
> 
> while (x <100) {
>   for (i in 1:101) {
>     i -> x
>     x -> a
>   }
> *here*  
> }

Essentially the while condition doesn't get checked until just before the
last curly brace (where I inserted *here* above), so the for loop gets to
do it's thing until i (and x and a) reach 101 and only then is the while
condition allowed to drop you out of the loop.

> while this is a crude example, it is the basic form of what i am trying to
> do, and i am guessing that while is not what i am looking for...

what exactly are you trying to do?

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|574-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kamarian at ics.forth.gr  Thu Mar 21 17:01:14 2002
From: kamarian at ics.forth.gr (Yiannis Kamarianakis)
Date: Thu, 21 Mar 2002 18:01:14 +0200
Subject: [R] STARMA models
Message-ID: <EJEKJNEKJJCKAPBDLBLCAEOCCJAA.kamarian@iacm.forth.gr>

Hi to all of you

I 'd like to implement a space-time model as it is formulated at

Technometrics Vol 22 1980,
"A three - stage iterative procedure for space-time modeling"
P.E. Pfeifer and S.J. Deutsch

For model identification the sample space time autocorellation and partial
autocorrelation functions are needed (analogously to univariate  time
series).
I wonder if somebody has written these functions in R code.

I'd appreciate any help

		Yiannis Kamarianakis
Institute of Applied & Computational Mathematics
    Foundation for Research and Technology
		  Iraklion, Crete
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Thu Mar 21 17:16:10 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 21 Mar 2002 17:16:10 +0100 (CET)
Subject: [R] table of variance analysis
In-Reply-To: <Pine.OSF.4.30.0203211615230.27196-100000@science.unitn.it>
Message-ID: <Pine.LNX.4.21.0203211705140.11145-100000@reclus.nhh.no>

On Thu, 21 Mar 2002, Lecca Paola wrote:

> Hello everybody !
> 
> I want to evaluate the goodness of the fit of a trend surface. I use the
> Least square methods and the function surf.ls. The I write
> 
> tma3.sur3 <- surf.ls(3, x, y, z)
> summary(tma3.sur3)
> 
> Now the question: is the Pr(>F) the probability to obtain a value of
> F equal or greater than the obtained one ? Is the confidence level 0.05 ?
> 
The value of Pr(>F) is the probability that a value of F of the size
observed could have arisen under the null hypothesis of no relationship
between z and the trend surface in the coordinates (x, y), given the
assumptions made in the model. It is the same as in an anova() of a linear
model object. Confidence levels and probability values are related, but
not the same thing, perhaps a statistics textbook would help?

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Thu Mar 21 17:30:58 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Thu, 21 Mar 2002 17:30:58 +0100 (MET)
Subject: [R] table of variance analysis again
In-Reply-To: <Pine.OSF.4.30.0203211615230.27196-100000@science.unitn.it>
Message-ID: <Pine.OSF.4.30.0203211724340.13731-100000@science.unitn.it>

Sorry in my previous message I express myself not well:

I want to know if the limit for that the value of F is "reasonably
probable" is 0.05.

In other term, when can we say the the two distribution have a
significative disagreement ?

I suppose when Pr(>F) < 0.05.
--Paola.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Thu Mar 21 17:35:19 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Thu, 21 Mar 2002 17:35:19 +0100 (MET)
Subject: [R] table of variance again
Message-ID: <Pine.OSF.4.30.0203211735001.5794-100000@science.unitn.it>

Sorry in my previous message I express myself not well:

I want to know if the limit for that the value of F is "reasonably
probable" is 0.05.

In other term, when can we say the the two distribution have a
significative disagreement ?

I suppose when Pr(>F) < 0.05.
--Paola.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Thu Mar 21 17:35:45 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Thu, 21 Mar 2002 17:35:45 +0100
Subject: [R] write to standard output without NL/CR
Message-ID: <E540DF203FFED21182EB0008C728756006A18494@deexmta4.amd.com>

Hello everybody,

is there a possibility to write data to standard output without a CR/NL?
(I would like append one output string to the next - without using "paste"!)

Thanks in advance

Lutz

Lutz Thieme
AMD Saxony Manfacturing GmbH
Product Engineering
phone:	+49 351 277-4269
fax:	+49 351 277-9-4269
email:	lutz.thieme at amd.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 21 17:51:21 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 21 Mar 2002 11:51:21 -0500 (EST)
Subject: [R] write to standard output without NL/CR
In-Reply-To: <E540DF203FFED21182EB0008C728756006A18494@deexmta4.amd.com>
Message-ID: <Pine.LNX.4.30.0203211150290.25170-100000@bolker.zoo.ufl.edu>


?cat
cat("a")
cat("b")
cat("c")
cat(1245)
x <- 11
cat(x)
cat("\n")

On Thu, 21 Mar 2002 lutz.thieme at amd.com wrote:

> Hello everybody,
>
> is there a possibility to write data to standard output without a CR/NL?
> (I would like append one output string to the next - without using "paste"!)
>
> Thanks in advance
>
> Lutz
>
> Lutz Thieme
> AMD Saxony Manfacturing GmbH
> Product Engineering
> phone:	+49 351 277-4269
> fax:	+49 351 277-9-4269
> email:	lutz.thieme at amd.com
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Mar 21 18:27:05 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 21 Mar 2002 18:27:05 +0100
Subject: [R] help with print and ways to display results
Message-ID: <3C9A17E9.4030601@inrialpes.fr>

Hi all,

I have some (stupid) problems to display  results and
i don't find a solution.

1-
res<-c(1,2,3)
I would like to display
 >Results are 1 2 3

The following command cat(paste("Results are  ",res,"\n")) give me
 >my results are  1 my results are  2 my results are  3

2- res<-cbind(c(1,2),c(2,3))
I would like to display
 >Result is the matrix 1 2
                                        2 3

Thanks,
Olivier.

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Mar 21 18:55:15 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 21 Mar 2002 12:55:15 -0500
Subject: [R] how does while work
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC136@usrymx10.merck.com>

What he wanted is a mechanism to "watch" for a condition on a variable, and
stop execution as soon as that condition is TRUE, regardless of where in the
program.  The only thing that I know of that sort of does this is inside
gdb, the GNU debugger.  AFAIK this is impossible.  If anyone has better
idea, I'd like to hear about it, too.

Andy

> -----Original Message-----
> From: David A Richmond [mailto:richmond at saintmarys.edu]
> Sent: Thursday, March 21, 2002 11:00 AM
> To: jimi adams
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] how does while work
> 
> 
> On Wed, 20 Mar 2002, jimi adams wrote:
> 
> > i am having some problems with a program that i am writing 
> and i think that
> > knowing how the while command works will help me to figure 
> out where i am
> > going wrong
> > *when do you get kicked out of a while loop?*
> > (i.e., in the following example  what would the final value 
> of 'a' be?) i
> > thought it would be 99 but running it in R i get 101 (and 
> 101 for x too!)
> > 
> > while (x <100) {
> >   for (i in 1:101) {
> >     i -> x
> >     x -> a
> >   }
> > *here*  
> > }
> 
> Essentially the while condition doesn't get checked until 
> just before the
> last curly brace (where I inserted *here* above), so the for 
> loop gets to
> do it's thing until i (and x and a) reach 101 and only then 
> is the while
> condition allowed to drop you out of the loop.
> 
> > while this is a crude example, it is the basic form of what 
> i am trying to
> > do, and i am guessing that while is not what i am looking for...
> 
> what exactly are you trying to do?
> 
> daver
> 
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |      
> + Dept. of Sociology          complex scientific      + 
> |Saint Mary's College          principle, known as    |  
> + Notre Dame, IN 46556               "pot luck."      +
> |574-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 21 18:56:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 21 Mar 2002 17:56:24 +0000 (GMT)
Subject: [R] write to standard output without NL/CR
In-Reply-To: <E540DF203FFED21182EB0008C728756006A18494@deexmta4.amd.com>
Message-ID: <Pine.LNX.4.31.0203211755040.7551-100000@gannet.stats>

On Thu, 21 Mar 2002 lutz.thieme at amd.com wrote:

> Hello everybody,
>
> is there a possibility to write data to standard output without a CR/NL?
> (I would like append one output string to the next - without using "paste"!)

Yes. cat() does exactly that. You only get newlines if you send them
yourself.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 21 19:12:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2002 19:12:52 +0100
Subject: [R] Wilks Lamba
In-Reply-To: <3C99D7C8.CF2A6D20@psy.uni-muenchen.de>
References: <3C99D7C8.CF2A6D20@psy.uni-muenchen.de>
Message-ID: <x2bsdhlrh7.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi all,
> 
> I can't figure out how to compute Wilks Lambda in a one way repeated
> measure design. My matrix looks like:
> 
> > t2.m
>   Blank   ECR   ENC   UEA   UED
> 1 -0.15  0.14  0.16  0.09  0.14
> 2  0.30  0.08  0.14  0.14  0.14
> [...]
> 
> where each row is a case and the columns are levels of one factor (named
> trial):
> 
> > t2.fit <- manova(t2.m ~ 1)
> > summary(t2.fit, intercept=T, test="Wilks")
>             Df   Wilks approx F num Df den Df Pr(>F)
> (Intercept)  1 0.26869  1.63302      5      3 0.3642
> Residuals    7
> 
> ist this correct? I ask because SPSS gives me a different result:
> 
> Effect: Trial
> Wilks:    0.392
> F:        1.554
> Df:       4
> error Df: 4
> Pr:       0.340
> 
> Thanks for any hints, Sven

Hmm. The ways of SPSS are sometimes mysterious, but the Df suggest
that you're testing that the 5 variables all have mean zero, whereas
SPSS might be testing whether they have the *same* mean. You can check
that by looking at

t2.m2 <- t2.m[,-1] -  t2.m[,1]
t2.fit <- manova(t2.m ~ 1)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Thu Mar 21 19:57:39 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Thu, 21 Mar 2002 18:57:39 -0000
Subject: [R] A Few Questions
Message-ID: <000901c1d10a$45e072a0$35892090@ohm.york.ac.uk>

Hi All R Users,
    I have a few questions, I'm sure that for most you they will be simple.

1.    I am trying to write an object to a file. The dimensions of the object
have name (by using dimnames(x) = ....). The problem is when I save that
data to a file, the dimension name are not written, just the value. This is
not very usefull since I am sorting the object first and if the dimension
names are not printed, I can not see the result of the sort operation. What
I would like is something like
    "Variables Name1"    Variable_Value1
    "Variables Name2"    Variable_Value2
    "Variables Name3"    Variable_Value3

2.    How can I perform a reverse sort? By default, the sort function sorts
in ascending order, there appears to be no option to sort in descending
order.

3.    This is more of a stats question rather than an R question. I want to
analyse the relationship between two different variables. Basically I would
like a function that will measure the dependency or non-dependency between
two variables. I am not sure but I think the lm() function is approriate. If
I am able to do summary(lm(x~y)) and measure the f value or t value. Will
that give me some kind of dependency measurement between the two variables.
Essentially, i want to measure the deviation for a best-fit line between the
two variables.

I hope it makes sense. Any help would be greatly appreciated.

Many Thanks

Rishabh


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Thu Mar 21 21:10:22 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Thu, 21 Mar 2002 14:10:22 -0600
Subject: [R] help with print and ways to display results
Message-ID: <938690ACF269D311928B0090279C2772E91ED8@cyclops.net.ttu.edu>

Just drop the paste function.

This worked for me.

res <- c(1,2,3)
cat("Results are: ", res, "\n")


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125

-----Original Message-----
From: Olivier Martin [mailto:olivier.martin at inrialpes.fr]
Sent: Thursday, March 21, 2002 11:27 AM
To: r-help
Subject: [R] help with print and ways to display results


Hi all,

I have some (stupid) problems to display  results and
i don't find a solution.

1-
res<-c(1,2,3)
I would like to display
 >Results are 1 2 3

The following command cat(paste("Results are  ",res,"\n")) give me
 >my results are  1 my results are  2 my results are  3

2- res<-cbind(c(1,2),c(2,3))
I would like to display
 >Result is the matrix 1 2
                                        2 3

Thanks,
Olivier.

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   :
http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Thu Mar 21 21:16:42 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Thu, 21 Mar 2002 14:16:42 -0600 (CST)
Subject: [R] how does while work
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC136@usrymx10.merck.com>
	(andy_liaw@merck.com)
References: <51F9C42DA15CD311BD220008C707D81906FFC136@usrymx10.merck.com>
Message-ID: <200203212016.OAA29691@definetti.uark.edu>


Maybe warning() or stop() can be used for this purpose.

Giovanni

> X-Server-Uuid: 7a42c1b6-0774-11d5-89f7-00508bcf402e
> Content-return: allowed
> Date: Thu, 21 Mar 2002 12:55:15 -0500
> From: "Liaw, Andy" <andy_liaw at merck.com>
> cc: r-help at stat.math.ethz.ch
> X-WSS-ID: 1084C110134707-08-01
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain; 
>  charset=us-ascii
> Content-Length: 2731
> 
> What he wanted is a mechanism to "watch" for a condition on a variable, and
> stop execution as soon as that condition is TRUE, regardless of where in the
> program.  The only thing that I know of that sort of does this is inside
> gdb, the GNU debugger.  AFAIK this is impossible.  If anyone has better
> idea, I'd like to hear about it, too.
> 
> Andy
> 
> > -----Original Message-----
> > From: David A Richmond [mailto:richmond at saintmarys.edu]
> > Sent: Thursday, March 21, 2002 11:00 AM
> > To: jimi adams
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] how does while work
> > 
> > 
> > On Wed, 20 Mar 2002, jimi adams wrote:
> > 
> > > i am having some problems with a program that i am writing 
> > and i think that
> > > knowing how the while command works will help me to figure 
> > out where i am
> > > going wrong
> > > *when do you get kicked out of a while loop?*
> > > (i.e., in the following example  what would the final value 
> > of 'a' be?) i
> > > thought it would be 99 but running it in R i get 101 (and 
> > 101 for x too!)
> > > 
> > > while (x <100) {
> > >   for (i in 1:101) {
> > >     i -> x
> > >     x -> a
> > >   }
> > > *here*  
> > > }
> > 
> > Essentially the while condition doesn't get checked until 
> > just before the
> > last curly brace (where I inserted *here* above), so the for 
> > loop gets to
> > do it's thing until i (and x and a) reach 101 and only then 
> > is the while
> > condition allowed to drop you out of the loop.
> > 
> > > while this is a crude example, it is the basic form of what 
> > i am trying to
> > > do, and i am guessing that while is not what i am looking for...
> > 
> > what exactly are you trying to do?
> > 
> > daver
> > 
> > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> > |David Richmond                It works on a          |      
> > + Dept. of Sociology          complex scientific      + 
> > |Saint Mary's College          principle, known as    |  
> > + Notre Dame, IN 46556               "pot luck."      +
> > |574-284-4517                    - The Doctor         |
> > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott_Summerill_Summerill/ACT/CNTR/FAA.FAA at faa.gov  Thu Mar 21 21:22:08 2002
From: Scott_Summerill_Summerill/ACT/CNTR/FAA.FAA at faa.gov (Scott_Summerill_Summerill/ACT/CNTR/FAA.FAA@faa.gov)
Date: Thu, 21 Mar 2002 15:22:08 -0500
Subject: No subject
Message-ID: <OF49F4BE5F.5C53DCD6-ON85256B83.006F3685@FAA.GOV>

I am sorry to bother you with an applications question.  I work for the FAA
and have need to smooth radar track data.  Seems that all the smoothing
techniques assume functional data. Any help would be greatly appreciated.

Best Regards, Scott Summerill


~~~~~~~~~~~~~~~~~~~
WJH FAA Technical Center
Mail Stop ACT250
Atlantic City Int'l Airport
Atlantic City, NJ 08405
Phone 609-485-6377
Fax 609-485-5457

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Mar 21 21:59:03 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 21 Mar 2002 15:59:03 -0500
Subject: [R] how does while work
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC13E@usrymx10.merck.com>

Don't think so.  stop() and warning() will only be triggered when explicited
told to do so.  Thus, essentially the (only?) idiotic way to do it is insert
if(x>=100) stop("x>100!") everywhere.  There's no mechanism to keep track of
a variable as the program executes, AFAIK.

Andy

> -----Original Message-----
> From: Giovanni Petris [mailto:GPetris at uark.edu]
> Sent: Thursday, March 21, 2002 3:17 PM
> To: andy_liaw at merck.com
> Cc: richmond at saintmarys.edu; imij at columbus.rr.com;
> r-help at stat.math.ethz.ch
> Subject: Re: [R] how does while work
> 
> 
> 
> Maybe warning() or stop() can be used for this purpose.
> 
> Giovanni
> 
> > X-Server-Uuid: 7a42c1b6-0774-11d5-89f7-00508bcf402e
> > Content-return: allowed
> > Date: Thu, 21 Mar 2002 12:55:15 -0500
> > From: "Liaw, Andy" <andy_liaw at merck.com>
> > cc: r-help at stat.math.ethz.ch
> > X-WSS-ID: 1084C110134707-08-01
> > Sender: owner-r-help at stat.math.ethz.ch
> > Precedence: SfS-bulk
> > Content-Type: text/plain; 
> >  charset=us-ascii
> > Content-Length: 2731
> > 
> > What he wanted is a mechanism to "watch" for a condition on 
> a variable, and
> > stop execution as soon as that condition is TRUE, 
> regardless of where in the
> > program.  The only thing that I know of that sort of does 
> this is inside
> > gdb, the GNU debugger.  AFAIK this is impossible.  If 
> anyone has better
> > idea, I'd like to hear about it, too.
> > 
> > Andy
> > 
> > > -----Original Message-----
> > > From: David A Richmond [mailto:richmond at saintmarys.edu]
> > > Sent: Thursday, March 21, 2002 11:00 AM
> > > To: jimi adams
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: Re: [R] how does while work
> > > 
> > > 
> > > On Wed, 20 Mar 2002, jimi adams wrote:
> > > 
> > > > i am having some problems with a program that i am writing 
> > > and i think that
> > > > knowing how the while command works will help me to figure 
> > > out where i am
> > > > going wrong
> > > > *when do you get kicked out of a while loop?*
> > > > (i.e., in the following example  what would the final value 
> > > of 'a' be?) i
> > > > thought it would be 99 but running it in R i get 101 (and 
> > > 101 for x too!)
> > > > 
> > > > while (x <100) {
> > > >   for (i in 1:101) {
> > > >     i -> x
> > > >     x -> a
> > > >   }
> > > > *here*  
> > > > }
> > > 
> > > Essentially the while condition doesn't get checked until 
> > > just before the
> > > last curly brace (where I inserted *here* above), so the for 
> > > loop gets to
> > > do it's thing until i (and x and a) reach 101 and only then 
> > > is the while
> > > condition allowed to drop you out of the loop.
> > > 
> > > > while this is a crude example, it is the basic form of what 
> > > i am trying to
> > > > do, and i am guessing that while is not what i am looking for...
> > > 
> > > what exactly are you trying to do?
> > > 
> > > daver
> > > 
> > > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> > > |David Richmond                It works on a          |      
> > > + Dept. of Sociology          complex scientific      + 
> > > |Saint Mary's College          principle, known as    |  
> > > + Notre Dame, IN 46556               "pot luck."      +
> > > |574-284-4517                    - The Doctor         |
> > > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> > > 
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> > _._
> > 
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> > 
> 
> -- 
> 
>  __________________________________________________
> [                                                  ]
> [ Giovanni Petris                 GPetris at uark.edu ]
> [ Department of Mathematical Sciences              ]
> [ University of Arkansas - Fayetteville, AR 72701  ]
> [ Ph: (479) 575-6324, 575-8630 (fax)               ]
> [ http://definetti.uark.edu/~gpetris/              ]
> [__________________________________________________]
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Thu Mar 21 22:14:00 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 21 Mar 2002 22:14:00 +0100
Subject: [R] A Few Questions
References: <000901c1d10a$45e072a0$35892090@ohm.york.ac.uk>
Message-ID: <3C9A4D18.1BA9DAEB@statistik.uni-dortmund.de>

Rishabh Gupta wrote:
> 
> Hi All R Users,
>     I have a few questions, I'm sure that for most you they will be simple.
> 
> 1.    I am trying to write an object to a file. The dimensions of the object
> have name (by using dimnames(x) = ....). The problem is when I save that
> data to a file, the dimension name are not written, just the value. This is
> not very usefull since I am sorting the object first and if the dimension
> names are not printed, I can not see the result of the sort operation. What
> I would like is something like
>     "Variables Name1"    Variable_Value1
>     "Variables Name2"    Variable_Value2
>     "Variables Name3"    Variable_Value3

Have a look at ?write.table.


> 2.    How can I perform a reverse sort? By default, the sort function sorts
> in ascending order, there appears to be no option to sort in descending
> order.

Right. But you can use rev() as in:
 rev(sort(x))

 
> 3.    This is more of a stats question rather than an R question. I want to
> analyse the relationship between two different variables. Basically I would
> like a function that will measure the dependency or non-dependency between
> two variables. I am not sure but I think the lm() function is approriate. If
> I am able to do summary(lm(x~y)) and measure the f value or t value. Will
> that give me some kind of dependency measurement between the two variables.

Well, if the dependency can be assumed to be *linear*.


> Essentially, i want to measure the deviation for a best-fit line between the
> two variables.

So you want to look at the residuals?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h.wickham at auckland.ac.nz  Thu Mar 21 22:12:39 2002
From: h.wickham at auckland.ac.nz (Hadley Wickham)
Date: Fri, 22 Mar 2002 09:12:39 +1200
Subject: [R] Formatting the output of pairs()
Message-ID: <002d01c1d11d$21fdea30$6983d882@hadley>

Would anyone be able to give me some ideas on how to go about changing
the output of pairs()?

What I want to do is :
 * plot each value as a point (instead of those hollow circles)
 * remove the gap between each scatter plot
 * make the frame around each scatter plot pale grey

Thanks for you time,

Hadley

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Thu Mar 21 22:21:43 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Thu, 21 Mar 2002 16:21:43 -0500
Subject: [R] RE: Radar track data
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E8F0@uswpmx11.merck.com>

If you explain what radar track data is (for those like me who don't know)
and what your needs are more specifically a number of people would probably
offer pointers to R packages etc.

Reid Huntsinger

-----Original Message-----
From: Scott_Summerill_Summerill/ACT/CNTR/FAA.FAA at faa.gov
[mailto:Scott_Summerill_Summerill/ACT/CNTR/FAA.FAA at faa.gov]
Sent: Thursday, March 21, 2002 3:22 PM
To: R-help at stat.math.ethz.ch
Subject: 


I am sorry to bother you with an applications question.  I work for the FAA
and have need to smooth radar track data.  Seems that all the smoothing
techniques assume functional data. Any help would be greatly appreciated.

Best Regards, Scott Summerill


~~~~~~~~~~~~~~~~~~~
WJH FAA Technical Center
Mail Stop ACT250
Atlantic City Int'l Airport
Atlantic City, NJ 08405
Phone 609-485-6377
Fax 609-485-5457

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Mar 22 01:06:20 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 22 Mar 2002 01:06:20 +0100
Subject: [R] Wilks Lamba
References: <3C99D7C8.CF2A6D20@psy.uni-muenchen.de> <x2bsdhlrh7.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C9A757C.619145AB@psy.uni-muenchen.de>

Peter Dalgaard BSA wrote:
> 
> Sven Garbade <garbade at psy.uni-muenchen.de> writes:
> 
> > Hi all,
> >
> > I can't figure out how to compute Wilks Lambda in a one way repeated
> > measure design. My matrix looks like:
> >
> > > t2.m
> >   Blank   ECR   ENC   UEA   UED
> > 1 -0.15  0.14  0.16  0.09  0.14
> > 2  0.30  0.08  0.14  0.14  0.14
> > [...]
> >
> > where each row is a case and the columns are levels of one factor (named
> > trial):
> >
> > > t2.fit <- manova(t2.m ~ 1)
> > > summary(t2.fit, intercept=T, test="Wilks")
> >             Df   Wilks approx F num Df den Df Pr(>F)
> > (Intercept)  1 0.26869  1.63302      5      3 0.3642
> > Residuals    7
> >
> > ist this correct? I ask because SPSS gives me a different result:
> >
> > Effect: Trial
> > Wilks:    0.392
> > F:        1.554
> > Df:       4
> > error Df: 4
> > Pr:       0.340
> >
> > Thanks for any hints, Sven
> 
> Hmm. The ways of SPSS are sometimes mysterious, but the Df suggest
> that you're testing that the 5 variables all have mean zero, whereas
> SPSS might be testing whether they have the *same* mean. You can check
> that by looking at
> 
> t2.m2 <- t2.m[,-1] -  t2.m[,1]
> t2.fit <- manova(t2.m ~ 1)

Thanks, that is exactly what I was looking for. Indeed  I need to test
that the 5 variables all have mean zero. But I haven't found anything in
the SPPS doc about what SPSS did, so I got confused.

Thanks & regards, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andreas.Kiermeier at adelaide.edu.au  Thu Mar 21 23:30:57 2002
From: Andreas.Kiermeier at adelaide.edu.au (Andreas Kiermeier)
Date: Fri, 22 Mar 2002 09:00:57 +1030
Subject: [R] repeating rows or columns within a matrix
In-Reply-To: <3C99B3B9.29D2FD61@labour.fi>
References: <3C99B3B9.29D2FD61@labour.fi>
Message-ID: <15514.24353.474000.908269@gargle.gargle.HOWL>

>>>>> "Juhana" == Juhana Vartiainen <juhana.vartiainen at labour.fi> writes:

    Juhana> Hello
    Juhana> Spse I have a matrix, say

    Juhana> 1 2 3
    Juhana> 4 5 6
    Juhana> 7 8 9

    Juhana> and I would like to expand it by repeating rows within the matrix, to
    Juhana> get, if the repeating factor is 2, say:

    Juhana> 123
    Juhana> 123
    Juhana> 456
    Juhana> 456
    Juhana> 789
    Juhana> 789

    Juhana> (or columnwise as well) . There must be a smart way of doing that?

Juhana,

you could try the kronecker product

> z <- matrix(1:9,ncol=3,byrow=T)
> z
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
> kronecker(z, c(1,1))
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    1    2    3
[3,]    4    5    6
[4,]    4    5    6
[5,]    7    8    9
[6,]    7    8    9

Cheers,

Andreas

-- 
Andreas Kiermeier
Senior Biometrician
BiometricsSA (Adelaide University/SARDI)
GPO Box 397, Adelaide, SA 5001, Australia
Email: Andreas.Kiermeier at adelaide.edu.au
WWW: http://www.BiometricsSA.adelaide.edu.au/
Ph:  +61 8 8303 6819
Fax: +61 8 8303 6761

----------------------------------------------------------- 
This email message is intended only for the addressee(s) 
and contains information which may be confidential and/or
copyright. If you are not the intended recipient please
do not read, save, forward, disclose, or copy the contents
of this email. If this email has been sent to you in error,
please notify the sender by reply email and delete this 
email and any copies or links to this email completely and
immediately from your system. No representation is made
that this email is free of viruses. Virus scanning is 
recommended and is the responsibility of the recipient.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Thu Mar 21 23:29:00 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Thu, 21 Mar 2002 23:29:00 +0100
Subject: [R] clustering of binary matrix
References: <15513.50780.961340.953669@galadriel.ci.tuwien.ac.at>
Message-ID: <003001c1d129$45da8e20$4914b080@oemcomputer>

Hello!

I am looking for an implementation of the Russell-Rao-Coefficient
(Product-Moment-Coefficient). I cannot find it in the usual packages (mva,
cluster etc.)

And is there already a function for the transformation of  matrixes to
binary matrixes in R?

Hope that this questions are not too trivial or already explained somewhere
else, I have not yet got the books.

Regards,
Petra

-
---------------------------------------------------
Petra Steiner
Arbeitsbereich Linguistik
Universitaet Muenster
Huefferstrasse 27
48149  Muenster

Tel: 0251 / 83 39442
petra at marley.uni-muenster.de
http://santana.uni-muenster.de/~petra/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Mar 22 00:29:43 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 21 Mar 2002 15:29:43 -0800 (PST)
Subject: [R] Formatting the output of pairs()
In-Reply-To: <002d01c1d11d$21fdea30$6983d882@hadley>
Message-ID: <Pine.GSO.4.10.10203211527460.6673-100000@fisher.stat.ucla.edu>

On Fri, 22 Mar 2002, Hadley Wickham wrote:

> Would anyone be able to give me some ideas on how to go about changing
> the output of pairs()?
> 
> What I want to do is :
>  * plot each value as a point (instead of those hollow circles)

Use the pch argument in pairs()

>  * remove the gap between each scatter plot

set gap = 0 in the pairs() command.	

>  * make the frame around each scatter plot pale grey

Hmm...not sure.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvf at email.byu.edu  Fri Mar 22 03:09:40 2002
From: gvf at email.byu.edu (Grant Farnsworth)
Date: Thu, 21 Mar 2002 19:09:40 -0700
Subject: [R] heteroskedasticity-robust standard errors
Message-ID: <013901c1d146$9ff78800$2ffd070a@rn.byu.edu>

I am trying to compute the white heteroskedasticity-robust standard errors
(also called the Huber standard errors) in a linear model, but I can't seem
to find a function to do it.  I know that the design library in S+ has
something like this (robcov?), but I have not yet seen this library ported
to R.

Anyone know if there is already a function built into R to do this
relatively simple job?

Thanks,
Grant

------------------------------------------------------
Grant Verdell Farnsworth
gvf at email.byu.edu
http://thegrantman.freewebsites.com
------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Fri Mar 22 05:19:08 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 21 Mar 2002 23:19:08 -0500
Subject: [R] "sum" bug?
References: <3C99D7C8.CF2A6D20@psy.uni-muenchen.de> <x2bsdhlrh7.fsf@blueberry.kubism.ku.dk> <3C9A757C.619145AB@psy.uni-muenchen.de>
Message-ID: <3C9AB0BC.3040609@epm.net.co>

Dear R users and developers:

I got this message when I try to make the summary of a numeric variable,

 > summary(Dep)
  
  Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
0.000e+00 1.192e+07 2.739e+07           6.538e+07 1.858e+09
Warning message:
Integer overflow in sum(.); use sum(as.numeric(.))

and it fails to make the sum (for calculate the mean), but I don't 
understand the "Integer overflow"

If I type the following command,

 > summary(as.numeric(Dep))
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
0.000e+00 1.192e+07 2.739e+07 5.306e+07 6.538e+07 1.858e+09

 it works fine.... but I still don't undertand way it doesn't work without
the "as.numeric" coerce, when other functions like "sd()" worked fine.

Thank you very much for your advice

Kenneth Cabrera

P.S.: The length of Dep is 5297
And I am working on W2K in R1.4.1. version.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020321/d6f73da4/attachment.html

From ripley at stats.ox.ac.uk  Fri Mar 22 08:30:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Mar 2002 07:30:20 +0000 (GMT)
Subject: [R] "sum" bug?
In-Reply-To: <3C9AB0BC.3040609@epm.net.co>
Message-ID: <Pine.GSO.4.44.0203220724290.19239-100000@auk.stats>

On Thu, 21 Mar 2002, Kenneth Cabrera wrote:

> Dear R users and developers:
>
> I got this message when I try to make the summary of a numeric variable,

It's not really numeric = double: it is integer.  Try typeof(Dep).

>  > summary(Dep)
>
>   Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
> 0.000e+00 1.192e+07 2.739e+07           6.538e+07 1.858e+09
> Warning message:
> Integer overflow in sum(.); use sum(as.numeric(.))
>
> and it fails to make the sum (for calculate the mean), but I don't
> understand the "Integer overflow"
>
> If I type the following command,
>
>  > summary(as.numeric(Dep))
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
> 0.000e+00 1.192e+07 2.739e+07 5.306e+07 6.538e+07 1.858e+09
>
>  it works fine.... but I still don't undertand way it doesn't work without
> the "as.numeric" coerce, when other functions like "sd()" worked fine.

Because a sum of integers is considered to be an integer, and mean(x)
is sum(x)/length(x) (in essence).  I think mean should coerce integers (or
logicals) to double.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri Mar 22 09:52:55 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 22 Mar 2002 08:52:55 +0000 (GMT)
Subject: [R] "sum" bug?
In-Reply-To: <3C9AB0BC.3040609@epm.net.co>
Message-ID: <Pine.LNX.4.10.10203220833480.5942-100000@localhost.localdomain>

I sent a similar message to R-help a few months ago with the same subject!

The basic problem is that sum doesn't automatically coerce to double,
which suprised both you and me. Thus you got integer overflow (doubles
have a much larger dynamic range so won't overflow).

If you had done sum(dep*1.0) that would
have worked as well because operations like * and / do return a double
result, and sum() on a double returns a double.

> x<-1:10
> sum(x)
[1] 55
> is.double(sum(x))
[1] FALSE
> is.double(sum(x*1))
[1] TRUE
> is.double(sum(x+0))
[1] TRUE

It's confusing to me how numbers are stored as integer:
> is.integer(x)
[1] TRUE 
> is.integer(x+0)
[1] FALSE
> is.integer(x+x)
[1] TRUE
> y<-0
> is.integer(y)
[1] FALSE
> is.integer(x+y)
[1] FALSE
> y<-0:0
> is.integer(y)
[1] TRUE
> is.integer(x+y)
[1] TRUE


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Mar 22 10:02:38 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 22 Mar 2002 10:02:38 +0100 (CET)
Subject: [R] heteroskedasticity-robust standard errors
In-Reply-To: <013901c1d146$9ff78800$2ffd070a@rn.byu.edu>
Message-ID: <Pine.LNX.4.44.0203220957490.12263-100000@localhost.localdomain>

Hi,

I attach a version of small program for White stderrors.  Basically, it
calculates a new covariance matrix and prints the results with new stderrors
(without any tests and additional information).  It should be rewritten to
use the object-oriented architecture, but I have not had need so long.

you should call it as:
summaryw(lm(y~x))

Regards,
Ott Toomet

P.S.  If you get/write a better version, let me know.

--------------------------------------------------------------------
### ols with White' heteroscedasticity consistent stderrors
summaryw <- function( model) {
  s <- summary( model)
  X <- model.matrix( model)
  u2 <- residuals( model)^2
  XDX <- 0
  ## here one needs essentially to calculate X'DX.  But due to the fact that D
  ## is huge (NxN), it is better to do it with a cycle.
  for( i in 1:nrow( X)) {
    XDX <- XDX + u2[i]*X[i,]%*%t( X[i,])
  }
  XX1 <- solve( t( X)%*%X)
  varcovar <- XX1 %*% XDX %*% XX1
  stdh <- sqrt( diag( varcovar))
  t <- model$coefficients/stdh
  p <- 2*pnorm( -abs( t))
  results <- cbind( model$coefficients, stdh, t, p)
  dimnames(results) <- dimnames( s$coefficients)
  results
}




On Thu, 21 Mar 2002, Grant Farnsworth wrote:

  |I am trying to compute the white heteroskedasticity-robust standard errors
  |(also called the Huber standard errors) in a linear model, but I can't seem
  |to find a function to do it.  I know that the design library in S+ has
  |something like this (robcov?), but I have not yet seen this library ported
  |to R.
  |
  |Anyone know if there is already a function built into R to do this
  |relatively simple job?
  |
  |Thanks,
  |Grant

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Fri Mar 22 10:17:34 2002
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Fri, 22 Mar 2002 09:17:34 -0000
Subject: [R] heteroskedasticity-robust standard errors
References: <013901c1d146$9ff78800$2ffd070a@rn.byu.edu>
Message-ID: <004601c1d182$679a3e80$cb8801a3@sbs.ox.ac.uk>

Try the function hccm in the car package.

David

----- Original Message -----
From: "Grant Farnsworth" <gvf at email.byu.edu>
To: "rhelp" <r-help at stat.math.ethz.ch>
Sent: Friday, March 22, 2002 2:09 AM
Subject: [R] heteroskedasticity-robust standard errors


> I am trying to compute the white heteroskedasticity-robust standard errors
> (also called the Huber standard errors) in a linear model, but I can't
seem
> to find a function to do it.  I know that the design library in S+ has
> something like this (robcov?), but I have not yet seen this library ported
> to R.
>
> Anyone know if there is already a function built into R to do this
> relatively simple job?
>
> Thanks,
> Grant
>
> ------------------------------------------------------
> Grant Verdell Farnsworth
> gvf at email.byu.edu
> http://thegrantman.freewebsites.com
> ------------------------------------------------------
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Mar 22 11:10:36 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 22 Mar 2002 10:10:36 -0000
Subject: [R] how does while work
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC13E@usrymx10.merck.com>
Message-ID: <NEBBJLLBCLEDFLCCBKDAOEFMCEAA.mel@mcs.st-andrews.ac.uk>

Andy,

I agree that it would be idiotic to do this by hand, but another debug
function that took the desired function, automatically added in the check
after every completed command and ran the result might not be so daft.
Though it would also need to add in extra {}s to avoid messing up single
line ifs & fors.

I assume there is a way of finding the end of statements (other than
repeated try's)?

Cheers,

Mike.



     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Liaw, Andy
     > Sent: 21 March 2002 20:59
     > To: 'Giovanni Petris'
     > Cc: r-help at stat.math.ethz.ch
     > Subject: RE: [R] how does while work
     >
     >
     > Don't think so.  stop() and warning() will only be triggered
     > when explicited
     > told to do so.  Thus, essentially the (only?) idiotic way to
     > do it is insert
     > if(x>=100) stop("x>100!") everywhere.  There's no mechanism
     > to keep track of
     > a variable as the program executes, AFAIK.
     >
     > Andy
     >
     > > -----Original Message-----
     > > From: Giovanni Petris [mailto:GPetris at uark.edu]
     > > Sent: Thursday, March 21, 2002 3:17 PM
     > > To: andy_liaw at merck.com
     > > Cc: richmond at saintmarys.edu; imij at columbus.rr.com;
     > > r-help at stat.math.ethz.ch
     > > Subject: Re: [R] how does while work
     > >
     > >
     > >
     > > Maybe warning() or stop() can be used for this purpose.
     > >
     > > Giovanni
     > >
     > > > X-Server-Uuid: 7a42c1b6-0774-11d5-89f7-00508bcf402e
     > > > Content-return: allowed
     > > > Date: Thu, 21 Mar 2002 12:55:15 -0500
     > > > From: "Liaw, Andy" <andy_liaw at merck.com>
     > > > cc: r-help at stat.math.ethz.ch
     > > > X-WSS-ID: 1084C110134707-08-01
     > > > Sender: owner-r-help at stat.math.ethz.ch
     > > > Precedence: SfS-bulk
     > > > Content-Type: text/plain;
     > > >  charset=us-ascii
     > > > Content-Length: 2731
     > > >
     > > > What he wanted is a mechanism to "watch" for a condition on
     > > a variable, and
     > > > stop execution as soon as that condition is TRUE,
     > > regardless of where in the
     > > > program.  The only thing that I know of that sort of does
     > > this is inside
     > > > gdb, the GNU debugger.  AFAIK this is impossible.  If
     > > anyone has better
     > > > idea, I'd like to hear about it, too.
     > > >
     > > > Andy
     > > >
     > > > > -----Original Message-----
     > > > > From: David A Richmond [mailto:richmond at saintmarys.edu]
     > > > > Sent: Thursday, March 21, 2002 11:00 AM
     > > > > To: jimi adams
     > > > > Cc: r-help at stat.math.ethz.ch
     > > > > Subject: Re: [R] how does while work
     > > > >
     > > > >
     > > > > On Wed, 20 Mar 2002, jimi adams wrote:
     > > > >
     > > > > > i am having some problems with a program that i am writing
     > > > > and i think that
     > > > > > knowing how the while command works will help me to figure
     > > > > out where i am
     > > > > > going wrong
     > > > > > *when do you get kicked out of a while loop?*
     > > > > > (i.e., in the following example  what would the final value
     > > > > of 'a' be?) i
     > > > > > thought it would be 99 but running it in R i get 101 (and
     > > > > 101 for x too!)
     > > > > >
     > > > > > while (x <100) {
     > > > > >   for (i in 1:101) {
     > > > > >     i -> x
     > > > > >     x -> a
     > > > > >   }
     > > > > > *here*
     > > > > > }
     > > > >
     > > > > Essentially the while condition doesn't get checked until
     > > > > just before the
     > > > > last curly brace (where I inserted *here* above), so the for
     > > > > loop gets to
     > > > > do it's thing until i (and x and a) reach 101 and only then
     > > > > is the while
     > > > > condition allowed to drop you out of the loop.
     > > > >
     > > > > > while this is a crude example, it is the basic form of what
     > > > > i am trying to
     > > > > > do, and i am guessing that while is not what i am
     > looking for...
     > > > >
     > > > > what exactly are you trying to do?
     > > > >
     > > > > daver
     > > > >
     > > > > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     > > > > |David Richmond                It works on a          |
     > > > > + Dept. of Sociology          complex scientific      +
     > > > > |Saint Mary's College          principle, known as    |
     > > > > + Notre Dame, IN 46556               "pot luck."      +
     > > > > |574-284-4517                    - The Doctor         |
     > > > > +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     > > > >
     > > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
     > > > > -.-.-.-.-.-.-.-.-
     > > > > r-help mailing list -- Read
     > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > > > Send "info", "help", or "[un]subscribe"
     > > > (in the "body", not the subject !)  To:
     > > r-help-request at stat.math.ethz.ch
     > > >
     > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
     > > _._._._._._._.
     > > > _._
     > > >
     > > >
     > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
     > > -.-.-.-.-.-.-.-.-
     > > > r-help mailing list -- Read
     > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > > > Send "info", "help", or "[un]subscribe"
     > > > (in the "body", not the subject !)  To:
     > > r-help-request at stat.math.ethz.ch
     > > >
     > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
     > > _._._._._._._._._
     > > >
     > >
     > > --
     > >
     > >  __________________________________________________
     > > [                                                  ]
     > > [ Giovanni Petris                 GPetris at uark.edu ]
     > > [ Department of Mathematical Sciences              ]
     > > [ University of Arkansas - Fayetteville, AR 72701  ]
     > > [ Ph: (479) 575-6324, 575-8630 (fax)               ]
     > > [ http://definetti.uark.edu/~gpetris/              ]
     > > [__________________________________________________]
     > >
     > >
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Mar 22 11:23:09 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 22 Mar 2002 10:23:09 -0000
Subject: [R] repeating rows or columns within a matrix
In-Reply-To: <3C99B9BC.7DF7C0F6@ci.tuwien.ac.at>
Message-ID: <NEBBJLLBCLEDFLCCBKDAIEFNCEAA.mel@mcs.st-andrews.ac.uk>


> m2<-matrix(t(cbind(mymatrix,mymatrix)),ncol=dim(mymatrix)[2],byrow=T)

seems a bit faster than mymatrix[rep(1:nrow(mymatrix), rep(2,
nrow(mymatrix))),]
(not that it matters here at all), and

> m2<-mymatrix[ceiling(1:(2*nrow(mymatrix))/2),]

much faster still. It seems rep( , rep()) is relatively expensive for this
job (though the difference is tiny in any sensible terms). I'm now even more
impressed at how cleverly R passes parameters.

Mike.


>
> mymatrix <- matrix(1:9, ncol=3)
> date()
[1] "Thu Mar 21 17:03:29 2002"
> for (i in 1:50000) {
+ m2<-mymatrix[rep(1:nrow(mymatrix), rep(2, nrow(mymatrix))),]
+ }
> m2
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    1    4    7
[3,]    2    5    8
[4,]    2    5    8
[5,]    3    6    9
[6,]    3    6    9
> date()
[1] "Thu Mar 21 17:03:46 2002"
> nr <- nrow(mymatrix)
> for (i in 1:50000) {
+ m2<-mymatrix[rep(1:nr, rep(2, nr)),]
+ }
> m2
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    1    4    7
[3,]    2    5    8
[4,]    2    5    8
[5,]    3    6    9
[6,]    3    6    9
> date()
[1] "Thu Mar 21 17:04:01 2002"
> for (i in 1:50000)
+ m2<-matrix(t(cbind(mymatrix,mymatrix)),ncol=dim(mymatrix)[2],byrow=T)
> m2
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    1    4    7
[3,]    2    5    8
[4,]    2    5    8
[5,]    3    6    9
[6,]    3    6    9
> date()
[1] "Thu Mar 21 17:04:14 2002"
> for (i in 1:50000) {
+ myindex <- ceiling(1:(2*nrow(mymatrix))/2)
+ m2<-mymatrix[myindex,]
+ }
> m2
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    1    4    7
[3,]    2    5    8
[4,]    2    5    8
[5,]    3    6    9
[6,]    3    6    9
> date()
[1] "Thu Mar 21 17:04:19 2002"
>
>



     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Achim Zeileis
     > Sent: 21 March 2002 10:45
     > To: Juhana Vartiainen
     > Cc: r-help at stat.math.ethz.ch
     > Subject: Re: [R] repeating rows or columns within a matrix
     >
     >
     > Juhana Vartiainen wrote:
     > >
     > > Hello
     > >
     > > Spse I have a matrix, say
     > >
     > > 1 2 3
     > > 4 5 6
     > > 7 8 9
     > >
     > > and I would like to expand it by repeating rows within the
     > matrix, to
     > > get, if the repeating factor is 2, say:
     > >
     > > 123
     > > 123
     > > 456
     > > 456
     > > 789
     > > 789
     > >
     > > (or columnwise as well) . There must be a smart way of doing that?
     >
     > You could do something like that:
     >
     > R> mymatrix <- matrix(1:9, ncol=3)
     > R> myindex <- rep(1:nrow(mymatrix), rep(2, nrow(mymatrix)))
     > R> mymatrix[myindex,]
     >      [,1] [,2] [,3]
     > [1,]    1    4    7
     > [2,]    1    4    7
     > [3,]    2    5    8
     > [4,]    2    5    8
     > [5,]    3    6    9
     > [6,]    3    6    9
     >
     > Best,
     > Z
     >
     > > Many thanks
     > >
     > > Juhana Vartiainen
     > > juhana.vartiainen at labour.fi
     > >
     > >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Mar 22 11:49:04 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 22 Mar 2002 21:49:04 +1100
Subject: [R] how does while work
Message-ID: <3C9B0C1E.F6789F4@ozemail.com.au>

This thread is fast becoming a citation classic. I thought it would have
been resolved in a one-liner, but...

What you really want to know is how Boolean logic works in stack-based
computing. while() and for() evaluate their conditional(s) before
executing the statement(s) that they are controlling. do() evaluates
after execution. However, they all depend upon the same operator to
delimit the statement(s) that they control (in R at least). Thus, you
aren't allowed to do what jimi wants, to evaluate the while() condition
before the for() condition like this:

while (x <100) {
  for (i in 1:101) {
    i -> x
    x -> a
 } # end of while()
  } # end of for()

What has to be done is something like this:

for(i in 1:101) {
 x<-i
 if(x<100) a<-x
}

Now the conditional (x<100) takes precedence over the assignment, which
was what was intended. Before anyone accuses me of preaching, I have
made the same mistake (and worse) many times.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Fri Mar 22 12:04:02 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 22 Mar 2002 12:04:02 +0100
Subject: [R] heteroskedasticity-robust standard errors
References: <013901c1d146$9ff78800$2ffd070a@rn.byu.edu>
Message-ID: <3C9B0FA2.8454344D@ci.tuwien.ac.at>

Grant Farnsworth wrote:
> 
> I am trying to compute the white heteroskedasticity-robust standard errors
> (also called the Huber standard errors) in a linear model, but I can't seem
> to find a function to do it.  I know that the design library in S+ has
> something like this (robcov?), but I have not yet seen this library ported
> to R.
> 
> Anyone know if there is already a function built into R to do this
> relatively simple job?

There are some version of heteroskedasticity consistent covariance
matrices in the "car" package in hccm() and in "strucchange" in covHC().
In particular both contain the White (1980) estimator as type "hc0" and
"HC" respectively.
Z

> Thanks,
> Grant
> 
> ------------------------------------------------------
> Grant Verdell Farnsworth
> gvf at email.byu.edu
> http://thegrantman.freewebsites.com
> ------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 22 12:53:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Mar 2002 11:53:57 +0000 (GMT)
Subject: [R] Formatting the output of pairs()
In-Reply-To: <002d01c1d11d$21fdea30$6983d882@hadley>
Message-ID: <Pine.LNX.4.31.0203212125080.27111-100000@gannet.stats>

On Fri, 22 Mar 2002, Hadley Wickham wrote:

> Would anyone be able to give me some ideas on how to go about changing
> the output of pairs()?

> What I want to do is :
>  * plot each value as a point (instead of those hollow circles)

set argument panel. Don't known what you mean by a `point' (that would be
invisible, but perhaps pch=20 or pch="."?

>  * remove the gap between each scatter plot

set argument gap.

>  * make the frame around each scatter plot pale grey

In ... set bty="n", and in your panel function include box(col="grey80").

E.g.

data(iris[, 1:4])
pairs(iris[, 1:4]), gap=0,
      panel=function(x,y, ...) {box(col="grey80"); points(x, y, pch=20)},
      bty="n", diag.panel= function(x,y, ...) box(col="grey80"))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shawnhornsby at netzero.net  Fri Mar 22 15:07:17 2002
From: shawnhornsby at netzero.net (Shawn Hornsby)
Date: Fri, 22 Mar 2002 09:07:17 -0500
Subject: [R] RGui error on Windows 2000
In-Reply-To: <0504018E9DCAD1119FE900A0C9A39AF8050A802C@anaconda>
Message-ID: <000001c1d1aa$e07e3ea0$6501a8c0@neubr.client2.attbi.com>

RE: Common Corruptible Area In Microsoft Operating Systems (OS) and
Applications.

It has been my experience with Microsoft Operating Systems (OS) and
Applications having corruptible files from their source medias. A few are
found in dynamic data link library (DLL) and in the registry. There are some
instances were corruptions acquired on a regular bases that when
investigated were compiled on the source media that came from Microsoft
distributed medias. The best means to rectify this problem was to contact
Microsoft via Internet, e-mail, telephone, mail, etc. and obtain a
functioning file or files.

The task of finding a functioning DLL that is not damaged is at times, a
major task and can be time consuming. The common fix is to replace the
corrupted DLL with a non-corrupted DLL. There are instances where the
corrupted source media was the bases of the initial damage and caused a
series of spiraling negative change reactions to other areas of the OS,
codes, applications, etc. Once again, contacting Microsoft or the known
vendor or vendors proves to be a step in the right direction.

It is recommended that you make back-up copies of your DLL?s and the
registry. If or when corruptions acquires in the registry it is recommend
that you do not tamper with the registry. The registry architecture is
design in database style and any change made in one area can affect other
areas of the registry and other files, unknowingly. Here is where your
back-up copies are useful and prove to be a time saver in disaster recovery.

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
Simon.Gatehouse at csiro.au
Sent: Wednesday, March 20, 2002 11:19 PM
To: R-help at stat.math.ethz.ch
Subject: [R] RGui error on Windows 2000


The following might be of benefit to those who find themselves in a similar
predicament with an apparently corrupted R in Windows 2000.

The problem was traced back to a corrupted register in my user profile in
Windows 2000 apparently caused by a DLL in Visual Basic installation not
self registering correctly.

The fix was to copy a new uncorrupted register from the default user. Though
some of my desktop settings were altered, all problems were fixed with no
discernable impact on R or .Rdata files. Interestingly, the problem did not
recur when the offending VB exectable was installed again and both R and the
other program now happily coexist. In short, I don't know what caused the
problem nor what a general solution might be.

***********************************
Simon Gatehouse
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW

Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From KINLEY_ROBERT at lilly.com  Fri Mar 22 15:26:09 2002
From: KINLEY_ROBERT at lilly.com (KINLEY_ROBERT@lilly.com)
Date: Fri, 22 Mar 2002 14:26:09 +0000
Subject: [R] sequential t-test  - replies
Message-ID: <OFD70BDB88.25DFB316-ON80256B84.004CD4FA@D49.LILLY.COM>

[my original message to s-news & r-help is attached ]

No one possessed or knew of any S/R code for the sequential t-test.  Also 
it doesn't appear in the SAS index.
One or two suggested obtaining the S+ seqtrial software which may (or may 
not) cover this, but this seemed to be a bit of a "hammer to crack a nut". 
 

I have written a function based on the treatment in Wetheril and 
Glazebrook 'Sequential Methods in Statistics', which seems to reproduce 
the published tables OK (eg, table L in O.L.Davies Design and Analysis of 
Industrial Experiments).

The function is neither elegant nor fast, but anyone is free to make use 
of it ... there being no guarantees or support with it, of course.

                cheers          Bob

Code follows  ...

function(delta = 1, alpha = 0.05, beta = 0.05, minn = 1, maxn = 20, bot = 
-10, top = 10)
{
        # Create tables and graphs for Barnard's SPRT ("sequential 
t-test") 
        # (a) uses expressions given in Wetherill & Glazebrook 'Sequential 
Methods in Statistics', p 60
        # (b) succesfully reproduces table L in OL Davies Design & 
Analysis of Industrial Experiments'
        #
        # notation is a mixture of a and b.
        #
        # delta is the difference-to-detect ( in std devs )
        # alpha, beta are the reqd type1 & 2 errors
        # minn:maxn is the range of sample-numbers
        # bot:top is the range used in solving for critical values
        #
        #
        Hh <- function(N = 5, X = 0, lolim = 0, hilim = Inf)
        {
                # an integral required in the likelehood ratio
                #
                integrand <- function(y, n, x)
                {
                        ans <- ((y^n) * exp(-0.5 * (x + y)^2))/gamma(n + 
1)
                        ans
                }
                a <- integrate(f = integrand, lower = lolim, upper = 
hilim, subdivisions = 500, n = N, x = X)
                a$integral
        }
        #
        #
        Lik <- function(U, N, DELTA, lhs)
        {
                # roots of this function are the critical values ( 'U0' 
and 'U1' in Davies )
                #
                lik <- lhs - (exp(-0.5 * (DELTA^2) * (N - U^2)) * Hh(N - 
1,  - DELTA * U))/Hh(N - 1)
                lik
        }
        #
        #
        # 
        U0 <- U1 <- rep(NA, maxn)
        #
        SampNo <- 1:maxn
        #
        # for each n in the required sequence, get the critical values U0 
and U1
        #
        for(n in minn:maxn) {
                U1[n] <- uniroot(Lik, lower = bot, upper = top, N = n, 
DELTA = delta, lhs = (1 - beta)/alpha)$root
                U0[n] <- uniroot(Lik, lower = bot, upper = top, N = n, 
DELTA = delta, lhs = beta/(1 - alpha))$root
                cat("\n", n, "\t", U0[n], "\t", U1[n])
        }
        #
        # make a plot to provide hard-copy for users
        #
        ttl <- paste("delta=", delta, "alpha=", alpha, "beta=", beta)
        yr <- range(na.omit(c(U0, U1)))
        #       dyr <- max(yr) - min(yr)
        #       yr <- c(yr[1] - 0.2 * dyr, yr[2] + 0.2 * dyr)
        pyr <- pretty(yr)
        plot(c(1, maxn), yr, type = "n", xlab = "Sample no.", ylab = "", 
main = ttl)
        lines(1:maxn, U0, lwd = 5, col = 13)
        lines(1:maxn, U1, lwd = 5, col = 13)
        text(1, U1[1], "Difference detected")
        text(1, U0[1], "Difference not detected")
        abline(v = seq(1:maxn), h = pyr)
        #
        # table as in Davies
        #
        ans <- data.frame(cbind(SampNo, U0, U1))
        ans
}

 
................................
Robert D. Kinley
Site Statistician
Eli Lilly & co
Speke, UK
++151 448 6347





KINLEY_ROBERT at lilly.com
Sent by: s-news-owner at lists.biostat.wustl.edu
08/03/2002 11:21

 
        To:     "s-news (E-mail)" <s-news at lists.biostat.wustl.edu>
        cc: 
        Subject:        [S] any S/R Code for Barnard's sequential t-test ?




Does anyone have, or know of, some S or R code to implement 
the sequential t-test ? 

The test is outlined in Kendall & Stuart vol 2A, ch 24, and a 'how 
to do it' with a set of tables is given in 'Design & Analysis of 
Industrial Experiments'  ( O.L.Davies). 

I'm interested in obtaining/creating an Splus or R application which 
calculates the upper and lower curves appropriate for arbitrary 
choices of alpha , Beta and mean-shift.       

Can anyone give me any pointers ? 

                ta        Bob 
 
...............................
Robert D. Kinley
Site Statistician
Eli Lilly & co
Speke, UK
++151 448 6347

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020322/d8d24882/attachment.html

From thomas.degris at wanadoo.fr  Fri Mar 22 15:58:36 2002
From: thomas.degris at wanadoo.fr (thomas)
Date: Fri, 22 Mar 2002 15:58:36 +0100
Subject: [R] Newbie with R
References: <3C922218.7070706@metafacts.de>
Message-ID: <3C9B469C.60503@wanadoo.fr>

Hello,

I just wanted to thank you everybody who helped me with R. I finished 
for the moment to use it but we never know I may come back to it one day...


So, thank you very much,

All the best,


Thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Fri Mar 22 16:47:28 2002
From: sway at tanox.com (Shawn Way)
Date: Fri, 22 Mar 2002 09:47:28 -0600
Subject: [R] Automatic Printing in windows
Message-ID: <0565F48FC373D411BE4D00B0D049602628E74D@nt40hou1.tanox.com>

I'm trying to use R as a report generator under windows.  I have everything
working except the printing, which I need to do to a specific printer in the
system, under batch conditions.

Any thoughts?

Shawn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Fri Mar 22 16:52:11 2002
From: snow at fisher.byu.edu (Greg Snow)
Date: Fri, 22 Mar 2002 08:52:11 -0700 (MST)
Subject: [R] how does while work
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC136@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.21.0203220847530.25131-100000@fisher.byu.edu>

On Thu, 21 Mar 2002, Liaw, Andy wrote:

> What he wanted is a mechanism to "watch" for a condition on a variable, and
> stop execution as soon as that condition is TRUE, regardless of where in the
> program.  The only thing that I know of that sort of does this is inside
> gdb, the GNU debugger.  AFAIK this is impossible.  If anyone has better
> idea, I'd like to hear about it, too.

You can use "next" and "break" inside of a loop to change the flow (next
goes on to the next iteration, break jumps completely out of the
loop).  Inside of a function you can use "return" to stop execution of the
function early (look at the definition of mean.default, it uses return to
stop processing if the trim is 0.5 or greater).

using these with well designed loops should allow you to jump out anywhere
that you need to.

-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Mar 22 17:53:07 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 22 Mar 2002 12:53:07 -0400 (AST)
Subject: [R] Missing html documentation.
Message-ID: <200203221653.MAA04467@gelfand.math.unb.ca>


I just tried looking at the documentation on ``Writing R extensions''
using my web-browser.  I clicked on the foregoing topic and
got the message ``The document contained no data ....''

Sure enough, when I investigated

	/usr/local/lib/R/doc/manual

all of the files there (from ``R-FAQ.html'' to ``R-lang.html'') were
empty --- there were files present, but all contained 0 bytes.

The files date from when I did the latest install (of 1.4.1) so
I must've screwed something up in the installation process.

	(a) What might I have screwed up?  I'm pretty sure
	that I simply did

			./configure
			make
			make check
			make install

	fairly mindlessly, and nothing untoward appeared to happen.


	(b) How might I get the appropriate files, rather than the
	empty ones, into /usr/local/lib/R/doc/manual?  Preferably
	without redoing the entire install procedure.

Thanks.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Fri Mar 22 18:32:23 2002
From: sway at tanox.com (Shawn Way)
Date: Fri, 22 Mar 2002 11:32:23 -0600
Subject: [R] Memory Allocation
Message-ID: <0565F48FC373D411BE4D00B0D049602628E74E@nt40hou1.tanox.com>

I'm trying to run a small batch program under the windows version of R
1.5.0.  One thing I'm noticing is that if I source the program under Rgui.
The application will work just fine, but if I use Rcmd BATCH --no-save
-max-mem-size=500M water.R as the batch process, it will not finish. (Or
even load the first file)

The programs load 4 CSV files at ~ 8 MB each, they are merged into two
data.frames and the original data is purged.

The error I get from the output file is:

>PFWA <-
read.csv("c:/temp/PFWA.csv",header=FALSE,strip.white=TRUE,na.strings=c("NULL
"),col.names=c("DateTime","Flow","Volume"))
Error: cannot allocate vector of size 235 Kb
In addition: Warning message: 
Reached total allocation of 500Mb: see help(memory.size) 
Execution halted

Any thoughts?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 22 18:48:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Mar 2002 17:48:31 +0000 (GMT)
Subject: [R] Memory Allocation
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E74E@nt40hou1.tanox.com>
Message-ID: <Pine.LNX.4.31.0203221745130.31542-100000@gannet.stats>

On Fri, 22 Mar 2002, Shawn Way wrote:

> I'm trying to run a small batch program under the windows version of R
> 1.5.0.  One thing I'm noticing is that if I source the program under Rgui.

R 1.5.0 is not released.  What is this?  Where did you get it from, or
did you compile it yourself from R-devel?

> The application will work just fine, but if I use Rcmd BATCH --no-save
> -max-mem-size=500M water.R as the batch process, it will not finish. (Or
> even load the first file)

Is that really the same version of R? That was a known problem in R 1.4.0,
solved in 1.4.1.

> The programs load 4 CSV files at ~ 8 MB each, they are merged into two
> data.frames and the original data is purged.
>
> The error I get from the output file is:
>
> >PFWA <-
> read.csv("c:/temp/PFWA.csv",header=FALSE,strip.white=TRUE,na.strings=c("NULL
> "),col.names=c("DateTime","Flow","Volume"))
> Error: cannot allocate vector of size 235 Kb
> In addition: Warning message:
> Reached total allocation of 500Mb: see help(memory.size)
> Execution halted

In general, don't increase --max-mem-size (it's --) unless you are
really sure you have enough usable RAM.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Fri Mar 22 18:58:41 2002
From: tdlong at uci.edu (Tony Long)
Date: Fri, 22 Mar 2002 09:58:41 -0800
Subject: [R] binom.test and small N
Message-ID: <a05101411b8c0344d944b@[128.200.28.179]>

running R 1.4.1 on MAC and 1.2.2 on Linux

When I use run binom.test with small N the results are a little 
perplexing to me

>binom.test(9,20,p=0.5)

gives the below plus other stuff

95 percent confidence interval:
  0.2305779 0.6847219

Now:

>pbiom(9,20,0.6847219)
[1] 0.02499998    # i.e., lower 2.5% of distribution
>pbinom(9,20,0.2305779)
[1] 0.9923132
>pbinom(8,20,0.2305779)
  [1] 0.975     # i.e.,  upper 2.5% of distribution

I would think I generally want a 95% CI on the observed 9 out of 20, 
not 8 out of 20 LB and 9 out of 20 UB.  I am missing something or is 
this strictly a function of the beta approximation used in the source 
code??

-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020322/497ea0c2/attachment.html

From p.dalgaard at biostat.ku.dk  Fri Mar 22 23:45:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2002 23:45:05 +0100
Subject: [R] binom.test and small N
In-Reply-To: <a05101411b8c0344d944b@[128.200.28.179]>
References: <a05101411b8c0344d944b@[128.200.28.179]>
Message-ID: <x2663o43ym.fsf@blueberry.kubism.ku.dk>

Tony Long <tdlong at uci.edu> writes:

> running R 1.4.1 on MAC and 1.2.2 on Linux
> 
> When I use run binom.test with small N the results are a little
> perplexing to me
> 
> >binom.test(9,20,p=0.5)
> 
> gives the below plus other stuff
> 
> 95 percent confidence interval:
>   0.2305779 0.6847219
> 
> Now:
> 
> >pbiom(9,20,0.6847219)
> [1] 0.02499998    # i.e., lower 2.5% of distribution
> >pbinom(9,20,0.2305779)
> [1] 0.9923132
> >pbinom(8,20,0.2305779)
>   [1] 0.975     # i.e.,  upper 2.5% of distribution
> 
> I would think I generally want a 95% CI on the observed 9 out of 20,
> not 8 out of 20 LB and 9 out of 20 UB.  I am missing something or is
> this strictly a function of the beta approximation used in the source
> code??

The devil is lurking in de tails...

Notice that you want "this or worse" in both cases, i.e. solve

P(X <= 9) = 2.5% for the upper bound and
P(X >= 9) = 2.5% for the lower bound

now, P(X >= 9) = 1 - P(X <= 8) for integer X.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Sat Mar 23 03:23:23 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Fri, 22 Mar 2002 18:23:23 -0800
Subject: [R] how to load a c function in R
Message-ID: <3C9BE71B.8A479B47@lbl.gov>

It seems that to use .C() I need to load that C function first.

Does anyone know how to do it?

Is it supposed that the C function has to return the initial arguments
(the input) but modified?

I want to use a function in C that requires other 2 functions in C to
create a workspace (space in memory) and then erase it?

Should I use two .C() several times consecutively (once for every
function)?

The functions are from the gsl library:

========================================================================================
Function: gsl_integration_workspace * gsl_integration_workspace_alloc
(size_t n) 
    This function allocates a workspace sufficient to hold n double
precision intervals, their integration results
    and error estimates. 

Function: void gsl_integration_workspace_free (gsl_integration_workspace
* w) 
    This function frees the memory associated with the workspace w. 

Function: int gsl_integration_qag (const gsl_function *f, double a,
double b, double epsabs, double epsrel, size_t
limit, int key, gsl_integration_workspace * workspace, double * result,
double * abserr)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Mar 23 03:46:46 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 22 Mar 2002 20:46:46 -0600
Subject: [R] how to load a c function in R
In-Reply-To: <3C9BE71B.8A479B47@lbl.gov>
References: <3C9BE71B.8A479B47@lbl.gov>
Message-ID: <20020323024645.GA13918@sonny.eddelbuettel.com>


Did you look at the "R Extensions" manual?  It discusses this in length.

Concrete examples are also provided by many of the 150 CRAN packages.

Hth, Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarry.makobi at totalise.co.uk  Sat Mar 23 01:59:37 2002
From: jarry.makobi at totalise.co.uk (JARRY  MAKOBI )
Date: Sat, 23 Mar 2002 01:59:37
Subject: [R] proposal
Message-ID: <200203231259.NAA12496@stat.math.ethz.ch>

     FEDERAL MINISTRY OF WORKS AND HOUSING
                   FEDERAL SECRETARIAT
                        IKOYI-LAGOS


FROM:JARRY MAKOBI      ATTN:THE PRESIDENT/CEO
TEL: 234-1-7761501           
FAX: 234-1-7593963

Dear Sir,

    ASSISTANCE REQUIRED FOR ACQUISITION OF ESTATE

I write to inform you of my desire to acquire estates
or landed properties in your country on behalf of the
Director of Contracts and  Finance Allocations of the
Federal Ministry of Works and Housing in Nigeria.

Considering his very strategic and influential
position, he would want the transaction to be as
strictly confidential as possible. He further wants
his identity to remain undisclosed at least for now,
untill the completion of the transaction. Hence our
desire to have an overseas agent.

I have therefore been directed to inquire if you would
agree to act as our overseas agent in order to
actualize this transaction.

The deal, in brief, is that the funds with which we
intend to carry out our proposed investments in your
country is presently in a coded account at the
Nigerian Apex Bank (i.e. the Central Bank of Nigeria)
and we need your assistance to transfer the funds to
your country in a convenient bank account that will be
provided by you before we can put the funds 
into use in your country. For this, you shall be
considered to have executed a contract for the Federal
Ministry of Works and Housing in Nigeria for which
payment should be effected to you by the Ministry, The
contract sum of which shall run into US$26.4 Million, 
of  which your share shall be 30% if you agree to be
our overseas agent.

As soon as payment is effected, and the amount
mentioned above is successfully transferred into your
account, we intend to use our own share in acquiring
some estates abroad. For this too you shall also serve

as our agent.
In the light of this, I would like you to forward to
me the following information:

1. Your company name and address if any
2. Your personal fax number
3. Your personal telephone number  for easy
communication.

You are requested to communicate your acceptance of
this proposal through my above stated email address
after which we shall discuss in details the modalities

for seeing this transaction through.

Your quick response will be highly appreciated. Thank
you in anticipation of your cooperation.

Yours faithfully,
JARRY MAKOBI

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Mar 23 20:07:30 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Sat, 23 Mar 2002 11:07:30 -0800
Subject: [R] Normal behavior or bug?
Message-ID: <5.1.0.14.2.20020323110250.00a7d780@pop4.attglobal.net>

 >selectiris<-sample(1:5, 150, replace=T)
 > hist(selectiris, plot=TRUE) #freq=TRUE, breaks=5, etc all do the same thing
 >truehist(selectiris)

Is the behavior of "hist" in this sample of code correct.  On my system 
(Windows 2K, SP2) the first and second bars are pushed together, while the 
3rd, 4th, and 5th bars are correctly positioned.

The function "truehist" gives the correct representation of the data.

Am I missing an option in hist or is there a bug?

This appears in 1.4.1 as well as the "unstable" version 1.5.0.

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    4.1
year     2002
month    01
day      30
language R




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Beyond every credibility gap lies a gullibility fill"

Powered by  Latochoerus and Windows 2000, SP1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 23 21:15:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Mar 2002 20:15:57 +0000 (GMT)
Subject: [R] Normal behavior or bug?
In-Reply-To: <5.1.0.14.2.20020323110250.00a7d780@pop4.attglobal.net>
Message-ID: <Pine.LNX.4.31.0203232012540.13782-100000@gannet.stats>

On Sat, 23 Mar 2002, Marc Feldesman wrote:

>  >selectiris<-sample(1:5, 150, replace=T)
>  > hist(selectiris, plot=TRUE) #freq=TRUE, breaks=5, etc all do the same thing
>  >truehist(selectiris)
>
> Is the behavior of "hist" in this sample of code correct.  On my system
> (Windows 2K, SP2) the first and second bars are pushed together, while the
> 3rd, 4th, and 5th bars are correctly positioned.
>
> The function "truehist" gives the correct representation of the data.
>
> Am I missing an option in hist or is there a bug?

Neither.  It's a design feature.  Those spaces are empty bins. If you use
right=FALSE you will get a different pattern.

The default bins are [1, 1.5], (1.5, 2], (2, 2.5] ....
and your data are integers, so (2, 2.5] is empty.

This is one of the quirks that truehist() was designed to avoid.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sun Mar 24 11:41:28 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sun, 24 Mar 2002 22:41:28 +1200 (NZST)
Subject: [R] Data Checking
Message-ID: <Pine.SOL.4.21.0203242237560.22945-100000@stat1.stat.auckland.ac.nz>

Hi,

This is a simple question with if elseif....however I am having trouble
constructing the solution for some reason.

Suppose I have a data set with 3 variables, a, b and c say.  Let's say c
is the sum of a and b.  So:
  a  b  c
  1  2  3
  2  3  5
  3  4  7
  .  .  .
  .  .  .
  .  .  .

Suppose that I know there have been some data entry errors and I want to
check if ALL values in c is really the sum of a and b, and if not, print
out the whole line (i.e. all values of a, b and c in that row).

Any help on how I can write this if elseif block will be apprecaited!

Ko-Kang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Sun Mar 24 12:26:39 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 24 Mar 2002 12:26:39 +0100
Subject: [R] Data Checking
References: <Pine.SOL.4.21.0203242237560.22945-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3C9DB7EF.E9D129E2@statistik.uni-dortmund.de>

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> This is a simple question with if elseif....however I am having trouble
> constructing the solution for some reason.
> 
> Suppose I have a data set with 3 variables, a, b and c say.  Let's say c
> is the sum of a and b.  So:
>   a  b  c
>   1  2  3
>   2  3  5
>   3  4  7
>   .  .  .
>   .  .  .
>   .  .  .
> 
> Suppose that I know there have been some data entry errors and I want to
> check if ALL values in c is really the sum of a and b, and if not, print
> out the whole line (i.e. all values of a, b and c in that row).
> 
> Any help on how I can write this if elseif block will be apprecaited!

Assume your "data set" is a data.frame():

 X <- data.frame(a=1:5, b=2:6, ce=c(3,5,7,6,11)) 
 # Let's call it a, b, ce --- c already is a function
 # Now get the rows with errors:
 X[X$a + X$b != X$ce, ]


So you neither need the construct
  if(condition){
	statement
  }
  else{
	statement2
  }

nor
  elseif(condition, statement1, statement2)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Mar 24 13:17:07 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sun, 24 Mar 2002 13:17:07 +0100 (CET)
Subject: [R] Data Checking
In-Reply-To: <Pine.SOL.4.21.0203242237560.22945-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.44.0203241310460.5747-100000@tal.stat.umu.se>

On Sun, 24 Mar 2002, Ko-Kang Kevin Wang wrote:

> Hi,
> 
> This is a simple question with if elseif....however I am having trouble
> constructing the solution for some reason.
> 
> Suppose I have a data set with 3 variables, a, b and c say.  Let's say c
> is the sum of a and b.  So:
>   a  b  c
>   1  2  3
>   2  3  5
>   3  4  7
>   .  .  .
>   .  .  .
>   .  .  .
> 
> Suppose that I know there have been some data entry errors and I want to
> check if ALL values in c is really the sum of a and b, and if not, print
> out the whole line (i.e. all values of a, b and c in that row).
> 
> Any help on how I can write this if elseif block will be apprecaited!

Try subsetting:

> dataset <- data.frame(a, b, c)
> dataset[a + b != c, ]

is what you want. You should consider whether you want to test exact or
approximate equality, though.

G?ran 
> 
> Ko-Kang
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 24 15:26:03 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sun, 24 Mar 2002 09:26:03 -0500
Subject: [R] Data Checking
In-Reply-To: <Pine.SOL.4.21.0203242237560.22945-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3C9D9BAB.7681.11194F@localhost>

  d <- data.frame( a  = 1:3, b = 2:4, c=c(3,5,9) )    # last row wrong
  subset(d, a+b!=c )

On 24 Mar 2002 at 22:41, Ko-Kang Kevin Wang wrote:

> Hi,
> 
> This is a simple question with if elseif....however I am having trouble
> constructing the solution for some reason.
> 
> Suppose I have a data set with 3 variables, a, b and c say.  Let's say c
> is the sum of a and b.  So:
>   a  b  c
>   1  2  3
>   2  3  5
>   3  4  7
>   .  .  .
>   .  .  .
>   .  .  .
> 
> Suppose that I know there have been some data entry errors and I want to
> check if ALL values in c is really the sum of a and b, and if not, print
> out the whole line (i.e. all values of a, b and c in that row).
> 
> Any help on how I can write this if elseif block will be apprecaited!
> 
> Ko-Kang
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Mar 24 18:12:31 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Sun, 24 Mar 2002 09:12:31 -0800
Subject: [R] Creating missing values.
Message-ID: <5.1.0.14.2.20020323193903.00a7e2d0@pop4.attglobal.net>

I'm trying to figure out whether there is a simple one or two-pass approach 
to randomly creating missing values for a set of existing (complete) 
data.  For example, I want to randomly make 10% of the entries in the Iris 
dataset missing (i.e. NA).  I don't want any case to have all missing 
values and I don't want any case to be missing the classification 
variable.  I can do this in about 3 passes, but I haven't figured out 
whether there is an efficient way to do this in one or two passes through 
the data.

My approach involves creating a dummy vector with a length equal to the 
full length
of the Iris data (750 elements).  >sample(750, 1:10, replace=T).  I then 
assigned all values of 2 to be 0 and all others to be 1.  This left me with 
approximately 10% of the entries as "missing".  I reshaped this into a 150 
x 5 matrix.   From here, things were pretty straightforward.

Is there anyway to bypass the dummy vector and operate directly on a copy 
of the original Iris matrix and get to the point above without the 
intermediate steps?

Thanks.


=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Beyond every credibility gap lies a gullibility fill"

Powered by  Latochoerus and Windows 2000, SP1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From w.huber at dkfz-heidelberg.de  Sun Mar 24 21:29:13 2002
From: w.huber at dkfz-heidelberg.de (Wolfgang Huber)
Date: Sun, 24 Mar 2002 21:29:13 +0100
Subject: [R] arsinh
Message-ID: <3C9E3719.BD7449B2@dkfz.de>


What is the correct English pronounciation of the function name "arsinh"?

(Please excuse that this is is quite an R question, but this list is the best place I can think of for people to know the answer.)


Wolfgang Huber
DKFZ 
Dep. Molecular Genome Analysis 
69120 Heidelberg 
Germany
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sun Mar 24 21:55:04 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sun, 24 Mar 2002 21:55:04 +0100
Subject: [R] r help search and internet explorer in win2k
Message-ID: <3C9E3D28.15C0C0A5@univie.ac.at>

i installed the recent security patch for the ms java vm 
(dated early march 2002) on win2k
and since then internet explorer regularly hangs when i try
searching in r standard htlp help.

can anybody either confirm this problem or tell me
that it might be specific to my machine?

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 24 22:07:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 24 Mar 2002 21:07:17 +0000 (GMT)
Subject: [R] r help search and internet explorer in win2k
In-Reply-To: <3C9E3D28.15C0C0A5@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0203242102120.11690-100000@gannet.stats>

On Sun, 24 Mar 2002, Erich Neuwirth wrote:

> i installed the recent security patch for the ms java vm
> (dated early march 2002) on win2k
> and since then internet explorer regularly hangs when i try
> searching in r standard htlp help.
>
> can anybody either confirm this problem or tell me
> that it might be specific to my machine?

You haven't told us your version of IE (or for people with broken
shift keys, ie).  I have used an up-to-date IE6 successfully on XP and
Windows 2000.  There are known problems with Java and IE5.5.

There are several other browsers you could use on Windows, with proper
Java support.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Sun Mar 24 22:30:38 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Sun, 24 Mar 2002 15:30:38 -0600 (CST)
Subject: [R] readline?
Message-ID: <Pine.GSO.4.33.0203241517420.15719-100000@ysidro.econ.uiuc.edu>

We've recently "upgraded" a server to solaris 8, and in reinstalling R
I've encountered a problem in getting it to recognize the readline library.
I have installed readline in what I believe to be the "usual" place:
/usr/local/lib with include files in /usr/local/include/readline.
But ./configure  produces:

ragnar.econ.uiuc.edu# grep readline hout
checking for rl_callback_read_char in -lreadline... (cached) no
checking for readline/history.h... (cached) no
checking for readline/readline.h... (cached) no

I've checked the following:

ragnar.econ.uiuc.edu# dump -t /usr/local/lib/libreadline.so |grep callback
....
[2619]   0x11ad8     272      2         1       0       0x3     rl_callback_read_char

Any suggestions for further checking would be most welcome.

url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Mar 25 00:53:36 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 25 Mar 2002 00:53:36 +0100
Subject: [R] r help search and internet explorer in win2k
References: <Pine.LNX.4.31.0203242102120.11690-100000@gannet.stats>
Message-ID: <3C9E6700.A93E5981@univie.ac.at>

i am using ie 6.0.2600.0000,
on win2k sr1 with all the current paches installed.
afaik this is the current version.
things worked before i installed the java vm patch.


ripley at stats.ox.ac.uk wrote:
> 
> On Sun, 24 Mar 2002, Erich Neuwirth wrote:
> 
> > i installed the recent security patch for the ms java vm
> > (dated early march 2002) on win2k
> > and since then internet explorer regularly hangs when i try
> > searching in r standard htlp help.
> >
> > can anybody either confirm this problem or tell me
> > that it might be specific to my machine?
> 
> You haven't told us your version of IE (or for people with broken
> shift keys, ie).  I have used an up-to-date IE6 successfully on XP and
> Windows 2000.  There are known problems with Java and IE5.5.
> 
> There are several other browsers you could use on Windows, with proper
> Java support.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Mar 25 01:06:27 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 24 Mar 2002 16:06:27 -0800 (PST)
Subject: [R] readline?
In-Reply-To: <Pine.GSO.4.33.0203241517420.15719-100000@ysidro.econ.uiuc.edu>
Message-ID: <Pine.GSO.4.10.10203241605200.21842-100000@quetelet.stat.ucla.edu>

Maybe running 'make distclean' and configure again.  It seems like
configure may be reading from a cache file from a previous install?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 24 Mar 2002, Roger Koenker wrote:

> We've recently "upgraded" a server to solaris 8, and in reinstalling R
> I've encountered a problem in getting it to recognize the readline library.
> I have installed readline in what I believe to be the "usual" place:
> /usr/local/lib with include files in /usr/local/include/readline.
> But ./configure  produces:
> 
> ragnar.econ.uiuc.edu# grep readline hout
> checking for rl_callback_read_char in -lreadline... (cached) no
> checking for readline/history.h... (cached) no
> checking for readline/readline.h... (cached) no
> 
> I've checked the following:
> 
> ragnar.econ.uiuc.edu# dump -t /usr/local/lib/libreadline.so |grep callback
> ....
> [2619]   0x11ad8     272      2         1       0       0x3     rl_callback_read_char
> 
> Any suggestions for further checking would be most welcome.
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Mar 25 01:17:54 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 25 Mar 2002 01:17:54 +0100
Subject: [R] mozilla 0.99 as help browser on win2k
Message-ID: <3C9E6CB2.E7F74C5D@univie.ac.at>

i installed mozilla 0.99 (i know, this is beta, not a released version)
on win2k to test is as the browser for html help.
it does not work.

Help->R language (html)

from the menu starts mozilla,
but mozilla tries to open the url
http://www.c.com/

and not
C:\Program Files\R\rw1041\doc\html\rwin.html
as it does with another browser.

R is current, 1.4.1
anybody else tried this already?


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j_turner at ihug.co.nz  Mon Mar 25 01:35:04 2002
From: j_turner at ihug.co.nz (j_turner@ihug.co.nz)
Date: Mon, 25 Mar 2002 00:35:04 GMT
Subject: [R] readline?
Message-ID: <200203250038.MAA11175@smtp4.ihug.co.nz>

> ragnar.econ.uiuc.edu# grep readline hout
> checking for rl_callback_read_char in -lreadline... (cached) no
> checking for readline/history.h... (cached) no
> checking for readline/readline.h... (cached) no

rm config.cache

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at uniandes.edu.co  Mon Mar 25 05:28:59 2002
From: iperez at uniandes.edu.co (Ignacio  Perez Velez)
Date: Sun, 24 Mar 2002 23:28:59 -0500 (GMT+5)
Subject: [R] Problems installing Tcl/Tk
Message-ID: <200203250428.g2P4SxY3012546@ayax.uniandes.edu.co>


Hi!

Two questions:

1.-I am trying to put Tcl/tk to work. I keep getting the following:

>Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>	unable to load shared library
"C:/RW1041/library/tcltk/libs/tcltk.dll":
>LoadLibrary failure:  No se puede hallar uno de los archivos de biblioteca
necesarios para ejecutar esta aplicación.
>Error in library(tcltk) : .First.lib failed

I've tried what is suggested on th R-FAQ and done what Professor Ripley
recommended on a previous request identical to mine posted to this list on
February. I can´t get things to work.

2.-I am working with Windows ME in Spanish. I've tried what is suggested on
the R-FAQ to avoid crashing by downloading msvcrt.dll and putting on the
R/bin directory. It keeps crashing. Any suggestions?.

Sorry if this questions were already asked, but I can't put things to work.
Thanks in advance


Ignacio Perez



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 24 19:32:57 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sun, 24 Mar 2002 13:32:57 -0500
Subject: [R] pipe
Message-ID: <3C9DD589.16689.F32187@localhost>

    [this msg was first bounced and the manually approved;
     don't capitalize "xxx": it looks too much like a word
     used in a particular kind of spam.   Your list maintainer, MM]


I would like to read in a .csv file ignoring all lines
before the header line.  I am counting on the header
line being the first line that has xxx in it.   I don't
know how many lines to skip prior to that line, otherwise
I would use the skip= feature of read.csv.

This is sort of what I would like to do, although I gather
this is not real R since I tried it without success:

my.table <- read.csv("gawk '/xxx/{++z};z' myfile.csv |")

The gawk program prints out only those lines starting from
the first line containing xxx.

I have played around with pipe() but could not get anything
to work.

I am using R 1.4.1 on Windows 2000.

Any ideas on how to accomplish this?




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 08:32:30 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Mar 2002 07:32:30 +0000 (GMT)
Subject: [R] mozilla 0.99 as help browser on win2k
In-Reply-To: <3C9E6CB2.E7F74C5D@univie.ac.at>
Message-ID: <Pine.GSO.4.44.0203250731280.15266-100000@auk.stats>

On Mon, 25 Mar 2002, Erich Neuwirth wrote:

> i installed mozilla 0.99 (i know, this is beta, not a released version)
> on win2k to test is as the browser for html help.
> it does not work.
>
> Help->R language (html)
>
> from the menu starts mozilla,
> but mozilla tries to open the url
> http://www.c.com/
>
> and not
> C:\Program Files\R\rw1041\doc\html\rwin.html
> as it does with another browser.
>
> R is current, 1.4.1
> anybody else tried this already?

Netscape 6.2.1 has the same problem. It works in R-devel: see the CHANGES
file there.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 08:38:41 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Mar 2002 07:38:41 +0000 (GMT)
Subject: [R] pipe
In-Reply-To: <3C9DD589.16689.F32187@localhost>
Message-ID: <Pine.GSO.4.44.0203250734550.15266-100000@auk.stats>

On Sun, 24 Mar 2002 ggrothendieck at yifan.net wrote:

>     [this msg was first bounced and the manually approved;
>      don't capitalize "xxx": it looks too much like a word
>      used in a particular kind of spam.   Your list maintainer, MM]
>
>
> I would like to read in a .csv file ignoring all lines
> before the header line.  I am counting on the header
> line being the first line that has xxx in it.   I don't
> know how many lines to skip prior to that line, otherwise
> I would use the skip= feature of read.csv.
>
> This is sort of what I would like to do, although I gather
> this is not real R since I tried it without success:
>
> my.table <- read.csv("gawk '/xxx/{++z};z' myfile.csv |")
>
> The gawk program prints out only those lines starting from
> the first line containing xxx.
>
> I have played around with pipe() but could not get anything
> to work.
>
> I am using R 1.4.1 on Windows 2000.
>
> Any ideas on how to accomplish this?

Windows has very limited support for pipes on GUI executables.  A
version with pipe should work under Rterm.

However, one could use R to read the file with a line at a time with
readLines, check each line until you get the header, then pass the
connection to read.csv. If the header is to be read by read.csv, push it
back.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Mar 25 09:50:43 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 25 Mar 2002 09:50:43 +0100
Subject: [R] Problems installing Tcl/Tk
In-Reply-To: <200203250428.g2P4SxY3012546@ayax.uniandes.edu.co>
Message-ID: <KKEGJOGBELBHDIKPINBMKEBLCLAA.hb@maths.lth.se>

Hi, I am not sure what Tcl/Tk you are running, but it is most likely that
[R] does not find the Tcl/Tk software. You have installed a Tcl/Tk software
seperately from [R] have you? I am running ActiveTcl 8.3.2 myself. You can
get it from http://dev.scriptics.com. When you install it, it most likely
installed into

   C:\Program Files\Tcl\

You have to add then C:\Program Files\Tcl\bin\ (**\bin\**) to the system
environment variable PATH. If this is not correctly done I get the following
error:

  > library(tcltk)
  Error in dyn.load(x, as.logical(local), as.logical(now)) :
          unable to load shared library "C:/PROGRA~
   1/R/RW1041/library/tcltk/libs/tcltk.dll":
    LoadLibrary failure:  One of the library files needed to run this
  application cannot be found.
  Error in library(tcltk) : .First.lib failed

>From within [R] you can update your PATH as below:

  > PATH <- Sys.getenv("PATH")[[1]]
  > PATH2 <- paste(PATH, "C:\\Program Files\\Tcl\\bin\\", sep=";")
  > Sys.putenv(PATH=PATH2)
  > library(tcltk)
  >

and it works. If this works just add

  SET PATH=%PATH%;C:\PROGRA~1\TCL\bin

to C:\AUTOEXEC.BAT and you never have to do the Sys.getenv()/Sys.putenv()
above. If you are running Cygwin with bash you also have to add

  export PATH="$PATH:/c/program files/tcl/bin/"

to your general-bashrc file or similar.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ignacio Perez Velez
> Sent: Monday, March 25, 2002 5:29 AM
> To: R-help at stat.math.ethz.ch
> Subject: [R] Problems installing Tcl/Tk
>
>
>
> Hi!
>
> Two questions:
>
> 1.-I am trying to put Tcl/tk to work. I keep getting the following:
>
> >Error in dyn.load(x, as.logical(local), as.logical(now)) :
> >	unable to load shared library
> "C:/RW1041/library/tcltk/libs/tcltk.dll":
> >LoadLibrary failure:  No se puede hallar uno de los archivos de
> biblioteca
> necesarios para ejecutar esta aplicaci?n.
> >Error in library(tcltk) : .First.lib failed
>
> I've tried what is suggested on th R-FAQ and done what Professor Ripley
> recommended on a previous request identical to mine posted to this list on
> February. I can?t get things to work.
>
> 2.-I am working with Windows ME in Spanish. I've tried what is
> suggested on
> the R-FAQ to avoid crashing by downloading msvcrt.dll and putting on the
> R/bin directory. It keeps crashing. Any suggestions?.
>
> Sorry if this questions were already asked, but I can't put
> things to work.
> Thanks in advance
>
>
> Ignacio Perez
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Mar 25 11:04:20 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 25 Mar 2002 11:04:20 +0100 (CET)
Subject: [R] Data Checking
In-Reply-To: <3C9DB7EF.E9D129E2@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.44.0203251034420.1044-100000@localhost.localdomain>

 On Sun, 24 Mar 2002, Uwe Ligges wrote:

  |Ko-Kang Kevin Wang wrote:
  |> 
  |> Hi,
  |> 
  |> This is a simple question with if elseif....however I am having trouble
  |> constructing the solution for some reason.
  |> 
  |> Suppose I have a data set with 3 variables, a, b and c say.  Let's say c
  |> is the sum of a and b.  So:
  |>   a  b  c
  |>   1  2  3
  |>   2  3  5
  |>   3  4  7
  |>   .  .  .
  |>   .  .  .
  |>   .  .  .
  |> 
  |> Suppose that I know there have been some data entry errors and I want to
  |> check if ALL values in c is really the sum of a and b, and if not, print
  |> out the whole line (i.e. all values of a, b and c in that row).
  |> 
  |> Any help on how I can write this if elseif block will be apprecaited!
  |
  |Assume your "data set" is a data.frame():
  |
  | X <- data.frame(a=1:5, b=2:6, ce=c(3,5,7,6,11)) 
  | # Let's call it a, b, ce --- c already is a function
  | # Now get the rows with errors:
  | X[X$a + X$b != X$ce, ]
  |

I do recommend not to use == or != to test equality.  Operators == or != are usable
== _only_ for integers.  Generally, on digital computers you can never know
when two real numbers are equal.  Here is a simle example (R 1.4.0, P-II,
linux):

> 1 + 2
[1] 3
> 1 + 2 == 3
[1] TRUE
> 1.1 + 2.2
[1] 3.3
> 1.1 + 2.2 == 3.3
[1] FALSE

So, using Uwe's example, you should write something like

tolerance= .Machine$double.eps ^ 0.5
> X[abs(X$a + X$b - X$ce) > tolerance,]
  a b ce
4 4 5  6


Regards,

Ott Toomet


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Mar 25 15:26:21 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 25 Mar 2002 15:26:21 +0100
Subject: [R] Logistic regression in R?
Message-ID: <20020325152621.A1153@ling.umu.se>

Hi all!

I want to do some logistic regression. Is there a fintion in R that does
this, or do I have to do the variable conversion by hand?

Thankful for all the help I can get.

/Fredrik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 25 15:39:18 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Mar 2002 15:39:18 +0100
Subject: [R] Logistic regression in R?
In-Reply-To: <20020325152621.A1153@ling.umu.se>
References: <20020325152621.A1153@ling.umu.se>
Message-ID: <x2pu1sogo9.fsf@blueberry.kubism.ku.dk>

Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:

> Hi all!
> 
> I want to do some logistic regression. Is there a fintion in R that does
> this, or do I have to do the variable conversion by hand?
> 
> Thankful for all the help I can get.

glm(...., family=binomial) should do it (unless you mean something
different than the usual by "logistic regression")
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Mar 25 16:08:08 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 25 Mar 2002 10:08:08 -0500
Subject: [R] Logistic regression in R?
In-Reply-To: <20020325152621.A1153@ling.umu.se>; from fredrik.karlsson@ling.umu.se on Mon, Mar 25, 2002 at 03:26:21PM +0100
References: <20020325152621.A1153@ling.umu.se>
Message-ID: <20020325100808.A15320@cattell.psych.upenn.edu>

On 03/25/02 15:26, Fredrik Karlsson wrote:
>Hi all!
>
>I want to do some logistic regression. Is there a fintion in R that does
>this, or do I have to do the variable conversion by hand?

The simplest way of doing this is to use glm, with
family=binomial

See http://www.psych.upenn.edu/~baron/rpsych.htm
section 6.9.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Mar 25 16:15:20 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 25 Mar 2002 16:15:20 +0100 (CET)
Subject: [R] Logistic regression in R?
In-Reply-To: <x2pu1sogo9.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.20020325161520.plummer@iarc.fr>

On 25-Mar-2002 Peter Dalgaard BSA wrote:
> Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:
> 
>> Hi all!
>> 
>> I want to do some logistic regression. Is there a fintion in R that does
>> this, or do I have to do the variable conversion by hand?
>> 
>> Thankful for all the help I can get.
> 
> glm(...., family=binomial) should do it (unless you mean something
> different than the usual by "logistic regression")

glm() gives results in terms of log odds ratios.  Most epidemiologists
that I know prefer to think in terms of odds ratios, and it would be
quite helpful to have a summary function that reports estimates and
confidence intervals for the transformed parameters.  I don't know if
that is what Fredrik means by "variable conversion", but it reminded me of
this problem. I suggest a "transform=FUN" argument for summary.glm.

Incidentally, stata and SAS both have separate procedures for logistic
regression and glms, perhaps for this reason, in addition to historical
ones.

Martyn  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Mar 25 16:31:27 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 25 Mar 2002 16:31:27 +0100
Subject: [R] Logistic regression in R?
In-Reply-To: <x2pu1sogo9.fsf@blueberry.kubism.ku.dk>
References: <20020325152621.A1153@ling.umu.se> <x2pu1sogo9.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020325163127.A1463@ling.umu.se>

Thank you everyone for the quick responses!

glm did solve my problem!

/Fredrik

On Mon, Mar 25, 2002 at 03:39:18PM +0100, Peter Dalgaard BSA wrote:
> Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:
> 
> > Hi all!
> > 
> > I want to do some logistic regression. Is there a fintion in R that does
> > this, or do I have to do the variable conversion by hand?
> > 
> > Thankful for all the help I can get.
> 
> glm(...., family=binomial) should do it (unless you mean something
> different than the usual by "logistic regression")
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Mon Mar 25 17:57:23 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Mon, 25 Mar 2002 08:57:23 -0800
Subject: [R] MARS
Message-ID: <3C9F56F3.5D2751CD@noaa.gov>

Is there a function for MARS  (Modeling with Automated Regression
Tools) available for R PC window users ? I know there is a commercial
package from Salford systems and there is a shared function for Unix
system.


Nancy Lo




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 18:02:45 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Mar 2002 17:02:45 +0000 (GMT)
Subject: [R] MARS
In-Reply-To: <3C9F56F3.5D2751CD@noaa.gov>
Message-ID: <Pine.LNX.4.31.0203251702170.6420-100000@gannet.stats>

See package mda

On Mon, 25 Mar 2002, Nancy Lo wrote:

> Is there a function for MARS  (Modeling with Automated Regression
> Tools) available for R PC window users ? I know there is a commercial
> package from Salford systems and there is a shared function for Unix
> system.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Mon Mar 25 18:04:35 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Mon, 25 Mar 2002 09:04:35 -0800
Subject: [R] MARS function
Message-ID: <3C9F58A3.E0EDF9B2@noaa.gov>

Is there a MARS  function available for PC winder users? I know there is
a commercial package and a unix shared function available.

Thank you for your time.


Nancy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Mon Mar 25 20:17:43 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Mon, 25 Mar 2002 14:17:43 -0500
Subject: [R] pipe
In-Reply-To: <Pine.GSO.4.44.0203250734550.15266-100000@auk.stats>
References: <3C9DD589.16689.F32187@localhost>
Message-ID: <3C9F3187.3932.F7457D@localhost>

Thanks.  I checked out readLines, which you mentioned, and 
using that,  came up with the following compact solution
which skips all lines prior to the first containing the string
xxx and reads the non-skipped lines as a csv file:

   read.csv( fn, skip = grep("xxx",readLines(fn))[1]-1 )

On 25 Mar 2002 at 7:38, Prof Brian D Ripley wrote:

> On Sun, 24 Mar 2002 ggrothendieck at yifan.net wrote:
> 
> >     [this msg was first bounced and the manually approved;
> >      don't capitalize "xxx": it looks too much like a word
> >      used in a particular kind of spam.   Your list maintainer, MM]
> >
> >
> > I would like to read in a .csv file ignoring all lines
> > before the header line.  I am counting on the header
> > line being the first line that has xxx in it.   I don't
> > know how many lines to skip prior to that line, otherwise
> > I would use the skip= feature of read.csv.
> >
> > This is sort of what I would like to do, although I gather
> > this is not real R since I tried it without success:
> >
> > my.table <- read.csv("gawk '/xxx/{++z};z' myfile.csv |")
> >
> > The gawk program prints out only those lines starting from
> > the first line containing xxx.
> >
> > I have played around with pipe() but could not get anything
> > to work.
> >
> > I am using R 1.4.1 on Windows 2000.
> >
> > Any ideas on how to accomplish this?
> 
> Windows has very limited support for pipes on GUI executables.  A
> version with pipe should work under Rterm.
> 
> However, one could use R to read the file with a line at a time with
> readLines, check each line until you get the header, then pass the
> connection to read.csv. If the header is to be read by read.csv, push it
> back.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Mon Mar 25 20:41:01 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Mon, 25 Mar 2002 15:41:01 -0400 (AST)
Subject: [R] Extreme value distributions (Long.)
Message-ID: <200203251941.PAA27207@gelfand.math.unb.ca>

This may not actually be an R/Splus problem, but it started
off that way .....

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
Executive summary:
==================

Simulations involving extreme value distributions seem to ``work''
when the underlying distribution is exponential(1) or exponential(2)
== chi-squared_2, but NOT when the underlying distribution is
chi-squared_1.

Can anyone make an educated conjecture as to why?
===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

More (much more!) detail:
=========================

I have recently been doing some simulations which relate to extreme
value distributions.  I have observed a phenomenon which puzzles me,
and I would appreciate it if anyone could shed some light on the
puzzle.  The phenomenon occurs in both R and Splus.  (Also, I have
now discovered, in stand-alone Fortran.)

The phenomenon boils down to this:

	I generate ``nsam'' samples of chi-squared_1 iid random
	variables, each sample being of size ``n''.

	For each sample, let M be the maximum of the sample,
	and let the statistic S = (M - d_n)/2, where

		d_n = 2*ln(n) - ln(ln(n)) - ln(pi).

	Count the number K of times that G(S) < 0.05 where G(x) is
	the cdf of the Gumbel distribution, G(x) = exp(-exp(-x)).

	Then form alpha-hat = K/nsam.

	According to theory, alpha-hat should ---> 0.05 as n ---> infinity.

	(The chi-squared_1 distribution is a special case of the
	Gamma distribution, which is in the domain of attraction of
	the Gumbel distribution.  The normalizing constants for
	a Gamma(a,b) distribution are

		d_n = b*[ln(n) + (a-1)*ln(ln(n)) - ln(Gamma(a))]
		c_n = b
	
	and for the chi-squared_1 distribution, a = 1/2, b=2, giving
	d_n = 2*ln(n) - ln(ln(n)) - ln(pi) and c = 2.  Note that I am
	using the parameterization of the Gamma distribution such
	that the mean is a*b and the variance is a*b^2.)

	In numerous simulations I have found that the values
	of alpha-hat are generally substantially LESS than 0.05 ---
	tending perhaps to hang around 0.03 or 0.04 for large n.

	The simulations that I have done so far are with nsam = 1000
	and 10000, and with n varying from 100 to 10000 [n in
	c(100*(1:10),1000*(2:10))].

A colleague of mine suggested that perhaps rnorm() has a problem out
in the tails --- i.e. perhaps rnorm() works by calculating F^{-1}(U)
where U is Uniform[0,1], and the implementation of F^{-1}() does not
give quite as much weight as it ought for the tails.  This would
result in getting extreme values less often than we should, and hence
getting low values of alpha-hat.

BUT I tried the simulations using a ``roll your own'' normal random
number generator (``myrnorm()''; see below) --- which does NOT depend
on approximating F^{-1} for the normal distribution --- and got the
same phenomenon.

Another colleague suggested that perhaps 10000 simply isn't large
enough --- that at 10000, the asymptotics haven't really kicked in
yet, and perhaps we need n = 100000 or n = 1000000 before the
asymptotic result gives a good approximation to reality.  If this
were so it would be very disappointing; if the asymptotics are
no good at n = 10000, then they are not of much use in practice.

I tried a simulation --- computations done entirely in Fortran;
completely independent of R or Splus --- with n in
c(100*(1:10),10000*(1:10)).  I got the following values of
alpha-hat:

0.0290 0.0190 0.0390 0.0260 0.0260 0.0280 0.0260 0.0390 0.0250 0.0280
0.0470 0.0360 0.0340 0.0300 0.0400 0.0300 0.0370 0.0450 0.0410 0.0310

For this simulation ``nsam'' was 1000.  The chi-squared variates were
formed by squaring N(0,1) variates which were in turn generated using
the same procedure as in ``myrnorm()''.

I also tried simulations with the ``standard'' exponential(1)
distribution --- pdf = f(x) = exp(-x), and the exponential(2)
distributions.  For these distributions (also special cases of the
Gamma family of course) d_n = log(n); c_n = 1, and d_n = 2*log(n);
c_n = 2, respectively.  I used nsam = 1000 and n varying from 100 to
10000 as before.  For these distributions, the alpha-hat values hung
around 0.05 just about as they should.

So I'm totally stumped as to what's going on.  Has anyone any
comments or suggestions?

I enclose, at the end of this email, a page of graphs (in PostScript
form) of alpha-hat versus n, for

	(1) The exponential(1) distribution,

	(2) The chisquared_1 distribution, with the simulation
	done by generating N(0,1) variables from rnorm() and
	squaring them.

	(3) The chisquared_1 distribution, with the simulation done
	by generating N(0,1) variables from ``myrnorm()'' and
	squaring them.

	(Note: myrnorm() produces Z = R*cos(2*pi*theta) where
	theta ~ U[0,1] and R = sqrt(-2*(log(U))) where U ~ U[0,1],
	theta and U independent.)

	(The ``whiskers'' on the plotted points give approximate
	95% confidence intervals for the ``true'' alpha.)

I'd really appreciate any hint anyone can give me as to why I'm
not getting 0.05 when I should be getting 0.05!!!  It's driving
me crazy!

					cheers,

						Rolf Turner
						rolf at math.unb.ca

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
%!PS-Adobe-3.0
%%DocumentNeededResources: font Helvetica
%%+ font Helvetica-Bold
%%+ font Helvetica-Oblique
%%+ font Helvetica-BoldOblique
%%+ font Symbol
%%DocumentMedia: a4 595 841 0 () ()
%%Title: R Graphics Output
%%Creator: R Software
%%Pages: (atend)
%%Orientation: Portrait
%%BoundingBox: 18 61 577 781
%%EndComments
%%BeginProlog
/bp  { gs gs } def
% begin .ps.prolog
/gs  { gsave } def
/gr  { grestore } def
/ep  { showpage gr gr } def
/m   { moveto } def
/l   { lineto } def
/np  { newpath } def
/cp  { closepath } def
/f   { fill } def
/o   { stroke } def
/c   { newpath 0 360 arc } def
/r   { 3 index 3 index moveto 1 index 4 -1 roll
       lineto exch 1 index lineto lineto closepath } def
/p1  { stroke } def
/p2  { gsave bg setrgbcolor fill grestore newpath } def
/p3  { gsave bg setrgbcolor fill grestore stroke } def
/t   { 6 -2 roll moveto gsave rotate
       ps mul neg 0 2 1 roll rmoveto
       1 index stringwidth pop
       mul neg 0 rmoveto show grestore } def
/cl  { grestore gsave newpath 3 index 3 index moveto 1 index
       4 -1 roll lineto  exch 1 index lineto lineto
       closepath clip newpath } def
/rgb { setrgbcolor } def
/s   { scalefont setfont } def
/R   { /Font1 findfont } def
/B   { /Font2 findfont } def
/I   { /Font3 findfont } def
/BI  { /Font4 findfont } def
/S   { /Font5 findfont } def
1 setlinecap 1 setlinejoin
% end   .ps.prolog
%%IncludeResource: font Helvetica
/Helvetica findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font1 exch definefont pop
%%IncludeResource: font Helvetica-Bold
/Helvetica-Bold findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font2 exch definefont pop
%%IncludeResource: font Helvetica-Oblique
/Helvetica-Oblique findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font3 exch definefont pop
%%IncludeResource: font Helvetica-BoldOblique
/Helvetica-BoldOblique findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font4 exch definefont pop
%%IncludeResource: font Symbol
/Symbol findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  currentdict
  end
/Font5 exch definefont pop
%%EndProlog
%%Page: 1 1
bp
56.97 589.42 557.32 741.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
75.50 655.81 1.78 c p1
80.18 665.70 1.78 c p1
84.86 668.52 1.78 c p1
89.54 661.46 1.78 c p1
94.22 671.35 1.78 c p1
98.90 668.52 1.78 c p1
103.58 679.82 1.78 c p1
108.26 661.46 1.78 c p1
112.94 679.82 1.78 c p1
117.61 651.57 1.78 c p1
164.41 665.70 1.78 c p1
211.21 658.63 1.78 c p1
258.01 672.76 1.78 c p1
304.80 686.89 1.78 c p1
351.60 668.52 1.78 c p1
398.40 660.05 1.78 c p1
445.19 668.52 1.78 c p1
491.99 669.93 1.78 c p1
538.79 668.52 1.78 c p1
18.00 60.94 577.28 780.94 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
70.82 589.42 m
538.79 589.42 l
o
np
70.82 589.42 m
70.82 584.66 l
o
np
164.41 589.42 m
164.41 584.66 l
o
np
258.01 589.42 m
258.01 584.66 l
o
np
351.60 589.42 m
351.60 584.66 l
o
np
445.19 589.42 m
445.19 584.66 l
o
np
538.79 589.42 m
538.79 584.66 l
o
/ps 8 def R 8 s
70.82 572.31 (0) 0.50 0.00 0.00 t
164.41 572.31 (2000) 0.50 0.00 0.00 t
258.01 572.31 (4000) 0.50 0.00 0.00 t
351.60 572.31 (6000) 0.50 0.00 0.00 t
445.19 572.31 (8000) 0.50 0.00 0.00 t
538.79 572.31 (10000) 0.50 0.00 0.00 t
np
56.97 595.07 m
56.97 736.33 l
o
np
56.97 595.07 m
52.21 595.07 l
o
np
56.97 623.32 m
52.21 623.32 l
o
np
56.97 651.57 m
52.21 651.57 l
o
np
56.97 679.82 m
52.21 679.82 l
o
np
56.97 708.08 m
52.21 708.08 l
o
np
56.97 736.33 m
52.21 736.33 l
o
45.56 595.07 (0.00) 0.50 0.00 90.00 t
45.56 623.32 (0.02) 0.50 0.00 90.00 t
45.56 651.57 (0.04) 0.50 0.00 90.00 t
45.56 679.82 (0.06) 0.50 0.00 90.00 t
45.56 708.08 (0.08) 0.50 0.00 90.00 t
45.56 736.33 (0.10) 0.50 0.00 90.00 t
np
56.97 589.42 m
557.32 589.42 l
557.32 741.98 l
56.97 741.98 l
56.97 589.42 l
o
18.00 540.94 577.28 780.94 cl
/ps 10 def B 10 s
0.0000 0.0000 0.0000 rgb
307.14 757.87 (Empirical sig. level, exponential distribution) 0.50 0.00 0.00 t
/ps 8 def R 8 s
307.14 553.30 (series length) 0.50 0.00 0.00 t
56.97 589.42 557.32 741.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[ 3.00 5.00] 0 setdash
np
56.97 665.70 m
557.32 665.70 l
o
18.00 60.94 577.28 780.94 cl
/ps 12 def S 12 s
0.0000 0.0000 0.0000 rgb
20.88 659.83 (a) 0.00 0.00 0.00 t
/ps 12 def R 12 s
21.85 663.52 (^) 0.00 0.00 0.00 t
56.97 589.42 557.32 741.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
75.50 655.81 m
75.50 665.54 l
o
np
80.18 665.70 m
80.18 675.43 l
o
np
84.86 668.52 m
84.86 678.26 l
o
np
89.54 661.46 m
89.54 671.19 l
o
np
94.22 671.35 m
94.22 681.08 l
o
np
98.90 668.52 m
98.90 678.26 l
o
np
103.58 679.82 m
103.58 689.56 l
o
np
108.26 661.46 m
108.26 671.19 l
o
np
112.94 679.82 m
112.94 689.56 l
o
np
117.61 651.57 m
117.61 661.31 l
o
np
164.41 665.70 m
164.41 675.43 l
o
np
211.21 658.63 m
211.21 668.37 l
o
np
258.01 672.76 m
258.01 682.50 l
o
np
304.80 686.89 m
304.80 696.62 l
o
np
351.60 668.52 m
351.60 678.26 l
o
np
398.40 660.05 m
398.40 669.78 l
o
np
445.19 668.52 m
445.19 678.26 l
o
np
491.99 669.93 m
491.99 679.67 l
o
np
538.79 668.52 m
538.79 678.26 l
o
np
75.50 655.81 m
75.50 646.07 l
o
np
80.18 665.70 m
80.18 655.96 l
o
np
84.86 668.52 m
84.86 658.79 l
o
np
89.54 661.46 m
89.54 651.72 l
o
np
94.22 671.35 m
94.22 661.61 l
o
np
98.90 668.52 m
98.90 658.79 l
o
np
103.58 679.82 m
103.58 670.09 l
o
np
108.26 661.46 m
108.26 651.72 l
o
np
112.94 679.82 m
112.94 670.09 l
o
np
117.61 651.57 m
117.61 641.83 l
o
np
164.41 665.70 m
164.41 655.96 l
o
np
211.21 658.63 m
211.21 648.90 l
o
np
258.01 672.76 m
258.01 663.02 l
o
np
304.80 686.89 m
304.80 677.15 l
o
np
351.60 668.52 m
351.60 658.79 l
o
np
398.40 660.05 m
398.40 650.31 l
o
np
445.19 668.52 m
445.19 658.79 l
o
np
491.99 669.93 m
491.99 660.20 l
o
np
538.79 668.52 m
538.79 658.79 l
o
56.97 557.32 349.42 501.98 cl
56.97 349.42 557.32 501.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
75.50 386.14 1.78 c p1
80.18 386.14 1.78 c p1
84.86 386.14 1.78 c p1
89.54 403.09 1.78 c p1
94.22 400.27 1.78 c p1
98.90 386.14 1.78 c p1
103.58 393.21 1.78 c p1
108.26 391.79 1.78 c p1
112.94 401.68 1.78 c p1
117.61 388.97 1.78 c p1
164.41 391.79 1.78 c p1
211.21 417.22 1.78 c p1
258.01 403.09 1.78 c p1
304.80 393.21 1.78 c p1
351.60 420.05 1.78 c p1
398.40 417.22 1.78 c p1
445.19 407.33 1.78 c p1
491.99 407.33 1.78 c p1
538.79 393.21 1.78 c p1
18.00 60.94 577.28 780.94 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
70.82 349.42 m
538.79 349.42 l
o
np
70.82 349.42 m
70.82 344.66 l
o
np
164.41 349.42 m
164.41 344.66 l
o
np
258.01 349.42 m
258.01 344.66 l
o
np
351.60 349.42 m
351.60 344.66 l
o
np
445.19 349.42 m
445.19 344.66 l
o
np
538.79 349.42 m
538.79 344.66 l
o
/ps 8 def R 8 s
70.82 332.31 (0) 0.50 0.00 0.00 t
164.41 332.31 (2000) 0.50 0.00 0.00 t
258.01 332.31 (4000) 0.50 0.00 0.00 t
351.60 332.31 (6000) 0.50 0.00 0.00 t
445.19 332.31 (8000) 0.50 0.00 0.00 t
538.79 332.31 (10000) 0.50 0.00 0.00 t
np
56.97 355.07 m
56.97 496.33 l
o
np
56.97 355.07 m
52.21 355.07 l
o
np
56.97 383.32 m
52.21 383.32 l
o
np
56.97 411.57 m
52.21 411.57 l
o
np
56.97 439.82 m
52.21 439.82 l
o
np
56.97 468.08 m
52.21 468.08 l
o
np
56.97 496.33 m
52.21 496.33 l
o
45.56 355.07 (0.00) 0.50 0.00 90.00 t
45.56 383.32 (0.02) 0.50 0.00 90.00 t
45.56 411.57 (0.04) 0.50 0.00 90.00 t
45.56 439.82 (0.06) 0.50 0.00 90.00 t
45.56 468.08 (0.08) 0.50 0.00 90.00 t
45.56 496.33 (0.10) 0.50 0.00 90.00 t
np
56.97 349.42 m
557.32 349.42 l
557.32 501.98 l
56.97 501.98 l
56.97 349.42 l
o
18.00 300.94 577.28 540.94 cl
/ps 10 def B 10 s
0.0000 0.0000 0.0000 rgb
307.14 517.87 (Empirical sig. level, chisquared_1 distribution, built-in rng) 0.50 0.00 0.00 t
/ps 8 def R 8 s
307.14 313.30 (series length) 0.50 0.00 0.00 t
56.97 349.42 557.32 501.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[ 3.00 5.00] 0 setdash
np
56.97 425.70 m
557.32 425.70 l
o
18.00 60.94 577.28 780.94 cl
/ps 12 def S 12 s
0.0000 0.0000 0.0000 rgb
20.88 419.83 (a) 0.00 0.00 0.00 t
/ps 12 def R 12 s
21.85 423.52 (^) 0.00 0.00 0.00 t
56.97 349.42 557.32 501.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
75.50 386.14 m
75.50 395.88 l
o
np
80.18 386.14 m
80.18 395.88 l
o
np
84.86 386.14 m
84.86 395.88 l
o
np
89.54 403.09 m
89.54 412.83 l
o
np
94.22 400.27 m
94.22 410.01 l
o
np
98.90 386.14 m
98.90 395.88 l
o
np
103.58 393.21 m
103.58 402.94 l
o
np
108.26 391.79 m
108.26 401.53 l
o
np
112.94 401.68 m
112.94 411.42 l
o
np
117.61 388.97 m
117.61 398.70 l
o
np
164.41 391.79 m
164.41 401.53 l
o
np
211.21 417.22 m
211.21 426.96 l
o
np
258.01 403.09 m
258.01 412.83 l
o
np
304.80 393.21 m
304.80 402.94 l
o
np
351.60 420.05 m
351.60 429.78 l
o
np
398.40 417.22 m
398.40 426.96 l
o
np
445.19 407.33 m
445.19 417.07 l
o
np
491.99 407.33 m
491.99 417.07 l
o
np
538.79 393.21 m
538.79 402.94 l
o
np
75.50 386.14 m
75.50 376.41 l
o
np
80.18 386.14 m
80.18 376.41 l
o
np
84.86 386.14 m
84.86 376.41 l
o
np
89.54 403.09 m
89.54 393.36 l
o
np
94.22 400.27 m
94.22 390.53 l
o
np
98.90 386.14 m
98.90 376.41 l
o
np
103.58 393.21 m
103.58 383.47 l
o
np
108.26 391.79 m
108.26 382.06 l
o
np
112.94 401.68 m
112.94 391.95 l
o
np
117.61 388.97 m
117.61 379.23 l
o
np
164.41 391.79 m
164.41 382.06 l
o
np
211.21 417.22 m
211.21 407.49 l
o
np
258.01 403.09 m
258.01 393.36 l
o
np
304.80 393.21 m
304.80 383.47 l
o
np
351.60 420.05 m
351.60 410.31 l
o
np
398.40 417.22 m
398.40 407.49 l
o
np
445.19 407.33 m
445.19 397.60 l
o
np
491.99 407.33 m
491.99 397.60 l
o
np
538.79 393.21 m
538.79 383.47 l
o
56.97 557.32 109.42 261.98 cl
56.97 109.42 557.32 261.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
75.50 153.21 1.78 c p1
80.18 161.68 1.78 c p1
84.86 153.21 1.78 c p1
89.54 156.03 1.78 c p1
94.22 151.79 1.78 c p1
98.90 161.68 1.78 c p1
103.58 160.27 1.78 c p1
108.26 163.09 1.78 c p1
112.94 141.91 1.78 c p1
117.61 151.79 1.78 c p1
164.41 147.56 1.78 c p1
211.21 164.51 1.78 c p1
258.01 168.75 1.78 c p1
304.80 163.09 1.78 c p1
351.60 177.22 1.78 c p1
398.40 181.46 1.78 c p1
445.19 165.92 1.78 c p1
491.99 164.51 1.78 c p1
538.79 158.86 1.78 c p1
18.00 60.94 577.28 780.94 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
70.82 109.42 m
538.79 109.42 l
o
np
70.82 109.42 m
70.82 104.66 l
o
np
164.41 109.42 m
164.41 104.66 l
o
np
258.01 109.42 m
258.01 104.66 l
o
np
351.60 109.42 m
351.60 104.66 l
o
np
445.19 109.42 m
445.19 104.66 l
o
np
538.79 109.42 m
538.79 104.66 l
o
/ps 8 def R 8 s
70.82 92.31 (0) 0.50 0.00 0.00 t
164.41 92.31 (2000) 0.50 0.00 0.00 t
258.01 92.31 (4000) 0.50 0.00 0.00 t
351.60 92.31 (6000) 0.50 0.00 0.00 t
445.19 92.31 (8000) 0.50 0.00 0.00 t
538.79 92.31 (10000) 0.50 0.00 0.00 t
np
56.97 115.07 m
56.97 256.33 l
o
np
56.97 115.07 m
52.21 115.07 l
o
np
56.97 143.32 m
52.21 143.32 l
o
np
56.97 171.57 m
52.21 171.57 l
o
np
56.97 199.82 m
52.21 199.82 l
o
np
56.97 228.08 m
52.21 228.08 l
o
np
56.97 256.33 m
52.21 256.33 l
o
45.56 115.07 (0.00) 0.50 0.00 90.00 t
45.56 143.32 (0.02) 0.50 0.00 90.00 t
45.56 171.57 (0.04) 0.50 0.00 90.00 t
45.56 199.82 (0.06) 0.50 0.00 90.00 t
45.56 228.08 (0.08) 0.50 0.00 90.00 t
45.56 256.33 (0.10) 0.50 0.00 90.00 t
np
56.97 109.42 m
557.32 109.42 l
557.32 261.98 l
56.97 261.98 l
56.97 109.42 l
o
18.00 60.94 577.28 300.94 cl
/ps 10 def B 10 s
0.0000 0.0000 0.0000 rgb
307.14 277.87 (Empirical sig. level, chisquared_1 distribution, home-made rng) 0.50 0.00 0.00 t
/ps 8 def R 8 s
307.14 73.30 (series length) 0.50 0.00 0.00 t
56.97 109.42 557.32 261.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[ 3.00 5.00] 0 setdash
np
56.97 185.70 m
557.32 185.70 l
o
18.00 60.94 577.28 780.94 cl
/ps 12 def S 12 s
0.0000 0.0000 0.0000 rgb
20.88 179.83 (a) 0.00 0.00 0.00 t
/ps 12 def R 12 s
21.85 183.52 (^) 0.00 0.00 0.00 t
56.97 109.42 557.32 261.98 cl
0.0000 0.0000 0.0000 rgb
0.75 setlinewidth
[] 0 setdash
np
75.50 153.21 m
75.50 162.94 l
o
np
80.18 161.68 m
80.18 171.42 l
o
np
84.86 153.21 m
84.86 162.94 l
o
np
89.54 156.03 m
89.54 165.77 l
o
np
94.22 151.79 m
94.22 161.53 l
o
np
98.90 161.68 m
98.90 171.42 l
o
np
103.58 160.27 m
103.58 170.01 l
o
np
108.26 163.09 m
108.26 172.83 l
o
np
112.94 141.91 m
112.94 151.64 l
o
np
117.61 151.79 m
117.61 161.53 l
o
np
164.41 147.56 m
164.41 157.29 l
o
np
211.21 164.51 m
211.21 174.24 l
o
np
258.01 168.75 m
258.01 178.48 l
o
np
304.80 163.09 m
304.80 172.83 l
o
np
351.60 177.22 m
351.60 186.96 l
o
np
398.40 181.46 m
398.40 191.19 l
o
np
445.19 165.92 m
445.19 175.66 l
o
np
491.99 164.51 m
491.99 174.24 l
o
np
538.79 158.86 m
538.79 168.59 l
o
np
75.50 153.21 m
75.50 143.47 l
o
np
80.18 161.68 m
80.18 151.95 l
o
np
84.86 153.21 m
84.86 143.47 l
o
np
89.54 156.03 m
89.54 146.30 l
o
np
94.22 151.79 m
94.22 142.06 l
o
np
98.90 161.68 m
98.90 151.95 l
o
np
103.58 160.27 m
103.58 150.53 l
o
np
108.26 163.09 m
108.26 153.36 l
o
np
112.94 141.91 m
112.94 132.17 l
o
np
117.61 151.79 m
117.61 142.06 l
o
np
164.41 147.56 m
164.41 137.82 l
o
np
211.21 164.51 m
211.21 154.77 l
o
np
258.01 168.75 m
258.01 159.01 l
o
np
304.80 163.09 m
304.80 153.36 l
o
np
351.60 177.22 m
351.60 167.49 l
o
np
398.40 181.46 m
398.40 171.72 l
o
np
445.19 165.92 m
445.19 156.18 l
o
np
491.99 164.51 m
491.99 154.77 l
o
np
538.79 158.86 m
538.79 149.12 l
o
ep
%%Trailer
%%Pages: 1
%%EOF
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rikkoe at softhome.net  Mon Mar 25 21:26:38 2002
From: rikkoe at softhome.net (Rikkoe@softhome.net)
Date: Mon, 25 Mar 2002 21:26:38 +0100
Subject: [R] How do you organize the objects you produced?
Message-ID: <036301c1d43b$5ef8b0c0$c416b43e@user2soggyji1z>

Hello!

It would be nice to hear how you organize the R-objects you produced. I
found almost nothing about that neither in the R-manuals nor in two books
about S.

For example I am trying to find out, how to load the functions that I have
written and that are now saved in a .txt-file in a Windows directory. Is
copying and pasting it to the RGui console really the only feasible way to
do that? Constructing packages, similar to the ones included in the basic R
system, is probably too complicated for a beginner like me, isn?t it?

I wonder why manuals and books just explain how to write functions, but not
how to keep and to reload them. I have got a similar problem with my data. I
understood (mistakenly?) that one can attach a Windows directory to the
search path, so that every file inside this directory is known by R, without
further need to specify the path. So I tried:

> attach("C:\\Temp",2)
Error in load(file, envir) : unable to open file
> search()
[1] ".GlobalEnv"    "file:C:\\Temp" "package:ctest" "Autoloads"
[5] "package:base"


Temp is a directory and includes a file named test.dat. I went on:

> file <- read.table("test.dat", header = TRUE, fill = TRUE)
Error in file(file, "r") : cannot open file `test.dat'


This last command only works when I use the RGui-menu to change my working
directory to Temp.

I feel I am using R as if cutting hair with a spoon. Do you know a nicer way
to use it?

Michael


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar 25 21:59:54 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 25 Mar 2002 15:59:54 -0500 (EST)
Subject: [R] arsinh
In-Reply-To: <3C9E3719.BD7449B2@dkfz.de>
Message-ID: <Pine.LNX.4.30.0203251544290.9215-100000@bolker.zoo.ufl.edu>


  Do you mean the inverse hyperbolic sin (arcsinh)?  In my experience the
hyperbolic functions are usually pronounced with a "ch" (as in "church")
for tanh and sinh or "sh" (for cosh) at the end: "ark-sinch" would be a
transcription.


On Sun, 24 Mar 2002, Wolfgang Huber wrote:

>
> What is the correct English pronounciation of the function name "arsinh"?
>
> (Please excuse that this is is quite an R question, but this list is the best place I can think of for people to know the answer.)
>
>
> Wolfgang Huber
> DKFZ
> Dep. Molecular Genome Analysis
> 69120 Heidelberg
> Germany
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Mar 25 21:46:09 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Mar 2002 21:46:09 +0100 (CET)
Subject: [R] Extreme value distributions (Long.)
In-Reply-To: <200203251941.PAA27207@gelfand.math.unb.ca>
Message-ID: <Pine.LNX.4.44.0203252142550.2040-100000@tal.stat.umu.se>

On Mon, 25 Mar 2002, Rolf Turner wrote:

> This may not actually be an R/Splus problem, but it started
> off that way .....
> 
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> Executive summary:
> ==================
> 
> Simulations involving extreme value distributions seem to ``work''
> when the underlying distribution is exponential(1) or exponential(2)
> == chi-squared_2, 

This is _not correct_, exp(2) == chisq(1), in fact. Maybe you have made a 
simple error of this kind in your simulations and calculations? 
 
G?ran

> but NOT when the underlying distribution is
> chi-squared_1.
> 
> Can anyone make an educated conjecture as to why?
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> 
> More (much more!) detail:
> =========================
> 
> I have recently been doing some simulations which relate to extreme
> value distributions.  I have observed a phenomenon which puzzles me,
> and I would appreciate it if anyone could shed some light on the
> puzzle.  The phenomenon occurs in both R and Splus.  (Also, I have
> now discovered, in stand-alone Fortran.)
> 
> The phenomenon boils down to this:
> 
> 	I generate ``nsam'' samples of chi-squared_1 iid random
> 	variables, each sample being of size ``n''.
> 
> 	For each sample, let M be the maximum of the sample,
> 	and let the statistic S = (M - d_n)/2, where
> 
> 		d_n = 2*ln(n) - ln(ln(n)) - ln(pi).
> 
> 	Count the number K of times that G(S) < 0.05 where G(x) is
> 	the cdf of the Gumbel distribution, G(x) = exp(-exp(-x)).
> 
> 	Then form alpha-hat = K/nsam.
> 
> 	According to theory, alpha-hat should ---> 0.05 as n ---> infinity.
> 
> 	(The chi-squared_1 distribution is a special case of the
> 	Gamma distribution, which is in the domain of attraction of
> 	the Gumbel distribution.  The normalizing constants for
> 	a Gamma(a,b) distribution are
> 
> 		d_n = b*[ln(n) + (a-1)*ln(ln(n)) - ln(Gamma(a))]
> 		c_n = b
> 	
> 	and for the chi-squared_1 distribution, a = 1/2, b=2, giving
> 	d_n = 2*ln(n) - ln(ln(n)) - ln(pi) and c = 2.  Note that I am
> 	using the parameterization of the Gamma distribution such
> 	that the mean is a*b and the variance is a*b^2.)
> 
> 	In numerous simulations I have found that the values
> 	of alpha-hat are generally substantially LESS than 0.05 ---
> 	tending perhaps to hang around 0.03 or 0.04 for large n.
> 
> 	The simulations that I have done so far are with nsam = 1000
> 	and 10000, and with n varying from 100 to 10000 [n in
> 	c(100*(1:10),1000*(2:10))].
> 
> A colleague of mine suggested that perhaps rnorm() has a problem out
> in the tails --- i.e. perhaps rnorm() works by calculating F^{-1}(U)
> where U is Uniform[0,1], and the implementation of F^{-1}() does not
> give quite as much weight as it ought for the tails.  This would
> result in getting extreme values less often than we should, and hence
> getting low values of alpha-hat.
> 
> BUT I tried the simulations using a ``roll your own'' normal random
> number generator (``myrnorm()''; see below) --- which does NOT depend
> on approximating F^{-1} for the normal distribution --- and got the
> same phenomenon.
> 
> Another colleague suggested that perhaps 10000 simply isn't large
> enough --- that at 10000, the asymptotics haven't really kicked in
> yet, and perhaps we need n = 100000 or n = 1000000 before the
> asymptotic result gives a good approximation to reality.  If this
> were so it would be very disappointing; if the asymptotics are
> no good at n = 10000, then they are not of much use in practice.
> 
> I tried a simulation --- computations done entirely in Fortran;
> completely independent of R or Splus --- with n in
> c(100*(1:10),10000*(1:10)).  I got the following values of
> alpha-hat:
> 
> 0.0290 0.0190 0.0390 0.0260 0.0260 0.0280 0.0260 0.0390 0.0250 0.0280
> 0.0470 0.0360 0.0340 0.0300 0.0400 0.0300 0.0370 0.0450 0.0410 0.0310
> 
> For this simulation ``nsam'' was 1000.  The chi-squared variates were
> formed by squaring N(0,1) variates which were in turn generated using
> the same procedure as in ``myrnorm()''.
> 
> I also tried simulations with the ``standard'' exponential(1)
> distribution --- pdf = f(x) = exp(-x), and the exponential(2)
> distributions.  For these distributions (also special cases of the
> Gamma family of course) d_n = log(n); c_n = 1, and d_n = 2*log(n);
> c_n = 2, respectively.  I used nsam = 1000 and n varying from 100 to
> 10000 as before.  For these distributions, the alpha-hat values hung
> around 0.05 just about as they should.
> 
> So I'm totally stumped as to what's going on.  Has anyone any
> comments or suggestions?
> 
> I enclose, at the end of this email, a page of graphs (in PostScript
> form) of alpha-hat versus n, for
> 
> 	(1) The exponential(1) distribution,
> 
> 	(2) The chisquared_1 distribution, with the simulation
> 	done by generating N(0,1) variables from rnorm() and
> 	squaring them.
> 
> 	(3) The chisquared_1 distribution, with the simulation done
> 	by generating N(0,1) variables from ``myrnorm()'' and
> 	squaring them.
> 
> 	(Note: myrnorm() produces Z = R*cos(2*pi*theta) where
> 	theta ~ U[0,1] and R = sqrt(-2*(log(U))) where U ~ U[0,1],
> 	theta and U independent.)
> 
> 	(The ``whiskers'' on the plotted points give approximate
> 	95% confidence intervals for the ``true'' alpha.)
> 
> I'd really appreciate any hint anyone can give me as to why I'm
> not getting 0.05 when I should be getting 0.05!!!  It's driving
> me crazy!
> 
> 					cheers,
> 
> 						Rolf Turner
> 						rolf at math.unb.ca
> 
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> %!PS-Adobe-3.0
> %%DocumentNeededResources: font Helvetica
> %%+ font Helvetica-Bold
> %%+ font Helvetica-Oblique
> %%+ font Helvetica-BoldOblique
> %%+ font Symbol
> %%DocumentMedia: a4 595 841 0 () ()
> %%Title: R Graphics Output
> %%Creator: R Software
> %%Pages: (atend)
> %%Orientation: Portrait
> %%BoundingBox: 18 61 577 781
> %%EndComments
> %%BeginProlog
> /bp  { gs gs } def
> % begin .ps.prolog
> /gs  { gsave } def
> /gr  { grestore } def
> /ep  { showpage gr gr } def
> /m   { moveto } def
> /l   { lineto } def
> /np  { newpath } def
> /cp  { closepath } def
> /f   { fill } def
> /o   { stroke } def
> /c   { newpath 0 360 arc } def
> /r   { 3 index 3 index moveto 1 index 4 -1 roll
>        lineto exch 1 index lineto lineto closepath } def
> /p1  { stroke } def
> /p2  { gsave bg setrgbcolor fill grestore newpath } def
> /p3  { gsave bg setrgbcolor fill grestore stroke } def
> /t   { 6 -2 roll moveto gsave rotate
>        ps mul neg 0 2 1 roll rmoveto
>        1 index stringwidth pop
>        mul neg 0 rmoveto show grestore } def
> /cl  { grestore gsave newpath 3 index 3 index moveto 1 index
>        4 -1 roll lineto  exch 1 index lineto lineto
>        closepath clip newpath } def
> /rgb { setrgbcolor } def
> /s   { scalefont setfont } def
> /R   { /Font1 findfont } def
> /B   { /Font2 findfont } def
> /I   { /Font3 findfont } def
> /BI  { /Font4 findfont } def
> /S   { /Font5 findfont } def
> 1 setlinecap 1 setlinejoin
> % end   .ps.prolog
> %%IncludeResource: font Helvetica
> /Helvetica findfont
> dup length dict begin
>   {1 index /FID ne {def} {pop pop} ifelse} forall
>   /Encoding ISOLatin1Encoding def
>   currentdict
>   end
> /Font1 exch definefont pop
> %%IncludeResource: font Helvetica-Bold
> /Helvetica-Bold findfont
> dup length dict begin
>   {1 index /FID ne {def} {pop pop} ifelse} forall
>   /Encoding ISOLatin1Encoding def
>   currentdict
>   end
> /Font2 exch definefont pop
> %%IncludeResource: font Helvetica-Oblique
> /Helvetica-Oblique findfont
> dup length dict begin
>   {1 index /FID ne {def} {pop pop} ifelse} forall
>   /Encoding ISOLatin1Encoding def
>   currentdict
>   end
> /Font3 exch definefont pop
> %%IncludeResource: font Helvetica-BoldOblique
> /Helvetica-BoldOblique findfont
> dup length dict begin
>   {1 index /FID ne {def} {pop pop} ifelse} forall
>   /Encoding ISOLatin1Encoding def
>   currentdict
>   end
> /Font4 exch definefont pop
> %%IncludeResource: font Symbol
> /Symbol findfont
> dup length dict begin
>   {1 index /FID ne {def} {pop pop} ifelse} forall
>   currentdict
>   end
> /Font5 exch definefont pop
> %%EndProlog
> %%Page: 1 1
> bp
> 56.97 589.42 557.32 741.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> 75.50 655.81 1.78 c p1
> 80.18 665.70 1.78 c p1
> 84.86 668.52 1.78 c p1
> 89.54 661.46 1.78 c p1
> 94.22 671.35 1.78 c p1
> 98.90 668.52 1.78 c p1
> 103.58 679.82 1.78 c p1
> 108.26 661.46 1.78 c p1
> 112.94 679.82 1.78 c p1
> 117.61 651.57 1.78 c p1
> 164.41 665.70 1.78 c p1
> 211.21 658.63 1.78 c p1
> 258.01 672.76 1.78 c p1
> 304.80 686.89 1.78 c p1
> 351.60 668.52 1.78 c p1
> 398.40 660.05 1.78 c p1
> 445.19 668.52 1.78 c p1
> 491.99 669.93 1.78 c p1
> 538.79 668.52 1.78 c p1
> 18.00 60.94 577.28 780.94 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 70.82 589.42 m
> 538.79 589.42 l
> o
> np
> 70.82 589.42 m
> 70.82 584.66 l
> o
> np
> 164.41 589.42 m
> 164.41 584.66 l
> o
> np
> 258.01 589.42 m
> 258.01 584.66 l
> o
> np
> 351.60 589.42 m
> 351.60 584.66 l
> o
> np
> 445.19 589.42 m
> 445.19 584.66 l
> o
> np
> 538.79 589.42 m
> 538.79 584.66 l
> o
> /ps 8 def R 8 s
> 70.82 572.31 (0) 0.50 0.00 0.00 t
> 164.41 572.31 (2000) 0.50 0.00 0.00 t
> 258.01 572.31 (4000) 0.50 0.00 0.00 t
> 351.60 572.31 (6000) 0.50 0.00 0.00 t
> 445.19 572.31 (8000) 0.50 0.00 0.00 t
> 538.79 572.31 (10000) 0.50 0.00 0.00 t
> np
> 56.97 595.07 m
> 56.97 736.33 l
> o
> np
> 56.97 595.07 m
> 52.21 595.07 l
> o
> np
> 56.97 623.32 m
> 52.21 623.32 l
> o
> np
> 56.97 651.57 m
> 52.21 651.57 l
> o
> np
> 56.97 679.82 m
> 52.21 679.82 l
> o
> np
> 56.97 708.08 m
> 52.21 708.08 l
> o
> np
> 56.97 736.33 m
> 52.21 736.33 l
> o
> 45.56 595.07 (0.00) 0.50 0.00 90.00 t
> 45.56 623.32 (0.02) 0.50 0.00 90.00 t
> 45.56 651.57 (0.04) 0.50 0.00 90.00 t
> 45.56 679.82 (0.06) 0.50 0.00 90.00 t
> 45.56 708.08 (0.08) 0.50 0.00 90.00 t
> 45.56 736.33 (0.10) 0.50 0.00 90.00 t
> np
> 56.97 589.42 m
> 557.32 589.42 l
> 557.32 741.98 l
> 56.97 741.98 l
> 56.97 589.42 l
> o
> 18.00 540.94 577.28 780.94 cl
> /ps 10 def B 10 s
> 0.0000 0.0000 0.0000 rgb
> 307.14 757.87 (Empirical sig. level, exponential distribution) 0.50 0.00 0.00 t
> /ps 8 def R 8 s
> 307.14 553.30 (series length) 0.50 0.00 0.00 t
> 56.97 589.42 557.32 741.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [ 3.00 5.00] 0 setdash
> np
> 56.97 665.70 m
> 557.32 665.70 l
> o
> 18.00 60.94 577.28 780.94 cl
> /ps 12 def S 12 s
> 0.0000 0.0000 0.0000 rgb
> 20.88 659.83 (a) 0.00 0.00 0.00 t
> /ps 12 def R 12 s
> 21.85 663.52 (^) 0.00 0.00 0.00 t
> 56.97 589.42 557.32 741.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 75.50 655.81 m
> 75.50 665.54 l
> o
> np
> 80.18 665.70 m
> 80.18 675.43 l
> o
> np
> 84.86 668.52 m
> 84.86 678.26 l
> o
> np
> 89.54 661.46 m
> 89.54 671.19 l
> o
> np
> 94.22 671.35 m
> 94.22 681.08 l
> o
> np
> 98.90 668.52 m
> 98.90 678.26 l
> o
> np
> 103.58 679.82 m
> 103.58 689.56 l
> o
> np
> 108.26 661.46 m
> 108.26 671.19 l
> o
> np
> 112.94 679.82 m
> 112.94 689.56 l
> o
> np
> 117.61 651.57 m
> 117.61 661.31 l
> o
> np
> 164.41 665.70 m
> 164.41 675.43 l
> o
> np
> 211.21 658.63 m
> 211.21 668.37 l
> o
> np
> 258.01 672.76 m
> 258.01 682.50 l
> o
> np
> 304.80 686.89 m
> 304.80 696.62 l
> o
> np
> 351.60 668.52 m
> 351.60 678.26 l
> o
> np
> 398.40 660.05 m
> 398.40 669.78 l
> o
> np
> 445.19 668.52 m
> 445.19 678.26 l
> o
> np
> 491.99 669.93 m
> 491.99 679.67 l
> o
> np
> 538.79 668.52 m
> 538.79 678.26 l
> o
> np
> 75.50 655.81 m
> 75.50 646.07 l
> o
> np
> 80.18 665.70 m
> 80.18 655.96 l
> o
> np
> 84.86 668.52 m
> 84.86 658.79 l
> o
> np
> 89.54 661.46 m
> 89.54 651.72 l
> o
> np
> 94.22 671.35 m
> 94.22 661.61 l
> o
> np
> 98.90 668.52 m
> 98.90 658.79 l
> o
> np
> 103.58 679.82 m
> 103.58 670.09 l
> o
> np
> 108.26 661.46 m
> 108.26 651.72 l
> o
> np
> 112.94 679.82 m
> 112.94 670.09 l
> o
> np
> 117.61 651.57 m
> 117.61 641.83 l
> o
> np
> 164.41 665.70 m
> 164.41 655.96 l
> o
> np
> 211.21 658.63 m
> 211.21 648.90 l
> o
> np
> 258.01 672.76 m
> 258.01 663.02 l
> o
> np
> 304.80 686.89 m
> 304.80 677.15 l
> o
> np
> 351.60 668.52 m
> 351.60 658.79 l
> o
> np
> 398.40 660.05 m
> 398.40 650.31 l
> o
> np
> 445.19 668.52 m
> 445.19 658.79 l
> o
> np
> 491.99 669.93 m
> 491.99 660.20 l
> o
> np
> 538.79 668.52 m
> 538.79 658.79 l
> o
> 56.97 557.32 349.42 501.98 cl
> 56.97 349.42 557.32 501.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> 75.50 386.14 1.78 c p1
> 80.18 386.14 1.78 c p1
> 84.86 386.14 1.78 c p1
> 89.54 403.09 1.78 c p1
> 94.22 400.27 1.78 c p1
> 98.90 386.14 1.78 c p1
> 103.58 393.21 1.78 c p1
> 108.26 391.79 1.78 c p1
> 112.94 401.68 1.78 c p1
> 117.61 388.97 1.78 c p1
> 164.41 391.79 1.78 c p1
> 211.21 417.22 1.78 c p1
> 258.01 403.09 1.78 c p1
> 304.80 393.21 1.78 c p1
> 351.60 420.05 1.78 c p1
> 398.40 417.22 1.78 c p1
> 445.19 407.33 1.78 c p1
> 491.99 407.33 1.78 c p1
> 538.79 393.21 1.78 c p1
> 18.00 60.94 577.28 780.94 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 70.82 349.42 m
> 538.79 349.42 l
> o
> np
> 70.82 349.42 m
> 70.82 344.66 l
> o
> np
> 164.41 349.42 m
> 164.41 344.66 l
> o
> np
> 258.01 349.42 m
> 258.01 344.66 l
> o
> np
> 351.60 349.42 m
> 351.60 344.66 l
> o
> np
> 445.19 349.42 m
> 445.19 344.66 l
> o
> np
> 538.79 349.42 m
> 538.79 344.66 l
> o
> /ps 8 def R 8 s
> 70.82 332.31 (0) 0.50 0.00 0.00 t
> 164.41 332.31 (2000) 0.50 0.00 0.00 t
> 258.01 332.31 (4000) 0.50 0.00 0.00 t
> 351.60 332.31 (6000) 0.50 0.00 0.00 t
> 445.19 332.31 (8000) 0.50 0.00 0.00 t
> 538.79 332.31 (10000) 0.50 0.00 0.00 t
> np
> 56.97 355.07 m
> 56.97 496.33 l
> o
> np
> 56.97 355.07 m
> 52.21 355.07 l
> o
> np
> 56.97 383.32 m
> 52.21 383.32 l
> o
> np
> 56.97 411.57 m
> 52.21 411.57 l
> o
> np
> 56.97 439.82 m
> 52.21 439.82 l
> o
> np
> 56.97 468.08 m
> 52.21 468.08 l
> o
> np
> 56.97 496.33 m
> 52.21 496.33 l
> o
> 45.56 355.07 (0.00) 0.50 0.00 90.00 t
> 45.56 383.32 (0.02) 0.50 0.00 90.00 t
> 45.56 411.57 (0.04) 0.50 0.00 90.00 t
> 45.56 439.82 (0.06) 0.50 0.00 90.00 t
> 45.56 468.08 (0.08) 0.50 0.00 90.00 t
> 45.56 496.33 (0.10) 0.50 0.00 90.00 t
> np
> 56.97 349.42 m
> 557.32 349.42 l
> 557.32 501.98 l
> 56.97 501.98 l
> 56.97 349.42 l
> o
> 18.00 300.94 577.28 540.94 cl
> /ps 10 def B 10 s
> 0.0000 0.0000 0.0000 rgb
> 307.14 517.87 (Empirical sig. level, chisquared_1 distribution, built-in rng) 0.50 0.00 0.00 t
> /ps 8 def R 8 s
> 307.14 313.30 (series length) 0.50 0.00 0.00 t
> 56.97 349.42 557.32 501.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [ 3.00 5.00] 0 setdash
> np
> 56.97 425.70 m
> 557.32 425.70 l
> o
> 18.00 60.94 577.28 780.94 cl
> /ps 12 def S 12 s
> 0.0000 0.0000 0.0000 rgb
> 20.88 419.83 (a) 0.00 0.00 0.00 t
> /ps 12 def R 12 s
> 21.85 423.52 (^) 0.00 0.00 0.00 t
> 56.97 349.42 557.32 501.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 75.50 386.14 m
> 75.50 395.88 l
> o
> np
> 80.18 386.14 m
> 80.18 395.88 l
> o
> np
> 84.86 386.14 m
> 84.86 395.88 l
> o
> np
> 89.54 403.09 m
> 89.54 412.83 l
> o
> np
> 94.22 400.27 m
> 94.22 410.01 l
> o
> np
> 98.90 386.14 m
> 98.90 395.88 l
> o
> np
> 103.58 393.21 m
> 103.58 402.94 l
> o
> np
> 108.26 391.79 m
> 108.26 401.53 l
> o
> np
> 112.94 401.68 m
> 112.94 411.42 l
> o
> np
> 117.61 388.97 m
> 117.61 398.70 l
> o
> np
> 164.41 391.79 m
> 164.41 401.53 l
> o
> np
> 211.21 417.22 m
> 211.21 426.96 l
> o
> np
> 258.01 403.09 m
> 258.01 412.83 l
> o
> np
> 304.80 393.21 m
> 304.80 402.94 l
> o
> np
> 351.60 420.05 m
> 351.60 429.78 l
> o
> np
> 398.40 417.22 m
> 398.40 426.96 l
> o
> np
> 445.19 407.33 m
> 445.19 417.07 l
> o
> np
> 491.99 407.33 m
> 491.99 417.07 l
> o
> np
> 538.79 393.21 m
> 538.79 402.94 l
> o
> np
> 75.50 386.14 m
> 75.50 376.41 l
> o
> np
> 80.18 386.14 m
> 80.18 376.41 l
> o
> np
> 84.86 386.14 m
> 84.86 376.41 l
> o
> np
> 89.54 403.09 m
> 89.54 393.36 l
> o
> np
> 94.22 400.27 m
> 94.22 390.53 l
> o
> np
> 98.90 386.14 m
> 98.90 376.41 l
> o
> np
> 103.58 393.21 m
> 103.58 383.47 l
> o
> np
> 108.26 391.79 m
> 108.26 382.06 l
> o
> np
> 112.94 401.68 m
> 112.94 391.95 l
> o
> np
> 117.61 388.97 m
> 117.61 379.23 l
> o
> np
> 164.41 391.79 m
> 164.41 382.06 l
> o
> np
> 211.21 417.22 m
> 211.21 407.49 l
> o
> np
> 258.01 403.09 m
> 258.01 393.36 l
> o
> np
> 304.80 393.21 m
> 304.80 383.47 l
> o
> np
> 351.60 420.05 m
> 351.60 410.31 l
> o
> np
> 398.40 417.22 m
> 398.40 407.49 l
> o
> np
> 445.19 407.33 m
> 445.19 397.60 l
> o
> np
> 491.99 407.33 m
> 491.99 397.60 l
> o
> np
> 538.79 393.21 m
> 538.79 383.47 l
> o
> 56.97 557.32 109.42 261.98 cl
> 56.97 109.42 557.32 261.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> 75.50 153.21 1.78 c p1
> 80.18 161.68 1.78 c p1
> 84.86 153.21 1.78 c p1
> 89.54 156.03 1.78 c p1
> 94.22 151.79 1.78 c p1
> 98.90 161.68 1.78 c p1
> 103.58 160.27 1.78 c p1
> 108.26 163.09 1.78 c p1
> 112.94 141.91 1.78 c p1
> 117.61 151.79 1.78 c p1
> 164.41 147.56 1.78 c p1
> 211.21 164.51 1.78 c p1
> 258.01 168.75 1.78 c p1
> 304.80 163.09 1.78 c p1
> 351.60 177.22 1.78 c p1
> 398.40 181.46 1.78 c p1
> 445.19 165.92 1.78 c p1
> 491.99 164.51 1.78 c p1
> 538.79 158.86 1.78 c p1
> 18.00 60.94 577.28 780.94 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 70.82 109.42 m
> 538.79 109.42 l
> o
> np
> 70.82 109.42 m
> 70.82 104.66 l
> o
> np
> 164.41 109.42 m
> 164.41 104.66 l
> o
> np
> 258.01 109.42 m
> 258.01 104.66 l
> o
> np
> 351.60 109.42 m
> 351.60 104.66 l
> o
> np
> 445.19 109.42 m
> 445.19 104.66 l
> o
> np
> 538.79 109.42 m
> 538.79 104.66 l
> o
> /ps 8 def R 8 s
> 70.82 92.31 (0) 0.50 0.00 0.00 t
> 164.41 92.31 (2000) 0.50 0.00 0.00 t
> 258.01 92.31 (4000) 0.50 0.00 0.00 t
> 351.60 92.31 (6000) 0.50 0.00 0.00 t
> 445.19 92.31 (8000) 0.50 0.00 0.00 t
> 538.79 92.31 (10000) 0.50 0.00 0.00 t
> np
> 56.97 115.07 m
> 56.97 256.33 l
> o
> np
> 56.97 115.07 m
> 52.21 115.07 l
> o
> np
> 56.97 143.32 m
> 52.21 143.32 l
> o
> np
> 56.97 171.57 m
> 52.21 171.57 l
> o
> np
> 56.97 199.82 m
> 52.21 199.82 l
> o
> np
> 56.97 228.08 m
> 52.21 228.08 l
> o
> np
> 56.97 256.33 m
> 52.21 256.33 l
> o
> 45.56 115.07 (0.00) 0.50 0.00 90.00 t
> 45.56 143.32 (0.02) 0.50 0.00 90.00 t
> 45.56 171.57 (0.04) 0.50 0.00 90.00 t
> 45.56 199.82 (0.06) 0.50 0.00 90.00 t
> 45.56 228.08 (0.08) 0.50 0.00 90.00 t
> 45.56 256.33 (0.10) 0.50 0.00 90.00 t
> np
> 56.97 109.42 m
> 557.32 109.42 l
> 557.32 261.98 l
> 56.97 261.98 l
> 56.97 109.42 l
> o
> 18.00 60.94 577.28 300.94 cl
> /ps 10 def B 10 s
> 0.0000 0.0000 0.0000 rgb
> 307.14 277.87 (Empirical sig. level, chisquared_1 distribution, home-made rng) 0.50 0.00 0.00 t
> /ps 8 def R 8 s
> 307.14 73.30 (series length) 0.50 0.00 0.00 t
> 56.97 109.42 557.32 261.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [ 3.00 5.00] 0 setdash
> np
> 56.97 185.70 m
> 557.32 185.70 l
> o
> 18.00 60.94 577.28 780.94 cl
> /ps 12 def S 12 s
> 0.0000 0.0000 0.0000 rgb
> 20.88 179.83 (a) 0.00 0.00 0.00 t
> /ps 12 def R 12 s
> 21.85 183.52 (^) 0.00 0.00 0.00 t
> 56.97 109.42 557.32 261.98 cl
> 0.0000 0.0000 0.0000 rgb
> 0.75 setlinewidth
> [] 0 setdash
> np
> 75.50 153.21 m
> 75.50 162.94 l
> o
> np
> 80.18 161.68 m
> 80.18 171.42 l
> o
> np
> 84.86 153.21 m
> 84.86 162.94 l
> o
> np
> 89.54 156.03 m
> 89.54 165.77 l
> o
> np
> 94.22 151.79 m
> 94.22 161.53 l
> o
> np
> 98.90 161.68 m
> 98.90 171.42 l
> o
> np
> 103.58 160.27 m
> 103.58 170.01 l
> o
> np
> 108.26 163.09 m
> 108.26 172.83 l
> o
> np
> 112.94 141.91 m
> 112.94 151.64 l
> o
> np
> 117.61 151.79 m
> 117.61 161.53 l
> o
> np
> 164.41 147.56 m
> 164.41 157.29 l
> o
> np
> 211.21 164.51 m
> 211.21 174.24 l
> o
> np
> 258.01 168.75 m
> 258.01 178.48 l
> o
> np
> 304.80 163.09 m
> 304.80 172.83 l
> o
> np
> 351.60 177.22 m
> 351.60 186.96 l
> o
> np
> 398.40 181.46 m
> 398.40 191.19 l
> o
> np
> 445.19 165.92 m
> 445.19 175.66 l
> o
> np
> 491.99 164.51 m
> 491.99 174.24 l
> o
> np
> 538.79 158.86 m
> 538.79 168.59 l
> o
> np
> 75.50 153.21 m
> 75.50 143.47 l
> o
> np
> 80.18 161.68 m
> 80.18 151.95 l
> o
> np
> 84.86 153.21 m
> 84.86 143.47 l
> o
> np
> 89.54 156.03 m
> 89.54 146.30 l
> o
> np
> 94.22 151.79 m
> 94.22 142.06 l
> o
> np
> 98.90 161.68 m
> 98.90 151.95 l
> o
> np
> 103.58 160.27 m
> 103.58 150.53 l
> o
> np
> 108.26 163.09 m
> 108.26 153.36 l
> o
> np
> 112.94 141.91 m
> 112.94 132.17 l
> o
> np
> 117.61 151.79 m
> 117.61 142.06 l
> o
> np
> 164.41 147.56 m
> 164.41 137.82 l
> o
> np
> 211.21 164.51 m
> 211.21 154.77 l
> o
> np
> 258.01 168.75 m
> 258.01 159.01 l
> o
> np
> 304.80 163.09 m
> 304.80 153.36 l
> o
> np
> 351.60 177.22 m
> 351.60 167.49 l
> o
> np
> 398.40 181.46 m
> 398.40 171.72 l
> o
> np
> 445.19 165.92 m
> 445.19 156.18 l
> o
> np
> 491.99 164.51 m
> 491.99 154.77 l
> o
> np
> 538.79 158.86 m
> 538.79 149.12 l
> o
> ep
> %%Trailer
> %%Pages: 1
> %%EOF
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Mar 25 21:58:16 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Mar 2002 21:58:16 +0100 (CET)
Subject: [R] Extreme value distributions (Long.)
In-Reply-To: <Pine.LNX.4.44.0203252142550.2040-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.44.0203252156210.2040-100000@tal.stat.umu.se>

On Mon, 25 Mar 2002, G?ran Brostr?m wrote:

> On Mon, 25 Mar 2002, Rolf Turner wrote:
> 
> > This may not actually be an R/Splus problem, but it started
> > off that way .....
> > 
> > ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> > Executive summary:
> > ==================
> > 
> > Simulations involving extreme value distributions seem to ``work''
> > when the underlying distribution is exponential(1) or exponential(2)
> > == chi-squared_2, 
> 
> This is _not correct_, exp(2) == chisq(1), in fact. Maybe you have made a 
> simple error of this kind in your simulations and calculations? 

This is obviously false. Another try: exp(1/2) == chisq(2), in the
parametrisation of R.

>  
> G?ran
> 
> > but NOT when the underlying distribution is
> > chi-squared_1.
> > 
> > Can anyone make an educated conjecture as to why?
> > ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> > 
> > More (much more!) detail:
> > =========================
> > 
> > I have recently been doing some simulations which relate to extreme
> > value distributions.  I have observed a phenomenon which puzzles me,
> > and I would appreciate it if anyone could shed some light on the
> > puzzle.  The phenomenon occurs in both R and Splus.  (Also, I have
> > now discovered, in stand-alone Fortran.)
> > 
> > The phenomenon boils down to this:
> > 
> > 	I generate ``nsam'' samples of chi-squared_1 iid random
> > 	variables, each sample being of size ``n''.
> > 
> > 	For each sample, let M be the maximum of the sample,
> > 	and let the statistic S = (M - d_n)/2, where
> > 
> > 		d_n = 2*ln(n) - ln(ln(n)) - ln(pi).
> > 
> > 	Count the number K of times that G(S) < 0.05 where G(x) is
> > 	the cdf of the Gumbel distribution, G(x) = exp(-exp(-x)).
> > 
> > 	Then form alpha-hat = K/nsam.
> > 
> > 	According to theory, alpha-hat should ---> 0.05 as n ---> infinity.
> > 
> > 	(The chi-squared_1 distribution is a special case of the
> > 	Gamma distribution, which is in the domain of attraction of
> > 	the Gumbel distribution.  The normalizing constants for
> > 	a Gamma(a,b) distribution are
> > 
> > 		d_n = b*[ln(n) + (a-1)*ln(ln(n)) - ln(Gamma(a))]
> > 		c_n = b
> > 	
> > 	and for the chi-squared_1 distribution, a = 1/2, b=2, giving
> > 	d_n = 2*ln(n) - ln(ln(n)) - ln(pi) and c = 2.  Note that I am
> > 	using the parameterization of the Gamma distribution such
> > 	that the mean is a*b and the variance is a*b^2.)
> > 
> > 	In numerous simulations I have found that the values
> > 	of alpha-hat are generally substantially LESS than 0.05 ---
> > 	tending perhaps to hang around 0.03 or 0.04 for large n.
> > 
> > 	The simulations that I have done so far are with nsam = 1000
> > 	and 10000, and with n varying from 100 to 10000 [n in
> > 	c(100*(1:10),1000*(2:10))].
> > 
> > A colleague of mine suggested that perhaps rnorm() has a problem out
> > in the tails --- i.e. perhaps rnorm() works by calculating F^{-1}(U)
> > where U is Uniform[0,1], and the implementation of F^{-1}() does not
> > give quite as much weight as it ought for the tails.  This would
> > result in getting extreme values less often than we should, and hence
> > getting low values of alpha-hat.
> > 
> > BUT I tried the simulations using a ``roll your own'' normal random
> > number generator (``myrnorm()''; see below) --- which does NOT depend
> > on approximating F^{-1} for the normal distribution --- and got the
> > same phenomenon.
> > 
> > Another colleague suggested that perhaps 10000 simply isn't large
> > enough --- that at 10000, the asymptotics haven't really kicked in
> > yet, and perhaps we need n = 100000 or n = 1000000 before the
> > asymptotic result gives a good approximation to reality.  If this
> > were so it would be very disappointing; if the asymptotics are
> > no good at n = 10000, then they are not of much use in practice.
> > 
> > I tried a simulation --- computations done entirely in Fortran;
> > completely independent of R or Splus --- with n in
> > c(100*(1:10),10000*(1:10)).  I got the following values of
> > alpha-hat:
> > 
> > 0.0290 0.0190 0.0390 0.0260 0.0260 0.0280 0.0260 0.0390 0.0250 0.0280
> > 0.0470 0.0360 0.0340 0.0300 0.0400 0.0300 0.0370 0.0450 0.0410 0.0310
> > 
> > For this simulation ``nsam'' was 1000.  The chi-squared variates were
> > formed by squaring N(0,1) variates which were in turn generated using
> > the same procedure as in ``myrnorm()''.
> > 
> > I also tried simulations with the ``standard'' exponential(1)
> > distribution --- pdf = f(x) = exp(-x), and the exponential(2)
> > distributions.  For these distributions (also special cases of the
> > Gamma family of course) d_n = log(n); c_n = 1, and d_n = 2*log(n);
> > c_n = 2, respectively.  I used nsam = 1000 and n varying from 100 to
> > 10000 as before.  For these distributions, the alpha-hat values hung
> > around 0.05 just about as they should.
> > 
> > So I'm totally stumped as to what's going on.  Has anyone any
> > comments or suggestions?
> > 
> > I enclose, at the end of this email, a page of graphs (in PostScript
> > form) of alpha-hat versus n, for
> > 
> > 	(1) The exponential(1) distribution,
> > 
> > 	(2) The chisquared_1 distribution, with the simulation
> > 	done by generating N(0,1) variables from rnorm() and
> > 	squaring them.
> > 
> > 	(3) The chisquared_1 distribution, with the simulation done
> > 	by generating N(0,1) variables from ``myrnorm()'' and
> > 	squaring them.
> > 
> > 	(Note: myrnorm() produces Z = R*cos(2*pi*theta) where
> > 	theta ~ U[0,1] and R = sqrt(-2*(log(U))) where U ~ U[0,1],
> > 	theta and U independent.)
> > 
> > 	(The ``whiskers'' on the plotted points give approximate
> > 	95% confidence intervals for the ``true'' alpha.)
> > 
> > I'd really appreciate any hint anyone can give me as to why I'm
> > not getting 0.05 when I should be getting 0.05!!!  It's driving
> > me crazy!
> > 
> > 					cheers,
> > 
> > 						Rolf Turner
> > 						rolf at math.unb.ca
> > 
> > ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> > %!PS-Adobe-3.0
> > %%DocumentNeededResources: font Helvetica
> > %%+ font Helvetica-Bold
> > %%+ font Helvetica-Oblique
> > %%+ font Helvetica-BoldOblique
> > %%+ font Symbol
> > %%DocumentMedia: a4 595 841 0 () ()
> > %%Title: R Graphics Output
> > %%Creator: R Software
> > %%Pages: (atend)
> > %%Orientation: Portrait
> > %%BoundingBox: 18 61 577 781
> > %%EndComments
> > %%BeginProlog
> > /bp  { gs gs } def
> > % begin .ps.prolog
> > /gs  { gsave } def
> > /gr  { grestore } def
> > /ep  { showpage gr gr } def
> > /m   { moveto } def
> > /l   { lineto } def
> > /np  { newpath } def
> > /cp  { closepath } def
> > /f   { fill } def
> > /o   { stroke } def
> > /c   { newpath 0 360 arc } def
> > /r   { 3 index 3 index moveto 1 index 4 -1 roll
> >        lineto exch 1 index lineto lineto closepath } def
> > /p1  { stroke } def
> > /p2  { gsave bg setrgbcolor fill grestore newpath } def
> > /p3  { gsave bg setrgbcolor fill grestore stroke } def
> > /t   { 6 -2 roll moveto gsave rotate
> >        ps mul neg 0 2 1 roll rmoveto
> >        1 index stringwidth pop
> >        mul neg 0 rmoveto show grestore } def
> > /cl  { grestore gsave newpath 3 index 3 index moveto 1 index
> >        4 -1 roll lineto  exch 1 index lineto lineto
> >        closepath clip newpath } def
> > /rgb { setrgbcolor } def
> > /s   { scalefont setfont } def
> > /R   { /Font1 findfont } def
> > /B   { /Font2 findfont } def
> > /I   { /Font3 findfont } def
> > /BI  { /Font4 findfont } def
> > /S   { /Font5 findfont } def
> > 1 setlinecap 1 setlinejoin
> > % end   .ps.prolog
> > %%IncludeResource: font Helvetica
> > /Helvetica findfont
> > dup length dict begin
> >   {1 index /FID ne {def} {pop pop} ifelse} forall
> >   /Encoding ISOLatin1Encoding def
> >   currentdict
> >   end
> > /Font1 exch definefont pop
> > %%IncludeResource: font Helvetica-Bold
> > /Helvetica-Bold findfont
> > dup length dict begin
> >   {1 index /FID ne {def} {pop pop} ifelse} forall
> >   /Encoding ISOLatin1Encoding def
> >   currentdict
> >   end
> > /Font2 exch definefont pop
> > %%IncludeResource: font Helvetica-Oblique
> > /Helvetica-Oblique findfont
> > dup length dict begin
> >   {1 index /FID ne {def} {pop pop} ifelse} forall
> >   /Encoding ISOLatin1Encoding def
> >   currentdict
> >   end
> > /Font3 exch definefont pop
> > %%IncludeResource: font Helvetica-BoldOblique
> > /Helvetica-BoldOblique findfont
> > dup length dict begin
> >   {1 index /FID ne {def} {pop pop} ifelse} forall
> >   /Encoding ISOLatin1Encoding def
> >   currentdict
> >   end
> > /Font4 exch definefont pop
> > %%IncludeResource: font Symbol
> > /Symbol findfont
> > dup length dict begin
> >   {1 index /FID ne {def} {pop pop} ifelse} forall
> >   currentdict
> >   end
> > /Font5 exch definefont pop
> > %%EndProlog
> > %%Page: 1 1
> > bp
> > 56.97 589.42 557.32 741.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > 75.50 655.81 1.78 c p1
> > 80.18 665.70 1.78 c p1
> > 84.86 668.52 1.78 c p1
> > 89.54 661.46 1.78 c p1
> > 94.22 671.35 1.78 c p1
> > 98.90 668.52 1.78 c p1
> > 103.58 679.82 1.78 c p1
> > 108.26 661.46 1.78 c p1
> > 112.94 679.82 1.78 c p1
> > 117.61 651.57 1.78 c p1
> > 164.41 665.70 1.78 c p1
> > 211.21 658.63 1.78 c p1
> > 258.01 672.76 1.78 c p1
> > 304.80 686.89 1.78 c p1
> > 351.60 668.52 1.78 c p1
> > 398.40 660.05 1.78 c p1
> > 445.19 668.52 1.78 c p1
> > 491.99 669.93 1.78 c p1
> > 538.79 668.52 1.78 c p1
> > 18.00 60.94 577.28 780.94 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 70.82 589.42 m
> > 538.79 589.42 l
> > o
> > np
> > 70.82 589.42 m
> > 70.82 584.66 l
> > o
> > np
> > 164.41 589.42 m
> > 164.41 584.66 l
> > o
> > np
> > 258.01 589.42 m
> > 258.01 584.66 l
> > o
> > np
> > 351.60 589.42 m
> > 351.60 584.66 l
> > o
> > np
> > 445.19 589.42 m
> > 445.19 584.66 l
> > o
> > np
> > 538.79 589.42 m
> > 538.79 584.66 l
> > o
> > /ps 8 def R 8 s
> > 70.82 572.31 (0) 0.50 0.00 0.00 t
> > 164.41 572.31 (2000) 0.50 0.00 0.00 t
> > 258.01 572.31 (4000) 0.50 0.00 0.00 t
> > 351.60 572.31 (6000) 0.50 0.00 0.00 t
> > 445.19 572.31 (8000) 0.50 0.00 0.00 t
> > 538.79 572.31 (10000) 0.50 0.00 0.00 t
> > np
> > 56.97 595.07 m
> > 56.97 736.33 l
> > o
> > np
> > 56.97 595.07 m
> > 52.21 595.07 l
> > o
> > np
> > 56.97 623.32 m
> > 52.21 623.32 l
> > o
> > np
> > 56.97 651.57 m
> > 52.21 651.57 l
> > o
> > np
> > 56.97 679.82 m
> > 52.21 679.82 l
> > o
> > np
> > 56.97 708.08 m
> > 52.21 708.08 l
> > o
> > np
> > 56.97 736.33 m
> > 52.21 736.33 l
> > o
> > 45.56 595.07 (0.00) 0.50 0.00 90.00 t
> > 45.56 623.32 (0.02) 0.50 0.00 90.00 t
> > 45.56 651.57 (0.04) 0.50 0.00 90.00 t
> > 45.56 679.82 (0.06) 0.50 0.00 90.00 t
> > 45.56 708.08 (0.08) 0.50 0.00 90.00 t
> > 45.56 736.33 (0.10) 0.50 0.00 90.00 t
> > np
> > 56.97 589.42 m
> > 557.32 589.42 l
> > 557.32 741.98 l
> > 56.97 741.98 l
> > 56.97 589.42 l
> > o
> > 18.00 540.94 577.28 780.94 cl
> > /ps 10 def B 10 s
> > 0.0000 0.0000 0.0000 rgb
> > 307.14 757.87 (Empirical sig. level, exponential distribution) 0.50 0.00 0.00 t
> > /ps 8 def R 8 s
> > 307.14 553.30 (series length) 0.50 0.00 0.00 t
> > 56.97 589.42 557.32 741.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [ 3.00 5.00] 0 setdash
> > np
> > 56.97 665.70 m
> > 557.32 665.70 l
> > o
> > 18.00 60.94 577.28 780.94 cl
> > /ps 12 def S 12 s
> > 0.0000 0.0000 0.0000 rgb
> > 20.88 659.83 (a) 0.00 0.00 0.00 t
> > /ps 12 def R 12 s
> > 21.85 663.52 (^) 0.00 0.00 0.00 t
> > 56.97 589.42 557.32 741.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 75.50 655.81 m
> > 75.50 665.54 l
> > o
> > np
> > 80.18 665.70 m
> > 80.18 675.43 l
> > o
> > np
> > 84.86 668.52 m
> > 84.86 678.26 l
> > o
> > np
> > 89.54 661.46 m
> > 89.54 671.19 l
> > o
> > np
> > 94.22 671.35 m
> > 94.22 681.08 l
> > o
> > np
> > 98.90 668.52 m
> > 98.90 678.26 l
> > o
> > np
> > 103.58 679.82 m
> > 103.58 689.56 l
> > o
> > np
> > 108.26 661.46 m
> > 108.26 671.19 l
> > o
> > np
> > 112.94 679.82 m
> > 112.94 689.56 l
> > o
> > np
> > 117.61 651.57 m
> > 117.61 661.31 l
> > o
> > np
> > 164.41 665.70 m
> > 164.41 675.43 l
> > o
> > np
> > 211.21 658.63 m
> > 211.21 668.37 l
> > o
> > np
> > 258.01 672.76 m
> > 258.01 682.50 l
> > o
> > np
> > 304.80 686.89 m
> > 304.80 696.62 l
> > o
> > np
> > 351.60 668.52 m
> > 351.60 678.26 l
> > o
> > np
> > 398.40 660.05 m
> > 398.40 669.78 l
> > o
> > np
> > 445.19 668.52 m
> > 445.19 678.26 l
> > o
> > np
> > 491.99 669.93 m
> > 491.99 679.67 l
> > o
> > np
> > 538.79 668.52 m
> > 538.79 678.26 l
> > o
> > np
> > 75.50 655.81 m
> > 75.50 646.07 l
> > o
> > np
> > 80.18 665.70 m
> > 80.18 655.96 l
> > o
> > np
> > 84.86 668.52 m
> > 84.86 658.79 l
> > o
> > np
> > 89.54 661.46 m
> > 89.54 651.72 l
> > o
> > np
> > 94.22 671.35 m
> > 94.22 661.61 l
> > o
> > np
> > 98.90 668.52 m
> > 98.90 658.79 l
> > o
> > np
> > 103.58 679.82 m
> > 103.58 670.09 l
> > o
> > np
> > 108.26 661.46 m
> > 108.26 651.72 l
> > o
> > np
> > 112.94 679.82 m
> > 112.94 670.09 l
> > o
> > np
> > 117.61 651.57 m
> > 117.61 641.83 l
> > o
> > np
> > 164.41 665.70 m
> > 164.41 655.96 l
> > o
> > np
> > 211.21 658.63 m
> > 211.21 648.90 l
> > o
> > np
> > 258.01 672.76 m
> > 258.01 663.02 l
> > o
> > np
> > 304.80 686.89 m
> > 304.80 677.15 l
> > o
> > np
> > 351.60 668.52 m
> > 351.60 658.79 l
> > o
> > np
> > 398.40 660.05 m
> > 398.40 650.31 l
> > o
> > np
> > 445.19 668.52 m
> > 445.19 658.79 l
> > o
> > np
> > 491.99 669.93 m
> > 491.99 660.20 l
> > o
> > np
> > 538.79 668.52 m
> > 538.79 658.79 l
> > o
> > 56.97 557.32 349.42 501.98 cl
> > 56.97 349.42 557.32 501.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > 75.50 386.14 1.78 c p1
> > 80.18 386.14 1.78 c p1
> > 84.86 386.14 1.78 c p1
> > 89.54 403.09 1.78 c p1
> > 94.22 400.27 1.78 c p1
> > 98.90 386.14 1.78 c p1
> > 103.58 393.21 1.78 c p1
> > 108.26 391.79 1.78 c p1
> > 112.94 401.68 1.78 c p1
> > 117.61 388.97 1.78 c p1
> > 164.41 391.79 1.78 c p1
> > 211.21 417.22 1.78 c p1
> > 258.01 403.09 1.78 c p1
> > 304.80 393.21 1.78 c p1
> > 351.60 420.05 1.78 c p1
> > 398.40 417.22 1.78 c p1
> > 445.19 407.33 1.78 c p1
> > 491.99 407.33 1.78 c p1
> > 538.79 393.21 1.78 c p1
> > 18.00 60.94 577.28 780.94 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 70.82 349.42 m
> > 538.79 349.42 l
> > o
> > np
> > 70.82 349.42 m
> > 70.82 344.66 l
> > o
> > np
> > 164.41 349.42 m
> > 164.41 344.66 l
> > o
> > np
> > 258.01 349.42 m
> > 258.01 344.66 l
> > o
> > np
> > 351.60 349.42 m
> > 351.60 344.66 l
> > o
> > np
> > 445.19 349.42 m
> > 445.19 344.66 l
> > o
> > np
> > 538.79 349.42 m
> > 538.79 344.66 l
> > o
> > /ps 8 def R 8 s
> > 70.82 332.31 (0) 0.50 0.00 0.00 t
> > 164.41 332.31 (2000) 0.50 0.00 0.00 t
> > 258.01 332.31 (4000) 0.50 0.00 0.00 t
> > 351.60 332.31 (6000) 0.50 0.00 0.00 t
> > 445.19 332.31 (8000) 0.50 0.00 0.00 t
> > 538.79 332.31 (10000) 0.50 0.00 0.00 t
> > np
> > 56.97 355.07 m
> > 56.97 496.33 l
> > o
> > np
> > 56.97 355.07 m
> > 52.21 355.07 l
> > o
> > np
> > 56.97 383.32 m
> > 52.21 383.32 l
> > o
> > np
> > 56.97 411.57 m
> > 52.21 411.57 l
> > o
> > np
> > 56.97 439.82 m
> > 52.21 439.82 l
> > o
> > np
> > 56.97 468.08 m
> > 52.21 468.08 l
> > o
> > np
> > 56.97 496.33 m
> > 52.21 496.33 l
> > o
> > 45.56 355.07 (0.00) 0.50 0.00 90.00 t
> > 45.56 383.32 (0.02) 0.50 0.00 90.00 t
> > 45.56 411.57 (0.04) 0.50 0.00 90.00 t
> > 45.56 439.82 (0.06) 0.50 0.00 90.00 t
> > 45.56 468.08 (0.08) 0.50 0.00 90.00 t
> > 45.56 496.33 (0.10) 0.50 0.00 90.00 t
> > np
> > 56.97 349.42 m
> > 557.32 349.42 l
> > 557.32 501.98 l
> > 56.97 501.98 l
> > 56.97 349.42 l
> > o
> > 18.00 300.94 577.28 540.94 cl
> > /ps 10 def B 10 s
> > 0.0000 0.0000 0.0000 rgb
> > 307.14 517.87 (Empirical sig. level, chisquared_1 distribution, built-in rng) 0.50 0.00 0.00 t
> > /ps 8 def R 8 s
> > 307.14 313.30 (series length) 0.50 0.00 0.00 t
> > 56.97 349.42 557.32 501.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [ 3.00 5.00] 0 setdash
> > np
> > 56.97 425.70 m
> > 557.32 425.70 l
> > o
> > 18.00 60.94 577.28 780.94 cl
> > /ps 12 def S 12 s
> > 0.0000 0.0000 0.0000 rgb
> > 20.88 419.83 (a) 0.00 0.00 0.00 t
> > /ps 12 def R 12 s
> > 21.85 423.52 (^) 0.00 0.00 0.00 t
> > 56.97 349.42 557.32 501.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 75.50 386.14 m
> > 75.50 395.88 l
> > o
> > np
> > 80.18 386.14 m
> > 80.18 395.88 l
> > o
> > np
> > 84.86 386.14 m
> > 84.86 395.88 l
> > o
> > np
> > 89.54 403.09 m
> > 89.54 412.83 l
> > o
> > np
> > 94.22 400.27 m
> > 94.22 410.01 l
> > o
> > np
> > 98.90 386.14 m
> > 98.90 395.88 l
> > o
> > np
> > 103.58 393.21 m
> > 103.58 402.94 l
> > o
> > np
> > 108.26 391.79 m
> > 108.26 401.53 l
> > o
> > np
> > 112.94 401.68 m
> > 112.94 411.42 l
> > o
> > np
> > 117.61 388.97 m
> > 117.61 398.70 l
> > o
> > np
> > 164.41 391.79 m
> > 164.41 401.53 l
> > o
> > np
> > 211.21 417.22 m
> > 211.21 426.96 l
> > o
> > np
> > 258.01 403.09 m
> > 258.01 412.83 l
> > o
> > np
> > 304.80 393.21 m
> > 304.80 402.94 l
> > o
> > np
> > 351.60 420.05 m
> > 351.60 429.78 l
> > o
> > np
> > 398.40 417.22 m
> > 398.40 426.96 l
> > o
> > np
> > 445.19 407.33 m
> > 445.19 417.07 l
> > o
> > np
> > 491.99 407.33 m
> > 491.99 417.07 l
> > o
> > np
> > 538.79 393.21 m
> > 538.79 402.94 l
> > o
> > np
> > 75.50 386.14 m
> > 75.50 376.41 l
> > o
> > np
> > 80.18 386.14 m
> > 80.18 376.41 l
> > o
> > np
> > 84.86 386.14 m
> > 84.86 376.41 l
> > o
> > np
> > 89.54 403.09 m
> > 89.54 393.36 l
> > o
> > np
> > 94.22 400.27 m
> > 94.22 390.53 l
> > o
> > np
> > 98.90 386.14 m
> > 98.90 376.41 l
> > o
> > np
> > 103.58 393.21 m
> > 103.58 383.47 l
> > o
> > np
> > 108.26 391.79 m
> > 108.26 382.06 l
> > o
> > np
> > 112.94 401.68 m
> > 112.94 391.95 l
> > o
> > np
> > 117.61 388.97 m
> > 117.61 379.23 l
> > o
> > np
> > 164.41 391.79 m
> > 164.41 382.06 l
> > o
> > np
> > 211.21 417.22 m
> > 211.21 407.49 l
> > o
> > np
> > 258.01 403.09 m
> > 258.01 393.36 l
> > o
> > np
> > 304.80 393.21 m
> > 304.80 383.47 l
> > o
> > np
> > 351.60 420.05 m
> > 351.60 410.31 l
> > o
> > np
> > 398.40 417.22 m
> > 398.40 407.49 l
> > o
> > np
> > 445.19 407.33 m
> > 445.19 397.60 l
> > o
> > np
> > 491.99 407.33 m
> > 491.99 397.60 l
> > o
> > np
> > 538.79 393.21 m
> > 538.79 383.47 l
> > o
> > 56.97 557.32 109.42 261.98 cl
> > 56.97 109.42 557.32 261.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > 75.50 153.21 1.78 c p1
> > 80.18 161.68 1.78 c p1
> > 84.86 153.21 1.78 c p1
> > 89.54 156.03 1.78 c p1
> > 94.22 151.79 1.78 c p1
> > 98.90 161.68 1.78 c p1
> > 103.58 160.27 1.78 c p1
> > 108.26 163.09 1.78 c p1
> > 112.94 141.91 1.78 c p1
> > 117.61 151.79 1.78 c p1
> > 164.41 147.56 1.78 c p1
> > 211.21 164.51 1.78 c p1
> > 258.01 168.75 1.78 c p1
> > 304.80 163.09 1.78 c p1
> > 351.60 177.22 1.78 c p1
> > 398.40 181.46 1.78 c p1
> > 445.19 165.92 1.78 c p1
> > 491.99 164.51 1.78 c p1
> > 538.79 158.86 1.78 c p1
> > 18.00 60.94 577.28 780.94 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 70.82 109.42 m
> > 538.79 109.42 l
> > o
> > np
> > 70.82 109.42 m
> > 70.82 104.66 l
> > o
> > np
> > 164.41 109.42 m
> > 164.41 104.66 l
> > o
> > np
> > 258.01 109.42 m
> > 258.01 104.66 l
> > o
> > np
> > 351.60 109.42 m
> > 351.60 104.66 l
> > o
> > np
> > 445.19 109.42 m
> > 445.19 104.66 l
> > o
> > np
> > 538.79 109.42 m
> > 538.79 104.66 l
> > o
> > /ps 8 def R 8 s
> > 70.82 92.31 (0) 0.50 0.00 0.00 t
> > 164.41 92.31 (2000) 0.50 0.00 0.00 t
> > 258.01 92.31 (4000) 0.50 0.00 0.00 t
> > 351.60 92.31 (6000) 0.50 0.00 0.00 t
> > 445.19 92.31 (8000) 0.50 0.00 0.00 t
> > 538.79 92.31 (10000) 0.50 0.00 0.00 t
> > np
> > 56.97 115.07 m
> > 56.97 256.33 l
> > o
> > np
> > 56.97 115.07 m
> > 52.21 115.07 l
> > o
> > np
> > 56.97 143.32 m
> > 52.21 143.32 l
> > o
> > np
> > 56.97 171.57 m
> > 52.21 171.57 l
> > o
> > np
> > 56.97 199.82 m
> > 52.21 199.82 l
> > o
> > np
> > 56.97 228.08 m
> > 52.21 228.08 l
> > o
> > np
> > 56.97 256.33 m
> > 52.21 256.33 l
> > o
> > 45.56 115.07 (0.00) 0.50 0.00 90.00 t
> > 45.56 143.32 (0.02) 0.50 0.00 90.00 t
> > 45.56 171.57 (0.04) 0.50 0.00 90.00 t
> > 45.56 199.82 (0.06) 0.50 0.00 90.00 t
> > 45.56 228.08 (0.08) 0.50 0.00 90.00 t
> > 45.56 256.33 (0.10) 0.50 0.00 90.00 t
> > np
> > 56.97 109.42 m
> > 557.32 109.42 l
> > 557.32 261.98 l
> > 56.97 261.98 l
> > 56.97 109.42 l
> > o
> > 18.00 60.94 577.28 300.94 cl
> > /ps 10 def B 10 s
> > 0.0000 0.0000 0.0000 rgb
> > 307.14 277.87 (Empirical sig. level, chisquared_1 distribution, home-made rng) 0.50 0.00 0.00 t
> > /ps 8 def R 8 s
> > 307.14 73.30 (series length) 0.50 0.00 0.00 t
> > 56.97 109.42 557.32 261.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [ 3.00 5.00] 0 setdash
> > np
> > 56.97 185.70 m
> > 557.32 185.70 l
> > o
> > 18.00 60.94 577.28 780.94 cl
> > /ps 12 def S 12 s
> > 0.0000 0.0000 0.0000 rgb
> > 20.88 179.83 (a) 0.00 0.00 0.00 t
> > /ps 12 def R 12 s
> > 21.85 183.52 (^) 0.00 0.00 0.00 t
> > 56.97 109.42 557.32 261.98 cl
> > 0.0000 0.0000 0.0000 rgb
> > 0.75 setlinewidth
> > [] 0 setdash
> > np
> > 75.50 153.21 m
> > 75.50 162.94 l
> > o
> > np
> > 80.18 161.68 m
> > 80.18 171.42 l
> > o
> > np
> > 84.86 153.21 m
> > 84.86 162.94 l
> > o
> > np
> > 89.54 156.03 m
> > 89.54 165.77 l
> > o
> > np
> > 94.22 151.79 m
> > 94.22 161.53 l
> > o
> > np
> > 98.90 161.68 m
> > 98.90 171.42 l
> > o
> > np
> > 103.58 160.27 m
> > 103.58 170.01 l
> > o
> > np
> > 108.26 163.09 m
> > 108.26 172.83 l
> > o
> > np
> > 112.94 141.91 m
> > 112.94 151.64 l
> > o
> > np
> > 117.61 151.79 m
> > 117.61 161.53 l
> > o
> > np
> > 164.41 147.56 m
> > 164.41 157.29 l
> > o
> > np
> > 211.21 164.51 m
> > 211.21 174.24 l
> > o
> > np
> > 258.01 168.75 m
> > 258.01 178.48 l
> > o
> > np
> > 304.80 163.09 m
> > 304.80 172.83 l
> > o
> > np
> > 351.60 177.22 m
> > 351.60 186.96 l
> > o
> > np
> > 398.40 181.46 m
> > 398.40 191.19 l
> > o
> > np
> > 445.19 165.92 m
> > 445.19 175.66 l
> > o
> > np
> > 491.99 164.51 m
> > 491.99 174.24 l
> > o
> > np
> > 538.79 158.86 m
> > 538.79 168.59 l
> > o
> > np
> > 75.50 153.21 m
> > 75.50 143.47 l
> > o
> > np
> > 80.18 161.68 m
> > 80.18 151.95 l
> > o
> > np
> > 84.86 153.21 m
> > 84.86 143.47 l
> > o
> > np
> > 89.54 156.03 m
> > 89.54 146.30 l
> > o
> > np
> > 94.22 151.79 m
> > 94.22 142.06 l
> > o
> > np
> > 98.90 161.68 m
> > 98.90 151.95 l
> > o
> > np
> > 103.58 160.27 m
> > 103.58 150.53 l
> > o
> > np
> > 108.26 163.09 m
> > 108.26 153.36 l
> > o
> > np
> > 112.94 141.91 m
> > 112.94 132.17 l
> > o
> > np
> > 117.61 151.79 m
> > 117.61 142.06 l
> > o
> > np
> > 164.41 147.56 m
> > 164.41 137.82 l
> > o
> > np
> > 211.21 164.51 m
> > 211.21 154.77 l
> > o
> > np
> > 258.01 168.75 m
> > 258.01 159.01 l
> > o
> > np
> > 304.80 163.09 m
> > 304.80 153.36 l
> > o
> > np
> > 351.60 177.22 m
> > 351.60 167.49 l
> > o
> > np
> > 398.40 181.46 m
> > 398.40 171.72 l
> > o
> > np
> > 445.19 165.92 m
> > 445.19 156.18 l
> > o
> > np
> > 491.99 164.51 m
> > 491.99 154.77 l
> > o
> > np
> > 538.79 158.86 m
> > 538.79 149.12 l
> > o
> > ep
> > %%Trailer
> > %%Pages: 1
> > %%EOF
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Mon Mar 25 22:22:14 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 25 Mar 2002 22:22:14 +0100
Subject: [R] How do you organize the objects you produced?
References: <036301c1d43b$5ef8b0c0$c416b43e@user2soggyji1z>
Message-ID: <3C9F9506.FD087F56@statistik.uni-dortmund.de>

"Rikkoe at softhome.net" wrote:
> 
> Hello!
> 
> It would be nice to hear how you organize the R-objects you produced. I
> found almost nothing about that neither in the R-manuals nor in two books
> about S.
> 
> For example I am trying to find out, how to load the functions that I have
> written and that are now saved in a .txt-file in a Windows directory. Is
> copying and pasting it to the RGui console really the only feasible way to
> do that? Constructing packages, similar to the ones included in the basic R
> system, is probably too complicated for a beginner like me, isn?t it?

Well, I wouldn't suggest to start learning R by creating your own
packages. But after some experiences it's a nice thing.
You are looking for 
 source()

It's mentioned in section 1.10 of "An Introduction to R" (this manual is
really worth reading it completely; hint, hint!).


> I wonder why manuals and books just explain how to write functions, but not
> how to keep and to reload them. I have got a similar problem with my data. I
> understood (mistakenly?) that one can attach a Windows directory to the
> search path, so that every file inside this directory is known by R, without
> further need to specify the path. 

Indeed, mistakenly. 
>From ?attach:
"Usage: attach(what, pos = 2, name = deparse(substitute(what)))
Arguments: what, ``database''. This may currently be a data.frame or
list or a R data file created with save."

You can set your working directory (see below).


> So I tried:
> 
> > attach("C:\\Temp",2)
> Error in load(file, envir) : unable to open file
> > search()
> [1] ".GlobalEnv"    "file:C:\\Temp" "package:ctest" "Autoloads"
> [5] "package:base"
>
>
> Temp is a directory and includes a file named test.dat. I went on:

Well, as cited above: it's a directory, but neither a data.frame nor a
list nor a R data file.
 

> > file <- read.table("test.dat", header = TRUE, fill = TRUE)
> Error in file(file, "r") : cannot open file `test.dat'
> 
> This last command only works when I use the RGui-menu to change my working
> directory to Temp.
> 
> I feel I am using R as if cutting hair with a spoon. Do you know a nicer way
> to use it?

Instead of using the GUI, you can set your working directory with
 setwd("c:/temp")
Additionally, read.table() [and any other function] also works for whole
paths, e.g.: "c:/temp/test.dat".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 22:25:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Mar 2002 21:25:26 +0000 (GMT)
Subject: [R] How do you organize the objects you produced?
In-Reply-To: <036301c1d43b$5ef8b0c0$c416b43e@user2soggyji1z>
Message-ID: <Pine.LNX.4.31.0203252123140.15318-100000@gannet.stats>

On Mon, 25 Mar 2002, Rikkoe at softhome.net wrote:

> It would be nice to hear how you organize the R-objects you produced. I
> found almost nothing about that neither in the R-manuals nor in two books
> about S.

They do explain about packages.

> For example I am trying to find out, how to load the functions that I have
> written and that are now saved in a .txt-file in a Windows directory. Is
> copying and pasting it to the RGui console really the only feasible way to
> do that? Constructing packages, similar to the ones included in the basic R
> system, is probably too complicated for a beginner like me, isn´t it?

No.

> I wonder why manuals and books just explain how to write functions, but not
> how to keep and to reload them. I have got a similar problem with my data. I

Um, a book called `S Programming' does.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 22:28:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Mar 2002 21:28:13 +0000 (GMT)
Subject: [R] arsinh
In-Reply-To: <Pine.LNX.4.30.0203251544290.9215-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.31.0203252126040.15318-100000@gannet.stats>

On Mon, 25 Mar 2002, Ben Bolker wrote:

>   Do you mean the inverse hyperbolic sin (arcsinh)?  In my experience the
> hyperbolic functions are usually pronounced with a "ch" (as in "church")
> for tanh and sinh or "sh" (for cosh) at the end: "ark-sinch" would be a
> transcription.

In R (and C) it is asinh(), so a-sinch or a-shine.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimitrov at gnf.org  Mon Mar 25 22:23:30 2002
From: dimitrov at gnf.org (Peter Dimitrov)
Date: 25 Mar 2002 13:23:30 -0800
Subject: [R] How to detach binary objects/libraries?
Message-ID: <1017091410.19049.22.camel@cb3.gnf.org>

Hi all,

First, I want to apologize if this question has been already answered. I
have a RedHat 7.2. system with recently patched version of R-1.4.1. I'm
in a process of writing R package, say X, that loads some C++ code.
Currently, while adding functionality to it in both R and C++ sources,
I'm getting crashes every time I detach/load/access the C++ function(s).
Typical transcript follows:

> library(X)
Loading required package: mva 
> is.loaded("exp_dist_fast") # The name of the C stub function
[1] TRUE
> detach(package:X)
> is.loaded("exp_dist_fast")
[1] TRUE # Problem?
> library(X) # Load X after changes in the C/C++ code
> is.loaded("exp_dist_fast") # or .C("exp_dist_fast",...)

Process R:1 segmentation fault at Mon Mar 25 12:17:57 2002

What is the way to cleanly unload the object code and is there better
mechanism than detach(package:X)?

Thanks,

Peter Dimitrov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 25 22:46:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Mar 2002 21:46:57 +0000 (GMT)
Subject: [R] How to detach binary objects/libraries?
In-Reply-To: <1017091410.19049.22.camel@cb3.gnf.org>
Message-ID: <Pine.LNX.4.31.0203252143320.15381-100000@gannet.stats>

On 25 Mar 2002, Peter Dimitrov wrote:

> Hi all,
>
> First, I want to apologize if this question has been already answered. I
> have a RedHat 7.2. system with recently patched version of R-1.4.1. I'm
> in a process of writing R package, say X, that loads some C++ code.
> Currently, while adding functionality to it in both R and C++ sources,
> I'm getting crashes every time I detach/load/access the C++ function(s).
> Typical transcript follows:
>
> > library(X)
> Loading required package: mva
> > is.loaded("exp_dist_fast") # The name of the C stub function
> [1] TRUE
> > detach(package:X)
> > is.loaded("exp_dist_fast")
> [1] TRUE # Problem?
> > library(X) # Load X after changes in the C/C++ code
> > is.loaded("exp_dist_fast") # or .C("exp_dist_fast",...)
>
> Process R:1 segmentation fault at Mon Mar 25 12:17:57 2002
>
> What is the way to cleanly unload the object code and is there better
> mechanism than detach(package:X)?

Does you package use .Last.lib to unload your shared library, X.so?
If not, that will probably be your problem, as library.dynam will not
reload it (and you probably use library.dynam).

Take a look at package tcltk for an example.

I'm not sure what Linux does if you change a shared library that is in
use, but it is not a good idea (and fatal on Solaris, for example).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Mon Mar 25 23:28:53 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Tue, 26 Mar 2002 08:28:53 +1000
Subject: [R] netCDF
Message-ID: <5.0.0.25.1.20020326082009.04661860@pop.jcu.edu.au>

I can't get the netCDF functions to work.  Any hints?

  open.netCDF produces the following error message

Error in .C("open_netcdf", filename, id = as.integer(verbose)) :
         C/Fortran function name not in load table

System win 98, R1.4.1 (binary distribution), netCDF (binary distribution)

Richard Rowe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimitrov at gnf.org  Tue Mar 26 00:50:34 2002
From: dimitrov at gnf.org (Peter Dimitrov)
Date: 25 Mar 2002 15:50:34 -0800
Subject: [R] How to detach binary objects/libraries?
In-Reply-To: <Pine.LNX.4.31.0203252143320.15381-100000@gannet.stats>
References: <Pine.LNX.4.31.0203252143320.15381-100000@gannet.stats>
Message-ID: <1017100234.19558.26.camel@cb3.gnf.org>

On Mon, 2002-03-25 at 13:46, ripley at stats.ox.ac.uk wrote:
> On 25 Mar 2002, Peter Dimitrov wrote:
> 
> > Hi all,
> >
> > First, I want to apologize if this question has been already answered. I
> > have a RedHat 7.2. system with recently patched version of R-1.4.1. I'm
> > in a process of writing R package, say X, that loads some C++ code.
> > Currently, while adding functionality to it in both R and C++ sources,
> > I'm getting crashes every time I detach/load/access the C++ function(s).
> > Typical transcript follows:
> >
> > > library(X)
> > Loading required package: mva
> > > is.loaded("exp_dist_fast") # The name of the C stub function
> > [1] TRUE
> > > detach(package:X)
> > > is.loaded("exp_dist_fast")
> > [1] TRUE # Problem?
> > > library(X) # Load X after changes in the C/C++ code
> > > is.loaded("exp_dist_fast") # or .C("exp_dist_fast",...)
> >
> > Process R:1 segmentation fault at Mon Mar 25 12:17:57 2002
> >
> > What is the way to cleanly unload the object code and is there better
> > mechanism than detach(package:X)?
> 
> Does you package use .Last.lib to unload your shared library, X.so?
> If not, that will probably be your problem, as library.dynam will not
> reload it (and you probably use library.dynam).
> 
> Take a look at package tcltk for an example.

Thank you, Prof. Ripley!

Adding .Last.lib solved the segmentantion fault problem. On the other
hand, it created the following puzzle. Transcript follows:

> library(X)
Loading required package: mva 
> is.loaded("exp_dist_fast")
[1] TRUE
> detach(package:X)
> is.loaded("exp_dist_fast")
[1] FALSE
> library(X)
> is.loaded("exp_dist_fast")
[1] FALSE
> .C("exp_dist_fast",...)
Error in .C("exp_dist_fast", ...),  : 
	C/Fortran function name not in load table
> detach(package:X)
Error in dyn.unload(x) : dynamic/shared library
"/opt/lib/R/library/X/libs/X.so" was not loaded

X's zzz.R follows:

.First.lib <- function( lib, pkg )
  library.dynam( "X", pkg, lib )

.Last.lib <- function( libpath )
  dyn.unload(
             file.path( libpath,
                       "libs",
                       paste( "X", .Platform$"dynlib.ext", sep = "" )
                       )
             )

Is the solution just to change library.dynam with dyn.load( file.path(
..))?

> 
> I'm not sure what Linux does if you change a shared library that is in
> use, but it is not a good idea (and fatal on Solaris, for example).

It's probably quite wrong, but I was hoping that it will work much the
same way as in sourcing the original not-yet-in-a-package R file that
dynamically loads X.so. In Linux it reloads X.so without a problem.

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From DivineSAAM at aol.com  Tue Mar 26 02:23:36 2002
From: DivineSAAM at aol.com (DivineSAAM@aol.com)
Date: Mon, 25 Mar 2002 20:23:36 EST
Subject: [R] unsbscribe
Message-ID: <12.1c7fdffb.29d12798@aol.com>

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eglen at pcg.wustl.edu  Tue Mar 26 03:38:51 2002
From: eglen at pcg.wustl.edu (Stephen Eglen)
Date: Mon, 25 Mar 2002 20:38:51 -0600
Subject: [R] documentation suggestion for Extremes.Rd
Message-ID: <15519.57147.310473.753272@mosaics.wustl.edu>


Should R/src/library/base/man/Extremes.Rd (where max, min, pmax, pmin
are documented) refer to which.min and which.max in the "\seealso"
section?

e.g. change the \seealso section (line 53) of Extremes.Rd to:
  \code{\link{range}}, \code{\link{which.min}}, etc.},

[Also, is r-help the right place for suggestions about documentation?]

thanks,
Stephen Eglen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jones at reed.edu  Tue Mar 26 05:10:03 2002
From: jones at reed.edu (Albyn Jones)
Date: Mon, 25 Mar 2002 20:10:03 -0800
Subject: [R] arsinh
In-Reply-To: <Pine.LNX.4.31.0203252126040.15318-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Mon, Mar 25, 2002 at 09:28:13PM +0000
References: <Pine.LNX.4.30.0203251544290.9215-100000@bolker.zoo.ufl.edu> <Pine.LNX.4.31.0203252126040.15318-100000@gannet.stats>
Message-ID: <20020325201003.J11613@sellwood.reed.edu>

On Mon, 25 Mar 2002, Ben Bolker wrote:

>   Do you mean the inverse hyperbolic sin (arcsinh)?  In my experience the
> hyperbolic functions are usually pronounced with a "ch" (as in "church")
> for tanh and sinh or "sh" (for cosh) at the end: "ark-sinch" would be a
> transcription.
 
the inverse hyperbolic sin is often called "arsinh" (pronounced ar-sinch)
rather than "arcsinh" for good reason.  

arcsin(x) is the _arc_ (ie angle) with sin equal to x

arsinh(x) is an _area_ corresponding to a sinh of x

albyn
--------------------------------------------------------------
http://www.reed.edu/~jones    Albyn Jones	  jones at reed.edu
Reed College, Portland OR 97202             (503)-771-1112 x7418

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 26 08:16:56 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Mar 2002 07:16:56 +0000 (GMT)
Subject: [R] How to detach binary objects/libraries?
In-Reply-To: <1017100234.19558.26.camel@cb3.gnf.org>
Message-ID: <Pine.GSO.4.44.0203260709520.12950-100000@auk.stats>

On 25 Mar 2002, Peter Dimitrov wrote:

> On Mon, 2002-03-25 at 13:46, ripley at stats.ox.ac.uk wrote:
> > On 25 Mar 2002, Peter Dimitrov wrote:
> >
> > > Hi all,
> > >
> > > First, I want to apologize if this question has been already answered. I
> > > have a RedHat 7.2. system with recently patched version of R-1.4.1. I'm
> > > in a process of writing R package, say X, that loads some C++ code.
> > > Currently, while adding functionality to it in both R and C++ sources,
> > > I'm getting crashes every time I detach/load/access the C++ function(s).
> > > Typical transcript follows:
> > >
> > > > library(X)
> > > Loading required package: mva
> > > > is.loaded("exp_dist_fast") # The name of the C stub function
> > > [1] TRUE
> > > > detach(package:X)
> > > > is.loaded("exp_dist_fast")
> > > [1] TRUE # Problem?
> > > > library(X) # Load X after changes in the C/C++ code
> > > > is.loaded("exp_dist_fast") # or .C("exp_dist_fast",...)
> > >
> > > Process R:1 segmentation fault at Mon Mar 25 12:17:57 2002
> > >
> > > What is the way to cleanly unload the object code and is there better
> > > mechanism than detach(package:X)?
> >
> > Does you package use .Last.lib to unload your shared library, X.so?
> > If not, that will probably be your problem, as library.dynam will not
> > reload it (and you probably use library.dynam).
> >
> > Take a look at package tcltk for an example.
>
> Thank you, Prof. Ripley!
>
> Adding .Last.lib solved the segmentantion fault problem. On the other
> hand, it created the following puzzle. Transcript follows:
>
> > library(X)
> Loading required package: mva
> > is.loaded("exp_dist_fast")
> [1] TRUE
> > detach(package:X)
> > is.loaded("exp_dist_fast")
> [1] FALSE
> > library(X)
> > is.loaded("exp_dist_fast")
> [1] FALSE
> > .C("exp_dist_fast",...)
> Error in .C("exp_dist_fast", ...),  :
> 	C/Fortran function name not in load table
> > detach(package:X)
> Error in dyn.unload(x) : dynamic/shared library
> "/opt/lib/R/library/X/libs/X.so" was not loaded
>
> X's zzz.R follows:
>
> .First.lib <- function( lib, pkg )
>   library.dynam( "X", pkg, lib )
>
> .Last.lib <- function( libpath )
>   dyn.unload(
>              file.path( libpath,
>                        "libs",
>                        paste( "X", .Platform$"dynlib.ext", sep = "" )
>                        )
>              )
>
> Is the solution just to change library.dynam with dyn.load( file.path(
> ..))?

No, it is to follow the example I pointed you too.  You need code like

.Last.lib <- function(libpath) {
    if(is.loaded(symbol.C("tcltk_end"))) {
        .C("tcltk_end", PACKAGE="tcltk")
        dyn.unload(file.path(libpath, "libs", "tcltk.dll"))
        num <- match("tcltk", get(".Dyn.libs", envir = NULL))
        assign(".Dyn.libs",
               get(".Dyn.libs", envir = NULL)[-num],
               envir = NULL)
    }
}


> > I'm not sure what Linux does if you change a shared library that is in
> > use, but it is not a good idea (and fatal on Solaris, for example).
>
> It's probably quite wrong, but I was hoping that it will work much the
> same way as in sourcing the original not-yet-in-a-package R file that
> dynamically loads X.so. In Linux it reloads X.so without a problem.

But my point was: what does changing the file copy of an already loaded
shared library do?   It's not allowed on Windows, and on Solaris it will
lead to a crash.  I don't know about Linux, as I would never try it
given my experience.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 26 09:15:10 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Mar 2002 09:15:10 +0100
Subject: [R] How to detach binary objects/libraries?
In-Reply-To: <Pine.GSO.4.44.0203260709520.12950-100000@auk.stats>
References: <Pine.GSO.4.44.0203260709520.12950-100000@auk.stats>
Message-ID: <x2wuvzu4mp.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> But my point was: what does changing the file copy of an already loaded
> shared library do?   It's not allowed on Windows, and on Solaris it will
> lead to a crash.  I don't know about Linux, as I would never try it
> given my experience.

AFAIR, it works on Linux. Running processes just continue using the
old version (which gets unlinked in the usual Unix way and goes away
when no more processes are using it). E.g., you can upgrade the
readline library without crashing all running instances of bash...

On Solaris, I believe that overwriting a shared lib will write
directly into the memory space of any process using the file.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 26 09:36:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 26 Mar 2002 08:36:27 +0000 (GMT)
Subject: [R] How to detach binary objects/libraries?
In-Reply-To: <x2wuvzu4mp.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0203260828150.32263-100000@gannet.stats>

On 26 Mar 2002, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
>
> > But my point was: what does changing the file copy of an already loaded
> > shared library do?   It's not allowed on Windows, and on Solaris it will
> > lead to a crash.  I don't know about Linux, as I would never try it
> > given my experience.
>
> AFAIR, it works on Linux. Running processes just continue using the
> old version (which gets unlinked in the usual Unix way and goes away
> when no more processes are using it). E.g., you can upgrade the
> readline library without crashing all running instances of bash...

bash is using a static readline.  E.g. RH7.2:

gannet% ldd /bin/bash
        libtermcap.so.2 => /lib/libtermcap.so.2 (0x4002e000)
        libdl.so.2 => /lib/libdl.so.2 (0x40032000)
        libc.so.6 => /lib/i686/libc.so.6 (0x40036000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

More importantly it's not the same issue.  That would have been linking
against a shared library which the OS loads, and R is itself loading a
module which happens to be a shared library.  On MacOS X those are
different concepts.  As I understand it Linux's ld.so is not able to
update in-use shared libraries: it relies on a change in version number.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Tue Mar 26 13:00:01 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Tue, 26 Mar 2002 13:00:01 +0100
Subject: [R] process & tracking
Message-ID: <3CA062C1.5020005@metafacts.de>

Hi,
exist a possibilty to work with more than one process
like this,or  in another way is it possible to start
more than one time R (Win2000) and let run the process at one
task and work interactive normal with the other.......(but this is 
perhaps dangeorous , cause of same .RData file) ?


while(1) {
queryTrack()
Sys.sleep(12)}

thanks & regards,
Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 26 13:04:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 26 Mar 2002 12:04:16 +0000 (GMT)
Subject: [R] process & tracking
In-Reply-To: <3CA062C1.5020005@metafacts.de>
Message-ID: <Pine.LNX.4.31.0203261202540.12575-100000@gannet.stats>

On Tue, 26 Mar 2002, Christian Schulz wrote:

> Hi,
> exist a possibilty to work with more than one process
> like this,or  in another way is it possible to start
> more than one time R (Win2000) and let run the process at one
> task and work interactive normal with the other.......(but this is
> perhaps dangeorous , cause of same .RData file) ?

No problem.  If you ask the processes to save in the same directory then
the last to save will win.  So don't.

>
>
> while(1) {
> queryTrack()
> Sys.sleep(12)}
>
> thanks & regards,
> Christian
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From friendly at yorku.ca  Tue Mar 26 15:49:42 2002
From: friendly at yorku.ca (Michael Friendly)
Date: Tue, 26 Mar 2002 09:49:42 -0500
Subject: [R] correlation matrix for mixed contin/nominal/ordinal variables
Message-ID: <3CA08A86.C61507E9@yorku.ca>

I have a consulting client with data containing a mixture of
continuous, nominal, and ordinal variables, who wishes
to do some correlational analyses.

Ignoring for the moment whether this is wise or useful,
is there some way to calculate a matrix using, for example,
polychoric correlations for pairs of nominal variables,
or correlations based on normal scores for ordinal variables?
[The PRELIS program, part of LISREL does this, with a
variety of options.]

-Michael


-- 
Michael Friendly              friendly at yorku.ca
York University               http://www.math.yorku.ca/SCS/friendly.html
Psychology Department
4700 Keele Street             Tel:  (416) 736-5115 x66249
Toronto, Ontario, M3J 1P3     Fax:  (416) 736-5814
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adele at math.usu.edu  Tue Mar 26 17:04:00 2002
From: adele at math.usu.edu (Adele Cutler)
Date: Tue, 26 Mar 2002 09:04:00 -0700
Subject: [R] installing gzip files
Message-ID: <PKEMLPIILHFCOEGLMKBLKEOLCDAA.adele@math.usu.edu>

I'm trying to install an R package that arrived in a 
package.tar.gz file.

I use:

R INSTALL -l /home/adele/packagedir package.tar.gz

and I get:

ERROR: cannot extract package from package.tar.gz

 
The author of the package assures me that the same
command works for his version of solaris and R. 
He has solaris 5.7 and R 1.4.1, while I have 
solaris 5.8 and R 1.4.1.

Does anyone know what's wrong and how to fix it? 

Thanks,
Adele Cutler
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Tue Mar 26 17:17:57 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 26 Mar 2002 08:17:57 -0800
Subject: [R] seq.POSIXt() with short time intervals
Message-ID: <p05101500b8c641c1d9bf@[128.115.153.6]>

I was surprised when seq.POSIXt() returned a single value rather than 
a vector, from inputs that I thought were reasonable. Here's an 
example to illustrate:

>  t0 <- ISOdatetime(2002,6,24,0,0,10)

## expected a sequence of 16 times 1 second apart
>  seq.POSIXt(from=t0,to=t0+15,by='1 sec')
[1] "2002-06-24 00:00:10 PDT"

## traces to this call
>  seq.default(1024902010,1024902025,by=1)
[1] 1024902010
>

## which is due to the following expressions in seq.default()
      del <- to - from
      ## a few lines omitted
      dd <- abs(del)/max(abs(to), abs(from))
      if (dd < sqrt(.Machine$double.eps)) return(from)

This looks like a trap to catch bad input, and return something 
reasonable (or at least not crash).

It's a given that seq.default() pre-dates seq.POSIXt() by many years, 
and the test for relative range undoubtedly has good reasons, so it's 
probably not a good idea to change seq.default().

There's nothing inherently wrong with such a time sequence, and in 
fact, if t0 = ISOdatetime(1970,6,24,0,0,10) instead, seq.POSIXt() 
does return a vector.

I'd like to see seq.POSIXt() return a full sequence in such cases, 
regardless of the starting point, so what I'll do is think about it, 
and see if I can't come up with a good way to modify seq.POSIXt() to 
do that. In the meantime, I'm interested in any comments or 
suggestions anyone might have.

Turns out that with the base time, t0, as above, t0+15 is right at 
the threshold of the relative range test:
## compare with t0=t0+16
## this call returns what was expected
>  seq.POSIXt(from=t0, to=t0+16, by='1 sec')
  [1] "2002-06-24 00:00:10 PDT" "2002-06-24 00:00:11 PDT" "2002-06-24 
00:00:12 PDT" "2002-06-24 00:00:13 PDT"
  [5] "2002-06-24 00:00:14 PDT" "2002-06-24 00:00:15 PDT" "2002-06-24 
00:00:16 PDT" "2002-06-24 00:00:17 PDT"
  [9] "2002-06-24 00:00:18 PDT" "2002-06-24 00:00:19 PDT" "2002-06-24 
00:00:20 PDT" "2002-06-24 00:00:21 PDT"
[13] "2002-06-24 00:00:22 PDT" "2002-06-24 00:00:23 PDT" "2002-06-24 
00:00:24 PDT" "2002-06-24 00:00:25 PDT"
[17] "2002-06-24 00:00:26 PDT"


I've found this on two platforms:
>  version
          _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    4.1
year     2002
month    01
day      30
language R

platform powerpc-apple-darwin5.3
arch     powerpc
os       darwin5.3
system   powerpc, darwin5.3
status
major    1
minor    4.1     (also 4.0)
year     2001
month    12
day      19
language R

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jojeda at posta.unizar.es  Tue Mar 26 17:24:23 2002
From: jojeda at posta.unizar.es (Jorge Luis Ojeda Cabrera)
Date: Tue, 26 Mar 2002 17:24:23 +0100
Subject: [R] Extreme value distributions (Long.)
References: <200203251941.PAA27207@gelfand.math.unb.ca>
Message-ID: <3CA0A0B7.EAA0880F@posta.unizar.es>

Rolf Turner escribi?:
> 
> This may not actually be an R/Splus problem, but it started
> off that way .....
> 
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> Executive summary:
> ==================
> 
> Simulations involving extreme value distributions seem to ``work''
> when the underlying distribution is exponential(1) or exponential(2)
> == chi-squared_2, but NOT when the underlying distribution is
> chi-squared_1.
> 
> Can anyone make an educated conjecture as to why?
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> 
> More (much more!) detail:
> =========================
> 
> I have recently been doing some simulations which relate to extreme
> value distributions.  I have observed a phenomenon which puzzles me,
> and I would appreciate it if anyone could shed some light on the
> puzzle.  The phenomenon occurs in both R and Splus.  (Also, I have
> now discovered, in stand-alone Fortran.)
> 

> ...
> ...

>                                         cheers,
> 
>                                                 Rolf Turner
>                                                 rolf at math.unb.ca
> 

It is a quite disappointing phenomena involving extremal value
distribution.
We have experienced the same behaviour with normal variates and gaussian
processes.
In "Extremes and Related Properties of Random Sequences and Processes",
Leadbetter et Al. (1983), pointed out that the convergence rate was
$O(\log^{-1} n)$, at least in the case of normal variates. I guess it is
almost the same in case of the other random variates.
On the other hand, "On convergence rates of supreme" Hall, P. (1991),
suggest that bootstrap approximation should work better, and as far I
know this has been also pointed
in a recent article from Cs\''orgo\'' M. I guess. These articles are
devoted to processes, and they are developed in a rather theoretical
framework. Although I am not sure if bootstrap work for a size n sample,
I guess should do. 

In order to do bootstrap, I found useful 'boot' package.

Let me know if you find further references for the non gaussian case,
and if bootstrap worked.

Jorge Ojeda.
Dep. M?todos Estad?sticos.
U. Zaragoza.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Mar 26 18:10:42 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 26 Mar 2002 12:10:42 -0500
Subject: [R] installing gzip files
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E900@uswpmx11.merck.com>

It may be that the package.tar.gz is corrupted, for example by ascii ftp
between Windows and Unix. Did you get any messages from tar and/or gzip? You
could try to unzip and untar it and see if it's OK.

Is gzip on your path? It's not distributed with Solaris so maybe it's in an
unusual location on your system.

Reid Huntsinger

-----Original Message-----
From: Adele Cutler [mailto:adele at math.usu.edu]
Sent: Tuesday, March 26, 2002 11:04 AM
To: r-help at stat.math.ethz.ch
Subject: [R] installing gzip files


I'm trying to install an R package that arrived in a 
package.tar.gz file.

I use:

R INSTALL -l /home/adele/packagedir package.tar.gz

and I get:

ERROR: cannot extract package from package.tar.gz

 
The author of the package assures me that the same
command works for his version of solaris and R. 
He has solaris 5.7 and R 1.4.1, while I have 
solaris 5.8 and R 1.4.1.

Does anyone know what's wrong and how to fix it? 

Thanks,
Adele Cutler
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 26 18:25:08 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 26 Mar 2002 17:25:08 +0000 (GMT)
Subject: [R] seq.POSIXt() with short time intervals
In-Reply-To: <p05101500b8c641c1d9bf@[128.115.153.6]>
Message-ID: <Pine.LNX.4.31.0203261714150.23723-100000@gannet.stats>

On Tue, 26 Mar 2002, Don MacQueen wrote:

> I was surprised when seq.POSIXt() returned a single value rather than
> a vector, from inputs that I thought were reasonable. Here's an
> example to illustrate:
>
> >  t0 <- ISOdatetime(2002,6,24,0,0,10)
>
> ## expected a sequence of 16 times 1 second apart
> >  seq.POSIXt(from=t0,to=t0+15,by='1 sec')
> [1] "2002-06-24 00:00:10 PDT"
>
> ## traces to this call
> >  seq.default(1024902010,1024902025,by=1)
> [1] 1024902010
> >
>
> ## which is due to the following expressions in seq.default()
>       del <- to - from
>       ## a few lines omitted
>       dd <- abs(del)/max(abs(to), abs(from))
>       if (dd < sqrt(.Machine$double.eps)) return(from)
>
> This looks like a trap to catch bad input, and return something
> reasonable (or at least not crash).
>
> It's a given that seq.default() pre-dates seq.POSIXt() by many years,
> and the test for relative range undoubtedly has good reasons, so it's
> probably not a good idea to change seq.default().

Oh, I think it needs to be changed.  That is far too generous a test for
numerical inaccuracies, by say 5 orders of magnitude.  It is also
undocumented, so I'd post a bug report on seq.default.

> There's nothing inherently wrong with such a time sequence, and in
> fact, if t0 = ISOdatetime(1970,6,24,0,0,10) instead, seq.POSIXt()
> does return a vector.
>
> I'd like to see seq.POSIXt() return a full sequence in such cases,
> regardless of the starting point, so what I'll do is think about it,
> and see if I can't come up with a good way to modify seq.POSIXt() to
> do that. In the meantime, I'm interested in any comments or
> suggestions anyone might have.

Easy: subtract the starting value before the call and add it back on
afterwards.

> Turns out that with the base time, t0, as above, t0+15 is right at
> the threshold of the relative range test:
> ## compare with t0=t0+16
> ## this call returns what was expected
> >  seq.POSIXt(from=t0, to=t0+16, by='1 sec')
>   [1] "2002-06-24 00:00:10 PDT" "2002-06-24 00:00:11 PDT" "2002-06-24
> 00:00:12 PDT" "2002-06-24 00:00:13 PDT"
>   [5] "2002-06-24 00:00:14 PDT" "2002-06-24 00:00:15 PDT" "2002-06-24
> 00:00:16 PDT" "2002-06-24 00:00:17 PDT"
>   [9] "2002-06-24 00:00:18 PDT" "2002-06-24 00:00:19 PDT" "2002-06-24
> 00:00:20 PDT" "2002-06-24 00:00:21 PDT"
> [13] "2002-06-24 00:00:22 PDT" "2002-06-24 00:00:23 PDT" "2002-06-24
> 00:00:24 PDT" "2002-06-24 00:00:25 PDT"
> [17] "2002-06-24 00:00:26 PDT"
>
>
> I've found this on two platforms:
> >  version
>           _
> platform sparc-sun-solaris2.7
> arch     sparc
> os       solaris2.7
> system   sparc, solaris2.7
> status
> major    1
> minor    4.1
> year     2002
> month    01
> day      30
> language R
>
> platform powerpc-apple-darwin5.3
> arch     powerpc
> os       darwin5.3
> system   powerpc, darwin5.3
> status
> major    1
> minor    4.1     (also 4.0)
> year     2001
> month    12
> day      19
> language R
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Tue Mar 26 20:07:50 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Tue, 26 Mar 2002 20:07:50 +0100
Subject: [R] comparing row by row in matrix
References: <15513.50780.961340.953669@galadriel.ci.tuwien.ac.at>
Message-ID: <034001c1d4f9$90fb0640$f414b080@oemcomputer>

Hello,

and thanks for the two responses to my questions on binary matrixes, which
showed me that the functions I needed do not exist.

To get a distance matrix with the Russell-Rao-coefficient, I first have to
compare each row of a binary matrix with each row and count how many
elements are
a. equal
and
b. 1.

by
f <- function(x,y) (sum(x == 1& y == x))

Now how can I iterate this over a matrix without a loop? I think apply etc.
will not work in this case.

Thanks for any help.

Regards,
Petra

-
---------------------------------------------------
Petra Steiner
Arbeitsbereich Linguistik
Universitaet Muenster
Huefferstrasse 27
48149  Muenster

Tel: 0251 / 83 39442
petra at marley.uni-muenster.de
http://santana.uni-muenster.de/~petra/





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmiddleton at fisheries.gov.fk  Tue Mar 26 18:23:21 2002
From: dmiddleton at fisheries.gov.fk (David Middleton)
Date: Tue, 26 Mar 2002 15:23:21 -0200
Subject: [R] ks.test - continuous vs discrete
Message-ID: <698C02D452EDD411A42300A0C982E91E083AE9@MAIL>


I frequently want to test for differences between animal size frequency
distributions.  The obvious test (I think) to use is the Kolmogorov-Smirnov
two sample test (provided in R as the function ks.test in package ctest).
The KS test is for continuous variables and this obviously includes length,
weight etc.  However, limitations in measuring (e.g length to the nearest
cm/mm, weight to the nearest g/mg etc) has the obvious effect of
"discretising" real data.

The ks.test function checks for the presence of ties noting in the help page
that "continuous distributions do not generate them".  Given the problem of
"measuring to the nearest..." noted above I frequently find that my data has
ties and ks.test generates a warning.
I was interested to note that the example of a two-sample KS test given in
Sokal & Rohlf's "Biometry" (I have the 2nd edition where the example is on
p.441) has exactly the same problem:
> A <- c(104,109,112,114,116,118,118,117,121,123,125,126,126,128,128,128)
> B <- c(100,105,107,107,108,111,116,120,121,123)
> ks.test(A,B)

        Two-sample Kolmogorov-Smirnov test

data:  A and B 
D = 0.475, p-value = 0.1244
alternative hypothesis: two.sided 

Warning message: 
cannot compute correct p-values with ties in: ks.test(A, B)
In their chapter 2, "Data in Biology", Sokal & Rohlf note "any given reading
of a continuous variable ... is therefore an approximation to the exact
reading, which is in practice unknowable.  However, for the purposes of
computation these approximations are usually sufficient..."
I am interested to know whether this can be made more exact.  Are there
methods to test that data are measured at an appropriate scale so as to be
regarded as sufficiently continuous for a KS test, or is common sense choice
of measurement precision widely regarded as sufficient?
Any comments/references would be appreciated!
David Middleton

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Mar 26 20:47:04 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 26 Mar 2002 14:47:04 -0500
Subject: [R] comparing row by row in matrix
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E901@uswpmx11.merck.com>

I don't know the Russell-Rao coefficient but maybe this will help:

You can compute the number of times y and x are both 1 (that's what your
function f does) by counting 1s in y*x, i.e., sum(y*x), aka t(y)%*%x.
Ordinary matrix multiplication does this row-by-column, so if M and N are
two binary matrices, M%*%t(N) will have (i,j) entry equal to the count of 1s
in common to row i of M and row j of N.

Hope I've understood the problem correctly.

Reid Huntsinger

-----Original Message-----
From: Petra Steiner [mailto:steinep at uni-muenster.de]
Sent: Tuesday, March 26, 2002 2:08 PM
To: r-help at stat.math.ethz.ch
Subject: [R] comparing row by row in matrix


Hello,

and thanks for the two responses to my questions on binary matrixes, which
showed me that the functions I needed do not exist.

To get a distance matrix with the Russell-Rao-coefficient, I first have to
compare each row of a binary matrix with each row and count how many
elements are
a. equal
and
b. 1.

by
f <- function(x,y) (sum(x == 1& y == x))

Now how can I iterate this over a matrix without a loop? I think apply etc.
will not work in this case.

Thanks for any help.

Regards,
Petra

-
---------------------------------------------------
Petra Steiner
Arbeitsbereich Linguistik
Universitaet Muenster
Huefferstrasse 27
48149  Muenster

Tel: 0251 / 83 39442
petra at marley.uni-muenster.de
http://santana.uni-muenster.de/~petra/





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rregoes at emory.edu  Tue Mar 26 21:42:53 2002
From: rregoes at emory.edu (Roland Regoes)
Date: Tue, 26 Mar 2002 15:42:53 -0500
Subject: [R] anova() for nlm or nls
Message-ID: <3CA0DD4D.EAED54E3@emory.edu>

Dear R community,

I am currently fitting non-linear models using nlm and nls.

1) I would like to compare the different models analogous to the
comparison of linear models with anova(). Is there a function in R which
allows to do that?

2) I would like to constrain the parameter ranges to positive values
only. Is there an option in nlm or nls which allows to constrain
parameter ranges? (So far I constrained them "manually" by incorporating
the constraints into the definition of the functions fitted.)

Thanks for your help,

Roland


---------------------------------------------------------------------------
Roland Regoes
Department of Biology
Emory University
1510 Clifton Rd
Atlanta, GA 30322

tel: (404) 727-1765
fax: (404) 727-2880
---------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From forporphyry at hotmail.com  Tue Mar 26 21:51:05 2002
From: forporphyry at hotmail.com (graham lawrence)
Date: Tue, 26 Mar 2002 12:51:05 -0800
Subject: [R] source() or function?
Message-ID: <F212EAHoxvbQaPCgGwe0001a971@hotmail.com>

What criteria does one use to decide whether to write a common sequence of 
code as a source(procedure) or as a function?  As I understand it, both are 
maintained as source code and interpreted, so is there any performance 
advantage either way?

Thank you for your help.

graham lawrence

_________________________________________________________________
MSN Photos is the easiest way to share and print your photos: 
http://photos.msn.com/support/worldwide.aspx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Tue Mar 26 22:15:56 2002
From: marimont at nxpdata.com (David Marimont)
Date: Tue, 26 Mar 2002 13:15:56 -0800
Subject: [R] does function predplot still exist?
Message-ID: <3CA0E50C.4040001@nxpdata.com>

Venables and Ripley's MASS 3ed mentions a function predplot, used for
plotting results of lda and qda.  But even with the library MASS loaded,
R (1.4.1) tells me predplot doesn't exist, and when I search the 1.4.1
documentation for predplot, it finds nothing.  Does predplot still
exist somewhere, or has it been replaced by a new and improved version
with a different name?  Thanks.

   David Marimont

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Mar 26 22:26:21 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Mar 2002 15:26:21 -0600
Subject: [R] anova() for nlm or nls
In-Reply-To: <3CA0DD4D.EAED54E3@emory.edu>
References: <3CA0DD4D.EAED54E3@emory.edu>
Message-ID: <6ru1r3ja0y.fsf@franz.stat.wisc.edu>

Roland Regoes <rregoes at emory.edu> writes:

> Dear R community,
> 
> I am currently fitting non-linear models using nlm and nls.
> 
> 1) I would like to compare the different models analogous to the
> comparison of linear models with anova(). Is there a function in R which
> allows to do that?

For nls there is an anova.nls function that can be used to compare two
or more models.  It is in the nls package.

Because nlm is a general optimization routine it would not be possible
to write a model comparison function for two models fit by nlm.  You
would need to be more specific about what the criterion means
statistically.  For example, if the criterion is the log-likelihood
then you can compare the fitted models via a likelihood ratio test
with p-values determined from a chi-square distribution.

> 2) I would like to constrain the parameter ranges to positive values
> only. Is there an option in nlm or nls which allows to constrain
> parameter ranges? (So far I constrained them "manually" by incorporating
> the constraints into the definition of the functions fitted.)

For nonlinear models I prefer to incorporate the constraints into the
definition of the parameters.  If a parameter such as a rate constant
can only take on positive values then I do the optimization with
respect to the logarithm of the rate constant.  In most such cases the
residual sum of squares is closer to being quadratic in the scale of
the logarithm of the rate constant than in the scale of the rate
constant.  Your mileage may vary.

If you prefer to use constraints you should try the optim function
which offers a constrained optimization method.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Tue Mar 26 22:18:09 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Wed, 27 Mar 2002 09:18:09 +1200
Subject: [R] ellipsis question
Message-ID: <200203262118.g2QLI9530236@r.hankin.sems.auckland.ac.nz>

Hello R experten

I have just written a little function to calculate all pairwise
combinations of two vector arguments:

> pair(c(1,2,3),c(7,8))
     [,1] [,2]
[1,]    1    7
[2,]    1    8
[3,]    2    7
[4,]    2    8
[5,]    3    7
[6,]    3    8
> 

I want to generalize this to any number of arguments, for example,

 <fantasy>

> ntuple(c(1,2,3),c(7,8),c(14,15))
     [,1] [,2] [,3]
[ 1,]    1    7   14
[ 2,]    1    8   14
[ 3,]    2    7   14
[ 4,]    2    8   14
[ 5,]    3    7   14
[ 6,]    3    8   14
[ 7,]    1    7   15
[ 8,]    1    8   15
[ 9,]    2    7   15
[10,]    2    8   15
[11,]    3    7   15
[12,]    3    8   15

</fantasy>

One object is to have b <- c(0,1) and then ntuple(b,b,b,b,b,b,b,b)
will generate all 256 distinct bytes.

I tried to use the ellipsis argument "..." with no success (because it
takes only named arguments).  Any help anyone?  While I'm writing, my
meshgrid() below works as per octave's, but it's a bit clunky.  Is
there anything better?

This is the only thing I've found so far that Octave can do that I
can't easily replicate in R.

thanks in advance





===work done so far===




  meshgrid <- function(x,y) {
    ignore.arg2 <- function(x,y) {x}
    list(x=t(outer(x,y,FUN=ignore.arg2)),y=outer(y,x,FUN=ignore.arg2))
  }

                                                 
pair <- function(a,b) {
  len <- length(a) * length(b)
  jj <- meshgrid(a,b)
  cbind(as.vector(jj$x),as.vector(jj$y))
}


ntuple <- function(a,b, ...) {
#help help how do I do this
}



-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Wed Mar 27 09:15:00 NZST 2002
This (linux) system up continuously for:  209 days, 16 hours, 10 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Mar 26 22:47:08 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 26 Mar 2002 13:47:08 -0800 (PST)
Subject: [R] does function predplot still exist?
In-Reply-To: <3CA0E50C.4040001@nxpdata.com>
Message-ID: <Pine.GSO.4.10.10203261346050.10588-100000@fisher.stat.ucla.edu>

In the installed package directory for MASS, take a look at
scripts/ch11.R.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 26 Mar 2002, David Marimont wrote:

> Venables and Ripley's MASS 3ed mentions a function predplot, used for
> plotting results of lda and qda.  But even with the library MASS loaded,
> R (1.4.1) tells me predplot doesn't exist, and when I search the 1.4.1
> documentation for predplot, it finds nothing.  Does predplot still
> exist somewhere, or has it been replaced by a new and improved version
> with a different name?  Thanks.
> 
>    David Marimont
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From masha at stat.uiuc.edu  Tue Mar 26 22:54:06 2002
From: masha at stat.uiuc.edu (Masha Kocherginsky)
Date: Tue, 26 Mar 2002 15:54:06 -0600 (CST)
Subject: [R] compling C code in R for Windows
Message-ID: <Pine.SOL.3.91.1020326154537.3876E-100000@sam.stat.uiuc.edu>


I have used Splus 3.4 for UNIX and I have a C file that I compiled using
"Splus COMPILE" and later called with dyn.load() and .C(). It works in Splus. 

I want to do the same thing in R, as in just use my .s and .c files and 
find the equivalent of "Splus COMPILE". I've ran into lots of problems 
trying to do this in Windows so far, so please help! 

My questions are:
- Do I need additional software (sometimes using Rcmd complains about not 
understanding what perl is), such as Perl or C complier?

- Which directory do I need to put the files in, so that Rcmd can see 
them? Or do I copy the Rcmd.exe into the directory where my .c files are? 
If so, what other files do I need to copy?

- Are there any references on how to do it in a simple way, and examples 
(online or printed)?

and

- How do I do it, exactly?

Thank you, 

Maria Kocherginsky
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Tue Mar 26 23:18:24 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Tue, 26 Mar 2002 23:18:24 +0100
Subject: [R] comparing row by row in matrix
References: <2C23DE2983BE034CB1CB90DB6B813FD639E901@uswpmx11.merck.com>
Message-ID: <037601c1d514$266ca0c0$f414b080@oemcomputer>

Thank you, that is the solution.

And the RR-coeffizient (number of agreements/total number) is this:
(ma%*%t(ma)) / ncol(ma)

Regards, Petra


> I don't know the Russell-Rao coefficient but maybe this will help:
>
> You can compute the number of times y and x are both 1 (that's what your
> function f does) by counting 1s in y*x, i.e., sum(y*x), aka t(y)%*%x.
> Ordinary matrix multiplication does this row-by-column, so if M and N are
> two binary matrices, M%*%t(N) will have (i,j) entry equal to the count of
1s
> in common to row i of M and row j of N.
>
> Hope I've understood the problem correctly.
>
> Reid Huntsinger
>
> -----Original Message-----
> From: Petra Steiner [mailto:steinep at uni-muenster.de]
> Sent: Tuesday, March 26, 2002 2:08 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] comparing row by row in matrix
>
>
> Hello,
>
> and thanks for the two responses to my questions on binary matrixes, which
> showed me that the functions I needed do not exist.
>
> To get a distance matrix with the Russell-Rao-coefficient, I first have to
> compare each row of a binary matrix with each row and count how many
> elements are
> a. equal
> and
> b. 1.
>
> by
> f <- function(x,y) (sum(x == 1& y == x))
>
> Now how can I iterate this over a matrix without a loop? I think apply
etc.
> will not work in this case.
>
> Thanks for any help.
>
> Regards,
> Petra
>
> -
> ---------------------------------------------------
> Petra Steiner
> Arbeitsbereich Linguistik
> Universitaet Muenster
> Huefferstrasse 27
> 48149  Muenster
>
> Tel: 0251 / 83 39442
> petra at marley.uni-muenster.de
> http://santana.uni-muenster.de/~petra/
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.
> -.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
>
> --------------------------------------------------------------------------
----
> Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named in this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.
>
>
============================================================================
==
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 26 23:07:57 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 26 Mar 2002 17:07:57 -0500
Subject: [R] ellipsis question
Message-ID: <OF53BEE7CC.C1C88ACE-ON85256B88.007983AE@rtp.epa.gov>


I think expand.grid() should do what you want pair() and ntuple() to do.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                             
                    Robin Hankin                                                                                                             
                    <r.hankin at auckland.a        To:     r-help at stat.math.ethz.ch                                                             
                    c.nz>                       cc:                                                                                          
                    Sent by:                    Subject:     [R] ellipsis question                                                           
                    owner-r-help at stat.ma                                                                                                     
                    th.ethz.ch                                                                                                               
                                                                                                                                             
                                                                                                                                             
                    03/26/02 04:18 PM                                                                                                        
                    Please respond to                                                                                                        
                    r.hankin                                                                                                                 
                                                                                                                                             
                                                                                                                                             




Hello R experten

I have just written a little function to calculate all pairwise
combinations of two vector arguments:

> pair(c(1,2,3),c(7,8))
     [,1] [,2]
[1,]    1    7
[2,]    1    8
[3,]    2    7
[4,]    2    8
[5,]    3    7
[6,]    3    8
>

I want to generalize this to any number of arguments, for example,

 <fantasy>

> ntuple(c(1,2,3),c(7,8),c(14,15))
     [,1] [,2] [,3]
[ 1,]    1    7   14
[ 2,]    1    8   14
[ 3,]    2    7   14
[ 4,]    2    8   14
[ 5,]    3    7   14
[ 6,]    3    8   14
[ 7,]    1    7   15
[ 8,]    1    8   15
[ 9,]    2    7   15
[10,]    2    8   15
[11,]    3    7   15
[12,]    3    8   15

</fantasy>

One object is to have b <- c(0,1) and then ntuple(b,b,b,b,b,b,b,b)
will generate all 256 distinct bytes.

I tried to use the ellipsis argument "..." with no success (because it
takes only named arguments).  Any help anyone?  While I'm writing, my
meshgrid() below works as per octave's, but it's a bit clunky.  Is
there anything better?

This is the only thing I've found so far that Octave can do that I
can't easily replicate in R.

thanks in advance





===work done so far===




  meshgrid <- function(x,y) {
    ignore.arg2 <- function(x,y) {x}
    list(x=t(outer(x,y,FUN=ignore.arg2)),y=outer(y,x,FUN=ignore.arg2))
  }


pair <- function(a,b) {
  len <- length(a) * length(b)
  jj <- meshgrid(a,b)
  cbind(as.vector(jj$x),as.vector(jj$y))
}


ntuple <- function(a,b, ...) {
#help help how do I do this
}



--

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Wed Mar 27 09:15:00 NZST 2002
This (linux) system up continuously for:  209 days, 16 hours, 10 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Wed Mar 27 01:00:46 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 27 Mar 2002 10:00:46 +1000
Subject: [R] Extracting the first element of a list
In-Reply-To: <F212EAHoxvbQaPCgGwe0001a971@hotmail.com>
Message-ID: <m0g02mdglt.fsf@localhost.localdomain>


Perhaps some kind person might show me the way to extract the first element of a list.

The example is

tmp <- c("A", "B C","BC D")

I want the first "word" from each of these elements, i.e. "A" ,"B" ,"BC" 

strsplit(tmp," ") returns

[[1]]
[1] "A"

[[2]]
[1] "B" "C"

[[3]]
[1] "BC" "D"

I have had no success in trying to extract the first element.

Of course there may be another way to get the same result.


Thanks
Ross Darnell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 27 01:08:38 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Mar 2002 01:08:38 +0100
Subject: [R] Extracting the first element of a list
In-Reply-To: <m0g02mdglt.fsf@localhost.localdomain>
References: <m0g02mdglt.fsf@localhost.localdomain>
Message-ID: <x2u1r2hny1.fsf@blueberry.kubism.ku.dk>

Ross Darnell <r.darnell at shrs.uq.edu.au> writes:

> Perhaps some kind person might show me the way to extract the first element of a list.
> 
> The example is
> 
> tmp <- c("A", "B C","BC D")
> 
> I want the first "word" from each of these elements, i.e. "A" ,"B" ,"BC" 
> 
> strsplit(tmp," ") returns
> 
> [[1]]
> [1] "A"
> 
> [[2]]
> [1] "B" "C"
> 
> [[3]]
> [1] "BC" "D"
> 
> I have had no success in trying to extract the first element.
> 
> Of course there may be another way to get the same result.

How about

> sapply(strsplit(tmp, " "), "[", 1)
[1] "A"  "B"  "BC"


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott.Waichler at pnl.gov  Wed Mar 27 06:44:32 2002
From: Scott.Waichler at pnl.gov (Waichler, Scott R)
Date: Tue, 26 Mar 2002 21:44:32 -0800
Subject: [R] Vertical bars with barchart()
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF5A5429@pnlmse10.pnl.gov>


I would like to create a barchart that has vertical instead of horizontal
bars.  My goal is something similar to Figure 6.10 (p. 166) in
"The Basics of S and S-plus," except for the orientation of the bars.
I don't think bwplot() or xyplot() will work.  Any suggestions?

Scott Waichler

Hydrology Group/Environmental Technology Division
Battelle Pacific Northwest National Laboratory
(email) scott.waichler at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Wed Mar 27 09:03:43 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Mar 2002 09:03:43 +0100
Subject: [R] Extracting the first element of a list
References: <m0g02mdglt.fsf@localhost.localdomain>
Message-ID: <3CA17CDF.892771FB@statistik.uni-dortmund.de>



Ross Darnell wrote:
> 
> Perhaps some kind person might show me the way to extract the first element of a list.
> 
> The example is
> 
> tmp <- c("A", "B C","BC D")
> 
> I want the first "word" from each of these elements, i.e. "A" ,"B" ,"BC"
> 
> strsplit(tmp," ") returns
> 
> [[1]]
> [1] "A"
> 
> [[2]]
> [1] "B" "C"
> 
> [[3]]
> [1] "BC" "D"
> 
> I have had no success in trying to extract the first element.
> 
> Of course there may be another way to get the same result.

For the first element of a list L: 
 L[[1]]
For the first elements of all elements (vector) of the list:
 lapply(L, function(x) x[1])

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Mar 27 09:28:31 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 27 Mar 2002 09:28:31 +0100 (CET)
Subject: [R] Vertical bars with barchart()
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF5A5429@pnlmse10.pnl.gov>
Message-ID: <Pine.LNX.4.44.0203270926230.9078-100000@localhost.localdomain>

I am not quite sure what do you mean with barchart (I have not the
particular book) but I think barplot() is what you are looking for.

Try

barplot(rnorm(10))
barplot(rnorm(10), horiz=TRUE)

regards,

Ott Toomet

On Tue, 26 Mar 2002, Waichler, Scott R wrote:

  |
  |I would like to create a barchart that has vertical instead of horizontal
  |bars.  My goal is something similar to Figure 6.10 (p. 166) in
  |"The Basics of S and S-plus," except for the orientation of the bars.
  |I don't think bwplot() or xyplot() will work.  Any suggestions?
  |
  |Scott Waichler
  |
  |Hydrology Group/Environmental Technology Division
  |Battelle Pacific Northwest National Laboratory
  |(email) scott.waichler at pnl.gov
  |
  |-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
  |r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
  |Send "info", "help", or "[un]subscribe"
  |(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
  |_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
  |

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Wed Mar 27 09:50:13 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Mar 2002 09:50:13 +0100
Subject: [R] compling C code in R for Windows
References: <Pine.SOL.3.91.1020326154537.3876E-100000@sam.stat.uiuc.edu>
Message-ID: <3CA187C5.CFD3702E@statistik.uni-dortmund.de>

Masha Kocherginsky wrote:
> 
> I have used Splus 3.4 for UNIX and I have a C file that I compiled using
> "Splus COMPILE" and later called with dyn.load() and .C(). It works in Splus.
> 
> I want to do the same thing in R, as in just use my .s and .c files and
> find the equivalent of "Splus COMPILE". I've ran into lots of problems
> trying to do this in Windows so far, so please help!
> 
> My questions are:
> - Do I need additional software (sometimes using Rcmd complains about not
> understanding what perl is), such as Perl or C complier?

Right, *at least* Perl, gcc and a collection of tools (see below).


> - Which directory do I need to put the files in, so that Rcmd can see
> them? Or do I copy the Rcmd.exe into the directory where my .c files are?
> If so, what other files do I need to copy?

You have to set the path to the perl / gcc binaries to make them known
by your OS.

 
> - Are there any references on how to do it in a simple way, and examples
> (online or printed)?

Yes. The manual "Writing R Extensions", the R for Windows FAQs and for
collecting the tools I'd suggest Brian Ripley's page
"http://www.stats.ox.ac.uk/pub/Rtools/".


> - How do I do it, exactly?

That's described in the docs mentioned above.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Wed Mar 27 10:38:10 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Wed, 27 Mar 2002 09:38:10 -0000
Subject: [R] does function predplot still exist?
In-Reply-To: <3CA0E50C.4040001@nxpdata.com>
Message-ID: <000201c1d573$2ace4100$4c202880@GSIMPSON>

Page 351 of MASS states "(Function predplot is given in the scripts.)".
You need to find the file ch11.R , which should be in
Path_To_RHOME/library/MASS/scripts , and the code for predplot is
defined there.

Gavin Simpson

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of David Marimont
Sent: 26 March 2002 21:16
To: r-help at stat.math.ethz.ch
Subject: [R] does function predplot still exist?


Venables and Ripley's MASS 3ed mentions a function predplot, used for
plotting results of lda and qda.  But even with the library MASS loaded,
R (1.4.1) tells me predplot doesn't exist, and when I search the 1.4.1
documentation for predplot, it finds nothing.  Does predplot still
exist somewhere, or has it been replaced by a new and improved version
with a different name?  Thanks.

   David Marimont

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Mar 27 10:44:27 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 27 Mar 2002 21:44:27 +1200
Subject: [R] compling C code in R for Windows
References: <Pine.SOL.3.91.1020326154537.3876E-100000@sam.stat.uiuc.edu> <3CA187C5.CFD3702E@statistik.uni-dortmund.de>
Message-ID: <001d01c1d573$feba92c0$3d2d56d2@n1bliarfyrd5b7>


----- Original Message -----
From: "Uwe Ligges" <ligges at amadeus.statistik.uni-dortmund.de>
To: "Masha Kocherginsky" <masha at stat.uiuc.edu>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, March 27, 2002 8:50 PM
Subject: Re: [R] compling C code in R for Windows



> > - Which directory do I need to put the files in, so that Rcmd can see
> > them? Or do I copy the Rcmd.exe into the directory where my .c files
are?
> > If so, what other files do I need to copy?
>
> You have to set the path to the perl / gcc binaries to make them known
> by your OS.

If you are unsure how to do this, take a look at a documentation I put up at
http://www.stat.auckland.ac.nz/~kwan022/pub/R/setPath.html


--------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
http://www.stat.auckland.ac.nz/~kwan022
kwan022 at stat.auckland.ac.nz





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at sun11.ukl.uni-freiburg.de  Wed Mar 27 10:47:31 2002
From: domi at sun11.ukl.uni-freiburg.de (1-27206531-0-90000491)
Date: Wed, 27 Mar 2002 10:47:31 +0100 (MET)
Subject: [R] Error with nls
In-Reply-To: <Pine.SOL.4.21.0203261409030.17608-100000@sun11.ukl.uni-freiburg.de>
Message-ID: <Pine.SOL.4.21.0203271041100.2912-100000@sun11.ukl.uni-freiburg.de>

 Dear R-group members,
 
 I use:
 
 platform i386-pc-mingw32
 arch     x86            
 os       Win32          
 system   x86, Win32     
 status                  
 major    1              
 minor    4.1            
 year     2002           
 month    01             
 day      30             
 language R
 
 I try to fit a 2 compartment model. The compartments are open, connected
 to each other and are filled via constant input and a time depended
 function as well. Data describes increasing of Apo B after dialysis. Aim
 of the analysis is to test the hypothesis whether the data could described
 by two simple disconnected one compartment modes ore the "saturated
 model" holds? The first order differential equation for the saturated
 model:
 
 db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
 db6 = + k65*b5 - (k60+k65)*b6 + d
 
 db5, db6 are the first derivatives, b5, b6 are the functions to be
 fitted. The remaining parameters are unknown and should follow from the
 fit.
 
 assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)
 
 (after calculations of 2 papers of A4) follows the solution:
 
 L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
 pb60) {
 
 	k50 <- exp(p50)
 	k56 <- exp(p56)
 	k60 <- exp(p60)
 	k65 <- exp(p65)
 	c   <- exp(pc)
 	h   <- exp(ph)
 	d   <- exp(pd)
 	b50 <- exp(pb50)
 	b60 <- exp(pb60)
 	a <- (k50+k56)
 	b <- k65
 	e <- k56
 	f <- (k60+k65)
 	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
 	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
 	K  <- ((z1+a)/(z2-z1))
 	B1 <- (b/(z2-z1)*b60 - K*b50)
 	A1 <- (b50-B1)
 	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
 	X2 <- (K*c*(b4i-b40))
 	X3 <- (c*b4i + h - X1)
 	X4 <- (c*(b40-b4i)- X2)
 	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
 X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
 	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
 X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
 	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
 	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
 (z1+a)/b * C1E + (z2+a)/b * C2E)
 	y <- f5*b5 + f6*b6
 	return(y)
 }
 
 I am in the lucky circumstances having starting values, because a nlr-fit
 succeeds, the graphical presentation of the fits looks quite nice. The nlr
 function is part of Lindsey's library(gnlm), but now I would like to apply
 Pinheiro and Bates library(nlme) and I have got an error:
 
> m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> pb50, pb60), 
> + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> + p60=-4.602990518, p65=-0.625732096, 
> + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> + pb60=1.270852258))
> Error in numericDeriv(form[[3]], names(ind), env) : 
>         Missing value or an Infinity produced when evaluating the model
> 
 If somebody feel that he can help me, I could send him my R- code and
 data file as well.
 
 Kind regards,
 
 Dominik
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Mar 27 11:48:07 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 27 Mar 2002 22:48:07 +1200
Subject: [R] Extracting the first element of a list
References: <m0g02mdglt.fsf@localhost.localdomain> <3CA17CDF.892771FB@statistik.uni-dortmund.de>
Message-ID: <003701c1d57c$e1ab85a0$3d2d56d2@n1bliarfyrd5b7>

Hi,

----- Original Message -----
From: "Uwe Ligges" <ligges at amadeus.statistik.uni-dortmund.de>
To: "Ross Darnell" <r.darnell at shrs.uq.edu.au>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, March 27, 2002 8:03 PM
Subject: Re: [R] Extracting the first element of a list


> For the first element of a list L:
>  L[[1]]
> For the first elements of all elements (vector) of the list:
>  lapply(L, function(x) x[1])

So, suppose I've got a vector called foo, which has elements as follows:
  305 159 251 215 101 224 306 199 194 325 329 221 318 238  17 ....
(the rest omittied)

And suppose I want to extract out the first digit of each number, so like:
  3 1 2 2 1 2 3 1 1 3 3 2 3 2 1...

Do I still use
  lapply(foo, function(x) x[1])
it doesn't seem to work...

Thanks

Kevin

>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Mar 27 11:58:59 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 27 Mar 2002 10:58:59 +0000
Subject: [R] R hosting
In-Reply-To: <F189PR8Hslo38qBJwVa0001271d@hotmail.com>
References: <F189PR8Hslo38qBJwVa0001271d@hotmail.com>
Message-ID: <82RHFGAzXao8EwMY@myatt.demon.co.uk>

Liquid M1 <liquidm1 at hotmail.com> writes:
>Hi, I am thinking about setting a service to provide R hosting on Linux.  
>Would anyone be interested?
>
>The idea is that a machine would be available that would provide R, Apache, 
>MySQL, Java, Perl, PHP, and Python.  Users could remotely login to use R 
>directly or could use it to develop applications that use R.  Also, this 
>would save people the trouble of installing and upgrading R.  This would be 
>especially useful for people who want to work with Rweb or Rcgi or who 
>frequently travel and would like to use R and their stored data sets the 
>same way they might use Hotmail or Yahoo Mail.

I am not sure how useful this would be ... one use might be to have it
running on some heavy metal so that users could run computer intensive
task that would take an age to run on a desktop machine.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Wed Mar 27 13:12:28 2002
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Mar 2002 13:12:28 +0100
Subject: [R] Extracting the first element of a list
References: <m0g02mdglt.fsf@localhost.localdomain> <3CA17CDF.892771FB@statistik.uni-dortmund.de> <003701c1d57c$e1ab85a0$3d2d56d2@n1bliarfyrd5b7>
Message-ID: <3CA1B72C.DB7DB111@statistik.uni-dortmund.de>

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> ----- Original Message -----
> From: "Uwe Ligges" <ligges at amadeus.statistik.uni-dortmund.de>
> To: "Ross Darnell" <r.darnell at shrs.uq.edu.au>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Wednesday, March 27, 2002 8:03 PM
> Subject: Re: [R] Extracting the first element of a list
> 
> > For the first element of a list L:
> >  L[[1]]
> > For the first elements of all elements (vector) of the list:
> >  lapply(L, function(x) x[1])
> 
> So, suppose I've got a vector called foo, which has elements as follows:
>   305 159 251 215 101 224 306 199 194 325 329 221 318 238  17 ....
> (the rest omittied)
> 
> And suppose I want to extract out the first digit of each number, so like:
>   3 1 2 2 1 2 3 1 1 3 3 2 3 2 1...
> 
> Do I still use
>   lapply(foo, function(x) x[1])
> it doesn't seem to work...


Well, I meant *after* strsplit:

  temp <- strsplit(foo, "")
  L <- lapply(temp, function(x) x[1])
  as.numeric(unlist(L))
 
In this case you can also calculate it:

  floor(foo / (10^floor(log(foo, 10))))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Mar 27 14:23:57 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 27 Mar 2002 14:23:57 +0100
Subject: [R] Extracting the first element of a list
In-Reply-To: <003701c1d57c$e1ab85a0$3d2d56d2@n1bliarfyrd5b7>
Message-ID: <MABBLJDICACNFOLGIHJOEEFECKAA.phgrosje@ulb.ac.be>

as.numeric(substr(as.character(foo),1,1))

does what you are looking for, although I don't understand why you should be
interested by collecting digit "3" from 305, together with digit "1" from
17. If you simply want to extract hundreds from numbers (thus, you will get
"0" for 17), then you could use:

floor(foo/100) - floor(foo/1000)*10

Best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Ko-Kang Kevin Wang
Envoy? : mercredi 27 mars 2002 11:48
? : Uwe Ligges; Ross Darnell
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] Extracting the first element of a list


Hi,

----- Original Message -----
From: "Uwe Ligges" <ligges at amadeus.statistik.uni-dortmund.de>
To: "Ross Darnell" <r.darnell at shrs.uq.edu.au>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, March 27, 2002 8:03 PM
Subject: Re: [R] Extracting the first element of a list


> For the first element of a list L:
>  L[[1]]
> For the first elements of all elements (vector) of the list:
>  lapply(L, function(x) x[1])

So, suppose I've got a vector called foo, which has elements as follows:
  305 159 251 215 101 224 306 199 194 325 329 221 318 238  17 ....
(the rest omittied)

And suppose I want to extract out the first digit of each number, so like:
  3 1 2 2 1 2 3 1 1 3 3 2 3 2 1...

Do I still use
  lapply(foo, function(x) x[1])
it doesn't seem to work...

Thanks

Kevin

>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed Mar 27 15:00:57 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 27 Mar 2002 14:00:57 -0000
Subject: [R] Extracting the first element of a list
In-Reply-To: <003701c1d57c$e1ab85a0$3d2d56d2@n1bliarfyrd5b7>
Message-ID: <NEBBJLLBCLEDFLCCBKDAAEHDCEAA.mel@mcs.st-andrews.ac.uk>

How about:

> initial.digit<-function(x) {floor(x/10^floor(log(x,10)))}
> lapply(l,initial.digit)

Unless you like strings, in which case:

> initial.digit<-function(x) {substr(as.character(x),1,1)}
> lapply(l,initial.digit)

Seems to do much the same thing.
Though there probably is an easier way of avoiding rounding up. (?)

It was uncooperative because you were asking for the first element of a
number. Since a number is treated as a single 'thing', however many digits
it has, asking for a number's first element gets the whole lot. So to get a
single digit it is necessary to 'explain to the machine how you want to
break things up'.

I hope this makes some sense.

Cheers,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ko-Kang
     > Kevin Wang
     > Sent: 27 March 2002 10:48
     > To: Uwe Ligges; Ross Darnell
     > Cc: r-help at stat.math.ethz.ch
     > Subject: Re: [R] Extracting the first element of a list
     >
     >
     > Hi,
     >
     > ----- Original Message -----
     > From: "Uwe Ligges" <ligges at amadeus.statistik.uni-dortmund.de>
     > To: "Ross Darnell" <r.darnell at shrs.uq.edu.au>
     > Cc: <r-help at stat.math.ethz.ch>
     > Sent: Wednesday, March 27, 2002 8:03 PM
     > Subject: Re: [R] Extracting the first element of a list
     >
     >
     > > For the first element of a list L:
     > >  L[[1]]
     > > For the first elements of all elements (vector) of the list:
     > >  lapply(L, function(x) x[1])
     >
     > So, suppose I've got a vector called foo, which has elements
     > as follows:
     >   305 159 251 215 101 224 306 199 194 325 329 221 318 238  17 ....
     > (the rest omittied)
     >
     > And suppose I want to extract out the first digit of each
     > number, so like:
     >   3 1 2 2 1 2 3 1 1 3 3 2 3 2 1...
     >
     > Do I still use
     >   lapply(foo, function(x) x[1])
     > it doesn't seem to work...
     >
     > Thanks
     >
     > Kevin
     >
     > >
     > > Uwe Ligges
     > >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.
     > -.-.-
     > > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > > Send "info", "help", or "[un]subscribe"
     > > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > >
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._.
     > _._
     > >
     >
     >
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at holos.pt  Wed Mar 27 15:02:18 2002
From: hjm at holos.pt (Hugo Morganho)
Date: Wed, 27 Mar 2002 14:02:18 +0000
Subject: [R] Naive Bays
Message-ID: <5.0.0.25.0.20020327140117.04028ce0@127.0.0.1>

	Hi,
	Sorry for the question, but there is any package that contains the Naive 
Bayes classifier?

	Thanks
	Hugo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Mar 27 15:54:23 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 27 Mar 2002 09:54:23 -0500
Subject: [R] Extracting the first element of a list
In-Reply-To: <003701c1d57c$e1ab85a0$3d2d56d2@n1bliarfyrd5b7>
References: <m0g02mdglt.fsf@localhost.localdomain>
 <3CA17CDF.892771FB@statistik.uni-dortmund.de>
Message-ID: <5.1.0.14.2.20020327094609.01d4d1b0@pop>

Dear Kevin,

At 10:48 PM 3/27/2002 +1200, Ko-Kang Kevin Wang wrote:

> > For the first element of a list L:
> >  L[[1]]
> > For the first elements of all elements (vector) of the list:
> >  lapply(L, function(x) x[1])
>
>So, suppose I've got a vector called foo, which has elements as follows:
>   305 159 251 215 101 224 306 199 194 325 329 221 318 238  17 ....
>(the rest omittied)
>
>And suppose I want to extract out the first digit of each number, so like:
>   3 1 2 2 1 2 3 1 1 3 3 2 3 2 1...
>
>Do I still use
>   lapply(foo, function(x) x[1])
>it doesn't seem to work...

The lapply function takes a list as its first argument, and a vector of 
numbers isn't a list; moreover, each number isn't a vector a individual 
digits that can be extracted by subscripting.

You could use something like the following:

         > x <- c(1, 23, 456, 7890)
         > x %/% 10^floor(log(x, 10))
         [1] 1 2 4 7

If there are negative entries in x, use abs(x).

I hope that this helps,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecca at science.unitn.it  Wed Mar 27 15:58:14 2002
From: lecca at science.unitn.it (Lecca Paola)
Date: Wed, 27 Mar 2002 15:58:14 +0100 (MET)
Subject: [R] kriging C/C++ code
Message-ID: <Pine.OSF.4.30.0203271548350.31362-100000@science.unitn.it>

Hello to everybody !

I don't have a question directly connected with R, but it takes starting
point from the use of the R function Krig for kriging interpolation and
from the idea of making a different implemetation of the function for my
purposes.

Doas anyone know where can I find free C or C++ codes of kriging ?

As always, thanks a lot in advance,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Mar 27 16:15:11 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 27 Mar 2002 16:15:11 +0100 (MET)
Subject: [R] ks.test - continuous vs discrete
In-Reply-To: <698C02D452EDD411A42300A0C982E91E083AE9@MAIL>
Message-ID: <Pine.LNX.4.21.0203271600060.29076-100000@artemis.imbe.med.uni-erlangen.de>


> 
> I frequently want to test for differences between animal size frequency
> distributions.  The obvious test (I think) to use is the Kolmogorov-Smirnov
> two sample test (provided in R as the function ks.test in package ctest).

"obvious" depends on the problem you want to test: KS tests the hypothesis

H_0: F(z) = G(z) for all z vs. H_1: F(z) != G(z) for at least one z 

ks.test assumes that both F and G are continuous variables. However, if
you want to test

H_0: F(z) = G(z)  vs. H_1: F(z) = G(z - delta); delta != 0

as "test for differences" indicates, the Wilcoxon rank sum test is
"obvious". Or, more general, if your hypothesis is "exchangeability", a
permutation test can be used.

> The KS test is for continuous variables and this obviously includes length,
> weight etc.  However, limitations in measuring (e.g length to the nearest
> cm/mm, weight to the nearest g/mg etc) has the obvious effect of
> "discretising" real data.

or maybe the underlying distribution is discrete? 

Anyway: ks.test and wilcox.test in ctest assume data from continuous
distributions and the normal approximation is used if ties occur. 

For the Wilcoxon and permutation test, the conditional distribution (that
is: conditional on the ties) can be computed using the exactRankTests
package.

> 
> The ks.test function checks for the presence of ties noting in the help page
> that "continuous distributions do not generate them".  Given the problem of
> "measuring to the nearest..." noted above I frequently find that my data has
> ties and ks.test generates a warning.
> I was interested to note that the example of a two-sample KS test given in
> Sokal & Rohlf's "Biometry" (I have the 2nd edition where the example is on
> p.441) has exactly the same problem:
> > A <- c(104,109,112,114,116,118,118,117,121,123,125,126,126,128,128,128)
> > B <- c(100,105,107,107,108,111,116,120,121,123)

For your example: 

R> library(exactRankTests)
R> wilcox.exact(B, A)

        Exact Wilcoxon rank sum test

data:  B and A 
W = 36.5, p-value = 0.02039
alternative hypothesis: true mu is not equal to 0 


R> perm.test(B, A)

        2-sample Permutation Test

data:  B and A 
T = 1118, p-value = 0.01864
alternative hypothesis: true mu is not equal to 0 

Torsten

> > ks.test(A,B)
> 
>         Two-sample Kolmogorov-Smirnov test
> 
> data:  A and B 
> D = 0.475, p-value = 0.1244
> alternative hypothesis: two.sided 
> 
> Warning message: 
> cannot compute correct p-values with ties in: ks.test(A, B)
> In their chapter 2, "Data in Biology", Sokal & Rohlf note "any given reading
> of a continuous variable ... is therefore an approximation to the exact
> reading, which is in practice unknowable.  However, for the purposes of
> computation these approximations are usually sufficient..."
> I am interested to know whether this can be made more exact.  Are there
> methods to test that data are measured at an appropriate scale so as to be
> regarded as sufficiently continuous for a KS test, or is common sense choice
> of measurement precision widely regarded as sufficient?
> Any comments/references would be appreciated!
> David Middleton
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Mar 27 16:20:19 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 27 Mar 2002 16:20:19 +0100 (MET)
Subject: [R] Naive Bays
In-Reply-To: <5.0.0.25.0.20020327140117.04028ce0@127.0.0.1>
Message-ID: <Pine.LNX.4.21.0203271620010.29076-100000@artemis.imbe.med.uni-erlangen.de>



> 	Hi,
> 	Sorry for the question, but there is any package that contains the Naive 
> Bayes classifier?

see

http://maths.newcastle.edu.au/~rking/R/help/01a/2014.html

and follow this thread, 

Torsten

> 
> 	Thanks
> 	Hugo
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shawnhornsby at netzero.net  Wed Mar 27 16:56:13 2002
From: shawnhornsby at netzero.net (Shawn Hornsby)
Date: Wed, 27 Mar 2002 10:56:13 -0500
Subject: [R] Error with nls
In-Reply-To: <Pine.SOL.4.21.0203271041100.2912-100000@sun11.ukl.uni-freiburg.de>
Message-ID: <000001c1d5a7$ec4cdec0$6401a8c0@neubr.client2.attbi.com>

Dear Kind,

I would like to let you know up front that I am not a mathematician nor do I
want to insult you or your intelligence. I am a humble person of simple
education and means and I am offering a suggestion, you may have already
resolved this issue. Here are my suggestions:

In the expression, db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h, I notice that
function g(t) is not explicitly defined as an expression. I do see you make
reference to it in, assuming that g(t) has the functional form: b4i +
(b40-b4i)*exp(-k4*t), maybe this is the expression and I am overlooking it.
While, I continued to examine the function g(t), I saw no explicit
definition of variables b40, b4i, k4, and t. They are shown to be part of
the equation but they are not explicitly defined with values.

Again, I am hoping my observation spark an idea that would lead you to your
resolve.

If there is someone in the R-Project that has already helped Kind, I would
like to thank you.

Regards,
Shawn

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
1-27206531-0-90000491
Sent: Wednesday, March 27, 2002 4:48 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Error with nls


 Dear R-group members,

 I use:

 platform i386-pc-mingw32
 arch     x86
 os       Win32
 system   x86, Win32
 status
 major    1
 minor    4.1
 year     2002
 month    01
 day      30
 language R

 I try to fit a 2 compartment model. The compartments are open, connected
 to each other and are filled via constant input and a time depended
 function as well. Data describes increasing of Apo B after dialysis. Aim
 of the analysis is to test the hypothesis whether the data could described
 by two simple disconnected one compartment modes ore the "saturated
 model" holds? The first order differential equation for the saturated
 model:

 db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
 db6 = + k65*b5 - (k60+k65)*b6 + d

 db5, db6 are the first derivatives, b5, b6 are the functions to be
 fitted. The remaining parameters are unknown and should follow from the
 fit.

 assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)

 (after calculations of 2 papers of A4) follows the solution:

 L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
 pb60) {

 	k50 <- exp(p50)
 	k56 <- exp(p56)
 	k60 <- exp(p60)
 	k65 <- exp(p65)
 	c   <- exp(pc)
 	h   <- exp(ph)
 	d   <- exp(pd)
 	b50 <- exp(pb50)
 	b60 <- exp(pb60)
 	a <- (k50+k56)
 	b <- k65
 	e <- k56
 	f <- (k60+k65)
 	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
 	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
 	K  <- ((z1+a)/(z2-z1))
 	B1 <- (b/(z2-z1)*b60 - K*b50)
 	A1 <- (b50-B1)
 	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
 	X2 <- (K*c*(b4i-b40))
 	X3 <- (c*b4i + h - X1)
 	X4 <- (c*(b40-b4i)- X2)
 	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
 X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
 	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
 X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
 	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
 	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
 (z1+a)/b * C1E + (z2+a)/b * C2E)
 	y <- f5*b5 + f6*b6
 	return(y)
 }

 I am in the lucky circumstances having starting values, because a nlr-fit
 succeeds, the graphical presentation of the fits looks quite nice. The nlr
 function is part of Lindsey's library(gnlm), but now I would like to apply
 Pinheiro and Bates library(nlme) and I have got an error:

> m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> pb50, pb60),
> + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> + p60=-4.602990518, p65=-0.625732096,
> + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> + pb60=1.270852258))
> Error in numericDeriv(form[[3]], names(ind), env) :
>         Missing value or an Infinity produced when evaluating the model
>
 If somebody feel that he can help me, I could send him my R- code and
 data file as well.

 Kind regards,

 Dominik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Wed Mar 27 16:42:23 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Wed, 27 Mar 2002 16:42:23 +0100 (CET)
Subject: [R] recursive - periodical variance on time series
Message-ID: <Pine.LNX.4.33.0203271639310.321-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

How do I count a vector of periodically counted variances? I have I time
series of 99 values and need to count variance of time 1:5 then 2:6 up to
95:99
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: Made with pgp4pine 1.75-6

iD8DBQE8oeho4TIZ2lmUAtsRAkrLAJ0QN8mSRbdOGrWe9cR+Vk8nin1kLACdEnSl
lcPurzmV5mpUoxDwnTHPAa8=
=gF+7
-----END PGP SIGNATURE-----


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas_l_arnold at yahoo.com  Wed Mar 27 17:05:55 2002
From: thomas_l_arnold at yahoo.com (Tom Arnold)
Date: Wed, 27 Mar 2002 08:05:55 -0800 (PST)
Subject: [R] read.table problem with column headers
Message-ID: <20020327160555.11145.qmail@web21003.mail.yahoo.com>

When I use read.table I can't get my column names to
line up with my data. 

The data file has survey response data, and each line
starts with a unique key field (which should be the
row name when it gets read in, right? I've only been
using R for one day so bear with me)

The first row in the file has column names, and the
first name is "Key", followed by "Age" and so on. for
example:

Key;Age;Gender;Years In IT; #more column labels...
20020220_144752_15178;41;0;17; #more data...

When I read this in, saying 
survey = read.table("myfile.dat",TRUE,";")

I wind up with "Age" column being named "Key" and all
the column labels shift to the right. No matter what
I've tried, I can't put *my* header on the first
column of row names. If it put no header on that
column, I get an error "more columns than column
names"

What can I do to get my data labels on correctly?

=====
Tom Arnold
Summit Media Partners
Visit our web site at http://www.summitmediapartners.com

__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 27 17:14:21 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 27 Mar 2002 16:14:21 +0000 (GMT)
Subject: [R] read.table problem with column headers
In-Reply-To: <20020327160555.11145.qmail@web21003.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0203271612160.31482-100000@gannet.stats>

On Wed, 27 Mar 2002, Tom Arnold wrote:

> When I use read.table I can't get my column names to
> line up with my data.
>
> The data file has survey response data, and each line
> starts with a unique key field (which should be the
> row name when it gets read in, right? I've only been
> using R for one day so bear with me)
>
> The first row in the file has column names, and the
> first name is "Key", followed by "Age" and so on. for
> example:
>
> Key;Age;Gender;Years In IT; #more column labels...
> 20020220_144752_15178;41;0;17; #more data...
>
> When I read this in, saying
> survey = read.table("myfile.dat",TRUE,";")
>
> I wind up with "Age" column being named "Key" and all
> the column labels shift to the right. No matter what
> I've tried, I can't put *my* header on the first
> column of row names. If it put no header on that
> column, I get an error "more columns than column
> names"
>
> What can I do to get my data labels on correctly?

> read.table("myfile.dat",TRUE,";")
                    Key Age Gender Years.In.IT
1 20020220_144752_15178  41      0          17

is what I get from your code.  I suspect you wanted

> read.table("myfile.dat",TRUE,";", row.names=1)
                      Age Gender Years.In.IT
20020220_144752_15178  41      0          17

Do you perchance have the wrong number of names in your first line,
say one too few?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas_l_arnold at yahoo.com  Wed Mar 27 17:30:39 2002
From: thomas_l_arnold at yahoo.com (Tom Arnold)
Date: Wed, 27 Mar 2002 08:30:39 -0800 (PST)
Subject: [R] read.table problem with column headers
In-Reply-To: <Pine.LNX.4.31.0203271612160.31482-100000@gannet.stats>
Message-ID: <20020327163039.48787.qmail@web21007.mail.yahoo.com>

Yes, thank you. - Fixed now.

This is what happens when you try to manually label
data files rather than having the proper data export
(with labels) in the first place.

-Tom

--- ripley at stats.ox.ac.uk wrote:
> On Wed, 27 Mar 2002, Tom Arnold wrote:
> 
> > When I use read.table I can't get my column names
> to
> > line up with my data.
> >
> > The data file has survey response data, and each
> line
> > starts with a unique key field (which should be
> the
> > row name when it gets read in, right? I've only
> been
> > using R for one day so bear with me)
> >
> > The first row in the file has column names, and
> the
> > first name is "Key", followed by "Age" and so on.
> for
> > example:
> >
> > Key;Age;Gender;Years In IT; #more column labels...
> > 20020220_144752_15178;41;0;17; #more data...
> >
> > When I read this in, saying
> > survey = read.table("myfile.dat",TRUE,";")
> >
> > I wind up with "Age" column being named "Key" and
> all
> > the column labels shift to the right. No matter
> what
> > I've tried, I can't put *my* header on the first
> > column of row names. If it put no header on that
> > column, I get an error "more columns than column
> > names"
> >
> > What can I do to get my data labels on correctly?
> 
> > read.table("myfile.dat",TRUE,";")
>                     Key Age Gender Years.In.IT
> 1 20020220_144752_15178  41      0          17
> 
> is what I get from your code.  I suspect you wanted
> 
> > read.table("myfile.dat",TRUE,";", row.names=1)
>                       Age Gender Years.In.IT
> 20020220_144752_15178  41      0          17
> 
> Do you perchance have the wrong number of names in
> your first line,
> say one too few?
> 
> 
> -- 
> Brian D. Ripley,                 
> ripley at stats.ox.ac.uk
> Professor of Applied Statistics, 
> http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865
> 272861 (self)
> 1 South Parks Road,                     +44 1865
> 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865
> 272595
> 


=====
Tom Arnold
Summit Media Partners
Visit our web site at http://www.summitmediapartners.com

__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Mar 27 17:46:55 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 Mar 2002 10:46:55 -0600
Subject: [R] Error with nls
In-Reply-To: <Pine.SOL.4.21.0203271041100.2912-100000@sun11.ukl.uni-freiburg.de>
References: <Pine.SOL.4.21.0203271041100.2912-100000@sun11.ukl.uni-freiburg.de>
Message-ID: <6r3cymt0u8.fsf@franz.stat.wisc.edu>

1-27206531-0-90000491 <domi at sun11.ukl.uni-freiburg.de> writes:

>  I use:
>  
>  platform i386-pc-mingw32
>  arch     x86            
>  os       Win32          
>  system   x86, Win32     
>  status                  
>  major    1              
>  minor    4.1            
>  year     2002           
>  month    01             
>  day      30             
>  language R

Thank you for providing that information.

>  I try to fit a 2 compartment model. The compartments are open, connected
>  to each other and are filled via constant input and a time depended
>  function as well. Data describes increasing of Apo B after dialysis. Aim
>  of the analysis is to test the hypothesis whether the data could described
>  by two simple disconnected one compartment modes ore the "saturated
>  model" holds? The first order differential equation for the saturated
>  model:
>  
>  db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
>  db6 = + k65*b5 - (k60+k65)*b6 + d
>  
>  db5, db6 are the first derivatives, b5, b6 are the functions to be
>  fitted. The remaining parameters are unknown and should follow from the
>  fit.
>  
>  assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)
>  
>  (after calculations of 2 papers of A4) follows the solution:
>  
>  L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
>  pb60) {
>  
>  	k50 <- exp(p50)
>  	k56 <- exp(p56)
>  	k60 <- exp(p60)
>  	k65 <- exp(p65)
>  	c   <- exp(pc)
>  	h   <- exp(ph)
>  	d   <- exp(pd)
>  	b50 <- exp(pb50)
>  	b60 <- exp(pb60)
>  	a <- (k50+k56)
>  	b <- k65
>  	e <- k56
>  	f <- (k60+k65)
>  	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
>  	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
>  	K  <- ((z1+a)/(z2-z1))
>  	B1 <- (b/(z2-z1)*b60 - K*b50)
>  	A1 <- (b50-B1)
>  	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
>  	X2 <- (K*c*(b4i-b40))
>  	X3 <- (c*b4i + h - X1)
>  	X4 <- (c*(b40-b4i)- X2)
>  	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
>  X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
>  	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
>  X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
>  	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
>  	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
>  (z1+a)/b * C1E + (z2+a)/b * C2E)
>  	y <- f5*b5 + f6*b6
>  	return(y)
>  }
>  
>  I am in the lucky circumstances having starting values, because a nlr-fit
>  succeeds, the graphical presentation of the fits looks quite nice. The nlr
>  function is part of Lindsey's library(gnlm), but now I would like to apply
>  Pinheiro and Bates library(nlme) and I have got an error:
>  
> > m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> > pb50, pb60), 
> > + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> > + p60=-4.602990518, p65=-0.625732096, 
> > + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> > + pb60=1.270852258))
> > Error in numericDeriv(form[[3]], names(ind), env) : 
> >         Missing value or an Infinity produced when evaluating the model
> > 
>  If somebody feel that he can help me, I could send him my R- code and
>  data file as well.

It is likely that the iterative algorithm is progressing to values of
the parameters that don't make sense physically.  I suggest that you
add trace = TRUE to your call to nls.  This will provide a record of the
parameter values, the residual sum of squares, and the convergence
criterion throughout the iterations.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas_l_arnold at yahoo.com  Wed Mar 27 18:14:36 2002
From: thomas_l_arnold at yahoo.com (Tom Arnold)
Date: Wed, 27 Mar 2002 09:14:36 -0800 (PST)
Subject: [R] Any  good examples of survey processing?
Message-ID: <20020327171436.72126.qmail@web21010.mail.yahoo.com>

I'm trying to get a semi-automated approach to
processing survey data that I'm getting from
mod_survey, an Apache-based web survey tool.

It looks like one can do this with enough experience
in writing R routines. Before I start from scratch, is
there a sample file that shows good techniques for
producing labeled graphs and tables from survey data
with R? I've looked but not found what I need.

For example, I'd like to have an R program that can
read my file, create histograms with meaningful
labels, maybe some piecharts and so on. I'd like to
set this up just once, and be able to reread the data
and get updated charts and tables repeatedly.

Going a step further, it seems that if I could parse
my original survey file (which is XML) I could get the
data I need for most of the labels, and that could be
input to the R program, along with the survey data
itself.

Any suggestions for  a good starting point? I'm
reading Johnathan Brown's contributed document, "Notes
on the use of R for psychology experiments and
questionnaires" which is a little helpful, but not
quite on target for me.

I'm looking to do something in R that's more powerful
than a spreadsheet program, and more easily
repeatable, but not I'm coming from a more basic
statistics and charting background, not a heavy
statistical analysis perspective.


=====
Tom Arnold
Summit Media Partners
Visit our web site at http://www.summitmediapartners.com

__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at u.washington.edu  Wed Mar 27 18:30:26 2002
From: rossini at u.washington.edu (Anthony Rossini)
Date: Wed, 27 Mar 2002 09:30:26 -0800 (PST)
Subject: [R] Vertical bars with barchart()
In-Reply-To: <pine.lnx.4.44.0203270926230.9078_100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.43.0203270930260.24841@hymn03.u.washington.edu>

I suspect that Scott really means barchart (i.e. Trellis/Lattice style plot).

I'd be very interested in the answer as well (just got a request for such a beast from a collaborator).  I think it wouldn't be too hard to write, but might require some work with the lattice package so to switch all labels -- default settings do not seem to like "factors" on the X (bottom) axis, at least based on preliminary investigation.

best,
-tony



On Wed, 27 Mar 2002, Ott Toomet wrote:

> I am not quite sure what do you mean with barchart (I have not the
> particular book) but I think barplot() is what you are looking for.
> 
> Try
> 
> barplot(rnorm(10))
> barplot(rnorm(10), horiz=TRUE)
> 
> regards,
> 
> Ott Toomet
> 
> On Tue, 26 Mar 2002, Waichler, Scott R wrote:
> 
>   |
>   |I would like to create a barchart that has vertical instead of horizontal
>   |bars.  My goal is something similar to Figure 6.10 (p. 166) in
>   |"The Basics of S and S-plus," except for the orientation of the bars.
>   |I don't think bwplot() or xyplot() will work.  Any suggestions?
>   |
>   |Scott Waichler
>   |
>   |Hydrology Group/Environmental Technology Division
>   |Battelle Pacific Northwest National Laboratory
>   |(email) scott.waichler at pnl.gov
>   |
>   |-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>   |r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>   |Send "info", "help", or "[un]subscribe"
>   |(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>   |_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>   |
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Mar 27 18:35:30 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 27 Mar 2002 09:35:30 -0800
Subject: [R] Need suggestions for nice handling of MANY plots
Message-ID: <p05101501b8c7a3b2b59a@[128.115.153.6]>

I have a collection of SAS code that helps people review large 
amounts of data on a regular basis. It does this by using SAS's proc 
gplot with a "by" statement to prepare as many as 400 (yes, 400) 
separate graphs. The code is run on a remote unix host, and displayed 
on the reviewer's local desktop using X11 and SAS's display manager. 
The process is initiated from a web browser.

The good side of using proc gplot is that after all 400 have been 
displayed once, the user can use the PageUp/PageDown keys or the 
scroll bar to move through the plots, choosing which ones to spend 
more time with, etc.. It's also reasonably fast. The graphs, all of 
them, are evidently stored somehow, so that they remain available 
until SAS is exited.

The question is, how close can I come to providing this kind of 
capability using R or Splus?

Displaying each graph once is not a problem, it's the going back and 
reviewing them part I need ideas for.

My current best idea is to shove them all into a pdf file, which can 
be displayed inline in the reviewer's browser, or possibly downloaded.

Thanks for any ideas
-Don

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Mar 27 19:06:43 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 27 Mar 2002 13:06:43 -0500 (EST)
Subject: [R] Need suggestions for nice handling of MANY plots
Message-ID: <Pine.LNX.4.30.0203271303090.16264-100000@bolker.zoo.ufl.edu>


  I bet you could put something nice together with recordPlot() and
replayPlot() and readline(): essentially, construct a little looping shell
in R that reads input from the user, displaying the next plot (and
recording it) or moving back to a previous plot and replaying it, or
jumping to an arbitrary plot, or listing the available plots ... you can
keep the list of plots as a list of recordPlot() objects.



-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Mar 27 19:28:47 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 27 Mar 2002 10:28:47 -0800 (PST)
Subject: [R] Re: RE Vertical bars with barchart()
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF5A542A@pnlmse10.pnl.gov>
Message-ID: <20020327182847.45923.qmail@web13903.mail.yahoo.com>


Hi,

[I'mm cc-ing r-help on this, since some others might be interested (Tony 
Rossini is, at least)]

Yes, I saw your mail and was wondering about what would be the best approach 
to do it. It's definitely not trivial, mainly because Trellis is not designed 
to handle factors on the x-axis (chiefly for convenience, as factors typically
have long names which are difficult to write on the x-axis). 

Anyway, what you essentially need to do is 

1. Change the prepanel function so that you get the correct x and y axis
ranges.
2. Change the panel function to draw what you want
3. Write the y- and x-axes labels explicitly

The first step is trivial if you use the default prepanel for barchart etc
(it's not very obvious, but barchart, dotplot etc all use a function called
prepanel.default.bwplot as its default prepanel function). The second is also 
easy by modifying panel.barchart. Unfortunately, the third step would need 
some case-specific tweaking.

There is also an easier way. It would be more transparent, and would 
work in more general cases (where, for instance, you could put more complicated

arguments in scales= etc). But, it's essentially a hack, because it uses the
(undocumented and liable to change) structure of a trellis object. Needless
to say, this would not work in S+ (though the first should).

I'm giving code for both approaches with the barley data (included in lattice) 
as an example. The rot= things are needed here because the names are long, you
might not need that.

#### The 'proper' approach

library(lattice)

my.prepanel <- function(x, y, ...)
{
    foo <- prepanel.default.bwplot(x, y, ...)
    list(xlim = foo$ylim, ylim = foo$xlim)
}

my.panel <- function (x, y, box.ratio = 1, col = bar.fill$col,
                      levels.y = NULL, ...) 
{
    bar.fill <- trellis.par.get("bar.fill")
    xmin <- current.viewport()$yscale[1]#
    yscale <- current.viewport()$xscale#
    if (is.null(levels.y)) 
        levels.y <- floor(yscale[2]) - ceiling(yscale[1]) + 1
    height <- box.ratio/(1 + box.ratio)
    for (i in seq(along = x)) {
        grid.rect(gp = gpar(fill = col),
                  x = y[i], y = unit(0, "npc"),
                  width = height, height = x[i] - xmin,
                  just = c("centre", "bottom"),
                  default.units = "native")
    }
}


data(barley)

barchart(variety ~ yield | year * site, data = barley) #usual barchart

barchart(variety ~ yield | year * site, data = barley,
         prepanel = my.prepanel, panel = my.panel,
         ylab = "yield", xlab = "",
         scales = list(x = list(at = 1:nlevels(barley$variety),
                       labels = levels(barley$variety),
                       rot = 30),
         y = list(at = lpretty(range(barley$yield)),
         labels = as.character(lpretty(range(barley$yield))
         ))))



## hack : still need my.panel above. scales is just to 
## demonstrate flexibility

foo <- barchart(variety ~ yield | year * site, data = barley,
                scales = list(x=list(relation="free")),
                panel = "my.panel")

# switching appropriate components :
foo[c("x.limits", "y.limits", "x.scales", "y.scales",
      "xlab", "ylab")] <-
    foo[c("y.limits", "x.limits", "y.scales", "x.scales",
          "ylab", "xlab")]

# changing rot, since default of 0 would cause overlap
foo$x.scales$rot <- 90
print(foo)
########################

Deepayan


PS: The ability to do this sort of thing is a very natural thing to ask for 
(in fact, Kurt had asked me about this quite some time ago), and I will try 
to integrate this into some future release. (The only real issue is the 
default placement of the x-axis labels.)




--- "Waichler, Scott R" <Scott.Waichler at pnl.gov> wrote:
> 
> Deepayan,
> 
> You may have noticed my posting to r-help about obtaining
> vertical bars with barchart().  I've gotten a couple of replies back
> suggesting the use of barplot().  I should have clarified that 
> I want to do this in a lattice.  I don't know how to do this 
> with the functions available with lattice.  
> 
> Scott
> 
> Scott Waichler, Senior Research Scientist
> Hydrology Group/Environmental Technology Division
> Battelle Pacific Northwest National Laboratory
> P.O. Box 999,  MSIN:  K9-36
> Richland, WA   99352
> (voice) 509-372-4423  (fax) 509-372-6089
> (email) scott.waichler at pnl.gov
> (web) http://hydrology.pnl.gov
> ________________________________________________
> 

__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Wed Mar 27 20:19:51 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Wed, 27 Mar 2002 11:19:51 -0800
Subject: [R] "object not found"
Message-ID: <0957E70F25F7D111974B00A0C9833064AF888F@mayo.cerep.com>

I am not understanding the functions in R:

The following statements work OK if they are invoked in R:

  reg<-polr(act~.,data=mm)
  print(summary(reg))

But if they are enclosed in a function, then calling that function results
in the message:

  Error in eval(expr, envir, enclos) : Object "mm" not found

and no summary is printed for reg.  Are there other, more proper, ways to do
these?  Where in R's documentation should I be looking?


Thanks for any help/hints.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Wed Mar 27 20:34:22 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 27 Mar 2002 11:34:22 -0800
Subject: [R] Need suggestions for nice handling of MANY plots
Message-ID: <OFA578345C.130EC5C7-ON88256B89.006B08B5@rtp.epa.gov>




> I have a collection of SAS code that helps people review large
> amounts of data on a regular basis. It does this by using SAS's proc
> gplot with a "by" statement to prepare as many as 400 (yes, 400)
> separate graphs. The code is run on a remote unix host, and displayed
> on the reviewer's local desktop using X11 and SAS's display manager.
> The process is initiated from a web browser.
>
> The good side of using proc gplot is that after all 400 have been
> displayed once, the user can use the PageUp/PageDown keys or the
> scroll bar to move through the plots, choosing which ones to spend
> more time with, etc.. It's also reasonably fast. The graphs, all of
> them, are evidently stored somehow, so that they remain available
> until SAS is exited.
>
> The question is, how close can I come to providing this kind of
> capability using R or Splus?
>
> Displaying each graph once is not a problem, it's the going back and
> reviewing them part I need ideas for.
>
> My current best idea is to shove them all into a pdf file, which can
> be displayed inline in the reviewer's browser, or possibly downloaded.
>
> Thanks for any ideas
> -Don
>

Here is an example of what I would do on Windows.  First create PNG
files in one folder, like this for example:

library (maptree)
data (oregon.bird.dist)
data (oregon.bird.names)
data (oregon.grid)
data (oregon.border)

for (i in 1:20) {
  filename <- paste (row.names (oregon.bird.names)[i], ".png", sep="")
  png (filename, width=400, height=380)
  group <- oregon.bird.dist[, i] + 1
  names (group) <- row.names (oregon.bird.dist)
  map.groups (oregon.grid, group, col=c("white", "dark gray"))
  lines (oregon.border)
  mtext (oregon.bird.names[i, 2], side=3, line=0)
  graphics.off ()
}

Then use the freeware viewer XnView which will scroll through images
using the thumb wheel.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwgrant2001 at yahoo.com  Wed Mar 27 20:36:28 2002
From: mwgrant2001 at yahoo.com (Michael Grant)
Date: Wed, 27 Mar 2002 11:36:28 -0800 (PST)
Subject: [R] kriging C/C++ code
In-Reply-To: <Pine.OSF.4.30.0203271548350.31362-100000@science.unitn.it>
Message-ID: <20020327193628.27670.qmail@web20802.mail.yahoo.com>


--- Lecca Paola <lecca at science.unitn.it> wrote:
> Hello to everybody !
> 
> I don't have a question directly connected with R,
> but it takes starting
> point from the use of the R function Krig for
> kriging interpolation and
> from the idea of making a different implemetation of
> the function for my
> purposes.
> 
> Doas anyone know where can I find free C or C++
> codes of kriging ?

Try ai-geostats.org. Look under the software link.
There you can find a number of geostatistical apps
including several with C, C++ or F77 source code. If
you are going to wire the routine(s) into some other
code check into GSLIB, though it is fortran (f77 and
f90 version). I did not have any problems compiling
several the F77 subroutines with g77.

Just a note (opinion): you indicate 'kriging'. Focus
on the variography--that is the heart of the matter.

Regards,
Michael Grant


__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thembinkosi1 at yahoo.com  Wed Mar 27 21:35:24 2002
From: thembinkosi1 at yahoo.com (Themba Nyirenda)
Date: Wed, 27 Mar 2002 12:35:24 -0800 (PST)
Subject: No subject
Message-ID: <20020327203524.45303.qmail@web21204.mail.yahoo.com>


hi,

I would like to how to count the number of ties in a vector or matrix picking a column at a time,(ie any type of array)

themba

 



---------------------------------

Yahoo! Movies - coverage of the 74th Academy Awards®
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020327/ac1131ca/attachment.html

From deleeuw at stat.ucla.edu  Wed Mar 27 22:14:09 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 27 Mar 2002 13:14:09 -0800
Subject: [R] symbol-name
Message-ID: <93ED6DF4-41C7-11D6-916B-000393860F3C@stat.ucla.edu>

Is there a (symbol-name foo) in R, which returns the name of a
symbol as a string ?
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MDawson at cihi.ca  Wed Mar 27 23:02:23 2002
From: MDawson at cihi.ca (Mitch Dawson)
Date: Wed, 27 Mar 2002 17:02:23 -0500
Subject: [R] Problem with line segments in a dotplot
Message-ID: <C8FA0909A03AD511AAD1000629554AD67CC85C@mailott.cihi.ca>

Hi,

I am trying to create a dotplot with dots (to represent a starting date) and
lines to represent a length of stay. The code below works except the line I
expect from the segments function.  Almost positive that this worked on
Splus in the past...

Any help would be greatly appreciated.

Mitch Dawson.

## using rw1041 -- windows

library(date)
library(lattice)

"ED" <-
structure(list(Resident.ID = c(490799, 490799, 490799, 490799, 
490799, 490799, 490975, 491024, 491454, 491509, 491663, 491663, 
491663, 491874, 492323, 492354, 492386, 492394, 492449, 492683
), AB1.Date.Of.Entry = structure(c(13370, 13509, 13583, 13629, 
13867, 13954, 13492, 14381, 13622, 13845, 14062, 14074, 14091, 
14014, 13976, 13358, 14285, 13815, 14332, 13886), class = "date"), 
    R4.Discharge.Date = structure(c(13379, 13523, 13588, 13635, 
    13880, 13958, 13513, 14494, 13631, 13883, 14066, 14090, 14101, 
    14040, 13982, 13360, 14384, 13843, 14364, 13901), class = "date")),
.Names = c("Resident.ID", 
"AB1.Date.Of.Entry", "R4.Discharge.Date"), row.names = c("1", 
"2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", 
"14", "15", "16", "17", "18", "19", "20"), class = "data.frame")

dotplot( Resident.ID ~ AB1.Date.Of.Entry, data=ED, col="black",
    panel=function(x,y, Discharge.Date=ED$R4.Discharge.Date, ...) { 
    panel.dotplot(x,y, ...)
    trellis.par.set( "dot.line", list(col="black",lty=2,lwd=1) )
    segments( x,y, Discharge.Date, y, col="black", lty=1, lwd=2 )
 } )
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Mar 27 23:11:28 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 27 Mar 2002 17:11:28 -0500
Subject: [R] symbol-name
Message-ID: <OF37FA7EDB.D581313B-ON85256B89.0079B76F@rtp.epa.gov>


I believe you can use either:
deparse(quote(foo))

or the one-liner:
symbol.name <- function(x) deparse(substitute(x),width=500)


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                             
                    Jan de Leeuw                                                                                                             
                    <deleeuw at stat.ucla.e        To:     r-help at stat.math.ethz.ch                                                             
                    du>                         cc:                                                                                          
                    Sent by:                    Subject:     [R] symbol-name                                                                 
                    owner-r-help at stat.ma                                                                                                     
                    th.ethz.ch                                                                                                               
                                                                                                                                             
                                                                                                                                             
                    03/27/02 04:14 PM                                                                                                        
                                                                                                                                             
                                                                                                                                             




Is there a (symbol-name foo) in R, which returns the name of a
symbol as a string ?
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu Mar 28 00:16:59 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 27 Mar 2002 15:16:59 -0800 (PST)
Subject: [R] Problem with line segments in a dotplot
In-Reply-To: <C8FA0909A03AD511AAD1000629554AD67CC85C@mailott.cihi.ca>
Message-ID: <20020327231659.25343.qmail@web13901.mail.yahoo.com>



Due to incompatibility in base R graphics and grid graphics (which underlies
lattice plots), functions like segments cannot be directly used. Alternatives
for them have to be written using grid. There are already some such functions,
in particular, the lsegments() function should do what you want.


--- Mitch Dawson <MDawson at cihi.ca> wrote:
> Hi,
> 
> I am trying to create a dotplot with dots (to represent a starting date) and
> lines to represent a length of stay. The code below works except the line I
> expect from the segments function.  Almost positive that this worked on
> Splus in the past...
> 
> Any help would be greatly appreciated.
> 
> Mitch Dawson.
> 
> ## using rw1041 -- windows
> 
> library(date)
> library(lattice)
> 
> "ED" <-
> structure(list(Resident.ID = c(490799, 490799, 490799, 490799, 
> 490799, 490799, 490975, 491024, 491454, 491509, 491663, 491663, 
> 491663, 491874, 492323, 492354, 492386, 492394, 492449, 492683
> ), AB1.Date.Of.Entry = structure(c(13370, 13509, 13583, 13629, 
> 13867, 13954, 13492, 14381, 13622, 13845, 14062, 14074, 14091, 
> 14014, 13976, 13358, 14285, 13815, 14332, 13886), class = "date"), 
>     R4.Discharge.Date = structure(c(13379, 13523, 13588, 13635, 
>     13880, 13958, 13513, 14494, 13631, 13883, 14066, 14090, 14101, 
>     14040, 13982, 13360, 14384, 13843, 14364, 13901), class = "date")),
> .Names = c("Resident.ID", 
> "AB1.Date.Of.Entry", "R4.Discharge.Date"), row.names = c("1", 
> "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", 
> "14", "15", "16", "17", "18", "19", "20"), class = "data.frame")
> 
> dotplot( Resident.ID ~ AB1.Date.Of.Entry, data=ED, col="black",
>     panel=function(x,y, Discharge.Date=ED$R4.Discharge.Date, ...) { 
>     panel.dotplot(x,y, ...)
>     trellis.par.set( "dot.line", list(col="black",lty=2,lwd=1) )
>     segments( x,y, Discharge.Date, y, col="black", lty=1, lwd=2 )
>  } )
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________

Yahoo! Movies - coverage of the 74th Academy Awards®

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Mar 28 00:28:35 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Wed, 27 Mar 2002 16:28:35 -0700 (MST)
Subject: [R] non-decreasing smoother
Message-ID: <Pine.GSO.4.05.10203271610190.22117-100000@virga.rap.ucar.edu>

Hello 

Is there a simple way of fitting a 'smooth curve' to a time series with
the additional constraint that the first derivative be not negative? 
I know that if I choose a "large enough" window for a moving average 
sort of filter on my data I end up with a non-decreasing curve anyway, but
I'm wondering if there is a pre-built method that can include the
constraint from the start, and lets you vary the degree of smoothness 
in addition to it. 

This is a kind of "data quality control" issue: I have hundreds of time
series on the order of a couple of hundred's observations each, and I
expect to replicate this smoothing process for each series separately. 


Thanks in advance

claudia

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Thu Mar 28 07:35:04 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Thu, 28 Mar 2002 07:35:04 +0100
Subject: [R] Plot 3d
References: <Pine.GSO.4.10.10203181342210.3201-100000@athenas.ime.unicamp.br>
Message-ID: <3CA2B998.36EDF55C@econ.unito.it>

You may try ''scatterplot3d'' library, or just use persp function in the base
library. Best, isaia.

Cezar Augusto de Freitas Anselmo wrote:

> There exists a plot 3d functions (or similar) in R?
> Thanks,
>
> ========================================
> Cezar Freitas (ICQ 109128967)
> IMECC - UNICAMP
> Campinas, SP - Brasil
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Thu Mar 28 07:35:22 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Thu, 28 Mar 2002 07:35:22 +0100
Subject: [R] tex/latex output?
References: <001e01c1d029$f5a06290$01000001@godzilla>
Message-ID: <3CA2B9A9.F7BDB5C2@econ.unito.it>

If it helps you:

##################################################################
##    textable - 13.09.2000
##################################################################

"textable" <-
  function(matrix, precision=2, column=NULL, caption=NULL, label=NULL, title="b",
stretch=NULL,
      centering="c")
  {
     ncols <- ncol(matrix)
    if (length(centering) == 1) {
        if(centering != "r" && centering != "l" && centering != "c")
            stop("la centering deve essere r, l, c")
        ausr <- rep(centering, length = ncols + 1)
    }
    else {
        if (length(centering) == ncols + 1)
            ausr <- centering
        else
            stop("centering ad hoc")
    }
    exact <-
        function(x, prec) {
            x <- round(x, prec)
            for (i in prec:1) {
                if ((i == prec) & ((x * 10^prec) %% (10^prec) == 0))
                    return(cat(" & ", x, ".", rep(0, prec), sep = ""))
                else if (round((x * 10^prec) %% (10^i), 5) == 0)
                    return(cat(" & ", x, rep(0, i), sep = ""))
            }
            return(cat(" & ", x, sep = ""))
        }
 printout <- function(matrix, precision)
   {
            for (i in 1:nrow(matrix)) {
                for (j in 1:ncol(matrix)) {
                    exact(matrix[i, j], prec = precision)
            }
                cat("\\\\ \n")
            }
        }
    cat("\\begin{table}[ht]\n\\begin{center}\n")
    if (title == "a" && !is.null(caption))
    {
        if(length(stretch) == 2)
            cat("\\renewcommand{\\baselinestretch}{", stretch[1],
                "} \\normalsize\n", sep = "")
        cat("\\caption{", sep = "")
        if(!is.null(label)) cat("\\label{", label, "}", sep = "")
        cat(caption, "}\n", sep = "")
    }
    if(length(stretch) == 2)
        cat("\\renewcommand{\\baselinestretch}{", stretch[2],
            "} \\normalsize\n\\vspace{0.3cm}\n", sep = "")
    cat("\\begin{tabular}")
    cat("{",ausr[1],"|",ausr[2:length(ausr)],"}\n", sep = "")
    if (is.null(column))
        cat("", paste(1:ncols), sep=" & Col ")
    else
        for (i in 1:ncols) cat("&",column[i])
    cat("\\\\\n")
    cat("\\hline\n")
    printout(matrix = matrix,precision = precision)
    cat("\\hline\n")
    cat("\\end{tabular}\n")
    if (title == "b" && !is.null(caption)) {
        if(length(stretch) == 2)
            cat("\\renewcommand{\\baselinestretch}{", stretch[1],
                "} \\normalsize\n", sep = "")
        cat("\\caption{")
        if(!is.null(label)) cat("\\label{", label, "}", sep = "")
        cat(caption, "}\n", sep = "")
    }
    cat("\\end{center}\n\\end{table}\n")
}
##################################################################
## <EoF> textable  - 13.09.2000
##################################################################

X<-cbind(c(10,12,13,11),c(20,25,24,22),c(50,45,54,58))

> X
     [,1] [,2] [,3]
[1,]   10   20   50
[2,]   12   25   45
[3,]   13   24   54
[4,]   11   22   58
> textable(X)
\begin{table}[ht]
\begin{center}
\begin{tabular}{c|ccc}
 & Col 1 & Col 2 & Col 3\\
\hline
 & 10.00 & 20.00 & 50.00\\
 & 12.00 & 25.00 & 45.00\\
 & 13.00 & 24.00 & 54.00\\
 & 11.00 & 22.00 & 58.00\\
\hline
\end{tabular}
\end{center}
\end{table}

Best, isaia.

"Jeff D. Hamann" wrote:

> Is it possible to write the output/results (redirect) to a latex file?
>
> Jeff.
>
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Thu Mar 28 07:35:16 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Thu, 28 Mar 2002 07:35:16 +0100
Subject: [R] matrix with fix number columns but variable number rows
References: <3C96ABB5.BCBBEE87@lbl.gov>
Message-ID: <3CA2B9A3.57CB1CB0@econ.unito.it>

Is that you mean?

X<-cbind(c(10,12,13,11),c(20,25,24,22),c(50,45,54,58))
> dim(X)
[1] 4 3

Best, isaia.

Francisco J Molina wrote:

> I have to store a number of vectors of the same length. I know the
> length but I do not know the number of vectors.
>
> How can I store them as they are created (they are created one by one)?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Mar 28 08:56:22 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 28 Mar 2002 08:56:22 +0100 (MET)
Subject: [R] Re: <number of ties>
In-Reply-To: <20020327203524.45303.qmail@web21204.mail.yahoo.com>
Message-ID: <Pine.LNX.4.21.0203280855100.13097-100000@artemis.imbe.med.uni-erlangen.de>



> 
> hi,
> 
> I would like to how to count the number of ties in a vector or matrix picking a column at a time,(ie any type of array)
> 

R> x <- c(1,1,1:10)
R> duplicated(x)
 [1] FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
FALSE
R> sum(duplicated(x))
[1] 2
R> 

and apply and friends for matrices. A subject would be helpful ...

Torsten

> themba
> 
>  
> 
> 
> 
> ---------------------------------
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gabriel.FRICOUT at cmm.ensmp.fr  Thu Mar 28 09:37:34 2002
From: Gabriel.FRICOUT at cmm.ensmp.fr (Gabriel Fricout)
Date: Thu, 28 Mar 2002 09:37:34 +0100
Subject: [R] bug in fft
Message-ID: <004f01c1d633$cf394e40$d40d020a@karystos>

I wanted to use th fft function for some convolution purposes and it seems
to have a bug:
I did the following:
sizeX<-361
sizeY<-565
depthX<-23
depthY<-23
kernel<-array(0,c(sizeX,sizeY)+c(depthX,depthY))

kernel[1:(2*depthX+1),1:(2*depthY+1)]<-1
transKern <- fft(kernel)
K <- fft(transKern,inverse=TRUE)/(dim(transKern)[1]*dim(transKern)[2])
plot(Re(transKern[1,]))

and obtain something fully different from the nice function kernel !

Is that a known bug, and is there some alternative to fft function
NB: I used this function for kernel with depthX and depthY equal to 20 to
80, and everything worked pretty well (maybe!) except for the value 23 and
31!!!

Thanks for any help!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Mar 28 11:04:34 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 28 Mar 2002 10:04:34 +0000 (GMT)
Subject: [R] non-decreasing smoother
In-Reply-To: <Pine.GSO.4.05.10203271610190.22117-100000@virga.rap.ucar.edu>
Message-ID: <Pine.GSO.4.21.0203281003000.3894-100000@dolphin>

> Is there a simple way of fitting a 'smooth curve' to a time series with
> the additional constraint that the first derivative be not negative? 

- there's an example provided in the help file for pcls() in library mgcv
that does this. 

Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eric.barber at convergys.com  Thu Mar 28 11:30:22 2002
From: eric.barber at convergys.com (Barber, Eric)
Date: Thu, 28 Mar 2002 10:30:22 -0000
Subject: [R] extracting non-NA columns from a data frame
Message-ID: <41FBBB1B17AFD4119ECE000347088836030BE6E2@wbnsmail.gtl.com>

I'm clustering using kmeans, and it doesn't accept NA. if NA occurs in a
column of the data frame, it occurs in every column, including column 1.
they say that a (good) programmer can write FORTRAN in any language, so I
came up with this, where tbl is the data frame containing NA -
> newtbl<-NULL
> for (i in 1:length(tbl)){if (!is.na(tbl[1,i])){
+ newtbl<-if (is.null(newtbl))data.frame(tbl[i]) else
data.frame(newtbl,tbl[i])}}
>
however, from looking at the examples in the reference manual, I believe
that the same effect could be achieved using a more concise, APL-like,
syntax. offers?

thanks, Eric
--
Eric Barber <eric.barber at convergys.com> +44 1223 48 8132
Geneva Product Unit, Convergys, Block 3, Westbrook Centre,
Milton Road, Cambridge CB4 1YS, England

NOTICE:  The information contained in this electronic mail transmission
is intended by Convergys Corporation for the use of the named
individual or entity to which it is directed and may contain
information that is privileged or otherwise confidential. If you have
received this electronic mail transmission in error, please delete it
from your system without copying or forwarding it, and notify the
sender of the error by reply email or by telephone (collect/reverse
charges), so that the sender's address records can be corrected.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 28 11:40:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 28 Mar 2002 10:40:42 +0000 (GMT)
Subject: [R] extracting non-NA columns from a data frame
In-Reply-To: <41FBBB1B17AFD4119ECE000347088836030BE6E2@wbnsmail.gtl.com>
Message-ID: <Pine.LNX.4.31.0203281040250.16699-100000@gannet.stats>

On Thu, 28 Mar 2002, Barber, Eric wrote:

> I'm clustering using kmeans, and it doesn't accept NA. if NA occurs in a
> column of the data frame, it occurs in every column, including column 1.
> they say that a (good) programmer can write FORTRAN in any language, so I
> came up with this, where tbl is the data frame containing NA -
> > newtbl<-NULL
> > for (i in 1:length(tbl)){if (!is.na(tbl[1,i])){
> + newtbl<-if (is.null(newtbl))data.frame(tbl[i]) else
> data.frame(newtbl,tbl[i])}}
> >
> however, from looking at the examples in the reference manual, I believe
> that the same effect could be achieved using a more concise, APL-like,
> syntax. offers?

?na.omit


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmiddleton at fisheries.gov.fk  Thu Mar 28 11:48:04 2002
From: dmiddleton at fisheries.gov.fk (David Middleton)
Date: Thu, 28 Mar 2002 08:48:04 -0200
Subject: [R] ks.test - continuous vs discrete
Message-ID: <698C02D452EDD411A42300A0C982E91E083AF1@MAIL>


Thanks for the input, and sorry for the delay in returning to the thread.

> > I frequently want to test for differences between animal size frequency
> > distributions.  The obvious test (I think) to use is the
Kolmogorov-Smirnov
> > two sample test (provided in R as the function ks.test in package
ctest).
> 
> "obvious" depends on the problem you want to test: KS tests the hypothesis
> 
> H_0: F(z) = G(z) for all z vs. H_1: F(z) != G(z) for at least one z 
> 
> ks.test assumes that both F and G are continuous variables. However, if
> you want to test
> 
> H_0: F(z) = G(z)  vs. H_1: F(z) = G(z - delta); delta != 0
> 
> as "test for differences" indicates, the Wilcoxon rank sum test is
> "obvious". Or, more general, if your hypothesis is "exchangeability", a
> permutation test can be used.

Apologies for my vague description.  The Wilcoxon rank sum test is a test of
difference in location, as is the permutation test I believe.  I am
interested in more than just location - the animal size distributions I have
in mind are often multimodal, encompassing different cohorts for example -
so I am interested in a more general test of differences in the
distributions, both for exploratory purposes and too see if it is
appropriate to lump samples.  Thus the KS test seems the "obvious" choice.

> > The KS test is for continuous variables and this obviously includes
length,
> > weight etc.  However, limitations in measuring (e.g length to the
nearest
> > cm/mm, weight to the nearest g/mg etc) has the obvious effect of
> > "discretising" real data.
> 
> or maybe the underlying distribution is discrete? 

In the case I described (animal size) it is pretty clear that the variable
is continuous, and likewise the underlying distribution.  The ties really
are the result of rounding error.

Off list both Don MacQueen and Ross Darnell came up with the idea of
"jittering" the values (adding a random number form a uniform distribution
half the width of the measurement unit) to remove the ties, and re-testing
to see if the rounding was influencing the results.  This seems to be what I
need.

David Middleton


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Mar 28 14:19:35 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 28 Mar 2002 08:19:35 -0500
Subject: [R] Vectorizing closest match
Message-ID: <20020328081935.6a12f812.fharrell@virginia.edu>

If anyone has a very fast vectorized method for doing the following I would appreciate some help.  I want to avoid outer() to limit memory problems for very large n.

Let

x = real vector of length n
y = real vector of length n
w = real vector of length m, m typically less than n/2 but can be > n
z = real vector of length m

For w[i], i=1,,,m, find the value of x that is closest to w[i].  In the case of ties, select one (optimally at random or just take the first match).  Let z[i] = value of y corresponding to the closest x.

If there is a Fortran or C function (builtin or otherwise) that does much of the work, all the better.

Thanks,

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 28 14:50:46 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Mar 2002 14:50:46 +0100
Subject: [R] Vectorizing closest match
In-Reply-To: <20020328081935.6a12f812.fharrell@virginia.edu>
References: <20020328081935.6a12f812.fharrell@virginia.edu>
Message-ID: <x2663gztqh.fsf@blueberry.kubism.ku.dk>

Frank E Harrell Jr <fharrell at virginia.edu> writes:

> If anyone has a very fast vectorized method for doing the following I would appreciate some help.  I want to avoid outer() to limit memory problems for very large n.
> 
> Let
> 
> x = real vector of length n
> y = real vector of length n
> w = real vector of length m, m typically less than n/2 but can be > n
> z = real vector of length m
> 
> For w[i], i=1,,,m, find the value of x that is closest to w[i].  In the case of ties, select one (optimally at random or just take the first match).  Let z[i] = value of y corresponding to the closest x.
> 
> If there is a Fortran or C function (builtin or otherwise) that does much of the work, all the better.

Sounds rather close to what approx() does in the stepfunction cases,
except that you want jumps at the midpoints between the x values
rather than at the x themselves.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmartinez at uia.net  Thu Mar 28 16:43:10 2002
From: jmartinez at uia.net (Jason W. Martinez)
Date: Thu, 28 Mar 2002 07:43:10 -0800
Subject: [R] ks.test - continuous vs discrete
In-Reply-To: <698C02D452EDD411A42300A0C982E91E083AF1@MAIL>
References: <698C02D452EDD411A42300A0C982E91E083AF1@MAIL>
Message-ID: <200203281537.g2SFbuH29185@trex.uia.net>

Hello,

You may want to check out Handcock and Morris's book and R/splus code on 
``relative distribution methods.''

See their website for more info. Last time I checked, the documentation for 
their code was somewhat lacking, though.

http://www.stat.washington.edu/~handcock/RelDist/

jason


On Thursday 28 March 2002 02:48 am, David Middleton wrote:
> Thanks for the input, and sorry for the delay in returning to the thread.
>
> > > I frequently want to test for differences between animal size frequency
> > > distributions.  The obvious test (I think) to use is the
>
> Kolmogorov-Smirnov
>
> > > two sample test (provided in R as the function ks.test in package
>
> ctest).
>
> > "obvious" depends on the problem you want to test: KS tests the
> > hypothesis
> >
> > H_0: F(z) = G(z) for all z vs. H_1: F(z) != G(z) for at least one z
> >
> > ks.test assumes that both F and G are continuous variables. However, if
> > you want to test
> >
> > H_0: F(z) = G(z)  vs. H_1: F(z) = G(z - delta); delta != 0
> >
> > as "test for differences" indicates, the Wilcoxon rank sum test is
> > "obvious". Or, more general, if your hypothesis is "exchangeability", a
> > permutation test can be used.
>
> Apologies for my vague description.  The Wilcoxon rank sum test is a test
> of difference in location, as is the permutation test I believe.  I am
> interested in more than just location - the animal size distributions I
> have in mind are often multimodal, encompassing different cohorts for
> example - so I am interested in a more general test of differences in the
> distributions, both for exploratory purposes and too see if it is
> appropriate to lump samples.  Thus the KS test seems the "obvious" choice.
>
> > > The KS test is for continuous variables and this obviously includes
>
> length,
>
> > > weight etc.  However, limitations in measuring (e.g length to the
>
> nearest
>
> > > cm/mm, weight to the nearest g/mg etc) has the obvious effect of
> > > "discretising" real data.
> >
> > or maybe the underlying distribution is discrete?
>
> In the case I described (animal size) it is pretty clear that the variable
> is continuous, and likewise the underlying distribution.  The ties really
> are the result of rounding error.
>
> Off list both Don MacQueen and Ross Darnell came up with the idea of
> "jittering" the values (adding a random number form a uniform distribution
> half the width of the measurement unit) to remove the ties, and re-testing
> to see if the rounding was influencing the results.  This seems to be what
> I need.
>
> David Middleton
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Thu Mar 28 16:41:57 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Thu, 28 Mar 2002 15:41:57 +0000
Subject: [R] color key with xyplot
Message-ID: <3CA339C5.6D523970@sentoo.sn>

Dear all,

I'd like to draw a color key beside a graph drawn with xyplot (lattice
library). I am aware of the draw.colorkey function (grid library) but
don't know how to handle it. Any hint would be appreciated.

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From flom at ndri.org  Thu Mar 28 17:33:57 2002
From: flom at ndri.org (Peter Flom)
Date: Thu, 28 Mar 2002 11:33:57 -0500
Subject: [R] ks.test - continuous vs discrete
Message-ID: <sca2ffc8.022@NDRI2.NDRI.ORG>

>>> David Middleton <dmiddleton at fisheries.gov.fk> 03/28/02 05:48AM >>>

wrote

> > I frequently want to test for differences between animal size
>>frequency  distributions.  The obvious test (I think) to use is the
>> Kolmogorov-Smirnov  two sample test (provided in R as the function >>ks.test in package ctest).

and later added:

>Apologies for my vague description.  The Wilcoxon rank sum test is a test >of difference in location, as is the permutation test I believe.  I am
>interested in more than just location - the animal size distributions I have
>in mind are often multimodal, encompassing different cohorts for example >- so I am interested in a more general test of differences in the
>distributions, both for exploratory purposes and too see if it is
>appropriate to lump samples.  Thus the KS test seems the "obvious" >choice.


In which case, I recommend the methods developed and advocated  Handcock & Morris 

see

www.stat.washington.edu/handcock/RelDist 


For which code in R is available.


These provide more complete methods for comparing two distributions; I think they're really good.  The only caveat is that the sample size should be large (at least hundreds, preferably thousands).

Peter

Peter L. Flom, PhD
Assistant Director, Statistics and Data Analysis Core
Center for Drug Use and HIV Research
National Development and Research Institutes
71 W. 23rd St
New York, NY 10010
(212) 845-4485 (voice)
(917) 438-0894 (fax)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Thu Mar 28 17:55:27 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Thu, 28 Mar 2002 16:55:27 -0000
Subject: [R] Vectorizing closest match
In-Reply-To: <20020328081935.6a12f812.fharrell@virginia.edu>
Message-ID: <NEBBJLLBCLEDFLCCBKDAGEHLCEAA.mel@mcs.st-andrews.ac.uk>

Frank,

Apologies if I'm being very stupid, but I'd guess that reducing the overall
complexity would help for large datasets. The following is not vectorised,
but should be linear apart from the order() operations, which are hopefully
O(nlogn):


>closest<-function(w,x,y)  {
   ow<-order(w)
   ox<-order(x)
   ws<-w[ow]
   xs<-x[ox]
   ys<-y[ox]
   res<-rep(length(x),length(w))
   i<-1
   j<-1

   while(i<=length(w) && j<length(x))   {
      if ( ws[i]<=(xs[j]+xs[j+1])/2 )  {
         res[i]<-j
         i<-i+1
      } else
         j<-j+1
   }
   reshuffle<-order((1:length(w))[ow])
   z<-ys[res[reshuffle]]
   return(z)
 }


It is all based on sorting the data first so that only m+n comparisons are
needed rather than mn.

I'd be glad to know whether I've messed up/completely misunderstood the
problem (& I've just realised you're more interested in space than time so
this may all be completely irrelevant.)

Cheers,

Mike.


     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Frank E
     > Harrell Jr
     > Sent: 28 March 2002 13:20
     > To: rhelp
     > Subject: [R] Vectorizing closest match
     >
     >
     > If anyone has a very fast vectorized method for doing the
     > following I would appreciate some help.  I want to avoid
     > outer() to limit memory problems for very large n.
     >
     > Let
     >
     > x = real vector of length n
     > y = real vector of length n
     > w = real vector of length m, m typically less than n/2 but can be > n
     > z = real vector of length m
     >
     > For w[i], i=1,,,m, find the value of x that is closest to
     > w[i].  In the case of ties, select one (optimally at random
     > or just take the first match).  Let z[i] = value of y
     > corresponding to the closest x.
     >
     > If there is a Fortran or C function (builtin or otherwise)
     > that does much of the work, all the better.
     >
     > Thanks,
     >
     > Frank
     > --
     > Frank E Harrell Jr              Prof. of Biostatistics & Statistics
     > Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
     > U. Virginia School of Medicine
http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Mar 28 17:54:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 28 Mar 2002 08:54:50 -0800 (PST)
Subject: [R] Vectorizing closest match
In-Reply-To: <20020328081935.6a12f812.fharrell@virginia.edu>
Message-ID: <Pine.A41.4.44.0203280847080.82942-100000@homer37.u.washington.edu>

On Thu, 28 Mar 2002, Frank E Harrell Jr wrote:

> If anyone has a very fast vectorized method for doing the following I
> would appreciate some help.  I want to avoid outer() to limit memory
> problems for very large n.
>
> Let
>
> x = real vector of length n
> y = real vector of length n
> w = real vector of length m, m typically less than n/2 but can be > n
> z = real vector of length m
>
> For w[i], i=1,,,m, find the value of x that is closest to w[i].  In the
> case of ties, select one (optimally at random or just take the first
> match).  Let z[i] = value of y corresponding to the closest x.
>

I believe the following will work in pre1.5.0 using the new findInterval
function (modulo any remaining off-by-one errors that should be easy to
fix)

# sort them
oo<-order(x)
x<-x[oo]
y<-y[oo]
# find the right interval for w
j<-pmax(1,findInterval(w,x))
xlow<-x[j] #or possibly j-1 and j or something
xhi<-x[j+1]
# which end of the interval?
bestj<-ifelse(xhi-w<w-xlow,j+1,j)
# get z
z<-y[j]

For length(x)=10^5 it takes 0.5s with length(w)=length(x)/3 and 2.5s with
length(w)=length(x)*3 on my machine with a current pre1.5.0

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Thu Mar 28 18:01:01 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 28 Mar 2002 09:01:01 -0800
Subject: [R] color key with xyplot
Message-ID: <OFD79AF6B4.E165BC19-ON88256B8A.005D3CB2@rtp.epa.gov>


> Dear all,
>
> I'd like to draw a color key beside a graph drawn with xyplot (lattice
> library). I am aware of the draw.colorkey function (grid library) but
> don't know how to handle it. Any hint would be appreciated.
>
> Renaud

I haven't used draw.colorkey in lattice but you could look at map.key in
package maptree as a possible alternative.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Mar 28 18:04:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 28 Mar 2002 09:04:01 -0800 (PST)
Subject: [R] Vectorizing closest match
In-Reply-To: <NEBBJLLBCLEDFLCCBKDAGEHLCEAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <Pine.A41.4.44.0203280857200.82942-100000@homer37.u.washington.edu>

On Thu, 28 Mar 2002, Mike Lonergan wrote:

> Frank,
>
> Apologies if I'm being very stupid, but I'd guess that reducing the overall
> complexity would help for large datasets. The following is not vectorised,
> but should be linear apart from the order() operations, which are hopefully
> O(nlogn):
<snip actual code>
> It is all based on sorting the data first so that only m+n comparisons are
> needed rather than mn.

Looking at how findInterval is defined it seems that my solution is
roughly O(m logn) if n>>m but roughly O(m+n) if n<=m, so there's not that
much to choose between them in asymptotic complexity.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at sun11.ukl.uni-freiburg.de  Thu Mar 28 19:27:00 2002
From: domi at sun11.ukl.uni-freiburg.de (1-27206531-0-90000491)
Date: Thu, 28 Mar 2002 19:27:00 +0100 (MET)
Subject: [R] Error with nls
In-Reply-To: <000001c1d5a7$ec4cdec0$6401a8c0@neubr.client2.attbi.com>
Message-ID: <Pine.SOL.4.21.0203281919060.18619-100000@sun11.ukl.uni-freiburg.de>



On Wed, 27 Mar 2002, Shawn Hornsby wrote:

> Dear Kind,
> 
> I would like to let you know up front that I am not a mathematician nor do I
> want to insult you or your intelligence. I am a humble person of simple
> education and means and I am offering a suggestion, you may have already
> resolved this issue. Here are my suggestions:
> 
> In the expression, db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h, I notice that
> function g(t) is not explicitly defined as an expression. I do see you make
> reference to it in, assuming that g(t) has the functional form: b4i +
> (b40-b4i)*exp(-k4*t), maybe this is the expression and I am overlooking it.
> While, I continued to examine the function g(t), I saw no explicit
> definition of variables b40, b4i, k4, and t. They are shown to be part of
> the equation but they are not explicitly defined with values.

In the origin, it was a compartment model with 6 compartments. Data was
available for every compartment. But of scientific interest are specially
the last 2 compartments, #5 and #6. The function g(t) is the approach to
fill compartment  5 via a forcing function. The parameters b4i and b40 and
k4 results from a fit of compartment 4. In my model of compartment 5 and 6
the parameters b40, b4i and k4 are like time constant covariables. 

> 
> Again, I am hoping my observation spark an idea that would lead you to your
> resolve.
> 
> If there is someone in the R-Project that has already helped Kind, I would
> like to thank you.
> 
> Regards,
> Shawn
> 
> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
> 1-27206531-0-90000491
> Sent: Wednesday, March 27, 2002 4:48 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Error with nls
> 
> 
>  Dear R-group members,
> 
>  I use:
> 
>  platform i386-pc-mingw32
>  arch     x86
>  os       Win32
>  system   x86, Win32
>  status
>  major    1
>  minor    4.1
>  year     2002
>  month    01
>  day      30
>  language R
> 
>  I try to fit a 2 compartment model. The compartments are open, connected
>  to each other and are filled via constant input and a time depended
>  function as well. Data describes increasing of Apo B after dialysis. Aim
>  of the analysis is to test the hypothesis whether the data could described
>  by two simple disconnected one compartment modes ore the "saturated
>  model" holds? The first order differential equation for the saturated
>  model:
> 
>  db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
>  db6 = + k65*b5 - (k60+k65)*b6 + d
> 
>  db5, db6 are the first derivatives, b5, b6 are the functions to be
>  fitted. The remaining parameters are unknown and should follow from the
>  fit.
> 
>  assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)
> 
>  (after calculations of 2 papers of A4) follows the solution:
> 
>  L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
>  pb60) {
> 
>  	k50 <- exp(p50)
>  	k56 <- exp(p56)
>  	k60 <- exp(p60)
>  	k65 <- exp(p65)
>  	c   <- exp(pc)
>  	h   <- exp(ph)
>  	d   <- exp(pd)
>  	b50 <- exp(pb50)
>  	b60 <- exp(pb60)
>  	a <- (k50+k56)
>  	b <- k65
>  	e <- k56
>  	f <- (k60+k65)
>  	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
>  	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
>  	K  <- ((z1+a)/(z2-z1))
>  	B1 <- (b/(z2-z1)*b60 - K*b50)
>  	A1 <- (b50-B1)
>  	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
>  	X2 <- (K*c*(b4i-b40))
>  	X3 <- (c*b4i + h - X1)
>  	X4 <- (c*(b40-b4i)- X2)
>  	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
>  X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
>  	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
>  X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
>  	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
>  	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
>  (z1+a)/b * C1E + (z2+a)/b * C2E)
>  	y <- f5*b5 + f6*b6
>  	return(y)
>  }
> 
>  I am in the lucky circumstances having starting values, because a nlr-fit
>  succeeds, the graphical presentation of the fits looks quite nice. The nlr
>  function is part of Lindsey's library(gnlm), but now I would like to apply
>  Pinheiro and Bates library(nlme) and I have got an error:
> 
> > m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> > pb50, pb60),
> > + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> > + p60=-4.602990518, p65=-0.625732096,
> > + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> > + pb60=1.270852258))
> > Error in numericDeriv(form[[3]], names(ind), env) :
> >         Missing value or an Infinity produced when evaluating the model
> >
>  If somebody feel that he can help me, I could send him my R- code and
>  data file as well.
> 
>  Kind regards,
> 
>  Dominik
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 


Greetings,

Dominik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at sun11.ukl.uni-freiburg.de  Thu Mar 28 19:40:50 2002
From: domi at sun11.ukl.uni-freiburg.de (1-27206531-0-90000491)
Date: Thu, 28 Mar 2002 19:40:50 +0100 (MET)
Subject: [R] Error with nls
In-Reply-To: <6r3cymt0u8.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.SOL.4.21.0203281932380.18619-100000@sun11.ukl.uni-freiburg.de>

Thank for the advice.

I repeated the call of nls with option: trace=TRUE:

> m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
pb50, pb60), 
+ data=help, start=c(p50=0.008678954, p56=-0.595153967, p60=-4.602990518,
p65=-0.625732096, 
+ pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
pb60=1.270852258),
+ trace=TRUE)
4189.237 :   0.008678954 -0.595153967 -4.602990518 -0.625732096
-0.128657978  0.708033556  1.140357461  1.311141424  1.270852258 
Error in numericDeriv(form[[3]], names(ind), env) : 
        Missing value or an Infinity produced when evaluating the model

Excuse me, but I did not know, how I should interpretate it, or what
consequences I have to do.

Kind regards,

Dominik

On 27 Mar 2002, Douglas Bates wrote:

> 1-27206531-0-90000491 <domi at sun11.ukl.uni-freiburg.de> writes:
> 
> >  I use:
> >  
> >  platform i386-pc-mingw32
> >  arch     x86            
> >  os       Win32          
> >  system   x86, Win32     
> >  status                  
> >  major    1              
> >  minor    4.1            
> >  year     2002           
> >  month    01             
> >  day      30             
> >  language R
> 
> Thank you for providing that information.
> 
> >  I try to fit a 2 compartment model. The compartments are open, connected
> >  to each other and are filled via constant input and a time depended
> >  function as well. Data describes increasing of Apo B after dialysis. Aim
> >  of the analysis is to test the hypothesis whether the data could described
> >  by two simple disconnected one compartment modes ore the "saturated
> >  model" holds? The first order differential equation for the saturated
> >  model:
> >  
> >  db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
> >  db6 = + k65*b5 - (k60+k65)*b6 + d
> >  
> >  db5, db6 are the first derivatives, b5, b6 are the functions to be
> >  fitted. The remaining parameters are unknown and should follow from the
> >  fit.
> >  
> >  assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)
> >  
> >  (after calculations of 2 papers of A4) follows the solution:
> >  
> >  L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
> >  pb60) {
> >  
> >  	k50 <- exp(p50)
> >  	k56 <- exp(p56)
> >  	k60 <- exp(p60)
> >  	k65 <- exp(p65)
> >  	c   <- exp(pc)
> >  	h   <- exp(ph)
> >  	d   <- exp(pd)
> >  	b50 <- exp(pb50)
> >  	b60 <- exp(pb60)
> >  	a <- (k50+k56)
> >  	b <- k65
> >  	e <- k56
> >  	f <- (k60+k65)
> >  	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
> >  	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
> >  	K  <- ((z1+a)/(z2-z1))
> >  	B1 <- (b/(z2-z1)*b60 - K*b50)
> >  	A1 <- (b50-B1)
> >  	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
> >  	X2 <- (K*c*(b4i-b40))
> >  	X3 <- (c*b4i + h - X1)
> >  	X4 <- (c*(b40-b4i)- X2)
> >  	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
> >  X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
> >  	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
> >  X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
> >  	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
> >  	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
> >  (z1+a)/b * C1E + (z2+a)/b * C2E)
> >  	y <- f5*b5 + f6*b6
> >  	return(y)
> >  }
> >  
> >  I am in the lucky circumstances having starting values, because a nlr-fit
> >  succeeds, the graphical presentation of the fits looks quite nice. The nlr
> >  function is part of Lindsey's library(gnlm), but now I would like to apply
> >  Pinheiro and Bates library(nlme) and I have got an error:
> >  
> > > m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> > > pb50, pb60), 
> > > + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> > > + p60=-4.602990518, p65=-0.625732096, 
> > > + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> > > + pb60=1.270852258))
> > > Error in numericDeriv(form[[3]], names(ind), env) : 
> > >         Missing value or an Infinity produced when evaluating the model
> > > 
> >  If somebody feel that he can help me, I could send him my R- code and
> >  data file as well.
> 
> It is likely that the iterative algorithm is progressing to values of
> the parameters that don't make sense physically.  I suggest that you
> add trace = TRUE to your call to nls.  This will provide a record of the
> parameter values, the residual sum of squares, and the convergence
> criterion throughout the iterations.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu Mar 28 20:11:02 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 28 Mar 2002 11:11:02 -0800 (PST)
Subject: [R] color key with xyplot
In-Reply-To: <3CA339C5.6D523970@sentoo.sn>
Message-ID: <20020328191102.75995.qmail@web13904.mail.yahoo.com>



Do you mean a colorkey as is usually drawn in levelplot (and not key) ? 
xyplot is not designed to draw color keys directly. You could use the key
argument to xyplot to emulate it somewhat 
(something like key = list(rect = list(col = 1:7), space = "right"))

Alternately, you could modify the object produced by xyplot to add a colorkey
component, which would be enough to fool print.trellis:

foo <- xyplot(<whatever>)
foo$colorkey <- list(col = 1:7,  at = 1:8, tick.number = 10)
print(foo)

--- Renaud Lancelot <lancelot at sentoo.sn> wrote:
> Dear all,
> 
> I'd like to draw a color key beside a graph drawn with xyplot (lattice
> library). I am aware of the draw.colorkey function (grid library) but
> don't know how to handle it. Any hint would be appreciated.
> 
> Renaud


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu Mar 28 20:12:50 2002
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 28 Mar 2002 11:12:50 -0800
Subject: [R] Enhancement request: lookup.xport() in library foreign
Message-ID: <p05101502b8c917167ca8@[128.115.153.6]>

I installed the foreign library yesterday, and have successfully used 
the read.xport() function to get data from SAS. This is very helpful.

SAS "date" and "datetime" variables become numeric variables, which 
is, of course, what they really are in SAS. Naturally, it is 
desirable to convert them to date/time objects in R.

Looking at the documentation for the SAS transport format, nicely 
referenced in ?lookup.xport, if appears that SAS format names are 
present in the transport format file, but not imported into R.

If the format name were available, the conversion in R to POSIXct 
objects would be easier, because the variables that need converting 
could be identified by their format names.

Since I don't know C, I can't take on the task. I would appreciate it 
very much if the author, or someone else if he's not available, could 
modify the code to include the format name.

Thank you
-Don


  -- the reference --
SAS Technical Support document TS-140: ``The Record Layout of a
Data Set in SAS Transport (XPORT) Format'' available as <URL:
http://ftp.sas.com/techsup/download/technote/ts140.html>.



-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Thu Mar 28 20:27:56 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 28 Mar 2002 14:27:56 -0500
Subject: [R] reduced major axis regression
Message-ID: <5.1.0.14.2.20020328142220.00b16588@po.muohio.edu>

With the help of J. Baron's search engine, I found an old thread on reduced 
major axis regression (see below). Prior to my creating a really awkward 
function to accomplish RMA regression, I was wondering if anyone might 
clarify Dr. Ripley's casual comments below.

On Fri, 4 Feb 2000, Pete St. Onge wrote:
 >.......My
 > understanding in the latter is that it minimizes the squares of both the
 > horizontal and vertical distances from the regression line, and thus do not
 > impart any particular 'accuracy' to the predictor variable. ....
Ripley wrote:
...The sum of squares
of horizontal and vertical distances i just Euclidean distance^2 to the
projection on to the line, so this is just PCA. Use princomp and
take the first principal component.

****My question...take and do what with it?
thanks very much,
Henry


Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Tel: (513) 529-4206
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Thu Mar 28 20:48:46 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Thu, 28 Mar 2002 11:48:46 -0800
Subject: [R] problem: use install.packages() with proxy under Windows 2000 wit
	h Pentium 4 machine
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD119@ALEX2>

Dear R people,

I have been trying to use install.package() to install packages from CRAN.
The machine is a Windows 2000 with Pentium 4. 
The machine operates under a proxy environment. I have followed advices I
found on R-help mailing list: change internet2.dll to internet.dll so that R
will use the same setting as Internet Explorer uses. After I made the
change, R crashes when I attempt to
use install.package(). 

Thanks in advance for advices!

Regards,
Jonathan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Thu Mar 28 21:28:58 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Thu, 28 Mar 2002 12:28:58 -0800
Subject: [R] RE: problem: use install.packages() with proxy under Windows 2000
	 with Pentium 4 machine
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD11B@ALEX2>

Hi all,

An offline communication with B. Ripley gives the answer for whoever else
may have the similar problem:
Run R with a flag:

Rgui --internet2 or Rterm --internet2

By the way, as Brian pointed out, this information can be found at R for
Windows FAQ on cran website.

Regards,
Jonathan

>  -----Original Message-----
> From: 	LI,JONATHAN (A-Labs,ex1)  
> Sent:	Thursday, March 28, 2002 11:49 AM
> To:	'r-help at lists.R-project.org'
> Cc:	LI,JONATHAN (A-Labs,ex1)
> Subject:	problem: use install.packages() with proxy under Windows
> 2000 with Pentium 4 machine
> 
> Dear R people,
> 
> I have been trying to use install.package() to install packages from CRAN.
> The machine is a Windows 2000 with Pentium 4. 
> The machine operates under a proxy environment. I have followed advices I
> found on R-help mailing list: change internet2.dll to internet.dll so that
> R will use the same setting as Internet Explorer uses. After I made the
> change, R crashes when I attempt to
> use install.package(). 
> 
> Thanks in advance for advices!
> 
> Regards,
> Jonathan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lj22 at u.washington.edu  Thu Mar 28 22:02:49 2002
From: lj22 at u.washington.edu (lj22@u.washington.edu)
Date: Thu, 28 Mar 2002 13:02:49 -0800 (PST)
Subject: [R] how to run .r batch file
Message-ID: <Pine.LNX.4.43.0203281302490.13323@hymn08.u.washington.edu>

I am completely new to R, but have some bg in cs and stat.

since R has an interactive programming environment, I thought I could write my command in a file and run it in batch mode in the Rgui. but it didnt work. I checked the doc. it said Rcmd BATCH inputfile. it didnt work either. 

Can someone help? thank you. thank you.

also if you can shed some light on passing command line arguements (like mybatchfile arg1 arg2), I would appreciate it!!

Lei

Department of Chemsitry
University of Washington
Box 351700
Seattle, WA 98195
Phone: 206-543-4153
Fax: 206-685-8665








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Mar 28 22:58:09 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 29 Mar 2002 09:58:09 +1200
Subject: [R] how to run .r batch file
References: <Pine.LNX.4.43.0203281302490.13323@hymn08.u.washington.edu>
Message-ID: <004001c1d6a3$a6e65210$ea2b56d2@n1bliarfyrd5b7>

Hi,

----- Original Message -----
From: <lj22 at u.washington.edu>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, March 29, 2002 9:02 AM
Subject: [R] how to run .r batch file


> I am completely new to R, but have some bg in cs and stat.
>
> since R has an interactive programming environment, I thought I could
write my command in a file and run it in batch mode in the Rgui. but it
didnt work. I checked the doc. it said Rcmd BATCH inputfile. it didnt work
either.

1) It does work.

2) How did you do it?  You need to run:
        Rcmd BATCH source.R
    (where source.R is your input file) in DOS-prompt, or CygWin.  But you
must make sure the $R_HOME\bin directory is under your PATH.

3) When you say it didn't work, what are the error message

> also if you can shed some light on passing command line arguements (like
mybatchfile arg1 arg2), I would appreciate it!!

Not sure what you mean here.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Mar 28 23:54:40 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 28 Mar 2002 17:54:40 -0500
Subject: [R] Summary: Vectorizing closest match
Message-ID: <20020328175440.1e814050.fharrell@virginia.edu>

The original problem I posed was

Let

 x = real vector of length n
 y = real vector of length n
 w = real vector of length m, m typically less than n/2 but can be > n
 z = real vector of length m

 For w[i], i=1,,,m, find the value of x that is closest to w[i].  In the
 case of ties, select one (optimally at random or just take the first
 match).  Let z[i] = value of y corresponding to the closest x.

I received several helpful replies.  Peter Dalgaard suggested the use of approx.  approx always amazes me.  To return the index of the closest match you can use round(approx(x,1:length(x),xout=w,rule=2,ties='ordered')$y)
For S-Plus just remove ties=.

David James suggested using cut.  I adapted his code and speeded it up as he suggested, by going right to the .C call in cut.default (set global variable .R. to TRUE for R, FALSE for S-Plus):

whichClosest <- function(x, w) {
  ## x: vector of reference values
  ## w: vector of values to find closest matches in x
  ## Returns: subscripts in x corresponding to w
  i <- order(x)
  x <- x[i]
  n <- length(x)
  br <- c(-1e30, x[-n]+diff(x)/2,1e30)
  m <- length(w)
  if(.R.) i[.C("bincode", as.double(w), m, as.double(br),
               length(br), code = integer(m), right = TRUE, 
               include = FALSE, NAOK = TRUE, DUP = FALSE, 
               PACKAGE = "base")$code] else
  i[.C("S_binning3", x=as.double(w), m, as.double(br),
       length(br), 0, 0, TRUE, TRUE)$x]  # For S-Plus
}

Note that for large n, cut.default is extremely slow.

Thomas Lumley had a nice approach using a new function findInterval.  All three approaches are extremely fast.  The main difference between approx and the cut approach is where ties are shuffled.  I plan to use approx.  To randomize choices in case of ties one can jitter the x vector.

Thanks again all,

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexfadigas at yahoo.com  Fri Mar 29 00:34:06 2002
From: alexfadigas at yahoo.com (Alexandre F. Souza)
Date: Thu, 28 Mar 2002 15:34:06 -0800 (PST)
Subject: [R] Is it possible to do Ripley's K and L functions analysis with R?
Message-ID: <20020328233406.87586.qmail@web10504.mail.yahoo.com>

Dear friends,

   I am studying the spatial distribution of trees in
a tropical swamp forest in Brazil, and the spatial
association between the trees and other forest and non
forest elements. These are point pattern analysis of
mapped data, preferentially done with the L function
of Ripley.
   I have recently discovererd the R-project and would
like to know whether it is possible to do these
analysis with the R environment. I would also like to
know if the R language is user-friendly, since I do
not have almost any experience with programming and
have to carry out a lot of extra field work.

   Sincerely,

=====
Alexandre F. Souza
Programa de Pós-Graduação em Ecologia
Departamento de Botânica/IB
Universidade Estadual de Campinas
Campinas, SP
Brasil

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 29 00:55:27 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Mar 2002 00:55:27 +0100
Subject: [R] Is it possible to do Ripley's K and L functions analysis with R?
In-Reply-To: <20020328233406.87586.qmail@web10504.mail.yahoo.com>
References: <20020328233406.87586.qmail@web10504.mail.yahoo.com>
Message-ID: <x2bsd8b634.fsf@blueberry.kubism.ku.dk>

"Alexandre F. Souza" <alexfadigas at yahoo.com> writes:

> Dear friends,
> 
>    I am studying the spatial distribution of trees in
> a tropical swamp forest in Brazil, and the spatial
> association between the trees and other forest and non
> forest elements. These are point pattern analysis of
> mapped data, preferentially done with the L function
> of Ripley.
>    I have recently discovererd the R-project and would
> like to know whether it is possible to do these
> analysis with the R environment. I would also like to
> know if the R language is user-friendly, since I do
> not have almost any experience with programming and
> have to carry out a lot of extra field work.

library(spatial)
help(Kfn)
example(Kfn)

Whether R is user-friendly depends on the user... It does often have
the advantage of actually being able to do what people need. If you
can follow some simple examples, like those on the help pages, and
do the relevant substitutions and modifications for your own problems,
then you're basically set. There is a syntax that you have to follow,
and some associated fault-finding when you type something wrong, but
you can get quite far without actual programming. It's something that
is there for you when you need it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Mar 29 01:13:16 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 29 Mar 2002 12:13:16 +1200
Subject: [R] how to run .r batch file
References: <Pine.LNX.4.43.0203281608590.24051@hymn08.u.washington.edu>
Message-ID: <002201c1d6b6$86a24d20$2a6e36d2@n1bliarfyrd5b7>


----- Original Message -----
From: <lj22 at u.washington.edu>
To: "Ko-Kang Kevin Wang" <Ko-Kang at xtra.co.nz>
Sent: Friday, March 29, 2002 12:08 PM
Subject: Re: [R] how to run .r batch file


> > That is the problem.  You can't run it under RGui.  You should do it in
> > command line mode, i.e. in DOS prompt under Windows (Start -> Run... ->
cmd)
> Well, I did try that. but it didnt work. It said
> 'Rcmd' is not recognized as an internal or external command
> operable program or batch file.
>
> I did set up the path. I can run Rterm from anywhere in DOS. if you go
into the R\bin\ directory. there's no executable for "Rcmd". it's not
surprising that it wont run under dos.
>
> so what's the problem here.

How did you install R?  Which version of R are you running?  I do not know
why Rcmd is not in the R\bin directory, you might want to consider
resintalling (the latest version) R.

By the way it is a good idea to cc your follow-up questions to r-help.
There is a chance that someone else had encountered the same problem before
and can tell you straight away what is wrong.

Cheers,

Ko-Kang



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Mar 29 01:14:32 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 28 Mar 2002 19:14:32 -0500
Subject: [R] Output from examples in help files
Message-ID: <20020328191432.1796ffab.fharrell@virginia.edu>

I have a large number of troff help files which are automatically converted to .Rd files.  Many of these have examples which contain the printed output of the examples.  This makes example(functionname) not work.  Is there a way to avoid removing all this output by delimiting it in some way such that the output will not appear in R-ex?  Secondly, it would be nice if there was a place where output would be placed so that users could check results on different platforms or after upgrading a package.

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Mar 29 01:27:29 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 28 Mar 2002 16:27:29 -0800 (PST)
Subject: [R] Is it possible to do Ripley's K and L functions analysis
 with R?
In-Reply-To: <20020328233406.87586.qmail@web10504.mail.yahoo.com>
Message-ID: <Pine.GSO.4.10.10203281626220.16052-100000@fisher.stat.ucla.edu>

Look at

library(help = splancs)

and

library(splancs)

to actually load the library.

I've found the splancs library to be extremely useful when doing analysis
of spatial point patterns

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 28 Mar 2002, Alexandre F. Souza wrote:

> Dear friends,
> 
>    I am studying the spatial distribution of trees in
> a tropical swamp forest in Brazil, and the spatial
> association between the trees and other forest and non
> forest elements. These are point pattern analysis of
> mapped data, preferentially done with the L function
> of Ripley.
>    I have recently discovererd the R-project and would
> like to know whether it is possible to do these
> analysis with the R environment. I would also like to
> know if the R language is user-friendly, since I do
> not have almost any experience with programming and
> have to carry out a lot of extra field work.
> 
>    Sincerely,
> 
> =====
> Alexandre F. Souza
> Programa de Pós-Graduação em Ecologia
> Departamento de Botânica/IB
> Universidade Estadual de Campinas
> Campinas, SP
> Brasil
> 
> __________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Mar 29 01:36:15 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 29 Mar 2002 01:36:15 +0100
Subject: [R] system in windows
Message-ID: <3CA3B6FF.A71DE07E@univie.ac.at>

i want to call
"c:/Program Files/Netscape/Communicator/Program/netscape.exe"
with system
but
system("c:/Program Files/Netscape/Communicator/Program/netscape.exe")
does not work because of the blank.

system('"c:/Program
Files/Netscape/Communicator/Program/netscape.exe"',wait=FALSE)
works exactly like i want.

when i set
options(browser="c:/Program
Files/Netscape/Communicator/Program/netscape.exe")

how can i manipulate the result of
getOption("browser")

so that i get a string which will work with the system command?





--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Fri Mar 29 01:41:06 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Thu, 28 Mar 2002 16:41:06 -0800
Subject: [R] wierd expression
Message-ID: <3CA3B821.DED56A7A@lbl.gov>

I apologize a priori if this is too basic.

For my defense, I claim and assert I am reading the manuals. 

I have found this expression 

ab = double(length(a) + length(b) - 1))$ab

in "writing R extensions".

ab is supposed to be a vector ( it is not a list ).

What does the last expression do?

Thank you for you patience.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 29 02:12:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 28 Mar 2002 17:12:49 -0800 (PST)
Subject: [R] wierd expression
In-Reply-To: <3CA3B821.DED56A7A@lbl.gov>
Message-ID: <Pine.A41.4.44.0203281710400.82942-100000@homer37.u.washington.edu>

On Thu, 28 Mar 2002, Francisco J Molina wrote:

> I apologize a priori if this is too basic.
>
> For my defense, I claim and assert I am reading the manuals.
>
> I have found this expression
>
> ab = double(length(a) + length(b) - 1))$ab
>
> in "writing R extensions".
>
> ab is supposed to be a vector ( it is not a list ).
>
> What does the last expression do?

Actually, you found the expression
  .C("convolve",
     as.double(a),
     as.integer(length(a)),
     as.double(b),
     as.integer(length(b)),
     ab = double(length(a) + length(b) - 1))$ab
and quoted the last line of it.

The expression calls a C function and passes 5 arguments to it. It
receives back a list of the new values of those 5 arguments and extracts
the $ab component of the list.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 02:48:19 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 28 Mar 2002 20:48:19 -0500
Subject: [R] use of expand.model.frame
Message-ID: <5.1.0.14.2.20020328203342.01d4e888@pop>

Dear R-help list members,

I'm encountering problems using expand.model.frame. To illustrate, consider 
the function

     > test <- function(model){
     +     expand.model.frame(model, "income")
     +     }
     >

The data frame Prestige (from the car library) has several variables, 
including prestige, income and education. I've attached this data frame

     > search()
     [1] ".GlobalEnv"      "Prestige"        "package:lattice" 
"package:grid"    "package:car"     "package:ctest"
     [7] "Autoloads"       "package:base"
     >

and fit the following model

     > mod.1 <- lm(prestige ~ (log(income) + education)*type)
     >

 From the documentation for expand.model.frame, the default environment in 
which "things" are evaluated is environment(formula(model)), where model is 
the first argument to expand.model frame; in this case

     > environment(formula(mod.1))
     <environment: R_GlobalEnv>
     >

When I call the test function with mod.1, however, I get the following error:

     > test(mod.1)
     Error in eval(expr, envir, enclos) : Object "prestige" not found
     >

But if I fit the same model specifying the data argument to lm as Prestige, 
then test works,

     > mod.2 <- lm(prestige ~ (log(income) + education)*type, data=Prestige)
     > test(mod.2)
                             prestige log(income) education type income
     GOV.ADMINISTRATORS            68.8    9.421492     13.11 prof  12351
     GENERAL.MANAGERS              69.1   10.161187     12.26 prof  25879
     ACCOUNTANTS                   63.4    9.134647     12.77 prof   9271
     . . .
     TYPESETTERS                   42.2    8.773694     10.00   bc   6462
     BOOKBINDERS                   35.2    8.193400      8.55   bc   3617
     >

even though

     > environment(formula(mod.2))
     <environment: R_GlobalEnv>
     >

that is, still the global environment.

Obviously, I'm not thinking correctly about the scoping issue.

What I need is a version of test that works in both cases -- whether or not 
the data argument is specified to lm. (Of course, I need to use the 
expanded model frame as part of a more complicated function.)

I'm running R version 1.4.1 under Windows 2000.

Any help would be greatly appreciated.

John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at uniandes.edu.co  Fri Mar 29 02:56:52 2002
From: iperez at uniandes.edu.co (Ignacio =?iso-8859-1?Q?P=E9rez?=)
Date: Thu, 28 Mar 2002 20:56:52 -0500
Subject: [R] R crashes with some characters.
Message-ID: <5.1.0.14.0.20020328205643.00a47c60@zeus.uniandes.edu.co>

Hi to all!

Thank you for my previous question on how to make Tcl work. I did as 
suggested and it works now.

I still have a problem when inputing special characters: I have a table 
with a column labeld A?o (year in Spanish). I did as suggested on the FAQ 
for Windows, I downloaded msvcrt.dll and then copied it to the R/bin 
directory (By the way I also tried copying in the Windows/system directory) 
but the problem is still there. Any ideas?.

Of course it would be simpler just to relabel the variable, but I just 
would like to fix things.

Thank you

Ignacio Perez 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Fri Mar 29 03:07:36 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Thu, 28 Mar 2002 18:07:36 -0800 (PST)
Subject: [R] memory error with rpart()
Message-ID: <Pine.GSO.4.33.0203281806300.7734-100000@saga10.Stanford.EDU>


Dear all,

I have a 100 iteration loop. Within each loop, there are some calls
to rpart() like:

ctl <- rpart.control(maxcompete=0, maxsurrogate=0, maxdepth=10)
temp <- rpart(y~., x, w=wt, method="class", parms=list(split="gini"),
control=ctl)
res <- log(predict.rpart(temp, type="prob"))
newres <- log(predict.rpart(temp, newdata=newx, type="prob"))

The code runs fine for the first 30-60 iterations, then gives me the
following error message and crashes:

The instruction at "0x112b4143" referenced memory at "0x00000000".
The memory could not be "read".

Could anyone give me some hint about what this error message implies?
Thanks a lot!

I'm using R1.4.1 on Windows2000.

-Ji Zhu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Fri Mar 29 03:07:36 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Thu, 28 Mar 2002 18:07:36 -0800 (PST)
Subject: [R] memory error with rpart()
Message-ID: <Pine.GSO.4.33.0203281806300.7734-100000@saga10.Stanford.EDU>


Dear all,

I have a 100 iteration loop. Within each loop, there are some calls
to rpart() like:

ctl <- rpart.control(maxcompete=0, maxsurrogate=0, maxdepth=10)
temp <- rpart(y~., x, w=wt, method="class", parms=list(split="gini"),
control=ctl)
res <- log(predict.rpart(temp, type="prob"))
newres <- log(predict.rpart(temp, newdata=newx, type="prob"))

The code runs fine for the first 30-60 iterations, then gives me the
following error message and crashes:

The instruction at "0x112b4143" referenced memory at "0x00000000".
The memory could not be "read".

Could anyone give me some hint about what this error message implies?
Thanks a lot!

I'm using R1.4.1 on Windows2000.

-Ji Zhu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Fri Mar 29 04:07:54 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Thu, 28 Mar 2002 19:07:54 -0800 (PST)
Subject: [R] memory error with rpart()
In-Reply-To: <Pine.GSO.4.33.0203281806300.7734-100000@saga10.Stanford.EDU>
Message-ID: <Pine.GSO.4.33.0203281906470.8629-100000@saga10.Stanford.EDU>


I've figured it out.  When there is a "pure" terminal
node, the predict.rpart(type="prob") gives a probability
estimate 0, and the log() gives a NaN.  Then in the next
iteration, the memory error occurs.

Thanks to all!




>
> Dear all,
>
> I have a 100 iteration loop. Within each loop, there are some calls
> to rpart() like:
>
> ctl <- rpart.control(maxcompete=0, maxsurrogate=0, maxdepth=10)
> temp <- rpart(y~., x, w=wt, method="class", parms=list(split="gini"),
> control=ctl)
> res <- log(predict.rpart(temp, type="prob"))
> newres <- log(predict.rpart(temp, newdata=newx, type="prob"))
>
> The code runs fine for the first 30-60 iterations, then gives me the
> following error message and crashes:
>
> The instruction at "0x112b4143" referenced memory at "0x00000000".
> The memory could not be "read".
>
> Could anyone give me some hint about what this error message implies?
> Thanks a lot!
>
> I'm using R1.4.1 on Windows2000.
>
> -Ji Zhu
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Fri Mar 29 04:07:54 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Thu, 28 Mar 2002 19:07:54 -0800 (PST)
Subject: [R] memory error with rpart()
In-Reply-To: <Pine.GSO.4.33.0203281806300.7734-100000@saga10.Stanford.EDU>
Message-ID: <Pine.GSO.4.33.0203281906470.8629-100000@saga10.Stanford.EDU>


I've figured it out.  When there is a "pure" terminal
node, the predict.rpart(type="prob") gives a probability
estimate 0, and the log() gives a NaN.  Then in the next
iteration, the memory error occurs.

Thanks to all!




>
> Dear all,
>
> I have a 100 iteration loop. Within each loop, there are some calls
> to rpart() like:
>
> ctl <- rpart.control(maxcompete=0, maxsurrogate=0, maxdepth=10)
> temp <- rpart(y~., x, w=wt, method="class", parms=list(split="gini"),
> control=ctl)
> res <- log(predict.rpart(temp, type="prob"))
> newres <- log(predict.rpart(temp, newdata=newx, type="prob"))
>
> The code runs fine for the first 30-60 iterations, then gives me the
> following error message and crashes:
>
> The instruction at "0x112b4143" referenced memory at "0x00000000".
> The memory could not be "read".
>
> Could anyone give me some hint about what this error message implies?
> Thanks a lot!
>
> I'm using R1.4.1 on Windows2000.
>
> -Ji Zhu
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 04:36:03 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 28 Mar 2002 22:36:03 -0500
Subject: [R] Output from examples in help files
In-Reply-To: <20020328191432.1796ffab.fharrell@virginia.edu>
Message-ID: <5.1.0.14.2.20020328223037.01d4e9c0@pop>

Dear Frank,

At 07:14 PM 3/28/2002 -0500, Frank E Harrell Jr wrote:
>I have a large number of troff help files which are automatically 
>converted to .Rd files.  Many of these have examples which contain the 
>printed output of the examples.  This makes example(functionname) not 
>work.  Is there a way to avoid removing all this output by delimiting it 
>in some way such that the output will not appear in R-ex?  Secondly, it 
>would be nice if there was a place where output would be placed so that 
>users could check results on different platforms or after upgrading a package.

I've noticed that in many cases output in help-file examples is simply 
commented out, and I've followed this practice myself; for example:

     \examples{
     data(Kmenta)
     summary(tsls(Q ~ P + D, ~ D + F + A, data=Kmenta))     # demand equation

     ##  2SLS Estimates
     ##
     ##  Model Formula: Q ~ P + D
     ##
     ##  Instruments: ~D + F + A
     ##
     ##  Residuals:
     ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
     ##  -3.43e+00 -1.24e+00 -1.89e-01 -2.49e-13  1.58e+00  2.49e+00
     ##
     ##              Estimate Std. Error t value  Pr(>|t|)
     ##  (Intercept)  94.6333    7.92084  11.947 1.076e-09
     ##  P            -0.2436    0.09648  -2.524 2.183e-02
     ##  D             0.3140    0.04694   6.689 3.811e-06
     ##
     ##  Residual standard error: 1.9663 on 17 degrees of freedom

     . . .

     }

Of course, you'll probably have to add the #'s manually. (I agree that it 
would be nice if output were handled explicitly in .Rd files.)

I hope that this helps,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Fri Mar 29 04:37:34 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Thu, 28 Mar 2002 22:37:34 -0500
Subject: [R] system in windows
In-Reply-To: <3CA3B6FF.A71DE07E@univie.ac.at>
Message-ID: <3CA39B2E.1873.94A2F6@localhost>

On my Windows 2000 system running R 1.4.1 
the following R command:

   shell("start netscp6")

launches Netscape.   Also this R command:

   shell("start iexpore")

launches Internet Explorer.


On 29 Mar 2002 at 1:36, Erich Neuwirth wrote:

> i want to call
> "c:/Program Files/Netscape/Communicator/Program/netscape.exe"
> with system
> but
> system("c:/Program Files/Netscape/Communicator/Program/netscape.exe")
> does not work because of the blank.
> 
> system('"c:/Program
> Files/Netscape/Communicator/Program/netscape.exe"',wait=FALSE)
> works exactly like i want.
> 
> when i set
> options(browser="c:/Program
> Files/Netscape/Communicator/Program/netscape.exe")
> 
> how can i manipulate the result of
> getOption("browser")
> 
> so that i get a string which will work with the system command?
> 
> 
> 
> 
> 
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwen10 at hotmail.com  Fri Mar 29 06:54:35 2002
From: cwen10 at hotmail.com (Chris Wen)
Date: Fri, 29 Mar 2002 13:54:35 +0800
Subject: No subject
Message-ID: <F989IUxZVCPcpbCEyEp00023b7e@hotmail.com>

Hi,

I am a newbie of R...

What does the following message mean when I tried running a summary() on a 
dataset?

Warning message:
Integer overflow in sum(.); use sum(as.numeric(.))

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 07:18:47 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Mar 2002 06:18:47 +0000 (GMT)
Subject: [R] R crashes with some characters.
In-Reply-To: <5.1.0.14.0.20020328205643.00a47c60@zeus.uniandes.edu.co>
Message-ID: <Pine.GSO.4.44.0203290616430.9066-100000@auk.stats>

On Thu, 28 Mar 2002, Ignacio [iso-8859-1] Pérez wrote:

> Hi to all!
>
> Thank you for my previous question on how to make Tcl work. I did as
> suggested and it works now.
>
> I still have a problem when inputing special characters: I have a table
> with a column labeld Año (year in Spanish). I did as suggested on the FAQ
> for Windows, I downloaded msvcrt.dll and then copied it to the R/bin
> directory (By the way I also tried copying in the Windows/system directory)
> but the problem is still there. Any ideas?.

In all cases we have seen it is msvcrt.dll which crashes, not R per se.

> Of course it would be simpler just to relabel the variable, but I just
> would like to fix things.

So would we, so please tell us how to repair Microsoft's code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 07:57:53 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Mar 2002 06:57:53 +0000 (GMT)
Subject: [R] Re: your mail on `Integer overflow in sum(.)'
In-Reply-To: <F989IUxZVCPcpbCEyEp00023b7e@hotmail.com>
Message-ID: <Pine.GSO.4.44.0203290655230.9066-100000@auk.stats>

On Fri, 29 Mar 2002, Chris Wen wrote:

> Hi,
>
> I am a newbie of R...
>
> What does the following message mean when I tried running a summary() on a
> dataset?
>
> Warning message:
> Integer overflow in sum(.); use sum(as.numeric(.))

It means that you are taking the mean of some very large integers, and
the calculation is overflowing.  It is just a warning.

This will not happen in the next release of R.

Please use a subject when posting to a list.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 08:02:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Mar 2002 07:02:54 +0000 (GMT)
Subject: [R] Output from examples in help files
In-Reply-To: <5.1.0.14.2.20020328223037.01d4e9c0@pop>
Message-ID: <Pine.GSO.4.44.0203290658290.9066-100000@auk.stats>

On Thu, 28 Mar 2002, John Fox wrote:

> Dear Frank,
>
> At 07:14 PM 3/28/2002 -0500, Frank E Harrell Jr wrote:
> >I have a large number of troff help files which are automatically
> >converted to .Rd files.  Many of these have examples which contain the
> >printed output of the examples.  This makes example(functionname) not
> >work.  Is there a way to avoid removing all this output by delimiting it
> >in some way such that the output will not appear in R-ex?  Secondly, it
> >would be nice if there was a place where output would be placed so that
> >users could check results on different platforms or after upgrading a package.
>
> I've noticed that in many cases output in help-file examples is simply
> commented out, and I've followed this practice myself; for example:

It is better to use \dontrun{} to do this. (That did not exist when a lot
of the examples you are seeing were prepared.)

>      \examples{
>      data(Kmenta)
>      summary(tsls(Q ~ P + D, ~ D + F + A, data=Kmenta))     # demand equation
>
>      ##  2SLS Estimates
>      ##
>      ##  Model Formula: Q ~ P + D
>      ##
>      ##  Instruments: ~D + F + A
>      ##
>      ##  Residuals:
>      ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
>      ##  -3.43e+00 -1.24e+00 -1.89e-01 -2.49e-13  1.58e+00  2.49e+00
>      ##
>      ##              Estimate Std. Error t value  Pr(>|t|)
>      ##  (Intercept)  94.6333    7.92084  11.947 1.076e-09
>      ##  P            -0.2436    0.09648  -2.524 2.183e-02
>      ##  D             0.3140    0.04694   6.689 3.811e-06
>      ##
>      ##  Residual standard error: 1.9663 on 17 degrees of freedom
>
>      . . .
>
>      }
>
> Of course, you'll probably have to add the #'s manually. (I agree that it
> would be nice if output were handled explicitly in .Rd files.)

To do that needs much more markup, including have separate \example{}
sections inside \examples{}.

A much better way to achieve `users could check results on different
platforms or after upgrading' is to use a tests directory in the package,
which R CMD check will run and compare the results to the reference output.
See e.g. rpart and nlme for examples.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri Mar 29 10:18:15 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 29 Mar 2002 09:18:15 +0000
Subject: [R] color key with xyplot
References: <20020328191102.75995.qmail@web13904.mail.yahoo.com>
Message-ID: <3CA43157.E9B4EBE7@sentoo.sn>

Deepayan Sarkar wrote:
> 
> Do you mean a colorkey as is usually drawn in levelplot (and not key) ?
> xyplot is not designed to draw color keys directly. You could use the key
> argument to xyplot to emulate it somewhat
> (something like key = list(rect = list(col = 1:7), space = "right"))

Yes, that's what I did as a workaround. But I use xyplot to draw
geographic maps (conditionally on season and other covariates) with many
polygons, color of which is used to represent the continuous variable of
interest. I thought a color key, just like in levelplot, would be easier
to handle than the regular key.

> Alternately, you could modify the object produced by xyplot to add a colorkey
> component, which would be enough to fool print.trellis:
> 
> foo <- xyplot(<whatever>)
> foo$colorkey <- list(col = 1:7,  at = 1:8, tick.number = 10)
> print(foo)

It works great: it is exactly what I needed.

Thank you very much for your help,

Renaud

> --- Renaud Lancelot <lancelot at sentoo.sn> wrote:
> > Dear all,
> >
> > I'd like to draw a color key beside a graph drawn with xyplot (lattice
> > library). I am aware of the draw.colorkey function (grid library) but
> > don't know how to handle it. Any hint would be appreciated.
> >
> > Renaud
> 
> __________________________________________________
> Do You Yahoo!?

> http://movies.yahoo.com/

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri Mar 29 12:09:03 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 29 Mar 2002 23:09:03 +1200 (NZST)
Subject: [R] order()
Message-ID: <Pine.SOL.4.21.0203292306180.25765-100000@stat1.stat.auckland.ac.nz>

Hi,

In the order() help file, there is an example like:
     a <- c(4, 3, 2, NA, 1)
     b <- c(4, NA, 2, 7, 1)
     z <- cbind(a, b)
     (o <- order(a, b)); z[o, ]

How can I do something like "order a in ascending order, b in descending
order"?  And say I have a third vector c, and I'd like to add this to the
previous condition "a ascending, b descending, c descending".  How can I
do this?

Thanks,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 12:23:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 29 Mar 2002 11:23:40 +0000 (GMT)
Subject: [R] order()
In-Reply-To: <Pine.SOL.4.21.0203292306180.25765-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0203291119120.4331-100000@gannet.stats>

On Fri, 29 Mar 2002, Ko-Kang Kevin Wang wrote:

> Hi,
>
> In the order() help file, there is an example like:
>      a <- c(4, 3, 2, NA, 1)
>      b <- c(4, NA, 2, 7, 1)
>      z <- cbind(a, b)
>      (o <- order(a, b)); z[o, ]
>
> How can I do something like "order a in ascending order, b in descending
> order"?  And say I have a third vector c, and I'd like to add this to the

What order does is to use lexicopgraphic order, that is order by a, break
ties by b.  As from 1.5.0 it will allow decreasing ordering, but for all
columns.

> previous condition "a ascending, b descending, c descending".  How can I
> do this?

Only (at all easily) by arranging b and c to be in reverse order, for
examply by using -b if b is numeric.  And you can easily do this, since

order(a, b) = order(rank(a), rank(b))

so in your example use

order(a, -rank(b), -rank(c))

I'd be intrigued to know why you want this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri Mar 29 13:48:39 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 29 Mar 2002 07:48:39 -0500
Subject: [R] how to run .r batch file
Message-ID: <3co8au8htqjva9e4bles12i3p4enp3qphq@4ax.com>

You don't get Rcmd installed unless you check the "Source package
installation files" option when running SetupR.

The "Introduction to R" manual explains the 3 ways to run R in
Windows.  Rgui is the windowed version, Rterm is the command line
version, and Rcmd is a wrapper that calls Rterm.  I'd suggest that you
just use Rterm:

  Rterm --vanilla <myfile.R >myfile.out

will do what you want.  

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 14:17:53 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 29 Mar 2002 08:17:53 -0500
Subject: [R] Output from examples in help files
In-Reply-To: <Pine.GSO.4.44.0203290658290.9066-100000@auk.stats>
References: <5.1.0.14.2.20020328223037.01d4e9c0@pop>
Message-ID: <5.1.0.14.2.20020329080714.01d4eb80@pop>

Dear Brian,

At 07:02 AM 3/29/2002 +0000, Prof Brian D Ripley wrote:
>On Thu, 28 Mar 2002, John Fox wrote:
>
> > At 07:14 PM 3/28/2002 -0500, Frank E Harrell Jr wrote:
> > >I have a large number of troff help files which are automatically
> > >converted to .Rd files.  Many of these have examples which contain the
> > >printed output of the examples.  This makes example(functionname) not
> > >work.  Is there a way to avoid removing all this output by delimiting it
> > >in some way such that the output will not appear in R-ex?  Secondly, it
> > >would be nice if there was a place where output would be placed so that
> > >users could check results on different platforms or after upgrading a 
> package.
> >
> > I've noticed that in many cases output in help-file examples is simply
> > commented out, and I've followed this practice myself; for example:
>
>It is better to use \dontrun{} to do this. (That did not exist when a lot
>of the examples you are seeing were prepared.)

Unless I've missed something, the problem with using \dontrun{} for all of 
the examples (assuming that all show output) is that none of the examples 
would be run. As well, with the output not differentiated visually from the 
input, it might be hard for the reader to distinguish the two.

> >
> > Of course, you'll probably have to add the #'s manually. (I agree that it
> > would be nice if output were handled explicitly in .Rd files.)
>
>To do that needs much more markup, including have separate \example{}
>sections inside \examples{}.

I personally wouldn't find it onerous to put output within something like 
\example{} or \output{} -- it would be less work than adding #'s.

>A much better way to achieve `users could check results on different
>platforms or after upgrading' is to use a tests directory in the package,
>which R CMD check will run and compare the results to the reference output.
>See e.g. rpart and nlme for examples.

I agree that this is better for checking that the package is functioning 
properly. When I read help pages, however, I find that I often copy 
examples and paste them at the command prompt to see the result. Having the 
output in the help file would make this unnecessary. Not a large point, of 
course. In general, I find the package-building tools, including for 
documentation, very well thought out.

Thanks,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emami at knmi.nl  Fri Mar 29 15:18:46 2002
From: emami at knmi.nl (Nader Emami)
Date: Fri, 29 Mar 2002 14:18:46 +0000
Subject: [R] mse
Message-ID: <3CA477C6.ACDDDECD@knmi.nl>

Dear all,

I dont know where I can find the 'Mean Square Error" function?  Any hint
would be appreciated.

Best Regards

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas_l_arnold at yahoo.com  Fri Mar 29 14:58:45 2002
From: thomas_l_arnold at yahoo.com (Tom Arnold)
Date: Fri, 29 Mar 2002 05:58:45 -0800 (PST)
Subject: [R] Newbie struggling with "factors"
Message-ID: <20020329135845.29556.qmail@web21006.mail.yahoo.com>

I am processing some survey results, and my data are
being read in as "factors". I don't know how to
process these things in any way.

To start with, several of the survey questions are
mulit-choice check boxes on the original (web-based)
survey, as in "check all that apply".

These are encoded as numbers. For example, if the
survey has a question:
Which operating systems have you used? (Check all that
apply)
[ ]Windows
[ ]Macinotsh
[ ]Unix

...then the data exported for three different
responses might look like
;1;
;1,3;
;1,2,3;

...where ";" is the field delimiter. 
I use read.table to get the data in. I read all the
survey data into a table "n" and the field above is
called "OSUSE". When I query R about the field, it
tells me it is class "factor"

> class(n$OSUSE)
[1] "factor"
> mode(n$OSUSE)
[1] "numeric"

I'd like to be able to do some simple things like:
what is the most common item checked (1, 2, or 3?)
What is the average number of boxes checked?

But I can't find any way to manipulate this "factor"
field. What's the secret?

Thanks.

=====
Tom Arnold
Summit Media Partners
Visit our web site at http://www.summitmediapartners.com

__________________________________________________

Yahoo! Greetings - send holiday greetings for Easter, Passover

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Mar 29 15:09:14 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 29 Mar 2002 09:09:14 -0500
Subject: running example() (was RE: [R] Output from examples in help
 files	)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC178@usrymx10.merck.com>

Dear R-help,

Reading this thread reminds me of a minor nuisance I have.
When running example(), objects are created in the global
environment.  This is OK if I then wanted to look that
those objects a bit more.  However, it does clutter up
the workspace with a bunch of things not really relevant
to the project I'm working on.  Does anyone have a good
solution for cleaning up?  TIA!

Regards,
Andy

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Mar 29 15:11:06 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 29 Mar 2002 15:11:06 +0100
Subject: [R] system in windows
References: <3CA39B2E.1873.94A2F6@localhost>
Message-ID: <3CA475FA.8F7440BE@univie.ac.at>

the problem is that i am not sure of the start
shell("start netscp6")
mechanism
works on all win32 platforms.
the "start" feature might be a property of later versons of win32.
the system(...) might have better chances of working on
all win32 platforms.





ggrothendieck at yifan.net wrote:
> 
> On my Windows 2000 system running R 1.4.1
> the following R command:
> 
>    shell("start netscp6")
> 
> launches Netscape.   Also this R command:
> 
>    shell("start iexpore")
> 
> launches Internet Explorer.
> 
> On 29 Mar 2002 at 1:36, Erich Neuwirth wrote:
> 
> > i want to call
> > "c:/Program Files/Netscape/Communicator/Program/netscape.exe"
> > with system
> > but
> > system("c:/Program Files/Netscape/Communicator/Program/netscape.exe")
> > does not work because of the blank.
> >
> > system('"c:/Program
> > Files/Netscape/Communicator/Program/netscape.exe"',wait=FALSE)
> > works exactly like i want.
> >
> > when i set
> > options(browser="c:/Program
> > Files/Netscape/Communicator/Program/netscape.exe")
> >
> > how can i manipulate the result of
> > getOption("browser")
> >
> > so that i get a string which will work with the system command?
> >
> >
> >
> >
> >
> > --
> > Erich Neuwirth, Computer Supported Didactics Working Group
> > Visit our SunSITE at http://sunsite.univie.ac.at
> > Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shawnhornsby at netzero.net  Fri Mar 29 15:37:02 2002
From: shawnhornsby at netzero.net (Shawn Hornsby)
Date: Fri, 29 Mar 2002 09:37:02 -0500
Subject: [R] Error with nls
In-Reply-To: <Pine.SOL.4.21.0203281919060.18619-100000@sun11.ukl.uni-freiburg.de>
Message-ID: <000c01c1d72f$3113cae0$6401a8c0@neubr.client2.attbi.com>

Dear Dominik,

It has been in my experience that with global variables sometimes it has to
be defined and initialized within the local module before the variables can
use to manipulate data from another source.

Something else came to mind with function g(t), there are times when the
space causes the operation to be read incorrectly, and it see it as, do "g"
then do "t" and not, do function g(t).

When combining modules sometimes you may have to check each module manually
to make sure that it's algorithm routine is functioning correctly. I have
been told some time ago by a wise person, do the mathematical operation
manually then, use a calculator, then, use a spreadsheet and finally enter
it into you code. Here is where you will have additional references to check
you result(s). Give it a try and let me know how you made out...

Regards,
Shawn

-----Original Message-----
From: 1-27206531-0-90000491 [mailto:domi at sun11.ukl.uni-freiburg.de]
Sent: Thursday, March 28, 2002 1:27 PM
To: Shawn Hornsby
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] Error with nls




On Wed, 27 Mar 2002, Shawn Hornsby wrote:

> Dear Kind,
>
> I would like to let you know up front that I am not a mathematician nor do
I
> want to insult you or your intelligence. I am a humble person of simple
> education and means and I am offering a suggestion, you may have already
> resolved this issue. Here are my suggestions:
>
> In the expression, db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h, I notice
that
> function g(t) is not explicitly defined as an expression. I do see you
make
> reference to it in, assuming that g(t) has the functional form: b4i +
> (b40-b4i)*exp(-k4*t), maybe this is the expression and I am overlooking
it.
> While, I continued to examine the function g(t), I saw no explicit
> definition of variables b40, b4i, k4, and t. They are shown to be part of
> the equation but they are not explicitly defined with values.

In the origin, it was a compartment model with 6 compartments. Data was
available for every compartment. But of scientific interest are specially
the last 2 compartments, #5 and #6. The function g(t) is the approach to
fill compartment  5 via a forcing function. The parameters b4i and b40 and
k4 results from a fit of compartment 4. In my model of compartment 5 and 6
the parameters b40, b4i and k4 are like time constant covariables.

>
> Again, I am hoping my observation spark an idea that would lead you to
your
> resolve.
>
> If there is someone in the R-Project that has already helped Kind, I would
> like to thank you.
>
> Regards,
> Shawn
>
> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
> 1-27206531-0-90000491
> Sent: Wednesday, March 27, 2002 4:48 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Error with nls
>
>
>  Dear R-group members,
>
>  I use:
>
>  platform i386-pc-mingw32
>  arch     x86
>  os       Win32
>  system   x86, Win32
>  status
>  major    1
>  minor    4.1
>  year     2002
>  month    01
>  day      30
>  language R
>
>  I try to fit a 2 compartment model. The compartments are open, connected
>  to each other and are filled via constant input and a time depended
>  function as well. Data describes increasing of Apo B after dialysis. Aim
>  of the analysis is to test the hypothesis whether the data could
described
>  by two simple disconnected one compartment modes ore the "saturated
>  model" holds? The first order differential equation for the saturated
>  model:
>
>  db5 = - (k50+k56)*b5 + k56*b6 + c*g(t) + h
>  db6 = + k65*b5 - (k60+k65)*b6 + d
>
>  db5, db6 are the first derivatives, b5, b6 are the functions to be
>  fitted. The remaining parameters are unknown and should follow from the
>  fit.
>
>  assuming that g(t) has the functional form: b4i + (b40-b4i)*exp(-k4*t)
>
>  (after calculations of 2 papers of A4) follows the solution:
>
>  L5L6 <- function(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd, pb50,
>  pb60) {
>
>  	k50 <- exp(p50)
>  	k56 <- exp(p56)
>  	k60 <- exp(p60)
>  	k65 <- exp(p65)
>  	c   <- exp(pc)
>  	h   <- exp(ph)
>  	d   <- exp(pd)
>  	b50 <- exp(pb50)
>  	b60 <- exp(pb60)
>  	a <- (k50+k56)
>  	b <- k65
>  	e <- k56
>  	f <- (k60+k65)
>  	z1 <- (-(a+f)/2 - sqrt((a+f)^2/4 - a*f + b*e))
>  	z2 <- (-(a+f)/2 + sqrt((a+f)^2/4 - a*f + b*e))
>  	K  <- ((z1+a)/(z2-z1))
>  	B1 <- (b/(z2-z1)*b60 - K*b50)
>  	A1 <- (b50-B1)
>  	X1 <- (b*d/(z2-z1)-K*(c*b4i+h))
>  	X2 <- (K*c*(b4i-b40))
>  	X3 <- (c*b4i + h - X1)
>  	X4 <- (c*(b40-b4i)- X2)
>  	C1E <- (X3/(-z1)*(1-exp(z1*t)) +
>  X4/(-(k4+z1))*(exp(-k4*t)-exp(z1*t)))
>  	C2E <- (X1/(-z2)*(1-exp(z2*t)) +
>  X2/(-(k4+z2))*(exp(-k4*t)-exp(z2*t)))
>  	b5 <- (A1*exp(z1*t) + B1*exp(z2*t) + C1E + C2E)
>  	b6 <- ((z1+a)/b * A1*exp(z1*t) + (z2+a)/b * B1*exp(z2*t) +
>  (z1+a)/b * C1E + (z2+a)/b * C2E)
>  	y <- f5*b5 + f6*b6
>  	return(y)
>  }
>
>  I am in the lucky circumstances having starting values, because a nlr-fit
>  succeeds, the graphical presentation of the fits looks quite nice. The
nlr
>  function is part of Lindsey's library(gnlm), but now I would like to
apply
>  Pinheiro and Bates library(nlme) and I have got an error:
>
> > m2 <- nls(y ~ L5L6(b40, b4i, k4, t, p50, p56, p60, p65, pc, ph, pd,
> > pb50, pb60),
> > + data=help, start=c(p50=0.008678954, p56=-0.595153967,
> > + p60=-4.602990518, p65=-0.625732096,
> > + pc=-0.128657978, ph=0.708033556, pd=1.140357461, pb50=1.311141424,
> > + pb60=1.270852258))
> > Error in numericDeriv(form[[3]], names(ind), env) :
> >         Missing value or an Infinity produced when evaluating the model
> >
>  If somebody feel that he can help me, I could send him my R- code and
>  data file as well.
>
>  Kind regards,
>
>  Dominik
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.
> -.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
>


Greetings,

Dominik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Mar 29 16:10:00 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 29 Mar 2002 10:10:00 -0500
Subject: [R] Newbie struggling with "factors"
In-Reply-To: <20020329135845.29556.qmail@web21006.mail.yahoo.com>; from thomas_l_arnold@yahoo.com on Fri, Mar 29, 2002 at 05:58:45AM -0800
References: <20020329135845.29556.qmail@web21006.mail.yahoo.com>
Message-ID: <20020329101000.A21219@cattell.psych.upenn.edu>

On 03/29/02 05:58, Tom Arnold wrote:
>I am processing some survey results, and my data are
>being read in as "factors". I don't know how to
>process these things in any way.

You can convert them to numbers with as.numeric(), but that
doesn't seem to be your immediate problem.  Factors are like what
some other programs call "categorical variables."  They ordering
doesn't mean anything.  They are just labels.  Sometimes that
_is_ exactly what you want.

You can also use various options on read.table() to control how
things are coded.  (See the help on it.)  But that doesn't seem
to be your problem either.

>To start with, several of the survey questions are
>mulit-choice check boxes on the original (web-based)
>survey, as in "check all that apply".
>
>These are encoded as numbers. For example, if the
>survey has a question:
>Which operating systems have you used? (Check all that
>apply)
>[ ]Windows
>[ ]Macinotsh
>[ ]Unix
>
>...then the data exported for three different
>responses might look like
>;1;
>;1,3;
>;1,2,3;
>...where ";" is the field delimiter. 

I assue you have told read.table() that ";" is the delimiter,
with the appropriate option setting.  But this would mean, I
think, that you would have some fields that look like "1,2,3".
This is probably why you are getting factors: "1,2,3" is not a
number, so R assumes it is part of a factor.  To extract the
numbers from things like this, you might have to use things like
substr() and strsplit().

>I use read.table to get the data in. I read all the
>survey data into a table "n" and the field above is
>called "OSUSE". When I query R about the field, it
>tells me it is class "factor"
>
>> class(n$OSUSE)
>[1] "factor"
>> mode(n$OSUSE)
>[1] "numeric"

I'm surprised at this.  I would think it would be character.

>I'd like to be able to do some simple things like:
>what is the most common item checked (1, 2, or 3?)
>What is the average number of boxes checked?
>
>But I can't find any way to manipulate this "factor"
>field. What's the secret?

Using the various string manipulation commands, possibly also
with apply() or loops.

But, more generally, you might rethink the way you do your
questionnaires or have your data reported.  I do this kind of
research, and I try to avoid checkboxes or select boxes for just
this reason.  (I tend to use buttons and then write JavaScript
code to read the buttons and turn their results into something
nice and regular.)  Time saved in writing the web page is lost
when you try to analyze the data.  You might also try various
pre-processing of your data.

In particular, what you might aim for is to have a data file for
each respondent with all commas or all semicolon.  A response
like "1,2" would be represented as "1,2,0".  That is, you would
pad the data to fill up the right number of fields.

Now, again, you can, if you want, handle all this with string
manipulation in R, and perhaps you can develop general tools that
you can use over and over.  But, if you are just starting, you
might consider the alternatives too.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Mar 29 16:08:47 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 29 Mar 2002 09:08:47 -0600 (CST)
Subject: [R] mse
In-Reply-To: <3CA477C6.ACDDDECD@knmi.nl> (message from Nader Emami on Fri, 29
	Mar 2002 14:18:46 +0000)
References: <3CA477C6.ACDDDECD@knmi.nl>
Message-ID: <200203291508.JAA06316@definetti.uark.edu>


Maybe a Statistics textbook...

Giovanni

> Date: Fri, 29 Mar 2002 14:18:46 +0000
> From: Nader Emami <emami at knmi.nl>
> Organization: KNMI
> X-Accept-Language: en
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain; charset=us-ascii
> Content-Length: 470
> 
> Dear all,
> 
> I dont know where I can find the 'Mean Square Error" function?  Any hint
> would be appreciated.
> 
> Best Regards
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Mar 29 16:47:08 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 29 Mar 2002 10:47:08 -0500
Subject: [R] Output from examples in help files
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE886@groexmbcr02.pfizer.com>


I would also find it usefult to be able to easily include the output of
commands in the example section by using a markup command.

Something like:

\examples{
     x <- rnorm(1000)
     quants <- quantcut( x )
     table(quants)     y _ rnorm(100)
     \output{
     quants
       [-3.64,-0.651] (-0.651,-0.0353]  (-0.0353,0.615]     (0.615,2.69] 
                  250              250              250              250 
     }
}

Which might be rendered something like

     y _ rnorm(100)
     x _  cut(rnorm(100, mean=y, sd=0.25),c(-4,-1.5,0,1.5,4))
     table(x)
     # Output: 
     #      quants
     #       [-3.64,-0.651] (-0.651,-0.0353]  (-0.0353,0.615]
(0.615,2.69] 
     #                  250              250              250
250 
     #

In plain text, or with suitable font/highlighting changes in HTML / LaTeX.  

-Greg

> -----Original Message-----
> From: John Fox [mailto:jfox at mcmaster.ca]
> Sent: Friday, March 29, 2002 8:18 AM
> To: Prof Brian D Ripley
> Cc: Frank E Harrell Jr; rhelp
> Subject: Re: [R] Output from examples in help files
> 
> 
> Dear Brian,
> 
> At 07:02 AM 3/29/2002 +0000, Prof Brian D Ripley wrote:
> >On Thu, 28 Mar 2002, John Fox wrote:
> >
> > > At 07:14 PM 3/28/2002 -0500, Frank E Harrell Jr wrote:
> > > >I have a large number of troff help files which are automatically
> > > >converted to .Rd files.  Many of these have examples 
> which contain the
> > > >printed output of the examples.  This makes 
> example(functionname) not
> > > >work.  Is there a way to avoid removing all this output 
> by delimiting it
> > > >in some way such that the output will not appear in 
> R-ex?  Secondly, it
> > > >would be nice if there was a place where output would be 
> placed so that
> > > >users could check results on different platforms or 
> after upgrading a 
> > package.
> > >
> > > I've noticed that in many cases output in help-file 
> examples is simply
> > > commented out, and I've followed this practice myself; 
> for example:
> >
> >It is better to use \dontrun{} to do this. (That did not 
> exist when a lot
> >of the examples you are seeing were prepared.)
> 
> Unless I've missed something, the problem with using 
> \dontrun{} for all of 
> the examples (assuming that all show output) is that none of 
> the examples 
> would be run. As well, with the output not differentiated 
> visually from the 
> input, it might be hard for the reader to distinguish the two.
> 
> > >
> > > Of course, you'll probably have to add the #'s manually. 
> (I agree that it
> > > would be nice if output were handled explicitly in .Rd files.)
> >
> >To do that needs much more markup, including have separate \example{}
> >sections inside \examples{}.
> 
> I personally wouldn't find it onerous to put output within 
> something like 
> \example{} or \output{} -- it would be less work than adding #'s.
> 
> >A much better way to achieve `users could check results on different
> >platforms or after upgrading' is to use a tests directory in 
> the package,
> >which R CMD check will run and compare the results to the 
> reference output.
> >See e.g. rpart and nlme for examples.
> 
> I agree that this is better for checking that the package is 
> functioning 
> properly. When I read help pages, however, I find that I often copy 
> examples and paste them at the command prompt to see the 
> result. Having the 
> output in the help file would make this unnecessary. Not a 
> large point, of 
> course. In general, I find the package-building tools, including for 
> documentation, very well thought out.
> 
> Thanks,
>   John
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 29 16:59:13 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 29 Mar 2002 07:59:13 -0800 (PST)
Subject: [R] Re: your mail
In-Reply-To: <F989IUxZVCPcpbCEyEp00023b7e@hotmail.com>
Message-ID: <Pine.A41.4.44.0203290756080.20860-100000@homer29.u.washington.edu>

On Fri, 29 Mar 2002, Chris Wen wrote:

> Hi,
>
> I am a newbie of R...
>
> What does the following message mean when I tried running a summary() on a
> dataset?
>
> Warning message:
> Integer overflow in sum(.); use sum(as.numeric(.))

It means that when calculating the sum of a set of integer values (as part
of calculating the mean) there was a numeric overflow -- the answer was
larger than 2^30 or about 1 billion. For large numbers you need to use
floating point rather than integer representation. You may want to convert
the offending column of your dataset to floating point with eg

dataset$variable<-as.numeric(dataset$variable)

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Fri Mar 29 20:00:11 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Fri, 29 Mar 2002 20:00:11 +0100
Subject: [R] help with lme function
Message-ID: <3CA4B9BB.4050907@inrialpes.fr>

Hi all,

I have some difficulties with the lme function and so this is my problem.
Supoose i have the following model
        y_(ijk)=beta_j + e_i + epsilon_(ijk)

where beta_j are  fixed effects, e_i is a random effect and 
epsilon_(ijk) is the error.

If i want to estimate a such model, i execute
 >lme(y~vec.J , random~1 |vec .I )

where y is the vector of my data, vec.J  is a  factor object and vec.I 
is the vector for the i indice.

Now , this is an other model
        y_(ijk)=beta_j + e_(ij) + epsilon_(ijk)

The  parameters estimations can be resolved with
 >lme(y~vec.J , random~1 |vec .IJ )

My problem concern the following model
        y_(ijk)=beta_j + e_i + e_(ij) + epsilon_(ijk)

where e_i and e_(ij) are the random effects.

In this case, what is the command to estimate the parameters?


Regards,
Olivier.


-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 16:58:08 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 29 Mar 2002 10:58:08 -0500
Subject: [R] further on use of expand.model.frame
Message-ID: <5.1.0.14.2.20020329104155.01d9b568@pop>

Dear R-help list members,

Yesterday, I described a problem that I encountered with the use of 
expand.model.frame when the model object passed to this function was 
created without an explicit data argument in the call.

I've had no responses, but I've been able to work around the problem by 
making a change to expand.model.frame, replacing the line

	rval <- eval(call("model.frame", ff, data = data, subset = subset,
             	na.action = I), envir)

with

         rval <- if (is.null(data)) eval(call("model.frame", ff, subset = 
subset, na.action = naa), envir)
            	else eval(call("model.frame", ff, data = data, subset = 
subset, na.action = naa), envir)

This looks to me like a bug (I'm filing a report), but in any event I've 
solved my problem.

Thanks for your attention,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 29 17:02:02 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Mar 2002 17:02:02 +0100
Subject: [R] Newbie struggling with "factors"
In-Reply-To: <20020329101000.A21219@cattell.psych.upenn.edu>
References: <20020329135845.29556.qmail@web21006.mail.yahoo.com>
	<20020329101000.A21219@cattell.psych.upenn.edu>
Message-ID: <x2wuvvpdl1.fsf@blueberry.kubism.ku.dk>

Jonathan Baron <baron at cattell.psych.upenn.edu> writes:

> >These are encoded as numbers. For example, if the
> >survey has a question:
> >Which operating systems have you used? (Check all that
> >apply)
> >[ ]Windows
> >[ ]Macinotsh
> >[ ]Unix
> >
> >...then the data exported for three different
> >responses might look like
> >;1;
> >;1,3;
> >;1,2,3;
> >...where ";" is the field delimiter. 
> 
> I assue you have told read.table() that ";" is the delimiter,
> with the appropriate option setting.  But this would mean, I
> think, that you would have some fields that look like "1,2,3".
> This is probably why you are getting factors: "1,2,3" is not a
> number, so R assumes it is part of a factor.  To extract the
> numbers from things like this, you might have to use things like
> substr() and strsplit().

In other words, you (Tom) are recording patterns, not individual
systems usage. A more conventional coding would use three variables,
yes/no for each OS. With the coding you have, all you can really do is
table(x) giving you counts of people using "1,2" "3" "1,2,3" etc. but
counting the total number of, say, Windows users is inconvenient.

However, you can recover the conventional coding using slightly sneaky
code like

win.use <- sapply(strsplit(x,","), "%in%", x=1)

or, sneakier yet

> lapply(c(win=1,mac=2,unix=3),function(i)sapply(strsplit(x,","), "%in%", x=i))
$win
[1] TRUE TRUE TRUE

$mac
[1] FALSE FALSE  TRUE

$unix
[1] FALSE  TRUE  TRUE


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Mar 29 17:56:38 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 29 Mar 2002 11:56:38 -0500
Subject: FW: [R] Newbie struggling with "factors"
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE888@groexmbcr02.pfizer.com>


Hint #1,  to do any useful transformations on your variables you will
probably need to convert them temporarily into character variables (aka
strings).  Do that with 

	as.character(n$OSUSE)

Probably your will want to convert each of the variables that are in this
format into a set of numeric variables.  Something like this:

	n <- data.frame(OSUSE = c("1","1,3","1,2,3"))	
	n$OSUSE.Windows   <- sapply( strsplit(n$OSUSE, ",") , function(X) (
"1" %in% X ) )
	n$OSUSE.Macintosh <- sapply( strsplit(n$OSUSE, ",") , function(X) (
"2" %in% X ) )
     	n$OSUSE.Unix      <- sapply( strsplit(n$OSUSE, ",") , function(X) (
"3" %in% X ) )

Alternatively, if you often have variables like this, you might consider
creating a new object type that extends factor and that includes the
operations that you need.  

Something like:

### Start Sample Code ###

checklist <- function(X, boxnames)
  {
    attr(X, "boxnames") <- boxnames
    class(X) <- c("checklist","factor")
    return(X)
  }

contains <- function(X, name)
  {
    if(is.character(name) )
      name <- pmatch( name, attr(X,"boxnames" ) )
                     
    retval <- sapply( strsplit(X, ",") , function(X) ( name %in% X ) )
    return(retval)
  }

numchecked <- function(X)
  {
    retval <- sapply( strsplit(X, ","), length )
    return(retval)
  }

summary.checklist <- function(x, ...)
  {
    sum <- apply( as.matrix(x), 2, sum )
    mean <- apply( as.matrix(x), 2, mean )
    return( rbind(sum,mean))
  }

as.matrix.checklist <- function(x, ...)
  {
    sapply( attr(x, "boxnames"), function(YY) contains(x, YY) )
  }

### End Sample Code ##

Here's some examples of using these functions:

> n <- data.frame(OSUSE = c("1","1,3","1,2,3"))
> 
> n$OSUSE <- checklist(n$OSUSE, c("Windows","Macintosh","Unix"))
#
# Check if OSUSE includes a specific OS
#
> contains( n$OSUSE, "Windows")
[1] TRUE TRUE TRUE
> contains( n$OSUSE, "Macintosh")
[1] FALSE FALSE  TRUE
> contains( n$OSUSE, "Unix")
[1] FALSE  TRUE  TRUE
>
#
# Compute the average number of checked items
# 
> numchecked(n$OSUSE)
[1] 1 2 3
> mean(numchecked(n$OSUSE))
[1] 2
> 
#
# Create a matrix showing whether each box was checked or not
#
> as.matrix(n$OSUSE)
     Windows Macintosh  Unix
[1,]    TRUE     FALSE FALSE
[2,]    TRUE     FALSE  TRUE
[3,]    TRUE      TRUE  TRUE
> 
#
# Show some summary info
#
> summary(n$OSUSE)
     Windows Macintosh      Unix
sum        3 1.0000000 2.0000000
mean       1 0.3333333 0.6666667		


Of course, you'll want to modify these classes to suit your needs.  A little
time up front can help a lot.

If you like, I'll include these classes and any enhancements that you make
in my 'gregmisc' library.


-Greg


> -----Original Message-----
> From: Tom Arnold [mailto:thomas_l_arnold at yahoo.com]
> Sent: Friday, March 29, 2002 8:59 AM
> To: R
> Subject: [R] Newbie struggling with "factors"
> 
> 
> I am processing some survey results, and my data are
> being read in as "factors". I don't know how to
> process these things in any way.
> 
> To start with, several of the survey questions are
> mulit-choice check boxes on the original (web-based)
> survey, as in "check all that apply".
> 
> These are encoded as numbers. For example, if the
> survey has a question:
> Which operating systems have you used? (Check all that
> apply)
> [ ]Windows
> [ ]Macinotsh
> [ ]Unix
> 
> ...then the data exported for three different
> responses might look like
> ;1;
> ;1,3;
> ;1,2,3;
> 
> ...where ";" is the field delimiter. 
> I use read.table to get the data in. I read all the
> survey data into a table "n" and the field above is
> called "OSUSE". When I query R about the field, it
> tells me it is class "factor"
> 
> > class(n$OSUSE)
> [1] "factor"
> > mode(n$OSUSE)
> [1] "numeric"
> 
> I'd like to be able to do some simple things like:
> what is the most common item checked (1, 2, or 3?)
> What is the average number of boxes checked?
> 
> But I can't find any way to manipulate this "factor"
> field. What's the secret?
> 
> Thanks.
> 
> =====
> Tom Arnold
> Summit Media Partners
> Visit our web site at http://www.summitmediapartners.com
> 
> __________________________________________________
> 
> Yahoo! Greetings - send holiday greetings for Easter, Passover
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Fri Mar 29 18:17:04 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Fri, 29 Mar 2002 09:17:04 -0800 (PST)
Subject: [R] help with lme function
In-Reply-To: <3CA4B9BB.4050907@inrialpes.fr>
Message-ID: <20020329171704.92304.qmail@web13905.mail.yahoo.com>


--- Olivier Martin <olivier.martin at inrialpes.fr> wrote:
> Hi all,
> 
> I have some difficulties with the lme function and so this is my problem.
> Supoose i have the following model
>         y_(ijk)=beta_j + e_i + epsilon_(ijk)
> 
> where beta_j are  fixed effects, e_i is a random effect and 
> epsilon_(ijk) is the error.
> 
> If i want to estimate a such model, i execute
>  >lme(y~vec.J , random~1 |vec .I )
> 
> where y is the vector of my data, vec.J  is a  factor object and vec.I 
> is the vector for the i indice.
> 
> Now , this is an other model
>         y_(ijk)=beta_j + e_(ij) + epsilon_(ijk)
> 
> The  parameters estimations can be resolved with
>  >lme(y~vec.J , random~1 |vec .IJ )
>
> My problem concern the following model
>         y_(ijk)=beta_j + e_i + e_(ij) + epsilon_(ijk)
>
> where e_i and e_(ij) are the random effects.
> 
> In this case, what is the command to estimate the parameters?

random = ~1|vec.I/vec.J

(which is interpreted as the grouping being vec.I and vec.J %in% vec.I)

> 
> 
> Regards,
> Olivier.


__________________________________________________

Yahoo! Greetings - send holiday greetings for Easter, Passover

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 29 18:43:01 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 29 Mar 2002 18:43:01 +0100 (MET)
Subject: [R] system in windows
In-Reply-To: <3CA3B6FF.A71DE07E@univie.ac.at>
Message-ID: <Pine.GSO.4.21.0203291842120.16877-100000@amadeus.statistik.uni-dortmund.de>

On Fri, 29 Mar 2002, Erich Neuwirth wrote:

> i want to call
> "c:/Program Files/Netscape/Communicator/Program/netscape.exe"
> with system
> but
> system("c:/Program Files/Netscape/Communicator/Program/netscape.exe")
> does not work because of the blank.
> 
> system('"c:/Program
> Files/Netscape/Communicator/Program/netscape.exe"',wait=FALSE)
> works exactly like i want.
> 
> when i set
> options(browser="c:/Program
> Files/Netscape/Communicator/Program/netscape.exe")
> 
> how can i manipulate the result of
> getOption("browser")
> 
> so that i get a string which will work with the system command?

I think 
options(browser="\"c:/Program Files/Netscape/Communicator/Program/netscape.exe\"")
should do the trick (not tested!).

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Fri Mar 29 19:00:43 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Fri, 29 Mar 2002 13:00:43 -0500
Subject: [R] system in windows
In-Reply-To: <3CA475FA.8F7440BE@univie.ac.at>
Message-ID: <3CA4657B.15367.8FC5E4@localhost>

On my system Netscape is in

C:\Program Files\Netscape\Netscape 6\netscp6.exe

so it appears that both the directory and the name
of the executable itself can change between versions
of Netscape.  Thus relying on a solution that makes use
of either of these could be problematic if your aim
is that it be widely applicable.

I don't know how widely applicable the start method
is but one improvement you could make over my
prior suggestion that might increase how widely its
applicable is to use something like this:

  start c:\abc.htm

or this

  start http://www.google.com

where c:\abc.htm is the local HTML file or 
http://www.google.com is the URL you want your browser
to start up with.  That will use your default browser
and you won't have to specify either the name or
the path of your browser.

Maybe someone on the list with access to multiple
versions and configurations of Windows could comment?


On 29 Mar 2002 at 15:11, Erich Neuwirth wrote:

> the problem is that i am not sure of the start
> shell("start netscp6")
> mechanism
> works on all win32 platforms.
> the "start" feature might be a property of later versons of win32.
> the system(...) might have better chances of working on
> all win32 platforms.
> 
> 
> 
> 
> 
> ggrothendieck at yifan.net wrote:
> > 
> > On my Windows 2000 system running R 1.4.1
> > the following R command:
> > 
> >    shell("start netscp6")
> > 
> > launches Netscape.   Also this R command:
> > 
> >    shell("start iexpore")
> > 
> > launches Internet Explorer.
> > 
> > On 29 Mar 2002 at 1:36, Erich Neuwirth wrote:
> > 
> > > i want to call
> > > "c:/Program Files/Netscape/Communicator/Program/netscape.exe"
> > > with system
> > > but
> > > system("c:/Program
> > > Files/Netscape/Communicator/Program/netscape.exe") does not work
> > > because of the blank.
> > >
> > > system('"c:/Program
> > > Files/Netscape/Communicator/Program/netscape.exe"',wait=FALSE)
> > > works exactly like i want.
> > >
> > > when i set
> > > options(browser="c:/Program
> > > Files/Netscape/Communicator/Program/netscape.exe")
> > >
> > > how can i manipulate the result of
> > > getOption("browser")
> > >
> > > so that i get a string which will work with the system command?
> > >
> > >
> > >
> > >
> > >
> > > --
> > > Erich Neuwirth, Computer Supported Didactics Working Group
> > > Visit our SunSITE at http://sunsite.univie.ac.at
> > > Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.- r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> > > or "[un]subscribe" (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._
> > >
> 
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> 
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 19:24:57 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 29 Mar 2002 13:24:57 -0500
Subject: [R] Newbie struggling with "factors"
In-Reply-To: <20020329101000.A21219@cattell.psych.upenn.edu>
References: <20020329135845.29556.qmail@web21006.mail.yahoo.com>
 <20020329135845.29556.qmail@web21006.mail.yahoo.com>
Message-ID: <5.1.0.14.2.20020329132030.01d9b1e0@pop>

Dear Jonathan and Tom,

At 10:10 AM 3/29/2002 -0500, Jonathan Baron wrote:
>On 03/29/02 05:58, Tom Arnold wrote:
>
> >When I query R about the field, it
> >tells me it is class "factor"
> >
> >> class(n$OSUSE)
> >[1] "factor"
> >> mode(n$OSUSE)
> >[1] "numeric"
>
>I'm surprised at this.  I would think it would be character.

Factors are numeric vectors of class factor, with the level information 
given by a levels attribute; for example:

     > fac <- factor(rep(c("a", "b"), 2))
     > fac
     [1] a b a b
     Levels:  a b

     > unclass(fac)
     [1] 1 2 1 2
     attr(,"levels")
     [1] "a" "b"

     > class(fac)
     [1] "factor"

     > mode(fac)
     [1] "numeric"
     >

Regards,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 19:45:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 29 Mar 2002 18:45:41 +0000 (GMT)
Subject: [R] system in windows
In-Reply-To: <3CA4657B.15367.8FC5E4@localhost>
Message-ID: <Pine.LNX.4.31.0203291843510.4938-100000@gannet.stats>

On Fri, 29 Mar 2002 ggrothendieck at yifan.net wrote:

> On my system Netscape is in
>
> C:\Program Files\Netscape\Netscape 6\netscp6.exe
>
> so it appears that both the directory and the name
> of the executable itself can change between versions
> of Netscape.  Thus relying on a solution that makes use
> of either of these could be problematic if your aim
> is that it be widely applicable.
>
> I don't know how widely applicable the start method
> is but one improvement you could make over my
> prior suggestion that might increase how widely its
> applicable is to use something like this:
>
>   start c:\abc.htm
>
> or this
>
>   start http://www.google.com
>
> where c:\abc.htm is the local HTML file or
> http://www.google.com is the URL you want your browser
> to start up with.  That will use your default browser
> and you won't have to specify either the name or
> the path of your browser.

That is already built in as shell.exec(): please read what we have
provided for you.

All versions of Windows have start *if* shell is using the Windows shell:
but it does not need to.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 29 20:03:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 29 Mar 2002 19:03:27 +0000 (GMT)
Subject: [R] Output from examples in help files
In-Reply-To: <5.1.0.14.2.20020329080714.01d4eb80@pop>
Message-ID: <Pine.LNX.4.31.0203291900580.4980-100000@gannet.stats>

On Fri, 29 Mar 2002, John Fox wrote:

> Dear Brian,
>
> At 07:02 AM 3/29/2002 +0000, Prof Brian D Ripley wrote:
> >On Thu, 28 Mar 2002, John Fox wrote:
> >
> > > At 07:14 PM 3/28/2002 -0500, Frank E Harrell Jr wrote:
> > > >I have a large number of troff help files which are automatically
> > > >converted to .Rd files.  Many of these have examples which contain the
> > > >printed output of the examples.  This makes example(functionname) not
> > > >work.  Is there a way to avoid removing all this output by delimiting it
> > > >in some way such that the output will not appear in R-ex?  Secondly, it
> > > >would be nice if there was a place where output would be placed so that
> > > >users could check results on different platforms or after upgrading a
> > package.
> > >
> > > I've noticed that in many cases output in help-file examples is simply
> > > commented out, and I've followed this practice myself; for example:
> >
> >It is better to use \dontrun{} to do this. (That did not exist when a lot
> >of the examples you are seeing were prepared.)
>
> Unless I've missed something, the problem with using \dontrun{} for all of
> the examples (assuming that all show output) is that none of the examples
> would be run. As well, with the output not differentiated visually from the
> input, it might be hard for the reader to distinguish the two.

Just put \dontrun{} around the output.  I don't find it hard to
distinguish the commands and output, and nor would I expect this to be a
problem once people know what R commands look like.

> > > Of course, you'll probably have to add the #'s manually. (I agree that it
> > > would be nice if output were handled explicitly in .Rd files.)
> >
> >To do that needs much more markup, including have separate \example{}
> >sections inside \examples{}.
>
> I personally wouldn't find it onerous to put output within something like
> \example{} or \output{} -- it would be less work than adding #'s.

or \dontrun{}!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ralf.Kloessinger at student.fh-nuernberg.de  Fri Mar 29 20:16:49 2002
From: Ralf.Kloessinger at student.fh-nuernberg.de (Ralf.Kloessinger@student.fh-nuernberg.de)
Date: Fri, 29 Mar 2002 20:16:49 +0100
Subject: [R] How to get the datapoints of an density estimation with locfit?
Message-ID: <isapiwc.4b8d1e19.447c.3ca4bda1.c929e.a6@stud-iss.cs.fh-nuernberg.de>

Hello!!!

I'm just a beginner of R. 
I work with locfit to get the density from an numeric vector. It looks good when I plot the graph, but I need the output data of locfit.
For example I need somthing like that (only integer values for the input):
numeric vector (input of locfit)  	density (output of locfit) 
1				0.05....
2				0.04..
3				0.01
...

Thank you for your help and your time.

Ralf Kloessinger
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Mar 29 21:01:17 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 29 Mar 2002 15:01:17 -0500
Subject: [R] Output from examples in help files
In-Reply-To: <Pine.LNX.4.31.0203291900580.4980-100000@gannet.stats>
References: <5.1.0.14.2.20020329080714.01d4eb80@pop>
Message-ID: <5.1.0.14.2.20020329145838.01d4f410@pop>

Dear Brian

At 07:03 PM 3/29/2002 +0000, ripley at stats.ox.ac.uk wrote:

>Just put \dontrun{} around the output.  I don't find it hard to
>distinguish the commands and output, and nor would I expect this to be a
>problem once people know what R commands look like.

I foolishly didn't think of that. Moreover, it is to block-indent the 
output in the help file to distinguish it visually from the commands.

Thanks for the suggestion,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Mar 29 21:02:38 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 29 Mar 2002 15:02:38 -0500
Subject: [R] M.S. Biostatistician Openings
Message-ID: <20020329150238.30779653.fharrell@virginia.edu>

The Division of Biostatistics and Epidemiology at U. Virginia School
of Medicine in Charlottesville in beautiful central Virginia has two
positions open for M.S. biostatisticians (Biostatistician II).  See
http://hesweb1.med.virginia.edu/biostat/jobs for position descriptions and
application information.  The web site will be updated next week with more details about the UVa application process.

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas_l_arnold at yahoo.com  Fri Mar 29 23:17:57 2002
From: thomas_l_arnold at yahoo.com (Tom Arnold)
Date: Fri, 29 Mar 2002 14:17:57 -0800 (PST)
Subject: [R] Newbie struggling with "factors"
In-Reply-To: <5429125E11E4D411AF7300805FE603A8040DE887@groexmbcr02.pfizer.com>
Message-ID: <20020329221757.40553.qmail@web21004.mail.yahoo.com>

To all who have offered suggestions: 
THANKS! Wow, this list has generated a lot of good
ideas for me in a very short time, and I appreciate
it.

For now, I've got some solutions to my problem. Greg's
suggestion about creating a subclass to handle the
"multi-checkbox" type of question is probably the most
flexible, in the long run. However, I've not chosen it
in the short run because my programming experience is
deeper in the procedural vein than in OOP. I'm only
just starting to see how the OO qualities of R can be
used, and I'm not yet comfortable in coding that way.

Following the suggestions of several people on the
list, I have created a few functions that proceed this
way for my multi-choice questions:
- create a matrix with as many rows as there are
responses, and as many columns as there are
"checkboxes" in the original question

- use strsplit to break up the factors based on the
separator inside the field

- for each column in the matrix that I created, fill
it with T/F (1/0) by using the is.element function to
determine which responses had each checkbox checked

- use the resulting matrix to create whatever sums,
averages and plots I want

The code I wrote is not pretty, but is working for me
at the moment. I'm an old assembly and C programmer
mainly, so I'm still getting used to the capabilities
and idioms of R. I think my code does great violence
to both and probably makes the interpreter thrash
pitifully, but for now it seems to produce the correct
result and I can understand it! I'll look for elegance
as I go along.
--- "Warnes, Gregory R"
<gregory_r_warnes at groton.pfizer.com> wrote:
> 
> Hint #1,  to do any useful transformations on your
> variables you will
> probably need to convert them temporarily into
> character variables (aka
> strings).  Do that with 
> 
> 	as.character(n$OSUSE)
> 
> Probably your will want to convert each of the
> variables that are in this
> format into a set of numeric variables.  Something
> like this:
> 
> 	n <- data.frame(OSUSE = c("1","1,3","1,2,3"))	
> 	n$OSUSE.Windows   <- sapply( strsplit(n$OSUSE, ",")
> , function(X) (
> "1" %in% X ) )
> 	n$OSUSE.Macintosh <- sapply( strsplit(n$OSUSE, ",")
> , function(X) (
> "2" %in% X ) )
>      	n$OSUSE.Unix      <- sapply( strsplit(n$OSUSE,
> ",") , function(X) (
> "3" %in% X ) )
> 
> Alternatively, if you often have variables like
> this, you might consider
> creating a new object type that extends factor and
> that includes the
> operations that you need.  
> 
> Something like:
> 
> ### Start Sample Code ###
> 
> checklist <- function(X, boxnames)
>   {
>     attr(X, "boxnames") <- boxnames
>     class(X) <- c("checklist","factor")
>     return(X)
>   }
> 
> contains <- function(X, name)
>   {
>     if(is.character(name) )
>       name <- pmatch( name, attr(X,"boxnames" ) )
>                      
>     retval <- sapply( strsplit(X, ",") , function(X)
> ( name %in% X ) )
>     return(retval)
>   }
> 
> numchecked <- function(X)
>   {
>     retval <- sapply( strsplit(X, ","), length )
>     return(retval)
>   }
> 
> summary.checklist <- function(x, ...)
>   {
>     sum <- apply( as.matrix(x), 2, sum )
>     mean <- apply( as.matrix(x), 2, mean )
>     return( rbind(sum,mean))
>   }
> 
> as.matrix.checklist <- function(x, ...)
>   {
>     sapply( attr(x, "boxnames"), function(YY)
> contains(x, YY) )
>   }
> 
> ### End Sample Code ##
> 
> Here's some examples of using these functions:
> 
> > n <- data.frame(OSUSE = c("1","1,3","1,2,3"))
> > 
> > n$OSUSE <- checklist(n$OSUSE,
> c("Windows","Macintosh","Unix"))
> #
> # Check if OSUSE includes a specific OS
> #
> > contains( n$OSUSE, "Windows")
> [1] TRUE TRUE TRUE
> > contains( n$OSUSE, "Macintosh")
> [1] FALSE FALSE  TRUE
> > contains( n$OSUSE, "Unix")
> [1] FALSE  TRUE  TRUE
> >
> #
> # Compute the average number of checked items
> # 
> > numchecked(n$OSUSE)
> [1] 1 2 3
> > mean(numchecked(n$OSUSE))
> [1] 2
> > 
> #
> # Create a matrix showing whether each box was
> checked or not
> #
> > as.matrix(n$OSUSE)
>      Windows Macintosh  Unix
> [1,]    TRUE     FALSE FALSE
> [2,]    TRUE     FALSE  TRUE
> [3,]    TRUE      TRUE  TRUE
> > 
> #
> # Show some summary info
> #
> > summary(n$OSUSE)
>      Windows Macintosh      Unix
> sum        3 1.0000000 2.0000000
> mean       1 0.3333333 0.6666667		
> 
> 
> Of course, you'll want to modify these classes to
> suit your needs.  A little
> time up front can help a lot.
> 
> If you like, I'll include these classes and any
> enhancements that you make
> in my 'gregmisc' library.
> 
> 
> -Greg
> 
> 
> > -----Original Message-----
> > From: Tom Arnold
> [mailto:thomas_l_arnold at yahoo.com]
> > Sent: Friday, March 29, 2002 8:59 AM
> > To: R
> > Subject: [R] Newbie struggling with "factors"
> > 
> > 
> > I am processing some survey results, and my data
> are
> > being read in as "factors". I don't know how to
> > process these things in any way.
> > 
> > To start with, several of the survey questions are
> > mulit-choice check boxes on the original
> (web-based)
> > survey, as in "check all that apply".
> > 
> > These are encoded as numbers. For example, if the
> > survey has a question:
> > Which operating systems have you used? (Check all
> that
> > apply)
> > [ ]Windows
> > [ ]Macinotsh
> > [ ]Unix
> > 
> > ...then the data exported for three different
> > responses might look like
> > ;1;
> > ;1,3;
> > ;1,2,3;
> > 
> > ...where ";" is the field delimiter. 
> > I use read.table to get the data in. I read all
> the
> > survey data into a table "n" and the field above
> is
> > called "OSUSE". When I query R about the field, it
> > tells me it is class "factor"
> > 
> > > class(n$OSUSE)
> > [1] "factor"
> > > mode(n$OSUSE)
> > [1] "numeric"
> > 
> > I'd like to be able to do some simple things like:
> > what is the most common item checked (1, 2, or 3?)
> > What is the average number of boxes checked?
> > 
> > But I can't find any way to manipulate this
> "factor"
> > field. What's the secret?
> > 
> > Thanks.
> > 
> > =====
> > Tom Arnold
> > Summit Media Partners
> > Visit our web site at
> http://www.summitmediapartners.com
> > 
> > __________________________________________________
> > 
> > Yahoo! Greetings - send holiday greetings for
> Easter, Passover
> > 
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> 
=== message truncated ===


=====
Tom Arnold
Summit Media Partners
Visit our web site at http://www.summitmediapartners.com

__________________________________________________

Yahoo! Greetings - send holiday greetings for Easter, Passover

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Mar 30 02:27:46 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 29 Mar 2002 20:27:46 -0500
Subject: [R] Newbie struggling with "factors"
In-Reply-To: <20020329221757.40553.qmail@web21004.mail.yahoo.com>
References: <5429125E11E4D411AF7300805FE603A8040DE887@groexmbcr02.pfizer.com>
	<20020329221757.40553.qmail@web21004.mail.yahoo.com>
Message-ID: <20020329202746.392a63e1.fharrell@virginia.edu>

The Hmisc library has a multiple choice class that uses the matrix storage approach.  I only do anything with this class in the summary.formula function for table making.  The library is ready for beta testing for Linux/Unix users and soon for Windows.  I will make a full announcement when the Windows port is ready.

You may obtain the Linux/Unix package from http://hesweb1.med.virginia.edu/biostat/s/Hmisc.html

For examples of using summary.formula for handling multiple choice data see
http://hesweb1.med.virginia.edu/biostat/s/help/Hmisc/html/summary.formula.html

Frank Harrell

On Fri, 29 Mar 2002 14:17:57 -0800 (PST)
Tom Arnold <thomas_l_arnold at yahoo.com> wrote:

> To all who have offered suggestions: 
> THANKS! Wow, this list has generated a lot of good
> ideas for me in a very short time, and I appreciate
> it.
> 
> For now, I've got some solutions to my problem. Greg's
> suggestion about creating a subclass to handle the
> "multi-checkbox" type of question is probably the most
> flexible, in the long run. However, I've not chosen it
> in the short run because my programming experience is
> deeper in the procedural vein than in OOP. I'm only
> just starting to see how the OO qualities of R can be
> used, and I'm not yet comfortable in coding that way.
> 
> Following the suggestions of several people on the
> list, I have created a few functions that proceed this
> way for my multi-choice questions:
> - create a matrix with as many rows as there are
> responses, and as many columns as there are
> "checkboxes" in the original question
> 
> - use strsplit to break up the factors based on the
> separator inside the field
> 
> - for each column in the matrix that I created, fill
> it with T/F (1/0) by using the is.element function to
> determine which responses had each checkbox checked
> 
> - use the resulting matrix to create whatever sums,
> averages and plots I want
> 
> The code I wrote is not pretty, but is working for me
> at the moment. I'm an old assembly and C programmer
> mainly, so I'm still getting used to the capabilities
> and idioms of R. I think my code does great violence
> to both and probably makes the interpreter thrash
> pitifully, but for now it seems to produce the correct
> result and I can understand it! I'll look for elegance
> as I go along.
> --- "Warnes, Gregory R"
> <gregory_r_warnes at groton.pfizer.com> wrote:
> > 
> > Hint #1,  to do any useful transformations on your
> > variables you will
> > probably need to convert them temporarily into
> > character variables (aka
> > strings).  Do that with 
> > 
> > 	as.character(n$OSUSE)
> > 
> > Probably your will want to convert each of the
> > variables that are in this
> > format into a set of numeric variables.  Something
> > like this:
> > 
> > 	n <- data.frame(OSUSE = c("1","1,3","1,2,3"))	
> > 	n$OSUSE.Windows   <- sapply( strsplit(n$OSUSE, ",")
> > , function(X) (
> > "1" %in% X ) )
> > 	n$OSUSE.Macintosh <- sapply( strsplit(n$OSUSE, ",")
> > , function(X) (
> > "2" %in% X ) )
> >      	n$OSUSE.Unix      <- sapply( strsplit(n$OSUSE,
> > ",") , function(X) (
> > "3" %in% X ) )
> > 
> > Alternatively, if you often have variables like
> > this, you might consider
> > creating a new object type that extends factor and
> > that includes the
> > operations that you need.  
> > 
> > Something like:
> > 
> > ### Start Sample Code ###
> > 
> > checklist <- function(X, boxnames)
> >   {
> >     attr(X, "boxnames") <- boxnames
> >     class(X) <- c("checklist","factor")
> >     return(X)
> >   }
> > 
> > contains <- function(X, name)
> >   {
> >     if(is.character(name) )
> >       name <- pmatch( name, attr(X,"boxnames" ) )
> >                      
> >     retval <- sapply( strsplit(X, ",") , function(X)
> > ( name %in% X ) )
> >     return(retval)
> >   }
> > 
> > numchecked <- function(X)
> >   {
> >     retval <- sapply( strsplit(X, ","), length )
> >     return(retval)
> >   }
> > 
> > summary.checklist <- function(x, ...)
> >   {
> >     sum <- apply( as.matrix(x), 2, sum )
> >     mean <- apply( as.matrix(x), 2, mean )
> >     return( rbind(sum,mean))
> >   }
> > 
> > as.matrix.checklist <- function(x, ...)
> >   {
> >     sapply( attr(x, "boxnames"), function(YY)
> > contains(x, YY) )
> >   }
> > 
> > ### End Sample Code ##
> > 
> > Here's some examples of using these functions:
> > 
> > > n <- data.frame(OSUSE = c("1","1,3","1,2,3"))
> > > 
> > > n$OSUSE <- checklist(n$OSUSE,
> > c("Windows","Macintosh","Unix"))
> > #
> > # Check if OSUSE includes a specific OS
> > #
> > > contains( n$OSUSE, "Windows")
> > [1] TRUE TRUE TRUE
> > > contains( n$OSUSE, "Macintosh")
> > [1] FALSE FALSE  TRUE
> > > contains( n$OSUSE, "Unix")
> > [1] FALSE  TRUE  TRUE
> > >
> > #
> > # Compute the average number of checked items
> > # 
> > > numchecked(n$OSUSE)
> > [1] 1 2 3
> > > mean(numchecked(n$OSUSE))
> > [1] 2
> > > 
> > #
> > # Create a matrix showing whether each box was
> > checked or not
> > #
> > > as.matrix(n$OSUSE)
> >      Windows Macintosh  Unix
> > [1,]    TRUE     FALSE FALSE
> > [2,]    TRUE     FALSE  TRUE
> > [3,]    TRUE      TRUE  TRUE
> > > 
> > #
> > # Show some summary info
> > #
> > > summary(n$OSUSE)
> >      Windows Macintosh      Unix
> > sum        3 1.0000000 2.0000000
> > mean       1 0.3333333 0.6666667		
> > 
> > 
> > Of course, you'll want to modify these classes to
> > suit your needs.  A little
> > time up front can help a lot.
> > 
> > If you like, I'll include these classes and any
> > enhancements that you make
> > in my 'gregmisc' library.
> > 
> > 
> > -Greg
> > 
> > 
> > > -----Original Message-----
> > > From: Tom Arnold
> > [mailto:thomas_l_arnold at yahoo.com]
> > > Sent: Friday, March 29, 2002 8:59 AM
> > > To: R
> > > Subject: [R] Newbie struggling with "factors"
> > > 
> > > 
> > > I am processing some survey results, and my data
> > are
> > > being read in as "factors". I don't know how to
> > > process these things in any way.
> > > 
> > > To start with, several of the survey questions are
> > > mulit-choice check boxes on the original
> > (web-based)
> > > survey, as in "check all that apply".
> > > 
> > > These are encoded as numbers. For example, if the
> > > survey has a question:
> > > Which operating systems have you used? (Check all
> > that
> > > apply)
> > > [ ]Windows
> > > [ ]Macinotsh
> > > [ ]Unix
> > > 
> > > ...then the data exported for three different
> > > responses might look like
> > > ;1;
> > > ;1,3;
> > > ;1,2,3;
> > > 
> > > ...where ";" is the field delimiter. 
> > > I use read.table to get the data in. I read all
> > the
> > > survey data into a table "n" and the field above
> > is
> > > called "OSUSE". When I query R about the field, it
> > > tells me it is class "factor"
> > > 
> > > > class(n$OSUSE)
> > > [1] "factor"
> > > > mode(n$OSUSE)
> > > [1] "numeric"
> > > 
> > > I'd like to be able to do some simple things like:
> > > what is the most common item checked (1, 2, or 3?)
> > > What is the average number of boxes checked?
> > > 
> > > But I can't find any way to manipulate this
> > "factor"
> > > field. What's the secret?
> > > 
> > > Thanks.
> > > 
> > > =====
> > > Tom Arnold
> > > Summit Media Partners
> > > Visit our web site at
> > http://www.summitmediapartners.com
> > > 
> > > __________________________________________________
> > > 
> > > Yahoo! Greetings - send holiday greetings for
> > Easter, Passover
> > > 
> > >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > 
> === message truncated ===
> 
> 
> =====
> Tom Arnold
> Summit Media Partners
> Visit our web site at http://www.summitmediapartners.com
> 
> __________________________________________________
> 
> Yahoo! Greetings - send holiday greetings for Easter, Passover
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Sat Mar 30 05:43:51 2002
From: indra_calisto at yahoo.com (Indrajit Sengupta)
Date: Fri, 29 Mar 2002 20:43:51 -0800 (PST)
Subject: [R] .Rd Files
Message-ID: <20020330044351.9184.qmail@web11108.mail.yahoo.com>

While downloading the R 1.4.1 for windows from the zip
file, I downloaded a zip file rw1041m.zip which
consisted of .Rd files. Could anybody tell what are
these files for?

______________________
Indrajit SenGupta
Department Of Statistics
St. Xavier's College
Calcutta University
indra_calisto at yahoo.com
indrajitsg at vsnl.net
______________________
EC- 195
Salt Lake City, Sector -1
Calcutta 700064
West Bengal 
India
Phone #337-5424
______________________


__________________________________________________

Yahoo! Greetings - send holiday greetings for Easter, Passover

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Sat Mar 30 05:58:08 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Sat, 30 Mar 2002 05:58:08 +0100
Subject: [R] order()
References: <Pine.SOL.4.21.0203292306180.25765-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CA545E0.33B0039D@econ.unito.it>

If it helps:

> x<-c(5,6,7,4,3,2,1)
> y<-x^2
> mydata <- cbind(x,y)
> (mydata <- mydata[order(mydata[,1]),])
     x  y
[1,] 1  1
[2,] 2  4
[3,] 3  9
[4,] 4 16
[5,] 5 25
[6,] 6 36
[7,] 7 49
> x <- mydata[,1]
> y <- mydata[,2]

 Best, isaia.

Ko-Kang Kevin Wang wrote:

> Hi,
>
> In the order() help file, there is an example like:
>      a <- c(4, 3, 2, NA, 1)
>      b <- c(4, NA, 2, 7, 1)
>      z <- cbind(a, b)
>      (o <- order(a, b)); z[o, ]
>
> How can I do something like "order a in ascending order, b in descending
> order"?  And say I have a third vector c, and I'd like to add this to the
> previous condition "a ascending, b descending, c descending".  How can I
> do this?
>
> Thanks,
>
> Ko-Kang Wang
>
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 30 08:17:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 30 Mar 2002 07:17:42 +0000 (GMT)
Subject: [R] .Rd Files
In-Reply-To: <20020330044351.9184.qmail@web11108.mail.yahoo.com>
Message-ID: <Pine.GSO.4.44.0203300715110.9296-100000@auk.stats>

On Fri, 29 Mar 2002, Indrajit Sengupta wrote:

> While downloading the R 1.4.1 for windows from the zip
> file, I downloaded a zip file rw1041m.zip which
> consisted of .Rd files. Could anybody tell what are
> these files for?

It tells you in the README:

rw1041m.zip                            installed .Rd files

As to why you might want installed .Rd files, look at the tools package.
End users are very unlikely to make use of them.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Sat Mar 30 12:06:22 2002
From: maeder at atmos.umnw.ethz.ch (=?iso-8859-1?Q?M?der_J?rg?=)
Date: Sat, 30 Mar 2002 10:06:22 -0100 (MET)
Subject: [R] How to get the datapoints of an density estimation with locfit?
Message-ID: <17797.217.162.243.153.1017479182.squirrel@albeniz.ethz.ch>

Hello,

i'm not sure but try
results <- locfit(....)
after that you can have a look at the saved things with
names(results)

gruess

joerg

> Hello!!!
> 
> I'm just a beginner of R. 
> I work with locfit to get the density from an numeric vector. It looks
> good when I plot the graph, but I need the output data of locfit. For
> example I need somthing like that (only integer values for the input):
> numeric vector (input of locfit)   density (output of locfit) 
> 1    0.05....
> 2    0.04..
> 3    0.01
> ...
> 
> Thank you for your help and your time.
> 
> Ralf Kloessinger
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sat Mar 30 14:02:25 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sat, 30 Mar 2002 08:02:25 -0500
Subject: [R] system in windows
Message-ID: <lbdbauccd9kbpl1o3sr5056dadvu3fug7o@4ax.com>

On Fri, 29 Mar 2002 ripley at stats.ox.ac.uk wrote:

>That is already built in as shell.exec(): please read what we have
>provided for you.

>All versions of Windows have start *if* shell is using the Windows shell:
>but it does not need to.

I misread this the first time, so maybe others did too.  Here's more
detail:

1.  shell.exec() should work in all Win32 versions.  For example,
		shell.exec('http://www.r-project.org')
will open the web page in the default browser (assuming only that the
browser is installed properly).

2.  shell('start http://www.r-project.org') could work in any Win32
version, but the user might have changed the path, or the shell, so it
won't necessarily.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clange at epost.de  Sat Mar 30 18:28:36 2002
From: clange at epost.de (Christoph Lange)
Date: Sat, 30 Mar 2002 18:28:36 +0100
Subject: [R] Wilks' Lambda for lda?!
Message-ID: <20020330182836.A22994@rivka.biologie.fu-berlin.de>


Hello!

As I remember there were questions concerning wilks' lambda lately.
But I lost those e-mails. So I dare ask again.

Is there a way of calculating wilks' lambda for lda?

  Christoph.

-- 
Christoph Lange                                    clange at epost.de
Verhaltensbiologie, FU Berlin                            838-55068
Haderslebener Str. 9, 12163 Berlin
http://www.verhaltensbiologie.fu-berlin.de/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat Mar 30 19:43:00 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 30 Mar 2002 10:43:00 -0800 (PST)
Subject: [R] How to get the datapoints of an density estimation with
 locfit?
In-Reply-To: <isapiwc.4b8d1e19.447c.3ca4bda1.c929e.a6@stud-iss.cs.fh-nuernberg.de>
Message-ID: <Pine.GSO.4.10.10203301041020.12643-100000@quetelet.stat.ucla.edu>

As far as I know, locfit does not store its estimates.  You have to use
the fitted.values() function.  So, something like:

library(locfit)
x <- rnorm(200)
f <- locfit( ~ x)
fhat <- fitted.values(f)
cbind(x, fhat)

I think that will give you what you want.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 29 Mar 2002, Ralf.Kloessinger at student.fh-nuernberg.de wrote:

> Hello!!!
> 
> I'm just a beginner of R.  I work with locfit to get the density from
> an numeric vector. It looks good when I plot the graph, but I need the
> output data of locfit. For example I need somthing like that (only
> integer values for the input): numeric vector (input of locfit)  
> density (output of locfit)  1 0.05.... 2 0.04.. 3 0.01 ...
> 
> Thank you for your help and your time.
> 
> Ralf Kloessinger
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sat Mar 30 20:53:46 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 30 Mar 2002 14:53:46 -0500
Subject: [R] Inconsistency among mean, median, max, var
Message-ID: <3CA5D17A.21001.2EFDAE@localhost>



I found a strange inconsistency:

If m is a matrix and d is a data frame then

- mean(m), median(m), max(m) and max(d) all return a single value 

but

- mean(d) returns the column means 
- median(d) fails
- both var(m) and var(d)  return the variance covariance matrix

You pretty much have to experiment to figure this out since much of this 
behavior is not readily obvious from the help files.

Even after you have figured it out, its pretty hard to remember.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 30 21:25:02 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 30 Mar 2002 20:25:02 +0000 (GMT)
Subject: [R] Inconsistency among mean, median, max, var
In-Reply-To: <3CA5D17A.21001.2EFDAE@localhost>
Message-ID: <Pine.LNX.4.31.0203302018200.1390-100000@gannet.stats>

On Sat, 30 Mar 2002 ggrothendieck at yifan.net wrote:

> I found a strange inconsistency:

Well, these do work as documented, and I don't find it even ordinarily
inconsistent.

> If m is a matrix and d is a data frame then
>
> - mean(m), median(m), max(m) and max(d) all return a single value
>
> but
>
> - mean(d) returns the column means
> - median(d) fails
> - both var(m) and var(d)  return the variance covariance matrix
>
> You pretty much have to experiment to figure this out since much of this
> behavior is not readily obvious from the help files.

I don't think that is even 1% fair:

?mean clearly says what it does for a data frame.
?median clearly says it only works for numeric vectors.
?var clearly says that it works for `a numeric vector, matrix or data
frame'

Whatever is the problem with that?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Sun Mar 31 00:14:32 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Sat, 30 Mar 2002 18:14:32 -0500
Subject: [R] Inconsistency among mean, median, max, var
In-Reply-To: <Pine.LNX.4.31.0203302018200.1390-100000@gannet.stats>
References: <3CA5D17A.21001.2EFDAE@localhost>
Message-ID: <3CA60088.17988.E6C8D0@localhost>

Don't get me wrong.  I think the R package is great and, in fact, am personally
investing time to learn it.  I particularly like its object oriented nature,
data frames (which nicely organize datasets) and the large and increasing set 
of packages and interfaces available for it.

I only mention my problems with it in hope it will lead to better more 
consistent software.  My comments are not a criticism.  They are 
helpful (hopefully) feedback.

Regarding specifically your query on what is wrong: its too complex and
concepts are not orthogonal.  Realistically its necessary to keep going back
to the documentation or test it out to figure out what these functions do
if you don't want to make a mistake.

You need a decision matrix like this one just to figure out what you are going 
to get.  

        ----- argument type ------
        matrix           dataframe

sum     single value     single value
max     single value     single value
median  single value     fails

mean    single value     columnwise
sd      columnwise       columnwise
var     varcov mat       varcov mat

My best try at summarizing this is to split it into two sets of rows 
as shown above with the following description:

- mean produces a single value on a matrix and acts columnwise on dataframes
- sd works columwise 
- var produces a variance covariance matrix
- others produce a single value except for median which fails on dataframes

It might be an idea to try out more functions just to see how other functions
fit in.

I use another statistical package in which the 12 corresponding functions have
a consistent result (work columnwise).


On 30 Mar 2002 at 20:25, ripley at stats.ox.ac.uk wrote:

> On Sat, 30 Mar 2002 ggrothendieck at yifan.net wrote:
> 
> > I found a strange inconsistency:
> 
> Well, these do work as documented, and I don't find it even ordinarily
> inconsistent.
> 
> > If m is a matrix and d is a data frame then
> >
> > - mean(m), median(m), max(m) and max(d) all return a single value
> >
> > but
> >
> > - mean(d) returns the column means
> > - median(d) fails
> > - both var(m) and var(d)  return the variance covariance matrix
> >
> > You pretty much have to experiment to figure this out since much of this
> > behavior is not readily obvious from the help files.
> 
> I don't think that is even 1% fair:
> 
> ?mean clearly says what it does for a data frame.
> ?median clearly says it only works for numeric vectors.
> ?var clearly says that it works for `a numeric vector, matrix or data
> frame'
> 
> Whatever is the problem with that?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ralf.Kloessinger at student.fh-nuernberg.de  Sun Mar 31 04:37:56 2002
From: Ralf.Kloessinger at student.fh-nuernberg.de (Ralf.Kloessinger@student.fh-nuernberg.de)
Date: Sun, 31 Mar 2002 04:37:56 +0200
Subject: [R] How to get the datapoints of an density estimationwithlocfit?
Message-ID: <isapiwc.4b8d1e19.1adb.3ca67684.5bc17.c0@stud-iss.cs.fh-nuernberg.de>

Hello!!

At first thank you all for your suggestions and your help.

But I would like to get another group of datas from the density estimation. I don't know if these information are provided by locfit or I should use an other function like plot().
Description:
Each number between 1 and 100 (only integer) for example should have only one density value. But I also would like to have the density values of points, where I have no input datas. This is the information I would like to have. 
I tried it with fitted.values(), sink(), locfit()$x. 
I know this data must be there, because on the graph produced by plot() I can see the values. Or plot() calculates the points for the graph??

Nice to have:
Input data:   output data :          data range:
for locfit    density estimation     Result
1             0.01                   1
2             0.05                   2
              0.03                   3
              0.06                   4  
5             0.02                   5 
....

Thank you for your help and your time

Ralf  

> As far as I know, locfit does not store its estimates.  You have to use
> the fitted.values() function.  So, something like:
> 
> library(locfit)
> x <- rnorm(200)
> f <- locfit( ~ x)
> fhat <- fitted.values(f)
> cbind(x, fhat)
> 
> I think that will give you what you want.
> 
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
> 
> On Fri, 29 Mar 2002, Ralf.Kloessinger at student.fh-nuernberg.de wrote:
> 
>> Hello!!!
>> 
>> I'm just a beginner of R.  I work with locfit to get the density from
>> an numeric vector. It looks good when I plot the graph, but I need the
>> output data of locfit. For example I need somthing like that (only
>> integer values for the input): numeric vector (input of locfit)  
>> density (output of locfit)  1 0.05.... 2 0.04.. 3 0.01 ...
>> 
>> Thank you for your help and your time.
>> 
>> Ralf Kloessinger
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 31 07:18:38 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 31 Mar 2002 06:18:38 +0100 (BST)
Subject: [R] How to get the datapoints of an density estimationwithlocfit?
In-Reply-To: <isapiwc.4b8d1e19.1adb.3ca67684.5bc17.c0@stud-iss.cs.fh-nuernberg.de>
Message-ID: <Pine.GSO.4.44.0203310614001.14745-100000@auk.stats>

On Sun, 31 Mar 2002 Ralf.Kloessinger at student.fh-nuernberg.de wrote:

> Hello!!
>
> At first thank you all for your suggestions and your help.
>
> But I would like to get another group of datas from the density estimation. I don't know if these information are provided by locfit or I should use an other function like plot().
> Description:
> Each number between 1 and 100 (only integer) for example should have only one density value. But I also would like to have the density values of points, where I have no input datas. This is the information I would like to have.
> I tried it with fitted.values(), sink(), locfit()$x.
> I know this data must be there, because on the graph produced by plot() I can see the values. Or plot() calculates the points for the graph??
>
> Nice to have:
> Input data:   output data :          data range:
> for locfit    density estimation     Result
> 1             0.01                   1
> 2             0.05                   2
>               0.03                   3
>               0.06                   4
> 5             0.02                   5
> ....
>
> Thank you for your help and your time

That's done by predict: see ?predict.locfit.  It's logical: you want to
predict the density at unobserved data points.

There are several other packages in R which do density estimation
and you may find easier to use, for example KernSmooth and its function
locpoly() if you want a close equivalent.

>
> Ralf
>
> > As far as I know, locfit does not store its estimates.  You have to use
> > the fitted.values() function.  So, something like:
> >
> > library(locfit)
> > x <- rnorm(200)
> > f <- locfit( ~ x)
> > fhat <- fitted.values(f)
> > cbind(x, fhat)
> >
> > I think that will give you what you want.
> >
> > -roger
> > _______________________________
> > UCLA Department of Statistics
> > rpeng at stat.ucla.edu
> > http://www.stat.ucla.edu/~rpeng
> >
> > On Fri, 29 Mar 2002, Ralf.Kloessinger at student.fh-nuernberg.de wrote:
> >
> >> Hello!!!
> >>
> >> I'm just a beginner of R.  I work with locfit to get the density from
> >> an numeric vector. It looks good when I plot the graph, but I need the
> >> output data of locfit. For example I need somthing like that (only
> >> integer values for the input): numeric vector (input of locfit)
> >> density (output of locfit)  1 0.05.... 2 0.04.. 3 0.01 ...
> >>
> >> Thank you for your help and your time.
> >>
> >> Ralf Kloessinger
> >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >> Send "info", "help", or "[un]subscribe"
> >> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From infos at attcanada.ca  Sun Mar 31 12:26:42 2002
From: infos at attcanada.ca (Barbara Caldwell)
Date: Sun, 31 Mar 2002 04:26:42 -0600
Subject: [R] The United States Healthcare Directory
Message-ID: <41232-220023031102642150@default>

We are publishers of specialized reports and directories 
dealing with public affairs.  Our new directory, 
"The United States Healthcare Directory" covers hospitals, 
nursing homes, HMOs, pharmaceutical companies, pharmacies, 
group medical practices, medical manufacturers, etc.  It is available 
at an introductory price of $245.  If you are interested 
in receiving this directory, please provide us with your mailing 
address or visit our website at www.national-directories.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Sun Mar 31 18:14:24 2002
From: richmond at saintmarys.edu (David A Richmond)
Date: Sun, 31 Mar 2002 11:14:24 -0500 (EST)
Subject: [R] Flops
Message-ID: <Pine.GSO.4.43.0203311113010.9888-100000@jade.saintmarys.edu>

Hi all,
	Is there a way to count how many flops have been performed so
far, or in a given section of code?

dave r

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |
+ Dept. of Sociology          complex scientific      +
|Saint Mary's College          principle, known as    |
+ Notre Dame, IN 46556               "pot luck."      +
|574-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liu.262 at osu.edu  Sun Mar 31 12:52:35 2002
From: liu.262 at osu.edu (Kaiya Liu)
Date: Sun, 31 Mar 2002 12:52:35 +0200
Subject: [R] lme degrees of freedoms: SAS and R
Message-ID: <5.0.0.25.2.20020331125150.00aabeb0@pop.service.ohio-state.edu>

Dear list,

I ran a mixed effect model using R 1.4.1 and SAS 8.0 on the SIMS data found 
in the SASmixed package and found that the degrees of freedoms for fixed 
effects are very different.
 From R, df = n - v -1 where n is total # of observations, v is the # of 
levels for the grouping factor. From SAS df = v -1. Am I wrong about this 
or can somebody explain which is correct and why?

Thanks a lot!

Kaiya Liu

-------------------------------------
Here are the codes:

For R:
 > formula (SIMS)
Gain ~ Pretot | Class
 > data(SIMS)
 > fm1SIMS <- lme(Gain ~ Pretot, data = SIMS, random = ~ Pretot | Class, 
control = list(msVerbose = TRUE))
 > summary (fm1SIMS)
_________________________________
For SAS:

proc mixed data=sims;
    class class;
    model gain = pretot / solution;
    random intercept pretot / subject=class type=un;
run;

Most of the results are comparable except the degrees of freedoms for the 
fixed effects:

 From R: DF = 3500

Fixed effects: Gain ~ Pretot
                 Value Std.Error   DF   t-value p-value
(Intercept)  7.066218 0.3631916 3500  19.45589  <.0001
Pretot      -0.187538 0.0163680 3500 -11.45756  <.0001

Number of Observations: 3691
Number of Groups: 190
__________________________________________________________
 From SAS: DF = 189

                     Solution for Fixed Effects

                                          Standard
                 Effect       Estimate       Error      DF    t 
Value    Pr > |t|

                 Intercept      7.0595      0.3658     189      19.30 
<.0001
                 pretot        -0.1860     0.01610     189     -11.56 
<.0001

-----------------------------------------------------------
Kaiya Liu
School of Journalism and Communication
Ohio State University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


