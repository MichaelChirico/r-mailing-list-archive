From p.dalgaard at biostat.ku.dk  Sun Oct  1 21:37:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Oct 2000 21:37:52 +0200
Subject: Two tcltk questions and Re: [R] tcltk package functionality
In-Reply-To: Peter Dalgaard BSA's message of "29 Sep 2000 18:42:15 +0200"
References: <200009290814.KAA00693@wiwi5.uni-bielefeld.de> <x2itrfup3s.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2snqgmjxr.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

...
> Alternatively tell me how to avoid producing that "%..." argument on
> callbacks and command=function(...)tkyview(tl.yscroll,...) should
> work. I suspect that it might be easy.

Done for the development version.

> By fixing the bug ;) This has been waiting to happen. The quoting
> mechanisms of Tcl makes it impossible to get an unbalanced set of
> braces into a {...}-delimited string and this is what the .Tcl
> interface is producing. So one really needs to use "..." delimiting
> with the entire morass of special character escapes. This is due to
> sheer laziness on my part (or slightly nicer put: my mind was
> focused elsewhere at the time).

Ditto (in fact simpler than I thought, since it seems that one can get
away with just handling quotes, backslashes, and left square
brackets).

The patches are these:

$ cvs diff -ur 1.3 src/library/tcltk/src/tcltk.c
Index: src/library/tcltk/src/tcltk.c
===================================================================
RCS file: /home/rdevel/CVS-ARCHIVE/R/src/library/tcltk/src/tcltk.c,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -r1.3 -r1.4
--- src/library/tcltk/src/tcltk.c       2000/08/07 22:24:35     1.3
+++ src/library/tcltk/src/tcltk.c       2000/10/01 19:24:16     1.4
@@ -133,10 +133,13 @@
        is protected from later GCs. Otherwise we'll have buttons that
        make R go Boom... We need register_callback(closure) or
        something to that effect + a run through registered callbacks
-       in the MarkPhase of GC */
+       in the MarkPhase of GC. [Currently, this is handled by having
+       .Tcl.args assign an alias to the function in the environment of
+       the window with which the callback is associated] */
 
     while ( formals != R_NilValue )
     {
+       if (TAG(formals) ==  R_DotsSymbol) break;
        sprintf(tmp, " %%%s", CHAR(PRINTNAME(TAG(formals))));
        strcat(buf, tmp);
        formals = CDR(formals);


$ cvs diff -ur 1.5 src/library/tcltk/R/Tk.R
Index: src/library/tcltk/R/Tk.R
===================================================================
RCS file: /home/rdevel/CVS-ARCHIVE/R/src/library/tcltk/R/Tk.R,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -r1.5 -r1.6
--- src/library/tcltk/R/Tk.R    2000/06/08 16:17:33     1.5
+++ src/library/tcltk/R/Tk.R    2000/10/01 19:24:16     1.6
@@ -21,7 +21,11 @@
             assign(callback, .Alias(x), envir=current.win)
             return(callback)
         }
-        paste("{", x, "}", sep="", collapse=" ")
+        ## quoting hell...
+        x <- gsub("\\\\", "\\\\\\\\", as.character(x))
+        x <- gsub("\"","\\\\\"", as.character(x))
+        x <- gsub("\\[","\\\\[", as.character(x))
+        paste("\"", x, "\"", sep = "", collapse = " ")
     }

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raoul.boenisch at uni-essen.de  Mon Oct  2 01:10:45 2000
From: raoul.boenisch at uni-essen.de (Raoul Boenisch)
Date: Mon, 2 Oct 2000 01:10:45 +0200
Subject: [R] barplots with standard deviation
Message-ID: <20001002011045.A3165@wor.wondernet.local>

Hello!

I'd like to print certain kinds of diagrams with R. They should
look like barplots with besides=TRUE, but also have the variance
or standard deviation on every bar so that one could better
compare the bars. How could I apply this?

thanks for your help

	Raoul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at sirius.ftsm.ukm.my  Mon Oct  2 08:35:54 2000
From: root at sirius.ftsm.ukm.my (mohd zamri)
Date: Mon, 2 Oct 2000 14:35:54 +0800
Subject: [R] the underscore ("_") in variable name
Message-ID: <20001002143554.A795@sirius.ftsm.ukm.my>

new to R and starting to learn to program R. The underscore ("_") did some
suprising result. e.g

> c <- c(1,2,3,4,5)
> mean(c)
[1] 3
> c_mean <- mean(c)
> c
[1] 3

having some experience in C, I thought the underscore is "always" valid in
variable name. totally confuse me. Reread the R-FAQ a few times, and found
on pg. 7 foot-note which states that;

   the underscore character "_" is an alllowable synonym for the left
   pointing assignment operator "<-", ...........
   
it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
which explain the result.

suggestion:

I believe it would be helpful if this point be make clear on the FAQ, and
not mention as a footnote. What is a proper naming convention and a few
example of valid/invalid name for variables.

zamri
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon Oct  2 08:08:03 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Mon, 02 Oct 2000 16:08:03 +1000
Subject: [R] the underscore ("_") in variable name
Message-ID: <3.0.32.20001002160802.012a8150@pophost.nsw.cmis.csiro.au>

At 14:35 02/10/00 +0800, mohd zamri wrote:
>new to R and starting to learn to program R. The underscore ("_") did some
>suprising result. e.g
>
>> c <- c(1,2,3,4,5)
>> mean(c)
>[1] 3
>> c_mean <- mean(c)
>> c
>[1] 3
>
>having some experience in C, I thought the underscore is "always" valid in
>variable name. totally confuse me. Reread the R-FAQ a few times, and found
>on pg. 7 foot-note which states that;
>
>   the underscore character "_" is an alllowable synonym for the left
>   pointing assignment operator "<-", ...........
>   
>it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
>which explain the result.
>
>suggestion:
>
>I believe it would be helpful if this point be make clear on the FAQ, and
>not mention as a footnote. What is a proper naming convention and a few
>example of valid/invalid name for variables.

Ah, but now that you have been bitten by it, I bet you don't make the same
mistake again!  :-)

There is a no-win situation here.  It is there (I presume) mainly for
compatibility with S.  It is in S because some old keyboards did not have
an underscore but a left-pointing arrow at that same position.  For better
or worse we are stuck with it now.

If we follow your suggestion and give prominence to the fact that "_" is a
synonym for "<-" then as sure as eggs some people will actually USE it!
This is, in the opinion of many of us at least, a very BAD thing as it
makes code just about unreadible.  On the other hand if we don't give
prominence to the fact but just hide it in an obscure footnote, then many
people will get bitten first time (but only then) and come complaining to
R-help and I will write more tetchy little notes like this one...

:-)

Bill Venables.
--
Bill Venables, Statistician                         Tel. +61 7 3826 7251 
CSIRO Marine Laboratories,                          Fax. +61 7 3826 7304
Cleveland, Qld, 4163                  Email: Bill.Venables at cmis.csiro.au
AUSTRALIA                        http://www.cmis.csiro.au/bill.venables/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 10:19:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Oct 2000 09:19:13 +0100 (BST)
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <20001002143554.A795@sirius.ftsm.ukm.my>
Message-ID: <Pine.GSO.4.05.10010020910310.23040-100000@toucan.stats>

On Mon, 2 Oct 2000, mohd zamri wrote:

> new to R and starting to learn to program R. The underscore ("_") did some
> suprising result. e.g
> 
> > c <- c(1,2,3,4,5)
> > mean(c)
> [1] 3
> > c_mean <- mean(c)
> > c
> [1] 3
> 
> having some experience in C, I thought the underscore is "always" valid in
> variable name. totally confuse me. Reread the R-FAQ a few times, and found

R is not C, and the set of allowed names is not at all the same.

> on pg. 7 foot-note which states that;
> 
>    the underscore character "_" is an alllowable synonym for the left
>    pointing assignment operator "<-", ...........
>    
> it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
> which explain the result.
> 
> suggestion:
> 
> I believe it would be helpful if this point be make clear on the FAQ, and
> not mention as a footnote. What is a proper naming convention and a few
> example of valid/invalid name for variables.

It would be helpful to give a naming convention, but this is obscured by
the fact that names can often be quoted.  So "c_mean" *is* a valid name.

> "c_mean" <- mean(1:5)
> get("c_mean")
[1] 3

Names which can be used without quoting them contain A-Z, a-z, 0-9 and .,
but may not start with 0-9 and .

The definition of A-Z, a-z is locale-dependent, that is, it is all chars
that are considered to be alphabetic in the locale.  That may not be what
you expect, especially on Windows (1.2.0 will be better).

Unfortunately, the only place this seems to be written down is in the
unfinished (and unreleased) R Language Manual and in various places in
the Venables & Ripley books.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  2 10:31:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Oct 2000 10:31:46 +0200
Subject: [R] the underscore ("_") in variable name
In-Reply-To: Bill Venables's message of "Mon, 02 Oct 2000 16:08:03 +1000"
References: <3.0.32.20001002160802.012a8150@pophost.nsw.cmis.csiro.au>
Message-ID: <x2u2avve31.fsf@blueberry.kubism.ku.dk>

Bill Venables <Bill.Venables at cmis.csiro.au> writes:

> If we follow your suggestion and give prominence to the fact that "_" is a
> synonym for "<-" then as sure as eggs some people will actually USE it!
> This is, in the opinion of many of us at least, a very BAD thing as it
> makes code just about unreadible.  On the other hand if we don't give
> prominence to the fact but just hide it in an obscure footnote, then many
> people will get bitten first time (but only then) and come complaining to
> R-help and I will write more tetchy little notes like this one...

Of course, there's also the option of letting the parser say "obsolete
use of underscore as assignment operator" every time it is used. 

This just might annoy people enough to persuade them to stop using it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anhoej at dadlnet.dk  Mon Oct  2 11:15:09 2000
From: anhoej at dadlnet.dk (=?US-ASCII?Q?Jacob_Anhoj?=)
Date: Mon, 2 Oct 2000 11:15:09 +0200
Subject: FW: [R] the underscore ("_") in variable name
Message-ID: <000001c02c51$44145450$7178e282@pc2529>

don't know much about programming. But I know that it is not a good idea to
assign a variable name to the name of an intrinsic constant or function. In
your example, you assign the name "c" to a variable. But "c" is already the
name of a function i R. In this way you are asking for trouble.

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of mohd zamri
Sent: 2. oktober 2000 08:36
To: r-help at stat.math.ethz.ch
Subject: [R] the underscore ("_") in variable name


new to R and starting to learn to program R. The underscore ("_") did some
suprising result. e.g

> c <- c(1,2,3,4,5)
> mean(c)
[1] 3
> c_mean <- mean(c)
> c
[1] 3

having some experience in C, I thought the underscore is "always" valid in
variable name. totally confuse me. Reread the R-FAQ a few times, and found
on pg. 7 foot-note which states that;

   the underscore character "_" is an alllowable synonym for the left
   pointing assignment operator "<-", ...........

it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
which explain the result.

suggestion:

I believe it would be helpful if this point be make clear on the FAQ, and
not mention as a footnote. What is a proper naming convention and a few
example of valid/invalid name for variables.

zamri
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 11:36:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Oct 2000 10:36:07 +0100 (BST)
Subject: FW: [R] the underscore ("_") in variable name
Message-ID: <200010020936.KAA23181@toucan.stats.ox.ac.uk>


> From: Jacob Anhoj <anhoej at dadlnet.dk>
> Date: Mon, 2 Oct 2000 11:15:09 +0200
> 
> don't know much about programming. But I know that it is not a good idea to
> assign a variable name to the name of an intrinsic constant or function. In
> your example, you assign the name "c" to a variable. But "c" is already the
> name of a function i R. In this way you are asking for trouble.

Perhaps, but R knows the difference between functions and (numeric)
variables, so you will get into less trouble than you might expect.

The function conflicts() (see its help page) can help detect if this
is the problem.  The real difficulty seems to come from using a modified
version of a system function, and forgetting about it.

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of mohd zamri
> Sent: 2. oktober 2000 08:36
> To: r-help at stat.math.ethz.ch
> Subject: [R] the underscore ("_") in variable name
> 
> 
> new to R and starting to learn to program R. The underscore ("_") did some
> suprising result. e.g
> 
> > c <- c(1,2,3,4,5)
> > mean(c)
> [1] 3
> > c_mean <- mean(c)
> > c
> [1] 3
> 
> having some experience in C, I thought the underscore is "always" valid in
> variable name. totally confuse me. Reread the R-FAQ a few times, and found
> on pg. 7 foot-note which states that;
> 
>    the underscore character "_" is an alllowable synonym for the left
>    pointing assignment operator "<-", ...........
> 
> it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
> which explain the result.
> 
> suggestion:
> 
> I believe it would be helpful if this point be make clear on the FAQ, and
> not mention as a footnote. What is a proper naming convention and a few
> example of valid/invalid name for variables.
> 
> zamri
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Mon Oct  2 11:56:40 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Mon, 2 Oct 2000 11:56:40 +0200 
Subject: [R] the underscore ("_") in variable name
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E855@exdkba03.novo.dk>

> -----Original Message-----
> From: Bill Venables [mailto:Bill.Venables at cmis.csiro.au]
> Sent: 2. oktober 2000 08:08
> To: mohd zamri
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] the underscore ("_") in variable name
> 
> 
> At 14:35 02/10/00 +0800, mohd zamri wrote:
> >new to R and starting to learn to program R. The underscore 
> ("_") did some
> >suprising result. e.g
> >
> >> c <- c(1,2,3,4,5)
> >> mean(c)
> >[1] 3
> >> c_mean <- mean(c)
> >> c
> >[1] 3
> >
> >having some experience in C, I thought the underscore is 
> "always" valid in
> >variable name. totally confuse me. Reread the R-FAQ a few 
> times, and found
> >on pg. 7 foot-note which states that;
> >
> >   the underscore character "_" is an alllowable synonym for the left
> >   pointing assignment operator "<-", ...........
> >   
> >it is appear that R parse  "c_mean <-  mean(c)" as "c <- 
> mean <- mean(c)",
> >which explain the result.
> >
> >suggestion:
> >
> >I believe it would be helpful if this point be make clear on 
> the FAQ, and
> >not mention as a footnote. What is a proper naming 
> convention and a few
> >example of valid/invalid name for variables.
> 
> Ah, but now that you have been bitten by it, I bet you don't 
> make the same
> mistake again!  :-)
> 
> There is a no-win situation here.  It is there (I presume) mainly for
> compatibility with S.  It is in S because some old keyboards 
> did not have
> an underscore but a left-pointing arrow at that same 
> position.  For better
> or worse we are stuck with it now.
> 
> If we follow your suggestion and give prominence to the fact 
> that "_" is a
> synonym for "<-" then as sure as eggs some people will 
> actually USE it!
> This is, in the opinion of many of us at least, a very BAD thing as it
> makes code just about unreadible.  On the other hand if we don't give
> prominence to the fact but just hide it in an obscure 
> footnote, then many
> people will get bitten first time (but only then) and come 
> complaining to
> R-help and I will write more tetchy little notes like this one...
> 
> :-)
> 
> Bill Venables.
> --
> Bill Venables, Statistician                         Tel. +61 
> 7 3826 7251 
> CSIRO Marine Laboratories,                          Fax. +61 
> 7 3826 7304
> Cleveland, Qld, 4163                  Email: 
> Bill.Venables at cmis.csiro.au
> AUSTRALIA                        
http://www.cmis.csiro.au/bill.venables/

Bill, 

This is actually beside the point.
The relevant thing to put on the FAQ that "_" is NOT
permitted as character in variable names...

No need to metion why...

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oz168 at hotmail.com  Mon Oct  2 12:17:41 2000
From: oz168 at hotmail.com (Ollie Zhang)
Date: Mon, 02 Oct 2000 23:17:41 +1300
Subject: [R] [un]subscribe
References: <392D8CF8.7BB4DA29@nceas.ucsb.edu>
Message-ID: <39D860C5.CD894058@hotmail.com>



"Timothy H. Keitt" wrote:

> Hi Folks,
>
> I recently moved my RPgSQL package over to
>
>         http://rpgsql.sourceforge.net/
>
> The package does everything that I need it to do, but I am hoping that
> others will be interested in maintaining and extending the package.
> Full instructions on using SourceForge can be found at
>
>         http://sourceforge.net/
>
> Cheers,
> Tim
>
> --
> Timothy H. Keitt
> National Center for Ecological Analysis and Synthesis
> 735 State Street, Suite 300, Santa Barbara, CA 93101
> Phone: 805-892-2519, FAX: 805-892-2510
> http://www.nceas.ucsb.edu/~keitt/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Oct  2 13:01:29 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 02 Oct 2000 12:01:29 +0100
Subject: [R] R function for "interp"
Message-ID: <39D86B08.F7FF65F@ipimar.pt>

Hi

How can I do the same has interp in s+ with R ? I've looked to
"approxfun" but didn't figured out how to do it.

Thanks

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 13:22:16 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Oct 2000 12:22:16 +0100 (BST)
Subject: [R] R function for "interp"
Message-ID: <200010021122.MAA01044@toucan.stats.ox.ac.uk>

> Date: Mon, 02 Oct 2000 12:01:29 +0100
> From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
 
> How can I do the same has interp in s+ with R ? I've looked to
> "approxfun" but didn't figured out how to do it.

It's in package akima (on CRAN).  I think interp,old there is the 
closest equivalent.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Mon Oct  2 14:53:32 2000
From: salwin at mitretek.org (Art Salwin)
Date: Mon, 02 Oct 2000 08:53:32 -0400
Subject: [R] Use of example()
References: <3937FF2B.E159191B@discrete.concordia.ca> <00060316320500.00373@ligarto>
Message-ID: <39D8854C.2E77DAB7@mitretek.org>

I've been using R for several months, and just learned
that example(topic) runs the example R code given in the
help file
for that topic.  Very nice feature!  However, I have a
question:  when
there's more than one example for a topic, each succeeding
example
overwrites the preceding ones on the screen, and so only the
last
one is visible.  Is there a way to overcome this by having
the examples
execute only one at a time or by having them write to
different output
screens?
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  2 15:09:53 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Oct 2000 15:09:53 +0200
Subject: [R] Use of example()
In-Reply-To: Art Salwin's message of "Mon, 02 Oct 2000 08:53:32 -0400"
References: <3937FF2B.E159191B@discrete.concordia.ca> <00060316320500.00373@ligarto> <39D8854C.2E77DAB7@mitretek.org>
Message-ID: <x2bsx3o0da.fsf@blueberry.kubism.ku.dk>

Art Salwin <salwin at mitretek.org> writes:

> I've been using R for several months, and just learned
> that example(topic) runs the example R code given in the
> help file
> for that topic.  Very nice feature!  However, I have a
> question:  when
> there's more than one example for a topic, each succeeding
> example
> overwrites the preceding ones on the screen, and so only the
> last
> one is visible.  Is there a way to overcome this by having
> the examples
> execute only one at a time or by having them write to
> different output
> screens?

You mean the graphics? (In text mode, just use the scrollback feature
of your console or xterm - Shift-PgUp in the latter case)

Try setting par(ask=TRUE) and rerun the examples.

There's a reason for not making example() do that itself, namely that
it would fire up a graph window even for text-only example sections.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 15:11:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Oct 2000 14:11:40 +0100 (BST)
Subject: [R] Use of example()
Message-ID: <200010021311.OAA01738@toucan.stats.ox.ac.uk>


> Date: Mon, 02 Oct 2000 08:53:32 -0400
> From: Art Salwin <salwin at mitretek.org>
> X-Accept-Language: en
> To: R Help List <r-help at stat.math.ethz.ch>
> Subject: [R] Use of example()
> X-MIMETrack: Itemize by SMTP Server on Mail1/Mitretek Systems(Release 5.0.4 
|June 8, 2000) at 10/02/2000 08:51:32 AM, Serialize by Router on Mail1/Mitretek 
Systems(Release 5.0.4 |June 8, 2000) at 10/02/2000 08:51:33 AM, Serialize 
complete at 10/02/2000 08:51:33 AM
> 
> I've been using R for several months, and just learned
> that example(topic) runs the example R code given in the
> help file
> for that topic.  Very nice feature!  However, I have a
> question:  when
> there's more than one example for a topic, each succeeding
> example
> overwrites the preceding ones on the screen, and so only the
> last
> one is visible.  Is there a way to overcome this by having
> the examples
> execute only one at a time or by having them write to
> different output
> screens?

That's not a feature of example per se, but applies to all R output.  I
presume that you mean the graphics output, as the text output is
scrollable (if you use the Windows GUI or a scrollable terminal).  Try 
par(ask=TRUE) to get the graphics to pause before each graph.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Oct  2 15:33:00 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 02 Oct 2000 14:33:00 +0100
Subject: [R] R function for "interp"
References: <200010021122.MAA01044@toucan.stats.ox.ac.uk>
Message-ID: <39D88E87.7CCB12AE@ipimar.pt>

Prof Brian Ripley wrote:

> > Date: Mon, 02 Oct 2000 12:01:29 +0100
> > From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
>
> > How can I do the same has interp in s+ with R ? I've looked to
> > "approxfun" but didn't figured out how to do it.
>
> It's in package akima (on CRAN).  I think interp,old there is the
> closest equivalent.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

I found it but it's not working properly :-(

If I do "contour(interp(X,Y,Z))" it stops without finishing the ploting process,
the margins and borders fail.

Is there any known reason why ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 15:55:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Oct 2000 14:55:24 +0100 (BST)
Subject: [R] R function for "interp"
Message-ID: <200010021355.OAA06022@toucan.stats.ox.ac.uk>

> Date: Mon, 02 Oct 2000 14:33:00 +0100
> From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
> 
> Prof Brian Ripley wrote:
> 
> > > Date: Mon, 02 Oct 2000 12:01:29 +0100
> > > From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
> >
> > > How can I do the same has interp in s+ with R ? I've looked to
> > > "approxfun" but didn't figured out how to do it.
> >
> > It's in package akima (on CRAN).  I think interp,old there is the
> > closest equivalent.
> >
> >
> I found it but it's not working properly :-(
> 
> If I do "contour(interp(X,Y,Z))" it stops without finishing the ploting 
process,
> the margins and borders fail.
> 
> Is there any known reason why ?

Did you try interp.old *as I suggested*?  There are working examples in
the V&R script ch14.R.  The first of those does work with interp, so
perhaps your installation of package akima is broken?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Mon Oct  2 16:01:55 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Mon, 2 Oct 2000 10:01:55 -0400 (EDT)
Subject: [R] barplots with standard deviation
In-Reply-To: <20001002011045.A3165@wor.wondernet.local>
Message-ID: <Pine.SGI.3.96.1001002095917.26897D-100000@ln.nimh.nih.gov>

barplot returns a matrix of the x-centers.  You can use this to add to the
plot.

Say mp is what is returned by barplot, you could do something like
arrows(mp, heights, mp, heights + std.dev, angle = 90)

or use segments if you don't want the crossbar.

There's an example of this (and other things you could add to the
barplot) in the help file for barplot.

Hope this helps.

Matt Wiener


On Mon, 2 Oct 2000, Raoul Boenisch wrote:

> Hello!
> 
> I'd like to print certain kinds of diagrams with R. They should
> look like barplots with besides=TRUE, but also have the variance
> or standard deviation on every bar so that one could better
> compare the bars. How could I apply this?
> 
> thanks for your help
> 
> 	Raoul
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Oct  2 16:06:10 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 2 Oct 2000 16:06:10 +0200 (MET DST)
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <x2u2avve31.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Oct 02, 2000 10:31:46 AM
Message-ID: <200010021406.QAA21105@alpha.luc.ac.be>

> 
> Bill Venables <Bill.Venables at cmis.csiro.au> writes:
> 
> > If we follow your suggestion and give prominence to the fact that "_" is a
> > synonym for "<-" then as sure as eggs some people will actually USE it!
> > This is, in the opinion of many of us at least, a very BAD thing as it
> > makes code just about unreadible.  On the other hand if we don't give
> > prominence to the fact but just hide it in an obscure footnote, then many
> > people will get bitten first time (but only then) and come complaining to
> > R-help and I will write more tetchy little notes like this one...
> 
> Of course, there's also the option of letting the parser say "obsolete
> use of underscore as assignment operator" every time it is used. 
> 
> This just might annoy people enough to persuade them to stop using it...

Excellent idea. Jim

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Oct  2 16:09:29 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 02 Oct 2000 15:09:29 +0100
Subject: [R] R function for "interp"
References: <200010021355.OAA06022@toucan.stats.ox.ac.uk>
Message-ID: <39D89719.3F2F3162@ipimar.pt>

Prof Brian Ripley wrote:

> > Date: Mon, 02 Oct 2000 14:33:00 +0100
> > From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
> >
> > Prof Brian Ripley wrote:
> >
> > > > Date: Mon, 02 Oct 2000 12:01:29 +0100
> > > > From: Jos? Ernesto Jardim <ernesto at ipimar.pt>
> > >
> > > > How can I do the same has interp in s+ with R ? I've looked to
> > > > "approxfun" but didn't figured out how to do it.
> > >
> > > It's in package akima (on CRAN).  I think interp,old there is the
> > > closest equivalent.
> > >
> > >
> > I found it but it's not working properly :-(
> >
> > If I do "contour(interp(X,Y,Z))" it stops without finishing the ploting
> process,
> > the margins and borders fail.
> >
> > Is there any known reason why ?
>
> Did you try interp.old *as I suggested*?  There are working examples in
> the V&R script ch14.R.  The first of those does work with interp, so
> perhaps your installation of package akima is broken?
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Yes, I used interp.old also !  It's the same, interp is a wraper to
interp.old or interp.new depending on the object (I suppose).

I'll look in the script your talking about.

Thanks

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From derek.eder at neuro.gu.se  Mon Oct  2 17:18:53 2000
From: derek.eder at neuro.gu.se (Derek N Eder)
Date: Mon, 02 Oct 2000 17:18:53 +0200
Subject: [R] binom.test bug?
Message-ID: <5.0.0.25.0.20001002171110.00a0d400@dss2.med.gu.se>

R. 1.1.0

The example below is self explanatory.


##  1  ##                                                      # works fine
 > binom.test((50*.64),50,.5,alt='g')
...     Exact binomial test  ...

##  2  ##                               #  WHAT  ! ?
 > binom.test((50*.65),50,.5,alt='g')

Error in binom.test((50 * 0.65), 50, 0.5, alt = "g") :
         x must be an integer between 0 and n

##  3  ##                               # works fine
 > binom.test((50*.66),50,.5,alt='g')
...      Exact binomial test  ...


Thanks!





Derek N. Eder
G?teborg University
Institute of Clinical Neuroscience,
Section of Psychiatry
Bl? Straket 17
SU/Sahlgrenska University Hospital
S 413 45 G?teborg, Sweden

tlf: +46 (31) 342 6139
fax: +46 (31) 341 1533
derek.eder at neuro.gu.se

(privat)
Landerigatan 2
S 416 70
G?teborg, Sweden
tlf +46 (31) 25 40 66
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001002/455cd046/attachment.html

From derek.eder at neuro.gu.se  Mon Oct  2 17:21:13 2000
From: derek.eder at neuro.gu.se (Derek N Eder)
Date: Mon, 02 Oct 2000 17:21:13 +0200
Subject: [R] binom.test bug?
Message-ID: <5.0.0.25.0.20001002172024.00a12a30@dss2.med.gu.se>

Re previous post:  ouch !  never mind, sorry.

Derek Eder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct  2 17:27:05 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 2 Oct 2000 08:27:05 -0700 (PDT)
Subject: [R] binom.test bug?
In-Reply-To: <5.0.0.25.0.20001002171110.00a0d400@dss2.med.gu.se>
Message-ID: <Pine.GSO.4.21.0010020825461.5187-100000@atlas.biostat.washington.edu>

On Mon, 2 Oct 2000, Derek N Eder wrote:

> R. 1.1.0
> 
> The example below is self explanatory.

So is the error message :)
 
> 
> ##  1  ##                                                      # works fine
>  > binom.test((50*.64),50,.5,alt='g')
> ...     Exact binomial test  ...

50*0.64=32, an integer between 0 and 50

> ##  2  ##                               #  WHAT  ! ?
>  > binom.test((50*.65),50,.5,alt='g')
> 
> Error in binom.test((50 * 0.65), 50, 0.5, alt = "g") :
>          x must be an integer between 0 and n

50*0.65=32.5, not an integer between 0 and 50. You can't get 65% successes
in 50 Bernoulli trials.


> ##  3  ##                               # works fine
>  > binom.test((50*.66),50,.5,alt='g')
> ...      Exact binomial test  ...

50*0.66=33, an integer between 0 and 50


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Mon Oct  2 19:39:23 2000
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Mon, 2 Oct 2000 10:39:23 -0700
Subject: [R] Apologies -- spam filter mail
Message-ID: <20001002103923.A12791@ix.netcom.com>

My apologies to this list for an automated spam reply which made its way
here recently.  I've been advised of it by several subscribers off-list.

I've disabled the automated response feature of my spam filter (Lars
Wirzenius's "spamfilter" procmail recipies).  I'm finding the tool
effective but overly aggressive -- if anyone here has experience with
this tool, I'd appreciate pointers.  Off list only.

Please advise me of any future anti-spam generated content, I'll disable
the program completely if any should occur.

Thank you.

-- 
Karsten M. Self <kmself at ix.netcom.com>     http://www.netcom.com/~kmself
 Evangelist, Opensales, Inc.                    http://www.opensales.org
  What part of "Gestalt" don't you understand?   Debian GNU/Linux rocks!
   http://gestalt-system.sourceforge.net/    K5: http://www.kuro5hin.org
GPG fingerprint: F932 8B25 5FDD 2528 D595 DC61 3847 889F 55F2 B9B0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001002/0af56175/attachment.bin

From holzer at stat.math.ethz.ch  Mon Oct  2 19:55:42 2000
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Mon, 2 Oct 2000 19:55:42 +0200
Subject: [R] Debugging dynloaded C-code with gdb
Message-ID: <14808.52254.170148.815746@gargle.gargle.HOWL>

Dear R users

I have started to use gdb for debugging dynloaded C code as described in
`Writing R Extensions'. Unfortunately I have run into several problems that
I haven't been able to solve:

- using `n': how comes that the same line of code appears up to three times
  (and inbetween the next line and maybe even the second next one?)

- using `print' resp. `display': How comes the variable values are
  different from those shown by fprintf? How comes the variable values
  change when actually no value is assigned to them (and I use `n', not
  `s')?

Let me give you a short piece of my code (the line number in brackets)

(216)  dyPixel = loc_mat[k][l] / 16;
(217)  dxPixel = loc_mat[k][l] - 16 * dyPixel;
(218)  ynb = k + (dyPixel - 8) / 8.;
(219)  xnb = l + (dxPixel - 8) / 8.;
(220)  fprintf(stderr, "%i %i %f %f\n", dyPixel, dxPixel, ynb, xnb);
(221)  linkLength = hypot(xnb-x, ynb-x);

and the corresponding output of gdb, using `n' - note that a) the
linenumbers show up in the sequence 216, 217, 218, 216, 217, 218, 219, 218,
219, 220, 221 and b) that the values of `xnb' and `ynb' in the end do not
correspond with those shown by fprintf in the second last statement:

Breakpoint 7, edgelGrouping (
    curv_vec=0x44262987 "D", 'ÿ' <repeats 199 times>..., curv_mat=0x442620cc, 
    or_mat=0x442c90a4, loc_mat=0x4433007c, xdim=752, ydim=558, 
    hashTable=0xbff7f044, hashInd=0xbfffdf84) at glazer.c:216
216		      dyPixel = loc_mat[k][l] / 16;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 1143349452
3: dyPixel = 478
(gdb) n
217		      dxPixel = loc_mat[k][l] - 16 * dyPixel;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 1144553335
3: dyPixel = 1144193148
(gdb) n
218		      ynb = k + (dyPixel - 8) / 8.;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 136
3: dyPixel = 1144193148
(gdb) n
216		      dyPixel = loc_mat[k][l] / 16;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 136
3: dyPixel = 1144193148
(gdb) n
217		      dxPixel = loc_mat[k][l] - 16 * dyPixel;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 136
3: dyPixel = 8
(gdb) n
218		      ynb = k + (dyPixel - 8) / 8.;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 8
3: dyPixel = 8
(gdb) n
219		      xnb = l + (dxPixel - 8) / 8.;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 8
3: dyPixel = 8
(gdb) n
218		      ynb = k + (dyPixel - 8) / 8.;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 8
3: dyPixel = 8
(gdb) n
219		      xnb = l + (dxPixel - 8) / 8.;
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 8
3: dyPixel = 8
(gdb) n
220		      fprintf(stderr, "%i %i %f %f\n", dyPixel, dxPixel, ynb, xnb);
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 8
3: dyPixel = 8
(gdb) n
8 8 477.000000 583.000000
221		      linkLength = hypot(xnb-x, ynb-x);
6: xnb = 9.1245819032751532e-313
5: ynb = 0
4: dxPixel = 0
3: dyPixel = 1075452551
(gdb) 


I would be grateful for any hints.

Peter
____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, LEO C14   fax:   + 41 1 632 12 28
(Leonhardstr. 27)                  <holzer at stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct  2 20:07:03 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 2 Oct 2000 11:07:03 -0700 (PDT)
Subject: [R] Debugging dynloaded C-code with gdb
In-Reply-To: <14808.52254.170148.815746@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.21.0010021059340.5187-100000@atlas.biostat.washington.edu>

On Mon, 2 Oct 2000, Peter Holzer wrote:

> Dear R users
> 
> I have started to use gdb for debugging dynloaded C code as described in
> `Writing R Extensions'. Unfortunately I have run into several problems that
> I haven't been able to solve:
> 
> - using `n': how comes that the same line of code appears up to three times
>   (and inbetween the next line and maybe even the second next one?)
> 
> - using `print' resp. `display': How comes the variable values are
>   different from those shown by fprintf? How comes the variable values
>   change when actually no value is assigned to them (and I use `n', not
>   `s')?

I think both problems are likely due to compiler optimisation.  The GNU
tools are unusual in letting you debug optimised code: the Sun compilers,
for example, won't generate debugging information if you optimise, for
precisely this reason.

Optimisation typically results in the machine instructions for different
lines of C code being interleaved.  Even worse, loops may be unrolled,
statements moved in or out of loops, and other complicated things done to
your code.

While debugging optimised code can still be useful, it is often easier to
recompile the code without optimisation (as long as the bug isn't caused
by optimisation) and debug that way.

I'm not sure of the best way to recompile without optimisation. You could
edit R_HOME/etc/Makeconf, or you could cut-and-paste the compiler
invocations that R COMPILE produces and then edit them by hand.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Mon Oct  2 20:58:00 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Mon, 2 Oct 2000 14:58:00 -0400
Subject: [R] R vs S-PLUS with regard to memory usage
Message-ID: <OF639EDE4F.4C216804-ON8525696C.0067D498@wo.fs.fed.us>

I am trying to translate code from S-PLUS to R and R really struggles!
After starting R with the foll.
R --vsize 50M --nsize 6M --no-restore
on a 400 MHz Pentium with 192 MB of memory running Linux (RH 6.2),
I run a function that essentially picks up an external dataset with 2121
rows
and 30 columns and builds a lm() object and also runs step() ... the step()
takes forever to run...(takes very little time in S-PLUS).

I remove the objects whenever I am done with them hoping that it'll free up
the
memory....but this does not seem to help.

THen I present the user a choice (tk radiobutton using tcltk package) to
choose between residual plot and actual vs predicted plot and then allow
the user to identify the outliers...here, after the first choice, there is
lot of disk activity ..which makes me suspect that it has run out of memory
and swapping from disk ...this takes an enormous amount of time....after
which it seems to run OK.

The application that took seconds to run in S-PLUS takes forever in
R....why is it?...I feel that a --vsize of 50 MB is plenty for a 2121/30
dataset (correct?) ....does R after having taken 50 MB chunk of memory,
handle it poorly, run out of it and start swapping to disk?? .... or am I
neglecting to do something? I am beginning to suspect that R is not the
language to use when writing applications like mine.

Please enlighten me on what is happening.
Thanks much.

*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  2 22:20:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Oct 2000 22:20:38 +0200
Subject: [R] R vs S-PLUS with regard to memory usage
In-Reply-To: "Anantha Prasad/NE/USDAFS"'s message of "Mon, 2 Oct 2000 14:58:00 -0400"
References: <OF639EDE4F.4C216804-ON8525696C.0067D498@wo.fs.fed.us>
Message-ID: <x2zoknc7vt.fsf@blueberry.kubism.ku.dk>

"Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us> writes:

> I am trying to translate code from S-PLUS to R and R really struggles!
> After starting R with the foll.
> R --vsize 50M --nsize 6M --no-restore
> on a 400 MHz Pentium with 192 MB of memory running Linux (RH 6.2),
> I run a function that essentially picks up an external dataset with 2121
> rows
> and 30 columns and builds a lm() object and also runs step() ... the step()
> takes forever to run...(takes very little time in S-PLUS).

Notice that the --nsize takes the number of *nodes* as the value. Each
is 20 bytes, so you're allocating a 170MB chunk there. With various
other memory eaters active, that could easily push a 192MB machine
into thrashing.

The upcoming 1.2 version will be much better at handling memory, but
for now maybe reduce the nsize a bit? The vsize looks a bit hefty as
well given that the data should take up on the order of half a MB.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Oct  2 21:13:20 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 03 Oct 2000 08:13:20 +1300
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <3.0.32.20001002160802.012a8150@pophost.nsw.cmis.csiro.au>
Message-ID: <200010022014.JAA06224@gosset.stats.waikato.ac.nz>

This seems as good a place as any to gripe about the R/S assignment symbol
"<-" !  What absolute fiend said: "now let's see, this is the symbol that
will be most used in this language, so let's represent it by a
two-character string, and further, let's have the two characters in
different cases so that it will require a change of case mid-stream!".

Murray Jorgensen

At 04:08 PM 2-10-00 +1000, Bill Venables wrote:
>At 14:35 02/10/00 +0800, mohd zamri wrote:
>>new to R and starting to learn to program R. The underscore ("_") did some
>>suprising result. e.g
>>
>>> c <- c(1,2,3,4,5)
>>> mean(c)
>>[1] 3
>>> c_mean <- mean(c)
>>> c
>>[1] 3
>>
>>having some experience in C, I thought the underscore is "always" valid in
>>variable name. totally confuse me. Reread the R-FAQ a few times, and found
>>on pg. 7 foot-note which states that;
>>
>>   the underscore character "_" is an alllowable synonym for the left
>>   pointing assignment operator "<-", ...........
>>   
>>it is appear that R parse  "c_mean <-  mean(c)" as "c <- mean <- mean(c)",
>>which explain the result.
>>
>>suggestion:
>>
>>I believe it would be helpful if this point be make clear on the FAQ, and
>>not mention as a footnote. What is a proper naming convention and a few
>>example of valid/invalid name for variables.
>
>Ah, but now that you have been bitten by it, I bet you don't make the same
>mistake again!  :-)
>
>There is a no-win situation here.  It is there (I presume) mainly for
>compatibility with S.  It is in S because some old keyboards did not have
>an underscore but a left-pointing arrow at that same position.  For better
>or worse we are stuck with it now.
>
>If we follow your suggestion and give prominence to the fact that "_" is a
>synonym for "<-" then as sure as eggs some people will actually USE it!
>This is, in the opinion of many of us at least, a very BAD thing as it
>makes code just about unreadible.  On the other hand if we don't give
>prominence to the fact but just hide it in an obscure footnote, then many
>people will get bitten first time (but only then) and come complaining to
>R-help and I will write more tetchy little notes like this one...
>
>:-)
>
>Bill Venables.
>--
>Bill Venables, Statistician                         Tel. +61 7 3826 7251 
>CSIRO Marine Laboratories,                          Fax. +61 7 3826 7304
>Cleveland, Qld, 4163                  Email: Bill.Venables at cmis.csiro.au
>AUSTRALIA                        http://www.cmis.csiro.au/bill.venables/
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  2 22:44:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Oct 2000 22:44:00 +0200
Subject: [R] the underscore ("_") in variable name
In-Reply-To: Murray Jorgensen's message of "Tue, 03 Oct 2000 08:13:20 +1300"
References: <200010022014.JAA06224@gosset.stats.waikato.ac.nz>
Message-ID: <x2u2avc6sv.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> This seems as good a place as any to gripe about the R/S assignment symbol
> "<-" !  What absolute fiend said: "now let's see, this is the symbol that
> will be most used in this language, so let's represent it by a
> two-character string, and further, let's have the two characters in
> different cases so that it will require a change of case mid-stream!".

Nicklaus Wirth? (Pascal has ":=")

Actually, on a Danish keyboard "<-" is two unshifted symbols whereas
the underscore is a shifted dash, so it is pretty much a toss-up for
me. You don't want to know where they put the rest of the special
symbols, though... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Mon Oct  2 22:42:23 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Mon, 2 Oct 2000 16:42:23 -0400
Subject: [R] R vs S-PLUS with regard to memory usage
Message-ID: <OF0C6AE383.6DEA27C7-ON8525696C.0070E105@wo.fs.fed.us>


Worked like magic thanks (I thought more I can allocate the better since my
application does not know before hand what the datasize is going to be)....
however, the step() function ran out of heap memory even after I allocated
15 MB ..... so, it looks like it is a no-win situation.....If I increase
heap too much to satisfy step(), there is disk swapping (if not on my
present machine, on others which do not have the luxury of 192 MB); if I
don't it runs out of memory.... any suggestions other than wait for 1.2? If
there are more people like me, it's some incentive to get 1.2 out soon!
Thanks much.
Prasad

*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************


                                                                                       
                    Peter Dalgaard                                                     
                    BSA                     To:     "Anantha Prasad/NE/USDAFS"         
                    <p.dalgaard at bios        <aprasad at fs.fed.us>                        
                    tat.ku.dk>              cc:     r-help at stat.math.ethz.ch           
                    Sent by:                Subject:     Re: [R] R vs S-PLUS with      
                    pd at blueberry.kub        regard to memory usage                     
                    ism.ku.dk                                                          
                                                                                       
                                                                                       
                    10/02/00 04:20                                                     
                    PM                                                                 
                                                                                       
                                                                                       



"Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us> writes:

> I am trying to translate code from S-PLUS to R and R really struggles!
> After starting R with the foll.
> R --vsize 50M --nsize 6M --no-restore
> on a 400 MHz Pentium with 192 MB of memory running Linux (RH 6.2),
> I run a function that essentially picks up an external dataset with 2121
> rows
> and 30 columns and builds a lm() object and also runs step() ... the step
()
> takes forever to run...(takes very little time in S-PLUS).

Notice that the --nsize takes the number of *nodes* as the value. Each
is 20 bytes, so you're allocating a 170MB chunk there. With various
other memory eaters active, that could easily push a 192MB machine
into thrashing.

The upcoming 1.2 version will be much better at handling memory, but
for now maybe reduce the nsize a bit? The vsize looks a bit hefty as
well given that the data should take up on the order of half a MB.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Mon Oct  2 22:59:11 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Mon, 2 Oct 2000 16:59:11 -0400
Subject: [R] R vs S-PLUS with regard to memory usage
Message-ID: <OF81FC9A01.0C64E6A1-ON8525696C.0072BD0D@wo.fs.fed.us>


OK .... my mistake ...this vsize and nsize confusion....I re-read the
memory part and Prof. Ripley's reply -  here is the lession I learnt:
Increase vsize but NOT nsize and you'll not have problem  with disk
swapping. Yes, I now have renewed faith that I can indeed use R - although
I do feel 1.2 would be better if this "allocation confusion" is taken care
of.
THanks again.
Prasad

*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************


                                                                                       
                    Peter Dalgaard                                                     
                    BSA                     To:     "Anantha Prasad/NE/USDAFS"         
                    <p.dalgaard at bios        <aprasad at fs.fed.us>                        
                    tat.ku.dk>              cc:     r-help at stat.math.ethz.ch           
                    Sent by:                Subject:     Re: [R] R vs S-PLUS with      
                    pd at blueberry.kub        regard to memory usage                     
                    ism.ku.dk                                                          
                                                                                       
                                                                                       
                    10/02/00 04:20                                                     
                    PM                                                                 
                                                                                       
                                                                                       



"Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us> writes:

> I am trying to translate code from S-PLUS to R and R really struggles!
> After starting R with the foll.
> R --vsize 50M --nsize 6M --no-restore
> on a 400 MHz Pentium with 192 MB of memory running Linux (RH 6.2),
> I run a function that essentially picks up an external dataset with 2121
> rows
> and 30 columns and builds a lm() object and also runs step() ... the step
()
> takes forever to run...(takes very little time in S-PLUS).

Notice that the --nsize takes the number of *nodes* as the value. Each
is 20 bytes, so you're allocating a 170MB chunk there. With various
other memory eaters active, that could easily push a 192MB machine
into thrashing.

The upcoming 1.2 version will be much better at handling memory, but
for now maybe reduce the nsize a bit? The vsize looks a bit hefty as
well given that the data should take up on the order of half a MB.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  2 22:58:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Oct 2000 21:58:29 +0100 (BST)
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <x2u2avc6sv.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10010022152280.2139-100000@auk.stats>

On 2 Oct 2000, Peter Dalgaard BSA wrote:

> Murray Jorgensen <maj at waikato.ac.nz> writes:
> 
> > This seems as good a place as any to gripe about the R/S assignment symbol
> > "<-" !  What absolute fiend said: "now let's see, this is the symbol that
> > will be most used in this language, so let's represent it by a
> > two-character string, and further, let's have the two characters in
> > different cases so that it will require a change of case mid-stream!".
> 
> Nicklaus Wirth? (Pascal has ":=")
> 
> Actually, on a Danish keyboard "<-" is two unshifted symbols whereas
> the underscore is a shifted dash, so it is pretty much a toss-up for
> me. You don't want to know where they put the rest of the special
> symbols, though... 

On the Italian and Spanish keyboards I was using last month, ~ is not even
on the keyboard. (alt+0126 became familiar.)

Svr4 allows = for assignment in most circumstances, but once you start
using it you discover the exceptions really bite.  As far as I recall Bill
changed <- to = at a late stage in the notes of the joint course we gave,
and we then found 22 examples where it was wrong.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  3 00:05:41 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Oct 2000 00:05:41 +0200
Subject: [R] R vs S-PLUS with regard to memory usage
In-Reply-To: "Anantha Prasad/NE/USDAFS"'s message of "Mon, 2 Oct 2000 16:42:23 -0400"
References: <OF0C6AE383.6DEA27C7-ON8525696C.0070E105@wo.fs.fed.us>
Message-ID: <x2n1gmyk3u.fsf@blueberry.kubism.ku.dk>

"Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us> writes:

> Worked like magic thanks (I thought more I can allocate the better since my
> application does not know before hand what the datasize is going to be)....
> however, the step() function ran out of heap memory even after I allocated
> 15 MB ..... so, it looks like it is a no-win situation.....If I increase
> heap too much to satisfy step(), there is disk swapping (if not on my
> present machine, on others which do not have the luxury of 192 MB); if I
> don't it runs out of memory.... any suggestions other than wait for 1.2? If
> there are more people like me, it's some incentive to get 1.2 out soon!
> Thanks much.
> Prasad

It's scheduled for early December. If we release more frequently than
that, we find ourselves in the situation that polishing the code off
for a release gets in the way of introducing new features.

If you want to try the newer versions, daily snapshots are made
available via CRAN (http://cran.r-project.org). As these are not
release versions, they may (hopefully temporarily) have bugs,
sometimes bad ones, but most of the time the snapshots are perfectly
usable. You do need to compile them yourself, though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Oct  3 01:23:57 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Mon, 02 Oct 2000 18:23:57 -0500
Subject: [R] Nothing can be pasted...
References: <200009281240.NAA07561@toucan.stats.ox.ac.uk>
Message-ID: <39D9190D.63F4361E@ukans.edu>

Prof Brian Ripley wrote:
> >
> > Compiling R-1.1.1 on RedHat Linux 7.0 gives lots of warnings like
> >
> > In file included from tabulate.c:24:
> > ../../src/include/config.h:192:21: warning: nothing can be pasted after
> > this token
> >

I just wanted to point out that cpp in RedHat 7.0 seems to be broken
through-and-through. Other programs I try to compile fail with
same/similar messages, and I've got it on good authority that the gcc
shipped with RH7 is a development snapshot that is still a work in
progress.  I also hear that the cpp in the gcc cvs source tree has fixed
these sorts of problems and if we don't get an RPM update from RedHat
pretty soon, I will issue one myself.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Tue Oct  3 01:09:37 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Tue, 3 Oct 2000 12:09:37 +1300 (NZDT)
Subject: [R] Unreadable code: was the underscore ("_") in variables
In-Reply-To: <3.0.32.20001002160802.012a8150@pophost.nsw.cmis.csiro.au> from "Bill Venables" at Oct 2, 0 04:08:03 pm
Message-ID: <200010022309.e92N9bW00717@atlas.marc.cri.nz>

According to Bill Venables:

|> If we follow your suggestion and give prominence to the fact that "_" is a
|> synonym for "<-" then as sure as eggs some people will actually USE it!
|> This is, in the opinion of many of us at least, a very BAD thing as it
|> makes code just about unreadible.  

It appears somewhat different from my perspective.

I got into the habit of using emacs S-mode early in my time with the S
language.  Being a lazy typist, I found it convenient to use the
parser to expand the assignments, add spaces and generally make
readable any code I wished to use again (such as in functions).  To
anyone looking over my shoulder it might look crude, but it works
quickly and safely as I am concerned.

BTW: this no longer works using ESS as far as I can tell.  To a lazy
typist this is a sad loss.  Has anyone found a way to return this
functionality?



-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Oct  3 08:28:12 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 3 Oct 2000 08:28:12 +0200 (CEST)
Subject: [R] Debugging dynloaded C-code with gdb
In-Reply-To: <Pine.GSO.4.21.0010021059340.5187-100000@atlas.biostat.washington.edu>
References: <14808.52254.170148.815746@gargle.gargle.HOWL>
	<Pine.GSO.4.21.0010021059340.5187-100000@atlas.biostat.washington.edu>
Message-ID: <14809.31868.813499.212889@mithrandir.hornik.net>

>>>>> Thomas Lumley writes:

> On Mon, 2 Oct 2000, Peter Holzer wrote:
>> Dear R users
>> 
>> I have started to use gdb for debugging dynloaded C code as described in
>> `Writing R Extensions'. Unfortunately I have run into several problems that
>> I haven't been able to solve:
>> 
>> - using `n': how comes that the same line of code appears up to three times
>> (and inbetween the next line and maybe even the second next one?)
>> 
>> - using `print' resp. `display': How comes the variable values are
>> different from those shown by fprintf? How comes the variable values
>> change when actually no value is assigned to them (and I use `n', not
>> `s')?

> I think both problems are likely due to compiler optimisation.  The
> GNU tools are unusual in letting you debug optimised code: the Sun
> compilers, for example, won't generate debugging information if you
> optimise, for precisely this reason.

> Optimisation typically results in the machine instructions for
> different lines of C code being interleaved.  Even worse, loops may be
> unrolled, statements moved in or out of loops, and other complicated
> things done to your code.

> While debugging optimised code can still be useful, it is often easier
> to recompile the code without optimisation (as long as the bug isn't
> caused by optimisation) and debug that way.

> I'm not sure of the best way to recompile without optimisation. You
> could edit R_HOME/etc/Makeconf, or you could cut-and-paste the
> compiler invocations that R COMPILE produces and then edit them by
> hand.

Or, if you don't want to edit this file, you can do

	MAKEFLAGS="CFLAGS=" R CMD INSTALL /path/to/code

etc.

(Not sure if all versions of make support this ... if so maybe this
should be an FAQ?)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Tue Oct  3 12:55:28 2000
From: amurta at ipimar.pt (Alberto Murta)
Date: Tue, 03 Oct 2000 10:55:28 +0000
Subject: [R] the underscore ("_") in variable name
References: <200010022014.JAA06224@gosset.stats.waikato.ac.nz>
Message-ID: <39D9BB20.CD6D4B71@ipimar.pt>

Murray Jorgensen wrote:

> This seems as good a place as any to gripe about the R/S assignment symbol
> "<-" !  What absolute fiend said: "now let's see, this is the symbol that
> will be most used in this language, so let's represent it by a
> two-character string, and further, let's have the two characters in
> different cases so that it will require a change of case mid-stream!".

That depends on which keyboard people use. In a portuguese keyboard "<-" requires
the same typing effort as "_" or even "=".  And objectively, it's a fact that "<-"
makes the code easier to read than "_".

Alberto


--
__________________ Alberto G. Murta ______________________
     IPIMAR - Institute of Fisheries and Sea Research
      Avenida de Brasilia; 1449-006 Lisboa; Portugal
Tel:351 213027062; Fax:351 213015948; http://www.ipimar.pt


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001003/e70868d0/attachment.html

From holzer at stat.math.ethz.ch  Tue Oct  3 12:00:22 2000
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Tue, 3 Oct 2000 12:00:22 +0200
Subject: [R] Re: Debugging dynloaded C-code with gdb
In-Reply-To: <14808.52254.170148.815746@gargle.gargle.HOWL>
References: <14808.52254.170148.815746@gargle.gargle.HOWL>
Message-ID: <14809.44598.141172.309288@gargle.gargle.HOWL>

Thanks to Robert Gentleman, Thomas Lumley and Kurt Hornik for their
replies. They all pointed out that the problem comes from using
optimisation during compiling, which is usually the default.

The problem can easily be solved by adding the following code to the file
Makevars:

	%.o: %.c
	     $(CC) -g -Wall $(PKG_CFLAGS) $(ALL_CPPFLAGS) -o $@ -c $<

A little bit more fancy is:

	ifneq (,$(findstring o, $(opt)))
	     USE_CFLAGS = -g -Wall $(PKG_CFLAGS)
	else
	     USE_CFLAGS = $(ALL_CFLAGS)
	endif

	%.o: %.c
	     $(CC) $(USE_CFLAGS) $(ALL_CPPFLAGS) -o $@ -c $<

and then using

make opt=o

if I don't want any optimisation and otherwise just normal make (so I don't
need to remember when I have finished debugging that I should reset the
flags.)

Peter

On Mon, 2 Oct 2000, Peter Holzer wrote:

> Dear R users
> 
> I have started to use gdb for debugging dynloaded C code as described in
> `Writing R Extensions'. Unfortunately I have run into several problems that
> I haven't been able to solve:
> 
> - using `n': how comes that the same line of code appears up to three times
>   (and inbetween the next line and maybe even the second next one?)
> 
> - using `print' resp. `display': How comes the variable values are
>   different from those shown by fprintf? How comes the variable values
>   change when actually no value is assigned to them (and I use `n', not
>   `s')?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From serres at valigen.net  Tue Oct  3 13:09:06 2000
From: serres at valigen.net (Christine Serres)
Date: Tue, 03 Oct 2000 11:09:06 +0000
Subject: [R] prcomp compared to SPAD
Message-ID: <39D9BE51.31B3DC8A@valigen.net>

Hi !

I've used the example given in the documentation for the prcomp function
both in R and SPAD to compare the results obtained.
Surprisingly, I do not obtain the same results for the coordinates of
the principal composantes with these two softwares.


using USArrests data  I obtain with R :

> summary(prcomp(USArrests))
Importance of components:
                          PC1     PC2    PC3     PC4
Standard deviation     83.732 14.2124 6.4894 2.48279
Proportion of Variance  0.966  0.0278 0.0058 0.00085
Cumulative Proportion   0.966  0.9933 0.9991 1.00000


And using SPAD (french editor CISIA) :

Ex:           sd        pv        cp
comp1   |   2.4802   |   62.01  |   62.01  |
comp2   |   0.9898   |   24.74  |   86.75  |
comp3   |   0.3566   |    8.91  |   95.66  |
comp4   |   0.1734   |    4.34  |  100.00  |


Am I wrong using R  ? Why the results are so different ?
Furthemore could anyone explain me the difference between prcomp and
princomp, since we do not obtain exxactly the same results using these
two functions.
And how to obtain the coordinates of the points on the first composante
using R ?

Many thanks,
Christine

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  3 13:29:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Oct 2000 12:29:28 +0100 (BST)
Subject: [R] prcomp compared to SPAD
Message-ID: <200010031129.MAA21714@toucan.stats.ox.ac.uk>


> Date: Tue, 03 Oct 2000 11:09:06 +0000
> From: Christine Serres <serres at valigen.net>
> 
> 
> I've used the example given in the documentation for the prcomp function
> both in R and SPAD to compare the results obtained.
> Surprisingly, I do not obtain the same results for the coordinates of
> the principal composantes with these two softwares.
> 
> 
> using USArrests data  I obtain with R :
> 
> > summary(prcomp(USArrests))
> Importance of components:
>                           PC1     PC2    PC3     PC4
> Standard deviation     83.732 14.2124 6.4894 2.48279
> Proportion of Variance  0.966  0.0278 0.0058 0.00085
> Cumulative Proportion   0.966  0.9933 0.9991 1.00000

Read on:

> summary(prcomp(USArrests, scale=T))
Importance of components:
                        PC1   PC2    PC3    PC4
Standard deviation     1.57 0.995 0.5971 0.4164
Proportion of Variance 0.62 0.247 0.0891 0.0434
Cumulative Proportion  0.62 0.868 0.9566 1.0000

> And using SPAD (french editor CISIA) :
> 
> Ex:           sd        pv        cp
> comp1   |   2.4802   |   62.01  |   62.01  |
> comp2   |   0.9898   |   24.74  |   86.75  |
> comp3   |   0.3566   |    8.91  |   95.66  |
> comp4   |   0.1734   |    4.34  |  100.00  |

Also

> summary(princomp(USArrests, cor=T))
Importance of components:
                          Comp.1    Comp.2    Comp.3     Comp.4
Standard deviation     1.5748783 0.9948694 0.5971291 0.41644938
Proportion of Variance 0.6200604 0.2474413 0.0891408 0.04335752
Cumulative Proportion  0.6200604 0.8675017 0.9566425 1.00000000

BTW, it looks like SPAD's `sd' are in fact variances, for the square
of the first line here is
   Comp.1    Comp.2    Comp.3    Comp.4 
2.4802416 0.9897652 0.3565632 0.1734301 


> Am I wrong using R  ? Why the results are so different ?

In this dataset you do want scaling, as the variables are not on a
common scale.  But SPAD has apparently scaled by default, and
apparently mis-labelled its results.

> Furthemore could anyone explain me the difference between prcomp and
> princomp, since we do not obtain exxactly the same results using these
> two functions.

They differ in the definition of variance. It's on the help page for princomp!
If you scale, there is no difference, otherwise there is an n vs n-1
factor.  The reasons are both S-PLUS compatibility and to allow
princomp to use robust principal components.

> And how to obtain the coordinates of the points on the first composante
> using R ?

predict on a princmp fit, or retx=TRUE on a prcomp fit.

You will find all this in Venables & Ripley, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct  3 14:21:04 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 3 Oct 2000 08:21:04 -0400 (EDT)
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <39D9BB20.CD6D4B71@ipimar.pt>
Message-ID: <Pine.LNX.4.10.10010030820350.28251-100000@bolker.zoo.ufl.edu>


  Could ESS indeed be programmed to insert "<-" when one typed "_" ?

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Tue Oct  3 14:31:32 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue, 03 Oct 2000 12:31:32 GMT
Subject: (fwd) Re: [R] the underscore ("_") in variable name
Message-ID: <39dcd025.1722589@smtp1.sympatico.ca>

On Tue, 03 Oct 2000 10:55:28 +0000, Alberto Murta <amurta at ipimar.pt>
wrote:

> And objectively, it's a fact that "<-"
>makes the code easier to read than "_".

I don't follow this argument.  Underscore isn't used anywhere else in
the language, so when you see one, you know it's an assignment.  On
the other hand, both "<" and "-" have multiple other uses.  This leads
to lots of possibilities for confusion:

  x <--5 
  x < -5
  x <- 5

are easily confused, whereas

  x _-5
  x < -5
  x _ 5

are not.

(Of course, I actually prefer the Pascalian :=, but I realize that
puts me in a double minority :-).

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Oct  3 14:45:15 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 03 Oct 2000 23:45:15 +1100
Subject: [R] the underscore ("_") in variable name
Message-ID: <39D9D4DA.98193A7E@ozemail.com.au>

Just a vote for "<-".  Once I became familiar with the convention using
APL, I really began to appreciate the value of distinguishing assignment
from equality.  Also, the "<-" is clear and fairly unambiguous.  Using
NEdit, it is trivial to create a macro (Alt= for example) that will type
the assignment symbol for you.  If you use the left and right assignment
operators often, perhaps Ctrl= and Alt= would be a simple way to get
these combinations.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  3 15:00:31 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Oct 2000 14:00:31 +0100 (BST)
Subject: (fwd) Re: [R] the underscore ("_") in variable name
Message-ID: <200010031300.OAA22375@toucan.stats.ox.ac.uk>

> From: dmurdoch at pair.com (Duncan Murdoch)
> Date: Tue, 03 Oct 2000 12:31:32 GMT
> 
> On Tue, 03 Oct 2000 10:55:28 +0000, Alberto Murta <amurta at ipimar.pt>
> wrote:
> 
> > And objectively, it's a fact that "<-"
> >makes the code easier to read than "_".
> 
> I don't follow this argument.  Underscore isn't used anywhere else in
> the language, so when you see one, you know it's an assignment.  On

Only if you can see it!

1) The underscore character is designed for underlining, not to be
seen on its own.  So it is often feint, and it is below the natural
eye scan line of a line of text.  It's easy to miss.

2) People do insist on using no spaces, and underscore is widely used
as a word-separator in other languages (and some editors highlight
accordingly).  C programmers (but not the minority Pascal ones, I
guess) read word_another_word as a single name.  People can't readily
unlearn this for one language whilst still using it for another.

So I agree with Alberto: it is easier to *read*, that is easier for the
eye-brain pattern recognition system to tokenize.

> the other hand, both "<" and "-" have multiple other uses.  This leads
> to lots of possibilities for confusion:
> 
>   x <--5 
>   x < -5
>   x <- 5
> 
> are easily confused, whereas
> 
>   x _-5
>   x < -5
>   x _ 5
> 
> are not.

No problems if your space key is actually working and you know
how to use it and (I suppose) care about communicating to your audience.  

> (Of course, I actually prefer the Pascalian :=, but I realize that
> puts me in a double minority :-).

My main objection is to the use of _ without spaces.  Every week or
so I misread a post on R-help or S-news because the code is lacking
spaces and I parse it wrongly, and I know I am not alone from the 
frequent remarks from other readers.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  3 15:29:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Oct 2000 15:29:57 +0200
Subject: (fwd) Re: [R] the underscore ("_") in variable name
In-Reply-To: Prof Brian Ripley's message of "Tue, 3 Oct 2000 14:00:31 +0100 (BST)"
References: <200010031300.OAA22375@toucan.stats.ox.ac.uk>
Message-ID: <x2itrauk6i.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > the other hand, both "<" and "-" have multiple other uses.  This leads
> > to lots of possibilities for confusion:
> > 
> >   x <--5 
> >   x < -5
> >   x <- 5
> > 
> > are easily confused, whereas
> > 
> >   x _-5
> >   x < -5
> >   x _ 5
> > 
> > are not.
> 
> No problems if your space key is actually working and you know
> how to use it and (I suppose) care about communicating to your audience.  

I still don't like it... And underscores can't save you from the real
nasty "hanging yourself in the left tail" case - forgetting spaces
around "<" in

x <- long.and.slow.simulation(10000)
# two days later:
sum(x<-3.6)
# [1] 3.6
# ouch...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct  3 15:29:55 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 3 Oct 2000 09:29:55 -0400 (EDT)
Subject: [R] prcomp compared to SPAD
In-Reply-To: <39D9BE51.31B3DC8A@valigen.net>
Message-ID: <Pine.LNX.4.10.10010030927290.28364-100000@bolker.zoo.ufl.edu>


  I am pretty ignorant but: 

   scale: a logical value indicating whether the variables should be
          scaled to have unit variance before the analysis takes place.
          The default is `FALSE' for consistency with S, but in general
          scaling is advisable. Alternately, a vector of length equal
          the number of columns of `x' can be supplied.  The value is
          passed to `scale'.


If you use scale=TRUE you at least get agreement in the proportion of
variance/cumulative proportion columns.

On Tue, 3 Oct 2000, Christine Serres wrote:

> Hi !
> 
> I've used the example given in the documentation for the prcomp function
> both in R and SPAD to compare the results obtained.
> Surprisingly, I do not obtain the same results for the coordinates of
> the principal composantes with these two softwares.
> 
> 
> using USArrests data  I obtain with R :
> 
> > summary(prcomp(USArrests))
> Importance of components:
>                           PC1     PC2    PC3     PC4
> Standard deviation     83.732 14.2124 6.4894 2.48279
> Proportion of Variance  0.966  0.0278 0.0058 0.00085
> Cumulative Proportion   0.966  0.9933 0.9991 1.00000
> 
> 
> And using SPAD (french editor CISIA) :
> 
> Ex:           sd        pv        cp
> comp1   |   2.4802   |   62.01  |   62.01  |
> comp2   |   0.9898   |   24.74  |   86.75  |
> comp3   |   0.3566   |    8.91  |   95.66  |
> comp4   |   0.1734   |    4.34  |  100.00  |
> 
> 
> Am I wrong using R  ? Why the results are so different ?
> Furthemore could anyone explain me the difference between prcomp and
> princomp, since we do not obtain exxactly the same results using these
> two functions.
> And how to obtain the coordinates of the points on the first composante
> using R ?
> 
> Many thanks,
> Christine
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Tue Oct  3 15:31:23 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Tue, 3 Oct 2000 09:31:23 -0400
Subject: [R] Where is gam?
Message-ID: <OFF673A06B.1B265FE8-ON8525696D.004A2347@wo.fs.fed.us>

I noticed that there is no generalised additive model functions in R
(1.1.1)  ... is there a package that implements them?
Thanks
Prasad
*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct  3 15:37:11 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 3 Oct 2000 09:37:11 -0400 (EDT)
Subject: [R] prcomp compared to SPAD
In-Reply-To: <Pine.LNX.4.10.10010030927290.28364-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10010030936320.28404-100000@bolker.zoo.ufl.edu>


  PS it looks like the "sd" components from SPAD are the squares of the sd
components that R returns when scale=TRUE ...

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Tue Oct  3 16:45:32 2000
From: amurta at ipimar.pt (Alberto Murta)
Date: Tue, 03 Oct 2000 14:45:32 +0000
Subject: (fwd) Re: [R] the underscore ("_") in variable name
References: <39dcd025.1722589@smtp1.sympatico.ca>
Message-ID: <39D9F10C.F0E51F4B@ipimar.pt>

Duncan Murdoch wrote:

> I don't follow this argument.  Underscore isn't used anywhere else in
> the language, so when you see one, you know it's an assignment.  On
> the other hand, both "<" and "-" have multiple other uses.  This leads
> to lots of possibilities for confusion:
>
>   x <--5
>   x < -5
>   x <- 5

Those are classic examples. Nevertheless, "<-" is more appealing visually than "_"
as an assignment operator, mainly because "_"  is used in file and variable names
in other programming languages.

> (Of course, I actually prefer the Pascalian :=, but I realize that
> puts me in a double minority :-).
>

Here I agree with you. I think that future releases of R should have "=" as the
assignement operator, just like the last version of S.

Alberto

--
__________________ Alberto G. Murta ______________________
     IPIMAR - Institute of Fisheries and Sea Research
      Avenida de Brasilia; 1449-006 Lisboa; Portugal
Tel:351 213027062; Fax:351 213015948; http://www.ipimar.pt


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001003/f31ea381/attachment.html

From ripley at stats.ox.ac.uk  Tue Oct  3 15:45:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Oct 2000 14:45:29 +0100 (BST)
Subject: [R] Where is gam?
Message-ID: <200010031345.OAA22443@toucan.stats.ox.ac.uk>

> Subject: [R] Where is gam?
> Date: Tue, 3 Oct 2000 09:31:23 -0400
> 
> I noticed that there is no generalised additive model functions in R
> (1.1.1)  ... is there a package that implements them?

Not for R.  The FAQ says:

   One place where functionality is still missing is the modeling software
as described in "Statistical Models in S" (see *Note What is S?::);
Generalized Additive Models (*gam*) and some of the nonlinear modeling code
are not there yet.

If you just want additive models there is a much better
function bruto in package MDA.

One reason that gam is not there is that some of us think it
is much over-sold as a technique and the way it is done in S is poorly
implemented.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  3 16:05:19 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Oct 2000 15:05:19 +0100 (BST)
Subject: (fwd) Re: [R] the underscore ("_") in variable name
Message-ID: <200010031405.PAA27331@toucan.stats.ox.ac.uk>


> Date: Tue, 03 Oct 2000 14:45:32 +0000
> From: Alberto Murta <amurta at ipimar.pt>
> 
> Duncan Murdoch wrote:
> 
> > I don't follow this argument.  Underscore isn't used anywhere else in
> > the language, so when you see one, you know it's an assignment.  On
> > the other hand, both "<" and "-" have multiple other uses.  This leads
> > to lots of possibilities for confusion:
> >
> >   x <--5
> >   x < -5
> >   x <- 5
> 
> Those are classic examples. Nevertheless, "<-" is more appealing visually than 
"_"
> as an assignment operator, mainly because "_"  is used in file and variable 
names
> in other programming languages.
> 
> > (Of course, I actually prefer the Pascalian :=, but I realize that
> > puts me in a double minority :-).
> >
> 
> Here I agree with you. I think that future releases of R should have "=" as 
the
> assignement operator, just like the last version of S.

Note, "=" is *one of* the allowed assignment operators in Svr4, but not
*the* assignment operator and it is only allowed where it would not
lead to ambiguities.  If you take your S code and globally substitute
"=" for "<-" you are likely to find it badly broken.  Bill Venables and
I did go down that route at one time, but after we discovered that we
just did not stop using "=" where it did not work as assignment, we
gave up.  "<-" is the preferred assignment operator in S-PLUS 5.x and
6.x, with good reasons.  This is much subtler than the inaccurate typing
earlier in this thread.

(I'll leave John Chambers to comment if `the last version of S' has yet
arrived.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  3 16:20:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Oct 2000 16:20:30 +0200
Subject: [R] Where is gam?
In-Reply-To: Prof Brian Ripley's message of "Tue, 3 Oct 2000 14:45:29 +0100 (BST)"
References: <200010031345.OAA22443@toucan.stats.ox.ac.uk>
Message-ID: <x2d7hiuhu9.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > I noticed that there is no generalised additive model functions in R
> > (1.1.1)  ... is there a package that implements them?
..

> If you just want additive models there is a much better
> function bruto in package MDA.
> 
> One reason that gam is not there is that some of us think it
> is much over-sold as a technique and the way it is done in S is poorly
> implemented.

Also, note that the gss package by Chong Gu has much the same
objective as gam().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Oct  3 16:18:00 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Oct 2000 10:18:00 -0400
Subject: (fwd) Re: [R] the underscore ("_") in variable name
In-Reply-To: <39D9F10C.F0E51F4B@ipimar.pt>
References: <39dcd025.1722589@smtp1.sympatico.ca> <39D9F10C.F0E51F4B@ipimar.pt>
Message-ID: <39dae866.849853@fisher.stats.uwo.ca>

On Tue, 03 Oct 2000 14:45:32 +0000, you wrote in message
<39D9F10C.F0E51F4B at ipimar.pt>:

>Duncan Murdoch wrote:

>> (Of course, I actually prefer the Pascalian :=, but I realize that
>> puts me in a double minority :-).
>>
>
>Here I agree with you. I think that future releases of R should have "=" as the
>assignement operator, just like the last version of S.

No, please don't!  I was suggesting ":=", not "=", and I wasn't
serious.  A lone equal sign is used in too many languages (e.g.
standard mathematical notation, standard pseudocode, Pascal and its
descendants, etc.) to indicate a statement or test of equality.  The
mis-use of it in Fortran, C and BASIC aren't examples we want to
follow.

I think we're stuck with "<-", despite the deficiencies I pointed out
in my earlier message, and we should learn to live with it.  I'm
ambivalent about " _ ".  

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Tue Oct  3 16:24:10 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Tue, 3 Oct 2000 10:24:10 -0400
Subject: [R] Where is gam?
Message-ID: <OF71ED7C23.DB71E5D7-ON8525696D.004E89EC@wo.fs.fed.us>


Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> One reason that gam is not there is that some of us think it
> is much over-sold as a technique and the way it is done in S is poorly
> implemented.
Could you please clarify.... there has been a lot of interest in gam
recently in predicting species distribution and environmental management
(there is in fact a workshop scheduled in Switzerland next year on GLM/GAM
modelling). So many of us would be very interested to learn about its
shortcomings (reason why you think it is oversold technique)...and also
what aspects of it are poorly implemented in S.
If you shed some light on this, it will be of great help to us.
Thanks much.
Prasad
*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************


                                                                                       
                    Peter Dalgaard                                                     
                    BSA                     To:     r-help at stat.math.ethz.ch,          
                    <p.dalgaard at bios        aprasad at fs.fed.us                          
                    tat.ku.dk>              cc:                                        
                    Sent by:                Subject:     Re: [R] Where is gam?         
                    pd at blueberry.kub                                                   
                    ism.ku.dk                                                          
                                                                                       
                                                                                       
                    10/03/00 10:20                                                     
                    AM                                                                 
                                                                                       
                                                                                       



Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > I noticed that there is no generalised additive model functions in R
> > (1.1.1)  ... is there a package that implements them?
..

> If you just want additive models there is a much better
> function bruto in package MDA.
>
> One reason that gam is not there is that some of us think it
> is much over-sold as a technique and the way it is done in S is poorly
> implemented.

Also, note that the gss package by Chong Gu has much the same
objective as gam().

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Oct  3 16:33:22 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 3 Oct 2000 09:33:22 -0500
Subject: [R] Where is gam?
In-Reply-To: <OFF673A06B.1B265FE8-ON8525696D.004A2347@wo.fs.fed.us>
	(aprasad@fs.fed.us)
Message-ID: <200010031433.JAA05462@odds.stat.purdue.edu>


   X-Mailer: Lotus Notes Release 5.0.2a  November 23, 1999
   From: "Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us>
   Date: Tue, 3 Oct 2000 09:31:23 -0400
   X-MIMETrack: Serialize by Router on ENTWOB/E/USDAFS(Release 5.0.3 |March 21, 2000) at 10/03/2000
    09:30:01 AM
   MIME-Version: 1.0
   Content-type: text/plain; charset=us-ascii
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   I noticed that there is no generalised additive model functions in R
   (1.1.1)  ... is there a package that implements them?
   Thanks
   Prasad
   *****************************************************************
   Mr. Anantha Prasad, Ecologist/GIS Specialist
   USDA Forest Service, 359 Main Rd.
   Delaware OHIO 43015    USA
   Ph: 740-368-0103  Email: aprasad at fs.fed.us
   Web: http://www.fs.fed.us/ne/delaware/index.html
   Don't Miss Climate Change Tree Atlas at:
   http://www.fs.fed.us/ne/delaware/atlas/index.html
   ******************************************************************

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You may try the gss package.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kademan at phz.com  Tue Oct  3 17:07:15 2000
From: kademan at phz.com (Ed Kademan)
Date: 03 Oct 2000 11:07:15 -0400
Subject: [R] the underscore ("_") in variable name
In-Reply-To: ben@zoo.ufl.edu's message of "Tue, 3 Oct 2000 08:21:04 -0400 (EDT)"
Message-ID: <ulgu2au6k0s.fsf@phz.com>

ben at zoo.ufl.edu writes:

>   Could ESS indeed be programmed to insert "<-" when one typed "_" ?

I have something like the following in my .emacs file to do that:

  (add-hook
   'inferior-ess-mode-hook
   '(lambda ()
      (define-key inferior-ess-mode-map "_" "<-")))

-- 
Ed Kademan              508.651.3700
PHZ Capital Partners    508.653.1745 (fax)
321 Commonwealth Road   <kademan at phz.com>
Wayland, MA 01778
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emmanuel.charpentier at sap.ap-hop-paris.fr  Tue Oct  3 17:29:09 2000
From: emmanuel.charpentier at sap.ap-hop-paris.fr (Emmanuel Charpentier)
Date: Tue, 03 Oct 2000 17:29:09 +0200
Subject: [R] Bug in RODBC ?
Message-ID: <39D9FB45.AAD289B1@sap.ap-hop-paris.fr>

Dear lists,

It seems that RODBC has a problem : when reading through ODBC from an Access
table with missing values, *character* missing values are (correctly) reported
as NA factor values. *Numeric* values, however, retain the value of the same
variable in the previous row.

My setup : R 1.1.1 under Win95, RODBC as compiled with the R Win CRAN
distribution, MS Access 97.

I just discovered this, and had no time to explore. I will try to debug this,
but my knowledge of the ODBC internals and gizzards being almost non-existent,
any clue from you would help me tremendously.

Is there a formal mechanism for bug reports ? If so, should I submit one ?

Sincerely yours,

					Emmanuel Charpentier
--
Emmanuel Charpentier			Tel :		+33-01 40 27 35 98
Secr?tariat scientifique du CEDIT	Fax :		+33-01 40 27 55 65
Direction de la Politique M?dicale // Assistance Publique - H?pitaux de Paris
3, Avenue Victoria // F-75004 Paris /// France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Tue Oct  3 17:32:50 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Tue, 3 Oct 2000 11:32:50 -0400
Subject: [R] Where is gam?
Message-ID: <OF7814D079.4C3C8919-ON8525696D.00543D82@wo.fs.fed.us>


Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> I don't think
> that asking for a technical consultancy in response to the answer
> to a question on software availability is fair.  You have already
> used up a lot of R core time with R questions.

I had no idea that I was asking for technical consultancy - it's just that
since you said that gam is over-sold and poorly implemented in S, I was
curious to know more about what prompted you to say that - since I am sure
many people (including me) use gam. My sincere apologies to the group if my
question falls in that realm and if I have used up too much of R core time.
I would like to thank you all again for those very helpful replies.
Hopefully, I can implement a public domain version of the my application
that'll be helpful to a few out there in order to repay my debt.
I'll try to remain silent for a while.
Prasad

*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************


                                                                                    
                    Prof Brian                                                      
                    Ripley               To:     aprasad at fs.fed.us                  
                    <ripley at stats        cc:                                        
                    .ox.ac.uk>           Subject:     Re: [R] Where is gam?         
                                                                                    
                    10/03/00                                                        
                    11:12 AM                                                        
                    Please                                                          
                    respond to                                                      
                    Prof Brian                                                      
                    Ripley                                                          
                                                                                    
                                                                                    



 From: "Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us>
> Date: Tue, 3 Oct 2000 10:24:10 -0400
>
>
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
> > One reason that gam is not there is that some of us think it
> > is much over-sold as a technique and the way it is done in S is poorly
> > implemented.
> Could you please clarify.... there has been a lot of interest in gam
> recently in predicting species distribution and environmental management
> (there is in fact a workshop scheduled in Switzerland next year on
GLM/GAM
> modelling). So many of us would be very interested to learn about its

(Not exactly topical then: 1970s and 1980s statistical techniques)

> shortcomings (reason why you think it is oversold technique)...and also
> what aspects of it are poorly implemented in S.
> If you shed some light on this, it will be of great help to us.

Take a look in the archives: we've been here before. I don't think
that asking for a technical consultancy in response to the answer
to a question on software availability is fair.  You have already
used up a lot of R core time with R questions.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  3 17:46:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Oct 2000 17:46:35 +0200
Subject: [R] Re: [Rd] Bug in RODBC ?
In-Reply-To: Emmanuel Charpentier's message of "Tue, 03 Oct 2000 17:29:09 +0200"
References: <39D9FB45.AAD289B1@sap.ap-hop-paris.fr>
Message-ID: <x24s2uudus.fsf@blueberry.kubism.ku.dk>

Emmanuel Charpentier <emmanuel.charpentier at sap.ap-hop-paris.fr> writes:

> Is there a formal mechanism for bug reports ? If so, should I submit one ?

Well, there's a slot for "add-ons" in the R bug repository, and that's
where we put reports that pertain to packages. However, the core group
does not take responsibility for fixing packages, and there's no way
of ensuring that package-writers even scan the repository for "their"
bugs. So a safer way would seem to be to contact the author directly.
That'll be Michael Lapsley <mlapsley at sthelier.sghms.ac.uk> according
to the CRAN entry.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  3 17:42:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Oct 2000 16:42:12 +0100 (BST)
Subject: Posting of copies of private messages (was [R] Where is gam?)
Message-ID: <200010031542.QAA02356@toucan.stats.ox.ac.uk>

You have just posted a copy of a private message to R-help.  Under UK 
copyright law you need permission to do so, and I deliberately did not post
it myself. Please don't

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Tue Oct  3 18:43:36 2000
From: amurta at ipimar.pt (Alberto Murta)
Date: Tue, 03 Oct 2000 16:43:36 +0000
Subject: (fwd) Re: [R] the underscore ("_") in variable name
References: <200010031405.PAA27331@toucan.stats.ox.ac.uk>
Message-ID: <39DA0CB8.18946DBD@ipimar.pt>

Prof Brian Ripley wrote:

> (I'll leave John Chambers to comment if `the last version of S' has yet
> arrived.)

I'm sorry. I meant 'latest'. In portuguese we use the same word for 'last' and
'latest'.

Alberto

--
__________________ Alberto G. Murta ______________________
     IPIMAR - Institute of Fisheries and Sea Research
      Avenida de Brasilia; 1449-006 Lisboa; Portugal
Tel:351 213027062; Fax:351 213015948; http://www.ipimar.pt


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001003/5f6d794d/attachment.html

From snw at mcs.st-and.ac.uk  Tue Oct  3 17:54:51 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 3 Oct 2000 16:54:51 +0100 (BST)
Subject: [R] Where is gam?
In-Reply-To: <OFF673A06B.1B265FE8-ON8525696D.004A2347@wo.fs.fed.us>
Message-ID: <Pine.GSO.4.21.0010031632380.23172-100000@dolphin>



> I noticed that there is no generalised additive model functions in R
> (1.1.1)  ... is there a package that implements them?

I've produced a preliminary version of a package that fits gams
implemented using 1-d penalized regression splines: it includes a version
of gam(). Smoothing parameter selection is done on all terms
simultaneously using GCV. It's available from:

http://www.ruwpa.st-and.ac.uk/simon/mgcv.html

... the plan is to add multidimensional terms fairly soon, and to make it
more widely available after a bit more testing. It's only advantages over
gss is speed on large datasets and the fact that it provides a version of
gam(). 

I don't know what other people think, but my concerns about gams 
relate to the oddness of their structure. Often, modelling amounts to
trying to find some unknown function linking your covariates to your
response i.e. you want to find the f in:

E(y) = f(x_1, x_2, x_3....)

unless there's good prior reason to do so why would you start by letting:

f(.) = f_1(x_1) + f_2 (x_2) + f_3 (x_3) +.... ?

The point is maybe clearest by considering polynomial models. If you don't
know f(.) it seems reasonable to use some taylor expansion of f(.) as a
model... e.g.

f(.) = a + b x_1 + c x_2 + d x_3 + e x_1 x_2 + g x_1 x_3 + h x_2 x_3 +
       p x_1^2 + q x_2^2 + r x_3^2 + ...


Using gams is rather like deleting all mixed terms in this expansion
(i.e. e x_1 x_2,  g x_1 x_3 etc). This seems like a very odd thing to do
and gets wierder the more degrees of freedom you allow the model.  

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Oct  3 08:28:12 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 3 Oct 2000 08:28:12 +0200 (CEST)
Subject: [R] This mail was found after problem with mailserver Oct 3rd - postmaster@hh.umu.se
In-Reply-To: <Pine.GSO.4.21.0010021059340.5187-100000@atlas.biostat.washington.edu>
References: <14808.52254.170148.815746@gargle.gargle.HOWL>
	<Pine.GSO.4.21.0010021059340.5187-100000@atlas.biostat.washington.edu>
Message-ID: <14809.31868.813499.212889@mithrandir.hornik.net>

>>>>> Thomas Lumley writes:

> On Mon, 2 Oct 2000, Peter Holzer wrote:
>> Dear R users
>> 
>> I have started to use gdb for debugging dynloaded C code as described in
>> `Writing R Extensions'. Unfortunately I have run into several problems that
>> I haven't been able to solve:
>> 
>> - using `n': how comes that the same line of code appears up to three times
>> (and inbetween the next line and maybe even the second next one?)
>> 
>> - using `print' resp. `display': How comes the variable values are
>> different from those shown by fprintf? How comes the variable values
>> change when actually no value is assigned to them (and I use `n', not
>> `s')?

> I think both problems are likely due to compiler optimisation.  The
> GNU tools are unusual in letting you debug optimised code: the Sun
> compilers, for example, won't generate debugging information if you
> optimise, for precisely this reason.

> Optimisation typically results in the machine instructions for
> different lines of C code being interleaved.  Even worse, loops may be
> unrolled, statements moved in or out of loops, and other complicated
> things done to your code.

> While debugging optimised code can still be useful, it is often easier
> to recompile the code without optimisation (as long as the bug isn't
> caused by optimisation) and debug that way.

> I'm not sure of the best way to recompile without optimisation. You
> could edit R_HOME/etc/Makeconf, or you could cut-and-paste the
> compiler invocations that R COMPILE produces and then edit them by
> hand.

Or, if you don't want to edit this file, you can do

	MAKEFLAGS="CFLAGS=" R CMD INSTALL /path/to/code

etc.

(Not sure if all versions of make support this ... if so maybe this
should be an FAQ?)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From filter-kmself at ix.netcom.com  Tue Oct  3 19:36:12 2000
From: filter-kmself at ix.netcom.com (filter-kmself@ix.netcom.com)
Date: Tue, 03 Oct 2000 10:36:12 -0700
Subject: [R] Re: Parse Errors
In-Reply-To: <MPEHJEGLNPNFGJFOJMKNAECNCAAA.Don.Wingate@IntelliChem.com>
References: <MPEHJEGLNPNFGJFOJMKNAECNCAAA.Don.Wingate@IntelliChem.com>
Message-ID: <E13gVzA-00082g-00@navel>

                    ___ ____ _   _  ___  ____  _____ ____
                   |_ _/ ___| \ | |/ _ \|  _ \| ____|  _ \
                    | | |  _|  \| | | | | |_) |  _| | | | |
                    | | |_| | |\  | |_| |  _ <| |___| |_| |
                   |___\____|_| \_|\___/|_| \_\_____|____/


Your message has been caught by my spam filter and has been sent to the great
bit-bucket in the sky.

If your message was not spam (i.e. junk email), you can reach me by including
the text "dilcue" somewhere in the subject line.

"Why did your message get caught by my filter?", you ask...  Most likely it's
because junkmail, unwanted advertising, or harrassing email came from your
email address or from your site at some previous time.  Spam hurts everyone.

Please note that I am probably not the only one who is blocking mail from your
site.  If you don't want to be associated with internet abusers, consider
switching to another internet access provider.

                                          Karsten
                                 ( kmself at ix.netcom.com )

-------------------------------------------------------------------------------
   Tired of spam?  See what you can do to fight it at: http://www.cauce.org/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Tue Oct  3 19:43:01 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Tue, 03 Oct 2000 18:43:01 +0100
Subject: [R] How to create indicator variable in R?
In-Reply-To: <14809.44598.141172.309288@gargle.gargle.HOWL>
References: <14808.52254.170148.815746@gargle.gargle.HOWL>
 <14808.52254.170148.815746@gargle.gargle.HOWL>
Message-ID: <3.0.1.32.20001003184301.006cdf08@bureau.ucc.ie>

Hi!

I have a variable with 5 categories and I want
to create dummy variables for each category.

Is there any quick way to do it in R?


Thanks,
Agus
------------------------
Agus Salim
PhD student
Dept. of Statistics
University College Cork,
Ireland
Tel: 353-21-4902197
------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Tue Oct  3 20:45:12 2000
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Tue, 03 Oct 2000 08:45:12 -1000
Subject: [R] Unreadable code: was the underscore ("_") in variables
References: <200010022309.e92N9bW00717@atlas.marc.cri.nz>
Message-ID: <39DA2938.362248ED@honlab.nmfs.hawaii.edu>

Patrick Connolly wrote:
> 
> According to Bill Venables:
> 
> |> If we follow your suggestion and give prominence to the fact that "_" is a
> |> synonym for "<-" then as sure as eggs some people will actually USE it!
> |> This is, in the opinion of many of us at least, a very BAD thing as it
> |> makes code just about unreadible.
> 
> It appears somewhat different from my perspective.
> 
> I got into the habit of using emacs S-mode early in my time with the S
> language.  Being a lazy typist, I found it convenient to use the
> parser to expand the assignments, add spaces and generally make
> readable any code I wished to use again (such as in functions).  To
> anyone looking over my shoulder it might look crude, but it works
> quickly and safely as I am concerned.
> 
> BTW: this no longer works using ESS as far as I can tell.  To a lazy
> typist this is a sad loss.  Has anyone found a way to return this
> functionality?
> 

I found (with the help of the ess hlp list and Hans Ehrbar) that if you
put the following in the .emacs file:

   (defun R-equals () (interactive) (insert " <- "))
   (global-set-key [?\C-=] 'R-equals)

then Ctrl-= will insert " <- ".  So lazy typists shold be able to
produce
readable R or S code (if they use ESS).

Cheers, Pierre


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Tue Oct  3 22:05:50 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Tue, 3 Oct 2000 21:05:50 +0100 (BST)
Subject: [R] captions for than one figure
Message-ID: <200010032005.VAA22378@achill.nmrc.ucc.ie>

Hi,

I would like to have four plots plotted in the one figure and under each plot 
the caption (a) ... (d). Using mtext I can get so far:

> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>  mtext("(a)",side=1,line=4.5)
> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>  mtext("(b)",side=1,line=4.5)
> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>  mtext("(c)",side=1,line=4.5)
> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>  mtext("(d)",side=1,line=4.5)

But the captions in the bottom two plots are clipped. I could textedit the 
postscipt file and increase the boundary but that seems like overkill to me. Is 
there any command where I can vertically offset the entire plot.

Thanks in Advance,
Dermot MacSweeney.

P.S. If I see another e-mail with the mention of an underscore I think that I 
will crack up.


**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Oct  3 22:25:48 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 03 Oct 2000 16:25:48 -0400
Subject: [R] captions for than one figure
In-Reply-To: <200010032005.VAA22378@achill.nmrc.ucc.ie>
References: <200010032005.VAA22378@achill.nmrc.ucc.ie>
Message-ID: <39df3f9f.12167453@fisher.stats.uwo.ca>

On Tue, 3 Oct 2000 21:05:50 +0100 (BST), you wrote in message
<200010032005.VAA22378 at achill.nmrc.ucc.ie>:

>Hi,
>
>I would like to have four plots plotted in the one figure and under each plot 
>the caption (a) ... (d). Using mtext I can get so far:
>
>> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>>  mtext("(a)",side=1,line=4.5)
>> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>>  mtext("(b)",side=1,line=4.5)
>> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>>  mtext("(c)",side=1,line=4.5)
>> plot(1:10, exp(1:10), log = "y", xlab = "xlab")
>>  mtext("(d)",side=1,line=4.5)
>
>But the captions in the bottom two plots are clipped. I could textedit the 
>postscipt file and increase the boundary but that seems like overkill to me. Is 
>there any command where I can vertically offset the entire plot.

You want to play with the mar, mai or oma parameters.  See help on
par() for details.

For example, the default is 

> par('mar')
[1] 5.1 4.1 4.1 2.1

and you'd probably get enough space if you tried

par(mar=c(6.1,4.1,4.1,2.1))

The numbers are the margins in "lines" on the four sides of the plots.
You need to execute this before doing the four plots.

For best style (and to crack you up), you could do it like this:

 oldmar _ par(mar=c(6.1,4.1,4.1,2.1))
  do the plots
 par(oldmar)

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  3 23:17:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Oct 2000 22:17:20 +0100 (BST)
Subject: [R] How to create indicator variable in R?
In-Reply-To: <3.0.1.32.20001003184301.006cdf08@bureau.ucc.ie>
Message-ID: <Pine.GSO.4.05.10010032213040.16836-100000@auk.stats>

On Tue, 3 Oct 2000, Agus Salim wrote:

> I have a variable with 5 categories and I want
> to create dummy variables for each category.
> 
> Is there any quick way to do it in R?

Use row indexing or model.matrix.

ff <- factor(sample(letters[1:5], 25, replace=TRUE))

diag(nlevels(ff))[ff,]
or
model.matrix(~ ff - 1)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ddavis at saflink.com  Wed Oct  4 00:44:39 2000
From: ddavis at saflink.com (Dan Davis)
Date: Tue, 3 Oct 2000 15:44:39 -0700 
Subject: [R] Need Help: Titles and axis labels on a plot won't print in WIN2k
Message-ID: <19B535951563D4119B36009027E7890A03AE77@EVEREST>


I figured this out once, but stupidly didn't write down the solution.

I set up nice little titles and axis labels that show up just fine in 
the plot window, but when I print, nothing prints outside of the
x and y axis borders. 

Help would be appreciated. 

	Dr. Daniel Davis, Senior R&D Engineer
	SAFLINK Corporation
	18650  NE 67th Court
	Suite 210
	Redmond, WA  98052
	425-881-6766 x 206
	(877) 331-5400 Toll Free
	(425) 497-9330 Fax
	www.saflink.com
	<mailto:ddavis at saflink.com>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Wed Oct  4 00:46:12 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Tue, 03 Oct 2000 23:46:12 +0100
Subject: (fwd) Re: [R] the underscore ("_") in variable name
References: <39dcd025.1722589@smtp1.sympatico.ca> <39D9F10C.F0E51F4B@ipimar.pt> <39dae866.849853@fisher.stats.uwo.ca>
Message-ID: <39DA61B4.7A58BF8C@clara.net>

I too prefer ":=", but I would attribute it to Algol, the ancestor of
Pascal and C. It can be rendered into English as "becomes" or "becomes
equal to". For me, the symbol expresses this well. However I don't think
"=:" expresses the reverse well, so for R I vote for the left- and
right-arrow symbols.

Earlier in this thread there was discussion about the inconvenience of
typing "<-" on certain keyboards. Do we want to design our languages
according to the quirks of our keyboards and character sets? In Algol,
":=" is a single symbol, as indeed are "begin" and "end". And consider
the unreadability of a language like Tex, as compared with the typeset
result! Who needs a numeric keypad that duplicates keys that are found
elsewhere? What we need is a decent symbol keypad.

Clive Jenkins

Duncan Murdoch wrote:
> 
> On Tue, 03 Oct 2000 14:45:32 +0000, you wrote in message
> <39D9F10C.F0E51F4B at ipimar.pt>:
> 
> >Duncan Murdoch wrote:
> 
> >> (Of course, I actually prefer the Pascalian :=, but I realize
> >> that puts me in a double minority :-).
> >>
> >
> >Here I agree with you. I think that future releases of R should
> >have "=" as the assignement operator, just like the last version
> >of S.
> 
> No, please don't!  I was suggesting ":=", not "=", and I wasn't
> serious.  A lone equal sign is used in too many languages (e.g.
> standard mathematical notation, standard pseudocode, Pascal and
> its descendants, etc.) to indicate a statement or test of equality.
> The mis-use of it in Fortran, C and BASIC aren't examples we want
> to follow.
> 
> I think we're stuck with "<-", despite the deficiencies I pointed
> out in my earlier message, and we should learn to live with it.
> I'm ambivalent about " _ ".
> 
> Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Wed Oct  4 01:59:16 2000
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Wed, 04 Oct 2000 09:59:16 +1000
Subject: [R] strings
Message-ID: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au>

I am attempting to analyse some behaviour sequence data.  The input is an 
alphabetic string "ASDFGH ... ".  I wish to start at one end of the string, 
peel off each character, and convert to an integer to develop transition 
matrices etc. My blundering through the ref manual hasn't produced any light.

Can this be done easily in R or should I pre-process?

I recollect an item similar to this on R-help around 6 mo ago but I can't 
find it in the archive. If there is such an article can someone please send 
me the date and I will track it down,

Richard Rowe

Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Oct  4 03:01:32 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 04 Oct 2000 11:01:32 +1000
Subject: [R] Where is gam? 
In-Reply-To: Your message of "Tue, 03 Oct 2000 16:54:51 +0100."
             <Pine.GSO.4.21.0010031632380.23172-100000@dolphin> 
Message-ID: <200010040101.MAA14633@snowy.nsw.cmis.CSIRO.AU>

Simon Wood notes:

> I don't know what other people think, but my concerns about gams 
> relate to the oddness of their structure. Often, modelling amounts to
> trying to find some unknown function linking your covariates to your
> response i.e. you want to find the f in:
> 
> E(y) = f(x_1, x_2, x_3....)
> 
> unless there's good prior reason to do so why would you start by letting:
> 
> f(.) = f_1(x_1) + f_2 (x_2) + f_3 (x_3) +.... ?

This is at the core of the reason why some of us think the method is
over-sold.  Neglecting interactions ab initio is always a dangerous
thing to do - this is at the core of the now famous dispute between
Box and Taguchi and even before that at the heart of the reason why
Fisher was so insistent that in designed experiments factors should
NOT be varied "one at a time" but as much as possible all together in
the one experiment, and block designs, factorial experiments,
confounding, fractional replication and all that malarkey came into
the world.  (This advice is still viewed with much surprise and
incredulity by people who do experiments in areas such as Physics and
Engineering, particularly.)

> The point is maybe clearest by considering polynomial models. If you don't
> know f(.) it seems reasonable to use some taylor expansion of f(.) as a
> model... e.g.
> 
> f(.) = a + b x_1 + c x_2 + d x_3 + e x_1 x_2 + g x_1 x_3 + h x_2 x_3 +
>        p x_1^2 + q x_2^2 + r x_3^2 + ...
> 
> 
> Using gams is rather like deleting all mixed terms in this expansion
> (i.e. e x_1 x_2,  g x_1 x_3 etc). This seems like a very odd thing to do
> and gets wierder the more degrees of freedom you allow the model.  

Yes, it does seem very strange to be packing lots of degrees of
freedom into the main effect terms and neglecting interactions
entirely, and it is, very often.

On the other hand, this can be viewed as an injunction to the modeller
on how to choose variables that go into a gam.  It has to be said that
experimenters can, very often, pick variables for inclusion in a model
that will account for the behaviour of the system fairly well and at
the same time are known beforehand to be unlikely to interact.  For
example I recently had a case where I had to model a marine (coastal)
phenomenon in terms of spatial co-ordinates (and others, of course).
With latitude and and longitude there was a very perceptible
interaction, but by tilting the axis system and choosing coordinates
that were essentially parallel to the coast and perpendicular to it,
respectively, the interaction largely disappeared, even though the
contributions to the model from both main effect terms were
perceptibly curvilinear.

My advice is not just to "try an additive model" without thinking
about the variables.  You really have to find out as much as you can
about them and the effect they might have on the behaviour of the
response and to choose suitable functions of them to go into an
additive model so that substantial interactions between them are
unlikely.  For an additive model to be successful this is an
absolutely essential step - you should even write down the reasons why
you think substantial interactions between the variables you have
ultimately chosen (or manufactured) are unlikely and include them in
your report of the work as a matter of simple modelling honesty, in my
view.  Then, of course, you should check this by throwing in a few
multiplicative terms, say, and just see if their addition
significantly improves the situation. (With large data sets you may
have to interpret "significantly" here rather carefully, too.  Every
term will typically reach the 5% level, but the real question is
whether the magnitude of their contribution to the outcome is
appreciable at the scale for which the model is intended.)

I have to say, too, that a lot of the attraction of gam's is that they
become easy to interpret and easy to explain to onlookers.  There is a
very strong and understandable tendency for people to ask "What is
*the* effect of variable X?", as if it were always a reasonable
question.  If you have a gam you hand them a very nice graph of the
additive component and they shut up.  Never mind that if the variable
has substantial interactions with others in the model the whole
question becomes ill-posed and not susceptible to an answer in
isolation from all other variables, such as the gam supposedly
provides.

gam's can indeed be useful, but they are no magic bullet: you still
need to go through the tough business of *modelling* your situation
and really thinking about the data that you get.

Bill Venables.
-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Wed Oct  4 03:46:56 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Wed, 4 Oct 2000 11:46:56 +1000 
Subject: [R] Par arguments and pin and fin
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B14F0@TBACRMEXH001>


Hi R Gurus, 

I want to change the size and shape of the plot region, but cannot work out
how to use the arguments pin and fin in the par() function e.g. :
par(lwd=1.5, font=1, mfrow=c(2,1), pty="m", plt=c(.1,.9, 0.1,.9),
mar=c(1,4,0.1,0.1)
	pin=c(6,12))
this gives me a syntax error associated with pin.  How should I be using
these arguments?

Thanks, 

	Matt Redding


**************************DISCLAIMER********************************
The information in this e-mail message together with any attachments
is confidential and may be legally privileged. It is intended only
for the use of the person or entity to which it is addressed. If you
are not the addressee, any form of disclosure, copying, modification,
distribution or any action taken or omitted in reliance on this
e-mail message is unauthorised. Opinions contained in this e-mail
message and any attachments do not necessarily reflect the opinions
of the Queensland Government and associated organisations. If you
received this e-mail message in error, please notify the sender
immediately and delete this message and any attachments from your
computer and/or your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Oct  4 02:58:23 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 04 Oct 2000 13:58:23 +1300
Subject: (fwd) Re: [R] the underscore ("_") in variable name
In-Reply-To: <39DA61B4.7A58BF8C@clara.net>
References: <39dcd025.1722589@smtp1.sympatico.ca>
 <39D9F10C.F0E51F4B@ipimar.pt>
 <39dae866.849853@fisher.stats.uwo.ca>
Message-ID: <200010040159.OAA09655@gosset.stats.waikato.ac.nz>

At 11:46 PM 3-10-00 +0100, Clive Jenkins wrote:
[...]
> Who needs a numeric keypad that duplicates keys that are found
>elsewhere? What we need is a decent symbol keypad.
>
>Clive Jenkins
>

Mmmmm, but lets not travel too far down the APL road!

Murray Jorgensen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Wed Oct  4 07:22:44 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Wed, 04 Oct 2000 08:22:44 +0300
Subject: [R] Where is gam? 
In-Reply-To: Message from "Anantha Prasad/NE/USDAFS" <aprasad@fs.fed.us> 
   of "Tue, 03 Oct 2000 11:32:50 EDT." <OF7814D079.4C3C8919-ON8525696D.00543D82@wo.fs.fed.us> 
Message-ID: <200010040522.IAA15841@khatkhat.ecology.helsinki.fi>


aprasad at fs.fed.us said:
> Could you please clarify.... there has been a lot of interest in gam
> recently in predicting species distribution and environmental
> management (there is in fact a workshop scheduled in Switzerland next
> year on GLM/GAM modelling).

I think that if there is one field where GAMs are "oversold" that must be 
(vegetation) ecology and modelling species responses along environmental 
variables (that we call -- believe or not -- "gradients"). GAMs are used since 
some people are worried about the "correct shape" of species response 
functions, and in particular, against the symmetric Gaussian response 
functions.  In particular they are worried about things like skewness of the 
species responses.  GAMs are used since they seem to impose no constraint in 
the shape and so you can see if your responses *really* are symmetric of if 
they are skewed, flat or in other interesting shapes.  However, these 
questions about shape are parametric questions and they cannot be answered 
with non-parametric models, but these must be subjectively interpreted in 
parametric terms.  It seems that vegetation ecologists are more GAM-fixed that 
they do not even follow the example of Hastie & Tibshirani book where GAMs 
were regularly compared against other models, and quite often, used to select 
a credible parametric model.  The major problem in vegetation ecology is that 
first we use GAM, get a response curve, and then we interpret these shapes in 
parametric terms. So we say, e.g., that we found a skewed response without 
comparing this shape to a symmetric model.  Question about skewness is a 
parametric question (`skewness' *is* a parameter), and so we need nested 
models which differ with this models. We cannot use non-parametric models and 
give them parametric interpretation (`non-parametric' in the sense that the 
parameters there are nothing we could use for interpretation).

In particular in exploratory vegetation ecology where we go out and observe 
and measure things, we can hardly ignore interactions either.

At the moment we are somewhat short of models which could be used for the 
parametric questions of veg.ecologists. I have made some trials with these:

@article{Huisman93,
   author = {J. Huisman and H. Olff and L. F. M. Fresco},
   title = {A hierarchical set of models for species response analysis},
   journal = {Journal of Vegetation Science},
   volume = {4},
   pages = {37-46},
   year = {1993}
} 

It should be easy to fit their models in R, even with ML, although I have done 
this so far only with a program written specifically for these models (because 
I did not know about R when I started).

cheers, Jari Oksanen
-- 
"Infinite variety of Nature, that is pure myth. It is not found in
Nature herself. It resides in the imagination, or fancy, or cultivated
blindness of the man who looks at her." Oscar Wilde


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Wed Oct  4 07:36:45 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Wed, 4 Oct 2000 16:36:45 +1100 
Subject: [R] postscript preview
Message-ID: <61411576E951D211AF330008C7245DD906D6EDC3@ntmsg0005.corpmail.telstra.com.au>

gday R friends,

I was wondering if anyone could help me with some graphics issues please.

I'm processing R in batch on redhat6.2 with some graphics to be imported
into msword on NT.  For scaling within my doco I want some vector type
graphics.  win.metafile doesn't seem to be supported on redhat which gives
me postscript.  postscript is ideal but doesn't contain a preview so I can't
see it in msword.

Is there a way of sticking a preview into postscript?

If I ignore vector graphics and use png/jpeg I get x11 colormap limitations.


Is bitmap my only alternative?

thanks,
John Strumila
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Oct  4 08:06:40 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 4 Oct 2000 08:06:40 +0200 (CEST)
Subject: [R] strings
In-Reply-To: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au>
References: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au>
Message-ID: <14810.51440.428895.534969@mithrandir.hornik.net>

>>>>> Richard Rowe writes:

> I am attempting to analyse some behaviour sequence data.  The input is
> an alphabetic string "ASDFGH ... ".  I wish to start at one end of the
> string, peel off each character, and convert to an integer to develop
> transition matrices etc. My blundering through the ref manual hasn't
> produced any light.

> Can this be done easily in R or should I pre-process?

> I recollect an item similar to this on R-help around 6 mo ago but I
> can't find it in the archive. If there is such an article can someone
> please send me the date and I will track it down,

Richard,

Not sure what precisely you need ... if it is about converting a string
to a vector of characters, you could use

	R> x <- "ASDFGH"
	R> x
	[1] "ASDFGH"
	R> unlist(strsplit(x, NULL))
	[1] "A" "S" "D" "F" "G" "H"

and proceed from there.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct  4 08:17:34 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Oct 2000 07:17:34 +0100 (BST)
Subject: [R] postscript preview
In-Reply-To: <61411576E951D211AF330008C7245DD906D6EDC3@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.05.10010040709150.16973-100000@auk.stats>

On Wed, 4 Oct 2000, Strumila, John wrote:

> gday R friends,
> 
> I was wondering if anyone could help me with some graphics issues please.
> 
> I'm processing R in batch on redhat6.2 with some graphics to be imported
> into msword on NT.  For scaling within my doco I want some vector type
> graphics.  win.metafile doesn't seem to be supported on redhat which gives
> me postscript.  postscript is ideal but doesn't contain a preview so I can't
> see it in msword.
> 
> Is there a way of sticking a preview into postscript?

Yes.  Most easily, use GSView on Windows, which has a menu option to 
do this.  The same author (Russell Lang) has a standalone program epstool
that can add (or remove) previews.  That has a Unix version, but whether it
can add on Unix previews that Word can read, I don't know.

GSView/epstool are found on ghostscript sites, once under rjl, now I think
under ghostgum.

> If I ignore vector graphics and use png/jpeg I get x11 colormap limitations.
> 
> 
> Is bitmap my only alternative?

The only vector graphics formats supported by R on Linux are PostScript and
XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
in particular is not going to be easy due to lack of documentation (and
lack of existing convertors).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Oct  4 08:42:14 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 4 Oct 2000 08:42:14 +0200
Subject: [R] strings
In-Reply-To: <14810.51440.428895.534969@mithrandir.hornik.net>
References: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au>
	<14810.51440.428895.534969@mithrandir.hornik.net>
Message-ID: <14810.53574.918189.565132@gargle.gargle.HOWL>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

>>>>> Richard Rowe writes:
    >> I am attempting to analyse some behaviour sequence data.  The input is
    >> an alphabetic string "ASDFGH ... ".  I wish to start at one end of the
    >> string, peel off each character, and convert to an integer to develop
    >> transition matrices etc. My blundering through the ref manual hasn't
    >> produced any light.

    >> Can this be done easily in R or should I pre-process?

    >> I recollect an item similar to this on R-help around 6 mo ago but I
    >> can't find it in the archive. If there is such an article can someone
    >> please send me the date and I will track it down,

    KH> Richard,

    KH> Not sure what precisely you need ... if it is about converting a string
    KH> to a vector of characters, you could use

    R> x <- "ASDFGH"
    R> x
    KH> [1] "ASDFGH"
    R> unlist(strsplit(x, NULL))
    KH> [1] "A" "S" "D" "F" "G" "H"

    KH> and proceed from there.

which reminds me that I've had a desire for something like
the old S function  [from the blue book, and library(examples) I think]
    ichar(ch)
which would return a vector of integers, each the (decimal) equivalent of
the (ISO-latin1) representation of the corresponding characters in ch.

This should be easy enough (and be done in C).
Any volunteers?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Oct  4 09:02:25 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 4 Oct 2000 09:02:25 +0200 (CEST)
Subject: [R] strings
In-Reply-To: <14810.53574.918189.565132@gargle.gargle.HOWL>
References: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au>
	<14810.51440.428895.534969@mithrandir.hornik.net>
	<14810.53574.918189.565132@gargle.gargle.HOWL>
Message-ID: <14810.54785.19213.797465@mithrandir.hornik.net>

>>>>> Martin Maechler writes:

>>>>> "KH" == Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:
>>>>> Richard Rowe writes:
>>> I am attempting to analyse some behaviour sequence data.  The input is
>>> an alphabetic string "ASDFGH ... ".  I wish to start at one end of the
>>> string, peel off each character, and convert to an integer to develop
>>> transition matrices etc. My blundering through the ref manual hasn't
>>> produced any light.

>>> Can this be done easily in R or should I pre-process?

>>> I recollect an item similar to this on R-help around 6 mo ago but I
>>> can't find it in the archive. If there is such an article can someone
>>> please send me the date and I will track it down,

KH> Richard,

KH> Not sure what precisely you need ... if it is about converting a string
KH> to a vector of characters, you could use

R> x <- "ASDFGH"
R> x
KH> [1] "ASDFGH"
R> unlist(strsplit(x, NULL))
KH> [1] "A" "S" "D" "F" "G" "H"

KH> and proceed from there.

> which reminds me that I've had a desire for something like
> the old S function  [from the blue book, and library(examples) I think]
>     ichar(ch)
> which would return a vector of integers, each the (decimal) equivalent of
> the (ISO-latin1) representation of the corresponding characters in ch.

> This should be easy enough (and be done in C).  Any volunteers?

That should not be hard to copy from toupper().  For a character vector
it would give a list of integer vectors?

However, I don't think we want ISO-latin-1 hard-wired ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  4 11:19:39 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Oct 2000 11:19:39 +0200
Subject: [R] Need Help: Titles and axis labels on a plot won't print in WIN2k
In-Reply-To: Dan Davis's message of "Tue, 3 Oct 2000 15:44:39 -0700"
References: <19B535951563D4119B36009027E7890A03AE77@EVEREST>
Message-ID: <x2em1xyndg.fsf@blueberry.kubism.ku.dk>

Dan Davis <ddavis at saflink.com> writes:

> I figured this out once, but stupidly didn't write down the solution.
> 
> I set up nice little titles and axis labels that show up just fine in 
> the plot window, but when I print, nothing prints outside of the
> x and y axis borders. 
> 
> Help would be appreciated. 

..but you won't get any without further details! Which code? What
version of R? How do you print?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  4 11:26:56 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Oct 2000 11:26:56 +0200
Subject: [R] strings
In-Reply-To: Kurt Hornik's message of "Wed, 4 Oct 2000 09:02:25 +0200 (CEST)"
References: <4.3.1.20001004095026.028b3260@pop.jcu.edu.au> <14810.51440.428895.534969@mithrandir.hornik.net> <14810.53574.918189.565132@gargle.gargle.HOWL> <14810.54785.19213.797465@mithrandir.hornik.net>
Message-ID: <x2bsx1yn1b.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> > which reminds me that I've had a desire for something like
> > the old S function  [from the blue book, and library(examples) I think]
> >     ichar(ch)
> > which would return a vector of integers, each the (decimal) equivalent of
> > the (ISO-latin1) representation of the corresponding characters in ch.
> 
> > This should be easy enough (and be done in C).  Any volunteers?
> 
> That should not be hard to copy from toupper().  For a character vector
> it would give a list of integer vectors?
> 
> However, I don't think we want ISO-latin-1 hard-wired ...

Wiring what is already wired (i.e. using the current representation)
would seem OK (um, assuming it's 8-bit).

I actually wanted the reverse operation (integers to string) a few days
ago in order to check the new stringizer for tcltk.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Oct  4 11:12:59 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 4 Oct 2000 10:12:59 +0100
Subject: [R] the underscore ("_") in variable name
In-Reply-To: <39D9D4DA.98193A7E@ozemail.com.au>
References: <39D9D4DA.98193A7E@ozemail.com.au>
Message-ID: <8DVXITAbSv25EwbA@myatt.demon.co.uk>

Jim Lemon <bitwrit at ozemail.com.au> writes:
>Just a vote for "<-".  Once I became familiar with the convention using
>APL, I really began to appreciate the value of distinguishing assignment
>from equality.  Also, the "<-" is clear and fairly unambiguous.  Using
>NEdit, it is trivial to create a macro (Alt= for example) that will type
>the assignment symbol for you.  If you use the left and right assignment
>operators often, perhaps Ctrl= and Alt= would be a simple way to get
>these combinations.

Just to add my tuppence ... when I first started using R I though it was
a bit silly to have a two character assignment operator but later I saw
the utility of having separate assignment (<-), equality (==), and
parameter passing (=) symbols. I also find -> useful during function
development. Also, PASCAL and MODULA use := for assignment. You get used
to it. IMO, better the <- than the _ operator. As I say, just my
tuppence.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From unterkir at ifu.bepr.ethz.ch  Wed Oct  4 11:22:50 2000
From: unterkir at ifu.bepr.ethz.ch (Andreas Unterkircher)
Date: Wed, 4 Oct 2000 11:22:50 +0200
Subject: [R] compiling R on Irix problem 
Message-ID: <Pine.SGI.4.21.0010041122130.21700-100000@trane.ethz.ch>


I try to compile R-1.1.1 on IRIX 6.5.8 using "cc" and "fort77". When
trying to build the "R.bin" I get a lot of unresolved text symbol
messages - here are some:

Unresolved text symbol "Rf_digamma" -- 1st referenced by arithmetic.o.
Unresolved text symbol "Rf_trigamma" -- 1st referenced by arithmetic.o.

Unresolved text symbol "R_FindSymbol" -- 1st referenced by dotcode.o.
Unresolved text symbol "Rf_InitFunctionHashing" -- 1st referenced by

main.o. Unresolved text symbol "R_load_X11_shlib" -- 1st referenced by
../unix/libunix.a(system.o). 
Unresolved text symbol "R_load_gnome_shlib" -- 1st referenced by
../unix/libunix.a(system.o).

Unresolved text symbol "Rstd_read_history" -- 1st referenced by
../unix/libunix.a(system.o).

... and a lot more coming from libunix.a

Does anybody know a solution ?

Best regards,
Andreas

--
mailto: unterkir at ifu.bepr.ethz.ch


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  4 11:42:10 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Oct 2000 11:42:10 +0200
Subject: [R] Par arguments and pin and fin
In-Reply-To: "Redding, Matthew"'s message of "Wed, 4 Oct 2000 11:46:56 +1000"
References: <FB599DB5ACE2D211887500A0C9D334E40B14F0@TBACRMEXH001>
Message-ID: <x28zs5ymbx.fsf@blueberry.kubism.ku.dk>

"Redding, Matthew" <ReddinM at prose.dpi.qld.gov.au> writes:

> Hi R Gurus, 
> 
> I want to change the size and shape of the plot region, but cannot work out
> how to use the arguments pin and fin in the par() function e.g. :
> par(lwd=1.5, font=1, mfrow=c(2,1), pty="m", plt=c(.1,.9, 0.1,.9),
> mar=c(1,4,0.1,0.1)
> 	pin=c(6,12))
> this gives me a syntax error associated with pin.  How should I be using
> these arguments?

Um, with commas in between? (One is missing in line 2(

You can't increase pin & fin beyond the size of the plot window and
still get plots to work. I don't think there's a way to change the
window size using R commands. You can, however, resize the window
manually, or use the width and height arguments when opening the
driver.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  4 11:46:10 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Oct 2000 11:46:10 +0200
Subject: [R] postscript preview
In-Reply-To: Prof Brian D Ripley's message of "Wed, 4 Oct 2000 07:17:34 +0100 (BST)"
References: <Pine.GSO.4.05.10010040709150.16973-100000@auk.stats>
Message-ID: <x266n9ym59.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> The only vector graphics formats supported by R on Linux are PostScript and
> XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
> in particular is not going to be easy due to lack of documentation (and
> lack of existing convertors).

I think you've said it before, but what are the potential advantages of
a direct PDF driver over postscript + epstopdf? (Except being one step
less)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct  4 12:47:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Oct 2000 11:47:49 +0100 (BST)
Subject: [R] postscript preview
In-Reply-To: <x266n9ym59.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10010041144210.1536-100000@toucan.stats>

On 4 Oct 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > The only vector graphics formats supported by R on Linux are PostScript and
> > XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
> > in particular is not going to be easy due to lack of documentation (and
> > lack of existing convertors).
> 
> I think you've said it before, but what are the potential advantages of
> a direct PDF driver over postscript + epstopdf? (Except being one step
> less)

You don't need ghostscript, and in particular you don't need a modern
ghostscript.  (A considerable advantage on Windows.)  Also, one can in
principle at least write cleaner PDF that is easier to edit, for example.

As someone pointed out to me privately, bitmap() does the postscript +
epstopdf bit for you if you select type = "pdfwrite". (As the author of
bitmap, I did know that....)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From leesh at jhmi.edu  Wed Oct  4 17:06:25 2000
From: leesh at jhmi.edu (Shing Lee)
Date: Wed, 04 Oct 2000 11:06:25 -0400
Subject: [R] wrapper for windows
Message-ID: <s9db0f9c.085@cis27.hosts.jhmi.edu>

Does anyone have an example of a wrapper for Borland C++ in a windows envorinment?  Thanks in advance.

S Lee

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stein at fieldmuseum.org  Wed Oct  4 17:40:57 2000
From: stein at fieldmuseum.org (Jennifer Steinbachs)
Date: Wed, 4 Oct 2000 10:40:57 -0500 (CDT)
Subject: [R] postscript preview
In-Reply-To: <Pine.GSO.4.05.10010040709150.16973-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0010040853570.3241-100000@mail.fmnh.org>


John wrote:

 >> If I ignore vector graphics and use png/jpeg I get x11 colormap limitations.
 >> 
 >> 
 >> Is bitmap my only alternative?
 >

Brian wrote:

 >The only vector graphics formats supported by R on Linux are PostScript and
 >XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
 >in particular is not going to be easy due to lack of documentation (and
 >lack of existing convertors).
 >
 >

It was my understanding that John wanted to insert the graphic into
Word.  Can one insert .pdf into Word?  I can't seem to do it with
StarOffice (and SO help leaves much to be desired).  Switching back to
LaTeX resolved this issue for me, though. :)

In the Windows world, Adobe Illustrator reads .eps formats with subsequent
modifications possible (the .ai format is very similar, if not
identical, to .eps format).  There is also an open source program for *nix
(sketch - I found it on freshmeat.net) that will read adobe illustrator
formats, .eps,  and xfig formats.  One can also export to .eps or plain
.ps formats.  I recall getting a little impatient with it, but I can't
recall what I disliked about it.

Of course, if you've got lots of graphics, you might not want to edit them
all, so this might not be an appropriate route to take.

-jennifer

-----------------------------------
J. Steinbachs, Ph.D.
Computational Biologist
The Field Museum
Chicago, IL 60605-2496

office: 312-665-7810
fax: 312-665-7158
http://cb.fmnh.org
-----------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Wed Oct  4 17:48:19 2000
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Wed, 4 Oct 2000 17:48:19 +0200 (CEST)
Subject: [R] strings
In-Reply-To: <14810.53574.918189.565132@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.21.0010041659320.23258-100000@reclus.nhh.no>

On Wed, 4 Oct 2000, Martin Maechler wrote:

> >>>>> "KH" == Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:
> 
> >>>>> Richard Rowe writes:
>     >> I am attempting to analyse some behaviour sequence data.  The input is
>     >> an alphabetic string "ASDFGH ... ".  I wish to start at one end of the
>     >> string, peel off each character, and convert to an integer to develop
>     >> transition matrices etc. My blundering through the ref manual hasn't
>     >> produced any light.
>     KH> Not sure what precisely you need ... if it is about converting a string
>     KH> to a vector of characters, you could use
> 
>     R> x <- "ASDFGH"
>     R> x
>     KH> [1] "ASDFGH"
>     R> unlist(strsplit(x, NULL))
>     KH> [1] "A" "S" "D" "F" "G" "H"
> 
>     KH> and proceed from there.
> 

Maybe:

> x <- "ASDFGH"
> cx <- unlist(strsplit(x, NULL))
> match(cx, LETTERS)
[1]  1 19  4  6  7  8

or stepping along cx with which(LETTERS == cx[i]) to get them one by one?
However, the real question seemed to me to be how to generate the
transition matrices, and may mean something more like creating a data
frame with a source and one or more destinations:

> cx1 <- substring(x, 1:nchar(x), 2:nchar(x))
> cx1
[1] "AS" "SD" "DF" "FG" "GH" ""  
> tdf <- matrix(NA, nrow=length(cx1)-1, ncol=2)
> for (i in 1:length(cx1)-1) tdf[i,] <- match(unlist(strsplit(cx1[i],
+ NULL)), LETTERS)
> tdf
     [,1] [,2]
[1,]    1   19
[2,]   19    4
[3,]    4    6
[4,]    6    7
[5,]    7    8
> table(tdf[,1], tdf[,2])
    
     4 6 7 8 19
  1  0 0 0 0  1
  4  0 1 0 0  0
  6  0 0 1 0  0
  7  0 0 0 1  0
  19 1 0 0 0  0

which with a bit more work might even be able to avoid going to integers,
using factors for source and destination.

> tdf <- matrix(unlist(strsplit(cx1, NULL)), nrow=length(cx1)-1, ncol=2,
+ byrow=TRUE)
> tdf
     [,1] [,2]
[1,] "A"  "S" 
[2,] "S"  "D" 
[3,] "D"  "F" 
[4,] "F"  "G" 
[5,] "G"  "H" 
> table(tdf[,1], tdf[,2])
   
    D F G H S
  A 0 0 0 0 1
  D 0 1 0 0 0
  F 0 0 1 0 0
  G 0 0 0 1 0
  S 1 0 0 0 0

There must be a way of using rbind() to add to the transaction record too,
removing the need to know the length of the data vector.

Best wishes,

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Wed Oct  4 18:02:35 2000
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Wed, 4 Oct 2000 09:02:35 -0700
Subject: [R] Re: Rnews Offense
In-Reply-To: <Pine.SOL.3.96.1001003131858.18039I-100000@ysidro>; from roger@ysidro.econ.uiuc.edu on Tue, Oct 03, 2000 at 01:22:40PM -0500
References: <E13gVzA-00082g-00@navel> <Pine.SOL.3.96.1001003131858.18039I-100000@ysidro>
Message-ID: <20001004090235.A14770@ix.netcom.com>

Second apologies to the r-help list.  I thought I'd disabled this
feature and apparently hadn't.  I've disabled my procmail filters
entirely, as I said I'd do if this recurred.

On Tue, Oct 03, 2000 at 01:22:40PM -0500, Roger Koenker (roger at ysidro.econ.uiuc.edu) wrote:
> fighting spam with spam is a tough business that should be left to the
> experts!  Contaminating properly run newsgroups is not the answer.
> 
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker	
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> On Tue, 3 Oct 2000 filter-kmself at ix.netcom.com wrote:
> 
> >                     ___ ____ _   _  ___  ____  _____ ____
> >                    |_ _/ ___| \ | |/ _ \|  _ \| ____|  _ \
> >                     | | |  _|  \| | | | | |_) |  _| | | | |
> >                     | | |_| | |\  | |_| |  _ <| |___| |_| |
> >                    |___\____|_| \_|\___/|_| \_\_____|____/

-- 
Karsten M. Self <kmself at ix.netcom.com>     http://www.netcom.com/~kmself
 Evangelist, Opensales, Inc.                    http://www.opensales.org
  What part of "Gestalt" don't you understand?      There is no K5 cabal
   http://gestalt-system.sourceforge.net/        http://www.kuro5hin.org
GPG fingerprint: F932 8B25 5FDD 2528 D595 DC61 3847 889F 55F2 B9B0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001004/c8d30edf/attachment.bin

From ripley at stats.ox.ac.uk  Wed Oct  4 18:11:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Oct 2000 17:11:42 +0100 (BST)
Subject: [R] wrapper for windows
Message-ID: <200010041611.RAA02135@toucan.stats.ox.ac.uk>

> Date: Wed, 04 Oct 2000 11:06:25 -0400
> From: "Shing Lee" <leesh at jhmi.edu>
> 
> Does anyone have an example of a wrapper for Borland C++ in a windows 
envorinment?  Thanks in advance.

What do you mean?  If you want compile code with Borland C++ for use
with R for Windows, see the instructions in readme.packages in
rw1011sp.zip.

Otherwise, please give much more details about what you want.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Oct  4 18:18:23 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 4 Oct 2000 11:18:23 -0500 (CDT)
Subject: [R] qr.coef
Message-ID: <Pine.SOL.3.96.1001004105803.21144N-100000@ysidro>

I've just encountered a very minor discrepancy between R and Splus that
seems a bit puzzling.  In R if you have a square (p by p) singular matrix, 
call it A, and you do,

	qr.coef(qr(A),diag(p))

you get an answer with rows of NA's.  Quite properly, I thought.  However,
in Splus you get the same result except that the NA's are replaced by 0's.
This seems to imply the convention 1/0 = 0.  Is there some deeper rationale
for this convention?  I realize that it might be more reasonable to have
sent this to Snews, but I've sworn off Snews recently in favor of this 
forum.


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Wed Oct  4 18:42:43 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Wed, 4 Oct 2000 18:42:43 +0200 (METDST)
Subject: [R] postscript preview
Message-ID: <200010041642.SAA11389@ehmgs2.et.tu-dresden.de>

> 
> The only vector graphics formats supported by R on Linux are PostScript and
> XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
> in particular is not going to be easy due to lack of documentation (and
> lack of existing convertors).

Maybe you should look at pstoedit by Wolfgang Glunz, which comes as a DLL, too.
So it could possibly be used for kind of a seamless creation of WMF output.

See  http://www.geocities.com/wglunz/pstoedit.


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct  4 18:56:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Oct 2000 17:56:26 +0100 (BST)
Subject: [R] postscript preview
Message-ID: <200010041656.RAA07165@toucan.stats.ox.ac.uk>


> Date: Wed, 4 Oct 2000 18:42:43 +0200 (METDST)
> From: Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de>
> 
> > 
> > The only vector graphics formats supported by R on Linux are PostScript and
> > XFig to my knowledge.  We do hope to add PDF and WMF one day but the latter
> > in particular is not going to be easy due to lack of documentation (and
> > lack of existing convertors).
> 
> Maybe you should look at pstoedit by Wolfgang Glunz, which comes as a DLL, 
too.
> So it could possibly be used for kind of a seamless creation of WMF output.
> 
> See  http://www.geocities.com/wglunz/pstoedit.

I had previously. Maybe you need to read what it claims it can write:

Windows Meta Files (WMF) (Windows 9x/NT only) 
Enhanced Windows Meta Files (EMF) (Windows 9x/NT only) 

and of course we already produce those *on Windows*.  I don't see how
it could help produce E/WMF on Linux.

The issue is that all the solutions par two commerical ones that I know
of make use of Windows libraries calls and so only run on Windows.
There is some Linux code to read Windows Metafiles.

Of course, if someone can provide us with a WMF driver on Unix, it would
bring this discussion to a close.  (Note that I do know how to do it
via WMF bitmaps, but that is not what is required here.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Wed Oct  4 23:26:44 2000
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Wed, 4 Oct 2000 23:26:44 +0200 (CEST)
Subject: [R] installing R-1.1.1 on Madrake 7.1
In-Reply-To: <39D37320.A01801FA@tin.it>
Message-ID: <Pine.LNX.4.21.0010042323260.5299-100000@localhost.localdomain>

On Thu, 28 Sep 2000, Stefano Calza wrote:

> Hi all.
> 
> I'm "trying" to install R on a linux box (mandrake 7.1) but when I do
> make install it stops with the following errors:

The R-base-1.1.1-1.i586.rpm packaged for Mandrake 7.1 is now available on
CRAN. 
I've installed it on my system and it seems to work all right so far !
Please let me know if there are any problems.

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Thu Oct  5 00:12:30 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Thu, 5 Oct 2000 09:12:30 +1100 
Subject: [R] postscript preview
Message-ID: <61411576E951D211AF330008C7245DD906D6EE73@ntmsg0005.corpmail.telstra.com.au>

Some wonderful answers as always.

This will keep me off the streets for days.

thanks very much,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu Oct  5 12:46:14 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 05 Oct 2000 21:46:14 +1100
Subject: [R] postscript preview
References: <Pine.LNX.4.21.0010040853570.3241-100000@mail.fmnh.org>
Message-ID: <39DC5BF5.C8203FEF@ozemail.com.au>

> It was my understanding that John wanted to insert the graphic into
> Word.  Can one insert .pdf into Word?  I can't seem to do it with
> StarOffice (and SO help leaves much to be desired)...

Even EPS files are a pain to insert into Word, which seems to wind up printing a
little message about how this space is really a Postscript file, but we're not
going to show it to you about half the time.  StarOffice is not much better,
accepting some Postscript files and rejecting others with logic I haven't yet
understood.  I pine for WordPerfect, which was outstanding at embedding Postscript
files, but I don't expect to see it blossom now that Corel has hitched up with M$.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toots at info.com.ph  Thu Oct  5 16:26:05 2000
From: toots at info.com.ph (Jose Ramon G. Albert)
Date: Thu, 5 Oct 2000 22:26:05 +0800
Subject: [R] MANOVA
Message-ID: <009901c02ed8$6de7df20$1ef3a3ca@dlsu.edu.ph>

is it possible to perform MANOVA in R?

Jose Ramon Albert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct  5 17:07:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Oct 2000 16:07:17 +0100 (BST)
Subject: [R] MANOVA
In-Reply-To: <009901c02ed8$6de7df20$1ef3a3ca@dlsu.edu.ph>
Message-ID: <Pine.GSO.4.05.10010051603500.8436-100000@toucan.stats>

On Thu, 5 Oct 2000, Jose Ramon G. Albert wrote:

> is it possible to perform MANOVA in R?

Get the development version and use function manova. If you are on Windows
there is a pre-release at

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre

(check the README there). If you are on Linux/Unix you can compile it
from the CRAN sources.  (Or you can get the sources and use file
src/library/base/R/manova.R and the help file
src/library/base/man/manova.Rd.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oliver at oekologie.biologie.uni-mainz.de  Thu Oct  5 17:26:15 2000
From: oliver at oekologie.biologie.uni-mainz.de (Oliver Lange)
Date: Thu, 5 Oct 2000 17:26:15 +0200
Subject: [R] DCom / StatConnector / Windows-Cygnus-Gcc ?
Message-ID: <892122543C9@falco.Biologie.Uni-Mainz.DE>

Hello List !

I want to use R as statistical & Graphical Tool for biological 
simulation programs. So, I want to combine my programs (written 
under cygnus-gcc on NT4.0) with R 1.0.1.1 under Windows. 

The data, produced by my program will be sent to R. There it should 
be statistically "transformed" and graphically displayed. The 
simulation program may wait until R has calculated and displayed 
the data. (Well, if both may work independently, "online" display of 
the data this would be nice as well, but there is no need to.)

Following possibilities came to my attention by the email-Archives (& 
thanks to Yves Gauvreau)
1) embedding the C-Program into R ( .C - Call)
2) using the DCom/StatConnector
3) use the R-Source code and compile it into my program


About 1): I want to keep the simulation program seperated from the 
(graphical) output. So, anybody who wants to check (or use) the 
proghram without graphic can do so easily. So, it would be easier, 
not to change the program into this concept. I would appreciate an 
other solution.

About 2) I have problems in finding documentation about 
DCom/StatConnector. 
2a: Where can I get a Docu about it ? (Like interface specifications 
?)
2b Has anybody a (simple) example, how he used it ? Best from 
within a C/C++ Program ? 
2c It is possible, to link Windows-DLLs to a Cygwin-Gcc program, 
thus making it (possibly ?) DCom aware. Has anybody done this 
before ?

3) Compiling the source code will be tedious :) I fear. Especially I 
will loose all possibilities to use the different packages in future 
programms. Has anybody tried this ?

I tend to the opinion, that 1) would be the easiest (but not to the 
general solucion for my problems) and 2) the nicest possibility, but 
not too easy. But, I'd like to know more about this.

Greetings,

Oliver



PS.: please note the new telefon numbers of the University of Mainz

--------------------------------------
Oliver Lange
Tel.  0049-(0)6131-3924424
FAX.  0049-(0)6131-3923731
email: lango000 at mail.uni-mainz.de

Johannes-Gutenberg-Universit?t Mainz
Zoologisches Institut
Abteilung Oekologie
55099 Mainz

visit our homepage at
http://perdix.biologie.uni-mainz.de
or the Complex System Research Association at
http://biophysik.biologie.uni-mainz.de/vortraege/csra_main.htm
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Thu Oct  5 17:33:15 2000
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Thu, 05 Oct 2000 17:33:15 +0200
Subject: [R] Function terms.formula
Message-ID: <39DC9F3B.9CAA1C45@ifp.fr>

Hi everybody,

I'm actually implementing some R functions about "Experimental Designs".

I have some problems with the function "terms.formula" which doesn't
work like "terms"
 on S-Plus.
I have just seen, in the development part of R, that it exists a new
documentation for this function,
 that include the option "neg.out", but I can't find any new source for
it.

If someone can help me to solve this problem ...

Thank you

--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001005/f9156be9/attachment.html

From ripley at stats.ox.ac.uk  Thu Oct  5 18:12:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 5 Oct 2000 17:12:02 +0100 (BST)
Subject: [R] DCom / StatConnector / Windows-Cygnus-Gcc ?
In-Reply-To: <892122543C9@falco.Biologie.Uni-Mainz.DE>
Message-ID: <Pine.GSO.4.05.10010051658040.8569-100000@toucan.stats>

On Thu, 5 Oct 2000, Oliver Lange wrote:

> Hello List !
> 
> I want to use R as statistical & Graphical Tool for biological 
> simulation programs. So, I want to combine my programs (written 
> under cygnus-gcc on NT4.0) with R 1.0.1.1 under Windows. 
> 
> The data, produced by my program will be sent to R. There it should 
> be statistically "transformed" and graphically displayed. The 
> simulation program may wait until R has calculated and displayed 
> the data. (Well, if both may work independently, "online" display of 
> the data this would be nice as well, but there is no need to.)
> 
> Following possibilities came to my attention by the email-Archives (& 
> thanks to Yves Gauvreau)
> 1) embedding the C-Program into R ( .C - Call)
> 2) using the DCom/StatConnector
> 3) use the R-Source code and compile it into my program
> 
> 
> About 1): I want to keep the simulation program seperated from the 
> (graphical) output. So, anybody who wants to check (or use) the 
> proghram without graphic can do so easily. So, it would be easier, 
> not to change the program into this concept. I would appreciate an 
> other solution.
> 
> About 2) I have problems in finding documentation about 
> DCom/StatConnector. 
> 2a: Where can I get a Docu about it ? (Like interface specifications 
> ?)

In the sources on CRAN.

> 2b Has anybody a (simple) example, how he used it ? Best from 
> within a C/C++ Program ?

It comes with a Visual Basic example.  Writing any DCOM code in
Cygwin-Gcc is pretty tedious.
 
> 2c It is possible, to link Windows-DLLs to a Cygwin-Gcc program, 
> thus making it (possibly ?) DCom aware. Has anybody done this 
> before ?
> 
> 3) Compiling the source code will be tedious :) I fear. Especially I 
> will loose all possibilities to use the different packages in future 
> programms. Has anybody tried this ?

You will need far, far more than the compiled source code, as R needs lots
of pacakge code just to start up.  Take a look at the examples in the R
sources directory src/gnuwin32/front-ends. They show you how you link the
R.dll to your program and submit simple commands to R.  Basically, like
using DCom/StatConnector without the DCOM overhead.

> I tend to the opinion, that 1) would be the easiest (but not to the 
> general solucion for my problems) and 2) the nicest possibility, but 
> not too easy. But, I'd like to know more about this.

The simplest solution of all seems to be to use files to communicate.
Write your simulation output to a file, and invoke an R script (via a
system call) to read that file.  A further step is to pipe the input to
the R process: your C program can then write to the pipe and R will
process the script as you send it (and you will need to be careful to
flush the output when a command is ready to be executed).  That way all
you need is a working R installation.  Normally pipes are suspect from
Windows applications, but not from Cygwin I think.

I am assuming that you don't need any output from R back in your C
program.  If you do, then DCOM is perhaps the easiest route.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Thu Oct  5 18:34:45 2000
From: mac24 at humboldt.edu (Michael Camann)
Date: Thu, 5 Oct 2000 09:34:45 -0700 (PDT)
Subject: [R] DCom / StatConnector / Windows-Cygnus-Gcc ?
In-Reply-To: <892122543C9@falco.Biologie.Uni-Mainz.DE>
Message-ID: <200010051634.JAA29155@axe.humboldt.edu>

Oliver--

I used to do this sort of thing extensively wirh S-plus on a unix box, but
perhaps the same strategy will work under R-windows as well.  The key was
to write the simulation program as an independent, standalone routine that
read its input parameters from a text file and output its results to
another file.  Then, it was easy to write an S-plus wrapper program that
used system calls to write the desired parameters to the input file, run
the model as a spawned process, and then suck in the model output file for
display, analyses, etc.  It isn't strictly necessary to use the wrapper
function as both a front end and back end, but that's handy because it
allows you to write a function that will re-run the simulation routine
with parameters modified according to the analyses of the output from
previous runs.  This allows the routine to automatically do things like
brute force optimization of the input parameters, explore interesting
regions of the parameter space, etc.  I spent a fair amount of my later
grad school years enjoying myself in the local beer hall while my S-plus
wrapper chugged away on thousands of simulation runs in my absence....

I assume there is some equivalent way to invoke a shell and execute a
command in R-win(?).  Sorry, I can't check at present because I'm not
using a windows box.  If this approach won't work for R-win you might want
to install linux! 

Oh-- one other thing-- I think this is easier than passing control to your
simulation via .C calls because it allows the simulation to manage all of
its own variables and memory use.  Since the compiled code is typically
far faster than R, and since the output can be read in at the end of the
simulation run, there is no need for complicated memory structures in most
simulations-- the current model state can simply be appended to the output
file after each time step.

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Oct  5 16:58:10 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 05 Oct 2000 10:58:10 -0400
Subject: [R] postscript preview
Message-ID: <8525696F.005A6505.00@EPAHUB8.RTP.EPA.GOV>

I just installed Corel WP9.0 on my Windows 98 machine, and was surprised when I
imported a PS graphic straight from R, and
1) saw the graphic on the screen
2) was able to edit it (change fonts, line styles, etc.)
all without converting the files first.

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+----------------------->
|        |          bitwrit at ozema|
|        |          il.com.au    |
|        |                       |
|        |          10/05/2000   |
|        |          06:46 AM     |
|        |                       |
|--------+----------------------->
  >---------------------------------------------------------------------------|
  |                                                                           |
  |       To:     r-help at stat.math.ethz.ch                                    |
  |       cc:                                                                 |
  |       Subject:     Re: [R] postscript preview                             |
  >---------------------------------------------------------------------------|






> It was my understanding that John wanted to insert the graphic into
> Word.  Can one insert .pdf into Word?  I can't seem to do it with
> StarOffice (and SO help leaves much to be desired)...

Even EPS files are a pain to insert into Word, which seems to wind up printing a
little message about how this space is really a Postscript file, but we're not
going to show it to you about half the time.  StarOffice is not much better,
accepting some Postscript files and rejecting others with logic I haven't yet
understood.  I pine for WordPerfect, which was outstanding at embedding
Postscript
files, but I don't expect to see it blossom now that Corel has hitched up with
M$.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Thu Oct  5 20:10:19 2000
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 05 Oct 2000 08:10:19 -1000
Subject: [R] DCom / StatConnector / Windows-Cygnus-Gcc ?
References: <200010051634.JAA29155@axe.humboldt.edu>
Message-ID: <39DCC40B.DAF4AE47@honlab.nmfs.hawaii.edu>

I used to do much the same thing with Splus and Unix where the files
connecting Splus and a simulation model were named pipes.  Got the
idea from an example in the old Splus Programmer's Manual.  No reason
the same approach should not work w/ R and Linux.  Don't know about
NT though.
   Pierre

Michael Camann wrote:
> 
> Oliver--
> 
> I used to do this sort of thing extensively wirh S-plus on a unix box, but
> perhaps the same strategy will work under R-windows as well.  The key was
> to write the simulation program as an independent, standalone routine that
> read its input parameters from a text file and output its results to
> another file.  Then, it was easy to write an S-plus wrapper program that
> used system calls to write the desired parameters to the input file, run
> the model as a spawned process, and then suck in the model output file for
> display, analyses, etc.  It isn't strictly necessary to use the wrapper
> function as both a front end and back end, but that's handy because it
> allows you to write a function that will re-run the simulation routine
> with parameters modified according to the analyses of the output from
> previous runs.  This allows the routine to automatically do things like
> brute force optimization of the input parameters, explore interesting
> regions of the parameter space, etc.  I spent a fair amount of my later
> grad school years enjoying myself in the local beer hall while my S-plus
> wrapper chugged away on thousands of simulation runs in my absence....
> 
> I assume there is some equivalent way to invoke a shell and execute a
> command in R-win(?).  Sorry, I can't check at present because I'm not
> using a windows box.  If this approach won't work for R-win you might want
> to install linux!
> 
> Oh-- one other thing-- I think this is easier than passing control to your
> simulation via .C calls because it allows the simulation to manage all of
> its own variables and memory use.  Since the compiled code is typically
> far faster than R, and since the output can be read in at the end of the
> simulation run, there is no need for complicated memory structures in most
> simulations-- the current model state can simply be appended to the output
> file after each time step.
> 
> --Mike C.
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Michael A. Camann                                  Voice: 707-826-3676
> Assistant Professor of Zoology                       Fax: 707-826-3201
> Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
> Department of Biology                            ifcr at axe.humboldt.edu
> Humboldt State University
> Arcata, CA 95521
> 
>                  URL:http://www.humboldt.edu/~mac24/
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pperkins at ucsd.edu  Thu Oct  5 22:26:53 2000
From: pperkins at ucsd.edu (Peter Perkins)
Date: Thu, 05 Oct 2000 13:26:53 -0700
Subject: [R] attaching something.RData in pos=1
Message-ID: <39DCE40D.48F0676B@ucsd.edu>

hi -

running R 1.1.1 under LinuxPPC:

i was pleasantly surprised to find that attaching .RData files was added
somewhere along the line, but i am having trouble getting the sort of
behavior that i got used to in S.  specifically, i'd like to be able to
attach() a file at pos=1 and edit its contents directly, then save() and
detach() it.  i know i can load() the file, but this merges its contents
with the current global environment.  i could attach() at pos=2, but
that makes editing/creating/deleting awkward.  i could q() and restart R
from another directory, but that is also awkward.

i guess i still haven't quite figured out how the global environment is
supposed to work.  when i attach(file, pos=1), R does something funny: 
it seems to do a load(file) and then put an empty (at least ls() sees it
as empty) reference to the file in the search list at pos=2.

i'm happy to modify my behavior from S as long as i can get a simple way
to work on several separate projects.  can't find this in the archives. 
thanks for any help.

- peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Oct  5 23:08:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 5 Oct 2000 14:08:52 -0700 (PDT)
Subject: [R] attaching something.RData in pos=1
In-Reply-To: <39DCE40D.48F0676B@ucsd.edu>
Message-ID: <Pine.GSO.4.21.0010051332160.7328-100000@atlas.biostat.washington.edu>

On Thu, 5 Oct 2000, Peter Perkins wrote:

> hi -
> 
> running R 1.1.1 under LinuxPPC:
> 
> i was pleasantly surprised to find that attaching .RData files was added
> somewhere along the line, but i am having trouble getting the sort of
> behavior that i got used to in S.  specifically, i'd like to be able to
> attach() a file at pos=1 and edit its contents directly, then save() and
> detach() it.  i know i can load() the file, but this merges its contents
> with the current global environment.  i could attach() at pos=2, but
> that makes editing/creating/deleting awkward.  i could q() and restart R
> from another directory, but that is also awkward.
> 
> i guess i still haven't quite figured out how the global environment is
> supposed to work.  when i attach(file, pos=1), R does something funny: 
> it seems to do a load(file) and then put an empty (at least ls() sees it
> as empty) reference to the file in the search list at pos=2.

You can't attach at pos=1. This is in the FAQ, but needs to be in the
documentation for attach().
 
At the moment you need to edit things in the global environment. You don't
need to start R in another directory to do this. You can use the
--no-restore flag and start in the same directory.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From newnetco at yahoo.com  Fri Oct  6 19:44:00 2000
From: newnetco at yahoo.com (Sayfco)
Date: Fri, 06 Oct 2000 19:44:00 +0200
Subject: [R] Your Dream House starting at $53000
Message-ID: <m13hJ67-002ha2C@phoenix.inco.com.lb>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001006/08b1b764/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 10954 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001006/08b1b764/attachment.jpe

From M.McStephen at papyrus.mhri.edu.au  Fri Oct  6 02:28:51 2000
From: M.McStephen at papyrus.mhri.edu.au (Michael McStephen)
Date: Fri, 6 Oct 2000 10:28:51 +1000
Subject: [R] quasi-symmetry loglinear models
Message-ID: <7AF4844205FB@enigma.mhri.edu.au>

Hi All,

I'm trying to implement a quasi symmetry model for data on twin 
pairs.  A crosstabulation of twin 1 by twin 2 (assumed symmetrical) 
stratified by another variable.  There is a good paper on this by 
Phil (?) McCloud and Darroch in Biometrika (1995) which explains the 
method, but I've not done this before so am not clear how to code 
these models.

Any help would be greatly appreciated.

Regards,

Michael.

----------------------------------------------------------
Michael McStephen          M.McStephen at papyrus.mhri.edu.au
MHRI                       Ph:  +613 9389 2931
Locked Bag 11              Fax: +613 9387 5061
PARKVILLE 3052
VICTORIA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Fri Oct  6 05:41:26 2000
From: rachel at stat.auckland.ac.nz (Rachel Merriman)
Date: Fri, 06 Oct 2000 16:41:26 +1300
Subject: [R] Formulae with factors that have missing values
Message-ID: <39DD49E6.6E9CA48C@stat.auckland.ac.nz>

Hi All,

I have a formula which has a factor with NAs in it.  I wish to keep
these in the model matrix, but the NA information is currently lost (the
rows are kept but the NA gets converted to 0).  Any ideas as to how
I can keep NAs in?

e.g.

junk <-
factor(c("hi",NA,"low","low","hi","low","hi","hi","low",NA,"hi","low","hi","hi","low","hi"))

y <- c(1,2,1,2,2,2,1,2,1,1,2,2,1,1,1,2)

na.keep <- function(X){X}

myfn <- function (formula,data=sys.parent()){
    mf <- match.call()
    mf[[1]] <- as.name("model.frame")
    if(is.null(mf$na.action)) mf$na.action <- as.name("na.keep")
    mf <- eval(mf, sys.frame(sys.parent()))
    Y <- model.extract(mf,response)
    Terms <- attr(mf,"terms")
    X <- model.matrix(Terms,mf)
    X
}

myfn(y~junk)

Cheers,
Rachel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Fri Oct  6 03:16:30 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Fri, 6 Oct 2000 11:16:30 +1000 
Subject: [R] Turning off axis annotation?
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B14F3@TBACRMEXH001>

HI there, 

Well, I am stuck again.  How do I turn off axis annotation?

 Oh, and thanks to Peter Dalgaard
for his help with my last question.

I have an observation that others there may find interesting.  In the
windows implementation 
of R, the tck option of par() does not seem to operate as the reference
manual indicates.  Apparently the length of ticks using this option is
supposed to be "a fraction of the smaller of the width or height of the
plotting region", when in fact it does not produce this result at all....
I think that it is producing ticks on the y axis that are a fraction of the
width, while the ticks on the 
x-axis are the same fraction, but this time of the height.  Not a lot of
use, but if you are interested, in trying this sort of thing, use tcl
instead...it appears to work nicely.

Thanks, 

Matt Redding


**************************DISCLAIMER********************************
The information in this e-mail message together with any attachments
is confidential and may be legally privileged. It is intended only
for the use of the person or entity to which it is addressed. If you
are not the addressee, any form of disclosure, copying, modification,
distribution or any action taken or omitted in reliance on this
e-mail message is unauthorised. Opinions contained in this e-mail
message and any attachments do not necessarily reflect the opinions
of the Queensland Government and associated organisations. If you
received this e-mail message in error, please notify the sender
immediately and delete this message and any attachments from your
computer and/or your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  6 09:51:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Oct 2000 08:51:14 +0100 (BST)
Subject: [R] Formulae with factors that have missing values
In-Reply-To: <39DD49E6.6E9CA48C@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.05.10010060838380.9400-100000@toucan.stats>

On Fri, 6 Oct 2000, Rachel Merriman wrote:

> Hi All,
> 
> I have a formula which has a factor with NAs in it.  I wish to keep
> these in the model matrix, but the NA information is currently lost (the
> rows are kept but the NA gets converted to 0).  Any ideas as to how
> I can keep NAs in?
> 
> e.g.
> 
> junk <-
> factor(c("hi",NA,"low","low","hi","low","hi","hi","low",NA,"hi","low","hi","hi","low","hi"))
> 
> y <- c(1,2,1,2,2,2,1,2,1,1,2,2,1,1,1,2)
> 
> na.keep <- function(X){X}
> 
> myfn <- function (formula,data=sys.parent()){
>     mf <- match.call()
>     mf[[1]] <- as.name("model.frame")
>     if(is.null(mf$na.action)) mf$na.action <- as.name("na.keep")
>     mf <- eval(mf, sys.frame(sys.parent()))
>     Y <- model.extract(mf,response)
>     Terms <- attr(mf,"terms")
>     X <- model.matrix(Terms,mf)
>     X
> }
> 
> myfn(y~junk)

On my system NA gets converted to 1.200089e-306, not 0.
That looks like a bug, and S gives NA.

The question is, what do you want NA to be represented as in the
model matrix?  If you want NA to be another level of the factor,
try

junk <- factor(c("hi",NA,"low","low","hi","low","hi","hi","low",NA,
"hi","low","hi","hi", "low","hi"), exclude="")

Alternatively, you might want junk to be coded, and all the columns of the
coding set to NA.  The simplest way to get that is

contrasts(junk)[junk,, drop=F]

until we fix the bug.

As a matter of interest, what are you going to do with a model matrix
with NAs in?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Oct  6 11:30:07 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 6 Oct 2000 10:30:07 +0100 (BST)
Subject: [R] Turning off axis annotation?
In-Reply-To: <FB599DB5ACE2D211887500A0C9D334E40B14F3@TBACRMEXH001>
Message-ID: <Pine.LNX.4.10.10010061022070.5048-100000@localhost.localdomain>

In order to get help on plots you need to do BOTH
?plot
and
?par

Many par arguments can be used as plot arguments. Not all of them though.
I never had a clear explanation of this.

So if you do ?par you will see

 ann: If set to `FALSE', high-level plotting functions do not
          annotate the plots they produce with axis and overall titles.
          The default is to do annotation.

And so you do
plot(x,y,ann=FALSE)
This leaves off the x and y titles. You still have the numerical labels
next to each tick.

If you want a lot of control you can do

plot(x,y,ann=FALSE,axes=FALSE)
box()  
axis(side=1,labels=TRUE)
axis(side=2,labels=TRUE)
mtext("Y", side=2, line=2)
mtext("X", side=1, line=2)

You might want to do ?axis

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdhughes99 at mindspring.com  Fri Oct  6 14:51:47 2000
From: jdhughes99 at mindspring.com (joseph d. hughes)
Date: Fri, 6 Oct 2000 08:51:47 -0400
Subject: [R] R: plotting values on graphics
Message-ID: <001801c02f94$31d9da80$d8f0aec7@acer75>

Everyone,

I have an array of integer values which are located on a uniform 2-D grid.  I want to plot the integer values at the node locations. The closest I have come is with the following code:

for (i in 1:ny) {
  for (j in 1:nx) {
  ncell <- nx*(i - 1) + j
  ch <- as.character(ncount[ncell])
  tx <- j*dx - dx/2
  ty <- ny*dy - (i-1)*dy - dy/2
  points(tx, ty, pch = ch, col = "red", bg = "yellow", cex = 3)
  }
}

The problem with the code above is I only get a one character symbol at each node (e.g. n=123 gives me 1 on the screen).  Is there something wrong with my as.character or points function calls?  Is there a better way to do this?

Thanks in advance,

Joseph Hughes
jdhughes99 at mindspring.com


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001006/daeadf08/attachment.html

From apjaworski at mmm.com  Fri Oct  6 14:58:38 2000
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Fri, 6 Oct 2000 07:58:38 -0500
Subject: [R] Turning off axis annotation?
Message-ID: <86256970.0047496F.00@em-stpmta-01.mmm.com>



> HI there,
>
>Well, I am stuck again.  How do I turn off axis annotation?
>
> Oh, and thanks to Peter Dalgaard
> for his help with my last question.
>
One way to do this selectively is to use xlab/ylab arguments.  For example,

     plot(x, y, xlab="")

will turn off the x-axis annotation but not the y's.

Hope this helps,

Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Oct  6 15:10:07 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 6 Oct 2000 15:10:07 +0200 (CEST)
Subject: [R] R: plotting values on graphics
In-Reply-To: <001801c02f94$31d9da80$d8f0aec7@acer75>
References: <001801c02f94$31d9da80$d8f0aec7@acer75>
Message-ID: <14813.53039.693984.327266@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 6 Oct 2000 08:51:47 -0400,
>>>>> joseph d hughes (jdh) wrote:

jdh> Everyone,
jdh> I have an array of integer values which are located on a uniform 2-D grid.  I want to plot the integer values at the node locations. The closest I have come is with the following code:

jdh> for (i in 1:ny) {
jdh>   for (j in 1:nx) {
jdh>   ncell <- nx*(i - 1) + j
jdh>   ch <- as.character(ncount[ncell])
jdh>   tx <- j*dx - dx/2
jdh>   ty <- ny*dy - (i-1)*dy - dy/2
jdh>   points(tx, ty, pch = ch, col = "red", bg = "yellow", cex = 3)
jdh>   }
jdh> }

jdh> The problem with the code above is I only get a one character symbol at each node (e.g. n=123 gives me 1 on the screen).  Is there something wrong with my as.character or points function calls?  Is there a better way to do this?


The function text() allows plotting arbitrary strings at a give
(x,y)-position (with control over font, alignment, ...).

Hope this helps,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Oct  6 15:34:41 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 06 Oct 2000 15:34:41 +0200
Subject: [R] R: plotting values on graphics
References: <001801c02f94$31d9da80$d8f0aec7@acer75>
Message-ID: <39DDD4F1.FFFBBCE4@statistik.uni-dortmund.de>

> "joseph d. hughes" wrote:
> 
> Everyone,
> 
> I have an array of integer values which are located on a uniform 2-D
> grid.  I want to plot the integer values at the node locations. The
> closest I have come is with the following code:
> 
> for (i in 1:ny) {
>   for (j in 1:nx) {
>   ncell <- nx*(i - 1) + j
>   ch <- as.character(ncount[ncell])
>   tx <- j*dx - dx/2
>   ty <- ny*dy - (i-1)*dy - dy/2
>   points(tx, ty, pch = ch, col = "red", bg = "yellow", cex = 3)
>   }
> }

Try 
  text(tx, ty, label = ch, col = "red", bg = "yellow", cex = 3)
instead of points(...).
If you specify pch, only the first character is taken as the symbol for
your point.

Remark: It should be possible to vectorize your code. That will make it
much faster.

> The problem with the code above is I only get a one character symbol
> at each node (e.g. n=123 gives me 1 on the screen).  Is there
> something wrong with my as.character or points function calls?  Is
> there a better way to do this?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Oct  6 15:33:53 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 06 Oct 2000 15:33:53 +0200
Subject: [R] R: plotting values on graphics
In-Reply-To: <001801c02f94$31d9da80$d8f0aec7@acer75>
Message-ID: <B603A161.40D6%pflugshaupt@geobot.umnw.ethz.ch>

On 6.10.2000 14:51 Uhr, joseph d. hughes wrote:

...
> points(tx, ty, pch = ch, col = "red", bg = "yellow", cex = 3)
> }
> }
> 
> The problem with the code above is I only get a one character symbol at each
> node (e.g. n=123 gives me 1 on the screen).  Is there something wrong with my
> as.character or points function calls?

Yes, "points" is the wrong function to use for this, since the "pch" option
uses only one character. You should use "text"  instead. For usage see
"help(text)".

>  Is there a better way to do this?

You might also want to look at the "symbols" function available in the
current R versions. It allows you to, e.g., draw circles of a size
corresponding to your count values. I've found this quite an intuitive way
of visualizing such data.

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Oct  6 16:57:28 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 6 Oct 2000 10:57:28 -0400 (EDT)
Subject: [R] R: plotting values on graphics
In-Reply-To: <001801c02f94$31d9da80$d8f0aec7@acer75>
Message-ID: <Pine.LNX.4.10.10010061057190.26573-100000@bolker.zoo.ufl.edu>


  Use text().

On Fri, 6 Oct 2000, joseph d. hughes wrote:

> Everyone,
> 
> I have an array of integer values which are located on a uniform 2-D grid.  I want to plot the integer values at the node locations. The closest I have come is with the following code:
> 
> for (i in 1:ny) {
>   for (j in 1:nx) {
>   ncell <- nx*(i - 1) + j
>   ch <- as.character(ncount[ncell])
>   tx <- j*dx - dx/2
>   ty <- ny*dy - (i-1)*dy - dy/2
>   points(tx, ty, pch = ch, col = "red", bg = "yellow", cex = 3)
>   }
> }
> 
> The problem with the code above is I only get a one character symbol at each node (e.g. n=123 gives me 1 on the screen).  Is there something wrong with my as.character or points function calls?  Is there a better way to do this?
> 
> Thanks in advance,
> 
> Joseph Hughes
> jdhughes99 at mindspring.com
> 
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pperkins at ucsd.edu  Sat Oct  7 11:59:58 2000
From: pperkins at ucsd.edu (Peter Perkins)
Date: Sat, 07 Oct 2000 02:59:58 -0700
Subject: [R] Re: attaching something.RData in pos=1
Message-ID: <39DEF41E.EC9437C4@ucsd.edu>

in response to my own question from yesterday,

> i'd like to be able to attach() a file at pos=1 and edit its contents
> directly, then save() and detach() it

i hoked up some mods to the C and R source code of R 1.1.1 for unix.  it
obviously doesn't do exactly what i was used to from S, but it comes
sort of close, in that it keeps track of a "current working file"
(specified at startup and defaulting to .RData) in various ways and
allows one to easily switch CWF (while saving the old one
semi-automatically) without restarting.  this as opposed to loading
from a file and ending up with those objects merged with the current
set of objects.  seems to do what i need, anyway.

is this list the appropriate forum to suggest this sort of thing for a
future release?

- peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct  7 12:32:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 7 Oct 2000 11:32:01 +0100 (BST)
Subject: [R] Re: attaching something.RData in pos=1
In-Reply-To: <39DEF41E.EC9437C4@ucsd.edu>
Message-ID: <Pine.GSO.4.05.10010071127210.12052-100000@toucan.stats>

On Sat, 7 Oct 2000, Peter Perkins wrote:

> in response to my own question from yesterday,
> 
> > i'd like to be able to attach() a file at pos=1 and edit its contents
> > directly, then save() and detach() it
> 
> i hoked up some mods to the C and R source code of R 1.1.1 for unix.  it
> obviously doesn't do exactly what i was used to from S, but it comes
> sort of close, in that it keeps track of a "current working file"
> (specified at startup and defaulting to .RData) in various ways and
> allows one to easily switch CWF (while saving the old one
> semi-automatically) without restarting.  this as opposed to loading
> from a file and ending up with those objects merged with the current
> set of objects.  seems to do what i need, anyway.
> 
> is this list the appropriate forum to suggest this sort of thing for a
> future release?

R-devel is more appropriate, I think.  One thing that immediately springs
to mind is that you need to be very careful about having write
permissions, not clobbering existing files etc.  There are also perennial
problems about how this sort of thing cuts across other planned
enhancements, some of which are articulated on the developer site, and
some of which are only in the minds of core developers.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Sun Oct  8 00:51:32 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Sat, 07 Oct 2000 23:51:32 +0100
Subject: [R] Quickstart #2
In-Reply-To: <x2bsxbt5zf.fsf@blueberry.kubism.ku.dk>
References: <Phil Rhoades's message of "Wed, 27 Sep 2000 04:05:13 +0100">
 <Your message of "Mon, 14 Aug 2000 11:25:35 +0100." <4675F8231FC@let.ish-lyon.cnrs.fr>
 <4.3.1.0.20000927035513.00a9d5b0@mail.austasia.net>
Message-ID: <4.3.1.0.20001007233220.00ac3600@mail.austasia.net>

Thanks to Peter Dalgaard & Giovanni E. Romero for help with the previous 
question - following on from that I have another (easy?) question:

I have a file of the form:

	y01 y02 y03 y04 y05  . . . y0n
	y11 y12 y13 y14 y15  . . . y1n
	y21 y22 y23 y24 y25  . . . y2n
	y31 y32 y33 y34 y35  . . . y3n
	.
	.

I want to read in the file and then for each line, I want to be able to:

- calculate the variance on the first two results (eg y01 and y02), and 
then the variance on the first three results (eg y01 - y03) and then the 
variance on the first four results  (eg y01 - y04) etc
- then graph the results so I can see the successive change in the variance 
for each line

ie I want the graphs printed on the same page under each other so I can see 
compare the lines (there will be n-1 points on each graph).

Thanks,

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Oct  7 16:04:54 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sun, 08 Oct 2000 01:04:54 +1100
Subject: [R] Quickstart #2
Message-ID: <39DF2D86.B08C1937@ozemail.com.au>

Hi Phil,

This might get you started.

Read the file, converting it to an array:

data.array<-as.array(read.table("datafile",...))

then 'apply' the function 'stepvar':

data.var<-t(apply(data.array,1,stepvar))

Here's the function:

stepvar<-function(vec){
 veclen<-length(vec)
 while(veclen > 1) {
  vec[veclen]<-var(vec[1:veclen])
  veclen<-veclen-1
 }
 vec[1]<-NA
 return(vec)
}

'stepvar' replaces elements 2 to n of a vector with the variance of all
elements up to that element . (element 1 becomes NA).

You should then be able to plot successive rows of the original array
and the array of variances, perhaps even on the same plot, e.g.

plot(data.array[1,2:length(data.array[1,])])

points(data.var[1,2:length(data.var[1,])])

Hope this does what you want.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Sat Oct  7 18:12:38 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Sat, 07 Oct 2000 17:12:38 +0100
Subject: [R] Possible bug in apply()
Message-ID: <39DF4B76.65AD8EC2@clara.net>

In the course of applying Shapiro-Wilk to 100,000 samples of 60 items
from 100,000 different distributions, I encountered a fatal error in
apply(). This can be reconstructed as follows, using the attached data
file distr.dat containing 2 lines of my original 100,000-line file:

> version
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         
> # Read the data in
> distr.dat <- matrix(scan("distr.dat"), byrow=T, ncol=60)
Read 120 items
> # Define a function to perform Shapiro-Wilk, with protection
> # against values that would cause fatal errors in shapiro.test()
> shap <- function(x){
+   result.W <- NA; result.p <- NA    # Set default return value
+   if (length(x[!is.na(x)])>3){      # Check for bad values
+     x.var <- var(x, na.rm=T)
+     if (!is.na(x.var)){
+       if(x.var>0){                  # If values OK, perform test
+         shap.res <- shapiro.test(x)
+         result.W <- shap.res$statistic    # Problem line
+         result.p <- shap.res$p.value
+       }
+     }
+   }
+   c(result.W, result.p)
+ }
> apply(dist.dat, 1, shap)
Error in names(x) == ans.names : comparison (1) is possible only for
vector types
>

If we look at the structure of the value returned by shap() for the
first sample, we see that W has a "names" attribute whereas p has
not (or its "names" attribute is the empty string):

> str(shap(dist.dat[1,]))
 Named num [1:2] 0.887519 0.000622
 - attr(*, "names")= chr [1:2] "W" ""
>

but in the case of the second sample (all NA except one), shapiro.test()
was not called, and the preset default value c(NA, NA) returned:

> str(shap(dist.dat[2,]))
 logi [1:2] NA NA
>

Looking directly at the result of shapiro.test(), we get:

> str(shapiro.test(dist.dat[1,]))
List of 4
 $ statistic: Named num 0.888
  ..- attr(*, "names")= chr "W"
 $ p.value  : num 0.000622
 $ method   : chr "Shapiro-Wilk normality test"
 $ data.name: chr "dist.dat[1, ]"
 - attr(*, "class")= chr "htest"
>

So shapiro.test()$statistic has a "names" attribute, whereas
shapiro.test()$p.value does not, and my default return value c(NA, NA)
does not. If I remove the "names" attribute from W by changing the line
of code marked "# Problem line" to

        result.W <- as.numeric(shap.res$statistic)

the error disappears. Reading the help for apply() I could find no
reference to "names" attributes, let alone any restrictions on them.

It appears to me that there is a bug in apply(), in that it cannot deal
gracefully with this somewhat unusual situation. However some blame may
be attributable to me or to shapiro.test(), so I leave it for the
R-gurus to look at and to forward to R-bugs if appropriate.

Clive Jenkins.
-------------- next part --------------
NA 0.000632 NA 0.009640 NA 0.000632 NA -0.001176 0.004235 NA 0.004235 0.002418 0.011395 0.002433 0.004235 -0.001170 -0.001170 0.000632 0.002433 0.000623 0.000632 -0.001170 0.006037 0.004235 0.004235 0.002418 NA NA NA 0.002418 NA 0.009640 0.000623 NA NA 0.004213 NA -0.001170 0.009600 0.006037 -0.001170 0.006009 -0.001173 0.002433 0.004235 NA NA NA NA NA 0.009640 0.002433 0.004235 NA 0.002433 -0.001170 0.004235 -0.001173 -0.001170 -0.001170
NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA 0.015956 NA NA NA NA


From William.Venables at cmis.CSIRO.AU  Sun Oct  8 07:17:17 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Sun, 08 Oct 2000 15:17:17 +1000
Subject: [R] Quickstart #2 
In-Reply-To: Your message of "Sat, 07 Oct 2000 23:51:32 +0100."
             <4.3.1.0.20001007233220.00ac3600@mail.austasia.net> 
Message-ID: <200010080517.QAA06958@snowy.nsw.cmis.CSIRO.AU>

Phil Rhoades asks:

> 
> I have a file of the form:
> 
>       y01 y02 y03 y04 y05  . . . y0n
>       y11 y12 y13 y14 y15  . . . y1n
>       y21 y22 y23 y24 y25  . . . y2n
>       y31 y32 y33 y34 y35  . . . y3n
>       .
>       .
> 
> I want to read in the file and then for each line, I want to be able to:

OK, so you have to read in the whole file first into a matrix.

R> n <- <whatever it is>
R> Y <- matrix(scan("myInput.txt"), ncol = n, byrow = T)

It would be handy to know how big the matrix Y then is.  How best to
do the next steps will depend on this.

> 
> - calculate the variance on the first two results (eg y01 and y02), and 
> then the variance on the first three results (eg y01 - y03) and then the 
> variance on the first four results  (eg y01 - y04) etc

I must say that statistically I am VERY dubious about doing this, (I
could just about understand a moving variance, but not a cumulative
one), but let's just look at it as a computational problem.

Here is the way I would do it, assuming the number of columns in Y was
not too big but letting the number of rows be quite large:

R> B <- contr.helmert(ncol(Y))
R> B <- B/rep(sqrt(diag(crossprod(B))), rep(nrow(B), ncol(B))) 
R> Y1 <- Y %*% B
R> B <- diag(ncol(Y1))
R> B[] <- as.numeric(row(B) <= col(B))/col(B)
R> Y1 <- (Y1^2) %*% B

Y1 then holds the variances.  (Exercise for the reader: Why is it so?)

On the other hand if you had a huge number of columns and relatively
few rows in Y I would probably do it as follows:

R> Y1 <- t(apply(Y - apply(Y, 1, mean), 1, 
         function(x) ((cumsum(x^2) - cumsum(x)^2 / 1:length(x)) /
          (1:length(x) - 1))))[, -1]

(Instead Y - apply(Y, 1, mean) you could just use Y but the numerical
performance may not be as good.)

The tricks are (a) to work with the whole object as much as possible
and (b) to choose your biggest guns for where they will do most
damage.

> - then graph the results so I can see the successive change in the variance 
> for each line

To do this really well you might just about have to re-write Trellis
but here's is the bones of a very simple solution:

R> X11() 
R> par(ask = T, mfcol = c(4,3))  # 12 at a time
R> yr <- range(Y1) # for a common y-axis
R> for(i in 1:nrow(Y1))
R+     plot(Y1[i, ], type = "b", ylim = yr, main = i)

> 
> ie I want the graphs printed on the same page under each other so I can see 
> compare the lines (there will be n-1 points on each graph).
> 

Fitting them all on one page in a way that you can see them is a tall
order if you have hundreds of rows.  This solution above gives you a
dozen at a time, but you could squeeze more in by fiddling with the
margin widths chopping out the axes and changing the mfcol setting.
Over to you...

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Sun Oct  8 18:41:22 2000
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Sun, 8 Oct 2000 18:41:22 +0200 (CEST)
Subject: [R] Possible bug in apply()
In-Reply-To: <39DF4B76.65AD8EC2@clara.net>
Message-ID: <Pine.LNX.4.21.0010081832340.22737-100000@localhost.localdomain>


At my first attempt I got an early syntax error code:
very silly of me - a misplaced bracket.

On Sat, 7 Oct 2000, Clive Jenkins wrote:

> Error in names(x) == ans.names : comparison (1) is possible only for
> vector types

If I load c.test library before running your code and check to see it's
'distr.dat' everytime instead of 'dist.dat' I get the same reply.

> If we look at the structure of the value returned by shap() for the
> first sample, we see that W has a "names" attribute whereas p has
> not (or its "names" attribute is the empty string):
> 
> > str(shap(dist.dat[1,]))
>  Named num [1:2] 0.887519 0.000622
>  - attr(*, "names")= chr [1:2] "W" ""

Same reply

> but in the case of the second sample (all NA except one), shapiro.test()
> was not called, and the preset default value c(NA, NA) returned:
> 
> > str(shap(dist.dat[2,]))
>  logi [1:2] NA NA

Same reply

> Looking directly at the result of shapiro.test(), we get:
> 
> > str(shapiro.test(dist.dat[1,]))
> List of 4
>  $ statistic: Named num 0.888
>   ..- attr(*, "names")= chr "W"
>  $ p.value  : num 0.000622
>  $ method   : chr "Shapiro-Wilk normality test"
>  $ data.name: chr "dist.dat[1, ]"
>  - attr(*, "class")= chr "htest"

Idem

> If I remove the "names" attribute from W by changing the line
> of code marked "# Problem line" to
> 
>         result.W <- as.numeric(shap.res$statistic)
> 
> the error disappears. 

Right. I get the following output:

	[,1]  		[,2]
[1,]    0.8875191054	NA
[2,]    0.0006219975	NA

If it is a bug it's replicable on i586 linux-mandrake R-1.1.1 .

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Mon Oct  9 00:03:03 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Sun, 08 Oct 2000 23:03:03 +0100
Subject: [R] Possible bug in apply()
References: <Pine.LNX.4.21.0010081832340.22737-100000@localhost.localdomain>
Message-ID: <39E0EF17.44008192@clara.net>

Thanks for confirming this on i586 linux-mandrake R-1.1.1 .

Sorry about the typo: the file is named 'distr.dat', but in the code all
references to it (except the first) are shown as 'dist.dat'. I re-named
the file while reducing the example. And yes, I forgot to mention
load(ctest).

Clive Jenkins.

mikalzet at libero.it wrote:
> 
> At my first attempt I got an early syntax error code:
> very silly of me - a misplaced bracket.
> 
> On Sat, 7 Oct 2000, Clive Jenkins wrote:
> 
> > Error in names(x) == ans.names : comparison (1) is possible only for
> > vector types
> 
> If I load c.test library before running your code and check to see it's
> 'distr.dat' everytime instead of 'dist.dat' I get the same reply.
> 
> > If we look at the structure of the value returned by shap() for the
> > first sample, we see that W has a "names" attribute whereas p has
> > not (or its "names" attribute is the empty string):
> >
> > > str(shap(dist.dat[1,]))
> >  Named num [1:2] 0.887519 0.000622
> >  - attr(*, "names")= chr [1:2] "W" ""
> 
> Same reply
> 
> > but in the case of the second sample (all NA except one), shapiro.test()
> > was not called, and the preset default value c(NA, NA) returned:
> >
> > > str(shap(dist.dat[2,]))
> >  logi [1:2] NA NA
> 
> Same reply
> 
> > Looking directly at the result of shapiro.test(), we get:
> >
> > > str(shapiro.test(dist.dat[1,]))
> > List of 4
> >  $ statistic: Named num 0.888
> >   ..- attr(*, "names")= chr "W"
> >  $ p.value  : num 0.000622
> >  $ method   : chr "Shapiro-Wilk normality test"
> >  $ data.name: chr "dist.dat[1, ]"
> >  - attr(*, "class")= chr "htest"
> 
> Idem
> 
> > If I remove the "names" attribute from W by changing the line
> > of code marked "# Problem line" to
> >
> >         result.W <- as.numeric(shap.res$statistic)
> >
> > the error disappears.
> 
> Right. I get the following output:
> 
>         [,1]            [,2]
> [1,]    0.8875191054    NA
> [2,]    0.0006219975    NA
> 
> If it is a bug it's replicable on i586 linux-mandrake R-1.1.1 .
> 
> --
> Dr. Michele Alzetta
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  9 01:01:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 2000 01:01:48 +0200
Subject: [R] Possible bug in apply()
In-Reply-To: Clive Jenkins's message of "Sun, 08 Oct 2000 23:03:03 +0100"
References: <Pine.LNX.4.21.0010081832340.22737-100000@localhost.localdomain> <39E0EF17.44008192@clara.net>
Message-ID: <x2wvfj0wf7.fsf@blueberry.kubism.ku.dk>

Clive Jenkins <clive.jenkins at clara.net> writes:

> Thanks for confirming this on i586 linux-mandrake R-1.1.1 .
> 
> Sorry about the typo: the file is named 'distr.dat', but in the code all
> references to it (except the first) are shown as 'dist.dat'. I re-named
> the file while reducing the example. And yes, I forgot to mention
> load(ctest).

The bug appears to be dead in the development version. (Probably same
bug as the median trouble reported a short while ago.)

> apply(dist.dat, 1, shap)
          [,1] [,2]
W 0.8875191054   NA
  0.0006219975   NA

(And I also see it in 1.1.1)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Mon Oct  9 03:57:09 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Mon, 9 Oct 2000 11:57:09 +1000 
Subject: [R] Turning off axis annotation?
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>

Thanks for that reply Andy, 

I suppose the other element of the puzzle that I am after, is how do I
switch off the numbers on the xscale, so that an axis appears, and tick
marks but no numbers?

Thanks, 

Matt

> -----Original Message-----
> From:	apjaworski at mmm.com [SMTP:apjaworski at mmm.com]
> Sent:	Friday, October 06, 2000 10:59 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] Turning off axis annotation?
> 
> 
> 
> > HI there,
> >
> >Well, I am stuck again.  How do I turn off axis annotation?
> >
> > Oh, and thanks to Peter Dalgaard
> > for his help with my last question.
> >
> One way to do this selectively is to use xlab/ylab arguments.  For
> example,
> 
>      plot(x, y, xlab="")
> 
> will turn off the x-axis annotation but not the y's.
> 
> Hope this helps,
> 
> Andy
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
> 
**************************DISCLAIMER********************************
The information in this e-mail message together with any attachments
is confidential and may be legally privileged. It is intended only
for the use of the person or entity to which it is addressed. If you
are not the addressee, any form of disclosure, copying, modification,
distribution or any action taken or omitted in reliance on this
e-mail message is unauthorised. Opinions contained in this e-mail
message and any attachments do not necessarily reflect the opinions
of the Queensland Government and associated organisations. If you
received this e-mail message in error, please notify the sender
immediately and delete this message and any attachments from your
computer and/or your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Oct  9 08:03:06 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 09 Oct 2000 08:03:06 +0200
Subject: [R] Turning off axis annotation?
References: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
Message-ID: <39E15F9A.F6C4B3FA@statistik.uni-dortmund.de>

"Redding, Matthew" wrote:

> I suppose the other element of the puzzle that I am after, is how do I
> switch off the numbers on the xscale, so that an axis appears, and tick
> marks but no numbers?

What about

  plot(1:10, xaxt="n")
  axis(1, labels=FALSE)

?


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Oct  9 11:49:52 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 9 Oct 2000 10:49:52 +0100 (BST)
Subject: [R] lm question
Message-ID: <Pine.LNX.4.10.10010091031120.968-100000@localhost.localdomain>

I have not really used lm before and I was hoping for some help on a
simple problem.

Here is a toy version of the problem I want to solve.

y       x       grp
-.9     1       a
-.8     2       a
-.7     3       a
-.7     1.5     b
-.5     2.5     b
-.3     3.5     b
-.19    2.7     c
-.11    3.7     c
-.41    4.7     c

I want to fit a model that has one y-intercept and three slopes, one for
each group.

Could someone please show me how to do this?  Thanks very much for any
help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  9 12:26:21 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 2000 12:26:21 +0200
Subject: [R] lm question
In-Reply-To: Bill Simpson's message of "Mon, 9 Oct 2000 10:49:52 +0100 (BST)"
References: <Pine.LNX.4.10.10010091031120.968-100000@localhost.localdomain>
Message-ID: <x2lmvy5n02.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> I have not really used lm before and I was hoping for some help on a
> simple problem.

> I want to fit a model that has one y-intercept and three slopes, one for
> each group.

Actually, this is not so simple because it goes somewhat against the
grain of the way the S/R model formulas are designed (they generally
assume that identical intercepts only make sense with identical
slopes).

However, 

> lm(y~x:(grp-1)+1)

Call:
lm(formula = y ~ x:(grp - 1) + 1)

Coefficients:
(Intercept)       x.grpa       x.grpb       x.grpc  
   -0.80977      0.01847      0.13124      0.14259  

The form grp-1 gives you the "no-intercept" coding of the grp factor
and its interaction (":") with x specifies separate slopes for each
group. Once you've used "-1" the intercept disappears from the model,
so you need to add it back in with "+1". 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Oct  9 12:43:20 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 09 Oct 2000 12:43:20 +0200 (CEST)
Subject: [R] lm question
In-Reply-To: <x2lmvy5n02.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.001009124320.plummer@iarc.fr>

On 09-Oct-00 Peter Dalgaard BSA wrote:
> Bill Simpson <wsi at gcal.ac.uk> writes:
> 
>> I have not really used lm before and I was hoping for some help on a
>> simple problem.
> 
>> I want to fit a model that has one y-intercept and three slopes, one for
>> each group.
> 
> Actually, this is not so simple because it goes somewhat against the
> grain of the way the S/R model formulas are designed (they generally
> assume that identical intercepts only make sense with identical
> slopes).
> 
> However, 
> 
>> lm(y~x:(grp-1)+1)
> 
> Call:
> lm(formula = y ~ x:(grp - 1) + 1)
> 
> Coefficients:
> (Intercept)       x.grpa       x.grpb       x.grpc  
>    -0.80977      0.01847      0.13124      0.14259  
> 
> The form grp-1 gives you the "no-intercept" coding of the grp factor
> and its interaction (":") with x specifies separate slopes for each
> group. Once you've used "-1" the intercept disappears from the model,
> so you need to add it back in with "+1". 

Is that really necessary?

R> lm(y ~ grp:x, data=foo)

Call:
lm(formula = y ~ grp:x, data = foo)

Coefficients:
(Intercept)       grpa.x       grpb.x       grpc.x  
   -0.80977      0.01847      0.13124      0.14259  

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Mon Oct  9 13:32:15 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Mon, 09 Oct 2000 12:32:15 +0100
Subject: [R] R.1.0.0 crashed
In-Reply-To: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
Message-ID: <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>

Dear R-users,

I was doing simulation studies when 
the R session crashed and gave me 
the following message:

RGUI caused an invalid page fault in
module CRTDLL.DLL at 015f:7fc3c9da.
Registers:
EAX=00431b24 CS=015f EIP=7fc3c9da EFLGS=00010206
EBX=00431af8 SS=0167 ESP=0253f754 EBP=0253f75c
ECX=3feeb800 DS=0167 ESI=00455ffe FS=3df7
EDX=00000001 ES=0167 EDI=00454f84 GS=0000

Could someone explain what went wrong ?

Thanks very much,
Agus

Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  9 13:39:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 2000 13:39:46 +0200
Subject: [R] lm question
In-Reply-To: Martyn Plummer's message of "Mon, 09 Oct 2000 12:43:20 +0200 (CEST)"
References: <XFMail.001009124320.plummer@iarc.fr>
Message-ID: <x2itr25jlp.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> Is that really necessary?
> 
> R> lm(y ~ grp:x, data=foo)
> 
> Call:
> lm(formula = y ~ grp:x, data = foo)
> 
> Coefficients:
> (Intercept)       grpa.x       grpb.x       grpc.x  
>    -0.80977      0.01847      0.13124      0.14259  

Surprise, surprise. You're right, obviously. I could have sworn that
would get you in trouble with the contrasts coding. Not my day today
apparently... 

(I can't even pretend I mixed up R and S:

> lm(y ~ grp:x)
Call:
lm(formula = y ~ grp:x)

Coefficients:
 (Intercept)      grpax     grpbx     grpcx 
  -0.8097666 0.01847139 0.1312409 0.1425913

)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  9 13:42:56 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 2000 13:42:56 +0200
Subject: [R] R.1.0.0 crashed
In-Reply-To: Agus Salim's message of "Mon, 09 Oct 2000 12:32:15 +0100"
References: <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
Message-ID: <x2g0m65jgf.fsf@blueberry.kubism.ku.dk>

Agus Salim <a.salim at ucc.ie> writes:

> Dear R-users,
> 
> I was doing simulation studies when 
> the R session crashed and gave me 
> the following message:
> 
> RGUI caused an invalid page fault in
> module CRTDLL.DLL at 015f:7fc3c9da.
> Registers:
> EAX=00431b24 CS=015f EIP=7fc3c9da EFLGS=00010206
> EBX=00431af8 SS=0167 ESP=0253f754 EBP=0253f75c
> ECX=3feeb800 DS=0167 ESI=00455ffe FS=3df7
> EDX=00000001 ES=0167 EDI=00454f84 GS=0000
> 
> Could someone explain what went wrong ?

Probably not from that information, but various bugs of that caliber
have been fixed since 1.0.0 (current is 1.1.1) so you might consider
an upgrade.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  9 13:38:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Oct 2000 12:38:56 +0100 (BST)
Subject: [R] R.1.0.0 crashed
Message-ID: <200010091138.MAA24116@toucan.stats.ox.ac.uk>


> Date: Mon, 09 Oct 2000 12:32:15 +0100
> From: Agus Salim <a.salim at ucc.ie>
> Subject: [R] R.1.0.0 crashed
> To: r-help at stat.math.ethz.ch
> 
> Dear R-users,
> 
> I was doing simulation studies when 
> the R session crashed and gave me 
> the following message:
> 
> RGUI caused an invalid page fault in
> module CRTDLL.DLL at 015f:7fc3c9da.
> Registers:
> EAX=00431b24 CS=015f EIP=7fc3c9da EFLGS=00010206
> EBX=00431af8 SS=0167 ESP=0253f754 EBP=0253f75c
> ECX=3feeb800 DS=0167 ESI=00455ffe FS=3df7
> EDX=00000001 ES=0167 EDI=00454f84 GS=0000
> 
> Could someone explain what went wrong ?

On that much information (you have not even told us the OS) we can only
say that something accessed memory it should not have.  But why are you
using so old a version of R?  Please upgrade to 1.1.1 (four versions later).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  9 13:40:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Oct 2000 12:40:33 +0100 (BST)
Subject: [R] lm question
Message-ID: <200010091140.MAA24124@toucan.stats.ox.ac.uk>

> Date: Mon, 09 Oct 2000 12:43:20 +0200 (CEST)
> From: Martyn Plummer <plummer at iarc.fr>
> 
> On 09-Oct-00 Peter Dalgaard BSA wrote:
> > Bill Simpson <wsi at gcal.ac.uk> writes:
> > 
> >> I have not really used lm before and I was hoping for some help on a
> >> simple problem.
> > 
> >> I want to fit a model that has one y-intercept and three slopes, one for
> >> each group.
> > 
> > Actually, this is not so simple because it goes somewhat against the
> > grain of the way the S/R model formulas are designed (they generally
> > assume that identical intercepts only make sense with identical
> > slopes).
> > 
> > However, 
> > 
> >> lm(y~x:(grp-1)+1)
> > 
> > Call:
> > lm(formula = y ~ x:(grp - 1) + 1)
> > 
> > Coefficients:
> > (Intercept)       x.grpa       x.grpb       x.grpc  
> >    -0.80977      0.01847      0.13124      0.14259  
> > 
> > The form grp-1 gives you the "no-intercept" coding of the grp factor
> > and its interaction (":") with x specifies separate slopes for each
> > group. Once you've used "-1" the intercept disappears from the model,
> > so you need to add it back in with "+1". 
> 
> Is that really necessary?

It shouldn't be.

> R> lm(y ~ grp:x, data=foo)
> 
> Call:
> lm(formula = y ~ grp:x, data = foo)
> 
> Coefficients:
> (Intercept)       grpa.x       grpb.x       grpc.x  
>    -0.80977      0.01847      0.13124      0.14259  

In 1.1.1 each of these will only work in some codings, in particular
not for ordered factors.  But it should work for all (does in S) and is
fixed in the R-devel snapshot.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Oct  9 13:53:37 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 09 Oct 2000 13:53:37 +0200
Subject: [R] R.1.0.0 crashed
References: <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
Message-ID: <39E1B1C1.C1522D4E@statistik.uni-dortmund.de>

Agus Salim wrote:
> 
> Dear R-users,
> 
> I was doing simulation studies when
> the R session crashed and gave me
> the following message:
> 
> RGUI caused an invalid page fault in
> module CRTDLL.DLL at 015f:7fc3c9da.
> Registers:
> EAX=00431b24 CS=015f EIP=7fc3c9da EFLGS=00010206
> EBX=00431af8 SS=0167 ESP=0253f754 EBP=0253f75c
> ECX=3feeb800 DS=0167 ESI=00455ffe FS=3df7
> EDX=00000001 ES=0167 EDI=00454f84 GS=0000
> 
> Could someone explain what went wrong ?

There is a bug in R-1.0.0 for windows. You should upgrade to R-1.1.1.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Oct  9 13:53:13 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 9 Oct 2000 12:53:13 +0100 (BST)
Subject: [R] lm question
In-Reply-To: <x2lmvy5n02.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10010091250440.1171-100000@localhost.localdomain>

Thanks very much Peter, Martyn, and Brian for the help.

> > lm(y~x:(grp-1)+1)
> 
> Call:
> lm(formula = y ~ x:(grp - 1) + 1)
> 
> Coefficients:
> (Intercept)       x.grpa       x.grpb       x.grpc  
>    -0.80977      0.01847      0.13124      0.14259  
It seems to me that there is something seriously wrong here since for the
data I posted (I just re-checked it),
intercept=-1, slope a=.1, slope b=.2, and slope c = .3
(These fit the data exactly)

This leaves aside the comments of Martyn and Brian.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct  9 14:28:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 2000 14:28:22 +0200
Subject: [R] lm question
In-Reply-To: Bill Simpson's message of "Mon, 9 Oct 2000 12:53:13 +0100 (BST)"
References: <Pine.LNX.4.10.10010091250440.1171-100000@localhost.localdomain>
Message-ID: <x2aece5hcp.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> It seems to me that there is something seriously wrong here since for the
> data I posted (I just re-checked it),
> intercept=-1, slope a=.1, slope b=.2, and slope c = .3
> (These fit the data exactly)
> 
> This leaves aside the comments of Martyn and Brian.

I think you need to be more careful with your signs:


> y[grp=="c"]
[1] -0.19 -0.11 -0.41
>  -1+.3*x[grp=="c"]
[1] -0.19  0.11  0.41


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Mon Oct  9 14:31:48 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Mon, 09 Oct 2000 22:31:48 +1000
Subject: [R] lm question 
In-Reply-To: Message from Bill Simpson <wsi@gcal.ac.uk> 
   of "Mon, 09 Oct 2000 12:53:13 +0100." <Pine.LNX.4.10.10010091250440.1171-100000@localhost.localdomain> 
Message-ID: <200010091231.XAA03808@snowy.nsw.cmis.CSIRO.AU>

> Thanks very much Peter, Martyn, and Brian for the help.
> 
> > > lm(y~x:(grp-1)+1)
> > 
> > Call:
> > lm(formula = y ~ x:(grp - 1) + 1)
> > 
> > Coefficients:
> > (Intercept)       x.grpa       x.grpb       x.grpc  
> >    -0.80977      0.01847      0.13124      0.14259  
>
> It seems to me that there is something seriously wrong here
> since for the data I posted (I just re-checked it),
> intercept=-1, slope a=.1, slope b=.2, and slope c = .3 (These
> fit the data exactly)

It was a typo in your data.  Well, two actually.  You posted

y       x       grp
-.9     1       a
-.8     2       a
-.7     3       a
-.7     1.5     b
-.5     2.5     b
-.3     3.5     b
-.19    2.7     c
-.11    3.7     c
-.41    4.7     c

What you meant was:

y       x       grp
-.9     1       a
-.8     2       a
-.7     3       a
-.7     1.5     b
-.5     2.5     b
-.3     3.5     b
-.19    2.7     c
 .11    3.7     c
 .41    4.7     c

Bill Venables.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Sat Oct  7 23:48:45 2000
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Sat, 7 Oct 2000 23:48:45 +0200 (CEST)
Subject: [R] Possible bug in apply()
In-Reply-To: <39DF4B76.65AD8EC2@clara.net>
Message-ID: <Pine.LNX.4.21.0010072345450.1951-100000@localhost.localdomain>

On Sat, 7 Oct 2000, Clive Jenkins wrote:

 > # Read the data in
 > distr.dat <- matrix(scan("distr.dat"), byrow=T, ncol=60)
 Read 120 items
 > # Define a function to perform Shapiro-Wilk, with protection
 > # against values that would cause fatal errors in shapiro.test()
 > shap <- function(x){
 +   result.W <- NA; result.p <- NA    # Set default return value
 +   if (length(x[!is.na(x)])>3){      # Check for bad values

I copied your data and tried your example.
I get to this point, then I have a 'syntax error' message.
R-1.1.1 on linux-mandrake 7.1 .

Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Mon Oct  9 16:27:35 2000
From: span at psy.uva.nl (Mark M. Span)
Date: Mon, 9 Oct 2000 16:27:35 +0200
Subject: [R] nls question
Message-ID: <003e01c031fd$11f527e0$cd981291@psy.uva.nl>

Just to add a note to the question asked by Bill Simpson..

I am confronted with a similar problem, but the model I try to fit on my
data is nonlinear.
I have a four-parameter, biexponential model describing the response times
of a group of subjects performing a set of task. What I want to evaluate is
whether the parameter values differ between (groups of) tasks.

myfunc    <-formula(x ~ a*exp(-b*age) + (c*exp(d*age)) )

both x (representing response time) and age are variables in the current
scope. Part of the data frame is presented below.  At the moment I fit the
model for each task seperately. But now I cannot test the parameters for
equality. A solution like in Bills case would be great.

         task       type     cor         x        var median     stdev count
pp nper nsw age
266    DS Repetition Correct  581.2427 108609.931  499.0 329.56021   103 007
22  17  19
267    TS Repetition Correct  508.1159  31364.839  461.0 177.10121    69 007
0   0  19
268   SRT Repetition Correct  215.8182  14352.028  188.0 119.79995    33 007
0   0  19
269 CRT-1 Repetition Correct  379.6250   3335.601  382.0  57.75466    48 007
0   0  19
270 CRT-2 Repetition Correct  488.4898  11872.963  461.0 108.96313    49 007
0   0  19
271 CRT-3 Repetition Correct  411.3600   7523.256  393.0  86.73670    50 007
0   0  19
272 D/CRT Repetition Correct  328.0313   1587.709  327.0  39.84606    32 007
0   0  19
273    DS  Induction Correct  616.3548  74128.037  540.0 272.26464    31 007
22  17  19
274    TS  Induction Correct  484.7867  54941.630  438.0 234.39631    75 007
0   0  19
282    DS Repetition Correct  681.6842 225197.191  519.0 474.54946   114 058
14  19  20
283    TS Repetition Correct  646.3538 106069.951  539.0 325.68382    65 058
0   0  20
284   SRT Repetition Correct  217.0833   1823.336  213.0  42.70054    36 058
0   0  20


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct  9 17:34:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Oct 2000 16:34:02 +0100 (BST)
Subject: [R] nls question
Message-ID: <200010091534.QAA24387@toucan.stats.ox.ac.uk>

> From: "Mark M. Span" <span at psy.uva.nl>
> Date: Mon, 9 Oct 2000 16:27:35 +0200
 
> Just to add a note to the question asked by Bill Simpson..
> 
> I am confronted with a similar problem, but the model I try to fit on my
> data is nonlinear.
> I have a four-parameter, biexponential model describing the response times
> of a group of subjects performing a set of task. What I want to evaluate is
> whether the parameter values differ between (groups of) tasks.
> 
> myfunc    <-formula(x ~ a*exp(-b*age) + (c*exp(d*age)) )
> 
> both x (representing response time) and age are variables in the current
> scope. Part of the data frame is presented below.  At the moment I fit the
> model for each task seperately. But now I cannot test the parameters for
> equality. A solution like in Bills case would be great.

Use a model parametrizing a,b,c by groups and one without, and use
anova to compare the models.  A worked example is in V&R3, page 249.
I'd try your example, but as you only have two age points (if age is
the final column), it is non-identifiable (four parameters for two
predictions only) so I assume you have much more data.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Oct 10 03:52:50 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 10 Oct 2000 14:52:50 +1300
Subject: [R] Re: Chinese text in R
References: <200010092234.LAA08679@aqua.mcs.vuw.ac.nz>
Message-ID: <39E27671.C9F2AC6@xtra.co.nz>

Ray Brownrigg wrote:

> I have a question from a Chinese colleague in Beijing, and wondered if
> you were able to help answer it.

Just out of curiosity, how do you know my contact e-mail?

> I know about the Hershey fonts, and
> that Kanji will give a few hundred hanzi in R, but is there anything
> else that we can do to get a larger number of characters?  [SSLib is
> some Statistical Seismology packages built on top of R.]

I'm sorry but I do not know what Kanji, hanzi are...I might if I am shown the
Chinese translation of these two words though.  I'm using a Chinese Windows 98
and everything is in Chinese.  As a result I have trouble understanding the
terminology when they are written in English.

>
>
> > And how and what is the way for we could write the both of English and
> > Chinese of the main and sub title at the figures from SSLib or R, or within
> > the plot.

In R, I don't know if this is what you want:
[Image]

I got it by directly Chinese input, i.e.:
> x <- 1:10
> plot(x)
> plot( x, main = "???? TEST" )

Can you be more specific what you are wanting (although I can't guarantee I can
be of much help...)?

Cheers,

Ko-Kang Wang

> I know we have the Linux with the Chinese menu now.
> >
> Regards,
> Ray Brownrigg

--
My Geek Code:
----------BEGIN GEEK CODE BLOCK----------
Version 3.12
GCS/M d+ s+:- a---(--) C++++ UB+L++S+ P+
E W++ N o K- W+(---)!O M V? PS+ PE++ Y
PGP++ t+++ 5? X R- tv+ b++ DI+++ D--
G++(+++) e*(++) h! r !y+
-----------END GEEK CODE BLOCK-----------
To decipher my Geek Code, go to http://www.geekcode.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001010/95fda2df/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: C:\WINDOWS\TEMP\nsmail56.jpeg
Type: image/jpeg
Size: 22543 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001010/95fda2df/nsmail56.jpeg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Ko-Kang.vcf
Type: text/x-vcard
Size: 348 bytes
Desc: Card for Ko-Kang Wang
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001010/95fda2df/Ko-Kang.vcf

From maj at waikato.ac.nz  Tue Oct 10 06:08:16 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 10 Oct 2000 17:08:16 +1300
Subject: [R] Balanced incomplete block analysis
In-Reply-To: <Pine.LNX.4.10.10010091250440.1171-100000@localhost.localdo
 main>
References: <x2lmvy5n02.fsf@blueberry.kubism.ku.dk>
Message-ID: <200010100409.RAA30449@gosset.stats.waikato.ac.nz>

Excuse me everyone, but I don't have to teach this very often!

Has anyone got some R code for doing adjusted treatment means and the
recovery of inter-block information in the analysis of balanced incomplete
block designs?

With data from O. L. Davies, page 207 I've got as far as:

wear <- scan()
238 196 254 238 213 312 279 334 421 308 367 412

treatment <- factor(rep(1:4,rep(3,4)))
tyre <- scan()
1 2 3 1 2 4 1 3 4 2 3 4

tyre <- as.factor(tyre)
tapply(wear,list(tyre,treatment),sum)
wear.lm <- lm(wear ~ tyre + treatment)
anova(wear.lm)
summary(wear.lm)


Which is neat as far as it goes, but adjusted treatment means and their
LSDs would be nice. 


Murray Jorgensen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Tue Oct 10 20:03:15 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Tue, 10 Oct 2000 14:03:15 -0400
Subject: [R] Adding a new column to data frame (recoding)
Message-ID: <39E359E3.C807F0A2@acsu.buffalo.edu>

Dear R users,

I have a very simple question. What is the easiest way to recode data in
one
of the columns of a data frame and put it into a new column?

For example, here is a simple data frame:

  var1
1    1
2    2
3    3

How do I add a new column to data - 'var2' in which I group  values in
'var1',
for example:

  var1 var2
1    1    4
2    2    4
3    3    5

It's got to be simple, but I can't find it...

Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 10 20:44:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Oct 2000 20:44:00 +0200
Subject: [R] Adding a new column to data frame (recoding)
In-Reply-To: Aleksey Naumov's message of "Tue, 10 Oct 2000 14:03:15 -0400"
References: <39E359E3.C807F0A2@acsu.buffalo.edu>
Message-ID: <x2aeccedu7.fsf@blueberry.kubism.ku.dk>

Aleksey Naumov <naumov at acsu.buffalo.edu> writes:

> How do I add a new column to data - 'var2' in which I group  values in
> 'var1',
> for example:
> 
>   var1 var2
> 1    1    4
> 2    2    4
> 3    3    5
> 
> It's got to be simple, but I can't find it...

data$var2 <- c(4,4,5)[data$var1]

or 

data <- transform(data, var2=c(4,4,5)[var1])

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Oct 11 03:42:03 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 11 Oct 2000 14:42:03 +1300
Subject: [R] Balanced incomplete block analysis
Message-ID: <200010110143.OAA01271@gosset.stats.waikato.ac.nz>

At 07:12 AM 10-10-00 +0100, Prof Brian D Ripley wrote:
>On Tue, 10 Oct 2000, Murray Jorgensen wrote:
>
>> Excuse me everyone, but I don't have to teach this very often!
>> 
>> Has anyone got some R code for doing adjusted treatment means and the
>> recovery of inter-block information in the analysis of balanced incomplete
>> block designs?
>
>Do you have to do it that way?  These days one can just use lme to fit
>mixed models.  I realize that you might be forced into teaching
>old-fashioned stuff.

I'm certainly in that position for this year. I might do things differently
next year but it's only a kiwi third year course which probably equates to
UK second year (Oxford first year??) . I've just had a glance a Pinheiro &
Bates, which would certainly be out of the question. Has anyone any
recommendations for a half-course in introductory experimental design (the
other half is surveys)? 

There's an interesting-looking book by George W. Cobb sitting on my desk,
but I havn't yet had a chance to look at it.

Murray Jorgensen

>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Oct 11 11:16:13 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 11 Oct 2000 10:16:13 +0100
Subject: [R] R.1.0.0 crashed
In-Reply-To: <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
References: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
 <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
Message-ID: <VOLNrAAd$C55EwWu@myatt.demon.co.uk>

Agus,

You write:

>I was doing simulation studies when 
>the R session crashed and gave me 
>the following message:

You might get some pretty short answers to that one. You need to give
much more information for everyone to work on. I am not sure if there is
an FAQ for this group (I have lost it if there was) but ... generally
give:

        1. The operating system you are using and the version number and
        the latest service pack installed, kernel version, &c.

        2. The parameters used to start R.

        3. Brief machine details (how much memory, processor).

        4. The R command or code that caused the problem with a sample
        of data if applicable.

Otherwise there is nothing for anyone to go on. 

BTW - I am sure that you will be told that there are later versions of R
which fix some bugs and add some good stuff.

Best wishes,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Wed Oct 11 11:50:25 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Wed, 11 Oct 2000 10:50:25 +0100
Subject: [R] R.1.0.0 crashed
In-Reply-To: <VOLNrAAd$C55EwWu@myatt.demon.co.uk>
References: <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
 <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
 <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
Message-ID: <3.0.5.32.20001011105025.00843810@bureau.ucc.ie>

Dear Mark,

Thanks for your suggestion.

>        1. The operating system you are using and the version number and
>        the latest service pack installed, kernel version, &c.

I am working under Windows 98 ver [4.10.1998]

>        2. The parameters used to start R.
I use the default for nsize and --vsize 40M

>        3. Brief machine details (how much memory, processor).

It's pentium II processor, 64 MB RAM, 450 Mhz.

>        4. The R command or code that caused the problem with a sample
>        of data if applicable.

par_c(0.08060962,23.84223595,0.89888483,3.73118472,6.96996047,0.37888731)
x_simbl1(x=par,n=40*744)

PS: SIMBL1 is a function to generate rainfall sequences using
Bartlett-Lewis model and it calls a fortran routine.

>Otherwise there is nothing for anyone to go on. 
>
>BTW - I am sure that you will be told that there are later versions of R
>which fix some bugs and add some good stuff.

I've installed R1.1.1 and it seems that I don't have the problem anymore.

Thanks,
Agus

>
>Best wishes,
>
>Mark
>
>--
>Mark Myatt
>
>
>
Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Oct 11 12:27:19 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 11 Oct 2000 12:27:19 +0200
Subject: R FAQ {was [R] R.1.0.0 crashed}
In-Reply-To: <VOLNrAAd$C55EwWu@myatt.demon.co.uk>
References: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
	<3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
	<VOLNrAAd$C55EwWu@myatt.demon.co.uk>
Message-ID: <14820.16519.643731.155675@gargle.gargle.HOWL>

>>>>> "Mark" == Mark Myatt <mark at myatt.demon.co.uk> writes:

    ...
    Mark> am not sure if there is an FAQ for this group (I have lost it if
    Mark> there was) 
    ....
    
Well, you might look at the footer of every message that is sent to the 
R mailing lists... 

{and the FAQ is also included with every version of R since about 1.0.0
 for offline readers}

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Wed Oct 11 12:57:16 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Wed, 11 Oct 2000 12:57:16 +0200 (METDST)
Subject: [R] "Executing" a string
Message-ID: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>

In Matlab or Octave I can evaluate (evalf) the content of
a string. In R I have looked around in the docs, but have not 
found a way to do something equivalent (which is possible, I think).

Can anybody give me a pointer?


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Oct 11 13:29:57 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 11 Oct 2000 12:29:57 +0100
Subject: R FAQ {was [R] R.1.0.0 crashed}
In-Reply-To: <14820.16519.643731.155675@gargle.gargle.HOWL>
References: <FB599DB5ACE2D211887500A0C9D334E40B14F9@TBACRMEXH001>
 <3.0.5.32.20001009123215.008339a0@bureau.ucc.ie>
 <VOLNrAAd$C55EwWu@myatt.demon.co.uk>
 <14820.16519.643731.155675@gargle.gargle.HOWL>
Message-ID: <TIhsKWA18E55EwXG@myatt.demon.co.uk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:
>>>>>> "Mark" == Mark Myatt <mark at myatt.demon.co.uk> writes:
>
>    ...
>    Mark> am not sure if there is an FAQ for this group (I have lost it if
>    Mark> there was) 
>    ....
>    
>Well, you might look at the footer of every message that is sent to the 
>R mailing lists... 
>
>{and the FAQ is also included with every version of R since about 1.0.0
> for offline readers}

Oops. So it is. Thanks.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct 11 13:34:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Oct 2000 12:34:06 +0100 (BST)
Subject: [R] "Executing" a string
Message-ID: <200010111134.MAA14715@toucan.stats.ox.ac.uk>

> Date: Wed, 11 Oct 2000 12:57:16 +0200 (METDST)
> From: Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de>
> 
> In Matlab or Octave I can evaluate (evalf) the content of
> a string. In R I have looked around in the docs, but have not 
> found a way to do something equivalent (which is possible, I think).
> 
> Can anybody give me a pointer?

eval(parse(text="ls()"))

say, is probably the simplest way.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct 11 13:42:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Oct 2000 13:42:59 +0200
Subject: [R] "Executing" a string
In-Reply-To: Thomas Hoffmann's message of "Wed, 11 Oct 2000 12:57:16 +0200 (METDST)"
References: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>
Message-ID: <x2k8bf8uyk.fsf@blueberry.kubism.ku.dk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> In Matlab or Octave I can evaluate (evalf) the content of
> a string. In R I have looked around in the docs, but have not 
> found a way to do something equivalent (which is possible, I think).
> 
> Can anybody give me a pointer?

> eval(parse(text="2+2"))
[1] 4

Also check out substitute(), as.name() et al. for other methods of
manipulating expressions and function calls

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Wed Oct 11 14:51:14 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Wed, 11 Oct 2000 14:51:14 +0200
Subject: [R] "Executing" a string
In-Reply-To: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>; from hoffmann@ehmgs2.et.tu-dresden.de on Wed, Oct 11, 2000 at 12:57:16 +0200
References: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>
Message-ID: <20001011145114.A1923@diw14093.diw.de>

On Wed, 11 Oct 2000, Thomas Hoffmann wrote:

> In Matlab or Octave I can evaluate (evalf) the content of
> a string. In R I have looked around in the docs, but have not 
> found a way to do something equivalent (which is possible, I think).
> 
> Can anybody give me a pointer?
> 

May be your looking for somethig like:

> example <- seq(0,5)
> string  <- "example"
> as.name(string)
example
> eval(as.name(string))
[1] 0 1 2 3 4 5

Hope this helps

jan
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Oct 11 15:09:12 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 11 Oct 2000 14:09:12 +0100
Subject: [R] "Executing" a string
In-Reply-To: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>
References: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de>
Message-ID: <7aiG+iA4ZG55EwTp@myatt.demon.co.uk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:
>In Matlab or Octave I can evaluate (evalf) the content of
>a string. In R I have looked around in the docs, but have not 
>found a way to do something equivalent (which is possible, I think).
>
>Can anybody give me a pointer?
>

Use the eval(parse()) pairing:

        String2Eval <- "A valid R statement"
        eval(parse(text = String2Eval)) 

Hope that does the trick.




--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Oct 11 16:16:14 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 11 Oct 2000 10:16:14 -0400
Subject: [R] "Executing" a string
References: <200010111057.MAA05721@ehmgs2.et.tu-dresden.de> <x2k8bf8uyk.fsf@blueberry.kubism.ku.dk>
Message-ID: <39E4762E.19E2B145@bank-banque-canada.ca>

>> Can anybody give me a pointer?

> eval(parse(text="2+2"))
>[1] 4

>Also check out substitute(), as.name() et al. for other methods of
>manipulating expressions and function calls

You should also consider do.call() if the string is actually the name of
a function.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Thu Oct 12 10:20:30 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Thu, 12 Oct 2000 10:20:30 +0200 (METDST)
Subject: [R] Accumulating data row by row into a data frame
Message-ID: <200010120820.KAA07326@ehmgs2.et.tu-dresden.de>

After the overwhelming response to my last question (many thanks!),
I cannot resist to ask the next maybe trivial question:

All sources I have looked into tell me about building data frames
by reading from files or by putting vectors of data ("column by column")
together.
Now I would like to create an (empty) data frame with "headings" for
every column (column titles) and then put data row-by-row into this
data frame (one row for every computation I will be doing), i.e. I
want to create kind of a "table" and fill it with data:

no. time temp pressure <---the headings
1   0     100   80     <---first result
2   10    110   87     <---2nd result .....

Is a data frame the best solution for this, anyway?


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 12 11:24:39 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Oct 2000 10:24:39 +0100 (BST)
Subject: [R] Accumulating data row by row into a data frame
Message-ID: <200010120924.KAA16269@toucan.stats.ox.ac.uk>


> Date: Thu, 12 Oct 2000 10:20:30 +0200 (METDST)
> From: Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de>
> To: r-help at stat.math.ethz.ch
> Subject: [R] Accumulating data row by row into a data frame
> X-Keywords: 
> 
> After the overwhelming response to my last question (many thanks!),
> I cannot resist to ask the next maybe trivial question:
> 
> All sources I have looked into tell me about building data frames
> by reading from files or by putting vectors of data ("column by column")
> together.
> Now I would like to create an (empty) data frame with "headings" for
> every column (column titles) and then put data row-by-row into this
> data frame (one row for every computation I will be doing), i.e. I
> want to create kind of a "table" and fill it with data:
> 
> no. time temp pressure <---the headings
> 1   0     100   80     <---first result
> 2   10    110   87     <---2nd result .....
> 
> Is a data frame the best solution for this, anyway?

Depends if the cols are all numeric: if they are a matrix would be better.

If you know the number of results in advance, say, N, do this

df <- data.frame(time=numeric(N), temp=numeric(N), pressure=numeric(N))
df[1, ] <- c(0, 100, 80)
df[2, ] <- c(10, 110, 87)
...

or

m <- matrix(nrow=N, ncol=3)
colnames(m) <- c("time", "temp", "pressure")
m[1, ]  <- c(0, 100, 80)
m[2, ] <- c(10, 110, 87)

The matrix form is better size it only needs to access one vector
(a matrix is a vector with attributes) not three.

If you don't know the final size you can use rbind to add a row at a
time, but that is substantially less efficient as lots of re-allocation
is needed.  It's better to guess the size, fill in and then rbind on a lot
more rows if the guess was too small.

BTW, I left "no." off, as the rownames/row.names  serve that purpose.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Thu Oct 12 17:38:17 2000
From: rls at pincock.com (Bob Sandefur)
Date: Thu, 12 Oct 2000 08:38:17 -0700
Subject: [R] getting a windows environment variable in r
Message-ID: <s9e5788d.009@hc4>

hi-
 I would like to get a value set with the dos set command (e.g. set dog=cow) in a rterm session on rterm 1011 under windows 2000. if I try in a dos window:
set dog=cow
echo %dog%
i get cow (what I want)
then i start rterm
system("echo %dog%",intern=T)
gives "%dog%"

I can of course do something like
set dog=cow
echo  %dog% >jnk.rin
and  then start rterm and
jnk<-read.table("jnk.rin")
wantthis<-as.character(V1[1])
wantthis now has what I want

Are there simpler methods?

thanx

Bob Sandefur



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Oct 12 18:07:04 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 12 Oct 2000 09:07:04 -0700 (PDT)
Subject: [R] getting a windows environment variable in r
In-Reply-To: <s9e5788d.009@hc4>
Message-ID: <Pine.GSO.4.21.0010120906400.7271-100000@atlas.biostat.washington.edu>

On Thu, 12 Oct 2000, Bob Sandefur wrote:

> hi-
>  I would like to get a value set with the dos set command (e.g. set dog=cow) in a rterm session on rterm 1011 under windows 2000. if I try in a dos window:
> set dog=cow
> echo %dog%

You want getenv("dog")

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 12 18:34:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Oct 2000 17:34:05 +0100 (BST)
Subject: [R] getting a windows environment variable in r
Message-ID: <200010121634.RAA00189@toucan.stats.ox.ac.uk>


> Date: Thu, 12 Oct 2000 08:38:17 -0700
> From: "Bob Sandefur" <rls at pincock.com>
 
> hi-
>  I would like to get a value set with the dos set command (e.g. set dog=cow) 
in a rterm session on rterm 1011 under windows 2000. if I try in a dos window:

I didn't know Windows 2000 contained dos (NT4 does not), and suspect
you mean a cmd.exe window.  Given that level of confusion, I can see
why you have not read the R documentation for system() correctly.

> set dog=cow
> echo %dog%
> i get cow (what I want)
> then i start rterm
> system("echo %dog%",intern=T)
> gives "%dog%"

That is what it is supposed to do.  Do re-read the documentation for
system().  You probably meant to use shell(), as system does not run a
shell and you have given a cmd.exe internal command.

> I can of course do something like
> set dog=cow
> echo  %dog% >jnk.rin
> and  then start rterm and
> jnk<-read.table("jnk.rin")
> wantthis<-as.character(V1[1])
> wantthis now has what I want
> 
> Are there simpler methods?

Probably. You can read any environment variable in R by getenv()
(Sys.getenv from the next version).  It's just that I don't know if the
`set' you use creates an environment variable, but it probably does
(and you are assuming that it does as to be able to pass it on from the
cmd.exe shell).  In tcsh (which is what I use)

setenv dog cow
rterm 
getenv("dog")

and anywhere you can use

rterm dog=cow
getenv("dog")


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Oct 12 18:59:32 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 12 Oct 2000 18:59:32 +0200
Subject: [R] getting a windows environment variable in r
References: <Pine.GSO.4.21.0010120906400.7271-100000@atlas.biostat.washington.edu>
Message-ID: <39E5EDF4.74C5D2D@statistik.uni-dortmund.de>

Thomas Lumley wrote:
> 
> On Thu, 12 Oct 2000, Bob Sandefur wrote:
> 
> > hi-
> >  I would like to get a value set with the dos set command (e.g. set dog=cow) in a rterm session on rterm 1011 under windows 2000. if I try in a dos window:
> > set dog=cow
> > echo %dog%
> 
> You want getenv("dog")

What you get on NT or Win2k is:

> getenv("dog")
dog 
 "" 

If you are defining or changing a variable in a DOS box, the changes can
only be seen in that DOS box.
Try to start a new DOS box and you won't find "dog":

c:\> echo %dog%
%dog%


But it is possible to get the expected result, if you are invoking R
within the DOS box, in which you defined "dog":

c:\> set dog=cow
c:\> c:\.......\rgui.exe

> getenv("dog")
  dog 
"cow" 


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Fri Oct 13 05:48:59 2000
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Thu, 12 Oct 2000 20:48:59 -0700 (PDT)
Subject: [R] GARCH in package tseries
Message-ID: <Pine.LNX.4.21.0010122036160.3492-100000@ewilliam.ucsd.edu>


I was running some likelihood ratio tests (using the current version of
tseries) and found a different value for the log-likelihood from what I
was getting using other software.  I've traced the problem to R's GARCH
using the conditional standard deviations instead of the conditional
variances.  This amounts to a factor of 2 once logs are taken, and could
easily be a case of bad parentheses.  

It doesn't appear to affect the estimated coefficients, however. 

I'm not a good fortran programmer, so I'll just toss this up to the group 
for comment/investigation.  


						Thanks,
						Elliot.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From volker.franz at tuebingen.mpg.de  Fri Oct 13 15:54:09 2000
From: volker.franz at tuebingen.mpg.de (Volker Franz)
Date: Fri, 13 Oct 2000 15:54:09 +0200
Subject: [R] Random factor ANOVA, Repeated measures ANOVA, Within subjects designs.
Message-ID: <14823.5121.601841.618269@olive.kyb.tuebingen.mpg.de>

Hi,

we are just about to evaluate R as a standard statistics package for
our institute. We looked around the help - manual, the FAQ, etc. and
did not find anything for the topics of random factors in ANOVA,
repeated measures in ANOVA, or within subjects designs in R.

Could anyone point us to any information concerning

   - univariate approach to repeated measures anova
   - multivariate approach to repeated measures anova
   - mixed designs
   - Greenhouse-Geisser epsilon correction
   - Newman-Keuls contrasts
   - LSR contrasts
   - Tukey contrasts
   - Scheffe contrasts

Any help or comment appreciated.

Since we are not in the mailing list yet, please cc your reply to
volker.franz at tuebingen.mpg.de.

Thanks, Volker

-- 
___________________________________________________________

    Volker Franz
    Max-Planck-Institut fuer biologische Kybernetik
    Spemannstr. 38 
    72076 Tuebingen 
    Tel   : ++49 (0)7071/601-606 
    Fax   : ++49 (0)7071/601-616 
    mailto:volker.franz at tuebingen.mpg.de
    http://www.kyb.tuebingen.mpg.de/bu
___________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct 13 16:55:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Oct 2000 15:55:48 +0100 (BST)
Subject: [R] Random factor ANOVA, Repeated measures ANOVA, Within subjects
 designs.
In-Reply-To: <14823.5121.601841.618269@olive.kyb.tuebingen.mpg.de>
Message-ID: <Pine.GSO.4.05.10010131551300.19594-100000@toucan.stats>

On Fri, 13 Oct 2000, Volker Franz wrote:

> Hi,
> 
> we are just about to evaluate R as a standard statistics package for
> our institute. We looked around the help - manual, the FAQ, etc. and
> did not find anything for the topics of random factors in ANOVA,
> repeated measures in ANOVA, or within subjects designs in R.
> 
> Could anyone point us to any information concerning
> 
>    - univariate approach to repeated measures anova
>    - multivariate approach to repeated measures anova
>    - mixed designs
>    - Greenhouse-Geisser epsilon correction
>    - Newman-Keuls contrasts
>    - LSR contrasts
>    - Tukey contrasts
>    - Scheffe contrasts
> 
> Any help or comment appreciated.

Well, the last four are methods for multiple comparisons, not themselves
contrasts!   R is a tool within which all of these can be done and
most have been, but it is not a `standard statistics package' and
it does not come pre-packaged for particular fields.

Try looking at the help for aov and the references to its S antecedent.
It's much more powerful than `aov' might suggest to a non-statistician.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Oct 13 17:11:38 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 13 Oct 2000 11:11:38 -0400 (EDT)
Subject: [R] Random factor ANOVA, Repeated measures ANOVA, Within subjects designs.
Message-ID: <200010131511.LAA12313@cattell.psych.upenn.edu>

Could anyone point us to any information concerning

   - univariate approach to repeated measures anova
   - multivariate approach to repeated measures anova
   - mixed designs
   - Greenhouse-Geisser epsilon correction
   - Newman-Keuls contrasts
   - LSR contrasts
   - Tukey contrasts
   - Scheffe contrasts

---------------

Repeated measures are, in fact, dealt with in Venables and
Ripley, and Chambers and Hastie, and what they say seems to apply
fully (or almost fully) to R.  Probably that is true of some of
your other topics too.  See also the brief list of S-Plus soruces
in http://www.psych.upenn.edu/links.html#stats

But because repeated measures are so common in psychology, we
have dealt with them a bit more extensively in our notes:
http://www.psych.upenn.edu/~baron/rpsych.pdf (or rpsych.htm, if
you prefer), and we plan to add some additional material soon
concerning Error(), which is essential for repeated measures and
mixed designs.


Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Fri Oct 13 18:59:07 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Fri, 13 Oct 2000 17:59:07 +0100 (BST)
Subject: [R] Ridge analysis
Message-ID: <200010131659.RAA29121@achill.nmrc.ucc.ie>

Hi,

I would like to use Ridge Analysis to model some data that I have. Are there any 
functions in R which will perform this task.

Thanks in Advance,
Dermot MacSweeney


**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Fri Oct 13 18:55:00 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Fri, 13 Oct 2000 18:55:00 +0200
Subject: [R] Random factor ANOVA, Repeated measures ANOVA, Within subjects designs.
In-Reply-To: <14823.5121.601841.618269@olive.kyb.tuebingen.mpg.de>
References: <14823.5121.601841.618269@olive.kyb.tuebingen.mpg.de>
Message-ID: <00101319024103.01544@ligarto>

You might want to take a look at the nlme (linear and non-linear mixed effects
models) package; the book by Pinheiro & Bates (2000) "Mixed-effects models
in S and S-Plus", published by Springer, illustrates extensively the use of that
package, including several examples of 'repeated measures' and
within-subjects designs.

Ramon


On Fri, 13 Oct 2000, Volker Franz wrote:
> Hi,
> 
> we are just about to evaluate R as a standard statistics package for
> our institute. We looked around the help - manual, the FAQ, etc. and
> did not find anything for the topics of random factors in ANOVA,
> repeated measures in ANOVA, or within subjects designs in R.
> 
> Could anyone point us to any information concerning
> 
>    - univariate approach to repeated measures anova
>    - multivariate approach to repeated measures anova
>    - mixed designs
>    - Greenhouse-Geisser epsilon correction
>    - Newman-Keuls contrasts
>    - LSR contrasts
>    - Tukey contrasts
>    - Scheffe contrasts
> 
> Any help or comment appreciated.
> 
> Since we are not in the mailing list yet, please cc your reply to
> volker.franz at tuebingen.mpg.de.
> 
> Thanks, Volker
> 
> -- 
> ___________________________________________________________
> 
>     Volker Franz
>     Max-Planck-Institut fuer biologische Kybernetik
>     Spemannstr. 38 
>     72076 Tuebingen 
>     Tel   : ++49 (0)7071/601-606 
>     Fax   : ++49 (0)7071/601-616 
>     mailto:volker.franz at tuebingen.mpg.de
>     http://www.kyb.tuebingen.mpg.de/bu
> ___________________________________________________________
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Ramón Díaz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From volker.franz at tuebingen.mpg.de  Fri Oct 13 19:43:54 2000
From: volker.franz at tuebingen.mpg.de (Volker Franz)
Date: Fri, 13 Oct 2000 19:43:54 +0200
Subject: [R] Random factor ANOVA, Repeated measures ANOVA, Within subjects designs.
In-Reply-To: <200010131511.LAA12313@cattell.psych.upenn.edu>
References: <200010131511.LAA12313@cattell.psych.upenn.edu>
Message-ID: <14823.18906.336647.853092@lettuce.kyb.tuebingen.mpg.de>

Thank you very much for your quick replies!!! We just looked through:

http://www.psych.upenn.edu/~baron/rpsych.pdf

and also ran a (first) repeated measures ANOVA, and this all looks
very encouraging.

Volker

-- 
___________________________________________________________

    Volker Franz
    Max-Planck-Institut fuer biologische Kybernetik
    Spemannstr. 38 
    72076 Tuebingen 
    Tel   : ++49 (0)7071/601-606 
    Fax   : ++49 (0)7071/601-616 
    mailto:volker.franz at tuebingen.mpg.de
    http://www.kyb.tuebingen.mpg.de/bu
___________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patfoley at csus.edu  Fri Oct 13 21:26:33 2000
From: patfoley at csus.edu (Patrick Foley)
Date: Fri, 13 Oct 2000 12:26:33 -0700
Subject: [R] Random factor ANOVA, Repeated measures ANOVA,
 Within subjects designs.
References: <14823.5121.601841.618269@olive.kyb.tuebingen.mpg.de>
Message-ID: <39E761E9.F33D07A2@csus.edu>

Some of what you want may be found in the nlme package by Pinheiro and Bates. See
this site
http://cm.bell-labs.com/cm/ms/departments/sia/project/nlme/
In their recent book on mixed-effects models, they state that they wrote it for
versions of S including R, but I haven't tested that. Some of their package uses
Trellis graphics, not implemented in R.

Patrick Foley
patfoley at csus.edu

Volker Franz wrote:

> Hi,
>
> we are just about to evaluate R as a standard statistics package for
> our institute. We looked around the help - manual, the FAQ, etc. and
> did not find anything for the topics of random factors in ANOVA,
> repeated measures in ANOVA, or within subjects designs in R.
>
> Could anyone point us to any information concerning
>
>    - univariate approach to repeated measures anova
>    - multivariate approach to repeated measures anova
>    - mixed designs
>    - Greenhouse-Geisser epsilon correction
>    - Newman-Keuls contrasts
>    - LSR contrasts
>    - Tukey contrasts
>    - Scheffe contrasts
>
> Any help or comment appreciated.
>
> Since we are not in the mailing list yet, please cc your reply to
> volker.franz at tuebingen.mpg.de.
>
> Thanks, Volker
>
> --
> ___________________________________________________________
>
>     Volker Franz
>     Max-Planck-Institut fuer biologische Kybernetik
>     Spemannstr. 38
>     72076 Tuebingen
>     Tel   : ++49 (0)7071/601-606
>     Fax   : ++49 (0)7071/601-616
>     mailto:volker.franz at tuebingen.mpg.de
>     http://www.kyb.tuebingen.mpg.de/bu
> ___________________________________________________________
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Sat Oct 14 20:31:09 2000
From: niels.waller at home.com (niels Waller)
Date: Sat, 14 Oct 2000 11:31:09 -0700
Subject: No subject
Message-ID: <NCBBKMNKKMFCIGDCHLDOGECHCDAA.niels.waller@home.com>




Dear colleagues,

I suspect there is a simple answer to this question -- but I cannot find it.

Suppose I have a list of matrices.  I want to pull out an element (such as
row 1, col 2) from each matrix.  Do I need a loop to do this? Or is there an
easy way to index this?

Let Z denote the list of matrices.  All matrices have the same order.  I
want something like
  Z[[.]][1,2]     (which of course will not work, but you get the idea)


Thanks for any and all tips,

Niels Waller
Professor of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University

niels.waller at vanderbilt.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 14 19:26:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Oct 2000 18:26:12 +0100 (BST)
Subject: [R] Re:  I want to pull out an element from each of a list of matrices
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOGECHCDAA.niels.waller@home.com>
Message-ID: <Pine.GSO.4.05.10010141824170.14367-100000@auk.stats>

On Sat, 14 Oct 2000, niels Waller wrote:

> Dear colleagues,
> 
> I suspect there is a simple answer to this question -- but I cannot find it.
> 
> Suppose I have a list of matrices.  I want to pull out an element (such as
> row 1, col 2) from each matrix.  Do I need a loop to do this? Or is there an
> easy way to index this?
> 
> Let Z denote the list of matrices.  All matrices have the same order.  I
> want something like
>   Z[[.]][1,2]     (which of course will not work, but you get the idea)

lapply(Z, function(x) x[1,2])

should do this, giving a list.  Use sapply if you want a vector.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Oct 14 19:28:42 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 14 Oct 2000 10:28:42 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOGECHCDAA.niels.waller@home.com>
Message-ID: <Pine.GSO.4.21.0010141027090.8218-100000@atlas.biostat.washington.edu>

On Sat, 14 Oct 2000, niels Waller wrote:

> 
> 
> 
> Dear colleagues,
> 
> I suspect there is a simple answer to this question -- but I cannot find it.
> 
> Suppose I have a list of matrices.  I want to pull out an element (such as
> row 1, col 2) from each matrix.  Do I need a loop to do this? Or is there an
> easy way to index this?
> 
> Let Z denote the list of matrices.  All matrices have the same order.  I
> want something like
>   Z[[.]][1,2]     (which of course will not work, but you get the idea)
> 

  lapply(Z,function(zi) zi[1,2])

will work. You may want to wrap this in unlist() to get a vector instead
of a list.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dick at b6ori1.bauv.unibw-muenchen.de  Sat Oct 14 21:57:18 2000
From: dick at b6ori1.bauv.unibw-muenchen.de (Thomas Dick)
Date: Sat, 14 Oct 2000 19:57:18 +0000
Subject: [R] using DLLs with R
Message-ID: <1001014195718.ZM78986@B6ori1>

Hi,

i tried to build a dll, that i want to use with R, so I wrote the Fortran Code
and built the dll with MS Fortran Powerstation. In every subroutine I want to
export I wrote a statement like this:

       interface
!ms$attributes dllexport :: abc
!ms$attributes alias:'abc' :: abc
       end interface

abc is the name of the subroutine i want to export.

Then i compiled the file using:

  fl32 /LD test.f

The Fortran Compiler didn't produce any error or warning and produced a file
test.dll.

In R I type
dyn.load("test.dll")

R didn't produce any error too, but when I type
.Fortran("abc")

R says "function name not in load table".

Does anyone know what's going wrong or how to solve the problem?

Thank you,
Thomas Dick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Oct 14 20:36:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Oct 2000 20:36:27 +0200
Subject: [R] Re: your mail
In-Reply-To: Thomas Lumley's message of "Sat, 14 Oct 2000 10:28:42 -0700 (PDT)"
References: <Pine.GSO.4.21.0010141027090.8218-100000@atlas.biostat.washington.edu>
Message-ID: <x2k8bb6zis.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

>   lapply(Z,function(zi) zi[1,2])
> 
> will work. You may want to wrap this in unlist() to get a vector instead
> of a list.

Or:

sapply(Z, "[", 1, 2)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Sat Oct 14 20:33:17 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Sat, 14 Oct 2000 19:33:17 +0100 (BST)
Subject: [R] Access to calculations in nls
Message-ID: <200010141833.TAA00748@achill.nmrc.ucc.ie>

Hi,

I would like to be able to access the calculated results from the nls package. 
Using the example in R, fm3DNase1 we can reurn certain parts of the 
calculations:

> coef(fm3DNase1)
    Asym     xmid     scal 
2.345179 1.483089 1.041454 

> resid(fm3DNase1)
 [1] -0.0136806237 -0.0126806237  0.0089488569  0.0119488569 -0.0025803222
 [6]  0.0064196778  0.0026723396 -0.0003276604 -0.0187778127 -0.0237778127
[11]  0.0381369952  0.0201369952 -0.0335131004 -0.0035131004  0.0150122651
[16] -0.0049877349
attr(,"label")
[1] "Residuals"

What I would like to be able to return are the Std. Errors shown with the 
Parameter estimates below. Is there a command such as stderr(fm3DNase1) that 
would return:

[1] 0.07815 	0.08135		0.03227

> summary(fm3DNase1)

Formula: density ~ Asym/(1 + exp((xmid - log(conc))/scal))

Parameters:
     Estimate Std. Error t value Pr(>|t|)    
Asym  2.34518    0.07815   30.01 2.16e-13 ***
xmid  1.48309    0.08135   18.23 1.22e-10 ***
scal  1.04145    0.03227   32.27 8.50e-14 ***
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

Residual standard error: 0.01919 on 13 degrees of freedom

Correlation of Parameter Estimates:
       Asym   xmid
xmid 0.9868       
scal 0.9008 0.9063

Thanks in Advance,

Dermot MacSweeney.

**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 14 22:18:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Oct 2000 21:18:51 +0100 (BST)
Subject: [R] Access to calculations in nls
In-Reply-To: <200010141833.TAA00748@achill.nmrc.ucc.ie>
Message-ID: <Pine.GSO.4.05.10010142113160.14682-100000@auk.stats>

On Sat, 14 Oct 2000, Dermot MacSweeney wrote:

> Hi,
> 
> I would like to be able to access the calculated results from the nls package. 
> Using the example in R, fm3DNase1 we can reurn certain parts of the 
> calculations:
> 
> > coef(fm3DNase1)
>     Asym     xmid     scal 
> 2.345179 1.483089 1.041454 
> 
> > resid(fm3DNase1)
>  [1] -0.0136806237 -0.0126806237  0.0089488569  0.0119488569 -0.0025803222
>  [6]  0.0064196778  0.0026723396 -0.0003276604 -0.0187778127 -0.0237778127
> [11]  0.0381369952  0.0201369952 -0.0335131004 -0.0035131004  0.0150122651
> [16] -0.0049877349
> attr(,"label")
> [1] "Residuals"
> 
> What I would like to be able to return are the Std. Errors shown with the 
> Parameter estimates below. Is there a command such as stderr(fm3DNase1) that 
> would return:
> 
> [1] 0.07815 	0.08135		0.03227

No, but summary itself returns them.  By convention summary methods
create a new object of class print.summary.foo which is then auto-printed.
So you wanted

> summary(fm3DNase1)$parameters[, 2]
    Asym     xmid     scal 
0.078154 0.081353 0.032271 

(with names, or as.vector(...) if not).

As an aside, package MASS has a generic function vcov to pull out
variance-covariance estimates of coefficient estimates, so you can do
> vcov(fm3DNase1)
         Asym      xmid      scal
Asym 0.006108 0.0062740 0.0022720
xmid 0.006274 0.0066183 0.0023794
scal 0.002272 0.0023794 0.0010414

too.  As it's generic, it works for most fitted model objects.

> 
> > summary(fm3DNase1)
> 
> Formula: density ~ Asym/(1 + exp((xmid - log(conc))/scal))
> 
> Parameters:
>      Estimate Std. Error t value Pr(>|t|)    
> Asym  2.34518    0.07815   30.01 2.16e-13 ***
> xmid  1.48309    0.08135   18.23 1.22e-10 ***
> scal  1.04145    0.03227   32.27 8.50e-14 ***
> ---
> Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 
> 
> Residual standard error: 0.01919 on 13 degrees of freedom
> 
> Correlation of Parameter Estimates:
>        Asym   xmid
> xmid 0.9868       
> scal 0.9008 0.9063
> 
> Thanks in Advance,
> 
> Dermot MacSweeney.
> 
> **************************************************************
> 
> Dermot MacSweeney			NMRC, 
> Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
> Tel: +353 21 904178			Prospect Row, 
> Fax: +353 21 270271			Cork, 
> WWW: http://nmrc.ucc.ie			Ireland
> 
> **************************************************************
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Sat Oct 14 22:23:42 2000
From: rnassar at duke.edu (Rashid Nassar)
Date: Sat, 14 Oct 2000 16:23:42 -0400 (EDT)
Subject: [R] Access to calculations in nls
In-Reply-To: <200010141833.TAA00748@achill.nmrc.ucc.ie>
Message-ID: <Pine.SOL.3.91.1001014162205.29395A-100000@bio3.acpub.duke.edu>

I hope the following helps (and that it is correct!):

> names(summary(fm3DNase1))
[1] "formula"      "residuals"    "sigma"        "df"           
"cov.unscaled"
[6] "correlation"  "parameters"  

> summary(fm3DNase1)$sigma
[1] 0.01919449

> summary(fm3DNase1)$parameters
     Estimate Std. Error  t value     Pr(>|t|)
Asym 2.345179 0.07815378 30.00724 2.164935e-13
xmid 1.483089 0.08135307 18.23027 1.218523e-10
scal 1.041454 0.03227078 32.27237 8.504308e-14

# for the standard errors:

> summary(fm3DNase1)$parameters[,2]
      Asym       xmid       scal 
0.07815378 0.08135307 0.03227078 

Rashid Nassar



On Sat, 14 Oct 2000, Dermot MacSweeney wrote:

> Date: Sat, 14 Oct 2000 19:33:17 +0100 (BST)
> From: Dermot MacSweeney <dsweeney at nmrc.ucc.ie>
> To: r-help at stat.math.ethz.ch
> Subject: [R] Access to calculations in nls
> 
> Hi,
> 
> I would like to be able to access the calculated results from the nls package. 
> Using the example in R, fm3DNase1 we can reurn certain parts of the 
> calculations:
> 
> > coef(fm3DNase1)
>     Asym     xmid     scal 
> 2.345179 1.483089 1.041454 
> 
> > resid(fm3DNase1)
>  [1] -0.0136806237 -0.0126806237  0.0089488569  0.0119488569 -0.0025803222
>  [6]  0.0064196778  0.0026723396 -0.0003276604 -0.0187778127 -0.0237778127
> [11]  0.0381369952  0.0201369952 -0.0335131004 -0.0035131004  0.0150122651
> [16] -0.0049877349
> attr(,"label")
> [1] "Residuals"
> 
> What I would like to be able to return are the Std. Errors shown with the 
> Parameter estimates below. Is there a command such as stderr(fm3DNase1) that 
> would return:
> 
> [1] 0.07815 	0.08135		0.03227
> 
> > summary(fm3DNase1)
> 
> Formula: density ~ Asym/(1 + exp((xmid - log(conc))/scal))
> 
> Parameters:
>      Estimate Std. Error t value Pr(>|t|)    
> Asym  2.34518    0.07815   30.01 2.16e-13 ***
> xmid  1.48309    0.08135   18.23 1.22e-10 ***
> scal  1.04145    0.03227   32.27 8.50e-14 ***
> ---
> Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 
> 
> Residual standard error: 0.01919 on 13 degrees of freedom
> 
> Correlation of Parameter Estimates:
>        Asym   xmid
> xmid 0.9868       
> scal 0.9008 0.9063
> 
> Thanks in Advance,
> 
> Dermot MacSweeney.
> 
> **************************************************************
> 
> Dermot MacSweeney			NMRC, 
> Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
> Tel: +353 21 904178			Prospect Row, 
> Fax: +353 21 270271			Cork, 
> WWW: http://nmrc.ucc.ie			Ireland
> 
> **************************************************************
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 14 22:44:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Oct 2000 21:44:20 +0100 (BST)
Subject: [R] documentation is there to be read (was using DLLs with R)
In-Reply-To: <1001014195718.ZM78986@B6ori1>
Message-ID: <Pine.GSO.4.05.10010142119130.14682-100000@auk.stats>

On Sat, 14 Oct 2000, Thomas Dick wrote:

> i tried to build a dll, that i want to use with R, so I wrote the Fortran Code
> and built the dll with MS Fortran Powerstation. In every subroutine I want to
> export I wrote a statement like this:
> 
>        interface
> !ms$attributes dllexport :: abc
> !ms$attributes alias:'abc' :: abc
>        end interface
> 
> abc is the name of the subroutine i want to export.
> 
> Then i compiled the file using:
> 
>   fl32 /LD test.f
> 
> The Fortran Compiler didn't produce any error or warning and produced a file
> test.dll.
> 
> In R I type
> dyn.load("test.dll")
> 
> R didn't produce any error too, but when I type
> .Fortran("abc")
> 
> R says "function name not in load table".
> 
> Does anyone know what's going wrong or how to solve the problem?

Probably.  In short, it seems you haven't tried reading the documentation.  
So the solution is to either use the preferred compiler or to read the
documentation and figure out how to use yours.

I suggest you start with readme.packages in rw1011sp.zip and the section on
`Using other compilers and languages'.  There is one crucial point you have
overlooked, which is *not* to use .Fortran.  Simple, really, but while you
are practising your reading skills there is a lot more information on this
in the R distribution and even more in Venables & Ripley (2000) `S
Programming'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cafa at cin.ufpe.br  Sat Oct 14 23:20:53 2000
From: cafa at cin.ufpe.br (Cesar Augusto de Freitas Anselmo)
Date: Sat, 14 Oct 2000 19:20:53 -0200 (EDT)
Subject: [R] splines question
Message-ID: <Pine.GSO.4.02.10010141917080.17971-100000@paulista>

I have a problem there is at least three months. I need to modify some
characteristics of the natural cubic splines and, for that, to
have access to the source code. Only that in R I end up finishing
in packed functions. Could anybody order it to me the source code or the
algorithm, please?

Thankul

========================================================================
C?zar de Freitas
Depto. de Estat?stica - UFPE
Recife - Pernambuco - Brasil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Oct 15 11:09:44 2000
From: gb at stat.umu.se (gb)
Date: Sun, 15 Oct 2000 11:09:44 +0200 (CEST)
Subject: [R] splines question
In-Reply-To: <Pine.GSO.4.02.10010141917080.17971-100000@paulista>
Message-ID: <Pine.LNX.4.21.0010151057540.29904-100000@pc32.poljus.umu.se>

On Sat, 14 Oct 2000, Cesar Augusto de Freitas Anselmo wrote:

> I have a problem there is at least three months. I need to modify some
> characteristics of the natural cubic splines and, for that, to
> have access to the source code. Only that in R I end up finishing
> in packed functions. Could anybody order it to me the source code or the
> algorithm, please?

You can find the sources at the CRAN home page, 
http://cran.r-project.org (or a suitable mirror site)
Download and unpack R-1.1.1.tgz and look in 
R-1.1.1/src/library/splines/

 G?ran

> Thankul
> 
> ========================================================================
> C?zar de Freitas
> Depto. de Estat?stica - UFPE
> Recife - Pernambuco - Brasil
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Professor of Statistics             fax: +46 90 786 6614
 Ume? University
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun Oct 15 20:30:27 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Mon, 16 Oct 2000 04:30:27 +1000
Subject: [R] Re:  I want to pull out an element from each of a list
  of matrices
Message-ID: <3.0.32.20001016043021.012b4c40@pophost.nsw.cmis.csiro.au>

At 18:26 14/10/00 +0100, Prof Brian D Ripley wrote:
>On Sat, 14 Oct 2000, niels Waller wrote:
>
>> Dear colleagues,
>> 
>> I suspect there is a simple answer to this question -- but I cannot find
it.
>> 
>> Suppose I have a list of matrices.  I want to pull out an element (such as
>> row 1, col 2) from each matrix.  Do I need a loop to do this? Or is
there an
>> easy way to index this?
>> 
>> Let Z denote the list of matrices.  All matrices have the same order.  I
>> want something like
>>   Z[[.]][1,2]     (which of course will not work, but you get the idea)
>
>lapply(Z, function(x) x[1,2])

or

	lapply(Z, "[", 1, 2)

if you want to use the extractor function directly.  unlist() the result
for a vector of results.

>
>should do this, giving a list.  Use sapply if you want a vector.
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
--
Bill Venables, Statistician                         Tel. +61 7 3826 7251 
CSIRO Marine Laboratories,                          Fax. +61 7 3826 7304
Cleveland, Qld, 4163                  Email: Bill.Venables at cmis.csiro.au
AUSTRALIA                        http://www.cmis.csiro.au/bill.venables/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Oct 15 22:00:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 15 Oct 2000 21:00:13 +0100 (BST)
Subject: [R] Re:  I want to pull out an element from each of a list  of
 matrices
In-Reply-To: <3.0.32.20001016043021.012b4c40@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.GSO.4.05.10010152051050.11196-100000@auk.stats>

On Mon, 16 Oct 2000, Bill Venables wrote:

> At 18:26 14/10/00 +0100, Prof Brian D Ripley wrote:
> >On Sat, 14 Oct 2000, niels Waller wrote:
> >
> >> Dear colleagues,
> >> 
> >> I suspect there is a simple answer to this question -- but I cannot find
> it.
> >> 
> >> Suppose I have a list of matrices.  I want to pull out an element (such as
> >> row 1, col 2) from each matrix.  Do I need a loop to do this? Or is
> there an
> >> easy way to index this?
> >> 
> >> Let Z denote the list of matrices.  All matrices have the same order.  I
> >> want something like
> >>   Z[[.]][1,2]     (which of course will not work, but you get the idea)
> >
> >lapply(Z, function(x) x[1,2])
> 
> or
> 
> 	lapply(Z, "[", 1, 2)
> 
> if you want to use the extractor function directly.  unlist() the result
> for a vector of results.

Yes, Peter D also said that.  BUT there is a bug in the current R
which means that the two are different, and the one I gave is I believe
more often correct. The difference only arises if the elements of Z have
classes, which they probably do not but we weren't told.  (Method dispatch
on primitives was only working if called by name, and lapply does not do
so: thanks to Luke Tierney for tracking the cause down.)  For R-devel the
two should be the same, and certainly are in my examples.

For unlist(lapply()) vs sapply: rumour has it the first is faster but I've
never seen convincing evidence under R and the second is certainly safer
and more powerful and easier to read in code.  So it was a deliberate
decision to choose the variants I did.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nroberts at wehi.EDU.AU  Mon Oct 16 05:58:00 2000
From: nroberts at wehi.EDU.AU (Natalie Roberts)
Date: Mon, 16 Oct 2000 14:58:00 +1100 (EST)
Subject: [R] renaming an object
Message-ID: <Pine.GSO.4.10.10010161428580.26026-100000@unix12.wehi.edu.au>


Say I have a file called exp.batch which contains 2 cols
The first col contains names of R objects the user would like to use.
The second col contains the file names which will be read in using
read.table
i.e. exp.batch may look like this.....

name1	complex/filename/path1.txt
name2   complex/filename/path2.txt
name3	complex/filename/path3.txt
name4   complex/filename/path4.txt

I want to have a function which will read in the files and make them into
the objects named in the 1st column - automatically (by just providing
exp.batch)

for(i in 1:nrow(exp.batch)){
tmp<-read.table(as.name(exp.batch[i,2]),...)
##
##But now I really want tmp to be   as.name(exp.batch[i,1])???
## so that I can call the data from complex/filename/path1.txt
## by typing name1 
}
In  the end I should have objects name1, name2, name3, name4
which are the names stored in the 1st column of exp.batch

The basic idea is having to avoid typing out all this!

name1<-read.table("file1",....)
name2<-read.table("file2",....)
..
..
..
nameN<-read.table("fileN",...)

Does anyone have any suggestions?

Thanks in advance,

Natalie


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 16 08:15:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Oct 2000 07:15:10 +0100 (BST)
Subject: [R] renaming an object
In-Reply-To: <Pine.GSO.4.10.10010161428580.26026-100000@unix12.wehi.edu.au>
Message-ID: <Pine.GSO.4.05.10010160702580.11445-100000@auk.stats>

On Mon, 16 Oct 2000, Natalie Roberts wrote:

> Say I have a file called exp.batch which contains 2 cols
> The first col contains names of R objects the user would like to use.
> The second col contains the file names which will be read in using
> read.table
> i.e. exp.batch may look like this.....
> 
> name1	complex/filename/path1.txt
> name2   complex/filename/path2.txt
> name3	complex/filename/path3.txt
> name4   complex/filename/path4.txt
> 
> I want to have a function which will read in the files and make them into
> the objects named in the 1st column - automatically (by just providing
> exp.batch)
> 
> for(i in 1:nrow(exp.batch)){
> tmp<-read.table(as.name(exp.batch[i,2]),...)
> ##
> ##But now I really want tmp to be   as.name(exp.batch[i,1])???
> ## so that I can call the data from complex/filename/path1.txt
> ## by typing name1 
> }
> In  the end I should have objects name1, name2, name3, name4
> which are the names stored in the 1st column of exp.batch
> 
> The basic idea is having to avoid typing out all this!
> 
> name1<-read.table("file1",....)
> name2<-read.table("file2",....)
> ..
> ..
> ..
> nameN<-read.table("fileN",...)
> 
> Does anyone have any suggestions?

You said exp.batch was a file and you treat it as a matrix/data frame,
so I will assume that if the first you have read it into the second
by, say,

exp.batch <- matrix(scan("exp.batch"), ncol=2, byrow=TRUE)

Then use

for(i in 1:nrow(exp.batch)) 
   assign(exp.batch[i,1], read.table(exp.batch[i,2]))

You don't want as.name: the argument of read.table is a character vector.

Reminder: get and assign are effectively the underlying functions for <-,
and they do work with character strings.  Use assign for the lhs and get
for the rhs.

I can recommend a good book on things like this: see the documentation
section on CRAN.   As ever with the S language there are other ways to do
it (but that's the Perl mantra).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Oct 16 08:39:43 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 16 Oct 2000 08:39:43 +0200 (CEST)
Subject: [R] renaming an object
In-Reply-To: <Pine.GSO.4.10.10010161428580.26026-100000@unix12.wehi.edu.au>
Message-ID: <Pine.LNX.4.21.0010160837220.14145-100000@artemis.imbe.med.uni-erlangen.de>


> 
> Say I have a file called exp.batch which contains 2 cols
> The first col contains names of R objects the user would like to use.
> The second col contains the file names which will be read in using
> read.table
> i.e. exp.batch may look like this.....
> 
> name1	complex/filename/path1.txt
> name2   complex/filename/path2.txt
> name3	complex/filename/path3.txt
> name4   complex/filename/path4.txt
> 
> I want to have a function which will read in the files and make them into
> the objects named in the 1st column - automatically (by just providing
> exp.batch)
> 

for the setup above (a simple numbering of files) I would use paste:

datname <- paste("name", 1:4, sep="")
filename <- paste("mypath/file", 1:4, sep="")
data <- list()                        
for (i in filename)
        data <- c(data, read.table(file=i))
names(data) <- datname                               

data$name1 gives access to the data of file "file1"

Torsten 

> for(i in 1:nrow(exp.batch)){
> tmp<-read.table(as.name(exp.batch[i,2]),...)
> ##
> ##But now I really want tmp to be   as.name(exp.batch[i,1])???
> ## so that I can call the data from complex/filename/path1.txt
> ## by typing name1 
> }
> In  the end I should have objects name1, name2, name3, name4
> which are the names stored in the 1st column of exp.batch
> 
> The basic idea is having to avoid typing out all this!
> 
> name1<-read.table("file1",....)
> name2<-read.table("file2",....)
> ..
> ..
> ..
> nameN<-read.table("fileN",...)
> 
> Does anyone have any suggestions?
> 
> Thanks in advance,
> 
> Natalie
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Mon Oct 16 11:45:09 2000
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Mon, 16 Oct 2000 11:45:09 +0200
Subject: [R] Crash while R111 install
Message-ID: <39EACE25.B674E130@ifp.fr>

Hello,

I try to install the R111 version for few days on my PC (on Windows NT),
and every time the same problem :
I start the rwin.exe application and a couple of seconds later, the
install failed, and my PC is down. I must then swich it
down and restart a new session.
If someone has some help ...

Thanks



--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001016/ec74a4d5/attachment.html

From ripley at stats.ox.ac.uk  Mon Oct 16 12:00:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Oct 2000 11:00:58 +0100 (BST)
Subject: [R] Crash while R111 install
Message-ID: <200010161000.LAA22972@toucan.stats.ox.ac.uk>


> Date: Mon, 16 Oct 2000 11:45:09 +0200
> From: isabelle Zabalza-Mezghani <isabelle.zabalza-mezghani at ifp.fr>
> X-Accept-Language: en
> To: mailingr <r-help at stat.math.ethz.ch>
> Subject: [R] Crash while R111 install
> 
> Hello,
> 
> I try to install the R111 version for few days on my PC (on Windows NT),

R version 1.1.1 or rw1011, I guess.

> and every time the same problem :
> I start the rwin.exe application and a couple of seconds later, the

What's rwin.exe?  Do you mean rwinst.exe?  That does work on lots
of NT installations, but if you go back to the Web page you will
find instructions for manual installation in the file ReadMe.rw1011.

> install failed, and my PC is down. I must then swich it
> down and restart a new session.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Z.Barta at bristol.ac.uk  Mon Oct 16 14:43:40 2000
From: Z.Barta at bristol.ac.uk (Zoltan Barta)
Date: Mon, 16 Oct 2000 13:43:40 +0100 (GMT Daylight Time)
Subject: [R] Crash while R111 install
In-Reply-To: <39EACE25.B674E130@ifp.fr>
Message-ID: <SIMEON.10010161340.G@maths-pc80.bristol.ac.uk>


On Mon, 16 Oct 2000 11:45:09 +0200 isabelle Zabalza-Mezghani 
<isabelle.zabalza-mezghani at ifp.fr> wrote:

> Hello,
> 
> I try to install the R111 version for few days on my PC (on Windows NT),
> and every time the same problem :
> I start the rwin.exe application and a couple of seconds later, the
> install failed, and my PC is down. I must then swich it
> down and restart a new session.
> If someone has some help ...

I had similar problems with installing R 1.1.1 on an NT machine. It 
turned out that the virus check program caused the problem. So 
turning off the virus check during installation would probably help. 
If you are not a system administrator and so you cannot turn off the 
virus checker try to install R manually but then DO NOT unpack 
`zero.dll' from the archive `rw1011b1'. Since `zero.dll' is in the 
demo folder, I guess this does not influence the way R works. At 
least it worked for me.

Zoltan Barta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Mon Oct 16 15:02:35 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Mon, 16 Oct 2000 08:02:35 -0500 (CDT)
Subject: [R] libraries
Message-ID: <Pine.SOL.3.96.1001016075754.12847C-100000@ysidro>

I'm having difficulties loading a new package I've been developing on
a redhat system -- things go smoothly on our Suse and Solaris systems.
I'm hoping that someone can suggest where the symbol z_abs might be
lost and/or how to find it.  I've installed redhats blas library, but
apparently it needs other stuff.  

> library("rq.inference")
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library 
"/usr/local/lib/R/library/rq.inference/libs/rq.inference.so":
  /usr/lib/libblas.so.2: undefined symbol: z_abs
>



url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Mon Oct 16 15:05:42 2000
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 16 Oct 2000 14:05:42 +0100
Subject: [R] R 1.1.1 slow to launch
Message-ID: <dgkpul1rl5l.fsf@scs2.ncl.ac.uk>

I have installed my own version of R1.1.1 under my home area.(the
system version being 0.90) but I been having problems launching R
especially with large .RData files.

 For example starting R in a directory with a 1.7M RData file
puts a heavy load on the CPU and disk and after 10 minutes I
kill the job with ^C a message says 

R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.


Fatal error: unable to restore saved data
 (remove .RData or increase memory


If I try with R --vsize 30M, it does the same with perhaps extra
thrashing of the disk.

I am running Debian Linux 2.2.17 on an intel PC with 80M of RAM.

Is there any thing I can check to help sort this problem?  I didn't
have the problem with the older version of R.

Thanks
Ross Darnell
-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Tue Oct 17 03:06:07 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Mon, 16 Oct 2000 15:06:07 -1000
Subject: [R] R for Debian 2.2
Message-ID: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>

I've recently installed Debian/GNU Linux 2.2. The R package on the debian
website and Official CD is 0.90.x, so I checked cran for a more recent deb
package, with the following result.

homebrew:~# apt-get install r-base
Reading Package Lists... Done
Building Dependency Tree... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.

Since you only requested a single operation it is extremely likely 
that the package is simply not installable and a bug report against
that package should be filed.

The following information may help to resolve the situation:

Sorry, but the following packages have unmet dependencies:
  r-base: Depends: atlas2 but it is not installable
          Depends: tk8.0 (>= 8.0.5) but it is not installable
E: Sorry, broken packages

Can someone tell me if this is a problem with the deb package on cran or
some problem of mine? I've frequently used apt-get in the past (though not
for R) and had no problems.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Tue Oct 17 08:42:35 2000
From: bhm at math.uio.no (=?iso-8859-1?q?Bj=F8rn-Helge_Mevik?=)
Date: 17 Oct 2000 08:42:35 +0200
Subject: [R] R for Debian 2.2
In-Reply-To: Griffith Feeney's message of "Mon, 16 Oct 2000 15:06:07 -1000"
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
Message-ID: <s3sd7h0m0is.fsf@janus.uio.no>


> Can someone tell me if this is a problem with the deb package on cran or
> some problem of mine? I've frequently used apt-get in the past (though not
> for R) and had no problems.

I have recently installed the R 1.1.1 from the deb-package on cran (on
Debian 2.2) so I don't think there is a problem with the deb-package.  I
didn't use apt-get, though; I downloaded the r-base-foo.deb manually and
installed with dpkg.  The atlas2 and other packages that r-base depended
on, I installed with dselect.  I encountered no problems during the process.

-- 
B/H
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vikasdutta at hotmail.com  Tue Oct 17 08:47:55 2000
From: vikasdutta at hotmail.com (VIKAS DUTTA)
Date: Tue, 17 Oct 2000 12:17:55 +0530
Subject: [R] data entry work
Message-ID: <LPBBLFHJPNBHPIOIHDDIIEAECAAA.vikasdutta@hotmail.com>

: I'm very interested in receiving information on Typist/Data Entry jobs to
work from home. I have 5 years experience in data entry and I am having 3
Pcs with three operators. I am also having Laser, Inkjet and Dot Matrix
Printers and Internet access, an e-mail address. We type 55-65 wpm, Please
send me information about this type of job at my e-mail address:
vikasdutta at hotmail.com. Thank you for your time.

: : : Quick Turnaround, Reasonable Rates, and error-free work GUARANTEED!


: : : : Sincerely,


: : : : Vikas


: : :



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Oct 17 10:05:27 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 17 Oct 2000 10:05:27 +0200
Subject: [R] R for Debian 2.2
Message-ID: <3.0.32.20001017100525.008fc100@162.38.183.200>

At 15:06 16/10/00 -1000, Griffith Feeney wrote:
>I've recently installed Debian/GNU Linux 2.2. The R package on the debian
>website and Official CD is 0.90.x, so I checked cran for a more recent deb
>package, with the following result.
>
>homebrew:~# apt-get install r-base
>Reading Package Lists... Done
>Building Dependency Tree... Done
>Some packages could not be installed. This may mean that you have
>requested an impossible situation or if you are using the unstable
>distribution that some required packages have not yet been created
>or been moved out of Incoming.
>
>Since you only requested a single operation it is extremely likely 
>that the package is simply not installable and a bug report against
>that package should be filed.
>
>The following information may help to resolve the situation:
>
>Sorry, but the following packages have unmet dependencies:
>  r-base: Depends: atlas2 but it is not installable
>          Depends: tk8.0 (>= 8.0.5) but it is not installable
>E: Sorry, broken packages
>
>Can someone tell me if this is a problem with the deb package on cran or
>some problem of mine? I've frequently used apt-get in the past (though not
>for R) and had no problems.
>

I have compiled R-1.2 (the development version) on Debian 2.2 on a PII, and
it went very smoothly. I guess it should be the same for R-1.1.1. You need
gcc and XFree86 (the versions distributed with Debian 2.2 are fine). I have
also tcl/tk installed, and the examples in R's demos run correctly.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Tue Oct 17 11:04:46 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 17 Oct 2000 10:04:46 +0100
Subject: [R] R for Debian 2.2
In-Reply-To: Griffith Feeney's message of "Mon, 16 Oct 2000 15:06:07 -1000"
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
Message-ID: <sziu2abyh1t.fsf@stats.mth.uea.ac.uk>

Griffith Feeney <gfeeney at hawaii.edu> writes:
> I've recently installed Debian/GNU Linux 2.2. The R package on the debian
> website and Official CD is 0.90.x, so I checked cran for a more recent deb
> package, with the following result.

Check debian's unstable collection for the packages you desire.  You
may need to move to unstable to use the latest R, or at least upgrade
some parts of your stable system manually.

Be aware that unstable tends to be just that and it's not a move to
take lightly.  It would be nicer if someone would build a package of
the latest R against debian-stable if possible and put that in CRAN.
(I can't as my statistics machines don't run debian any more.
Besides, I hate building debs.)
-- 
MJR
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Tue Oct 17 13:33:04 2000
From: eger.m at gmx.de (Marcus Eger)
Date: Tue, 17 Oct 2000 13:33:04 +0200
Subject: [R] R for Debian 2.2
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
Message-ID: <39EC38F0.40AF874E@gmx.de>

Griffith Feeney wrote:
> 
> I've recently installed Debian/GNU Linux 2.2. The R package on the debian
> website and Official CD is 0.90.x, so I checked cran for a more recent deb
> package, with the following result.
> 
> homebrew:~# apt-get install r-base
> <...>
> The following information may help to resolve the situation:
> 
> Sorry, but the following packages have unmet dependencies:
>   r-base: Depends: atlas2 but it is not installable
>           Depends: tk8.0 (>= 8.0.5) but it is not installable
> E: Sorry, broken packages
> 
> Can someone tell me if this is a problem with the deb package on cran or
> some problem of mine? I've frequently used apt-get in the past (though not
> for R) and had no problems.

I had the same or similar problem. I don't really remember what I did,
but
it's rather a debian problem. I think I did
apt-get install atlas2
and so on (I installed anew whatever made problems) and then it worked.

  Marcus

-- 
+-------------------------------------------------------
| Marcus Eger
+-------------------------------------------------------
| E-Mail:  eger.m at gmx.de (NEW)
|          marcus.eger at physik.uni-marburg.de (OLD)
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Oct 17 11:57:36 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 17 Oct 2000 10:57:36 +0100 (BST)
Subject: [R] filed plot symbols
Message-ID: <Pine.LNX.4.10.10010171050480.2805-100000@localhost.localdomain>

This example,

x<-1:10
y1<-x
y2<-x+2
plot(x,y1,pch=21,ylim=range(c(y1,y2)),type="o",lty="solid",bg="white")
points(x,y2,pch=22,type="o",lty="dashed",bg="white")
legend(7,3,legend=c("y1","y2"),pch=c(21,22),lty=c("solid","dashed"),bg="white")

works if I use pch = one of 21-25. But if I use pch= one of 0-6, it
doesn't work: the line goes through the empty symbols (instead of
the symbols appearing solid).

I was just curious why this is set up this way. Symbols 21-25 just seem to
repeat some others (e.g. 21 and 1 are both circles), except that the early
ones are not fillable with the bg="white" trick. I wonder why not just
remove the existing symbols 1-6 and replace them with the 21-25
counterparts. (There probably is a good reason why it is set as it is)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Tue Oct 17 14:07:43 2000
From: salwin at mitretek.org (Art Salwin)
Date: Tue, 17 Oct 2000 08:07:43 -0400
Subject: [R] Percentile function
Message-ID: <39EC410F.71F67D01@mitretek.org>

Is there an R function that inputs a value and a vector, and
returns the percentile corresponding to the value?  
Something like

pvalue<-function(x,vector){mean(x>=vector)} 

but with interpolation.

Given the above function, is there a way to do the following
without the loop:

for(i in 1:10) y[i] <- pvalue(x[i],vector)

where x and y are numeric vectors of length 10?
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 17 14:40:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Oct 2000 14:40:15 +0200
Subject: [R] Percentile function
In-Reply-To: Art Salwin's message of "Tue, 17 Oct 2000 08:07:43 -0400"
References: <39EC410F.71F67D01@mitretek.org>
Message-ID: <x2r95f4p5c.fsf@blueberry.kubism.ku.dk>

Art Salwin <salwin at mitretek.org> writes:

> Is there an R function that inputs a value and a vector, and
> returns the percentile corresponding to the value?  
> Something like
> 
> pvalue<-function(x,vector){mean(x>=vector)} 
> 
> but with interpolation.

That's essentially what quantile() does. Be aware though that the
definition it uses is that of the sum polygon, with the smallest
observation at 0% and the largest at 100% and the value at observation
point i being (i-1)*100%/(N-1). This is not quite the definition you
have and often not what people expect...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Oct 17 15:06:11 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 17 Oct 2000 09:06:11 -0400
Subject: [R] Cleaning things up?
Message-ID: <006301c0383b$066879b0$0201a8c0@Workgroup>

Hi,

I know it must be written somewhere but I can't find it.

I'd like to remove all variables or objects that I've created but not the
functions. I look at a few things without success. Is there a R way of doing
this? There are to many to create a manual list.

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Oct 17 15:33:54 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 17 Oct 2000 14:33:54 +0100 (BST)
Subject: [R] filled plot symbols
Message-ID: <Pine.LNX.4.10.10010171432460.3293-100000@localhost.localdomain>

I forgot to mention that the bg="white" trick works on the plot (making
the empty symbols opaque), but it does NOT work in the legend.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Oct 17 15:42:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Oct 2000 08:42:29 -0500
Subject: [R] R for Debian 2.2
In-Reply-To: MJ Ray's message of "17 Oct 2000 10:04:46 +0100"
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu> <sziu2abyh1t.fsf@stats.mth.uea.ac.uk>
Message-ID: <6rg0lva8je.fsf@franz.stat.wisc.edu>

MJ Ray <mjr at stats200.mth.uea.ac.uk> writes:

> Griffith Feeney <gfeeney at hawaii.edu> writes:
> > I've recently installed Debian/GNU Linux 2.2. The R package on the debian
> > website and Official CD is 0.90.x, so I checked cran for a more recent deb
> > package, with the following result.
> 
> Check debian's unstable collection for the packages you desire.  You
> may need to move to unstable to use the latest R, or at least upgrade
> some parts of your stable system manually.

Actually you don't need to do that.  Even the packages in the unstable
directory will get out of date as soon as the unstable directory is
frozen.  The problem is that there is usually a 6-month time lag and
often much longer between the time that a distribution is frozen and
the time it is released and I cannot upload packages based on new
upstream sources to the frozen distribution.  That is why the version
of r-base in Debian 2.2 is 0.90.1, which is ancient by R standards.

Griffith's original approach is now the preferred approach.  We store
Debian packages of recent versions of R for both the stable and
unstable distributions in the CRAN tree.  Thanks to Fritz Leisch and
Kurt Hornik those directories are now configured so the URL can be added to your
/etc/apt/sources.list file and you have direct access through apt.
The only thing that Griffith has to change is to add a standard
Debian archive for the main distribution in /etc/apt/sources.list.
apt will then detect that it needs to install atlas2 and pick it up
from the standard archive.

> Be aware that unstable tends to be just that and it's not a move to
> take lightly.  It would be nicer if someone would build a package of
> the latest R against debian-stable if possible and put that in CRAN.
> (I can't as my statistics machines don't run debian any more.
> Besides, I hate building debs.)

It's there in $CRAN/bin/linux/debian/dists/stable/main/binary-i386/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Oct 17 15:46:44 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Oct 2000 08:46:44 -0500
Subject: [R] Cleaning things up?
In-Reply-To: "Yves Gauvreau"'s message of "Tue, 17 Oct 2000 09:06:11 -0400"
References: <006301c0383b$066879b0$0201a8c0@Workgroup>
Message-ID: <6raec3a8cb.fsf@franz.stat.wisc.edu>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> I know it must be written somewhere but I can't find it.
> 
> I'd like to remove all variables or objects that I've created but not the
> functions. I look at a few things without success. Is there a R way of doing
> this? There are to many to create a manual list.

The preferred way to do this is to create a private R package of your
functions.  The manual "Writing R Extensions" available in the
doc/manual section of the sources and in many of the binary
distributions describes how to do this.  It may seem overkill to do
this initially but it later becomes a very valuable technique for
keeping projects distinct.  It is worth the time spent learning to do
this.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Tue Oct 17 16:11:29 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Tue, 17 Oct 2000 16:11:29 +0200
Subject: [R] Cleaning things up?
In-Reply-To: <006301c0383b$066879b0$0201a8c0@Workgroup>; from cyg@sympatico.ca on Tue, Oct 17, 2000 at 09:06:11AM -0400
References: <006301c0383b$066879b0$0201a8c0@Workgroup>
Message-ID: <20001017161128.A8871@sirio.stat.unipd.it>

On Tue, Oct 17, 2000 at 09:06:11AM -0400, Yves Gauvreau wrote:
> Hi,
> 
> I know it must be written somewhere but I can't find it.
> 
> I'd like to remove all variables or objects that I've created but not the
> functions. I look at a few things without success. Is there a R way of doing
> this? There are to many to create a manual list.
> 

You can try something like 

> ls()
character(0)
> a<-1
> b<-2
> f<-function(x) x+1
> ls()
[1] "a" "b" "f"
> rm(list=ls()[!sapply(ls(),function(x)exists(x,mode="function"))])
> ls()
[1] "f"

but,..., be carefull, look  to the result of 'sapply' before doing
the true 'rm'.

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Oct 17 16:25:29 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 17 Oct 2000 10:25:29 -0400
Subject: [R] Cleaning things up?
References: <006301c0383b$066879b0$0201a8c0@Workgroup> <6raec3a8cb.fsf@franz.stat.wisc.edu>
Message-ID: <006901c03846$19ae8db0$0201a8c0@Workgroup>

Ok, that's sounds reasonable for the future. The problem I have is that I
have close to 500 items returning from length(ls()) many of which are
function I've created on the fly and they interact with each other. I know
it's a mess and this the reason for my query, I'd like to clean it up. I
mean separating functions from other objects (saving them, document them and
etc.) and do as you suggest for the future.

So I ask again, is there a way to do that or do I have to do it all by
"hand" one at a time?

Yves Gauvreau

----- Original Message -----
From: "Douglas Bates" <bates at stat.wisc.edu>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Tuesday, October 17, 2000 9:46 AM
Subject: Re: [R] Cleaning things up?


> "Yves Gauvreau" <cyg at sympatico.ca> writes:
>
> > I know it must be written somewhere but I can't find it.
> >
> > I'd like to remove all variables or objects that I've created but not
the
> > functions. I look at a few things without success. Is there a R way of
doing
> > this? There are to many to create a manual list.
>
> The preferred way to do this is to create a private R package of your
> functions.  The manual "Writing R Extensions" available in the
> doc/manual section of the sources and in many of the binary
> distributions describes how to do this.  It may seem overkill to do
> this initially but it later becomes a very valuable technique for
> keeping projects distinct.  It is worth the time spent learning to do
> this.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Oct 17 16:58:32 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Oct 2000 09:58:32 -0500
Subject: [R] Cleaning things up?
In-Reply-To: "Yves Gauvreau"'s message of "Tue, 17 Oct 2000 10:25:29 -0400"
References: <006301c0383b$066879b0$0201a8c0@Workgroup> <6raec3a8cb.fsf@franz.stat.wisc.edu> <006901c03846$19ae8db0$0201a8c0@Workgroup>
Message-ID: <6r66mrikfb.fsf@franz.stat.wisc.edu>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> Ok, that's sounds reasonable for the future. The problem I have is that I
> have close to 500 items returning from length(ls()) many of which are
> function I've created on the fly and they interact with each other. I know
> it's a mess and this the reason for my query, I'd like to clean it up. I
> mean separating functions from other objects (saving them, document them and
> etc.) and do as you suggest for the future.
> 
> So I ask again, is there a way to do that or do I have to do it all by
> "hand" one at a time?

If you mean "can I determine which objects are functions?", the answer
is yes.  It would look something like this

nms <- ls()
funcs <- nms[unlist(lapply(as.list(nms), function(nm) is.function(get(nm))))]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Tue Oct 17 17:02:22 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Tue, 17 Oct 2000 17:02:22 +0200
Subject: [R] Cleaning things up?
In-Reply-To: <006301c0383b$066879b0$0201a8c0@Workgroup>; from cyg@sympatico.ca on Tue, Oct 17, 2000 at 09:06:11 -0400
References: <006301c0383b$066879b0$0201a8c0@Workgroup>
Message-ID: <20001017170222.A5041@diw14093.diw.de>

Hello,

a bit complicated but a quick solution:

> as <- function(x) { eval(as.name(x)) }
> rm(list=ls()[! sapply(sapply(ls(),"as"),"is.function")])


jan

On Tue, 17 Oct 2000, Yves Gauvreau wrote:

> Hi,
> 
> I know it must be written somewhere but I can't find it.
> 
> I'd like to remove all variables or objects that I've created but not the
> functions. I look at a few things without success. Is there a R way of doing
> this? There are to many to create a manual list.
> 
> Thanks in advance.
> 
> Yves Gauvreau
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Oct 17 17:12:46 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Tue, 17 Oct 2000 10:12:46 -0500 (CDT)
Subject: [R] Cleaning things up?
In-Reply-To: <006901c03846$19ae8db0$0201a8c0@Workgroup>
Message-ID: <Pine.SOL.3.96.1001017100910.14529L-100000@ysidro>

In Splus, I've found the following function useful for this purpose:

> os <- function(mode = "function", where = 1, long = F)
{
	z <- objects.summary(where = where, mode = "function")
	if(long)
		return(z)
	else return(row.names(z))
}

but it appears that there is no equivalent of objects.summary for R...or
am I wrong about this?



url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Tue, 17 Oct 2000, Yves Gauvreau wrote:

> Ok, that's sounds reasonable for the future. The problem I have is that I
> have close to 500 items returning from length(ls()) many of which are
> function I've created on the fly and they interact with each other. I know
> it's a mess and this the reason for my query, I'd like to clean it up. I
> mean separating functions from other objects (saving them, document them and
> etc.) and do as you suggest for the future.
> 
> So I ask again, is there a way to do that or do I have to do it all by
> "hand" one at a time?
> 
> Yves Gauvreau
> 
> ----- Original Message -----
> From: "Douglas Bates" <bates at stat.wisc.edu>
> To: "Yves Gauvreau" <cyg at sympatico.ca>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Tuesday, October 17, 2000 9:46 AM
> Subject: Re: [R] Cleaning things up?
> 
> 
> > "Yves Gauvreau" <cyg at sympatico.ca> writes:
> >
> > > I know it must be written somewhere but I can't find it.
> > >
> > > I'd like to remove all variables or objects that I've created but not
> the
> > > functions. I look at a few things without success. Is there a R way of
> doing
> > > this? There are to many to create a manual list.
> >
> > The preferred way to do this is to create a private R package of your
> > functions.  The manual "Writing R Extensions" available in the
> > doc/manual section of the sources and in many of the binary
> > distributions describes how to do this.  It may seem overkill to do
> > this initially but it later becomes a very valuable technique for
> > keeping projects distinct.  It is worth the time spent learning to do
> > this.
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Tue Oct 17 17:13:51 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Tue, 17 Oct 2000 16:13:51 +0100 (BST)
Subject: [R] filed plot symbols
Message-ID: <200010171513.QAA04474@achill.nmrc.ucc.ie>

As a follow on to Bill's question, if we look at the example which he gives, the 
legend will have lines going through the empty symbols. If there any way to 
prevent this aside from the obvious (only use filled symbols in graphs).


------------- Begin Forwarded Message -------------

X-Authentication-Warning: localhost.localdomain: wsimpson owned process doing 
-bs
Date: Tue, 17 Oct 2000 10:57:36 +0100 (BST)
From: Bill Simpson <wsi at gcal.ac.uk>
X-Sender: wsimpson at localhost.localdomain
To: r-help at stat.math.ethz.ch
Subject: [R] filed plot symbols
MIME-Version: 1.0

This example,

x<-1:10
y1<-x
y2<-x+2
plot(x,y1,pch=21,ylim=range(c(y1,y2)),type="o",lty="solid",bg="white")
points(x,y2,pch=22,type="o",lty="dashed",bg="white")
legend(7,3,legend=c("y1","y2"),pch=c(21,22),lty=c("solid","dashed"),bg="white")

works if I use pch = one of 21-25. But if I use pch= one of 0-6, it
doesn't work: the line goes through the empty symbols (instead of
the symbols appearing solid).

I was just curious why this is set up this way. Symbols 21-25 just seem to
repeat some others (e.g. 21 and 1 are both circles), except that the early
ones are not fillable with the bg="white" trick. I wonder why not just
remove the existing symbols 1-6 and replace them with the 21-25
counterparts. (There probably is a good reason why it is set as it is)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

------------- End Forwarded Message -------------


**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct 17 17:40:03 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 17 Oct 2000 11:40:03 -0400 (EDT)
Subject: [R] filled plot symbols
In-Reply-To: <Pine.LNX.4.10.10010171432460.3293-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10010171134390.6326-100000@bolker.zoo.ufl.edu>


  That's probably because the point-drawing stuff in legend() comes before
the line-drawing stuff, which means that the lines overwrite the points.
If you want to hack it yourself, just make your own copy of legend() and
switch the order of the "if (has.pch)" block (which draws points) and the
"if (do.lines)" block (which draws the lines).

  As for the wider question of why there are two different kinds of
points, etc., etc. -- I think this is basically historical, and makes more
sense if you think about the R graphics model, which is just objects drawn
onto a canvas. pch=1 doesn't fill in the symbol with any color at all,
while pch=16 fills it in.  If you want quick access to filled and unfilled
symbols, having pch 1 and 16 (and all their neighbors) is easier than
fussing with background colors.  I don't know how hard it would be to make
a point type, or a graphics option, that automatically filled points in
with the plot's background color.

  I don't know, maybe that's obvious.  Probably the background-setting
trick should go in a FAQ, though -- hasn't it come up before?
  
  

On Tue, 17 Oct 2000, Bill Simpson wrote:

> I forgot to mention that the bg="white" trick works on the plot (making
> the empty symbols opaque), but it does NOT work in the legend.
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Tue Oct 17 17:34:13 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Tue, 17 Oct 2000 17:34:13 +0200
Subject: [R] help: how to save outputs from an analysis?
Message-ID: <OFB77CBBC1.D4441246-ONC125697B.00557E77@muc.allianz>


Hi,

i just started with R
I could not find out how to get the output from an analysis saved into a
file. for example, i could view a summary by keying in summary(***) after i
run a regression analysis. but how could i save that summary into a text
file?
i d appreciate your help.

Regards
Pan Yuming



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 17 17:45:32 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 17 Oct 2000 08:45:32 -0700 (PDT)
Subject: [R] help: how to save outputs from an analysis?
In-Reply-To: <OFB77CBBC1.D4441246-ONC125697B.00557E77@muc.allianz>
Message-ID: <Pine.GSO.4.21.0010170843430.26866-100000@atlas.biostat.washington.edu>

On Tue, 17 Oct 2000 Pan_Yuming at aam.de wrote:

> 
> Hi,
> 
> i just started with R
> I could not find out how to get the output from an analysis saved into a
> file. for example, i could view a summary by keying in summary(***) after i
> run a regression analysis. but how could i save that summary into a text
> file?

If you type

  > sink("outputfile")
all output will be sent to "outputfile" until you type
  > sink("")
to get it back on screen.

A much better way to do this is to run R under Emacs using ESS, where
everything ends up in an Emacs editing buffer.  You can do this on Unix
and on Windows 9x and NT, but not currently on Win2000.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 17 18:30:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Oct 2000 17:30:54 +0100 (BST)
Subject: [R] Cleaning things up?
In-Reply-To: <Pine.SOL.3.96.1001017100910.14529L-100000@ysidro>
Message-ID: <Pine.GSO.4.05.10010171728330.1071-100000@toucan.stats>

On Tue, 17 Oct 2000, Roger Koenker wrote:

> In Splus, I've found the following function useful for this purpose:
> 
> > os <- function(mode = "function", where = 1, long = F)
> {
> 	z <- objects.summary(where = where, mode = "function")
> 	if(long)
> 		return(z)
> 	else return(row.names(z))
> }
> 
> but it appears that there is no equivalent of objects.summary for R...or
> am I wrong about this?

Not yet, and some crucial bits are missing (like object sizes) and
others are not recorded nor relevant (like object creation dates).
I think we intend to put something into 1.2.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ralf.herold at charite.de  Tue Oct 17 18:35:44 2000
From: ralf.herold at charite.de (ralf.herold@charite.de)
Date: Tue, 17 Oct 2000 18:35:44 +0200
Subject: [R] Percentile function
In-Reply-To: <810F20AC3F77D311B4690090275514A705B883@dc-poh.kin.charite.de>
Message-ID: <810F20AC3F77D311B4690090275514A705A03D@dc-poh.kin.charite.de>

> observation at 0% and the largest at 100% and the value at observation
> point i being (i-1)*100%/(N-1). This is not quite the definition you
> have and often not what people expect...

I recall (and have looked up) that SAS offers five ways to compute
percentiles, which are in short, 1. weighted average, 2. closest observation
number, 3. empirical distribution function, 4. "aimed" weighted average, and
5. empirical distribution function with averaging. The last is the default.
We once choose a different option, for a certain question. Here is a quick
translation into R, could this be interesting for anyone?

#################################################
# percentile computation functions, adapted from
# SAS Procedures Guide, Version 6, 3rd ed., 625f.
#
perc <- function (x, p = c(5,10,25,50,75,95), pctldef = 5) {
  #
  # initialization lacking error checking
  #
  x <- na.omit (as.vector (x)) # transform input into non-empty vector
  p <- na.omit (as.vector (p)) # wanted percentiles into non-empty vector
  x <- sort    (x)             # sort it in ascending order
  n <- length  (x)             # length of non-empty vector
  #
  if (pctldef == 4) n <- n + 1 # increase n by one in case pctldef == 4
  #
  j <- trunc   (n * p / 100)   # j is the integer part of the product n * p
  g <- - j   + (n * p / 100)   # g is the fractional part of the product n *
p
  #
  # the different computational procedures follow
  #
  if (pctldef == 1)            # weighted average at x\sub{np}
                               # x\sub{0} is taken to be x\sub{1}, cf. above
    perc <- (1 - g) * x [j] + g * x [j + 1]
  #
  if (pctldef == 2)  {         # observation number closest to np
    i <- ifelse (g == 0.5,
		 ifelse (trunc (j / 2) == j / 2, j, j + 1),
		 trunc  (n * p / 100 + 0.5))
    perc <- x [i]}
  #
  if (pctldef == 3)            # empirical distribution function
    perc <- x [ifelse (g == 0, j, j + 1)]
  #
  if (pctldef == 4)            # weighted average aimed at x\sub{p*(n+1)}
                               # x\sub{n+1} is taken to be x\sub{n}, cf.
above
    perc <- (1 - g) * x [j] + g * x [j + 1]
  #
  if (pctldef == 5)            # empirical distribution function with
averaging
    perc <- ifelse (g == 0,
		   (x [j] + x [j + 1]) / 2,
		    x [j + 1])
  #
  names  (perc) <- p
  return (perc)
}
# Ralf Herold, ralf herold at charite.de, 17.10.2000 18:42:04
############################################################################
###

# for testing:
test.x <- c (1,2,3,4,5,6,7,8,9,4,2,3,6,7,8,2,5,2)
test.p <- c (26, 51)
for (i in 1:5) print (perc (test.x, test.p, i))
# end.


---- Dr. med. Ralf Herold
| Koordinationszentrale Kompetenznetz P?diatrische Onkologie und H?matologie
| Charit? Campus Virchow-Klinikum Medizinische Fakult?t Humboldt-Universit?t
| D-13353 Berlin, Augustenburger Platz 1, Raum 4.3412 4. Etage Mittelallee 8
| Tel. +49(30)450-66834 Fax -66906 Sprach-/Faxbox +49(180)505254-873936
| mailto:ralf.herold at charite.de  http://www.knm-poh.charite.de/

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Peter Dalgaard BSA
> Sent: Tuesday, October 17, 2000 2:40 PM
> To: salwin at mitretek.org
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Percentile function

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 17 18:44:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Oct 2000 17:44:41 +0100 (BST)
Subject: [R] help: how to save outputs from an analysis?
In-Reply-To: <Pine.GSO.4.21.0010170843430.26866-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10010171739010.1071-100000@toucan.stats>

On Tue, 17 Oct 2000, Thomas Lumley wrote:

> On Tue, 17 Oct 2000 Pan_Yuming at aam.de wrote:
> 
> > 
> > Hi,
> > 
> > i just started with R
> > I could not find out how to get the output from an analysis saved into a
> > file. for example, i could view a summary by keying in summary(***) after i
> > run a regression analysis. but how could i save that summary into a text
> > file?
> 
> If you type
> 
>   > sink("outputfile")
> all output will be sent to "outputfile" until you type
>   > sink("")
> to get it back on screen.
> 
> A much better way to do this is to run R under Emacs using ESS, where
> everything ends up in an Emacs editing buffer.  You can do this on Unix
> and on Windows 9x and NT, but not currently on Win2000.

But if you are on Windows you can save the whole console record to a file,
or cut-and-paste sections.  (And that's what I do on Unix, too.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Oct 17 20:28:38 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 18 Oct 2000 07:28:38 +1300
Subject: [R] filed plot symbols
In-Reply-To: <200010171513.QAA04474@achill.nmrc.ucc.ie>; from Dermot MacSweeney on Tue, Oct 17, 2000 at 04:13:51PM +0100
References: <200010171513.QAA04474@achill.nmrc.ucc.ie>
Message-ID: <20001018072838.A19158@stat1.stat.auckland.ac.nz>

On Tue, Oct 17, 2000 at 04:13:51PM +0100, Dermot MacSweeney wrote:
> As a follow on to Bill's question, if we look at the example which he gives, the 
> legend will have lines going through the empty symbols. If there any way to 
> prevent this aside from the obvious (only use filled symbols in graphs).

The present plotting symbols resulted in a haphazard way.  The initial
few provide compatibility with S, and the filled ones were added as an
experiment.  I think that the filled symbols are a good idea, but
there needed to be a more systematic implementation (and the ability
for users to add their own glyphs).

Reworking the graphics is going to be the major focus of what I'm going
to be doing over this (southern) summer.  Plotting symbols will be part
of this.  I want to take a close look at legend/key as well.

One way of not having lines pass through the plotting points is to use
type="b" (both lines and points).

	plot(x, y, type="b", pch=1, lty="11")

or

	plot(x, y, type="n")
	points(x, y, pch=1)
	lines(x, y, type="b", pch=" ", lty="11")

This does leave a gap around the symbols which may be not what you want.

-- 
+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ehrbar at econ.utah.edu  Tue Oct 17 21:24:03 2000
From: ehrbar at econ.utah.edu (Hans Ehrbar)
Date: Tue, 17 Oct 2000 13:24:03 -0600 (MDT)
Subject: [R] R for Debian 2.2
In-Reply-To: <6rg0lva8je.fsf@franz.stat.wisc.edu> (message from Douglas Bates
	on 17 Oct 2000 08:42:29 -0500)
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu> <sziu2abyh1t.fsf@stats.mth.uea.ac.uk> <6rg0lva8je.fsf@franz.stat.wisc.edu>
Message-ID: <200010171924.NAA01101@marx.econ.utah.edu>



>>>>> On 17 Oct 2000 08:42:29 -0500, Douglas Bates
>>>>> <bates at stat.wisc.edu> said:

> We store Debian packages of recent versions of R for both
> the stable and unstable distributions in the CRAN tree.
> Thanks to Fritz Leisch and Kurt Hornik those directories
> are now configured so the URL can be added to your
> /etc/apt/sources.list file and you have direct access
> through apt.  The only thing that Griffith has to change
> is to add a standard Debian archive for the main
> distribution in /etc/apt/sources.list.  apt will then
> detect that it needs to install atlas2 and pick it up from
> the standard archive.

Thank you for doing that, this is a really good idea.
It was not quite obvious to me which line should be added to
/etc/apt/sources.list, but after some trial and error the
following line does it (this points to the CRAN mirror in
the US, and it is the version compiled against the stable
distribution):

deb http://cran.us.r-project.org/bin/linux/debian/dists potato/main/binary-i386/


-- 
Hans G. Ehrbar   http://www.econ.utah.edu/ehrbar   ehrbar at econ.utah.edu
Economics Department, University of Utah     (801) 581 7797 (my office)
1645 Campus Center Dr., Rm 308               (801) 581 7481 (econ office)
Salt Lake City    UT 84112-9300              (801) 585 5649 (FAX)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 17 21:34:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Oct 2000 21:34:42 +0200
Subject: [R] filed plot symbols
In-Reply-To: Ross Ihaka's message of "Wed, 18 Oct 2000 07:28:38 +1300"
References: <200010171513.QAA04474@achill.nmrc.ucc.ie> <20001018072838.A19158@stat1.stat.auckland.ac.nz>
Message-ID: <x2k8b7jm7h.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka at stat.auckland.ac.nz> writes:

> On Tue, Oct 17, 2000 at 04:13:51PM +0100, Dermot MacSweeney wrote:
> > As a follow on to Bill's question, if we look at the example which he gives, the 
> > legend will have lines going through the empty symbols. If there any way to 
> > prevent this aside from the obvious (only use filled symbols in graphs).

> One way of not having lines pass through the plotting points is to use
> type="b" (both lines and points).
> 
> 	plot(x, y, type="b", pch=1, lty="11")

but legend() does not appear to be using this. It has

    if (has.pch) {
   ...
    }
    if (do.lines) {
   ...
    }

Offhand, I suspect that switching the blocks around might solve the
problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ehrbar at econ.utah.edu  Tue Oct 17 21:45:16 2000
From: ehrbar at econ.utah.edu (Hans Ehrbar)
Date: Tue, 17 Oct 2000 13:45:16 -0600 (MDT)
Subject: [R] R for Debian 2.2 - correction
In-Reply-To: <6rg0lva8je.fsf@franz.stat.wisc.edu> (message from Douglas Bates
	on 17 Oct 2000 08:42:29 -0500)
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu> <sziu2abyh1t.fsf@stats.mth.uea.ac.uk> <6rg0lva8je.fsf@franz.stat.wisc.edu>
Message-ID: <200010171945.NAA01120@marx.econ.utah.edu>


I think now my previous message was wrong.
Here is the right version, I hope:

>>>>> On 17 Oct 2000 08:42:29 -0500, Douglas Bates
>>>>> <bates at stat.wisc.edu> said:

> We store Debian packages of recent versions of R for both
> the stable and unstable distributions in the CRAN tree.
> Thanks to Fritz Leisch and Kurt Hornik those directories
> are now configured so the URL can be added to your
> /etc/apt/sources.list file and you have direct access
> through apt.  The only thing that Griffith has to change
> is to add a standard Debian archive for the main
> distribution in /etc/apt/sources.list.  apt will then
> detect that it needs to install atlas2 and pick it up from
> the standard archive.

Thank you for doing that, this is a really good idea.
It was not quite obvious to me which line should be added to
/etc/apt/sources.list, but after some trial and error the
following line does it (this points to the CRAN mirror in
the US, and it is the version compiled against the stable
distribution):

deb http://cran.us.r-project.org/bin/linux/debian dists/potato/main/binary-i386/


-- 
Hans G. Ehrbar   http://www.econ.utah.edu/ehrbar   ehrbar at econ.utah.edu
Economics Department, University of Utah     (801) 581 7797 (my office)
1645 Campus Center Dr., Rm 308               (801) 581 7481 (econ office)
Salt Lake City    UT 84112-9300              (801) 585 5649 (FAX)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct 17 22:42:28 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 17 Oct 2000 16:42:28 -0400 (EDT)
Subject: [R] filed plot symbols
In-Reply-To: <20001018072838.A19158@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.10.10010171623580.6564-100000@bolker.zoo.ufl.edu>


  I looked more closely and found two problems with the current legend():
(1) lines were plotted after points; (2) the "bg" parameter in legend
conflicts with the "bg" parameter in points().  I arbitrarily decided to
make "pt.bg" be the parameter for the background color of the points,
while "bg" was reserved for the legend background itself, but I don't know
whether that's the best way to do it.
  Sorry to post the whole thing, but I thought it might be easier for some
folks to save it and source the file rather than patching.
  Redoing the graphics model sounds great, but this should be a workaround
for the time being.

"legend" <-
function (x, y, legend, fill, col = "black", lty, lwd, pch, bty = "o", 
    bg = par("bg"), cex = 1, xjust = 0, yjust = 1, x.intersp = 1, pt.bg = par("bg"),
    y.intersp = 1, adj = 0, text.width = NULL, merge = do.lines && 
        has.pch, trace = FALSE, ncol = 1, horiz = FALSE) 
{
    if (is.list(x)) {
        if (!missing(y)) {
            if (!missing(legend)) 
                stop("`y' and `legend' when `x' is list (need no `y')")
            legend <- y
        }
        y <- x$y
        x <- x$x
    }
    else if (missing(y)) 
        stop("missing y")
    if (!is.numeric(x) || !is.numeric(y)) 
        stop("non-numeric coordinates")
    if ((nx <- length(x)) <= 0 || nx != length(y) || nx > 2) 
        stop("invalid coordinate lengths")
    xlog <- par("xlog")
    ylog <- par("ylog")
    rect2 <- function(left, top, dx, dy, ...) {
        r <- left + dx
        if (xlog) {
            left <- 10^left
            r <- 10^r
        }
        b <- top - dy
        if (ylog) {
            top <- 10^top
            b <- 10^b
        }
        rect(left, top, r, b, ...)
    }
    segments2 <- function(x1, y1, dx, dy, ...) {
        x2 <- x1 + dx
        if (xlog) {
            x1 <- 10^x1
            x2 <- 10^x2
        }
        y2 <- y1 + dy
        if (ylog) {
            y1 <- 10^y1
            y2 <- 10^y2
        }
        segments(x1, y1, x2, y2, ...)
    }
    points2 <- function(x, y, ...) {
        if (xlog) 
            x <- 10^x
        if (ylog) 
            y <- 10^y
        points(x, y, ...)
    }
    text2 <- function(x, y, ...) {
        if (xlog) 
            x <- 10^x
        if (ylog) 
            y <- 10^y
        text(x, y, ...)
    }
    if (trace) 
        catn <- function(...) do.call("cat", c(lapply(list(...), 
            formatC), list("\n")))
    cin <- par("cin")
    Cex <- cex * par("cex")
    if (is.null(text.width)) 
        text.width <- max(strwidth(legend, u = "user", cex = cex))
    else if (!is.numeric(text.width) || text.width < 0) 
        stop("text.width must be numeric, >= 0")
    xc <- Cex * xinch(cin[1], warn.log = FALSE)
    yc <- Cex * yinch(cin[2], warn.log = FALSE)
    xchar <- xc
    yextra <- yc * (y.intersp - 1)
    ychar <- yextra + max(yc, strheight(legend, u = "user", cex = cex))
    if (trace) 
        catn("  xchar=", xchar, "; (yextra,ychar)=", c(yextra, 
            ychar))
    if (!missing(fill)) {
        xbox <- xc * 0.8
        ybox <- yc * 0.5
        dx.fill <- xbox
    }
    do.lines <- (!missing(lty) && any(lty > 0)) || !missing(lwd)
    n.leg <- length(legend)
    n.legpercol <- if (horiz) {
        if (ncol != 1) 
            warning(paste("horizontal specification overrides: Number of columns :=", 
                n.leg))
        ncol <- n.leg
        1
    }
    else ceiling(n.leg/ncol)
    if (has.pch <- !missing(pch)) {
        if (is.character(pch) && nchar(pch[1]) > 1) {
            if (length(pch) > 1) 
                warning("Not using pch[2..] since pch[1] has multiple chars")
            np <- nchar(pch[1])
            pch <- substr(rep(pch[1], np), 1:np, 1:np)
        }
        if (!merge) 
            dx.pch <- x.intersp/2 * xchar
    }
    x.off <- if (merge) 
        -0.7
    else 0
    if (xlog) 
        x <- log10(x)
    if (ylog) 
        y <- log10(y)
    if (nx == 2) {
        x <- sort(x)
        y <- sort(y)
        left <- x[1]
        top <- y[2]
        w <- diff(x)
        h <- diff(y)
        w0 <- w/ncol
        x <- mean(x)
        y <- mean(y)
        if (missing(xjust)) 
            xjust <- 0.5
        if (missing(yjust)) 
            yjust <- 0.5
    }
    else {
        h <- n.legpercol * ychar + yc
        w0 <- text.width + (x.intersp + 1) * xchar
        if (!missing(fill)) 
            w0 <- w0 + dx.fill
        if (has.pch && !merge) 
            w0 <- w0 + dx.pch
        if (do.lines) 
            w0 <- w0 + (2 + x.off) * xchar
        w <- ncol * w0 + 0.5 * xchar
        left <- x - xjust * w
        top <- y + (1 - yjust) * h
    }
    if (bty != "n") {
        if (trace) 
            catn("  rect2(", left, ",", top, ", w=", w, ", h=", 
                h, "...)", sep = "")
        rect2(left, top, dx = w, dy = h, col = bg)
    }
    xt <- left + xchar + (w0 * rep(0:(ncol - 1), rep(n.legpercol, 
        ncol)))[1:n.leg]
    yt <- top - rep(1:n.legpercol, ncol)[1:n.leg] * ychar
    if (!missing(fill)) {
        fill <- rep(fill, length.out = n.leg)
        rect2(left = xt, top = yt + ybox/2, dx = xbox, dy = ybox, 
            col = fill)
        xt <- xt + dx.fill
    }
    if (has.pch || do.lines) 
        col <- rep(col, length.out = n.leg)
    if (do.lines) {
        ok.l <- if (missing(lty)) {
            lty <- 1
            TRUE
        }
        else lty > 0
        if (missing(lwd)) 
            lwd <- par("lwd")
        lty <- rep(lty, length.out = n.leg)
        lwd <- rep(lwd, length.out = n.leg)
        if (trace) 
            catn("  segments2(", xt[ok.l] + x.off * xchar, ",", 
                yt[ok.l], ", dx=", 2 * xchar, ", dy=0, ...)", 
                sep = "")
        segments2(xt[ok.l] + x.off * xchar, yt[ok.l], dx = 2 * 
            xchar, dy = 0, lty = lty[ok.l], lwd = lwd[ok.l], 
            col = col[ok.l])
        xt <- xt + (2 + x.off) * xchar
    }
        if (has.pch) {
        pch <- rep(pch, length.out = n.leg)
        ok <- is.character(pch) | pch >= 0
        x1 <- (if (merge) 
            xt + 0.2 * xchar
        else xt)[ok]
        y1 <- yt[ok]
        if (trace) 
            catn("  points2(", x1, ",", y1, ", pch=", pch[ok], 
                "...)")
        points2(x1, y1, pch = pch[ok], col = col[ok], cex = cex, bg= pt.bg)
        if (!merge) 
            xt <- xt + dx.pch
    }
    xt <- xt + x.intersp * xchar
    text2(xt, yt, labels = legend, adj = adj, cex = cex)
    invisible(list(rect = list(w = w, h = h, left = left, top = top), 
        text = list(x = xt, y = yt)))
}

x<-1:10 
y1<-x 
y2<-x+2 
plot(x,y1,pch=21,ylim=range(c(y1,y2)),type="o",lty="solid",bg="white") 
points(x,y2,pch=22,type="o",lty="dashed",bg="white") 
legend(7,3,legend=c("y1","y2"),pch=c(21,22),lty=c("solid","dashed"),pt.bg="white")

 On Wed, 18 Oct 2000, Ross Ihaka wrote:

> On Tue, Oct 17, 2000 at 04:13:51PM +0100, Dermot MacSweeney wrote:
> > As a follow on to Bill's question, if we look at the example which he gives, the 
> > legend will have lines going through the empty symbols. If there any way to 
> > prevent this aside from the obvious (only use filled symbols in graphs).
> 
> The present plotting symbols resulted in a haphazard way.  The initial
> few provide compatibility with S, and the filled ones were added as an
> experiment.  I think that the filled symbols are a good idea, but
> there needed to be a more systematic implementation (and the ability
> for users to add their own glyphs).
> 
> Reworking the graphics is going to be the major focus of what I'm going
> to be doing over this (southern) summer.  Plotting symbols will be part
> of this.  I want to take a close look at legend/key as well.
> 
> One way of not having lines pass through the plotting points is to use
> type="b" (both lines and points).
> 
> 	plot(x, y, type="b", pch=1, lty="11")
> 
> or
> 
> 	plot(x, y, type="n")
> 	points(x, y, pch=1)
> 	lines(x, y, type="b", pch=" ", lty="11")
> 
> This does leave a gap around the symbols which may be not what you want.
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct 17 23:36:13 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 17 Oct 2000 17:36:13 -0400 (EDT)
Subject: [R] filed plot symbols
In-Reply-To: <x2k8b7jm7h.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10010171734490.6671-100000@bolker.zoo.ufl.edu>


  It does, although you also have to do something about the point
background parameter, which (as Brian Ripley pointed out to me) has been
done in R-devel.

On 17 Oct 2000, Peter Dalgaard BSA wrote:
> 
> Offhand, I suspect that switching the blocks around might solve the
> problem.
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Oct 18 10:02:29 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 18 Oct 2000 09:02:29 +0100 (BST)
Subject: [R] filled plot symbols
In-Reply-To: <Pine.LNX.4.10.10010171134390.6326-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10010180850420.10908-100000@localhost.localdomain>

On Tue, 17 Oct 2000 ben at zoo.ufl.edu wrote:

>   As for the wider question of why there are two different kinds of
> points, etc., etc. -- I think this is basically historical, and makes more
> sense if you think about the R graphics model, which is just objects drawn
> onto a canvas. pch=1 doesn't fill in the symbol with any color at all,
> while pch=16 fills it in.  If you want quick access to filled and unfilled
> symbols, having pch 1 and 16 (and all their neighbors) is easier than
> fussing with background colors.  
I don't see the reason for having the unfillable versions of the plot
symbols (1-6). If you do 
plot(x,y,type="o",pch=21)
you get transparent circles and if you do
plot(x,y,type="o",pch=21,bg="white")
you get opaque circles. So no need for pch=1 (which can only do
transparent circles).

In any case, I don't see why anyone would want the transparent symbols. It
makes for a messy plot whenever there is overlap. Occlusion is better than
overlap.

> I don't know how hard it would be to make
> a point type, or a graphics option, that automatically filled points in
> with the plot's background color.

I personally think that would be great! (With the default background
colour being white)

As Ross said another possibility is to use type="b", but I don't like the
large gaps around the symbols. If type="b" produced a plot with snugly
fitting lines (no gaps), that would be fine (and then there would be no
need for type="o").

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Oct 18 10:21:10 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 18 Oct 2000 09:21:10 +0100 (BST)
Subject: [R] filled plot symbols
In-Reply-To: <20001018072838.A19158@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.10.10010180903270.10908-100000@localhost.localdomain>

On Wed, 18 Oct 2000, Ross Ihaka wrote:

> The present plotting symbols resulted in a haphazard way.  The initial
> few provide compatibility with S, and the filled ones were added as an
> experiment.  I think that the filled symbols are a good idea, but
> there needed to be a more systematic implementation (and the ability
> for users to add their own glyphs).
This sounds great. Wouldn't a simpler set-up have a few basic
symbols (circle, square etc) and then you specify if you want it filled
with white, black etc? Therefore we'd have something like

fillable/opaque symbols
(when using these specify bg, will default to white)
-----------------------------------------------------
0 square
1 circle
2 triangle up
move + (old 3) and X (old 4) which are unfillable
3 diamond
4 triangle down

unfillable/transparent symbols
------------------------------
5 +
6 x
7 square and x
8 + and x
9 + and diamond
10 + and circle
11 triangle up and down
12 circle and x
13 square and +
14 square and triangle up

end (omit the rest of current symbols)

> Reworking the graphics is going to be the major focus of what I'm going
> to be doing over this (southern) summer.  Plotting symbols will be part
> of this.  I want to take a close look at legend/key as well.
Great!
 
> One way of not having lines pass through the plotting points is to use
> type="b" (both lines and points).
> 
> This does leave a gap around the symbols which may be not what you want.
I (and journals I publish in) don't like this style.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Wed Oct 18 12:59:17 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Wed, 18 Oct 2000 12:59:17 +0200
Subject: [R] Help oo sink
Message-ID: <OFD6091E8E.26C1F6EE-ONC125697C.003C2DAA@muc.allianz>


---------------------- Forwarded by Pan Yuming/Extern/AAM on 18.10.2000
12:58 ---------------------------


Pan Yuming
18.10.2000 11:41

To:   Prof Brian Ripley <ripley at stats.ox.ac.uk>
cc:

Subject:  Help oo sink  (Document link: Pan Yuming)

Dear professor,

continue with the example i used, i want to save the prediction results  but when i run a R file containing the following code, it just created an
empty file. but when i type the cmd
line by line in R, it worked. can you help on this?

Thanks very much for your kind help.

Pan yuming

library(tree)
data(iris)
attach(iris)
nobs <- nrow(iris)
N <- 1
#while (N + 99 < nobs) {
     learn <- iris[N:(N+99),]
     test <- iris[N + 100,]

iris.tr <- tree(Species~ . ,learn)
sink("test123.txt", append = TRUE)
predict(iris.tr, test)
sink()
#N<-N+1
#}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From -----sextoys at hotmail.com  Wed Oct 18 22:08:49 2000
From: -----sextoys at hotmail.com (www.sextoysrus.com.au)
Date: Wed, 18 Oct 2000 22:08:49
Subject: [R] Australia's Greatest Online Exotic Novelty Store is back...
Message-ID: <200010181106.NAA03253@stat.math.ethz.ch>

Too all our valued customers, please note our website " www.sextoysrus.com.au " is back 
online. 
Sorry for the inconvience.  ( HAPPY SHOPPING)
If you have received this email Via unsolicated means please delete. Thankyou.....
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Oct 18 15:00:54 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 18 Oct 2000 15:00:54 +0200 (MEST)
Subject: [R] Help oo sink
In-Reply-To: <OFD6091E8E.26C1F6EE-ONC125697C.003C2DAA@muc.allianz>
Message-ID: <XFMail.001018150054.theis@statistik.uni-dortmund.de>

Dear Pan Yuming,

try something along the lines

[Just the significant lines]
> iris.tr <- tree(Species~ . ,learn)
> sink("test123.txt", append = TRUE)
> pred.iris<-predict(iris.tr, test)
> print(pred.iris) #this forces a print which is piped by sink to the named
                #file 
> sink()

I'm sure there are more elegant ways, but this one worked for me pretty well.

(To all the experts: Am I right to think that this behaviour is due to the fact
that in interactive work on the console the default ist stdout but this is not
the case when R is run as a batch job?)

Regards, Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 18-Oct-00
Time: 14:51:30
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at sunysb.edu  Wed Oct 18 15:34:10 2000
From: Timothy.Keitt at sunysb.edu (Timothy H. Keitt)
Date: Wed, 18 Oct 2000 09:34:10 -0400
Subject: [R] R for Debian 2.2 - correction
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu> <sziu2abyh1t.fsf@stats.mth.uea.ac.uk> <6rg0lva8je.fsf@franz.stat.wisc.edu> <200010171945.NAA01120@marx.econ.utah.edu>
Message-ID: <39EDA6D2.7EE1F885@SUNYSB.Edu>

Hans Ehrbar wrote:
> 
> deb http://cran.us.r-project.org/bin/linux/debian dists/potato/main/binary-i386/
> 

deb http://cran.us.r-project.org/bin/linux/debian potato
main

should also work.

T.

Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Wed Oct 18 16:12:35 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Wed, 18 Oct 2000 16:12:35 +0200
Subject: [R] help: how to do cost-complexity pruning in CART
Message-ID: <OF95BC3823.3A420AB0-ONC125697C.004D59F8@muc.allianz>


Dear professor,

I want to produce an optimally pruned tree for cost-complexty using "1 SE"
rule proposed by Breiman. I could not figure out how to implement this
automatically in your CART package.  Would you pls advice?
Thanks very much and regards
Pan Yuming

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Oct 18 16:12:59 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 18 Oct 2000 16:12:59 +0200
Subject: [R] AIC in glm()
Message-ID: <3.0.32.20001018161258.008f96b0@162.38.183.200>

Hi all,

I am trying to understand how is calculated the AIC returned by glm(). I
have a model object m1 which fitting results are:

> summary(m1)
[...]
(Dispersion parameter for gaussian family taken to be 3.735714)

    Null deviance: 1439.8  on 15  degrees of freedom
Residual deviance:   52.3  on 14  degrees of freedom
AIC: 70.357


Since there are 2 parameters, I would naively compute: AIC = Dev + 2*2 =
56.3, or possibly scaling the deviance by the dispersion parameter: AIC =
Dev/3.735 + 2*2 = 18.00. I do not see how is computed the value 70.357. I
have read ?extractAIC and looked in the base package, but did not find a clue.

Any help appreciated.

Emmanuel Paradis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Oct 18 16:26:25 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 18 Oct 2000 16:26:25 +0200 (MET DST)
Subject: [R] AIC in glm()
In-Reply-To: <3.0.32.20001018161258.008f96b0@162.38.183.200> from "Emmanuel Paradis" at Oct 18, 2000 04:12:59 PM
Message-ID: <200010181426.QAA10812@alpha.luc.ac.be>


> 
> Hi all,
> 
> I am trying to understand how is calculated the AIC returned by glm(). I
> have a model object m1 which fitting results are:
> 
> > summary(m1)
> [...]
> (Dispersion parameter for gaussian family taken to be 3.735714)
> 
>     Null deviance: 1439.8  on 15  degrees of freedom
> Residual deviance:   52.3  on 14  degrees of freedom
> AIC: 70.357
> 
> 
> Since there are 2 parameters, I would naively compute: AIC = Dev + 2*2 =
> 56.3, or possibly scaling the deviance by the dispersion parameter: AIC =
> Dev/3.735 + 2*2 = 18.00. I do not see how is computed the value 70.357. I
> have read ?extractAIC and looked in the base package, but did not find a clue.

The AIC in glm is based on (2x) the full likelihood including all
constants. The parameter count includes the dispersion parameter for
those distributions that have one different from 1. Differences in AIC
should be the same under the two approaches. Jim

> 
> Any help appreciated.
> 
> Emmanuel Paradis
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct 18 16:44:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 18 Oct 2000 15:44:50 +0100 (BST)
Subject: [R] Re: help: how to do cost-complexity pruning in CART
Message-ID: <200010181444.PAA20920@toucan.stats.ox.ac.uk>

> From: Pan_Yuming at aam.de
> To: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Cc: r-help at hypatia.math.ethz.ch
> Date: Wed, 18 Oct 2000 16:12:35 +0200
> 
> 
> Dear professor,
> 
> I want to produce an optimally pruned tree for cost-complexty using "1 SE"
> rule proposed by Breiman. I could not figure out how to implement this
> automatically in your CART package.  Would you pls advice?

CART is the registered trademark of a commercial package not written by
me and is nothing to do with R.

If you meant something other than CART, such as the rpart or tree R
packages, please do not approach individual authors of R packages for
technical support *and* Cc: r-help.  Package authors have not agreed
to provide free technical support, and especially not to someone who
gives no affiliation.  Enquiries to R-help are likely to produce a
response from the expert, but only if they are carefully formulated and
are not already answered in the documentation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Wed Oct 18 18:05:42 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 18 Oct 2000 17:05:42 +0100
Subject: [R] R for Debian 2.2 - correction
In-Reply-To: "Timothy H. Keitt"'s message of "Wed, 18 Oct 2000 09:34:10 -0400"
References: <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
	<sziu2abyh1t.fsf@stats.mth.uea.ac.uk>
	<6rg0lva8je.fsf@franz.stat.wisc.edu>
	<200010171945.NAA01120@marx.econ.utah.edu>
	<39EDA6D2.7EE1F885@SUNYSB.Edu>
Message-ID: <szi7l76w2w9.fsf@stats.mth.uea.ac.uk>

OK, I got it wrong, but can you please all stop cc'ing me on the
replies as I am blatently on this list?  Thanks.
-- 
MJR
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Wed Oct 18 20:18:40 2000
From: york at noaa.gov (Anne York)
Date: Wed, 18 Oct 2000 11:18:40 -0700 (PDT)
Subject: [R] reference for round
Message-ID: <Pine.GSO.4.05.10010181111440.17238-100000@ofis450a.akctr.noaa.gov>

The help for the round function states: 

round rounds the values in its first argument to the specified number of
decimal places (default 0). Note that for rounding
off a 5, the IEEE standard is used, ``go to the even digit''. Therefore
round(0.5) is 0 and round(-1.5) is -2. 

Could someone provide a  reference for this standard?

Thanks, Anne
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Oct 18 21:09:36 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 19 Oct 2000 08:09:36 +1300
Subject: [R] filled plot symbols
In-Reply-To: <Pine.LNX.4.10.10010180850420.10908-100000@localhost.localdomain>; from Bill Simpson on Wed, Oct 18, 2000 at 09:02:29AM +0100
References: <Pine.LNX.4.10.10010171134390.6326-100000@bolker.zoo.ufl.edu> <Pine.LNX.4.10.10010180850420.10908-100000@localhost.localdomain>
Message-ID: <20001019080936.B12373@stat1.stat.auckland.ac.nz>

On Wed, Oct 18, 2000 at 09:02:29AM +0100, Bill Simpson wrote:
> On Tue, 17 Oct 2000 ben at zoo.ufl.edu wrote:
> 
> >   As for the wider question of why there are two different kinds of
> > points, etc., etc. -- I think this is basically historical, and makes more
> > sense if you think about the R graphics model, which is just objects drawn
> > onto a canvas. pch=1 doesn't fill in the symbol with any color at all,
> > while pch=16 fills it in.  If you want quick access to filled and unfilled
> > symbols, having pch 1 and 16 (and all their neighbors) is easier than
> > fussing with background colors.  
> I don't see the reason for having the unfillable versions of the plot
> symbols (1-6). If you do 
> plot(x,y,type="o",pch=21)
> you get transparent circles and if you do
> plot(x,y,type="o",pch=21,bg="white")
> you get opaque circles. So no need for pch=1 (which can only do
> transparent circles).
> 
> In any case, I don't see why anyone would want the transparent symbols. It
> makes for a messy plot whenever there is overlap. Occlusion is better than
> overlap.

Depends what you are doing.  The use of a transparent circle is deliberate
and follows a recommendation of Bill Cleveland -- it makes the overlap
of symbols as about obvious as possible.  We often judge the density
of points by the amount of ink in an area.  If that is the goal, then
erasing any ink is a bad idea.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loesljrg at accucom.net  Wed Oct 18 23:30:14 2000
From: loesljrg at accucom.net (JRG)
Date: Wed, 18 Oct 2000 17:30:14 -0400
Subject: [R] reference for round
In-Reply-To: <Pine.GSO.4.05.10010181111440.17238-100000@ofis450a.akctr.noaa.gov>
Message-ID: <B0009144179@imail.aiusa.com>

Date sent:      	Wed, 18 Oct 2000 11:18:40 -0700 (PDT)
From:           	Anne York <york at noaa.gov>
Send reply to:  	Anne York <anne.york at noaa.gov>
To:             	r-help at stat.math.ethz.ch
Subject:        	[R] reference for round

> The help for the round function states: 
> 
> round rounds the values in its first argument to the specified number of
> decimal places (default 0). Note that for rounding
> off a 5, the IEEE standard is used, ``go to the even digit''. Therefore
> round(0.5) is 0 and round(-1.5) is -2. 
> 
> Could someone provide a  reference for this standard?
> 
> Thanks, Anne


The IEEE standard itself, or the round-to-even digit rule adopted by 
the IEEE standard?

If the latter, Knuth puts the matter well:

"
 for most numerical applications the best policy appears to be the 
rounding scheme which insists that the least significant digit should 
always be made even (or always odd) when an ambiguous value is 
rounded.  This is not a trivial technicality, of interest only to nit-
pickers; it is an important practical consideration, since the 
ambiguous case arises surprisingly often and a biased rounding rule 
produces significantly poor results.  
 [Why not round to odd in 
ambiguous cases?] ...  Fortunately, the base [of the arithmetic 
system] is usually b = 2 [binary arithmetic] or b = 10 [decimal 
arithmetic], when everyone agrees that round-to-even is best."    
(Knuth, 1981, pp. 221-222.)

[That's Volume 2, _Semi-Numerical Algorithms_].  The third edition of 
that work contains a similar set of remarks.

---JRG


John R. Gleason

Syracuse University
430 Huntington Hall                      Voice:   315-443-3107
Syracuse, NY 13244-2340  USA             FAX:     315-443-4085

PGP public key at keyservers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Thu Oct 19 09:45:05 2000
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Thu, 19 Oct 2000 09:45:05 +0200
Subject: [R] Multiple outputs of a function
Message-ID: <39EEA680.DCAD4A23@ifp.fr>

Hello everybody,

I'm writting some functions for experimental designs. The one I'm
working on is similar to "fac.design" on Splus.
The problem I have is with the form of the output :

When the argument fraction is submitted, Splus gives something like :

     A  B  C
 1   -  -  -
 2   +  +  -
 3   +  -  +
 4   -  +  +

Fraction :  ~A:B:C

The first part of this output is the design, and the second part is the
formula which allows to fractionate the full design. This output isn't a
list.
My problem is the following :
I can't manage to obtain such a composite output. The lonely way I've
already found is to use :
print(design)
cat("Fraction:  ")
print(attr(design,"fraction")).

This solution is only suitable for an output on screen, but it reveals
bad as soon as I assign this function
to an object (for ex: tmp <- fac.design( ....) ) since only the last
command I performed (here print(attr(design,"fraction")))
is assigned to my object tmp.

I hope someone can help me ...

Regards,

Isabelle Zabalza-Mezghani


--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001019/4b7217a1/attachment.html

From spinazzi at databankgroup.it  Thu Oct 19 09:40:53 2000
From: spinazzi at databankgroup.it (Federico Spinazzi)
Date: Thu, 19 Oct 2000 08:40:53 +0100
Subject: [R] weighting observations
Message-ID: <001f01c0399f$e982ca60$0a00a8c0@bellview>

Dear R users,

I wonder how to weight observationswhen computing statistics and creating
tables (e.g. of counts)
I'm used to the SPSS paradigm (WEIGHT by foo.) where any subsequent command
will weight any variable ...

Suppose that I want to compute a table of weighted counts: is the right
R-approach to write a little custom function or it could be better to write
a new class (data.frame.weightable) or, finally, there is already a
'standard' way to do this ?

Regards,
Federico Spinazzi
spinazzi at databankgroup.it
Databank S.P.A
Via Spartaco, 19, ITALY
Tel. + 39 02 55002251


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 19 10:05:23 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Oct 2000 09:05:23 +0100 (BST)
Subject: [R] Multiple outputs of a function
In-Reply-To: <39EEA680.DCAD4A23@ifp.fr>
Message-ID: <Pine.GSO.4.05.10010190902360.21669-100000@toucan.stats>

On Thu, 19 Oct 2000, isabelle Zabalza-Mezghani wrote:

> Hello everybody,
> 
> I'm writting some functions for experimental designs. The one I'm
> working on is similar to "fac.design" on Splus.
> The problem I have is with the form of the output :
> 
> When the argument fraction is submitted, Splus gives something like :
> 
>      A  B  C
>  1   -  -  -
>  2   +  +  -
>  3   +  -  +
>  4   -  +  +
> 
> Fraction :  ~A:B:C
> 
> The first part of this output is the design, and the second part is the
> formula which allows to fractionate the full design. This output isn't a
> list.
> My problem is the following :
> I can't manage to obtain such a composite output. The lonely way I've
> already found is to use :
> print(design)
> cat("Fraction:  ")
> print(attr(design,"fraction")).
> 
> This solution is only suitable for an output on screen, but it reveals
> bad as soon as I assign this function
> to an object (for ex: tmp <- fac.design( ....) ) since only the last
> command I performed (here print(attr(design,"fraction")))
> is assigned to my object tmp.
> 
> I hope someone can help me ...

It's done via classes.  fac.design returns an object of class c("design",
"data.frame"), and that is printed by the method print.design for the
generic function print.  To see how this might be done in R, look at
print.Anova in package MASS.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Thu Oct 19 16:09:59 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Thu, 19 Oct 2000 15:09:59 +0100
Subject: [R] How to convert .Rd format in windows
In-Reply-To: <001f01c0399f$e982ca60$0a00a8c0@bellview>
Message-ID: <3.0.5.32.20001019150959.00845bd0@bureau.ucc.ie>

Dear R-users,

I am working with R 1.1.1 for windows and
would like to convert some R documentation files 
(.Rd format) into LaTex format.

I understand from "Writing R extension" that
the BATCH file in the bin directory can be used
for this purpose. But I need more details pointer,
about the command syntax.

Any helps will be appreciated,

Agus






Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Oct 19 17:31:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 19 Oct 2000 08:31:52 -0700 (PDT)
Subject: [R] weighting observations
In-Reply-To: <001f01c0399f$e982ca60$0a00a8c0@bellview>
Message-ID: <Pine.GSO.4.21.0010190825210.4989-100000@atlas.biostat.washington.edu>

On Thu, 19 Oct 2000, Federico Spinazzi wrote:

> Dear R users,
> 
> I wonder how to weight observationswhen computing statistics and creating
> tables (e.g. of counts)
> I'm used to the SPSS paradigm (WEIGHT by foo.) where any subsequent command
> will weight any variable ...
> 
> Suppose that I want to compute a table of weighted counts: is the right
> R-approach to write a little custom function or it could be better to write
> a new class (data.frame.weightable) or, finally, there is already a
> 'standard' way to do this ?

There isn't.  There was some discussion on this a few weeks ago -- it
takes some care, since there are at least three different concepts called
"weights" in common statistical use (Stata distinguishes them nicely, most
other packages don't).

Functions that handle probability weights and frequency weights (I think
the latter is what you want) are on my To Do list, but they are a long way
off so it would be great if someone else were to handle them.

My preference would be for a function that accepted a weight= argument,
since you might need more than one set of weights in a data frame
(admittedly in somewhat unusual circumstances), and you might want to
ignore the weights sometimes. You could have it both ways: have, say,
attr(,"weights") on the data frame be the name of the column of weights
and have the function use this by default if it is present.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Fri Oct 20 01:48:19 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Fri, 20 Oct 2000 09:48:19 +1000
Subject: [R] NLS Question
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B1506@TBACRMEXH001>

Hi list members,
I'm (gradually) coming up to speed on  using R.  SO far I am very much
enjoying the learning process.
I mentioned the software to a colleague at another research organisation,
and he was interested.

He had the following question:

Can the following non-linear fit be carried out (I suppose by NLS),
y~(x^a)*(w^b), where a and b are the parameters and x and w are variables?
i.e. the formula has two independent variables.

Does the software do this sort of thing, or will it only handle one
independent variable?  I gave it a go but did not get an answer out of
it....the response being
2590.046 :  5.0 0.4 
Error in qr(attr(rhs, "gradient")) : NA/NaN/Inf in foreign function call
(arg 1)

Before I persevere any further, does NLS have this capability, or am I on
the wrong track?

Thanks, 

Matt Redding

********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Oct 20 05:29:15 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 19 Oct 2000 23:29:15 -0400 (EDT)
Subject: [R] NLS Question
In-Reply-To: <FB599DB5ACE2D211887500A0C9D334E40B1506@TBACRMEXH001>
Message-ID: <Pine.LNX.4.10.10010192325550.10001-100000@bolker.zoo.ufl.edu>


  Despite my poor track record, I'll take a crack at this.

  Yes, you can do what you want.  For example:

x <- runif(100)
w <- runif(100)
y <- x^2.4*w^3.2+rnorm(100,0,0.01)
plot(x,y)
plot(w,y)
library(nls)
fit <- nls(y~x^a*w^b,start=list(a=2,b=3))

l.est <- lm(log(y) ~ log(x)+log(w)-1)
fit <- nls(y~x^a*w^b,start=list(a=coef(l.est)[1],b=coef(l.est)[2]))

  The error you got (is in my experience) a fairly common result of
starting with parameter values that are far away from the true values, or
have very different scales, so that the numeric-derivative part of nls
fails.  Various solutions are to do an approximate least-squares
regression to start things off (also the "self-starting" models in the nls
package), or to provide an analytic derivative.

On Fri, 20 Oct 2000, Redding, Matthew wrote:

> Hi list members,
> I'm (gradually) coming up to speed on  using R.  SO far I am very much
> enjoying the learning process.
> I mentioned the software to a colleague at another research organisation,
> and he was interested.
> 
> He had the following question:
> 
> Can the following non-linear fit be carried out (I suppose by NLS),
> y~(x^a)*(w^b), where a and b are the parameters and x and w are variables?
> i.e. the formula has two independent variables.
> 
> Does the software do this sort of thing, or will it only handle one
> independent variable?  I gave it a go but did not get an answer out of
> it....the response being
> 2590.046 :  5.0 0.4 
> Error in qr(attr(rhs, "gradient")) : NA/NaN/Inf in foreign function call
> (arg 1)
> 
> Before I persevere any further, does NLS have this capability, or am I on
> the wrong track?
> 
> Thanks, 
> 
> Matt Redding
> 
> ********************************DISCLAIMER****************************
> The information contained in the above e-mail message or messages 
> (which includes any attachments) is confidential and may be legally 
> privileged.  It is intended only for the use of the person or entity 
> to which it is addressed.  If you are not the addressee any form of 
> disclosure, copying, modification, distribution or any action taken 
> or omitted in reliance on the information is unauthorised.  Opinions 
> contained in the message(s) do not necessarily reflect the opinions 
> of the Queensland Government and its authorities.  If you received 
> this communication in error, please notify the sender immediately and 
> delete it from your computer system network.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Fri Oct 20 08:17:36 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 20 Oct 2000 17:17:36 +1100
Subject: [R] canonical correlation
Message-ID: <61411576E951D211AF330008C7245DD9070D424A@ntmsg0005.corpmail.telstra.com.au>

gday R friends

I want to try out some cancor but I'm stuck.  The doco is a little sparse
when haven't played with mva for a while and 'search' seems to have
disappeared from the AT.CRAN site.

How do I predict Y from the various 1:n ycoef/xcoef components?

thanks,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Fri Oct 20 09:36:17 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Fri, 20 Oct 2000 09:36:17 +0200
Subject: [R] Re: R-help Digest V2 #236
References: <200010140201.EAA09353@stat.math.ethz.ch>
Message-ID: <39EFF5F1.6303E04B@olsen.ch>

R-help Digest wrote:

> Date: Thu, 12 Oct 2000 20:48:59 -0700 (PDT)
> From: Elliot Williams <ewilliams at ucsd.edu>
> Subject: [R] GARCH in package tseries
>
> I was running some likelihood ratio tests (using the current version of
> tseries) and found a different value for the log-likelihood from what I
> was getting using other software.  I've traced the problem to R's GARCH
> using the conditional standard deviations instead of the conditional
> variances.  This amounts to a factor of 2 once logs are taken, and could
> easily be a case of bad parentheses.
>
> It doesn't appear to affect the estimated coefficients, however.
>
> I'm not a good fortran programmer, so I'll just toss this up to the group
> for comment/investigation.
>
>                                                 Thanks,
>                                                 Elliot.

Hi Elliot

Thanks for that comment. I'll put that on my todo list and will mail you what is wrong
with the computation.

best
Adrian



--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spinazzi at databankgroup.it  Fri Oct 20 09:52:12 2000
From: spinazzi at databankgroup.it (Federico Spinazzi)
Date: Fri, 20 Oct 2000 08:52:12 +0100
Subject: R: [R] weighting observations
Message-ID: <002c01c03a6a$b5ad9410$0a00a8c0@bellview>

>Functions that handle probability weights and frequency weights (I think
>the latter is what you want) are on my To Do list, but they are a long way
>off so it would be great if someone else were to handle them.
>
I never wrote a package for R, but I'm quite fluent in other programming
languages.
Even if I don't use R from much time I think I can help.
I basically need two kind of things:
- understand well how weights works (for example with categorical variables)
and what statistics are affected when weighting observations (I think all)
and how to deal with standard computations (for example how to perform a
cluster analysis on weighted data, how to do a regression ?) i.e.: the
identification of the domain of weights
- a better understanding of the Object-Oriented approach of R.

If someone could help me in some way with the first point I surely could
help (even on a single, well defined part of that domain).

>My preference would be for a function that accepted a weight= argument,
>since you might need more than one set of weights in a data frame
>(admittedly in somewhat unusual circumstances), and you might want to
>ignore the weights sometimes. You could have it both ways: have, say,
>attr(,"weights") on the data frame be the name of the column of weights
>and have the function use this by default if it is present.

Federico Spinazzi
spinazzi at databankgroup.it
Databank S.P.A
Via Spartaco, 19, ITALY
Tel. + 39 02 55002251




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Oct 20 10:40:58 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Oct 2000 09:40:58 +0100 (BST)
Subject: [R] [] vs [[]]
In-Reply-To: <Pine.LNX.4.10.10010192325550.10001-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10010200933561.12926-100000@localhost.localdomain>

I have read over Venables and Ripley and am still confused about [] vs
[[]]. I had thought it was simple: use [] for accessing items in a vector,
and [[]] for items in a list.

Vector
> x<-1:10
> x[4]
[1] 4
> x[[4]]
[1] 4
doesn't seem to matter if you use [] or [[]]

List
> x<-list(1,2,3,4)
> x[2]
[[1]]
[1] 2

> x[[2]]
[1] 2
doesn't seem to matter if you use [] or [[]]

This question started from nls(). If you do
fit<-nls(...)
using a 2 param model
> coef(fit)
          a           b 
212.6836297   0.0641211 
> coef(fit)[1]
       a 
212.6836 
> coef(fit)[[1]]
[1] 212.6836

I guess coef(fit) returns some weird sort of list and so I need
coef(fit)[[]] to get the fitted parameters.

As you can see I am confused so any help appreciated.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Oct 20 11:43:55 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 20 Oct 2000 11:43:55 +0200
Subject: [R] [] vs [[]]
In-Reply-To: <Pine.LNX.4.10.10010200933561.12926-100000@localhost.localdomain>
Message-ID: <B615E07B.42B1%pflugshaupt@geobot.umnw.ethz.ch>

On 20.10.2000 10:40 Uhr, Bill Simpson wrote:

> List
>> x<-list(1,2,3,4)
>> x[2]
> [[1]]
> [1] 2
> 
>> x[[2]]
> [1] 2
> doesn't seem to matter if you use [] or [[]]


It does!

In the first case, you get back a list with just one item (as you can see by
the [[1]] line). In the second case, it's just the item. That's all the
difference I found, though.

Cheers

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Oct 20 12:10:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Oct 2000 12:10:26 +0200
Subject: [R] [] vs [[]]
In-Reply-To: Bill Simpson's message of "Fri, 20 Oct 2000 09:40:58 +0100 (BST)"
References: <Pine.LNX.4.10.10010200933561.12926-100000@localhost.localdomain>
Message-ID: <x2u2a79625.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> > x<-1:10
> > x[4]
> [1] 4
> > x[[4]]
> [1] 4
> doesn't seem to matter if you use [] or [[]]

Only when names are not involved:

> x[4]
d 
4 
> x[[4]]
[1] 4


> List
> > x<-list(1,2,3,4)
> > x[2]
> [[1]]
> [1] 2
> 
> > x[[2]]
> [1] 2
> doesn't seem to matter if you use [] or [[]]

Look closer. In the first case you got a list. In general, [[ gives
you the "most primitive" result, whereas [ gives you something that is
"like the original". Note also that [[ does not allow complex
indexing: if

x <- list(a=1, b=1:2, c=letters[1:3])

then x[2:3] makes sense, but x[[2:3]] does not (and doesn't work
either). 
 
> This question started from nls(). If you do
> fit<-nls(...)
> using a 2 param model
> > coef(fit)
>           a           b 
> 212.6836297   0.0641211 
> > coef(fit)[1]
>        a 
> 212.6836 
> > coef(fit)[[1]]
> [1] 212.6836
> 
> I guess coef(fit) returns some weird sort of list and so I need
> coef(fit)[[]] to get the fitted parameters.

No, this is just the name-dropping (sorry..) effect of [[, coef(fit)
is just an ordinary named numeric vector.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Fri Oct 20 13:06:47 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Fri, 20 Oct 2000 13:06:47 +0200
Subject: [R] [] vs [[]]
In-Reply-To: <Pine.LNX.4.10.10010200933561.12926-100000@localhost.localdomain>; from wsi@gcal.ac.uk on Fri, Oct 20, 2000 at 09:40:58 +0100
References: <Pine.LNX.4.10.10010192325550.10001-100000@bolker.zoo.ufl.edu> <Pine.LNX.4.10.10010200933561.12926-100000@localhost.localdomain>
Message-ID: <20001020130647.A1261@diw14093.diw.de>

On Fri, 20 Oct 2000, Bill Simpson wrote:

> I have read over Venables and Ripley and am still confused about [] vs
> [[]]. I had thought it was simple: use [] for accessing items in a vector,
> and [[]] for items in a list.
> 
> Vector
> > x<-1:10
> > x[4]
> [1] 4
> > x[[4]]
> [1] 4
> doesn't seem to matter if you use [] or [[]]

In this special case yes (IMHO)

> 
> List
> > x<-list(1,2,3,4)
> > x[2]
> [[1]]
> [1] 2
> 
> > x[[2]]
> [1] 2
> doesn't seem to matter if you use [] or [[]]

No, it does matter:

> x<-list(1,2,3,4)
> is.list(x[2])
[1] TRUE
> is.list(x[[2]])
[1] FALSE
> is.vector(x[[2]])
[1] TRUE

Using [] with a list you get a list, using [[]] you get 
the item of these "sublist".

But be aware off: 

> testlist<- list(list(cbind(1:4,1:4),1:5,"any.item"))
> testlist[1]
[[1]]
[[1]][[1]]
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]    3    3
[4,]    4    4

[[1]][[2]]
[1] 1 2 3 4 5

[[1]][[3]]
[1] "any.item"

   >>> returns a list, as usual

> testlist[[1]]
[[1]]
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]    3    3
[4,]    4    4

[[2]]
[1] 1 2 3 4 5

[[3]]
[1] "any.item"

  >>> returns also a list!

> testlist[[1]][[1]]
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]    3    3
[4,]    4    4

returns the matrix!

Hope there are no more obscurity than before.

jan

-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Oct 20 13:58:51 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Oct 2000 12:58:51 +0100 (BST)
Subject: [R] [] vs [[]]
In-Reply-To: <x2u2a79625.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10010201258230.13121-100000@localhost.localdomain>

Thanks for the help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bent.nielsen at nuffield.oxford.ac.uk  Fri Oct 20 14:42:54 2000
From: bent.nielsen at nuffield.oxford.ac.uk (Bent Nielsen)
Date: Fri, 20 Oct 2000 13:42:54 +0100
Subject: [R] How to plot log histograms?
Message-ID: <1.5.4.32.20001020124254.0131325c@ermine.ox.ac.uk>

Q: Is there an easy way to plot log histograms?

The command "hist" draws a standard histogram with observed frequency on the
y-axis.  I would like to be able to draw the log frequency on the y-axis,
but I can't see whether I can use "hist" for this.  The purpose of such a
plot is to see whether data are normal or Laplace or something else.

- and the same question for kernel density estimates using "density".

many thanks in advance
Bent Nielsen
---------------------------------------------------------
Dr Bent Nielsen		

University Lecturer in Econometrics, University of Oxford
& Research Fellow, Nuffield College

Mail:  Nuffield College, Oxford OX1 1NF, UK
Phone: +44 1865 278630 (Nuf)
Phone: +44 1865 281289 (Dept)
Fax:   +44 1865 278621 (Nuf)
Email: bent.nielsen at nuf.ox.ac.uk 
http://www.nuff.ox.ac.uk/users/nielsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri Oct 20 15:33:27 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 20 Oct 2000 15:33:27 +0200
Subject: [R] How to plot log histograms?
In-Reply-To: <1.5.4.32.20001020124254.0131325c@ermine.ox.ac.uk>; from bent.nielsen@nuffield.oxford.ac.uk on Fri, Oct 20, 2000 at 01:42:54PM +0100
References: <1.5.4.32.20001020124254.0131325c@ermine.ox.ac.uk>
Message-ID: <20001020153327.A29083@sirio.stat.unipd.it>

On Fri, Oct 20, 2000 at 01:42:54PM +0100, Bent Nielsen wrote:
> Q: Is there an easy way to plot log histograms?
> 
> The command "hist" draws a standard histogram with observed frequency on the
> y-axis.  I would like to be able to draw the log frequency on the y-axis,
 
  Something like:
  > h <- hist(your.data,plot=F)
  > h$counts <- log(h$counts) #assuming no counts equal to 0
  > plot(h,ylab="log(Frequency)")

> 
> - and the same question for kernel density estimates using "density".
> 

  Same theme:
  > d <- density(your.data)
  > d$y <- log(d$y)
  > plot(d,ylab="log(density)",main="")

  guido

  (ps) Q: Where do h$counts and d$y  come out? 
       A: Look to str(h) and str(d).
  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Fri Oct 20 15:48:25 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Fri, 20 Oct 2000 15:48:25 +0200
Subject: [R] how to remove all variables in one go?
Message-ID: <OFF1993337.80CB21FC-ONC125697E.004BC68F@muc.allianz>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Fri Oct 20 16:47:17 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Fri, 20 Oct 2000 15:47:17 +0100
Subject: [R] How to convert .Rd format in windows
Message-ID: <3.0.1.32.20001020154717.006d70a0@bureau.ucc.ie>

Thanks for everyone who answered my query.

I put an extra line in AUTOEXEC.BAT to specify the R_HOME variable.
And the Rdconv command works perfectly if I execute the AUTOEXEC
from DOS prompt. However, if I execute the AUTOEXEC from inside windows
system the command does not work.


Thanks,
Agus
------------------------
Agus Salim
PhD student
Dept. of Statistics
University College Cork,
Ireland
Tel: 353-21-4902197
------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct 20 17:05:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 20 Oct 2000 16:05:44 +0100 (BST)
Subject: [R] How to convert .Rd format in windows
Message-ID: <200010201505.QAA28713@toucan.stats.ox.ac.uk>


> Date: Fri, 20 Oct 2000 15:47:17 +0100
> From: Agus Salim <a.salim at ucc.ie>
> Subject: Re: [R] How to convert .Rd format in windows
> To: r-help at stat.math.ethz.ch
> 
> Thanks for everyone who answered my query.
> 
> I put an extra line in AUTOEXEC.BAT to specify the R_HOME variable.
> And the Rdconv command works perfectly if I execute the AUTOEXEC
> from DOS prompt. However, if I execute the AUTOEXEC from inside windows
> system the command does not work.

You should not executing autoexec.bat at all.  In a Windows 9x
system it is executed during the boot sequence. (You did reboot,
didn't you?)   I think this is not really an R problem, but
suggest you take some local Windows advice.

As I said, from 1.2.0 this will not be necesary.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Oct 20 17:12:05 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 20 Oct 2000 16:12:05 +0100
Subject: [R] Multiple outputs of a function
In-Reply-To: <39EEA680.DCAD4A23@ifp.fr>
References: <39EEA680.DCAD4A23@ifp.fr>
Message-ID: <oKYCaEAFDG85Ew5h@myatt.demon.co.uk>

isabelle Zabalza-Mezghani <isabelle.zabalza-mezghani at ifp.fr> writes:

>    Hello everybody, 
>
>    I'm writting some functions for experimental designs. The one I'm 
>    working on is similar to "fac.design" on Splus. 
>    The problem I have is with the form of the output : 
>
>    When the argument fraction is submitted, Splus gives something like 
>    : 
>
>    ???? A? B? C 
>    ?1?? -? -? - 
>    ?2?? +? +? - 
>    ?3?? +? -? + 
>    ?4?? -? +? + 
>
>    Fraction :? ~A:B:C 
>
>    The first part of this output is the design, and the second part is 
>    the formula which allows to fractionate the full design. This 
>    output isn't a list. 
>    My problem is the following : 
>    I can't manage to obtain such a composite output. The lonely way 
>    I've already found is to use : 
>    print(design) 
>    cat("Fraction:? ") 
>    print(attr(design,"fraction")). 
>
>    This solution is only suitable for an output on screen, but it 
>    reveals bad as soon as I assign this function 
>    to an object (for ex: tmp <- fac.design( ....) ) since only the 
>    last command I performed (here print(attr(design,"fraction"))) 
>    is assigned to my object tmp. 
>
>    I hope someone can help me ... 

Return a list. For example, here is a simple function to calculate and
return a risk ratio and 95% confidence from a 2-by-2 table

        rr22 <- function(exposure, outcome) 
        {
        tab <- table(exposure, outcome)
        a <- tab[1,1]; b <- tab[1,2]; c <- tab[2,1]; d <- tab[2,2]
        rr <- (a / (a + b)) / (c / (c + d))
        se.log.rr <- sqrt((b/a) / (a+b) + (d / c) / (c + d))
        lci.rr <- exp(log(rr) - 1.96 * se.log.rr)
        uci.rr <- exp(log(rr) + 1.96 * se.log.rr)
        list(estimate = rr, conf.int = c(lci.rr, uci.rr))
        }

In use:

        > rr22(PASTA, ILL)
        $estimate
        [1] 1.682692

        $conf.int
        [1] 1.255392 2.255433

        > b <- rr22(PASTA, ILL)
        > b$estimate
        [1] 1.682692
        > b$conf.int
        [1] 1.255392 2.255433
        > b$conf.int[1]
        [1] 1.255392
        > b$conf.int[2]
        [1] 2.255433

If you need the formatted output then you need to declare a class for
the output list and create a print method for that class:

        rr22 <- function(exposure, outcome) 
        {
        tab <- table(exposure, outcome)
        a <- tab[1,1]; b <- tab[1,2]; c <- tab[2,1]; d <- tab[2,2]
        rr <- (a / (a + b)) / (c / (c + d))
        se.log.rr <- sqrt((b / a) / (a + b) + (d / c) / (c + d))
        lci.rr <- exp(log(rr) - 1.96 * se.log.rr)
        uci.rr <- exp(log(rr) + 1.96 * se.log.rr)
        rr22.output <- list(estimate = rr, conf.int = c(lci.rr, uci.rr))
        class(rr22.output) <- "rr22"
        rr22.output
        }

        print.rr22 <- function(x)
        {
        cat("RR     : ", x$estimate, "\n", 
            "95% CI : ", x$conf.int[1], "-", x$conf.int[2], "\n",
            sep = "")
        }

In use:

        > b <- rr22(PASTA,ILL)
        > b
        RR     : 1.682692
        95% CI : 1.255392-2.255433
        > b$estimate
        [1] 1.682692
        > b$conf.int
        [1] 1.255392 2.255433

I hope that helps.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri Oct 20 17:44:14 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 20 Oct 2000 17:44:14 +0200 (MET DST)
Subject: [R] how to remove all variables in one go?
In-Reply-To: <OFF1993337.80CB21FC-ONC125697E.004BC68F@muc.allianz>
Message-ID: <Pine.OSF.4.21.0010201743320.8521-100000@alnair.uio.no>

Hi!

Two hours and no response, I'll give it a shot, how about
rm(list=ls())
?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Oct 20 17:45:03 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 20 Oct 2000 16:45:03 +0100
Subject: [R] Covariace or variogram surface
Message-ID: <39F0687F.E395B137@ipimar.pt>

Hi

I'm interested in doing a anisotropy analysis of some spatial data and I
want to do a contour plot of a covariance or variogram surface to
visualize the directions of maximal and minimal anisotropy.

I know how to do a contour plot :-) but how can I obtain the variogram
surface having a geoeas format dataset (X, Y, Z) ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jojeda at posta.unizar.es  Fri Oct 20 18:11:33 2000
From: jojeda at posta.unizar.es (Jorge Luis Ojeda Cabrera)
Date: Fri, 20 Oct 2000 16:11:33 GMT
Subject: [R] Local Scopes in S
Message-ID: <20001020.16113300@macdesp8.unizar.es>


I 've been working with R since last year and I am quite "happy" with R 
capabilities. Nevertheless, I need to present my job to other people 
(S-users) and I am facing a problem with R & S compatibility: my 
R-scripts make intensive use of functions local scope, and as far as I 
know(I am a new to S) S does not have this capability.

I use to  do things like:

create.f <- function(data)
{
	f <- function(x) { return( sum(data-x) );}
	return( f )
}

d <- 1:10
g <- create.f(d)
d <- NULL
g(1)
[1] 45

Does exist an easy way to solve the problem ?
May be I've missed some easier implementation in R..?

Thanks in advance.



########################################################################
Jorge Ojeda.

Profesor Asociado.
Dept. M?todos Estad?sticos.
Universidad de Zaragoza.
########################################################################
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Oct 20 18:42:05 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 20 Oct 2000 09:42:05 -0700 (PDT)
Subject: [R] Local Scopes in S
In-Reply-To: <20001020.16113300@macdesp8.unizar.es>
Message-ID: <Pine.GSO.4.21.0010200939350.13808-100000@atlas.biostat.washington.edu>

On Fri, 20 Oct 2000, Jorge Luis Ojeda Cabrera wrote:

> 
> I 've been working with R since last year and I am quite "happy" with R 
> capabilities. Nevertheless, I need to present my job to other people 
> (S-users) and I am facing a problem with R & S compatibility: my 
> R-scripts make intensive use of functions local scope, and as far as I 
> know(I am a new to S) S does not have this capability.
> 
> I use to  do things like:
> 
> create.f <- function(data)
> {
> 	f <- function(x) { return( sum(data-x) );}
> 	return( f )
> }
> 
> d <- 1:10
> g <- create.f(d)
> d <- NULL
> g(1)
> [1] 45
> 
> Does exist an easy way to solve the problem ?
> May be I've missed some easier implementation in R..?

This sort of R function can be ported to S using the MC() (make
closure) function by Luke Tierney that appears in the FAQ (section 3.3.1).

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Oct 20 20:14:25 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 20 Oct 2000 13:14:25 -0500
Subject: [R] Local Scopes in S
In-Reply-To: Thomas Lumley's message of "Fri, 20 Oct 2000 09:42:05 -0700 (PDT)"
References: <Pine.GSO.4.21.0010200939350.13808-100000@atlas.biostat.washington.edu>
Message-ID: <6r1yxbv0qm.fsf@franz.stat.wisc.edu>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> On Fri, 20 Oct 2000, Jorge Luis Ojeda Cabrera wrote:
> 
> > 
> > I 've been working with R since last year and I am quite "happy" with R 
> > capabilities. Nevertheless, I need to present my job to other people 
> > (S-users) and I am facing a problem with R & S compatibility: my 
> > R-scripts make intensive use of functions local scope, and as far as I 
> > know(I am a new to S) S does not have this capability.
> > 
> > I use to  do things like:
> > 
> > create.f <- function(data)
> > {
> > 	f <- function(x) { return( sum(data-x) );}
> > 	return( f )
> > }
> > 
> > d <- 1:10
> > g <- create.f(d)
> > d <- NULL
> > g(1)
> > [1] 45
> > 
> > Does exist an easy way to solve the problem ?
> > May be I've missed some easier implementation in R..?
> 
> This sort of R function can be ported to S using the MC() (make
> closure) function by Luke Tierney that appears in the FAQ (section 3.3.1).

As a general answer I would advise referring to Venables and Ripley's
"S Programming" (Springer, 2000) for porting questions like this.
They explain the differences between the two dialects of the S
language with regard to scoping.  You may find that you want to use
assignments into frame 1 for the S version.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Oct 20 23:46:35 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 20 Oct 2000 17:46:35 -0400 (EDT)
Subject: [R] Linux -> Win2K file transfer
Message-ID: <Pine.LNX.4.10.10010201741500.18333-100000@bolker.zoo.ufl.edu>


  Just a quick question, in case I'm doing something really boneheaded
that could be easily sorted out.

  I'm attempting to save() datasets on Linux (R 1.1.1) and load() them on
Win2K (rw1011, fetched from CRAN today).  I get the "restore file
corrupted" message every time.  I've tried saving with ascii=TRUE and
FALSE, and the ASCII versions look OK (it's my impression from reading
docs that even binary format files *ought* to be readable on both
platforms). I don't think it's a DOS/Unix format (linefeed etc.) problem,
as I can source() files transferred in the same way.
  Didn't find anything in the FAQ etc..
  Has anyone seen this?

  Ben Bolker

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Oct 21 00:10:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Oct 2000 00:10:38 +0200
Subject: [R] Linux -> Win2K file transfer
In-Reply-To: ben@zoo.ufl.edu's message of "Fri, 20 Oct 2000 17:46:35 -0400 (EDT)"
References: <Pine.LNX.4.10.10010201741500.18333-100000@bolker.zoo.ufl.edu>
Message-ID: <x27l735fkx.fsf@blueberry.kubism.ku.dk>

ben at zoo.ufl.edu writes:

>   Just a quick question, in case I'm doing something really boneheaded
> that could be easily sorted out.
> 
>   I'm attempting to save() datasets on Linux (R 1.1.1) and load() them on
> Win2K (rw1011, fetched from CRAN today).  I get the "restore file
> corrupted" message every time.  I've tried saving with ascii=TRUE and
> FALSE, and the ASCII versions look OK (it's my impression from reading
> docs that even binary format files *ought* to be readable on both
> platforms). I don't think it's a DOS/Unix format (linefeed etc.) problem,
> as I can source() files transferred in the same way.
>   Didn't find anything in the FAQ etc..
>   Has anyone seen this?

It's supposed to work. Since you ask for suggestions of
boneheadedness:

Did you by any chance transfer the files with FTP in ascii mode or
with mcopy -t or similar?

Are you saying that the ascii=TRUE saves didn't work either?

(R is generally tolerant to text files and CR/LF issues, so it's not a
proof that source() works - and even so, the transfer that mangles
binaries would generally be the one that converts textfiles correctly
and vice versa)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Oct 21 00:17:33 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 20 Oct 2000 18:17:33 -0400 (EDT)
Subject: [R] Linux -> Win2K file transfer
In-Reply-To: <x27l735fkx.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10010201809400.18359-100000@bolker.zoo.ufl.edu>


  That kind of mangling is one of the things I thought about, but the
transfer was copying across from my Linux machine to my WWW directory on
the departmental NT machine (Samba mount) and then via Netscape download.  
I don't *think* this would mangle things ... And yes, ascii=TRUE didn't
work either.  I'm going to try dump/dput next ... if this problem persists
I may try to figure it out, but if I can work around it I'll just do that.

  Thanks for the suggestions ...

  Ben

On 21 Oct 2000, Peter Dalgaard BSA wrote:

> It's supposed to work. Since you ask for suggestions of
> boneheadedness:
> 
> Did you by any chance transfer the files with FTP in ascii mode or
> with mcopy -t or similar?
> 
> Are you saying that the ascii=TRUE saves didn't work either?
> 
> (R is generally tolerant to text files and CR/LF issues, so it's not a
> proof that source() works - and even so, the transfer that mangles
> binaries would generally be the one that converts textfiles correctly
> and vice versa)
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From TStoeckenius at environcorp.com  Sat Oct 21 02:02:00 2000
From: TStoeckenius at environcorp.com (Till Stoeckenius)
Date: Fri, 20 Oct 2000 17:02:00 -0700
Subject: [R] Creating dialogs in Windows 9x
Message-ID: <C12FB8D2370BD4118DA200D0B71595100B5A4B@NOVATO_NT1>

I noticed the See Also section of the help page for winDialog refers to a
"package windlgs in the package source distribution..." but I can't seem to
find any documentation on this.  Does anyone know if it exists or where to
find out more about it? Any information would be helpful, thanks.
--------------------------------------------
Till E. Stoeckenius, Senior Consultant
ENVIRON Corporation
101 Rowland Way, Suite 220, Novato, CA 94945-5010
Voice: 415-899-0709 
Fax:   415-899-0707
E-mail: till at environ.org
--------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 21 09:31:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 21 Oct 2000 08:31:54 +0100 (BST)
Subject: [R] Creating dialogs in Windows 9x
In-Reply-To: <C12FB8D2370BD4118DA200D0B71595100B5A4B@NOVATO_NT1>
Message-ID: <Pine.GSO.4.05.10010210827570.17158-100000@auk.stats>

On Fri, 20 Oct 2000, Till Stoeckenius wrote:

> I noticed the See Also section of the help page for winDialog refers to a
> "package windlgs in the package source distribution..." but I can't seem to
> find any documentation on this.  Does anyone know if it exists or where to
> find out more about it? Any information would be helpful, thanks.

Well, did you look in the package source distribution, rw1011sp.zip?
It puts the sources for a  package called windlgs in rw1011/src/library,
the standard place.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 21 09:52:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 21 Oct 2000 08:52:21 +0100 (BST)
Subject: [R] Linux -> Win2K file transfer
In-Reply-To: <Pine.LNX.4.10.10010201809400.18359-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.05.10010210844520.17158-100000@auk.stats>

On Fri, 20 Oct 2000 ben at zoo.ufl.edu wrote:

>   That kind of mangling is one of the things I thought about, but the
> transfer was copying across from my Linux machine to my WWW directory on
> the departmental NT machine (Samba mount) and then via Netscape download.  
> I don't *think* this would mangle things ... And yes, ascii=TRUE didn't
> work either.  I'm going to try dump/dput next ... if this problem persists
> I may try to figure it out, but if I can work around it I'll just do that.

Both binary and ascii saves on R-1.1.1 on Linux load into rw1011 under NT4
on my laptop, either if I copy the Linux ext2 file to NTFS under NT
or if I use a common FAT16 file system.  And, if I do the latter, the
reverse works.

(Indeed, loads of ASCII saves must work, as lots of packages contain .rda
files saved on Unix/Linux, and they all do load into rw1011.)

I do think a Windows Netscape download is likely to mangle things.
Try putting the files in a zip file for the duration of the transfer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Sat Oct 21 12:24:20 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Sat, 21 Oct 2000 12:24:20 +0200
Subject: [R] scale() and NA values
Message-ID: <B6173B74.42EC%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

I've a question concerning the behaviour of the "scale" function in the base
package. I'm using R 1.1.1 on Windows 95.

If I take a matrix with NA values, such as

> tm <- matrix(c(2,1,0,1,0,NA,NA,NA,0), nrow=3)
> tm
     [,1] [,2] [,3]
[1,]    2    1   NA
[2,]    1    0   NA
[3,]    0   NA    0

and scale it, the columns containing NAs come out all NA:

> scale(tm)
     [,1] [,2] [,3]
[1,]    1   NA   NA
[2,]    0   NA   NA
[3,]   -1   NA   NA

If I just center it, this does not happen:

> scale(tm, scale=F)
     [,1] [,2] [,3]
[1,]    1  0.5   NA
[2,]    0 -0.5   NA
[3,]   -1   NA    0

Is this difference in NA handling deliberate?

>From the help text and from looking at the code of "scale.default", I got
the impression that the scaling part of it would filter out NAs:

...
        if (scale) {
            f <- function(v) {
                nas <- is.na(v)
                if (any(is.na(nas)))
                  v <- v[!is.na(nas)]
                sqrt(sum(v^2)/max(1, length(v) - 1))
            }
            x <- sweep(x, 2, apply(x, 2, f), "/")
...


Is the mentioned behaviour thus a bug, or is there a reason for it?

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Oct 21 17:35:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 21 Oct 2000 16:35:48 +0100 (BST)
Subject: [R] scale() and NA values
In-Reply-To: <B6173B74.42EC%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.GSO.4.05.10010211623460.8401-100000@auk.stats>

On Sat, 21 Oct 2000, Kaspar Pflugshaupt wrote:

> Hello,
> 
> I've a question concerning the behaviour of the "scale" function in the base
> package. I'm using R 1.1.1 on Windows 95.
> 
> If I take a matrix with NA values, such as
> 
> > tm <- matrix(c(2,1,0,1,0,NA,NA,NA,0), nrow=3)
> > tm
>      [,1] [,2] [,3]
> [1,]    2    1   NA
> [2,]    1    0   NA
> [3,]    0   NA    0
> 
> and scale it, the columns containing NAs come out all NA:
> 
> > scale(tm)
>      [,1] [,2] [,3]
> [1,]    1   NA   NA
> [2,]    0   NA   NA
> [3,]   -1   NA   NA
> 
> If I just center it, this does not happen:
> 
> > scale(tm, scale=F)
>      [,1] [,2] [,3]
> [1,]    1  0.5   NA
> [2,]    0 -0.5   NA
> [3,]   -1   NA    0
> 
> Is this difference in NA handling deliberate?
> 
> >From the help text and from looking at the code of "scale.default", I got
> the impression that the scaling part of it would filter out NAs:
> 
> ...
>         if (scale) {
>             f <- function(v) {
>                 nas <- is.na(v)
>                 if (any(is.na(nas)))
>                   v <- v[!is.na(nas)]
>                 sqrt(sum(v^2)/max(1, length(v) - 1))
>             }
>             x <- sweep(x, 2, apply(x, 2, f), "/")
> ...
> 
> 
> Is the mentioned behaviour thus a bug, or is there a reason for it?

It's a bug, and the prototype gets this right.

nas will be TRUE or FALSE.
is.na(nas) is always FALSE: you always know if something is an NA or not.

All that is needed is v <- v[!is.na(v)]. I doubt if the pre-test saves any
worthwhile time or space.

I've put a bug fix in.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Sun Oct 22 16:47:03 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Sun, 22 Oct 2000 16:47:03 +0200
Subject: [R] How to build the RMySQL package on Windows?
Message-ID: <39F2FDE7.D835054A@molgen.mpg.de>

Hello!

I tried to build the RMySQL package by myself on an NT machine. I have a
NT machine with cygwin compiler and activestate Perl installed on it.

Perl details:
D:\prog\rw1011\src\gnuwin32>perl -v
This is perl, version 5.005_03 built for MSWin32-x86-object
(with 1 registered patch, see perl -V for more detail)
Copyright 1987-1999, Larry Wall
Binary build 522 provided by ActiveState Tool Corp.
http://www.ActiveState.com
Built 09:52:28 Nov  2 1999

I followod the steps described in RHOME/readme.packages. and perished
at.

D:\prog\rw1011\src\gnuwin32>make pkg-RMySQL
make DLLNM=  EXTRADOCS= \
          -C D:/prog/rw1011/src/library/RMySQL PKG=RMySQL
RHOME=D:/prog/rw1011 RLIB=D:/prog/rw1011/library \
          -f D:/prog/rw1011/src/gnuwin32/MakePkg
""---------- Making package RMySQL ------------""
mkdir -p D:/prog/rw1011/library/RMySQL
The syntax of the command is incorrect.
make[1]: *** [D:/prog/rw1011/library/RMySQL/zzzz] Error 1
make: *** [pkg-RMySQL] Error 2

Some hints? Some tips? A precompiled package?

            \\\\/////
          @(.|.)@    ??????
_oooO______Oooo___



Best regards
Eryk


Eryk Witold Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestrasse 73 14195 Berlin
Germany


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Oct 22 18:06:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Oct 2000 17:06:53 +0100 (BST)
Subject: [R] How to build the RMySQL package on Windows?
In-Reply-To: <39F2FDE7.D835054A@molgen.mpg.de>
Message-ID: <Pine.GSO.4.05.10010221650350.29034-100000@auk.stats>

On Sun, 22 Oct 2000, Witold Eryk Wolski wrote:

> Hello!
> 
> I tried to build the RMySQL package by myself on an NT machine. I have a
> NT machine with cygwin compiler and activestate Perl installed on it.
> 
> Perl details:
> D:\prog\rw1011\src\gnuwin32>perl -v
> This is perl, version 5.005_03 built for MSWin32-x86-object
> (with 1 registered patch, see perl -V for more detail)
> Copyright 1987-1999, Larry Wall
> Binary build 522 provided by ActiveState Tool Corp.
> http://www.ActiveState.com
> Built 09:52:28 Nov  2 1999
> 
> I followod the steps described in RHOME/readme.packages. and perished
> at.
> 
> D:\prog\rw1011\src\gnuwin32>make pkg-RMySQL
> make DLLNM=  EXTRADOCS= \
>           -C D:/prog/rw1011/src/library/RMySQL PKG=RMySQL
> RHOME=D:/prog/rw1011 RLIB=D:/prog/rw1011/library \
>           -f D:/prog/rw1011/src/gnuwin32/MakePkg
> ""---------- Making package RMySQL ------------""
> mkdir -p D:/prog/rw1011/library/RMySQL
> The syntax of the command is incorrect.
> make[1]: *** [D:/prog/rw1011/library/RMySQL/zzzz] Error 1
> make: *** [pkg-RMySQL] Error 2
> 
> Some hints? Some tips? A precompiled package?

I am pretty sure you don't have the tools described in
RHOME/readme.packages in your PATH correctly.  You can probably use the
cygwin ones, but only if somehow you managed to collect a set on one of the
days when they all work. You appear to be getting the NT mkdir. Try mkdir
--help to find out.

I believe that to build RMySQL (which is from Devel) you will have to do
quite a bit of work, for it is configure-based and does not seem (as
`Writing R Extensions' requests) to describe how to configure it manually.  
Also its README says

    For installation see "README.install"

and there is no such file.  At the very least you will need a 
src/Makevars with PKG_CPPFLAGS and PKG_LIBS set correctly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Sun Oct 22 18:39:39 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Sun, 22 Oct 2000 18:39:39 +0200
Subject: [R] How to build the RMySQL package on Windows?
References: <Pine.GSO.4.05.10010221650350.29034-100000@auk.stats>
Message-ID: <39F3184B.82B97490@molgen.mpg.de>

Hi!
I am gone a bit further. Now its looking much nicer because I started the
compilation from the cygwin shell. Thanks.

bash-2.02$ make pkg-RMySQL
make DLLNM=  EXTRADOCS= \
  -C d:/prog/rw1011/src/library/RMySQL PKG=RMySQL RHOME=d:/prog/rw1011
RLIB=d:/prog/rw1011/library \
  -f d:/prog/rw1011/src/gnuwin32/MakePkg
---------- Making package RMySQL ------------
mkdir -p d:/prog/rw1011/library/RMySQL
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./Copyrights ./LGPL ./README
./S-DBI.notes.txt d:/prog/rw1011/library/RMySQL/
mkdir -p d:/prog/rw1011/library/RMySQL/R
cat ./R/DBI.R ./R/MySQL.R ./R/MySQLsupport.R ./R/S4R.R ./R/zzz.R     >
d:/prog/rw1011/library/RMySQL/R/RMySQL
make -C ./src RHOME=d:/prog/rw1011 \
  -f d:/prog/rw1011/src/gnuwin32/MakeDll DLLNAME=RMySQL
gcc -mno-cygwin -DWIN32   -Id:/prog/rw1011/src/include -include
d:/prog/rw1011/src/include/globalvar.h  -Wall -O2   -c R
MySQL.c -o RMySQL.o
In file included from RMySQL.c:1:
RMySQL.h:24: mysql.h: No such file or directory
RMySQL.h:25: mysql_com.h: No such file or directory
make[2]: *** [RMySQL.o] Error 1
make[1]: *** [src/RMySQL.dll] Error 2
make: *** [pkg-RMySQL] Error 2

If I guess right the problem remains that the compiler couldnt find the mysql.h
and so on, which are in my mysql client directory.
How and where to pass the path information?

Eryk

Eryk Witold Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr 73 14195 Berlin
Germany



Prof Brian D Ripley wrote:

> On Sun, 22 Oct 2000, Witold Eryk Wolski wrote:
>
> > Hello!
> >
> > I tried to build the RMySQL package by myself on an NT machine. I have a
> > NT machine with cygwin compiler and activestate Perl installed on it.
> >
> > Perl details:
> > D:\prog\rw1011\src\gnuwin32>perl -v
> > This is perl, version 5.005_03 built for MSWin32-x86-object
> > (with 1 registered patch, see perl -V for more detail)
> > Copyright 1987-1999, Larry Wall
> > Binary build 522 provided by ActiveState Tool Corp.
> > http://www.ActiveState.com
> > Built 09:52:28 Nov  2 1999
> >
> > I followod the steps described in RHOME/readme.packages. and perished
> > at.
> >
> > D:\prog\rw1011\src\gnuwin32>make pkg-RMySQL
> > make DLLNM=  EXTRADOCS= \
> >           -C D:/prog/rw1011/src/library/RMySQL PKG=RMySQL
> > RHOME=D:/prog/rw1011 RLIB=D:/prog/rw1011/library \
> >           -f D:/prog/rw1011/src/gnuwin32/MakePkg
> > ""---------- Making package RMySQL ------------""
> > mkdir -p D:/prog/rw1011/library/RMySQL
> > The syntax of the command is incorrect.
> > make[1]: *** [D:/prog/rw1011/library/RMySQL/zzzz] Error 1
> > make: *** [pkg-RMySQL] Error 2
> >
> > Some hints? Some tips? A precompiled package?
>
> I am pretty sure you don't have the tools described in
> RHOME/readme.packages in your PATH correctly.  You can probably use the
> cygwin ones, but only if somehow you managed to collect a set on one of the
> days when they all work. You appear to be getting the NT mkdir. Try mkdir
> --help to find out.
>
> I believe that to build RMySQL (which is from Devel) you will have to do
> quite a bit of work, for it is configure-based and does not seem (as
> `Writing R Extensions' requests) to describe how to configure it manually.
> Also its README says
>
>     For installation see "README.install"
>
> and there is no such file.  At the very least you will need a
> src/Makevars with PKG_CPPFLAGS and PKG_LIBS set correctly.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Oct 22 19:05:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Oct 2000 18:05:41 +0100 (GMT Daylight Time)
Subject: [R] How to build the RMySQL package on Windows?
In-Reply-To: <39F3184B.82B97490@molgen.mpg.de>
Message-ID: <Pine.WNT.4.05.10010221758050.147-100000@tern.stats>

On Sun, 22 Oct 2000, Witold Eryk Wolski wrote:

> Hi!
> I am gone a bit further. Now its looking much nicer because I started the
> compilation from the cygwin shell. Thanks.
> 
[...]

> If I guess right the problem remains that the compiler couldnt find the mysql.h
> and so on, which are in my mysql client directory.
> How and where to pass the path information?

Exactly where I told you to, in src/Makevars.  As configuration does not
work, you'll have to figure out what to put there, but src/Makevars.in
should give you a hint.  Or ask the package authors, as they have
failed to supply the information requested in the package-writers manual.
Do remember this is a Devel package, not warranted to work anywhere.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Sun Oct 22 21:24:49 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Sun, 22 Oct 2000 21:24:49 +0200
Subject: [R] How to pass 
Message-ID: <39F33F01.76124ECB@molgen.mpg.de>

HI!
Have somebody an expample how the syntax is for passing the path of
include files to:

"If a package needs to specify additional directories for search-
ing header les (`-I' options) or additional libraries for linking (`-l'
and `-L' options), it
should do this by setting the variables PKG_CPPFLAGS and PKG_LIBS in
`src/Makevars'." But no examples. :-(

src/Makevars.

src/Makevars.in
PKG_CPPFLAGS = @PKG_CPPFLAGS@
PKG_LIBS = @PKG_LIBS@
?

Eryk

Eryk Witold Wolski
Max Plank Institute fuer Molekulare Genetik
Ihnestrasse 73 14195 Berlin
Germany


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Oct 23 10:32:58 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 23 Oct 2000 10:32:58 +0200 (CEST)
Subject: [R] How to pass 
In-Reply-To: <39F33F01.76124ECB@molgen.mpg.de>
References: <39F33F01.76124ECB@molgen.mpg.de>
Message-ID: <14835.63418.118111.471344@mithrandir.hornik.net>

>>>>> Witold Eryk Wolski writes:

> HI!
> Have somebody an expample how the syntax is for passing the path of
> include files to:

> "If a package needs to specify additional directories for search-
> ing header les (`-I' options) or additional libraries for linking (`-l'
> and `-L' options), it
> should do this by setting the variables PKG_CPPFLAGS and PKG_LIBS in
> `src/Makevars'." But no examples. :-(

> src/Makevars.

> src/Makevars.in
> PKG_CPPFLAGS = @PKG_CPPFLAGS@
> PKG_LIBS = @PKG_LIBS@
> ?

Have a look at the current version of RMySQL (in contrib/Devel on CRAN).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Mon Oct 23 14:49:54 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Mon, 23 Oct 2000 14:49:54 +0200
Subject: [R] behaviour of plot(...,type="l")
Message-ID: <39F433F2.9018B41D@olsen.ch>

plot(rnorm(100000),type="l")

plots only about 7e4 lines while the same without type="l" works fine.
Is this a feature or a bug or is this configurable?


R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)

SunOS 5.5.1 Generic_103640-29 sun4u sparc SUNW,Ultra-1

Thanks
Adrian

--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 23 15:10:04 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Oct 2000 14:10:04 +0100 (BST)
Subject: [R] behaviour of plot(...,type="l")
Message-ID: <200010231310.OAA16081@toucan.stats.ox.ac.uk>

> Date: Mon, 23 Oct 2000 14:49:54 +0200
> From: Adrian Trapletti <adrian at olsen.ch>
> 
> plot(rnorm(100000),type="l")
> 
> plots only about 7e4 lines while the same without type="l" works fine.
> Is this a feature or a bug or is this configurable?

{on SunOS 5.5.1)

We've seen this before (I thought there was a bug report on R-bugs,
but could not locate it quickly).

Assuming this is on an X11 device, it's a limitation of the X server.
Many (including Solaris ones) can only handle 64K line segments.

I am sure you don't really want a plot of 10^5 random numbers, and
also that no plot of 10^5 points is going to be intelligible unless there
is a lot of redundancy.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 23 15:29:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Oct 2000 15:29:26 +0200
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: Adrian Trapletti's message of "Mon, 23 Oct 2000 14:49:54 +0200"
References: <39F433F2.9018B41D@olsen.ch>
Message-ID: <x2bswb3cuh.fsf@blueberry.kubism.ku.dk>

Adrian Trapletti <adrian at olsen.ch> writes:

> plot(rnorm(100000),type="l")
> 
> plots only about 7e4 lines while the same without type="l" works fine.
> Is this a feature or a bug or is this configurable?
> 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.1  (August 15, 2000)
> 
> SunOS 5.5.1 Generic_103640-29 sun4u sparc SUNW,Ultra-1

It's a feature of your X-server... Are you sure that isn't ~7e5? The
number of points transferred in a call to XDrawLines appears to be
truncated to 16 bits on some older displays. We've had it reported
before but decided that it was probably too painful to work around in
relation to the magnitude of the problem.

Of course if you want to chip in with a patch...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Mon Oct 23 16:40:04 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Mon, 23 Oct 2000 16:40:04 +0200
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <39F433F2.9018B41D@olsen.ch>; from adrian@olsen.ch on Mon, Oct 23, 2000 at 14:49:54 +0200
References: <39F433F2.9018B41D@olsen.ch>
Message-ID: <20001023164004.A2846@diw14093.diw.de>

Hello,

on 
Linux 2.2.16 i686 with

R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)

> plot(rnorm(100000),type="l")
> plot(rnorm(100000))

 works both well (1e05)

jan

On Mon, 23 Oct 2000, Adrian Trapletti wrote:

> plot(rnorm(100000),type="l")
> 
> plots only about 7e4 lines while the same without type="l" works fine.
> Is this a feature or a bug or is this configurable?
> 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.1  (August 15, 2000)
> 
> SunOS 5.5.1 Generic_103640-29 sun4u sparc SUNW,Ultra-1
> 
> Thanks
> Adrian
> 
> --
> Adrian Trapletti, Olsen & Associates   Ltd., See-
> feldstrasse 233,   CH-8008  Z?rich,   Switzerland
> Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
> E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Oct 23 17:04:24 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 23 Oct 2000 17:04:24 +0200 (MET DST)
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <x2bswb3cuh.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.4.21.0010231641130.27605-100000@alnair.uio.no>

Dear all,

I have a problem that I guess may be related, it haven't really bothered
me too much, so I thought it is just me, but it is a bit strange, and
while we're talking about it: 

I have 
> par()$type
[1] "p"
and, if I do 
> plot(1:5)
I get a plot with points, so far so good. Then, I go 
> par(type="l")
> plot(1:5)
but it's still points. It should have been a line, shouldn't it?
> plot(1:5, type="l")
gives a line, and 
> par("type")
[1] "l"
(ahem, yes, I re-RTFM at this point)

> R.version
         _                   
platform alphaev6-dec-osf4.0e
arch     alphaev6            
os       osf4.0e             
system   alphaev6, osf4.0e   
status                       
major    1                   
minor    1.1                 
year     2000                
month    August              
day      15                  
language R

So, is it me, or....?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Mon Oct 23 17:14:50 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Mon, 23 Oct 2000 17:14:50 +0200
Subject: [R] behaviour of plot(...,type="l")
References: <200010231310.OAA16081@toucan.stats.ox.ac.uk>
Message-ID: <39F455EA.3F9C8098@olsen.ch>

Brian, Peter,

Prof Brian Ripley wrote:

> > Date: Mon, 23 Oct 2000 14:49:54 +0200
> > From: Adrian Trapletti <adrian at olsen.ch>
> >
> > plot(rnorm(100000),type="l")
> >
> > plots only about 7e4 lines while the same without type="l" works fine.
> > Is this a feature or a bug or is this configurable?
>
> {on SunOS 5.5.1)
>
> We've seen this before (I thought there was a bug report on R-bugs,
> but could not locate it quickly).

>
> Assuming this is on an X11 device, it's a limitation of the X server.
> Many (including Solaris ones) can only handle 64K line segments.

Yes I forgot to mention that it is on x11.

Nevertheless, if it's an x server limitation, then, at least the plotting
programs I have tried here  --- gnuplot (octave), Spyglass Plot, probably
also Splus (was not able to try that because our Splus server is currently
down) --- are quite clever to avoid these problems, they can easily plot,
e.g., time series of length 1e5.

> I am sure you don't really want a plot of 10^5 random numbers, and
> also that no plot of 10^5 points is going to be intelligible unless there
> is a lot of redundancy.

We are working here mainly with financial time series tick-by-tick (e.g., 5
month USD-JPY 454563 ticks and we analyze up to 15 years of data). Of course
there is a lot of redundancy, but it's much more convenient if you just use
a machine with a lot of RAM and don't care about aggregating data etc. and
for some computations we really use all the data...

----------------------------

Peter Dalgaard BSA wrote:

  It's a feature of your X-server... Are you sure that isn't ~7e5?

At least the axis annotation says 7e4.

  The
  number of points transferred in a call to XDrawLines appears to be
  truncated to 16 bits on some older displays. We've had it reported
  before but decided that it was probably too painful to work around in
  relation to the magnitude of the problem.

The problem is of course not that serious and one can simply use plots
without lines. However, this is not completely satisfactory for all cases
and in the longer run it would be probably nice to have a work around, at
least from my point of view.

  Of course if you want to chip in with a patch...

:-)  I know that complaining is easier than solving the problem.

Thanks Brian and Peter

best Adrian

--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 23 17:32:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Oct 2000 17:32:30 +0200
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: Adrian Trapletti's message of "Mon, 23 Oct 2000 17:14:50 +0200"
References: <200010231310.OAA16081@toucan.stats.ox.ac.uk> <39F455EA.3F9C8098@olsen.ch>
Message-ID: <x266mj375d.fsf@blueberry.kubism.ku.dk>

Adrian Trapletti <adrian at olsen.ch> writes:

> Peter Dalgaard BSA wrote:
> 
>   It's a feature of your X-server... Are you sure that isn't ~7e5?
> 
> At least the axis annotation says 7e4.

Ahem. 2^16 == 65536 ~= 7e4. Oops. Don't give me such difficult tasks
on a Monday morning....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 23 17:37:26 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 23 Oct 2000 08:37:26 -0700 (PDT)
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <Pine.OSF.4.21.0010231641130.27605-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.21.0010230834560.24833-100000@atlas.biostat.washington.edu>

On Mon, 23 Oct 2000, Kjetil Kjernsmo wrote:

> Dear all,
> 
> I have a problem that I guess may be related, it haven't really bothered
> me too much, so I thought it is just me, but it is a bit strange, and
> while we're talking about it: 
> 
> I have 
> > par()$type
> [1] "p"
> and, if I do 
> > plot(1:5)
> I get a plot with points, so far so good. Then, I go 
> > par(type="l")
> > plot(1:5)
> but it's still points. It should have been a line, shouldn't it?
> > plot(1:5, type="l")
> gives a line, and 
> > par("type")
> [1] "l"
> (ahem, yes, I re-RTFM at this point)

plot.default() has an argument type=, so it *always* resets the plotting
type. If you don't specify that argument it resets it to the default, "p".

It could be changed to default to par("type") but I don't see when this
would be helpful.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Mon Oct 23 17:46:04 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Mon, 23 Oct 2000 17:46:04 +0200
Subject: [R] How To compile RMySQL on Windows?
Message-ID: <39F45D3C.B8ECDDB6@molgen.mpg.de>

Hallo!

Thanks for the answers that I received.


I had downloaded the last distribution of RMySQL from
/R/CRAN/src/contrib/Devel..
Its the first package that I am trying to compile under Windows.

>From the Compiler I am getting the following error message.
In file included from RMySQL.c:1:
RMySQL.h:24: mysql.h: No such file or directory
RMySQL.h:25: mysql_com.h: No such file or directory
make[2]: *** [RMySQL.o] Error 1
make[1]: *** [src/RMySQL.dll] Error 2
make: *** [pkg-RMySQL] Error 2

Have somebody an expample how the syntax is for passing the path of
include files? Is there a source for further information how to do it?


"If a package needs to specify additional directories for search-
ing header les (`-I' options) or additional libraries for linking (`-l'
and `-L' options), it
should do this by setting the variables PKG_CPPFLAGS and PKG_LIBS in
`src/Makevars'."

But no examples. :-(

RMySQL/src/Makevars. doesnt exists.
RMySQL/src/Makevars.in contains:
PKG_CPPFLAGS = @PKG_CPPFLAGS@
PKG_LIBS = @PKG_LIBS@
?????


I added the path /prog/mysql/mysql/include \  to RMySQL/configure.in. But
it doesnt work.

After adding  -Id:/prog/mysql/mysql/include, to some lines in the Makefile
and MkRules Files in   the RHOME/src/gnuwin32 directory i got some
progress. But it appears to me that it is not the intended solution to
reedit each time the Makefile in src/gnuwin32 if a new Package have to be
compiled.


Does anybody hava a compiled version of R.1.1.1 on Digital UNIX V4.0D or an
compiled verion of RMySQL for windows NT?

Regards
Eryk

Eryk Witold Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestrasse 73 14195 Berlin
Germany


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 23 18:00:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Oct 2000 17:00:05 +0100 (BST)
Subject: [R] How To compile RMySQL on Windows?
In-Reply-To: <39F45D3C.B8ECDDB6@molgen.mpg.de>
Message-ID: <Pine.GSO.4.05.10010231653490.16308-100000@toucan.stats>

On Mon, 23 Oct 2000, Witold Eryk Wolski wrote:

> Hallo!
> 
> Thanks for the answers that I received.
> 
> 
> I had downloaded the last distribution of RMySQL from
> /R/CRAN/src/contrib/Devel..
> Its the first package that I am trying to compile under Windows.
> 
> >From the Compiler I am getting the following error message.
> In file included from RMySQL.c:1:
> RMySQL.h:24: mysql.h: No such file or directory
> RMySQL.h:25: mysql_com.h: No such file or directory
> make[2]: *** [RMySQL.o] Error 1
> make[1]: *** [src/RMySQL.dll] Error 2
> make: *** [pkg-RMySQL] Error 2
> 
> Have somebody an expample how the syntax is for passing the path of
> include files? Is there a source for further information how to do it?
> 
> 
> "If a package needs to specify additional directories for search-
> ing header les (`-I' options) or additional libraries for linking (`-l'
> and `-L' options), it
> should do this by setting the variables PKG_CPPFLAGS and PKG_LIBS in
> `src/Makevars'."
> 
> But no examples. :-(
> 
> RMySQL/src/Makevars. doesnt exists.
> RMySQL/src/Makevars.in contains:
> PKG_CPPFLAGS = @PKG_CPPFLAGS@
> PKG_LIBS = @PKG_LIBS@
> ?????

It *really* isn't hard.  Try a src/Makevars containing something like

PKG_CPPFLAGS = -Id:/prog/mysql/mysql/include
PKG_LIBS = -Ld:/prog/mysql/mysql/lib -lmysql

(I'm guessing here) and you will need to make an import library for the
DLL, or convert one that MySQL ships with.
> 
> After adding  -Id:/prog/mysql/mysql/include, to some lines in the Makefile
> and MkRules Files in   the RHOME/src/gnuwin32 directory i got some
> progress. But it appears to me that it is not the intended solution to
> reedit each time the Makefile in src/gnuwin32 if a new Package have to be
> compiled.

No, the intended solution is for the package author to provide a
src/Makevars or tell you how to write one.  But this is Devel package,
and they didn't except on Unix.

> Does anybody hava a compiled version of R.1.1.1 on Digital UNIX V4.0D or an
> compiled verion of RMySQL for windows NT?

As far as I can tell RMySQL for windows NT would need a lot of work.
MySQL needs TCP/IP support etc, and the R Devel package is BSD sockets
only.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From radar at orinoco.princeton.edu  Mon Oct 23 20:12:27 2000
From: radar at orinoco.princeton.edu (gopher)
Date: Mon, 23 Oct 2000 13:12:27 -0500
Subject: [R] Regular Expression and Pmatch
Message-ID: <200010231812.NAA25387@orinoco.princeton.edu>

Hi, I wonder if there's a good intro to the pattern matching using R? I'm a perl
programer and find it too confusing and complex to use regular expressions under R.
For instance, why does pmatch("d","ad") returns NULL? How would I call the
functions in order to match any portion of the string? Under what circumstances shall
backslush be used? I try to extract all strings with ".d", however just couldnt manage
to do it? Any ideas? Or I have to write my own regex extension ? TIA.
-Yu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Mon Oct 23 19:39:05 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Mon, 23 Oct 2000 19:39:05 +0200
Subject: [R] Does anybody have a binary dis. of R.1.1.1 for Digital Unix 
 V4.0D???
References: <Pine.GSO.4.05.10010231653490.16308-100000@toucan.stats>
Message-ID: <39F477B9.6698AB2F@molgen.mpg.de>

HI!
Thanks for the example of src/Makevars!
As you expected it is the beginning of troubles.

Does anybody have a binary distribution of R.1.1.1 for Digital UNIX V4.0D?
Eryk


The first 10 lines from about 1000!

D:\prog\rw1011\src\gnuwin32>make pkg-RMySQL
make DLLNM=  EXTRADOCS= \
  -C D:/prog/rw1011/src/library/RMySQL PKG=RMySQL RHOME=D:/prog/rw1011
RLIB=D:/prog/rw1011/library \
  -f D:/prog/rw1011/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/d/prog/rw1011/src/library/RMySQL'
---------- Making package RMySQL ------------
mkdir -p D:/prog/rw1011/library/RMySQL
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./Copyrights ./LGPL ./README
./S-DBI.notes.txt D:/prog/rw1011/library/RMySQL/
make -C ./src RHOME=D:/prog/rw1011 \
  -f D:/prog/rw1011/src/gnuwin32/MakeDll DLLNAME=RMySQL
make[2]: Entering directory `/cygdrive/d/prog/rw1011/src/library/RMySQL/src'
gcc   -Id:/prog/mysql/mysql/include -ID:/prog/rw1011/src/include -include
D:/prog/rw1011/src/include/globalvar.h  -Wall -O2   -c RMySQL.c -o RMySQL.o
In file included from d:\prog\mysql\mysql\include\mysql.h:47,
                 from RMySQL.h:24,
                 from RMySQL.c:1:
d:\prog\mysql\mysql\include\mysql_com.h:101: parse error before `SOCKET'
d:\prog\mysql\mysql\include\mysql_com.h:101: warning: no semicolon at end of
struct or union
d:\prog\mysql\mysql\include\mysql_com.h:106: `Rf_error' redeclared as different
kind of symbol
D:\prog\rw1011\src\include\R_ext\Error.h:29: previous declaration of `Rf_error'
d:\prog\mysql\mysql\include\mysql_com.h:111: parse error before `}'
d:\prog\mysql\mysql\include\mysql_com.h:111: warning: type defaults to `int' in
declaration of `NET'
d:\prog\mysql\mysql\include\mysql_com.h:111: warning: data definition has no type
or storage class
d:\prog\mysql\mysql\include\mysql_com.h:141: parse error before `*'

AND SO ON.

Eryk Witold Wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 23 20:52:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Oct 2000 20:52:52 +0200
Subject: [R] Regular Expression and Pmatch
In-Reply-To: gopher's message of "Mon, 23 Oct 2000 13:12:27 -0500"
References: <200010231812.NAA25387@orinoco.princeton.edu>
Message-ID: <x2wvez5r0b.fsf@blueberry.kubism.ku.dk>

gopher <radar at orinoco.princeton.edu> writes:

> Hi, I wonder if there's a good intro to the pattern matching using R? I'm a perl
> programer and find it too confusing and complex to use regular expressions under R.
> For instance, why does pmatch("d","ad") returns NULL? How would I call the
> functions in order to match any portion of the string? Under what circumstances shall
> backslush be used? I try to extract all strings with ".d", however just couldnt manage
> to do it? Any ideas? Or I have to write my own regex extension ? TIA.
> -Yu

Try help(regexpr). pmatch does *partial* matching - looks for the
string which the first arg is a prefix (well it's really a bit more
complicated...) in the same manner as when actual arguments are
matched to formals.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 23 21:18:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 23 Oct 2000 20:18:33 +0100 (BST)
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <39F455EA.3F9C8098@olsen.ch>
Message-ID: <Pine.GSO.4.05.10010232014170.22323-100000@auk.stats>

On Mon, 23 Oct 2000, Adrian Trapletti wrote:

> Brian, Peter,
> 
> Prof Brian Ripley wrote:
> 
> > > Date: Mon, 23 Oct 2000 14:49:54 +0200
> > > From: Adrian Trapletti <adrian at olsen.ch>
> > >
> > > plot(rnorm(100000),type="l")
> > >
> > > plots only about 7e4 lines while the same without type="l" works fine.
> > > Is this a feature or a bug or is this configurable?
> >
> > {on SunOS 5.5.1)
> >
> > We've seen this before (I thought there was a bug report on R-bugs,
> > but could not locate it quickly).
> 
> >
> > Assuming this is on an X11 device, it's a limitation of the X server.
> > Many (including Solaris ones) can only handle 64K line segments.
> 
> Yes I forgot to mention that it is on x11.
> 
> Nevertheless, if it's an x server limitation, then, at least the plotting
> programs I have tried here  --- gnuplot (octave), Spyglass Plot, probably
> also Splus (was not able to try that because our Splus server is currently
> down) --- are quite clever to avoid these problems, they can easily plot,
> e.g., time series of length 1e5.

Indeed. The idea needed is to split the DrawLines call into pieces of less
than 64K: the following in src/unix/X11/devX11.c does that

static void X11_Polyline(int n, double *x, double *y, int coords, DevDesc
*dd)
{
    XPoint *points;
    double devx, devy;
    int i, j;
    x11Desc *xd = (x11Desc *) dd->deviceSpecific;
    points = (XPoint *) C_alloc(n, sizeof(XPoint));

    for(i=0 ; i<n ; i++) {
	devx = x[i];  devy = y[i];
	GConvert(&devx, &devy, coords, DEVICE, dd);
	points[i].x = (int)(devx);
	points[i].y = (int)(devy);
    }

    SetColor(dd->gp.col, dd);
    SetLinetype(dd->gp.lty, dd->gp.lwd, dd);
    for(i = 0; i < n; i+= 10000-1) {
	j = n - i;
	j = (j <= 10000) ? j: 10000; /* allow for overlap */
	XDrawLines(display, xd->window, xd->wgc, points+i, j, 
CoordModeOrigin);
    }
...

Works for me on Solaris 2.7 (which previously exhibited the problem).
I'll commit this for 1.2.0.  It's not going to be perfect for e.g.
dashed lines, but I don't think people will notice a 1 in 10000 glitch.


Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Tue Oct 24 04:03:50 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Mon, 23 Oct 2000 16:03:50 -1000
Subject: [R] R-1.1.1 for Debian 2.2
In-Reply-To: <6rg0lva8je.fsf@franz.stat.wisc.edu>
References: <MJ Ray's message of "17 Oct 2000 10:04:46 +0100">
 <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
 <sziu2abyh1t.fsf@stats.mth.uea.ac.uk>
Message-ID: <3.0.5.32.20001023160350.008543f0@pop-server.hawaii.edu>

Many thanks for the responses to my query on installing R-1.1.1 on a Debian
2.2 system (i386). I wasn't able to get apt-get to work, and I didn't want
to move to the unstable version of debian (I suspect this wasn't the issue
in any case). After fiddling for a few hours on three different (Debian 2.2
i386) machines, however, I found that the following works.

1 Use apt-get to install tcl8.0, tk8.0 and atlas2, in that order (if
they're not already installed, which they weren't on my machines).

2 ftp to cran.us.r-project.org and download r-base_1.1.1-1_i386.deb and the
doc-pdf and r-gnome .deb files.

3 Do 'dpkg -i r-base_1.1.1-1_i386.deb' and similarly for the doc-pdf and
r-gnome files.

I couldn't get 'apt-get install r-base' to work at step 2: it installs the
older version of R rather than 1.1.1 and complains incessantly about not
being able to stat source package list. This apt-get command did result in
the installation of some depends, however (zlib? libreadling2? the messages
scrolled off the top of the screen), which might mean that a few other
steps are required in addition to the above if the necessary packages are
not present on the system.

In summary, what seems to work is to (i) get the necessary depends
installed and then (ii) download the r-base .deb files from cran and
install them manually with dpkg.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Z.Barta at bristol.ac.uk  Tue Oct 24 10:21:43 2000
From: Z.Barta at bristol.ac.uk (Zoltan Barta)
Date: Tue, 24 Oct 2000 09:21:43 +0100 (GMT Daylight Time)
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <Pine.GSO.4.21.0010230834560.24833-100000@atlas.biostat.washington.edu>
Message-ID: <SIMEON.10010240943.A@maths-pc80.bristol.ac.uk>


On Mon, 23 Oct 2000 08:37:26 -0700 (PDT) Thomas Lumley 
<thomas at biostat.washington.edu> wrote:

> plot.default() has an argument type=, so it *always* resets the plotting
> type. If you don't specify that argument it resets it to the default, "p".
> 
> It could be changed to default to par("type") but I don't see when this
> would be helpful.

It can be helpful if you are plotting a lot of line drawing (which is 
my case) and you would not like to set 'type="l"' in all of your plot 
commands. Of course, you can write a small function for that but I 
feel that it would be nicer to be able to set this with par().

Zoltan Barta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Tue Oct 24 10:32:47 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 24 Oct 2000 09:32:47 +0100
Subject: [R] R-1.1.1 for Debian 2.2
In-Reply-To: Griffith Feeney's message of "Mon, 23 Oct 2000 16:03:50 -1000"
References: <MJ Ray's message of "17 Oct 2000 10:04:46 +0100">
	<3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
	<sziu2abyh1t.fsf@stats.mth.uea.ac.uk>
	<3.0.5.32.20001023160350.008543f0@pop-server.hawaii.edu>
Message-ID: <szizojuljv4.fsf@stats.mth.uea.ac.uk>

Griffith Feeney <gfeeney at hawaii.edu> writes:
> I couldn't get 'apt-get install r-base' to work at step 2: it installs the
> older version of R rather than 1.1.1 and complains incessantly about not
> being able to stat source package list. This apt-get command did result in

Did you "apt-get clean ; apt-get update" just to make sure apt really
really knew about the cran sources.list line?  Just an idea.

-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Tue Oct 24 11:40:07 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Tue, 24 Oct 2000 11:40:07 +0200
Subject: [R] is there a way to create legends automatically?
Message-ID: <OFF1D52860.E0557AA4-ONC1256982.0034E3DC@muc.allianz>

Hi all,

when plotting mutiple data series, i need to specify how one data series
should be plotted. that s fine, but can i let the program automatically
create legends afterwards? thanks very much.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ecomus51 at oecon.au.dk  Tue Oct 24 13:05:18 2000
From: ecomus51 at oecon.au.dk (Ott Toomet)
Date: Tue, 24 Oct 2000 12:05:18 +0100
Subject: [R] multinominal probit & logit
Message-ID: <39f55fa6.251d.0@oecon.au.dk>

Dear everybody!

Are there algorithms for multinominal logit/probit available for R? Is it my
fault that I cannot find these in CRAN? Has somebody programmed these?

with best wishes
 
Ott Toomet
Ott.Toomet at mail.ee
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 24 13:05:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Oct 2000 12:05:28 +0100 (BST)
Subject: [R] multinominal probit & logit
Message-ID: <200010241105.MAA22212@toucan.stats.ox.ac.uk>

> From: "Ott Toomet" <ecomus51 at brage1.econ.au.dk>
> Date: Tue, 24 Oct 2000 12:05:18 +0100
> 
> Dear everybody!
> 
> Are there algorithms for multinominal logit/probit available for R? Is it my
> fault that I cannot find these in CRAN? Has somebody programmed these?

Depends on what you mean (multinomial?).  There is what I understand
by multinomial logistic in function multinom in package nnet in the
VR bundle, and nnet there can do several other variants on this theme.

Most such models are not hard to program and fit by a general-purpose
optimizer like optim().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.clayton at mrc-bsu.cam.ac.uk  Tue Oct 24 13:23:47 2000
From: david.clayton at mrc-bsu.cam.ac.uk (David Clayton)
Date: Tue, 24 Oct 2000 12:23:47 +0100
Subject: [R] multinominal probit & logit 
In-Reply-To: Message from "Ott Toomet" <ecomus51@oecon.au.dk> 
   of "Tue, 24 Oct 2000 12:05:18 BST." <39f55fa6.251d.0@oecon.au.dk> 
Message-ID: <E13o2BH-0000bS-00@bernstein.mrc-bsu.cam.ac.uk>

> 
> Are there algorithms for multinominal logit/probit available for R? Is it my
> fault that I cannot find these in CRAN? Has somebody programmed these?
> 

You can also fit these models using the gee() package. The method is not ML, but there are certain other advantages to this method. 

See

http://www.mrc-bsu.cam.ac.uk/pub/publications/submitted/david_clayton/ordcat2.ps

for details.


David Clayton

MRC Biostatistics Unit

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct 24 13:47:43 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 24 Oct 2000 07:47:43 -0400 (EDT)
Subject: [R] behaviour of plot(...,type="l")
In-Reply-To: <SIMEON.10010240943.A@maths-pc80.bristol.ac.uk>
Message-ID: <Pine.LNX.4.10.10010240746340.22888-100000@bolker.zoo.ufl.edu>


   I second the motion ... (I've always liked gnuplot's "set data style"
option.)

On Tue, 24 Oct 2000, Zoltan Barta wrote:

> 
> On Mon, 23 Oct 2000 08:37:26 -0700 (PDT) Thomas Lumley 
> <thomas at biostat.washington.edu> wrote:
> 
> > plot.default() has an argument type=, so it *always* resets the plotting
> > type. If you don't specify that argument it resets it to the default, "p".
> > 
> > It could be changed to default to par("type") but I don't see when this
> > would be helpful.
> 
> It can be helpful if you are plotting a lot of line drawing (which is 
> my case) and you would not like to set 'type="l"' in all of your plot 
> commands. Of course, you can write a small function for that but I 
> feel that it would be nicer to be able to set this with par().
> 
> Zoltan Barta
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct 24 15:32:12 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 24 Oct 2000 09:32:12 -0400 (EDT)
Subject: [R] is there a way to create legends automatically?
In-Reply-To: <OFF1D52860.E0557AA4-ONC1256982.0034E3DC@muc.allianz>
Message-ID: <Pine.LNX.4.10.10010240922570.22944-100000@bolker.zoo.ufl.edu>


  Can you be a little more specific about what you want to do?
  To "automatically" create a legend you can write a small function that
plots your data and then generates a legend.  An example is below: the
only slightly tricky thing is automatically generating the correct
placement of the legend.  I've chosen here to put it in the upper
left-hand corner.  It would be wonderful to be able to somehow know where
to put it that it wouldn't overlap any of the data, but short of expanding
the plot range beyond the range of the data I don't see that this is
possible to do automatically.

x <- as.data.frame(matrix(runif(200),ncol=5))
names(x) <- LETTERS[1:5]

plot.with.legend <- function(x,col=1:ncol(x),lty=1:ncol(x),...) {
## x should be a data frame with all numeric variables
   matplot(1:nrow(x),x,col=col,lty=lty,type="l",...)
   u <- par("usr")  
   ## put an automatic legend in the upper left-hand corner of the plot
   legend(u[1],u[4],names(x),col=col,lty=lty)
}

On Tue, 24 Oct 2000 Pan_Yuming at aam.de wrote:

> Hi all,
> 
> when plotting mutiple data series, i need to specify how one data series
> should be plotted. that s fine, but can i let the program automatically
> create legends afterwards? thanks very much.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Oct 24 15:39:58 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 24 Oct 2000 08:39:58 -0500
Subject: [R] R-1.1.1 for Debian 2.2
In-Reply-To: MJ Ray's message of "24 Oct 2000 09:32:47 +0100"
References: <MJ Ray's message of "17 Oct 2000 10:04:46 +0100"> <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu> <sziu2abyh1t.fsf@stats.mth.uea.ac.uk> <3.0.5.32.20001023160350.008543f0@pop-server.hawaii.edu> <szizojuljv4.fsf@stats.mth.uea.ac.uk>
Message-ID: <6rn1fuici9.fsf@franz.stat.wisc.edu>

MJ Ray <mjr at stats.mth.uea.ac.uk> writes:

> Griffith Feeney <gfeeney at hawaii.edu> writes:
> > I couldn't get 'apt-get install r-base' to work at step 2: it installs the
> > older version of R rather than 1.1.1 and complains incessantly about not
> > being able to stat source package list. This apt-get command did result in
> 
> Did you "apt-get clean ; apt-get update" just to make sure apt really
> really knew about the cran sources.list line?  Just an idea.

There may also be a dependency on the order of the lines in your
/etc/apt/sources.list file.  I think the line

 deb http://cran.r-project.org/bin/linux/debian potato main

should go before the other lines giving the usual archive sites.  It
sounds to me as if you are picking up the out-of-date package in the
regular archive.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Tue Oct 24 17:05:28 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Tue, 24 Oct 2000 17:05:28 +0200
Subject: [R] dataset for classification ?
Message-ID: <39F5A538.BE14219D@univ-orleans.fr>

Hello to the R community,

which dataset(s) available in R is suitable to test the quality of a
classification tool ?

Thansk in advance,

--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
http://www.univ-orleans.fr/SCIENCES/ICOA/
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Oct 24 18:06:20 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 24 Oct 2000 18:06:20 +0200 (CEST)
Subject: [R] dataset for classification ?
In-Reply-To: <39F5A538.BE14219D@univ-orleans.fr>
References: <39F5A538.BE14219D@univ-orleans.fr>
Message-ID: <14837.45948.853208.997607@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 24 Oct 2000 17:05:28 +0200,
>>>>> nicolas baurin (nb) wrote:

nb> Hello to the R community,
nb> which dataset(s) available in R is suitable to test the quality of a
nb> classification tool ?


The mlbench package contains both artificial and real datasets that
have been used in the literature to test classifier performance. Of
course there is no such thing as ``the'' datasets for this purpose ...

hope this helps,


-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Oct 24 20:10:57 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 24 Oct 2000 11:10:57 -0700
Subject: [R] Crosstabs function
Message-ID: <5.0.0.25.2.20001024105957.00a72810@127.0.0.1>

Is there a crosstabs function like the one found in S-Plus available in any 
of the R addon packages?  I can't seem to locate anything other than the 
chisq.test, which is adequate but does not yield the output customarily 
required with any journal submission (in my field).   (S-Plus, SPSS, SAS 
all provide examples of the required output).

If there isn't such a function already available, this might be a 
worthwhile programming effort for me.

Thanks,

Thanks,





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vele.samak at ssmb.com  Tue Oct 24 20:50:25 2000
From: vele.samak at ssmb.com (Samak, Vele)
Date: Tue, 24 Oct 2000 14:50:25 -0400
Subject: [R] R_eval in tcltk library
Message-ID: <DF8D233E4341D411A7AD0008C7E634820409A2@exchny07.ny.ssmb.com>

Is there a method with the current tcltk library in R to call back an R
function within the .Tcl("...") interpreter? 

I can't find anything documented, and I don't understand the usefulness of
the .Tcl.callback() function. Browsing through the tcltk source code I found
two functions R_eval and R_call that seem to take input from the .Tcl
interpreter and parse them through the R evaluator. Unfortunately I get
Segmentation Fault (core dump) whenever I execute .Tcl("R_eval") or
.Tcl("R_call"). Also, the results from these functions appears to be lost
somewher. Both functions in the c code capture the result of eval in a
variable called ans, but that variable doesn't go anywhere apparently. 

If someone has examples of calling R functions from .Tcl I would greatly
appreciate it. Thanks,

-- 
Vele Samak, Vice President
Global Quantitative Research
Salomon Smith Barney 
7 WTC, New York, NY 10048, 212-783-7007
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Tue Oct 24 21:02:23 2000
From: stecalza at tiscalinet.it (Stefano Calza)
Date: Tue, 24 Oct 2000 21:02:23 +0200
Subject: R: [R] R-1.1.1 for Debian 2.2
Message-ID: <012601c03dec$f257f240$9c5b0a3e@stefano.biomet.unimi.it>


>MJ Ray <mjr at stats.mth.uea.ac.uk> writes:
>
>> Griffith Feeney <gfeeney at hawaii.edu> writes:
>> > I couldn't get 'apt-get install r-base' to work at step 2: it installs
the
>> > older version of R rather than 1.1.1 and complains incessantly about
not
>> > being able to stat source package list. This apt-get command did result
in
>>
>> Did you "apt-get clean ; apt-get update" just to make sure apt really
>> really knew about the cran sources.list line?  Just an idea.
>
>There may also be a dependency on the order of the lines in your
>/etc/apt/sources.list file.  I think the line
>
> deb http://cran.r-project.org/bin/linux/debian potato main
>
>should go before the other lines giving the usual archive sites.  It
>sounds to me as if you are picking up the out-of-date package in the
>regular archive.


Uhm, sounds strange to me. I installed R yesterday and everything worked
perfectly. And the line about the cran site comes after the others. I simply
typed: apt-get install r-base and it installed r with all the necessary
packages.

Bye,
Stefano.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 24 22:55:37 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Oct 2000 22:55:37 +0200
Subject: [R] R_eval in tcltk library
In-Reply-To: "Samak, Vele"'s message of "Tue, 24 Oct 2000 14:50:25 -0400"
References: <DF8D233E4341D411A7AD0008C7E634820409A2@exchny07.ny.ssmb.com>
Message-ID: <x21yx67yd2.fsf@blueberry.kubism.ku.dk>

"Samak, Vele" <vele.samak at ssmb.com> writes:

> Is there a method with the current tcltk library in R to call back an R
> function within the .Tcl("...") interpreter? 
> 
> I can't find anything documented, and I don't understand the usefulness of
> the .Tcl.callback() function. Browsing through the tcltk source code I found
> two functions R_eval and R_call that seem to take input from the .Tcl
> interpreter and parse them through the R evaluator. Unfortunately I get
> Segmentation Fault (core dump) whenever I execute .Tcl("R_eval") or
> .Tcl("R_call"). Also, the results from these functions appears to be lost
> somewher. Both functions in the c code capture the result of eval in a
> variable called ans, but that variable doesn't go anywhere apparently. 
> 
> If someone has examples of calling R functions from .Tcl I would greatly
> appreciate it. Thanks,

None of this stuff is really cast in stone at this point, but here's a
brief sketch:

R_call and .Tcl.callback belong together and it hardly makes sense to
use R_call from raw Tcl code. Their main function is to make R
callbacks from widgets work, i.e.

tkbutton(buttonframe, text = "Quit", command = function() tkdestroy(base))

will make the Tcl command to create the button widget contain
something like "-command { R_call 0x408546a0 }" where the hex code is
the memory address of the R function. Some further trickery allows the
use of %x-style arguments as some types of callbacks want.

R_eval actually does something useful, although it is really a remnant
from some earlier experiments and not currently used for anything. It
does require an argument though and it has no protection against missing
arguments, which explains your segfault. What you can do is e.g.

> .Tcl("R_eval {print(2+2)}")
[1] 4

You cannot at present get the result returned (and in many cases the
complexity of the R object would probably not allow it to be
represented in the string form required by Tcl), but you could
communicate via a global Tcl variable, like in

> (.Tcl("R_eval {tclvar$four <- 2+2} ; format $four"))
[1] "4"

(The extra () there has to do with the assignment setting the
invisible flag.)

If you take a look at the development sources, you'll find that some
new stuff has been added by Thomas Lumley, showing some incorporation
of larger-scale Tcl codes, which you might want to take a closer look
at. [Unless you are on a very short deadline with your project, you
might want to shift over to the development version entirely. It is
expected to become the next stable version (1.2.0) around December
15.] 

As I said, this is very much experimental code, and very likely quirks
will pop up as soon as people try using it for anything substantial.
Suggestions and bug reports are welcome. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Oct 24 22:55:45 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 24 Oct 2000 16:55:45 -0400
Subject: [R] Predict.nnet ?
Message-ID: <019101c03dfc$c7c233a0$0201a8c0@Workgroup>

Hi,

I have a problem with predict.nnet when I try to use it. It crashes R with a
memory access violation.

platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

I admit the data set is quite large ~ [3000, 101] and its a 3 class problem.
I know that it works fine when there is a single target. I wonder if what
I'm doing is wrong or if could be a bug of some kind?

Thanks

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Wed Oct 25 01:56:06 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Tue, 24 Oct 2000 13:56:06 -1000
Subject: [R] R-1.1.1 for Debian 2.2
In-Reply-To: <6rn1fuici9.fsf@franz.stat.wisc.edu>
References: <MJ Ray's message of "24 Oct 2000 09:32:47 +0100">
 <3.0.5.32.20001016150607.008532e0@pop-server.hawaii.edu>
 <sziu2abyh1t.fsf@stats.mth.uea.ac.uk>
 <3.0.5.32.20001023160350.008543f0@pop-server.hawaii.edu>
 <szizojuljv4.fsf@stats.mth.uea.ac.uk>
Message-ID: <3.0.5.32.20001024135606.0084ac70@pop-server.hawaii.edu>

I did do "apt-get clean" and "apt-get update".

I wondered about line order in sources.list. Put the cran line after the
debian lines initially, then moved it ahead of them, then commented out
everything but the cran line to be sure apt-get couldn't see anything else.
None of this worked. I'm inclined to suppose that apt-get is smart enough
to compare version numbers from alternative sites, though I'm just guessing.

Re Stefano's post, yes it is strange. Perhaps the difference is explained
by dependencies. apt-get may be able to sort out the first level, but not
more than one level.

At 03:37 AM 10/24/00 -1000, you wrote:
>MJ Ray <mjr at stats.mth.uea.ac.uk> writes:
>
>> Griffith Feeney <gfeeney at hawaii.edu> writes:
>> > I couldn't get 'apt-get install r-base' to work at step 2: it installs
the
>> > older version of R rather than 1.1.1 and complains incessantly about not
>> > being able to stat source package list. This apt-get command did
result in
>> 
>> Did you "apt-get clean ; apt-get update" just to make sure apt really
>> really knew about the cran sources.list line?  Just an idea.
>
>There may also be a dependency on the order of the lines in your
>/etc/apt/sources.list file.  I think the line
>
> deb http://cran.r-project.org/bin/linux/debian potato main
>
>should go before the other lines giving the usual archive sites.  It
>sounds to me as if you are picking up the out-of-date package in the
>regular archive.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Oct 25 07:31:07 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 25 Oct 2000 07:31:07 +0200 (CEST)
Subject: [R] Crosstabs function
In-Reply-To: <5.0.0.25.2.20001024105957.00a72810@127.0.0.1>
References: <5.0.0.25.2.20001024105957.00a72810@127.0.0.1>
Message-ID: <14838.28699.879863.96681@mithrandir.hornik.net>

>>>>> Marc Feldesman writes:

> Is there a crosstabs function like the one found in S-Plus available
> in any of the R addon packages?  I can't seem to locate anything other
> than the chisq.test, which is adequate but does not yield the output
> customarily required with any journal submission (in my field).
> (S-Plus, SPSS, SAS all provide examples of the required output).

> If there isn't such a function already available, this might be a
> worthwhile programming effort for me.

R 1.2.0, due around Dec 15, will have xtabs() which should be close
enough to crosstabs().

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct 25 08:17:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Oct 2000 07:17:33 +0100 (BST)
Subject: [R] Predict.nnet ?
In-Reply-To: <019101c03dfc$c7c233a0$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10010250708490.29488-100000@auk.stats>

On Tue, 24 Oct 2000, Yves Gauvreau wrote:

> Hi,
> 
> I have a problem with predict.nnet when I try to use it. It crashes R with a
> memory access violation.

It should tell you in which DLL, which would help.

> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    1.1
> year     2000
> month    August
> day      15
> language R
> 
> I admit the data set is quite large ~ [3000, 101] and its a 3 class problem.
> I know that it works fine when there is a single target. I wonder if what
> I'm doing is wrong or if could be a bug of some kind?

Not really much there to go on, I'm afraid.  You do have the latest version
of the VR bundle?  (9.2-1: package.description("nnet")$Version will tell
you).  There was an R-related memory-management problem on a few platforms
(not Solaris, yes on Linux PPC, seen once on Linux i386, in nnet not
predict.nnet) in the immediately previous release (6.1-9, perhaps also
6.1-8).

Certainly you should be able to do this, and the scripts in the bundle
do an example with three output and predicting to a large set.
As a workaround, does predicting to a smaller set of observations help?
You can then build up the big prediction in pieces.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Oct 25 09:51:27 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 25 Oct 2000 08:51:27 +0100 (BST)
Subject: [R] is there a way to create legends automatically?
In-Reply-To: <Pine.LNX.4.10.10010240922570.22944-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10010250849130.2981-100000@localhost.localdomain>

>   To "automatically" create a legend you can write a small function that
> plots your data and then generates a legend.  An example is below: the
> only slightly tricky thing is automatically generating the correct
> placement of the legend.  I've chosen here to put it in the upper
> left-hand corner.  It would be wonderful to be able to somehow know where
> to put it that it wouldn't overlap any of the data, but short of expanding
> the plot range beyond the range of the data I don't see that this is
> possible to do automatically.
How about automatically calling locator()? Then the user clicks on the
spot where the legend should appear. ?legend mentions that "a
call to the function `locator' can be used in place of the `x' and
`y' arguments".


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Wed Oct 25 10:01:21 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Wed, 25 Oct 2000 04:01:21 -0400
Subject: [R] Estimating Survival function in coxph
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E631@mail.nsabp.pitt.edu>

Hello:

Assuming that I have used the coxph function to fit a Cox model with several
covariates, is there a natural way to estimate a value of the survivorship
function at, say, five years, 
S(5), along with a confidence interval?  I have brought this question up
with one or two colleagues, who have suggested using a parametric model, but
I wonder whether it can be done using the semiparametric coxph() model.
Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Oct 25 11:54:55 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 25 Oct 2000 05:54:55 -0400
Subject: [R] Predict.nnet ?
References: <Pine.GSO.4.05.10010250708490.29488-100000@auk.stats>
Message-ID: <01c601c03e69$a0d95620$0201a8c0@Workgroup>

Here is what I have

> library(nnet)
> package.description("nnet")$Version
[1] "6.2-1"

data.x <- data.frame(p1=p1, p2=p2, p3=p3, p4=p4, p5=p5)

dim(data.x) => 4583  100

dim(data.y) => 4583 3 {matrix}

samp <- sample(1:nrow(data.y), 1500)

data.nn <- nnet.default(x=data.x[samp,], y=data.y[samp,], size=20, rang=0.1,
skip=T, MaxNWts=2500, linout=T, decay=2.5e-4, maxit=100)

**** a call to nnet(...) only complains about missing argument

I hit the return key and nnet start doing it's job to the end without
complaining.

data.predict <- predict(data.nn, data.x[-samp,])

Run for a little while (a few seconds) and I get a message box:

Rgui.exe Application error

The instruction at 0x10001181 reference memory at 0x05fb1000
The memory could not be read.

Click OK to terminate.
Click on CANCEL to debug

*********

I was using R 1010 so I though the problem could be because I don't have the
latest version. So I downloaded and installed the latest release of both R
and VR yesterday before posting the help request.

I'm surprise as you may be (Ripley) that I can train the network with no
obvious problem and that when I try to test the results using predict it
doesn't work. I understand that the forward pass needed by the nnet code to
compute the error, gradient and hessian (if asked for) should be the same.
It seems though, there could be a different approach for each?

I even tried this

data.predict <- predict(data.nn, data.x[100:120,])

with the same result.

Anyway, I though I may be using the library the wrong way? I don't know and
I'm still puzzle!

Any suggestion on how to figure out what's wrong?

Yves Gauvreau





----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, October 25, 2000 2:17 AM
Subject: Re: [R] Predict.nnet ?


> On Tue, 24 Oct 2000, Yves Gauvreau wrote:
>
> > Hi,
> >
> > I have a problem with predict.nnet when I try to use it. It crashes R
with a
> > memory access violation.
>
> It should tell you in which DLL, which would help.
>
> > platform Windows
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    1.1
> > year     2000
> > month    August
> > day      15
> > language R
> >
> > I admit the data set is quite large ~ [3000, 101] and its a 3 class
problem.
> > I know that it works fine when there is a single target. I wonder if
what
> > I'm doing is wrong or if could be a bug of some kind?
>
> Not really much there to go on, I'm afraid.  You do have the latest
version
> of the VR bundle?  (9.2-1: package.description("nnet")$Version will tell
> you).  There was an R-related memory-management problem on a few platforms
> (not Solaris, yes on Linux PPC, seen once on Linux i386, in nnet not
> predict.nnet) in the immediately previous release (6.1-9, perhaps also
> 6.1-8).
>
> Certainly you should be able to do this, and the scripts in the bundle
> do an example with three output and predicting to a large set.
> As a workaround, does predicting to a smaller set of observations help?
> You can then build up the big prediction in pieces.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Oct 25 13:06:40 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 25 Oct 2000 22:06:40 +1100
Subject: [R] Crosstabs function
Message-ID: <39F6BEC0.EC212AF9@ozemail.com.au>

Hi Marc,

There is an example program in "Kickstarting R" that might do what you
want.

http://www.stat.math.ethz.ch/CRAN/    (under Contributed Documentation)

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Oct 25 17:49:47 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 25 Oct 2000 11:49:47 -0400
Subject: [R] Predict.nnet ?
References: <Pine.GSO.4.05.10010250708490.29488-100000@auk.stats> <01c601c03e69$a0d95620$0201a8c0@Workgroup>
Message-ID: <01e301c03e9b$3413a6d0$0201a8c0@Workgroup>

Is there something I could do while waiting so that I could go on with my
work?

Thanks in advance

Yves Gauvreau


PS data.x range of values is in [0..1] if it matters



----- Original Message -----
From: "Yves Gauvreau" <cyg at sympatico.ca>
To: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, October 25, 2000 5:54 AM
Subject: Re: [R] Predict.nnet ?


> Here is what I have
>
> > library(nnet)
> > package.description("nnet")$Version
> [1] "6.2-1"
>
> data.x <- data.frame(p1=p1, p2=p2, p3=p3, p4=p4, p5=p5)
>
> dim(data.x) => 4583  100
>
> dim(data.y) => 4583 3 {matrix}
>
> samp <- sample(1:nrow(data.y), 1500)
>
> data.nn <- nnet.default(x=data.x[samp,], y=data.y[samp,], size=20,
rang=0.1,
> skip=T, MaxNWts=2500, linout=T, decay=2.5e-4, maxit=100)
>
> **** a call to nnet(...) only complains about missing argument
>
> I hit the return key and nnet start doing it's job to the end without
> complaining.
>
> data.predict <- predict(data.nn, data.x[-samp,])
>
> Run for a little while (a few seconds) and I get a message box:
>
> Rgui.exe Application error
>
> The instruction at 0x10001181 reference memory at 0x05fb1000
> The memory could not be read.
>
> Click OK to terminate.
> Click on CANCEL to debug
>
> *********
>
> I was using R 1010 so I though the problem could be because I don't have
the
> latest version. So I downloaded and installed the latest release of both R
> and VR yesterday before posting the help request.
>
> I'm surprise as you may be (Ripley) that I can train the network with no
> obvious problem and that when I try to test the results using predict it
> doesn't work. I understand that the forward pass needed by the nnet code
to
> compute the error, gradient and hessian (if asked for) should be the same.
> It seems though, there could be a different approach for each?
>
> I even tried this
>
> data.predict <- predict(data.nn, data.x[100:120,])
>
> with the same result.
>
> Anyway, I though I may be using the library the wrong way? I don't know
and
> I'm still puzzle!
>
> Any suggestion on how to figure out what's wrong?
>
> Yves Gauvreau
>
>
>
>
>
> ----- Original Message -----
> From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
> To: "Yves Gauvreau" <cyg at sympatico.ca>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Wednesday, October 25, 2000 2:17 AM
> Subject: Re: [R] Predict.nnet ?
>
>
> > On Tue, 24 Oct 2000, Yves Gauvreau wrote:
> >
> > > Hi,
> > >
> > > I have a problem with predict.nnet when I try to use it. It crashes R
> with a
> > > memory access violation.
> >
> > It should tell you in which DLL, which would help.
> >
> > > platform Windows
> > > arch     x86
> > > os       Win32
> > > system   x86, Win32
> > > status
> > > major    1
> > > minor    1.1
> > > year     2000
> > > month    August
> > > day      15
> > > language R
> > >
> > > I admit the data set is quite large ~ [3000, 101] and its a 3 class
> problem.
> > > I know that it works fine when there is a single target. I wonder if
> what
> > > I'm doing is wrong or if could be a bug of some kind?
> >
> > Not really much there to go on, I'm afraid.  You do have the latest
> version
> > of the VR bundle?  (9.2-1: package.description("nnet")$Version will tell
> > you).  There was an R-related memory-management problem on a few
platforms
> > (not Solaris, yes on Linux PPC, seen once on Linux i386, in nnet not
> > predict.nnet) in the immediately previous release (6.1-9, perhaps also
> > 6.1-8).
> >
> > Certainly you should be able to do this, and the scripts in the bundle
> > do an example with three output and predicting to a large set.
> > As a workaround, does predicting to a smaller set of observations help?
> > You can then build up the big prediction in pieces.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Oct 25 18:46:35 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Oct 2000 18:46:35 +0200
Subject: [R] lifetable, survivorship.. [forwarded message from Diana Fischer]
Message-ID: <14839.3691.329486.694187@gargle.gargle.HOWL>


This was accidentally addressed to me, personally:

------- start of forwarded message -------
Message-id: <39F70D7C.287323D5 at yale.edu>
MIME-version: 1.0
From: Diana Fischer <diana.fischer at yale.edu>
To: maechler at stat.math.ethz.ch
Subject: R-Project
Date: Wed, 25 Oct 2000 11:42:36 -0500

I briefly looked at the R documentation of available statistical
procedures.  It appears that there are no "lifetable" or
survivorship-failure model procedures.  Am I correct?

Thanks,

Diana B. Fischer, Ph.D.
Dept. Therapeutic Radiology
Yale School of Medicine
------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Oct 25 20:34:29 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 25 Oct 2000 14:34:29 -0400 (EDT)
Subject: [R] Covariace or variogram surface
In-Reply-To: <39F0687F.E395B137@ipimar.pt>
Message-ID: <Pine.LNX.4.10.10010251432440.24567-100000@bolker.zoo.ufl.edu>


  Looks like the sgeostat package (on CRAN) might do what you want ...


On Fri, 20 Oct 2000, [iso-8859-1] José Ernesto Jardim wrote:

> Hi
> 
> I'm interested in doing a anisotropy analysis of some spatial data and I
> want to do a contour plot of a covariance or variogram surface to
> visualize the directions of maximal and minimal anisotropy.
> 
> I know how to do a contour plot :-) but how can I obtain the variogram
> surface having a geoeas format dataset (X, Y, Z) ?
> 
> Thanks
> 
> EJ
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meb at dataventures.com  Wed Oct 25 21:02:39 2000
From: meb at dataventures.com (Mike Beddo)
Date: Wed, 25 Oct 2000 13:02:39 -0600
Subject: [R] Logging an R session to file?
Message-ID: <39F72E4F.90E33E1F@dataventures.com>

Is there a R function like "diary()" under S? I tried the docs but no
luck finding anything.

- Mike Beddo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Wed Oct 25 21:59:01 2000
From: dfs at research.att.com (Deborah Swayne)
Date: Wed, 25 Oct 2000 15:59:01 -0400
Subject: [R] png output in batch
Message-ID: <20001025155901.A14205994@fry.research.att.com>

I'm trying to use R in a cgi script to produce graphics
files in png format, and I'm having a problem.

My shell command line looks like this:
  R </usr/dfs/auction/eligibility.R --no-save  >/tmp/R.out
and the line in the R script looks like this:
 png ("foo.png", pointsize=18)

If I run outside the cgi context, it runs great.  When
run as in a cgi script, I get this error message:

Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  : 
        unable to start device PNG

Is there any way to trick this command into doing what I want?

I can alternatively produce postscript output, and then
convert to png, but I find the resolution disappointing.

(I'm using unix.)

Debby

-- 
Deborah Swayne               AT&T Labs - Research 
dfs at research.att.com         Shannon Laboratory, Room B295     
www.research.att.com/~dfs    180 Park Avenue
973 360-8423                 Florham Park, NJ 07932-0971
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct 25 22:02:16 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Oct 2000 21:02:16 +0100 (BST)
Subject: [R] Logging an R session to file?
In-Reply-To: <39F72E4F.90E33E1F@dataventures.com>
Message-ID: <Pine.GSO.4.05.10010252100580.21721-100000@auk.stats>

On Wed, 25 Oct 2000, Mike Beddo wrote:

> Is there a R function like "diary()" under S? I tried the docs but no

Is there an S function like diary()?  It is not in S-PLUS 3.4 or 5.1.
If you have it seems it must be a local extension.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Oct 25 22:17:25 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 25 Oct 2000 16:17:25 -0400
Subject: [R] .Alias
Message-ID: <85256983.006EC394.00@EPAHUB2.RTP.EPA.GOV>



Probably I've just misread the documentation, but I don't understand the
behavior of .Alias.
Consider this (on R-1.1.1, both Windows and SGI):

> tmp <- matrix(nrow=3,ncol=2)
> new <- .Alias(tmp)
> new[1,1] <- 1
> tmp
     [,1] [,2]
[1,]   NA   NA
[2,]   NA   NA
[3,]   NA   NA
> new
     [,1] [,2]
[1,]    1   NA
[2,]   NA   NA
[3,]   NA   NA

I expected tmp[1,1] to be 1.



R. Woodrow Setzer, Jr.                                            Phone: (919)
541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct 25 23:44:33 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Oct 2000 23:44:33 +0200
Subject: [R] .Alias
In-Reply-To: Setzer.Woodrow@epamail.epa.gov's message of "Wed, 25 Oct 2000 16:17:25 -0400"
References: <85256983.006EC394.00@EPAHUB2.RTP.EPA.GOV>
Message-ID: <x2hf60d29q.fsf@blueberry.kubism.ku.dk>

Setzer.Woodrow at epamail.epa.gov writes:

> Probably I've just misread the documentation, but I don't understand the
> behavior of .Alias.
> Consider this (on R-1.1.1, both Windows and SGI):
> 
> > tmp <- matrix(nrow=3,ncol=2)
> > new <- .Alias(tmp)
> > new[1,1] <- 1
> > tmp
>      [,1] [,2]
> [1,]   NA   NA
> [2,]   NA   NA
> [3,]   NA   NA
> > new
>      [,1] [,2]
> [1,]    1   NA
> [2,]   NA   NA
> [3,]   NA   NA
> 
> I expected tmp[1,1] to be 1.
> 

Heh... This stuff is tricky. The only sound advice is that unless you
know precisely what is going on, don't rely on assignment not to
cause object duplication. 

To add to your confusion, had you used matrix(0, nrow=3, ncol=2), then
indeed new and tmp would have stayed identical.

The reason? Take a look at this:

> tmp <- matrix(nrow=3,ncol=2)
> new <- .Alias(tmp)
> new[1,1] <- 1
> mode(new[2,2])
[1] "numeric"
> mode(tmp[2,2])
[1] "logical"

In the element assignment, there's a coercion to integer of the entire
array first, and this breaks the connection between "new" and "tmp".
 
(Yes, there's a reason that NAs are mode logical by default...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meb at dataventures.com  Wed Oct 25 23:51:03 2000
From: meb at dataventures.com (Mike Beddo)
Date: Wed, 25 Oct 2000 15:51:03 -0600
Subject: [R] Logging an R session to file?
References: <Pine.GSO.4.05.10010252100580.21721-100000@auk.stats>
Message-ID: <39F755C6.398160E8@dataventures.com>

Prof Ripley,

It's been many years since I used S or S-plus, so it's hard to remember
what I had then. My S book, "An Interactive Enviroment For Data Analysis
and Graphics," by R. Becker and J. Chambers, on page 139 (Keeping Track of
an Analysis: Sink and Diary) says "Executing diary() activates a
diary-keeping facility in S which appends the date and time to the file
''diary'' in the current UNIX directory. This is followed by all
expressions subsequently typed to S."

I'm new to R, but this seems too useful a facility to be overlooked? Or
maybe R users do it a different way?

- Mike Beddo

> On Wed, 25 Oct 2000, Mike Beddo wrote:
>
> > Is there a R function like "diary()" under S? I tried the docs but no
>
> Is there an S function like diary()?  It is not in S-PLUS 3.4 or 5.1.
> If you have it seems it must be a local extension.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derrick.Snowden at noaa.gov  Thu Oct 26 02:42:09 2000
From: Derrick.Snowden at noaa.gov (Derrick P. Snowden)
Date: Wed, 25 Oct 2000 20:42:09 -0400
Subject: [R] configure/make problems
Message-ID: <39F77DE1.46A969C3@noaa.gov>

Hi all, new user here.  I'm trying to install R on a Sun Solaris machine
ver 2.7.  I've encountered a previously documented problem regarding RSI
install and have gotten past that.  At this point configure runs to
completion.  Now, make is a different story.  When I run make here is
what I get.

<Wed8:22pm>-moriarty:/moriarty/Tools/R- 138%  make
cp: ../../bin: is a directory
install: cp ../../bin ./BATCH/bin failed 
*** Error code 2
make: Fatal error: Command failed for target `R'
Current working directory /moriarty/Tools/R-1.1.1/src/scripts
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /moriarty/Tools/R-1.1.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


Any ideas?  I've specified /moriarty/Tools/R-1.1.1 as the prefix in the
configure script.  It's difficult for me to tell if this is a install
problem or something with the way my local environment is set up.  Any
help would be appreciated.

Derrick



-- 
Derrick Snowden
NOAA / AOML / PhOD
4301 Rickenbacker Cswy.
Miami, FL  33149
Derrick.Snowden at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Oct 26 07:38:22 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 26 Oct 2000 07:38:22 +0200 (CEST)
Subject: [R] Logging an R session to file?
In-Reply-To: <39F72E4F.90E33E1F@dataventures.com>
Message-ID: <Pine.LNX.4.21.0010260737090.11884-100000@artemis.imbe.med.uni-erlangen.de>


> Is there a R function like "diary()" under S? I tried the docs but no
> luck finding anything.

I think the file .Rhistory has what you need. 

Torsten


> 
> - Mike Beddo
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Oct 26 08:08:08 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 26 Oct 2000 08:08:08 +0200
Subject: [R] Logging an R session to file?
References: <Pine.GSO.4.05.10010252100580.21721-100000@auk.stats> <39F755C6.398160E8@dataventures.com>
Message-ID: <39F7CA48.1B3519E1@statistik.uni-dortmund.de>

Mike Beddo wrote:
> 
> Prof Ripley,
> 
> It's been many years since I used S or S-plus, so it's hard to remember
> what I had then. My S book, "An Interactive Enviroment For Data Analysis
> and Graphics," by R. Becker and J. Chambers, on page 139 (Keeping Track of
> an Analysis: Sink and Diary) says "Executing diary() activates a
> diary-keeping facility in S which appends the date and time to the file
> ''diary'' in the current UNIX directory. This is followed by all
> expressions subsequently typed to S."
> 
> I'm new to R, but this seems too useful a facility to be overlooked? Or
> maybe R users do it a different way?


Have a look at the function sink().

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Oct 26 08:10:33 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 26 Oct 2000 08:10:33 +0200
Subject: [R] png output in batch
References: <20001025155901.A14205994@fry.research.att.com>
Message-ID: <39F7CAD9.96C32D99@statistik.uni-dortmund.de>

Deborah Swayne wrote:
> 
> I'm trying to use R in a cgi script to produce graphics
> files in png format, and I'm having a problem.
> 
> My shell command line looks like this:
>   R </usr/dfs/auction/eligibility.R --no-save  >/tmp/R.out
> and the line in the R script looks like this:
>  png ("foo.png", pointsize=18)
> 
> If I run outside the cgi context, it runs great.  When
> run as in a cgi script, I get this error message:
> 
> Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  :
>         unable to start device PNG
> 
> Is there any way to trick this command into doing what I want?
> 
> I can alternatively produce postscript output, and then
> convert to png, but I find the resolution disappointing.
> 
> (I'm using unix.)
> 
> Debby


I think bitmap() is a better solution. It also produces png-files.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 26 08:31:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Oct 2000 07:31:54 +0100 (BST)
Subject: [R] png output in batch
In-Reply-To: <20001025155901.A14205994@fry.research.att.com>
Message-ID: <Pine.GSO.4.05.10010260729280.22063-100000@auk.stats>

On Wed, 25 Oct 2000, Deborah Swayne wrote:

> I'm trying to use R in a cgi script to produce graphics
> files in png format, and I'm having a problem.
> 
> My shell command line looks like this:
>   R </usr/dfs/auction/eligibility.R --no-save  >/tmp/R.out
> and the line in the R script looks like this:
>  png ("foo.png", pointsize=18)
> 
> If I run outside the cgi context, it runs great.  When
> run as in a cgi script, I get this error message:
> 
> Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  : 
>         unable to start device PNG
> 
> Is there any way to trick this command into doing what I want?
> 
> I can alternatively produce postscript output, and then
> convert to png, but I find the resolution disappointing.
> 
> (I'm using unix.)

There is no way.  png() on Unix depends on having an X server (for the
fonts, basically).  I would use bitmap(), which does produce postscript
output and convert, but you can control the resolution.  (I would
use it even in interactive use.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 26 08:38:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Oct 2000 07:38:47 +0100 (BST)
Subject: [R] Logging an R session to file?
In-Reply-To: <39F755C6.398160E8@dataventures.com>
Message-ID: <Pine.GSO.4.05.10010260733410.22063-100000@auk.stats>

On Wed, 25 Oct 2000, Mike Beddo wrote:

> Prof Ripley,
> 
> It's been many years since I used S or S-plus, so it's hard to remember
> what I had then. My S book, "An Interactive Enviroment For Data Analysis
> and Graphics," by R. Becker and J. Chambers, on page 139 (Keeping Track of
> an Analysis: Sink and Diary) says "Executing diary() activates a
> diary-keeping facility in S which appends the date and time to the file
> ''diary'' in the current UNIX directory. This is followed by all
> expressions subsequently typed to S."

Indeed very many years. That's S version 1, 1984 vintage. It has not been
in S since ca 1989 as far as I know, as the 1988 S version 2 introduced an
auditing facility.

> I'm new to R, but this seems too useful a facility to be overlooked? Or
> maybe R users do it a different way?

There are lots of ways to keep a record of a session.  ESS users under
Emacs do it one way, most versions of R will record recent commands in
a file .Rhistory, in console versions you can just save the console output,
and so on.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Thu Oct 26 10:23:51 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 26 Oct 2000 09:23:51 +0100
Subject: [R] png output in batch
In-Reply-To: Deborah Swayne's message of "Wed, 25 Oct 2000 15:59:01 -0400"
References: <20001025155901.A14205994@fry.research.att.com>
Message-ID: <sziitqgggdk.fsf@stats.mth.uea.ac.uk>

Deborah Swayne <dfs at research.att.com> writes:
> I can alternatively produce postscript output, and then
> convert to png, but I find the resolution disappointing.

How are you doing the conversion?  Postscript should be renderable to
PNG at arbitrary resolutions (and is usually smaller).  At the moment,
Rcgi uses postscript as an intermediate step before rendering to GIF.
But anyway, as was also said, bitmap() is probably a good first thing
to look at.

I'm about to restart work on Rcgi to bring it up-to-date for R 1.1+
and would like to announce that on a R list.  Do I have to ask
anyone's permission?
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Thu Oct 26 10:22:25 2000
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Thu, 26 Oct 2000 10:22:25 +0200
Subject: [R] Problem with lm
Message-ID: <39F7E9C1.722F1FFD@ifp.fr>

Hello Everybody,

I have a problem with the output of lm.
In fact, when I compare the R output and the Splus output, the results
appears to be different :

I have a dataframe with 5 factors , 16 rows and a response.
First, I tried to fit this response to a linear model :
lm(rep~(A+B+C+D+E),data).
The results beetween SPlus and R are different.

In a second time, I tried a new fit : lm(rep~(A+B+D+E+A:B),data).
The estimation of the main effects in the model are the same as the one
obtained for the first fit for Splus,
and are different for R.

Here an exemple :


On R:                            On Splus

        lm(rep~(A+B+C+D+E),data) ->  Intercept  12.6297
12.5573

A              0.0391                  0.0195

B            -0.0073                -0.0036

C              0.0443                   0.0221

D           -0.0321                 -0.016

E            -0.18887              -0.0944

    lm(rep~(A+B+D+E+A:B),data) ->  Intercept  12.7937
12.5573

A            -0.2445                  0.0195

B            -0.2910                -0.0036

D           -0.03213               -0.016

E           -0.18887               -0.0944

A:B          0.5672                  0.1418

Can someone explain what happens with these fitting procedure.

Thanks


Isabelle Zabalza-Mezghani





--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001026/e7876bfe/attachment.html

From wsi at gcal.ac.uk  Thu Oct 26 11:11:32 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 26 Oct 2000 10:11:32 +0100 (BST)
Subject: [R] competing risks survival analysis
Message-ID: <Pine.LNX.4.10.10010260950430.4987-100000@localhost.localdomain>

I will have data in the following form:

Time    resp type       stim type
300     a               A
200     b               A
155     a               B
250     b               B
80      c               A
1000    d               B
...

c is left censored observation; d is right censored

This sort of problem is discussed in Chap 9 of Cox & Oakes Analysis of
Survival Data under the name "competing risks".

Observations are obtained from n independent individuals in the form
(t_i,r_i;s_i) where t_i is the time of the event (failure), r_i is the
response type (failure type), and s_i is the stimulus type (explanatory
variable).

I am wondering if it is possible to use survfit5 to fit parametric and
nonparametric models to data like these, and if so how to do it. I
read the documentation for survfit5 and Surv() did  not seem to allow for
the type of model I need. If I can't use survfit5, any suggestions on how
to proceed? I am pretty ignorant of survival analysis at this point.

(Maybe I can just do separate survival analysis runs for the type a and
type b responses?)

Thanks very much for any help.

Bill
PS In the end I would like to have a plot of phat_a(t) vs t: probablity of
a failure of type a as a function of time (just like Cox and Oakes fig
9.1)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Thu Oct 26 12:14:16 2000
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Thu, 26 Oct 2000 11:14:16 +0100
Subject: [R] Rgui and tcltk
Message-ID: <v04210102b61daa6e15fe@[163.1.146.10]>

I am having a little problem in relation to sending output to the R 
Console window, when a function is called by pushing a button in a Tk 
window.  Actually there seem to be two components to the problem:
  -- the R prompt does not re-appear until <return> is pressed
  -- text output to the R Console window *disappears* after <return> is pressed

The following, in R 1.1.1 under Windows NT 4, and using Tcl/Tk 8.3, 
illustrates:

library(tcltk)
testwindow  <- tktoplevel()
testaction<-function(){cat("Hello\n")
                        flush.console()}
testbutton <- tkbutton(testwindow, text="Click me", command=testaction)
tkpack(testbutton)

This successfully makes a Tk window with a button.  But pressing the 
button does not do what I intended.  What I would like is for the 
button-press to print out "Hello" at the R Console, and return to the 
R prompt.  I would welcome any hints on how I am going wrong here.

Thanks -- David


> version
          _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278612
United Kingdom                     Email david.firth at nuffield.oxford.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From coling at stams.strath.ac.uk  Thu Oct 26 12:46:43 2000
From: coling at stams.strath.ac.uk (Colin Gillespie)
Date: Thu, 26 Oct 2000 11:46:43 +0100
Subject: [R] persp plot question..
Message-ID: <00102611514901.29930@tolsta>

Dear All,
	I have been trying to to do this for a few days now. I can generate
persp plot OK and can generate it in colour using the command

persp(x,y,z,col=terrain.colors(20))

However, I was wondering if it is possible to shade the 3d surface like a
contour plot. i.e. black for large z, white for small z, say

Thanks in advance

Colin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 26 13:27:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Oct 2000 12:27:37 +0100 (BST)
Subject: [R] Rgui and tcltk
Message-ID: <200010261127.MAA05365@toucan.stats.ox.ac.uk>

> Date: Thu, 26 Oct 2000 11:14:16 +0100
> From: David Firth <david.firth at nuffield.oxford.ac.uk>
> 
> I am having a little problem in relation to sending output to the R 
> Console window, when a function is called by pushing a button in a Tk 
> window.  Actually there seem to be two components to the problem:
>   -- the R prompt does not re-appear until <return> is pressed

That's standard with these TclTk things, even on Unix.  What's
happening is that the console is still waiting for input, and is
unaware that another part of the event loop has generated a command and
hence output. So you can just type new input, without waiting for the prompt.

>   -- text output to the R Console window *disappears* after <return> is 
pressed

I believe it gets overwritten by the input line.  That's an R GUI
console gotcha.  You should have more success running from Rterm.  We
need to keep track in the GUI console of where the last output was,
rather than where we were looking for input.  I've done some work on
this for the next version, but it is probably not right yet.
(The same problem occurs when using Rprintf to debug C code.)

> The following, in R 1.1.1 under Windows NT 4, and using Tcl/Tk 8.3, 
> illustrates:
> 
> library(tcltk)
> testwindow  <- tktoplevel()
> testaction<-function(){cat("Hello\n")
>                         flush.console()}
> testbutton <- tkbutton(testwindow, text="Click me", command=testaction)
> tkpack(testbutton)
> 
> This successfully makes a Tk window with a button.  But pressing the 
> button does not do what I intended.  What I would like is for the 
> button-press to print out "Hello" at the R Console, and return to the 
> R prompt.  I would welcome any hints on how I am going wrong here.

I don't believe it is you!  This is said to be experimental code, and
there are definitely issues about running two GUIs at once we have
to think more about.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Oct 26 13:42:41 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 27 Oct 2000 00:42:41 +1300
Subject: [R] persp plot question..
In-Reply-To: <00102611514901.29930@tolsta>; from Colin Gillespie on Thu, Oct 26, 2000 at 11:46:43AM +0100
References: <00102611514901.29930@tolsta>
Message-ID: <20001027004241.A23181@stat1.stat.auckland.ac.nz>

On Thu, Oct 26, 2000 at 11:46:43AM +0100, Colin Gillespie wrote:
> Dear All,
> 	I have been trying to to do this for a few days now. I can generate
> persp plot OK and can generate it in colour using the command
> 
> persp(x,y,z,col=terrain.colors(20))
> 
> However, I was wondering if it is possible to shade the 3d surface like a
> contour plot. i.e. black for large z, white for small z, say

Here is a quick and trivial example which shows you how.

	#  Create a simple surface  f(x,y) = x^2 + y^2

	nx <- 21
	ny <- 21
	x <- seq(-1, 1, length = nx)
	y <- seq(-1, 1, length = ny)
	z <- outer(x, y, function(x,y) x^2 + y^2)

	#  Average the values at the corner of each facet
	#  and scale to a value in [0, 1].  We will use this
	#  to select a gray for colouring the facet.

	hgt <- 0.25 * (z[-nx,-ny] + z[-1,-ny] + z[-nx,-1] + z[-1,-1])
	hgt <- zmid / max(zmid)

	#  Plot the surface with the specified facet colours.

	persp(x, y, z, col = gray(1 - hgt))

You can use something similar to select colours from one of the
other standard palettes.  E.g

	persp(x, y, z, col=cm.colors(20)[floor(19*hgt+1)])

Hope this helps.

	Ross


-- 
+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Thu Oct 26 14:31:47 2000
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Thu, 26 Oct 2000 13:31:47 +0100
Subject: [R] Rgui and tcltk
In-Reply-To: <200010261127.MAA05365@toucan.stats.ox.ac.uk>
References: <200010261127.MAA05365@toucan.stats.ox.ac.uk>
Message-ID: <v04210106b61dd1d75951@[163.1.146.10]>

Brian, thanks for your reply.  All of that sounds plausible.

But...  I played around a bit more and found that if I change the 
button's action function to

testaction<-function(){cat(" \n")
                        cat("Hello\n")
                        flush.console()}

[i.e. just insert cat(" \n") before the output I want to print] all 
seems to work fine and I get just the console output that I want. 
But if the first line is changed again to cat("\n"), i.e. the leading 
space is absent, the problem (disappearing text) is back!  All rather 
puzzling.

David

> > Date: Thu, 26 Oct 2000 11:14:16 +0100
> > From: David Firth <david.firth at nuffield.oxford.ac.uk>
> >
> > I am having a little problem in relation to sending output to the R
> > Console window, when a function is called by pushing a button in a Tk
> > window.  Actually there seem to be two components to the problem:
> >   -- the R prompt does not re-appear until <return> is pressed
>
>That's standard with these TclTk things, even on Unix.  What's
>happening is that the console is still waiting for input, and is
>unaware that another part of the event loop has generated a command and
>hence output. So you can just type new input, without waiting for the prompt.
>
> >   -- text output to the R Console window *disappears* after <return> is
>pressed
>
>I believe it gets overwritten by the input line.  That's an R GUI
>console gotcha.  You should have more success running from Rterm.  We
>need to keep track in the GUI console of where the last output was,
>rather than where we were looking for input.  I've done some work on
>this for the next version, but it is probably not right yet.
>(The same problem occurs when using Rprintf to debug C code.)
>
> > The following, in R 1.1.1 under Windows NT 4, and using Tcl/Tk 8.3,
> > illustrates:
> >
> > library(tcltk)
> > testwindow  <- tktoplevel()
> > testaction<-function(){cat("Hello\n")
> >                         flush.console()}
> > testbutton <- tkbutton(testwindow, text="Click me", command=testaction)
> > tkpack(testbutton)
> >
> > This successfully makes a Tk window with a button.  But pressing the
> > button does not do what I intended.  What I would like is for the
> > button-press to print out "Hello" at the R Console, and return to the
> > R prompt.  I would welcome any hints on how I am going wrong here.
>
>I don't believe it is you!  This is said to be experimental code, and
>there are definitely issues about running two GUIs at once we have
>to think more about.
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Oct 26 14:50:24 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 26 Oct 2000 14:50:24 +0200
Subject: [R] Problem with lm
In-Reply-To: <39F7E9C1.722F1FFD@ifp.fr>
References: <39F7E9C1.722F1FFD@ifp.fr>
Message-ID: <14840.10384.948902.296940@gargle.gargle.HOWL>

>>>>> "isabelle" == isabelle Zabalza-Mezghani <isabelle.zabalza-mezghani at ifp.fr> writes:

    isabelle> Hello Everybody, I have a problem with the output of lm.  In
    isabelle> fact, when I compare the R output and the Splus output, the
    isabelle> results appears to be different :

    isabelle> I have a dataframe with 5 factors , 16 rows and a response.
    isabelle> First, I tried to fit this response to a linear model :
    isabelle> lm(rep~(A+B+C+D+E),data).  The results beetween SPlus and R
    isabelle> are different.

    isabelle> In a second time, I tried a new fit :
    isabelle> lm(rep~(A+B+D+E+A:B),data).  The estimation of the main
    isabelle> effects in the model are the same as the one obtained for the
    isabelle> first fit for Splus, and are different for R.

    isabelle> Here an exemple :

	      ...omitted...

    isabelle> Can someone explain what happens with these fitting
    isabelle> procedure.

It's because your "A",.. are factors,
and the default contrasts (for non-ordered factors) are different 
in R from those in S-plus (on purpose!):

R uses "treatment" contrasts by default (intuitive to most users)
S-plus has "helmert" ones    "    "     (neat for orthogonality reasons,
					 somewhat hard to interpret)

See ?contrasts (and read Venables & Ripley ..)

    isabelle> Thanks
    isabelle> Isabelle Zabalza-Mezghani

(and then, the whole stuff once more, with <HTML> tags ..
 Isabelle, please re-configure your E-mail program to *NOT* send html,
 at least not to mailing lists ...)


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Oct 26 14:54:11 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 26 Oct 2000 08:54:11 -0400
Subject: [R] .Alias
Message-ID: <85256984.004634CE.00@EPAHUB2.RTP.EPA.GOV>



Thanks.  This actually makes sense, and is consistent with the documentation for
.Alias.  I have tended to think of assignment as it occurs in C or fortran: at
wost, the thing assigned is coerced to match the thing being assigned to.  In R,
it seems, the thing being assigned to gets coerced to match the thing being
assigned.  I can see that this makes sense, but there must be a lot of
unintended consequences to watch out for!


R. Woodrow Setzer, Jr.                                            Phone: (919)
541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+------------------------>
|        |          p.dalgaard at bio|
|        |          stat.ku.dk    |
|        |                        |
|        |          10/25/2000    |
|        |          05:44 PM      |
|        |                        |
|--------+------------------------>
  >----------------------------------------------------------------------------|
  |                                                                            |
  |       To:     Woodrow Setzer/RTP/USEPA/US at EPA                              |
  |       cc:     r-help at hypatia.math.ethz.ch                                  |
  |       Subject:     Re: [R] .Alias                                          |
  >----------------------------------------------------------------------------|






Setzer.Woodrow at epamail.epa.gov writes:

> Probably I've just misread the documentation, but I don't understand the
> behavior of .Alias.
> Consider this (on R-1.1.1, both Windows and SGI):
>
> > tmp <- matrix(nrow=3,ncol=2)
> > new <- .Alias(tmp)
> > new[1,1] <- 1
> > tmp
>      [,1] [,2]
> [1,]   NA   NA
> [2,]   NA   NA
> [3,]   NA   NA
> > new
>      [,1] [,2]
> [1,]    1   NA
> [2,]   NA   NA
> [3,]   NA   NA
>
> I expected tmp[1,1] to be 1.
>

Heh... This stuff is tricky. The only sound advice is that unless you
know precisely what is going on, don't rely on assignment not to
cause object duplication.

To add to your confusion, had you used matrix(0, nrow=3, ncol=2), then
indeed new and tmp would have stayed identical.

The reason? Take a look at this:

> tmp <- matrix(nrow=3,ncol=2)
> new <- .Alias(tmp)
> new[1,1] <- 1
> mode(new[2,2])
[1] "numeric"
> mode(tmp[2,2])
[1] "logical"

In the element assignment, there's a coercion to integer of the entire
array first, and this breaks the connection between "new" and "tmp".

(Yes, there's a reason that NAs are mode logical by default...)

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Thu Oct 26 15:14:14 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Thu, 26 Oct 2000 15:14:14 +0200
Subject: [R] .Alias
In-Reply-To: <x2hf60d29q.fsf@blueberry.kubism.ku.dk>
Message-ID: <000201c03f4e$a4114c90$c10616ac@bbdo.de>


Not only changing mode or length (i.e. structure) of the original object
results in converting an .Alias into a real copy, as the following examples
show:

> x <- 1:9
> y <- .Alias(x[9])
> y[1]
[1] 9
> y[1] <- 10
> x
[1] 1 2 3 4 5 6 7 8 9
# not [1] 1 2 3 4 5 6 7 8 10 as expected

> x <- 1:9
> y <- .Alias(x[9])
> x[9] <- 10
> y
[1] 9
# not [1] 10 as expected

Why is that? Are these read-ony pointer?


Jens



> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R


Mit freundlichen Gr??en

--
Dr. Jens Oehlschl?gel
Analyse
BBDO InterOne
Gr?nstr. 15
40212 D?sseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Oct 26 15:33:06 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Oct 2000 15:33:06 +0200
Subject: [R] .Alias
In-Reply-To: Jens Oehlschl?gel's message of "Thu, 26 Oct 2000 15:14:14 +0200"
References: <000201c03f4e$a4114c90$c10616ac@bbdo.de>
Message-ID: <x2y9zbhgml.fsf@blueberry.kubism.ku.dk>

Jens Oehlschl?gel <jens.oehlschlaegel at bbdo-interone.de> writes:

> Not only changing mode or length (i.e. structure) of the original object
> results in converting an .Alias into a real copy, as the following examples
> show:
> 
> > x <- 1:9
> > y <- .Alias(x[9])
> > y[1]
> [1] 9
> > y[1] <- 10
> > x
> [1] 1 2 3 4 5 6 7 8 9
> # not [1] 1 2 3 4 5 6 7 8 10 as expected
> 
> > x <- 1:9
> > y <- .Alias(x[9])
> > x[9] <- 10
> > y
> [1] 9
> # not [1] 10 as expected
> 
> Why is that? Are these read-ony pointer?

You can only .Alias entire R objects, and x[9] is not one, it is an
expression which can be evaluated to an R object and you're
effectively .Aliasing the unnamed result of that evaluation. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Thu Oct 26 16:25:51 2000
From: dfs at research.att.com (Deborah Swayne)
Date: Thu, 26 Oct 2000 10:25:51 -0400
Subject: [R] png output in batch
In-Reply-To: <Pine.GSO.4.05.10010260729280.22063-100000@auk.stats>; from ripley@stats.ox.ac.uk on Thu, Oct 26, 2000 at 07:31:54AM +0100
References: <20001025155901.A14205994@fry.research.att.com> <Pine.GSO.4.05.10010260729280.22063-100000@auk.stats>
Message-ID: <20001026102551.A14943653@fry.research.att.com>

On Thu, Oct 26, 2000 at 07:31:54AM +0100, Prof Brian D Ripley wrote:
> 
> There is no way.  png() on Unix depends on having an X server (for the
> fonts, basically).  I would use bitmap(), which does produce postscript
> output and convert, but you can control the resolution.

I can't figure out how to control the resolution and the size
independently using bitmap().  I'm getting something close
to what I want with this combination of arguments:

ps.options(horizontal=F, pointsize=25)
bitmap ("/usr/dfs/WWW/auction/foo.png", width=2, height=2, res=288)

In the browser on my laptop, the resulting plot is about 6 inches
square.  If I drop the resolution to 144, the plot is then about
3 inches square.

Any further wisdom for me?  Is there a better approach to using
cgi for web graphics?  Maybe this just isn't a problem for which
R or S is the best solution.

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Thu Oct 26 16:30:46 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Thu, 26 Oct 2000 16:30:46 +0200
Subject: [R] .Alias
In-Reply-To: <x2y9zbhgml.fsf@blueberry.kubism.ku.dk>
Message-ID: <000501c03f59$54f119a0$c10616ac@bbdo.de>


> You can only .Alias entire R objects, and x[9] is not one, it is an
> expression which can be evaluated to an R object and you're
> effectively .Aliasing the unnamed result of that evaluation.

the help file says:

  `.Alias' creates an alias to another (part of) an R object
                                      ^^^^^^^
so may be the help file needs a fix (but see at the end of my mail)


However, even with entire objects I still don't understand in which cases
the alias does NOT break into a copy.

> x <- 9:1
> y <- .Alias(x)
> x[1] <- 10
> y
[1] 9 8 7 6 5 4 3 2 1
# broken

> x <- 9:1
> y <- .Alias(x)
> y[1] <- 10
> x
[1] 9 8 7 6 5 4 3 2 1
#broken

## ok, got it, this is again a change in structure as 9:1 is integer and 10
is double !!
> is.integer(x)
[1] TRUE
> is.integer(y)
[1] FALSE

# and finally those two work:
> x <- 9:1
> y <- .Alias(x)
> x[1]
[1] 9
> x[1] <- 10:10
> y
[1] 10  8  7  6  5  4  3  2  1
# as expected

> x <- 9:1
> y <- .Alias(x)
> y[1] <- 10:10
> x
[1] 10  8  7  6  5  4  3  2  1
# as expected


#### Well, the part thing is indeed more complicated, lets look at lists

## the [ operator

> x <- list(a=1, b=2)
> y <- .Alias(x[1])
> y
$a
[1] 1
> y$a <- 10
> x
$a
[1] 1

$b
[1] 2
# broken


> x <- list(a=1, b=2)
> y <- .Alias(x[1])
> x[1] <- list(a=10)
> y
$a
[1] 1
# broken


## the [[ operator
2
> x <- list(a=1, b=2)
> y <- .Alias(x[[1]])
> y
[1] 1
> y[1] <- 10
> x
$a
[1] 1

$b
[1] 2
# broken

> x <- list(a=1, b=2)
> y <- .Alias(x[[1]])
> x[[1]] <- 10
> y
[1] 1
# broken



## the $ operator

> x <- list(a=1, b=2)
> y <- .Alias(x$a)
> y
[1] 1
> x$a <- 10
> y
[1] 1
# broken

> x <- list(a=1, b=2)
> y <- .Alias(x$a)
> y[1] <- 10
> x
$a
[1] 10

$b
[1] 2
# NOT broken !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


quite unpredictable, isn't it


Jens

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Oct 26 16:47:46 2000
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 26 Oct 2000 10:47:46 -0400
Subject: [R] Problem with lm
In-Reply-To: <39F7E9C1.722F1FFD@ifp.fr>
Message-ID: <4.3.2.7.0.20001026104349.01735458@127.0.0.1>

Dear Isabelle,

R and S-Plus have different default options for constructing contrasts 
(columns of the model matrix) from factors. For S-Plus:

 > options("contrasts")
$contrasts:
           factor      ordered
  "contr.helmert" "contr.poly"


For R:

 > options("contrasts")
$contrasts
         unordered           ordered
"contr.treatment"      "contr.poly"

By changing the contrasts option you should be able to get R and S-Plus to 
agree. Help in R and S-Plus provides additional information about contrast 
codings.

I hope that this helps,
  John

At 10:22 AM 26/10/2000 +0200, you wrote:
>Hello Everybody,
>
>I have a problem with the output of lm.
>In fact, when I compare the R output and the Splus output, the results 
>appears to be different :
>
>I have a dataframe with 5 factors , 16 rows and a response.
>First, I tried to fit this response to a linear model : 
>lm(rep~(A+B+C+D+E),data).
>The results beetween SPlus and R are different.
>
>In a second time, I tried a new fit : lm(rep~(A+B+D+E+A:B),data).
>The estimation of the main effects in the model are the same as the one
>obtained for the first fit for Splus,
>and are different for R.
>
>Here an exemple :
>
> 
>On R:                            On Splus
>
>         lm(rep~(A+B+C+D+E),data) 
> ->  Intercept  12.6297                12.5573
>                                                                     A 
 >          0.0391                  0.0195
>                                                                     B 
 >        -0.0073                -0.0036
>                                                                     C 
 >          0.0443                   0.0221
>                                                                     D 
 >       -0.0321                 -0.016
>                                                                     E 
 >        -0.18887              -0.0944
>
>     lm(rep~(A+B+D+E+A:B),data) ->  Intercept  12.7937                12.5573
>                                                                     A 
 >        -0.2445                  0.0195
>                                                                     B 
 >        -0.2910                -0.0036
>                                                                     D 
 >       -0.03213               -0.016
>                                                                     E 
 >       -0.18887               -0.0944
>                                                                     A:B 
 >        0.5672                  0.1418
>
>Can someone explain what happens with these fitting procedure.
>
>Thanks
>
>
>Isabelle Zabalza-Mezghani
>
>
>
>
>--
>Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
>Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
>1-4 Av. Bois Preau - Bat Lauriers
>92852 Rueil Malmaison Cedex, France
>


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Thu Oct 26 17:04:15 2000
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Thu, 26 Oct 2000 11:04:15 -0400
Subject: [R] Using LME for Hierarchical Linear Modelling
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D369366@NHQJPK1EX2>

I am an R newbie trying to use LME for HLM.  I have a number of individual
variables (Ind) nested within neighborhoods, for which I have a number of
characteristics (Ngb).  I want to model the simultaneous effects of the Ngb
characteristics and Ind predictors on an outcome, X.  The data is in a data
frame that looks something like this (using made up values for example)...

Ngb#	Ngb1	Ngb2...Ind1	Ind2...OutcomeX
1	.10	.05	 0	2	 46
1	.10	.05	 1	5	 47
1	.10	.05	 1	4	 46
2	.12	.07	 0	3	 44
2	.12	.07	 1	6	 44
2	.12	.07	 0	7	 48
3	.14	.04	 1	4	 45 
3	.14	.04	 1	2	 42
3	.14	.04	 0	3	 46


In addition to the typical regression results  (Coefficients, SE, R^2), I
want to see the individual level error variance and the neighborhood level
error variance.  In all, I have about 5 neighborhood level variables and
perhaps 8-10 individual level variables.  Can somone tell me how I would
specify this model in R using LME to get the info that I want?

Thanks Four Your Help

Brett Magill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct 26 17:15:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Oct 2000 16:15:49 +0100 (BST)
Subject: [R] png output in batch
Message-ID: <200010261515.QAA00680@toucan.stats.ox.ac.uk>


> Date: Thu, 26 Oct 2000 10:25:51 -0400
> From: Deborah Swayne <dfs at research.att.com>
> To: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> Cc: Deborah Swayne <dfs at research.att.com>, R help list 
<r-help at stat.math.ethz.ch>
> Subject: Re: [R] png output in batch
> 
> On Thu, Oct 26, 2000 at 07:31:54AM +0100, Prof Brian D Ripley wrote:
> > 
> > There is no way.  png() on Unix depends on having an X server (for the
> > fonts, basically).  I would use bitmap(), which does produce postscript
> > output and convert, but you can control the resolution.
> 
> I can't figure out how to control the resolution and the size
> independently using bitmap().  I'm getting something close
> to what I want with this combination of arguments:
> 
> ps.options(horizontal=F, pointsize=25)
> bitmap ("/usr/dfs/WWW/auction/foo.png", width=2, height=2, res=288)
> 
> In the browser on my laptop, the resulting plot is about 6 inches
> square.  If I drop the resolution to 144, the plot is then about
> 3 inches square.

Ah, but that's your browser setting a resolution for you. All png/bitmap
can do is to create a xx by yy pixel png image.   For Web use I suspect you
want to stick close to the default 72dpi.  For images data there will be
no difference between width=2, res=288 and width-8, res=72.  For
lines and fonts there will be differences in stroke widths and
actual font sizes, and you want the 72dpi version.

If you want a 2" by 2" picture on your laptop, which looks like 100dpi,
do something like.

bitmap ("foo.png", width=2, height=2, res=100, pointsize=3)

and turn the outer margins down or off for so small a plot, e.g.

par(oma=rep(0,4))
plot(1:10)

(You don't need the ps.options, and they will be over-ridden anyway.
You get portrait and a reasonable pointsize unless you set one.)

However, you are going to have problems with lettering on a 2" x 2"
plot, and perhaps it is best to suppress the annotations.

> Any further wisdom for me?  Is there a better approach to using
> cgi for web graphics?  Maybe this just isn't a problem for which
> R or S is the best solution.

I think you can all you need this way. You do need to get the
resolution about equal to the target machine, and ensure that the
details are suppressed as needed.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Oct 26 17:30:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Oct 2000 17:30:31 +0200
Subject: [R] .Alias
In-Reply-To: Jens Oehlschl?gel's message of "Thu, 26 Oct 2000 16:30:46 +0200"
References: <000501c03f59$54f119a0$c10616ac@bbdo.de>
Message-ID: <x2snpjhb6w.fsf@blueberry.kubism.ku.dk>

Jens Oehlschl?gel <jens.oehlschlaegel at bbdo-interone.de> writes:

> > You can only .Alias entire R objects, and x[9] is not one, it is an
> > expression which can be evaluated to an R object and you're
> > effectively .Aliasing the unnamed result of that evaluation.
> 
> the help file says:
> 
>   `.Alias' creates an alias to another (part of) an R object
>                                       ^^^^^^^
> so may be the help file needs a fix (but see at the end of my mail)
...
> quite unpredictable, isn't it


Think deeper. You need to be very careful considering which kinds of
extraction will create a new object and which ones will return the
actual part of the original, and also which kinds of assignments that
are replacements and which modify the original. The use of .Alias
sometimes reveals optimizations in the R evaluator which weren't
really intended to be openly visible and which it is hardly useful to
try and rely on.

Consider

x <- y$a

It is clear that the object needs to be copied at some stage. A
simpleminded implementation of R might create first a copy to hold the
result of y$a and then copy that again before assigning to x. Some
complicated expression would lead to quite a bit of duplication, which
is no fun if the object involved is a large dataframe. However, R
tries to be smarter, and it can be that in two ways: either not copy
when extracting and just give a pointer to the object inside y or by
not making the copy before assignment - but not both, obviously. R
does much of this by keeping track of whether an object is "named", in
which case it is not safe not to duplicate it before certain
operations such as assignment. In the above case y$a does not involve
a copy but it will be a named object and hence the assignment will
create the copy. In contrast,

x <- y[["a"]]

will have the [[ operator create an unnamed copy and that can be
assigned directly to x. This is not quite consistent with the $
operation, but keep in mind that [[ can get used in other contexts
where $ can not.

Alias just removes "namedness" from an object so that assignment will
be non-copying, but that only works if copying has not already taken
place when its argument is evaluated.

Notice that the individual elements of a numeric vector are not
themselves R objects. In x <- c(7,9,13) what you really have in memory
is one node and a data block containing three numeric values.
Accessing x[3] must create a new node with a block of 1 value and fill
that data with 13. Hence the result of index operations are always
copies. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Oct 26 17:41:27 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 26 Oct 2000 11:41:27 -0400
Subject: [R] Fortran
Message-ID: <200010261535.e9QFZZB28755@water.cc.mcgill.ca>

Hi to the list.
I think this has been discussed but i did not find anything in the 
FAQ.
I am using R1.1 in Win98V2, compiler mingw32 etc.
I want to program the calculation of the p value for Dunnett test for 
comparing k treatment means with a control. The program in fortran 
is in AppStat 251 1989,V38,p3. and in Statlib AP251
I substituted their main by the following R

.First.lib <- function(lib, pkg) {
library.dynam("dunnett", pkg, lib)
}

pdunnett <- function(x,k,n,lowr=-x)
{
#uses Dunnett code to compute the p of a Dunnett test
#
  kk <- k
  k <- k-1
  bpd<-vector(mode="double",length=k)
  for (i in 2:kk) bpd[i-1] <- 1/sqrt(1+n[1]/n[i])
  ndf <- sum(n)-kk
#
  d<-vector(mode="double",length=k)
  a<-vector(mode="double",length=k)
  b<-vector(mode="double",length=k)
  inf <- vector(mode="integer",length=k)
#
  inf[1] <- 2
  d <- rep(0.0,k)
  b <- rep(lowr,k)
  a <- rep(x,k)
  errb <- 0.0001
  ierc <- 0
  hnc <- 0.0
  prob <- 0.51
  bnd <- 0.0
  iflt <- 0
  buf <- 2.0
#  this is the subroutine called
#      SUBROUTINE # 
MVSTUD(NDF,A,B,BPD,ERRB,N,INF,D,IERC,HNC,PROB,
#     *    BND,IFLT,buf)
#
  ans <- .Fortran("mvstud",
ndf=as.integer(ndf),
a=as.double(a),
b=as.double(b),
bpd=as.double(bpd),
errb=as.double(errb),
n=as.integer(k),
inf=as.integer(inf),
d=as.double(d),
ierc=as.integer(ierc),
hnc=as.double(hnc),
prob=as.double(prob),
bnd=as.double(bnd),
iflt=as.integer(iflt),
buf=as.double(buf) )
#
  list(prob=ans[[11]],bnd=ans[[12]],buf=ans[[14]])
}

but I can get anything back, I put buf=10; return; at the beginning of 
MVSTUD but buf is still 2.
Can some charitable soul tell me what I am doing wrong?
As always thanks for the help
.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Oct 26 18:29:18 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 26 Oct 2000 11:29:18 -0500 (CDT)
Subject: [R] Tick marks for abline
Message-ID: <200010261629.LAA23834@uhddx01.dt.uh.edu>

Dear R People:


I am drawing graphs for a College Algebra class. I would like to have
the x and y axes, along with the lines that I am plotting.  So I leave
off the axes, and use xlim and ylim.  Then I add my abline(v=0).

However, I would like to have tick marks on the abline.  How would I do
that, please?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Oct 26 19:52:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Oct 2000 19:52:38 +0200
Subject: [R] Tick marks for abline
In-Reply-To: Erin Hodgess's message of "Thu, 26 Oct 2000 11:29:18 -0500 (CDT)"
References: <200010261629.LAA23834@uhddx01.dt.uh.edu>
Message-ID: <x2og07zdzt.fsf@blueberry.kubism.ku.dk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Dear R People:
> 
> 
> I am drawing graphs for a College Algebra class. I would like to have
> the x and y axes, along with the lines that I am plotting.  So I leave
> off the axes, and use xlim and ylim.  Then I add my abline(v=0).
> 
> However, I would like to have tick marks on the abline.  How would I do
> that, please?

Here's a starting point:

 plot(0,0)     
 axis(1, pos=0)
 axis(2, pos=0)

You probably want to leave off the markings at 0.0 there, but check
the help for axis() for things you can do. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Oct 26 20:23:24 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 26 Oct 2000 14:23:24 -0400 (EDT)
Subject: [R] Tick marks for abline
In-Reply-To: <200010261629.LAA23834@uhddx01.dt.uh.edu>
Message-ID: <Pine.LNX.4.10.10010261415520.3085-100000@bolker.zoo.ufl.edu>


  I'm a little bit puzzled by your requirements.  If you want just x and y
axes and not the top and right sides of the box plotted you could try
par(bty="l") [which I actually prefer as my default setting].  
Alternately, you can use axis() with side=1 or side=2 to draw the axis
after doing the main plot (and control ticks, labels, style, etc.).  If
neither of these do what you want you could (masochistically) try figuring
out exactly where you want all your ticks and use segments() to draw them.
Or, if what you need to do is suppress labels on the axes, you can use
ann=FALSE in plot (?plot.default).
  You can also look at box(), par(bty), and par(xaxs), par(yaxs) for
information about where and how the axes are plotted.  ?par contains an
enormous amount of information, but it's worth going through every so
often for ideas.

  Ben Bolker

On Thu, 26 Oct 2000, Erin Hodgess wrote:

> Dear R People:
> 
> 
> I am drawing graphs for a College Algebra class. I would like to have
> the x and y axes, along with the lines that I am plotting.  So I leave
> off the axes, and use xlim and ylim.  Then I add my abline(v=0).
> 
> However, I would like to have tick marks on the abline.  How would I do
> that, please?
> 
> Thanks in advance!
> 
> Sincerely,
> Erin M. Hodgess, Ph.D.
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> One Main Street 
> Houston, TX 77002
> e-mail: hodgess at uhddx01.dt.uh.edu
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Oct 26 21:28:47 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 27 Oct 2000 08:28:47 +1300
Subject: [R] persp plot question..
In-Reply-To: <20001027004241.A23181@stat1.stat.auckland.ac.nz>; from Ross Ihaka on Fri, Oct 27, 2000 at 12:42:41AM +1300
References: <00102611514901.29930@tolsta> <20001027004241.A23181@stat1.stat.auckland.ac.nz>
Message-ID: <20001027082847.B25436@stat1.stat.auckland.ac.nz>

On Fri, Oct 27, 2000 at 12:42:41AM +1300, Ross Ihaka wrote:

Bill Simpson points out that I messed up in my code (never make last minute
readability changes).  Here is a correct version (with the function changed
to a saddle.

	#  Create a simple surface  f(x,y) = x^2 - y^2

	nx <- 21
	ny <- 21
	x <- seq(-1, 1, length = nx)
	y <- seq(-1, 1, length = ny)
	z <- outer(x, y, function(x,y) x^2 - y^2)

	#  Average the values at the corner of each facet
	#  and scale to a value in [0, 1].  We will use this
	#  to select a gray for colouring the facet.

	hgt <- 0.25 * (z[-nx,-ny] + z[-1,-ny] + z[-nx,-1] + z[-1,-1])
	hgt <- (hgt - min(hgt))/ (max(hgt) - min(hgt))

	#  Plot the surface with the specified facet colours.

	persp(x, y, z, col = gray(1 - hgt), theta = 35)
	persp(x, y, z, col = cm.colors(10)[floor(9 * hgt + 1)], theta = 35)

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Oct 26 22:11:48 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 27 Oct 2000 09:11:48 +1300
Subject: [R] Tick marks for abline
In-Reply-To: <200010261629.LAA23834@uhddx01.dt.uh.edu>; from Erin Hodgess on Thu, Oct 26, 2000 at 11:29:18AM -0500
References: <200010261629.LAA23834@uhddx01.dt.uh.edu>
Message-ID: <20001027091148.A26036@stat1.stat.auckland.ac.nz>

On Thu, Oct 26, 2000 at 11:29:18AM -0500, Erin Hodgess wrote:

> I am drawing graphs for a College Algebra class. I would like to have
> the x and y axes, along with the lines that I am plotting.  So I leave
> off the axes, and use xlim and ylim.  Then I add my abline(v=0).
> 
> However, I would like to have tick marks on the abline.  How would I do
> that, please?

Here is an example of drawing a cubic with axes in the middle of the
plot.
	
	#  Draw the basic curve (limits were established by trial and error).
	#  The axes are turned off blank axis labels used.
	 
	curve(x * (2 * x - 3) * (2 *  x + 3), from = -1.85, to = 1.85,
	      xlim = c(-2, 2), ylim = c(-10, 10),
	      axes = FALSE, xlab = "", ylab = "")
	
	#  Draw the axes at the specified positions (crossing at (0, 0)).
	#  The ticks positions are specified (those at (0,0) are omitted). 
	#  Note the use of las=1 to produce horizontal tick labels on the
	#  vertical axis.
	
	axis(1, pos = 0, at = c(-2, -1, 1, 2))
	axis(2, pos = 0, at = c(-10, -5, 5, 10), las = 1)
	
	#  Use the mathematical annotation facility to label the plot.
	
	title(main = expression(italic(y==x * (2 * x - 3) * (2 * x + 3))))

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Oct 26 22:32:09 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 26 Oct 2000 15:32:09 -0500 (CDT)
Subject: [R] summary for tick marks
Message-ID: <200010262032.PAA25509@uhddx01.dt.uh.edu>

Dear R People:

In case anyone is interested, here are some of the answers
I received regarding tick marks:

 plot(0,0)
 axis(1, pos=0)
 axis(2, pos=0)

   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

From: Ross Ihaka <ihaka at stat.auckland.ac.nz>


On Thu, Oct 26, 2000 at 11:29:18AM -0500, Erin Hodgess wrote:

> I am drawing graphs for a College Algebra class. I would like to have
> the x and y axes, along with the lines that I am plotting.  So I leave
> off the axes, and use xlim and ylim.  Then I add my abline(v=0).
> 
> However, I would like to have tick marks on the abline.  How would I do
> that, please?

Here is an example of drawing a cubic with axes in the middle of the
plot.
	
	#  Draw the basic curve (limits were established by trial and error).
	#  The axes are turned off blank axis labels used.
	 
	curve(x * (2 * x - 3) * (2 *  x + 3), from = -1.85, to = 1.85,
	      xlim = c(-2, 2), ylim = c(-10, 10),
	      axes = FALSE, xlab = "", ylab = "")
	
	#  Draw the axes at the specified positions (crossing at (0, 0)).
	#  The ticks positions are specified (those at (0,0) are omitted). 
	#  Note the use of las=1 to produce horizontal tick labels on the
	#  vertical axis.
	
	axis(1, pos = 0, at = c(-2, -1, 1, 2))
	axis(2, pos = 0, at = c(-10, -5, 5, 10), las = 1)
	
	#  Use the mathematical annotation facility to label the plot.
	
	title(main = expression(italic(y==x * (2 * x - 3) * (2 * x + 3))))

Ross

Thanks again to all!

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Oct 27 03:00:44 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 26 Oct 2000 21:00:44 -0400 (EDT)
Subject: [R] R reference card
Message-ID: <200010270100.VAA25693@cattell.psych.upenn.edu>

A student wanted a reference card, so I made the following.
Someone might want to fix it up, adapt it, make it into a
screen saver, demolish it, or whatever.  I will surely do
some of those.  My version will remain in
http://www.psych.upenn.edu/~baron/refcard.pdf
Here is the Latex text.  The package "hanging.sty" probably
will have to come from CTAN.
Jon
----------
\documentclass[twocolumn]{article}
\usepackage{mathpple}
\usepackage{hanging}
\oddsidemargin=0in \evensidemargin=0in \topmargin=-.3in
\textwidth=6.5in \textheight=9in
\pagestyle{empty}
\setcounter{secnumdepth}{0}
\parskip=0ex \parindent=0pt
\begin{document}

\noindent
\textbf{R reference card,} by Jonathan Baron

\medskip
\textbf{Miscellaneous}

\smallskip
{\tt q()}: quit

{\tt <-}: assign

{\tt INSTALL}: install packages

{\tt m[,2]}: column 2 of matrix {\tt m}

{\tt m\$a}: variable {\tt a} in data frame {\tt m}

{\tt NA}: missing data

{\tt is.na}: true if data missing

{\tt library(ctest)}: load (e.g.) ctest library

\medskip
\textbf{Help}

\smallskip
{\tt help.start()}: start browser help

{\tt help(command)}: get help with command

{\tt library(help=ctest)}: help with library

{\tt apropos("topic")}: relevant commands

{\tt example(command)}: examples

\medskip
\textbf{Input and output}

\smallskip
{\tt source("file")}: run the commands in {\tt file}.

{\tt read.table("file")}: read in data from a file

{\tt data.entry}: spreadsheet

{\tt scan(x)}: read a vector x

\smallskip
{\tt download.file}: from internet

{\tt url.show, read.table.url}: remote input

\smallskip
{\tt sink("file")}: output to {\tt file}, until {\tt sink()}

{\tt write(object, "file")}: writes an object to file

{\tt write.table(object,"file")}: writes a table

\medskip
\textbf{Managing variables and objects}

\smallskip
{\tt attach(x)}: put variables in {\tt x} in search path

{\tt detach(x)}: remove from search path

{\tt ls()}: lists all the active objects.

{\tt rm(object)}: removes objects

{\tt dim(matrix)}: dimensions of a matrix

{\tt dimnames(x)}: names of dimensions

{\tt length(vector)}: length of a vector

{\tt 1:3}: is the vector {\tt 1,2,3}

{\tt rep(x,n)}: repeats the vector {\tt x n} times

{\tt c(1,2,3)}: creates the same vector

\hangpara{2em}{1}{\tt cbind(a,b,c), rbind()}: binds columns or
rows into a matrix

{\tt merge}: merge data frames

{\tt matrix(numbers,rows,colmuns)}: creates a matrix

{\tt data.frame(vector list)}: makes a data frame

\hangpara{2em}{1}{\tt as.factor(), as.matrix(), as.vector()}: conversion

\hangpara{2em}{1}{\tt is.factor(), is.matrix(), is.vector()}: what it is

{\tt t()}: switch rows and columns

{\tt which(x==a)}: returns indices of {\tt x} where x==a

\medskip
\textbf{Control flow}

\smallskip
{\tt for (i in vector)}: repeat what follows

\medskip
\textbf{Arithmetic}

\smallskip
{\tt \%*\%}: matrix multiplication

\medskip
\textbf{Statistics}

\smallskip
\hangpara{2em}{1}{\tt max(), min(), mean(), median(), sum()}, var(): as named

{\tt summary(data.frame)}: prints statistics

{\tt rank, sort} rank and sort

\smallskip
{\tt ave(x,y)}: averages of {\tt x} grouped by factor {\tt y}

{\tt by}: apply function to data frame by factor

\hangpara{2em}{1}{\tt apply(x,n,function)}: apply function to x
by rows (n=1) or colums (n=2)

\hangpara{2em}{1}{\tt tapply(x,list,function)}: apply function to x by list 

{\tt table}: make a table

{\tt tabulate}: tabulate a vector

\medskip
\textbf{basic statistical analysis}

\smallskip
{\tt aov, anova, lm, glm}: linear models and anova

{\tt t.test()}: t test

\medskip
\textbf{tests in ctest library}

\smallskip
{\tt prop.test(), binom.test()}: sign test

{\tt chisq.test(x)}: chi-square test on matrix {\tt x}

{\tt fisher.test()}: Fisher exact test

{\tt cor(a)}: show correlations

{\tt cor.test(a,b)}: test correlation

{\tt friedman.test}: Friedman test

\medskip
\textbf{tests in mva library}

\smallskip
{\tt print(prcomp(x))}: principal components

{\tt kmeans()}: kmeans cluster analysis

\medskip
\textbf{Graphics}

\smallskip
{\tt plot(), barplot(), boxplot()}: basic plots

{\tt matplot()}: matrix plot

{\tt pairs(matrix)}: scatterplots

{\tt hist(x)}: histogram of vector {\tt x}.

{\tt coplot}: conditional plot

{\tt stropplot}: strip plot

{\tt qqplot}: quantile-quantile plot

\end{document}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Fri Oct 27 09:22:24 2000
From: bob.ohara at helsinki.fi (Anon.)
Date: Fri, 27 Oct 2000 10:22:24 +0300
Subject: [R] Extracting vectors from matrices
Message-ID: <39F92D30.C0FC11AE@helsinki.fi>

There is probably a simple and obvious answer to this, so sorry for
wasting your time...

I have a matrix of predictions from an proportional odds model (using
the polr function in MASS), so the columns are the probabilities of the
responses, and the rows are the data points.  I have another column with
the observed responses, and I want to extract the probabilities for the
observed responses.

As a toy example, if I have 
x <- matrix(c(1,2,3,4,5,6),2,3)
y <- c(1,3)
and I want to extract the numbers in x[1,1] and x[2,3] (the columns
being indexed from y), what do I do?

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 7382  fax: +358 9 191 7301 
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

I have yet to see any problem, however complicated, which, when you
looked at it in the right way, did not become still more complicated.  -
Poul Anderson
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Fri Oct 27 10:58:47 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Fri, 27 Oct 2000 09:58:47 +0100
Subject: [R] multivariate factor analysis
Message-ID: <16635B4041C@let.ish-lyon.cnrs.fr>

I don't find whether in multiv or mva package any output of "quality 
of representation" that is square cosinus of angle of each point 
(rows, and columns in correspondence analysis) with eigen factors. 
Before writing my own function, is there anything already done that 
I've missed?
Thank you
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct 27 10:21:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 27 Oct 2000 09:21:01 +0100 (BST)
Subject: [R] Extracting vectors from matrices
In-Reply-To: <39F92D30.C0FC11AE@helsinki.fi>
Message-ID: <Pine.GSO.4.05.10010270918500.1460-100000@toucan.stats>

On Fri, 27 Oct 2000, Anon. (possibly Bob O'Hara with a broken
mailer) wrote:

> There is probably a simple and obvious answer to this, so sorry for
> wasting your time...
> 
> I have a matrix of predictions from an proportional odds model (using
> the polr function in MASS), so the columns are the probabilities of the
> responses, and the rows are the data points.  I have another column with
> the observed responses, and I want to extract the probabilities for the
> observed responses.
> 
> As a toy example, if I have 
> x <- matrix(c(1,2,3,4,5,6),2,3)
> y <- c(1,3)
> and I want to extract the numbers in x[1,1] and x[2,3] (the columns
> being indexed from y), what do I do?

I don't see a unique pattern to this, but is

 x[cbind(seq(along=y), y)]

what you had in mind?  The key is definitely matrix indexing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Oct 27 11:36:06 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 27 Oct 2000 11:36:06 +0200 (CEST)
Subject: [R] configure/make problems
In-Reply-To: <39F77DE1.46A969C3@noaa.gov>
References: <39F77DE1.46A969C3@noaa.gov>
Message-ID: <14841.19590.738213.519600@mithrandir.hornik.net>

>>>>> Derrick P Snowden writes:

> Hi all, new user here.  I'm trying to install R on a Sun Solaris machine
> ver 2.7.  I've encountered a previously documented problem regarding RSI
> install and have gotten past that.  At this point configure runs to
> completion.  Now, make is a different story.  When I run make here is
> what I get.

> <Wed8:22pm>-moriarty:/moriarty/Tools/R- 138%  make
> cp: ../../bin: is a directory
> install: cp ../../bin ./BATCH/bin failed 
> *** Error code 2
> make: Fatal error: Command failed for target `R'
> Current working directory /moriarty/Tools/R-1.1.1/src/scripts
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /moriarty/Tools/R-1.1.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'


> Any ideas?  I've specified /moriarty/Tools/R-1.1.1 as the prefix in
> the configure script.  It's difficult for me to tell if this is a
> install problem or something with the way my local environment is set
> up.  Any help would be appreciated.

Strange.

The Makefile at this point is trying to do

        @$(MKINSTALLDIRS) $(top_builddir)/bin
        @for f in $(SCRIPTS_S); do \
          $(INSTALL_SCRIPT) $(srcdir)/$${f} $(top_builddir)/bin; \
        done

but I don't see how this could expand to
	  cp ../../bin ./BATCH/bin

Maybe you have white space in some path?

What does
	grep INSTALL Makeconf
give in the top-level build dir?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Fri Oct 27 12:24:50 2000
From: houix at ircam.fr (Houix Olivier)
Date: Fri, 27 Oct 2000 12:24:50 +0200
Subject: [R] problem with list
Message-ID: <39F957F2.FC8F1853@ircam.fr>

Hello,
I've some problems to concatenate elements of a list:
> s1
[1] 1 2 3 4
> s2
[1] 6 7
> l <- list(s1,s2)
> l
[[1]]
[1] 1 2 3 4

[[2]]
[1] 6 7

but now I want to get this:

> l
[[1]]
[1] 1 2 3 4

[[2]]
[1] 6 7
[[3]]
[1] 1 2 3 4 6 7 ## l[1] with  l[2]

Someone can help me?

Thanks

Olivier Houix

-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sam at zoo.cam.ac.uk  Fri Oct 27 12:53:55 2000
From: sam at zoo.cam.ac.uk (Sam Brown)
Date: Fri, 27 Oct 2000 11:53:55 +0100 (BST)
Subject: [R] GIS and R
Message-ID: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>


Dear All,

Does anyone know of any GIS packages for R? I know that there are
GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
equivalents.

Best wishes,

Sam Brown
-----------------------------------------------------------
Sam Brown				  sam at zoo.cam.ac.uk
Department of Zoology                   tel +44 1223 330933
Downing Street                          fax +44 1223 334466
Cambridge CB2 3EJ, UK               email sam at zoo.cam.ac.uk

Clare College                   college tel +44 1223 333214
Cambridge CB2 1TL, UK              home tel +44 1223 316386
-----------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Oct 27 13:39:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Oct 2000 13:39:42 +0200
Subject: [R] problem with list
In-Reply-To: Houix Olivier's message of "Fri, 27 Oct 2000 12:24:50 +0200"
References: <39F957F2.FC8F1853@ircam.fr>
Message-ID: <x2n1fqldhd.fsf@blueberry.kubism.ku.dk>

Houix Olivier <houix at ircam.fr> writes:

> Hello,
> I've some problems to concatenate elements of a list:
> > s1
> [1] 1 2 3 4
> > s2
> [1] 6 7
....
> > l
> [[1]]
> [1] 1 2 3 4
> 
> [[2]]
> [1] 6 7
> [[3]]
> [1] 1 2 3 4 6 7 ## l[1] with  l[2]
> 
> Someone can help me?

Not sure I know where you're getting at, but what about

list(s1,s1,c(s1,s2))

or if you want a more general, sneakier solution

l <- c(l,list(unlist(l)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Fri Oct 27 13:49:41 2000
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Fri, 27 Oct 2000 13:49:41 +0200 (CEST)
Subject: [R] GIS and R
In-Reply-To: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>
Message-ID: <Pine.LNX.4.21.0010271342070.1930-100000@reclus.nhh.no>

On Fri, 27 Oct 2000, Sam Brown wrote:

> Does anyone know of any GIS packages for R? I know that there are
> GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
> equivalents.
> 
An answer is through GRASS:

http://www.baylor.edu/~grass/statsgrasslist.html

from which the package described in Computers & Geosciences (2000), 26,
pp. 1043-1052, may be accessed. There is a mailing-list too, and more
progress is described in work with Markus Neteler, who is coordinating
GRASS 5.0 development. The current package is GRASS_0.1-4, and is at:

http://reclus.nhh.no/gc00/GRASS/GRASS_0.1-4.tar.gz

Please contact me if this may be helpful - the package is under
development, and needs user feedback!

Best wishes,

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Fri Oct 27 14:22:26 2000
From: houix at ircam.fr (Houix Olivier)
Date: Fri, 27 Oct 2000 14:22:26 +0200
Subject: [R] problem with list
References: <39F957F2.FC8F1853@ircam.fr> <x2n1fqldhd.fsf@blueberry.kubism.ku.dk>
Message-ID: <39F97382.45395566@ircam.fr>

Thanks
the second proposal works:
l <- c(l,list(unlist(l)))
because I use this for the calculation of the ultrametric distance 
derived from hclust.

Olivier Houix 
 
Peter Dalgaard BSA wrote:
> 
> Houix Olivier <houix at ircam.fr> writes:
> 
> > Hello,
> > I've some problems to concatenate elements of a list:
> > > s1
> > [1] 1 2 3 4
> > > s2
> > [1] 6 7
> ....
> > > l
> > [[1]]
> > [1] 1 2 3 4
> >
> > [[2]]
> > [1] 6 7
> > [[3]]
> > [1] 1 2 3 4 6 7 ## l[1] with  l[2]
> >
> > Someone can help me?
> 
> Not sure I know where you're getting at, but what about
> 
> list(s1,s1,c(s1,s2))
> 
> or if you want a more general, sneakier solution
> 
> l <- c(l,list(unlist(l)))
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Fri Oct 27 14:54:14 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Fri, 27 Oct 2000 07:54:14 -0500
Subject: [R] GIS and R
References: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>
Message-ID: <39F97AF6.560D823@epm.net.co>

Dr. Brown:

You can find a good paper about the integration between
GRASS (a GNU GIS) and R.

"Using the R statistical data analysis lenguage on GRASS 5.0 GIS
database files" Roger S. Bivand.
Computers & Geosciences 26 (2000) 1043-1052
PERGAMON.

Dr. Bivand e-mail is:
roger.bivand at nhh.no



Sam Brown wrote:

> Dear All,
>
> Does anyone know of any GIS packages for R? I know that there are
> GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
> equivalents.
>
> Best wishes,
>
> Sam Brown
> -----------------------------------------------------------
> Sam Brown                                 sam at zoo.cam.ac.uk
> Department of Zoology                   tel +44 1223 330933
> Downing Street                          fax +44 1223 334466
> Cambridge CB2 3EJ, UK               email sam at zoo.cam.ac.uk
>
> Clare College                   college tel +44 1223 333214
> Cambridge CB2 1TL, UK              home tel +44 1223 316386
> -----------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Oct 27 15:47:51 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 27 Oct 2000 14:47:51 +0100
Subject: [R] A brief intro to analysing epidemiological data with R
In-Reply-To: <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
 <200007251339.JAA12345@sirocco.cc.mcgill.ca>
 <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
Message-ID: <w0ak1QAHeY+5Ewpi@myatt.demon.co.uk>


All,

I have just come back from teaching on a course "Computer Software in
Epidemiology" at the Nordic School of Public. One of the sessions was a
brief introduction to R. Nothing very clever ... but if anyone is
interested in looking at or using the teaching material and datasets
that I used for the practical exercise then they may download them from
my web site:

        http://www.myatt.demon.co.uk

At present, the course material is in Word '95 format but, If anyone
thinks it worthwhile, I can convert the Word document to a PDF.

All comments and suggestions gratefully received.

Mark

BTW : it sometimes takes a few hours before anything I upload to the web
server 'migrates' to a public facing server so if you don't see the link
(it is on the index page just below a table of links to download other
software) then come back a little later and it will probably be there.


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Oct 27 15:53:11 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 27 Oct 2000 14:53:11 +0100
Subject: [R] GIS and R
In-Reply-To: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>
References: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>
Message-ID: <M0ar1UAHjY+5EwOc@myatt.demon.co.uk>

Sam Brown <sam at zoo.cam.ac.uk> writes:
>
>Dear All,
>
>Does anyone know of any GIS packages for R? I know that there are
>GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
>equivalents.


I know that some people are doing stiff with GRASS and R. Have a look
at:

        http://reclus.nhh.no/gc00/gc009.htm

That may be useful.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Atkinson at cdsc.nthames.nhs.uk  Fri Oct 27 16:27:40 2000
From: P.Atkinson at cdsc.nthames.nhs.uk (Phil)
Date: Fri, 27 Oct 2000 15:27:40 +0100
Subject: [R] GIS and R
Message-ID: <24A8B549739BD311AAF2009027D6373D08D258@SERVER>


Sam,

GRASS has some links with R. Have a look on the GRASS web site, under
GeoStats.

Phil

> -----Original Message-----
> From:	Sam Brown [SMTP:sam at zoo.cam.ac.uk]
> Sent:	Friday, October 27, 2000 11:54 AM
> To:	r-help at lists.R-project.org
> Subject:	[R] GIS and R
> 
> 
> Dear All,
> 
> Does anyone know of any GIS packages for R? I know that there are
> GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
> equivalents.
> 
> Best wishes,
> 
> Sam Brown
> -----------------------------------------------------------
> Sam Brown				  sam at zoo.cam.ac.uk
> Department of Zoology                   tel +44 1223 330933
> Downing Street                          fax +44 1223 334466
> Cambridge CB2 3EJ, UK               email sam at zoo.cam.ac.uk
> 
> Clare College                   college tel +44 1223 333214
> Cambridge CB2 1TL, UK              home tel +44 1223 316386
> -----------------------------------------------------------
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schmidtj at rcs.urz.tu-dresden.de  Fri Oct 27 17:58:16 2000
From: schmidtj at rcs.urz.tu-dresden.de (Jens Schmidt)
Date: Fri, 27 Oct 2000 17:58:16 +0200 (MEST)
Subject: [R]- Estimate LD50 with bnlr{gnlm}
Message-ID: <Pine.A41.4.21.0010271730340.15152-100000@rcs7.urz.tu-dresden.de>

Hi,

I'm not yet familar with GLM and still learning.
How can I perform a BNL (to estimate LDp values) with matrixes like this
(N indicates the observed objects):

data from:
Kerr D, Meador J. 1996. "Modeling Dose Response Using Generalized Linear
Models". Environ Toxicol Chem 15(3)

conc	respond	n
0	0	20
0	1	19
0	1	20
0	0	20
13.5	5	23
13.5	2	20
29	9	20
29	6	20
53	12	20
53	15	20
85	19	20
85	18	20
110	18	18
110	18	18

The bnlr{gnlm} documentation talks about a two column matrix as input.  

Thanks for any help
Jens

--
Jens Schmidt                    TU Dresden -Inst. f. Hydrobiologie-
Tel. +49-(0)351-463-6915        Mommsenstrasse 13
Fax  +49-(0)351-463-7108        01062 Dresden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at sunysb.edu  Fri Oct 27 18:58:15 2000
From: Timothy.Keitt at sunysb.edu (Timothy H. Keitt)
Date: Fri, 27 Oct 2000 12:58:15 -0400
Subject: [R] GIS and R
References: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite> <M0ar1UAHjY+5EwOc@myatt.demon.co.uk>
Message-ID: <39F9B427.7040805@SUNYSB.Edu>

There are a number of other, more modern packages being developed.  Take 
a look at http://www.freegis.org/.  My personal opinion is that the 
current GRASS code base should be abandoned.  Painful, I know, but 
sometimes necessary.

Tim

Mark Myatt wrote:

> Sam Brown <sam at zoo.cam.ac.uk> writes:
> 
>> Dear All,
>> 
>> Does anyone know of any GIS packages for R? I know that there are
>> GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
>> equivalents.
> 
> 
> I know that some people are doing stiff with GRASS and R. Have a look
> at:
> 
>         http://reclus.nhh.no/gc00/gc009.htm
> 
> That may be useful.
> 
> Mark
> 
> 
> --
> Mark Myatt
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Oct 27 22:21:24 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Oct 2000 09:21:24 +1300
Subject: [R] GIS and R
In-Reply-To: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>; from Sam Brown on Fri, Oct 27, 2000 at 11:53:55AM +0100
References: <Pine.GSO.3.95.1001027114902.4103A-100000@parasite>
Message-ID: <20001028092124.A25235@stat1.stat.auckland.ac.nz>

On Fri, Oct 27, 2000 at 11:53:55AM +0100, Sam Brown wrote:
> 
> Dear All,
> 
> Does anyone know of any GIS packages for R? I know that there are
> GIS facilities for S-Plus (eg Arc Info), and am looking for freeware
> equivalents.

Its not really GIS, but ...

I've been working with some students on getting the Becker-Wilks "Maps
in S" code working in R.   This is primarily a database for efficiently
storing and retrieving polygons.  There is also some projection and
plotting code.  BW converted and cleaned up the CIA world map, and
provided software for constructing other databases.  There are a couple
of papers at:

    http://cm.bell-labs.com/cm/ms/departments/sia/doc/93.2.ps
    http://cm.bell-labs.com/cm/ms/departments/sia/doc/95.2.ps

The second of these describes some nifty work by Allan Wilks for
building polygon databases from unstructured data.

I'm also just linked up with Nicholas Lewin to put together an R library
for reading, writing, plotting and manipulating shapefiles.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Mon Oct 30 01:02:58 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Mon, 30 Oct 2000 01:02:58 +0100
Subject: [R] unsuccesfully making libRmath.a
Message-ID: <00103001293005.01281@ligarto>

Dear All,

I am having problems making and using the standalone library, after succesfully
installing R from the tar.gz file (I am using Linux, with R-patched, but I have
similar problems with R-devel).   

First, when I do: 
root at ligarto:/usr/lib/R-patched/src/nmath/standalone > make
....
ar: mlutils.o: No such file or directory 
make[1]: *** [libRmath.a] Error 1
make[1]: Leaving directory `/usr/lib/R-patched/src/nmath/standalone' make: ***
[archive] Error 2 


I tried directly giving the names of the object files to ar, and it seems to
work... but not really:

> gcc -I/usr/lib/R-patched/src/include-L/usr/lib/R-patched/src/nmath/standalone  test.c -lRmath 

/tmp/ccJAm46E.o: In function `main': 
/tmp/ccJAm46E.o(.text+0x22): undefined reference to `qnorm5'
collect2: ld returned 1 exit status                           


What am I doing wrong?


Ramon

-- 
Ramón Díaz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 30 05:47:36 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 29 Oct 2000 20:47:36 -0800 (PST)
Subject: [R] Estimating Survival function in coxph
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E631@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.21.0010292044120.12056-100000@atlas.biostat.washington.edu>

On Wed, 25 Oct 2000, Richards, Tom wrote:

> Hello:
> 
> Assuming that I have used the coxph function to fit a Cox model with several
> covariates, is there a natural way to estimate a value of the survivorship
> function at, say, five years, 
> S(5), along with a confidence interval?  I have brought this question up
> with one or two colleagues, who have suggested using a parametric model, but
> I wonder whether it can be done using the semiparametric coxph() model.

Yes. The survfit() function does this. There are a few options for exactly
how to do it. They are more-or-less equivalent if a lot of people are
still at risk at this time.  It is necessary to estimate either the
baseline hazard function using something like the Nelson--Aalen estimator
or the baseline survival function using something like the Kaplan-Meier
estimator.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 30 05:48:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 29 Oct 2000 20:48:21 -0800 (PST)
Subject: [R] lifetable, survivorship.. [forwarded message from Diana
 Fischer]
In-Reply-To: <14839.3691.329486.694187@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.21.0010292047500.12056-100000@atlas.biostat.washington.edu>

On Wed, 25 Oct 2000, Martin Maechler wrote:

> 
> This was accidentally addressed to me, personally:
> 
> ------- start of forwarded message -------
> Message-id: <39F70D7C.287323D5 at yale.edu>
> MIME-version: 1.0
> From: Diana Fischer <diana.fischer at yale.edu>
> To: maechler at stat.math.ethz.ch
> Subject: R-Project
> Date: Wed, 25 Oct 2000 11:42:36 -0500
> 
> I briefly looked at the R documentation of available statistical
> procedures.  It appears that there are no "lifetable" or
> survivorship-failure model procedures.  Am I correct?
> 

There are lots of them. They live in the package "survival5".  

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 30 06:00:04 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 29 Oct 2000 21:00:04 -0800 (PST)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.LNX.4.10.10010260950430.4987-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.21.0010292051100.12056-100000@atlas.biostat.washington.edu>

On Thu, 26 Oct 2000, Bill Simpson wrote:

> I will have data in the following form:
> 
> Time    resp type       stim type
> 300     a               A
> 200     b               A
> 155     a               B
> 250     b               B
> 80      c               A
> 1000    d               B
> ...
> 
> c is left censored observation; d is right censored
> 
> This sort of problem is discussed in Chap 9 of Cox & Oakes Analysis of
> Survival Data under the name "competing risks".
> 
> Observations are obtained from n independent individuals in the form
> (t_i,r_i;s_i) where t_i is the time of the event (failure), r_i is the
> response type (failure type), and s_i is the stimulus type (explanatory
> variable).
> 
> I am wondering if it is possible to use survfit5 to fit parametric and
> nonparametric models to data like these, and if so how to do it. I
> read the documentation for survfit5 and Surv() did  not seem to allow for
> the type of model I need. If I can't use survfit5, any suggestions on how
> to proceed? I am pretty ignorant of survival analysis at this point.
> 
> (Maybe I can just do separate survival analysis runs for the type a and
> type b responses?)
> 
> Thanks very much for any help.
> 
> Bill
> PS In the end I would like to have a plot of phat_a(t) vs t: probablity of
> a failure of type a as a function of time (just like Cox and Oakes fig
> 9.1)
> 


The mixture of left and right censoring is a problem -- survival5 can only
handle this for parametric models.

I don't have a copy of Cox & Oakes, but if you just want to know the
probability of a failure of type a before time t you can easily handle the
competing risks issue. If someone has a failure of type b then you know
that they don't have a failure of type a before time t, so you can set
their failure time to a very large number (effective infinity).  If it
weren't for the left censoring you could just use survfit to get the
cumulative  incidence of events of type a.  With the left censoring it's a
bit messy, since none of the available parametric distributions will fit
(none of them has mass at infinity), so there isn't a very good
solution. What sort of parametric models were you thinking of? In
principle you can specify your own models to survreg(), but there isn't
much documentation.

If you want to do something more complicated involving what might have
happened to the type b failures if they didn't have a type b failure then
the problem is impossible (there are several solutions in the literature
but that doesn't change the fact that it's impossible).  

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Oct 30 09:37:47 2000
From: gb at stat.umu.se (gb)
Date: Mon, 30 Oct 2000 09:37:47 +0100 (CET)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.GSO.4.21.0010292051100.12056-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.LNX.4.21.0010300930270.2124-100000@pc32.poljus.umu.se>

On Sun, 29 Oct 2000, Thomas Lumley wrote:

> On Thu, 26 Oct 2000, Bill Simpson wrote:
> 
> > I will have data in the following form:
> > 
> > Time    resp type       stim type
> > 300     a               A
> > 200     b               A
> > 155     a               B
> > 250     b               B
> > 80      c               A
> > 1000    d               B
> > ...
> > 
> > c is left censored observation; d is right censored
> > 
> > This sort of problem is discussed in Chap 9 of Cox & Oakes Analysis of
> > Survival Data under the name "competing risks".
> > 
> > Observations are obtained from n independent individuals in the form
> > (t_i,r_i;s_i) where t_i is the time of the event (failure), r_i is the
> > response type (failure type), and s_i is the stimulus type (explanatory
> > variable).
> > 
> > I am wondering if it is possible to use survfit5 to fit parametric and
> > nonparametric models to data like these, and if so how to do it. I
> > read the documentation for survfit5 and Surv() did  not seem to allow for
> > the type of model I need. If I can't use survfit5, any suggestions on how
> > to proceed? I am pretty ignorant of survival analysis at this point.
> > 
> > (Maybe I can just do separate survival analysis runs for the type a and
> > type b responses?)
> > 
> > Thanks very much for any help.
> > 
> > Bill
> > PS In the end I would like to have a plot of phat_a(t) vs t: probablity of
> > a failure of type a as a function of time (just like Cox and Oakes fig
> > 9.1)
> > 
> 
> 
> The mixture of left and right censoring is a problem -- survival5 can only
> handle this for parametric models.
> 
> I don't have a copy of Cox & Oakes, but if you just want to know the
> probability of a failure of type a before time t you can easily handle the
> competing risks issue. If someone has a failure of type b then you know
> that they don't have a failure of type a before time t, so you can set
> their failure time to a very large number (effective infinity).  If it

Hold it! I think you should _right censor_ the observation at t. This
doesn't matter, of course, if you only are interested of _one_ particular
t, but usually one wants to do the estimation for a range of  t  values.

[...]

> 	-thomas
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 30 08:28:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Oct 2000 07:28:05 +0000 (GMT)
Subject: [R] unsuccesfully making libRmath.a
In-Reply-To: <00103001293005.01281@ligarto>
Message-ID: <Pine.GSO.4.05.10010300723060.12833-100000@auk.stats>

On Mon, 30 Oct 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> I am having problems making and using the standalone library, after succesfully
> installing R from the tar.gz file (I am using Linux, with R-patched, but I have
> similar problems with R-devel).   
> 
> First, when I do: 
> root at ligarto:/usr/lib/R-patched/src/nmath/standalone > make
> ....
> ar: mlutils.o: No such file or directory 
> make[1]: *** [libRmath.a] Error 1
> make[1]: Leaving directory `/usr/lib/R-patched/src/nmath/standalone' make: ***
> [archive] Error 2 
> 
> 
> I tried directly giving the names of the object files to ar, and it seems to
> work... but not really:
> 
> > gcc -I/usr/lib/R-patched/src/include-L/usr/lib/R-patched/src/nmath/standalone  test.c -lRmath 
> 
> /tmp/ccJAm46E.o: In function `main': 
> /tmp/ccJAm46E.o(.text+0x22): undefined reference to `qnorm5'
> collect2: ld returned 1 exit status                           
> 
> 
> What am I doing wrong?

Well, it's hard to know what you are doing!  Try unpacking the tar again,
configuring, cd src/nmath/standalone and running make.  That is, not
making R first.  If that does not work, please send me a complete
transcript.

(Despite that advice, this has always worked for me on both Solaris and
Linux, but there seem to have been problems on older makes.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Oct 30 08:45:13 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 30 Oct 2000 08:45:13 +0100 (MET)
Subject: [R]- Estimate LD50 with bnlr{gnlm}
In-Reply-To: <Pine.A41.4.21.0010271730340.15152-100000@rcs7.urz.tu-dresden.de> from "Jens Schmidt" at Oct 27, 2000 05:58:16 PM
Message-ID: <200010300745.IAA17123@alpha.luc.ac.be>


> 
> Hi,
> 
> I'm not yet familar with GLM and still learning.
> How can I perform a BNL (to estimate LDp values) with matrixes like this
> (N indicates the observed objects):
> 
> data from:
> Kerr D, Meador J. 1996. "Modeling Dose Response Using Generalized Linear
> Models". Environ Toxicol Chem 15(3)
> 
> conc	respond	n
> 0	0	20
> 0	1	19
> 0	1	20
> 0	0	20
> 13.5	5	23
> 13.5	2	20
> 29	9	20
> 29	6	20
> 53	12	20
> 53	15	20
> 85	19	20
> 85	18	20
> 110	18	18
> 110	18	18
> 
> The bnlr{gnlm} documentation talks about a two column matrix as input.  

The two column matrix would be created by
cbind(n,n-respond)
However, if you are using standard linear logistic or probit models, I
would strongly recommend using glm in R rather than bnlr in my gnlm
library.
  Jim

> 
> Thanks for any help
> Jens
> 
> --
> Jens Schmidt                    TU Dresden -Inst. f. Hydrobiologie-
> Tel. +49-(0)351-463-6915        Mommsenstrasse 13
> Fax  +49-(0)351-463-7108        01062 Dresden
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 30 17:44:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 30 Oct 2000 08:44:21 -0800 (PST)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.LNX.4.21.0010300930270.2124-100000@pc32.poljus.umu.se>
Message-ID: <Pine.GSO.4.21.0010300830170.14728-100000@atlas.biostat.washington.edu>

On Mon, 30 Oct 2000, gb wrote:
> > 
> > I don't have a copy of Cox & Oakes, but if you just want to know the
> > probability of a failure of type a before time t you can easily handle the
> > competing risks issue. If someone has a failure of type b then you know
> > that they don't have a failure of type a before time t, so you can set
> > their failure time to a very large number (effective infinity).  If it
> 
> Hold it! I think you should _right censor_ the observation at t. This
> doesn't matter, of course, if you only are interested of _one_ particular
> t, but usually one wants to do the estimation for a range of  t  values.


It does matter, even for one particular t (unless it's the first one), and
I meant what I said.  If someone has a failure of one type you know for
certain that they will not have a failure of another type: for 
any t, P(failure of other type before t)=0.  Censoring the
observation would imply that their chance of having a failure of another
type was the same as for someone who hadn't failed.

You would censor failures from other causes if you wanted to estimate the
cause-specific hazard function, but it seems that Bill wants to estimate
the crude incidence of failure of one type.  

Censoring the failures of other types and computing a survival function
gives you a quantity that AFAIK has no useful interpretation except under
untestable and usually implausible assumptions like independence of
causes. The crude incidence of failure is admittedly not always a very
interesting quantity, but it has the definite advantage of being
identifiable.



	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernhard.riecke at tuebingen.mpg.de  Mon Oct 30 18:49:10 2000
From: bernhard.riecke at tuebingen.mpg.de (Bernhard Riecke)
Date: Mon, 30 Oct 2000 18:49:10 +0100
Subject: [R] circular statistics in R?
Message-ID: <39FDB496.41E4AAEF@tuebingen.mpg.de>

Hi there,

Has anybody heard of a circular statistics packages/function collection
in R  (or S-Plus)? (I mean circular statistics for periodic data,(e.g.,
pointing directions), like the ones described in Batschelet (1980). For
example used to compute mean angular deviation and variance, perform
comparisons of mean angles using e.g. a Watson-Williams test etc.)

I didn't find anything so far, so any help is appreciated!

Thanx,

Bernhard

P.S.
I'm new to 'R' (so far I did most of my analysis using matlab, but even
the matlab statistics package is rather limited), and was hoping that I
didn't have to write all functions from scratch...

-- 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
     _/     _/  _/_/_/  _/_/_/   Bernhard Riecke
    _/_/ _/_/  _/   _/   _/     Max-Planck Institute for
   _/  _/ _/  _/_/_/    _/     Biological Cybernetics,
  _/     _/  _/        _/     Spemannstrasse 38,
 _/     _/  _/      _/_/_/   72076 T"ubingen, Germany
http://www.kyb.tuebingen.mpg.de/bu/people/bernie/
mailto:bernhard.riecke at tuebingen.mpg.de  fax:  +49-7071/601-616 
WORK: +49-7071/601-630    HOME: +49-7071/64392
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Oct 30 23:14:23 2000
From: gb at stat.umu.se (gb)
Date: Mon, 30 Oct 2000 23:14:23 +0100 (CET)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.GSO.4.21.0010300830170.14728-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.LNX.4.21.0010302213410.1609-100000@pc32.poljus.umu.se>

On Mon, 30 Oct 2000, Thomas Lumley wrote:

> On Mon, 30 Oct 2000, gb wrote:
> > > 
> > > I don't have a copy of Cox & Oakes, but if you just want to know the
> > > probability of a failure of type a before time t you can easily handle the
> > > competing risks issue. If someone has a failure of type b then you know
> > > that they don't have a failure of type a before time t, so you can set
> > > their failure time to a very large number (effective infinity).  If it
> > 
> > Hold it! I think you should _right censor_ the observation at t. This
> > doesn't matter, of course, if you only are interested of _one_ particular
> > t, but usually one wants to do the estimation for a range of  t  values.
> 
> 
> It does matter, even for one particular t (unless it's the first one), and
> I meant what I said.  If someone has a failure of one type you know for
> certain that they will not have a failure of another type: for 
> any t, P(failure of other type before t)=0.  Censoring the
> observation would imply that their chance of having a failure of another
> type was the same as for someone who hadn't failed.
> 
> You would censor failures from other causes if you wanted to estimate the
> cause-specific hazard function, but it seems that Bill wants to estimate
> the crude incidence of failure of one type.  

I always thought of estimating the "cumulative incidence" P_a(t) = 
P(T < t, type = a) by first estimating the cause-specific hazard
function and the overall survival function, and then express the estimate
of P_a(t) in terms of these. See e.g. Kalbfleisch & Prentice (1980), p. 169.
However, your method seems to be simpler (and to give the same answer)!

[...]

Back to Bill's plot. I checked Cox & Oakes, figure 9.1, and in my copy of
the book, the figure is a graph of h_a(t) / (h_a(t) + h_b(t)) vs t.
Bill, is that what you want?

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Mon Oct 30 23:27:46 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Mon, 30 Oct 2000 22:27:46 +0000
Subject: [R] Newbie questions
Message-ID: <20001030222745.B11703@ps2-4.ucl-41>

Hi,

I am new to R, but a fairly `old' user of Stata. I read posts asking about
survey methods and large datasets in the archive, so I will not ask those
questions again. But some still remain:
- R seems to consume more memory given the same set of data, say if I have
  only a data frame defined, than Stata. Am I right if I think that this is
  because the object oriented nature of R and can not be overcome (ie., sort
  of traedoff between efficiency and complexity as with assembly <-> C <->
  C++/Java)?
- If not, is it a design goal of the developers to do speed/memory
  optimization (apart from dynamic memory allocation, which, as I understand
  orthogonal to this problem)
- Since sometimes I need to use modestly really large datasets (60000*300
  matrix), I wonder if I can do that in R at all? More adequately: is R
  scalable without limits by brute force (adding more CPU/RAM)?
- I noted, that R can use SQL datasources. Since it is really the case that
  one have to use both huge amount of records _and_ variables, an SQL+R
  combination might be one for me. Is it right? How fast would this be?
- Browsing the package lists, I have not seen a library for hypothesis
  testing. Everybody builds it from primitives or serious people do not do
  this at all?
- Generally: how do you think somebody in survey/econometrics could use R?
  (Answer: It depends on.... I know. But this is not the motivation. Stata is
  the last residuum in my GNU system. I would like to get rid of it...)

BTW, I compiled R on the Hurd (http://hurd.gnu.org). It compiled flawlessly,
but I was not able to test it because an X failure I have not been able to
track down yet (X is somewhat immature in the Hurd).

Thank you in advance,

Zsombor Cseres-Gergely

PS: please (also) cc. me the reply, because I am not on the list (yet)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Mon Oct 30 23:51:25 2000
From: jyan at stat.wisc.edu (Jun Yan)
Date: Mon, 30 Oct 2000 16:51:25 -0600 (CST)
Subject: [R] SOM (Self-organizing map)
Message-ID: <Pine.GSO.3.96L.1001030164121.79E-100000@mammon.stat.wisc.edu>

Does anyone know of any SOM library for R? or any stand alone freeware?
A search from google returns SOM_PAK 3.1 developed at Helsinki University
of Technology. Is there newer version?


Jun



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Oct 31 00:00:14 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 Oct 2000 15:00:14 -0800
Subject: [R] Newbie questions
In-Reply-To: <20001030222745.B11703@ps2-4.ucl-41>
 (Zsombor Cseres-Gergely's message of "Mon, 30 Oct 2000 22:27:46 +0000")
References: <20001030222745.B11703@ps2-4.ucl-41>
Message-ID: <877l6qylxd.fsf@jeeves.blindglobe.net>


As much as I'm a fan of R, I _really_ like Stata for numerous reasons
(great user support, etc), wonderful breadth of analysis tools.  I
don't see R as replacing Stata (at least not at one of the groups
where I work at, which is mostly consulting/collab), but I do see it
augmenting Stata, especially with respect to graphics (which are
horrid under Stata).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 31 00:07:48 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 30 Oct 2000 15:07:48 -0800 (PST)
Subject: [R] Newbie questions
In-Reply-To: <20001030222745.B11703@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.21.0010301459460.14728-100000@atlas.biostat.washington.edu>

On Mon, 30 Oct 2000, Zsombor Cseres-Gergely wrote:

> Hi,
> 
> I am new to R, but a fairly `old' user of Stata. I read posts asking about
> survey methods and large datasets in the archive, so I will not ask those
> questions again. But some still remain:
> - R seems to consume more memory given the same set of data, say if I have
>   only a data frame defined, than Stata. Am I right if I think that this is
>   because the object oriented nature of R and can not be overcome (ie., sort
>   of traedoff between efficiency and complexity as with assembly <-> C <->
>   C++/Java)?

Yes it is unavoidable though it isn't because of object
orientedness. Stata saves memory by allowing only one rectangular dataset
at a time, which simplifies things a lot. Stata also has a simpler
programming language. 

> - If not, is it a design goal of the developers to do speed/memory
>   optimization (apart from dynamic memory allocation, which, as I understand
>   orthogonal to this problem)

There is ongoing speed/memory optimisation, but it's not going to make a
huge difference to most problems.

> - Since sometimes I need to use modestly really large datasets (60000*300
>   matrix), I wonder if I can do that in R at all? More adequately: is R
>   scalable without limits by brute force (adding more CPU/RAM)?

R is scalable up to at least 2Gb of memory (perhaps more now on 64bit
machines).   It does not scale with added CPUs. Faster CPUs help, of
course.


> - Browsing the package lists, I have not seen a library for hypothesis
>   testing. Everybody builds it from primitives or serious people do not do
>   this at all?

library(ctest) is in the main R distribution. It has a lot of classical
hypothesis tests.


> BTW, I compiled R on the Hurd (http://hurd.gnu.org). It compiled flawlessly,
> but I was not able to test it because an X failure I have not been able to
> track down yet (X is somewhat immature in the Hurd).

It's good to hear that R works with the Hurd.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Oct 31 00:27:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Oct 2000 17:27:29 -0600
Subject: [R] Newbie questions
In-Reply-To: Thomas Lumley's message of "Mon, 30 Oct 2000 15:07:48 -0800 (PST)"
References: <Pine.GSO.4.21.0010301459460.14728-100000@atlas.biostat.washington.edu>
Message-ID: <6rd7ghhpum.fsf@franz.stat.wisc.edu>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> > BTW, I compiled R on the Hurd (http://hurd.gnu.org). It compiled flawlessly,
> > but I was not able to test it because an X failure I have not been able to
> > track down yet (X is somewhat immature in the Hurd).
> 
> It's good to hear that R works with the Hurd.

You may want to try "make check" after configuring and compiling R.
That should use the postscript graphics device driver rather than
anything related to X.  We would be very interested in hearing if that
succeeds.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 07:58:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 31 Oct 2000 06:58:44 +0000 (GMT)
Subject: [R] Newbie questions
In-Reply-To: <20001030222745.B11703@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.05.10010310646420.24812-100000@auk.stats>

On Mon, 30 Oct 2000, Zsombor Cseres-Gergely wrote:

To chip in a few points not already answered:

> I am new to R, but a fairly `old' user of Stata. I read posts asking about
> survey methods and large datasets in the archive, so I will not ask those
> questions again. But some still remain:

> - If not, is it a design goal of the developers to do speed/memory
>   optimization (apart from dynamic memory allocation, which, as I understand
>   orthogonal to this problem)

I think dynamic memory allocation is very pertinent. At present you need to
allocate to R at start up the maximum memory needed, and if large that can
hit performance badly on some systems.  Under the system under test for
1.2.0 you only get large memory usage if you need it, and (hopefully
when the tuning is finished) not when you don't.

> - Since sometimes I need to use modestly really large datasets (60000*300
>   matrix), I wonder if I can do that in R at all? More adequately: is R
>   scalable without limits by brute force (adding more CPU/RAM)?

`Really large' is relative.  That's a 144Mb dataset and it should run
happily in 512Mb or so (at least on Linux).  We are starting to get
datasets 10x that.  As I understand it Stata is on Windows, and there are
seem to be some problems with scaling on Windows (that was not designed
with very large processes in mind).

> - I noted, that R can use SQL datasources. Since it is really the case that
>   one have to use both huge amount of records _and_ variables, an SQL+R
>   combination might be one for me. Is it right? How fast would this be?

That's certainly what we are looking at, as well as auxiliary awk scripts
(I would have used Perl, but the student knows awk) to extract things
from the dataset before reaing into R.

> - Browsing the package lists, I have not seen a library for hypothesis
>   testing. Everybody builds it from primitives or serious people do not do
>   this at all?

There is package ctest shipping with R, but also there is quite a lot in
the last point: we do find we hardly ever use it.  With large problems,
the multiple-testing problems get to be quite serious.  In a recent
paper, we are adjusting for 50,000 simultaneous tests.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Oct 31 10:13:07 2000
From: gb at stat.umu.se (gb)
Date: Tue, 31 Oct 2000 10:13:07 +0100 (CET)
Subject: [R] Newbie questions
In-Reply-To: <Pine.GSO.4.05.10010310646420.24812-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0010311007150.2251-100000@pc32.poljus.umu.se>

On Tue, 31 Oct 2000, Prof Brian D Ripley wrote:

> On Mon, 30 Oct 2000, Zsombor Cseres-Gergely wrote:
> 
> To chip in a few points not already answered:

[...]

> `Really large' is relative.  That's a 144Mb dataset and it should run
> happily in 512Mb or so (at least on Linux).  We are starting to get
> datasets 10x that.  As I understand it Stata is on Windows, and there are
> seem to be some problems with scaling on Windows (that was not designed
> with very large processes in mind).

I am not a Stata user (yet), but I checked their web site (www.stata.com)
and found that Stata is not only on Windows, but also on Linux (i486+)
and other UNIX systems.

[...]

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Oct 31 10:18:05 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 31 Oct 2000 09:18:05 +0000 (GMT)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.LNX.4.21.0010302213410.1609-100000@pc32.poljus.umu.se>
Message-ID: <Pine.LNX.4.10.10010310852320.1667-100000@localhost.localdomain>

Thanks very much Thomas and Goran for your help on my problem.

On Mon, 30 Oct 2000, gb wrote:

> On Mon, 30 Oct 2000, Thomas Lumley wrote:
> 
> > On Mon, 30 Oct 2000, gb wrote:
> > > > 
> > > > I don't have a copy of Cox & Oakes, but if you just want to know the
> > > > probability of a failure of type a before time t you can easily handle the
> > > > competing risks issue. If someone has a failure of type b then you know
> > > > that they don't have a failure of type a before time t, so you can set
> > > > their failure time to a very large number (effective infinity).  If it
> > > 
> > > Hold it! I think you should _right censor_ the observation at t. This
> > > doesn't matter, of course, if you only are interested of _one_ particular
> > > t, but usually one wants to do the estimation for a range of  t  values.
> > 
> > 
> > It does matter, even for one particular t (unless it's the first one), and
> > I meant what I said.  If someone has a failure of one type you know for
> > certain that they will not have a failure of another type: for 
> > any t, P(failure of other type before t)=0.  Censoring the
> > observation would imply that their chance of having a failure of another
> > type was the same as for someone who hadn't failed.
> > 
> > You would censor failures from other causes if you wanted to estimate the
> > cause-specific hazard function, but it seems that Bill wants to estimate
> > the crude incidence of failure of one type.  
> 
> I always thought of estimating the "cumulative incidence" P_a(t) = 
> P(T < t, type = a) by first estimating the cause-specific hazard
> function and the overall survival function, and then express the estimate
> of P_a(t) in terms of these. See e.g. Kalbfleisch & Prentice (1980), p. 169.
> However, your method seems to be simpler (and to give the same answer)!
> 
> [...]
> 
> Back to Bill's plot. I checked Cox & Oakes, figure 9.1, and in my copy of
> the book, the figure is a graph of h_a(t) / (h_a(t) + h_b(t)) vs t.
> Bill, is that what you want?

Yes.

If it would help matters, could we consider the simpler cases
- competing risk with no censoring
- competing risk with right-censoring only

I haven't used survival5 at all, and am not sure what the R code would
look like. Some code snippets would be a great help.

In answer to your question Thomas, the times are probably going to have a
density function that this skewed to the right, so I was thinking of
something simple like log-logistic or Gumbel.

Final point:
I did not present the full picture in my original post. I distorted it to
make it simpler. In reality the short and long times are problematic but
not really censored. In the experiment, on each trial either stimulus A or
B is presented with equal probability. The subject must respond a or b,
and the time of the respose is recorded. If the time is short, say <100
ms, this is an "anticipation": just like when the sprinter jumps off the
blocks prematurely in a race. It is not a true reaction time, and
therefore we don't want to treat it the same as the other responses. If
the resp time is too long, say >1500 ms, this is also not a real reaction
time--it means the subject missed the button or blinked or something like
that. We really will have right-censoring: we won't record times >1.5 s,
but that is not really the issue.

Traditionally these short and long times are just thrown out in the
analysis. I am not sure what the right thing to do is. Censoring doesn't
really capture the problem at all. It is more of an "outlier" or "multiple
mechanism" problem: one mechanism produces normal reaction times, another
produces anticipations, and another produces the really long ones. I
suppose it could be handled as a mixture of three distributions (although 
the short and long responses are quite rare).

There's the full story, ugly I know. I was going to try some simple stuff
for a start and slowly try to work my way up to a sensible approach.

Thanks again for the help!

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From colin.alexander at bbsrc.ac.uk  Tue Oct 31 10:22:44 2000
From: colin.alexander at bbsrc.ac.uk (colin alexander)
Date: Tue, 31 Oct 2000 09:22:44 -0000
Subject: [R] circular statistics in R?
Message-ID: <194E4E81F995D411989200508BDCD8F331043F@rs-exsrv1.res.bbsrc.ac.uk>

Hi,

Not exactly what you were asking for but there's a set of UNIX Splus
functions for plotting circular data at

http://www.cmis.csiro.au/Nick.Fisher/

Colin

___________________________________

Colin J. Alexander
Entomology & Nematology Department
IACR Rothamsted
Harpenden
Herts AL5 2JQ UK

Tel: +44 (0)1582 763133 ext 2438
Fax: +44 (0)1582 760981
E-mail: colin.alexander at bbsrc.ac.uk
WWW: http://www.iacr.bbsrc.ac.uk/
___________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Tue Oct 31 11:34:26 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Tue, 31 Oct 2000 11:34:26 +0100 (CET)
Subject: [R] SOM (Self-organizing map)
In-Reply-To: <Pine.GSO.3.96L.1001030164121.79E-100000@mammon.stat.wisc.edu>
Message-ID: <Pine.LNX.3.95.1001031101800.6897A-100000@pcinternet.biochem.dshs-koeln.de>

Do I remember correctly that SOMs are "self oraganizing maps" and are more
or less identical to Kohonen networks? As far as I know there is no R
package for that purpose. 

A widely used - at least in Germany - neural network simulator is SNNS
(Stuttgarter Neuraonale Netze Simulator). Its available freely under a
GNU like license from a lot of german university servers. The people who
built it can be reached via <http://www.informatik.uni-stuttgart.de>.
You will find executables for several platforms as well as source code and
documentation.

SNNS also is included in a number of Linux distributions. It is in SuSE
and it at least has been in DLD.

I used it some years ago and did not go beyond standard backpropagation
(which can be done in R using the nnet library included in VR). So I can't
tell you about the Kohonen capabilities. But its included in the simulator
definetely.

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Mon, 30 Oct 2000, Jun Yan wrote:

> Does anyone know of any SOM library for R? or any stand alone freeware?
> A search from google returns SOM_PAK 3.1 developed at Helsinki University
> of Technology. Is there newer version?
> 
> 
> Jun
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 11:51:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 31 Oct 2000 10:51:59 +0000 (GMT)
Subject: [R] SOM (Self-organizing map)
Message-ID: <200010311051.KAA25502@toucan.stats.ox.ac.uk>


> Date: Tue, 31 Oct 2000 11:34:26 +0100 (CET)
> From: "Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de>
> To: Jun Yan <jyan at stat.wisc.edu>
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] SOM (Self-organizing map)
> 
> Do I remember correctly that SOMs are "self oraganizing maps" and are more
> or less identical to Kohonen networks? As far as I know there is no R
> package for that purpose. 
> 
> A widely used - at least in Germany - neural network simulator is SNNS
> (Stuttgarter Neuraonale Netze Simulator). Its available freely under a
> GNU like license from a lot of german university servers. The people who
> built it can be reached via <http://www.informatik.uni-stuttgart.de>.
> You will find executables for several platforms as well as source code and
> documentation.
> 
> SNNS also is included in a number of Linux distributions. It is in SuSE
> and it at least has been in DLD.
> 
> I used it some years ago and did not go beyond standard backpropagation
> (which can be done in R using the nnet library included in VR). So I can't
> tell you about the Kohonen capabilities. But its included in the simulator
> definetely.
 
> 
> On Mon, 30 Oct 2000, Jun Yan wrote:
> 
> > Does anyone know of any SOM library for R? or any stand alone freeware?
> > A search from google returns SOM_PAK 3.1 developed at Helsinki University
> > of Technology. Is there newer version?

I would recommend using the original Kohonen's group code in SOM_PAK
(yes, it's 3.1 AFAIK).  There's lot of variations on this theme.
My experience of SNNS is that it tends to include everything available,
at the expense of quality.

Someone did send details to S-news of (slow) S code to do this, so
you could search the S-news archives.

I did once write an R interface to SOM_PAK for a particular project,
but am not sure that I still have it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marwan.Khawaja at fafo.no  Tue Oct 31 12:17:36 2000
From: Marwan.Khawaja at fafo.no (Khawaja Marwan)
Date: Tue, 31 Oct 2000 12:17:36 +0100
Subject: [R] log-linear
Message-ID: <B5DEF8EC8E9D3444A94206C3C9949FC31C8C82@mailsrv01.Fafo.No>

Hi,
It appears that there is no package for estimating log linear models (L.
Goodman's family) for data in the form of frequency tables. Am I wrong? 
Thanks

Marwan Khawaja
Research Coordinator
Fafo,  Institute for Applied Social Science
N-0608 Oslo, Norway
Tel +47 22 08 86 00 
      +47 22 08 86 94 (Direct)
      +47 22 67 33 05 (Private)
Fax +47 22 08 87 00

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 12:40:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 31 Oct 2000 11:40:57 +0000 (GMT)
Subject: [R] log-linear
Message-ID: <200010311140.LAA00516@toucan.stats.ox.ac.uk>


> From: Khawaja Marwan <Marwan.Khawaja at fafo.no>
> Date: Tue, 31 Oct 2000 12:17:36 +0100
> 
> It appears that there is no package for estimating log linear models (L.
> Goodman's family) for data in the form of frequency tables. Am I wrong? 

Well, there is no package, but there is inbuilt functionality.  Look at
loglin, and Bill Venables' formula-driven interface to it, loglm in
package MASS.

I'm not sure what exactly you are attributing to Goodman, but loglin
does the conventional analysis that I thought well predates his work.
Plackett attributes it to Birch (1963).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bv5ddma at mail.educities.edu.tw  Tue Oct 31 13:19:31 2000
From: bv5ddma at mail.educities.edu.tw (Patrick Yuk-lun Ma M.D. / BV5DD)
Date: Tue, 31 Oct 2000 20:19:31 +0800
Subject: [R] Still find the error in loading the tk-library
Message-ID: <39FEB8D3.1ABA7787@mail.educities.edu.tw>

Dear Sir,
    I do find the same error in the following, may someone help me how
to solve it when I run the demo(tkttest)

 demo(tkttest)


        demo(tkttest)
        ---- ~~~~~~~

Type  <Return>   to start :

> require(tcltk) || stop("tcltk support is absent")
Loading required package: tcltk
Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in eval.with.vis(expr, envir, enclos) :
        tcltk support is absent
> library(tcltk)
Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in library(tcltk) : .First.lib failed

Yuk-lun Ma




============================
SayHi Free ISP
http://www.sayhi.net
============================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Oct 31 13:52:47 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 31 Oct 2000 07:52:47 -0500 (EST)
Subject: [R] log-linear
Message-ID: <200010311252.HAA13396@cattell.psych.upenn.edu>

>It appears that there is no package for estimating log linear models (L.
>Goodman's family) for data in the form of frequency tables. Am I wrong? 

Yes.  (Although I don't know Goodman's family.)  You can estimate
them with family=poisson.  See
http://www.psych.upenn.edu/~baron/rpsych.htm#tth_sEc6.10
for an example.  Also see Venables and Ripley's book, sect. 7.3.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 14:18:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 31 Oct 2000 13:18:06 +0000 (GMT)
Subject: [R] Still find the error in loading the tk-library
Message-ID: <200010311318.NAA00719@toucan.stats.ox.ac.uk>


> Date: Tue, 31 Oct 2000 20:19:31 +0800
> From: "Patrick Yuk-lun Ma M.D. / BV5DD" <bv5ddma at mail.educities.edu.tw>
> 
> Dear Sir,
>     I do find the same error in the following, may someone help me how
> to solve it when I run the demo(tkttest)
> 
>  demo(tkttest)
> 
> 
>         demo(tkttest)
>         ---- ~~~~~~~
> 
> Type  <Return>   to start :
> 
> > require(tcltk) || stop("tcltk support is absent")
> Loading required package: tcltk
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set

I strongly suspect you are on Windows, although you do not say so.
If so, CHANGES says:

   Optional support for the Tcl/Tk interface.  To use this you need to
   install tcl831.exe from dev.scriptics.com, and you will need the Tcl
   and Tk dlls in your path.  Also, you need to set the environment
   variable TCL_LIBRARY, to something like c:/Program Files/Tcl/lib/tcl8.3.
   The demos(tk*) will work on Windows.

(tcl832.exe will also work.)  That should answer your problem

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Oct 31 15:46:19 2000
From: gb at stat.umu.se (gb)
Date: Tue, 31 Oct 2000 15:46:19 +0100 (CET)
Subject: [R] competing risks survival analysis
In-Reply-To: <Pine.LNX.4.10.10010310852320.1667-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.21.0010311510010.2804-100000@pc32.poljus.umu.se>

On Tue, 31 Oct 2000, Bill Simpson wrote:

[...]
> > 
> > Back to Bill's plot. I checked Cox & Oakes, figure 9.1, and in my copy of
> > the book, the figure is a graph of h_a(t) / (h_a(t) + h_b(t)) vs t.
> > Bill, is that what you want?
> 
> Yes.

Now, as I see it, this simplifies matters enormously! Since you only are 
interested in the ratio between the two hazards, you can (a) throw away
all censored observations, be it right or left, (b) just count the number 
of events of each type, i.e., disregard exposure time, which will be the
same for both types of events. 

Two (non-parametric) approaches are possible:

I. Divide the time axis into suitable intervals, count the number of
   events of each type in each interval, and calculate the appropriate
   ratios. This is what Cox & Oakes did in Figure 9.1.

II. For each  t, t > 0, count the events of type  a  and  b, n_a(t)  and
    n_b(t), respectively, that occurs before  t. Then calculate
    n_a(t) / (n_a(t) + n_b(t)). This is not exactly what you asked for,
    but a "cumulative" version of it. The advantage could be that you
    don't have to do an (arbitrary) interval splitting of the time axis.
 
[...]

> Final point:
> I did not present the full picture in my original post. I distorted it to
> make it simpler. In reality the short and long times are problematic but
> not really censored. In the experiment, on each trial either stimulus A or
> B is presented with equal probability. The subject must respond a or b,
> and the time of the respose is recorded. If the time is short, say <100
> ms, this is an "anticipation": just like when the sprinter jumps off the
> blocks prematurely in a race. It is not a true reaction time, and
> therefore we don't want to treat it the same as the other responses. If
> the resp time is too long, say >1500 ms, this is also not a real reaction
> time--it means the subject missed the button or blinked or something like
> that. We really will have right-censoring: we won't record times >1.5 s,
> but that is not really the issue.

So, your censored observations are not truly censored in that you know 
the type of event, a  or  b? In that case, since the right and left
censoring time points are constant over individuals (fixed by "design"), 
I guess it would make sense to count events in (0, 100ms) and in 
(1500ms, \infty) separately, by type, and continue as above. 
 
> Traditionally these short and long times are just thrown out in the
> analysis. I am not sure what the right thing to do is. Censoring doesn't
> really capture the problem at all. 

If censored observations carry no information of type you can throw them
out, since you only bother about the ratio between the intensities.

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Oct 31 16:49:03 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 31 Oct 2000 10:49:03 -0500
Subject: [R] Funny things appen!
Message-ID: <02db01c04352$191f6100$0201a8c0@Workgroup>

Hi everyone,

This is not a complaint. I just want to point out a couple of funny behavior
I noticed.

First,

> version
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

When I issue a print command from the windows device, the window minimize
itself for a little while and then comes back to it's original state.

When I have minimized an help window (RGUI) and click on the close button
(X), the window restores itself to its prior state and then closes.

I find both of these behavior a bit funny and I wonder if it would be worth
while to try to change them to be more "? la Windoze" like.

Thanks for your time.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Oct 31 20:28:05 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Tue, 31 Oct 2000 19:28:05 +0000
Subject: [R] Newbie questions
In-Reply-To: <877l6qylxd.fsf@jeeves.blindglobe.net>; from rossini@blindglobe.net on Mon, Oct 30, 2000 at 03:00:14PM -0800
References: <20001030222745.B11703@ps2-4.ucl-41> <877l6qylxd.fsf@jeeves.blindglobe.net>
Message-ID: <20001031192804.A1043@ps2-4.ucl-41>

On Mon, Oct 30, 2000 at 03:00:14PM -0800, A.J. Rossini wrote:

No replace: Stata is commercial, R is GNU. There is a purity issue here.

> where I work at, which is mostly consulting/collab), but I do see it
> augmenting Stata, especially with respect to graphics (which are
> horrid under Stata).

Yes, Stata graphics is terrible (although they say it will improve). But how
do you exchange datafiles? Dump to ascii and infile?

Thanks,

Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From massimo at inka.mssm.edu  Tue Oct 31 20:28:20 2000
From: massimo at inka.mssm.edu (Massimo Sassaroli)
Date: Tue, 31 Oct 2000 14:28:20 -0500
Subject: [R] Silhouette plot labels in package cluster
Message-ID: <000301c04370$babfbd20$cb03cb92@physbio.mssm.edu>

Hello everybody:

I have just started using R, specifically the clustering packages. Despite
the vastness of the functionality of the system, I have found it very
flexible and intuitive. It has been great fun to experiment with it.
Nevertheless, I am under tight time constraints to complete a cluster
analysis of some data and need to come up with a "quick" solution for the
following problem:  When I call the plot() function with a pam.object and
try to write labels for the individual objects in the silhouette plots,
rather than the object number, it appears that the length of the strings
allowed for the labels is limited to 5 characters. Is this an intrinsic
limitation? Is there a way to work around this limitation?

Thank you very much for your help and thanks for a great piece of software!

Massimo Sassaroli, D.Sc.
____________________________________________
Massimo Sassaroli
Dept. of Physiology and Biophysics, Box 1218
Mount Sinai School of Medicine
One Gustave L. Levy Place
New York, NY 10029
Tel:(212) 241-9512  FAX:(212) 860-3369
email: massimo at inka.mssm.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Oct 31 20:36:40 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Tue, 31 Oct 2000 19:36:40 +0000
Subject: [R] Newbie questions
In-Reply-To: <6rd7ghhpum.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Mon, Oct 30, 2000 at 05:27:29PM -0600
References: <Pine.GSO.4.21.0010301459460.14728-100000@atlas.biostat.washington.edu> <6rd7ghhpum.fsf@franz.stat.wisc.edu>
Message-ID: <20001031193640.B1043@ps2-4.ucl-41>

On Mon, Oct 30, 2000 at 05:27:29PM -0600, Douglas Bates wrote:

> You may want to try "make check" after configuring and compiling R.
> That should use the postscript graphics device driver rather than
> anything related to X.  We would be very interested in hearing if that
> succeeds.

OK, one good and a bad news. Good news is that R runs with option --gui=none.
It does demo()-s that does not involve graphics. It does this at a failry good
speed, and can allocate all my ram (I have not tried more, though)

Bad news is that make check fails saying: 

Fatal error: The X11 shared library could not be loaded.
  The error was /home/zs/R-1.1.1/bin/R_X11.so: undefined symbol: R_GlobalEnv

Since I am an absplutely non-programmer, I can only say what I have already
said: X (3.??) is hacked on top of The Hurd, and will be replaced by a newer
breed (4.??), so I think this is not your problem. However, if you have a
suggestion, I could try it, and/or pipe the results into Hurd people.

BTW it is nice to see that you managed to avoid the typical MAXPATHELEN (?)
cath that affects many packages.

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Oct 31 20:39:06 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Tue, 31 Oct 2000 19:39:06 +0000
Subject: [R] Newbie questions
In-Reply-To: <Pine.LNX.4.21.0010311007150.2251-100000@pc32.poljus.umu.se>; from gb@stat.umu.se on Tue, Oct 31, 2000 at 10:13:07AM +0100
References: <Pine.GSO.4.05.10010310646420.24812-100000@auk.stats> <Pine.LNX.4.21.0010311007150.2251-100000@pc32.poljus.umu.se>
Message-ID: <20001031193906.C1043@ps2-4.ucl-41>

On Tue, Oct 31, 2000 at 10:13:07AM +0100, gb wrote:

> I am not a Stata user (yet), but I checked their web site (www.stata.com)
> and found that Stata is not only on Windows, but also on Linux (i486+)
> and other UNIX systems.

That is correct, I am running Stata for Linux/Glibc.

Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Oct 31 20:47:24 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 31 Oct 2000 11:47:24 -0800
Subject: [R] Newbie questions
In-Reply-To: <20001031192804.A1043@ps2-4.ucl-41>
 (Zsombor Cseres-Gergely's message of "Tue, 31 Oct 2000 19:28:05 +0000")
References: <20001030222745.B11703@ps2-4.ucl-41>
 <877l6qylxd.fsf@jeeves.blindglobe.net> <20001031192804.A1043@ps2-4.ucl-41>
Message-ID: <87snpceqsz.fsf@jeeves.blindglobe.net>

>>>>> "ZC" == Zsombor Cseres-Gergely <z.cseres-gergely at ucl.ac.uk> writes:

    ZC> On Mon, Oct 30, 2000 at 03:00:14PM -0800, A.J. Rossini wrote:
    ZC> No replace: Stata is commercial, R is GNU. There is a purity
    ZC> issue here.

I see no reason to forego great support, as well as a good package (R
can't replace many things that it does, at least not yet.  Maybe in
the future...).  In my experience, the quality (and quantity) of
support that Stata Corp. provides is quite good, up to the standards
set by most OSS groups :-).

Purity arguments are both compelling and dangerous.  And I'll leave it
at that.  They have no business here.

    >> where I work at, which is mostly consulting/collab), but I do
    >> see it augmenting Stata, especially with respect to graphics
    >> (which are horrid under Stata).

    ZC> Yes, Stata graphics is terrible (although they say it will
    ZC> improve). But how do you exchange datafiles? Dump to ascii and
    ZC> infile?

Required helpful R-related content:

Much, much easier.  Look for the stataread package at CRAN.
(at least until R gets a nice set of longitudinal macros, I'll
 continue to enjoy Stata's "reshape" command for data manipulation)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Oct 31 20:49:31 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Tue, 31 Oct 2000 19:49:31 +0000
Subject: [R] Newbie questions
In-Reply-To: <Pine.GSO.4.21.0010301459460.14728-100000@atlas.biostat.washington.edu>; from thomas@biostat.washington.edu on Mon, Oct 30, 2000 at 03:07:48PM -0800
References: <20001030222745.B11703@ps2-4.ucl-41> <Pine.GSO.4.21.0010301459460.14728-100000@atlas.biostat.washington.edu>
Message-ID: <20001031194931.D1043@ps2-4.ucl-41>

On Mon, Oct 30, 2000 at 03:07:48PM -0800, Thomas Lumley wrote:

> Yes it is unavoidable though it isn't because of object
> orientedness. Stata saves memory by allowing only one rectangular dataset
> at a time, which simplifies things a lot. Stata also has a simpler
> programming language. 

But should this affect memory usage when using more than data frame? As far I
have experienced, the memory need (for loading the data) of Stata is about the
size of the file on disk, but R consumes more that twice that. This shuld not
be connected to the language or the ability to accept more datasets, but the
representation of the data, should it?

> R is scalable up to at least 2Gb of memory (perhaps more now on 64bit
> machines).   It does not scale with added CPUs. Faster CPUs help, of
> course.

Linearly (both?)?

> library(ctest) is in the main R distribution. It has a lot of classical
> hypothesis tests.

Well, I was not that precise, since I meant tests for regression parameters.
Now I have seen from the code of ellipse(), that one can extract the varcovar
matrix of the extimators as summarl.lm$cov.unscaled, and than the calculations
are straightforward (at least for simple tests). But I still wonder if there
is no library for this, since (ctest) does not do this, AFAIK.

> It's good to hear that R works with the Hurd.

Yeah, pure GNU system builds on my machine. Since nobody answered the "how
about survey" question, I assume that it will be implemented when I do it.
After this is done, I can replace Stata, I think.

Thank you,
Zsombor

PS: In fact: thank you for all. I think this e-mail was the longest. Now I am
on the list, so no need for cc:!
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 31 20:51:19 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 31 Oct 2000 11:51:19 -0800 (PST)
Subject: [R] Newbie questions
In-Reply-To: <20001031193640.B1043@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.21.0010311150290.1810-100000@atlas.biostat.washington.edu>

On Tue, 31 Oct 2000, Zsombor Cseres-Gergely wrote:

> On Mon, Oct 30, 2000 at 05:27:29PM -0600, Douglas Bates wrote:
> 
> > You may want to try "make check" after configuring and compiling R.
> > That should use the postscript graphics device driver rather than
> > anything related to X.  We would be very interested in hearing if that
> > succeeds.
> 
> OK, one good and a bad news. Good news is that R runs with option --gui=none.
> It does demo()-s that does not involve graphics. It does this at a failry good
> speed, and can allocate all my ram (I have not tried more, though)
> 
> Bad news is that make check fails saying: 
> 
> Fatal error: The X11 shared library could not be loaded.
>   The error was /home/zs/R-1.1.1/bin/R_X11.so: undefined symbol: R_GlobalEnv
> 

If you configure R using the --without-x option it should not use the X
libraries at all. This may work better in your case.

		-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 31 20:53:55 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 31 Oct 2000 11:53:55 -0800 (PST)
Subject: [R] Newbie questions
In-Reply-To: <20001031194931.D1043@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.21.0010311151460.1810-100000@atlas.biostat.washington.edu>

On Tue, 31 Oct 2000, Zsombor Cseres-Gergely wrote:


> > programming language. 
> 
> But should this affect memory usage when using more than data frame? As far I
> have experienced, the memory need (for loading the data) of Stata is about the
> size of the file on disk, but R consumes more that twice that. This shuld not
> be connected to the language or the ability to accept more datasets, but the
> representation of the data, should it?

It is due to the representation of the data, but not due to
object-orientedness, which R has only to a limited extent
 


> > library(ctest) is in the main R distribution. It has a lot of classical
> > hypothesis tests.
> 
> Well, I was not that precise, since I meant tests for regression parameters.
> Now I have seen from the code of ellipse(), that one can extract the varcovar
> matrix of the extimators as summarl.lm$cov.unscaled, and than the calculations
> are straightforward (at least for simple tests). But I still wonder if there
> is no library for this, since (ctest) does not do this, AFAIK.
> 

summary() gives tests for individual regression parameters in a linear
model and anova() compares two models.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 20:56:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 31 Oct 2000 19:56:57 +0000 (GMT)
Subject: [R] Newbie questions
In-Reply-To: <20001031193640.B1043@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.05.10010311950361.2911-100000@auk.stats>

On Tue, 31 Oct 2000, Zsombor Cseres-Gergely wrote:

> On Mon, Oct 30, 2000 at 05:27:29PM -0600, Douglas Bates wrote:
> 
> > You may want to try "make check" after configuring and compiling R.
> > That should use the postscript graphics device driver rather than
> > anything related to X.  We would be very interested in hearing if that
> > succeeds.
> 
> OK, one good and a bad news. Good news is that R runs with option --gui=none.
> It does demo()-s that does not involve graphics. It does this at a failry good
> speed, and can allocate all my ram (I have not tried more, though)
> 
> Bad news is that make check fails saying: 
> 
> Fatal error: The X11 shared library could not be loaded.
>   The error was /home/zs/R-1.1.1/bin/R_X11.so: undefined symbol: R_GlobalEnv
> 
> Since I am an absplutely non-programmer, I can only say what I have already
> said: X (3.??) is hacked on top of The Hurd, and will be replaced by a newer
> breed (4.??), so I think this is not your problem. However, if you have a
> suggestion, I could try it, and/or pipe the results into Hurd people.

Looks like your build is not importing variables correctly. R_GlobalEnv is
an exported variable that R_X11.so imports.  Does Hurd need any special
treatment for those (some OSes do for variables)?

There are other imported variables, but dlopen often only reports the first
failure.  Looking at R.bin and R_X11.so with nm will probably tell you
what's adrift here.

You can force make check to try harder by adding --gui=none to the
line

R = $(top_builddir)/bin/R --vanilla

in the Makefiles in test.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 21:01:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 31 Oct 2000 20:01:57 +0000 (GMT)
Subject: [R] Newbie questions
In-Reply-To: <Pine.GSO.4.21.0010311151460.1810-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10010311958060.2911-100000@auk.stats>

On Tue, 31 Oct 2000, Thomas Lumley wrote:

> On Tue, 31 Oct 2000, Zsombor Cseres-Gergely wrote:
> 
[...]

> > > library(ctest) is in the main R distribution. It has a lot of classical
> > > hypothesis tests.
> > 
> > Well, I was not that precise, since I meant tests for regression parameters.
> > Now I have seen from the code of ellipse(), that one can extract the varcovar
> > matrix of the extimators as summarl.lm$cov.unscaled, and than the calculations
> > are straightforward (at least for simple tests). But I still wonder if there
> > is no library for this, since (ctest) does not do this, AFAIK.
> > 
> 
> summary() gives tests for individual regression parameters in a linear
> model and anova() compares two models.

And vcov in package MASS extracts the varcov matrix (correctly scaled).
(Anova compares two or more models in pairs, which can be useful.)
add1 and drop1 can give tests for adding and dropping a term at a time ....

Tell us exactly what you want, but there is a fair chance it is in base R.
Note that I used `term' not parameter, as often one wants to test
groups of parameters.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bv5ddma at mail.educities.edu.tw  Tue Oct 31 21:06:25 2000
From: bv5ddma at mail.educities.edu.tw (Patrick Yuk-lun Ma M.D. / BV5DD)
Date: Wed, 01 Nov 2000 04:06:25 +0800
Subject: [R] Still find the error in loading the tk-library
Message-ID: <39FF2641.2675F894@mail.educities.edu.tw>


Dear Sir,
    Thanks for all, finally I found what happened and it works after the

installation of tcl831.exe downloading from dev.scriptics.com
    Thanks again!
  Yuk-lun Ma
 Date: Tue, 31 Oct 2000 20:19:31 +0800
> From: "Patrick Yuk-lun Ma M.D. / BV5DD"
<bv5ddma at mail.educities.edu.tw>
>
> Dear Sir,
>     I do find the same error in the following, may someone help me how

> to solve it when I run the demo(tkttest)
>
>  demo(tkttest)
>
>
>         demo(tkttest)
>         ---- ~~~~~~~
>
> Type  <Return>   to start :
>
> > require(tcltk) || stop("tcltk support is absent")
> Loading required package: tcltk
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set

I strongly suspect you are on Windows, although you do not say so.
If so, CHANGES says:

   Optional support for the Tcl/Tk interface.  To use this you need to
   install tcl831.exe from dev.scriptics.com, and you will need the Tcl
   and Tk dlls in your path.  Also, you need to set the environment
   variable TCL_LIBRARY, to something like c:/Program
Files/Tcl/lib/tcl8.3.
   The demos(tk*) will work on Windows.

(tcl832.exe will also work.)  That should answer your problem

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch

_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._






============================
SayHi Free ISP
http://www.sayhi.net
============================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From croed at mb.sympatico.ca  Tue Oct 31 22:31:29 2000
From: croed at mb.sympatico.ca (Chris Roed)
Date: Tue, 31 Oct 2000 15:31:29 -0600
Subject: [R] Compiling R in Caldera Linux
Message-ID: <00103115383400.01039@elvis.nodomain.nowhere>

I am new to Linux and its ways, and so I am having a bit of trouble compiling R.
The system I am using is Caldera Open Linux 2.4.  I have egcs and g77 version
2.91.66 installed and they seem to work fine.  When I try to run the 
configure script for R, it quits at the test of g77 with an error "Can't find
-lg2c". 
 Does this error mean I am missing a library, and if so, which one?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 31 23:41:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Oct 2000 23:41:14 +0100
Subject: [R] Compiling R in Caldera Linux
In-Reply-To: Chris Roed's message of "Tue, 31 Oct 2000 15:31:29 -0600"
References: <00103115383400.01039@elvis.nodomain.nowhere>
Message-ID: <x2y9z4bpmd.fsf@blueberry.kubism.ku.dk>

Chris Roed <croed at mb.sympatico.ca> writes:

> I am new to Linux and its ways, and so I am having a bit of trouble compiling R.
> The system I am using is Caldera Open Linux 2.4.  I have egcs and g77 version
> 2.91.66 installed and they seem to work fine.  When I try to run the 
> configure script for R, it quits at the test of g77 with an error "Can't find
> -lg2c". 
>  Does this error mean I am missing a library, and if so, which one?

Yes, libg2c... As far as I remember (it's been a while since we had
reports on Caldera) the wisest thing to do is probably to install f2c
and reconfigure using --with-f2c. 

I'm pretty sure that the root of the problem is that Caldera simply
forgot to package that library with the g77 compiler. If you really
want it, it might be best simply to recompile the compiler (which
isn't all that hard, but not completely trivial either).

There's a remote chance that it might work to copy libf2c.a to
libg2c.a in whatever corresponds to RedHats
/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/ directory.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 31 11:51:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 31 Oct 2000 10:51:59 +0000 (GMT)
Subject: [R] SOM (Self-organizing map)
Message-ID: <200010311051.KAA25502@toucan.stats.ox.ac.uk>


> Date: Tue, 31 Oct 2000 11:34:26 +0100 (CET)
> From: "Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de>
> To: Jun Yan <jyan at stat.wisc.edu>
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] SOM (Self-organizing map)
> 
> Do I remember correctly that SOMs are "self oraganizing maps" and are more
> or less identical to Kohonen networks? As far as I know there is no R
> package for that purpose. 
> 
> A widely used - at least in Germany - neural network simulator is SNNS
> (Stuttgarter Neuraonale Netze Simulator). Its available freely under a
> GNU like license from a lot of german university servers. The people who
> built it can be reached via <http://www.informatik.uni-stuttgart.de>.
> You will find executables for several platforms as well as source code and
> documentation.
> 
> SNNS also is included in a number of Linux distributions. It is in SuSE
> and it at least has been in DLD.
> 
> I used it some years ago and did not go beyond standard backpropagation
> (which can be done in R using the nnet library included in VR). So I can't
> tell you about the Kohonen capabilities. But its included in the simulator
> definetely.
 
> 
> On Mon, 30 Oct 2000, Jun Yan wrote:
> 
> > Does anyone know of any SOM library for R? or any stand alone freeware?
> > A search from google returns SOM_PAK 3.1 developed at Helsinki University
> > of Technology. Is there newer version?

I would recommend using the original Kohonen's group code in SOM_PAK
(yes, it's 3.1 AFAIK).  There's lot of variations on this theme.
My experience of SNNS is that it tends to include everything available,
at the expense of quality.

Someone did send details to S-news of (slow) S code to do this, so
you could search the S-news archives.

I did once write an R interface to SOM_PAK for a particular project,
but am not sure that I still have it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


