From wuebben at math.cornell.edu  Fri Jan  1 03:08:17 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Thu, 31 Dec 1998 21:08:17 -0500 (EST)
Subject: [R] Announce: timeslab for R
Message-ID: <XFMail.981231210817.wuebben@math.cornell.edu>


Hi,

        I have uploaded a port of the S package timeslab to R. timeslab
is a set of routines for basic time series analysis. Please test. Feel
free to improve the port and extend the code.

Best,
Bernd
--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wuebben at math.cornell.edu  Fri Jan  1 17:40:02 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Fri, 01 Jan 1999 11:40:02 -0500 (EST)
Subject: [R] RE: timeslab
In-Reply-To: <003601be3567$1995bda0$2c4fa8c0@tring.stofanet.dk>
Message-ID: <XFMail.990101114002.wuebben@math.cornell.edu>


Hi Troels,

Its in the incoming directory:

        ftp://ftp.ci.tuwien.ac.at/incoming

Try this for a nice demo:

> library(timeslab)
> arma(alpha, beta, x, 2, 4, 3, 0.2,500, 30,0)           

Bernd

On 01-Jan-99 Troels Ring wrote:
> Hi Johannes Wuebben and a happy new year.
> Where did you actually put the timeslab ?
> Yours
> 
> Troels Ring, MD
> Department of Nephrology
> Aalborg Hospital
> Aalborg Denmark

--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan  1 18:10:10 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Jan 1999 18:10:10 +0100
Subject: [R] RE: timeslab
In-Reply-To: Bernd Johannes Wuebben's message of Fri, 01 Jan 1999 11:40:02 -0500 (EST)
References: <XFMail.990101114002.wuebben@math.cornell.edu>
Message-ID: <x2empeudfx.fsf@blueberry.kubism.ku.dk>

Bernd Johannes Wuebben <wuebben at math.cornell.edu> writes:

> Hi Troels,
> 
> Its in the incoming directory:
> 
>         ftp://ftp.ci.tuwien.ac.at/incoming
> 
> On 01-Jan-99 Troels Ring wrote:
> > Hi Johannes Wuebben and a happy new year.
> > Where did you actually put the timeslab ?

But 
> dir

total 367
drwxrw-r--   2 ftp      ftp          3072 Jan  1 06:19 .
dr-xrwxr-x  10 root     sysadmin     1024 Aug 26 14:57 ..
-rw-rw----   1 root     sysadmin   188267 Jan  1 06:20
timeslab-1.0-1.tar.gz
-rw-rw-r--   1 root     sysadmin   180290 Jan  1 02:02
timeslab-1.0.tar.gz

i.e. timeslab-1.0-1.tar.gz is not readable by "other" although
timeslab-1.0.tar.gz is? 

[This has me a bit puzzled: generally, one read-protects "incoming"
entirely in order to avoid becoming a "warezhouse" for various illicit
operations. This probably *should* be the case for CRAN too.]

As a general matter, please do not announce things as "uploaded" until
the CRAN manager has moved it from "incoming" to its final (and
mirrored!) destination. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wuebben at math.cornell.edu  Fri Jan  1 21:06:36 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Fri, 01 Jan 1999 15:06:36 -0500 (EST)
Subject: [R] RE: timeslab
In-Reply-To: <x2empeudfx.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.990101150636.wuebben@math.cornell.edu>



Hi,

On 01-Jan-99 Peter Dalgaard BSA wrote:

> i.e. timeslab-1.0-1.tar.gz is not readable by "other" although
> timeslab-1.0.tar.gz is? 

I think that is an issue for the ftpadmin ...

 
> As a general matter, please do not announce things as "uploaded" until
> the CRAN manager has moved it from "incoming" to its final (and
> mirrored!) destination. 

With all due respect, but I think I will continue to announce things
when I am ready and have occasion to do so, not when the ftpadmin is
ready.

Best,
Bernd
--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wuebben at math.cornell.edu  Fri Jan  1 21:12:58 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Fri, 01 Jan 1999 15:12:58 -0500 (EST)
Subject: [R] RE: timeslab
In-Reply-To: <Pine.GSO.3.96.990101173615.18433A-100000@toucan.stats>
Message-ID: <XFMail.990101151258.wuebben@math.cornell.edu>


On 01-Jan-99 Prof Brian Ripley wrote:
> -rw-rw----   1 root     sysadmin       188267 Jan  1 06:20
> timeslab-1.0-1.tar.gz
> -rw-rw-r--   1 root     sysadmin       180290 Jan  1 02:02
> timeslab-1.0.tar.gz
> 
> So which is which, what's the difference? ....

Sorry if this wasn't self evident:

            timeslab-1.0.tar.gz == timeslab-1.0-0.tar.gz

and thus timeslab-1.0-1.tar.gz is the latest version.


Incidentally, if someone of the core team could let me know how to deal
with the 'setseed' issue. Why is R deviating from S in this point?

Best,
Bernd

--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan  2 09:08:52 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Jan 1999 08:08:52 +0000 (GMT)
Subject: [R] RE: timeslab
In-Reply-To: <XFMail.990101150636.wuebben@math.cornell.edu>
Message-ID: <Pine.GSO.4.05.9901020748440.1627-100000@auk.stats>

On Fri, 1 Jan 1999, Bernd Johannes Wuebben wrote:

> On 01-Jan-99 Peter Dalgaard BSA wrote:
> 
> > i.e. timeslab-1.0-1.tar.gz is not readable by "other" although
> > timeslab-1.0.tar.gz is? 
> 
> I think that is an issue for the ftpadmin ...

The difference is surely due to the permissions of the file
you uploaded, i.e. the permissions set on your computer.

> > As a general matter, please do not announce things as "uploaded" until
> > the CRAN manager has moved it from "incoming" to its final (and
> > mirrored!) destination. 
> 
> With all due respect, but I think I will continue to announce things
> when I am ready and have occasion to do so, not when the ftpadmin is
> ready.

I think they should be announced when they are available, and this
currently is not.  (I would disagree with Peter to the extent that
if they are available somewhere else but not yet on CRAN, that counts).

timeslab is a port of other people's code (Joseph Newton and Jane Harvill)
and I believe they do deserve a credit in the announcement, as a courtesy
at least. However, as the original has no help pages, writing the manual
pages must have been a lot of work. (Pity there is only one line of 
examples in all of them, and that does not work!)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wuebben at math.cornell.edu  Sat Jan  2 17:56:02 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Sat, 02 Jan 1999 11:56:02 -0500 (EST)
Subject: [R] RE: timeslab
In-Reply-To: <Pine.GSO.4.05.9901020748440.1627-100000@auk.stats>
Message-ID: <XFMail.990102115602.wuebben@math.cornell.edu>


On 02-Jan-99 Prof Brian D Ripley wrote:
> On Fri, 1 Jan 1999, Bernd Johannes Wuebben wrote:
> 
>> On 01-Jan-99 Peter Dalgaard BSA wrote:
>> 
>> > i.e. timeslab-1.0-1.tar.gz is not readable by "other" although
>> > timeslab-1.0.tar.gz is? 
>> 
>> I think that is an issue for the ftpadmin ...
> 
> The difference is surely due to the permissions of the file
> you uploaded, i.e. the permissions set on your computer.

That would certainly indicate a highly non-standard and potentially
dangerous configuration of the wuftpd that runs on ftp.ci.tuwien.ac.at

/etc/ftpaccess should contain a line like this

        upload home/ftp /incoming yes  root sysadmin 0664 

All version of wuftp that I came across would even set the permission
to 0664 by default, that is without the above explicit entry in
/etc/ftpaccess to a sane 0664. I recommend the ftpadmin look into this
matter and makes sure that things are fine ...

> timeslab is a port of other people's code (Joseph Newton and Jane
> Harvill)
> and I believe they do deserve a credit in the announcement, as a
> courtesy
> at least. However, as the original has no help pages, writing the

Brian, I don't think it is appropriate for you to criticize me for
letting people know that I have uploaded my port. Nowhere have I
hidden the fact that the package is a port of an S package and nowhere
have I removed Joseph's and Jane's authorship notices in the code or
documentation. In fact additionally, following R tradition, I have
clearly mentioned them as authors in the DESCRIPTION file.

> manual
> pages must have been a lot of work. (Pity there is only one line of 

Actually converting the Fortran code to double and making it compile
cleanly was more work ... The Rd files where generated from the
original tex document by means of a little perl script. This explains
also the poor quality of the Rd files: What's the best way of expressing
math such as $\sigma^2$ in Rd? Is there a way expressing this sort of 
math in Rd, that will preserve the tex expression for the latex docs
generated from Rd and at the same time translate into something legible in
the html docs?

> examples in all of them, and that does not work!)

Let me know which example and I will correct it.

Bernd

> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anovo at ysidro.econ.uiuc.edu  Sun Jan  3 03:55:16 1999
From: anovo at ysidro.econ.uiuc.edu (Alvaro A. Novo)
Date: Sat, 2 Jan 1999 20:55:16 -0600 (CST)
Subject: [R] `R INSTALL' error
In-Reply-To: <XFMail.990102115602.wuebben@math.cornell.edu>
Message-ID: <Pine.SOL.3.96.990102204555.18046A-100000@ysidro>

Hi,

I am trying to install the quantreg package following the FAQ instructions.
Here's what I am doing and the correspondig error messages:


------------
[root at localhost /root]# R INSTALL -l /usr/lib/R/library quantreg
Installing package `quantreg' ...
 libs
g77 -O2 -fpic -c rq.f -o rq.o
make: g77: Command not found
make: *** [rq.o] Error 127
ERROR: Compilation failed for package `quantreg'
------------

I edit the Makeconf file under /usr/lib/R/etc and in fact there's a line
that reads:

FC = g77

I changed it to FC = gcc, but still get an error messages, although not the
same (of course) and, I believe, down the line.

Additional Information:

R Version 0.63.1  (December 5, 1998)
Linux RedHat 5.1

I would appreciate any help in solving my problem.

Alvaro

ps. I was able to use R REMOVE command (not on quantreg, of course).

	--	--	--	--	--	--	--	--	
			      Alvaro A. Novo
		         2116 S. Orchard St., #304
	     		     Urbana, IL 61801

			      novo at uiuc.edu
			 anovo at ysidro.econ.uiuc.edu
	       http://www.students.uiuc.edu/~novo/Alvaro.htm
			       217-337-4893
	--	--	--	--	--	--	--	--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jan  3 17:01:15 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 1999 17:01:15 +0100
Subject: [R] `R INSTALL' error
In-Reply-To: "Alvaro A. Novo"'s message of Sat, 2 Jan 1999 20:55:16 -0600 (CST)
References: <Pine.SOL.3.96.990102204555.18046A-100000@ysidro>
Message-ID: <x2lnjk2vn8.fsf@blueberry.kubism.ku.dk>

"Alvaro A. Novo" <anovo at ysidro.econ.uiuc.edu> writes:

> g77 -O2 -fpic -c rq.f -o rq.o
> make: g77: Command not found
...
> 
> FC = g77
> 
> I changed it to FC = gcc, but still get an error messages, although not the
> same (of course) and, I believe, down the line.

Um, you *will* need a Fortran compiler to compile Fortran routines... 
Sticking a C compiler in there is guaranteed not to work.
 
> Additional Information:
> 
> R Version 0.63.1  (December 5, 1998)

But how did you get that compiled w/o Fortran? (What is in the
toplevel Makeconf? something other than in etc/Makeconf?)

> Linux RedHat 5.1
> 
> I would appreciate any help in solving my problem.

You might install the egcs-g77 RPM. That's what I have here.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sat Jan  2 20:38:11 1999
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sat, 02 Jan 1999 19:38:11 +0000
Subject: [R] R on MkLinux DR3
Message-ID: <368FC71B.80F0B29D@EUnet.at>

Hi,

Maybe somebody could help me with my problem installing R on my
PowerBook G3/292 with MkLinux DR3 installed on the internal HD:

When installing R with
    rpm -Uhv R-base-0.63-3.ppc.rpm
I got the following message:
    /var/tmp/rpm-tmp.47537: [: !=: unary operator expected
    /var/tmp/rpm-tmp.47537: /bin/R: no such file or directory
    execution of script failed
    error: R-base-0.63-3.ppc.rpm cannot be installed

Nevertheless, R was installed and is running

When I repeat installation:
    rpm -Uhv R-base-0.63-3.ppc.rpm
I get the message;
    package R-base-0.63-3.ppc.rpm is already installed
However, when I try to delete the package
    rpm -r R-base-0.63-3.ppc.rpm
I get the message:
    package R-base-0.63-3.ppc.rpm is not installed

When I tried to install R-contributions with
    rpm -Uhv R-contrib-1998.11.20-1.ppc.rpm
I got the following message:
    Can?t find R base in /lib/R
    execution of script failed
    error: R-contrib-1998.11.20-1.ppc.rpm cannot be installed

So, it seems that the rpm database is not updated and I am not able to
install R-contrib-1998.11.20-1.ppc.rpm
(It did not help to install /bin/R and /lib/R by hand)

So can anybody help me and tell me how I can install R-contrib?
If I want to remove R, where can I find which files I have to remove by
hand?

Thank you very much for your help
Christian Stratowa
e-mail: cstrato at EUnet.at

P.S.: I am new to Linux and to R (S-Plus)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Jan  3 21:25:57 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 3 Jan 1999 12:25:57 -0800 (PST)
Subject: [R] RE: timeslab
In-Reply-To: <XFMail.990102115602.wuebben@math.cornell.edu>
Message-ID: <Pine.GSO.4.03.9901031222330.11073-100000@wompom.biostat.washington.edu>

On Sat, 2 Jan 1999, Bernd Johannes Wuebben wrote:

>      				 The Rd files where generated from the
> original tex document by means of a little perl script. This explains
> also the poor quality of the Rd files: What's the best way of expressing
> math such as $\sigma^2$ in Rd? Is there a way expressing this sort of 
> math in Rd, that will preserve the tex expression for the latex docs
> generated from Rd and at the same time translate into something legible in
> the html docs?

This (unlike quite a lot of  things) *is* documented.
doc/manual/writing-Rd.tex describes how to give equations that have both
TeX and plain text versions. The Poisson help page
src/library/base/man/Poisson.Rd has an example.  

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anovo at ysidro.econ.uiuc.edu  Mon Jan  4 00:45:55 1999
From: anovo at ysidro.econ.uiuc.edu (Alvaro A. Novo)
Date: Sun, 3 Jan 1999 17:45:55 -0600 (CST)
Subject: [R] `R INSTALL' error - SOLVED
In-Reply-To: <x2lnjk2vn8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.990103174006.18541A-100000@ysidro>

On 3 Jan 1999, Peter Dalgaard BSA wrote:

> > R Version 0.63.1  (December 5, 1998)
> 
> But how did you get that compiled w/o Fortran? (What is in the
> toplevel Makeconf? something other than in etc/Makeconf?)
> 
> You might install the egcs-g77 RPM. That's what I have here.

Thanks a lot for your help. In fact I had the f2c library installed and,
I believe, that allowed to install R. I, then, installed egcs-g77 and was
able to install quantreg. (I am having some problems running it, but I 
will give it some additional thought before I pick your brains!)

Thanks a lot to all that helped me.

Alvaro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From king at solzhenitsyn.ens.gu.edu.au  Mon Jan  4 05:17:10 1999
From: king at solzhenitsyn.ens.gu.edu.au (Robert King)
Date: Mon, 4 Jan 1999 14:17:10 +1000 (EST)
Subject: [R] test
Message-ID: <Pine.LNX.3.96.990104141705.24438A-100000@solzhenitsyn.ens.gu.edu.au>

test

----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/

          When all's said and done,                     
                a lot more is said than done.          
                                                      

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Mon Jan  4 09:23:07 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Mon, 4 Jan 1999 09:23:07 +0100 (MET)
Subject: [R] lists
Message-ID: <199901040823.JAA01249@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1102 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990104/be3e8b08/attachment.pl

From maechler at stat.math.ethz.ch  Mon Jan  4 10:44:49 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Jan 1999 10:44:49 +0100
Subject: [R] lists -- "vector" etc.
In-Reply-To: <199901040823.JAA01249@alpha.luc.ac.be> (message from Jim Lindsey
	on Mon, 4 Jan 1999 09:23:07 +0100 (MET))
References: <199901040823.JAA01249@alpha.luc.ac.be>
Message-ID: <199901040944.KAA00659@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

    Jim> I am still struggling with broken libraries after the changes in
    Jim> lists in 0.63 (as is my son who says he has abandoned lists
    Jim> altogether!).  A user can supply a vector (say one time series), a
    Jim> matrix (several series as balanced repeated measures), or a list
    Jim> (unbalanced repeated measures).  I used to check with is.vector,
    Jim> is.matrix, and is.list. This no longer works because a list is now
    Jim> a vector.
This is not different from S...
There really is a terminology problem hidden here which uses to confuse
(almost) everyone from time to time :
	 
 What is a "vector"?   <<-->>  "How should  as.vector() / is.vector() behave?
 ~~~~~~~~~~~~~~~~~~~   

 1) For most people with some math background, it is very natural that
        c(2,3,5) or c("A","BC", "DE") is a vector.

 2) Then one learns that the S language
	 [in the broad ESS sense, R being a dialect, S3 and S4 as well],
    allows for names (often called "tags" R internally],
    one would expect that c(a=2,b=3,c=5) is a vector as well, namely just
    c(2,3,5) with a names attribute.	 

    However, in S 3 and S 4,

 3) a "vector" is a ``simple object'' in the sense of S, i.e.
         is.vector(c(a=2)) #>> FALSE
    whereas it stil gives TRUE in R [0.63.1].  However, we have been having a
    hot and not yet resolved discussion within the R core team on whether
    we want to keep it as it is now...
       [[And yes, there are more problems with as.vector() / is.vector()]]
    Maybe we should discuss this more in the R-devel mailing list.

    Even more `strangely' in the sense of "1)" above,
	 is.vector(list(1, list(3, list(4:6)))) ## >> TRUE
    in S 3 or S 4, and now also in R 0.63 [but not in R 0.62].
  
    Another argument for this behavior is the R (and S?) internal
    implementation of list()s, as so called ``generic vectors''.
    I.e., here "vector" is used as ``generic vector''.

BTW:  ?is.vector  in S-plus  5.0 (rel2) contains

  >> BUGS:
  >>        A list may have names and still test TRUE with  is.vector,
  >>        but atomic objects with names will test FALSE.

What I don't know if this is a bug that anyone [JMC?] plans to fix or one
that has been in place for ever (in S) and will be kept (in S) for backwards
compatibility  ((and I personally would really not want to adopt in R))...

In (partial) summary, we currently have

  ( ll <- list(a=1, list(b=3, list(cc=4:6))) )
  ( vv <- unlist(ll, recursive = TRUE) )
  is.vector(ll) # TRUE
  is.vector(vv) # FALSE in S [incl. S+5 rel 2]   TRUE in R

-----------------------------------

    Jim> The vector must allow calculations so can be integer,
    Jim> double, or logical. So I set the mode in is.vector. Try the
    Jim> following:

    Jim> mode(c(23,42))
       # "numeric"

       typeof(c(23,42))
or     storage.mode(c(23,42))
both give
     "double"

[which is compatible to S 3 (S+ 3.x, 4.x) 
		but not S 4 (S+ 5.0++) which now uses integer for integer
		literals]

    Jim> is.vector(c(23,42),mode="numeric")
      FALSE

This *is* a bug, [and not the only with  is.vector/as.vector, see above].
However,
	> is.vector(c(23,42),mode="numeric")
	TRUE

    Jim> is.vector(c(23,42),mode=c("integer","double","logical"))

    Jim> Of course, in 0.62.4, things were no more coherent than this;

    Jim> is.vector(list(1))
    Jim> is.vector(list(1),mode="list")

---
As a matter of fact, my current recommendation:
Don't use  is.vector() at all at least not until we [and the S authors?]
know what is desired?
Instead, use
		is.list()
and/or		is.atomic()  is.recursive()  is.array()

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan  4 11:38:36 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Jan 1999 11:38:36 +0100
Subject: [R] lists -- "vector" etc.  [ is.vector(..., "double") ]
In-Reply-To: <199901041026.LAA13634@alpha.luc.ac.be> (message from Jim Lindsey
	on Mon, 4 Jan 1999 11:26:30 +0100 (MET))
Message-ID: <199901041038.LAA04969@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:


    MM> # "numeric"
    MM> 
    MM> typeof(c(23,42)) or storage.mode(c(23,42)) both give "double"
    MM> 
    MM> [which is compatible to S 3 (S+ 3.x, 4.x) but not S 4 (S+ 5.0++)
    MM> which now uses integer for integer literals]
    MM> 
    Jim> is.vector(c(23,42),mode="numeric")
    MM> FALSE
    MM> 
    MM> This *is* a bug, [and not the only with is.vector/as.vector, see
    MM> above].

    Jim> That was the point of my message.

    MM> However,
    MM> > is.vector(c(23,42),mode="numeric")
    MM> TRUE


    Jim> I don't follow this. That line is identical to mine.

oops, this was my cut-and-paste  typo.

I meant

    > is.vector(c(23,42),mode="double")
			       ^^^^^^ (not "numeric")
    TRUE

-- Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Mon Jan  4 12:54:08 1999
From: R.E.Darnell at newcastle.ac.uk (Ross Darnell)
Date: Mon, 4 Jan 1999 12:54:08 GMT0BST
Subject: [R] Linux refresh x11 window problem
Message-ID: <14B44C4293A@gibbs.ncl.ac.uk>

I have looked through FAQ's and bug reports but found nothing 
substantial regarding a problem I have with R running under Linux.

I have installed R from the current Debian release on a Compaq 
Deskpro (Pentium 75). I have used a display server called 
Accelerated X because  I could not configure Xfree86 properly for 
the video card (Compaq QVision). I am using the icewm window manager.
Other X programs seem to work OK including ghostview

The problem I have with R is that the graphics window is not redrawn 
when focused or maximised. Any area covered by another window remains 
blank.
Can anyone help me here?
Regards
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rijn at swi.psy.uva.nl  Mon Jan  4 15:26:55 1999
From: rijn at swi.psy.uva.nl (Hedderik van Rijn)
Date: Mon, 4 Jan 1999 15:26:55 +0100 (MET)
Subject: [R] Names of data frame columns in an apply
Message-ID: <Pine.LNX.4.04.9901041456100.22672-100000@swipc30.swi.psy.uva.nl>

Hi,

[some background]

I have a dataset which describes a number of subjects doing a "scientific
discovery". That is, they have to discover the rules underlying a
particular domain. To do so, they have to set the levels of 5 variables
which leads to a certain outcome.  To identify what kind of "experiments"
the subjects did, I want to combine these levels into one variable
describing the type of experiment they did.

[the problem]

I wrote a function to recode 5 variables into one variable. These 5
variables are stored in a data frame. For example:

subjnr time var1 var2 var3 var4 var5 outcome
1      1    1    0    2    1    0    20
2      1    0    1    2    1    0    20

When I try to recode a data set like this, using (something like):

recode <- function(dataline) <-
  type <- 0;
  if (dataline$var1 == 1) {
    type <- 1;
  }
  if (dataline$var2 == 2) {
    type <- 2;
  }
  type
}

apply(data,1,recode)

I don't get what I want, because dataline$var1 always evaluates to NULL.

Is is at all possible to use the $xxx method of refering to columns when
using apply? And if not, is there another way by means of which I can use
column names instead of numbers?

Greetings,
   Hedderik.

> version
           _                 
platform   i586-unknown-linux
arch       i586              
os         linux             
system     i586, linux       
status                       
status.rev 0                 
major      0                 
minor      63.1              
year       1998              
month      December          
day        5                 
language   R                 

-- 
http://www.swi.psy.uva.nl/usr/rijn 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan  4 15:47:08 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jan 1999 15:47:08 +0100
Subject: [R] Names of data frame columns in an apply
In-Reply-To: Hedderik van Rijn's message of Mon, 4 Jan 1999 15:26:55 +0100 (MET)
References: <Pine.LNX.4.04.9901041456100.22672-100000@swipc30.swi.psy.uva.nl>
Message-ID: <x24sq7gknn.fsf@blueberry.kubism.ku.dk>

Hedderik van Rijn <rijn at swi.psy.uva.nl> writes:

> I wrote a function to recode 5 variables into one variable. These 5
> variables are stored in a data frame. For example:
> 
> subjnr time var1 var2 var3 var4 var5 outcome
> 1      1    1    0    2    1    0    20
> 2      1    0    1    2    1    0    20
> 
> When I try to recode a data set like this, using (something like):
> 
> recode <- function(dataline) <-
>   type <- 0;
>   if (dataline$var1 == 1) {
>     type <- 1;
>   }
>   if (dataline$var2 == 2) {
>     type <- 2;
>   }
>   type
> }
> 
> apply(data,1,recode)
> 
> I don't get what I want, because dataline$var1 always evaluates to NULL.
> 
> Is is at all possible to use the $xxx method of refering to columns when
> using apply? And if not, is there another way by means of which I can use
> column names instead of numbers?

You cannot use $ because the argument to recode is not a list, it is a
(non-generic) vector. Cf.

> dd<-data.frame(a=1:2,b=3:4)
> apply(dd,1,print)
a b 
1 3 
a b 
2 4 
  1 2
a 1 2
b 3 4
> apply(dd,1,mode)
        1         2 
"numeric" "numeric" 


However, dataline["var1"] should work. But are you sure this is the
way to go? How about something like:

transform(dframe, type=ifelse(var1==1,1,ifelse(var2==2,2,0)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Jan  4 15:42:38 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 4 Jan 1999 15:42:38 +0100 (CET)
Subject: [R] Submissions to CRAN
Message-ID: <13968.54110.875286.934700@galadriel.ci.tuwien.ac.at>


HAPPY NEW YEAR to all of you!

To clarify some questions in the recent thread on the timeslab
package (sorry that I couldn't participate in the discussion, but I
normally don't read my email on weekends):

*) Nobody should be able to download from the incoming section at our
site. That it was possible (again) was due to recursive link and some
lazy sysadmins which now have some more things they can try to make
better in the new year.

*) Please `announce' only packages that are really available somewhere
(and an incoming directory should not be considered such a
thing). This could either be

  -) your private server: nobody stops you from putting there whatever
     you want

  -) submissions to CRAN only after they have been moved by one of us,
     especially if it is a first submission. experience shows that
     first submissions very often need a little bit of `polishing' until
     they conform to CRAN standards, hence there are often time
     delays (and the already announced package cannot be found on CRAN).

*) I know that the packaging standards for CRAN may seem a little bit
pedantic, but only this way the `R INSTALL' interface can work without
troubles. Hence, the standards make life a little bit harder for
contributors, but we think it makes life much easier for the average
user (and these are the ones with less knowledge on how to fix
things).

*) On copyright for ports: This seems like a neverending discussion
and as I'm a mathematician and not a lawyer I can only contribute my
2(brand new Euro-)c:

Original code under GPL or similar: Port also GPL and you're done

`free redistribution for non-commercial use': I think it's OK to put
such things onto CRAN ... CD-vendors probably run into troubles.

The StatLib submission guidelines say that all code needs:

      A statement (which should also be part of the submission) that
      explicity gives permission to redistribute the software.  You
      can retain the copyright jsut so long as you clearly state that
      the software can be freely used for non-commercial purposes and can be
      freely distributed.
      If you are not the original author of the submission please make sure
      you obtain the original author's permission before submitting
      the software.

Now what exactly `redistribute' means (only original file or
derivatives) seems an open question to me ... and I think we never
settled this ...


In any case, asking the original author seems like a good first step
to me.


Feedback appreciated (please only to r-devel!!!),
Fritz

PS: After this thread is over we will make official CRAN submission
guidelines (with special emphasis on Statlib ports) and put something
in the FAQ.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lgygax at access.unizh.ch  Mon Jan  4 16:17:09 1999
From: lgygax at access.unizh.ch (Lorenz Gygax)
Date: Mon, 4 Jan 1999 16:17:09 +0100 (MET)
Subject: [R] Error messages
Message-ID: <Pine.LNX.3.96.990104160929.1134E-100000@iamgygax.unizh.ch>

Dear all,

The following works with a simple result of lm but gives the error with a
more complicated one (could this be due to singularities that occurr in
the model?).

> cooks.distance (X)
Error: NAs in foreign function call (arg 6)
> class (X)
[1] "lm"

But, actually, I would like to ask a more general question: Is there a
place (I searched in the CRAN site) where I find information on what the
error means? It seems to tell me pretty exactly where the problem lies
(foreign function call arg6) but I don't understand it. 

Thanks for any hint. Regards,
--			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lorenz Gygax		 LGygax at amath.unizh.ch;       room: 36-L-40
			 Department of Applied Mathematics
			 University of Zuerich-Irchel
			 Winterthurerstr. 190; CH-8057 Zurich
			 voice: 41-1-635-58-52  fax: 41-1-635-57-05
			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan  4 17:00:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jan 1999 17:00:31 +0100
Subject: [R] Error messages
In-Reply-To: Lorenz Gygax's message of Mon, 4 Jan 1999 16:17:09 +0100 (MET)
References: <Pine.LNX.3.96.990104160929.1134E-100000@iamgygax.unizh.ch>
Message-ID: <x21zlbgh9c.fsf@blueberry.kubism.ku.dk>

Lorenz Gygax <lgygax at access.unizh.ch> writes:

> Dear all,
> 
> The following works with a simple result of lm but gives the error with a
> more complicated one (could this be due to singularities that occurr in
> the model?).
> 
> > cooks.distance (X)
> Error: NAs in foreign function call (arg 6)
> > class (X)
> [1] "lm"
> 
> But, actually, I would like to ask a more general question: Is there a
> place (I searched in the CRAN site) where I find information on what the
> error means? It seems to tell me pretty exactly where the problem lies
> (foreign function call arg6) but I don't understand it. 

Well, one of the things that R does not have is a centralised database
of error messages. *Next* time one invents a statistical programming
language, perhaps this would be something to consider...

Anyways, the error here means that a .Fortran or .C call had missing
values in one of the arguments. Probably in lm.influence's

    .Fortran("lminfl", lm.obj$qr$qr, n, n, k, lm.obj$qr$qraux, 
        lm.obj$coefficients, e, hat = double(n), coefficients = matrix(0, 
            nr = n, nc = k), sigma = double(n), DUP = FALSE)

the 6th arg of "lminfl" would be lm.obj$coefficients, so I suspect
your guess is correct when you say that singularities could be the
problem.

Take a look at help(traceback) and help(debug) to see how to find the
source of error messages.

[I seem to recall that there's a reason why lm.fit sticks in NA
(rather than zero) for undetermined coefficients, but I can't offhand
remember it. I suppose that lm.influence() would make sense even for
singular designs, so the current behaviour is likely a bug, not a
feature]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  4 18:15:47 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Jan 1999 17:15:47 +0000 (GMT)
Subject: [R] Error messages
In-Reply-To: <x21zlbgh9c.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.9901041705290.16807-100000@auk.stats>

On 4 Jan 1999, Peter Dalgaard BSA wrote:

> [I seem to recall that there's a reason why lm.fit sticks in NA
> (rather than zero) for undetermined coefficients, but I can't offhand
> remember it. I suppose that lm.influence() would make sense even for
> singular designs, so the current behaviour is likely a bug, not a
> feature]

Yes, that's how you determine that the coefficients are not determined!
It is the simplest way to find out exactly how the degrees of freedom are
allocated to terms in models with factors, and also helps in omitting
values in printouts (rather than showing them as zero).

As for the bug, I think putting in zero would be a bug too, as the qr
matrix gets pivoted for singular models, and I see no sign of the pivots
being passed down to the Fortran program. At least lm.influence
should report on singular models (the S version handles them).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMorris at OCDUS.JNJ.COM  Tue Jan  5 17:46:00 1999
From: JMorris at OCDUS.JNJ.COM (Morris, Jeffrey (JCD-RL))
Date: Tue, 5 Jan 1999 11:46:00 -0500 
Subject: [R] PLS Code
Message-ID: <199901051647.LAA22438@imail-gw1.jnj.com>

Has anyone implemented partial least squares in R?  I know there is code
in the S archive, but it is a shar file and I run R/S-Plus on a NT 4.0
machine.

Thanks!

Jeff
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at hermes.ucd.ie  Wed Jan  6 16:18:55 1999
From: yudi at hermes.ucd.ie (yudi@hermes.ucd.ie)
Date: Wed, 06 Jan 1999 15:18:55 +0000 (GMT)
Subject: [R] heap memory
Message-ID: <0F55000HQ98TDD@hermes.ucd.ie>

I'm working on Windows 3.1 (32Mb PC) and get this error message:

     Error: heap memory (1953 Kb) exhausted [needed 0 Kb more]

Is there a simple cure to this problem? Thanks

-Yudi-
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Jan  6 17:53:29 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Wed, 6 Jan 1999 11:53:29 -0500 (EST)
Subject: [R] ESS or R problem editing functions
Message-ID: <Pine.SGI.3.96.990106113905.6381C-100000@ln.nimh.nih.gov>

Hi, all.

I'm not sure whether this is a problem with ESS or R (or even a feature I
don't understand!).

Say I've got a function named f.count.these.patterns (as I do -- I'm using
actual names in case they're somehow important).  I previously had a
version called f.count.these.patterns.3, but discarded it because it was
worse.  So the function is no longer there.  If I create a new version to
compare performance using a slightly different mechanism: 

f.count.these.patterns.3 <- f.count.these.patterns,

and try to edit is (using control-c control-d), I get up *not* the
function I just created, but an old file mcw.f.count.these.patterns.3.R
with my old discarded version.  I can list the function correctly (typing
its name at the R prompt), but can't seem to edit it.  If I create
f.count.these.patterns.4 (which has never existed before), I can edit it
without any problems. 

So I guess I need to know how to make mcw.f.count.these.patterns.3.R go
away.  I thought that the R command rm(f.count.these.patterns.3.R) would
take care of whatever needed to be done.

I'm using R version 0.63 and ESS-5.1 on an SGI with plenty of memory.

Thanks for any help,

				Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan  6 18:03:48 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 6 Jan 1999 09:03:48 -0800 (PST)
Subject: [R] Re: ESS or R problem editing functions
In-Reply-To: <Pine.SGI.3.96.990106113905.6381C-100000@ln.nimh.nih.gov>
Message-ID: <Pine.GSO.4.03.9901060857120.19641-100000@wompom.biostat.washington.edu>

On Wed, 6 Jan 1999, Matthew Wiener wrote:

> I'm not sure whether this is a problem with ESS or R (or even a feature I
> don't understand!).
>
> Say I've got a function named f.count.these.patterns (as I do -- I'm using
> actual names in case they're somehow important).  I previously had a
> version called f.count.these.patterns.3, but discarded it because it was
> worse.  So the function is no longer there.  If I create a new version to
> compare performance using a slightly different mechanism: 
> 
> f.count.these.patterns.3 <- f.count.these.patterns,
> 
> and try to edit is (using control-c control-d), I get up *not* the
> function I just created, but an old file mcw.f.count.these.patterns.3.R
> with my old discarded version.  I can list the function correctly (typing
> its name at the R prompt), but can't seem to edit it.  If I create
> f.count.these.patterns.4 (which has never existed before), I can edit it
> without any problems. 


This is an ESS (mis?)feature.  I think it's configurable -- if so someone
will undoubtedly tell us.  ESS believes that things in files are more
reliable than things in your workspace and so will use the version in your
temporary file rather than dumping a new version.  You can certainly stop
this by deleting the temporary file, which is probably in /tmp/

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan  6 18:20:23 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jan 1999 18:20:23 +0100
Subject: [R] ESS or R problem editing functions
In-Reply-To: Matthew Wiener's message of Wed, 6 Jan 1999 11:53:29 -0500 (EST)
References: <Pine.SGI.3.96.990106113905.6381C-100000@ln.nimh.nih.gov>
Message-ID: <x2sodopbc8.fsf@blueberry.kubism.ku.dk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:


> f.count.these.patterns.3 <- f.count.these.patterns,
> 
> and try to edit is (using control-c control-d), I get up *not* the
> function I just created, but an old file mcw.f.count.these.patterns.3.R
...
> 
> So I guess I need to know how to make mcw.f.count.these.patterns.3.R go
> away.  I thought that the R command rm(f.count.these.patterns.3.R) would
> take care of whatever needed to be done.

ESS isn't smart enough to track changes made to objects in R, but
still tries to reuse old buffers (which I suspect *is* useful
sometimes).

If you find yourself in an outdated buffer, just 

C-x k (kill buffer)

and then C-c C-d again

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From me at naxgul.kais.kyoto-u.ac.jp  Thu Jan  7 10:58:51 1999
From: me at naxgul.kais.kyoto-u.ac.jp (Yusuke Uchiyama)
Date: Thu, 7 Jan 1999 09:58:51 GMT
Subject: [R] Why R does not appear on GNU pages
Message-ID: <199901070958.JAA00291@naxgul.kais.kyoto-u.ac.jp>

Hello,

I wander why there is no introduction to R on GNU pages.
If the reason is because there don't have been any document yet, I would like to write it and send it to GNU project.

I will appreciate any comments, let us discuss about this.

Yusuke Uchiyama
e-mail: yusuke at kais.kyoto-u.ac.jp

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Jan  7 02:55:02 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 7 Jan 1999 14:55:02 +1300 (NZDT)
Subject: [R] Why R does not appear on GNU pages
Message-ID: <199901070155.OAA29985@stat1.stat.auckland.ac.nz>

Partly this is just lazyiness, and partly it is because I was hoping
for a more "complete" product.  I wrote to Richard Stallman about
18 months ago and told him about R, but I didn't get around to giving
him a page about R.

It would probably be a good idea to publically become part of FSF now.
If you would like to write a page and mail it to this list to get
comments this would be very welcome.  It really does only need to
be one page.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anovo at ysidro.econ.uiuc.edu  Thu Jan  7 06:25:15 1999
From: anovo at ysidro.econ.uiuc.edu (Alvaro A. Novo)
Date: Wed, 6 Jan 1999 23:25:15 -0600 (CST)
Subject: [R] Quantile Regression Error
In-Reply-To: <199901070958.JAA00291@naxgul.kais.kyoto-u.ac.jp>
Message-ID: <Pine.SOL.3.96.990106230859.22534B-100000@ysidro>

Hi,

I installed the package quantreg, but something is wrong. I have no Fortran
knowledge, but from programming background it seems that the code as some 
bug/inconsistency. I could only find the file rq.f (see error message below)
in the directory created
after untar the package (~/quantreg/src/rq.f). I edited the file and in 
fact there's a bunch of "go to ..." statements where things are going wrong.

I believe there's nothing "missing" in my o.s. and/or applications. I was
able to install the survival analysis package error free.

Any ideas? Thanks in advance to all for your inputs.

Alvaro 

	--------- DETAILS ----------
Version 0.63.1  (December 5, 1998) 

Here's the message I got during installation: 

--------- BEGIN INSTALLATION MESSAGE ---------- 

[root at localhost /root]# R INSTALL -l /usr/lib/R/library quantreg
Installing package `quantreg' ...
 libs
g77  -O2 -fpic -c rq.f -o rq.o
rq.f: In subroutine `rq':
rq.f:511: warning:
         go to 60
               1
rq.f:641: (continued):
   60    idxcf = idxcf+1
   2
Reference to label at (1) is outside block containing definition at (2)
rq.f:498: warning:
         go to 70
               1
rq.f:645: (continued):
   70    if(lup)then
   2
Reference to label at (1) is outside block containing definition at (2)
ld -shared -o /usr/lib/R/library/quantreg/libs/quantreg.so rq.o 
 R
 data
 help
>>> Building help pages for package `quantreg'
      Formats: text html latex example 
  Patacamaya                        text    html    latex   example
  Ranks                             text    html    latex   example
  Rq                                text    html    latex   example
  Trq                               text    html    latex   example
  qrq                               text    html    latex   example
  rrs.test                          text    html    latex   example
  trq.print                         text    html    latex   example
 DONE (quantreg)

DONE (INSTALL)
--------------------- END INSTALL MESSAGE --------------------

The error message within R is: 

> library(quantreg)
Error: dynamic library `Quantreg' not found

 


 

	--	--	--	--	--	--	--	--	
			      Alvaro A. Novo
		         2116 S. Orchard St., #304
	     		     Urbana, IL 61801

			      novo at uiuc.edu
			 anovo at ysidro.econ.uiuc.edu
	       http://www.students.uiuc.edu/~novo/Alvaro.htm
			       217-337-4893
	--	--	--	--	--	--	--	--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  7 08:47:09 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Jan 1999 07:47:09 +0000 (GMT)
Subject: [R] Quantile Regression Error
In-Reply-To: <Pine.SOL.3.96.990106230859.22534B-100000@ysidro>
Message-ID: <Pine.GSO.4.05.9901070728190.20117-100000@auk.stats>

On Wed, 6 Jan 1999, Alvaro A. Novo wrote:

> Hi,
> 
> I installed the package quantreg, but something is wrong. I have no Fortran
> knowledge, but from programming background it seems that the code as some 
> bug/inconsistency. I could only find the file rq.f (see error message below)
> in the directory created
> after untar the package (~/quantreg/src/rq.f). I edited the file and in 
> fact there's a bunch of "go to ..." statements where things are going wrong.

Those are warnings coming from g77 but this is allowed Fortran (if perhaps
not very good Fortran).  You will get warnings from g77 from quite a few
CRAN packages, but in this case I get warnings from Sun's f77 too.

> I believe there's nothing "missing" in my o.s. and/or applications. I was
> able to install the survival analysis package error free.
> 
> Any ideas? Thanks in advance to all for your inputs.

The problem is actually in the output you sent (thanks):

> > library(quantreg)
> Error: dynamic library `Quantreg' not found

Note the case difference. quantreg/R/zzz.R contains

".First.lib" <- 
function(lib, pkg) {
   library.dynam("Quantreg", pkg, lib) }

and you need to replace "Quantreg" by "quantreg". This does not matter on a
DOS file system which is what the submitter used (on Windows 98, I
believe), and indeed the files are in DOS format.

This then works for me. (There is also a line in R/rq.R,

        if(!is.loaded(symbol.For("rq")))
                dyn.load("rq.dll")  #Changed(Kjetil). May need rewording
for non-windows systems 
that should be removed in R.)


I was going to suggest it would be better to contact the porter rather
than this list, but he has not given his email address anywhere in
the files (it is usually in the DESCRIPTION file).  So Kjetil,
quantreg_2.0-2, please. (If you can, use LF-terminated file: the simplest
way I know on Windows is to use zip -ll and then unzip.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at 148.224.17.2  Thu Jan  7 07:42:48 1999
From: mandevip at 148.224.17.2 (Peter B. Mandeville)
Date: Thu, 07 Jan 1999 07:42:48
Subject: [R] errores
Message-ID: <3.0.5.16.19990107074248.2dcf0f00@148.224.17.2>

Happy New Year to all,

I am using RW0631 and WIN98.

	1. The command DATA only works for the base library. 

	2. The following code on page 312 of Venables and Ripley 1997

sitka.lme <-
lme(size~treat*ordered(Time),random=~1,cluster=~tree,data=Sitka,
serial.structure="ar1.continuous",serial.covariate=~Time)

produced the following error message

Error in lme(size ~ treat * ordered(Time), random = ~1, cluster = ~tree, :
unused argument to function

The example listed on the help for LME worked without problem.

I don't know if my last error reports got out of Mexico or not so here they
are again.

	3. The following code on page 236 of Venables and Ripley 1997 

birthwt.step2 <-
step(birthwt.glm,~.^2+I(scale(age)^2)+I(scale(lwt)^2),trace=F)

produced the following warning message 8 times

Warning: ignored non function "scale"

	4. The following code on page 358 of Venables and Venables 1997 

plot(survfit(leuk.coxs),lty=2:3,lwd=3,add=T,log=T)

produced the following warning message

Warning: parameter "add" couldn't be set in high-level plot() function

Finally, is if possible to automatically load libraries when R is started
and if so how?

Thank you

Peter B.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jan  7 17:50:01 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 07 Jan 1999 10:50:01 -0600
Subject: [R] errores
In-Reply-To: "Peter B. Mandeville"'s message of "Thu, 07 Jan 1999 07:42:48"
References: <3.0.5.16.19990107074248.2dcf0f00@148.224.17.2>
Message-ID: <6rogobkoxy.fsf@verdi.stat.wisc.edu>

>>>>> "PBM" == Peter B Mandeville <mandevip at 148.224.17.2> writes:

  PBM> 	2. The following code on page 312 of Venables and Ripley 1997

  PBM> sitka.lme <-
  PBM> lme(size~treat*ordered(Time),random=~1,cluster=~tree,data=Sitka,
  PBM> serial.structure="ar1.continuous",serial.covariate=~Time)

  PBM> produced the following error message

  PBM> Error in lme(size ~ treat * ordered(Time), random = ~1, cluster
  PBM> = ~tree, : unused argument to function

  PBM> The example listed on the help for LME worked without problem.

  PBM> I don't know if my last error reports got out of Mexico or not
  PBM> so here they are again.

The version of the lme library in R is a beta version of nlme 3.0.
The version that is documented in Venables and Ripley (1997) is version
2.1, the only version that was available at the time they wrote the
book.

Jose' Pinheiro and I have made incompatible changes in the calling
sequence of lme between the two versions of the nlme library.  We did
this because we felt the current version is much easier to use and to
understand.  The corresponding call in the current version would be

sitka.lme <-
 lme(size ~ treat*ordered(Time), data = Sitka, random = ~ 1 | tree,
     correlation = corCAR1(form = ~ Time))

This is still going to produce a massive number of coefficients from
the ordered(Time) term.

By the way, it would help if you had your system administration
reconfigure your mailer so it provides a system name in the From: line
rather than an IP address.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Thu Jan  7 18:05:38 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Thu, 7 Jan 1999 12:05:38 -0500 (EST)
Subject: [R] 3-d point plotting?
Message-ID: <Pine.SGI.3.96.990107120419.18574A-100000@ln.nimh.nih.gov>

Hi.

Has anyone written a function to plot points (not surfaces) in x,y,z
space?  I don't see anything in the current distribution.

Alternately, is there some argument that can get persp to do this?

Thanks,
		Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  7 19:06:12 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Jan 1999 18:06:12 +0000 (GMT)
Subject: [R] errores
In-Reply-To: <3.0.5.16.19990107074248.2dcf0f00@148.224.17.2>
Message-ID: <Pine.GSO.3.96.990107174040.22360B-100000@toucan.stats>

On Thu, 7 Jan 1999, Peter B. Mandeville wrote:

> Happy New Year to all,
> 
> I am using RW0631 and WIN98.
> 
> 	1. The command DATA only works for the base library. 

Not so. It works for the MASS library, for example, in that version of R.

> 	2. The following code on page 312 of Venables and Ripley 1997

I really think I am wasting my time trying to help R users. In the VR
bundle from which you got the Sitka data (even though you claim
data(Sitka) did not work) is a set of scripts modified to run under R,
and there are on-line complements for `R'. PLEASE USE THEM.

You cannot reasonably expect a book about S-PLUS to work unchanged on R,
especially one finished in 1996 to work on R as it has become in 1999.
There is a fair chance that the 1999 3rd edition will work with 
minimal changes on current R.

> sitka.lme <-
> lme(size~treat*ordered(Time),random=~1,cluster=~tree,data=Sitka,
> serial.structure="ar1.continuous",serial.covariate=~Time)
> 
> produced the following error message
> 
> Error in lme(size ~ treat * ordered(Time), random = ~1, cluster = ~tree, :
> unused argument to function

That example is for S-PLUS, not R. See the scripts for the changes. Doug
Bates has pointed out one way to do: this is one of those cases where
lme-2.9 has a different interface from any S version (2.1 or 3.0). 

> birthwt.step2 <-
> step(birthwt.glm,~.^2+I(scale(age)^2)+I(scale(lwt)^2),trace=F)
> 
> produced the following warning message 8 times
> 
> Warning: ignored non function "scale"

Yes, an R scoping problem.  The example works, though.  Current S-PLUS is
clever enough to know that a function is required, so one never gets that
warning.

> 	4. The following code on page 358 of Venables and Venables 1997 
Uh Oh. Try reading the cover once again.

> plot(survfit(leuk.coxs),lty=2:3,lwd=3,add=T,log=T)

Please read the instructions (on page 357, or in the R version of the
scripts): you need library(MASS) loaded after library(survival4),
to make sure MASS is found first. 

> Finally, is if possible to automatically load libraries when R is started
> and if so how?

Put them in .Rprofile: see our on-line complements for one source of info.
As it says

If there are commands that you want to have invoked for each session
(like \sfn{library(MASS)}, of course), you can put these in a file
called \sfn{.Rprofile}. This searched for first in the current
directory then in the user's home directory, but only the first file
found (if any) is read in.

That is true for rw0631 too: earlier Windows versions used Rprofile.


Peter, we have repeated ask you for a signature, as your reply address
is invalid. My patience at having to post replies to you is wearing 
rather thin. Please be a good net citizen and give us a valid reply
address.
 
-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at penguin.irm.r9.fws.gov  Thu Jan  7 19:58:35 1999
From: royle at penguin.irm.r9.fws.gov (royle@penguin.irm.r9.fws.gov)
Date: Thu, 7 Jan 1999 13:58:35 -0500 (EST)
Subject: [R] math symbols in plot text: 2nd try
Message-ID: <Pine.LNX.3.96.990107135336.6959A-100000@penguin.fws.gov>

Ok, I think my first mail didn't get through so I'll try this again.
Please disregard.

I'm trying to use subscripts on plot text.

The help files say this can be done and give several example.

I'm trying to do: P_{2} (for example) and so I tried:

text(5,2,expression(P_{2}))

which doesn't work.  There are no subscript examples. I recall
someone telling me that latex-like expressions worked, but this does
not, so apparently there is some not so obvious way to do this, or
there is a bug of some sort.

Can someone advise me and/or point me to docs that explicitly
address math notation in plot text?

thanks and regards,
andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan  7 20:20:04 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 7 Jan 1999 11:20:04 -0800 (PST)
Subject: [R] math symbols in plot text: 2nd try
In-Reply-To: <Pine.LNX.3.96.990107135336.6959A-100000@penguin.fws.gov>
Message-ID: <Pine.GSO.4.03.9901071116250.29405-100000@wompom.biostat.washington.edu>

On Thu, 7 Jan 1999 royle at penguin.irm.r9.fws.gov wrote:

> Ok, I think my first mail didn't get through so I'll try this again.
> Please disregard.
> 
> I'm trying to use subscripts on plot text.
> 
> The help files say this can be done and give several example.
> 
> I'm trying to do: P_{2} (for example) and so I tried:
> 
> text(5,2,expression(P_{2}))

Try
text(5,2,expression(P[2]))

> 
> which doesn't work.  There are no subscript examples. I recall
> someone telling me that latex-like expressions worked, but this does
> not, so apparently there is some not so obvious way to do this, or
> there is a bug of some sort.
> 
> Can someone advise me and/or point me to docs that explicitly
> address math notation in plot text?

doc/manual/plotmath.tex 

(or Man.dvi if you have compiled this).


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington,Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.Princeton.EDU  Thu Jan  7 20:30:15 1999
From: ben at eno.Princeton.EDU (Ben Bolker)
Date: Thu, 7 Jan 1999 14:30:15 -0500 (EST)
Subject: [R] math symbols in plot text: 2nd try
In-Reply-To: <Pine.LNX.3.96.990107135336.6959A-100000@penguin.fws.gov>
Message-ID: <Pine.SUN.3.95.990107142613.28383A-100000@paca>

On Thu, 7 Jan 1999 royle at penguin.irm.r9.fws.gov wrote:

> I'm trying to use subscripts on plot text.
> 
> The help files say this can be done and give several example.
> 
> I'm trying to do: P_{2} (for example) and so I tried:
> 
> text(5,2,expression(P_{2}))
> 

  Try square brackets:

text(5,2,expression(P[2])

  (Some of the examples under help(text) do give examples of subscripts,
although you might not be able to tell unless you tried them and looked at
the results.)

  Interestingly, under 0.62.3 on SunOS 4 I can get R to core dump with a
bus error by trying to feed it 

    text(5,2,expression(P_{2}))



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Jan  7 21:01:53 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 8 Jan 1999 09:01:53 +1300 (NZDT)
Subject: [R] 3-d point plotting?
Message-ID: <199901072001.JAA08709@stat1.stat.auckland.ac.nz>

We are reworking the 3d graphics stuff at present.  What sort of
plot(s) would you like to see?  The common one I've seen shows the
points with line segments dropped vertically down to the coordinate
plane below.        

[ The new 3d stuff includes the following:
 
 * contour smoothing using B-splines
 
 * filled contours (optionally shaded for the kind of effect you
   see in topgraphic maps)
 
 * enhancements to "persp"
 
    - draping of filled contours on the surface
 
    - drawing of contour lines on the surface
 
    - flat shading models to make things more realistic ]

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Thu Jan  7 22:34:26 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Thu, 7 Jan 1999 22:34:26 +0100
Subject: [R] problems compiling R packages with Linux
Message-ID: <199901072134.WAA11251@uni-bremen.de>


Hello out there,

my first try to install a package (e.g. ctest from CRAN) didn't
succeed; looking at the error messages I think it must be a
configuration problem of my machine, but as I'm not very experienced I
would be glad if someone could give me a hint ...

R's version is 0.63.0, my i386-Linux is kernel 2.0.35. I hadn't had
problems to compile R, and R itself seems to work.

If I try to install the package by

  > R INSTALL /usr/local/share/R/library/ctest/

I get a lot of error messages. R is installed in /usr/local/share/R,
and I untar'ed the package in the library directory. I have write
permissions for those directories. Apparently the linker cannot find a
"main" module file or a certain (shared?) library. Some -lxxx missing
on compiler's command line?

  Installing package `ctest' ...
   libs
  make: `fexact.o' is up to date.
  ld: warning: cannot find entry symbol _start; defaulting to 08048280
  fexact.o: In function `fexact':
  /usr/local/share/R/library/ctest/src/fexact.c:160: undefined reference to `calloc'
  /usr/local/share/R/library/ctest/src/fexact.c:290: undefined reference to `free'
  fexact.o: In function `f2xact':
  /usr/local/share/R/library/ctest/src/fexact.c:503: undefined reference to `log'
  /usr/local/share/R/library/ctest/src/fexact.c:505: undefined reference to `log'   

  [...]

  fexact.o: In function `alogam':
  /usr/local/share/R/library/ctest/src/fexact.c:2229: undefined reference to `log'
  /usr/local/share/R/library/ctest/src/fexact.c:2232: undefined reference to `log'
  /usr/lib/libblas.so: undefined reference to `strcpy'
  /usr/lib/libblas.so: undefined reference to `sqrt'
  /usr/lib/libblas.so: undefined reference to `times'
  /usr/lib/libblas.so: undefined reference to `__ctype_b'
  /usr/lib/libblas.so: undefined reference to `errno'
  /usr/lib/libblas.so: undefined reference to `__strtol_internal'
  /usr/lib/libblas.so: undefined reference to `_IO_stdout_'        

  [...]

I hope there is a kind soul who can help a little bit ;-)

Many thanks,
Ulf

----------------------------------------------------------------------
P.S.: g77 -v yields

  g77 version 0.5.22
   gcc -v -fnull-version -o /tmp/gfa11201 -xf77-cpp-input /tmp/gfa11201.f -xnone -lf2c -lm
  Reading specs from /usr/lib/gcc-lib/i486-delix-linux/2.7.2.3/specs
  gcc version 2.7.2.3
   /usr/lib/gcc-lib/i486-delix-linux/2.7.2.3/cpp -lang-c -v -undef -D__GNUC__=2 -D__GNUC_MINOR__=7 -D__ELF__ -D__unix__ -D__i386__ -D__linux__ -D__unix -D__i386 -D__linux -Asystem(unix) -Asystem(posix) -Acpu(i386) -Amachine(i386) -D_LANGUAGE_FORTRAN -traditional -D__i486__ /tmp/gfa11201.f /tmp/cca11202.i
  GNU CPP version 2.7.2.3 (i386 Linux/ELF)
  #include "..." search starts here:
  #include <...> search starts here:
   /usr/local/include
   /usr/i486-delix-linux/include
   /usr/lib/gcc-lib/i486-delix-linux/2.7.2.3/include
   /usr/include
  End of search list.
   /usr/lib/gcc-lib/i486-delix-linux/2.7.2.3/f771 /tmp/cca11202.i -fset-g77-defaults -quiet -dumpbase gfa11201.F -version -fversion -fnull-version -o /tmp/cca11202.s
  GNU F77 version 2.7.2.3 (i386 Linux/ELF) compiled by GNU C version 2.7.2.3.
  GNU Fortran Front End version 0.5.22 compiled: Mar 29 1998 22:48:35
   as -V -Qy -o /tmp/cca112021.o /tmp/cca11202.s
  GNU assembler version 2.9.1 (i686-pc-linux-gnulibc1), using BFD version 2.9.1.0.7
   ld -m elf_i386 -dynamic-linker /lib/ld-linux.so.1 -o /tmp/gfa11201 /usr/lib/crt1.o /usr/lib/crti.o /usr/lib/crtbegin.o -L/usr/lib/gcc-lib/i486-delix-linux/2.7.2.3 /tmp/cca112021.o -lf2c -lm -lgcc -lc -lgcc /usr/lib/crtend.o /usr/lib/crtn.o
  __G77_LIBF77_VERSION__: 0.5.22
  @(#)LIBF77 VERSION 19970919
  __G77_LIBI77_VERSION__: 0.5.22
  @(#) LIBI77 VERSION pjw,dmg-mods 19970916
  __G77_LIBU77_VERSION__: 0.5.22
  @(#) LIBU77 VERSION 19970919                           

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan  7 23:46:59 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 1999 23:46:59 +0100
Subject: [R] problems compiling R packages with Linux
In-Reply-To: Ulf Mehlig's message of Thu, 7 Jan 1999 22:34:26 +0100
References: <199901072134.WAA11251@uni-bremen.de>
Message-ID: <x2sodmzonw.fsf@blueberry.kubism.ku.dk>

Ulf Mehlig <umehlig at uni-bremen.de> writes:

> R's version is 0.63.0, my i386-Linux is kernel 2.0.35. I hadn't had
> problems to compile R, and R itself seems to work.
> 
> If I try to install the package by
> 
>   > R INSTALL /usr/local/share/R/library/ctest/
> 
> I get a lot of error messages. R is installed in /usr/local/share/R,
> and I untar'ed the package in the library directory. I have write
> permissions for those directories. Apparently the linker cannot find a
> "main" module file or a certain (shared?) library. Some -lxxx missing
> on compiler's command line?

Two things here look like trouble. One is that a lot of configure/make
issues has been hashed out between 0.63.0 and 0.63.1, and the other is
that you seem to be extracting your source files into the same
directory that the package should be installed in, which may confuse
make rather badly. Try one of

* extract to (say) /usr/local/src/R-contrib/ctest and then just
  R INSTALL /usr/local/src/R-contrib/ctest

* upgrade to 0.63.1

... or both. Works ok here with 
  Version 0.63.2 in progress (December 22, 1998)
anyway.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Fri Jan  8 09:38:04 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Fri, 8 Jan 1999 09:38:04 +0100
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <x2sodmzonw.fsf@blueberry.kubism.ku.dk>
	(p.dalgaard@biostat.ku.dk)
References: <199901072134.WAA11251@uni-bremen.de> <x2sodmzonw.fsf@blueberry.kubism.ku.dk>
Message-ID: <199901080838.JAA25126@uni-bremen.de>

Peter Dalgaard <p.dalgaard at biostat.ku.d> wrote:

> * extract to (say) /usr/local/src/R-contrib/ctest and then just
>   R INSTALL /usr/local/src/R-contrib/ctest
>   
> * upgrade to 0.63.1

Thanks! Unfortunately, neither one of your suggestions works.
Observing the built of R-0.63.1, I got similar error messages like
yesterday when I tried to INSTALL the libraries; afterwards I
re-compiled 0.63.0 for control purpose, and got the errors, too!
Apparently I overlooked them when building the first time in November;
nevertheless, both versions produce working executables, but 0.63.1
won't install them like 0.63.0 ... *not* working (0.63.0) is building
of eda.so and similarly modreg.so as well as mva.so -- you see, I
rather didn't check anything thoroughly when building then :-(

With R-0.63.1, the make process fails completely, but at the same
place (see logs of make's activities below).

Do you need further informations (output of configure, Makefile etc.)?
I don't want to molest people on the list by posting lengthy error
logs, so if somebody thinks he/she could give me a hint how to
proceed, please tell me, which information we need to find the cause
of trouble.

Many thanks!
Ulf


----------------------------------------------------------------------
log of make [0.63.0]:

  [...]
  ld -lblas  -o eda.so line.o smooth.o
  ld: warning: cannot find entry symbol _start; defaulting to 080481e0
  line.o: In function `il':
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:6: undefined reference to `floor'
  line.o: In function `iu':
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:11: undefined reference to `ceil'
  line.o: In function `line':
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:24: undefined reference to `rsort'
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:49: undefined reference to `rsort'
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:55: undefined reference to `rsort'
  /usr/local/src/R/R-0.63/src/library/eda/src/line.c:62: undefined reference to `rsort'
  /usr/lib/libblas.so: undefined reference to `strcpy'
  /usr/lib/libblas.so: undefined reference to `sqrt'
  [...]

----------------------------------------------------------------------
log of make [0.63.1]:

  ld  -o eda.so line.o smooth.o
  ld: warning: cannot find entry symbol _start; defaulting to 08048080
  line.o: In function `il':
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:6: undefined reference to `floor'
  line.o: In function `iu':
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:11: undefined reference to `ceil'
  line.o: In function `line':
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:24: undefined reference to `rsort'
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:49: undefined reference to `rsort'
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:55: undefined reference to `rsort'
  /usr/local/src/R/R-0.63.1/src/library/eda/src/line.c:62: undefined reference to `rsort'
  make[4]: *** [eda.so] Error 1
  make[4]: Leaving directory `/usr/local/src/R/R-0.63.1/src/library/eda/src'
  make[3]: *** [all] Error 1
  make[3]: Leaving directory `/usr/local/src/R/R-0.63.1/src/library/eda'
  make[2]: *** [R] Error 1
  make[2]: Leaving directory `/usr/local/src/R/R-0.63.1/src/library'
  make[1]: *** [R] Error 1
  make[1]: Leaving directory `/usr/local/src/R/R-0.63.1/src'
  make: *** [R] Error 1

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Fri Jan  8 10:10:53 1999
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Fri, 8 Jan 1999 10:10:53 +0100
Subject: [R] 3-d point plotting?
In-Reply-To: <199901072001.JAA08709@stat1.stat.auckland.ac.nz>
Message-ID: <199901080906.KAA23712@benes.incoma.cz>

Ross Ihaka wrote:

> We are reworking the 3d graphics stuff at present.  What sort of
> plot(s) would you like to see?  The common one I've seen shows the
> points with line segments dropped vertically down to the coordinate
> plane below.        

Would be great when included in the R! Perhaps I am totally out, but would it be 
possible to have the option to label the individual points (not the axes only)?
Greetings!
Zdenek Skala
++++++++++++++++++++++
Zdenek Skala
e-mail:
Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lgygax at access.unizh.ch  Fri Jan  8 10:34:29 1999
From: lgygax at access.unizh.ch (Lorenz Gygax)
Date: Fri, 8 Jan 1999 10:34:29 +0100 (MET)
Subject: [R] avoiding (another) error
Message-ID: <Pine.LNX.3.96.990108102540.7143A-100000@iamgygax.unizh.ch>

Dear all,

Many thanks to all who always so quickly respond with helpful hints!

Currently I am working with R 0.63.1 on SuSE 5.2 which I installed this
morning within about half an hour: my deepest compliments to the
developpers! (I had still 0.62.2 before.)

This time I am trying the following:

> xy <- list (a= c (1, 2, NA), b= c (2, 3))
> list.name <- "xy"
> get (list.name)$a [is.na (get (list.name)$a)] <- 0
Error: couldn't find function "get<-"
> xy
$a
[1] 1 2 0

$b
[1] 2 3

So obvisouly R does what I would like it to do. How can I get it to do it
without the error? The problem is that I need to do this within a
function.

Thanks for ideas and hints! Regards,
--			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lorenz Gygax		 LGygax at amath.unizh.ch;       room: 36-L-40
			 Department of Applied Mathematics
			 University of Zuerich-Irchel
			 Winterthurerstr. 190; CH-8057 Zurich
			 voice: 41-1-635-58-52  fax: 41-1-635-57-05
			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jan  8 12:04:16 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 8 Jan 1999 12:04:16 +0100
Subject: [R] avoiding (another) error
In-Reply-To: <Pine.LNX.3.96.990108102540.7143A-100000@iamgygax.unizh.ch>
	(message from Lorenz Gygax on Fri, 8 Jan 1999 10:34:29 +0100 (MET))
Message-ID: <199901081104.MAA07882@sophie.ethz.ch>

>>>>> "Lorenz" == Lorenz Gygax <lgygax at access.unizh.ch> writes:

    Lorenz> Dear all, Many thanks to all who always so quickly respond with
    Lorenz> helpful hints!

    Lorenz> Currently I am working with R 0.63.1 on SuSE 5.2 which I
    Lorenz> installed this morning within about half an hour: my deepest
    Lorenz> compliments to the developpers! (I had still 0.62.2 before.)

    Lorenz> This time I am trying the following:

	> xy <- list (a= c (1, 2, NA), b= c (2, 3))
	> list.name <- "xy"
	> get (list.name)$a [is.na (get (list.name)$a)] <- 0
	Error: couldn't find function "get<-"
	> xy
	$a
	[1] 1 2 0

	$b
	[1] 2 3

    Lorenz> So obvisouly R *does* what I would like it to do.

But it shouldn't and this is the real bug here!

    Lorenz> How can I get
    Lorenz> it to do it without the error? The problem is that I need to do
    Lorenz> this within a function.

One way (maybe the most elegant?) :

	xy <- list (a= c (1, 2, NA), b= c (2, 3)); list.name <- "xy"

	A <- .Alias(get(list.name)) 
	A$a[is.na(A$a)] <- 0

	xy $ a	# -> 1 2 0
 
	##-- would this be a convincing example for  .Alias() ??

--
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lgygax at access.unizh.ch  Fri Jan  8 13:58:03 1999
From: lgygax at access.unizh.ch (Lorenz Gygax)
Date: Fri, 8 Jan 1999 13:58:03 +0100 (MET)
Subject: [R] character vectors in data.frames
Message-ID: <Pine.LNX.3.96.990108135216.7270B-100000@iamgygax.unizh.ch>


Dear all,

well, today I just seem to run into these problems ... (I am still working
on R 0.63.1 on a SuSE 5.2). I would like to have a data.frame that also
contains character (and NOT factor) vectors. Two things that I tried (the
second worked in R 0.62.2):

> test.df <- data.frame (X= character (4))
> test.df$X [1] <- "a"
Warning: invalid factor level, NAs generated

or:

> X <- c ("a", "b", "c")
> is.character (X)
[1] TRUE
> test.df <- data.frame (X)
> is.character (test.df$X)
[1] FALSE

Any suggestions how to achieve this? Many thanks!

--			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lorenz Gygax		 LGygax at amath.unizh.ch;       room: 36-L-40
			 Department of Applied Mathematics
			 University of Zuerich-Irchel
			 Winterthurerstr. 190; CH-8057 Zurich
			 voice: 41-1-635-58-52  fax: 41-1-635-57-05
			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan  8 15:52:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jan 1999 15:52:31 +0100
Subject: [R] character vectors in data.frames
In-Reply-To: Lorenz Gygax's message of Fri, 8 Jan 1999 13:58:03 +0100 (MET)
References: <Pine.LNX.3.96.990108135216.7270B-100000@iamgygax.unizh.ch>
Message-ID: <x2lnjdx1e8.fsf@blueberry.kubism.ku.dk>

Lorenz Gygax <lgygax at access.unizh.ch> writes:

> Dear all,
> 
> well, today I just seem to run into these problems ... (I am still working
> on R 0.63.1 on a SuSE 5.2). I would like to have a data.frame that also
> contains character (and NOT factor) vectors. Two things that I tried (the
> second worked in R 0.62.2):
> 
> > test.df <- data.frame (X= character (4))
> > test.df$X [1] <- "a"
> Warning: invalid factor level, NAs generated
> 

Use I(). Like this:

> test.df <- data.frame (X= I(character (4)))
>  test.df$X [1] <- "a"
> test.df
  X
1 a
2  
3  
4  
> test.df$X
[1] "a" ""  ""  "" 
attr(,"class")
[1] "AsIs"

And yes, the behaviour that data.frame converts character to factor
unless requested otherwise is weird, but Splus compatible.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Fri Jan  8 16:59:38 1999
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Fri, 8 Jan 1999 15:59:38 +0000 (GMT)
Subject: [R] Function suggestion
Message-ID: <Pine.GSO.3.96.990108153229.11944H-100000@laplace>

I hope this is the right forum (it'll be second time lucky if it is!).  I
note in the current distribution that functions passed as arguments (eg to
outer, sweep and the applys) are not handled consistently.  As I often
pass functions myself, I find the following simple function useful ...

match.fun <- function (FUN, descend = F) 
{
        if (is.character(FUN)) 
                get(FUN, mode = "function")
        else if (mode(FUN) != "function") {
                FUN <- deparse(substitute(FUN))
                if (descend) 
                        get(FUN, mode = "function")
                else stop(paste("\"", FUN, "\" is not a function", 
                        sep = ""))
        }
        else FUN
}

Note that by default this function does not look under an object that is
not a function -- this is my natural caution and contrary to the code in
apply().  I just thought it would be nice to tidy apply() etc by replacing
the first few lines with FUN <- match.fun(FUN), or FUN <- match.fun(FUN,
T); a bit similar to match.arg(), really.

Just a thought.  Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE

"[B]egin upon the precept ... that the things we see are to be 
 weighed in the scale with what we know"  (Meredith, 1879, The Egoist)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jan  8 19:17:04 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 8 Jan 1999 13:17:04 -0500 (EST)
Subject: [R] 3-d point plotting?
In-Reply-To: <199901072001.JAA08709@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SGI.3.96.990108131451.1039B-100000@ln.nimh.nih.gov>

In our application, we're looking at 2-dimensional position through time,
and we'd like to plot multiple sequences on a single graph.  So we'd just
like to be able to do points and lines (as in the type="l" plotting
option) in three dimensions.  Lines down to the grid aren't an issue.  In
Splus we can make perspp do what we want. 

Thanks,
		Matt Wiener

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jan  8 20:04:09 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 9 Jan 1999 08:04:09 +1300 (NZDT)
Subject: [R] 3-d point plotting?
Message-ID: <199901081904.IAA22843@stat1.stat.auckland.ac.nz>

> From: Matthew Wiener <mcw at ln.nimh.nih.gov>
> To: Ross Ihaka <ihaka at stat.auckland.ac.nz>
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] 3-d point plotting?
> 
> In our application, we're looking at 2-dimensional position through time,
> and we'd like to plot multiple sequences on a single graph.  So we'd just
> like to be able to do points and lines (as in the type="l" plotting
> option) in three dimensions.  Lines down to the grid aren't an issue.  In
> Splus we can make perspp do what we want. 

I gave a task to one of my summer students yesterday which should do what
you want.  Basically we'll make a "plot3d" function with associated
"points3d", "lines3d", "segments3d", "polygon3d" and "text3d".
The viewing transformation will be set up as for "persp".  This should
make it possible to build simple 3d plots.  No hidden surface/line removal
though.

I'm thinking at present about how to do a real 3d system, but this
intended for the new Omega system rather than R.  This would probably
be an interface to OpenGL/Mesa.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Sat Jan  9 10:12:11 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Sat, 9 Jan 1999 10:12:11 +0100
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <E0zyY4q-00009v-00@alligin> (c.farrow@geology.gla.ac.uk)
Message-ID: <199901090912.KAA09615@uni-bremen.de>

Colin Farrow <c.farrow at geology.gla.ac.uk> wrote:

 > I had similar problems a few weks back. What are you using to
 > compile the fortran? I guess it is either fort77 or g77. I had
 > problems with these.  something to do with ld flags passed to
 > fort77/g77 which don't get passed on to the ld stage. I eventually
 > switched to egcs for compiling and linking and everything ran
 > smoothly.

Hello Colin,

I was using gcc and g77 2.7.3.2 and 0.5.22, respectively. My (GNU)
make is 3.76.1. I have egcs stuff on my machine, but simply putting
that directory in front of the /usr/bin directory (where "normal" gcc
lives) in PATH didn't compile completely, either. (Now "gcc -v" yielded
"egcs-2.90.27 980315/egcs-1.0.2 release".)

I have to admit, that I don't even know, what egcs -- compared to gcc
-- is ... My Linux rpm package didn't have a good description
.. which egcs version did you use?

BTW, if there are incompatibilities between gcc/gcc-egcs, maybe the
configure script should be made aware of them, shouldn't it?

-------
Further experimenting ...

... You made the observation that the problem had to do something with
switches not passed to the linker. Giving switch -shared to ld (we are
building a shared library, I think) works (invoked "manually"):

    ld -o eda.so line.o smooth.o -shared

produces eda.so (this is, where the first problem occurred). If I
start make again, it stops later at

    ../../../../bin/R SHLIB -o modreg.so bsplvd.o

Might be that R isn't invoking the linker correctly, too?

Linking modreg with ld -shared by hand seems to work, after that
R-0.63.1's Makefile produces the docs and installs; and R runs (at
least some of the demos).

Installing ctest by "R INSTALL ctest/" (my original problem) still
doesn't work, but linking .../ctest/libs/ctest.so fexact.o -shared
produces the library, and a new "R INSTALL ..." seems to install
it. So my problems seems to be solved for the moment (will start to
test the installation later), but there apparently are some
inconsistencies within R's configure/make-scripts, I think.

Many thanks for suggestions & attention!
Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan  9 12:03:45 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 9 Jan 1999 11:03:45 +0000 (GMT)
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <199901090912.KAA09615@uni-bremen.de>
Message-ID: <Pine.GSO.3.96.990109104921.4883A-100000@toucan.stats>

On Sat, 9 Jan 1999, Ulf Mehlig wrote:

> Colin Farrow <c.farrow at geology.gla.ac.uk> wrote:
> 
>  > I had similar problems a few weks back. What are you using to
>  > compile the fortran? I guess it is either fort77 or g77. I had
>  > problems with these.  something to do with ld flags passed to
>  > fort77/g77 which don't get passed on to the ld stage. I eventually
>  > switched to egcs for compiling and linking and everything ran
>  > smoothly.
> 
> Hello Colin,
> 
> I was using gcc and g77 2.7.3.2 and 0.5.22, respectively. My (GNU)
> make is 3.76.1. I have egcs stuff on my machine, but simply putting
> that directory in front of the /usr/bin directory (where "normal" gcc
> lives) in PATH didn't compile completely, either. (Now "gcc -v" yielded
> "egcs-2.90.27 980315/egcs-1.0.2 release".)
> 
> I have to admit, that I don't even know, what egcs -- compared to gcc
> -- is ... My Linux rpm package didn't have a good description
> .. which egcs version did you use?
> 
> BTW, if there are incompatibilities between gcc/gcc-egcs, maybe the
> configure script should be made aware of them, shouldn't it?

[I don't think there are: the problem is what the configure script assumes
`linux' needs. Probbaly a g77/fort77 difference.]

On our Red-Hat 5.2 systems, with egcs-g77 installed, I have to set

SHLIBLDFLAGS=-shared

in config.site. It looks to me as is that is your problem too. This
is not inconsistency, just a failure to guess right. I never trust
configure scripts, so do check over these things (they are in the file
Makeconf) and override in config.site any I don't agree with.

egcs is basically a later version of gcc (which has been at 2.8.1 for
quite some time).  (Further, even the recent RH 5.2 has quite an old gcc). 
I think there are known optimization problems with egcs-1.0.2 (RH5.2 has
1.0.3a)  but I would get and use 1.10b, which seems very stable on all the
platforms we have (it is the version used to compile R on Windows, too).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Sat Jan  9 14:05:22 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Sat, 9 Jan 1999 14:05:22 +0100
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <Pine.GSO.3.96.990109104921.4883A-100000@toucan.stats>
	(ripley@stats.ox.ac.uk)
References: <Pine.GSO.3.96.990109104921.4883A-100000@toucan.stats>
Message-ID: <199901091305.OAA20617@uni-bremen.de>


Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote

 > On our Red-Hat 5.2 systems, with egcs-g77 installed, I have to set
 > 
 > SHLIBLDFLAGS=-shared
 > 
 > in config.site. It looks to me as is that is your problem too. This
 > is not inconsistency, just a failure to guess right. I never trust
 > configure scripts, so do check over these things (they are in the
 > file Makeconf) and override in config.site any I don't agree with.

Thank you very much! Now it works! 

I won't trust 'configure' any more ;-)   Couldn't you put this hint as
a footnote in file "INSTALL" or "PLATFORMS"? BTW, my distribution is
"DLD (Deutsche Linux Distribution)" v. 5.4, if you want to put that
in that list ...

For other beginners:

    - untar source package (e.g.: tar -vzxf R-0.63.1.tgz)
    - go to untar'ed directory
    - edit file config.site, change      

          #SHLIBLDFLAGS= 
      to
          SHLIBLDFLAGS=-shared

    - run ./configure 
    - run make
    - run make install

Thanks (for the information on compilers, too!),
Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at ALG.VF.WAU.NL  Sat Jan  9 17:19:24 1999
From: Peter.Baker at ALG.VF.WAU.NL (Peter.Baker@ALG.VF.WAU.NL)
Date: Sat, 09 Jan 1999 17:19:24 +0100
Subject: [R] Install problems.
Message-ID: <vines.bmW7+I4sZqA@vines2.wau.nl>


- - - - - - - - - - - - - - Original Message - - - - - - - - - - - - - -
Hi,

I am having trouble installing R on a Solaris 2.5.1 machine. After running
the configure script, I run make, which quickly results in the following:

make: Fatal error: Don't know how to make target `src/*/*.[chfy]'

Please can you help? 

thanks,

Niall. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_

- - - - - - - - - - - - End of Original Message - - - - - - - - - - - -

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Jan  9 22:20:45 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 9 Jan 1999 13:20:45 -0800 (PST)
Subject: [R] Install problems.
In-Reply-To: <vines.bmW7+I4sZqA@vines2.wau.nl>
Message-ID: <Pine.GSO.4.03.9901091319390.3015-100000@wompom.biostat.washington.edu>

On Sat, 9 Jan 1999 Peter.Baker at ALG.VF.WAU.NL wrote:

> 
> - - - - - - - - - - - - - - Original Message - - - - - - - - - - - - - -
> Hi,
> 
> I am having trouble installing R on a Solaris 2.5.1 machine. After running
> the configure script, I run make, which quickly results in the following:
> 
> make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
> 
> Please can you help? 

You need GNU make rather than Solaris make for this version of R.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Jan 11 08:30:01 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 11 Jan 1999 08:30:01 +0100 (CET)
Subject: [R] Install problems.
In-Reply-To: <Pine.GSO.4.03.9901091319390.3015-100000@wompom.biostat.washington.edu>
References: <vines.bmW7+I4sZqA@vines2.wau.nl>
	<Pine.GSO.4.03.9901091319390.3015-100000@wompom.biostat.washington.edu>
Message-ID: <13977.43129.986234.908555@pc87.maho.magnaeu.com>

>>>>> Thomas Lumley writes:

> On Sat, 9 Jan 1999 Peter.Baker at ALG.VF.WAU.NL wrote:
>> 
>> - - - - - - - - - - - - - - Original Message - - - - - - - - - - - - - -
>> Hi,
>> 
>> I am having trouble installing R on a Solaris 2.5.1 machine. After running
>> the configure script, I run make, which quickly results in the following:
>> 
>> make: Fatal error: Don't know how to make target `src/*/*.[chfy]'
>> 
>> Please can you help? 

> You need GNU make rather than Solaris make for this version of R.

The problem is gone in the current `release' snapshot which should make
it into version 0.63.2 within the next few days.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan 11 15:49:18 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 11 Jan 1999 15:49:18 +0100
Subject: [R] Re: R-0.63.2 is released -- jitter() isn't there really
In-Reply-To: <x2emp19al0.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 11 Jan 1999 14:56:59 +0100)
Message-ID: <199901111449.PAA02725@sophie.ethz.ch>

This was a bit quick for me...
As Peter cited from the NEWS file, it says

    o   new function jitter()  [slightly wmore useful than S's].

However, jitter() didn't make it into the released sources, yet, 
unfortunately. 
Will be in the next release anyway..

Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From khal at alumni.uv.es  Mon Jan 11 15:23:10 1999
From: khal at alumni.uv.es (Kjetil Halvorsen)
Date: Mon, 11 Jan 1999 15:23:10 +0100
Subject: [R] R: Regression with t errors?
References: <199901051647.LAA22438@imail-gw1.jnj.com>
Message-ID: <369A094E.8A85AF53@alumni.uv.es>

Has anybody implemented/knows about ways to do in R regression
based on t-distributed residuals?  I can write something with
IRLS, but would like to know if I can aviud it.

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrobinso at uoguelph.ca  Mon Jan 11 16:24:54 1999
From: mrobinso at uoguelph.ca (Mark Robinson)
Date: Mon, 11 Jan 1999 10:24:54 -0500 (EST)
Subject: [R] Latex in graphics
In-Reply-To: <13977.43129.986234.908555@pc87.maho.magnaeu.com>
Message-ID: <Pine.HPP.3.95.990111102237.22663B-100000@ccshst01>


Hi.

It says in the FAQ that the LaTex in graphics is a mostly undocumented
thing.  I am interested in playing with this.  Can someone give me a
starting point?

Thanks,
Mark
____________________________________________________________________________
Mark Robinson                    E-mail: mrobinso at uoguelph.ca
(519) 767-1573

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rijn at swi.psy.uva.nl  Mon Jan 11 16:53:37 1999
From: rijn at swi.psy.uva.nl (Hedderik van Rijn)
Date: Mon, 11 Jan 1999 16:53:37 +0100 (MET)
Subject: [R] Bug in axis(...,tcl=0)?
Message-ID: <Pine.LNX.4.04.9901111633470.431-100000@swipc30.swi.psy.uva.nl>

Hi,

first of all, I would like to take this opportunity to thank all of you
"answer guys" for giving such detailed answers. I think I've learned about
as much from all these answers as from the different S/R documents I've
read so far.

Anyway, I ran into a incompatability between S and R, that is, R does not
know the "ticks=T/F" argument to functions like axis and plot. Knowing
that R is not S, I tried to do it in a different way by adding "tcl=0" to
the axis call. This works fine, however, in next calls to axis, it seems
to remember this tcl setting, whereas settings like tck are not
remembered. Is there a rationale behind this behavior, or is this a bug?

Below is the code which demonstrates this, ran in R version 63.1, on a
linux machine:

plot(c(1:10),c(1:10),axes=F,type="n");
box();
par()$tcl    # [1] -0.5
axis(1,c(1:10),tcl=0)
par()$tcl    # [1] -0.5
# I expected the next command to draw tick marks, but they don't show
axis(2,c(1:10))
# Draw them anyway
axis(2,c(1:10),tcl=-0.5)
# Show that other arguments are not "remembered"
axis(3,c(1:10),tck=0.5)
axis(4,c(1:10))

Greetings,
   Hedderik.

-- 
http://www.swi.psy.uva.nl/usr/rijn 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 11 16:53:49 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Jan 1999 15:53:49 +0000 (GMT)
Subject: [R] R: Regression with t errors?
Message-ID: <199901111553.PAA13003@toucan.stats.ox.ac.uk>


> Date: Mon, 11 Jan 1999 15:23:10 +0100
> From: Kjetil Halvorsen <khal at alumni.uv.es>
> To: "Morris, Jeffrey (JCD-RL)" <JMorris at OCDUS.JNJ.COM>
> CC: "'R-Help'" <r-help at stat.math.ethz.ch>
> Subject: [R] R: Regression with t errors?
> 
> Has anybody implemented/knows about ways to do in R regression
> based on t-distributed residuals?  I can write something with
> IRLS, but would like to know if I can aviud it.
> 
> Kjetil Halvorsen

This is just M-estimation with a particular form of down-weighting.
You should be able to harness my rlm function (use the version in
lqs.tar.gz) to do this for you just by writing a weighting function
in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan 11 17:18:56 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 11 Jan 1999 17:18:56 +0100
Subject: [R] Latex in graphics
In-Reply-To: <Pine.HPP.3.95.990111102237.22663B-100000@ccshst01> (message from
	Mark Robinson on Mon, 11 Jan 1999 10:24:54 -0500 (EST))
Message-ID: <199901111618.RAA05073@sophie.ethz.ch>

>>>>> "Mark" == Mark Robinson <mrobinso at uoguelph.ca> writes:

    Mark> Hi.

    Mark> It says in the FAQ that the LaTex in graphics is a mostly
    Mark> undocumented thing.  I am interested in playing with this.  Can
    Mark> someone give me a starting point?

what do you mean by "playing"?

Are you offering to write documentation?
Starting points are

Examples in
	 src/library/base/man/text.Rd	 and.. some other *.Rd
then doc/manual/plotmath.tex (which does NOT contain all the new additions:)

but mainly  Ihaka / Murrell's  report on mathematical annotation
    ~~~~~~
which was mentioned by Ross on Dec.31 and which is
not publicly available anymore now, since it is Copyright by JCGS where it
will appear as publication `soon'.....
Ross actually promised some documentation himself.
One could produce something, using the LaTeX source of section 4 of the
above paper.  Ross will have to say what is legally available, however.

and the final joke:
  In R, everything is ``documented'' via source availability:

	src/main/plotmath.c
	         ~~~~~~~~~~
	src/include/Graphics.h
	src/main/graphics.c
	src/main/plot.c
	src/main/par.c
	...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Mon Jan 11 19:59:32 1999
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Mon, 11 Jan 1999 12:59:32 -0600 (CST)
Subject: [R] choosing systems
Message-ID: <ML-3.4.916081172.6838.gordon@localhost>

After many helpful suggestions from many including Brian Ripley, Peter
Dalgaard, Martin Maechler, Douglas Bates, and Tristan Savatier--it is clearly
time to upgrade my system from  SPARC-10 Solaris 2.4. Rational choice of
configuration should be based on intended application and perhaps the fact it
is my pension, not my university, which now finances my research.

My most demanding applications are R, Xlispstat, S(ancient vanilla 2.0) and my
own ad hoc f77 (and ratfor) programs. I do Monte Carlo multivariate models of
quantitative multigenic phenomena with significant genetic-environmental
interactions and compare the results both numerically and graphically with
data-banked empirical data. On my present system an optimized fortran run takes
about three days. 

Suggestions keep pointing me toward an Intel box with a PC disc partition for
those kinds of occasional uses and  with linux or(perhaps and) Intel-Solaris
for the  primary usage. Other than for the substantial disc storage needs to be
ported, I have little idea of optimum configuration.for these systems in terms
of memory or other hardware elements. Cost seems to dictate IDE. Look and feel
might give an edge to Solaris but linux offers a wider base of user experience
to tap.

I would appreciate any suggestions from those with experience with comparable
application needs.

gordon

 

Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From khal at alumni.uv.es  Mon Jan 11 20:23:41 1999
From: khal at alumni.uv.es (Kjetil Halvorsen)
Date: Mon, 11 Jan 1999 20:23:41 +0100
Subject: [R] PLS Code --- at CRAN
References: <199901051647.LAA22438@imail-gw1.jnj.com>
Message-ID: <369A4FBC.75854448@alumni.uv.es>

A simple R port of this statlib code is now at CRAN

Kjetil Halvorsen


Morris, Jeffrey (JCD-RL) wrote:
> 
> Has anyone implemented partial least squares in R?  I know there is code
> in the S archive, but it is a shar file and I run R/S-Plus on a NT 4.0
> machine.
> 
> Thanks!
> 
> Jeff
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Jan 11 20:47:09 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 11 Jan 1999 13:47:09 -0600
Subject: [R] choosing systems
In-Reply-To: gordon.harrington@uni.edu's message of "Mon, 11 Jan 1999 12:59:32 -0600 (CST)"
References: <ML-3.4.916081172.6838.gordon@localhost>
Message-ID: <6rk8ytk2wy.fsf@verdi.stat.wisc.edu>

>>>>> "GH" == gordon harrington <gordon.harrington at uni.edu> writes:

  GH> After many helpful suggestions from many including Brian Ripley,
  GH> Peter Dalgaard, Martin Maechler, Douglas Bates, and Tristan
  GH> Savatier--it is clearly time to upgrade my system from SPARC-10
  GH> Solaris 2.4. Rational choice of configuration should be based on
  GH> intended application and perhaps the fact it is my pension, not
  GH> my university, which now finances my research.

  GH> My most demanding applications are R, Xlispstat, S(ancient
  GH> vanilla 2.0) and my own ad hoc f77 (and ratfor) programs. I do
  GH> Monte Carlo multivariate models of quantitative multigenic
  GH> phenomena with significant genetic-environmental interactions
  GH> and compare the results both numerically and graphically with
  GH> data-banked empirical data. On my present system an optimized
  GH> fortran run takes about three days.

  GH> Suggestions keep pointing me toward an Intel box with a PC disc
  GH> partition for those kinds of occasional uses and with linux
  GH> or(perhaps and) Intel-Solaris for the primary usage. Other than
  GH> for the substantial disc storage needs to be ported, I have
  GH> little idea of optimum configuration.for these systems in terms
  GH> of memory or other hardware elements. Cost seems to dictate
  GH> IDE. Look and feel might give an edge to Solaris but linux
  GH> offers a wider base of user experience to tap.

  GH> I would appreciate any suggestions from those with experience
  GH> with comparable application needs.

I think you are right that the price/performance of Intel-based
systems running Unix or Linux is hard to beat these days.  We use both
Solaris/Intel and Linux/Intel.  I prefer Linux as it has more
applications available for it.  It certainly has momentum in its favor
these days and I feel that the idea of free or Open-Source software
has a lot going for it.  In contrast, Solaris/Intel is in a peculiar
position.  Sun would like people to be using it but they _really_ want
people to be using Solaris/SPARC so they can sell them hardware.  This
means that support decisions for Solaris/Intel could be influenced by
commercial considerations rather than technical superiority.

If you are willing to take a day trip from Waterloo to Madison, I
would be pleased to show you what we are doing with Linux here.  If
you want to bring your CPU with you we can probably get Linux
installed on it while you are here.

I haven't had any performance problems with IDE disk drives.  I just
compiled a 2.2.0-pre5 kernel on Friday evening (the day before
2.2.0-pre6 came out - naturally) and it recognizes my drive/controller
combination can do DMA.  I would put the money into memory before
worrying about SCSI versus IDE.  Besides, a 6 Gb IDE drive sells for
about (US)$100 these days so the investment is not too great.

I would buy a larger hard drive so you can partition it and run
multiple operating systems if you choose.  The only real disadvantage
to having a lot of disk space is deciding how you are going to back it
up.

As for distributions of Linux, I think that RedHat is the easiest
system to work with on your own and to get support for.  I personally
prefer Debian but it is probably not the best choice to try to install
for the first time.  Make sure you get RedHat 5.2.  I have seen it
advertised in computer stores here for $20.  (Interestingly enough, it
was advertised as a "Utility".  I can just imagine the typical
computer neophyte who installs this "utility" and ignores the little
warning about "You are about to re-format your hard drive.  This may
result in a loss of data".)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wuebben at math.cornell.edu  Tue Jan 12 02:45:35 1999
From: wuebben at math.cornell.edu (Bernd Johannes Wuebben)
Date: Mon, 11 Jan 1999 20:45:35 -0500 (EST)
Subject: [R] choosing systems
In-Reply-To: <6rk8ytk2wy.fsf@verdi.stat.wisc.edu>
Message-ID: <XFMail.990111204535.wuebben@math.cornell.edu>


I agree with pretty much everything that Douglas said -- though I'd like
to point out, if I may, that in my opinion Suse 6.0 is definitely on par
with RedHat 5.2 if not surpassing it. See the latest reader poll in the
Linux Journal ( January issue ) where Suse was voted #1. One of many
advantages of Suse over RedHat is that the Suse 6.0  CD set comes with
much more 'stuff' than the RedHat 5.2 distribution and thus saves you
lots of dowload time. 

Best,
Bernd

> 
> As for distributions of Linux, I think that RedHat is the easiest
> system to work with on your own and to get support for.  I personally
> prefer Debian but it is probably not the best choice to try to install
> for the first time.  Make sure you get RedHat 5.2.  I have seen it
> advertised in computer stores here for $20.  (Interestingly enough, it
> was advertised as a "Utility".  I can just imagine the typical
> computer neophyte who installs this "utility" and ignores the little
> warning about "You are about to re-format your hard drive.  This may
> result in a loss of data".)

--------------------------------------------------------------------
Bernd Johannes Wuebben                          wuebben at kde.org
wuebben at math.cornell.edu                        wuebben at acm.org
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From me at naxgul.kais.kyoto-u.ac.jp  Tue Jan 12 13:30:30 1999
From: me at naxgul.kais.kyoto-u.ac.jp (Yusuke Uchiyama)
Date: Tue, 12 Jan 1999 12:30:30 GMT
Subject: [R] A patch for boxplot.R 
Message-ID: <199901121230.MAA00220@naxgul.kais.kyoto-u.ac.jp>

Hello,

I made a patch for boxplot.R.

These changes allow you to determine the color of upper half, center line, and lower half  of a box separately.

You can specify these colors by topcol, center, and bottomcol, respectively.

I will appreciate any suggestion for better implementation and I hope that these features are included to a future version of R.

Yusuke Uchiyama
e-mail: yusuke at kais.kyoto-u.ac.jp

----please cut---

*** boxplot.R.org	Tue Jan 12 12:18:48 1999
--- boxplot.R	Mon Jan 11 22:55:31 1999
***************
*** 1,6 ****
  boxplot <- function(x, ..., range=1.5, width=NULL, varwidth=FALSE,
  		    notch=FALSE, names.x, data=sys.frame(sys.parent()),
! 		    plot=TRUE, border=par("fg"), col=NULL, log="", pars=NULL)
  {
      args <- list(x,...)
      namedargs <-
--- 1,6 ----
  boxplot <- function(x, ..., range=1.5, width=NULL, varwidth=FALSE,
  		    notch=FALSE, names.x, data=sys.frame(sys.parent()),
! 		    plot=TRUE, border=par("fg"), center=par("fg"), topcol=NULL,bottomcol=NULL, log="", pars=NULL)
  {
      args <- list(x,...)
      namedargs <-
***************
*** 31,37 ****
  	groups[i] <- list(boxplot.stats(groups[[i]], range))
      if(plot) {
  	bxp(groups, width, varwidth=varwidth, notch=notch,
! 	    border=border, col=col, log=log, pars=pars)
  	invisible(groups)
      }
      else groups
--- 31,37 ----
  	groups[i] <- list(boxplot.stats(groups[[i]], range))
      if(plot) {
  	bxp(groups, width, varwidth=varwidth, notch=notch,
! 	    border=border, center=center, topcol=topcol, bottomcol=bottomcol, log=log, pars=pars)
  	invisible(groups)
      }
      else groups
***************
*** 51,59 ****
  
  bxp <- function(z, notch=FALSE, width=NULL, varwidth=FALSE,
  		notch.frac = 0.5,
! 		border=par("fg"), col=NULL, log="", pars=NULL, ...)
  {
!     bplt <- function(x, wid, stats, out, conf, notch, border, col)
      {
  	## Draw single box plot.
  	pars <- c(pars, list(...))# from bxp(...).
--- 51,59 ----
  
  bxp <- function(z, notch=FALSE, width=NULL, varwidth=FALSE,
  		notch.frac = 0.5,
! 		border=par("fg"), center=par("fg"), topcol=NULL,bottomcol=NULL, log="", pars=NULL, ...)
  {
!     bplt <- function(x, wid, stats, out, conf, notch, border, center, topcol, bottomcol)
      {
  	## Draw single box plot.
  	pars <- c(pars, list(...))# from bxp(...).
***************
*** 62,79 ****
  	    ## stats = +/- Inf:	 polygon & segments should handle
  	    wid <- wid/2
  	    if(notch) {
! 		xx <- x+wid*c(-1,1, 1, notch.frac, 1,
! 			      1,-1,-1,-notch.frac,-1)
! 		yy <- c(stats[c(2,2)],conf[1],stats[3],conf[2],
! 			stats[c(4,4)],conf[2],stats[3],conf[1])
! 		polygon(xx, yy, col=col, border=border)
! 		segments(x-wid/2,stats[3], x+wid/2,stats[3], col=border)
  	    }
  	    else {
  		xx <- x+wid*c(-1,1,1,-1)
! 		yy <- stats[c(2,2,4,4)]
! 		polygon(xx, yy, col=col, border=border)
! 		segments(x-wid,stats[3],x+wid,stats[3],col=border)
  	    }
  	    segments(rep(x,2),stats[c(1,5)], rep(x,2),
  		     stats[c(2,4)], lty="dashed",col=border)
--- 62,82 ----
  	    ## stats = +/- Inf:	 polygon & segments should handle
  	    wid <- wid/2
  	    if(notch) {
! 		xxtop <- x+wid*c(-1,1, 1, notch.frac, -notch.frac,-1)
! 		xxbttm <- x+wid*c(-1,1, 1, notch.frac, -notch.frac,-1)
! 		yytop <- c(stats[c(2,2)],conf[1],stats[c(3,3)],conf[1])
! 		yybttm <- c(stats[c(4,4)],conf[2],stats[c(3,3)],conf[2])
! 		polygon(xxtop, yytop, col=topcol, border=border)
! 		polygon(xxbttm, yybttm, col=bottomcol, border=border)
! 		segments(x-wid/2,stats[3], x+wid/2,stats[3], col=center)
  	    }
  	    else {
  		xx <- x+wid*c(-1,1,1,-1)
! 		yytop <- stats[c(2,2,3,3)]
!                 yybttm <- stats[c(3,3,4,4)]
! 		polygon(xx, yytop, col=topcol, border=border)
! 		polygon(xx, yybttm, col=bottomcol, border=border)
! 		segments(x-wid,stats[3],x+wid,stats[3],col=center)
  	    }
  	    segments(rep(x,2),stats[c(1,5)], rep(x,2),
  		     stats[c(2,4)], lty="dashed",col=border)
***************
*** 112,117 ****
--- 115,123 ----
      if(missing(border) || length(border)==0)
  	border <- par("fg")
  
+     if(missing(center) || length(center)==0)
+ 	center <- par("fg")
+ 
      plot.new()
      plot.window(xlim=c(0.5,n+0.5), ylim=ylim, log=log)
  
***************
*** 122,128 ****
  	     conf = z[[i]]$conf,
  	     notch= notch,
  	     border=border[(i-1)%%length(border)+1],
! 	     col=if(is.null(col)) col else col[(i-1)%%length(col)+1])
  
      if(is.null(pars$axes) || pars$axes) {
  	if(n > 1) axis(1, at=1:n, labels=names(z))
--- 128,137 ----
  	     conf = z[[i]]$conf,
  	     notch= notch,
  	     border=border[(i-1)%%length(border)+1],
! 	     center=center[(i-1)%%length(border)+1],
! 	     topcol=if(is.null(topcol)) topcol else topcol[(i-1)%%length(topcol)+1],
! 	     bottomcol=if(is.null(bottomcol)) bottomcol else bottomcol[(i-1)%%length(bottomcol)+1])
! 
  
      if(is.null(pars$axes) || pars$axes) {
  	if(n > 1) axis(1, at=1:n, labels=names(z))
***************
*** 132,134 ****
--- 141,158 ----
      box()
      invisible(1:n)
  }
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Jan 12 08:56:09 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 12 Jan 1999 08:56:09 +0100 (MET)
Subject: [R] R: Regression with t errors?
In-Reply-To: <369A094E.8A85AF53@alumni.uv.es> from "Kjetil Halvorsen" at Jan 11, 99 03:23:10 pm
Message-ID: <199901120756.IAA29220@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 692 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990112/63e78ac3/attachment.pl

From Kurt.Hornik at ci.tuwien.ac.at  Tue Jan 12 09:47:48 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 12 Jan 1999 09:47:48 +0100 (CET)
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <199901091305.OAA20617@uni-bremen.de>
References: <Pine.GSO.3.96.990109104921.4883A-100000@toucan.stats>
	<199901091305.OAA20617@uni-bremen.de>
Message-ID: <13979.3124.9521.431238@pc87.maho.magnaeu.com>

>>>>> Ulf Mehlig writes:

> Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote

>> On our Red-Hat 5.2 systems, with egcs-g77 installed, I have to set
>> 
>> SHLIBLDFLAGS=-shared
>> 
>> in config.site. It looks to me as is that is your problem too. This
>> is not inconsistency, just a failure to guess right. I never trust
>> configure scripts, so do check over these things (they are in the
>> file Makeconf) and override in config.site any I don't agree with.

> Thank you very much! Now it works! 

> I won't trust 'configure' any more ;-)   Couldn't you put this hint as
> a footnote in file "INSTALL" or "PLATFORMS"? BTW, my distribution is
> "DLD (Deutsche Linux Distribution)" v. 5.4, if you want to put that
> in that list ...

Brian:  It is not very kind of you to motivate others into distrusting
my configure scripts :-)

It is also not the right approach.  Even if my time is seriously
constrained I'd prefer that configure-related problems are communicated
and fixed (by me) in the configure scripts.  Otherwise (as in our case),
eventually people ask that fixes be mentioned in the INSTALL file and/or
in the FAQ, which is not right ... (the fix can easily be coded into the
configure script, which will keep installation instructions as simple as
possible).

Currently, SHLIBLDFLAGS is determined via the XWindows configuration,
and overridden on some platforms where necessary.  The approach is not
optimal, but should work in case the standard linker is used.  In
particular, it should work on Linux/XFree86 systems.

Ulf, Brian:  Can you please try running

  grep 'SHLIBLDFLAGS' Makefile | sed 's/ *SHLIBLDFLAGS *= *//'

on your system and see what it gives?

Thanks
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Tue Jan 12 09:55:36 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Tue, 12 Jan 1999 08:55:36 +0000 (GMT)
Subject: [R] RH5.2 bundle
Message-ID: <Pine.LNX.3.95.990112083226.2868B-100000@mercury.quantex>

Hello and Happy New R

Two points:

1 Noting the existence of 0.63.2 as a tgz file on CRAN, but being careful
or lazy depending on how you want to see it, I also note that the binaries
for Redhat stop at 0.63.1 on RH 5.1. 

I recently got the RH 5.2 Power Tools where I was pleased to see R 0.62.4
included, lots of libraries including V&R.  This had been compiled into an
rpm - does anyone know by whom and could the same (or other) good soul
both link the RH 5.2 version into CRAN and repeat the exercise for 0.63.2
on RH5.2.  

Compilation for the not-so-expert is always messy - you know you find you
haven't got the right make, the compiler is wrong, one of the libraries is
in the wrong place for package A but not for package B etc etc.  I am
talking about Linux of course!  Guido does such a good job for M$. 

2 Critical mass seems to be approaching/have reached the R product.  Is
now not the time to consolidate (rather than extend) R and produce a
comprehensive real book for sale in the bookshops and to decorate our
shelves? 

The web is a very useful device - we can live for ages on the
laser-printouts but even with a binder, these are not as convenient as a
real book with examples.  I have in mind the excellent manual for GLIM
(although rather big) which comes with the (commercial) product but is
much more than a user manual. Robert and Ross's R Notes, Kurt's FAQ and
others could form a basis.  The V&R notes, V&S on S(R) could be added and
some extensive examples such as from Jim Lindsey's repeated measures
library. I know code modification is seductive but there comes a time in
any job where the Report just has to be written!

The advantage of this is (a) it is *much* more convenient for the user,
(b) it gets some money into the R community, especially if it was sold
directly over the web, which could help finance the next version (c)  it
is a serious publication that will get cited with an ISBN number and (d)
it will encourage the managers of the institutions where all you good
people work to realise that you are not wasting your time but providing a
serious and viable product. 

Think about it 

\John




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Jan 12 10:28:38 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 12 Jan 1999 10:28:38 +0100 (MET)
Subject: [R] RH5.2 bundle
In-Reply-To: <Pine.LNX.3.95.990112083226.2868B-100000@mercury.quantex> from "John Logsdon" at Jan 12, 99 08:55:36 am
Message-ID: <199901120928.KAA17318@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1375 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990112/5e6969fc/attachment.pl

From p.dalgaard at biostat.ku.dk  Tue Jan 12 11:36:30 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jan 1999 11:36:30 +0100
Subject: [R] RH5.2 bundle
In-Reply-To: John Logsdon's message of Tue, 12 Jan 1999 08:55:36 +0000 (GMT)
References: <Pine.LNX.3.95.990112083226.2868B-100000@mercury.quantex>
Message-ID: <x2aezord5d.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> Hello and Happy New R
> 
> Two points:
> 
> 1 Noting the existence of 0.63.2 as a tgz file on CRAN, but being careful
> or lazy depending on how you want to see it, I also note that the binaries
> for Redhat stop at 0.63.1 on RH 5.1. 

0.63.2 is not even 24hr old yet! RPMs will be made in due time, but
the process is outsourced to people who actually have the relevant
machines and OS installed and know their way around the RPM creation
process. (Martyn Plummer, Nassib Nassar, and David Clayton for
i386/alpha/sparc, to be precise).

> I recently got the RH 5.2 Power Tools where I was pleased to see R 0.62.4
> included, lots of libraries including V&R.  This had been compiled into an
> rpm - does anyone know by whom and could the same (or other) good soul
> both link the RH 5.2 version into CRAN and repeat the exercise for 0.63.2
> on RH5.2.  

I believe this was done by someone at RedHat (RH probably wouldn't
want it any other way for security reasons). I forgot the name but he
was corresponding on the mailing list at the time. Is there a problem
running RH5.1 binaries on RH5.2? I can imagine the opposite, but I
don't see a reason for R not being upwards compatible.

> Compilation for the not-so-expert is always messy - you know you find you
> haven't got the right make, the compiler is wrong, one of the libraries is
> in the wrong place for package A but not for package B etc etc.  I am
> talking about Linux of course!  Guido does such a good job for M$. 

Actually, RH5.1 is my development platform and if I can't do 

./configure
make
(su)
make install

R just won't get released... (I do use an upgraded egcs compiler, though)

> 2 Critical mass seems to be approaching/have reached the R product.  Is
> now not the time to consolidate (rather than extend) R and produce a
> comprehensive real book for sale in the bookshops and to decorate our
> shelves? 

Yes. Or several, for different target audiences. Books don't just
happen overnight, though. Several members of the core team are in
there with distinct ambitions of providing some better documentation
than the oddly fragmented set of books on Splus. Frits Leisch has just
started an initiative on turning the R Manual into a real manual as
opposed to a function reference with appendices.

> much more than a user manual. Robert and Ross's R Notes, Kurt's FAQ
                                ^^^^^^^^^^^^^^^
Er, Bill and Dave (Venables + Smith), mostly.

> library. I know code modification is seductive but there comes a time in
> any job where the Report just has to be written!

Yep. And the process will also be necessary to set the semantics
straight. Lots of things in there that even the developers have a hard
time understanding some times.

> The advantage of this is (a) it is *much* more convenient for the user,
> (b) it gets some money into the R community, especially if it was sold
> directly over the web, which could help finance the next version (c)  it
> is a serious publication that will get cited with an ISBN number and (d)
> it will encourage the managers of the institutions where all you good
> people work to realise that you are not wasting your time but providing a
> serious and viable product. 

You're touching a couple of sticky issues there. Firstly, there's no
money box for R development. It all runs on existing infrastructure
and the involved parties' research time (and spare time). We could of
course set up a fund to be the beneficiary of the sales of a book
authored by "R.Core" and use the money for travel, etc. I'm not sure
the proceeds would be big enough to cover the administration, though.
Secondly, should one stick to the "freely distributable" way, even if
actual books were produced and would any publisher accept such a
scheme? I agree that ISBN numbers are important for several reasons. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Jan 12 11:11:35 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 12 Jan 1999 10:11:35 -0000 ()
Subject: [R] RH5.2 bundle
In-Reply-To: <Pine.LNX.3.95.990112083226.2868B-100000@mercury.quantex>
Message-ID: <XFMail.990112104826.plummer@iarc.fr>

On 12-Jan-99 John Logsdon wrote:
>1 Noting the existence of 0.63.2 as a tgz file on CRAN, but being careful
>or lazy depending on how you want to see it, I also note that the binaries
>for Redhat stop at 0.63.1 on RH 5.1. 
>
>I recently got the RH 5.2 Power Tools where I was pleased to see R 0.62.4
>included, lots of libraries including V&R.  This had been compiled into an
>rpm - does anyone know by whom and could the same (or other) good soul
>both link the RH 5.2 version into CRAN and repeat the exercise for 0.63.2
>on RH5.2.  

I make the Red Hat/Intel rpms. The R rpms on the powertools CD are based
on mine, but checked and compiled by Red Hat.

I haven't rolled up an rpm for R 0.63.2 because it was only released
yesterday! My hard drive is churning away as I write, making an updated
rpm which should be mirrored to a CRAN site near you in a day or so.

Anyone with RedHat 5.0, 5.1 or 5.2 should be able to install the
R rpms if they follow the instructions in the README file. In principle,
minor releases of Red Hat Linux should be binary compatible. In
practice this isn't always the case but I try to work around it.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at ALG.VF.WAU.NL  Tue Jan 12 11:40:30 1999
From: Peter.Baker at ALG.VF.WAU.NL (Peter.Baker@ALG.VF.WAU.NL)
Date: Tue, 12 Jan 1999 11:40:30 +0100
Subject: [R] A patch for boxplot.R
Message-ID: <199901121125.MAA09324@sophie.ethz.ch>

			[this was sent to R-help-owner instead of R-help.
			 why on earth ??!???!?   
			 well, I took the liberty to cut the long citation.. MM]

Dear Yusuke

These changes look interesting.

Have you considered being able to specify a different shading or crosshatching 
for each box. I can't see how you can do this at present. You can get 
different colours but of course this is no good for black and white printing 
or copying.

My main aim in doing this is to get clustered box plots a.la. SPSS. Then I can 
throw SPSS away ;-)

Regards
Peter

- - - - - - - - - - - - - - Original Message - - - - - - - - - - - - - -
On Tue Jan 12 13:30:30 1999,
Yusuke Uchiyama <me at naxgul.kais.kyoto-u.ac.jp> wrote:
>Hello,
>
>I made a patch for boxplot.R.
>
>These changes allow you to determine the color of upper half, center line, 
>and lower half  of a box separately.
>
>You can specify these colors by topcol, center, and bottomcol, respectively.
>
>I will appreciate any suggestion for better implementation and I hope that 
>these features are included to a future version of R.
>
>Yusuke Uchiyama
>e-mail: yusuke at kais.kyoto-u.ac.jp
>
>----please cut---
>
>*** boxplot.R.org	Tue Jan 12 12:18:48 1999
>--- boxplot.R	Mon Jan 11 22:55:31 1999
>***************
>*** 1,6 ****
>  boxplot <- function(x, ..., range=1.5, width=NULL, varwidth=FALSE,
>  		    notch=FALSE, names.x, data=sys.frame(sys.parent()),
>! 		    plot=TRUE, border=par("fg"), col=NULL, log="", pars=NULL)
>  {
>      args <- list(x,...)
>      namedargs <-
>--- 1,6 ----
>  boxplot <- function(x, ..., range=1.5, width=NULL, varwidth=FALSE,
>  		    notch=FALSE, names.x, data=sys.frame(sys.parent()),
>! 		    plot=TRUE, border=par("fg"), center=par("fg"), 
>topcol=NULL,bottomcol=NULL, log="", pars=NULL)
>  {
>      args <- list(x,...)
>      namedargs <-
>***************

> ..........
> ..........
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Tue Jan 12 10:59:27 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Tue, 12 Jan 1999 09:59:27 -0000
Subject: [R] glm families in R 
Message-ID: <199901121159.JAA02061@de.ufpe.br>


Is the following difference between S+ and R normal or is it a bug? 
Thanks. FC. 

PS: S+ 4.5 for Windows and R 0.63.1 for Windows. 

S-PLUS output:

> inverse.gaussian()$deriv
> function(mu)
> -2/mu^3
 
R output:

> inverse.gaussian()$deriv
> NULL
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 12 15:30:58 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jan 1999 15:30:58 +0100
Subject: [R] glm families in R
In-Reply-To: "Francisco Cribari"'s message of Tue, 12 Jan 1999 09:59:27 -0000
References: <199901121159.JAA02061@de.ufpe.br>
Message-ID: <x290f836n1.fsf@blueberry.kubism.ku.dk>

"Francisco Cribari" <cribari at de.ufpe.br> writes:

> Is the following difference between S+ and R normal or is it a bug? 
> Thanks. FC. 
> 
> PS: S+ 4.5 for Windows and R 0.63.1 for Windows. 
> 
> S-PLUS output:
> 
> > inverse.gaussian()$deriv
> > function(mu)
> > -2/mu^3
>  
> R output:
> 
> > inverse.gaussian()$deriv
> > NULL

This is normal, R doesn't use $deriv in glm families. However,

> inverse.gaussian()$mu.eta
function (eta) 
-1/(2 * eta^1.5)
<environment: 0x4059d28c>


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Tue Jan 12 15:28:29 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Tue, 12 Jan 1999 15:28:29 +0100
Subject: [R] problems compiling R packages with Linux
In-Reply-To: <13979.3124.9521.431238@pc87.maho.magnaeu.com>
	(Kurt.Hornik@ci.tuwien.ac.at)
References: <Pine.GSO.3.96.990109104921.4883A-100000@toucan.stats>
	<199901091305.OAA20617@uni-bremen.de> <13979.3124.9521.431238@pc87.maho.magnaeu.com>
Message-ID: <199901121428.PAA05222@uni-bremen.de>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> wrote:

  > Ulf, Brian:  Can you please try running
  > 
  >   grep 'SHLIBLDFLAGS' Makefile | sed 's/ *SHLIBLDFLAGS *= *//'
  > 
  > on your system and see what it gives?

Unfortunately, it gives nothing. There is nothing like SHLIBLDFLAGS in
Makefile (I unpacked the src-archive in a new directory and did not
change config.site for testing this). Would you like to get the whole
Makefile, or the output of configure, or something else? Does it play
a role for your configure-lookup in XWindows config files if XWindows
wasn't compiled on the machine in question? (I installed it from the
distribution's binary package; but, anyway, probably *they* compiled
their own distribution with an identical configuration they install
on the CDs). Just tell me what informations you need! Of course it's
better to fix the configure scripts!

Thanks,
Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrobinso at uoguelph.ca  Tue Jan 12 20:17:51 1999
From: mrobinso at uoguelph.ca (Mark Robinson)
Date: Tue, 12 Jan 1999 11:17:51 -0800
Subject: [R] Latex in graphics
References: <199901111618.RAA05073@sophie.ethz.ch>
Message-ID: <369B9FDF.7569@uoguelph.ca>

Martin Maechler wrote:
> Are you offering to write documentation?

How hard can it be? :-)  

Actually, what is the procedure for documentation.  What tools do I need
(ie. latex2html?, etc.) and how does it make it to the distribution,
etc.?  Also, I am on a Windows PC. 



Martin Maechler wrote:
> Ross actually promised some documentation himself.

Ross?

Lemme know,
Mark, the undergrad

______________________________________________________
Mark Robinson			519-767-1573
				mrobinso at uoguelph.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jsw9c at avery.med.virginia.edu  Tue Jan 12 21:30:28 1999
From: jsw9c at avery.med.virginia.edu (John S. Walker)
Date: Tue, 12 Jan 1999 15:30:28 -0500 (EST)
Subject: [R] Re: Welcome to r-help
In-Reply-To: <199901122027.VAA17871@hypatia.math.ethz.ch>
Message-ID: <Pine.A32.3.93.990112153007.104020I-100000@avery.med.Virginia.EDU>


just testing

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Tue Jan 12 22:34:50 1999
From: posse at talariainc.com (Christian Posse)
Date: Tue, 12 Jan 1999 13:34:50 -0800
Subject: [R] Installing R on alpha-dec OSF 4.0
Message-ID: <369BBFFA.765B1F7E@talariainc.com>

Hi

has anyone succeeded in installing R on DEC alpha OSF 4.0  with gcc/g77
?

The PLATFORMS file mentions successful installtion on OSF 3.2 using cc.

Here is the output I get when trying to compile:


ld -shared -o eda.so line.o smooth.o
ld:
Warning: Unresolved:
floor
ceil
rsort
__exc_add_pc_range_table
__exc_add_gp_range
__exc_remove_pc_range_table
__exc_remove_gp_range
make[4]: Leaving directory
`/usr/users/susrod/stats/R-0.63.1/src/library/eda/src'
make[3]: Leaving directory
`/usr/users/susrod/stats/R-0.63.1/src/library/eda'
make[3]: Entering directory
`/usr/users/susrod/stats/R-0.63.1/src/library/modreg'
make[4]: Entering directory
`/usr/users/susrod/stats/R-0.63.1/src/library/modreg/src'
g77 -O2 -fpic -c bsplvd.f -o bsplvd.o
g77 -O2 -fpic -c bvalue.f -o bvalue.o
g77 -O2 -fpic -c bvalus.f -o bvalus.o
g77 -O2 -fpic -c dpbfa.f -o dpbfa.o
g77 -O2 -fpic -c dpbsl.f -o dpbsl.o
gcc -ieee_with_inexact -g -O2  -I../../../../include -c ksmooth.c -o
ksmooth.o
gcc -ieee_with_inexact -g -O2  -I../../../../include -c loessc.c -o
loessc.o
g77 -O2 -fpic -c loessf.f -o loessf.o
g77 -O2 -fpic -c ppr.f -o ppr.o
g77 -O2 -fpic -c qsbart.f -o qsbart.o
g77 -O2 -fpic -c sbart.f -o sbart.o
g77 -O2 -fpic -c sgram.f -o sgram.o
g77 -O2 -fpic -c sinerp.f -o sinerp.o
g77 -O2 -fpic -c sslvrg.f -o sslvrg.o
g77 -O2 -fpic -c stxwx.f -o stxwx.o
../../../../bin/R SHLIB -o modreg.so bsplvd.o bvalue.o bvalus.o dpbfa.o
dpbsl.o ksmooth.o loessc.o loess
f.o ppr.o qsbart.o sbart.o sgram.o sinerp.o sslvrg.o stxwx.o
Make: Unknown flag argument w.  Stop.
make[4]: *** [modreg.so] Error 1
make[4]: Leaving directory
`/usr/users/susrod/stats/R-0.63.1/src/library/modreg/src'
make[3]: *** [all] Error 1
make[3]: Leaving directory
`/usr/users/susrod/stats/R-0.63.1/src/library/modreg'
make[2]: *** [R] Error 1
make[2]: Leaving directory
`/usr/users/susrod/stats/R-0.63.1/src/library'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/usr/users/susrod/stats/R-0.63.1/src'
make: *** [R] Error 1


There is a binary of R created, but when it results in a core dumped.

Thanks for any help.
Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Tue Jan 12 22:50:17 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Tue, 12 Jan 1999 22:50:17 +0100
Subject: [R] PAR(las)
Message-ID: <000b01be3e75$8c2b5b60$2c4fa8c0@tring.stofanet.dk>

Dear friends. In the documentation for PAR it is specified that "las" allowing turning axis labels away from default=parallel to axis is not implemented. I need to make graphs with horizontal Y axis labels - how to ?
I'm using win98.
Thank you in advance.
Sincerely yours

Troels Ring, MD
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jan 12 23:00:17 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 Jan 1999 16:00:17 -0600
Subject: [R] PAR(las)
In-Reply-To: "Troels Ring"'s message of "Tue, 12 Jan 1999 22:50:17 +0100"
References: <000b01be3e75$8c2b5b60$2c4fa8c0@tring.stofanet.dk>
Message-ID: <6rr9t0gnim.fsf@verdi.stat.wisc.edu>

>>>>> "TR" == Troels Ring <tring at mail1.stofanet.dk> writes:

  TR> In the documentation for PAR it is specified that
  TR> "las" = allowing turning axis labels away from
  TR> default=3Dparallel to axis is not = implemented. I need to make
  TR> graphs with horizontal Y axis labels - how = to ?  I'm using
  TR> win98.  Thank you in advance.

At least on the Unix version of R-0.63.2 the las = 1 argument to par
does work, although the spacing of the result is perhaps not optimal.

Try the following in your version and see what happens.
 R> data(women)
 R> names(women)
 [1] "height" "weight"
 R> plot(weight ~ height, data = women, las = 1)

This appears to be a case where the documentation has lagged a bit
behind the code.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.Princeton.EDU  Tue Jan 12 23:03:05 1999
From: ben at eno.Princeton.EDU (Ben Bolker)
Date: Tue, 12 Jan 1999 17:03:05 -0500 (EST)
Subject: [R] Installing R on alpha-dec OSF 4.0
In-Reply-To: <369BBFFA.765B1F7E@talariainc.com>
Message-ID: <Pine.SUN.3.95.990112165944.12758A-100000@paca>

On Tue, 12 Jan 1999, Christian Posse wrote:

> `/usr/users/susrod/stats/R-0.63.1/src/library/modreg/src'
  [snip]
> dpbsl.o ksmooth.o loessc.o loess
> f.o ppr.o qsbart.o sbart.o sgram.o sinerp.o sslvrg.o stxwx.o
> Make: Unknown flag argument w.  Stop.
> make[4]: *** [modreg.so] Error 1
> 
> There is a binary of R created, but when it results in a core dumped.
> 

   For what it's worth ... I got similar messages when compiling 0.63.1 on
SunOS 4.1.4, with gcc.  We have Gnu make as 'gmake' here and a Sun version
of 'make', and I used gmake but plain old make may have been called from a
lower level within the make process.  To work around this problem I just
changed to the appropriate directory
(.../R-0.63.1/src/library/modreg/src), ran gmake manually, and then cd'd
back up to the top and ran gmake again.

  Hope that helps.

  Ben Bolker


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at eno.Princeton.EDU  Tue Jan 12 23:10:04 1999
From: ben at eno.Princeton.EDU (Ben Bolker)
Date: Tue, 12 Jan 1999 17:10:04 -0500 (EST)
Subject: [R] PAR(las)
In-Reply-To: <000b01be3e75$8c2b5b60$2c4fa8c0@tring.stofanet.dk>
Message-ID: <Pine.SUN.3.95.990112170854.12768A-100000@paca>

On Tue, 12 Jan 1999, Troels Ring wrote:

> Dear friends. In the documentation for PAR it is specified that "las"
> allowing turning axis labels away from default=parallel to axis is not
> implemented. I need to make graphs with horizontal Y axis labels - how
> to ?  I'm using win98.  Thank you in advance.  Sincerely yours
> 

   It *is* implemented, at least in 0.63.1 [SunOS 4.1.4].
   Have you tried it?
 
    par(las=0)
    plot(1:10,1:10)
    par(las=1)
    plot(1:10,1:10)

  Ben Bolker
    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jsw9c at avery.med.virginia.edu  Tue Jan 12 23:13:09 1999
From: jsw9c at avery.med.virginia.edu (John S. Walker)
Date: Tue, 12 Jan 1999 17:13:09 -0500 (EST)
Subject: [R] How do I compile with readline?
In-Reply-To: <Pine.A32.3.93.990112153007.104020I-100000@avery.med.Virginia.EDU>
Message-ID: <Pine.A32.3.93.990112170302.104020K-100000@avery.med.Virginia.EDU>



G'day

I'm a newbie to the R list.  I'm trying to compile my version of R with
the readline library and it doesn't seem to work.  I've tried
--enable-readline and while the readline_history options appear to be set
in the config.cache file activated I don't seem to be linking agains the
readline library (it is in it's usual place).  I'm not getting any error
messages.  Any suggestions?

I noticed that a few people have been having trouble with building shared
libraries under linux.  This can happen if you have upgraded your gcc,
g77, libc or libc++ installation (e.g. for compiling Octave).  It seems to
break the Imake system (Imake.tmpl seems to be corrupted or out of date).
Using the xmkmf system to test how to make shared libs is what fails in
the R configure script. A short term fix is to use config.site and set
SHLIBLDFLAGS to -shared.  This works for me. As far as I can tell the
fault is with whatever is broken in the Imake setup not the R ./configure
script. Given the frequency with which this is happening (from the list
posts) it might be worthwhile trying to come up with another strategy to
find out how to make shared libs.  Unfortunately having said that, I
haven't a clue how to do it.

John Walker
Dept of Physiology
University of Virginia



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Jan 12 23:47:39 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 12 Jan 1999 17:47:39 -0500 (EST)
Subject: [R] installation problem on R-0.63.2
Message-ID: <Pine.SGI.3.96.990112172949.6957D-100000@ln.nimh.nih.gov>

I'm trying to install version 0.63.2 on an SGI Origin 200 with plenty of
memory, running Irix 6.5. I previously installed 0.63.0 on this
same system without incident.

I'm getting the following error when I run ./configure:

creating cache ./config.cache checking for a BSD compatible install...
/usr/local/bin/ginstall -c

checking whether ln -s works... yes checking for ranlib... ranlib checking
for bison... bison -y checking for ar... ar checking for ratfor... ratfor
checking for latex... /usr/local/teTeX/bin/latex 
checking for dvips.../usr/local/teTeX/bin/dvips 
checking for makeindex... /usr/local/teTeX/bin/makeindex 
checking for perl... /usr/bin/perl 
checking whether perl is perl 5... yes 
checking for gcc... gcc 
checking whether the C compiler (gcc ) works... yes 
checking whether the C compiler (gcc ) is a cross-compiler... no 
checking whether we are using GNU C... yes 
checking whether gcc accepts -g... yes 
checking for ranlib... (cached) ranlib
checking for g77... no 
checking for f77... /usr/bin/f77 

checking for underscore after Fortran symbols... configure: error: Nothing
worked - cannot use FORTRAN

--------------------------------------------------------------------------

Now I saw the recent discussion of this error on the mailing list, but
changing to force using gcc doesn't help, and forcing the use of cc
doesn't help, and specifying no flags in "CFLAGS" doesn't help either.
Those were the only things I was able to find in the archive that seemed
like they might help.

Any help would be appreciated.

Thanks,
		Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eoinf at connectnet.com  Wed Jan 13 05:48:04 1999
From: eoinf at connectnet.com (Eoin Fahy)
Date: Tue, 12 Jan 1999 20:48:04 -0800
Subject: [R] Can hclust() generate numerical results?
Message-ID: <369C2584.89C80C05@connectnet.com>

I've been using the hclust() function in R to generate a hierarchial
tree as graphical output.
However, with large datasets, it's impossible to decipher the output
because all the labels are superimposed.
Is it possible to generate a numerical representation (as opposed to a
diagram) of the ouput from hclust? I'd like to use it for large datasets
of up to 20,000 rows.

Thanks in advance,
Eoin Fahy, Ph.D.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Jan 13 08:58:10 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 13 Jan 1999 08:58:10 +0100 (MET)
Subject: [R] a bug and a question
Message-ID: <199901130758.IAA17160@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 862 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990113/9294ae2e/attachment.pl

From umehlig at uni-bremen.de  Wed Jan 13 09:15:07 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Wed, 13 Jan 1999 09:15:07 +0100
Subject: [R] How do I compile with readline?
In-Reply-To: 
	<Pine.A32.3.93.990112170302.104020K-100000@avery.med.Virginia.EDU>
	(jsw9c@avery.med.virginia.edu)
References: <Pine.A32.3.93.990112170302.104020K-100000@avery.med.Virginia.EDU>
Message-ID: <199901130815.JAA08328@uni-bremen.de>

"John S. Walker" <jsw9c at avery.med.virginia.edu> wrote:

 > I'm trying to compile my version of R with the readline library and
 > it doesn't seem to work.  I've tried --enable-readline and while
 > the readline_history options appear to be set in the config.cache
 > file activated I don't seem to be linking agains the readline
 > library (it is in it's usual place).  I'm not getting any error
 > messages.  Any suggestions?

I once had this problem on my computer -- the problem was simply that
I didn't have the readline development libraries an my machine (that
might be a separate package in one or the other Linux distribution).
Don't know, but maybe it's just that ...

Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 13 09:27:44 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 13 Jan 1999 09:27:44 +0100
Subject: [R] PAR(las)
In-Reply-To: <Pine.SUN.3.95.990112170854.12768A-100000@paca> (message from Ben
	Bolker on Tue, 12 Jan 1999 17:10:04 -0500 (EST))
Message-ID: <199901130827.JAA11288@sophie.ethz.ch>


 On Tue, 12 Jan 1999, Troels Ring wrote:
    >> Dear friends. In the documentation for PAR it is specified that "las"
    >> allowing turning axis labels away from default=parallel to axis is not
    >> implemented. I need to make graphs with horizontal Y axis labels - how
    >> to ?  I'm using win98.  Thank you in advance.  Sincerely yours

As others have said,  par(las = <n>) has been implemented in the mean time,
and the implementer has forgotten to update the documentation.

I've corrected it, and (in the doc source par.Rd) it looks like

  \item{las}{numeric in \{0,1,2\}; the style of axis labels.
    0 = always parallel to the axis [\emph{default}],
    1 = always horizontal,
    2 = always perpendicular to the axis.}

which is S compatible.
However, in principle there is one case missing :

    3 = always vertical

(it can almost be constructed by using las=1 and "manually" turn the plot
 by  90 degrees...).

Can anyone think of a situation where one would want this?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 13 11:15:00 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 1999 11:15:00 +0100
Subject: [R] a bug and a question
In-Reply-To: Jim Lindsey's message of Wed, 13 Jan 1999 08:58:10 +0100 (MET)
References: <199901130758.IAA17160@alpha.luc.ac.be>
Message-ID: <x2aezn5viz.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> The question: I am getting various reports that R under MS-Windows and
> X-Windows/Linux on the same machine behaves very differently for nlm
> convergence in my libraries. Under Linux, convergence is easy with
> many starting values, but under MS they have to be very close to the
> MLE. Does anyone have experience with this and or an explanation?
> Is the math used different in the two systems?
>   Jim

Not entirely unlikely. The FPU should be the same of course, but the C
and math libraries link to a Microsoft DLL, which I have heard people
speak badly about before. 

Particularly the IEEE exception handling could be causing trouble if
an iterative method wanders near the boundary of a functions domain.
That is pure speculation, though, I suppose Guido and Brian will know
more.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 13 11:26:38 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 1999 11:26:38 +0100
Subject: [R] How do I compile with readline?
In-Reply-To: Ulf Mehlig's message of Wed, 13 Jan 1999 09:15:07 +0100
References: <Pine.A32.3.93.990112170302.104020K-100000@avery.med.Virginia.EDU> <199901130815.JAA08328@uni-bremen.de>
Message-ID: <x290f75uzl.fsf@blueberry.kubism.ku.dk>

Ulf Mehlig <umehlig at uni-bremen.de> writes:

> "John S. Walker" <jsw9c at avery.med.virginia.edu> wrote:
> 
>  > I'm trying to compile my version of R with the readline library and
>  > it doesn't seem to work.  I've tried --enable-readline and while
>  > the readline_history options appear to be set in the config.cache
>  > file activated I don't seem to be linking agains the readline
>  > library (it is in it's usual place).  I'm not getting any error
>  > messages.  Any suggestions?
> 
> I once had this problem on my computer -- the problem was simply that
> I didn't have the readline development libraries an my machine (that
> might be a separate package in one or the other Linux distribution).
> Don't know, but maybe it's just that ...

Yes. Trouble #2 is that sometimes the readline version is not recent
enough. According to my fading memory, you need version 2.1 or better
(I have 2.2). The check for rl_callback_read_char by configure is not
an arbitrary sanity check. The callback functions are used by R and
have to be there. (This so that R can work with X graphics events).

A quick check on your library would be along the lines of:

[pd at blueberry r-devel]$ nm /usr/lib/libreadline.so | grep callback
00018320 t _rl_callback_newline
00018370 T rl_callback_handler_install
00018490 T rl_callback_handler_remove
000183d0 T rl_callback_read_char


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 13 11:48:25 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 1999 11:48:25 +0100
Subject: [R] PAR(las)
In-Reply-To: Martin Maechler's message of Wed, 13 Jan 1999 09:27:44 +0100
References: <199901130827.JAA11288@sophie.ethz.ch>
Message-ID: <x27lur5tza.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> which is S compatible.
> However, in principle there is one case missing :
> 
>     3 = always vertical
> 
> (it can almost be constructed by using las=1 and "manually" turn the plot
>  by  90 degrees...).
> 
> Can anyone think of a situation where one would want this?

Yes. There's a barplot of aviation accidents by profession in Altmans
textbook which I have had trouble getting to look right in R, for
instance:

barplot(cbind(prof.pilots=16,lawyers=11,farmers=10,
salesmen=9,physicians=9,mechanics=6,policemen=6,managers=6,
engineers=5,teachers=4,housewives=3,students=3,armed.forces=1))

(actually, apart from the spacing bug, this looks fairly OK with
las=2, but you might want the y labels along the axis when the heights
are bigger numbers)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gwhite at bodnext.bio.dfo.ca  Wed Jan 13 13:23:32 1999
From: gwhite at bodnext.bio.dfo.ca (George White)
Date: Wed, 13 Jan 1999 08:23:32 -0400 (AST)
Subject: [R] a bug and a question
In-Reply-To: <199901130758.IAA17160@alpha.luc.ac.be>
Message-ID: <Pine.NXT.4.05.9901130803120.12969-100000@bodnext.bio.dfo.ca>

Two things to consider: a) different settings for the f.p. unit, and 
b) different optimizations by the compiler

You can check .Machine -- I haven't used R on Win32, but from other
programs I know that the rounding mode ($double.rounding) is not always
predictable.  I remember some discussion over whether .Machine should be
computed once at compile time or as part of the startup code each time R
is run.  I now have an example (GNU Fortran in a telnet session under OS/2
Warp 4) in which the IEEE rounding mode changes after the first Fortran
write statement, so even if the rounding mode _is_ determined at startup,
it can be altered while a program is running.

Supporting scientific software on Win32 (and OS/2, which shares some
fundamental problems) is not easy!

You might want to check the value of $double.rounding in your code --
ideally it should be 5 (gradual underflow using denormals).  This can
make a big difference to programs using finite differences to approximate
derivatives or in cases of cancellation (summing alternating series).
If you use f.d. for derivatives, it can help to condition the value
of "h", e.g.,:

  for f'(x) ~ (f(x)-f(x+h))/h

you want to use:

  xph = x + h
  h2 = xph - h  // conditioned value for h, but watch for optimizations!
  f'(x) ~ (f(x)-f(xph))/h2

since (x+h) may not be representable in the machine.  The reason I
suspect the IEEE rounding mode is that a) I know it is unpredictable, and
b) underflow in computing (f(x)-f(xph)) is a often a problem.

--
George White <aa056 at chebucto.ns.ca>  tel: 902.426.8509
  Bedford Inst. of Oceanography, Nova Scotia, Canada.

On Wed, 13 Jan 1999, Jim Lindsey wrote:

> The bug: Using pch=0 in plot or points gives squares as a
> symbol. Using it in legend leaves a blank space. (0.63.1)
> 
> The question: I am getting various reports that R under MS-Windows and
> X-Windows/Linux on the same machine behaves very differently for nlm
> convergence in my libraries. Under Linux, convergence is easy with
> many starting values, but under MS they have to be very close to the
> MLE. Does anyone have experience with this and or an explanation?
> Is the math used different in the two systems?
>   Jim
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed Jan 13 15:17:09 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 13 Jan 1999 14:17:09 -0000
Subject: [R] problem w/ lm() ?
Message-ID: <199901131617.OAA02705@de.ufpe.br>


Any thoughts on the following? Am I missing something? [I am running R 
for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.] 
Thanks. FC.


R : Copyright 1998, The R Development Core Team
Version 0.63.1 Beta (Dec 5, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> data(women)
> names(women)
[1] "height" "weight"
> summary(lm(weight ~ height, data = women))

Call:
lm(formula = weight ~ height, data = women)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.7333 -1.1333 -0.3833  0.7417  3.1167 

Coefficients:
Error: binary operator applied to invalid types

                    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 13 18:51:03 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 1999 18:51:03 +0100
Subject: [R] problem w/ lm() ?
In-Reply-To: "Francisco Cribari"'s message of Wed, 13 Jan 1999 14:17:09 -0000
References: <199901131617.OAA02705@de.ufpe.br>
Message-ID: <x2zp7n3vug.fsf@blueberry.kubism.ku.dk>

"Francisco Cribari" <cribari at de.ufpe.br> writes:

> Any thoughts on the following? Am I missing something? [I am running R 
> for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.] 
> Thanks. FC.
...
> > data(women)
> > names(women)
> [1] "height" "weight"
> > summary(lm(weight ~ height, data = women))
> 
> Call:
> lm(formula = weight ~ height, data = women)
> 
> Residuals:
>     Min      1Q  Median      3Q     Max 
> -1.7333 -1.1333 -0.3833  0.7417  3.1167 
> 
> Coefficients:
> Error: binary operator applied to invalid types

This works on Unix 0.63.1, so no, you're not missing anything. Unless
you have something important redefined when you load your workspace.

To help debugging in, perhaps you could try something like:

hw.sum <- summary(lm(weight ~ height, data = women)) # avoids printing
hw.sum # I believe this provokes the error
traceback()
print.default(hw.sum)
debug(print.summary.lm)
hw.sum


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jan 13 19:11:33 1999
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 13 Jan 1999 19:11:33 +0100
Subject: [R] problem w/ lm() ?
In-Reply-To: <199901131617.OAA02705@de.ufpe.br>; from Francisco Cribari on Wed, Jan 13, 1999 at 02:17:09PM -0000
References: <199901131617.OAA02705@de.ufpe.br>
Message-ID: <19990113191133.A21565@sirio.stat.unipd.it>

On Wed, Jan 13, 1999 at 02:17:09PM -0000, Francisco Cribari wrote:
> 
> Any thoughts on the following? Am I missing something? [I am running R 
> for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.] 
> 
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.1 Beta (Dec 5, 1998)
> .......................................................................
> 
> [Previously saved workspace restored]
> 
> > data(women)
> > names(women)
> [1] "height" "weight"
> > summary(lm(weight ~ height, data = women))
> 
  
  Francisco, I have just tried under Win95, same R version, without
  problems. What is contained in the "restored workspace"?
  What happens if you clean it (rm(list=ls()) or use the Misc/Remove... menu
  item)?
  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed Jan 13 16:37:37 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 13 Jan 1999 15:37:37 -0000
Subject: [R] problem w/ lm() ?
In-Reply-To: <x2zp7n3vug.fsf@blueberry.kubism.ku.dk>
References: "Francisco Cribari"'s message of Wed, 13 Jan 1999 14:17:09 -0000
Message-ID: <199901131737.PAA02969@de.ufpe.br>


Does this help? Thanks a lot. Best, FC. 

R : Copyright 1998, The R Development Core Team
Version 0.63.1 Beta (Dec 5, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> ls()
character(0)
> data(women)
> names(women)
[1] "height" "weight"
> women
   height weight
1      58    115
2      59    117
3      60    120
4      61    123
5      62    126
6      63    129
7      64    132
8      65    135
9      66    139
10     67    142
11     68    146
12     69    150
13     70    154
14     71    159
15     72    164
> hw.sum <- summary(lm(weight ~ height, data = women)) # avoids printing
> hw.sum # I believe this provokes the error

Call:
lm(formula = weight ~ height, data = women)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.7333 -1.1333 -0.3833  0.7417  3.1167 

Coefficients:
Error: binary operator applied to invalid types
> traceback()
 [1] "print.coefmat(x$coef, digits = digits, signif.stars = signif.stars, 
"                                         
 [2] "    ...)"                                                           
                                          
 [3] "print.summary.lm(structure(list(call = lm(formula = weight ~ "      
                                          
 [4] "    height, data = women), terms = weight ~ height, residuals = 
structure(c(2.416667, "                       
 [5] "0.9666667, 0.5166667, 0.06666667, -0.3833333, -0.8333333, -
1.283333, "                                        
 [6] "-1.733333, -1.183333, -1.633333, -1.083333, -0.5333333, 0.01666667, 
"                                         
 [7] "1.566667, 3.116667), .Names = c(\"1\", \"2\", \"3\", \"4\", \"5\", 
\"6\", "                                   
 [8] "\"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", 
\"15\")), coefficients = structure(c(-87.51667, "
 [9] "3.45, 5.936944, 0.0911365, -14.74103, 37.85531, 1.711082e-009, "    
                                          
[10] "1.088019e-014), .Dim = c(2, 4), .Dimnames = list(c(\"(Intercept)\", 
"                                         
[11] "\"height\"), c(\"Estimate\", \"Std. Error\", \"t value\", 
\"Pr(>|t|)\"))), "                                  
[12] "    sigma = 1.525005, df = c(2, 13, 2), r.squared = 0.9910098, "    
                                          
[13] "    adj.r.squared = 0.9903183, fstatistic = structure(c(1433.024, " 
                                          
[14] "    1, 13), .Names = c(\"value\", \"numdf\", \"dendf\")), 
cov.unscaled = structure(c(15.15595, "              
[15] "    -0.2321429, -0.2321429, 0.003571429), .Dim = c(2, 2), .Dimnames 
= list("                                  
[16] "        c(\"(Intercept)\", \"height\"), c(\"(Intercept)\", 
\"height\""                                        
[17] "        )))), .Names = c(\"call\", \"terms\", \"residuals\", 
\"coefficients\", "                              
[18] "\"sigma\", \"df\", \"r.squared\", \"adj.r.squared\", 
\"fstatistic\", \"cov.unscaled\""                        
[19] "), class = \"summary.lm\"))"                                        
                                          
> print.default(hw.sum)
$call
lm(formula = weight ~ height, data = women)

$terms
weight ~ height
attr(,"variables")
list(weight, height)
attr(,"factors")
       height
weight      0
height      1
attr(,"term.labels")
[1] "height"
attr(,"order")
[1] 1
attr(,"intercept")
[1] 1
attr(,"response")
[1] 1

$residuals
          1           2           3           4           5           6   
        7 
 2.41666667  0.96666667  0.51666667  0.06666667 -0.38333333 -0.83333333 -
1.28333333 
          8           9          10          11          12          13   
       14 
-1.73333333 -1.18333333 -1.63333333 -1.08333333 -0.53333333  0.01666667  
1.56666667 
         15 
 3.11666667 

$coefficients
             Estimate Std. Error   t value     Pr(>|t|)
(Intercept) -87.51667  5.9369440 -14.741031.711082e-009
height        3.45000  0.0911365  37.855311.088019e-014

$sigma
[1] 1.525005

$df
[1]  2 13  2

$r.squared
[1] 0.9910098

$adj.r.squared
[1] 0.9903183

$fstatistic
   value    numdf    dendf 
1433.024    1.000   13.000 

$cov.unscaled
            (Intercept)       height
(Intercept)  15.1559524 -0.232142857
height       -0.2321429  0.003571429

attr(,"class")
[1] "summary.lm"
> debug(print.summary.lm)
> hw.sum
debugging in: print.summary.lm(structure(list(call = lm(formula = weight 
~ 
    height, data = women), terms = weight ~ height, residuals = 
structure(c(2.416667, 
0.9666667, 0.5166667, 0.06666667, -0.3833333, -0.8333333, -1.283333, 
-1.733333, -1.183333, -1.633333, -1.083333, -0.5333333, 0.01666667, 
1.566667, 3.116667), .Names = c("1", "2", "3", "4", "5", "6", 
"7", "8", "9", "10", "11", "12", "13", "14", "15")), coefficients = 
structure(c(-87.51667, 
3.45, 5.936944, 0.0911365, -14.74103, 37.85531, 1.711082e-009, 
1.088019e-014), .Dim = c(2, 4), .Dimnames = list(c("(Intercept)", 
"height"), c("Estimate", "Std. Error", "t value", "Pr(>|t|)"))), 
    sigma = 1.525005, df = c(2, 13, 2), r.squared = 0.9910098, 
    adj.r.squared = 0.9903183, fstatistic = structure(c(1433.024, 
    1, 13), .Names = c("value", "numdf", "dendf")), cov.unscaled = 
structure(c(15.15595, 
    -0.2321429, -0.2321429, 0.003571429), .Dim = c(2, 2), .Dimnames = 
list(
        c("(Intercept)", "height"), c("(Intercept)", "height"
        )))), .Names = c("call", "terms", "residuals", "coefficients", 
"sigma", "df", "r.squared", "adj.r.squared", "fstatistic", "cov.unscaled"
), class = "summary.lm"))
debug: #S: ' ' instead of '\n'
cat("\nCall:\n")
Browse[1]> 


On 13 Jan 99, at 18:51, Peter Dalgaard BSA wrote:

> "Francisco Cribari" <cribari at de.ufpe.br> writes:
> 
> > Any thoughts on the following? Am I missing something? [I am running R
> > for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.]
> > Thanks. FC.
> ...
> > > data(women)
> > > names(women)
> > [1] "height" "weight"
> > > summary(lm(weight ~ height, data = women))
> > 
> > Call:
> > lm(formula = weight ~ height, data = women)
> > 
> > Residuals:
> >     Min      1Q  Median      3Q     Max 
> > -1.7333 -1.1333 -0.3833  0.7417  3.1167 
> > 
> > Coefficients:
> > Error: binary operator applied to invalid types
> 
> This works on Unix 0.63.1, so no, you're not missing anything. Unless you
> have something important redefined when you load your workspace.
> 
> To help debugging in, perhaps you could try something like:
> 
> hw.sum <- summary(lm(weight ~ height, data = women)) # avoids printing
> hw.sum # I believe this provokes the error traceback()
> print.default(hw.sum) debug(print.summary.lm) hw.sum
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 


________________________________________________________________________

Francisco Cribari-Neto               voice: +55-81-2718420
Departamento de Estatistica          fax:   +55-81-2718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         http://www.de.ufpe.br/~cribari/

               Eat well, exercise, and die anyway. 
________________________________________________________________________
   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 13 19:35:50 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 13 Jan 1999 10:35:50 -0800 (PST)
Subject: [R] problem w/ lm() ?
In-Reply-To: <19990113191133.A21565@sirio.stat.unipd.it>
Message-ID: <Pine.GSO.4.03.9901131032400.10135-100000@wompom.biostat.washington.edu>

On Wed, 13 Jan 1999, Guido Masarotto wrote:

> On Wed, Jan 13, 1999 at 02:17:09PM -0000, Francisco Cribari wrote:
> > 
> > Any thoughts on the following? Am I missing something? [I am running R 
> > for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.] 
> > 
> > 
> > R : Copyright 1998, The R Development Core Team
> > Version 0.63.1 Beta (Dec 5, 1998)

I just downloaded this software and tried the example and it works as it
should.  This is WinNT under 4.0 Workstation.

	
Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed Jan 13 16:41:47 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 13 Jan 1999 15:41:47 -0000
Subject: [R] problem w/ lm() ?
In-Reply-To: <19990113191133.A21565@sirio.stat.unipd.it>
References: <199901131617.OAA02705@de.ufpe.br>; from Francisco Cribari on Wed, Jan 13, 1999 at 02:17:09PM -0000
Message-ID: <199901131741.PAA02994@de.ufpe.br>


Guido, Thanks. But it does not seem to help... (See below.) Francisco.

R : Copyright 1998, The R Development Core Team
Version 0.63.1 Beta (Dec 5, 1998)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> ls()
character(0)
> rm(list=ls()
+ )
> data(women)
> women
   height weight
1      58    115
2      59    117
3      60    120
4      61    123
5      62    126
6      63    129
7      64    132
8      65    135
9      66    139
10     67    142
11     68    146
12     69    150
13     70    154
14     71    159
15     72    164
> summary(lm(weight ~ height, data = women))

Call:
lm(formula = weight ~ height, data = women)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.7333 -1.1333 -0.3833  0.7417  3.1167 

Coefficients:
Error: binary operator applied to invalid types
>

On 13 Jan 99, at 19:11, Guido Masarotto wrote:

> On Wed, Jan 13, 1999 at 02:17:09PM -0000, Francisco Cribari wrote:
> > 
> > Any thoughts on the following? Am I missing something? [I am running R
> > for Windows 0.63.1 on a Win NT 4.0 (workstation, sevice pack #4) box.] 
> > 
> > 
> > R : Copyright 1998, The R Development Core Team
> > Version 0.63.1 Beta (Dec 5, 1998)
> > .......................................................................
> > 
> > [Previously saved workspace restored]
> > 
> > > data(women)
> > > names(women)
> > [1] "height" "weight"
> > > summary(lm(weight ~ height, data = women))
> > 
> 
>   Francisco, I have just tried under Win95, same R version, without
>   problems. What is contained in the "restored workspace"?
>   What happens if you clean it (rm(list=ls()) or use the Misc/Remove...
>   menu item)? guido


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rijn at swi.psy.uva.nl  Wed Jan 13 19:54:37 1999
From: rijn at swi.psy.uva.nl (Hedderik van Rijn)
Date: Wed, 13 Jan 1999 19:54:37 +0100 (MET)
Subject: [R] RH5.2 bundle
In-Reply-To: <x2aezord5d.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.04.9901131943340.5242-100000@swipc30.swi.psy.uva.nl>


[About publishing a R-book]

> > The advantage of this is (a) it is *much* more convenient for the user,
> > (b) it gets some money into the R community, especially if it was sold
> > directly over the web, which could help finance the next version (c)  it
> > is a serious publication that will get cited with an ISBN number and (d)
> > it will encourage the managers of the institutions where all you good
>
[...]
> Secondly, should one stick to the "freely distributable" way, even if
> actual books were produced and would any publisher accept such a
> scheme? I agree that ISBN numbers are important for several reasons. 

I'm not sure whether you refers with the freely distributable also to the
"to be written book", but I think one might be able to find a publisher to
accept a scheme in which an book accompanies freely available software and
reference manuals. For example, although I know the user base is somewhat
different, "The LaTeX companion" is a good example of this scheme.

Probably I would be one of the firsts to buy such a book.

Greetings,
   Hedderik.

-- 
http://www.swi.psy.uva.nl/usr/rijn 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMorris at OCDUS.JNJ.COM  Wed Jan 13 20:31:00 1999
From: JMorris at OCDUS.JNJ.COM (Morris, Jeffrey (JCD-RL))
Date: Wed, 13 Jan 1999 14:31:00 -0500
Subject: [R] Clipboard Problem
Message-ID: <199901131944.OAA13319@imail-gw2.jnj.com>

I'm running Guido's latest version on NT 4.0 and when I try to copy a plot
to the clipboard, I get an information window that says "Impossible to Open
the Clipboard".  Has anyone else seen this?  BTW, it works fine on my
laptop running Windows95.

Thanks!

Jeff

jmorris at ocdus.jnj.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 13 21:16:06 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 13 Jan 1999 12:16:06 -0800 (PST)
Subject: [R] Clipboard Problem
In-Reply-To: <199901131944.OAA13319@imail-gw2.jnj.com>
Message-ID: <Pine.GSO.4.03.9901131215240.10175-100000@wompom.biostat.washington.edu>

On Wed, 13 Jan 1999, Morris, Jeffrey (JCD-RL) wrote:

> I'm running Guido's latest version on NT 4.0 and when I try to copy a plot
> to the clipboard, I get an information window that says "Impossible to Open
> the Clipboard".  Has anyone else seen this?  BTW, it works fine on my
> laptop running Windows95.
> 

I get the same problem on NT4.0


Thomas Lumley
Assistant Professor,Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jan 13 22:54:14 1999
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 13 Jan 1999 22:54:14 +0100
Subject: [R] a bug and a question
In-Reply-To: <x2aezn5viz.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Wed, Jan 13, 1999 at 11:15:00AM +0100
References: <199901130758.IAA17160@alpha.luc.ac.be> <x2aezn5viz.fsf@blueberry.kubism.ku.dk>
Message-ID: <19990113225414.A21869@sirio.stat.unipd.it>

On Wed, Jan 13, 1999 at 11:15:00AM +0100, Peter Dalgaard BSA wrote:
> Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
> 
> > The question: I am getting various reports that R under MS-Windows and
> > X-Windows/Linux on the same machine behaves very differently for nlm
> > convergence in my libraries. Under Linux, convergence is easy with
> > many starting values, but under MS they have to be very close to the
> > MLE. Does anyone have experience with this and or an explanation?
> > Is the math used different in the two systems?
> >   Jim
> 
> Not entirely unlikely. The FPU should be the same of course, but the C
> and math libraries link to a Microsoft DLL, which I have heard people
> speak badly about before. 
> 
> Particularly the IEEE exception handling could be causing trouble if
> an iterative method wanders near the boundary of a functions domain.
> That is pure speculation, though, I suppose Guido and Brian will know
> more.
  
  I think Peter points to the origin of the problem.
  Consider that under MSWindows: (i) the source is the Unix one
  (at least for  the computational part); 
  (ii) the compiler is one that many of us are using under Unix
  (egcs 1.1); (iii) the assembler is more or less the same used
  under Linux (or other ix386/Unix) BUT the libc and libm
  are  completly different.
  
  Anyway, I would like to get a couple of examples to play with.
  
  g.
  (ps) I have just tested Machine()$double.rounding, but is
  equal to 5 at least on my son's Win95 machine (the one
  from which I am connected in this moment) and, at least in this
  moment.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at teleport.com  Wed Jan 13 23:48:36 1999
From: seniorr at teleport.com (Russell Senior)
Date: 13 Jan 1999 14:48:36 -0800
Subject: [R] how to change the history size in R
Message-ID: <8667aahjqz.fsf@coulee.tdb.com>


I would like to make readline's command history in R-0.63.1
substantially larger than it is by default (seems like around only 50
commands).  How do I change the size?

Thanks!

-- 
Russell Senior
seniorr at teleport.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zk at biocem.univ-bpclermont.fr  Thu Jan 14 09:44:09 1999
From: zk at biocem.univ-bpclermont.fr (Zivan Karaman)
Date: Thu, 14 Jan 1999 09:44:09 +0100
Subject: [R] Transferring data from S+ to R
Message-ID: <3.0.5.32.19990114094409.00908610@biocem.univ-bpclermont.fr>

I would like to know if there is an easy way to transfer all the data from
a S+ directory (".Data" or "_data") to an R image? I would like to transfer
all the functions and all the data sets (data frames, vectors, lists, etc.).

I'm working under Windows NT and am using S+ 3.3 for Windows.

Zivan


Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BuckCE at cardiff.ac.uk  Thu Jan 14 10:31:27 1999
From: BuckCE at cardiff.ac.uk (Caitlin Buck)
Date: Thu, 14 Jan 1999 09:31:27 +0000
Subject: [R] Compiling R under Solaris
Message-ID: <369DB96F.1737@cardiff.ac.uk>

I am trying to compile R for Solaris 2.6 and am having problems.  I
understand from the INSTALL file that I am not the first to struggle
with this and that the problem probably relates to the version of make
(or gmake) that I have.  Unfortunately, I don't know a) how to check
which version I have or b) where to find other versions.

Can anyone help?

Many thanks

Caitlin Buck
Lecturer in Computing
School of History and Archaeology
Cardiff University
Wales
UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jan 14 10:37:17 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 14 Jan 1999 10:37:17 +0100
Subject: [R] RH5.2 bundle
References: <Pine.LNX.4.04.9901131943340.5242-100000@swipc30.swi.psy.uva.nl>
Message-ID: <369DBACD.97077A3B@iarc.fr>

Hedderik van Rijn wrote:
> 
> [About publishing a R-book]
> 
> > > The advantage of this is (a) it is *much* more convenient for the user,
> > > (b) it gets some money into the R community, especially if it was sold
> > > directly over the web, which could help finance the next version (c)  it
> > > is a serious publication that will get cited with an ISBN number and (d)
> > > it will encourage the managers of the institutions where all you good
> >
> [...]
> > Secondly, should one stick to the "freely distributable" way, even if
> > actual books were produced and would any publisher accept such a
> > scheme? I agree that ISBN numbers are important for several reasons.
> 
> I'm not sure whether you refers with the freely distributable also to the
> "to be written book", but I think one might be able to find a publisher to
> accept a scheme in which an book accompanies freely available software and
> reference manuals. For example, although I know the user base is somewhat
> different, "The LaTeX companion" is a good example of this scheme.

I think the issue is whether an R book should be published under terms which
allow it to be freely distributed and modified, like R itself. Richard
Stallman has called for free software to be accompanied by free manuals
http://www.fsf.org/philosophy/free-doc.html
The FSF does publish some books this way (with ISBNs). O'Reilly has also
published copylefted books at the request of the author, but Tim O'Reilly
says that the arguments for free books are less compelling than for free
software.
http://www.oreilly.com/ask_tim/orabooks_os.html

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 14 10:58:25 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Jan 1999 09:58:25 +0000 (GMT)
Subject: [R] Transferring data from S+ to R
In-Reply-To: <3.0.5.32.19990114094409.00908610@biocem.univ-bpclermont.fr>
Message-ID: <Pine.GSO.4.05.9901140945050.1084-100000@toucan.stats>

On Thu, 14 Jan 1999, Zivan Karaman wrote:

> I would like to know if there is an easy way to transfer all the data from
> a S+ directory (".Data" or "_data") to an R image? I would like to transfer
> all the functions and all the data sets (data frames, vectors, lists, etc.).
> 
> I'm working under Windows NT and am using S+ 3.3 for Windows.

R version? I'll assume rw0631.

You could try

In S-PLUS

dump(ls(), "dirdump", T)

in R (having set a large enough workspace)

source("dirdump")
save.image()

This is not guaranteed to work: R is not S and for example S objects can
have storage modes not supported in R, and the functions may not be valid
R, but it will give you a start and you can edit the file dirdump to
change such things, as it will be a text file in the S language.

Remember that source will not work unless the file is entirely correct:
you may see more of what is going on by using rterm and a batch file
(details in the V&R R complements).

The same ideas work for the reverse transfer: in R you need

dump(ls(all.names=T), "dirdump")

but if the help page is up-to-date `the implementation of dump is very
incomplete'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fears at roycastle.liv.ac.uk  Thu Jan 14 12:39:44 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Thu, 14 Jan 1999 11:39:44 -0000
Subject: [R] Transferring data from S+ to R
Message-ID: <B7F24F2B48ACD11196F600805FC7F4300629E6@pdc.rc.liv.ac.uk>

There are three stages to this process. Can I make a plea that this goes
into the FAQ perhaps headed 'switching to R from S' ... and would
someone provide the Windows names of the Unix Splus names below ...

1) In your Splus directory, use the operating system to get rid of
anything that will be meaningless to R (failing to do this cleanup may
give fatal errors in stage 3). In particular get rid of .Audit,
.Random.seed (R uses a different format for .Random.seed), last.warning,
last.dump, and .Last.value (just to be sure) and probably .First will
have some Splus-specific, non-R stuff in it. Objects of user-defined
classes might also cause problems.
2) Start Splus using your cleaned .Data directory. If you got any output
or warnings from your .First(), or perhaps best anyway, use
rm(last.warning,last.dump,.Last.value). Then immediately issue the
command dump(objects(),file='myfile').
3) In R, > source('myfile')

Alternatively, replace step 3 by the command line form R < myfile (Peter
Dalgaard's suggestion; more robust.)

Do remember that *R is not S* and differences in scoping rules mean that
some apparently straightforward Splus functions will need to be
rewritten in R. In particular, they may need reassigning so that they
pick up the right embedding environment. Watch out especially for
ellipses (...) arguments ...


-----Original Message-----
From: zk at biocem.univ-bpclermont.fr [mailto:zk at biocem.univ-bpclermont.fr]
Sent: 14 January 1999 08:44
To: r-help at stat.math.ethz.ch
Subject: [R] Transferring data from S+ to R


I would like to know if there is an easy way to transfer all the data
from
a S+ directory (".Data" or "_data") to an R image? I would like to
transfer
all the functions and all the data sets (data frames, vectors, lists,
etc.).

I'm working under Windows NT and am using S+ 3.3 for Windows.

Zivan


Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Jan 14 13:48:56 1999
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 14 Jan 1999 12:48:56 +0000 (GMT)
Subject: [R] libraries
Message-ID: <Pine.GSO.3.96.990114124116.21696C-100000@laplace>

Am I right in thinking that there a discrepancy between the ?library
documentation and the library() function?  If I have a library called
"patches", then according to the documentation (0.62.4) patches/R should
contain source files like fred.R and george.R, but in practice the library
only loads if both fred.R and george.R are given in a file called patches
in the R subdirectory of patches.  Or have I missed something?

Many thanks, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE

"[B]egin upon the precept ... that the things we see are to be 
 weighed in the scale with what we know"  (Meredith, 1879, The Egoist)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Thu Jan 14 13:58:50 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Thu, 14 Jan 1999 13:58:50 +0100 (MET)
Subject: [R] Transferring data from S+ to R
In-Reply-To: <B7F24F2B48ACD11196F600805FC7F4300629E6@pdc.rc.liv.ac.uk>
	(message from Simon Fear on Thu, 14 Jan 1999 11:39:44 -0000)
Message-ID: <199901141258.NAA11619@yeu.gmd.de>

>>>>> "Simon" == Simon Fear <fears at roycastle.liv.ac.uk> writes:

.....

>2) Start Splus using your cleaned .Data directory. If you got any output
>or warnings from your .First(), or perhaps best anyway, use
>rm(last.warning,last.dump,.Last.value). Then immediately issue the
>command dump(objects(),file='myfile').
>3) In R, > source('myfile')

This won't work for LARGE data sets, say a matrix of object.size() greater
than 1 MB, or for large lists, etc. In R source will need far too many cons
cells, and, porting data from R to S, source will generate memory leaks in
the S process.

Does anyone have an idea how to solve this task: porting large and possibly
structured data from R to S and vice versa?

regards

-- Dr. Joerg Kindermann
				 GMD - AiS
	German National Research Center for Information Technology
	    Schloss Birlinghoven, D-53754 St. Augustin, Germany
	       phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 14 14:07:34 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jan 1999 14:07:34 +0100
Subject: [R] libraries
In-Reply-To: Jonathan Rougier's message of Thu, 14 Jan 1999 12:48:56 +0000 (GMT)
References: <Pine.GSO.3.96.990114124116.21696C-100000@laplace>
Message-ID: <x2u2xu6m09.fsf@blueberry.kubism.ku.dk>

Jonathan Rougier <J.C.Rougier at durham.ac.uk> writes:

> Am I right in thinking that there a discrepancy between the ?library
> documentation and the library() function?  If I have a library called
> "patches", then according to the documentation (0.62.4) patches/R should
> contain source files like fred.R and george.R, but in practice the library
> only loads if both fred.R and george.R are given in a file called patches
> in the R subdirectory of patches.  Or have I missed something?

The latter. R INSTALL to be specific:

Source directory:

ls ~/R-contrib/ctest/R
bartlett.test.R    friedman.test.R    mcnemar.test.R     wilcox.test.R
binom.test.R       kruskal.test.R     mood.test.R
cor.test.R         ks.test.R          pks.R
fisher.test.R      mantelhaen.test.R  var.test.R

Install directory:

ls /usr/local/lib/R/library/ctest/R
ctest


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at bearmtn-e0.cgd.ucar.edu  Thu Jan 14 15:48:41 1999
From: royle at bearmtn-e0.cgd.ucar.edu (Jeffrey A. Royle)
Date: Thu, 14 Jan 1999 07:48:41 -0700 (MST)
Subject: [R] Transferring data from S+ to R
In-Reply-To: <3.0.5.32.19990114094409.00908610@biocem.univ-bpclermont.fr>
Message-ID: <Pine.SV4.3.95.990114074545.10608B-100000@neit.cgd.ucar.edu>

I use the brute force method: 

S> dump(ls()) 

R> source("dumpdata")

can't imagine something much easier. 


On Thu, 14 Jan 1999, Zivan Karaman wrote:

> I would like to know if there is an easy way to transfer all the data from
> a S+ directory (".Data" or "_data") to an R image? I would like to transfer
> all the functions and all the data sets (data frames, vectors, lists, etc.).
> 
> I'm working under Windows NT and am using S+ 3.3 for Windows.
> 
> Zivan
> 
> 
> Zivan Karaman
> Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
> Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
> E-mail: zivan.karaman at biocem.univ-bpclermont.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fears at roycastle.liv.ac.uk  Thu Jan 14 15:56:14 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Thu, 14 Jan 1999 14:56:14 -0000
Subject: [R] Transferring data from S+ to R
Message-ID: <B7F24F2B48ACD11196F600805FC7F4300629E8@pdc.rc.liv.ac.uk>

Joerg,

I would not, if I had a choice, ever try to manipulate LARGE data sets
in either R or S. At least, not while objects have to be
memory-resident, and passed as copies if used as arguments, and
replicated in for loops, etc. For LARGE data sets, I suffer in SAS.

If I did have to port large objects I would consider sink() and then
scan() or read.table() - there has been quite a lot of discussion of the
choice between these two in previous postings. But running out of cons
cells will never go away unless someone adds a random-access-file data
type that need not be memory resident, and this would violate the entire
design ethic of either language.

Simon Fear

-----Original Message-----
From: Joerg Kindermann [mailto:Joerg.Kindermann at gmd.de]
Sent: 14 January 1999 12:59
To: r-help at stat.math.ethz.ch
Subject: Re: [R] Transferring data from S+ to R


>>>>> "Simon" == Simon Fear <fears at roycastle.liv.ac.uk> writes:

.....

>2) Start Splus using your cleaned .Data directory. If you got any
output
>or warnings from your .First(), or perhaps best anyway, use
>rm(last.warning,last.dump,.Last.value). Then immediately issue the
>command dump(objects(),file='myfile').
>3) In R, > source('myfile')

This won't work for LARGE data sets, say a matrix of object.size()
greater
than 1 MB, or for large lists, etc. In R source will need far too many
cons
cells, and, porting data from R to S, source will generate memory leaks
in
the S process.

Does anyone have an idea how to solve this task: porting large and
possibly
structured data from R to S and vice versa?

regards

-- Dr. Joerg Kindermann
				 GMD - AiS
	German National Research Center for Information Technology
	    Schloss Birlinghoven, D-53754 St. Augustin, Germany
	       phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zk at biocem.univ-bpclermont.fr  Thu Jan 14 16:24:09 1999
From: zk at biocem.univ-bpclermont.fr (Zivan Karaman)
Date: Thu, 14 Jan 1999 16:24:09 +0100
Subject: [R] Transferring data from S+ to R
In-Reply-To: <Pine.SV4.3.95.990114074545.10608B-100000@neit.cgd.ucar.edu
 >
References: <3.0.5.32.19990114094409.00908610@biocem.univ-bpclermont.fr>
Message-ID: <3.0.5.32.19990114162409.0092f1c0@biocem.univ-bpclermont.fr>

Thanks to everyone for helpful suggestions.

I followed the proposed method, and besides the expected trouble (objects
of user-defined classes, and special objects as .Random.seed, last.warning,
last.dump, and .Last.value) the only other problem I run into was with "lm"
objects that were produced with the needed data frame attached, rather than
by providing it in "data" argument of "lm" function (probably bad practice
anyway).

As a result of the experience, I've created the following function:

"export" <-
function(file = "s2r", classes = c("function", "data.frame", "list",
"matrix", "numeric", "character", "logical"))
{
	x <- row.names(objects.summary(data.class = classes))
	i <- match(c("last.dump", "last.warning", ".Last.fixed", ".Last.value",
".Random.seed"), x)
	i <- i[!is.na(i)]
	if(length(i) > 0)
		x <- x[ - i]
	dump(x, fileout = file)
}

It is self-explanatory; just note that providing NULL as the value for the
"classes" argument will give you all the objects, regardless of their
data.class. 

It has been used (I don't dare say tested) with S+ 3.3 and rw0631 only (and
with NT 4.0).

The method works for reasonably sized data: I was unable to transfer a 1000
x 500 matrix, since R ran out of memory (even with --nsize 1000000).

Thanks again.

Zivan

Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agebhard at zidsrv.sci.uni-klu.ac.at  Thu Jan 14 17:42:57 1999
From: agebhard at zidsrv.sci.uni-klu.ac.at (Albrecht Gebhardt)
Date: Thu, 14 Jan 1999 17:42:57 +0100 (MET)
Subject: [R] Compiling R under Solaris
In-Reply-To: <369DB96F.1737@cardiff.ac.uk>
Message-ID: <Pine.OSF.4.00.9901141740360.2329-100000@alpha5-stat.sci.uni-klu.ac.at>


On Thu, 14 Jan 1999, Caitlin Buck wrote:

> I am trying to compile R for Solaris 2.6 and am having problems.  I
> understand from the INSTALL file that I am not the first to struggle
> with this and that the problem probably relates to the version of make
> (or gmake) that I have.  Unfortunately, I don't know a) how to check
> which version I have or b) where to find other versions.

a):   make -v

b):   http://www.sunfreeware.com/



Albrecht

.....................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/837               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan 14 18:07:32 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 14 Jan 1999 09:07:32 -0800 (PST)
Subject: [R] Compiling R under Solaris
In-Reply-To: <369DB96F.1737@cardiff.ac.uk>
Message-ID: <Pine.GSO.4.03.9901140900100.10328-100000@wompom.biostat.washington.edu>

On Thu, 14 Jan 1999, Caitlin Buck wrote:

> I am trying to compile R for Solaris 2.6 and am having problems.  I
> understand from the INSTALL file that I am not the first to struggle
> with this and that the problem probably relates to the version of make
> (or gmake) that I have.  Unfortunately, I don't know a) how to check
> which version I have or b) where to find other versions.
> 

You currently need GNU make, though this requirement should eventually go
away. Sun make doesn't work.

If you have a Sun system you may have GNU make available as "gmake". 

GNU make identifies itself with the -v or --version flag
  wompom% gmake -v
  GNU Make version 3.74, by Richard Stallman and Roland McGrath.
  Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95 Free Software Foundation,Inc.
  This is free software; see the source for copying conditions.
  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
  PARTICULAR PURPOSE.

If you don't have GNU make you can get precompiled binaries that install
it /usr/local (so you need the system administrators cooperation) from
http://sun.freeware.com/

You can get the source code from any GNU mirror site and compile it
yourself. These are listed at
	http://ftp.gnu.org/order/ftp.html


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Jan 15 09:38:42 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 15 Jan 1999 09:38:42 +0100 (MET)
Subject: [R] version 0.3 of libraries
Message-ID: <199901150838.JAA08992@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 2542 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990115/33227a64/attachment.pl

From jlindsey at alpha.luc.ac.be  Fri Jan 15 11:00:25 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 15 Jan 1999 11:00:25 +0100 (MET)
Subject: [R] patch to 63.2
Message-ID: <199901151000.LAA00236@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 767 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990115/5e193db6/attachment.pl

From fears at roycastle.liv.ac.uk  Fri Jan 15 11:08:29 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Fri, 15 Jan 1999 10:08:29 -0000
Subject: [R] Transferring data from S+ to R
Message-ID: <B7F24F2B48ACD11196F600805FC7F4300629EB@pdc.rc.liv.ac.uk>

In response to my claim that both S and R are hopeless for large data
sets, Jim Lindsey has pointed out, I am sure he won't mind me repeating
here:

> With properly written code that uses the scoping rules of R,
> reasonably large data sets can be handled in R. Then the data are not
> copied needlessly. I have used up to at least 30,000 data points with
> 5 or 6 variables (i.e. more than 150,000 values) with my libraries
> (32mb RAM in Linux).

Mea culpa, I was still thinking in S. You'll have no doubt seen the
recent posts on S-news about the shenannigans needed to get Splus to
function at all with large data sets.

In correspondence not on this list, Prof Brian Ripley wondered why
anybody would want to switch from Splus to R, given that it was not even
seriously faster in benchmarks, and obviously lacks many features. My
quick reply to that was: price. On reflection though,
using the scoping to avoid needless copies is the real reason I started
*using* R in earnest as an alternative to Splus, i.e. even on a machine
that has Splus. I have run stuff that will not work in Splus unless I
had gigabytes of RAM, but which can work in R using only default memory
settings. Not that I have got it quite right yet though; I still haven't
worked out how to make, for example,

var1 <- rnorm(10000)

not create a new instance, eating 10000 globs of memory, every time it
is called within a loop; though clearly the temporary that is passed to
and overwrites var1 could be freed up as soon as the assignment is made.
Or does R think that var1 is a new variable every time the parser hits
this line? Would it not then be possible to check for and free up the
'old' var1 space, straight away?

Simon Fear

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Fri Jan 15 11:41:05 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 15 Jan 1999 21:41:05 +1100 (EST)
Subject: [R] Bug in coplot()
Message-ID: <199901151041.VAA18168@leonard.anu.edu.au>

I am using R0.63.1 under Windows 95.

Settings of <number> and <interval> when coplot is called
are ignored, except for generating a warning.  For example:

> data(quakes)
> coplot(long ~ lat | depth * mag, data = quakes, number=3) 
Warning: parameter "number" couldn't be set in high-level plot() function

The warning is repeated ad nauseum.

The following changes seem needed:
(1) Make <number=6> and <overlap=0.5> named arguments
    to coplot.  (If used as ... parameters, there is an
    attempt to use them as plot parameters, generating the
    warning messages.)

(2) Within the braces following 
    <if(have.b)>
    include the statements

      if(length(number)==1) number<-rep(number,2)      # Add 
      if(length(overlap)==1) overlap<-rep(overlap,2)   # Add 

(3) Change the first invocation of <co.intervals> in <coplot>
    from <else a.intervals <- co.intervals(a)> to

    else a.intervals <- co.intervals(a,number=number[1],overlap=overlap[1]) # Replacement

    and the second invocation from
    from <b.intervals <- co.intervals(b)> to

    else b.intervals <- co.intervals(b,number=number[2],overlap=overlap[2]) # Replacement

(4) One might also check that <number> and <overlap> have
    legal values.

-----------------
Or is there some better way of attending to this?

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Jan 15 14:21:33 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 15 Jan 1999 14:21:33 +0100 (MET)
Subject: [R] my libraries
Message-ID: <199901151321.OAA22151@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1333 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990115/5583c32e/attachment.pl

From Zdenek.Skala at incoma.cz  Fri Jan 15 15:55:17 1999
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Fri, 15 Jan 1999 15:55:17 +0100
Subject: [R] font in boxplot
Message-ID: <199901151450.PAA17240@benes.incoma.cz>

Hi all,
I am working with rw0630 (Win95).
> boxplot(d, font.axis=1)
> boxplot(d, font.axis=2)
> boxplot(d, font.axis=3)
> boxplot(d, font.axis=4)
all gives the same result - the plain font, while in plot() font.axis works OK.
Is this a bug or am I missing something?
Thanks!
Zdenek

++++++++++++++++++++++
Zdenek Skala
e-mail:
Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jan 15 15:56:11 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 15 Jan 1999 08:56:11 -0600
Subject: [R] Transferring data from S+ to R
In-Reply-To: Simon Fear's message of "Fri, 15 Jan 1999 10:08:29 -0000"
References: <B7F24F2B48ACD11196F600805FC7F4300629EB@pdc.rc.liv.ac.uk>
Message-ID: <6rogo0zit0.fsf@verdi.stat.wisc.edu>

>>>>> "Simon" == Simon Fear <fears at roycastle.liv.ac.uk> writes:

  Simon> Not that I have got it quite right yet though; I still
  Simon> haven't worked out how to make, for example,

  Simon> var1 <- rnorm(10000)

  Simon> not create a new instance, eating 10000 globs of memory,
  Simon> every time it is called within a loop;

I think if you make the construction look like

 var1 <- double(10000)
 for (i in 1:niter) {
   var1[] <- rnorm(10000)  # replacement rather than assignment
   ...
 }

you avoid the multiple copies.  I haven't tested this particular case
but the basic idea is that replacement of elements of a vector is done
in-place, if possible, and not be creating a new object.  Assignment
to a name will usually result in a new object being created in a way
that masks the previous objects with that name. 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jan 15 19:12:26 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 15 Jan 1999 19:12:26 +0100
Subject: [R] Bug in coplot()
In-Reply-To: <199901151041.VAA18168@leonard.anu.edu.au> (message from John
	Maindonald on Fri, 15 Jan 1999 21:41:05 +1100 (EST))
Message-ID: <199901151812.TAA21418@sophie.ethz.ch>

I've committed a fixed version of coplot 
to the Release-patches.
These should become available in CRAN../src/devel/R-release.*
by Sunday (or Monday?) (or in the next release of R...).

The patches include John's proposed fixes and a few more..
For the help file, I'm looking for interesting examples
(with default data sets or generated ones), especially when the
conditioning variable(s) is a (/are) factor(s).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jan 15 20:58:05 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: Fri, 15 Jan 1999 13:58:05 -0600 (CST)
Subject: [R] Debian package for R-0.63.2
Message-ID: <m101FNd-0000XBC@verdi.stat.wisc.edu>

I have uploaded a Debian GNU/Linux package for R-0.63.2 to the
standard Debian mirrors (in the unstable distribution) and to the CRAN
mirror
	   http://cran.stat.wisc.edu/bin/linux/debian/2.1/
It should hit the other CRAN mirrors within two days.

The lintian checker for Debian packages complains that this package
was compiled with a bad libc.  I have not been able to verify this.  I
think lintian may be wrong.

I would appreciate it if someone could test out the installation of
this package and tell me if it fails for you.  I have not been able to
make it fail myself.

I believe this will only install under Debian 2.1, which is still in
the pre-release "frozen" state.  I suspect there will be conflicts
with library versions in Debian 2.0.  Again, I would appreciate it if
someone could verify this for me.  I can try to make a 2.0 package of
R-0.63.2 but I'm not sure if I have any machines still running 2.0 on
which to build it.  If someone else wants to build from the sources on
a Debian 2.0 system I can describe to you how to do it.  It is fairly
straightforward.  In fact, since the debian directory is included with
the R source tree it may be enough to unpack the sources, cd to the
directory R-0.63.2 and run 
  dpkg-buildpackage -rfakeroot -us -uc -b
You would need to have the fakeroot package installed to do this.  If
it works it will build r-base_0.63.1-1_i386.deb in the parent
directory.  If you want to get the right number for the package, edit
the file debian/changelog.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sun Jan 17 05:23:25 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 17 Jan 1999 15:23:25 +1100 (EST)
Subject: [R] [R} coplot
Message-ID: <199901170423.PAA29642@leonard.anu.edu.au>

I've sent Martin Maechler details of a couple more bugs.

(1) The line columns <- nrow(b.intervals) is wrong.  It should be

    columns <- nrow(a.intervals)

(2) Following each of the lines that generate values for id, one needs
    if (any(is.na(id))) id[is.na(id)] <- FALSE
This is to deal with missing values in conditioning variables.

I have made several sugegstions about warnings when there are missing
values and labelling when show.given is FALSE.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Mon Jan 18 05:45:20 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Mon, 18 Jan 1999 04:45:20 +0000 (GMT)
Subject: [R] Colo*u*rs
Message-ID: <Pine.LNX.3.95.990118044139.3271A-100000@mercury.quantex>

Hi

(Apart from the US spelling!)  Is there a way of switching the colours off
when plotting?  I am only using an 8-bit display because I like to trade
resolution given memory.  With various windows open (ie Netscape and stuff
up as well) I keep getting 'color allocation error' when all I want is a
monochrome plot!  I have tried setting rainbow(1,gamma=0) which returns
#FFFFFF but it still happens. 

\John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Mon Jan 18 05:12:02 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Mon, 18 Jan 1999 04:12:02 +0000 (GMT)
Subject: [R] Program advice
Message-ID: <Pine.LNX.3.95.990118035123.3090A-100000@mercury.quantex>

Hi

Starting to use R as a serious tool, I have come across a programming
problem that I can't see the answer too yet.  Can someone advise me plese.

The problem is that I want to plot a series of lines which represent short
term growths.  All the data is in a single vector and I can indicate
the index via a second vector.  In GLIM, if the second vector is a factor,
a single $GRA Size Year Item instruction will do it with a factor

Example data:
Item    Size  Year
1       0     1980
1       10    1981
1       14    1982
1       20    1983
1       25    1984
1       30    1985
2       0     1980
2       5     1981
2       6     1982
2       8     1984
3       0     1984
3       2     1985
4       0     1980
4       20    1981
4       30    1982
4       30    1984
4       35    1985

This should produce 4 jagged lines on a plot, some shorter than others.

So far, I can see no simple equivalent of the $GRA instruction with the
factors but presumably the trick is to fill up a matrix with the data in a
rather ugly loop storing the row number and incrementing on a change in
Item.  Ensure that the matrix is NA-filled first and then use matplot to
do the graph.

So (a) is there an alternative and (b) is there a single assignment that
will copy the Size vector into a matrix of some sort?  The only way I can
see to do the latter is equally messy!

Sorry to bother - I have an antipathy to ugly coding where something
elegant will do!  Perhaps a coding therapist is in order?

\John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fears at roycastle.liv.ac.uk  Mon Jan 18 11:10:19 1999
From: fears at roycastle.liv.ac.uk (Simon Fear)
Date: Mon, 18 Jan 1999 10:10:19 -0000
Subject: [R] Transferring data from S+ to R
Message-ID: <B7F24F2B48ACD11196F600805FC7F4300629F1@pdc.rc.liv.ac.uk>

In rw0631 I find that even the unsubscripted version does not hugely
increase workspace requirements - i.e. R *does* instantly clear out the
useless copies and make looping memory-feasible.

Apologies. I don't know if it's becuase I'm running a later version now,
or whether I made some stupid mistake last time I tried it.

Simon Fear


-----Original Message-----
From: Douglas Bates [mailto:bates at stat.wisc.edu]
Sent: 15 January 1999 14:56
To: Simon Fear
Cc: r-help at stat.math.ethz.ch; 'Jim Lindsey'
Subject: Re: [R] Transferring data from S+ to R


>>>>> "Simon" == Simon Fear <fears at roycastle.liv.ac.uk> writes:

  Simon> Not that I have got it quite right yet though; I still
  Simon> haven't worked out how to make, for example,

  Simon> var1 <- rnorm(10000)

  Simon> not create a new instance, eating 10000 globs of memory,
  Simon> every time it is called within a loop;

I think if you make the construction look like

 var1 <- double(10000)
 for (i in 1:niter) {
   var1[] <- rnorm(10000)  # replacement rather than assignment
   ...
 }

you avoid the multiple copies.  I haven't tested this particular case
but the basic idea is that replacement of elements of a vector is done
in-place, if possible, and not be creating a new object.  Assignment
to a name will usually result in a new object being created in a way
that masks the previous objects with that name. 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Mon Jan 18 12:05:32 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Mon, 18 Jan 1999 12:05:32 +0100
Subject: [R] Re: Other core dumps, with apologies
In-Reply-To: <x2emotzrex.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Sun, Jan 17, 1999 at 07:27:02PM +0100
References: <01J6N8O8BIHE0000VI@bentley.edu> <x2emotzrex.fsf@blueberry.kubism.ku.dk>
Message-ID: <19990118120532.01745@hal.stat.unipd.it>

On Sun, Jan 17, 1999 at 07:27:02PM +0100, Peter Dalgaard BSA wrote:
> Norm Josephy <NJOSEPHY at bentley.edu> writes:
> > There are two other places where I have induced a core dump.
> > 
> > x1 <- 1:10
> > f1 <- cut(x,5); f2 <- cut(x,4); f3 <- cut(x,3)
> > as.matrix(list(f1,f2,f3))
> > ----------------------------------------------------
   This appears to have been fixed in 0.63.2 (I tested both under
   Linux and under a 'just this morning compiled' Windows version (that I will 
   make available during the week). 
> > 
> > Just after start-up, as the first expression issued:
> > 
> > strwidth("abcd")
> > -----------------------------------------------------
  Only tested under Linux. Problem seems due to the initialization of fonts,
  i.e., 
  if no graphics device is open -> segmentation fault
  if a graphics device is open but is 'virgin'=no font yet used->
            strwidth("abcd")=INF
  after some plotting -> rigth results.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 18 12:33:44 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jan 1999 12:33:44 +0100
Subject: [R] Program advice
In-Reply-To: John Logsdon's message of Mon, 18 Jan 1999 04:12:02 +0000 (GMT)
References: <Pine.LNX.3.95.990118035123.3090A-100000@mercury.quantex>
Message-ID: <x2ww2kolwn.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> Example data:
> Item    Size  Year
> 1       0     1980
> 1       10    1981
> 1       14    1982
> 1       20    1983
> 1       25    1984
> 1       30    1985
> 2       0     1980
> 2       5     1981
> 2       6     1982
> 2       8     1984
> 3       0     1984
> 3       2     1985
> 4       0     1980
> 4       20    1981
> 4       30    1982
> 4       30    1984
> 4       35    1985
> 
> This should produce 4 jagged lines on a plot, some shorter than others.
> 
> So far, I can see no simple equivalent of the $GRA instruction with the
> factors but presumably the trick is to fill up a matrix with the data in a
> rather ugly loop storing the row number and incrementing on a change in
> Item.  Ensure that the matrix is NA-filled first and then use matplot to
> do the graph.

Hmm... Best I could think of till now was:

 dfr<-read.table("/tmp/data",header=T)
 evalq(plot(Year,Size,type='n'),dfr)
 invisible(lapply(split(dfr,dfr$Item), 
	function(d)evalq(lines(Year,Size,lty=Item),d)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Jan 18 11:50:22 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 18 Jan 1999 21:50:22 +1100
Subject: [R] Selecting a subgroup
Message-ID: <36A311EE.A7C171D5@ozemail.com.au>

		

I use the following function to select a subgroup from a data vector
(usually to calculate descriptive stats).

select.range<-function (groupvec, min, max, data)
{
    if (nargs() > 3) {
        min.cond <- groupvec >= min
        max.cond <- groupvec < max
        cond <- min.cond & max.cond
        selected <- na.remove(ifelse(cond, data, NA))
        invisible(selected)
    }
    else cat("Usage: select.range(groupvec,min,max,datavec)\n")
}

e.g.

> tdata.df<-read.table("tdata",header=T,sep=",")
> tdata.df
   group value year
1      1     0 1980
2      1    10 1981
3      1    14 1982
4      1    20 1983
5      1    25 1984
6      1    30 1985
7      2     0 1980
8      2     5 1981
9      2     6 1982
10     2     8 1984
11     3     0 1984
12     3     2 1985
13     4     0 1980
14     4    20 1981
15     4    30 1982
16     4    30 1984
17     4    35 1985
> value1<-select.range(tdata.df$group,1,1.1,tdata.df$value)
> value1
[1]  0 10 14 20 25 30

Note that you cannot use 1,1 as the range - you'll get an empty result.

Apologies if it's not sufficiently elegant.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From khal at alumni.uv.es  Mon Jan 18 16:36:17 1999
From: khal at alumni.uv.es (Kjetil Halvorsen)
Date: Mon, 18 Jan 1999 16:36:17 +0100
Subject: [R] Recover
Message-ID: <36A354F0.81818BBD@alumni.uv.es>

Is there an R parallell of the S interface function Recover?
The S.h have defined a macro RECOVER, but it takes only one argument
while Recover needs 2.  


Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Jan 18 16:57:09 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Jan 1999 09:57:09 -0600
Subject: [R] Program advice
In-Reply-To: Peter Dalgaard BSA's message of "18 Jan 1999 12:33:44 +0100"
References: <Pine.LNX.3.95.990118035123.3090A-100000@mercury.quantex> <x2ww2kolwn.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rognwbmlm.fsf@verdi.stat.wisc.edu>

>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

  Peter> John Logsdon <j.logsdon at lancaster.ac.uk> writes:
  >> Example data: Item Size Year 1 0 1980 1 10 1981 1 14 1982 1 20
  >> 1983 1 25 1984 1 30 1985 2 0 1980 2 5 1981 2 6 1982 2 8 1984 3 0
  >> 1984 3 2 1985 4 0 1980 4 20 1981 4 30 1982 4 30 1984 4 35 1985
  >> 
  >> This should produce 4 jagged lines on a plot, some shorter than
  >> others.
  >> 
  >> So far, I can see no simple equivalent of the $GRA instruction
  >> with the factors but presumably the trick is to fill up a matrix
  >> with the data in a rather ugly loop storing the row number and
  >> incrementing on a change in Item.  Ensure that the matrix is
  >> NA-filled first and then use matplot to do the graph.

  Peter> Hmm... Best I could think of till now was:

  Peter>  dfr<-read.table("/tmp/data",header=T)
  Peter> evalq(plot(Year,Size,type='n'),dfr)
  Peter> invisible(lapply(split(dfr,dfr$Item),
  Peter> function(d)evalq(lines(Year,Size,lty=Item),d)))

A variant on this is to use the gapply function from the lme library.
This function applies a function to the subgroups of a data frame that
contains a grouping variable.

R> library( lme )
R> ydat <- read.table( "y.dat", header = TRUE )
R> plot( value ~ year, data = ydat, type = "n" )
R> gapply( ydat, function(x) lines(x$year, x$value), form = ~ group )

If you convert the data frame into a groupedData object you can make
such a plot nearly a one-liner with the plot functions for groupedData
_except_ that those plots don't work in R.  They depend on trellis
graphics functions that are not (and probably won't be) available in R.

Sorry to tantalize but here is how you would get a trellis plot of
value ~ year by group in S with the nlme library

S> ydat <- groupedData( value ~ year | group, read.table("/tmp/ydat.dat"
+   , header = TRUE))
S> trellis.device( motif )
S> plot( ydat )

If someone with a bit of time on their hands would write a function in
R using coplot that implemented some of the capabilities of the
trellis function xyplot, it would be possible to do this in R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Tue Jan 19 14:26:31 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Tue, 19 Jan 1999 07:26:31 -0600 (CST)
Subject: [R] axis labels and ticks in persp
Message-ID: <Pine.LNX.3.96.990119071208.2085A-100000@cbe207.gcal.ac.uk>

1. This doesn't work
persp(x,y,z,col="grey",xlab="x",ylab="y",zlab="z")
but I can get axis lables on x and y by
persp(x,y,z,col="grey")
title(xlab="x", ylab="y")
BUT I can't figure out how to get a label for z. How to do it?

2. To be be consistent with image(), I think persp should make z the axis
it now calls y (and vice versa). By this I mean that image() is just a
view of the same object except from exactly overhead (on the z axis), and
this z axis is called y by persp.

3. How can I get ticks and associated tick labels on all the axes as is
done by default by plot(x,y) or image(x,y,z)?

Thanks very much for any help!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbuerkle at bio.indiana.edu  Tue Jan 19 16:04:31 1999
From: cbuerkle at bio.indiana.edu (Alex Buerkle)
Date: Tue, 19 Jan 1999 10:04:31 -0500 (EST)
Subject: [R] r-help[Q]:  use of `expression' in annotation
Message-ID: <Pine.LNX.4.04.9901190952260.799-100000@tortoise.bio.indiana.edu>


Dear r-helpers,

I have some multiplot figures that I would like to annotate.  To each plot
frame I would like to add the associated correlation coefficients.  To do
so, I believe I need to understand the usage of `expression' better.  

The following is a good start.

  petstring <- expression(paste(r[rho*p],"=" ))
  mtext(petstring, line=0.3, adj=0.1, cex=0.8) 

My question is, how can I interpolate a variable into this expression?  

I would like petstring to contain r[rho*p] = peti, where peti is the corr.
coefficient that would vary across panes in the figure.  I have tried
various combinations of paste and expression and have not hit on the right
combination (instead I usually get peti as a literal rather than a
variable).

Thanks, Alex Buerkle

~^^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^
C. Alex Buerkle                 Ph:  812-855-9018
Jordan Hall 142                 Fax: 812-855-6705
Department of Biology           
Indiana University
Bloomington, IN 47405    cbuerkle at bio.indiana.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Jan 19 16:26:10 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 19 Jan 1999 15:26:10 +0000 (BST)
Subject: [R] axis labels and ticks in persp
In-Reply-To: <Pine.LNX.3.96.990119071208.2085A-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.GSO.3.95.990119152330.18068B-100000@scooter.gcal.ac.uk>

> 2. To be be consistent with image(), I think persp should make z the axis
> it now calls y (and vice versa). By this I mean that image() is just a
> view of the same object except from exactly overhead (on the z axis), and
> this z axis is called y by persp.
Sorry, I see now that this behaviour is caused by
title(ylab="y")
which just puts the y-axis label in the wrong place for a 3D plot
(persp's z-axis). So this method of adding axis labels doesn't work very
well for persp() plots.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 19 17:56:47 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jan 1999 17:56:47 +0100
Subject: [R] r-help[Q]:  use of `expression' in annotation
In-Reply-To: Alex Buerkle's message of Tue, 19 Jan 1999 10:04:31 -0500 (EST)
References: <Pine.LNX.4.04.9901190952260.799-100000@tortoise.bio.indiana.edu>
Message-ID: <x2u2xnqjzk.fsf@blueberry.kubism.ku.dk>

Alex Buerkle <cbuerkle at bio.indiana.edu> writes:

> I would like petstring to contain r[rho*p] = peti, where peti is the corr.
> coefficient that would vary across panes in the figure.  I have tried
> various combinations of paste and expression and have not hit on the right
> combination (instead I usually get peti as a literal rather than a
> variable).

Consider the following:

plot(0:11,type='n')
for (x in 1:10) 
   text(x,x,as.expression(substitute(r[rho*p] == peti,list(peti=x/10))))

[which probably also indicates that the as.char.or.expr() function
used inside text() could use modification! The as.expression bit
should be avoidable on objects of mode call.]
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bodo.Ahrens at univie.ac.at  Wed Jan 20 12:25:00 1999
From: Bodo.Ahrens at univie.ac.at (Bodo Ahrens)
Date: Wed, 20 Jan 1999 12:25:00 +0100
Subject: [R] Installation of packages?
Message-ID: <36A5BD0C.72372A60@univie.ac.at>

Dear r-helpers,

we have installation problems:

Successful installation of R-0.63 base package on Solaris 2.5.1 with the
SunSoft compilers f77, c version 4.2.
We habe problems with the installation of further packages e.g.
integrate from CRAN.
R code works but the shared objects built from fortran code do not find
the appropriate libs with functions like  __pow_ii or __epx at runtime.

We tried to give -R -L -l options to the loader editing config.status
(config.site editing shows no reaction), but this doesn't help.

Hopefully a simple mistake done by us. Thanks.

Bodo Ahrens



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Jan 20 14:24:50 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 20 Jan 1999 14:24:50 +0100 (MET)
Subject: [R] offset nackered
Message-ID: <199901201324.OAA13501@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 774 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990120/a4a2918e/attachment.pl

From p.dalgaard at biostat.ku.dk  Wed Jan 20 14:39:02 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jan 1999 14:39:02 +0100
Subject: [R] Installation of packages?
In-Reply-To: Bodo Ahrens's message of Wed, 20 Jan 1999 12:25:00 +0100
References: <36A5BD0C.72372A60@univie.ac.at>
Message-ID: <x267a2qd1l.fsf@blueberry.kubism.ku.dk>

Bodo Ahrens <Bodo.Ahrens at univie.ac.at> writes:

> Dear r-helpers,
> 
> we have installation problems:
> 
> Successful installation of R-0.63 base package on Solaris 2.5.1 with the
> SunSoft compilers f77, c version 4.2.
> We habe problems with the installation of further packages e.g.
> integrate from CRAN.
> R code works but the shared objects built from fortran code do not find
> the appropriate libs with functions like  __pow_ii or __epx at runtime.
> 
> We tried to give -R -L -l options to the loader editing config.status
> (config.site editing shows no reaction), but this doesn't help.
> 
> Hopefully a simple mistake done by us. Thanks.

I'm afraid this is more likely because noone on the development team
has the Sun (payware) compilers. 

If you or anyone else get it figured out, we'd be happy to install the
solution. 

There are a bit too many things that could go wrong (would you know
how to do things with Splus, BTW?) to give any real help, I'm afraid.
One thing, though: the proper procedure for a local reconfiguration is
to edit config.site, *make distclean* or at the very least remove
config.cache, configure, and rebuild.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Wed Jan 20 16:37:02 1999
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Wed, 20 Jan 1999 09:37:02 -0600 (CST)
Subject: [R] Installation of packages?
In-Reply-To: <36A5BD0C.72372A60@univie.ac.at>
Message-ID: <ML-3.4.916846622.6838.gordon@localhost>

Without tracing the loader system calls and knowing where the functions are
located I can only speculate on the problem. However, at least with earlier Sun
compilers, one needs to be careful that the compilers lib is ahead of the
system libs in LD_LIBRARY_PATH.

gordon

On 20-Jan-99 at 05:28, Bodo Ahrens (Bodo.Ahrens at univie.ac.at) wrote:
> Dear r-helpers,
> 
> we have installation problems:
> 
> Successful installation of R-0.63 base package on Solaris 2.5.1 with the
> SunSoft compilers f77, c version 4.2.
> We habe problems with the installation of further packages e.g.
> integrate from CRAN.
> R code works but the shared objects built from fortran code do not find
> the appropriate libs with functions like  __pow_ii or __epx at runtime.
> 
> We tried to give -R -L -l options to the loader editing config.status
> (config.site editing shows no reaction), but this doesn't help.
> 
> Hopefully a simple mistake done by us. Thanks.
> 
> Bodo Ahrens


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 20 19:08:34 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 20 Jan 1999 10:08:34 -0800 (PST)
Subject: [R] Installation of packages?
In-Reply-To: <x267a2qd1l.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9901200825460.17800-100000@wompom.biostat.washington.edu>

On 20 Jan 1999, Peter Dalgaard BSA wrote:

> Bodo Ahrens <Bodo.Ahrens at univie.ac.at> writes:
> 
> > Dear r-helpers,
> > 
> > we have installation problems:
> > 
> > Successful installation of R-0.63 base package on Solaris 2.5.1 with the
> > SunSoft compilers f77, c version 4.2.
> > We habe problems with the installation of further packages e.g.
> > integrate from CRAN.
> > R code works but the shared objects built from fortran code do not find
> > the appropriate libs with functions like  __pow_ii or __epx at runtime.
> > 
> > We tried to give -R -L -l options to the loader editing config.status
> > (config.site editing shows no reaction), but this doesn't help.


If you need to change options after configure (which is a bad idea) you
 need to edit Makeconf and etc/Makeconf rather than config.status.

I found that Sun f77 on Solaris 2.5.1 needed -R and -L options pointing to
the Sun Fortran libraries (in /opt/SUNWspro/lib on my system).

I still use Sun f77 but now on Solaris 2.6 and it seems to work
automatically.
	

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Jan 20 19:16:00 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 20 Jan 1999 18:16:00 +0000 (GMT)
Subject: [R] Inherit names ...
Message-ID: <Pine.LNX.3.95.990120175721.1523A-100000@mercury.quantex>

No doubt an easy answer to this exists.

I have a data frame which comprises 4 matrices and 2 vectors:

year(1024,6),growth(1024,6),ycens(1024,6),gcens(1024,6),yinit(1024),ginit(1024)

The names of the 26 columns get denoted as y.1 to y.6, g.1 to g.6, yc.1 to
yc.6, gc.1 to gc.6, yi and gi as these are the internal names.

I wish to make a subset of the data using the logical vector R1(length
1024) so that only the cases where R1 is TRUE are included.  I can do this
by:

R1data<-alldata[R1]

that gives a vector 7800 long (there are 300 TRUE's in R1) so I do

R1data<-as.data.frame(alldata[R1])

which gives a matrix 7800x1

so I write:

R1data<-alldata[R1];dim(R1data)<-c(300,26)

which gives the data in the right form except I haven't inherited the
names at all.  

(a) How to do that?  

(b) Is there a convenient one-liner (or more) where I can just write
something like the first expression (which is intuitive) but where it can
inherit the column names (and possibly further attributes)

(c) Is there a way within a data frame to refer conveniently to a group of
columns (ie one of the constituent matrices in the case above)? 

TIA

\John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 20 20:30:33 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 20 Jan 1999 11:30:33 -0800 (PST)
Subject: [R] Inherit names ...
In-Reply-To: <Pine.LNX.3.95.990120175721.1523A-100000@mercury.quantex>
Message-ID: <Pine.GSO.4.03.9901201127030.17800-100000@wompom.biostat.washington.edu>

On Wed, 20 Jan 1999, John Logsdon wrote:

> No doubt an easy answer to this exists.
> 
> I have a data frame which comprises 4 matrices and 2 vectors:
> 
> year(1024,6),growth(1024,6),ycens(1024,6),gcens(1024,6),yinit(1024),ginit(1024)
> 
> The names of the 26 columns get denoted as y.1 to y.6, g.1 to g.6, yc.1 to
> yc.6, gc.1 to gc.6, yi and gi as these are the internal names.
> 
> I wish to make a subset of the data using the logical vector R1(length
> 1024) so that only the cases where R1 is TRUE are included.  I can do this
> by:
> 
> R1data<-alldata[R1]

R1data<-alldata[R1,] is what you want (note the comma)

 
> (c) Is there a way within a data frame to refer conveniently to a group of
> columns (ie one of the constituent matrices in the case above)? 
> 

	alldata[,c(1,3,5,11:20)]
would give the first, third, fifth, and eleventh through twentieth
columns, or you can refer to them by name: eg
	alldata[,c("y.2","gc.4","gi")]



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bodo.Ahrens at univie.ac.at  Thu Jan 21 11:12:46 1999
From: Bodo.Ahrens at univie.ac.at (Bodo Ahrens)
Date: Thu, 21 Jan 1999 11:12:46 +0100
Subject: [R] DONE: Installation of packages?
Message-ID: <36A6FD9E.392D637A@univie.ac.at>

Dear helpers,

thanks. Installation of R and packages (like integrate) successful done. The
LD_LIBRARY_PATH wasn't set in the correct order: system libs ahead of the compiler
lib.

Cross checks provided by Brian Ripley, Oxford, helped a lot.

Yours

Bodo

gordon.harrington at uni.edu wrote:

> Without tracing the loader system calls and knowing where the functions are
> located I can only speculate on the problem. However, at least with earlier Sun
> compilers, one needs to be careful that the compilers lib is ahead of the
> system libs in LD_LIBRARY_PATH.
>
> gordon
>
> On 20-Jan-99 at 05:28, Bodo Ahrens (Bodo.Ahrens at univie.ac.at) wrote:
> > Dear r-helpers,
> >
> > we have installation problems:
> >
> > Successful installation of R-0.63 base package on Solaris 2.5.1 with the
> > SunSoft compilers f77, c version 4.2.
> > We habe problems with the installation of further packages e.g.
> > integrate from CRAN.
> > R code works but the shared objects built from fortran code do not find
> > the appropriate libs with functions like  __pow_ii or __epx at runtime.
> >
> > We tried to give -R -L -l options to the loader editing config.status
> > (config.site editing shows no reaction), but this doesn't help.
> >
> > Hopefully a simple mistake done by us. Thanks.
> >
> > Bodo Ahrens
>
> Gordon M. Harrington            Mail:   3720 Village Place, #6308
> Professor Emeritus                      Waterloo, IA 50702-5848
> University of Northern Iowa     Phone:  319-291-8535
> gordon.harrington at uni.edu       Fax:    319-291-8324

--
Dr. Bodo Ahrens
Institut fuer Meteorologie und Geophysik, Universitaet Wien
Hohe Warte 38, A-1190 Wien
Tel.: +43 1 36026 3007, Fax : +43 1 36026 3020
E-mail: Bodo.Ahrens at univie.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jan 21 16:44:04 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 Jan 1999 09:44:04 -0600
Subject: [R] Re: help with R/S functions on nonpar. regression
In-Reply-To: "Jose Ramon G. Albert"'s message of "Thu, 21 Jan 1999 18:55:25 +0800"
References: <36A7079C.67DED3D8@info.com.ph>
Message-ID: <6rvhi0ocl7.fsf@verdi.stat.wisc.edu>

>>>>> "Jose" == Jose Ramon G Albert <toots at info.com.ph> writes:

  Jose> I have just downloaded this freeware version of R (which seems
  Jose> to be a clone of S).  I was wondering if anyone knows where I
  Jose> could obtain R or S functions which provide nonparametric
  Jose> regression curves, e.g. kernel estimators or smoothing
  Jose> splines.

  Jose> Any help will be greatly appreciated.

  Jose> -Jose Ramon Albert Manila, Philippines

There is a mailing list r-help at stat.math.ethz.ch for questions like
this on R.  You may want to subscribe to that list and send future
queries about R there.

To answer your current question, I believe Brian Ripley's modreg
library for R has some of the capabilities you wish.

> library(help=modreg)
ksmooth                  Kernel Regression Smoother
loess                    Local Polynomial Regression Fitting
loess.control            Set Parameters for Loess
loess.smooth		 Simple Smoothing via Loess
plot.ppr                 Plot Ridge Functions for Projection Pursuit
                           Regression Fit
ppr                      Projection Pursuit Regression
predict.loess            Predict Loess Curve or Surface
predict.smooth.spline    Predict from Smoothing Spline Fit
scatter.smooth           Scatter Plot with Smooth Curve Fitted by Loess
smooth.spline            Fit a Smoothing Spline
supsmu                   Friedmans's SuperSmoother

Check on any Comprehensive R Archive Network (CRAN) site for
information on obtaining R libraries and subscribing to the lists.
The master CRAN site is
		      http://www.ci.tuwien.ac.at/R/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Thu Jan 21 17:38:39 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Thu, 21 Jan 1999 08:38:39 -0800 (PST)
Subject: [R] Invalid tag in name extraction
Message-ID: <Pine.GSO.4.03.9901210823300.25721-100000@wompom.biostat.washington.edu>


Hi,

I've been trying to run a rather long MCMC simulation using R.
Unfortunately, I keep getting an error "Error: invalid tag in name
extraction" which halts the execution.  

I'll try to track down exactly where this is occuring, but it is not
consistent, so it is difficult to isolate.  Any ideas?

-Greg


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From K.E.Vorloou at durham.ac.uk  Thu Jan 21 18:18:57 1999
From: K.E.Vorloou at durham.ac.uk (Konstantinos Euripides Vorloou)
Date: Thu, 21 Jan 1999 17:18:57 +0000
Subject: [R] R and WaveThresh
Message-ID: <36A76181.FA93CD65@durham.ac.uk>

Dear R-help list members,

Has anybody out there been using WaveThresh for R ?

I am experiencing some problems with the installation
(under Slackware 3.6) of the library and I would appreciate some help.

Best regards,
Costas

--
---------------------------------------------------------------------
Konstantinos E. Vorloou           | Tel: +44 (0)191 374 1821
Dept. of Economics & Finance      | Fax: +44 (0)191 374 7289
University of Durham,             | email: K.E.Vorloou at durham.ac.uk
23/26 Old Elvet,                  | or : vorlow at rocketmail.com
Durham DH1 3HY,                   | ---------------------------------
UK.                               | http://www.durham.ac.uk/~dec3kev
http://www.durham.ac.uk/Economics | ICQ: 20595534
---------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venkat at biosta.mskcc.org  Thu Jan 21 18:29:07 1999
From: venkat at biosta.mskcc.org (Ennapadam Venkatraman)
Date: Thu, 21 Jan 1999 12:29:07 -0500
Subject: [R] Pairlist & Dataframe
Message-ID: <9901211729.AA01627@biosta.mskcc.org>

Is this a feature/bug or am I missing something:

    R : Copyright 1999, The R Development Core Team
    Version 0.63.2  (January 12, 1999)
    ......
    
    > ls()     
    character(0)
    > x <- NULL
    > x$x1 <- rnorm(10)
    > x$x2 <- rnorm(10)
    > mode(x)
    [1] "pairlist"
    > as.data.frame(x)
    Error: can't coerce pairlist into a data.frame

Thanks,
E. S. Venkatraman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 21 18:51:48 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jan 1999 18:51:48 +0100
Subject: [R] Pairlist & Dataframe
In-Reply-To: Ennapadam Venkatraman's message of Thu, 21 Jan 1999 12:29:07 -0500
References: <9901211729.AA01627@biosta.mskcc.org>
Message-ID: <x2u2xkikej.fsf@blueberry.kubism.ku.dk>

Ennapadam Venkatraman <venkat at biosta.mskcc.org> writes:

> Is this a feature/bug or am I missing something:
> 
>     R : Copyright 1999, The R Development Core Team
>     Version 0.63.2  (January 12, 1999)
>     ......
>     
>     > ls()     
>     character(0)
>     > x <- NULL
>     > x$x1 <- rnorm(10)
>     > x$x2 <- rnorm(10)
>     > mode(x)
>     [1] "pairlist"
>     > as.data.frame(x)
>     Error: can't coerce pairlist into a data.frame

This is a bug. Pairlists shouldn't show up in "normal" usage. The
workaround is to start off with  x<-list()  instead.

Cc'ed to r-bugs (Congratulations, that makes PR#100, I believe...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Jan 21 18:09:51 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 21 Jan 1999 17:09:51 +0000 (GMT)
Subject: [R] nlm question
Message-ID: <Pine.LNX.3.95.990121170606.464B-100000@mercury.quantex>

Hello again

Is there any way (or an alternative non-linear minimiser) that arguments
to the function called in nlm can be passed in version 0.62.4?  Like (I
believe) nlmin in a well known other program or optimise in R.  Do we use
global variables?  Shurely not!

\John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 21 19:56:03 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jan 1999 19:56:03 +0100
Subject: [R] nlm question
In-Reply-To: John Logsdon's message of Thu, 21 Jan 1999 17:09:51 +0000 (GMT)
References: <Pine.LNX.3.95.990121170606.464B-100000@mercury.quantex>
Message-ID: <x2r9soihfg.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> Hello again
> 
> Is there any way (or an alternative non-linear minimiser) that arguments
> to the function called in nlm can be passed in version 0.62.4?  Like (I
> believe) nlmin in a well known other program or optimise in R.  Do we use
> global variables?  Shurely not!
> 
> \John

At the end of the Description for nlm we have:

        This is a preliminary version of this function and it
        will probably change.

..which is probably the point. Adding ... arguments should be pretty
obvious (unless the names clash with any of all the *other* args!)
after a peek at the way it is done in optimize: Just replace f in

    .Internal(nlm(f, p, .....

with function(p)f(p,...)

I can't see why it shouldn't work here as well.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jan 21 19:53:03 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 Jan 1999 12:53:03 -0600
Subject: [R] nlm question
In-Reply-To: John Logsdon's message of "Thu, 21 Jan 1999 17:09:51 +0000 (GMT)"
References: <Pine.LNX.3.95.990121170606.464B-100000@mercury.quantex>
Message-ID: <6ru2xkmp9s.fsf@verdi.stat.wisc.edu>

>>>>> "John" == John Logsdon <j.logsdon at lancaster.ac.uk> writes:

  John> Hello again Is there any way (or an alternative non-linear
  John> minimiser) that arguments to the function called in nlm can be
  John> passed in version 0.62.4?  Like (I believe) nlmin in a well
  John> known other program or optimise in R.  Do we use global
  John> variables?  Surely not!

I think the preferred answer is to use function closures.  See demo(scoping).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bacon at aerodyne.com  Thu Jan 21 20:04:57 1999
From: bacon at aerodyne.com (bacon@aerodyne.com)
Date: Thu, 21 Jan 1999 14:04:57 -0500 (EST)
Subject: [R] hdf5 config test in R-0.63.2
Message-ID: <199901211903.OAA11161@aerodyne.com>

I just tried to build R-0.63.2 on my mklinux machine and noticed a
problem with the configure script.

First, configure tests for the library libhdf5, then it tests for the
libz library.  Since libhdf5 depends on libz, the libhdf5 test fails
even when it is present.  

Later in the configuration script, there is a test for hdf5.h. If this
file is found, then support for HDF5 is enabled.  However, since the
test for libhdf5 failed, it isn't in the list of libraries to be linked.
As a result, the build fails because the libhdf5 function calls are
unresolved.

The solution would be to move the libz test ahead of the libhdf5 test,
and make the libhdf5 test contingent upon finding libz.  This should
provide correct autodetection and configuration of libhdf5.

-- 
Fred Bacon

==========================================================================
Aerodyne Research, Inc.                   Phone:   (978) 663-9500 ext. 273
45 Manning Rd.                              FAX:   (978) 663-4918
Billerica, MA  01821-3976                  http://www.aerodyne.com
==========================================================================
                     Me spill chucker woks grate. I needle gramma chicken.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at hermes.ucd.ie  Thu Jan 21 20:04:53 1999
From: yudi at hermes.ucd.ie (yudi@hermes.ucd.ie)
Date: Thu, 21 Jan 1999 19:04:53 +0000 (GMT)
Subject: [R] scoping problem?
Message-ID: <0F5X00KZNBON04@hermes.ucd.ie>

Dear R-helpers: (this is part of a bigger program)
the following fails as a function, but runs OK 
if we comment out the  fnfn_ function()  line.
Any hint would be appreciated.  -Yudi-

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Beta (Nov 13, 1998) -- on WIndows3.11

fnfn _ function (m=10,n=10,spar=2)
{
fn _ function(u,v){
     uc_ u-floor(m/2)-1
     vc_ v-floor(n/2)-1
     exp(-(uc^2 + vc^2)/2/spar^2)
     }
 x1_ 1:m ; x2_ 1:n
 x12 _ outer(x1,x2,FUN='fn')
 filt _ x12/sum(x12)
 image(filt)
}

> source('fnfn.r')       
> m_10; n_10; spar_2
> fnfn(m,n,spar)
Error in get(x, envir, mode, inherits) : variable "fn" was not found

------------------------------
Yudi Pawitan: yudi at ucd.ie
Department of Statistics, UCD
Dublin 4, Ireland
Ph : 353-1-706 7641
Fax: 353-1-706 1186
------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 21 20:24:56 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jan 1999 20:24:56 +0100
Subject: [R] scoping problem?
In-Reply-To: yudi@hermes.ucd.ie's message of Thu, 21 Jan 1999 19:04:53 +0000 (GMT)
References: <0F5X00KZNBON04@hermes.ucd.ie>
Message-ID: <x2ognsig3b.fsf@blueberry.kubism.ku.dk>

yudi at hermes.ucd.ie writes:

> Dear R-helpers: (this is part of a bigger program)
> the following fails as a function, but runs OK 
> if we comment out the  fnfn_ function()  line.
> Any hint would be appreciated.  -Yudi-
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.0 Beta (Nov 13, 1998) -- on WIndows3.11
> 
> fnfn _ function (m=10,n=10,spar=2)
> {
> fn _ function(u,v){
>      uc_ u-floor(m/2)-1
>      vc_ v-floor(n/2)-1
>      exp(-(uc^2 + vc^2)/2/spar^2)
>      }
>  x1_ 1:m ; x2_ 1:n
>  x12 _ outer(x1,x2,FUN='fn')
>  filt _ x12/sum(x12)
>  image(filt)
> }
> 
> > source('fnfn.r')       
> > m_10; n_10; spar_2
> > fnfn(m,n,spar)

You want to get rid of the quotes around fn in the outer() call. If
you pass a text string rather than the actual function, outer() will
go looking for a function of that name in its own lexical scope and fail.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan 21 20:22:20 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Jan 1999 11:22:20 -0800 (PST)
Subject: [R] scoping problem?
In-Reply-To: <0F5X00KZNBON04@hermes.ucd.ie>
Message-ID: <Pine.GSO.4.03.9901211117080.25766-100000@wompom.biostat.washington.edu>

On Thu, 21 Jan 1999 yudi at hermes.ucd.ie wrote:

> Dear R-helpers: (this is part of a bigger program)
> the following fails as a function, but runs OK 
> if we comment out the  fnfn_ function()  line.
> Any hint would be appreciated.  -Yudi-
> 
> R : Copyright 1998, The R Development Core Team
> Version 0.63.0 Beta (Nov 13, 1998) -- on WIndows3.11
> 
> fnfn _ function (m=10,n=10,spar=2)
> {
> fn _ function(u,v){
>      uc_ u-floor(m/2)-1
>      vc_ v-floor(n/2)-1
>      exp(-(uc^2 + vc^2)/2/spar^2)
>      }
>  x1_ 1:m ; x2_ 1:n
>  x12 _ outer(x1,x2,FUN='fn')
>  filt _ x12/sum(x12)
>  image(filt)
> }

In both an old and the current development release you can fix this by
removing the quotes around 'fn', or by using FUN=get("fn",mode="function")

The problem is in outer(), in either the original or the current improved
version. If FUN is a string we use get(FUN,mode="function"), which looks
for FUN in the current environment and all parent environments. The
problem is that "current" here means the environment in outer() or in
match.fun(), not the environment outer() was called from. 

We probably need to fix match.fun() to take an environment parameter and
outer() to then use match.fun(FUN,env=sys.frame(sys.parent()))


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From khal at alumni.uv.es  Thu Jan 21 20:59:16 1999
From: khal at alumni.uv.es (Kjetil Halvorsen)
Date: Thu, 21 Jan 1999 20:59:16 +0100
Subject: [R] Re: R-0.63.2 for Windows - some comments
References: <19990120083700.18164@hal.stat.unipd.it>
Message-ID: <36A78714.7B7A23FB@alumni.uv.es>

Guido:

I just installed the new version, and tried the bug I sent
you some time ago:

attach(mint1)
Fecha[5]

still bombs (this is using the data file I attached
some time ago).

About the output buffering: I'm not sure the ctrl-W  toggling really
works - 
can see no difference!  Would be nice if there shows some sign
somewhere on the screen, the value of the toggle.

And could be nice to be able to control from code too --- there is
one problem no, when using the example() function --- all
output when the example are computed, somewhat contrary to
the spirit if the computations take at all some time. 

so example() should be able to toggle buffering automatically?

Thanks, 

Kjetil
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venkat at biosta.mskcc.org  Thu Jan 21 23:36:06 1999
From: venkat at biosta.mskcc.org (Ennapadam Venkatraman)
Date: Thu, 21 Jan 1999 17:36:06 -0500
Subject: [R] Calling survfit within a function
Message-ID: <9901212236.AA09644@biosta.mskcc.org>

I have a function that generates data and tries to apply the survfit 
within it.  I have tried:

function(..){
x .....
survfit(Surv(tim,sts) ~ grp, data = x, envir = sys.frame(sys.parent()))
}

but I still get "Error: Object "x" not found".  Is there a fix?
(I use R-0.63.2 with the current survival4 package)

Thanks
E. S. Venkatraman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan 21 23:49:59 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Jan 1999 14:49:59 -0800 (PST)
Subject: [R] Calling survfit within a function
In-Reply-To: <9901212236.AA09644@biosta.mskcc.org>
Message-ID: <Pine.GSO.4.03.9901211443050.25766-100000@wompom.biostat.washington.edu>

On Thu, 21 Jan 1999, Ennapadam Venkatraman wrote:

> I have a function that generates data and tries to apply the survfit 
> within it.  I have tried:
> 
> function(..){
> x .....
> survfit(Surv(tim,sts) ~ grp, data = x, envir = sys.frame(sys.parent()))
> }
> 
> but I still get "Error: Object "x" not found".  Is there a fix?
> (I use R-0.63.2 with the current survival4 package)

Are you using the new version in the devel directory?

I tried this and it worked:

R> ff<-function(){
+ dd<-data.frame(tt=1:10,ss=rep(1,10),xx=rep(0:1,5))
+ survfit(Surv(tt,ss)~xx,data=dd)
+ }
R>  ff()
Call: survfit(formula = Surv(tt, ss) ~ xx, data = dd)

Warning in min(..., na.rm = na.rm) : no finite arguments to min/max;
returning extreme.
Warning in min(..., na.rm = na.rm) : no finite arguments to min/max;
returning extreme.
     n events mean se(mean) median 0.95CI 0.95CI
xx=0 5      5    5     1.26      5      3    Inf
xx=1 5      5    6     1.26      6      4    Inf


Adding the envir= argument to survfit() doesn't have any effect and if it
did it would have the wrong effect -- you would be specifying the
environment as the parent of the calling frame.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lgygax at access.unizh.ch  Fri Jan 22 08:03:54 1999
From: lgygax at access.unizh.ch (Lorenz Gygax)
Date: Fri, 22 Jan 1999 08:03:54 +0100 (MET)
Subject: [R] lm with rank-deficient X matrix
Message-ID: <Pine.LNX.3.96.990122075853.237A-100000@iamgygax.unizh.ch>

Dear all,

I would like to fit an lm in which a subset of the explanatory variables
are linearly dependent. Thus I would like to include the restriction that
all betas of these variables sum to 1. Is there a way to this in R? Or is
this what happens automatically if I set singular.ok= T (which is the
default, I believe)? 

Thanks for your help. Lorenz
--			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lorenz Gygax		 LGygax at amath.unizh.ch;       room: 36-L-40
			 Department of Applied Mathematics
			 University of Zuerich-Irchel
			 Winterthurerstr. 190; CH-8057 Zurich
			 voice: 41-1-635-58-52  fax: 41-1-635-57-05
			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Fri Jan 22 08:45:26 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Fri, 22 Jan 1999 08:45:26 +0100
Subject: [R] Re: R-0.63.2 for Windows - some comments
In-Reply-To: <36A78714.7B7A23FB@alumni.uv.es>; from Kjetil Halvorsen on Thu, Jan 21, 1999 at 08:59:16PM +0100
References: <19990120083700.18164@hal.stat.unipd.it> <36A78714.7B7A23FB@alumni.uv.es>
Message-ID: <19990122084526.14474@hal.stat.unipd.it>

On Thu, Jan 21, 1999 at 08:59:16PM +0100, Kjetil Halvorsen wrote:
> Guido:
> 
> I just installed the new version, and tried the bug I sent
> you some time ago:
> 
> attach(mint1)
> Fecha[5]
> 
> still bombs (this is using the data file I attached
> some time ago).
  K., I have this in my to-do debug list. But, I had no time
  to try to understand what happens.
> 
> About the output buffering: I'm not sure the ctrl-W  toggling really
> works - 
> can see no difference!  Would be nice if there shows some sign
> somewhere on the screen, the value of the toggle.
  Here, it works. But, I don't understand why I did this, buffering is
  resetted to 'on' every time a command is completed, i.e., you
  have to type during the execution of the long command. Try
  demo(lm.glm) and then after the standard demo prompt hit Crtl+W.
                        ~~~~~     
  I will correct this point and I find interesting the idea to have
  a "sign" of the status of the flag. Since, GraphApp doesn't manage a status
  line, I am thinking about having a menu-item which  can be used 
  to toggle the flag. The status of the flag can be shown checking/unchecking
  the menu item. What do you think? 
> And could be nice to be able to control from code too --- there is
> one problem no, when using the example() function --- all
> output when the example are computed, somewhat contrary to
> the spirit if the computations take at all some time. 
> 
> so example() should be able to toggle buffering automatically?
  I am unsure about this. I understand the idea, I suppose.
  But, I don't like the idea to have Windows specific command.
  Comments?
  guido 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Jan 22 10:03:10 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 22 Jan 1999 10:03:10 +0100 (MET)
Subject: [R] two questions
Message-ID: <199901220903.KAA32291@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 722 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990122/cea14ffd/attachment.pl

From maechler at stat.math.ethz.ch  Fri Jan 22 10:26:39 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 22 Jan 1999 10:26:39 +0100
Subject: [R] two questions
In-Reply-To: <199901220903.KAA32291@alpha.luc.ac.be> (message from Jim Lindsey
	on Fri, 22 Jan 1999 10:03:10 +0100 (MET))
Message-ID: <199901220926.KAA14606@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

    Jim> 1. Brian has suggested that I check that the proper version of my
    Jim> required library, rmutil, is loaded by the other libraries. Is
    Jim> there any way of checking library versions when loading them?

the library can define a variable "rmutilVersion".
you would do

	library(rmutil)
	if(!exists("rmutilVersion") && rmutilVersion < 2.1)
             stop("You must use at least version 2.1 of the `rmutil' package")

What would be nicer and doesn't exist yet,
is something like

	require(rmutil, version.minimal = 2.1)

    Jim> 2.
    Jim> A year or two ago, there was talk of having an option when .C and
    Jim> .Fortran are used such that copies of the arguments were not
    Jim> made. Has this ever been implemented?

Yes. (Jim, it's too bad you haven't subscribed to R-devel (it was a topic there)
      I still think R package writers should)

help(.Fortran) (or .C)  gives

    Foreign Function Interface

	       .C(name, ..., NAOK=FALSE, DUP=TRUE)
	 .Fortran(name, ..., NAOK=FALSE, DUP=TRUE)

    Arguments:

	.......

	 DUP: if `TRUE' then arguments are ``duplicated'' before
	      their address is passed to C or Fortran.


    ......
    ......

    Note:

	 `DUP=FALSE' is dangerous.

	 There are two important dangers with `DUP=FALSE'. The
	 first is that garbage collection may move the object,
	 resulting in the pointers pointing nowhere useful and
	 causing hard-to-reproduce bugs.

	 The second is that if you pass a formal parameter of
	 the calling function to `.C'/`.Fortran' with
	 `DUP=FALSE', it may not necessarily be copied.  You may
	 be able to change not only the local variable but the
	 variable one level up.  This will also be very hard to
	 trace.

	 1.  If your C/Fortran routine calls back any R function
	 including `S_alloc'/`R_alloc' then do not use
	 `DUP=FALSE'.  Do not even think about it.  Calling
	 almost any R function could trigger garbage collection.

	 2.  If you don't trigger garbage collection it is safe
	 and useful to set `DUP=FALSE' if you don't change any
	 of the variables that might be affected, e.g.,

	 `.C("Cfunction", input=x, output=numeric(10))'.

	 In this case the output variable didn't exist before
	 the call so it can't cause trouble. If the input vari-
	 able is not changed in `Cfunction' you are safe.

---

Inspite of this, I've been entering several  DUP=FALSE
statements in places,  
	 **AFTER careful consideration of the above note**

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jan 22 10:32:37 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 22 Jan 1999 10:32:37 +0100
Subject: typo in [Re: [R] two questions]
In-Reply-To: <199901220926.KAA14606@sophie.ethz.ch> (message from Martin
	Maechler on Fri, 22 Jan 1999 10:26:39 +0100)
Message-ID: <199901220932.KAA14668@sophie.ethz.ch>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

>>>>> "Jim" == Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
    Jim> 1. Brian has suggested that I check that the proper version of my
    Jim> required library, rmutil, is loaded by the other libraries. Is
    Jim> there any way of checking library versions when loading them?

    MM> the library can define a variable "rmutilVersion".
    MM> you would do

    MM> library(rmutil)
    MM> if(!exists("rmutilVersion") && rmutilVersion < 2.1)
    MM>     stop("You must use at least version 2.1 of the `rmutil' package")

``of course'', the "&&" above should be "||" !
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sat Jan 23 00:06:02 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Fri, 22 Jan 1999 17:06:02 -0600 (CST)
Subject: [R] How to get nice trees
Message-ID: <XFMail.990122170602.s-luppescu@uchicago.edu>

I would like to make pretty trees such as the one on page 383 of Chambers and
Hastie, or page 346 of Venables and Ripley. I modified the post.rpart function,
adding splits=T to text(), but the split criteria still don't print. Would
anyone have any advice on this? Thanks.

I'm running version 0.63 on Linux (intel).
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
 (EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
November, n.:
        The eleventh twelfth of a weariness.
                -- Ambrose Bierce, "The Devil's Dictionary"
>> Sent on 22-Jan-99 at 17:01:24 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at gcal.ac.uk  Mon Jan 25 16:22:18 1999
From: wsimpson at gcal.ac.uk (Bill Simpson)
Date: Mon, 25 Jan 1999 09:22:18 -0600 (CST)
Subject: [R] COMMERCIAL: S-PLUS Data Analysis Software now Available on Linux (fwd)
Message-ID: <Pine.LNX.3.96.990125092102.262A-100000@cbe207.gcal.ac.uk>

I thought R users might be interested (surprised) to hear that R will have
some competition on Linux now.

Bill

---------- Forwarded message ----------
Date: Sun, 24 Jan 1999 01:37:15 GMT
From: Cheryl Mauer <cmauer at statsci.com>
Newsgroups: comp.os.linux.announce
Subject: COMMERCIAL: S-PLUS Data Analysis Software now Available on Linux
Followup-To: comp.os.linux.misc

-----BEGIN PGP SIGNED MESSAGE-----


S-PLUS 5 is an advanced data analysis, visualization, and statistical
modeling package designed for researchers, quantitative analysts and
technical professionals. If you would like more information about the
new Linux version please visit:
 
http://www.mathsoft.com/splus/splsprod/splslinux.htm

Cheryl Mauer (cmauer at statsci.com)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lgygax at access.unizh.ch  Mon Jan 25 14:15:30 1999
From: lgygax at access.unizh.ch (Lorenz Gygax)
Date: Mon, 25 Jan 1999 14:15:30 +0100 (MET)
Subject: [R] graphical paramters to boxplot
Message-ID: <Pine.LNX.3.96.990125141114.957A-100000@iamgygax.unizh.ch>

Dear all,

is this a bug or do a miss something (this concerns version 0.63.1 on
Linux)?

> boxplot (c (1, 2, 3, 4, 5), ylim= c (-5, 5))
Warning: parameter "ylim" couldn't be set in high-level plot() function
> boxplot (c (1, 2, 3, 4, 5), pars= list (ylim= c (-5, 5)))
Warning: parameter "ylim" couldn't be set in high-level plot() function
>

and actually in both cases ylim is set as I want it to be.

Regards, Lorenz
--			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lorenz Gygax		 LGygax at amath.unizh.ch;       room: 36-L-40
			 Department of Applied Mathematics
			 University of Zuerich-Irchel
			 Winterthurerstr. 190; CH-8057 Zurich
			 voice: 41-1-635-58-52  fax: 41-1-635-57-05
			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan 25 14:32:36 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 25 Jan 1999 14:32:36 +0100
Subject: [R] graphical paramters to boxplot
In-Reply-To: <Pine.LNX.3.96.990125141114.957A-100000@iamgygax.unizh.ch>
	(message from Lorenz Gygax on Mon, 25 Jan 1999 14:15:30 +0100 (MET))
Message-ID: <199901251332.OAA04880@sophie.ethz.ch>

>>>>> "Lorenz" == Lorenz Gygax <lgygax at access.unizh.ch> writes:

    Lorenz> Dear all, is this a bug or do a miss something (this concerns
    Lorenz> version 0.63.1 on Linux)?

Thank you Lorenz, for reporting it.
It is indeed a minor bug (a wrong warning).

    >> boxplot (c (1, 2, 3, 4, 5), ylim= c (-5, 5))
    Lorenz> Warning: parameter "ylim" couldn't be set in high-level plot()
    Lorenz> function
    >> boxplot (c (1, 2, 3, 4, 5), pars= list (ylim= c (-5, 5)))
    Lorenz> Warning: parameter "ylim" couldn't be set in high-level plot()
    Lorenz> function
    >>

both of these are equivalent.

    Lorenz> and actually in both cases ylim is set as I want it to be.

yes.

Looking at boxplot(), one realizes quickly that the warning is produced
within  bxp(),
actually when
	do.call("title",pars)
happens (at that time, pars shouldn't contain  ylim anymore...).

Since this is only a small nuisance, I'll not post the patch once I have
it. However, this should go into the release-patches shortly...

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan 25 14:43:28 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 25 Jan 1999 14:43:28 +0100
Subject: [R] graphical paramters to boxplot --> patch
In-Reply-To: <Pine.LNX.3.96.990125141114.957A-100000@iamgygax.unizh.ch>
	(message from Lorenz Gygax on Mon, 25 Jan 1999 14:15:30 +0100 (MET))
Message-ID: <199901251343.OAA04917@sophie.ethz.ch>


>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

>>>>> "Lorenz" == Lorenz Gygax <lgygax at access.unizh.ch> writes:
    Lorenz> Dear all, is this a bug or do a miss something (this concerns
    Lorenz> version 0.63.1 on Linux)?

    MM> Thank you Lorenz, for reporting it.  It is indeed a minor bug (a
    MM> wrong warning).

    >>> boxplot (c (1, 2, 3, 4, 5), ylim= c (-5, 5))
    Lorenz> Warning: parameter "ylim" couldn't be set in high-level plot()
    Lorenz> function
    >>> boxplot (c (1, 2, 3, 4, 5), pars= list (ylim= c (-5, 5)))
    Lorenz> Warning: parameter "ylim" couldn't be set in high-level plot()
    Lorenz> function

    MM> both of these are equivalent.

    Lorenz> and actually in both cases ylim is set as I want it to be.

    MM> yes.

    MM> Looking at boxplot(), one realizes quickly that the warning is
    MM> produced within bxp(), actually when do.call("title",pars) happens
    MM> (at that time, pars shouldn't contain ylim anymore...).

    MM> Since this is only a small nuisance, I'll not post the patch once I
    MM> have it. However, this should go into the release-patches
    MM> shortly...

It was too easy, and the patch is short enough, even for R-help, I hope:


--- boxplot.R.~1~	Sat Nov 14 16:08:00 1998
+++ boxplot.R	Mon Jan 25 14:37:57 1999
@@ -108,7 +108,8 @@
     else if (n == 1) 0.4
     else rep(0.8, n)
 
-    ylim <- if(is.null(pars$ylim)) limits else pars$ylim
+    if(is.null(pars$ylim)) ylim <- limits
+    else { ylim <- pars$ylim; pars$ylim <- NULL }
     if(missing(border) || length(border)==0)
 	border <- par("fg")
 
@@ -124,7 +125,9 @@
 	     border=border[(i-1)%%length(border)+1],
 	     col=if(is.null(col)) col else col[(i-1)%%length(col)+1])
 
-    if(is.null(pars$axes) || pars$axes) {
+    axes <- is.null(pars$axes)
+    if(!axes) { axes <- pars$axes; pars$axes <- NULL }
+    if(axes) {
 	if(n > 1) axis(1, at=1:n, labels=names(z))
 	axis(2)
     }
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Mon Jan 25 23:08:09 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Mon, 25 Jan 1999 22:08:09 +0000 (GMT)
Subject: [R] Design matrix labels
Message-ID: <Pine.LNX.3.95.990125183219.635A-100000@mercury.quantex>

If I have two factors A and B with levels '1','2','3' and '1','4','6','8'
recpectively (note the gaps in the second one).  As factors, the levels
are named as above while of course the internal codes are (1,2,3) and
(1,2,3,4) respectively.

I want to make a design matrix of these as one would in a linear model
except I can't use lm or glm since the error distribution is not
tractable.  So I generate an overall factor as 10*A+B (for example) then
the internal codes and levels become 11,12,13,14,21,22,23,24,31,32,33,34.
I don't mind the internal codes, but is there a neater way of generating
the lm-type of factor levels a A*B to give the levels
'11','14','16','18','21','24','26','28','31','34','36','38'?

Better still would be to assign proper labels to the levels and get
factors a 'A1.B1','A1.B2' etc., basically mimicking the standard notation. 

Is there a proper way to do this other than for-looping and pasting? I
don't really want to create a hand-mapping because it is not robust to
changes. 

\John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jan 26 00:11:25 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 25 Jan 1999 15:11:25 -0800 (PST)
Subject: [R] Design matrix labels
In-Reply-To: <Pine.LNX.3.95.990125183219.635A-100000@mercury.quantex>
Message-ID: <Pine.GSO.4.03.9901251508470.29391-100000@wompom.biostat.washington.edu>

On Mon, 25 Jan 1999, John Logsdon wrote:

> If I have two factors A and B with levels '1','2','3' and '1','4','6','8'
> recpectively (note the gaps in the second one).  As factors, the levels
> are named as above while of course the internal codes are (1,2,3) and
> (1,2,3,4) respectively.
> 
> I want to make a design matrix of these as one would in a linear model
> except I can't use lm or glm since the error distribution is not
> tractable. 

You can still use model.frame() and model.matrix() to create design
matrices from formulas.

	mf<-model.frame(~A+B)
	mmat<-model.matrix(~A+B,mf)

If your factors A and B are in a data frame you can use the data= argument
to model.frame().

This is what glm() and lm() do internally.

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andyelv at ibm.net  Tue Jan 26 10:30:09 1999
From: andyelv at ibm.net (Andy Elvey)
Date: Tue, 26 Jan 1999 22:30:09 +1300
Subject: [R] Newbie query - reading data into R
Message-ID: <36AD8B21.10D5@ibm.net>

( This may seem a basic query, but anyway ... here goes ... :-)  

I have a simple ASCII dataset which I'm trying to read into R (and
trying to get R  to accept it as a data-frame).  The data is of the form
- 

 City           Number
 Napier         324
 Auckland       657
 Wellington     879
 Christchurch   904
  
  - and so on.   The data is separated by tabs , as above.  

 I use the read.table function as follows - 

  a <- read.table("C:\\RNew\\Doc\\data1.txt",as.is=F,header=T) 

 This reads the data in OK, but it is as a list - not as a data-frame.
How can I use the read.table function to read the data into a
data-frame? 

 I have documentation for S-plus and have read the R documentation, but
so far -  no success. 
  
 Hope someone can help here..... :-)  Thanks in advance.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Tue Jan 26 10:59:25 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Tue, 26 Jan 1999 09:59:25 +0000 (GMT)
Subject: [R] 'repeated' calculation
Message-ID: <Pine.LNX.3.95.990126085125.2353A-100000@mercury.quantex>

I have pulled Jim Lindsey's repeated library and put it under the
libraries directory, as are all the other toolboxes.  2 questions:

Running R COMPILE *.c and *.f goes fine except that Mathlib.h cannot be
found - it is not in the include library.  I cannot find any other
Mathlib.h on my system anywhere - presumably this is an R specific module.
Was this missing from the 0.62.4 distribution - I am using the one that
came with the RedHat power tools. 

\John

PS Many thanks to Tom for the model.frame hints - I was right that most
things have been thought of so far!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.S.Craig at durham.ac.uk  Tue Jan 26 11:02:31 1999
From: P.S.Craig at durham.ac.uk (P.S.Craig@durham.ac.uk)
Date: Tue, 26 Jan 1999 10:02:31 +0000 (GMT)
Subject: [R] R problem on Solaris
Message-ID: <14025.199901261002@laplace>



I have just noticed that the last several versions of R that I have
compiled all have the problem that functions which use regular
expressions (gsub, sub and anything which depends on them) do not
work. In particular, 

methods(print) 

either gives an error message or causes a segmentation fault.

The problem is actually in gsub/sub which either return character(0)
or cause a segmentation fault.

I have the problem in one form or another in 0.61.3, 0.62.4 and 0.63.2
but not in 0.61.1 (you may well wonder why we have so many versions
simultaneously available!)

Has anyone else seen this problem on Solaris? For what it's worth my
build is on Solaris 2.4 using gcc and Sun's f77 with readline enabled
and X11R6.  I am fairly sure that I also had the same problem with a
build of 0.62.4 on Solaris 2.5.1.

Cheers,

Peter Craig

#--------------------------------------------------------------------#
| E-mail:   P.S.Craig at durham.ac.uk  Telephone: +44-91-3742376 (Work) |
| Fax:      +44-91-3747388                     +44-91-3860448 (Home) |
|                                                                    |
| WWW:      http://fourier.dur.ac.uk:8000/stats/people/psc/psc.html  |
|							             |
| Snail:    Peter Craig, Dept. of Math. Sciences, Univ. of Durham,   |
|           South Road, Durham DH1 3LE, England			     |
#--------------------------------------------------------------------#
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 26 11:49:51 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 1999 11:49:51 +0100
Subject: [R] 'repeated' calculation
In-Reply-To: John Logsdon's message of Tue, 26 Jan 1999 09:59:25 +0000 (GMT)
References: <Pine.LNX.3.95.990126085125.2353A-100000@mercury.quantex>
Message-ID: <x2679ucnqo.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> I have pulled Jim Lindsey's repeated library and put it under the
> libraries directory, as are all the other toolboxes.  2 questions:
> 
> Running R COMPILE *.c and *.f goes fine except that Mathlib.h cannot be
> found - it is not in the include library.  I cannot find any other
> Mathlib.h on my system anywhere - presumably this is an R specific module.
> Was this missing from the 0.62.4 distribution - I am using the one that
> came with the RedHat power tools. 

It's supposed to be in the include directory under $RHOME, value of
which is found by doing "R RHOME". If it isn't there, someone needs to
complain to RedHat.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 26 13:11:12 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jan 1999 12:11:12 +0000 (GMT)
Subject: [R] 'repeated' calculation
Message-ID: <199901261211.MAA27033@toucan.stats.ox.ac.uk>


> To: John Logsdon <j.logsdon at lancaster.ac.uk>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] 'repeated' calculation
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 26 Jan 1999 11:49:51 +0100
> 
> John Logsdon <j.logsdon at lancaster.ac.uk> writes:
> 
> > I have pulled Jim Lindsey's repeated library and put it under the
> > libraries directory, as are all the other toolboxes.  2 questions:
> > 
> > Running R COMPILE *.c and *.f goes fine except that Mathlib.h cannot be
> > found - it is not in the include library.  I cannot find any other
> > Mathlib.h on my system anywhere - presumably this is an R specific module.
> > Was this missing from the 0.62.4 distribution - I am using the one that
> > came with the RedHat power tools. 
> 
> It's supposed to be in the include directory under $RHOME, value of
> which is found by doing "R RHOME". If it isn't there, someone needs to
> complain to RedHat.

Peter,

Not in 0.62.4 it is not, and this is a problem with that library on 0.62.x.
On 0.62.4 that include directory includes only

Blas.h      Linpack.h   S.h         f2c.h       
Fortran.h   Platform.h  S_compat.h  

but much more on 0.63.x.

The code uses #include "Mathlib.h", so you can copy Mathlib.h from
src/include in the source distribution to repeated/src.  You still
need to get a source distribution for this, of course.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 26 14:00:32 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 1999 14:00:32 +0100
Subject: [R] 'repeated' calculation
In-Reply-To: Prof Brian Ripley's message of Tue, 26 Jan 1999 12:11:12 +0000 (GMT)
References: <199901261211.MAA27033@toucan.stats.ox.ac.uk>
Message-ID: <x23e4ychov.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Peter,
> 
> Not in 0.62.4 it is not, and this is a problem with that library on 0.62.x.
> On 0.62.4 that include directory includes only
> 
> Blas.h      Linpack.h   S.h         f2c.h       
> Fortran.h   Platform.h  S_compat.h  
> 
> but much more on 0.63.x.
> 
> The code uses #include "Mathlib.h", so you can copy Mathlib.h from
> src/include in the source distribution to repeated/src.  You still
> need to get a source distribution for this, of course.
> 
> Brian

Agh, that's what you get for being lazy! I only had the src/include
directory of 0.62.3 lying about and assumed that all files in it would
get installed.

Thanks for putting that one straight. 

	-p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 26 13:02:49 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jan 1999 12:02:49 +0000 (GMT)
Subject: [R] Newbie query - reading data into R
Message-ID: <199901261202.MAA27015@toucan.stats.ox.ac.uk>



Try sep="\t", if they are really separated by tabs (they were not in
your email by the time it reached here).  Actually, you don't need
as.if=F, either, as the first column should be the row names:

> read.table("test.dat", header=T, row.names=1, sep="\t")
             Number
Napier          324
Auckland        657
Wellington      879
Christchurch    904

works on your example (with tabs in the file).

(S-PLUS behaves differently here, and guesses the first column
should be the row names without being told).  

I don't know how you got a list -- that may depend on the version of
R you used, so please tell us when you post. (On 0.63.2 I tried
a few ideas, but failed.  It may be that you do in fact have
a data frame, but a malformed one so that it prints like a list.)


> Date: Tue, 26 Jan 1999 22:30:09 +1300
> From: Andy Elvey <andyelv at ibm.net>
> 
> ( This may seem a basic query, but anyway ... here goes ... :-)  
> 
> I have a simple ASCII dataset which I'm trying to read into R (and
> trying to get R  to accept it as a data-frame).  The data is of the form
> - 
> 
>  City           Number
>  Napier         324
>  Auckland       657
>  Wellington     879
>  Christchurch   904
>   
>   - and so on.   The data is separated by tabs , as above.  
> 
>  I use the read.table function as follows - 
> 
>   a <- read.table("C:\\RNew\\Doc\\data1.txt",as.is=F,header=T) 
> 
>  This reads the data in OK, but it is as a list - not as a data-frame.
> How can I use the read.table function to read the data into a
> data-frame? 
> 
>  I have documentation for S-plus and have read the R documentation, but
> so far -  no success. 

Beware, R is `not unlike S' but it is also different from S-PLUS,
in ways that change by the R version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 26 15:43:08 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 1999 15:43:08 +0100
Subject: [R] Newbie query - reading data into R
In-Reply-To: Prof Brian Ripley's message of Tue, 26 Jan 1999 12:02:49 +0000 (GMT)
References: <199901261202.MAA27015@toucan.stats.ox.ac.uk>
Message-ID: <x2yamqaydf.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Try sep="\t", if they are really separated by tabs (they were not in
> your email by the time it reached here).  Actually, you don't need
> as.if=F, either, as the first column should be the row names:
> 
> > read.table("test.dat", header=T, row.names=1, sep="\t")
>              Number
> Napier          324
> Auckland        657
> Wellington      879
> Christchurch    904
> 
> works on your example (with tabs in the file).
> 
> (S-PLUS behaves differently here, and guesses the first column
> should be the row names without being told).  

So does read.table on Unix - I don't remember it doing anything else?
And with the original data (TAB separated and with a header for col.1
too), I got

> read.table("~/tmp/testdata", header=T)
          City Number
1       Napier    324
2     Auckland    657
3   Wellington    879
4 Christchurch    904
> class(read.table("~/tmp/testdata", header=T))
[1] "data.frame"

I.e. no problem. ???

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 26 16:20:40 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jan 1999 15:20:40 +0000 (GMT)
Subject: [R] Newbie query - reading data into R
Message-ID: <199901261520.PAA00787@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 26 Jan 1999 15:43:08 +0100
> 
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > Try sep="\t", if they are really separated by tabs (they were not in
> > your email by the time it reached here).  Actually, you don't need
> > as.if=F, either, as the first column should be the row names:
> > 
> > > read.table("test.dat", header=T, row.names=1, sep="\t")
> >              Number
> > Napier          324
> > Auckland        657
> > Wellington      879
> > Christchurch    904
> > 
> > works on your example (with tabs in the file).
> > 
> > (S-PLUS behaves differently here, and guesses the first column
> > should be the row names without being told).  
> 
> So does read.table on Unix - I don't remember it doing anything else?
(On R? Your own example shows it does not!)

> And with the original data (TAB separated and with a header for col.1
> too), I got
> 
> > read.table("~/tmp/testdata", header=T)
>           City Number
> 1       Napier    324
> 2     Auckland    657
> 3   Wellington    879
> 4 Christchurch    904
> > class(read.table("~/tmp/testdata", header=T))
> [1] "data.frame"
> 
> I.e. no problem. ???

On Splus 3.4:
> read.table("test.dat", header=T)
             Number 
      Napier    324
    Auckland    657
  Wellington    879
Christchurch    904

which is not the same as R 0.63.2:

> read.table("test.dat", header=T)
          City Number
1       Napier    324
2     Auckland    657
3   Wellington    879
4 Christchurch    904

is it?  That was my point: read.table in R and S-PLUS are subtly different.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From susko at mscs.dal.ca  Tue Jan 26 16:22:26 1999
From: susko at mscs.dal.ca (Edward Susko)
Date: Tue, 26 Jan 1999 11:22:26 -0400
Subject: [R] dynamic loading - w32
Message-ID: <000001be493f$ae3c3060$5b18ad81@ed.cs.dal.ca>

Has something changed in dyn.load between rw0630 and rw0632

The compiler used to dynamically load a routine to compute the sum of
a vector in the folllowing example is mingw32-egcs-1.1 (Win98):


[C:/usr/home/slib/test] gcc -c test.c
[C:/usr/home/slib/test] dllwrap -o test.dll --def test.def test.o -lm

Using rw0630:

> dyn.load("test.dll")
> a <- c(1, 3.5, 5, 6)
> f <- 0
> n <- 4
> .C("mysum", as.integer(n), as.double(a), as.double(f))[[3]]
[1] 15.5

Using rw0632:
> dyn.load("test.dll")
Error in dyn.load(x) : unable to load shared library
"C:\usr\home\slib\test\test.dll"

[C:/usr/home/slib/test] cat test.c
void mysum(long *n, double *x, double *f){

  int i;

  *f = 0.0;
  for(i = 0; i < *n; i++)
     *f += x[i];
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 26 16:51:25 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 1999 16:51:25 +0100
Subject: [R] Newbie query - reading data into R
In-Reply-To: Prof Brian Ripley's message of Tue, 26 Jan 1999 15:20:40 +0000 (GMT)
References: <199901261520.PAA00787@toucan.stats.ox.ac.uk>
Message-ID: <x2vhhuav7m.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > >              Number
> > > Napier          324
> > > Auckland        657
> > > Wellington      879
> > > Christchurch    904
> > > 
> > > works on your example (with tabs in the file).
> > > 
> > > (S-PLUS behaves differently here, and guesses the first column
> > > should be the row names without being told).  
> > 
> > So does read.table on Unix - I don't remember it doing anything else?
> (On R? Your own example shows it does not!)

Whooops. I assumed that the input file had had the "City" header
removed when I saw that display. I honestly didn't believe that S-plus
could be that silly (it scans the variables, grabs the first
nonnumeric one that has no duplicated values and uses it for
rownames!):


> On Splus 3.4:
> > read.table("test.dat", header=T)
>              Number 
>       Napier    324
..
> which is not the same as R 0.63.2:
> > read.table("test.dat", header=T)
>           City Number
> 1       Napier    324
..
> 
> is it?  That was my point: read.table in R and S-PLUS are subtly different.

Agreed. However, even after noticing the difference, I really don't
think that that bit of S-plus behaviour is worth cloning. 

(S-plus, after duplicating the Wellington line:)
> read.table('tmp/testdata',header=T)     
          City Number 
1       Napier    324
2     Auckland    657
3   Wellington    879
4   Wellington    879
5 Christchurch    904

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 26 16:58:14 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Jan 1999 15:58:14 +0000 (GMT)
Subject: [R] dynamic loading - w32
Message-ID: <199901261558.PAA00905@toucan.stats.ox.ac.uk>


> From: "Edward Susko" <susko at mscs.dal.ca>
> To: <r-help at stat.math.ethz.ch>
> Subject: [R] dynamic loading - w32
> Date: Tue, 26 Jan 1999 11:22:26 -0400
> X-Priority: 3 (Normal)
> X-MSMail-Priority: Normal
> Importance: Normal
> X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
> 
> Has something changed in dyn.load between rw0630 and rw0632

No.

> The compiler used to dynamically load a routine to compute the sum of
> a vector in the folllowing example is mingw32-egcs-1.1 (Win98):

You need to use the ld from the Cygwin set with mingw32-egcs-1.1.

> [C:/usr/home/slib/test] gcc -c test.c
> [C:/usr/home/slib/test] dllwrap -o test.dll --def test.def test.o -lm
> 
> Using rw0630:
> 
> > dyn.load("test.dll")
> > a <- c(1, 3.5, 5, 6)
> > f <- 0
> > n <- 4
> > .C("mysum", as.integer(n), as.double(a), as.double(f))[[3]]
> [1] 15.5
> 
> Using rw0632:
> > dyn.load("test.dll")
> Error in dyn.load(x) : unable to load shared library
> "C:\usr\home\slib\test\test.dll"

The symptom here is that whether this works or not is pretty random, as
the DLL contains a section that is not intialized but should be for use
on some Win9x systems.  The ld in the mingw32 distribution (even
-1.1.1) is faulty.  The use of the Cygwin ld solves this (it is on CRAN
in Guido's section).  I don't know what your dllwrap does precisely
(there are several versions about) so use the Makefiles in the
source/package build distributions.

This works for me every time, and I've changed nothing in my setup
since rw0630.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jan 26 18:05:02 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 26 Jan 1999 09:05:02 -0800 (PST)
Subject: [R] R problem on Solaris
In-Reply-To: <14025.199901261002@laplace>
Message-ID: <Pine.GSO.4.03.9901260903510.354-100000@wompom.biostat.washington.edu>

On Tue, 26 Jan 1999 P.S.Craig at durham.ac.uk wrote:

> 
> 
> I have just noticed that the last several versions of R that I have
> compiled all have the problem that functions which use regular
> expressions (gsub, sub and anything which depends on them) do not
> work. In particular, 
> 
> methods(print) 
> 
> either gives an error message or causes a segmentation fault.
> 
> The problem is actually in gsub/sub which either return character(0)
> or cause a segmentation fault.
> 
> I have the problem in one form or another in 0.61.3, 0.62.4 and 0.63.2
> but not in 0.61.1 (you may well wonder why we have so many versions
> simultaneously available!)
> 
> Has anyone else seen this problem on Solaris? For what it's worth my
> build is on Solaris 2.4 using gcc and Sun's f77 with readline enabled
> and X11R6.  I am fairly sure that I also had the same problem with a
> build of 0.62.4 on Solaris 2.5.1.

I haven't ever seen this problem on Solaris 2.5 or 2.6

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Wed Jan 27 02:00:04 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Tue, 26 Jan 1999 17:00:04 -0800 (PST)
Subject: [R] load() patch
Message-ID: <Pine.GSO.4.03.9901261617200.7684-100000@wompom.biostat.washington.edu>



Summary: patch to add environment parameter to load() to allow
-------- specification of destination environment.

--> Patch against R 0.63.2 appended at end of this message. <--


Story:
------

I've been running some rather long MCMC chains, which occasionally crash,
either due to an "Invalid tag in name extraction" error, or due to the
machine going down.  (I'm playing with the kernel too.)   

I decided that I wanted to be able to restart my simulations with a
minumum of fuss.  I added a parameter, "dump" to the MCMC call.  Now,
every "dump" iterations I call the function
  save.all _ function (f = ".RData")
      eval(substitute(save(list = ls(), file = f, ascii=T)),
	   sys.frame(sys.parent()))   
which stores everything visible from within my MCMC function to a file.

[Aside: note that I specify ascii=T.  For some reason, I get write errors
and/or corrupted data if I don't.]

Unfortunately, load() assumes that the destination environment is the
global one, so this didn't work.   I though, "Use the Source, Luke!" , and
hacked out this minor patch that adds one optional parameter to the load()
call for the desired destination environment. 

As I've built it, the default environment is the current environment.
Thus, if load() is called within a function, the values are inserted in
the environment for that function.

Example:
--------

Here's a simple example of how I use save.all() and load():


crashes.alot _ function( x, y, dump, restore )
{
   i _ 1
   retval _ 1
   if(!missing(restore))  load(restore)
   for( i in i:y )
   {
      cat(paste("iteration: ",i," retval=",retval,"\n"))
      if ( !missing(dump) && (i %% dump) == 0 )
	{
	cat("storing...\n")
	save.all("crashes.alot.dump")
	}
      retval _ retval * x
   }
  retval
}

> crashes.alot( 2.5, 20, dump=2 )
iteration:  1  retval= 1
iteration:  2  retval= 2.5
storing...
iteration:  3  retval= 6.25
iteration:  4  retval= 15.625
storing...
iteration:  5  retval= 39.0625
iteration:  5  retval= 39.0625
<CTRL-C>                                  <--- Iteration halted here
> crashes.alot( restore="crashes.alot.dump")
iteration:  4  retval= 15.625
iteration:  5  retval= 39.0625
iteration:  6  retval= 97.65625
iteration:  7  retval= 244.140625
iteration:  8  retval= 610.3515625
iteration:  9  retval= 1525.87890625
iteration:  10  retval= 3814.697265625
iteration:  11  retval= 9536.7431640625
iteration:  12  retval= 23841.8579101562
iteration:  13  retval= 59604.6447753906
iteration:  14  retval= 149011.611938477
iteration:  15  retval= 372529.029846191
iteration:  16  retval= 931322.574615479
iteration:  17  retval= 2328306.43653870
iteration:  18  retval= 5820766.09134674
iteration:  19  retval= 14551915.2283669
iteration:  20  retval= 36379788.0709171
[1] 90949470
>     

-Greg

-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

--------------------- cut here -----------------------
diff -r --unified R-0.63.2.orig/src/library/base/R/load.R R-0.63.2/src/library/base/R/load.R
--- R-0.63.2.orig/src/library/base/R/load.R	Thu Sep 10 03:15:20 1998
+++ R-0.63.2/src/library/base/R/load.R	Tue Jan 26 16:14:52 1999
@@ -1,5 +1,5 @@
-load <- function(file)
-    .Internal(load(file))
+load <- function(file,envir = sys.frame(sys.parent()))
+    .Internal(load(file,envir))
 
 save <- function(..., list = character(0), file = "", ascii = FALSE) {
     names <- as.character( substitute( list(...)))[-1]
diff -r --unified R-0.63.2.orig/src/library/base/man/load.Rd R-0.63.2/src/library/base/man/load.Rd
--- R-0.63.2.orig/src/library/base/man/load.Rd	Wed Nov 19 09:38:35 1997
+++ R-0.63.2/src/library/base/man/load.Rd	Tue Jan 26 16:31:15 1999
@@ -1,11 +1,13 @@
 \name{load}
 \title{Reload Saved Datasets}
 \usage{
-load(filename)
+load(filename, envir = sys.frame(sys.parent())))
 }
 \alias{load}
 \arguments{
-\item{filename}{a character string giving the name of the file to load.}
+  \item{filename}{a character string giving the name of the file to
+    load.}
+  \item{envir}{the environment where the data should be loaded} 
 }
 \description{
 This function will reload the datasets written to a file
@@ -18,7 +20,10 @@
 # save all data
 save(list = ls(), file= "all.Rdata")
 
-# restore the saved values
+# restore the saved values to the current environment
 load("all.Rdata")
+
+# restore the saved values to the global environment
+load("all.Rdata",globalenv())
 }
 \keyword{file}
diff -r --unified R-0.63.2.orig/src/main/names.c R-0.63.2/src/main/names.c
--- R-0.63.2.orig/src/main/names.c	Wed Nov 25 09:51:49 1998
+++ R-0.63.2/src/main/names.c	Tue Jan 26 16:15:07 1999
@@ -472,7 +472,7 @@
 #endif
 {"parse",	do_parse,	0,	11,	4,	PP_FUNCALL},
 {"save",	do_save,	0,	111,	3,	PP_FUNCALL},
-{"load",	do_load,	0,	111,	1,	PP_FUNCALL},
+{"load",	do_load,	0,	111,	2,	PP_FUNCALL},
 {"hdf5save",	do_hdf5save,	0,	0,	-1,	PP_FUNCALL},
 {"hdf5load",	do_hdf5load,	0,	11,	 2,	PP_FUNCALL},
 {"deparse",	do_deparse,	0,	11,	2,	PP_FUNCALL},
diff -r --unified R-0.63.2.orig/src/main/saveload.c R-0.63.2/src/main/saveload.c
--- R-0.63.2.orig/src/main/saveload.c	Tue Nov 10 19:23:54 1998
+++ R-0.63.2/src/main/saveload.c	Tue Jan 26 16:14:57 1999
@@ -1136,7 +1136,7 @@
 
 SEXP do_load(SEXP call, SEXP op, SEXP args, SEXP env)
 {
-    SEXP a, ans, e;
+    SEXP a, ans, e, aenv;
     int i;
     FILE *fp;
 
@@ -1144,10 +1144,17 @@
 
     if (TYPEOF(CAR(args)) != STRSXP)
 	errorcall(call, "first argument must be a string\n");
-    i = INTEGER(CADR(args))[0];
+    // i = INTEGER(CADR(args))[0]; // what is this for?
+
+    // GRW 1/26/99 GRW : added environment parameter so that the 
+    // loaded objects can be placed where desired 
+    aenv = CADR(args);
+    if (TYPEOF(aenv) != ENVSXP && aenv != R_NilValue)
+	error("invalid envir argument\n");
 
     /* Process the saved file to obtain a list of saved objects. */
 
+
     fp = R_fopen(CHAR(STRING(CAR(args))[0]), "rb");
     if (!fp)
 	errorcall(call, "unable to open file\n");
@@ -1162,7 +1169,7 @@
 
     PROTECT(a = ans);
     while (a != R_NilValue) {
-	for (e = FRAME(R_GlobalEnv); e != R_NilValue ; e = CDR(e)) {
+	for (e = FRAME(aenv); e != R_NilValue ; e = CDR(e)) {
 	    if (TAG(e) == TAG(a)) {
 		CAR(e) = CAR(a);
 		a = CDR(a);
@@ -1174,8 +1181,8 @@
 	a = CDR(a);
 	UNPROTECT(1);
 	PROTECT(a);
-	CDR(e) = FRAME(R_GlobalEnv);
-	FRAME(R_GlobalEnv) = e;
+	CDR(e) = FRAME(aenv);
+	FRAME(aenv) = e;
 	CAR(e) = ConvertPairToVector(CAR(e));	       /* PAIRLIST conv */
     NextItem:
 	;

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andyelv at ibm.net  Wed Jan 27 07:34:59 1999
From: andyelv at ibm.net (Andy Elvey)
Date: Wed, 27 Jan 1999 19:34:59 +1300
Subject: [R] Newbie query - reading data into R - good news!
References: <199901261520.PAA00787@toucan.stats.ox.ac.uk> <x2vhhuav7m.fsf@blueberry.kubism.ku.dk>
Message-ID: <36AEB393.4AF5@ibm.net>

> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

 Yes - good news here. I think I must have put an extra "tab" or some
such 
 thing in my text file. I re-edited it (carefully putting in only one
tab 
 after the first column). I then entered the command as follows - 

> b <- read.table("C:\\RDoc\\data1.txt",header=T)
> b
  City         Number
1 Napier       2341  
2 Hastings     3425  
3 Otara        7694  
4 Wellington    458  
5 Christchurch 2015  
6 Dunedin      3021  
7 Nelson        879  
> class(b)
[1] "data.frame"
> mode(b)
[1] "list" 

 Success!  

 ( I think I may have also been thrown by using the mode() function
(which shows "list")
 rather than the class() function which shows data-frame.  )

  Very many thanks to all who have helped me here.  Good to be part of a
community 
 using such a wonderful package ....  :-)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at penguin.irm.r9.fws.gov  Wed Jan 27 21:33:58 1999
From: royle at penguin.irm.r9.fws.gov (royle@penguin.irm.r9.fws.gov)
Date: Wed, 27 Jan 1999 15:33:58 -0500 (EST)
Subject: [R] cant restore .Rdata
Message-ID: <Pine.LNX.3.96.990127152832.586A-100000@penguin.fws.gov>

Hi Folks,

 I loaded a couple of quite large data sets into an R session and then
quit (after saving the image).  Now I get:

Error: a read error occured
Fatal error: unable to restore saved data
 (remove .RData or increase memory)

after trying to start my R session using something like:

R --vsize XXX --nsize 1000000

For any value of XXX (I went up to 300 or 400, which is as high as I could
go.  This seems odd to me because the data sets were not that large.

In fact, the size of .RData is:

-rw-rw-r--   1 royle    royle    14848000 Jan 27 14:19 .RData

I have had much larger data sets in R before and never had this problem
(at least one that couldn't be fixed by increasing the memory).

So, it appears that my only option at this point is to delete .RData
which would be unfortunate since the functions contained therein are
the result of several days of intense hacking.....

Does anyone have any ideas?

thanks in advance,

andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at bearmtn-e0.cgd.ucar.edu  Wed Jan 27 21:44:52 1999
From: royle at bearmtn-e0.cgd.ucar.edu (Jeffrey A. Royle)
Date: Wed, 27 Jan 1999 13:44:52 -0700 (MST)
Subject: [R] COMMERCIAL: S-PLUS Data Analysis Software now Available on Linux (fwd)
In-Reply-To: <Pine.LNX.3.96.990125092102.262A-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.SV4.3.95.990127134023.8048A-100000@neit.cgd.ucar.edu>

Yea, they've been saying this for months!  A Statsci rep told me
at the joint meetings last year that it would be out in October,
it wasn't, and then they had a press release in late november or something
and it still wasn't out.  In any case, it's only $5000 for a single user
license, according to the rep I spoke with.  Contrast that with the
$1200 Windows license.....(of course, the multi user functionality  that
is implicit in *nix os's is factored in).

andy



> I thought R users might be interested (surprised) to hear that R will have
> some competition on Linux now.
> 
> Bill
> 
> ---------- Forwarded message ----------
> Date: Sun, 24 Jan 1999 01:37:15 GMT
> From: Cheryl Mauer <cmauer at statsci.com>
> Newsgroups: comp.os.linux.announce
> Subject: COMMERCIAL: S-PLUS Data Analysis Software now Available on Linux
> Followup-To: comp.os.linux.misc
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> 
> 
> S-PLUS 5 is an advanced data analysis, visualization, and statistical
> modeling package designed for researchers, quantitative analysts and
> technical professionals. If you would like more information about the
> new Linux version please visit:
>  
> http://www.mathsoft.com/splus/splsprod/splslinux.htm
> 
> Cheryl Mauer (cmauer at statsci.com)
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Wed Jan 27 22:12:23 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Wed, 27 Jan 1999 13:12:23 -0800 (PST)
Subject: [R] cant restore .Rdata
In-Reply-To: <Pine.LNX.3.96.990127152832.586A-100000@penguin.fws.gov>
Message-ID: <Pine.GSO.4.03.9901271243170.16341-100000@wompom.biostat.washington.edu>


It might be the number of cons cells, rather than the vector heap size
that is too small.  Right this moment, I'm patching my copy of R to allow
up to 16000000 cons cells.  Here's the patch  (watch for the long lines):

--start-patch--

--- R-0.63.2.orig/src/unix/system.c     Thu Nov 12 08:06:02 1998
+++ R-0.63.2/src/unix/system.c  Wed Jan 27 12:53:59 1999
@@ -502,7 +502,7 @@
                else p = &(*av)[2];
                value = strtol(p, &p, 10);
                if(*p) goto badargs;
-               if(value < R_NSize || value > 1000000)
+               if(value < R_NSize || value > 16000000)
                    REprintf("WARNING: invalid language heap size ignored\n");
                else
                    R_NSize = value;
@@ -511,7 +511,7 @@
                ac--; av++; p = *av;
                value = strtol(p, &p, 10);
                if(*p) goto badargs;
-               if(value < R_NSize || value > 1000000)
+               if(value < R_NSize || value > 16000000)
                    REprintf("WARNING: invalid language heap size '%d' ignored, using default = %d\n", value, R_NSize);
                else
                    R_NSize = value;


---end-patch---

This seems to work for me.  I've now been able to load the large "dput"
file that didn't work before.

-Greg

On Wed, 27 Jan 1999 royle at penguin.irm.r9.fws.gov wrote:

> Hi Folks,
> 
>  I loaded a couple of quite large data sets into an R session and then
> quit (after saving the image).  Now I get:
> 
> Error: a read error occured
> Fatal error: unable to restore saved data
>  (remove .RData or increase memory)
> 
> after trying to start my R session using something like:
> 
> R --vsize XXX --nsize 1000000
> 
> For any value of XXX (I went up to 300 or 400, which is as high as I could
> go.  This seems odd to me because the data sets were not that large.
> 
> In fact, the size of .RData is:
> 
> -rw-rw-r--   1 royle    royle    14848000 Jan 27 14:19 .RData
> 
> I have had much larger data sets in R before and never had this problem
> (at least one that couldn't be fixed by increasing the memory).
> 
> So, it appears that my only option at this point is to delete .RData
> which would be unfortunate since the functions contained therein are
> the result of several days of intense hacking.....
> 
> Does anyone have any ideas?
> 
> thanks in advance,
> 
> andy
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 27 23:31:20 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Jan 1999 22:31:20 +0000 (GMT)
Subject: [R] COMMERCIAL: S-PLUS Data Analysis Software now Available on
 Linux (fwd)
In-Reply-To: <Pine.SV4.3.95.990127134023.8048A-100000@neit.cgd.ucar.edu>
Message-ID: <Pine.GSO.4.05.9901272223040.12558-100000@auk.stats>

On Wed, 27 Jan 1999, Jeffrey A. Royle wrote:

> Yea, they've been saying this for months!  A Statsci rep told me
> at the joint meetings last year that it would be out in October,
> it wasn't, and then they had a press release in late november or something
> and it still wasn't out.  In any case, it's only $5000 for a single user

Oh, come on, lots of users do have copies out there; it has been shipping
in the UK for a couple of months, and your prices bear no resemblence to
those academics at least actually pay (and you are posting from an
academic address). We know: we have paid for ours.

I don't think unsubstantiated S-PLUS knocking on R-help is helpful.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at bearmtn-e0.cgd.ucar.edu  Thu Jan 28 02:25:28 1999
From: royle at bearmtn-e0.cgd.ucar.edu (Jeffrey A. Royle)
Date: Wed, 27 Jan 1999 18:25:28 -0700 (MST)
Subject: [R] COMMERCIAL: S-PLUS Data Analysis Software now Available on Linux (fwd)
In-Reply-To: <6rg18wuytl.fsf@verdi.stat.wisc.edu>
Message-ID: <Pine.SV4.3.95.990127181832.9945A-100000@neit.cgd.ucar.edu>

Yes, thats exactly it, $5000!  This is why several of us are 
using R right now , figuring the 5k is better put toward hardware.
In fact, they wanted some huge fee to _transfer_ a license from
a Sparc 20 to a U10, so we loaded R on that too. I can't help
but bash S+ for customer support like that ( I mean the license was
_paid_ for, we just wanted to decommision a machine and upgrade,
but couldn't take the license with us...go figure)

As for Brian's comment:  The rates they quoted me were "government"
rates, which are probably greatly inflated over academics  
(my email address is a little misleading...i'm actually at fws.gov)

andy






> 
> $5000 for a single station license??  (I presume single station rather
> than single user is their argument for the higher price for Linux than
> for Windows running on the same computer.)
> 
> That should be a real popular idea in the Linux community.
> 
> BTW, I don't know if you noticed it but the web page that Cheryl Mauer
> cited
> 	 http://www.mathsoft.com/splus/splsprod/splslinux.htm
> mentions Linux exactly once - in the title.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Jan 28 10:01:06 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 28 Jan 1999 09:01:06 +0000 (GMT)
Subject: [R] COMMERCIAL: S-PLUS Data Analysis Software now Available on            Linux (fwd)
In-Reply-To: <Pine.GSO.4.05.9901272223040.12558-100000@auk.stats>
Message-ID: <Pine.LNX.3.95.990128084753.4055A-100000@mercury.quantex>



On Wed, 27 Jan 1999, Prof Brian D Ripley wrote:

> I don't think unsubstantiated S-PLUS knocking on R-help is helpful.
> 

I agree - they are both excellent software and where would R be without
all the ported S+ libraries?

It may be that there will always be some areas where commercial
mathematical software either has the edge.  Graphics is generally such an
area (cf Matlab/Octave).  S+ may well appeal to large institutions, so R
may actually help Mathsoft by introducing potential users.  

Seriously I suspect that R will have a *commercial* effect on Mathsoft but
I expect to see more training courses, which are very good money-spinners
for commercial companies (every threat is also an opportunity).  

There may be a temptation to draw a parallel to the NT/Linux debate which
I also think is sterile.  In this latter case, Linux is the clear winner
for both technical (networks in particular) and security (verifiable code)
reasons but we wouldn't have the powerful PCs if it were not for
Microsoft, the open hardware standard and loads of kids playing games.  It
is very different to R/S+. 

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cindy at mothership.champaign.il.us  Thu Jan 28 18:45:58 1999
From: cindy at mothership.champaign.il.us (Cynthia Gibas)
Date: Thu, 28 Jan 1999 11:45:58 -0600
Subject: [R] compiling R for SGI IRIX
Message-ID: <36B0A256.768C0C37@mothership.champaign.il.us>

When I attempt to compile R, I immediately get the error:

'make: file `Makefile' line 49: bad character & (octal 46)
*** Error code 1 (bu21)'

I have looked at line 49 of each of the makefiles and none of them seem
to contain this character.

Any suggestions?

-- 

Cynthia Gibas                              
cindy at mothership.champaign.il.us
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Jan 28 19:15:44 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Thu, 28 Jan 1999 12:15:44 -0600 (CST)
Subject: [R] NAs spoil lowess smoothing
Message-ID: <XFMail.990128121544.s-luppescu@uchicago.edu>

Can anyone explain to me what this error message means, why I'm getting it, and
how to fix it?

 lines(lowess(xdat, ydat, f=.5), col=3)
Error: NAs in foreign function call (arg 1)
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
 (EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
The program isn't debugged until the last user is dead.
>> Sent on 28-Jan-99 at 11:26:00 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan 28 19:30:55 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 28 Jan 1999 10:30:55 -0800 (PST)
Subject: [R] NAs spoil lowess smoothing
In-Reply-To: <XFMail.990128121544.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.03.9901281026580.16506-100000@wompom.biostat.washington.edu>

On Thu, 28 Jan 1999, Stuart Luppescu wrote:

> Can anyone explain to me what this error message means, why I'm getting it, and
> how to fix it?
> 
>  lines(lowess(xdat, ydat, f=.5), col=3)
> Error: NAs in foreign function call (arg 1)


It means that in a call to .C or .Fortran there are missing values in the 
first argument. The call to .C is inside lowess(), and its first argument
is the x data. So you're getting it because there are NAs in xdat.

You can fix it by removing the NAs, eg
	good<-!(is.na(xdat) | is.na(ydat))
	lines(lowess(xdat[good],ydat[good],f=.5),col=3)

Refusing to handle NAs is the usual default behaviour of functions. Some
functions have na.action= arguments to control this, but lowess doesn't.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Thu Jan 28 20:45:16 1999
From: mai at ms.uky.edu (Mai Zhou)
Date: Thu, 28 Jan 1999 14:45:16 -0500 (EST)
Subject: [R] bug in the ctest package: binom.test
Message-ID: <199901281945.OAA23040@t3.mscf.uky.edu>

R 0630 for windows

> library(ctest)
> binom.test(7,10,p=0.3, alternative="two.sided")

returns a p-value of =< 2.2e-016 and a warning

In Splus 3.4 

> binom.test(7,10,p=0.3, alternative="two.sided")

returns a p-value of 0.0106


I think it is the 

max(v[v<=(1+eps)*PVAL])       causing the problem...

max() of an empty vector.......


Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 28 22:45:40 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jan 1999 22:45:40 +0100
Subject: [R] bug in the ctest package: binom.test
In-Reply-To: Mai Zhou's message of Thu, 28 Jan 1999 14:45:16 -0500 (EST)
References: <199901281945.OAA23040@t3.mscf.uky.edu>
Message-ID: <x2r9sfdqbf.fsf@blueberry.kubism.ku.dk>

Mai Zhou <mai at ms.uky.edu> writes:

> R 0630 for windows
> 
> > library(ctest)
> > binom.test(7,10,p=0.3, alternative="two.sided")
> 
> returns a p-value of =< 2.2e-016 and a warning
> 
> In Splus 3.4 
> 
> > binom.test(7,10,p=0.3, alternative="two.sided")
> 
> returns a p-value of 0.0106
> 
> 
> I think it is the 
> 
> max(v[v<=(1+eps)*PVAL])       causing the problem...
> 
> max() of an empty vector.......
> 

Exactly. And conspiring with the lack of a sanity check in format.pval
causing it to print -Inf as < 2.2e-016...

The fix is as simple as max(0,v[v<=(1+eps)*PVAL])
                            ^^
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 28 23:02:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 28 Jan 1999 22:02:56 +0000 (GMT)
Subject: [R] NAs spoil lowess smoothing
In-Reply-To: <Pine.GSO.4.03.9901281026580.16506-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.9901282159360.13362-100000@auk.stats>

On Thu, 28 Jan 1999, Thomas Lumley wrote:

> On Thu, 28 Jan 1999, Stuart Luppescu wrote:
> 
> > Can anyone explain to me what this error message means, why I'm getting it, and
> > how to fix it?
> > 
> >  lines(lowess(xdat, ydat, f=.5), col=3)
> > Error: NAs in foreign function call (arg 1)
> 
> 
> It means that in a call to .C or .Fortran there are missing values in the 
> first argument. The call to .C is inside lowess(), and its first argument
> is the x data. So you're getting it because there are NAs in xdat.
> 
> You can fix it by removing the NAs, eg
> 	good<-!(is.na(xdat) | is.na(ydat))
> 	lines(lowess(xdat[good],ydat[good],f=.5),col=3)
> 
> Refusing to handle NAs is the usual default behaviour of functions. Some
> functions have na.action= arguments to control this, but lowess doesn't.

Actually, that message is confusing. There could be Infs or NaNs in xdat
rather than NAs. Thomas is probably right, but this is worth bearing in
mind (says he having searched for ages for NAs in a locfit example).
I would take a look at xdat to see what is unexpected (by you).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Fri Jan 29 01:38:36 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Thu, 28 Jan 1999 16:38:36 -0800 (PST)
Subject: [R] Re: follow-up
In-Reply-To: <Pine.LNX.3.96.990128141321.1426A-100000@penguin.fws.gov>
Message-ID: <Pine.GSO.4.03.9901281636220.25266-100000@wompom.biostat.washington.edu>


.RData files are *not* machine-independent!  Thus, it doesn't mean the
file is corrupted if it won't load on another machine.   

If the work in the file is quite valuable, you may wish to send email to
r-devel at stat.math.ethz.ch where the R hackers hang out.  [I used to hang
out there, but have been trying to work on my dissertation instead!  The
patch I gave was one I needed to load my huge files!]

-Greg

On Thu, 28 Jan 1999 royle at penguin.irm.r9.fws.gov wrote:

> Greg,
>  
>  In fact, even on the U10, it will not load the .RData file, but
> starts R with a fresh .RData.  So, something about that .RData
> file is corrupted.
> 
> regards,
> andy
> 
> 
> ---------------------------------------------------------------------
> J. Andy Royle, U.S. Fish and Wildlife Service - Office of Migratory 
> Bird Management; 11510 American Holly Drive, Laurel, MD 20708-4017; 
> phone - 301-497-5673 fax - 301-497-5706 email - royle at penguin.fws.gov
> ---------------------------------------------------------------------
> 
> 
> 


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jan 29 02:48:35 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 29 Jan 1999 14:48:35 +1300 (NZDT)
Subject: [R] Re: follow-up
Message-ID: <199901290148.OAA23210@stat1.stat.auckland.ac.nz>

	From r-help-owner at stat.math.ethz.ch Fri Jan 29 13:40 NZD 1999
	Date: Thu, 28 Jan 1999 16:38:36 -0800 (PST)
	From: "Gregory R. Warnes" <warnes at biostat.washington.edu>
	To: royle at penguin.irm.r9.fws.gov
	cc: R comments <r-help at stat.math.ethz.ch>
	Subject: [R] Re: follow-up
	MIME-Version: 1.0


	.RData files are *not* machine-independent!  Thus, it doesn't mean the
	file is corrupted if it won't load on another machine.   

Minor correction.  Under Unix we now use the XDR library (if available)
to read and write the .RData files, and to that extent they are machine
independent.  I happily move .RData files between Intel and SPARC with
no problems.  If we could get a portable XDR (including windows and the
Mac) we could really be machine independent.
	
	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Thu Jan 28 15:26:50 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Thu, 28 Jan 1999 15:26:50 +0100
Subject: [R] time series analysis
Message-ID: <199901281426.PAA03867@uni-bremen.de>


Hello out there,

in their "R Complements" to Modern Applied Statistics W. Venables and
B. Ripley say that there is a lack of time series related functions in
R compared to S plus. Looking at CRAN I didn't find much, too. As I
have to learn something about +-basic ts analysis, e.g. spectral
analysis, I would like to know whether somebody has developed a
"unpublished" time series package for analysis and plotting, which
he/she could make available. Unfortunately, my mathematical and
numerical background knowledge isn't sufficient to do it myself :-(

If there is a S library which could be used, I would appreciate hints,
too! 

Many thanks for your help,
Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Fri Jan 29 11:16:38 1999
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Fri, 29 Jan 1999 10:16:38 +0000
Subject: [R] time series analysis
In-Reply-To: <199901281426.PAA03867@uni-bremen.de>
Message-ID: <l03010d00b2d739272b29@[139.222.80.154]>

>Hello out there,
>
>in their "R Complements" to Modern Applied Statistics W. Venables and
>B. Ripley say that there is a lack of time series related functions in
>R compared to S plus. Looking at CRAN I didn't find much, too. As I
>have to learn something about +-basic ts analysis, e.g. spectral
>analysis, I would like to know whether somebody has developed a
>"unpublished" time series package for analysis and plotting, which
>he/she could make available. Unfortunately, my mathematical and
>numerical background knowledge isn't sufficient to do it myself :-(
>
>If there is a S library which could be used, I would appreciate hints,
>too!
>
>Many thanks for your help,
>Ulf

I have some R functions that I use which you are welcome to try. They are R
programs as I float between Unix Macs and PC's. A word of caution, I am not
an ace programmer and they are not very efficient or good at error
trapping. As they are in R the maximum likelihood estimation is slow. If
you want to try them I will dig them out.

You might be better of with the Timeslab add on. These are the routines
from Newton's Timeslab book ( execellent) and are pretty good. I loaded the
Splus code from Statlib using dynamic load but  I understand that they are
now at CRAN as a package. They work and the documentation ( or at least the
stuff included at Statlib  in Tex (not Latex))is good.




  G.Janacek				          e-mail G.Janacek at uea.ac.uk
  School of Mathematics			          tel 44-(0)1603-592577
  UEA, Norwich NR4 7TJ,UK		          fax: 44-(0)1603-259515


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From georgios at gbanavas.soc.plym.ac.uk  Fri Jan 29 11:47:24 1999
From: georgios at gbanavas.soc.plym.ac.uk (Georgios N. Banavas)
Date: Fri, 29 Jan 1999 10:47:24 +0000
Subject: [R] color allocation problem
Message-ID: <36B191BC.6D77052C@gbanavas.soc.plym.ac.uk>

Hi,

I have recently installed R in my Linux(Red Hat 5.1) box without any
problems. At the time I run some plots or demos,
like the "demo(image)" I get the following error:
"Error: color allocation error" 
Do you what's going wrong with the colors?

Best,
Georgios.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jan 29 12:03:01 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 29 Jan 1999 12:03:01 +0100 (CET)
Subject: [R] color allocation problem
In-Reply-To: <36B191BC.6D77052C@gbanavas.soc.plym.ac.uk>
References: <36B191BC.6D77052C@gbanavas.soc.plym.ac.uk>
Message-ID: <14001.38245.326669.907070@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 29 Jan 1999 10:47:24 +0000,
>>>>> Georgios N Banavas (GNB) wrote:

GNB> Hi,
GNB> I have recently installed R in my Linux(Red Hat 5.1) box without any
GNB> problems. At the time I run some plots or demos,
GNB> like the "demo(image)" I get the following error:
GNB> "Error: color allocation error" 
GNB> Do you what's going wrong with the colors?

This is an X problem, and only indirectly related to R. It seems that
applications you started before R have used all the available
colors. How many colors are available depends on your X configuration,
probably you have it only configured to use 256 colors.

Netscape is known to be rather memory-intensive ... if you have
netscape running try to start it with the -no-install option, then it
shouldn't install it's own color map.

Hope this helps,
Fritz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Fri Jan 29 14:30:33 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 29 Jan 1999 05:30:33 -0800 (PST)
Subject: [R] Re: follow-up
In-Reply-To: <199901290148.OAA23210@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.03.9901290529520.25350-100000@wompom.biostat.washington.edu>


Mea Culpa.  I *used* to keep up with R, but have taken about 18 months
off.  It seems that more has changed than I suspected...

On Fri, 29 Jan 1999, Ross Ihaka wrote:

> 	From r-help-owner at stat.math.ethz.ch Fri Jan 29 13:40 NZD 1999
> 	Date: Thu, 28 Jan 1999 16:38:36 -0800 (PST)
> 	From: "Gregory R. Warnes" <warnes at biostat.washington.edu>
> 	To: royle at penguin.irm.r9.fws.gov
> 	cc: R comments <r-help at stat.math.ethz.ch>
> 	Subject: [R] Re: follow-up
> 	MIME-Version: 1.0
> 
> 
> 	.RData files are *not* machine-independent!  Thus, it doesn't mean the
> 	file is corrupted if it won't load on another machine.   
> 
> Minor correction.  Under Unix we now use the XDR library (if available)
> to read and write the .RData files, and to that extent they are machine
> independent.  I happily move .RData files between Intel and SPARC with
> no problems.  If we could get a portable XDR (including windows and the
> Mac) we could really be machine independent.
> 	
> 	Ross
> 


-------------------------------------------------------------------------------
    Gregory R. Warnes          | It is high time that the ideal of success
warnes at biostat.washington.edu  |  be replaced by the ideal of service.
                               |                       Albert Einstein
-------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bond at graylab.ac.uk  Fri Jan 29 14:35:10 1999
From: bond at graylab.ac.uk (Simon  Bond)
Date: Fri, 29 Jan 1999 13:35:10 +0000
Subject: [R] cex
Message-ID: <3.0.6.32.19990129133510.007a54b0@graylab.ac.uk>

Hi,

I was hoping someone could help me with this problem. Im trying to produce
what can be referred to as LAbbe plots, where a character (my preference
is a circle) is plotted at some specified co-ordinates and the size of the
character is proportional to a weighting variable. Ive tried this

	plot  (x, y, type="n")
	size <- weight/mean(weight)
	for ( i in 1:length(x) ) { points (x[i],y[i], pch=1, cex= 2* size[i])}

The problem is that there seems to be both an upper and lower bound for the
effect that the option cex has, about 0.5 and 2, so you get all the points
below or above a critical weight the same size, thus ruining the desired
effect. 

Is there some option to remove these bounds , the upper bound in
particular, or, is there a command to draw a circle of specified centre and
radius? Indeed, any other working alternative you can come up with.

I ought to mention that Ive only recently set up R, but was fairly
competent with S-plus the last time I had access to it.


Simon Bond.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsy at gras.de  Fri Jan 29 15:12:45 1999
From: rsy at gras.de (Reinhard Sy)
Date: Fri, 29 Jan 1999 14:12:45 +0000
Subject: [R] R - API ?
Message-ID: <36B1C1DD.A06AAD38@gras.de>

HI,

	I would like to use R in my own main-Program. Is this possible ? If yes
where I can find an documentation about this feature ?

If I cannot call an R-API Function from my C-Program is it possible to
run R in batch-mode like Splus ?

All my question belongs to R running under Windows.

Thanks for any help. 

I know that I can dyn.load any C/Fortran Code from R but this is not
what I want
Thanks

-- 
Reinhard Sy
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vcard.vcf
Type: text/x-vcard
Size: 216 bytes
Desc: Card for Reinhard Sy
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990129/e02b549d/vcard.vcf

From pgilbert at bank-banque-canada.ca  Fri Jan 29 17:07:46 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 29 Jan 1999 11:07:46 -0500
Subject: [R] time series analysis
References: <199901281426.PAA03867@uni-bremen.de>
Message-ID: <99Jan29.111118est.13466@mailgate.bank-banque-canada.ca>

My time series package "DSE" is available and works just fine under R. It
provides considerable time series functionality which is not available in Splus.
(It does not duplicate everything that is in Splus. My interest has always been
in multivariate time series, and that functionality has historically been fairly
limited in Splus.) A user guide and the html help are available on the web at
<http://www.bank-banque-canada.ca/pgilbert>, so you can get some idea if it does
what you want before you install it.

There is a version of DSE in the devel area of CRAN and a slightly more recent
version available at my web site. It is in the devel area because the R package
install procedures were in a state of flux at the time I submitted it, not
because the code is unstable. The version on my web site dse.v.98.12alphaR
installs with R 0.63.2 which I am now using, and also with 0.63.1. As I recall,
the version on CRAN installed with 0.62.x, but probably does not install
correctly with 0.63.x.

Some of the documentation is still specific to S, but in most respects that
should not cause any problems. The versions on my web site are named "alpha"
because there are many new features which have not yet been properly documented.
The code is actually more stable than versions I have previously called "beta".
(In my experience something better than beta does not exist, even from
commercial vendors, only the label is occasionally removed.)

I work in Unix and have not tried to port the code to Windows, though if anyone
is interested I am willing to provide any information that I can. The main
problem is a fortran routine which is fairly critical.

In addition to DSE  the package CODA on CRAN has the function spec.pgram. (DSE
does not have much in the way of spectral analysis.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jan 29 20:55:39 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 30 Jan 1999 08:55:39 +1300 (NZDT)
Subject: [R] color allocation problem
Message-ID: <199901291955.IAA07006@stat1.stat.auckland.ac.nz>

I am currently fixing this.  The problem will be gone in 0.64.

The problem is in the way that X11 handles color.  It is particularly
acute if you are running things like Netscape and Window Maker, which
gobble up all the colors they can get.

The New Plan:

On Pseudocolor (8-bit) displays  will try to pre-allocate (a.k.a.
gobble up) a reasonable selection of colors and then approximate the
colors a user requests from this collection.  If necessary I will
install a private color map, which will result in wild color changes as
you move the mouse in and out of R graphics windows.

On true-color (16, 24 or 32-bit displays) you will get exactly the
colors  you ask for.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Fri Jan 29 21:11:57 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Fri, 29 Jan 1999 21:11:57 +0100
Subject: [R] R - API ?
In-Reply-To: <36B1C1DD.A06AAD38@gras.de>; from Reinhard Sy on Fri, Jan 29, 1999 at 02:12:45PM +0000
References: <36B1C1DD.A06AAD38@gras.de>
Message-ID: <19990129211157.19767@hal.stat.unipd.it>

On Fri, Jan 29, 1999 at 02:12:45PM +0000, Reinhard Sy wrote:
> HI,
> 
> 	I would like to use R in my own main-Program. Is this possible ? If yes
> where I can find an documentation about this feature ?
> All my question belongs to R running under Windows.
  It is possible but all the alternatives that come to my mind require
  some work since 'as shipped' R is not designed as an 'embedable'
  language. 
  Basically, you need to:
  1) initialize appropriately the interpreter (you have to 'stole'
     code from the Windows specific sources (in particular from
     src/gnuwin32/system.c and src/gnuwin32/front-end/Rterm.c in
     rw0632s.zip) and from the main distribution (in particular
     you need, I suppose, all the code of function mainloop in
     src/main/main.c excluding the end which enter in the 
     read-and-eval loop). Your program can then 'talk'
     with the interpreter via the parse/eval function. Example
     is the read-eval-loop in src/main/main.c. 
  2) link your program against R.dll (how depend from the compiler).
  
  I am not sure that there is any documentation but the source.
  Perhaps, some other can be more helpful than me.

  Remark1: Thomas Lumley has some 'sockets' library for R which
  should let something of this sort. However, I have not
  looked to it and I don't know if it is portable to Windows.

  Remark2: I don't rebember who (I apologize 'a priori' for
  this) have prepared a R-perl interface which I think can be
  taken as a model. It is included in the GNU/Debian Linux
  distribution so you can find it at http://www.debian.org.
  Again, I don't know if it can be easily ported to Windows.

> 
> If I cannot call an R-API Function from my C-Program is it possible to
> run R in batch-mode like Splus ?
  That is easy. Starting from version 0.63.1, there are two executable
  under Windows (at least in the rwxxxx port). One Rgui.exe is  for 
  interactive use, the other Rterm.exe is for batch-mode operation; basically
     Rterm < input.file. R > output.file
 

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jan 29 22:44:11 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 29 Jan 1999 16:44:11 -0500 (EST)
Subject: [R] prcomp problem
Message-ID: <Pine.SGI.3.96.990129163152.19325H-100000@ln.nimh.nih.gov>

Hi, everyone.

I'm trying to use prcomp on a fairly large data set.  It has 918 rows, and
the number of columns can be chosen (it's a density function over 200,
300, etc. time steps).

I'm getting the error "error 801 in dsvdc", where 801 is the number of
columns.  By choosing the right number of columns, I can get 
"error 300 in dsvdc" and so on.  There don't seem to be any NaN's or NA's
in the data.  Also, I can run prcomp successfully on random data of the
same size.

princomp successfully finishes, but tells me that there were NaN's
produced by sqrt.  Perhaps this is the numerical instability mentioned in
the documentation (nearly zero but negative numbers).

Does anyone have any ideas why prcomp might have trouble?

Thanks for any help,
			Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HYoon at exchange.ml.com  Fri Jan 29 22:45:55 1999
From: HYoon at exchange.ml.com (Yoon, Hoon (CICG - NY Program Trading))
Date: Fri, 29 Jan 1999 16:45:55 -0500
Subject: [R] R - API ?
Message-ID: <A1AFC4253BA3D111BFF70001FA7E9AACD61FA0@EWFD19>

Hi,

   I thought that this was very close to what I was asking before. So, I
just pulled some info together for everyone's benefit, especially the stuff
Guido mentioned. I hope that people who are interested will keep each other
updated.
  Thanks,

**************************************************************
S. Hoon Yoon                   (Quant)                    Merrill Lynch
Equity Trading 
yelled at yahoo.com hoon at bigfoot.com(w)
"Miracle is always only few standard deviations away, but so is
catastrophe."
* Expressed opinions are often my own, but NOT my employer's.
"I feel like a fugitive from the law of averages."    Mauldin
**************************************************************


-----INCLUDED-------
The source to Guido's windows version is on CRAN, cunningly hidden
under "Binaries" in the 
 bin/ms-windows/win-32-devel/ directory. 

The sockets package is not on CRAN, since it will reasonably soon be
part of the R distribution (certainly R0.64, possibly a R0.63.x). It is
at
  http://www.biostat.washington.edu/~thomas/sockets.tgz


	-thomas

######-----------------------------------------------------

  Jeff Banfield of my department has build a front-end for R which gives
output to a browser.  I believe he uses Perl and we do run it on Solaris.
See:
http://www.math.montana.edu/Rweb/

######-----------------------------------------------------

Hi,

I'm also very much interested in linking VB to R, perhaps also running R on
a different computer on the network (like for example MathSoft's
StatServer).
Unfortunately, my current high-priority software development projects make
that this can not be a short-term occupation, but rather a medium-to-long
term project. However, I would be glad to hear from you about the progress
you were able to make in your project, although I can't offer any help, at
least for the time being.

Thank you very much in advance,

Zivan


Zivan Karaman
Limagrain Genetics Research, B.P. 115, 63203 Riom Cedex, France
Tel: +33 (0) 473 634 343     Fax: +33 (0) 473 634 345
E-mail: zivan.karaman at biocem.univ-bpclermont.fr

> -----Original Message-----
> From:	Guido Masarotto 
> Sent:	Friday, January 29, 1999 3:12 PM
> To:	rsy at transmedia.de
> Cc:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] R - API ?
> 
> On Fri, Jan 29, 1999 at 02:12:45PM +0000, Reinhard Sy wrote:
> > HI,
> > 
> > 	I would like to use R in my own main-Program. Is this possible ? If
> yes
> > where I can find an documentation about this feature ?
> > All my question belongs to R running under Windows.
>   It is possible but all the alternatives that come to my mind require
>   some work since 'as shipped' R is not designed as an 'embedable'
>   language. 
>   Basically, you need to:
>   1) initialize appropriately the interpreter (you have to 'stole'
>      code from the Windows specific sources (in particular from
>      src/gnuwin32/system.c and src/gnuwin32/front-end/Rterm.c in
>      rw0632s.zip) and from the main distribution (in particular
>      you need, I suppose, all the code of function mainloop in
>      src/main/main.c excluding the end which enter in the 
>      read-and-eval loop). Your program can then 'talk'
>      with the interpreter via the parse/eval function. Example
>      is the read-eval-loop in src/main/main.c. 
>   2) link your program against R.dll (how depend from the compiler).
>   
>   I am not sure that there is any documentation but the source.
>   Perhaps, some other can be more helpful than me.
> 
>   Remark1: Thomas Lumley has some 'sockets' library for R which
>   should let something of this sort. However, I have not
>   looked to it and I don't know if it is portable to Windows.
> 
>   Remark2: I don't rebember who (I apologize 'a priori' for
>   this) have prepared a R-perl interface which I think can be
>   taken as a model. It is included in the GNU/Debian Linux
>   distribution so you can find it at http://www.debian.org.
>   Again, I don't know if it can be easily ported to Windows.
> 
> > 
> > If I cannot call an R-API Function from my C-Program is it possible to
> > run R in batch-mode like Splus ?
>   That is easy. Starting from version 0.63.1, there are two executable
>   under Windows (at least in the rwxxxx port). One Rgui.exe is  for 
>   interactive use, the other Rterm.exe is for batch-mode operation;
> basically
>      Rterm < input.file. R > output.file
>  
> 
>   guido
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Sat Jan 30 16:36:31 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Sat, 30 Jan 1999 10:36:31 -0500 (EST)
Subject: [R] restoring damaged .RData?
Message-ID: <Pine.SGI.3.96.990130103527.29881A-100000@ln.nimh.nih.gov>

Hi, everyone.

One of my .RData files has been corrupted, and I have some things from the
last couple of days that hadn't been backed up yet that I would like to
recover rather than recreate if possible.

Is there any way to fix a damaged .RData file?

Thanks,
		Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sat Jan 30 21:03:37 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sun, 31 Jan 1999 09:03:37 +1300 (NZDT)
Subject: [R] restoring damaged .RData?
Message-ID: <199901302003.JAA14702@stat1.stat.auckland.ac.nz>

I'm afraid that your data is probably gone.  The problem is that R
objects are not stored contiguously in memory and hence on disk when
saved.  Thus what you have is (some of) a randomly shuffled version
of your data.

I'm interested in finding out how this happened.  Do you know if
the data was written out correctly and then corrupted, or did it get
messed up by R?  Was the filesystem near full when you saved the
data?

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Sat Jan 30 22:31:35 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Sat, 30 Jan 1999 16:31:35 -0500 (EST)
Subject: [R] problem with .Last
Message-ID: <Pine.SGI.3.96.990130162303.15295A-100000@ln.nimh.nih.gov>

Hi.

Having recently lost some data due to insufficient backing up (I know, I
know), I decided to put in some automatic backing up to compensate for my
laziness.  I would like to use the .Last function to dump a copy of all
the objects in my directory into a text file on the disk.  This may take a
little time, and take up some disk space, but that's OK.

.Last, however, appears not to actually be called when I quit.  That is,
if I run my .Last function:

> .Last
.Last <- function(){
  dump(ls(pos=1), "latest.dump")
}
> .Last()


I get the file out the way I want.  If I quit, I get nothing.  I've also
checked with a last function that just prints a string, with the same
results:  the function works when called from the command line, but now
when I quit.  The .First function, on the other hand, seems to work fine.

I'm running version 0.63.2 under Linux-PPC.  Have I done something wrong,
or does .Last not work yet?

Thanks,
		Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Sat Jan 30 22:59:26 1999
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Sat, 30 Jan 1999 19:59:26 -0200
Subject: [R] installing R under RH Linux 5.2
Message-ID: <36B380BD.71B543C@de.ufpe.br>


I am trying to install R under Red Hat Linux 5.2, but the
following error happens:

[root at edgeworth cribari]# rpm -ivh R-base-0.63.2-1.i386.rpm failed
dependencies:         libncurses.so.3.0 is needed by R-base-0.63.2-1

I must be missing something very simple. I would appreciate
any guidance. Thanks. FC.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jan 31 02:28:35 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jan 1999 02:28:35 +0100
Subject: [R] installing R under RH Linux 5.2
In-Reply-To: Francisco Cribari's message of Sat, 30 Jan 1999 19:59:26 -0200
References: <36B380BD.71B543C@de.ufpe.br>
Message-ID: <x24sp8ut6k.fsf@blueberry.kubism.ku.dk>

Francisco Cribari <cribari at de.ufpe.br> writes:

> I am trying to install R under Red Hat Linux 5.2, but the
> following error happens:
> 
> [root at edgeworth cribari]# rpm -ivh R-base-0.63.2-1.i386.rpm failed
> dependencies:         libncurses.so.3.0 is needed by R-base-0.63.2-1
> 
> I must be missing something very simple. I would appreciate
> any guidance. Thanks. FC.

Hmm. Dunno about 5.2, but 5.1 appears to have
/usr/lib/libncurses.so.3.0 in ncurses3-1.9.9e-5.i386.rpm
which is probably what you need to install. I have that one *and*
ncurses-4.2-6.i386.rpm and ncurses-devel-4.2-6.i386.rpm on this machine. 

(I seem to recall some ugly story about people fighting over the
ncurses development, which led to some numbering weirdness and may
have some relation to this)

Actually, it's a bit strange, because R's built on my machine link
with libncurses.so.4, but perhaps Martyn is catering for older
systems?
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anovo at ysidro.econ.uiuc.edu  Sun Jan 31 04:11:38 1999
From: anovo at ysidro.econ.uiuc.edu (Alvaro A. Novo)
Date: Sat, 30 Jan 1999 21:11:38 -0600 (CST)
Subject: [R] installing R under RH Linux 5.2
In-Reply-To: <36B380BD.71B543C@de.ufpe.br>
Message-ID: <Pine.SOL.3.96.990130211049.28087A-100000@ysidro>

On Sat, 30 Jan 1999, Francisco Cribari wrote:

> 
> I am trying to install R under Red Hat Linux 5.2, but the
> following error happens:
> 
> [root at edgeworth cribari]# rpm -ivh R-base-0.63.2-1.i386.rpm failed
> dependencies:         libncurses.so.3.0 is needed by R-base-0.63.2-1
> 
> I must be missing something very simple. I would appreciate
> any guidance. Thanks. FC.

You need to install the library ncurses3, I believe. RH5.1 included an RPM
w/ it.

Alvaro
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

	--	--	--	--	--	--	--	--	
			      Alvaro A. Novo
		         2116 S. Orchard St., #304
	     		     Urbana, IL 61801

			      novo at uiuc.edu
			 anovo at ysidro.econ.uiuc.edu
	       http://www.students.uiuc.edu/~novo/Alvaro.htm
			       217-337-4893
	--	--	--	--	--	--	--	--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Jan 31 14:05:11 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 31 Jan 1999 14:05:11 +0100 (CET)
Subject: [R] bug in the ctest package: binom.test
In-Reply-To: <x2r9sfdqbf.fsf@blueberry.kubism.ku.dk>
References: <199901281945.OAA23040@t3.mscf.uky.edu>
	<x2r9sfdqbf.fsf@blueberry.kubism.ku.dk>
Message-ID: <14004.21767.953410.641090@aragorn.ci.tuwien.ac.at>

>>>>> Peter Dalgaard BSA writes:

> Mai Zhou <mai at ms.uky.edu> writes:
>> R 0630 for windows
>> 
>> > library(ctest)
>> > binom.test(7,10,p=0.3, alternative="two.sided")
>> 
>> returns a p-value of =< 2.2e-016 and a warning
>> 
>> In Splus 3.4 
>> 
>> > binom.test(7,10,p=0.3, alternative="two.sided")
>> 
>> returns a p-value of 0.0106
>> 
>> 
>> I think it is the 
>> 
>> max(v[v<=(1+eps)*PVAL])       causing the problem...
>> 
>> max() of an empty vector.......
>> 

> Exactly. And conspiring with the lack of a sanity check in format.pval
> causing it to print -Inf as < 2.2e-016...

> The fix is as simple as max(0,v[v<=(1+eps)*PVAL])
>                             ^^

I noticed this problem last week.  However, my fix is different, because
binom.test() now computes p-values using the ``sum of probs of all y not
more likely (``more extreme'') than the observed x'' principle (which is
also what fisher.test() now does consistently).

An updated version of ctest will shortly be uploaded to CRAN.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sun Jan 31 17:43:34 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Sun, 31 Jan 1999 10:43:34 -0600 (CST)
Subject: [R] installing R under RH Linux 5.2
In-Reply-To: <x24sp8ut6k.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.990131104333.s-luppescu@uchicago.edu>


On 31-Jan-99 Peter Dalgaard BSA wrote:
> Francisco Cribari <cribari at de.ufpe.br> writes:
> 
>> I am trying to install R under Red Hat Linux 5.2, but the
>> following error happens:
>> 
>> [root at edgeworth cribari]# rpm -ivh R-base-0.63.2-1.i386.rpm failed
>> dependencies:         libncurses.so.3.0 is needed by R-base-0.63.2-1
>> 
>> I must be missing something very simple. I would appreciate
>> any guidance. Thanks. FC.
> 
> Hmm. Dunno about 5.2, but 5.1 appears to have
> /usr/lib/libncurses.so.3.0 in ncurses3-1.9.9e-5.i386.rpm
> which is probably what you need to install. I have that one *and*
> ncurses-4.2-6.i386.rpm and ncurses-devel-4.2-6.i386.rpm on this machine. 
> 
> (I seem to recall some ugly story about people fighting over the
> ncurses development, which led to some numbering weirdness and may
> have some relation to this)
> 
> Actually, it's a bit strange, because R's built on my machine link
> with libncurses.so.4, but perhaps Martyn is catering for older
> systems?

My RedHat 5.2 system has the following curses packages installed:
ncurses3-1.9.9e-7
ncurses-4.2-10
ncurses-devel-4.2-10

ncurses version 4 is the old BSD-style curses package, which is being phased out
in favor of the new curses (version 3-1.9), which uses a different numbering
scheme. It's a pretty standard part of the distribution. I didn't know you
could get away with not installing it.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
 (EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
       ICQ #21172047  AIM: psycho7070
         EARTH          
     smog  |   bricks  
 AIR  --  mud  --  FIRE
soda water |   tequila 
         WATER        
>> Sent on 31-Jan-99 at 10:39:04 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwehner2 at gsb.uchicago.edu  Fri Jan  1 07:49:54 1999
From: jwehner2 at gsb.uchicago.edu (Jason K. Wehner)
Date: Fri, 1 Jan 1999 00:49:54 -0600
Subject: [R] Problems running 'R' on Windows-2000
Message-ID: <JAEPKPCEJMAEGDHFHCEKAEHPCGAA.jwehner2@gsb.uchicago.edu>

Do you know of common problems running 'R' on Windows-2000 Pro?  For some
reason, the program crashes every time I try to start 'R'


_____________________________________________________________
Jason K. Wehner
University of Chicago Graduate School of Business
jwehner2 at gsb.uchicago.edu
home: 312-938-0528
cell: 773-218-6244


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


